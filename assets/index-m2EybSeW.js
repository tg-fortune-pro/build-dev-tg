var KH=Object.defineProperty;var ZH=(e,t,i)=>t in e?KH(e,t,{enumerable:!0,configurable:!0,writable:!0,value:i}):e[t]=i;var Gt=(e,t,i)=>ZH(e,typeof t!="symbol"?t+"":t,i);(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const p of document.querySelectorAll('link[rel="modulepreload"]'))s(p);new MutationObserver(p=>{for(const E of p)if(E.type==="childList")for(const n of E.addedNodes)n.tagName==="LINK"&&n.rel==="modulepreload"&&s(n)}).observe(document,{childList:!0,subtree:!0});function i(p){const E={};return p.integrity&&(E.integrity=p.integrity),p.referrerPolicy&&(E.referrerPolicy=p.referrerPolicy),p.crossOrigin==="use-credentials"?E.credentials="include":p.crossOrigin==="anonymous"?E.credentials="omit":E.credentials="same-origin",E}function s(p){if(p.ep)return;p.ep=!0;const E=i(p);fetch(p.href,E)}})();const JH="modulepreload",jH=function(e,t){return new URL(e,t).href},BD={},QH=function(t,i,s){let p=Promise.resolve();if(i&&i.length>0){const n=document.getElementsByTagName("link"),T=document.querySelector("meta[property=csp-nonce]"),r=(T==null?void 0:T.nonce)||(T==null?void 0:T.getAttribute("nonce"));p=Promise.allSettled(i.map(o=>{if(o=jH(o,s),o in BD)return;BD[o]=!0;const x=o.endsWith(".css"),d=x?'[rel="stylesheet"]':"";if(!!s)for(let a=n.length-1;a>=0;a--){const f=n[a];if(f.href===o&&(!x||f.rel==="stylesheet"))return}else if(document.querySelector(`link[href="${o}"]${d}`))return;const l=document.createElement("link");if(l.rel=x?"stylesheet":JH,x||(l.as="script"),l.crossOrigin="",l.href=o,r&&l.setAttribute("nonce",r),document.head.appendChild(l),x)return new Promise((a,f)=>{l.addEventListener("load",a),l.addEventListener("error",()=>f(new Error(`Unable to preload CSS for ${o}`)))})}))}function E(n){const T=new Event("vite:preloadError",{cancelable:!0});if(T.payload=n,window.dispatchEvent(T),!T.defaultPrevented)throw n}return p.then(n=>{for(const T of n||[])T.status==="rejected"&&E(T.reason);return t().catch(E)})};var qH=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function oM(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var w4={exports:{}},Rb={},R4={exports:{}},Qy={exports:{}};Qy.exports;(function(e,t){/**
 * @license React
 * react.development.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(){typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"&&typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.registerInternalModuleStart=="function"&&__REACT_DEVTOOLS_GLOBAL_HOOK__.registerInternalModuleStart(new Error);var i="18.3.1",s=Symbol.for("react.element"),p=Symbol.for("react.portal"),E=Symbol.for("react.fragment"),n=Symbol.for("react.strict_mode"),T=Symbol.for("react.profiler"),r=Symbol.for("react.provider"),o=Symbol.for("react.context"),x=Symbol.for("react.forward_ref"),d=Symbol.for("react.suspense"),h=Symbol.for("react.suspense_list"),l=Symbol.for("react.memo"),a=Symbol.for("react.lazy"),f=Symbol.for("react.offscreen"),c=Symbol.iterator,u="@@iterator";function v(it){if(it===null||typeof it!="object")return null;var ht=c&&it[c]||it[u];return typeof ht=="function"?ht:null}var g={current:null},m={transition:null},y={current:null,isBatchingLegacy:!1,didScheduleLegacyUpdate:!1},C={current:null},b={},M=null;function w(it){M=it}b.setExtraStackFrame=function(it){M=it},b.getCurrentStack=null,b.getStackAddendum=function(){var it="";M&&(it+=M);var ht=b.getCurrentStack;return ht&&(it+=ht()||""),it};var R=!1,A=!1,L=!1,F=!1,G=!1,I={ReactCurrentDispatcher:g,ReactCurrentBatchConfig:m,ReactCurrentOwner:C};I.ReactDebugCurrentFrame=b,I.ReactCurrentActQueue=y;function B(it){{for(var ht=arguments.length,Et=new Array(ht>1?ht-1:0),Rt=1;Rt<ht;Rt++)Et[Rt-1]=arguments[Rt];U("warn",it,Et)}}function k(it){{for(var ht=arguments.length,Et=new Array(ht>1?ht-1:0),Rt=1;Rt<ht;Rt++)Et[Rt-1]=arguments[Rt];U("error",it,Et)}}function U(it,ht,Et){{var Rt=I.ReactDebugCurrentFrame,Yt=Rt.getStackAddendum();Yt!==""&&(ht+="%s",Et=Et.concat([Yt]));var Oe=Et.map(function(ge){return String(ge)});Oe.unshift("Warning: "+ht),Function.prototype.apply.call(console[it],console,Oe)}}var H={};function X(it,ht){{var Et=it.constructor,Rt=Et&&(Et.displayName||Et.name)||"ReactClass",Yt=Rt+"."+ht;if(H[Yt])return;k("Can't call %s on a component that is not yet mounted. This is a no-op, but it might indicate a bug in your application. Instead, assign to `this.state` directly or define a `state = {};` class property with the desired state in the %s component.",ht,Rt),H[Yt]=!0}}var j={isMounted:function(it){return!1},enqueueForceUpdate:function(it,ht,Et){X(it,"forceUpdate")},enqueueReplaceState:function(it,ht,Et,Rt){X(it,"replaceState")},enqueueSetState:function(it,ht,Et,Rt){X(it,"setState")}},J=Object.assign,Y={};Object.freeze(Y);function $(it,ht,Et){this.props=it,this.context=ht,this.refs=Y,this.updater=Et||j}$.prototype.isReactComponent={},$.prototype.setState=function(it,ht){if(typeof it!="object"&&typeof it!="function"&&it!=null)throw new Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,it,ht,"setState")},$.prototype.forceUpdate=function(it){this.updater.enqueueForceUpdate(this,it,"forceUpdate")};{var z={isMounted:["isMounted","Instead, make sure to clean up subscriptions and pending requests in componentWillUnmount to prevent memory leaks."],replaceState:["replaceState","Refactor your code to use setState instead (see https://github.com/facebook/react/issues/3236)."]},V=function(it,ht){Object.defineProperty($.prototype,it,{get:function(){B("%s(...) is deprecated in plain JavaScript React classes. %s",ht[0],ht[1])}})};for(var K in z)z.hasOwnProperty(K)&&V(K,z[K])}function Q(){}Q.prototype=$.prototype;function _(it,ht,Et){this.props=it,this.context=ht,this.refs=Y,this.updater=Et||j}var tt=_.prototype=new Q;tt.constructor=_,J(tt,$.prototype),tt.isPureReactComponent=!0;function rt(){var it={current:null};return Object.seal(it),it}var ot=Array.isArray;function ft(it){return ot(it)}function ct(it){{var ht=typeof Symbol=="function"&&Symbol.toStringTag,Et=ht&&it[Symbol.toStringTag]||it.constructor.name||"Object";return Et}}function gt(it){try{return xt(it),!1}catch{return!0}}function xt(it){return""+it}function Mt(it){if(gt(it))return k("The provided key is an unsupported type %s. This value must be coerced to a string before before using it here.",ct(it)),xt(it)}function Tt(it,ht,Et){var Rt=it.displayName;if(Rt)return Rt;var Yt=ht.displayName||ht.name||"";return Yt!==""?Et+"("+Yt+")":Et}function Ht(it){return it.displayName||"Context"}function Xt(it){if(it==null)return null;if(typeof it.tag=="number"&&k("Received an unexpected object in getComponentNameFromType(). This is likely a bug in React. Please file an issue."),typeof it=="function")return it.displayName||it.name||null;if(typeof it=="string")return it;switch(it){case E:return"Fragment";case p:return"Portal";case T:return"Profiler";case n:return"StrictMode";case d:return"Suspense";case h:return"SuspenseList"}if(typeof it=="object")switch(it.$$typeof){case o:var ht=it;return Ht(ht)+".Consumer";case r:var Et=it;return Ht(Et._context)+".Provider";case x:return Tt(it,it.render,"ForwardRef");case l:var Rt=it.displayName||null;return Rt!==null?Rt:Xt(it.type)||"Memo";case a:{var Yt=it,Oe=Yt._payload,ge=Yt._init;try{return Xt(ge(Oe))}catch{return null}}}return null}var Kt=Object.prototype.hasOwnProperty,bt={key:!0,ref:!0,__self:!0,__source:!0},Ut,Vt,ee;ee={};function Ee(it){if(Kt.call(it,"ref")){var ht=Object.getOwnPropertyDescriptor(it,"ref").get;if(ht&&ht.isReactWarning)return!1}return it.ref!==void 0}function Me(it){if(Kt.call(it,"key")){var ht=Object.getOwnPropertyDescriptor(it,"key").get;if(ht&&ht.isReactWarning)return!1}return it.key!==void 0}function ve(it,ht){var Et=function(){Ut||(Ut=!0,k("%s: `key` is not a prop. Trying to access it will result in `undefined` being returned. If you need to access the same value within the child component, you should pass it as a different prop. (https://reactjs.org/link/special-props)",ht))};Et.isReactWarning=!0,Object.defineProperty(it,"key",{get:Et,configurable:!0})}function Fe(it,ht){var Et=function(){Vt||(Vt=!0,k("%s: `ref` is not a prop. Trying to access it will result in `undefined` being returned. If you need to access the same value within the child component, you should pass it as a different prop. (https://reactjs.org/link/special-props)",ht))};Et.isReactWarning=!0,Object.defineProperty(it,"ref",{get:Et,configurable:!0})}function ai(it){if(typeof it.ref=="string"&&C.current&&it.__self&&C.current.stateNode!==it.__self){var ht=Xt(C.current.type);ee[ht]||(k('Component "%s" contains the string ref "%s". Support for string refs will be removed in a future major release. This case cannot be automatically converted to an arrow function. We ask you to manually fix this case by using useRef() or createRef() instead. Learn more about using refs safely here: https://reactjs.org/link/strict-mode-string-ref',ht,it.ref),ee[ht]=!0)}}var kt=function(it,ht,Et,Rt,Yt,Oe,ge){var Be={$$typeof:s,type:it,key:ht,ref:Et,props:ge,_owner:Oe};return Be._store={},Object.defineProperty(Be._store,"validated",{configurable:!1,enumerable:!1,writable:!0,value:!1}),Object.defineProperty(Be,"_self",{configurable:!1,enumerable:!1,writable:!1,value:Rt}),Object.defineProperty(Be,"_source",{configurable:!1,enumerable:!1,writable:!1,value:Yt}),Object.freeze&&(Object.freeze(Be.props),Object.freeze(Be)),Be};function Wt(it,ht,Et){var Rt,Yt={},Oe=null,ge=null,Be=null,ii=null;if(ht!=null){Ee(ht)&&(ge=ht.ref,ai(ht)),Me(ht)&&(Mt(ht.key),Oe=""+ht.key),Be=ht.__self===void 0?null:ht.__self,ii=ht.__source===void 0?null:ht.__source;for(Rt in ht)Kt.call(ht,Rt)&&!bt.hasOwnProperty(Rt)&&(Yt[Rt]=ht[Rt])}var Ei=arguments.length-2;if(Ei===1)Yt.children=Et;else if(Ei>1){for(var Ii=Array(Ei),Bi=0;Bi<Ei;Bi++)Ii[Bi]=arguments[Bi+2];Object.freeze&&Object.freeze(Ii),Yt.children=Ii}if(it&&it.defaultProps){var $i=it.defaultProps;for(Rt in $i)Yt[Rt]===void 0&&(Yt[Rt]=$i[Rt])}if(Oe||ge){var er=typeof it=="function"?it.displayName||it.name||"Unknown":it;Oe&&ve(Yt,er),ge&&Fe(Yt,er)}return kt(it,Oe,ge,Be,ii,C.current,Yt)}function fe(it,ht){var Et=kt(it.type,ht,it.ref,it._self,it._source,it._owner,it.props);return Et}function xe(it,ht,Et){if(it==null)throw new Error("React.cloneElement(...): The argument must be a React element, but you passed "+it+".");var Rt,Yt=J({},it.props),Oe=it.key,ge=it.ref,Be=it._self,ii=it._source,Ei=it._owner;if(ht!=null){Ee(ht)&&(ge=ht.ref,Ei=C.current),Me(ht)&&(Mt(ht.key),Oe=""+ht.key);var Ii;it.type&&it.type.defaultProps&&(Ii=it.type.defaultProps);for(Rt in ht)Kt.call(ht,Rt)&&!bt.hasOwnProperty(Rt)&&(ht[Rt]===void 0&&Ii!==void 0?Yt[Rt]=Ii[Rt]:Yt[Rt]=ht[Rt])}var Bi=arguments.length-2;if(Bi===1)Yt.children=Et;else if(Bi>1){for(var $i=Array(Bi),er=0;er<Bi;er++)$i[er]=arguments[er+2];Yt.children=$i}return kt(it.type,Oe,ge,Be,ii,Ei,Yt)}function Ie(it){return typeof it=="object"&&it!==null&&it.$$typeof===s}var Ri=".",Ci=":";function Xi(it){var ht=/[=:]/g,Et={"=":"=0",":":"=2"},Rt=it.replace(ht,function(Yt){return Et[Yt]});return"$"+Rt}var ti=!1,Hi=/\/+/g;function Oi(it){return it.replace(Hi,"$&/")}function Fi(it,ht){return typeof it=="object"&&it!==null&&it.key!=null?(Mt(it.key),Xi(""+it.key)):ht.toString(36)}function ns(it,ht,Et,Rt,Yt){var Oe=typeof it;(Oe==="undefined"||Oe==="boolean")&&(it=null);var ge=!1;if(it===null)ge=!0;else switch(Oe){case"string":case"number":ge=!0;break;case"object":switch(it.$$typeof){case s:case p:ge=!0}}if(ge){var Be=it,ii=Yt(Be),Ei=Rt===""?Ri+Fi(Be,0):Rt;if(ft(ii)){var Ii="";Ei!=null&&(Ii=Oi(Ei)+"/"),ns(ii,ht,Ii,"",function(LT){return LT})}else ii!=null&&(Ie(ii)&&(ii.key&&(!Be||Be.key!==ii.key)&&Mt(ii.key),ii=fe(ii,Et+(ii.key&&(!Be||Be.key!==ii.key)?Oi(""+ii.key)+"/":"")+Ei)),ht.push(ii));return 1}var Bi,$i,er=0,vi=Rt===""?Ri:Rt+Ci;if(ft(it))for(var Rl=0;Rl<it.length;Rl++)Bi=it[Rl],$i=vi+Fi(Bi,Rl),er+=ns(Bi,ht,Et,$i,Yt);else{var sf=v(it);if(typeof sf=="function"){var oc=it;sf===oc.entries&&(ti||B("Using Maps as children is not supported. Use an array of keyed ReactElements instead."),ti=!0);for(var OT=sf.call(oc),Bo,lc=0;!(Bo=OT.next()).done;)Bi=Bo.value,$i=vi+Fi(Bi,lc++),er+=ns(Bi,ht,Et,$i,Yt)}else if(Oe==="object"){var hc=String(it);throw new Error("Objects are not valid as a React child (found: "+(hc==="[object Object]"?"object with keys {"+Object.keys(it).join(", ")+"}":hc)+"). If you meant to render a collection of children, use an array instead.")}}return er}function Ln(it,ht,Et){if(it==null)return it;var Rt=[],Yt=0;return ns(it,Rt,"","",function(Oe){return ht.call(Et,Oe,Yt++)}),Rt}function ss(it){var ht=0;return Ln(it,function(){ht++}),ht}function Bs(it,ht,Et){Ln(it,function(){ht.apply(this,arguments)},Et)}function Fh(it){return Ln(it,function(ht){return ht})||[]}function $a(it){if(!Ie(it))throw new Error("React.Children.only expected to receive a single React element child.");return it}function oa(it){var ht={$$typeof:o,_currentValue:it,_currentValue2:it,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null};ht.Provider={$$typeof:r,_context:ht};var Et=!1,Rt=!1,Yt=!1;{var Oe={$$typeof:o,_context:ht};Object.defineProperties(Oe,{Provider:{get:function(){return Rt||(Rt=!0,k("Rendering <Context.Consumer.Provider> is not supported and will be removed in a future major release. Did you mean to render <Context.Provider> instead?")),ht.Provider},set:function(ge){ht.Provider=ge}},_currentValue:{get:function(){return ht._currentValue},set:function(ge){ht._currentValue=ge}},_currentValue2:{get:function(){return ht._currentValue2},set:function(ge){ht._currentValue2=ge}},_threadCount:{get:function(){return ht._threadCount},set:function(ge){ht._threadCount=ge}},Consumer:{get:function(){return Et||(Et=!0,k("Rendering <Context.Consumer.Consumer> is not supported and will be removed in a future major release. Did you mean to render <Context.Consumer> instead?")),ht.Consumer}},displayName:{get:function(){return ht.displayName},set:function(ge){Yt||(B("Setting `displayName` on Context.Consumer has no effect. You should set it directly on the context with Context.displayName = '%s'.",ge),Yt=!0)}}}),ht.Consumer=Oe}return ht._currentRenderer=null,ht._currentRenderer2=null,ht}var mn=-1,Ka=0,la=1,we=2;function as(it){if(it._status===mn){var ht=it._result,Et=ht();if(Et.then(function(Oe){if(it._status===Ka||it._status===mn){var ge=it;ge._status=la,ge._result=Oe}},function(Oe){if(it._status===Ka||it._status===mn){var ge=it;ge._status=we,ge._result=Oe}}),it._status===mn){var Rt=it;Rt._status=Ka,Rt._result=Et}}if(it._status===la){var Yt=it._result;return Yt===void 0&&k(`lazy: Expected the result of a dynamic import() call. Instead received: %s

Your code should look like: 
  const MyComponent = lazy(() => import('./MyComponent'))

Did you accidentally put curly braces around the import?`,Yt),"default"in Yt||k(`lazy: Expected the result of a dynamic import() call. Instead received: %s

Your code should look like: 
  const MyComponent = lazy(() => import('./MyComponent'))`,Yt),Yt.default}else throw it._result}function ut(it){var ht={_status:mn,_result:it},Et={$$typeof:a,_payload:ht,_init:as};{var Rt,Yt;Object.defineProperties(Et,{defaultProps:{configurable:!0,get:function(){return Rt},set:function(Oe){k("React.lazy(...): It is not supported to assign `defaultProps` to a lazy component import. Either specify them where the component is defined, or create a wrapping component around it."),Rt=Oe,Object.defineProperty(Et,"defaultProps",{enumerable:!0})}},propTypes:{configurable:!0,get:function(){return Yt},set:function(Oe){k("React.lazy(...): It is not supported to assign `propTypes` to a lazy component import. Either specify them where the component is defined, or create a wrapping component around it."),Yt=Oe,Object.defineProperty(Et,"propTypes",{enumerable:!0})}}})}return Et}function Bt(it){it!=null&&it.$$typeof===l?k("forwardRef requires a render function but received a `memo` component. Instead of forwardRef(memo(...)), use memo(forwardRef(...))."):typeof it!="function"?k("forwardRef requires a render function but was given %s.",it===null?"null":typeof it):it.length!==0&&it.length!==2&&k("forwardRef render functions accept exactly two parameters: props and ref. %s",it.length===1?"Did you forget to use the ref parameter?":"Any additional parameter will be undefined."),it!=null&&(it.defaultProps!=null||it.propTypes!=null)&&k("forwardRef render functions do not support propTypes or defaultProps. Did you accidentally pass a React component?");var ht={$$typeof:x,render:it};{var Et;Object.defineProperty(ht,"displayName",{enumerable:!1,configurable:!0,get:function(){return Et},set:function(Rt){Et=Rt,!it.name&&!it.displayName&&(it.displayName=Rt)}})}return ht}var Zt;Zt=Symbol.for("react.module.reference");function de(it){return!!(typeof it=="string"||typeof it=="function"||it===E||it===T||G||it===n||it===d||it===h||F||it===f||R||A||L||typeof it=="object"&&it!==null&&(it.$$typeof===a||it.$$typeof===l||it.$$typeof===r||it.$$typeof===o||it.$$typeof===x||it.$$typeof===Zt||it.getModuleId!==void 0))}function _e(it,ht){de(it)||k("memo: The first argument must be a component. Instead received: %s",it===null?"null":typeof it);var Et={$$typeof:l,type:it,compare:ht===void 0?null:ht};{var Rt;Object.defineProperty(Et,"displayName",{enumerable:!1,configurable:!0,get:function(){return Rt},set:function(Yt){Rt=Yt,!it.name&&!it.displayName&&(it.displayName=Yt)}})}return Et}function Re(){var it=g.current;return it===null&&k(`Invalid hook call. Hooks can only be called inside of the body of a function component. This could happen for one of the following reasons:
1. You might have mismatching versions of React and the renderer (such as React DOM)
2. You might be breaking the Rules of Hooks
3. You might have more than one copy of React in the same app
See https://reactjs.org/link/invalid-hook-call for tips about how to debug and fix this problem.`),it}function Xe(it){var ht=Re();if(it._context!==void 0){var Et=it._context;Et.Consumer===it?k("Calling useContext(Context.Consumer) is not supported, may cause bugs, and will be removed in a future major release. Did you mean to call useContext(Context) instead?"):Et.Provider===it&&k("Calling useContext(Context.Provider) is not supported. Did you mean to call useContext(Context) instead?")}return ht.useContext(it)}function Ve(it){var ht=Re();return ht.useState(it)}function Ni(it,ht,Et){var Rt=Re();return Rt.useReducer(it,ht,Et)}function Qe(it){var ht=Re();return ht.useRef(it)}function Ui(it,ht){var Et=Re();return Et.useEffect(it,ht)}function Mr(it,ht){var Et=Re();return Et.useInsertionEffect(it,ht)}function os(it,ht){var Et=Re();return Et.useLayoutEffect(it,ht)}function ls(it,ht){var Et=Re();return Et.useCallback(it,ht)}function gr(it,ht){var Et=Re();return Et.useMemo(it,ht)}function Oo(it,ht,Et){var Rt=Re();return Rt.useImperativeHandle(it,ht,Et)}function Pl(it,ht){{var Et=Re();return Et.useDebugValue(it,ht)}}function Ih(){var it=Re();return it.useTransition()}function ha(it){var ht=Re();return ht.useDeferredValue(it)}function He(){var it=Re();return it.useId()}function Lo(it,ht,Et){var Rt=Re();return Rt.useSyncExternalStore(it,ht,Et)}var zr=0,bl,hs,Bh,Gh,kh,ua,Nh;function ef(){}ef.__reactDisabledLog=!0;function Do(){{if(zr===0){bl=console.log,hs=console.info,Bh=console.warn,Gh=console.error,kh=console.group,ua=console.groupCollapsed,Nh=console.groupEnd;var it={configurable:!0,enumerable:!0,value:ef,writable:!0};Object.defineProperties(console,{info:it,log:it,warn:it,error:it,group:it,groupCollapsed:it,groupEnd:it})}zr++}}function Uh(){{if(zr--,zr===0){var it={configurable:!0,enumerable:!0,writable:!0};Object.defineProperties(console,{log:J({},it,{value:bl}),info:J({},it,{value:hs}),warn:J({},it,{value:Bh}),error:J({},it,{value:Gh}),group:J({},it,{value:kh}),groupCollapsed:J({},it,{value:ua}),groupEnd:J({},it,{value:Nh})})}zr<0&&k("disabledDepth fell below zero. This is a bug in React. Please file an issue.")}}var us=I.ReactCurrentDispatcher,Yn;function Za(it,ht,Et){{if(Yn===void 0)try{throw Error()}catch(Yt){var Rt=Yt.stack.trim().match(/\n( *(at )?)/);Yn=Rt&&Rt[1]||""}return`
`+Yn+it}}var Gs=!1,st;{var lt=typeof WeakMap=="function"?WeakMap:Map;st=new lt}function dt(it,ht){if(!it||Gs)return"";{var Et=st.get(it);if(Et!==void 0)return Et}var Rt;Gs=!0;var Yt=Error.prepareStackTrace;Error.prepareStackTrace=void 0;var Oe;Oe=us.current,us.current=null,Do();try{if(ht){var ge=function(){throw Error()};if(Object.defineProperty(ge.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(ge,[])}catch(vi){Rt=vi}Reflect.construct(it,[],ge)}else{try{ge.call()}catch(vi){Rt=vi}it.call(ge.prototype)}}else{try{throw Error()}catch(vi){Rt=vi}it()}}catch(vi){if(vi&&Rt&&typeof vi.stack=="string"){for(var Be=vi.stack.split(`
`),ii=Rt.stack.split(`
`),Ei=Be.length-1,Ii=ii.length-1;Ei>=1&&Ii>=0&&Be[Ei]!==ii[Ii];)Ii--;for(;Ei>=1&&Ii>=0;Ei--,Ii--)if(Be[Ei]!==ii[Ii]){if(Ei!==1||Ii!==1)do if(Ei--,Ii--,Ii<0||Be[Ei]!==ii[Ii]){var Bi=`
`+Be[Ei].replace(" at new "," at ");return it.displayName&&Bi.includes("<anonymous>")&&(Bi=Bi.replace("<anonymous>",it.displayName)),typeof it=="function"&&st.set(it,Bi),Bi}while(Ei>=1&&Ii>=0);break}}}finally{Gs=!1,us.current=Oe,Uh(),Error.prepareStackTrace=Yt}var $i=it?it.displayName||it.name:"",er=$i?Za($i):"";return typeof it=="function"&&st.set(it,er),er}function St(it,ht,Et){return dt(it,!1)}function wt(it){var ht=it.prototype;return!!(ht&&ht.isReactComponent)}function $t(it,ht,Et){if(it==null)return"";if(typeof it=="function")return dt(it,wt(it));if(typeof it=="string")return Za(it);switch(it){case d:return Za("Suspense");case h:return Za("SuspenseList")}if(typeof it=="object")switch(it.$$typeof){case x:return St(it.render);case l:return $t(it.type,ht,Et);case a:{var Rt=it,Yt=Rt._payload,Oe=Rt._init;try{return $t(Oe(Yt),ht,Et)}catch{}}}return""}var he={},se=I.ReactDebugCurrentFrame;function Ze(it){if(it){var ht=it._owner,Et=$t(it.type,it._source,ht?ht.type:null);se.setExtraStackFrame(Et)}else se.setExtraStackFrame(null)}function pe(it,ht,Et,Rt,Yt){{var Oe=Function.call.bind(Kt);for(var ge in it)if(Oe(it,ge)){var Be=void 0;try{if(typeof it[ge]!="function"){var ii=Error((Rt||"React class")+": "+Et+" type `"+ge+"` is invalid; it must be a function, usually from the `prop-types` package, but received `"+typeof it[ge]+"`.This often happens because of typos such as `PropTypes.function` instead of `PropTypes.func`.");throw ii.name="Invariant Violation",ii}Be=it[ge](ht,ge,Rt,Et,null,"SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED")}catch(Ei){Be=Ei}Be&&!(Be instanceof Error)&&(Ze(Yt),k("%s: type specification of %s `%s` is invalid; the type checker function must return `null` or an `Error` but returned a %s. You may have forgotten to pass an argument to the type checker creator (arrayOf, instanceOf, objectOf, oneOf, oneOfType, and shape all require an argument).",Rt||"React class",Et,ge,typeof Be),Ze(null)),Be instanceof Error&&!(Be.message in he)&&(he[Be.message]=!0,Ze(Yt),k("Failed %s type: %s",Et,Be.message),Ze(null))}}}function ie(it){if(it){var ht=it._owner,Et=$t(it.type,it._source,ht?ht.type:null);w(Et)}else w(null)}var hi;hi=!1;function ze(){if(C.current){var it=Xt(C.current.type);if(it)return`

Check the render method of \``+it+"`."}return""}function Ft(it){if(it!==void 0){var ht=it.fileName.replace(/^.*[\\\/]/,""),Et=it.lineNumber;return`

Check your code at `+ht+":"+Et+"."}return""}function oe(it){return it!=null?Ft(it.__source):""}var ue={};function Li(it){var ht=ze();if(!ht){var Et=typeof it=="string"?it:it.displayName||it.name;Et&&(ht=`

Check the top-level render call using <`+Et+">.")}return ht}function le(it,ht){if(!(!it._store||it._store.validated||it.key!=null)){it._store.validated=!0;var Et=Li(ht);if(!ue[Et]){ue[Et]=!0;var Rt="";it&&it._owner&&it._owner!==C.current&&(Rt=" It was passed a child from "+Xt(it._owner.type)+"."),ie(it),k('Each child in a list should have a unique "key" prop.%s%s See https://reactjs.org/link/warning-keys for more information.',Et,Rt),ie(null)}}}function Vi(it,ht){if(typeof it=="object"){if(ft(it))for(var Et=0;Et<it.length;Et++){var Rt=it[Et];Ie(Rt)&&le(Rt,ht)}else if(Ie(it))it._store&&(it._store.validated=!0);else if(it){var Yt=v(it);if(typeof Yt=="function"&&Yt!==it.entries)for(var Oe=Yt.call(it),ge;!(ge=Oe.next()).done;)Ie(ge.value)&&le(ge.value,ht)}}}function Pe(it){{var ht=it.type;if(ht==null||typeof ht=="string")return;var Et;if(typeof ht=="function")Et=ht.propTypes;else if(typeof ht=="object"&&(ht.$$typeof===x||ht.$$typeof===l))Et=ht.propTypes;else return;if(Et){var Rt=Xt(ht);pe(Et,it.props,"prop",Rt,it)}else if(ht.PropTypes!==void 0&&!hi){hi=!0;var Yt=Xt(ht);k("Component %s declared `PropTypes` instead of `propTypes`. Did you misspell the property assignment?",Yt||"Unknown")}typeof ht.getDefaultProps=="function"&&!ht.getDefaultProps.isReactClassApproved&&k("getDefaultProps is only used on classic React.createClass definitions. Use a static property named `defaultProps` instead.")}}function $e(it){{for(var ht=Object.keys(it.props),Et=0;Et<ht.length;Et++){var Rt=ht[Et];if(Rt!=="children"&&Rt!=="key"){ie(it),k("Invalid prop `%s` supplied to `React.Fragment`. React.Fragment can only have `key` and `children` props.",Rt),ie(null);break}}it.ref!==null&&(ie(it),k("Invalid attribute `ref` supplied to `React.Fragment`."),ie(null))}}function fs(it,ht,Et){var Rt=de(it);if(!Rt){var Yt="";(it===void 0||typeof it=="object"&&it!==null&&Object.keys(it).length===0)&&(Yt+=" You likely forgot to export your component from the file it's defined in, or you might have mixed up default and named imports.");var Oe=oe(ht);Oe?Yt+=Oe:Yt+=ze();var ge;it===null?ge="null":ft(it)?ge="array":it!==void 0&&it.$$typeof===s?(ge="<"+(Xt(it.type)||"Unknown")+" />",Yt=" Did you accidentally export a JSX literal instead of a component?"):ge=typeof it,k("React.createElement: type is invalid -- expected a string (for built-in components) or a class/function (for composite components) but got: %s.%s",ge,Yt)}var Be=Wt.apply(this,arguments);if(Be==null)return Be;if(Rt)for(var ii=2;ii<arguments.length;ii++)Vi(arguments[ii],it);return it===E?$e(Be):Pe(Be),Be}var yn=!1;function en(it){var ht=fs.bind(null,it);return ht.type=it,yn||(yn=!0,B("React.createFactory() is deprecated and will be removed in a future major release. Consider using JSX or use React.createElement() directly instead.")),Object.defineProperty(ht,"type",{enumerable:!1,get:function(){return B("Factory.type is deprecated. Access the class directly before passing it to createFactory."),Object.defineProperty(this,"type",{value:it}),it}}),ht}function ks(it,ht,Et){for(var Rt=xe.apply(this,arguments),Yt=2;Yt<arguments.length;Yt++)Vi(arguments[Yt],Rt.type);return Pe(Rt),Rt}function Vh(it,ht){var Et=m.transition;m.transition={};var Rt=m.transition;m.transition._updatedFibers=new Set;try{it()}finally{if(m.transition=Et,Et===null&&Rt._updatedFibers){var Yt=Rt._updatedFibers.size;Yt>10&&B("Detected a large number of updates inside startTransition. If this is due to a subscription please re-write it to use React provided hooks. Otherwise concurrent mode guarantees are off the table."),Rt._updatedFibers.clear()}}}var Ml=!1,Fo=null;function Qt(it){if(Fo===null)try{var ht=("require"+Math.random()).slice(0,7),Et=e&&e[ht];Fo=Et.call(e,"timers").setImmediate}catch{Fo=function(Yt){Ml===!1&&(Ml=!0,typeof MessageChannel>"u"&&k("This browser does not have a MessageChannel implementation, so enqueuing tasks via await act(async () => ...) will fail. Please file an issue at https://github.com/facebook/react/issues if you encounter this warning."));var Oe=new MessageChannel;Oe.port1.onmessage=Yt,Oe.port2.postMessage(void 0)}}return Fo(it)}var Wr=0,fa=!1;function zh(it){{var ht=Wr;Wr++,y.current===null&&(y.current=[]);var Et=y.isBatchingLegacy,Rt;try{if(y.isBatchingLegacy=!0,Rt=it(),!Et&&y.didScheduleLegacyUpdate){var Yt=y.current;Yt!==null&&(y.didScheduleLegacyUpdate=!1,nf(Yt))}}catch($i){throw Io(ht),$i}finally{y.isBatchingLegacy=Et}if(Rt!==null&&typeof Rt=="object"&&typeof Rt.then=="function"){var Oe=Rt,ge=!1,Be={then:function($i,er){ge=!0,Oe.then(function(vi){Io(ht),Wr===0?rf(vi,$i,er):$i(vi)},function(vi){Io(ht),er(vi)})}};return!fa&&typeof Promise<"u"&&Promise.resolve().then(function(){}).then(function(){ge||(fa=!0,k("You called act(async () => ...) without await. This could lead to unexpected testing behaviour, interleaving multiple act calls and mixing their scopes. You should - await act(async () => ...);"))}),Be}else{var ii=Rt;if(Io(ht),Wr===0){var Ei=y.current;Ei!==null&&(nf(Ei),y.current=null);var Ii={then:function($i,er){y.current===null?(y.current=[],rf(ii,$i,er)):$i(ii)}};return Ii}else{var Bi={then:function($i,er){$i(ii)}};return Bi}}}}function Io(it){it!==Wr-1&&k("You seem to have overlapping act() calls, this is not supported. Be sure to await previous act() calls before making a new one. "),Wr=it}function rf(it,ht,Et){{var Rt=y.current;if(Rt!==null)try{nf(Rt),Qt(function(){Rt.length===0?(y.current=null,ht(it)):rf(it,ht,Et)})}catch(Yt){Et(Yt)}else ht(it)}}var wl=!1;function nf(it){if(!wl){wl=!0;var ht=0;try{for(;ht<it.length;ht++){var Et=it[ht];do Et=Et(!0);while(Et!==null)}it.length=0}catch(Rt){throw it=it.slice(ht+1),Rt}finally{wl=!1}}}var vg=fs,pg=ks,gg=en,mg={map:Ln,forEach:Bs,count:ss,toArray:Fh,only:$a};t.Children=mg,t.Component=$,t.Fragment=E,t.Profiler=T,t.PureComponent=_,t.StrictMode=n,t.Suspense=d,t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=I,t.act=zh,t.cloneElement=pg,t.createContext=oa,t.createElement=vg,t.createFactory=gg,t.createRef=rt,t.forwardRef=Bt,t.isValidElement=Ie,t.lazy=ut,t.memo=_e,t.startTransition=Vh,t.unstable_act=zh,t.useCallback=ls,t.useContext=Xe,t.useDebugValue=Pl,t.useDeferredValue=ha,t.useEffect=Ui,t.useId=He,t.useImperativeHandle=Oo,t.useInsertionEffect=Mr,t.useLayoutEffect=os,t.useMemo=gr,t.useReducer=Ni,t.useRef=Qe,t.useState=Ve,t.useSyncExternalStore=Lo,t.useTransition=Ih,t.version=i,typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"&&typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.registerInternalModuleStop=="function"&&__REACT_DEVTOOLS_GLOBAL_HOOK__.registerInternalModuleStop(new Error)})()})(Qy,Qy.exports);var _H=Qy.exports;R4.exports=_H;var Gd=R4.exports;const t$=oM(Gd);/**
 * @license React
 * react-jsx-dev-runtime.development.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(){var e=Gd,t=Symbol.for("react.element"),i=Symbol.for("react.portal"),s=Symbol.for("react.fragment"),p=Symbol.for("react.strict_mode"),E=Symbol.for("react.profiler"),n=Symbol.for("react.provider"),T=Symbol.for("react.context"),r=Symbol.for("react.forward_ref"),o=Symbol.for("react.suspense"),x=Symbol.for("react.suspense_list"),d=Symbol.for("react.memo"),h=Symbol.for("react.lazy"),l=Symbol.for("react.offscreen"),a=Symbol.iterator,f="@@iterator";function c(ut){if(ut===null||typeof ut!="object")return null;var Bt=a&&ut[a]||ut[f];return typeof Bt=="function"?Bt:null}var u=e.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED;function v(ut){{for(var Bt=arguments.length,Zt=new Array(Bt>1?Bt-1:0),de=1;de<Bt;de++)Zt[de-1]=arguments[de];g("error",ut,Zt)}}function g(ut,Bt,Zt){{var de=u.ReactDebugCurrentFrame,_e=de.getStackAddendum();_e!==""&&(Bt+="%s",Zt=Zt.concat([_e]));var Re=Zt.map(function(Xe){return String(Xe)});Re.unshift("Warning: "+Bt),Function.prototype.apply.call(console[ut],console,Re)}}var m=!1,y=!1,C=!1,b=!1,M=!1,w;w=Symbol.for("react.module.reference");function R(ut){return!!(typeof ut=="string"||typeof ut=="function"||ut===s||ut===E||M||ut===p||ut===o||ut===x||b||ut===l||m||y||C||typeof ut=="object"&&ut!==null&&(ut.$$typeof===h||ut.$$typeof===d||ut.$$typeof===n||ut.$$typeof===T||ut.$$typeof===r||ut.$$typeof===w||ut.getModuleId!==void 0))}function A(ut,Bt,Zt){var de=ut.displayName;if(de)return de;var _e=Bt.displayName||Bt.name||"";return _e!==""?Zt+"("+_e+")":Zt}function L(ut){return ut.displayName||"Context"}function F(ut){if(ut==null)return null;if(typeof ut.tag=="number"&&v("Received an unexpected object in getComponentNameFromType(). This is likely a bug in React. Please file an issue."),typeof ut=="function")return ut.displayName||ut.name||null;if(typeof ut=="string")return ut;switch(ut){case s:return"Fragment";case i:return"Portal";case E:return"Profiler";case p:return"StrictMode";case o:return"Suspense";case x:return"SuspenseList"}if(typeof ut=="object")switch(ut.$$typeof){case T:var Bt=ut;return L(Bt)+".Consumer";case n:var Zt=ut;return L(Zt._context)+".Provider";case r:return A(ut,ut.render,"ForwardRef");case d:var de=ut.displayName||null;return de!==null?de:F(ut.type)||"Memo";case h:{var _e=ut,Re=_e._payload,Xe=_e._init;try{return F(Xe(Re))}catch{return null}}}return null}var G=Object.assign,I=0,B,k,U,H,X,j,J;function Y(){}Y.__reactDisabledLog=!0;function $(){{if(I===0){B=console.log,k=console.info,U=console.warn,H=console.error,X=console.group,j=console.groupCollapsed,J=console.groupEnd;var ut={configurable:!0,enumerable:!0,value:Y,writable:!0};Object.defineProperties(console,{info:ut,log:ut,warn:ut,error:ut,group:ut,groupCollapsed:ut,groupEnd:ut})}I++}}function z(){{if(I--,I===0){var ut={configurable:!0,enumerable:!0,writable:!0};Object.defineProperties(console,{log:G({},ut,{value:B}),info:G({},ut,{value:k}),warn:G({},ut,{value:U}),error:G({},ut,{value:H}),group:G({},ut,{value:X}),groupCollapsed:G({},ut,{value:j}),groupEnd:G({},ut,{value:J})})}I<0&&v("disabledDepth fell below zero. This is a bug in React. Please file an issue.")}}var V=u.ReactCurrentDispatcher,K;function Q(ut,Bt,Zt){{if(K===void 0)try{throw Error()}catch(_e){var de=_e.stack.trim().match(/\n( *(at )?)/);K=de&&de[1]||""}return`
`+K+ut}}var _=!1,tt;{var rt=typeof WeakMap=="function"?WeakMap:Map;tt=new rt}function ot(ut,Bt){if(!ut||_)return"";{var Zt=tt.get(ut);if(Zt!==void 0)return Zt}var de;_=!0;var _e=Error.prepareStackTrace;Error.prepareStackTrace=void 0;var Re;Re=V.current,V.current=null,$();try{if(Bt){var Xe=function(){throw Error()};if(Object.defineProperty(Xe.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(Xe,[])}catch(gr){de=gr}Reflect.construct(ut,[],Xe)}else{try{Xe.call()}catch(gr){de=gr}ut.call(Xe.prototype)}}else{try{throw Error()}catch(gr){de=gr}ut()}}catch(gr){if(gr&&de&&typeof gr.stack=="string"){for(var Ve=gr.stack.split(`
`),Ni=de.stack.split(`
`),Qe=Ve.length-1,Ui=Ni.length-1;Qe>=1&&Ui>=0&&Ve[Qe]!==Ni[Ui];)Ui--;for(;Qe>=1&&Ui>=0;Qe--,Ui--)if(Ve[Qe]!==Ni[Ui]){if(Qe!==1||Ui!==1)do if(Qe--,Ui--,Ui<0||Ve[Qe]!==Ni[Ui]){var Mr=`
`+Ve[Qe].replace(" at new "," at ");return ut.displayName&&Mr.includes("<anonymous>")&&(Mr=Mr.replace("<anonymous>",ut.displayName)),typeof ut=="function"&&tt.set(ut,Mr),Mr}while(Qe>=1&&Ui>=0);break}}}finally{_=!1,V.current=Re,z(),Error.prepareStackTrace=_e}var os=ut?ut.displayName||ut.name:"",ls=os?Q(os):"";return typeof ut=="function"&&tt.set(ut,ls),ls}function ft(ut,Bt,Zt){return ot(ut,!1)}function ct(ut){var Bt=ut.prototype;return!!(Bt&&Bt.isReactComponent)}function gt(ut,Bt,Zt){if(ut==null)return"";if(typeof ut=="function")return ot(ut,ct(ut));if(typeof ut=="string")return Q(ut);switch(ut){case o:return Q("Suspense");case x:return Q("SuspenseList")}if(typeof ut=="object")switch(ut.$$typeof){case r:return ft(ut.render);case d:return gt(ut.type,Bt,Zt);case h:{var de=ut,_e=de._payload,Re=de._init;try{return gt(Re(_e),Bt,Zt)}catch{}}}return""}var xt=Object.prototype.hasOwnProperty,Mt={},Tt=u.ReactDebugCurrentFrame;function Ht(ut){if(ut){var Bt=ut._owner,Zt=gt(ut.type,ut._source,Bt?Bt.type:null);Tt.setExtraStackFrame(Zt)}else Tt.setExtraStackFrame(null)}function Xt(ut,Bt,Zt,de,_e){{var Re=Function.call.bind(xt);for(var Xe in ut)if(Re(ut,Xe)){var Ve=void 0;try{if(typeof ut[Xe]!="function"){var Ni=Error((de||"React class")+": "+Zt+" type `"+Xe+"` is invalid; it must be a function, usually from the `prop-types` package, but received `"+typeof ut[Xe]+"`.This often happens because of typos such as `PropTypes.function` instead of `PropTypes.func`.");throw Ni.name="Invariant Violation",Ni}Ve=ut[Xe](Bt,Xe,de,Zt,null,"SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED")}catch(Qe){Ve=Qe}Ve&&!(Ve instanceof Error)&&(Ht(_e),v("%s: type specification of %s `%s` is invalid; the type checker function must return `null` or an `Error` but returned a %s. You may have forgotten to pass an argument to the type checker creator (arrayOf, instanceOf, objectOf, oneOf, oneOfType, and shape all require an argument).",de||"React class",Zt,Xe,typeof Ve),Ht(null)),Ve instanceof Error&&!(Ve.message in Mt)&&(Mt[Ve.message]=!0,Ht(_e),v("Failed %s type: %s",Zt,Ve.message),Ht(null))}}}var Kt=Array.isArray;function bt(ut){return Kt(ut)}function Ut(ut){{var Bt=typeof Symbol=="function"&&Symbol.toStringTag,Zt=Bt&&ut[Symbol.toStringTag]||ut.constructor.name||"Object";return Zt}}function Vt(ut){try{return ee(ut),!1}catch{return!0}}function ee(ut){return""+ut}function Ee(ut){if(Vt(ut))return v("The provided key is an unsupported type %s. This value must be coerced to a string before before using it here.",Ut(ut)),ee(ut)}var Me=u.ReactCurrentOwner,ve={key:!0,ref:!0,__self:!0,__source:!0},Fe,ai,kt;kt={};function Wt(ut){if(xt.call(ut,"ref")){var Bt=Object.getOwnPropertyDescriptor(ut,"ref").get;if(Bt&&Bt.isReactWarning)return!1}return ut.ref!==void 0}function fe(ut){if(xt.call(ut,"key")){var Bt=Object.getOwnPropertyDescriptor(ut,"key").get;if(Bt&&Bt.isReactWarning)return!1}return ut.key!==void 0}function xe(ut,Bt){if(typeof ut.ref=="string"&&Me.current&&Bt&&Me.current.stateNode!==Bt){var Zt=F(Me.current.type);kt[Zt]||(v('Component "%s" contains the string ref "%s". Support for string refs will be removed in a future major release. This case cannot be automatically converted to an arrow function. We ask you to manually fix this case by using useRef() or createRef() instead. Learn more about using refs safely here: https://reactjs.org/link/strict-mode-string-ref',F(Me.current.type),ut.ref),kt[Zt]=!0)}}function Ie(ut,Bt){{var Zt=function(){Fe||(Fe=!0,v("%s: `key` is not a prop. Trying to access it will result in `undefined` being returned. If you need to access the same value within the child component, you should pass it as a different prop. (https://reactjs.org/link/special-props)",Bt))};Zt.isReactWarning=!0,Object.defineProperty(ut,"key",{get:Zt,configurable:!0})}}function Ri(ut,Bt){{var Zt=function(){ai||(ai=!0,v("%s: `ref` is not a prop. Trying to access it will result in `undefined` being returned. If you need to access the same value within the child component, you should pass it as a different prop. (https://reactjs.org/link/special-props)",Bt))};Zt.isReactWarning=!0,Object.defineProperty(ut,"ref",{get:Zt,configurable:!0})}}var Ci=function(ut,Bt,Zt,de,_e,Re,Xe){var Ve={$$typeof:t,type:ut,key:Bt,ref:Zt,props:Xe,_owner:Re};return Ve._store={},Object.defineProperty(Ve._store,"validated",{configurable:!1,enumerable:!1,writable:!0,value:!1}),Object.defineProperty(Ve,"_self",{configurable:!1,enumerable:!1,writable:!1,value:de}),Object.defineProperty(Ve,"_source",{configurable:!1,enumerable:!1,writable:!1,value:_e}),Object.freeze&&(Object.freeze(Ve.props),Object.freeze(Ve)),Ve};function Xi(ut,Bt,Zt,de,_e){{var Re,Xe={},Ve=null,Ni=null;Zt!==void 0&&(Ee(Zt),Ve=""+Zt),fe(Bt)&&(Ee(Bt.key),Ve=""+Bt.key),Wt(Bt)&&(Ni=Bt.ref,xe(Bt,_e));for(Re in Bt)xt.call(Bt,Re)&&!ve.hasOwnProperty(Re)&&(Xe[Re]=Bt[Re]);if(ut&&ut.defaultProps){var Qe=ut.defaultProps;for(Re in Qe)Xe[Re]===void 0&&(Xe[Re]=Qe[Re])}if(Ve||Ni){var Ui=typeof ut=="function"?ut.displayName||ut.name||"Unknown":ut;Ve&&Ie(Xe,Ui),Ni&&Ri(Xe,Ui)}return Ci(ut,Ve,Ni,_e,de,Me.current,Xe)}}var ti=u.ReactCurrentOwner,Hi=u.ReactDebugCurrentFrame;function Oi(ut){if(ut){var Bt=ut._owner,Zt=gt(ut.type,ut._source,Bt?Bt.type:null);Hi.setExtraStackFrame(Zt)}else Hi.setExtraStackFrame(null)}var Fi;Fi=!1;function ns(ut){return typeof ut=="object"&&ut!==null&&ut.$$typeof===t}function Ln(){{if(ti.current){var ut=F(ti.current.type);if(ut)return`

Check the render method of \``+ut+"`."}return""}}function ss(ut){{if(ut!==void 0){var Bt=ut.fileName.replace(/^.*[\\\/]/,""),Zt=ut.lineNumber;return`

Check your code at `+Bt+":"+Zt+"."}return""}}var Bs={};function Fh(ut){{var Bt=Ln();if(!Bt){var Zt=typeof ut=="string"?ut:ut.displayName||ut.name;Zt&&(Bt=`

Check the top-level render call using <`+Zt+">.")}return Bt}}function $a(ut,Bt){{if(!ut._store||ut._store.validated||ut.key!=null)return;ut._store.validated=!0;var Zt=Fh(Bt);if(Bs[Zt])return;Bs[Zt]=!0;var de="";ut&&ut._owner&&ut._owner!==ti.current&&(de=" It was passed a child from "+F(ut._owner.type)+"."),Oi(ut),v('Each child in a list should have a unique "key" prop.%s%s See https://reactjs.org/link/warning-keys for more information.',Zt,de),Oi(null)}}function oa(ut,Bt){{if(typeof ut!="object")return;if(bt(ut))for(var Zt=0;Zt<ut.length;Zt++){var de=ut[Zt];ns(de)&&$a(de,Bt)}else if(ns(ut))ut._store&&(ut._store.validated=!0);else if(ut){var _e=c(ut);if(typeof _e=="function"&&_e!==ut.entries)for(var Re=_e.call(ut),Xe;!(Xe=Re.next()).done;)ns(Xe.value)&&$a(Xe.value,Bt)}}}function mn(ut){{var Bt=ut.type;if(Bt==null||typeof Bt=="string")return;var Zt;if(typeof Bt=="function")Zt=Bt.propTypes;else if(typeof Bt=="object"&&(Bt.$$typeof===r||Bt.$$typeof===d))Zt=Bt.propTypes;else return;if(Zt){var de=F(Bt);Xt(Zt,ut.props,"prop",de,ut)}else if(Bt.PropTypes!==void 0&&!Fi){Fi=!0;var _e=F(Bt);v("Component %s declared `PropTypes` instead of `propTypes`. Did you misspell the property assignment?",_e||"Unknown")}typeof Bt.getDefaultProps=="function"&&!Bt.getDefaultProps.isReactClassApproved&&v("getDefaultProps is only used on classic React.createClass definitions. Use a static property named `defaultProps` instead.")}}function Ka(ut){{for(var Bt=Object.keys(ut.props),Zt=0;Zt<Bt.length;Zt++){var de=Bt[Zt];if(de!=="children"&&de!=="key"){Oi(ut),v("Invalid prop `%s` supplied to `React.Fragment`. React.Fragment can only have `key` and `children` props.",de),Oi(null);break}}ut.ref!==null&&(Oi(ut),v("Invalid attribute `ref` supplied to `React.Fragment`."),Oi(null))}}var la={};function we(ut,Bt,Zt,de,_e,Re){{var Xe=R(ut);if(!Xe){var Ve="";(ut===void 0||typeof ut=="object"&&ut!==null&&Object.keys(ut).length===0)&&(Ve+=" You likely forgot to export your component from the file it's defined in, or you might have mixed up default and named imports.");var Ni=ss(_e);Ni?Ve+=Ni:Ve+=Ln();var Qe;ut===null?Qe="null":bt(ut)?Qe="array":ut!==void 0&&ut.$$typeof===t?(Qe="<"+(F(ut.type)||"Unknown")+" />",Ve=" Did you accidentally export a JSX literal instead of a component?"):Qe=typeof ut,v("React.jsx: type is invalid -- expected a string (for built-in components) or a class/function (for composite components) but got: %s.%s",Qe,Ve)}var Ui=Xi(ut,Bt,Zt,_e,Re);if(Ui==null)return Ui;if(Xe){var Mr=Bt.children;if(Mr!==void 0)if(de)if(bt(Mr)){for(var os=0;os<Mr.length;os++)oa(Mr[os],ut);Object.freeze&&Object.freeze(Mr)}else v("React.jsx: Static children should always be an array. You are likely explicitly calling React.jsxs or React.jsxDEV. Use the Babel transform instead.");else oa(Mr,ut)}if(xt.call(Bt,"key")){var ls=F(ut),gr=Object.keys(Bt).filter(function(Ih){return Ih!=="key"}),Oo=gr.length>0?"{key: someKey, "+gr.join(": ..., ")+": ...}":"{key: someKey}";if(!la[ls+Oo]){var Pl=gr.length>0?"{"+gr.join(": ..., ")+": ...}":"{}";v(`A props object containing a "key" prop is being spread into JSX:
  let props = %s;
  <%s {...props} />
React keys must be passed directly to JSX without using spread:
  let props = %s;
  <%s key={someKey} {...props} />`,Oo,ls,Pl,ls),la[ls+Oo]=!0}}return ut===s?Ka(Ui):mn(Ui),Ui}}var as=we;Rb.Fragment=s,Rb.jsxDEV=as})();w4.exports=Rb;var kd=w4.exports,Ab={},A4={exports:{}},ws={},O4={exports:{}},L4={};(function(e){/**
 * @license React
 * scheduler.development.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(){typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"&&typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.registerInternalModuleStart=="function"&&__REACT_DEVTOOLS_GLOBAL_HOOK__.registerInternalModuleStart(new Error);var t=!1,i=!1,s=5;function p(kt,Wt){var fe=kt.length;kt.push(Wt),T(kt,Wt,fe)}function E(kt){return kt.length===0?null:kt[0]}function n(kt){if(kt.length===0)return null;var Wt=kt[0],fe=kt.pop();return fe!==Wt&&(kt[0]=fe,r(kt,fe,0)),Wt}function T(kt,Wt,fe){for(var xe=fe;xe>0;){var Ie=xe-1>>>1,Ri=kt[Ie];if(o(Ri,Wt)>0)kt[Ie]=Wt,kt[xe]=Ri,xe=Ie;else return}}function r(kt,Wt,fe){for(var xe=fe,Ie=kt.length,Ri=Ie>>>1;xe<Ri;){var Ci=(xe+1)*2-1,Xi=kt[Ci],ti=Ci+1,Hi=kt[ti];if(o(Xi,Wt)<0)ti<Ie&&o(Hi,Xi)<0?(kt[xe]=Hi,kt[ti]=Wt,xe=ti):(kt[xe]=Xi,kt[Ci]=Wt,xe=Ci);else if(ti<Ie&&o(Hi,Wt)<0)kt[xe]=Hi,kt[ti]=Wt,xe=ti;else return}}function o(kt,Wt){var fe=kt.sortIndex-Wt.sortIndex;return fe!==0?fe:kt.id-Wt.id}var x=1,d=2,h=3,l=4,a=5;function f(kt,Wt){}var c=typeof performance=="object"&&typeof performance.now=="function";if(c){var u=performance;e.unstable_now=function(){return u.now()}}else{var v=Date,g=v.now();e.unstable_now=function(){return v.now()-g}}var m=1073741823,y=-1,C=250,b=5e3,M=1e4,w=m,R=[],A=[],L=1,F=null,G=h,I=!1,B=!1,k=!1,U=typeof setTimeout=="function"?setTimeout:null,H=typeof clearTimeout=="function"?clearTimeout:null,X=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function j(kt){for(var Wt=E(A);Wt!==null;){if(Wt.callback===null)n(A);else if(Wt.startTime<=kt)n(A),Wt.sortIndex=Wt.expirationTime,p(R,Wt);else return;Wt=E(A)}}function J(kt){if(k=!1,j(kt),!B)if(E(R)!==null)B=!0,Ee(Y);else{var Wt=E(A);Wt!==null&&Me(J,Wt.startTime-kt)}}function Y(kt,Wt){B=!1,k&&(k=!1,ve()),I=!0;var fe=G;try{var xe;if(!i)return $(kt,Wt)}finally{F=null,G=fe,I=!1}}function $(kt,Wt){var fe=Wt;for(j(fe),F=E(R);F!==null&&!t&&!(F.expirationTime>fe&&(!kt||Ht()));){var xe=F.callback;if(typeof xe=="function"){F.callback=null,G=F.priorityLevel;var Ie=F.expirationTime<=fe,Ri=xe(Ie);fe=e.unstable_now(),typeof Ri=="function"?F.callback=Ri:F===E(R)&&n(R),j(fe)}else n(R);F=E(R)}if(F!==null)return!0;var Ci=E(A);return Ci!==null&&Me(J,Ci.startTime-fe),!1}function z(kt,Wt){switch(kt){case x:case d:case h:case l:case a:break;default:kt=h}var fe=G;G=kt;try{return Wt()}finally{G=fe}}function V(kt){var Wt;switch(G){case x:case d:case h:Wt=h;break;default:Wt=G;break}var fe=G;G=Wt;try{return kt()}finally{G=fe}}function K(kt){var Wt=G;return function(){var fe=G;G=Wt;try{return kt.apply(this,arguments)}finally{G=fe}}}function Q(kt,Wt,fe){var xe=e.unstable_now(),Ie;if(typeof fe=="object"&&fe!==null){var Ri=fe.delay;typeof Ri=="number"&&Ri>0?Ie=xe+Ri:Ie=xe}else Ie=xe;var Ci;switch(kt){case x:Ci=y;break;case d:Ci=C;break;case a:Ci=w;break;case l:Ci=M;break;case h:default:Ci=b;break}var Xi=Ie+Ci,ti={id:L++,callback:Wt,priorityLevel:kt,startTime:Ie,expirationTime:Xi,sortIndex:-1};return Ie>xe?(ti.sortIndex=Ie,p(A,ti),E(R)===null&&ti===E(A)&&(k?ve():k=!0,Me(J,Ie-xe))):(ti.sortIndex=Xi,p(R,ti),!B&&!I&&(B=!0,Ee(Y))),ti}function _(){}function tt(){!B&&!I&&(B=!0,Ee(Y))}function rt(){return E(R)}function ot(kt){kt.callback=null}function ft(){return G}var ct=!1,gt=null,xt=-1,Mt=s,Tt=-1;function Ht(){var kt=e.unstable_now()-Tt;return!(kt<Mt)}function Xt(){}function Kt(kt){if(kt<0||kt>125){console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported");return}kt>0?Mt=Math.floor(1e3/kt):Mt=s}var bt=function(){if(gt!==null){var kt=e.unstable_now();Tt=kt;var Wt=!0,fe=!0;try{fe=gt(Wt,kt)}finally{fe?Ut():(ct=!1,gt=null)}}else ct=!1},Ut;if(typeof X=="function")Ut=function(){X(bt)};else if(typeof MessageChannel<"u"){var Vt=new MessageChannel,ee=Vt.port2;Vt.port1.onmessage=bt,Ut=function(){ee.postMessage(null)}}else Ut=function(){U(bt,0)};function Ee(kt){gt=kt,ct||(ct=!0,Ut())}function Me(kt,Wt){xt=U(function(){kt(e.unstable_now())},Wt)}function ve(){H(xt),xt=-1}var Fe=Xt,ai=null;e.unstable_IdlePriority=a,e.unstable_ImmediatePriority=x,e.unstable_LowPriority=l,e.unstable_NormalPriority=h,e.unstable_Profiling=ai,e.unstable_UserBlockingPriority=d,e.unstable_cancelCallback=ot,e.unstable_continueExecution=tt,e.unstable_forceFrameRate=Kt,e.unstable_getCurrentPriorityLevel=ft,e.unstable_getFirstCallbackNode=rt,e.unstable_next=V,e.unstable_pauseExecution=_,e.unstable_requestPaint=Fe,e.unstable_runWithPriority=z,e.unstable_scheduleCallback=Q,e.unstable_shouldYield=Ht,e.unstable_wrapCallback=K,typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"&&typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.registerInternalModuleStop=="function"&&__REACT_DEVTOOLS_GLOBAL_HOOK__.registerInternalModuleStop(new Error)})()})(L4);O4.exports=L4;var e$=O4.exports;/**
 * @license React
 * react-dom.development.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(){typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"&&typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.registerInternalModuleStart=="function"&&__REACT_DEVTOOLS_GLOBAL_HOOK__.registerInternalModuleStart(new Error);var e=Gd,t=e$,i=e.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,s=!1;function p(S){s=S}function E(S){if(!s){for(var P=arguments.length,O=new Array(P>1?P-1:0),D=1;D<P;D++)O[D-1]=arguments[D];T("warn",S,O)}}function n(S){if(!s){for(var P=arguments.length,O=new Array(P>1?P-1:0),D=1;D<P;D++)O[D-1]=arguments[D];T("error",S,O)}}function T(S,P,O){{var D=i.ReactDebugCurrentFrame,N=D.getStackAddendum();N!==""&&(P+="%s",O=O.concat([N]));var W=O.map(function(Z){return String(Z)});W.unshift("Warning: "+P),Function.prototype.apply.call(console[S],console,W)}}var r=0,o=1,x=2,d=3,h=4,l=5,a=6,f=7,c=8,u=9,v=10,g=11,m=12,y=13,C=14,b=15,M=16,w=17,R=18,A=19,L=21,F=22,G=23,I=24,B=25,k=!0,U=!1,H=!1,X=!1,j=!1,J=!0,Y=!1,$=!0,z=!0,V=!0,K=!0,Q=new Set,_={},tt={};function rt(S,P){ot(S,P),ot(S+"Capture",P)}function ot(S,P){_[S]&&n("EventRegistry: More than one plugin attempted to publish the same registration name, `%s`.",S),_[S]=P;{var O=S.toLowerCase();tt[O]=S,S==="onDoubleClick"&&(tt.ondblclick=S)}for(var D=0;D<P.length;D++)Q.add(P[D])}var ft=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",ct=Object.prototype.hasOwnProperty;function gt(S){{var P=typeof Symbol=="function"&&Symbol.toStringTag,O=P&&S[Symbol.toStringTag]||S.constructor.name||"Object";return O}}function xt(S){try{return Mt(S),!1}catch{return!0}}function Mt(S){return""+S}function Tt(S,P){if(xt(S))return n("The provided `%s` attribute is an unsupported type %s. This value must be coerced to a string before before using it here.",P,gt(S)),Mt(S)}function Ht(S){if(xt(S))return n("The provided key is an unsupported type %s. This value must be coerced to a string before before using it here.",gt(S)),Mt(S)}function Xt(S,P){if(xt(S))return n("The provided `%s` prop is an unsupported type %s. This value must be coerced to a string before before using it here.",P,gt(S)),Mt(S)}function Kt(S,P){if(xt(S))return n("The provided `%s` CSS property is an unsupported type %s. This value must be coerced to a string before before using it here.",P,gt(S)),Mt(S)}function bt(S){if(xt(S))return n("The provided HTML markup uses a value of unsupported type %s. This value must be coerced to a string before before using it here.",gt(S)),Mt(S)}function Ut(S){if(xt(S))return n("Form field values (value, checked, defaultValue, or defaultChecked props) must be strings, not %s. This value must be coerced to a string before before using it here.",gt(S)),Mt(S)}var Vt=0,ee=1,Ee=2,Me=3,ve=4,Fe=5,ai=6,kt=":A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD",Wt=kt+"\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040",fe=new RegExp("^["+kt+"]["+Wt+"]*$"),xe={},Ie={};function Ri(S){return ct.call(Ie,S)?!0:ct.call(xe,S)?!1:fe.test(S)?(Ie[S]=!0,!0):(xe[S]=!0,n("Invalid attribute name: `%s`",S),!1)}function Ci(S,P,O){return P!==null?P.type===Vt:O?!1:S.length>2&&(S[0]==="o"||S[0]==="O")&&(S[1]==="n"||S[1]==="N")}function Xi(S,P,O,D){if(O!==null&&O.type===Vt)return!1;switch(typeof P){case"function":case"symbol":return!0;case"boolean":{if(D)return!1;if(O!==null)return!O.acceptsBooleans;var N=S.toLowerCase().slice(0,5);return N!=="data-"&&N!=="aria-"}default:return!1}}function ti(S,P,O,D){if(P===null||typeof P>"u"||Xi(S,P,O,D))return!0;if(D)return!1;if(O!==null)switch(O.type){case Me:return!P;case ve:return P===!1;case Fe:return isNaN(P);case ai:return isNaN(P)||P<1}return!1}function Hi(S){return Fi.hasOwnProperty(S)?Fi[S]:null}function Oi(S,P,O,D,N,W,Z){this.acceptsBooleans=P===Ee||P===Me||P===ve,this.attributeName=D,this.attributeNamespace=N,this.mustUseProperty=O,this.propertyName=S,this.type=P,this.sanitizeURL=W,this.removeEmptyString=Z}var Fi={},ns=["children","dangerouslySetInnerHTML","defaultValue","defaultChecked","innerHTML","suppressContentEditableWarning","suppressHydrationWarning","style"];ns.forEach(function(S){Fi[S]=new Oi(S,Vt,!1,S,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(S){var P=S[0],O=S[1];Fi[P]=new Oi(P,ee,!1,O,null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(S){Fi[S]=new Oi(S,Ee,!1,S.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(S){Fi[S]=new Oi(S,Ee,!1,S,null,!1,!1)}),["allowFullScreen","async","autoFocus","autoPlay","controls","default","defer","disabled","disablePictureInPicture","disableRemotePlayback","formNoValidate","hidden","loop","noModule","noValidate","open","playsInline","readOnly","required","reversed","scoped","seamless","itemScope"].forEach(function(S){Fi[S]=new Oi(S,Me,!1,S.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(S){Fi[S]=new Oi(S,Me,!0,S,null,!1,!1)}),["capture","download"].forEach(function(S){Fi[S]=new Oi(S,ve,!1,S,null,!1,!1)}),["cols","rows","size","span"].forEach(function(S){Fi[S]=new Oi(S,ai,!1,S,null,!1,!1)}),["rowSpan","start"].forEach(function(S){Fi[S]=new Oi(S,Fe,!1,S.toLowerCase(),null,!1,!1)});var Ln=/[\-\:]([a-z])/g,ss=function(S){return S[1].toUpperCase()};["accent-height","alignment-baseline","arabic-form","baseline-shift","cap-height","clip-path","clip-rule","color-interpolation","color-interpolation-filters","color-profile","color-rendering","dominant-baseline","enable-background","fill-opacity","fill-rule","flood-color","flood-opacity","font-family","font-size","font-size-adjust","font-stretch","font-style","font-variant","font-weight","glyph-name","glyph-orientation-horizontal","glyph-orientation-vertical","horiz-adv-x","horiz-origin-x","image-rendering","letter-spacing","lighting-color","marker-end","marker-mid","marker-start","overline-position","overline-thickness","paint-order","panose-1","pointer-events","rendering-intent","shape-rendering","stop-color","stop-opacity","strikethrough-position","strikethrough-thickness","stroke-dasharray","stroke-dashoffset","stroke-linecap","stroke-linejoin","stroke-miterlimit","stroke-opacity","stroke-width","text-anchor","text-decoration","text-rendering","underline-position","underline-thickness","unicode-bidi","unicode-range","units-per-em","v-alphabetic","v-hanging","v-ideographic","v-mathematical","vector-effect","vert-adv-y","vert-origin-x","vert-origin-y","word-spacing","writing-mode","xmlns:xlink","x-height"].forEach(function(S){var P=S.replace(Ln,ss);Fi[P]=new Oi(P,ee,!1,S,null,!1,!1)}),["xlink:actuate","xlink:arcrole","xlink:role","xlink:show","xlink:title","xlink:type"].forEach(function(S){var P=S.replace(Ln,ss);Fi[P]=new Oi(P,ee,!1,S,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(S){var P=S.replace(Ln,ss);Fi[P]=new Oi(P,ee,!1,S,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(S){Fi[S]=new Oi(S,ee,!1,S.toLowerCase(),null,!1,!1)});var Bs="xlinkHref";Fi[Bs]=new Oi("xlinkHref",ee,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(S){Fi[S]=new Oi(S,ee,!1,S.toLowerCase(),null,!0,!0)});var Fh=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*\:/i,$a=!1;function oa(S){!$a&&Fh.test(S)&&($a=!0,n("A future version of React will block javascript: URLs as a security precaution. Use event handlers instead if you can. If you need to generate unsafe HTML try using dangerouslySetInnerHTML instead. React was passed %s.",JSON.stringify(S)))}function mn(S,P,O,D){if(D.mustUseProperty){var N=D.propertyName;return S[N]}else{Tt(O,P),D.sanitizeURL&&oa(""+O);var W=D.attributeName,Z=null;if(D.type===ve){if(S.hasAttribute(W)){var q=S.getAttribute(W);return q===""?!0:ti(P,O,D,!1)?q:q===""+O?O:q}}else if(S.hasAttribute(W)){if(ti(P,O,D,!1))return S.getAttribute(W);if(D.type===Me)return O;Z=S.getAttribute(W)}return ti(P,O,D,!1)?Z===null?O:Z:Z===""+O?O:Z}}function Ka(S,P,O,D){{if(!Ri(P))return;if(!S.hasAttribute(P))return O===void 0?void 0:null;var N=S.getAttribute(P);return Tt(O,P),N===""+O?O:N}}function la(S,P,O,D){var N=Hi(P);if(!Ci(P,N,D)){if(ti(P,O,N,D)&&(O=null),D||N===null){if(Ri(P)){var W=P;O===null?S.removeAttribute(W):(Tt(O,P),S.setAttribute(W,""+O))}return}var Z=N.mustUseProperty;if(Z){var q=N.propertyName;if(O===null){var et=N.type;S[q]=et===Me?!1:""}else S[q]=O;return}var nt=N.attributeName,at=N.attributeNamespace;if(O===null)S.removeAttribute(nt);else{var pt=N.type,vt;pt===Me||pt===ve&&O===!0?vt="":(Tt(O,nt),vt=""+O,N.sanitizeURL&&oa(vt.toString())),at?S.setAttributeNS(at,nt,vt):S.setAttribute(nt,vt)}}}var we=Symbol.for("react.element"),as=Symbol.for("react.portal"),ut=Symbol.for("react.fragment"),Bt=Symbol.for("react.strict_mode"),Zt=Symbol.for("react.profiler"),de=Symbol.for("react.provider"),_e=Symbol.for("react.context"),Re=Symbol.for("react.forward_ref"),Xe=Symbol.for("react.suspense"),Ve=Symbol.for("react.suspense_list"),Ni=Symbol.for("react.memo"),Qe=Symbol.for("react.lazy"),Ui=Symbol.for("react.scope"),Mr=Symbol.for("react.debug_trace_mode"),os=Symbol.for("react.offscreen"),ls=Symbol.for("react.legacy_hidden"),gr=Symbol.for("react.cache"),Oo=Symbol.for("react.tracing_marker"),Pl=Symbol.iterator,Ih="@@iterator";function ha(S){if(S===null||typeof S!="object")return null;var P=Pl&&S[Pl]||S[Ih];return typeof P=="function"?P:null}var He=Object.assign,Lo=0,zr,bl,hs,Bh,Gh,kh,ua;function Nh(){}Nh.__reactDisabledLog=!0;function ef(){{if(Lo===0){zr=console.log,bl=console.info,hs=console.warn,Bh=console.error,Gh=console.group,kh=console.groupCollapsed,ua=console.groupEnd;var S={configurable:!0,enumerable:!0,value:Nh,writable:!0};Object.defineProperties(console,{info:S,log:S,warn:S,error:S,group:S,groupCollapsed:S,groupEnd:S})}Lo++}}function Do(){{if(Lo--,Lo===0){var S={configurable:!0,enumerable:!0,writable:!0};Object.defineProperties(console,{log:He({},S,{value:zr}),info:He({},S,{value:bl}),warn:He({},S,{value:hs}),error:He({},S,{value:Bh}),group:He({},S,{value:Gh}),groupCollapsed:He({},S,{value:kh}),groupEnd:He({},S,{value:ua})})}Lo<0&&n("disabledDepth fell below zero. This is a bug in React. Please file an issue.")}}var Uh=i.ReactCurrentDispatcher,us;function Yn(S,P,O){{if(us===void 0)try{throw Error()}catch(N){var D=N.stack.trim().match(/\n( *(at )?)/);us=D&&D[1]||""}return`
`+us+S}}var Za=!1,Gs;{var st=typeof WeakMap=="function"?WeakMap:Map;Gs=new st}function lt(S,P){if(!S||Za)return"";{var O=Gs.get(S);if(O!==void 0)return O}var D;Za=!0;var N=Error.prepareStackTrace;Error.prepareStackTrace=void 0;var W;W=Uh.current,Uh.current=null,ef();try{if(P){var Z=function(){throw Error()};if(Object.defineProperty(Z.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(Z,[])}catch(Pt){D=Pt}Reflect.construct(S,[],Z)}else{try{Z.call()}catch(Pt){D=Pt}S.call(Z.prototype)}}else{try{throw Error()}catch(Pt){D=Pt}S()}}catch(Pt){if(Pt&&D&&typeof Pt.stack=="string"){for(var q=Pt.stack.split(`
`),et=D.stack.split(`
`),nt=q.length-1,at=et.length-1;nt>=1&&at>=0&&q[nt]!==et[at];)at--;for(;nt>=1&&at>=0;nt--,at--)if(q[nt]!==et[at]){if(nt!==1||at!==1)do if(nt--,at--,at<0||q[nt]!==et[at]){var pt=`
`+q[nt].replace(" at new "," at ");return S.displayName&&pt.includes("<anonymous>")&&(pt=pt.replace("<anonymous>",S.displayName)),typeof S=="function"&&Gs.set(S,pt),pt}while(nt>=1&&at>=0);break}}}finally{Za=!1,Uh.current=W,Do(),Error.prepareStackTrace=N}var vt=S?S.displayName||S.name:"",Ct=vt?Yn(vt):"";return typeof S=="function"&&Gs.set(S,Ct),Ct}function dt(S,P,O){return lt(S,!0)}function St(S,P,O){return lt(S,!1)}function wt(S){var P=S.prototype;return!!(P&&P.isReactComponent)}function $t(S,P,O){if(S==null)return"";if(typeof S=="function")return lt(S,wt(S));if(typeof S=="string")return Yn(S);switch(S){case Xe:return Yn("Suspense");case Ve:return Yn("SuspenseList")}if(typeof S=="object")switch(S.$$typeof){case Re:return St(S.render);case Ni:return $t(S.type,P,O);case Qe:{var D=S,N=D._payload,W=D._init;try{return $t(W(N),P,O)}catch{}}}return""}function he(S){switch(S._debugOwner&&S._debugOwner.type,S._debugSource,S.tag){case l:return Yn(S.type);case M:return Yn("Lazy");case y:return Yn("Suspense");case A:return Yn("SuspenseList");case r:case x:case b:return St(S.type);case g:return St(S.type.render);case o:return dt(S.type);default:return""}}function se(S){try{var P="",O=S;do P+=he(O),O=O.return;while(O);return P}catch(D){return`
Error generating stack: `+D.message+`
`+D.stack}}function Ze(S,P,O){var D=S.displayName;if(D)return D;var N=P.displayName||P.name||"";return N!==""?O+"("+N+")":O}function pe(S){return S.displayName||"Context"}function ie(S){if(S==null)return null;if(typeof S.tag=="number"&&n("Received an unexpected object in getComponentNameFromType(). This is likely a bug in React. Please file an issue."),typeof S=="function")return S.displayName||S.name||null;if(typeof S=="string")return S;switch(S){case ut:return"Fragment";case as:return"Portal";case Zt:return"Profiler";case Bt:return"StrictMode";case Xe:return"Suspense";case Ve:return"SuspenseList"}if(typeof S=="object")switch(S.$$typeof){case _e:var P=S;return pe(P)+".Consumer";case de:var O=S;return pe(O._context)+".Provider";case Re:return Ze(S,S.render,"ForwardRef");case Ni:var D=S.displayName||null;return D!==null?D:ie(S.type)||"Memo";case Qe:{var N=S,W=N._payload,Z=N._init;try{return ie(Z(W))}catch{return null}}}return null}function hi(S,P,O){var D=P.displayName||P.name||"";return S.displayName||(D!==""?O+"("+D+")":O)}function ze(S){return S.displayName||"Context"}function Ft(S){var P=S.tag,O=S.type;switch(P){case I:return"Cache";case u:var D=O;return ze(D)+".Consumer";case v:var N=O;return ze(N._context)+".Provider";case R:return"DehydratedFragment";case g:return hi(O,O.render,"ForwardRef");case f:return"Fragment";case l:return O;case h:return"Portal";case d:return"Root";case a:return"Text";case M:return ie(O);case c:return O===Bt?"StrictMode":"Mode";case F:return"Offscreen";case m:return"Profiler";case L:return"Scope";case y:return"Suspense";case A:return"SuspenseList";case B:return"TracingMarker";case o:case r:case w:case x:case C:case b:if(typeof O=="function")return O.displayName||O.name||null;if(typeof O=="string")return O;break}return null}var oe=i.ReactDebugCurrentFrame,ue=null,Li=!1;function le(){{if(ue===null)return null;var S=ue._debugOwner;if(S!==null&&typeof S<"u")return Ft(S)}return null}function Vi(){return ue===null?"":se(ue)}function Pe(){oe.getCurrentStack=null,ue=null,Li=!1}function $e(S){oe.getCurrentStack=S===null?null:Vi,ue=S,Li=!1}function fs(){return ue}function yn(S){Li=S}function en(S){return""+S}function ks(S){switch(typeof S){case"boolean":case"number":case"string":case"undefined":return S;case"object":return Ut(S),S;default:return""}}var Vh={button:!0,checkbox:!0,image:!0,hidden:!0,radio:!0,reset:!0,submit:!0};function Ml(S,P){Vh[P.type]||P.onChange||P.onInput||P.readOnly||P.disabled||P.value==null||n("You provided a `value` prop to a form field without an `onChange` handler. This will render a read-only field. If the field should be mutable use `defaultValue`. Otherwise, set either `onChange` or `readOnly`."),P.onChange||P.readOnly||P.disabled||P.checked==null||n("You provided a `checked` prop to a form field without an `onChange` handler. This will render a read-only field. If the field should be mutable use `defaultChecked`. Otherwise, set either `onChange` or `readOnly`.")}function Fo(S){var P=S.type,O=S.nodeName;return O&&O.toLowerCase()==="input"&&(P==="checkbox"||P==="radio")}function Qt(S){return S._valueTracker}function Wr(S){S._valueTracker=null}function fa(S){var P="";return S&&(Fo(S)?P=S.checked?"true":"false":P=S.value),P}function zh(S){var P=Fo(S)?"checked":"value",O=Object.getOwnPropertyDescriptor(S.constructor.prototype,P);Ut(S[P]);var D=""+S[P];if(!(S.hasOwnProperty(P)||typeof O>"u"||typeof O.get!="function"||typeof O.set!="function")){var N=O.get,W=O.set;Object.defineProperty(S,P,{configurable:!0,get:function(){return N.call(this)},set:function(q){Ut(q),D=""+q,W.call(this,q)}}),Object.defineProperty(S,P,{enumerable:O.enumerable});var Z={getValue:function(){return D},setValue:function(q){Ut(q),D=""+q},stopTracking:function(){Wr(S),delete S[P]}};return Z}}function Io(S){Qt(S)||(S._valueTracker=zh(S))}function rf(S){if(!S)return!1;var P=Qt(S);if(!P)return!0;var O=P.getValue(),D=fa(S);return D!==O?(P.setValue(D),!0):!1}function wl(S){if(S=S||(typeof document<"u"?document:void 0),typeof S>"u")return null;try{return S.activeElement||S.body}catch{return S.body}}var nf=!1,vg=!1,pg=!1,gg=!1;function mg(S){var P=S.type==="checkbox"||S.type==="radio";return P?S.checked!=null:S.value!=null}function it(S,P){var O=S,D=P.checked,N=He({},P,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:D??O._wrapperState.initialChecked});return N}function ht(S,P){Ml("input",P),P.checked!==void 0&&P.defaultChecked!==void 0&&!vg&&(n("%s contains an input of type %s with both checked and defaultChecked props. Input elements must be either controlled or uncontrolled (specify either the checked prop, or the defaultChecked prop, but not both). Decide between using a controlled or uncontrolled input element and remove one of these props. More info: https://reactjs.org/link/controlled-components",le()||"A component",P.type),vg=!0),P.value!==void 0&&P.defaultValue!==void 0&&!nf&&(n("%s contains an input of type %s with both value and defaultValue props. Input elements must be either controlled or uncontrolled (specify either the value prop, or the defaultValue prop, but not both). Decide between using a controlled or uncontrolled input element and remove one of these props. More info: https://reactjs.org/link/controlled-components",le()||"A component",P.type),nf=!0);var O=S,D=P.defaultValue==null?"":P.defaultValue;O._wrapperState={initialChecked:P.checked!=null?P.checked:P.defaultChecked,initialValue:ks(P.value!=null?P.value:D),controlled:mg(P)}}function Et(S,P){var O=S,D=P.checked;D!=null&&la(O,"checked",D,!1)}function Rt(S,P){var O=S;{var D=mg(P);!O._wrapperState.controlled&&D&&!gg&&(n("A component is changing an uncontrolled input to be controlled. This is likely caused by the value changing from undefined to a defined value, which should not happen. Decide between using a controlled or uncontrolled input element for the lifetime of the component. More info: https://reactjs.org/link/controlled-components"),gg=!0),O._wrapperState.controlled&&!D&&!pg&&(n("A component is changing a controlled input to be uncontrolled. This is likely caused by the value changing from a defined to undefined, which should not happen. Decide between using a controlled or uncontrolled input element for the lifetime of the component. More info: https://reactjs.org/link/controlled-components"),pg=!0)}Et(S,P);var N=ks(P.value),W=P.type;if(N!=null)W==="number"?(N===0&&O.value===""||O.value!=N)&&(O.value=en(N)):O.value!==en(N)&&(O.value=en(N));else if(W==="submit"||W==="reset"){O.removeAttribute("value");return}P.hasOwnProperty("value")?Be(O,P.type,N):P.hasOwnProperty("defaultValue")&&Be(O,P.type,ks(P.defaultValue)),P.checked==null&&P.defaultChecked!=null&&(O.defaultChecked=!!P.defaultChecked)}function Yt(S,P,O){var D=S;if(P.hasOwnProperty("value")||P.hasOwnProperty("defaultValue")){var N=P.type,W=N==="submit"||N==="reset";if(W&&(P.value===void 0||P.value===null))return;var Z=en(D._wrapperState.initialValue);O||Z!==D.value&&(D.value=Z),D.defaultValue=Z}var q=D.name;q!==""&&(D.name=""),D.defaultChecked=!D.defaultChecked,D.defaultChecked=!!D._wrapperState.initialChecked,q!==""&&(D.name=q)}function Oe(S,P){var O=S;Rt(O,P),ge(O,P)}function ge(S,P){var O=P.name;if(P.type==="radio"&&O!=null){for(var D=S;D.parentNode;)D=D.parentNode;Tt(O,"name");for(var N=D.querySelectorAll("input[name="+JSON.stringify(""+O)+'][type="radio"]'),W=0;W<N.length;W++){var Z=N[W];if(!(Z===S||Z.form!==S.form)){var q=rm(Z);if(!q)throw new Error("ReactDOMInput: Mixing React and non-React radio inputs with the same `name` is not supported.");rf(Z),Rt(Z,q)}}}}function Be(S,P,O){(P!=="number"||wl(S.ownerDocument)!==S)&&(O==null?S.defaultValue=en(S._wrapperState.initialValue):S.defaultValue!==en(O)&&(S.defaultValue=en(O)))}var ii=!1,Ei=!1,Ii=!1;function Bi(S,P){P.value==null&&(typeof P.children=="object"&&P.children!==null?e.Children.forEach(P.children,function(O){O!=null&&(typeof O=="string"||typeof O=="number"||Ei||(Ei=!0,n("Cannot infer the option value of complex children. Pass a `value` prop or use a plain string as children to <option>.")))}):P.dangerouslySetInnerHTML!=null&&(Ii||(Ii=!0,n("Pass a `value` prop if you set dangerouslyInnerHTML so React knows which value should be selected.")))),P.selected!=null&&!ii&&(n("Use the `defaultValue` or `value` props on <select> instead of setting `selected` on <option>."),ii=!0)}function $i(S,P){P.value!=null&&S.setAttribute("value",en(ks(P.value)))}var er=Array.isArray;function vi(S){return er(S)}var Rl;Rl=!1;function sf(){var S=le();return S?`

Check the render method of \``+S+"`.":""}var oc=["value","defaultValue"];function OT(S){{Ml("select",S);for(var P=0;P<oc.length;P++){var O=oc[P];if(S[O]!=null){var D=vi(S[O]);S.multiple&&!D?n("The `%s` prop supplied to <select> must be an array if `multiple` is true.%s",O,sf()):!S.multiple&&D&&n("The `%s` prop supplied to <select> must be a scalar value if `multiple` is false.%s",O,sf())}}}}function Bo(S,P,O,D){var N=S.options;if(P){for(var W=O,Z={},q=0;q<W.length;q++)Z["$"+W[q]]=!0;for(var et=0;et<N.length;et++){var nt=Z.hasOwnProperty("$"+N[et].value);N[et].selected!==nt&&(N[et].selected=nt),nt&&D&&(N[et].defaultSelected=!0)}}else{for(var at=en(ks(O)),pt=null,vt=0;vt<N.length;vt++){if(N[vt].value===at){N[vt].selected=!0,D&&(N[vt].defaultSelected=!0);return}pt===null&&!N[vt].disabled&&(pt=N[vt])}pt!==null&&(pt.selected=!0)}}function lc(S,P){return He({},P,{value:void 0})}function hc(S,P){var O=S;OT(P),O._wrapperState={wasMultiple:!!P.multiple},P.value!==void 0&&P.defaultValue!==void 0&&!Rl&&(n("Select elements must be either controlled or uncontrolled (specify either the value prop, or the defaultValue prop, but not both). Decide between using a controlled or uncontrolled select element and remove one of these props. More info: https://reactjs.org/link/controlled-components"),Rl=!0)}function LT(S,P){var O=S;O.multiple=!!P.multiple;var D=P.value;D!=null?Bo(O,!!P.multiple,D,!1):P.defaultValue!=null&&Bo(O,!!P.multiple,P.defaultValue,!0)}function LN(S,P){var O=S,D=O._wrapperState.wasMultiple;O._wrapperState.wasMultiple=!!P.multiple;var N=P.value;N!=null?Bo(O,!!P.multiple,N,!1):D!==!!P.multiple&&(P.defaultValue!=null?Bo(O,!!P.multiple,P.defaultValue,!0):Bo(O,!!P.multiple,P.multiple?[]:"",!1))}function DN(S,P){var O=S,D=P.value;D!=null&&Bo(O,!!P.multiple,D,!1)}var RR=!1;function DT(S,P){var O=S;if(P.dangerouslySetInnerHTML!=null)throw new Error("`dangerouslySetInnerHTML` does not make sense on <textarea>.");var D=He({},P,{value:void 0,defaultValue:void 0,children:en(O._wrapperState.initialValue)});return D}function AR(S,P){var O=S;Ml("textarea",P),P.value!==void 0&&P.defaultValue!==void 0&&!RR&&(n("%s contains a textarea with both value and defaultValue props. Textarea elements must be either controlled or uncontrolled (specify either the value prop, or the defaultValue prop, but not both). Decide between using a controlled or uncontrolled textarea and remove one of these props. More info: https://reactjs.org/link/controlled-components",le()||"A component"),RR=!0);var D=P.value;if(D==null){var N=P.children,W=P.defaultValue;if(N!=null){n("Use the `defaultValue` or `value` props instead of setting children on <textarea>.");{if(W!=null)throw new Error("If you supply `defaultValue` on a <textarea>, do not pass children.");if(vi(N)){if(N.length>1)throw new Error("<textarea> can only have at most one child.");N=N[0]}W=N}}W==null&&(W=""),D=W}O._wrapperState={initialValue:ks(D)}}function OR(S,P){var O=S,D=ks(P.value),N=ks(P.defaultValue);if(D!=null){var W=en(D);W!==O.value&&(O.value=W),P.defaultValue==null&&O.defaultValue!==W&&(O.defaultValue=W)}N!=null&&(O.defaultValue=en(N))}function LR(S,P){var O=S,D=O.textContent;D===O._wrapperState.initialValue&&D!==""&&D!==null&&(O.value=D)}function FN(S,P){OR(S,P)}var Go="http://www.w3.org/1999/xhtml",IN="http://www.w3.org/1998/Math/MathML",FT="http://www.w3.org/2000/svg";function IT(S){switch(S){case"svg":return FT;case"math":return IN;default:return Go}}function BT(S,P){return S==null||S===Go?IT(P):S===FT&&P==="foreignObject"?Go:S}var BN=function(S){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(P,O,D,N){MSApp.execUnsafeLocalFunction(function(){return S(P,O,D,N)})}:S},yg,DR=BN(function(S,P){if(S.namespaceURI===FT&&!("innerHTML"in S)){yg=yg||document.createElement("div"),yg.innerHTML="<svg>"+P.valueOf().toString()+"</svg>";for(var O=yg.firstChild;S.firstChild;)S.removeChild(S.firstChild);for(;O.firstChild;)S.appendChild(O.firstChild);return}S.innerHTML=P}),Xn=1,ko=3,mr=8,No=9,GT=11,xg=function(S,P){if(P){var O=S.firstChild;if(O&&O===S.lastChild&&O.nodeType===ko){O.nodeValue=P;return}}S.textContent=P},GN={animation:["animationDelay","animationDirection","animationDuration","animationFillMode","animationIterationCount","animationName","animationPlayState","animationTimingFunction"],background:["backgroundAttachment","backgroundClip","backgroundColor","backgroundImage","backgroundOrigin","backgroundPositionX","backgroundPositionY","backgroundRepeat","backgroundSize"],backgroundPosition:["backgroundPositionX","backgroundPositionY"],border:["borderBottomColor","borderBottomStyle","borderBottomWidth","borderImageOutset","borderImageRepeat","borderImageSlice","borderImageSource","borderImageWidth","borderLeftColor","borderLeftStyle","borderLeftWidth","borderRightColor","borderRightStyle","borderRightWidth","borderTopColor","borderTopStyle","borderTopWidth"],borderBlockEnd:["borderBlockEndColor","borderBlockEndStyle","borderBlockEndWidth"],borderBlockStart:["borderBlockStartColor","borderBlockStartStyle","borderBlockStartWidth"],borderBottom:["borderBottomColor","borderBottomStyle","borderBottomWidth"],borderColor:["borderBottomColor","borderLeftColor","borderRightColor","borderTopColor"],borderImage:["borderImageOutset","borderImageRepeat","borderImageSlice","borderImageSource","borderImageWidth"],borderInlineEnd:["borderInlineEndColor","borderInlineEndStyle","borderInlineEndWidth"],borderInlineStart:["borderInlineStartColor","borderInlineStartStyle","borderInlineStartWidth"],borderLeft:["borderLeftColor","borderLeftStyle","borderLeftWidth"],borderRadius:["borderBottomLeftRadius","borderBottomRightRadius","borderTopLeftRadius","borderTopRightRadius"],borderRight:["borderRightColor","borderRightStyle","borderRightWidth"],borderStyle:["borderBottomStyle","borderLeftStyle","borderRightStyle","borderTopStyle"],borderTop:["borderTopColor","borderTopStyle","borderTopWidth"],borderWidth:["borderBottomWidth","borderLeftWidth","borderRightWidth","borderTopWidth"],columnRule:["columnRuleColor","columnRuleStyle","columnRuleWidth"],columns:["columnCount","columnWidth"],flex:["flexBasis","flexGrow","flexShrink"],flexFlow:["flexDirection","flexWrap"],font:["fontFamily","fontFeatureSettings","fontKerning","fontLanguageOverride","fontSize","fontSizeAdjust","fontStretch","fontStyle","fontVariant","fontVariantAlternates","fontVariantCaps","fontVariantEastAsian","fontVariantLigatures","fontVariantNumeric","fontVariantPosition","fontWeight","lineHeight"],fontVariant:["fontVariantAlternates","fontVariantCaps","fontVariantEastAsian","fontVariantLigatures","fontVariantNumeric","fontVariantPosition"],gap:["columnGap","rowGap"],grid:["gridAutoColumns","gridAutoFlow","gridAutoRows","gridTemplateAreas","gridTemplateColumns","gridTemplateRows"],gridArea:["gridColumnEnd","gridColumnStart","gridRowEnd","gridRowStart"],gridColumn:["gridColumnEnd","gridColumnStart"],gridColumnGap:["columnGap"],gridGap:["columnGap","rowGap"],gridRow:["gridRowEnd","gridRowStart"],gridRowGap:["rowGap"],gridTemplate:["gridTemplateAreas","gridTemplateColumns","gridTemplateRows"],listStyle:["listStyleImage","listStylePosition","listStyleType"],margin:["marginBottom","marginLeft","marginRight","marginTop"],marker:["markerEnd","markerMid","markerStart"],mask:["maskClip","maskComposite","maskImage","maskMode","maskOrigin","maskPositionX","maskPositionY","maskRepeat","maskSize"],maskPosition:["maskPositionX","maskPositionY"],outline:["outlineColor","outlineStyle","outlineWidth"],overflow:["overflowX","overflowY"],padding:["paddingBottom","paddingLeft","paddingRight","paddingTop"],placeContent:["alignContent","justifyContent"],placeItems:["alignItems","justifyItems"],placeSelf:["alignSelf","justifySelf"],textDecoration:["textDecorationColor","textDecorationLine","textDecorationStyle"],textEmphasis:["textEmphasisColor","textEmphasisStyle"],transition:["transitionDelay","transitionDuration","transitionProperty","transitionTimingFunction"],wordWrap:["overflowWrap"]},uc={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0};function kN(S,P){return S+P.charAt(0).toUpperCase()+P.substring(1)}var NN=["Webkit","ms","Moz","O"];Object.keys(uc).forEach(function(S){NN.forEach(function(P){uc[kN(P,S)]=uc[S]})});function kT(S,P,O){var D=P==null||typeof P=="boolean"||P==="";return D?"":!O&&typeof P=="number"&&P!==0&&!(uc.hasOwnProperty(S)&&uc[S])?P+"px":(Kt(P,S),(""+P).trim())}var UN=/([A-Z])/g,VN=/^ms-/;function zN(S){return S.replace(UN,"-$1").toLowerCase().replace(VN,"-ms-")}var FR=function(){};{var WN=/^(?:webkit|moz|o)[A-Z]/,YN=/^-ms-/,XN=/-(.)/g,IR=/;\s*$/,af={},NT={},BR=!1,GR=!1,HN=function(S){return S.replace(XN,function(P,O){return O.toUpperCase()})},$N=function(S){af.hasOwnProperty(S)&&af[S]||(af[S]=!0,n("Unsupported style property %s. Did you mean %s?",S,HN(S.replace(YN,"ms-"))))},KN=function(S){af.hasOwnProperty(S)&&af[S]||(af[S]=!0,n("Unsupported vendor-prefixed style property %s. Did you mean %s?",S,S.charAt(0).toUpperCase()+S.slice(1)))},ZN=function(S,P){NT.hasOwnProperty(P)&&NT[P]||(NT[P]=!0,n(`Style property values shouldn't contain a semicolon. Try "%s: %s" instead.`,S,P.replace(IR,"")))},JN=function(S,P){BR||(BR=!0,n("`NaN` is an invalid value for the `%s` css style property.",S))},jN=function(S,P){GR||(GR=!0,n("`Infinity` is an invalid value for the `%s` css style property.",S))};FR=function(S,P){S.indexOf("-")>-1?$N(S):WN.test(S)?KN(S):IR.test(P)&&ZN(S,P),typeof P=="number"&&(isNaN(P)?JN(S,P):isFinite(P)||jN(S,P))}}var QN=FR;function qN(S){{var P="",O="";for(var D in S)if(S.hasOwnProperty(D)){var N=S[D];if(N!=null){var W=D.indexOf("--")===0;P+=O+(W?D:zN(D))+":",P+=kT(D,N,W),O=";"}}return P||null}}function kR(S,P){var O=S.style;for(var D in P)if(P.hasOwnProperty(D)){var N=D.indexOf("--")===0;N||QN(D,P[D]);var W=kT(D,P[D],N);D==="float"&&(D="cssFloat"),N?O.setProperty(D,W):O[D]=W}}function _N(S){return S==null||typeof S=="boolean"||S===""}function NR(S){var P={};for(var O in S)for(var D=GN[O]||[O],N=0;N<D.length;N++)P[D[N]]=O;return P}function t6(S,P){{if(!P)return;var O=NR(S),D=NR(P),N={};for(var W in O){var Z=O[W],q=D[W];if(q&&Z!==q){var et=Z+","+q;if(N[et])continue;N[et]=!0,n("%s a style property during rerender (%s) when a conflicting property is set (%s) can lead to styling bugs. To avoid this, don't mix shorthand and non-shorthand properties for the same value; instead, replace the shorthand with separate values.",_N(S[Z])?"Removing":"Updating",Z,q)}}}}var e6={area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0},i6=He({menuitem:!0},e6),r6="__html";function UT(S,P){if(P){if(i6[S]&&(P.children!=null||P.dangerouslySetInnerHTML!=null))throw new Error(S+" is a void element tag and must neither have `children` nor use `dangerouslySetInnerHTML`.");if(P.dangerouslySetInnerHTML!=null){if(P.children!=null)throw new Error("Can only set one of `children` or `props.dangerouslySetInnerHTML`.");if(typeof P.dangerouslySetInnerHTML!="object"||!(r6 in P.dangerouslySetInnerHTML))throw new Error("`props.dangerouslySetInnerHTML` must be in the form `{__html: ...}`. Please visit https://reactjs.org/link/dangerously-set-inner-html for more information.")}if(!P.suppressContentEditableWarning&&P.contentEditable&&P.children!=null&&n("A component is `contentEditable` and contains `children` managed by React. It is now your responsibility to guarantee that none of those nodes are unexpectedly modified or duplicated. This is probably not intentional."),P.style!=null&&typeof P.style!="object")throw new Error("The `style` prop expects a mapping from style properties to values, not a string. For example, style={{marginRight: spacing + 'em'}} when using JSX.")}}function Wh(S,P){if(S.indexOf("-")===-1)return typeof P.is=="string";switch(S){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Tg={accept:"accept",acceptcharset:"acceptCharset","accept-charset":"acceptCharset",accesskey:"accessKey",action:"action",allowfullscreen:"allowFullScreen",alt:"alt",as:"as",async:"async",autocapitalize:"autoCapitalize",autocomplete:"autoComplete",autocorrect:"autoCorrect",autofocus:"autoFocus",autoplay:"autoPlay",autosave:"autoSave",capture:"capture",cellpadding:"cellPadding",cellspacing:"cellSpacing",challenge:"challenge",charset:"charSet",checked:"checked",children:"children",cite:"cite",class:"className",classid:"classID",classname:"className",cols:"cols",colspan:"colSpan",content:"content",contenteditable:"contentEditable",contextmenu:"contextMenu",controls:"controls",controlslist:"controlsList",coords:"coords",crossorigin:"crossOrigin",dangerouslysetinnerhtml:"dangerouslySetInnerHTML",data:"data",datetime:"dateTime",default:"default",defaultchecked:"defaultChecked",defaultvalue:"defaultValue",defer:"defer",dir:"dir",disabled:"disabled",disablepictureinpicture:"disablePictureInPicture",disableremoteplayback:"disableRemotePlayback",download:"download",draggable:"draggable",enctype:"encType",enterkeyhint:"enterKeyHint",for:"htmlFor",form:"form",formmethod:"formMethod",formaction:"formAction",formenctype:"formEncType",formnovalidate:"formNoValidate",formtarget:"formTarget",frameborder:"frameBorder",headers:"headers",height:"height",hidden:"hidden",high:"high",href:"href",hreflang:"hrefLang",htmlfor:"htmlFor",httpequiv:"httpEquiv","http-equiv":"httpEquiv",icon:"icon",id:"id",imagesizes:"imageSizes",imagesrcset:"imageSrcSet",innerhtml:"innerHTML",inputmode:"inputMode",integrity:"integrity",is:"is",itemid:"itemID",itemprop:"itemProp",itemref:"itemRef",itemscope:"itemScope",itemtype:"itemType",keyparams:"keyParams",keytype:"keyType",kind:"kind",label:"label",lang:"lang",list:"list",loop:"loop",low:"low",manifest:"manifest",marginwidth:"marginWidth",marginheight:"marginHeight",max:"max",maxlength:"maxLength",media:"media",mediagroup:"mediaGroup",method:"method",min:"min",minlength:"minLength",multiple:"multiple",muted:"muted",name:"name",nomodule:"noModule",nonce:"nonce",novalidate:"noValidate",open:"open",optimum:"optimum",pattern:"pattern",placeholder:"placeholder",playsinline:"playsInline",poster:"poster",preload:"preload",profile:"profile",radiogroup:"radioGroup",readonly:"readOnly",referrerpolicy:"referrerPolicy",rel:"rel",required:"required",reversed:"reversed",role:"role",rows:"rows",rowspan:"rowSpan",sandbox:"sandbox",scope:"scope",scoped:"scoped",scrolling:"scrolling",seamless:"seamless",selected:"selected",shape:"shape",size:"size",sizes:"sizes",span:"span",spellcheck:"spellCheck",src:"src",srcdoc:"srcDoc",srclang:"srcLang",srcset:"srcSet",start:"start",step:"step",style:"style",summary:"summary",tabindex:"tabIndex",target:"target",title:"title",type:"type",usemap:"useMap",value:"value",width:"width",wmode:"wmode",wrap:"wrap",about:"about",accentheight:"accentHeight","accent-height":"accentHeight",accumulate:"accumulate",additive:"additive",alignmentbaseline:"alignmentBaseline","alignment-baseline":"alignmentBaseline",allowreorder:"allowReorder",alphabetic:"alphabetic",amplitude:"amplitude",arabicform:"arabicForm","arabic-form":"arabicForm",ascent:"ascent",attributename:"attributeName",attributetype:"attributeType",autoreverse:"autoReverse",azimuth:"azimuth",basefrequency:"baseFrequency",baselineshift:"baselineShift","baseline-shift":"baselineShift",baseprofile:"baseProfile",bbox:"bbox",begin:"begin",bias:"bias",by:"by",calcmode:"calcMode",capheight:"capHeight","cap-height":"capHeight",clip:"clip",clippath:"clipPath","clip-path":"clipPath",clippathunits:"clipPathUnits",cliprule:"clipRule","clip-rule":"clipRule",color:"color",colorinterpolation:"colorInterpolation","color-interpolation":"colorInterpolation",colorinterpolationfilters:"colorInterpolationFilters","color-interpolation-filters":"colorInterpolationFilters",colorprofile:"colorProfile","color-profile":"colorProfile",colorrendering:"colorRendering","color-rendering":"colorRendering",contentscripttype:"contentScriptType",contentstyletype:"contentStyleType",cursor:"cursor",cx:"cx",cy:"cy",d:"d",datatype:"datatype",decelerate:"decelerate",descent:"descent",diffuseconstant:"diffuseConstant",direction:"direction",display:"display",divisor:"divisor",dominantbaseline:"dominantBaseline","dominant-baseline":"dominantBaseline",dur:"dur",dx:"dx",dy:"dy",edgemode:"edgeMode",elevation:"elevation",enablebackground:"enableBackground","enable-background":"enableBackground",end:"end",exponent:"exponent",externalresourcesrequired:"externalResourcesRequired",fill:"fill",fillopacity:"fillOpacity","fill-opacity":"fillOpacity",fillrule:"fillRule","fill-rule":"fillRule",filter:"filter",filterres:"filterRes",filterunits:"filterUnits",floodopacity:"floodOpacity","flood-opacity":"floodOpacity",floodcolor:"floodColor","flood-color":"floodColor",focusable:"focusable",fontfamily:"fontFamily","font-family":"fontFamily",fontsize:"fontSize","font-size":"fontSize",fontsizeadjust:"fontSizeAdjust","font-size-adjust":"fontSizeAdjust",fontstretch:"fontStretch","font-stretch":"fontStretch",fontstyle:"fontStyle","font-style":"fontStyle",fontvariant:"fontVariant","font-variant":"fontVariant",fontweight:"fontWeight","font-weight":"fontWeight",format:"format",from:"from",fx:"fx",fy:"fy",g1:"g1",g2:"g2",glyphname:"glyphName","glyph-name":"glyphName",glyphorientationhorizontal:"glyphOrientationHorizontal","glyph-orientation-horizontal":"glyphOrientationHorizontal",glyphorientationvertical:"glyphOrientationVertical","glyph-orientation-vertical":"glyphOrientationVertical",glyphref:"glyphRef",gradienttransform:"gradientTransform",gradientunits:"gradientUnits",hanging:"hanging",horizadvx:"horizAdvX","horiz-adv-x":"horizAdvX",horizoriginx:"horizOriginX","horiz-origin-x":"horizOriginX",ideographic:"ideographic",imagerendering:"imageRendering","image-rendering":"imageRendering",in2:"in2",in:"in",inlist:"inlist",intercept:"intercept",k1:"k1",k2:"k2",k3:"k3",k4:"k4",k:"k",kernelmatrix:"kernelMatrix",kernelunitlength:"kernelUnitLength",kerning:"kerning",keypoints:"keyPoints",keysplines:"keySplines",keytimes:"keyTimes",lengthadjust:"lengthAdjust",letterspacing:"letterSpacing","letter-spacing":"letterSpacing",lightingcolor:"lightingColor","lighting-color":"lightingColor",limitingconeangle:"limitingConeAngle",local:"local",markerend:"markerEnd","marker-end":"markerEnd",markerheight:"markerHeight",markermid:"markerMid","marker-mid":"markerMid",markerstart:"markerStart","marker-start":"markerStart",markerunits:"markerUnits",markerwidth:"markerWidth",mask:"mask",maskcontentunits:"maskContentUnits",maskunits:"maskUnits",mathematical:"mathematical",mode:"mode",numoctaves:"numOctaves",offset:"offset",opacity:"opacity",operator:"operator",order:"order",orient:"orient",orientation:"orientation",origin:"origin",overflow:"overflow",overlineposition:"overlinePosition","overline-position":"overlinePosition",overlinethickness:"overlineThickness","overline-thickness":"overlineThickness",paintorder:"paintOrder","paint-order":"paintOrder",panose1:"panose1","panose-1":"panose1",pathlength:"pathLength",patterncontentunits:"patternContentUnits",patterntransform:"patternTransform",patternunits:"patternUnits",pointerevents:"pointerEvents","pointer-events":"pointerEvents",points:"points",pointsatx:"pointsAtX",pointsaty:"pointsAtY",pointsatz:"pointsAtZ",prefix:"prefix",preservealpha:"preserveAlpha",preserveaspectratio:"preserveAspectRatio",primitiveunits:"primitiveUnits",property:"property",r:"r",radius:"radius",refx:"refX",refy:"refY",renderingintent:"renderingIntent","rendering-intent":"renderingIntent",repeatcount:"repeatCount",repeatdur:"repeatDur",requiredextensions:"requiredExtensions",requiredfeatures:"requiredFeatures",resource:"resource",restart:"restart",result:"result",results:"results",rotate:"rotate",rx:"rx",ry:"ry",scale:"scale",security:"security",seed:"seed",shaperendering:"shapeRendering","shape-rendering":"shapeRendering",slope:"slope",spacing:"spacing",specularconstant:"specularConstant",specularexponent:"specularExponent",speed:"speed",spreadmethod:"spreadMethod",startoffset:"startOffset",stddeviation:"stdDeviation",stemh:"stemh",stemv:"stemv",stitchtiles:"stitchTiles",stopcolor:"stopColor","stop-color":"stopColor",stopopacity:"stopOpacity","stop-opacity":"stopOpacity",strikethroughposition:"strikethroughPosition","strikethrough-position":"strikethroughPosition",strikethroughthickness:"strikethroughThickness","strikethrough-thickness":"strikethroughThickness",string:"string",stroke:"stroke",strokedasharray:"strokeDasharray","stroke-dasharray":"strokeDasharray",strokedashoffset:"strokeDashoffset","stroke-dashoffset":"strokeDashoffset",strokelinecap:"strokeLinecap","stroke-linecap":"strokeLinecap",strokelinejoin:"strokeLinejoin","stroke-linejoin":"strokeLinejoin",strokemiterlimit:"strokeMiterlimit","stroke-miterlimit":"strokeMiterlimit",strokewidth:"strokeWidth","stroke-width":"strokeWidth",strokeopacity:"strokeOpacity","stroke-opacity":"strokeOpacity",suppresscontenteditablewarning:"suppressContentEditableWarning",suppresshydrationwarning:"suppressHydrationWarning",surfacescale:"surfaceScale",systemlanguage:"systemLanguage",tablevalues:"tableValues",targetx:"targetX",targety:"targetY",textanchor:"textAnchor","text-anchor":"textAnchor",textdecoration:"textDecoration","text-decoration":"textDecoration",textlength:"textLength",textrendering:"textRendering","text-rendering":"textRendering",to:"to",transform:"transform",typeof:"typeof",u1:"u1",u2:"u2",underlineposition:"underlinePosition","underline-position":"underlinePosition",underlinethickness:"underlineThickness","underline-thickness":"underlineThickness",unicode:"unicode",unicodebidi:"unicodeBidi","unicode-bidi":"unicodeBidi",unicoderange:"unicodeRange","unicode-range":"unicodeRange",unitsperem:"unitsPerEm","units-per-em":"unitsPerEm",unselectable:"unselectable",valphabetic:"vAlphabetic","v-alphabetic":"vAlphabetic",values:"values",vectoreffect:"vectorEffect","vector-effect":"vectorEffect",version:"version",vertadvy:"vertAdvY","vert-adv-y":"vertAdvY",vertoriginx:"vertOriginX","vert-origin-x":"vertOriginX",vertoriginy:"vertOriginY","vert-origin-y":"vertOriginY",vhanging:"vHanging","v-hanging":"vHanging",videographic:"vIdeographic","v-ideographic":"vIdeographic",viewbox:"viewBox",viewtarget:"viewTarget",visibility:"visibility",vmathematical:"vMathematical","v-mathematical":"vMathematical",vocab:"vocab",widths:"widths",wordspacing:"wordSpacing","word-spacing":"wordSpacing",writingmode:"writingMode","writing-mode":"writingMode",x1:"x1",x2:"x2",x:"x",xchannelselector:"xChannelSelector",xheight:"xHeight","x-height":"xHeight",xlinkactuate:"xlinkActuate","xlink:actuate":"xlinkActuate",xlinkarcrole:"xlinkArcrole","xlink:arcrole":"xlinkArcrole",xlinkhref:"xlinkHref","xlink:href":"xlinkHref",xlinkrole:"xlinkRole","xlink:role":"xlinkRole",xlinkshow:"xlinkShow","xlink:show":"xlinkShow",xlinktitle:"xlinkTitle","xlink:title":"xlinkTitle",xlinktype:"xlinkType","xlink:type":"xlinkType",xmlbase:"xmlBase","xml:base":"xmlBase",xmllang:"xmlLang","xml:lang":"xmlLang",xmlns:"xmlns","xml:space":"xmlSpace",xmlnsxlink:"xmlnsXlink","xmlns:xlink":"xmlnsXlink",xmlspace:"xmlSpace",y1:"y1",y2:"y2",y:"y",ychannelselector:"yChannelSelector",z:"z",zoomandpan:"zoomAndPan"},UR={"aria-current":0,"aria-description":0,"aria-details":0,"aria-disabled":0,"aria-hidden":0,"aria-invalid":0,"aria-keyshortcuts":0,"aria-label":0,"aria-roledescription":0,"aria-autocomplete":0,"aria-checked":0,"aria-expanded":0,"aria-haspopup":0,"aria-level":0,"aria-modal":0,"aria-multiline":0,"aria-multiselectable":0,"aria-orientation":0,"aria-placeholder":0,"aria-pressed":0,"aria-readonly":0,"aria-required":0,"aria-selected":0,"aria-sort":0,"aria-valuemax":0,"aria-valuemin":0,"aria-valuenow":0,"aria-valuetext":0,"aria-atomic":0,"aria-busy":0,"aria-live":0,"aria-relevant":0,"aria-dropeffect":0,"aria-grabbed":0,"aria-activedescendant":0,"aria-colcount":0,"aria-colindex":0,"aria-colspan":0,"aria-controls":0,"aria-describedby":0,"aria-errormessage":0,"aria-flowto":0,"aria-labelledby":0,"aria-owns":0,"aria-posinset":0,"aria-rowcount":0,"aria-rowindex":0,"aria-rowspan":0,"aria-setsize":0},of={},n6=new RegExp("^(aria)-["+Wt+"]*$"),s6=new RegExp("^(aria)[A-Z]["+Wt+"]*$");function a6(S,P){{if(ct.call(of,P)&&of[P])return!0;if(s6.test(P)){var O="aria-"+P.slice(4).toLowerCase(),D=UR.hasOwnProperty(O)?O:null;if(D==null)return n("Invalid ARIA attribute `%s`. ARIA attributes follow the pattern aria-* and must be lowercase.",P),of[P]=!0,!0;if(P!==D)return n("Invalid ARIA attribute `%s`. Did you mean `%s`?",P,D),of[P]=!0,!0}if(n6.test(P)){var N=P.toLowerCase(),W=UR.hasOwnProperty(N)?N:null;if(W==null)return of[P]=!0,!1;if(P!==W)return n("Unknown ARIA attribute `%s`. Did you mean `%s`?",P,W),of[P]=!0,!0}}return!0}function o6(S,P){{var O=[];for(var D in P){var N=a6(S,D);N||O.push(D)}var W=O.map(function(Z){return"`"+Z+"`"}).join(", ");O.length===1?n("Invalid aria prop %s on <%s> tag. For details, see https://reactjs.org/link/invalid-aria-props",W,S):O.length>1&&n("Invalid aria props %s on <%s> tag. For details, see https://reactjs.org/link/invalid-aria-props",W,S)}}function l6(S,P){Wh(S,P)||o6(S,P)}var VR=!1;function h6(S,P){{if(S!=="input"&&S!=="textarea"&&S!=="select")return;P!=null&&P.value===null&&!VR&&(VR=!0,S==="select"&&P.multiple?n("`value` prop on `%s` should not be null. Consider using an empty array when `multiple` is set to `true` to clear the component or `undefined` for uncontrolled components.",S):n("`value` prop on `%s` should not be null. Consider using an empty string to clear the component or `undefined` for uncontrolled components.",S))}}var zR=function(){};{var Dn={},WR=/^on./,u6=/^on[^A-Z]/,f6=new RegExp("^(aria)-["+Wt+"]*$"),d6=new RegExp("^(aria)[A-Z]["+Wt+"]*$");zR=function(S,P,O,D){if(ct.call(Dn,P)&&Dn[P])return!0;var N=P.toLowerCase();if(N==="onfocusin"||N==="onfocusout")return n("React uses onFocus and onBlur instead of onFocusIn and onFocusOut. All React events are normalized to bubble, so onFocusIn and onFocusOut are not needed/supported by React."),Dn[P]=!0,!0;if(D!=null){var W=D.registrationNameDependencies,Z=D.possibleRegistrationNames;if(W.hasOwnProperty(P))return!0;var q=Z.hasOwnProperty(N)?Z[N]:null;if(q!=null)return n("Invalid event handler property `%s`. Did you mean `%s`?",P,q),Dn[P]=!0,!0;if(WR.test(P))return n("Unknown event handler property `%s`. It will be ignored.",P),Dn[P]=!0,!0}else if(WR.test(P))return u6.test(P)&&n("Invalid event handler property `%s`. React events use the camelCase naming convention, for example `onClick`.",P),Dn[P]=!0,!0;if(f6.test(P)||d6.test(P))return!0;if(N==="innerhtml")return n("Directly setting property `innerHTML` is not permitted. For more information, lookup documentation on `dangerouslySetInnerHTML`."),Dn[P]=!0,!0;if(N==="aria")return n("The `aria` attribute is reserved for future use in React. Pass individual `aria-` attributes instead."),Dn[P]=!0,!0;if(N==="is"&&O!==null&&O!==void 0&&typeof O!="string")return n("Received a `%s` for a string attribute `is`. If this is expected, cast the value to a string.",typeof O),Dn[P]=!0,!0;if(typeof O=="number"&&isNaN(O))return n("Received NaN for the `%s` attribute. If this is expected, cast the value to a string.",P),Dn[P]=!0,!0;var et=Hi(P),nt=et!==null&&et.type===Vt;if(Tg.hasOwnProperty(N)){var at=Tg[N];if(at!==P)return n("Invalid DOM property `%s`. Did you mean `%s`?",P,at),Dn[P]=!0,!0}else if(!nt&&P!==N)return n("React does not recognize the `%s` prop on a DOM element. If you intentionally want it to appear in the DOM as a custom attribute, spell it as lowercase `%s` instead. If you accidentally passed it from a parent component, remove it from the DOM element.",P,N),Dn[P]=!0,!0;return typeof O=="boolean"&&Xi(P,O,et,!1)?(O?n('Received `%s` for a non-boolean attribute `%s`.\n\nIf you want to write it to the DOM, pass a string instead: %s="%s" or %s={value.toString()}.',O,P,P,O,P):n('Received `%s` for a non-boolean attribute `%s`.\n\nIf you want to write it to the DOM, pass a string instead: %s="%s" or %s={value.toString()}.\n\nIf you used to conditionally omit it with %s={condition && value}, pass %s={condition ? value : undefined} instead.',O,P,P,O,P,P,P),Dn[P]=!0,!0):nt?!0:Xi(P,O,et,!1)?(Dn[P]=!0,!1):((O==="false"||O==="true")&&et!==null&&et.type===Me&&(n("Received the string `%s` for the boolean attribute `%s`. %s Did you mean %s={%s}?",O,P,O==="false"?"The browser will interpret it as a truthy value.":'Although this works, it will not work as expected if you pass the string "false".',P,O),Dn[P]=!0),!0)}}var c6=function(S,P,O){{var D=[];for(var N in P){var W=zR(S,N,P[N],O);W||D.push(N)}var Z=D.map(function(q){return"`"+q+"`"}).join(", ");D.length===1?n("Invalid value for prop %s on <%s> tag. Either remove it from the element, or pass a string or number value to keep it in the DOM. For details, see https://reactjs.org/link/attribute-behavior ",Z,S):D.length>1&&n("Invalid values for props %s on <%s> tag. Either remove them from the element, or pass a string or number value to keep them in the DOM. For details, see https://reactjs.org/link/attribute-behavior ",Z,S)}};function v6(S,P,O){Wh(S,P)||c6(S,P,O)}var YR=1,VT=2,fc=4,p6=YR|VT|fc,dc=null;function g6(S){dc!==null&&n("Expected currently replaying event to be null. This error is likely caused by a bug in React. Please file an issue."),dc=S}function m6(){dc===null&&n("Expected currently replaying event to not be null. This error is likely caused by a bug in React. Please file an issue."),dc=null}function y6(S){return S===dc}function zT(S){var P=S.target||S.srcElement||window;return P.correspondingUseElement&&(P=P.correspondingUseElement),P.nodeType===ko?P.parentNode:P}var WT=null,lf=null,hf=null;function XR(S){var P=Gl(S);if(P){if(typeof WT!="function")throw new Error("setRestoreImplementation() needs to be called to handle a target for controlled events. This error is likely caused by a bug in React. Please file an issue.");var O=P.stateNode;if(O){var D=rm(O);WT(P.stateNode,P.type,D)}}}function x6(S){WT=S}function HR(S){lf?hf?hf.push(S):hf=[S]:lf=S}function T6(){return lf!==null||hf!==null}function $R(){if(lf){var S=lf,P=hf;if(lf=null,hf=null,XR(S),P)for(var O=0;O<P.length;O++)XR(P[O])}}var KR=function(S,P){return S(P)},ZR=function(){},YT=!1;function C6(){var S=T6();S&&(ZR(),$R())}function JR(S,P,O){if(YT)return S(P,O);YT=!0;try{return KR(S,P,O)}finally{YT=!1,C6()}}function S6(S,P,O){KR=S,ZR=O}function E6(S){return S==="button"||S==="input"||S==="select"||S==="textarea"}function P6(S,P,O){switch(S){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":return!!(O.disabled&&E6(P));default:return!1}}function cc(S,P){var O=S.stateNode;if(O===null)return null;var D=rm(O);if(D===null)return null;var N=D[P];if(P6(P,S.type,D))return null;if(N&&typeof N!="function")throw new Error("Expected `"+P+"` listener to be a function, instead got a value of `"+typeof N+"` type.");return N}var XT=!1;if(ft)try{var vc={};Object.defineProperty(vc,"passive",{get:function(){XT=!0}}),window.addEventListener("test",vc,vc),window.removeEventListener("test",vc,vc)}catch{XT=!1}function jR(S,P,O,D,N,W,Z,q,et){var nt=Array.prototype.slice.call(arguments,3);try{P.apply(O,nt)}catch(at){this.onError(at)}}var QR=jR;if(typeof window<"u"&&typeof window.dispatchEvent=="function"&&typeof document<"u"&&typeof document.createEvent=="function"){var HT=document.createElement("react");QR=function(P,O,D,N,W,Z,q,et,nt){if(typeof document>"u"||document===null)throw new Error("The `document` global was defined when React was initialized, but is not defined anymore. This can happen in a test environment if a component schedules an update from an asynchronous callback, but the test has already finished running. To solve this, you can either unmount the component at the end of your test (and ensure that any asynchronous operations get canceled in `componentWillUnmount`), or you can change the test itself to be asynchronous.");var at=document.createEvent("Event"),pt=!1,vt=!0,Ct=window.event,Pt=Object.getOwnPropertyDescriptor(window,"event");function At(){HT.removeEventListener(Ot,Ce,!1),typeof window.event<"u"&&window.hasOwnProperty("event")&&(window.event=Ct)}var jt=Array.prototype.slice.call(arguments,3);function Ce(){pt=!0,At(),O.apply(D,jt),vt=!1}var me,si=!1,ei=!1;function mt(yt){if(me=yt.error,si=!0,me===null&&yt.colno===0&&yt.lineno===0&&(ei=!0),yt.defaultPrevented&&me!=null&&typeof me=="object")try{me._suppressLogging=!0}catch{}}var Ot="react-"+(P||"invokeguardedcallback");if(window.addEventListener("error",mt),HT.addEventListener(Ot,Ce,!1),at.initEvent(Ot,!1,!1),HT.dispatchEvent(at),Pt&&Object.defineProperty(window,"event",Pt),pt&&vt&&(si?ei&&(me=new Error("A cross-origin error was thrown. React doesn't have access to the actual error object in development. See https://reactjs.org/link/crossorigin-error for more information.")):me=new Error(`An error was thrown inside one of your components, but React doesn't know what it was. This is likely due to browser flakiness. React does its best to preserve the "Pause on exceptions" behavior of the DevTools, which requires some DEV-mode only tricks. It's possible that these don't work in your browser. Try triggering the error in production mode, or switching to a modern browser. If you suspect that this is actually an issue with React, please file an issue.`),this.onError(me)),window.removeEventListener("error",mt),!pt)return At(),jR.apply(this,arguments)}}var b6=QR,uf=!1,Cg=null,Sg=!1,$T=null,M6={onError:function(S){uf=!0,Cg=S}};function KT(S,P,O,D,N,W,Z,q,et){uf=!1,Cg=null,b6.apply(M6,arguments)}function w6(S,P,O,D,N,W,Z,q,et){if(KT.apply(this,arguments),uf){var nt=ZT();Sg||(Sg=!0,$T=nt)}}function R6(){if(Sg){var S=$T;throw Sg=!1,$T=null,S}}function A6(){return uf}function ZT(){if(uf){var S=Cg;return uf=!1,Cg=null,S}else throw new Error("clearCaughtError was called but no error was captured. This error is likely caused by a bug in React. Please file an issue.")}function ff(S){return S._reactInternals}function O6(S){return S._reactInternals!==void 0}function L6(S,P){S._reactInternals=P}var Ae=0,df=1,yr=2,oi=4,Yh=16,pc=32,JT=64,pi=128,Uo=256,Al=512,Xh=1024,da=2048,Vo=4096,Hh=8192,Eg=16384,D6=da|oi|JT|Al|Xh|Eg,F6=32767,gc=32768,Fn=65536,jT=131072,qR=1048576,QT=2097152,$h=4194304,qT=8388608,zo=16777216,Pg=33554432,_T=oi|Xh|0,tC=yr|oi|Yh|pc|Al|Vo|Hh,mc=oi|JT|Al|Hh,cf=da|Yh,Wo=$h|qT|QT,I6=i.ReactCurrentOwner;function Kh(S){var P=S,O=S;if(S.alternate)for(;P.return;)P=P.return;else{var D=P;do P=D,(P.flags&(yr|Vo))!==Ae&&(O=P.return),D=P.return;while(D)}return P.tag===d?O:null}function _R(S){if(S.tag===y){var P=S.memoizedState;if(P===null){var O=S.alternate;O!==null&&(P=O.memoizedState)}if(P!==null)return P.dehydrated}return null}function tA(S){return S.tag===d?S.stateNode.containerInfo:null}function B6(S){return Kh(S)===S}function G6(S){{var P=I6.current;if(P!==null&&P.tag===o){var O=P,D=O.stateNode;D._warnedAboutRefsInRender||n("%s is accessing isMounted inside its render() function. render() should be a pure function of props and state. It should never access something that requires stale data from the previous render, such as refs. Move this logic to componentDidMount and componentDidUpdate instead.",Ft(O)||"A component"),D._warnedAboutRefsInRender=!0}}var N=ff(S);return N?Kh(N)===N:!1}function eA(S){if(Kh(S)!==S)throw new Error("Unable to find node on an unmounted component.")}function iA(S){var P=S.alternate;if(!P){var O=Kh(S);if(O===null)throw new Error("Unable to find node on an unmounted component.");return O!==S?null:S}for(var D=S,N=P;;){var W=D.return;if(W===null)break;var Z=W.alternate;if(Z===null){var q=W.return;if(q!==null){D=N=q;continue}break}if(W.child===Z.child){for(var et=W.child;et;){if(et===D)return eA(W),S;if(et===N)return eA(W),P;et=et.sibling}throw new Error("Unable to find node on an unmounted component.")}if(D.return!==N.return)D=W,N=Z;else{for(var nt=!1,at=W.child;at;){if(at===D){nt=!0,D=W,N=Z;break}if(at===N){nt=!0,N=W,D=Z;break}at=at.sibling}if(!nt){for(at=Z.child;at;){if(at===D){nt=!0,D=Z,N=W;break}if(at===N){nt=!0,N=Z,D=W;break}at=at.sibling}if(!nt)throw new Error("Child was not found in either parent set. This indicates a bug in React related to the return pointer. Please file an issue.")}}if(D.alternate!==N)throw new Error("Return fibers should always be each others' alternates. This error is likely caused by a bug in React. Please file an issue.")}if(D.tag!==d)throw new Error("Unable to find node on an unmounted component.");return D.stateNode.current===D?S:P}function rA(S){var P=iA(S);return P!==null?nA(P):null}function nA(S){if(S.tag===l||S.tag===a)return S;for(var P=S.child;P!==null;){var O=nA(P);if(O!==null)return O;P=P.sibling}return null}function k6(S){var P=iA(S);return P!==null?sA(P):null}function sA(S){if(S.tag===l||S.tag===a)return S;for(var P=S.child;P!==null;){if(P.tag!==h){var O=sA(P);if(O!==null)return O}P=P.sibling}return null}var aA=t.unstable_scheduleCallback,N6=t.unstable_cancelCallback,U6=t.unstable_shouldYield,V6=t.unstable_requestPaint,Yr=t.unstable_now,z6=t.unstable_getCurrentPriorityLevel,bg=t.unstable_ImmediatePriority,eC=t.unstable_UserBlockingPriority,Zh=t.unstable_NormalPriority,W6=t.unstable_LowPriority,iC=t.unstable_IdlePriority,Y6=t.unstable_yieldValue,X6=t.unstable_setDisableYieldValue,vf=null,xn=null,te=null,Ja=!1,ca=typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u";function H6(S){if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u")return!1;var P=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(P.isDisabled)return!0;if(!P.supportsFiber)return n("The installed version of React DevTools is too old and will not work with the current version of React. Please update React DevTools. https://reactjs.org/link/react-devtools"),!0;try{z&&(S=He({},S,{getLaneLabelMap:Q6,injectProfilingHooks:j6})),vf=P.inject(S),xn=P}catch(O){n("React instrumentation encountered an error: %s.",O)}return!!P.checkDCE}function $6(S,P){if(xn&&typeof xn.onScheduleFiberRoot=="function")try{xn.onScheduleFiberRoot(vf,S,P)}catch(O){Ja||(Ja=!0,n("React instrumentation encountered an error: %s",O))}}function K6(S,P){if(xn&&typeof xn.onCommitFiberRoot=="function")try{var O=(S.current.flags&pi)===pi;if(V){var D;switch(P){case vs:D=bg;break;case Xo:D=eC;break;case Ho:D=Zh;break;case Dg:D=iC;break;default:D=Zh;break}xn.onCommitFiberRoot(vf,S,D,O)}}catch(N){Ja||(Ja=!0,n("React instrumentation encountered an error: %s",N))}}function Z6(S){if(xn&&typeof xn.onPostCommitFiberRoot=="function")try{xn.onPostCommitFiberRoot(vf,S)}catch(P){Ja||(Ja=!0,n("React instrumentation encountered an error: %s",P))}}function J6(S){if(xn&&typeof xn.onCommitFiberUnmount=="function")try{xn.onCommitFiberUnmount(vf,S)}catch(P){Ja||(Ja=!0,n("React instrumentation encountered an error: %s",P))}}function Xr(S){if(typeof Y6=="function"&&(X6(S),p(S)),xn&&typeof xn.setStrictMode=="function")try{xn.setStrictMode(vf,S)}catch(P){Ja||(Ja=!0,n("React instrumentation encountered an error: %s",P))}}function j6(S){te=S}function Q6(){{for(var S=new Map,P=1,O=0;O<nC;O++){var D=m7(P);S.set(P,D),P*=2}return S}}function q6(S){te!==null&&typeof te.markCommitStarted=="function"&&te.markCommitStarted(S)}function oA(){te!==null&&typeof te.markCommitStopped=="function"&&te.markCommitStopped()}function yc(S){te!==null&&typeof te.markComponentRenderStarted=="function"&&te.markComponentRenderStarted(S)}function pf(){te!==null&&typeof te.markComponentRenderStopped=="function"&&te.markComponentRenderStopped()}function _6(S){te!==null&&typeof te.markComponentPassiveEffectMountStarted=="function"&&te.markComponentPassiveEffectMountStarted(S)}function t7(){te!==null&&typeof te.markComponentPassiveEffectMountStopped=="function"&&te.markComponentPassiveEffectMountStopped()}function e7(S){te!==null&&typeof te.markComponentPassiveEffectUnmountStarted=="function"&&te.markComponentPassiveEffectUnmountStarted(S)}function i7(){te!==null&&typeof te.markComponentPassiveEffectUnmountStopped=="function"&&te.markComponentPassiveEffectUnmountStopped()}function r7(S){te!==null&&typeof te.markComponentLayoutEffectMountStarted=="function"&&te.markComponentLayoutEffectMountStarted(S)}function n7(){te!==null&&typeof te.markComponentLayoutEffectMountStopped=="function"&&te.markComponentLayoutEffectMountStopped()}function lA(S){te!==null&&typeof te.markComponentLayoutEffectUnmountStarted=="function"&&te.markComponentLayoutEffectUnmountStarted(S)}function hA(){te!==null&&typeof te.markComponentLayoutEffectUnmountStopped=="function"&&te.markComponentLayoutEffectUnmountStopped()}function s7(S,P,O){te!==null&&typeof te.markComponentErrored=="function"&&te.markComponentErrored(S,P,O)}function a7(S,P,O){te!==null&&typeof te.markComponentSuspended=="function"&&te.markComponentSuspended(S,P,O)}function o7(S){te!==null&&typeof te.markLayoutEffectsStarted=="function"&&te.markLayoutEffectsStarted(S)}function l7(){te!==null&&typeof te.markLayoutEffectsStopped=="function"&&te.markLayoutEffectsStopped()}function h7(S){te!==null&&typeof te.markPassiveEffectsStarted=="function"&&te.markPassiveEffectsStarted(S)}function u7(){te!==null&&typeof te.markPassiveEffectsStopped=="function"&&te.markPassiveEffectsStopped()}function uA(S){te!==null&&typeof te.markRenderStarted=="function"&&te.markRenderStarted(S)}function f7(){te!==null&&typeof te.markRenderYielded=="function"&&te.markRenderYielded()}function fA(){te!==null&&typeof te.markRenderStopped=="function"&&te.markRenderStopped()}function d7(S){te!==null&&typeof te.markRenderScheduled=="function"&&te.markRenderScheduled(S)}function c7(S,P){te!==null&&typeof te.markForceUpdateScheduled=="function"&&te.markForceUpdateScheduled(S,P)}function rC(S,P){te!==null&&typeof te.markStateUpdateScheduled=="function"&&te.markStateUpdateScheduled(S,P)}var be=0,ri=1,Pi=2,ir=8,ja=16,dA=Math.clz32?Math.clz32:g7,v7=Math.log,p7=Math.LN2;function g7(S){var P=S>>>0;return P===0?32:31-(v7(P)/p7|0)|0}var nC=31,Nt=0,Hr=0,Ge=1,gf=2,Yo=4,Jh=8,Qa=16,xc=32,mf=4194240,Tc=64,sC=128,aC=256,oC=512,lC=1024,hC=2048,uC=4096,fC=8192,dC=16384,cC=32768,vC=65536,pC=131072,gC=262144,mC=524288,yC=1048576,xC=2097152,Mg=130023424,yf=4194304,TC=8388608,CC=16777216,SC=33554432,EC=67108864,cA=yf,Cc=134217728,vA=268435455,Sc=268435456,jh=536870912,ds=1073741824;function m7(S){{if(S&Ge)return"Sync";if(S&gf)return"InputContinuousHydration";if(S&Yo)return"InputContinuous";if(S&Jh)return"DefaultHydration";if(S&Qa)return"Default";if(S&xc)return"TransitionHydration";if(S&mf)return"Transition";if(S&Mg)return"Retry";if(S&Cc)return"SelectiveHydration";if(S&Sc)return"IdleHydration";if(S&jh)return"Idle";if(S&ds)return"Offscreen"}}var zi=-1,wg=Tc,Rg=yf;function Ec(S){switch(Qh(S)){case Ge:return Ge;case gf:return gf;case Yo:return Yo;case Jh:return Jh;case Qa:return Qa;case xc:return xc;case Tc:case sC:case aC:case oC:case lC:case hC:case uC:case fC:case dC:case cC:case vC:case pC:case gC:case mC:case yC:case xC:return S&mf;case yf:case TC:case CC:case SC:case EC:return S&Mg;case Cc:return Cc;case Sc:return Sc;case jh:return jh;case ds:return ds;default:return n("Should have found matching lanes. This is a bug in React."),S}}function Ag(S,P){var O=S.pendingLanes;if(O===Nt)return Nt;var D=Nt,N=S.suspendedLanes,W=S.pingedLanes,Z=O&vA;if(Z!==Nt){var q=Z&~N;if(q!==Nt)D=Ec(q);else{var et=Z&W;et!==Nt&&(D=Ec(et))}}else{var nt=O&~N;nt!==Nt?D=Ec(nt):W!==Nt&&(D=Ec(W))}if(D===Nt)return Nt;if(P!==Nt&&P!==D&&(P&N)===Nt){var at=Qh(D),pt=Qh(P);if(at>=pt||at===Qa&&(pt&mf)!==Nt)return P}(D&Yo)!==Nt&&(D|=O&Qa);var vt=S.entangledLanes;if(vt!==Nt)for(var Ct=S.entanglements,Pt=D&vt;Pt>0;){var At=qh(Pt),jt=1<<At;D|=Ct[At],Pt&=~jt}return D}function y7(S,P){for(var O=S.eventTimes,D=zi;P>0;){var N=qh(P),W=1<<N,Z=O[N];Z>D&&(D=Z),P&=~W}return D}function x7(S,P){switch(S){case Ge:case gf:case Yo:return P+250;case Jh:case Qa:case xc:case Tc:case sC:case aC:case oC:case lC:case hC:case uC:case fC:case dC:case cC:case vC:case pC:case gC:case mC:case yC:case xC:return P+5e3;case yf:case TC:case CC:case SC:case EC:return zi;case Cc:case Sc:case jh:case ds:return zi;default:return n("Should have found matching lanes. This is a bug in React."),zi}}function T7(S,P){for(var O=S.pendingLanes,D=S.suspendedLanes,N=S.pingedLanes,W=S.expirationTimes,Z=O;Z>0;){var q=qh(Z),et=1<<q,nt=W[q];nt===zi?((et&D)===Nt||(et&N)!==Nt)&&(W[q]=x7(et,P)):nt<=P&&(S.expiredLanes|=et),Z&=~et}}function C7(S){return Ec(S.pendingLanes)}function PC(S){var P=S.pendingLanes&~ds;return P!==Nt?P:P&ds?ds:Nt}function S7(S){return(S&Ge)!==Nt}function bC(S){return(S&vA)!==Nt}function pA(S){return(S&Mg)===S}function E7(S){var P=Ge|Yo|Qa;return(S&P)===Nt}function P7(S){return(S&mf)===S}function Og(S,P){var O=gf|Yo|Jh|Qa;return(P&O)!==Nt}function b7(S,P){return(P&S.expiredLanes)!==Nt}function gA(S){return(S&mf)!==Nt}function mA(){var S=wg;return wg<<=1,(wg&mf)===Nt&&(wg=Tc),S}function M7(){var S=Rg;return Rg<<=1,(Rg&Mg)===Nt&&(Rg=yf),S}function Qh(S){return S&-S}function Pc(S){return Qh(S)}function qh(S){return 31-dA(S)}function MC(S){return qh(S)}function cs(S,P){return(S&P)!==Nt}function xf(S,P){return(S&P)===P}function Je(S,P){return S|P}function Lg(S,P){return S&~P}function yA(S,P){return S&P}function Ubt(S){return S}function w7(S,P){return S!==Hr&&S<P?S:P}function wC(S){for(var P=[],O=0;O<nC;O++)P.push(S);return P}function bc(S,P,O){S.pendingLanes|=P,P!==jh&&(S.suspendedLanes=Nt,S.pingedLanes=Nt);var D=S.eventTimes,N=MC(P);D[N]=O}function R7(S,P){S.suspendedLanes|=P,S.pingedLanes&=~P;for(var O=S.expirationTimes,D=P;D>0;){var N=qh(D),W=1<<N;O[N]=zi,D&=~W}}function xA(S,P,O){S.pingedLanes|=S.suspendedLanes&P}function A7(S,P){var O=S.pendingLanes&~P;S.pendingLanes=P,S.suspendedLanes=Nt,S.pingedLanes=Nt,S.expiredLanes&=P,S.mutableReadLanes&=P,S.entangledLanes&=P;for(var D=S.entanglements,N=S.eventTimes,W=S.expirationTimes,Z=O;Z>0;){var q=qh(Z),et=1<<q;D[q]=Nt,N[q]=zi,W[q]=zi,Z&=~et}}function RC(S,P){for(var O=S.entangledLanes|=P,D=S.entanglements,N=O;N;){var W=qh(N),Z=1<<W;Z&P|D[W]&P&&(D[W]|=P),N&=~Z}}function O7(S,P){var O=Qh(P),D;switch(O){case Yo:D=gf;break;case Qa:D=Jh;break;case Tc:case sC:case aC:case oC:case lC:case hC:case uC:case fC:case dC:case cC:case vC:case pC:case gC:case mC:case yC:case xC:case yf:case TC:case CC:case SC:case EC:D=xc;break;case jh:D=Sc;break;default:D=Hr;break}return(D&(S.suspendedLanes|P))!==Hr?Hr:D}function TA(S,P,O){if(ca)for(var D=S.pendingUpdatersLaneMap;O>0;){var N=MC(O),W=1<<N,Z=D[N];Z.add(P),O&=~W}}function CA(S,P){if(ca)for(var O=S.pendingUpdatersLaneMap,D=S.memoizedUpdaters;P>0;){var N=MC(P),W=1<<N,Z=O[N];Z.size>0&&(Z.forEach(function(q){var et=q.alternate;(et===null||!D.has(et))&&D.add(q)}),Z.clear()),P&=~W}}function SA(S,P){return null}var vs=Ge,Xo=Yo,Ho=Qa,Dg=jh,Mc=Hr;function va(){return Mc}function $r(S){Mc=S}function L7(S,P){var O=Mc;try{return Mc=S,P()}finally{Mc=O}}function D7(S,P){return S!==0&&S<P?S:P}function F7(S,P){return S>P?S:P}function AC(S,P){return S!==0&&S<P}function EA(S){var P=Qh(S);return AC(vs,P)?AC(Xo,P)?bC(P)?Ho:Dg:Xo:vs}function Fg(S){var P=S.current.memoizedState;return P.isDehydrated}var PA;function I7(S){PA=S}function B7(S){PA(S)}var OC;function G7(S){OC=S}var bA;function k7(S){bA=S}var MA;function N7(S){MA=S}var wA;function U7(S){wA=S}var LC=!1,Ig=[],Ol=null,Ll=null,Dl=null,wc=new Map,Rc=new Map,Fl=[],V7=["mousedown","mouseup","touchcancel","touchend","touchstart","auxclick","dblclick","pointercancel","pointerdown","pointerup","dragend","dragstart","drop","compositionend","compositionstart","keydown","keypress","keyup","input","textInput","copy","cut","paste","click","change","contextmenu","reset","submit"];function z7(S){return V7.indexOf(S)>-1}function W7(S,P,O,D,N){return{blockedOn:S,domEventName:P,eventSystemFlags:O,nativeEvent:N,targetContainers:[D]}}function RA(S,P){switch(S){case"focusin":case"focusout":Ol=null;break;case"dragenter":case"dragleave":Ll=null;break;case"mouseover":case"mouseout":Dl=null;break;case"pointerover":case"pointerout":{var O=P.pointerId;wc.delete(O);break}case"gotpointercapture":case"lostpointercapture":{var D=P.pointerId;Rc.delete(D);break}}}function Ac(S,P,O,D,N,W){if(S===null||S.nativeEvent!==W){var Z=W7(P,O,D,N,W);if(P!==null){var q=Gl(P);q!==null&&OC(q)}return Z}S.eventSystemFlags|=D;var et=S.targetContainers;return N!==null&&et.indexOf(N)===-1&&et.push(N),S}function Y7(S,P,O,D,N){switch(P){case"focusin":{var W=N;return Ol=Ac(Ol,S,P,O,D,W),!0}case"dragenter":{var Z=N;return Ll=Ac(Ll,S,P,O,D,Z),!0}case"mouseover":{var q=N;return Dl=Ac(Dl,S,P,O,D,q),!0}case"pointerover":{var et=N,nt=et.pointerId;return wc.set(nt,Ac(wc.get(nt)||null,S,P,O,D,et)),!0}case"gotpointercapture":{var at=N,pt=at.pointerId;return Rc.set(pt,Ac(Rc.get(pt)||null,S,P,O,D,at)),!0}}return!1}function AA(S){var P=eu(S.target);if(P!==null){var O=Kh(P);if(O!==null){var D=O.tag;if(D===y){var N=_R(O);if(N!==null){S.blockedOn=N,wA(S.priority,function(){bA(O)});return}}else if(D===d){var W=O.stateNode;if(Fg(W)){S.blockedOn=tA(O);return}}}}S.blockedOn=null}function X7(S){for(var P=MA(),O={blockedOn:null,target:S,priority:P},D=0;D<Fl.length&&AC(P,Fl[D].priority);D++);Fl.splice(D,0,O),D===0&&AA(O)}function Bg(S){if(S.blockedOn!==null)return!1;for(var P=S.targetContainers;P.length>0;){var O=P[0],D=IC(S.domEventName,S.eventSystemFlags,O,S.nativeEvent);if(D===null){var N=S.nativeEvent,W=new N.constructor(N.type,N);g6(W),N.target.dispatchEvent(W),m6()}else{var Z=Gl(D);return Z!==null&&OC(Z),S.blockedOn=D,!1}P.shift()}return!0}function OA(S,P,O){Bg(S)&&O.delete(P)}function H7(){LC=!1,Ol!==null&&Bg(Ol)&&(Ol=null),Ll!==null&&Bg(Ll)&&(Ll=null),Dl!==null&&Bg(Dl)&&(Dl=null),wc.forEach(OA),Rc.forEach(OA)}function Oc(S,P){S.blockedOn===P&&(S.blockedOn=null,LC||(LC=!0,t.unstable_scheduleCallback(t.unstable_NormalPriority,H7)))}function Lc(S){if(Ig.length>0){Oc(Ig[0],S);for(var P=1;P<Ig.length;P++){var O=Ig[P];O.blockedOn===S&&(O.blockedOn=null)}}Ol!==null&&Oc(Ol,S),Ll!==null&&Oc(Ll,S),Dl!==null&&Oc(Dl,S);var D=function(q){return Oc(q,S)};wc.forEach(D),Rc.forEach(D);for(var N=0;N<Fl.length;N++){var W=Fl[N];W.blockedOn===S&&(W.blockedOn=null)}for(;Fl.length>0;){var Z=Fl[0];if(Z.blockedOn!==null)break;AA(Z),Z.blockedOn===null&&Fl.shift()}}var Tf=i.ReactCurrentBatchConfig,DC=!0;function LA(S){DC=!!S}function $7(){return DC}function K7(S,P,O){var D=DA(P),N;switch(D){case vs:N=Z7;break;case Xo:N=J7;break;case Ho:default:N=FC;break}return N.bind(null,P,O,S)}function Z7(S,P,O,D){var N=va(),W=Tf.transition;Tf.transition=null;try{$r(vs),FC(S,P,O,D)}finally{$r(N),Tf.transition=W}}function J7(S,P,O,D){var N=va(),W=Tf.transition;Tf.transition=null;try{$r(Xo),FC(S,P,O,D)}finally{$r(N),Tf.transition=W}}function FC(S,P,O,D){DC&&j7(S,P,O,D)}function j7(S,P,O,D){var N=IC(S,P,O,D);if(N===null){ZC(S,P,D,Gg,O),RA(S,D);return}if(Y7(N,S,P,O,D)){D.stopPropagation();return}if(RA(S,D),P&fc&&z7(S)){for(;N!==null;){var W=Gl(N);W!==null&&B7(W);var Z=IC(S,P,O,D);if(Z===null&&ZC(S,P,D,Gg,O),Z===N)break;N=Z}N!==null&&D.stopPropagation();return}ZC(S,P,D,null,O)}var Gg=null;function IC(S,P,O,D){Gg=null;var N=zT(D),W=eu(N);if(W!==null){var Z=Kh(W);if(Z===null)W=null;else{var q=Z.tag;if(q===y){var et=_R(Z);if(et!==null)return et;W=null}else if(q===d){var nt=Z.stateNode;if(Fg(nt))return tA(Z);W=null}else Z!==W&&(W=null)}}return Gg=W,null}function DA(S){switch(S){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return vs;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return Xo;case"message":{var P=z6();switch(P){case bg:return vs;case eC:return Xo;case Zh:case W6:return Ho;case iC:return Dg;default:return Ho}}default:return Ho}}function Q7(S,P,O){return S.addEventListener(P,O,!1),O}function q7(S,P,O){return S.addEventListener(P,O,!0),O}function _7(S,P,O,D){return S.addEventListener(P,O,{capture:!0,passive:D}),O}function tU(S,P,O,D){return S.addEventListener(P,O,{passive:D}),O}var Dc=null,BC=null,Fc=null;function eU(S){return Dc=S,BC=IA(),!0}function iU(){Dc=null,BC=null,Fc=null}function FA(){if(Fc)return Fc;var S,P=BC,O=P.length,D,N=IA(),W=N.length;for(S=0;S<O&&P[S]===N[S];S++);var Z=O-S;for(D=1;D<=Z&&P[O-D]===N[W-D];D++);var q=D>1?1-D:void 0;return Fc=N.slice(S,q),Fc}function IA(){return"value"in Dc?Dc.value:Dc.textContent}function kg(S){var P,O=S.keyCode;return"charCode"in S?(P=S.charCode,P===0&&O===13&&(P=13)):P=O,P===10&&(P=13),P>=32||P===13?P:0}function Ng(){return!0}function BA(){return!1}function ps(S){function P(O,D,N,W,Z){this._reactName=O,this._targetInst=N,this.type=D,this.nativeEvent=W,this.target=Z,this.currentTarget=null;for(var q in S)if(S.hasOwnProperty(q)){var et=S[q];et?this[q]=et(W):this[q]=W[q]}var nt=W.defaultPrevented!=null?W.defaultPrevented:W.returnValue===!1;return nt?this.isDefaultPrevented=Ng:this.isDefaultPrevented=BA,this.isPropagationStopped=BA,this}return He(P.prototype,{preventDefault:function(){this.defaultPrevented=!0;var O=this.nativeEvent;O&&(O.preventDefault?O.preventDefault():typeof O.returnValue!="unknown"&&(O.returnValue=!1),this.isDefaultPrevented=Ng)},stopPropagation:function(){var O=this.nativeEvent;O&&(O.stopPropagation?O.stopPropagation():typeof O.cancelBubble!="unknown"&&(O.cancelBubble=!0),this.isPropagationStopped=Ng)},persist:function(){},isPersistent:Ng}),P}var Cf={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(S){return S.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},GC=ps(Cf),Ic=He({},Cf,{view:0,detail:0}),rU=ps(Ic),kC,NC,Bc;function nU(S){S!==Bc&&(Bc&&S.type==="mousemove"?(kC=S.screenX-Bc.screenX,NC=S.screenY-Bc.screenY):(kC=0,NC=0),Bc=S)}var Ug=He({},Ic,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:VC,button:0,buttons:0,relatedTarget:function(S){return S.relatedTarget===void 0?S.fromElement===S.srcElement?S.toElement:S.fromElement:S.relatedTarget},movementX:function(S){return"movementX"in S?S.movementX:(nU(S),kC)},movementY:function(S){return"movementY"in S?S.movementY:NC}}),GA=ps(Ug),sU=He({},Ug,{dataTransfer:0}),aU=ps(sU),oU=He({},Ic,{relatedTarget:0}),UC=ps(oU),lU=He({},Cf,{animationName:0,elapsedTime:0,pseudoElement:0}),hU=ps(lU),uU=He({},Cf,{clipboardData:function(S){return"clipboardData"in S?S.clipboardData:window.clipboardData}}),fU=ps(uU),dU=He({},Cf,{data:0}),kA=ps(dU),cU=kA,vU={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},pU={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"};function gU(S){if(S.key){var P=vU[S.key]||S.key;if(P!=="Unidentified")return P}if(S.type==="keypress"){var O=kg(S);return O===13?"Enter":String.fromCharCode(O)}return S.type==="keydown"||S.type==="keyup"?pU[S.keyCode]||"Unidentified":""}var mU={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function yU(S){var P=this,O=P.nativeEvent;if(O.getModifierState)return O.getModifierState(S);var D=mU[S];return D?!!O[D]:!1}function VC(S){return yU}var xU=He({},Ic,{key:gU,code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:VC,charCode:function(S){return S.type==="keypress"?kg(S):0},keyCode:function(S){return S.type==="keydown"||S.type==="keyup"?S.keyCode:0},which:function(S){return S.type==="keypress"?kg(S):S.type==="keydown"||S.type==="keyup"?S.keyCode:0}}),TU=ps(xU),CU=He({},Ug,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),NA=ps(CU),SU=He({},Ic,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:VC}),EU=ps(SU),PU=He({},Cf,{propertyName:0,elapsedTime:0,pseudoElement:0}),bU=ps(PU),MU=He({},Ug,{deltaX:function(S){return"deltaX"in S?S.deltaX:"wheelDeltaX"in S?-S.wheelDeltaX:0},deltaY:function(S){return"deltaY"in S?S.deltaY:"wheelDeltaY"in S?-S.wheelDeltaY:"wheelDelta"in S?-S.wheelDelta:0},deltaZ:0,deltaMode:0}),wU=ps(MU),RU=[9,13,27,32],UA=229,zC=ft&&"CompositionEvent"in window,Gc=null;ft&&"documentMode"in document&&(Gc=document.documentMode);var AU=ft&&"TextEvent"in window&&!Gc,VA=ft&&(!zC||Gc&&Gc>8&&Gc<=11),zA=32,WA=String.fromCharCode(zA);function OU(){rt("onBeforeInput",["compositionend","keypress","textInput","paste"]),rt("onCompositionEnd",["compositionend","focusout","keydown","keypress","keyup","mousedown"]),rt("onCompositionStart",["compositionstart","focusout","keydown","keypress","keyup","mousedown"]),rt("onCompositionUpdate",["compositionupdate","focusout","keydown","keypress","keyup","mousedown"])}var YA=!1;function LU(S){return(S.ctrlKey||S.altKey||S.metaKey)&&!(S.ctrlKey&&S.altKey)}function DU(S){switch(S){case"compositionstart":return"onCompositionStart";case"compositionend":return"onCompositionEnd";case"compositionupdate":return"onCompositionUpdate"}}function FU(S,P){return S==="keydown"&&P.keyCode===UA}function XA(S,P){switch(S){case"keyup":return RU.indexOf(P.keyCode)!==-1;case"keydown":return P.keyCode!==UA;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function HA(S){var P=S.detail;return typeof P=="object"&&"data"in P?P.data:null}function $A(S){return S.locale==="ko"}var Sf=!1;function IU(S,P,O,D,N){var W,Z;if(zC?W=DU(P):Sf?XA(P,D)&&(W="onCompositionEnd"):FU(P,D)&&(W="onCompositionStart"),!W)return null;VA&&!$A(D)&&(!Sf&&W==="onCompositionStart"?Sf=eU(N):W==="onCompositionEnd"&&Sf&&(Z=FA()));var q=Xg(O,W);if(q.length>0){var et=new kA(W,P,null,D,N);if(S.push({event:et,listeners:q}),Z)et.data=Z;else{var nt=HA(D);nt!==null&&(et.data=nt)}}}function BU(S,P){switch(S){case"compositionend":return HA(P);case"keypress":var O=P.which;return O!==zA?null:(YA=!0,WA);case"textInput":var D=P.data;return D===WA&&YA?null:D;default:return null}}function GU(S,P){if(Sf){if(S==="compositionend"||!zC&&XA(S,P)){var O=FA();return iU(),Sf=!1,O}return null}switch(S){case"paste":return null;case"keypress":if(!LU(P)){if(P.char&&P.char.length>1)return P.char;if(P.which)return String.fromCharCode(P.which)}return null;case"compositionend":return VA&&!$A(P)?null:P.data;default:return null}}function kU(S,P,O,D,N){var W;if(AU?W=BU(P,D):W=GU(P,D),!W)return null;var Z=Xg(O,"onBeforeInput");if(Z.length>0){var q=new cU("onBeforeInput","beforeinput",null,D,N);S.push({event:q,listeners:Z}),q.data=W}}function NU(S,P,O,D,N,W,Z){IU(S,P,O,D,N),kU(S,P,O,D,N)}var UU={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function KA(S){var P=S&&S.nodeName&&S.nodeName.toLowerCase();return P==="input"?!!UU[S.type]:P==="textarea"}/**
 * Checks if an event is supported in the current execution environment.
 *
 * NOTE: This will not work correctly for non-generic events such as `change`,
 * `reset`, `load`, `error`, and `select`.
 *
 * Borrows from Modernizr.
 *
 * @param {string} eventNameSuffix Event name, e.g. "click".
 * @return {boolean} True if the event is supported.
 * @internal
 * @license Modernizr 3.0.0pre (Custom Build) | MIT
 */function VU(S){if(!ft)return!1;var P="on"+S,O=P in document;if(!O){var D=document.createElement("div");D.setAttribute(P,"return;"),O=typeof D[P]=="function"}return O}function zU(){rt("onChange",["change","click","focusin","focusout","input","keydown","keyup","selectionchange"])}function ZA(S,P,O,D){HR(D);var N=Xg(P,"onChange");if(N.length>0){var W=new GC("onChange","change",null,O,D);S.push({event:W,listeners:N})}}var kc=null,Nc=null;function WU(S){var P=S.nodeName&&S.nodeName.toLowerCase();return P==="select"||P==="input"&&S.type==="file"}function YU(S){var P=[];ZA(P,Nc,S,zT(S)),JR(XU,P)}function XU(S){dO(S,0)}function Vg(S){var P=Rf(S);if(rf(P))return S}function HU(S,P){if(S==="change")return P}var JA=!1;ft&&(JA=VU("input")&&(!document.documentMode||document.documentMode>9));function $U(S,P){kc=S,Nc=P,kc.attachEvent("onpropertychange",QA)}function jA(){kc&&(kc.detachEvent("onpropertychange",QA),kc=null,Nc=null)}function QA(S){S.propertyName==="value"&&Vg(Nc)&&YU(S)}function KU(S,P,O){S==="focusin"?(jA(),$U(P,O)):S==="focusout"&&jA()}function ZU(S,P){if(S==="selectionchange"||S==="keyup"||S==="keydown")return Vg(Nc)}function JU(S){var P=S.nodeName;return P&&P.toLowerCase()==="input"&&(S.type==="checkbox"||S.type==="radio")}function jU(S,P){if(S==="click")return Vg(P)}function QU(S,P){if(S==="input"||S==="change")return Vg(P)}function qU(S){var P=S._wrapperState;!P||!P.controlled||S.type!=="number"||Be(S,"number",S.value)}function _U(S,P,O,D,N,W,Z){var q=O?Rf(O):window,et,nt;if(WU(q)?et=HU:KA(q)?JA?et=QU:(et=ZU,nt=KU):JU(q)&&(et=jU),et){var at=et(P,O);if(at){ZA(S,at,D,N);return}}nt&&nt(P,q,O),P==="focusout"&&qU(q)}function tV(){ot("onMouseEnter",["mouseout","mouseover"]),ot("onMouseLeave",["mouseout","mouseover"]),ot("onPointerEnter",["pointerout","pointerover"]),ot("onPointerLeave",["pointerout","pointerover"])}function eV(S,P,O,D,N,W,Z){var q=P==="mouseover"||P==="pointerover",et=P==="mouseout"||P==="pointerout";if(q&&!y6(D)){var nt=D.relatedTarget||D.fromElement;if(nt&&(eu(nt)||_c(nt)))return}if(!(!et&&!q)){var at;if(N.window===N)at=N;else{var pt=N.ownerDocument;pt?at=pt.defaultView||pt.parentWindow:at=window}var vt,Ct;if(et){var Pt=D.relatedTarget||D.toElement;if(vt=O,Ct=Pt?eu(Pt):null,Ct!==null){var At=Kh(Ct);(Ct!==At||Ct.tag!==l&&Ct.tag!==a)&&(Ct=null)}}else vt=null,Ct=O;if(vt!==Ct){var jt=GA,Ce="onMouseLeave",me="onMouseEnter",si="mouse";(P==="pointerout"||P==="pointerover")&&(jt=NA,Ce="onPointerLeave",me="onPointerEnter",si="pointer");var ei=vt==null?at:Rf(vt),mt=Ct==null?at:Rf(Ct),Ot=new jt(Ce,si+"leave",vt,D,N);Ot.target=ei,Ot.relatedTarget=mt;var yt=null,zt=eu(N);if(zt===O){var ae=new jt(me,si+"enter",Ct,D,N);ae.target=mt,ae.relatedTarget=ei,yt=ae}bV(S,Ot,yt,vt,Ct)}}}function iV(S,P){return S===P&&(S!==0||1/S===1/P)||S!==S&&P!==P}var gs=typeof Object.is=="function"?Object.is:iV;function Uc(S,P){if(gs(S,P))return!0;if(typeof S!="object"||S===null||typeof P!="object"||P===null)return!1;var O=Object.keys(S),D=Object.keys(P);if(O.length!==D.length)return!1;for(var N=0;N<O.length;N++){var W=O[N];if(!ct.call(P,W)||!gs(S[W],P[W]))return!1}return!0}function qA(S){for(;S&&S.firstChild;)S=S.firstChild;return S}function rV(S){for(;S;){if(S.nextSibling)return S.nextSibling;S=S.parentNode}}function _A(S,P){for(var O=qA(S),D=0,N=0;O;){if(O.nodeType===ko){if(N=D+O.textContent.length,D<=P&&N>=P)return{node:O,offset:P-D};D=N}O=qA(rV(O))}}function nV(S){var P=S.ownerDocument,O=P&&P.defaultView||window,D=O.getSelection&&O.getSelection();if(!D||D.rangeCount===0)return null;var N=D.anchorNode,W=D.anchorOffset,Z=D.focusNode,q=D.focusOffset;try{N.nodeType,Z.nodeType}catch{return null}return sV(S,N,W,Z,q)}function sV(S,P,O,D,N){var W=0,Z=-1,q=-1,et=0,nt=0,at=S,pt=null;t:for(;;){for(var vt=null;at===P&&(O===0||at.nodeType===ko)&&(Z=W+O),at===D&&(N===0||at.nodeType===ko)&&(q=W+N),at.nodeType===ko&&(W+=at.nodeValue.length),(vt=at.firstChild)!==null;)pt=at,at=vt;for(;;){if(at===S)break t;if(pt===P&&++et===O&&(Z=W),pt===D&&++nt===N&&(q=W),(vt=at.nextSibling)!==null)break;at=pt,pt=at.parentNode}at=vt}return Z===-1||q===-1?null:{start:Z,end:q}}function aV(S,P){var O=S.ownerDocument||document,D=O&&O.defaultView||window;if(D.getSelection){var N=D.getSelection(),W=S.textContent.length,Z=Math.min(P.start,W),q=P.end===void 0?Z:Math.min(P.end,W);if(!N.extend&&Z>q){var et=q;q=Z,Z=et}var nt=_A(S,Z),at=_A(S,q);if(nt&&at){if(N.rangeCount===1&&N.anchorNode===nt.node&&N.anchorOffset===nt.offset&&N.focusNode===at.node&&N.focusOffset===at.offset)return;var pt=O.createRange();pt.setStart(nt.node,nt.offset),N.removeAllRanges(),Z>q?(N.addRange(pt),N.extend(at.node,at.offset)):(pt.setEnd(at.node,at.offset),N.addRange(pt))}}}function tO(S){return S&&S.nodeType===ko}function eO(S,P){return!S||!P?!1:S===P?!0:tO(S)?!1:tO(P)?eO(S,P.parentNode):"contains"in S?S.contains(P):S.compareDocumentPosition?!!(S.compareDocumentPosition(P)&16):!1}function oV(S){return S&&S.ownerDocument&&eO(S.ownerDocument.documentElement,S)}function lV(S){try{return typeof S.contentWindow.location.href=="string"}catch{return!1}}function iO(){for(var S=window,P=wl();P instanceof S.HTMLIFrameElement;){if(lV(P))S=P.contentWindow;else return P;P=wl(S.document)}return P}function WC(S){var P=S&&S.nodeName&&S.nodeName.toLowerCase();return P&&(P==="input"&&(S.type==="text"||S.type==="search"||S.type==="tel"||S.type==="url"||S.type==="password")||P==="textarea"||S.contentEditable==="true")}function hV(){var S=iO();return{focusedElem:S,selectionRange:WC(S)?fV(S):null}}function uV(S){var P=iO(),O=S.focusedElem,D=S.selectionRange;if(P!==O&&oV(O)){D!==null&&WC(O)&&dV(O,D);for(var N=[],W=O;W=W.parentNode;)W.nodeType===Xn&&N.push({element:W,left:W.scrollLeft,top:W.scrollTop});typeof O.focus=="function"&&O.focus();for(var Z=0;Z<N.length;Z++){var q=N[Z];q.element.scrollLeft=q.left,q.element.scrollTop=q.top}}}function fV(S){var P;return"selectionStart"in S?P={start:S.selectionStart,end:S.selectionEnd}:P=nV(S),P||{start:0,end:0}}function dV(S,P){var O=P.start,D=P.end;D===void 0&&(D=O),"selectionStart"in S?(S.selectionStart=O,S.selectionEnd=Math.min(D,S.value.length)):aV(S,P)}var cV=ft&&"documentMode"in document&&document.documentMode<=11;function vV(){rt("onSelect",["focusout","contextmenu","dragend","focusin","keydown","keyup","mousedown","mouseup","selectionchange"])}var Ef=null,YC=null,Vc=null,XC=!1;function pV(S){if("selectionStart"in S&&WC(S))return{start:S.selectionStart,end:S.selectionEnd};var P=S.ownerDocument&&S.ownerDocument.defaultView||window,O=P.getSelection();return{anchorNode:O.anchorNode,anchorOffset:O.anchorOffset,focusNode:O.focusNode,focusOffset:O.focusOffset}}function gV(S){return S.window===S?S.document:S.nodeType===No?S:S.ownerDocument}function rO(S,P,O){var D=gV(O);if(!(XC||Ef==null||Ef!==wl(D))){var N=pV(Ef);if(!Vc||!Uc(Vc,N)){Vc=N;var W=Xg(YC,"onSelect");if(W.length>0){var Z=new GC("onSelect","select",null,P,O);S.push({event:Z,listeners:W}),Z.target=Ef}}}}function mV(S,P,O,D,N,W,Z){var q=O?Rf(O):window;switch(P){case"focusin":(KA(q)||q.contentEditable==="true")&&(Ef=q,YC=O,Vc=null);break;case"focusout":Ef=null,YC=null,Vc=null;break;case"mousedown":XC=!0;break;case"contextmenu":case"mouseup":case"dragend":XC=!1,rO(S,D,N);break;case"selectionchange":if(cV)break;case"keydown":case"keyup":rO(S,D,N)}}function zg(S,P){var O={};return O[S.toLowerCase()]=P.toLowerCase(),O["Webkit"+S]="webkit"+P,O["Moz"+S]="moz"+P,O}var Pf={animationend:zg("Animation","AnimationEnd"),animationiteration:zg("Animation","AnimationIteration"),animationstart:zg("Animation","AnimationStart"),transitionend:zg("Transition","TransitionEnd")},HC={},nO={};ft&&(nO=document.createElement("div").style,"AnimationEvent"in window||(delete Pf.animationend.animation,delete Pf.animationiteration.animation,delete Pf.animationstart.animation),"TransitionEvent"in window||delete Pf.transitionend.transition);function Wg(S){if(HC[S])return HC[S];if(!Pf[S])return S;var P=Pf[S];for(var O in P)if(P.hasOwnProperty(O)&&O in nO)return HC[S]=P[O];return S}var sO=Wg("animationend"),aO=Wg("animationiteration"),oO=Wg("animationstart"),lO=Wg("transitionend"),hO=new Map,uO=["abort","auxClick","cancel","canPlay","canPlayThrough","click","close","contextMenu","copy","cut","drag","dragEnd","dragEnter","dragExit","dragLeave","dragOver","dragStart","drop","durationChange","emptied","encrypted","ended","error","gotPointerCapture","input","invalid","keyDown","keyPress","keyUp","load","loadedData","loadedMetadata","loadStart","lostPointerCapture","mouseDown","mouseMove","mouseOut","mouseOver","mouseUp","paste","pause","play","playing","pointerCancel","pointerDown","pointerMove","pointerOut","pointerOver","pointerUp","progress","rateChange","reset","resize","seeked","seeking","stalled","submit","suspend","timeUpdate","touchCancel","touchEnd","touchStart","volumeChange","scroll","toggle","touchMove","waiting","wheel"];function Il(S,P){hO.set(S,P),rt(P,[S])}function yV(){for(var S=0;S<uO.length;S++){var P=uO[S],O=P.toLowerCase(),D=P[0].toUpperCase()+P.slice(1);Il(O,"on"+D)}Il(sO,"onAnimationEnd"),Il(aO,"onAnimationIteration"),Il(oO,"onAnimationStart"),Il("dblclick","onDoubleClick"),Il("focusin","onFocus"),Il("focusout","onBlur"),Il(lO,"onTransitionEnd")}function xV(S,P,O,D,N,W,Z){var q=hO.get(P);if(q!==void 0){var et=GC,nt=P;switch(P){case"keypress":if(kg(D)===0)return;case"keydown":case"keyup":et=TU;break;case"focusin":nt="focus",et=UC;break;case"focusout":nt="blur",et=UC;break;case"beforeblur":case"afterblur":et=UC;break;case"click":if(D.button===2)return;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":et=GA;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":et=aU;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":et=EU;break;case sO:case aO:case oO:et=hU;break;case lO:et=bU;break;case"scroll":et=rU;break;case"wheel":et=wU;break;case"copy":case"cut":case"paste":et=fU;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":et=NA;break}var at=(W&fc)!==0;{var pt=!at&&P==="scroll",vt=EV(O,q,D.type,at,pt);if(vt.length>0){var Ct=new et(q,nt,null,D,N);S.push({event:Ct,listeners:vt})}}}}yV(),tV(),zU(),vV(),OU();function TV(S,P,O,D,N,W,Z){xV(S,P,O,D,N,W);var q=(W&p6)===0;q&&(eV(S,P,O,D,N),_U(S,P,O,D,N),mV(S,P,O,D,N),NU(S,P,O,D,N))}var zc=["abort","canplay","canplaythrough","durationchange","emptied","encrypted","ended","error","loadeddata","loadedmetadata","loadstart","pause","play","playing","progress","ratechange","resize","seeked","seeking","stalled","suspend","timeupdate","volumechange","waiting"],$C=new Set(["cancel","close","invalid","load","scroll","toggle"].concat(zc));function fO(S,P,O){var D=S.type||"unknown-event";S.currentTarget=O,w6(D,P,void 0,S),S.currentTarget=null}function CV(S,P,O){var D;if(O)for(var N=P.length-1;N>=0;N--){var W=P[N],Z=W.instance,q=W.currentTarget,et=W.listener;if(Z!==D&&S.isPropagationStopped())return;fO(S,et,q),D=Z}else for(var nt=0;nt<P.length;nt++){var at=P[nt],pt=at.instance,vt=at.currentTarget,Ct=at.listener;if(pt!==D&&S.isPropagationStopped())return;fO(S,Ct,vt),D=pt}}function dO(S,P){for(var O=(P&fc)!==0,D=0;D<S.length;D++){var N=S[D],W=N.event,Z=N.listeners;CV(W,Z,O)}R6()}function SV(S,P,O,D,N){var W=zT(O),Z=[];TV(Z,S,D,O,W,P),dO(Z,P)}function Ki(S,P){$C.has(S)||n('Did not expect a listenToNonDelegatedEvent() call for "%s". This is a bug in React. Please file an issue.',S);var O=!1,D=qz(P),N=MV(S);D.has(N)||(cO(P,S,VT,O),D.add(N))}function KC(S,P,O){$C.has(S)&&!P&&n('Did not expect a listenToNativeEvent() call for "%s" in the bubble phase. This is a bug in React. Please file an issue.',S);var D=0;P&&(D|=fc),cO(O,S,D,P)}var Yg="_reactListening"+Math.random().toString(36).slice(2);function Wc(S){if(!S[Yg]){S[Yg]=!0,Q.forEach(function(O){O!=="selectionchange"&&($C.has(O)||KC(O,!1,S),KC(O,!0,S))});var P=S.nodeType===No?S:S.ownerDocument;P!==null&&(P[Yg]||(P[Yg]=!0,KC("selectionchange",!1,P)))}}function cO(S,P,O,D,N){var W=K7(S,P,O),Z=void 0;XT&&(P==="touchstart"||P==="touchmove"||P==="wheel")&&(Z=!0),S=S,D?Z!==void 0?_7(S,P,W,Z):q7(S,P,W):Z!==void 0?tU(S,P,W,Z):Q7(S,P,W)}function vO(S,P){return S===P||S.nodeType===mr&&S.parentNode===P}function ZC(S,P,O,D,N){var W=D;if(!(P&YR)&&!(P&VT)){var Z=N;if(D!==null){var q=D;t:for(;;){if(q===null)return;var et=q.tag;if(et===d||et===h){var nt=q.stateNode.containerInfo;if(vO(nt,Z))break;if(et===h)for(var at=q.return;at!==null;){var pt=at.tag;if(pt===d||pt===h){var vt=at.stateNode.containerInfo;if(vO(vt,Z))return}at=at.return}for(;nt!==null;){var Ct=eu(nt);if(Ct===null)return;var Pt=Ct.tag;if(Pt===l||Pt===a){q=W=Ct;continue t}nt=nt.parentNode}}q=q.return}}}JR(function(){return SV(S,P,O,W)})}function Yc(S,P,O){return{instance:S,listener:P,currentTarget:O}}function EV(S,P,O,D,N,W){for(var Z=P!==null?P+"Capture":null,q=D?Z:P,et=[],nt=S,at=null;nt!==null;){var pt=nt,vt=pt.stateNode,Ct=pt.tag;if(Ct===l&&vt!==null&&(at=vt,q!==null)){var Pt=cc(nt,q);Pt!=null&&et.push(Yc(nt,Pt,at))}if(N)break;nt=nt.return}return et}function Xg(S,P){for(var O=P+"Capture",D=[],N=S;N!==null;){var W=N,Z=W.stateNode,q=W.tag;if(q===l&&Z!==null){var et=Z,nt=cc(N,O);nt!=null&&D.unshift(Yc(N,nt,et));var at=cc(N,P);at!=null&&D.push(Yc(N,at,et))}N=N.return}return D}function bf(S){if(S===null)return null;do S=S.return;while(S&&S.tag!==l);return S||null}function PV(S,P){for(var O=S,D=P,N=0,W=O;W;W=bf(W))N++;for(var Z=0,q=D;q;q=bf(q))Z++;for(;N-Z>0;)O=bf(O),N--;for(;Z-N>0;)D=bf(D),Z--;for(var et=N;et--;){if(O===D||D!==null&&O===D.alternate)return O;O=bf(O),D=bf(D)}return null}function pO(S,P,O,D,N){for(var W=P._reactName,Z=[],q=O;q!==null&&q!==D;){var et=q,nt=et.alternate,at=et.stateNode,pt=et.tag;if(nt!==null&&nt===D)break;if(pt===l&&at!==null){var vt=at;if(N){var Ct=cc(q,W);Ct!=null&&Z.unshift(Yc(q,Ct,vt))}else if(!N){var Pt=cc(q,W);Pt!=null&&Z.push(Yc(q,Pt,vt))}}q=q.return}Z.length!==0&&S.push({event:P,listeners:Z})}function bV(S,P,O,D,N){var W=D&&N?PV(D,N):null;D!==null&&pO(S,P,D,W,!1),N!==null&&O!==null&&pO(S,O,N,W,!0)}function MV(S,P){return S+"__bubble"}var Hn=!1,Xc="dangerouslySetInnerHTML",Hg="suppressContentEditableWarning",Bl="suppressHydrationWarning",gO="autoFocus",_h="children",tu="style",$g="__html",JC,Kg,Hc,mO,Zg,yO,xO;JC={dialog:!0,webview:!0},Kg=function(S,P){l6(S,P),h6(S,P),v6(S,P,{registrationNameDependencies:_,possibleRegistrationNames:tt})},yO=ft&&!document.documentMode,Hc=function(S,P,O){if(!Hn){var D=Jg(O),N=Jg(P);N!==D&&(Hn=!0,n("Prop `%s` did not match. Server: %s Client: %s",S,JSON.stringify(N),JSON.stringify(D)))}},mO=function(S){if(!Hn){Hn=!0;var P=[];S.forEach(function(O){P.push(O)}),n("Extra attributes from the server: %s",P)}},Zg=function(S,P){P===!1?n("Expected `%s` listener to be a function, instead got `false`.\n\nIf you used to conditionally omit it with %s={condition && value}, pass %s={condition ? value : undefined} instead.",S,S,S):n("Expected `%s` listener to be a function, instead got a value of `%s` type.",S,typeof P)},xO=function(S,P){var O=S.namespaceURI===Go?S.ownerDocument.createElement(S.tagName):S.ownerDocument.createElementNS(S.namespaceURI,S.tagName);return O.innerHTML=P,O.innerHTML};var wV=/\r\n?/g,RV=/\u0000|\uFFFD/g;function Jg(S){bt(S);var P=typeof S=="string"?S:""+S;return P.replace(wV,`
`).replace(RV,"")}function jg(S,P,O,D){var N=Jg(P),W=Jg(S);if(W!==N&&(D&&(Hn||(Hn=!0,n('Text content did not match. Server: "%s" Client: "%s"',W,N))),O&&k))throw new Error("Text content does not match server-rendered HTML.")}function TO(S){return S.nodeType===No?S:S.ownerDocument}function AV(){}function Qg(S){S.onclick=AV}function OV(S,P,O,D,N){for(var W in D)if(D.hasOwnProperty(W)){var Z=D[W];if(W===tu)Z&&Object.freeze(Z),kR(P,Z);else if(W===Xc){var q=Z?Z[$g]:void 0;q!=null&&DR(P,q)}else if(W===_h)if(typeof Z=="string"){var et=S!=="textarea"||Z!=="";et&&xg(P,Z)}else typeof Z=="number"&&xg(P,""+Z);else W===Hg||W===Bl||W===gO||(_.hasOwnProperty(W)?Z!=null&&(typeof Z!="function"&&Zg(W,Z),W==="onScroll"&&Ki("scroll",P)):Z!=null&&la(P,W,Z,N))}}function LV(S,P,O,D){for(var N=0;N<P.length;N+=2){var W=P[N],Z=P[N+1];W===tu?kR(S,Z):W===Xc?DR(S,Z):W===_h?xg(S,Z):la(S,W,Z,D)}}function DV(S,P,O,D){var N,W=TO(O),Z,q=D;if(q===Go&&(q=IT(S)),q===Go){if(N=Wh(S,P),!N&&S!==S.toLowerCase()&&n("<%s /> is using incorrect casing. Use PascalCase for React components, or lowercase for HTML elements.",S),S==="script"){var et=W.createElement("div");et.innerHTML="<script><\/script>";var nt=et.firstChild;Z=et.removeChild(nt)}else if(typeof P.is=="string")Z=W.createElement(S,{is:P.is});else if(Z=W.createElement(S),S==="select"){var at=Z;P.multiple?at.multiple=!0:P.size&&(at.size=P.size)}}else Z=W.createElementNS(q,S);return q===Go&&!N&&Object.prototype.toString.call(Z)==="[object HTMLUnknownElement]"&&!ct.call(JC,S)&&(JC[S]=!0,n("The tag <%s> is unrecognized in this browser. If you meant to render a React component, start its name with an uppercase letter.",S)),Z}function FV(S,P){return TO(P).createTextNode(S)}function IV(S,P,O,D){var N=Wh(P,O);Kg(P,O);var W;switch(P){case"dialog":Ki("cancel",S),Ki("close",S),W=O;break;case"iframe":case"object":case"embed":Ki("load",S),W=O;break;case"video":case"audio":for(var Z=0;Z<zc.length;Z++)Ki(zc[Z],S);W=O;break;case"source":Ki("error",S),W=O;break;case"img":case"image":case"link":Ki("error",S),Ki("load",S),W=O;break;case"details":Ki("toggle",S),W=O;break;case"input":ht(S,O),W=it(S,O),Ki("invalid",S);break;case"option":Bi(S,O),W=O;break;case"select":hc(S,O),W=lc(S,O),Ki("invalid",S);break;case"textarea":AR(S,O),W=DT(S,O),Ki("invalid",S);break;default:W=O}switch(UT(P,W),OV(P,S,D,W,N),P){case"input":Io(S),Yt(S,O,!1);break;case"textarea":Io(S),LR(S);break;case"option":$i(S,O);break;case"select":LT(S,O);break;default:typeof W.onClick=="function"&&Qg(S);break}}function BV(S,P,O,D,N){Kg(P,D);var W=null,Z,q;switch(P){case"input":Z=it(S,O),q=it(S,D),W=[];break;case"select":Z=lc(S,O),q=lc(S,D),W=[];break;case"textarea":Z=DT(S,O),q=DT(S,D),W=[];break;default:Z=O,q=D,typeof Z.onClick!="function"&&typeof q.onClick=="function"&&Qg(S);break}UT(P,q);var et,nt,at=null;for(et in Z)if(!(q.hasOwnProperty(et)||!Z.hasOwnProperty(et)||Z[et]==null))if(et===tu){var pt=Z[et];for(nt in pt)pt.hasOwnProperty(nt)&&(at||(at={}),at[nt]="")}else et===Xc||et===_h||et===Hg||et===Bl||et===gO||(_.hasOwnProperty(et)?W||(W=[]):(W=W||[]).push(et,null));for(et in q){var vt=q[et],Ct=Z!=null?Z[et]:void 0;if(!(!q.hasOwnProperty(et)||vt===Ct||vt==null&&Ct==null))if(et===tu)if(vt&&Object.freeze(vt),Ct){for(nt in Ct)Ct.hasOwnProperty(nt)&&(!vt||!vt.hasOwnProperty(nt))&&(at||(at={}),at[nt]="");for(nt in vt)vt.hasOwnProperty(nt)&&Ct[nt]!==vt[nt]&&(at||(at={}),at[nt]=vt[nt])}else at||(W||(W=[]),W.push(et,at)),at=vt;else if(et===Xc){var Pt=vt?vt[$g]:void 0,At=Ct?Ct[$g]:void 0;Pt!=null&&At!==Pt&&(W=W||[]).push(et,Pt)}else et===_h?(typeof vt=="string"||typeof vt=="number")&&(W=W||[]).push(et,""+vt):et===Hg||et===Bl||(_.hasOwnProperty(et)?(vt!=null&&(typeof vt!="function"&&Zg(et,vt),et==="onScroll"&&Ki("scroll",S)),!W&&Ct!==vt&&(W=[])):(W=W||[]).push(et,vt))}return at&&(t6(at,q[tu]),(W=W||[]).push(tu,at)),W}function GV(S,P,O,D,N){O==="input"&&N.type==="radio"&&N.name!=null&&Et(S,N);var W=Wh(O,D),Z=Wh(O,N);switch(LV(S,P,W,Z),O){case"input":Rt(S,N);break;case"textarea":OR(S,N);break;case"select":LN(S,N);break}}function kV(S){{var P=S.toLowerCase();return Tg.hasOwnProperty(P)&&Tg[P]||null}}function NV(S,P,O,D,N,W,Z){var q,et;switch(q=Wh(P,O),Kg(P,O),P){case"dialog":Ki("cancel",S),Ki("close",S);break;case"iframe":case"object":case"embed":Ki("load",S);break;case"video":case"audio":for(var nt=0;nt<zc.length;nt++)Ki(zc[nt],S);break;case"source":Ki("error",S);break;case"img":case"image":case"link":Ki("error",S),Ki("load",S);break;case"details":Ki("toggle",S);break;case"input":ht(S,O),Ki("invalid",S);break;case"option":Bi(S,O);break;case"select":hc(S,O),Ki("invalid",S);break;case"textarea":AR(S,O),Ki("invalid",S);break}UT(P,O);{et=new Set;for(var at=S.attributes,pt=0;pt<at.length;pt++){var vt=at[pt].name.toLowerCase();switch(vt){case"value":break;case"checked":break;case"selected":break;default:et.add(at[pt].name)}}}var Ct=null;for(var Pt in O)if(O.hasOwnProperty(Pt)){var At=O[Pt];if(Pt===_h)typeof At=="string"?S.textContent!==At&&(O[Bl]!==!0&&jg(S.textContent,At,W,Z),Ct=[_h,At]):typeof At=="number"&&S.textContent!==""+At&&(O[Bl]!==!0&&jg(S.textContent,At,W,Z),Ct=[_h,""+At]);else if(_.hasOwnProperty(Pt))At!=null&&(typeof At!="function"&&Zg(Pt,At),Pt==="onScroll"&&Ki("scroll",S));else if(Z&&typeof q=="boolean"){var jt=void 0,Ce=Hi(Pt);if(O[Bl]!==!0){if(!(Pt===Hg||Pt===Bl||Pt==="value"||Pt==="checked"||Pt==="selected")){if(Pt===Xc){var me=S.innerHTML,si=At?At[$g]:void 0;if(si!=null){var ei=xO(S,si);ei!==me&&Hc(Pt,me,ei)}}else if(Pt===tu){if(et.delete(Pt),yO){var mt=qN(At);jt=S.getAttribute("style"),mt!==jt&&Hc(Pt,jt,mt)}}else if(q&&!Y)et.delete(Pt.toLowerCase()),jt=Ka(S,Pt,At),At!==jt&&Hc(Pt,jt,At);else if(!Ci(Pt,Ce,q)&&!ti(Pt,At,Ce,q)){var Ot=!1;if(Ce!==null)et.delete(Ce.attributeName),jt=mn(S,Pt,At,Ce);else{var yt=D;if(yt===Go&&(yt=IT(P)),yt===Go)et.delete(Pt.toLowerCase());else{var zt=kV(Pt);zt!==null&&zt!==Pt&&(Ot=!0,et.delete(zt)),et.delete(Pt)}jt=Ka(S,Pt,At)}var ae=Y;!ae&&At!==jt&&!Ot&&Hc(Pt,jt,At)}}}}}switch(Z&&et.size>0&&O[Bl]!==!0&&mO(et),P){case"input":Io(S),Yt(S,O,!0);break;case"textarea":Io(S),LR(S);break;case"select":case"option":break;default:typeof O.onClick=="function"&&Qg(S);break}return Ct}function UV(S,P,O){var D=S.nodeValue!==P;return D}function jC(S,P){{if(Hn)return;Hn=!0,n("Did not expect server HTML to contain a <%s> in <%s>.",P.nodeName.toLowerCase(),S.nodeName.toLowerCase())}}function QC(S,P){{if(Hn)return;Hn=!0,n('Did not expect server HTML to contain the text node "%s" in <%s>.',P.nodeValue,S.nodeName.toLowerCase())}}function qC(S,P,O){{if(Hn)return;Hn=!0,n("Expected server HTML to contain a matching <%s> in <%s>.",P,S.nodeName.toLowerCase())}}function _C(S,P){{if(P===""||Hn)return;Hn=!0,n('Expected server HTML to contain a matching text node for "%s" in <%s>.',P,S.nodeName.toLowerCase())}}function VV(S,P,O){switch(P){case"input":Oe(S,O);return;case"textarea":FN(S,O);return;case"select":DN(S,O);return}}var $c=function(){},Kc=function(){};{var zV=["address","applet","area","article","aside","base","basefont","bgsound","blockquote","body","br","button","caption","center","col","colgroup","dd","details","dir","div","dl","dt","embed","fieldset","figcaption","figure","footer","form","frame","frameset","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","iframe","img","input","isindex","li","link","listing","main","marquee","menu","menuitem","meta","nav","noembed","noframes","noscript","object","ol","p","param","plaintext","pre","script","section","select","source","style","summary","table","tbody","td","template","textarea","tfoot","th","thead","title","tr","track","ul","wbr","xmp"],CO=["applet","caption","html","table","td","th","marquee","object","template","foreignObject","desc","title"],WV=CO.concat(["button"]),YV=["dd","dt","li","option","optgroup","p","rp","rt"],SO={current:null,formTag:null,aTagInScope:null,buttonTagInScope:null,nobrTagInScope:null,pTagInButtonScope:null,listItemTagAutoclosing:null,dlItemTagAutoclosing:null};Kc=function(S,P){var O=He({},S||SO),D={tag:P};return CO.indexOf(P)!==-1&&(O.aTagInScope=null,O.buttonTagInScope=null,O.nobrTagInScope=null),WV.indexOf(P)!==-1&&(O.pTagInButtonScope=null),zV.indexOf(P)!==-1&&P!=="address"&&P!=="div"&&P!=="p"&&(O.listItemTagAutoclosing=null,O.dlItemTagAutoclosing=null),O.current=D,P==="form"&&(O.formTag=D),P==="a"&&(O.aTagInScope=D),P==="button"&&(O.buttonTagInScope=D),P==="nobr"&&(O.nobrTagInScope=D),P==="p"&&(O.pTagInButtonScope=D),P==="li"&&(O.listItemTagAutoclosing=D),(P==="dd"||P==="dt")&&(O.dlItemTagAutoclosing=D),O};var XV=function(S,P){switch(P){case"select":return S==="option"||S==="optgroup"||S==="#text";case"optgroup":return S==="option"||S==="#text";case"option":return S==="#text";case"tr":return S==="th"||S==="td"||S==="style"||S==="script"||S==="template";case"tbody":case"thead":case"tfoot":return S==="tr"||S==="style"||S==="script"||S==="template";case"colgroup":return S==="col"||S==="template";case"table":return S==="caption"||S==="colgroup"||S==="tbody"||S==="tfoot"||S==="thead"||S==="style"||S==="script"||S==="template";case"head":return S==="base"||S==="basefont"||S==="bgsound"||S==="link"||S==="meta"||S==="title"||S==="noscript"||S==="noframes"||S==="style"||S==="script"||S==="template";case"html":return S==="head"||S==="body"||S==="frameset";case"frameset":return S==="frame";case"#document":return S==="html"}switch(S){case"h1":case"h2":case"h3":case"h4":case"h5":case"h6":return P!=="h1"&&P!=="h2"&&P!=="h3"&&P!=="h4"&&P!=="h5"&&P!=="h6";case"rp":case"rt":return YV.indexOf(P)===-1;case"body":case"caption":case"col":case"colgroup":case"frameset":case"frame":case"head":case"html":case"tbody":case"td":case"tfoot":case"th":case"thead":case"tr":return P==null}return!0},HV=function(S,P){switch(S){case"address":case"article":case"aside":case"blockquote":case"center":case"details":case"dialog":case"dir":case"div":case"dl":case"fieldset":case"figcaption":case"figure":case"footer":case"header":case"hgroup":case"main":case"menu":case"nav":case"ol":case"p":case"section":case"summary":case"ul":case"pre":case"listing":case"table":case"hr":case"xmp":case"h1":case"h2":case"h3":case"h4":case"h5":case"h6":return P.pTagInButtonScope;case"form":return P.formTag||P.pTagInButtonScope;case"li":return P.listItemTagAutoclosing;case"dd":case"dt":return P.dlItemTagAutoclosing;case"button":return P.buttonTagInScope;case"a":return P.aTagInScope;case"nobr":return P.nobrTagInScope}return null},EO={};$c=function(S,P,O){O=O||SO;var D=O.current,N=D&&D.tag;P!=null&&(S!=null&&n("validateDOMNesting: when childText is passed, childTag should be null"),S="#text");var W=XV(S,N)?null:D,Z=W?null:HV(S,O),q=W||Z;if(q){var et=q.tag,nt=!!W+"|"+S+"|"+et;if(!EO[nt]){EO[nt]=!0;var at=S,pt="";if(S==="#text"?/\S/.test(P)?at="Text nodes":(at="Whitespace text nodes",pt=" Make sure you don't have any extra whitespace between tags on each line of your source code."):at="<"+S+">",W){var vt="";et==="table"&&S==="tr"&&(vt+=" Add a <tbody>, <thead> or <tfoot> to your code to match the DOM tree generated by the browser."),n("validateDOMNesting(...): %s cannot appear as a child of <%s>.%s%s",at,et,pt,vt)}else n("validateDOMNesting(...): %s cannot appear as a descendant of <%s>.",at,et)}}}}var qg="suppressHydrationWarning",_g="$",tm="/$",Zc="$?",Jc="$!",$V="style",tS=null,eS=null;function KV(S){var P,O,D=S.nodeType;switch(D){case No:case GT:{P=D===No?"#document":"#fragment";var N=S.documentElement;O=N?N.namespaceURI:BT(null,"");break}default:{var W=D===mr?S.parentNode:S,Z=W.namespaceURI||null;P=W.tagName,O=BT(Z,P);break}}{var q=P.toLowerCase(),et=Kc(null,q);return{namespace:O,ancestorInfo:et}}}function ZV(S,P,O){{var D=S,N=BT(D.namespace,P),W=Kc(D.ancestorInfo,P);return{namespace:N,ancestorInfo:W}}}function Vbt(S){return S}function JV(S){tS=$7(),eS=hV();var P=null;return LA(!1),P}function jV(S){uV(eS),LA(tS),tS=null,eS=null}function QV(S,P,O,D,N){var W;{var Z=D;if($c(S,null,Z.ancestorInfo),typeof P.children=="string"||typeof P.children=="number"){var q=""+P.children,et=Kc(Z.ancestorInfo,S);$c(null,q,et)}W=Z.namespace}var nt=DV(S,P,O,W);return qc(N,nt),hS(nt,P),nt}function qV(S,P){S.appendChild(P)}function _V(S,P,O,D,N){switch(IV(S,P,O,D),P){case"button":case"input":case"select":case"textarea":return!!O.autoFocus;case"img":return!0;default:return!1}}function tz(S,P,O,D,N,W){{var Z=W;if(typeof D.children!=typeof O.children&&(typeof D.children=="string"||typeof D.children=="number")){var q=""+D.children,et=Kc(Z.ancestorInfo,P);$c(null,q,et)}}return BV(S,P,O,D)}function iS(S,P){return S==="textarea"||S==="noscript"||typeof P.children=="string"||typeof P.children=="number"||typeof P.dangerouslySetInnerHTML=="object"&&P.dangerouslySetInnerHTML!==null&&P.dangerouslySetInnerHTML.__html!=null}function ez(S,P,O,D){{var N=O;$c(null,S,N.ancestorInfo)}var W=FV(S,P);return qc(D,W),W}function iz(){var S=window.event;return S===void 0?Ho:DA(S.type)}var rS=typeof setTimeout=="function"?setTimeout:void 0,rz=typeof clearTimeout=="function"?clearTimeout:void 0,nS=-1,PO=typeof Promise=="function"?Promise:void 0,nz=typeof queueMicrotask=="function"?queueMicrotask:typeof PO<"u"?function(S){return PO.resolve(null).then(S).catch(sz)}:rS;function sz(S){setTimeout(function(){throw S})}function az(S,P,O,D){switch(P){case"button":case"input":case"select":case"textarea":O.autoFocus&&S.focus();return;case"img":{O.src&&(S.src=O.src);return}}}function oz(S,P,O,D,N,W){GV(S,P,O,D,N),hS(S,N)}function bO(S){xg(S,"")}function lz(S,P,O){S.nodeValue=O}function hz(S,P){S.appendChild(P)}function uz(S,P){var O;S.nodeType===mr?(O=S.parentNode,O.insertBefore(P,S)):(O=S,O.appendChild(P));var D=S._reactRootContainer;D==null&&O.onclick===null&&Qg(O)}function fz(S,P,O){S.insertBefore(P,O)}function dz(S,P,O){S.nodeType===mr?S.parentNode.insertBefore(P,O):S.insertBefore(P,O)}function cz(S,P){S.removeChild(P)}function vz(S,P){S.nodeType===mr?S.parentNode.removeChild(P):S.removeChild(P)}function sS(S,P){var O=P,D=0;do{var N=O.nextSibling;if(S.removeChild(O),N&&N.nodeType===mr){var W=N.data;if(W===tm)if(D===0){S.removeChild(N),Lc(P);return}else D--;else(W===_g||W===Zc||W===Jc)&&D++}O=N}while(O);Lc(P)}function pz(S,P){S.nodeType===mr?sS(S.parentNode,P):S.nodeType===Xn&&sS(S,P),Lc(S)}function gz(S){S=S;var P=S.style;typeof P.setProperty=="function"?P.setProperty("display","none","important"):P.display="none"}function mz(S){S.nodeValue=""}function yz(S,P){S=S;var O=P[$V],D=O!=null&&O.hasOwnProperty("display")?O.display:null;S.style.display=kT("display",D)}function xz(S,P){S.nodeValue=P}function Tz(S){S.nodeType===Xn?S.textContent="":S.nodeType===No&&S.documentElement&&S.removeChild(S.documentElement)}function Cz(S,P,O){return S.nodeType!==Xn||P.toLowerCase()!==S.nodeName.toLowerCase()?null:S}function Sz(S,P){return P===""||S.nodeType!==ko?null:S}function Ez(S){return S.nodeType!==mr?null:S}function MO(S){return S.data===Zc}function aS(S){return S.data===Jc}function Pz(S){var P=S.nextSibling&&S.nextSibling.dataset,O,D,N;return P&&(O=P.dgst,D=P.msg,N=P.stck),{message:D,digest:O,stack:N}}function bz(S,P){S._reactRetry=P}function em(S){for(;S!=null;S=S.nextSibling){var P=S.nodeType;if(P===Xn||P===ko)break;if(P===mr){var O=S.data;if(O===_g||O===Jc||O===Zc)break;if(O===tm)return null}}return S}function jc(S){return em(S.nextSibling)}function Mz(S){return em(S.firstChild)}function wz(S){return em(S.firstChild)}function Rz(S){return em(S.nextSibling)}function Az(S,P,O,D,N,W,Z){qc(W,S),hS(S,O);var q;{var et=N;q=et.namespace}var nt=(W.mode&ri)!==be;return NV(S,P,O,q,D,nt,Z)}function Oz(S,P,O,D){return qc(O,S),O.mode&ri,UV(S,P)}function Lz(S,P){qc(P,S)}function Dz(S){for(var P=S.nextSibling,O=0;P;){if(P.nodeType===mr){var D=P.data;if(D===tm){if(O===0)return jc(P);O--}else(D===_g||D===Jc||D===Zc)&&O++}P=P.nextSibling}return null}function wO(S){for(var P=S.previousSibling,O=0;P;){if(P.nodeType===mr){var D=P.data;if(D===_g||D===Jc||D===Zc){if(O===0)return P;O--}else D===tm&&O++}P=P.previousSibling}return null}function Fz(S){Lc(S)}function Iz(S){Lc(S)}function Bz(S){return S!=="head"&&S!=="body"}function Gz(S,P,O,D){var N=!0;jg(P.nodeValue,O,D,N)}function kz(S,P,O,D,N,W){if(P[qg]!==!0){var Z=!0;jg(D.nodeValue,N,W,Z)}}function Nz(S,P){P.nodeType===Xn?jC(S,P):P.nodeType===mr||QC(S,P)}function Uz(S,P){{var O=S.parentNode;O!==null&&(P.nodeType===Xn?jC(O,P):P.nodeType===mr||QC(O,P))}}function Vz(S,P,O,D,N){(N||P[qg]!==!0)&&(D.nodeType===Xn?jC(O,D):D.nodeType===mr||QC(O,D))}function zz(S,P,O){qC(S,P)}function Wz(S,P){_C(S,P)}function Yz(S,P,O){{var D=S.parentNode;D!==null&&qC(D,P)}}function Xz(S,P){{var O=S.parentNode;O!==null&&_C(O,P)}}function Hz(S,P,O,D,N,W){(W||P[qg]!==!0)&&qC(O,D)}function $z(S,P,O,D,N){(N||P[qg]!==!0)&&_C(O,D)}function Kz(S){n("An error occurred during hydration. The server HTML was replaced with client content in <%s>.",S.nodeName.toLowerCase())}function Zz(S){Wc(S)}var Mf=Math.random().toString(36).slice(2),wf="__reactFiber$"+Mf,oS="__reactProps$"+Mf,Qc="__reactContainer$"+Mf,lS="__reactEvents$"+Mf,Jz="__reactListeners$"+Mf,jz="__reactHandles$"+Mf;function Qz(S){delete S[wf],delete S[oS],delete S[lS],delete S[Jz],delete S[jz]}function qc(S,P){P[wf]=S}function im(S,P){P[Qc]=S}function RO(S){S[Qc]=null}function _c(S){return!!S[Qc]}function eu(S){var P=S[wf];if(P)return P;for(var O=S.parentNode;O;){if(P=O[Qc]||O[wf],P){var D=P.alternate;if(P.child!==null||D!==null&&D.child!==null)for(var N=wO(S);N!==null;){var W=N[wf];if(W)return W;N=wO(N)}return P}S=O,O=S.parentNode}return null}function Gl(S){var P=S[wf]||S[Qc];return P&&(P.tag===l||P.tag===a||P.tag===y||P.tag===d)?P:null}function Rf(S){if(S.tag===l||S.tag===a)return S.stateNode;throw new Error("getNodeFromInstance: Invalid argument.")}function rm(S){return S[oS]||null}function hS(S,P){S[oS]=P}function qz(S){var P=S[lS];return P===void 0&&(P=S[lS]=new Set),P}var AO={},OO=i.ReactDebugCurrentFrame;function nm(S){if(S){var P=S._owner,O=$t(S.type,S._source,P?P.type:null);OO.setExtraStackFrame(O)}else OO.setExtraStackFrame(null)}function pa(S,P,O,D,N){{var W=Function.call.bind(ct);for(var Z in S)if(W(S,Z)){var q=void 0;try{if(typeof S[Z]!="function"){var et=Error((D||"React class")+": "+O+" type `"+Z+"` is invalid; it must be a function, usually from the `prop-types` package, but received `"+typeof S[Z]+"`.This often happens because of typos such as `PropTypes.function` instead of `PropTypes.func`.");throw et.name="Invariant Violation",et}q=S[Z](P,Z,D,O,null,"SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED")}catch(nt){q=nt}q&&!(q instanceof Error)&&(nm(N),n("%s: type specification of %s `%s` is invalid; the type checker function must return `null` or an `Error` but returned a %s. You may have forgotten to pass an argument to the type checker creator (arrayOf, instanceOf, objectOf, oneOf, oneOfType, and shape all require an argument).",D||"React class",O,Z,typeof q),nm(null)),q instanceof Error&&!(q.message in AO)&&(AO[q.message]=!0,nm(N),n("Failed %s type: %s",O,q.message),nm(null))}}}var uS=[],sm;sm=[];var $o=-1;function kl(S){return{current:S}}function Tn(S,P){if($o<0){n("Unexpected pop.");return}P!==sm[$o]&&n("Unexpected Fiber popped."),S.current=uS[$o],uS[$o]=null,sm[$o]=null,$o--}function Cn(S,P,O){$o++,uS[$o]=S.current,sm[$o]=O,S.current=P}var fS;fS={};var ms={};Object.freeze(ms);var Ko=kl(ms),qa=kl(!1),dS=ms;function Af(S,P,O){return O&&_a(P)?dS:Ko.current}function LO(S,P,O){{var D=S.stateNode;D.__reactInternalMemoizedUnmaskedChildContext=P,D.__reactInternalMemoizedMaskedChildContext=O}}function Of(S,P){{var O=S.type,D=O.contextTypes;if(!D)return ms;var N=S.stateNode;if(N&&N.__reactInternalMemoizedUnmaskedChildContext===P)return N.__reactInternalMemoizedMaskedChildContext;var W={};for(var Z in D)W[Z]=P[Z];{var q=Ft(S)||"Unknown";pa(D,W,"context",q)}return N&&LO(S,P,W),W}}function am(){return qa.current}function _a(S){{var P=S.childContextTypes;return P!=null}}function om(S){Tn(qa,S),Tn(Ko,S)}function cS(S){Tn(qa,S),Tn(Ko,S)}function DO(S,P,O){{if(Ko.current!==ms)throw new Error("Unexpected context found on stack. This error is likely caused by a bug in React. Please file an issue.");Cn(Ko,P,S),Cn(qa,O,S)}}function FO(S,P,O){{var D=S.stateNode,N=P.childContextTypes;if(typeof D.getChildContext!="function"){{var W=Ft(S)||"Unknown";fS[W]||(fS[W]=!0,n("%s.childContextTypes is specified but there is no getChildContext() method on the instance. You can either define getChildContext() on %s or remove childContextTypes from it.",W,W))}return O}var Z=D.getChildContext();for(var q in Z)if(!(q in N))throw new Error((Ft(S)||"Unknown")+'.getChildContext(): key "'+q+'" is not defined in childContextTypes.');{var et=Ft(S)||"Unknown";pa(N,Z,"child context",et)}return He({},O,Z)}}function lm(S){{var P=S.stateNode,O=P&&P.__reactInternalMemoizedMergedChildContext||ms;return dS=Ko.current,Cn(Ko,O,S),Cn(qa,qa.current,S),!0}}function IO(S,P,O){{var D=S.stateNode;if(!D)throw new Error("Expected to have an instance by this point. This error is likely caused by a bug in React. Please file an issue.");if(O){var N=FO(S,P,dS);D.__reactInternalMemoizedMergedChildContext=N,Tn(qa,S),Tn(Ko,S),Cn(Ko,N,S),Cn(qa,O,S)}else Tn(qa,S),Cn(qa,O,S)}}function _z(S){{if(!B6(S)||S.tag!==o)throw new Error("Expected subtree parent to be a mounted class component. This error is likely caused by a bug in React. Please file an issue.");var P=S;do{switch(P.tag){case d:return P.stateNode.context;case o:{var O=P.type;if(_a(O))return P.stateNode.__reactInternalMemoizedMergedChildContext;break}}P=P.return}while(P!==null);throw new Error("Found unexpected detached subtree parent. This error is likely caused by a bug in React. Please file an issue.")}}var Nl=0,hm=1,Zo=null,vS=!1,pS=!1;function BO(S){Zo===null?Zo=[S]:Zo.push(S)}function tW(S){vS=!0,BO(S)}function GO(){vS&&Ul()}function Ul(){if(!pS&&Zo!==null){pS=!0;var S=0,P=va();try{var O=!0,D=Zo;for($r(vs);S<D.length;S++){var N=D[S];do N=N(O);while(N!==null)}Zo=null,vS=!1}catch(W){throw Zo!==null&&(Zo=Zo.slice(S+1)),aA(bg,Ul),W}finally{$r(P),pS=!1}}return null}var Lf=[],Df=0,um=null,fm=0,Ns=[],Us=0,iu=null,Jo=1,jo="";function eW(S){return nu(),(S.flags&qR)!==Ae}function iW(S){return nu(),fm}function rW(){var S=jo,P=Jo,O=P&~nW(P);return O.toString(32)+S}function ru(S,P){nu(),Lf[Df++]=fm,Lf[Df++]=um,um=S,fm=P}function kO(S,P,O){nu(),Ns[Us++]=Jo,Ns[Us++]=jo,Ns[Us++]=iu,iu=S;var D=Jo,N=jo,W=dm(D)-1,Z=D&~(1<<W),q=O+1,et=dm(P)+W;if(et>30){var nt=W-W%5,at=(1<<nt)-1,pt=(Z&at).toString(32),vt=Z>>nt,Ct=W-nt,Pt=dm(P)+Ct,At=q<<Ct,jt=At|vt,Ce=pt+N;Jo=1<<Pt|jt,jo=Ce}else{var me=q<<W,si=me|Z,ei=N;Jo=1<<et|si,jo=ei}}function gS(S){nu();var P=S.return;if(P!==null){var O=1,D=0;ru(S,O),kO(S,O,D)}}function dm(S){return 32-dA(S)}function nW(S){return 1<<dm(S)-1}function mS(S){for(;S===um;)um=Lf[--Df],Lf[Df]=null,fm=Lf[--Df],Lf[Df]=null;for(;S===iu;)iu=Ns[--Us],Ns[Us]=null,jo=Ns[--Us],Ns[Us]=null,Jo=Ns[--Us],Ns[Us]=null}function sW(){return nu(),iu!==null?{id:Jo,overflow:jo}:null}function aW(S,P){nu(),Ns[Us++]=Jo,Ns[Us++]=jo,Ns[Us++]=iu,Jo=P.id,jo=P.overflow,iu=S}function nu(){nn()||n("Expected to be hydrating. This is a bug in React. Please file an issue.")}var rn=null,Vs=null,ga=!1,su=!1,Vl=null;function oW(){ga&&n("We should not be hydrating here. This is a bug in React. Please file a bug.")}function NO(){su=!0}function lW(){return su}function hW(S){var P=S.stateNode.containerInfo;return Vs=wz(P),rn=S,ga=!0,Vl=null,su=!1,!0}function uW(S,P,O){return Vs=Rz(P),rn=S,ga=!0,Vl=null,su=!1,O!==null&&aW(S,O),!0}function UO(S,P){switch(S.tag){case d:{Nz(S.stateNode.containerInfo,P);break}case l:{var O=(S.mode&ri)!==be;Vz(S.type,S.memoizedProps,S.stateNode,P,O);break}case y:{var D=S.memoizedState;D.dehydrated!==null&&Uz(D.dehydrated,P);break}}}function VO(S,P){UO(S,P);var O=vH();O.stateNode=P,O.return=S;var D=S.deletions;D===null?(S.deletions=[O],S.flags|=Yh):D.push(O)}function yS(S,P){{if(su)return;switch(S.tag){case d:{var O=S.stateNode.containerInfo;switch(P.tag){case l:var D=P.type;P.pendingProps,zz(O,D);break;case a:var N=P.pendingProps;Wz(O,N);break}break}case l:{var W=S.type,Z=S.memoizedProps,q=S.stateNode;switch(P.tag){case l:{var et=P.type,nt=P.pendingProps,at=(S.mode&ri)!==be;Hz(W,Z,q,et,nt,at);break}case a:{var pt=P.pendingProps,vt=(S.mode&ri)!==be;$z(W,Z,q,pt,vt);break}}break}case y:{var Ct=S.memoizedState,Pt=Ct.dehydrated;if(Pt!==null)switch(P.tag){case l:var At=P.type;P.pendingProps,Yz(Pt,At);break;case a:var jt=P.pendingProps;Xz(Pt,jt);break}break}default:return}}}function zO(S,P){P.flags=P.flags&~Vo|yr,yS(S,P)}function WO(S,P){switch(S.tag){case l:{var O=S.type;S.pendingProps;var D=Cz(P,O);return D!==null?(S.stateNode=D,rn=S,Vs=Mz(D),!0):!1}case a:{var N=S.pendingProps,W=Sz(P,N);return W!==null?(S.stateNode=W,rn=S,Vs=null,!0):!1}case y:{var Z=Ez(P);if(Z!==null){var q={dehydrated:Z,treeContext:sW(),retryLane:ds};S.memoizedState=q;var et=pH(Z);return et.return=S,S.child=et,rn=S,Vs=null,!0}return!1}default:return!1}}function xS(S){return(S.mode&ri)!==be&&(S.flags&pi)===Ae}function TS(S){throw new Error("Hydration failed because the initial UI does not match what was rendered on the server.")}function CS(S){if(ga){var P=Vs;if(!P){xS(S)&&(yS(rn,S),TS()),zO(rn,S),ga=!1,rn=S;return}var O=P;if(!WO(S,P)){xS(S)&&(yS(rn,S),TS()),P=jc(O);var D=rn;if(!P||!WO(S,P)){zO(rn,S),ga=!1,rn=S;return}VO(D,O)}}}function fW(S,P,O){var D=S.stateNode,N=!su,W=Az(D,S.type,S.memoizedProps,P,O,S,N);return S.updateQueue=W,W!==null}function dW(S){var P=S.stateNode,O=S.memoizedProps,D=Oz(P,O,S);if(D){var N=rn;if(N!==null)switch(N.tag){case d:{var W=N.stateNode.containerInfo,Z=(N.mode&ri)!==be;Gz(W,P,O,Z);break}case l:{var q=N.type,et=N.memoizedProps,nt=N.stateNode,at=(N.mode&ri)!==be;kz(q,et,nt,P,O,at);break}}}return D}function cW(S){var P=S.memoizedState,O=P!==null?P.dehydrated:null;if(!O)throw new Error("Expected to have a hydrated suspense instance. This error is likely caused by a bug in React. Please file an issue.");Lz(O,S)}function vW(S){var P=S.memoizedState,O=P!==null?P.dehydrated:null;if(!O)throw new Error("Expected to have a hydrated suspense instance. This error is likely caused by a bug in React. Please file an issue.");return Dz(O)}function YO(S){for(var P=S.return;P!==null&&P.tag!==l&&P.tag!==d&&P.tag!==y;)P=P.return;rn=P}function cm(S){if(S!==rn)return!1;if(!ga)return YO(S),ga=!0,!1;if(S.tag!==d&&(S.tag!==l||Bz(S.type)&&!iS(S.type,S.memoizedProps))){var P=Vs;if(P)if(xS(S))XO(S),TS();else for(;P;)VO(S,P),P=jc(P)}return YO(S),S.tag===y?Vs=vW(S):Vs=rn?jc(S.stateNode):null,!0}function pW(){return ga&&Vs!==null}function XO(S){for(var P=Vs;P;)UO(S,P),P=jc(P)}function Ff(){rn=null,Vs=null,ga=!1,su=!1}function HO(){Vl!==null&&(N2(Vl),Vl=null)}function nn(){return ga}function SS(S){Vl===null?Vl=[S]:Vl.push(S)}var gW=i.ReactCurrentBatchConfig,mW=null;function yW(){return gW.transition}var ma={recordUnsafeLifecycleWarnings:function(S,P){},flushPendingUnsafeLifecycleWarnings:function(){},recordLegacyContextWarning:function(S,P){},flushLegacyContextWarning:function(){},discardPendingWarnings:function(){}};{var xW=function(S){for(var P=null,O=S;O!==null;)O.mode&ir&&(P=O),O=O.return;return P},au=function(S){var P=[];return S.forEach(function(O){P.push(O)}),P.sort().join(", ")},tv=[],ev=[],iv=[],rv=[],nv=[],sv=[],ou=new Set;ma.recordUnsafeLifecycleWarnings=function(S,P){ou.has(S.type)||(typeof P.componentWillMount=="function"&&P.componentWillMount.__suppressDeprecationWarning!==!0&&tv.push(S),S.mode&ir&&typeof P.UNSAFE_componentWillMount=="function"&&ev.push(S),typeof P.componentWillReceiveProps=="function"&&P.componentWillReceiveProps.__suppressDeprecationWarning!==!0&&iv.push(S),S.mode&ir&&typeof P.UNSAFE_componentWillReceiveProps=="function"&&rv.push(S),typeof P.componentWillUpdate=="function"&&P.componentWillUpdate.__suppressDeprecationWarning!==!0&&nv.push(S),S.mode&ir&&typeof P.UNSAFE_componentWillUpdate=="function"&&sv.push(S))},ma.flushPendingUnsafeLifecycleWarnings=function(){var S=new Set;tv.length>0&&(tv.forEach(function(vt){S.add(Ft(vt)||"Component"),ou.add(vt.type)}),tv=[]);var P=new Set;ev.length>0&&(ev.forEach(function(vt){P.add(Ft(vt)||"Component"),ou.add(vt.type)}),ev=[]);var O=new Set;iv.length>0&&(iv.forEach(function(vt){O.add(Ft(vt)||"Component"),ou.add(vt.type)}),iv=[]);var D=new Set;rv.length>0&&(rv.forEach(function(vt){D.add(Ft(vt)||"Component"),ou.add(vt.type)}),rv=[]);var N=new Set;nv.length>0&&(nv.forEach(function(vt){N.add(Ft(vt)||"Component"),ou.add(vt.type)}),nv=[]);var W=new Set;if(sv.length>0&&(sv.forEach(function(vt){W.add(Ft(vt)||"Component"),ou.add(vt.type)}),sv=[]),P.size>0){var Z=au(P);n(`Using UNSAFE_componentWillMount in strict mode is not recommended and may indicate bugs in your code. See https://reactjs.org/link/unsafe-component-lifecycles for details.

* Move code with side effects to componentDidMount, and set initial state in the constructor.

Please update the following components: %s`,Z)}if(D.size>0){var q=au(D);n(`Using UNSAFE_componentWillReceiveProps in strict mode is not recommended and may indicate bugs in your code. See https://reactjs.org/link/unsafe-component-lifecycles for details.

* Move data fetching code or side effects to componentDidUpdate.
* If you're updating state whenever props change, refactor your code to use memoization techniques or move it to static getDerivedStateFromProps. Learn more at: https://reactjs.org/link/derived-state

Please update the following components: %s`,q)}if(W.size>0){var et=au(W);n(`Using UNSAFE_componentWillUpdate in strict mode is not recommended and may indicate bugs in your code. See https://reactjs.org/link/unsafe-component-lifecycles for details.

* Move data fetching code or side effects to componentDidUpdate.

Please update the following components: %s`,et)}if(S.size>0){var nt=au(S);E(`componentWillMount has been renamed, and is not recommended for use. See https://reactjs.org/link/unsafe-component-lifecycles for details.

* Move code with side effects to componentDidMount, and set initial state in the constructor.
* Rename componentWillMount to UNSAFE_componentWillMount to suppress this warning in non-strict mode. In React 18.x, only the UNSAFE_ name will work. To rename all deprecated lifecycles to their new names, you can run \`npx react-codemod rename-unsafe-lifecycles\` in your project source folder.

Please update the following components: %s`,nt)}if(O.size>0){var at=au(O);E(`componentWillReceiveProps has been renamed, and is not recommended for use. See https://reactjs.org/link/unsafe-component-lifecycles for details.

* Move data fetching code or side effects to componentDidUpdate.
* If you're updating state whenever props change, refactor your code to use memoization techniques or move it to static getDerivedStateFromProps. Learn more at: https://reactjs.org/link/derived-state
* Rename componentWillReceiveProps to UNSAFE_componentWillReceiveProps to suppress this warning in non-strict mode. In React 18.x, only the UNSAFE_ name will work. To rename all deprecated lifecycles to their new names, you can run \`npx react-codemod rename-unsafe-lifecycles\` in your project source folder.

Please update the following components: %s`,at)}if(N.size>0){var pt=au(N);E(`componentWillUpdate has been renamed, and is not recommended for use. See https://reactjs.org/link/unsafe-component-lifecycles for details.

* Move data fetching code or side effects to componentDidUpdate.
* Rename componentWillUpdate to UNSAFE_componentWillUpdate to suppress this warning in non-strict mode. In React 18.x, only the UNSAFE_ name will work. To rename all deprecated lifecycles to their new names, you can run \`npx react-codemod rename-unsafe-lifecycles\` in your project source folder.

Please update the following components: %s`,pt)}};var vm=new Map,$O=new Set;ma.recordLegacyContextWarning=function(S,P){var O=xW(S);if(O===null){n("Expected to find a StrictMode component in a strict mode tree. This error is likely caused by a bug in React. Please file an issue.");return}if(!$O.has(S.type)){var D=vm.get(O);(S.type.contextTypes!=null||S.type.childContextTypes!=null||P!==null&&typeof P.getChildContext=="function")&&(D===void 0&&(D=[],vm.set(O,D)),D.push(S))}},ma.flushLegacyContextWarning=function(){vm.forEach(function(S,P){if(S.length!==0){var O=S[0],D=new Set;S.forEach(function(W){D.add(Ft(W)||"Component"),$O.add(W.type)});var N=au(D);try{$e(O),n(`Legacy context API has been detected within a strict-mode tree.

The old API will be supported in all 16.x releases, but applications using it should migrate to the new version.

Please update the following components: %s

Learn more about this warning here: https://reactjs.org/link/legacy-context`,N)}finally{Pe()}}})},ma.discardPendingWarnings=function(){tv=[],ev=[],iv=[],rv=[],nv=[],sv=[],vm=new Map}}var ES,PS,bS,MS,wS,KO=function(S,P){};ES=!1,PS=!1,bS={},MS={},wS={},KO=function(S,P){if(!(S===null||typeof S!="object")&&!(!S._store||S._store.validated||S.key!=null)){if(typeof S._store!="object")throw new Error("React Component in warnForMissingKey should have a _store. This error is likely caused by a bug in React. Please file an issue.");S._store.validated=!0;var O=Ft(P)||"Component";MS[O]||(MS[O]=!0,n('Each child in a list should have a unique "key" prop. See https://reactjs.org/link/warning-keys for more information.'))}};function TW(S){return S.prototype&&S.prototype.isReactComponent}function av(S,P,O){var D=O.ref;if(D!==null&&typeof D!="function"&&typeof D!="object"){if((S.mode&ir||$)&&!(O._owner&&O._self&&O._owner.stateNode!==O._self)&&!(O._owner&&O._owner.tag!==o)&&!(typeof O.type=="function"&&!TW(O.type))&&O._owner){var N=Ft(S)||"Component";bS[N]||(n('Component "%s" contains the string ref "%s". Support for string refs will be removed in a future major release. We recommend using useRef() or createRef() instead. Learn more about using refs safely here: https://reactjs.org/link/strict-mode-string-ref',N,D),bS[N]=!0)}if(O._owner){var W=O._owner,Z;if(W){var q=W;if(q.tag!==o)throw new Error("Function components cannot have string refs. We recommend using useRef() instead. Learn more about using refs safely here: https://reactjs.org/link/strict-mode-string-ref");Z=q.stateNode}if(!Z)throw new Error("Missing owner for string ref "+D+". This error is likely caused by a bug in React. Please file an issue.");var et=Z;Xt(D,"ref");var nt=""+D;if(P!==null&&P.ref!==null&&typeof P.ref=="function"&&P.ref._stringRef===nt)return P.ref;var at=function(pt){var vt=et.refs;pt===null?delete vt[nt]:vt[nt]=pt};return at._stringRef=nt,at}else{if(typeof D!="string")throw new Error("Expected ref to be a function, a string, an object returned by React.createRef(), or null.");if(!O._owner)throw new Error("Element ref was specified as a string ("+D+`) but no owner was set. This could happen for one of the following reasons:
1. You may be adding a ref to a function component
2. You may be adding a ref to a component that was not created inside a component's render method
3. You have multiple copies of React loaded
See https://reactjs.org/link/refs-must-have-owner for more information.`)}}return D}function pm(S,P){var O=Object.prototype.toString.call(P);throw new Error("Objects are not valid as a React child (found: "+(O==="[object Object]"?"object with keys {"+Object.keys(P).join(", ")+"}":O)+"). If you meant to render a collection of children, use an array instead.")}function gm(S){{var P=Ft(S)||"Component";if(wS[P])return;wS[P]=!0,n("Functions are not valid as a React child. This may happen if you return a Component instead of <Component /> from render. Or maybe you meant to call this function rather than return it.")}}function ZO(S){var P=S._payload,O=S._init;return O(P)}function JO(S){function P(mt,Ot){if(S){var yt=mt.deletions;yt===null?(mt.deletions=[Ot],mt.flags|=Yh):yt.push(Ot)}}function O(mt,Ot){if(!S)return null;for(var yt=Ot;yt!==null;)P(mt,yt),yt=yt.sibling;return null}function D(mt,Ot){for(var yt=new Map,zt=Ot;zt!==null;)zt.key!==null?yt.set(zt.key,zt):yt.set(zt.index,zt),zt=zt.sibling;return yt}function N(mt,Ot){var yt=gu(mt,Ot);return yt.index=0,yt.sibling=null,yt}function W(mt,Ot,yt){if(mt.index=yt,!S)return mt.flags|=qR,Ot;var zt=mt.alternate;if(zt!==null){var ae=zt.index;return ae<Ot?(mt.flags|=yr,Ot):ae}else return mt.flags|=yr,Ot}function Z(mt){return S&&mt.alternate===null&&(mt.flags|=yr),mt}function q(mt,Ot,yt,zt){if(Ot===null||Ot.tag!==a){var ae=SE(yt,mt.mode,zt);return ae.return=mt,ae}else{var _t=N(Ot,yt);return _t.return=mt,_t}}function et(mt,Ot,yt,zt){var ae=yt.type;if(ae===ut)return at(mt,Ot,yt.props.children,zt,yt.key);if(Ot!==null&&(Ot.elementType===ae||tD(Ot,yt)||typeof ae=="object"&&ae!==null&&ae.$$typeof===Qe&&ZO(ae)===Ot.type)){var _t=N(Ot,yt.props);return _t.ref=av(mt,Ot,yt),_t.return=mt,_t._debugSource=yt._source,_t._debugOwner=yt._owner,_t}var Le=CE(yt,mt.mode,zt);return Le.ref=av(mt,Ot,yt),Le.return=mt,Le}function nt(mt,Ot,yt,zt){if(Ot===null||Ot.tag!==h||Ot.stateNode.containerInfo!==yt.containerInfo||Ot.stateNode.implementation!==yt.implementation){var ae=EE(yt,mt.mode,zt);return ae.return=mt,ae}else{var _t=N(Ot,yt.children||[]);return _t.return=mt,_t}}function at(mt,Ot,yt,zt,ae){if(Ot===null||Ot.tag!==f){var _t=Ql(yt,mt.mode,zt,ae);return _t.return=mt,_t}else{var Le=N(Ot,yt);return Le.return=mt,Le}}function pt(mt,Ot,yt){if(typeof Ot=="string"&&Ot!==""||typeof Ot=="number"){var zt=SE(""+Ot,mt.mode,yt);return zt.return=mt,zt}if(typeof Ot=="object"&&Ot!==null){switch(Ot.$$typeof){case we:{var ae=CE(Ot,mt.mode,yt);return ae.ref=av(mt,null,Ot),ae.return=mt,ae}case as:{var _t=EE(Ot,mt.mode,yt);return _t.return=mt,_t}case Qe:{var Le=Ot._payload,Ue=Ot._init;return pt(mt,Ue(Le),yt)}}if(vi(Ot)||ha(Ot)){var Mi=Ql(Ot,mt.mode,yt,null);return Mi.return=mt,Mi}pm(mt,Ot)}return typeof Ot=="function"&&gm(mt),null}function vt(mt,Ot,yt,zt){var ae=Ot!==null?Ot.key:null;if(typeof yt=="string"&&yt!==""||typeof yt=="number")return ae!==null?null:q(mt,Ot,""+yt,zt);if(typeof yt=="object"&&yt!==null){switch(yt.$$typeof){case we:return yt.key===ae?et(mt,Ot,yt,zt):null;case as:return yt.key===ae?nt(mt,Ot,yt,zt):null;case Qe:{var _t=yt._payload,Le=yt._init;return vt(mt,Ot,Le(_t),zt)}}if(vi(yt)||ha(yt))return ae!==null?null:at(mt,Ot,yt,zt,null);pm(mt,yt)}return typeof yt=="function"&&gm(mt),null}function Ct(mt,Ot,yt,zt,ae){if(typeof zt=="string"&&zt!==""||typeof zt=="number"){var _t=mt.get(yt)||null;return q(Ot,_t,""+zt,ae)}if(typeof zt=="object"&&zt!==null){switch(zt.$$typeof){case we:{var Le=mt.get(zt.key===null?yt:zt.key)||null;return et(Ot,Le,zt,ae)}case as:{var Ue=mt.get(zt.key===null?yt:zt.key)||null;return nt(Ot,Ue,zt,ae)}case Qe:var Mi=zt._payload,ui=zt._init;return Ct(mt,Ot,yt,ui(Mi),ae)}if(vi(zt)||ha(zt)){var dr=mt.get(yt)||null;return at(Ot,dr,zt,ae,null)}pm(Ot,zt)}return typeof zt=="function"&&gm(Ot),null}function Pt(mt,Ot,yt){{if(typeof mt!="object"||mt===null)return Ot;switch(mt.$$typeof){case we:case as:KO(mt,yt);var zt=mt.key;if(typeof zt!="string")break;if(Ot===null){Ot=new Set,Ot.add(zt);break}if(!Ot.has(zt)){Ot.add(zt);break}n("Encountered two children with the same key, `%s`. Keys should be unique so that components maintain their identity across updates. Non-unique keys may cause children to be duplicated and/or omitted — the behavior is unsupported and could change in a future version.",zt);break;case Qe:var ae=mt._payload,_t=mt._init;Pt(_t(ae),Ot,yt);break}}return Ot}function At(mt,Ot,yt,zt){for(var ae=null,_t=0;_t<yt.length;_t++){var Le=yt[_t];ae=Pt(Le,ae,mt)}for(var Ue=null,Mi=null,ui=Ot,dr=0,fi=0,rr=null;ui!==null&&fi<yt.length;fi++){ui.index>fi?(rr=ui,ui=null):rr=ui.sibling;var En=vt(mt,ui,yt[fi],zt);if(En===null){ui===null&&(ui=rr);break}S&&ui&&En.alternate===null&&P(mt,ui),dr=W(En,dr,fi),Mi===null?Ue=En:Mi.sibling=En,Mi=En,ui=rr}if(fi===yt.length){if(O(mt,ui),nn()){var fn=fi;ru(mt,fn)}return Ue}if(ui===null){for(;fi<yt.length;fi++){var xs=pt(mt,yt[fi],zt);xs!==null&&(dr=W(xs,dr,fi),Mi===null?Ue=xs:Mi.sibling=xs,Mi=xs)}if(nn()){var kn=fi;ru(mt,kn)}return Ue}for(var Nn=D(mt,ui);fi<yt.length;fi++){var Pn=Ct(Nn,mt,fi,yt[fi],zt);Pn!==null&&(S&&Pn.alternate!==null&&Nn.delete(Pn.key===null?fi:Pn.key),dr=W(Pn,dr,fi),Mi===null?Ue=Pn:Mi.sibling=Pn,Mi=Pn)}if(S&&Nn.forEach(function(qf){return P(mt,qf)}),nn()){var rl=fi;ru(mt,rl)}return Ue}function jt(mt,Ot,yt,zt){var ae=ha(yt);if(typeof ae!="function")throw new Error("An object is not an iterable. This error is likely caused by a bug in React. Please file an issue.");{typeof Symbol=="function"&&yt[Symbol.toStringTag]==="Generator"&&(PS||n("Using Generators as children is unsupported and will likely yield unexpected results because enumerating a generator mutates it. You may convert it to an array with `Array.from()` or the `[...spread]` operator before rendering. Keep in mind you might need to polyfill these features for older browsers."),PS=!0),yt.entries===ae&&(ES||n("Using Maps as children is not supported. Use an array of keyed ReactElements instead."),ES=!0);var _t=ae.call(yt);if(_t)for(var Le=null,Ue=_t.next();!Ue.done;Ue=_t.next()){var Mi=Ue.value;Le=Pt(Mi,Le,mt)}}var ui=ae.call(yt);if(ui==null)throw new Error("An iterable object provided no iterator.");for(var dr=null,fi=null,rr=Ot,En=0,fn=0,xs=null,kn=ui.next();rr!==null&&!kn.done;fn++,kn=ui.next()){rr.index>fn?(xs=rr,rr=null):xs=rr.sibling;var Nn=vt(mt,rr,kn.value,zt);if(Nn===null){rr===null&&(rr=xs);break}S&&rr&&Nn.alternate===null&&P(mt,rr),En=W(Nn,En,fn),fi===null?dr=Nn:fi.sibling=Nn,fi=Nn,rr=xs}if(kn.done){if(O(mt,rr),nn()){var Pn=fn;ru(mt,Pn)}return dr}if(rr===null){for(;!kn.done;fn++,kn=ui.next()){var rl=pt(mt,kn.value,zt);rl!==null&&(En=W(rl,En,fn),fi===null?dr=rl:fi.sibling=rl,fi=rl)}if(nn()){var qf=fn;ru(mt,qf)}return dr}for(var Nv=D(mt,rr);!kn.done;fn++,kn=ui.next()){var oo=Ct(Nv,mt,fn,kn.value,zt);oo!==null&&(S&&oo.alternate!==null&&Nv.delete(oo.key===null?fn:oo.key),En=W(oo,En,fn),fi===null?dr=oo:fi.sibling=oo,fi=oo)}if(S&&Nv.forEach(function($H){return P(mt,$H)}),nn()){var HH=fn;ru(mt,HH)}return dr}function Ce(mt,Ot,yt,zt){if(Ot!==null&&Ot.tag===a){O(mt,Ot.sibling);var ae=N(Ot,yt);return ae.return=mt,ae}O(mt,Ot);var _t=SE(yt,mt.mode,zt);return _t.return=mt,_t}function me(mt,Ot,yt,zt){for(var ae=yt.key,_t=Ot;_t!==null;){if(_t.key===ae){var Le=yt.type;if(Le===ut){if(_t.tag===f){O(mt,_t.sibling);var Ue=N(_t,yt.props.children);return Ue.return=mt,Ue._debugSource=yt._source,Ue._debugOwner=yt._owner,Ue}}else if(_t.elementType===Le||tD(_t,yt)||typeof Le=="object"&&Le!==null&&Le.$$typeof===Qe&&ZO(Le)===_t.type){O(mt,_t.sibling);var Mi=N(_t,yt.props);return Mi.ref=av(mt,_t,yt),Mi.return=mt,Mi._debugSource=yt._source,Mi._debugOwner=yt._owner,Mi}O(mt,_t);break}else P(mt,_t);_t=_t.sibling}if(yt.type===ut){var ui=Ql(yt.props.children,mt.mode,zt,yt.key);return ui.return=mt,ui}else{var dr=CE(yt,mt.mode,zt);return dr.ref=av(mt,Ot,yt),dr.return=mt,dr}}function si(mt,Ot,yt,zt){for(var ae=yt.key,_t=Ot;_t!==null;){if(_t.key===ae)if(_t.tag===h&&_t.stateNode.containerInfo===yt.containerInfo&&_t.stateNode.implementation===yt.implementation){O(mt,_t.sibling);var Le=N(_t,yt.children||[]);return Le.return=mt,Le}else{O(mt,_t);break}else P(mt,_t);_t=_t.sibling}var Ue=EE(yt,mt.mode,zt);return Ue.return=mt,Ue}function ei(mt,Ot,yt,zt){var ae=typeof yt=="object"&&yt!==null&&yt.type===ut&&yt.key===null;if(ae&&(yt=yt.props.children),typeof yt=="object"&&yt!==null){switch(yt.$$typeof){case we:return Z(me(mt,Ot,yt,zt));case as:return Z(si(mt,Ot,yt,zt));case Qe:var _t=yt._payload,Le=yt._init;return ei(mt,Ot,Le(_t),zt)}if(vi(yt))return At(mt,Ot,yt,zt);if(ha(yt))return jt(mt,Ot,yt,zt);pm(mt,yt)}return typeof yt=="string"&&yt!==""||typeof yt=="number"?Z(Ce(mt,Ot,""+yt,zt)):(typeof yt=="function"&&gm(mt),O(mt,Ot))}return ei}var If=JO(!0),jO=JO(!1);function CW(S,P){if(S!==null&&P.child!==S.child)throw new Error("Resuming work not yet implemented.");if(P.child!==null){var O=P.child,D=gu(O,O.pendingProps);for(P.child=D,D.return=P;O.sibling!==null;)O=O.sibling,D=D.sibling=gu(O,O.pendingProps),D.return=P;D.sibling=null}}function SW(S,P){for(var O=S.child;O!==null;)hH(O,P),O=O.sibling}var RS=kl(null),AS;AS={};var mm=null,Bf=null,OS=null,ym=!1;function xm(){mm=null,Bf=null,OS=null,ym=!1}function QO(){ym=!0}function qO(){ym=!1}function _O(S,P,O){Cn(RS,P._currentValue,S),P._currentValue=O,P._currentRenderer!==void 0&&P._currentRenderer!==null&&P._currentRenderer!==AS&&n("Detected multiple renderers concurrently rendering the same context provider. This is currently unsupported."),P._currentRenderer=AS}function LS(S,P){var O=RS.current;Tn(RS,P),S._currentValue=O}function DS(S,P,O){for(var D=S;D!==null;){var N=D.alternate;if(xf(D.childLanes,P)?N!==null&&!xf(N.childLanes,P)&&(N.childLanes=Je(N.childLanes,P)):(D.childLanes=Je(D.childLanes,P),N!==null&&(N.childLanes=Je(N.childLanes,P))),D===O)break;D=D.return}D!==O&&n("Expected to find the propagation root when scheduling context work. This error is likely caused by a bug in React. Please file an issue.")}function EW(S,P,O){PW(S,P,O)}function PW(S,P,O){var D=S.child;for(D!==null&&(D.return=S);D!==null;){var N=void 0,W=D.dependencies;if(W!==null){N=D.child;for(var Z=W.firstContext;Z!==null;){if(Z.context===P){if(D.tag===o){var q=Pc(O),et=Qo(zi,q);et.tag=Cm;var nt=D.updateQueue;if(nt!==null){var at=nt.shared,pt=at.pending;pt===null?et.next=et:(et.next=pt.next,pt.next=et),at.pending=et}}D.lanes=Je(D.lanes,O);var vt=D.alternate;vt!==null&&(vt.lanes=Je(vt.lanes,O)),DS(D.return,O,S),W.lanes=Je(W.lanes,O);break}Z=Z.next}}else if(D.tag===v)N=D.type===S.type?null:D.child;else if(D.tag===R){var Ct=D.return;if(Ct===null)throw new Error("We just came from a parent so we must have had a parent. This is a bug in React.");Ct.lanes=Je(Ct.lanes,O);var Pt=Ct.alternate;Pt!==null&&(Pt.lanes=Je(Pt.lanes,O)),DS(Ct,O,S),N=D.sibling}else N=D.child;if(N!==null)N.return=D;else for(N=D;N!==null;){if(N===S){N=null;break}var At=N.sibling;if(At!==null){At.return=N.return,N=At;break}N=N.return}D=N}}function Gf(S,P){mm=S,Bf=null,OS=null;var O=S.dependencies;if(O!==null){var D=O.firstContext;D!==null&&(cs(O.lanes,P)&&Cv(),O.firstContext=null)}}function xr(S){ym&&n("Context can only be read while React is rendering. In classes, you can read it in the render method or getDerivedStateFromProps. In function components, you can read it directly in the function body, but not inside Hooks like useReducer() or useMemo().");var P=S._currentValue;if(OS!==S){var O={context:S,memoizedValue:P,next:null};if(Bf===null){if(mm===null)throw new Error("Context can only be read while React is rendering. In classes, you can read it in the render method or getDerivedStateFromProps. In function components, you can read it directly in the function body, but not inside Hooks like useReducer() or useMemo().");Bf=O,mm.dependencies={lanes:Nt,firstContext:O}}else Bf=Bf.next=O}return P}var lu=null;function FS(S){lu===null?lu=[S]:lu.push(S)}function bW(){if(lu!==null){for(var S=0;S<lu.length;S++){var P=lu[S],O=P.interleaved;if(O!==null){P.interleaved=null;var D=O.next,N=P.pending;if(N!==null){var W=N.next;N.next=D,O.next=W}P.pending=O}}lu=null}}function tL(S,P,O,D){var N=P.interleaved;return N===null?(O.next=O,FS(P)):(O.next=N.next,N.next=O),P.interleaved=O,Tm(S,D)}function MW(S,P,O,D){var N=P.interleaved;N===null?(O.next=O,FS(P)):(O.next=N.next,N.next=O),P.interleaved=O}function wW(S,P,O,D){var N=P.interleaved;return N===null?(O.next=O,FS(P)):(O.next=N.next,N.next=O),P.interleaved=O,Tm(S,D)}function $n(S,P){return Tm(S,P)}var RW=Tm;function Tm(S,P){S.lanes=Je(S.lanes,P);var O=S.alternate;O!==null&&(O.lanes=Je(O.lanes,P)),O===null&&(S.flags&(yr|Vo))!==Ae&&j2(S);for(var D=S,N=S.return;N!==null;)N.childLanes=Je(N.childLanes,P),O=N.alternate,O!==null?O.childLanes=Je(O.childLanes,P):(N.flags&(yr|Vo))!==Ae&&j2(S),D=N,N=N.return;if(D.tag===d){var W=D.stateNode;return W}else return null}var eL=0,iL=1,Cm=2,IS=3,Sm=!1,BS,Em;BS=!1,Em=null;function GS(S){var P={baseState:S.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:Nt},effects:null};S.updateQueue=P}function rL(S,P){var O=P.updateQueue,D=S.updateQueue;if(O===D){var N={baseState:D.baseState,firstBaseUpdate:D.firstBaseUpdate,lastBaseUpdate:D.lastBaseUpdate,shared:D.shared,effects:D.effects};P.updateQueue=N}}function Qo(S,P){var O={eventTime:S,lane:P,tag:eL,payload:null,callback:null,next:null};return O}function zl(S,P,O){var D=S.updateQueue;if(D===null)return null;var N=D.shared;if(Em===N&&!BS&&(n("An update (setState, replaceState, or forceUpdate) was scheduled from inside an update function. Update functions should be pure, with zero side-effects. Consider using componentDidUpdate or a callback."),BS=!0),MX()){var W=N.pending;return W===null?P.next=P:(P.next=W.next,W.next=P),N.pending=P,RW(S,O)}else return wW(S,N,P,O)}function Pm(S,P,O){var D=P.updateQueue;if(D!==null){var N=D.shared;if(gA(O)){var W=N.lanes;W=yA(W,S.pendingLanes);var Z=Je(W,O);N.lanes=Z,RC(S,Z)}}}function kS(S,P){var O=S.updateQueue,D=S.alternate;if(D!==null){var N=D.updateQueue;if(O===N){var W=null,Z=null,q=O.firstBaseUpdate;if(q!==null){var et=q;do{var nt={eventTime:et.eventTime,lane:et.lane,tag:et.tag,payload:et.payload,callback:et.callback,next:null};Z===null?W=Z=nt:(Z.next=nt,Z=nt),et=et.next}while(et!==null);Z===null?W=Z=P:(Z.next=P,Z=P)}else W=Z=P;O={baseState:N.baseState,firstBaseUpdate:W,lastBaseUpdate:Z,shared:N.shared,effects:N.effects},S.updateQueue=O;return}}var at=O.lastBaseUpdate;at===null?O.firstBaseUpdate=P:at.next=P,O.lastBaseUpdate=P}function AW(S,P,O,D,N,W){switch(O.tag){case iL:{var Z=O.payload;if(typeof Z=="function"){QO();var q=Z.call(W,D,N);{if(S.mode&ir){Xr(!0);try{Z.call(W,D,N)}finally{Xr(!1)}}qO()}return q}return Z}case IS:S.flags=S.flags&~Fn|pi;case eL:{var et=O.payload,nt;if(typeof et=="function"){QO(),nt=et.call(W,D,N);{if(S.mode&ir){Xr(!0);try{et.call(W,D,N)}finally{Xr(!1)}}qO()}}else nt=et;return nt==null?D:He({},D,nt)}case Cm:return Sm=!0,D}return D}function bm(S,P,O,D){var N=S.updateQueue;Sm=!1,Em=N.shared;var W=N.firstBaseUpdate,Z=N.lastBaseUpdate,q=N.shared.pending;if(q!==null){N.shared.pending=null;var et=q,nt=et.next;et.next=null,Z===null?W=nt:Z.next=nt,Z=et;var at=S.alternate;if(at!==null){var pt=at.updateQueue,vt=pt.lastBaseUpdate;vt!==Z&&(vt===null?pt.firstBaseUpdate=nt:vt.next=nt,pt.lastBaseUpdate=et)}}if(W!==null){var Ct=N.baseState,Pt=Nt,At=null,jt=null,Ce=null,me=W;do{var si=me.lane,ei=me.eventTime;if(xf(D,si)){if(Ce!==null){var Ot={eventTime:ei,lane:Hr,tag:me.tag,payload:me.payload,callback:me.callback,next:null};Ce=Ce.next=Ot}Ct=AW(S,N,me,Ct,P,O);var yt=me.callback;if(yt!==null&&me.lane!==Hr){S.flags|=JT;var zt=N.effects;zt===null?N.effects=[me]:zt.push(me)}}else{var mt={eventTime:ei,lane:si,tag:me.tag,payload:me.payload,callback:me.callback,next:null};Ce===null?(jt=Ce=mt,At=Ct):Ce=Ce.next=mt,Pt=Je(Pt,si)}if(me=me.next,me===null){if(q=N.shared.pending,q===null)break;var ae=q,_t=ae.next;ae.next=null,me=_t,N.lastBaseUpdate=ae,N.shared.pending=null}}while(!0);Ce===null&&(At=Ct),N.baseState=At,N.firstBaseUpdate=jt,N.lastBaseUpdate=Ce;var Le=N.shared.interleaved;if(Le!==null){var Ue=Le;do Pt=Je(Pt,Ue.lane),Ue=Ue.next;while(Ue!==Le)}else W===null&&(N.shared.lanes=Nt);Fv(Pt),S.lanes=Pt,S.memoizedState=Ct}Em=null}function OW(S,P){if(typeof S!="function")throw new Error("Invalid argument passed as callback. Expected a function. Instead "+("received: "+S));S.call(P)}function nL(){Sm=!1}function Mm(){return Sm}function sL(S,P,O){var D=P.effects;if(P.effects=null,D!==null)for(var N=0;N<D.length;N++){var W=D[N],Z=W.callback;Z!==null&&(W.callback=null,OW(Z,O))}}var ov={},Wl=kl(ov),lv=kl(ov),wm=kl(ov);function Rm(S){if(S===ov)throw new Error("Expected host context to exist. This error is likely caused by a bug in React. Please file an issue.");return S}function aL(){var S=Rm(wm.current);return S}function NS(S,P){Cn(wm,P,S),Cn(lv,S,S),Cn(Wl,ov,S);var O=KV(P);Tn(Wl,S),Cn(Wl,O,S)}function kf(S){Tn(Wl,S),Tn(lv,S),Tn(wm,S)}function US(){var S=Rm(Wl.current);return S}function oL(S){Rm(wm.current);var P=Rm(Wl.current),O=ZV(P,S.type);P!==O&&(Cn(lv,S,S),Cn(Wl,O,S))}function VS(S){lv.current===S&&(Tn(Wl,S),Tn(lv,S))}var LW=0,lL=1,hL=1,hv=2,ya=kl(LW);function zS(S,P){return(S&P)!==0}function Nf(S){return S&lL}function WS(S,P){return S&lL|P}function DW(S,P){return S|P}function Yl(S,P){Cn(ya,P,S)}function Uf(S){Tn(ya,S)}function FW(S,P){var O=S.memoizedState;return O!==null?O.dehydrated!==null:(S.memoizedProps,!0)}function Am(S){for(var P=S;P!==null;){if(P.tag===y){var O=P.memoizedState;if(O!==null){var D=O.dehydrated;if(D===null||MO(D)||aS(D))return P}}else if(P.tag===A&&P.memoizedProps.revealOrder!==void 0){var N=(P.flags&pi)!==Ae;if(N)return P}else if(P.child!==null){P.child.return=P,P=P.child;continue}if(P===S)return null;for(;P.sibling===null;){if(P.return===null||P.return===S)return null;P=P.return}P.sibling.return=P.return,P=P.sibling}return null}var Kn=0,wr=1,to=2,Rr=4,sn=8,YS=[];function XS(){for(var S=0;S<YS.length;S++){var P=YS[S];P._workInProgressVersionPrimary=null}YS.length=0}function IW(S,P){var O=P._getVersion,D=O(P._source);S.mutableSourceEagerHydrationData==null?S.mutableSourceEagerHydrationData=[P,D]:S.mutableSourceEagerHydrationData.push(P,D)}var re=i.ReactCurrentDispatcher,uv=i.ReactCurrentBatchConfig,HS,Vf;HS=new Set;var hu=Nt,bi=null,Ar=null,Or=null,Om=!1,fv=!1,dv=0,BW=0,GW=25,Dt=null,zs=null,Xl=-1,$S=!1;function xi(){{var S=Dt;zs===null?zs=[S]:zs.push(S)}}function Jt(){{var S=Dt;zs!==null&&(Xl++,zs[Xl]!==S&&kW(S))}}function zf(S){S!=null&&!vi(S)&&n("%s received a final argument that is not an array (instead, received `%s`). When specified, the final argument must be an array.",Dt,typeof S)}function kW(S){{var P=Ft(bi);if(!HS.has(P)&&(HS.add(P),zs!==null)){for(var O="",D=30,N=0;N<=Xl;N++){for(var W=zs[N],Z=N===Xl?S:W,q=N+1+". "+W;q.length<D;)q+=" ";q+=Z+`
`,O+=q}n(`React has detected a change in the order of Hooks called by %s. This will lead to bugs and errors if not fixed. For more information, read the Rules of Hooks: https://reactjs.org/link/rules-of-hooks

   Previous render            Next render
   ------------------------------------------------------
%s   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
`,P,O)}}}function Sn(){throw new Error(`Invalid hook call. Hooks can only be called inside of the body of a function component. This could happen for one of the following reasons:
1. You might have mismatching versions of React and the renderer (such as React DOM)
2. You might be breaking the Rules of Hooks
3. You might have more than one copy of React in the same app
See https://reactjs.org/link/invalid-hook-call for tips about how to debug and fix this problem.`)}function KS(S,P){if($S)return!1;if(P===null)return n("%s received a final argument during this render, but not during the previous render. Even though the final argument is optional, its type cannot change between renders.",Dt),!1;S.length!==P.length&&n(`The final argument passed to %s changed size between renders. The order and size of this array must remain constant.

Previous: %s
Incoming: %s`,Dt,"["+P.join(", ")+"]","["+S.join(", ")+"]");for(var O=0;O<P.length&&O<S.length;O++)if(!gs(S[O],P[O]))return!1;return!0}function Wf(S,P,O,D,N,W){hu=W,bi=P,zs=S!==null?S._debugHookTypes:null,Xl=-1,$S=S!==null&&S.type!==P.type,P.memoizedState=null,P.updateQueue=null,P.lanes=Nt,S!==null&&S.memoizedState!==null?re.current=LL:zs!==null?re.current=OL:re.current=AL;var Z=O(D,N);if(fv){var q=0;do{if(fv=!1,dv=0,q>=GW)throw new Error("Too many re-renders. React limits the number of renders to prevent an infinite loop.");q+=1,$S=!1,Ar=null,Or=null,P.updateQueue=null,Xl=-1,re.current=DL,Z=O(D,N)}while(fv)}re.current=Ym,P._debugHookTypes=zs;var et=Ar!==null&&Ar.next!==null;if(hu=Nt,bi=null,Ar=null,Or=null,Dt=null,zs=null,Xl=-1,S!==null&&(S.flags&Wo)!==(P.flags&Wo)&&(S.mode&ri)!==be&&n("Internal React error: Expected static flag was missing. Please notify the React team."),Om=!1,et)throw new Error("Rendered fewer hooks than expected. This may be caused by an accidental early return statement.");return Z}function Yf(){var S=dv!==0;return dv=0,S}function uL(S,P,O){P.updateQueue=S.updateQueue,(P.mode&ja)!==be?P.flags&=~(Pg|zo|da|oi):P.flags&=~(da|oi),S.lanes=Lg(S.lanes,O)}function fL(){if(re.current=Ym,Om){for(var S=bi.memoizedState;S!==null;){var P=S.queue;P!==null&&(P.pending=null),S=S.next}Om=!1}hu=Nt,bi=null,Ar=null,Or=null,zs=null,Xl=-1,Dt=null,PL=!1,fv=!1,dv=0}function eo(){var S={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Or===null?bi.memoizedState=Or=S:Or=Or.next=S,Or}function Ws(){var S;if(Ar===null){var P=bi.alternate;P!==null?S=P.memoizedState:S=null}else S=Ar.next;var O;if(Or===null?O=bi.memoizedState:O=Or.next,O!==null)Or=O,O=Or.next,Ar=S;else{if(S===null)throw new Error("Rendered more hooks than during the previous render.");Ar=S;var D={memoizedState:Ar.memoizedState,baseState:Ar.baseState,baseQueue:Ar.baseQueue,queue:Ar.queue,next:null};Or===null?bi.memoizedState=Or=D:Or=Or.next=D}return Or}function dL(){return{lastEffect:null,stores:null}}function ZS(S,P){return typeof P=="function"?P(S):P}function JS(S,P,O){var D=eo(),N;O!==void 0?N=O(P):N=P,D.memoizedState=D.baseState=N;var W={pending:null,interleaved:null,lanes:Nt,dispatch:null,lastRenderedReducer:S,lastRenderedState:N};D.queue=W;var Z=W.dispatch=zW.bind(null,bi,W);return[D.memoizedState,Z]}function jS(S,P,O){var D=Ws(),N=D.queue;if(N===null)throw new Error("Should have a queue. This is likely a bug in React. Please file an issue.");N.lastRenderedReducer=S;var W=Ar,Z=W.baseQueue,q=N.pending;if(q!==null){if(Z!==null){var et=Z.next,nt=q.next;Z.next=nt,q.next=et}W.baseQueue!==Z&&n("Internal error: Expected work-in-progress queue to be a clone. This is a bug in React."),W.baseQueue=Z=q,N.pending=null}if(Z!==null){var at=Z.next,pt=W.baseState,vt=null,Ct=null,Pt=null,At=at;do{var jt=At.lane;if(xf(hu,jt)){if(Pt!==null){var me={lane:Hr,action:At.action,hasEagerState:At.hasEagerState,eagerState:At.eagerState,next:null};Pt=Pt.next=me}if(At.hasEagerState)pt=At.eagerState;else{var si=At.action;pt=S(pt,si)}}else{var Ce={lane:jt,action:At.action,hasEagerState:At.hasEagerState,eagerState:At.eagerState,next:null};Pt===null?(Ct=Pt=Ce,vt=pt):Pt=Pt.next=Ce,bi.lanes=Je(bi.lanes,jt),Fv(jt)}At=At.next}while(At!==null&&At!==at);Pt===null?vt=pt:Pt.next=Ct,gs(pt,D.memoizedState)||Cv(),D.memoizedState=pt,D.baseState=vt,D.baseQueue=Pt,N.lastRenderedState=pt}var ei=N.interleaved;if(ei!==null){var mt=ei;do{var Ot=mt.lane;bi.lanes=Je(bi.lanes,Ot),Fv(Ot),mt=mt.next}while(mt!==ei)}else Z===null&&(N.lanes=Nt);var yt=N.dispatch;return[D.memoizedState,yt]}function QS(S,P,O){var D=Ws(),N=D.queue;if(N===null)throw new Error("Should have a queue. This is likely a bug in React. Please file an issue.");N.lastRenderedReducer=S;var W=N.dispatch,Z=N.pending,q=D.memoizedState;if(Z!==null){N.pending=null;var et=Z.next,nt=et;do{var at=nt.action;q=S(q,at),nt=nt.next}while(nt!==et);gs(q,D.memoizedState)||Cv(),D.memoizedState=q,D.baseQueue===null&&(D.baseState=q),N.lastRenderedState=q}return[q,W]}function zbt(S,P,O){}function Wbt(S,P,O){}function qS(S,P,O){var D=bi,N=eo(),W,Z=nn();if(Z){if(O===void 0)throw new Error("Missing getServerSnapshot, which is required for server-rendered content. Will revert to client rendering.");W=O(),Vf||W!==O()&&(n("The result of getServerSnapshot should be cached to avoid an infinite loop"),Vf=!0)}else{if(W=P(),!Vf){var q=P();gs(W,q)||(n("The result of getSnapshot should be cached to avoid an infinite loop"),Vf=!0)}var et=l0();if(et===null)throw new Error("Expected a work-in-progress root. This is a bug in React. Please file an issue.");Og(et,hu)||cL(D,P,W)}N.memoizedState=W;var nt={value:W,getSnapshot:P};return N.queue=nt,Bm(pL.bind(null,D,nt,S),[S]),D.flags|=da,cv(wr|sn,vL.bind(null,D,nt,W,P),void 0,null),W}function Lm(S,P,O){var D=bi,N=Ws(),W=P();if(!Vf){var Z=P();gs(W,Z)||(n("The result of getSnapshot should be cached to avoid an infinite loop"),Vf=!0)}var q=N.memoizedState,et=!gs(q,W);et&&(N.memoizedState=W,Cv());var nt=N.queue;if(pv(pL.bind(null,D,nt,S),[S]),nt.getSnapshot!==P||et||Or!==null&&Or.memoizedState.tag&wr){D.flags|=da,cv(wr|sn,vL.bind(null,D,nt,W,P),void 0,null);var at=l0();if(at===null)throw new Error("Expected a work-in-progress root. This is a bug in React. Please file an issue.");Og(at,hu)||cL(D,P,W)}return W}function cL(S,P,O){S.flags|=Eg;var D={getSnapshot:P,value:O},N=bi.updateQueue;if(N===null)N=dL(),bi.updateQueue=N,N.stores=[D];else{var W=N.stores;W===null?N.stores=[D]:W.push(D)}}function vL(S,P,O,D){P.value=O,P.getSnapshot=D,gL(P)&&mL(S)}function pL(S,P,O){var D=function(){gL(P)&&mL(S)};return O(D)}function gL(S){var P=S.getSnapshot,O=S.value;try{var D=P();return!gs(O,D)}catch{return!0}}function mL(S){var P=$n(S,Ge);P!==null&&Ir(P,S,Ge,zi)}function Dm(S){var P=eo();typeof S=="function"&&(S=S()),P.memoizedState=P.baseState=S;var O={pending:null,interleaved:null,lanes:Nt,dispatch:null,lastRenderedReducer:ZS,lastRenderedState:S};P.queue=O;var D=O.dispatch=WW.bind(null,bi,O);return[P.memoizedState,D]}function _S(S){return jS(ZS)}function t1(S){return QS(ZS)}function cv(S,P,O,D){var N={tag:S,create:P,destroy:O,deps:D,next:null},W=bi.updateQueue;if(W===null)W=dL(),bi.updateQueue=W,W.lastEffect=N.next=N;else{var Z=W.lastEffect;if(Z===null)W.lastEffect=N.next=N;else{var q=Z.next;Z.next=N,N.next=q,W.lastEffect=N}}return N}function e1(S){var P=eo();{var O={current:S};return P.memoizedState=O,O}}function Fm(S){var P=Ws();return P.memoizedState}function vv(S,P,O,D){var N=eo(),W=D===void 0?null:D;bi.flags|=S,N.memoizedState=cv(wr|P,O,void 0,W)}function Im(S,P,O,D){var N=Ws(),W=D===void 0?null:D,Z=void 0;if(Ar!==null){var q=Ar.memoizedState;if(Z=q.destroy,W!==null){var et=q.deps;if(KS(W,et)){N.memoizedState=cv(P,O,Z,W);return}}}bi.flags|=S,N.memoizedState=cv(wr|P,O,Z,W)}function Bm(S,P){return(bi.mode&ja)!==be?vv(Pg|da|qT,sn,S,P):vv(da|qT,sn,S,P)}function pv(S,P){return Im(da,sn,S,P)}function i1(S,P){return vv(oi,to,S,P)}function Gm(S,P){return Im(oi,to,S,P)}function r1(S,P){var O=oi;return O|=$h,(bi.mode&ja)!==be&&(O|=zo),vv(O,Rr,S,P)}function km(S,P){return Im(oi,Rr,S,P)}function yL(S,P){if(typeof P=="function"){var O=P,D=S();return O(D),function(){O(null)}}else if(P!=null){var N=P;N.hasOwnProperty("current")||n("Expected useImperativeHandle() first argument to either be a ref callback or React.createRef() object. Instead received: %s.","an object with keys {"+Object.keys(N).join(", ")+"}");var W=S();return N.current=W,function(){N.current=null}}}function n1(S,P,O){typeof P!="function"&&n("Expected useImperativeHandle() second argument to be a function that creates a handle. Instead received: %s.",P!==null?typeof P:"null");var D=O!=null?O.concat([S]):null,N=oi;return N|=$h,(bi.mode&ja)!==be&&(N|=zo),vv(N,Rr,yL.bind(null,P,S),D)}function Nm(S,P,O){typeof P!="function"&&n("Expected useImperativeHandle() second argument to be a function that creates a handle. Instead received: %s.",P!==null?typeof P:"null");var D=O!=null?O.concat([S]):null;return Im(oi,Rr,yL.bind(null,P,S),D)}function NW(S,P){}var Um=NW;function s1(S,P){var O=eo(),D=P===void 0?null:P;return O.memoizedState=[S,D],S}function Vm(S,P){var O=Ws(),D=P===void 0?null:P,N=O.memoizedState;if(N!==null&&D!==null){var W=N[1];if(KS(D,W))return N[0]}return O.memoizedState=[S,D],S}function a1(S,P){var O=eo(),D=P===void 0?null:P,N=S();return O.memoizedState=[N,D],N}function zm(S,P){var O=Ws(),D=P===void 0?null:P,N=O.memoizedState;if(N!==null&&D!==null){var W=N[1];if(KS(D,W))return N[0]}var Z=S();return O.memoizedState=[Z,D],Z}function o1(S){var P=eo();return P.memoizedState=S,S}function xL(S){var P=Ws(),O=Ar,D=O.memoizedState;return CL(P,D,S)}function TL(S){var P=Ws();if(Ar===null)return P.memoizedState=S,S;var O=Ar.memoizedState;return CL(P,O,S)}function CL(S,P,O){var D=!E7(hu);if(D){if(!gs(O,P)){var N=mA();bi.lanes=Je(bi.lanes,N),Fv(N),S.baseState=!0}return P}else return S.baseState&&(S.baseState=!1,Cv()),S.memoizedState=O,O}function UW(S,P,O){var D=va();$r(D7(D,Xo)),S(!0);var N=uv.transition;uv.transition={};var W=uv.transition;uv.transition._updatedFibers=new Set;try{S(!1),P()}finally{if($r(D),uv.transition=N,N===null&&W._updatedFibers){var Z=W._updatedFibers.size;Z>10&&E("Detected a large number of updates inside startTransition. If this is due to a subscription please re-write it to use React provided hooks. Otherwise concurrent mode guarantees are off the table."),W._updatedFibers.clear()}}}function l1(){var S=Dm(!1),P=S[0],O=S[1],D=UW.bind(null,O),N=eo();return N.memoizedState=D,[P,D]}function SL(){var S=_S(),P=S[0],O=Ws(),D=O.memoizedState;return[P,D]}function EL(){var S=t1(),P=S[0],O=Ws(),D=O.memoizedState;return[P,D]}var PL=!1;function VW(){return PL}function h1(){var S=eo(),P=l0(),O=P.identifierPrefix,D;if(nn()){var N=rW();D=":"+O+"R"+N;var W=dv++;W>0&&(D+="H"+W.toString(32)),D+=":"}else{var Z=BW++;D=":"+O+"r"+Z.toString(32)+":"}return S.memoizedState=D,D}function Wm(){var S=Ws(),P=S.memoizedState;return P}function zW(S,P,O){typeof arguments[3]=="function"&&n("State updates from the useState() and useReducer() Hooks don't support the second callback argument. To execute a side effect after rendering, declare it in the component body with useEffect().");var D=Jl(S),N={lane:D,action:O,hasEagerState:!1,eagerState:null,next:null};if(bL(S))ML(P,N);else{var W=tL(S,P,N,D);if(W!==null){var Z=Gn();Ir(W,S,D,Z),wL(W,P,D)}}RL(S,D)}function WW(S,P,O){typeof arguments[3]=="function"&&n("State updates from the useState() and useReducer() Hooks don't support the second callback argument. To execute a side effect after rendering, declare it in the component body with useEffect().");var D=Jl(S),N={lane:D,action:O,hasEagerState:!1,eagerState:null,next:null};if(bL(S))ML(P,N);else{var W=S.alternate;if(S.lanes===Nt&&(W===null||W.lanes===Nt)){var Z=P.lastRenderedReducer;if(Z!==null){var q;q=re.current,re.current=xa;try{var et=P.lastRenderedState,nt=Z(et,O);if(N.hasEagerState=!0,N.eagerState=nt,gs(nt,et)){MW(S,P,N,D);return}}catch{}finally{re.current=q}}}var at=tL(S,P,N,D);if(at!==null){var pt=Gn();Ir(at,S,D,pt),wL(at,P,D)}}RL(S,D)}function bL(S){var P=S.alternate;return S===bi||P!==null&&P===bi}function ML(S,P){fv=Om=!0;var O=S.pending;O===null?P.next=P:(P.next=O.next,O.next=P),S.pending=P}function wL(S,P,O){if(gA(O)){var D=P.lanes;D=yA(D,S.pendingLanes);var N=Je(D,O);P.lanes=N,RC(S,N)}}function RL(S,P,O){rC(S,P)}var Ym={readContext:xr,useCallback:Sn,useContext:Sn,useEffect:Sn,useImperativeHandle:Sn,useInsertionEffect:Sn,useLayoutEffect:Sn,useMemo:Sn,useReducer:Sn,useRef:Sn,useState:Sn,useDebugValue:Sn,useDeferredValue:Sn,useTransition:Sn,useMutableSource:Sn,useSyncExternalStore:Sn,useId:Sn,unstable_isNewReconciler:U},AL=null,OL=null,LL=null,DL=null,io=null,xa=null,Xm=null;{var u1=function(){n("Context can only be read while React is rendering. In classes, you can read it in the render method or getDerivedStateFromProps. In function components, you can read it directly in the function body, but not inside Hooks like useReducer() or useMemo().")},ke=function(){n("Do not call Hooks inside useEffect(...), useMemo(...), or other built-in Hooks. You can only call Hooks at the top level of your React function. For more information, see https://reactjs.org/link/rules-of-hooks")};AL={readContext:function(S){return xr(S)},useCallback:function(S,P){return Dt="useCallback",xi(),zf(P),s1(S,P)},useContext:function(S){return Dt="useContext",xi(),xr(S)},useEffect:function(S,P){return Dt="useEffect",xi(),zf(P),Bm(S,P)},useImperativeHandle:function(S,P,O){return Dt="useImperativeHandle",xi(),zf(O),n1(S,P,O)},useInsertionEffect:function(S,P){return Dt="useInsertionEffect",xi(),zf(P),i1(S,P)},useLayoutEffect:function(S,P){return Dt="useLayoutEffect",xi(),zf(P),r1(S,P)},useMemo:function(S,P){Dt="useMemo",xi(),zf(P);var O=re.current;re.current=io;try{return a1(S,P)}finally{re.current=O}},useReducer:function(S,P,O){Dt="useReducer",xi();var D=re.current;re.current=io;try{return JS(S,P,O)}finally{re.current=D}},useRef:function(S){return Dt="useRef",xi(),e1(S)},useState:function(S){Dt="useState",xi();var P=re.current;re.current=io;try{return Dm(S)}finally{re.current=P}},useDebugValue:function(S,P){return Dt="useDebugValue",xi(),void 0},useDeferredValue:function(S){return Dt="useDeferredValue",xi(),o1(S)},useTransition:function(){return Dt="useTransition",xi(),l1()},useMutableSource:function(S,P,O){return Dt="useMutableSource",xi(),void 0},useSyncExternalStore:function(S,P,O){return Dt="useSyncExternalStore",xi(),qS(S,P,O)},useId:function(){return Dt="useId",xi(),h1()},unstable_isNewReconciler:U},OL={readContext:function(S){return xr(S)},useCallback:function(S,P){return Dt="useCallback",Jt(),s1(S,P)},useContext:function(S){return Dt="useContext",Jt(),xr(S)},useEffect:function(S,P){return Dt="useEffect",Jt(),Bm(S,P)},useImperativeHandle:function(S,P,O){return Dt="useImperativeHandle",Jt(),n1(S,P,O)},useInsertionEffect:function(S,P){return Dt="useInsertionEffect",Jt(),i1(S,P)},useLayoutEffect:function(S,P){return Dt="useLayoutEffect",Jt(),r1(S,P)},useMemo:function(S,P){Dt="useMemo",Jt();var O=re.current;re.current=io;try{return a1(S,P)}finally{re.current=O}},useReducer:function(S,P,O){Dt="useReducer",Jt();var D=re.current;re.current=io;try{return JS(S,P,O)}finally{re.current=D}},useRef:function(S){return Dt="useRef",Jt(),e1(S)},useState:function(S){Dt="useState",Jt();var P=re.current;re.current=io;try{return Dm(S)}finally{re.current=P}},useDebugValue:function(S,P){return Dt="useDebugValue",Jt(),void 0},useDeferredValue:function(S){return Dt="useDeferredValue",Jt(),o1(S)},useTransition:function(){return Dt="useTransition",Jt(),l1()},useMutableSource:function(S,P,O){return Dt="useMutableSource",Jt(),void 0},useSyncExternalStore:function(S,P,O){return Dt="useSyncExternalStore",Jt(),qS(S,P,O)},useId:function(){return Dt="useId",Jt(),h1()},unstable_isNewReconciler:U},LL={readContext:function(S){return xr(S)},useCallback:function(S,P){return Dt="useCallback",Jt(),Vm(S,P)},useContext:function(S){return Dt="useContext",Jt(),xr(S)},useEffect:function(S,P){return Dt="useEffect",Jt(),pv(S,P)},useImperativeHandle:function(S,P,O){return Dt="useImperativeHandle",Jt(),Nm(S,P,O)},useInsertionEffect:function(S,P){return Dt="useInsertionEffect",Jt(),Gm(S,P)},useLayoutEffect:function(S,P){return Dt="useLayoutEffect",Jt(),km(S,P)},useMemo:function(S,P){Dt="useMemo",Jt();var O=re.current;re.current=xa;try{return zm(S,P)}finally{re.current=O}},useReducer:function(S,P,O){Dt="useReducer",Jt();var D=re.current;re.current=xa;try{return jS(S,P,O)}finally{re.current=D}},useRef:function(S){return Dt="useRef",Jt(),Fm()},useState:function(S){Dt="useState",Jt();var P=re.current;re.current=xa;try{return _S(S)}finally{re.current=P}},useDebugValue:function(S,P){return Dt="useDebugValue",Jt(),Um()},useDeferredValue:function(S){return Dt="useDeferredValue",Jt(),xL(S)},useTransition:function(){return Dt="useTransition",Jt(),SL()},useMutableSource:function(S,P,O){return Dt="useMutableSource",Jt(),void 0},useSyncExternalStore:function(S,P,O){return Dt="useSyncExternalStore",Jt(),Lm(S,P)},useId:function(){return Dt="useId",Jt(),Wm()},unstable_isNewReconciler:U},DL={readContext:function(S){return xr(S)},useCallback:function(S,P){return Dt="useCallback",Jt(),Vm(S,P)},useContext:function(S){return Dt="useContext",Jt(),xr(S)},useEffect:function(S,P){return Dt="useEffect",Jt(),pv(S,P)},useImperativeHandle:function(S,P,O){return Dt="useImperativeHandle",Jt(),Nm(S,P,O)},useInsertionEffect:function(S,P){return Dt="useInsertionEffect",Jt(),Gm(S,P)},useLayoutEffect:function(S,P){return Dt="useLayoutEffect",Jt(),km(S,P)},useMemo:function(S,P){Dt="useMemo",Jt();var O=re.current;re.current=Xm;try{return zm(S,P)}finally{re.current=O}},useReducer:function(S,P,O){Dt="useReducer",Jt();var D=re.current;re.current=Xm;try{return QS(S,P,O)}finally{re.current=D}},useRef:function(S){return Dt="useRef",Jt(),Fm()},useState:function(S){Dt="useState",Jt();var P=re.current;re.current=Xm;try{return t1(S)}finally{re.current=P}},useDebugValue:function(S,P){return Dt="useDebugValue",Jt(),Um()},useDeferredValue:function(S){return Dt="useDeferredValue",Jt(),TL(S)},useTransition:function(){return Dt="useTransition",Jt(),EL()},useMutableSource:function(S,P,O){return Dt="useMutableSource",Jt(),void 0},useSyncExternalStore:function(S,P,O){return Dt="useSyncExternalStore",Jt(),Lm(S,P)},useId:function(){return Dt="useId",Jt(),Wm()},unstable_isNewReconciler:U},io={readContext:function(S){return u1(),xr(S)},useCallback:function(S,P){return Dt="useCallback",ke(),xi(),s1(S,P)},useContext:function(S){return Dt="useContext",ke(),xi(),xr(S)},useEffect:function(S,P){return Dt="useEffect",ke(),xi(),Bm(S,P)},useImperativeHandle:function(S,P,O){return Dt="useImperativeHandle",ke(),xi(),n1(S,P,O)},useInsertionEffect:function(S,P){return Dt="useInsertionEffect",ke(),xi(),i1(S,P)},useLayoutEffect:function(S,P){return Dt="useLayoutEffect",ke(),xi(),r1(S,P)},useMemo:function(S,P){Dt="useMemo",ke(),xi();var O=re.current;re.current=io;try{return a1(S,P)}finally{re.current=O}},useReducer:function(S,P,O){Dt="useReducer",ke(),xi();var D=re.current;re.current=io;try{return JS(S,P,O)}finally{re.current=D}},useRef:function(S){return Dt="useRef",ke(),xi(),e1(S)},useState:function(S){Dt="useState",ke(),xi();var P=re.current;re.current=io;try{return Dm(S)}finally{re.current=P}},useDebugValue:function(S,P){return Dt="useDebugValue",ke(),xi(),void 0},useDeferredValue:function(S){return Dt="useDeferredValue",ke(),xi(),o1(S)},useTransition:function(){return Dt="useTransition",ke(),xi(),l1()},useMutableSource:function(S,P,O){return Dt="useMutableSource",ke(),xi(),void 0},useSyncExternalStore:function(S,P,O){return Dt="useSyncExternalStore",ke(),xi(),qS(S,P,O)},useId:function(){return Dt="useId",ke(),xi(),h1()},unstable_isNewReconciler:U},xa={readContext:function(S){return u1(),xr(S)},useCallback:function(S,P){return Dt="useCallback",ke(),Jt(),Vm(S,P)},useContext:function(S){return Dt="useContext",ke(),Jt(),xr(S)},useEffect:function(S,P){return Dt="useEffect",ke(),Jt(),pv(S,P)},useImperativeHandle:function(S,P,O){return Dt="useImperativeHandle",ke(),Jt(),Nm(S,P,O)},useInsertionEffect:function(S,P){return Dt="useInsertionEffect",ke(),Jt(),Gm(S,P)},useLayoutEffect:function(S,P){return Dt="useLayoutEffect",ke(),Jt(),km(S,P)},useMemo:function(S,P){Dt="useMemo",ke(),Jt();var O=re.current;re.current=xa;try{return zm(S,P)}finally{re.current=O}},useReducer:function(S,P,O){Dt="useReducer",ke(),Jt();var D=re.current;re.current=xa;try{return jS(S,P,O)}finally{re.current=D}},useRef:function(S){return Dt="useRef",ke(),Jt(),Fm()},useState:function(S){Dt="useState",ke(),Jt();var P=re.current;re.current=xa;try{return _S(S)}finally{re.current=P}},useDebugValue:function(S,P){return Dt="useDebugValue",ke(),Jt(),Um()},useDeferredValue:function(S){return Dt="useDeferredValue",ke(),Jt(),xL(S)},useTransition:function(){return Dt="useTransition",ke(),Jt(),SL()},useMutableSource:function(S,P,O){return Dt="useMutableSource",ke(),Jt(),void 0},useSyncExternalStore:function(S,P,O){return Dt="useSyncExternalStore",ke(),Jt(),Lm(S,P)},useId:function(){return Dt="useId",ke(),Jt(),Wm()},unstable_isNewReconciler:U},Xm={readContext:function(S){return u1(),xr(S)},useCallback:function(S,P){return Dt="useCallback",ke(),Jt(),Vm(S,P)},useContext:function(S){return Dt="useContext",ke(),Jt(),xr(S)},useEffect:function(S,P){return Dt="useEffect",ke(),Jt(),pv(S,P)},useImperativeHandle:function(S,P,O){return Dt="useImperativeHandle",ke(),Jt(),Nm(S,P,O)},useInsertionEffect:function(S,P){return Dt="useInsertionEffect",ke(),Jt(),Gm(S,P)},useLayoutEffect:function(S,P){return Dt="useLayoutEffect",ke(),Jt(),km(S,P)},useMemo:function(S,P){Dt="useMemo",ke(),Jt();var O=re.current;re.current=xa;try{return zm(S,P)}finally{re.current=O}},useReducer:function(S,P,O){Dt="useReducer",ke(),Jt();var D=re.current;re.current=xa;try{return QS(S,P,O)}finally{re.current=D}},useRef:function(S){return Dt="useRef",ke(),Jt(),Fm()},useState:function(S){Dt="useState",ke(),Jt();var P=re.current;re.current=xa;try{return t1(S)}finally{re.current=P}},useDebugValue:function(S,P){return Dt="useDebugValue",ke(),Jt(),Um()},useDeferredValue:function(S){return Dt="useDeferredValue",ke(),Jt(),TL(S)},useTransition:function(){return Dt="useTransition",ke(),Jt(),EL()},useMutableSource:function(S,P,O){return Dt="useMutableSource",ke(),Jt(),void 0},useSyncExternalStore:function(S,P,O){return Dt="useSyncExternalStore",ke(),Jt(),Lm(S,P)},useId:function(){return Dt="useId",ke(),Jt(),Wm()},unstable_isNewReconciler:U}}var Hl=t.unstable_now,FL=0,Hm=-1,gv=-1,$m=-1,f1=!1,Km=!1;function IL(){return f1}function YW(){Km=!0}function XW(){f1=!1,Km=!1}function HW(){f1=Km,Km=!1}function BL(){return FL}function GL(){FL=Hl()}function d1(S){gv=Hl(),S.actualStartTime<0&&(S.actualStartTime=Hl())}function kL(S){gv=-1}function Zm(S,P){if(gv>=0){var O=Hl()-gv;S.actualDuration+=O,P&&(S.selfBaseDuration=O),gv=-1}}function ro(S){if(Hm>=0){var P=Hl()-Hm;Hm=-1;for(var O=S.return;O!==null;){switch(O.tag){case d:var D=O.stateNode;D.effectDuration+=P;return;case m:var N=O.stateNode;N.effectDuration+=P;return}O=O.return}}}function c1(S){if($m>=0){var P=Hl()-$m;$m=-1;for(var O=S.return;O!==null;){switch(O.tag){case d:var D=O.stateNode;D!==null&&(D.passiveEffectDuration+=P);return;case m:var N=O.stateNode;N!==null&&(N.passiveEffectDuration+=P);return}O=O.return}}}function no(){Hm=Hl()}function v1(){$m=Hl()}function p1(S){for(var P=S.child;P;)S.actualDuration+=P.actualDuration,P=P.sibling}function Ta(S,P){if(S&&S.defaultProps){var O=He({},P),D=S.defaultProps;for(var N in D)O[N]===void 0&&(O[N]=D[N]);return O}return P}var g1={},m1,y1,x1,T1,C1,NL,Jm,S1,E1,P1,mv;{m1=new Set,y1=new Set,x1=new Set,T1=new Set,S1=new Set,C1=new Set,E1=new Set,P1=new Set,mv=new Set;var UL=new Set;Jm=function(S,P){if(!(S===null||typeof S=="function")){var O=P+"_"+S;UL.has(O)||(UL.add(O),n("%s(...): Expected the last optional `callback` argument to be a function. Instead received: %s.",P,S))}},NL=function(S,P){if(P===void 0){var O=ie(S)||"Component";C1.has(O)||(C1.add(O),n("%s.getDerivedStateFromProps(): A valid state object (or null) must be returned. You have returned undefined.",O))}},Object.defineProperty(g1,"_processChildContext",{enumerable:!1,value:function(){throw new Error("_processChildContext is not available in React 16+. This likely means you have multiple copies of React and are attempting to nest a React 15 tree inside a React 16 tree using unstable_renderSubtreeIntoContainer, which isn't supported. Try to make sure you have only one copy of React (and ideally, switch to ReactDOM.createPortal).")}}),Object.freeze(g1)}function b1(S,P,O,D){var N=S.memoizedState,W=O(D,N);{if(S.mode&ir){Xr(!0);try{W=O(D,N)}finally{Xr(!1)}}NL(P,W)}var Z=W==null?N:He({},N,W);if(S.memoizedState=Z,S.lanes===Nt){var q=S.updateQueue;q.baseState=Z}}var M1={isMounted:G6,enqueueSetState:function(S,P,O){var D=ff(S),N=Gn(),W=Jl(D),Z=Qo(N,W);Z.payload=P,O!=null&&(Jm(O,"setState"),Z.callback=O);var q=zl(D,Z,W);q!==null&&(Ir(q,D,W,N),Pm(q,D,W)),rC(D,W)},enqueueReplaceState:function(S,P,O){var D=ff(S),N=Gn(),W=Jl(D),Z=Qo(N,W);Z.tag=iL,Z.payload=P,O!=null&&(Jm(O,"replaceState"),Z.callback=O);var q=zl(D,Z,W);q!==null&&(Ir(q,D,W,N),Pm(q,D,W)),rC(D,W)},enqueueForceUpdate:function(S,P){var O=ff(S),D=Gn(),N=Jl(O),W=Qo(D,N);W.tag=Cm,P!=null&&(Jm(P,"forceUpdate"),W.callback=P);var Z=zl(O,W,N);Z!==null&&(Ir(Z,O,N,D),Pm(Z,O,N)),c7(O,N)}};function VL(S,P,O,D,N,W,Z){var q=S.stateNode;if(typeof q.shouldComponentUpdate=="function"){var et=q.shouldComponentUpdate(D,W,Z);{if(S.mode&ir){Xr(!0);try{et=q.shouldComponentUpdate(D,W,Z)}finally{Xr(!1)}}et===void 0&&n("%s.shouldComponentUpdate(): Returned undefined instead of a boolean value. Make sure to return true or false.",ie(P)||"Component")}return et}return P.prototype&&P.prototype.isPureReactComponent?!Uc(O,D)||!Uc(N,W):!0}function $W(S,P,O){var D=S.stateNode;{var N=ie(P)||"Component",W=D.render;W||(P.prototype&&typeof P.prototype.render=="function"?n("%s(...): No `render` method found on the returned component instance: did you accidentally return an object from the constructor?",N):n("%s(...): No `render` method found on the returned component instance: you may have forgotten to define `render`.",N)),D.getInitialState&&!D.getInitialState.isReactClassApproved&&!D.state&&n("getInitialState was defined on %s, a plain JavaScript class. This is only supported for classes created using React.createClass. Did you mean to define a state property instead?",N),D.getDefaultProps&&!D.getDefaultProps.isReactClassApproved&&n("getDefaultProps was defined on %s, a plain JavaScript class. This is only supported for classes created using React.createClass. Use a static property to define defaultProps instead.",N),D.propTypes&&n("propTypes was defined as an instance property on %s. Use a static property to define propTypes instead.",N),D.contextType&&n("contextType was defined as an instance property on %s. Use a static property to define contextType instead.",N),P.childContextTypes&&!mv.has(P)&&(S.mode&ir)===be&&(mv.add(P),n(`%s uses the legacy childContextTypes API which is no longer supported and will be removed in the next major release. Use React.createContext() instead

.Learn more about this warning here: https://reactjs.org/link/legacy-context`,N)),P.contextTypes&&!mv.has(P)&&(S.mode&ir)===be&&(mv.add(P),n(`%s uses the legacy contextTypes API which is no longer supported and will be removed in the next major release. Use React.createContext() with static contextType instead.

Learn more about this warning here: https://reactjs.org/link/legacy-context`,N)),D.contextTypes&&n("contextTypes was defined as an instance property on %s. Use a static property to define contextTypes instead.",N),P.contextType&&P.contextTypes&&!E1.has(P)&&(E1.add(P),n("%s declares both contextTypes and contextType static properties. The legacy contextTypes property will be ignored.",N)),typeof D.componentShouldUpdate=="function"&&n("%s has a method called componentShouldUpdate(). Did you mean shouldComponentUpdate()? The name is phrased as a question because the function is expected to return a value.",N),P.prototype&&P.prototype.isPureReactComponent&&typeof D.shouldComponentUpdate<"u"&&n("%s has a method called shouldComponentUpdate(). shouldComponentUpdate should not be used when extending React.PureComponent. Please extend React.Component if shouldComponentUpdate is used.",ie(P)||"A pure component"),typeof D.componentDidUnmount=="function"&&n("%s has a method called componentDidUnmount(). But there is no such lifecycle method. Did you mean componentWillUnmount()?",N),typeof D.componentDidReceiveProps=="function"&&n("%s has a method called componentDidReceiveProps(). But there is no such lifecycle method. If you meant to update the state in response to changing props, use componentWillReceiveProps(). If you meant to fetch data or run side-effects or mutations after React has updated the UI, use componentDidUpdate().",N),typeof D.componentWillRecieveProps=="function"&&n("%s has a method called componentWillRecieveProps(). Did you mean componentWillReceiveProps()?",N),typeof D.UNSAFE_componentWillRecieveProps=="function"&&n("%s has a method called UNSAFE_componentWillRecieveProps(). Did you mean UNSAFE_componentWillReceiveProps()?",N);var Z=D.props!==O;D.props!==void 0&&Z&&n("%s(...): When calling super() in `%s`, make sure to pass up the same props that your component's constructor was passed.",N,N),D.defaultProps&&n("Setting defaultProps as an instance property on %s is not supported and will be ignored. Instead, define defaultProps as a static property on %s.",N,N),typeof D.getSnapshotBeforeUpdate=="function"&&typeof D.componentDidUpdate!="function"&&!x1.has(P)&&(x1.add(P),n("%s: getSnapshotBeforeUpdate() should be used with componentDidUpdate(). This component defines getSnapshotBeforeUpdate() only.",ie(P))),typeof D.getDerivedStateFromProps=="function"&&n("%s: getDerivedStateFromProps() is defined as an instance method and will be ignored. Instead, declare it as a static method.",N),typeof D.getDerivedStateFromError=="function"&&n("%s: getDerivedStateFromError() is defined as an instance method and will be ignored. Instead, declare it as a static method.",N),typeof P.getSnapshotBeforeUpdate=="function"&&n("%s: getSnapshotBeforeUpdate() is defined as a static method and will be ignored. Instead, declare it as an instance method.",N);var q=D.state;q&&(typeof q!="object"||vi(q))&&n("%s.state: must be set to an object or null",N),typeof D.getChildContext=="function"&&typeof P.childContextTypes!="object"&&n("%s.getChildContext(): childContextTypes must be defined in order to use getChildContext().",N)}}function zL(S,P){P.updater=M1,S.stateNode=P,L6(P,S),P._reactInternalInstance=g1}function WL(S,P,O){var D=!1,N=ms,W=ms,Z=P.contextType;if("contextType"in P){var q=Z===null||Z!==void 0&&Z.$$typeof===_e&&Z._context===void 0;if(!q&&!P1.has(P)){P1.add(P);var et="";Z===void 0?et=" However, it is set to undefined. This can be caused by a typo or by mixing up named and default imports. This can also happen due to a circular dependency, so try moving the createContext() call to a separate file.":typeof Z!="object"?et=" However, it is set to a "+typeof Z+".":Z.$$typeof===de?et=" Did you accidentally pass the Context.Provider instead?":Z._context!==void 0?et=" Did you accidentally pass the Context.Consumer instead?":et=" However, it is set to an object with keys {"+Object.keys(Z).join(", ")+"}.",n("%s defines an invalid contextType. contextType should point to the Context object returned by React.createContext().%s",ie(P)||"Component",et)}}if(typeof Z=="object"&&Z!==null)W=xr(Z);else{N=Af(S,P,!0);var nt=P.contextTypes;D=nt!=null,W=D?Of(S,N):ms}var at=new P(O,W);if(S.mode&ir){Xr(!0);try{at=new P(O,W)}finally{Xr(!1)}}var pt=S.memoizedState=at.state!==null&&at.state!==void 0?at.state:null;zL(S,at);{if(typeof P.getDerivedStateFromProps=="function"&&pt===null){var vt=ie(P)||"Component";y1.has(vt)||(y1.add(vt),n("`%s` uses `getDerivedStateFromProps` but its initial state is %s. This is not recommended. Instead, define the initial state by assigning an object to `this.state` in the constructor of `%s`. This ensures that `getDerivedStateFromProps` arguments have a consistent shape.",vt,at.state===null?"null":"undefined",vt))}if(typeof P.getDerivedStateFromProps=="function"||typeof at.getSnapshotBeforeUpdate=="function"){var Ct=null,Pt=null,At=null;if(typeof at.componentWillMount=="function"&&at.componentWillMount.__suppressDeprecationWarning!==!0?Ct="componentWillMount":typeof at.UNSAFE_componentWillMount=="function"&&(Ct="UNSAFE_componentWillMount"),typeof at.componentWillReceiveProps=="function"&&at.componentWillReceiveProps.__suppressDeprecationWarning!==!0?Pt="componentWillReceiveProps":typeof at.UNSAFE_componentWillReceiveProps=="function"&&(Pt="UNSAFE_componentWillReceiveProps"),typeof at.componentWillUpdate=="function"&&at.componentWillUpdate.__suppressDeprecationWarning!==!0?At="componentWillUpdate":typeof at.UNSAFE_componentWillUpdate=="function"&&(At="UNSAFE_componentWillUpdate"),Ct!==null||Pt!==null||At!==null){var jt=ie(P)||"Component",Ce=typeof P.getDerivedStateFromProps=="function"?"getDerivedStateFromProps()":"getSnapshotBeforeUpdate()";T1.has(jt)||(T1.add(jt),n(`Unsafe legacy lifecycles will not be called for components using new component APIs.

%s uses %s but also contains the following legacy lifecycles:%s%s%s

The above lifecycles should be removed. Learn more about this warning here:
https://reactjs.org/link/unsafe-component-lifecycles`,jt,Ce,Ct!==null?`
  `+Ct:"",Pt!==null?`
  `+Pt:"",At!==null?`
  `+At:""))}}}return D&&LO(S,N,W),at}function KW(S,P){var O=P.state;typeof P.componentWillMount=="function"&&P.componentWillMount(),typeof P.UNSAFE_componentWillMount=="function"&&P.UNSAFE_componentWillMount(),O!==P.state&&(n("%s.componentWillMount(): Assigning directly to this.state is deprecated (except inside a component's constructor). Use setState instead.",Ft(S)||"Component"),M1.enqueueReplaceState(P,P.state,null))}function YL(S,P,O,D){var N=P.state;if(typeof P.componentWillReceiveProps=="function"&&P.componentWillReceiveProps(O,D),typeof P.UNSAFE_componentWillReceiveProps=="function"&&P.UNSAFE_componentWillReceiveProps(O,D),P.state!==N){{var W=Ft(S)||"Component";m1.has(W)||(m1.add(W),n("%s.componentWillReceiveProps(): Assigning directly to this.state is deprecated (except inside a component's constructor). Use setState instead.",W))}M1.enqueueReplaceState(P,P.state,null)}}function w1(S,P,O,D){$W(S,P,O);var N=S.stateNode;N.props=O,N.state=S.memoizedState,N.refs={},GS(S);var W=P.contextType;if(typeof W=="object"&&W!==null)N.context=xr(W);else{var Z=Af(S,P,!0);N.context=Of(S,Z)}{if(N.state===O){var q=ie(P)||"Component";S1.has(q)||(S1.add(q),n("%s: It is not recommended to assign props directly to state because updates to props won't be reflected in state. In most cases, it is better to use props directly.",q))}S.mode&ir&&ma.recordLegacyContextWarning(S,N),ma.recordUnsafeLifecycleWarnings(S,N)}N.state=S.memoizedState;var et=P.getDerivedStateFromProps;if(typeof et=="function"&&(b1(S,P,et,O),N.state=S.memoizedState),typeof P.getDerivedStateFromProps!="function"&&typeof N.getSnapshotBeforeUpdate!="function"&&(typeof N.UNSAFE_componentWillMount=="function"||typeof N.componentWillMount=="function")&&(KW(S,N),bm(S,O,N,D),N.state=S.memoizedState),typeof N.componentDidMount=="function"){var nt=oi;nt|=$h,(S.mode&ja)!==be&&(nt|=zo),S.flags|=nt}}function ZW(S,P,O,D){var N=S.stateNode,W=S.memoizedProps;N.props=W;var Z=N.context,q=P.contextType,et=ms;if(typeof q=="object"&&q!==null)et=xr(q);else{var nt=Af(S,P,!0);et=Of(S,nt)}var at=P.getDerivedStateFromProps,pt=typeof at=="function"||typeof N.getSnapshotBeforeUpdate=="function";!pt&&(typeof N.UNSAFE_componentWillReceiveProps=="function"||typeof N.componentWillReceiveProps=="function")&&(W!==O||Z!==et)&&YL(S,N,O,et),nL();var vt=S.memoizedState,Ct=N.state=vt;if(bm(S,O,N,D),Ct=S.memoizedState,W===O&&vt===Ct&&!am()&&!Mm()){if(typeof N.componentDidMount=="function"){var Pt=oi;Pt|=$h,(S.mode&ja)!==be&&(Pt|=zo),S.flags|=Pt}return!1}typeof at=="function"&&(b1(S,P,at,O),Ct=S.memoizedState);var At=Mm()||VL(S,P,W,O,vt,Ct,et);if(At){if(!pt&&(typeof N.UNSAFE_componentWillMount=="function"||typeof N.componentWillMount=="function")&&(typeof N.componentWillMount=="function"&&N.componentWillMount(),typeof N.UNSAFE_componentWillMount=="function"&&N.UNSAFE_componentWillMount()),typeof N.componentDidMount=="function"){var jt=oi;jt|=$h,(S.mode&ja)!==be&&(jt|=zo),S.flags|=jt}}else{if(typeof N.componentDidMount=="function"){var Ce=oi;Ce|=$h,(S.mode&ja)!==be&&(Ce|=zo),S.flags|=Ce}S.memoizedProps=O,S.memoizedState=Ct}return N.props=O,N.state=Ct,N.context=et,At}function JW(S,P,O,D,N){var W=P.stateNode;rL(S,P);var Z=P.memoizedProps,q=P.type===P.elementType?Z:Ta(P.type,Z);W.props=q;var et=P.pendingProps,nt=W.context,at=O.contextType,pt=ms;if(typeof at=="object"&&at!==null)pt=xr(at);else{var vt=Af(P,O,!0);pt=Of(P,vt)}var Ct=O.getDerivedStateFromProps,Pt=typeof Ct=="function"||typeof W.getSnapshotBeforeUpdate=="function";!Pt&&(typeof W.UNSAFE_componentWillReceiveProps=="function"||typeof W.componentWillReceiveProps=="function")&&(Z!==et||nt!==pt)&&YL(P,W,D,pt),nL();var At=P.memoizedState,jt=W.state=At;if(bm(P,D,W,N),jt=P.memoizedState,Z===et&&At===jt&&!am()&&!Mm()&&!H)return typeof W.componentDidUpdate=="function"&&(Z!==S.memoizedProps||At!==S.memoizedState)&&(P.flags|=oi),typeof W.getSnapshotBeforeUpdate=="function"&&(Z!==S.memoizedProps||At!==S.memoizedState)&&(P.flags|=Xh),!1;typeof Ct=="function"&&(b1(P,O,Ct,D),jt=P.memoizedState);var Ce=Mm()||VL(P,O,q,D,At,jt,pt)||H;return Ce?(!Pt&&(typeof W.UNSAFE_componentWillUpdate=="function"||typeof W.componentWillUpdate=="function")&&(typeof W.componentWillUpdate=="function"&&W.componentWillUpdate(D,jt,pt),typeof W.UNSAFE_componentWillUpdate=="function"&&W.UNSAFE_componentWillUpdate(D,jt,pt)),typeof W.componentDidUpdate=="function"&&(P.flags|=oi),typeof W.getSnapshotBeforeUpdate=="function"&&(P.flags|=Xh)):(typeof W.componentDidUpdate=="function"&&(Z!==S.memoizedProps||At!==S.memoizedState)&&(P.flags|=oi),typeof W.getSnapshotBeforeUpdate=="function"&&(Z!==S.memoizedProps||At!==S.memoizedState)&&(P.flags|=Xh),P.memoizedProps=D,P.memoizedState=jt),W.props=D,W.state=jt,W.context=pt,Ce}function uu(S,P){return{value:S,source:P,stack:se(P),digest:null}}function R1(S,P,O){return{value:S,source:null,stack:O??null,digest:P??null}}function jW(S,P){return!0}function A1(S,P){try{var O=jW(S,P);if(O===!1)return;var D=P.value,N=P.source,W=P.stack,Z=W!==null?W:"";if(D!=null&&D._suppressLogging){if(S.tag===o)return;console.error(D)}var q=N?Ft(N):null,et=q?"The above error occurred in the <"+q+"> component:":"The above error occurred in one of your React components:",nt;if(S.tag===d)nt=`Consider adding an error boundary to your tree to customize error handling behavior.
Visit https://reactjs.org/link/error-boundaries to learn more about error boundaries.`;else{var at=Ft(S)||"Anonymous";nt="React will try to recreate this component tree from scratch "+("using the error boundary you provided, "+at+".")}var pt=et+`
`+Z+`

`+(""+nt);console.error(pt)}catch(vt){setTimeout(function(){throw vt})}}var QW=typeof WeakMap=="function"?WeakMap:Map;function XL(S,P,O){var D=Qo(zi,O);D.tag=IS,D.payload={element:null};var N=P.value;return D.callback=function(){YX(N),A1(S,P)},D}function O1(S,P,O){var D=Qo(zi,O);D.tag=IS;var N=S.type.getDerivedStateFromError;if(typeof N=="function"){var W=P.value;D.payload=function(){return N(W)},D.callback=function(){eD(S),A1(S,P)}}var Z=S.stateNode;return Z!==null&&typeof Z.componentDidCatch=="function"&&(D.callback=function(){eD(S),A1(S,P),typeof N!="function"&&zX(this);var et=P.value,nt=P.stack;this.componentDidCatch(et,{componentStack:nt!==null?nt:""}),typeof N!="function"&&(cs(S.lanes,Ge)||n("%s: Error boundaries should implement getDerivedStateFromError(). In that method, return a state update to display an error message or fallback UI.",Ft(S)||"Unknown"))}),D}function HL(S,P,O){var D=S.pingCache,N;if(D===null?(D=S.pingCache=new QW,N=new Set,D.set(P,N)):(N=D.get(P),N===void 0&&(N=new Set,D.set(P,N))),!N.has(O)){N.add(O);var W=XX.bind(null,S,P,O);ca&&Iv(S,O),P.then(W,W)}}function qW(S,P,O,D){var N=S.updateQueue;if(N===null){var W=new Set;W.add(O),S.updateQueue=W}else N.add(O)}function _W(S,P){var O=S.tag;if((S.mode&ri)===be&&(O===r||O===g||O===b)){var D=S.alternate;D?(S.updateQueue=D.updateQueue,S.memoizedState=D.memoizedState,S.lanes=D.lanes):(S.updateQueue=null,S.memoizedState=null)}}function $L(S){var P=S;do{if(P.tag===y&&FW(P))return P;P=P.return}while(P!==null);return null}function KL(S,P,O,D,N){if((S.mode&ri)===be){if(S===P)S.flags|=Fn;else{if(S.flags|=pi,O.flags|=jT,O.flags&=~(D6|gc),O.tag===o){var W=O.alternate;if(W===null)O.tag=w;else{var Z=Qo(zi,Ge);Z.tag=Cm,zl(O,Z,Ge)}}O.lanes=Je(O.lanes,Ge)}return S}return S.flags|=Fn,S.lanes=N,S}function tY(S,P,O,D,N){if(O.flags|=gc,ca&&Iv(S,N),D!==null&&typeof D=="object"&&typeof D.then=="function"){var W=D;_W(O),nn()&&O.mode&ri&&NO();var Z=$L(P);if(Z!==null){Z.flags&=~Uo,KL(Z,P,O,S,N),Z.mode&ri&&HL(S,W,N),qW(Z,S,W);return}else{if(!S7(N)){HL(S,W,N),hE();return}var q=new Error("A component suspended while responding to synchronous input. This will cause the UI to be replaced with a loading indicator. To fix, updates that suspend should be wrapped with startTransition.");D=q}}else if(nn()&&O.mode&ri){NO();var et=$L(P);if(et!==null){(et.flags&Fn)===Ae&&(et.flags|=Uo),KL(et,P,O,S,N),SS(uu(D,O));return}}D=uu(D,O),FX(D);var nt=P;do{switch(nt.tag){case d:{var at=D;nt.flags|=Fn;var pt=Pc(N);nt.lanes=Je(nt.lanes,pt);var vt=XL(nt,at,pt);kS(nt,vt);return}case o:var Ct=D,Pt=nt.type,At=nt.stateNode;if((nt.flags&pi)===Ae&&(typeof Pt.getDerivedStateFromError=="function"||At!==null&&typeof At.componentDidCatch=="function"&&!$2(At))){nt.flags|=Fn;var jt=Pc(N);nt.lanes=Je(nt.lanes,jt);var Ce=O1(nt,Ct,jt);kS(nt,Ce);return}break}nt=nt.return}while(nt!==null)}function eY(){return null}var yv=i.ReactCurrentOwner,Ca=!1,L1,xv,D1,F1,I1,fu,B1,jm,Tv;L1={},xv={},D1={},F1={},I1={},fu=!1,B1={},jm={},Tv={};function In(S,P,O,D){S===null?P.child=jO(P,null,O,D):P.child=If(P,S.child,O,D)}function iY(S,P,O,D){P.child=If(P,S.child,null,D),P.child=If(P,null,O,D)}function ZL(S,P,O,D,N){if(P.type!==P.elementType){var W=O.propTypes;W&&pa(W,D,"prop",ie(O))}var Z=O.render,q=P.ref,et,nt;Gf(P,N),yc(P);{if(yv.current=P,yn(!0),et=Wf(S,P,Z,D,q,N),nt=Yf(),P.mode&ir){Xr(!0);try{et=Wf(S,P,Z,D,q,N),nt=Yf()}finally{Xr(!1)}}yn(!1)}return pf(),S!==null&&!Ca?(uL(S,P,N),qo(S,P,N)):(nn()&&nt&&gS(P),P.flags|=df,In(S,P,et,N),P.child)}function JL(S,P,O,D,N){if(S===null){var W=O.type;if(oH(W)&&O.compare===null&&O.defaultProps===void 0){var Z=W;return Z=Qf(W),P.tag=b,P.type=Z,N1(P,W),jL(S,P,Z,D,N)}{var q=W.propTypes;if(q&&pa(q,D,"prop",ie(W)),O.defaultProps!==void 0){var et=ie(W)||"Unknown";Tv[et]||(n("%s: Support for defaultProps will be removed from memo components in a future major release. Use JavaScript default parameters instead.",et),Tv[et]=!0)}}var nt=TE(O.type,null,D,P,P.mode,N);return nt.ref=P.ref,nt.return=P,P.child=nt,nt}{var at=O.type,pt=at.propTypes;pt&&pa(pt,D,"prop",ie(at))}var vt=S.child,Ct=X1(S,N);if(!Ct){var Pt=vt.memoizedProps,At=O.compare;if(At=At!==null?At:Uc,At(Pt,D)&&S.ref===P.ref)return qo(S,P,N)}P.flags|=df;var jt=gu(vt,D);return jt.ref=P.ref,jt.return=P,P.child=jt,jt}function jL(S,P,O,D,N){if(P.type!==P.elementType){var W=P.elementType;if(W.$$typeof===Qe){var Z=W,q=Z._payload,et=Z._init;try{W=et(q)}catch{W=null}var nt=W&&W.propTypes;nt&&pa(nt,D,"prop",ie(W))}}if(S!==null){var at=S.memoizedProps;if(Uc(at,D)&&S.ref===P.ref&&P.type===S.type)if(Ca=!1,P.pendingProps=D=at,X1(S,N))(S.flags&jT)!==Ae&&(Ca=!0);else return P.lanes=S.lanes,qo(S,P,N)}return G1(S,P,O,D,N)}function QL(S,P,O){var D=P.pendingProps,N=D.children,W=S!==null?S.memoizedState:null;if(D.mode==="hidden"||X)if((P.mode&ri)===be){var Z={baseLanes:Nt,cachePool:null,transitions:null};P.memoizedState=Z,h0(P,O)}else if(cs(O,ds)){var pt={baseLanes:Nt,cachePool:null,transitions:null};P.memoizedState=pt;var vt=W!==null?W.baseLanes:O;h0(P,vt)}else{var q=null,et;if(W!==null){var nt=W.baseLanes;et=Je(nt,O)}else et=O;P.lanes=P.childLanes=ds;var at={baseLanes:et,cachePool:q,transitions:null};return P.memoizedState=at,P.updateQueue=null,h0(P,et),null}else{var Ct;W!==null?(Ct=Je(W.baseLanes,O),P.memoizedState=null):Ct=O,h0(P,Ct)}return In(S,P,N,O),P.child}function rY(S,P,O){var D=P.pendingProps;return In(S,P,D,O),P.child}function nY(S,P,O){var D=P.pendingProps.children;return In(S,P,D,O),P.child}function sY(S,P,O){{P.flags|=oi;{var D=P.stateNode;D.effectDuration=0,D.passiveEffectDuration=0}}var N=P.pendingProps,W=N.children;return In(S,P,W,O),P.child}function qL(S,P){var O=P.ref;(S===null&&O!==null||S!==null&&S.ref!==O)&&(P.flags|=Al,P.flags|=QT)}function G1(S,P,O,D,N){if(P.type!==P.elementType){var W=O.propTypes;W&&pa(W,D,"prop",ie(O))}var Z;{var q=Af(P,O,!0);Z=Of(P,q)}var et,nt;Gf(P,N),yc(P);{if(yv.current=P,yn(!0),et=Wf(S,P,O,D,Z,N),nt=Yf(),P.mode&ir){Xr(!0);try{et=Wf(S,P,O,D,Z,N),nt=Yf()}finally{Xr(!1)}}yn(!1)}return pf(),S!==null&&!Ca?(uL(S,P,N),qo(S,P,N)):(nn()&&nt&&gS(P),P.flags|=df,In(S,P,et,N),P.child)}function _L(S,P,O,D,N){{switch(SH(P)){case!1:{var W=P.stateNode,Z=P.type,q=new Z(P.memoizedProps,W.context),et=q.state;W.updater.enqueueSetState(W,et,null);break}case!0:{P.flags|=pi,P.flags|=Fn;var nt=new Error("Simulated error coming from DevTools"),at=Pc(N);P.lanes=Je(P.lanes,at);var pt=O1(P,uu(nt,P),at);kS(P,pt);break}}if(P.type!==P.elementType){var vt=O.propTypes;vt&&pa(vt,D,"prop",ie(O))}}var Ct;_a(O)?(Ct=!0,lm(P)):Ct=!1,Gf(P,N);var Pt=P.stateNode,At;Pt===null?(qm(S,P),WL(P,O,D),w1(P,O,D,N),At=!0):S===null?At=ZW(P,O,D,N):At=JW(S,P,O,D,N);var jt=k1(S,P,O,At,Ct,N);{var Ce=P.stateNode;At&&Ce.props!==D&&(fu||n("It looks like %s is reassigning its own `this.props` while rendering. This is not supported and can lead to confusing bugs.",Ft(P)||"a component"),fu=!0)}return jt}function k1(S,P,O,D,N,W){qL(S,P);var Z=(P.flags&pi)!==Ae;if(!D&&!Z)return N&&IO(P,O,!1),qo(S,P,W);var q=P.stateNode;yv.current=P;var et;if(Z&&typeof O.getDerivedStateFromError!="function")et=null,kL();else{yc(P);{if(yn(!0),et=q.render(),P.mode&ir){Xr(!0);try{q.render()}finally{Xr(!1)}}yn(!1)}pf()}return P.flags|=df,S!==null&&Z?iY(S,P,et,W):In(S,P,et,W),P.memoizedState=q.state,N&&IO(P,O,!0),P.child}function t2(S){var P=S.stateNode;P.pendingContext?DO(S,P.pendingContext,P.pendingContext!==P.context):P.context&&DO(S,P.context,!1),NS(S,P.containerInfo)}function aY(S,P,O){if(t2(P),S===null)throw new Error("Should have a current fiber. This is a bug in React.");var D=P.pendingProps,N=P.memoizedState,W=N.element;rL(S,P),bm(P,D,null,O);var Z=P.memoizedState;P.stateNode;var q=Z.element;if(N.isDehydrated){var et={element:q,isDehydrated:!1,cache:Z.cache,pendingSuspenseBoundaries:Z.pendingSuspenseBoundaries,transitions:Z.transitions},nt=P.updateQueue;if(nt.baseState=et,P.memoizedState=et,P.flags&Uo){var at=uu(new Error("There was an error while hydrating. Because the error happened outside of a Suspense boundary, the entire root will switch to client rendering."),P);return e2(S,P,q,O,at)}else if(q!==W){var pt=uu(new Error("This root received an early update, before anything was able hydrate. Switched the entire root to client rendering."),P);return e2(S,P,q,O,pt)}else{hW(P);var vt=jO(P,null,q,O);P.child=vt;for(var Ct=vt;Ct;)Ct.flags=Ct.flags&~yr|Vo,Ct=Ct.sibling}}else{if(Ff(),q===W)return qo(S,P,O);In(S,P,q,O)}return P.child}function e2(S,P,O,D,N){return Ff(),SS(N),P.flags|=Uo,In(S,P,O,D),P.child}function oY(S,P,O){oL(P),S===null&&CS(P);var D=P.type,N=P.pendingProps,W=S!==null?S.memoizedProps:null,Z=N.children,q=iS(D,N);return q?Z=null:W!==null&&iS(D,W)&&(P.flags|=pc),qL(S,P),In(S,P,Z,O),P.child}function lY(S,P){return S===null&&CS(P),null}function hY(S,P,O,D){qm(S,P);var N=P.pendingProps,W=O,Z=W._payload,q=W._init,et=q(Z);P.type=et;var nt=P.tag=lH(et),at=Ta(et,N),pt;switch(nt){case r:return N1(P,et),P.type=et=Qf(et),pt=G1(null,P,et,at,D),pt;case o:return P.type=et=vE(et),pt=_L(null,P,et,at,D),pt;case g:return P.type=et=pE(et),pt=ZL(null,P,et,at,D),pt;case C:{if(P.type!==P.elementType){var vt=et.propTypes;vt&&pa(vt,at,"prop",ie(et))}return pt=JL(null,P,et,Ta(et.type,at),D),pt}}var Ct="";throw et!==null&&typeof et=="object"&&et.$$typeof===Qe&&(Ct=" Did you wrap a component in React.lazy() more than once?"),new Error("Element type is invalid. Received a promise that resolves to: "+et+". "+("Lazy element type must resolve to a class or function."+Ct))}function uY(S,P,O,D,N){qm(S,P),P.tag=o;var W;return _a(O)?(W=!0,lm(P)):W=!1,Gf(P,N),WL(P,O,D),w1(P,O,D,N),k1(null,P,O,!0,W,N)}function fY(S,P,O,D){qm(S,P);var N=P.pendingProps,W;{var Z=Af(P,O,!1);W=Of(P,Z)}Gf(P,D);var q,et;yc(P);{if(O.prototype&&typeof O.prototype.render=="function"){var nt=ie(O)||"Unknown";L1[nt]||(n("The <%s /> component appears to have a render method, but doesn't extend React.Component. This is likely to cause errors. Change %s to extend React.Component instead.",nt,nt),L1[nt]=!0)}P.mode&ir&&ma.recordLegacyContextWarning(P,null),yn(!0),yv.current=P,q=Wf(null,P,O,N,W,D),et=Yf(),yn(!1)}if(pf(),P.flags|=df,typeof q=="object"&&q!==null&&typeof q.render=="function"&&q.$$typeof===void 0){var at=ie(O)||"Unknown";xv[at]||(n("The <%s /> component appears to be a function component that returns a class instance. Change %s to a class that extends React.Component instead. If you can't use a class try assigning the prototype on the function as a workaround. `%s.prototype = React.Component.prototype`. Don't use an arrow function since it cannot be called with `new` by React.",at,at,at),xv[at]=!0)}if(typeof q=="object"&&q!==null&&typeof q.render=="function"&&q.$$typeof===void 0){{var pt=ie(O)||"Unknown";xv[pt]||(n("The <%s /> component appears to be a function component that returns a class instance. Change %s to a class that extends React.Component instead. If you can't use a class try assigning the prototype on the function as a workaround. `%s.prototype = React.Component.prototype`. Don't use an arrow function since it cannot be called with `new` by React.",pt,pt,pt),xv[pt]=!0)}P.tag=o,P.memoizedState=null,P.updateQueue=null;var vt=!1;return _a(O)?(vt=!0,lm(P)):vt=!1,P.memoizedState=q.state!==null&&q.state!==void 0?q.state:null,GS(P),zL(P,q),w1(P,O,N,D),k1(null,P,O,!0,vt,D)}else{if(P.tag=r,P.mode&ir){Xr(!0);try{q=Wf(null,P,O,N,W,D),et=Yf()}finally{Xr(!1)}}return nn()&&et&&gS(P),In(null,P,q,D),N1(P,O),P.child}}function N1(S,P){{if(P&&P.childContextTypes&&n("%s(...): childContextTypes cannot be defined on a function component.",P.displayName||P.name||"Component"),S.ref!==null){var O="",D=le();D&&(O+=`

Check the render method of \``+D+"`.");var N=D||"",W=S._debugSource;W&&(N=W.fileName+":"+W.lineNumber),I1[N]||(I1[N]=!0,n("Function components cannot be given refs. Attempts to access this ref will fail. Did you mean to use React.forwardRef()?%s",O))}if(P.defaultProps!==void 0){var Z=ie(P)||"Unknown";Tv[Z]||(n("%s: Support for defaultProps will be removed from function components in a future major release. Use JavaScript default parameters instead.",Z),Tv[Z]=!0)}if(typeof P.getDerivedStateFromProps=="function"){var q=ie(P)||"Unknown";F1[q]||(n("%s: Function components do not support getDerivedStateFromProps.",q),F1[q]=!0)}if(typeof P.contextType=="object"&&P.contextType!==null){var et=ie(P)||"Unknown";D1[et]||(n("%s: Function components do not support contextType.",et),D1[et]=!0)}}}var U1={dehydrated:null,treeContext:null,retryLane:Hr};function V1(S){return{baseLanes:S,cachePool:eY(),transitions:null}}function dY(S,P){var O=null;return{baseLanes:Je(S.baseLanes,P),cachePool:O,transitions:S.transitions}}function cY(S,P,O,D){if(P!==null){var N=P.memoizedState;if(N===null)return!1}return zS(S,hv)}function vY(S,P){return Lg(S.childLanes,P)}function i2(S,P,O){var D=P.pendingProps;EH(P)&&(P.flags|=pi);var N=ya.current,W=!1,Z=(P.flags&pi)!==Ae;if(Z||cY(N,S)?(W=!0,P.flags&=~pi):(S===null||S.memoizedState!==null)&&(N=DW(N,hL)),N=Nf(N),Yl(P,N),S===null){CS(P);var q=P.memoizedState;if(q!==null){var et=q.dehydrated;if(et!==null)return xY(P,et)}var nt=D.children,at=D.fallback;if(W){var pt=pY(P,nt,at,O),vt=P.child;return vt.memoizedState=V1(O),P.memoizedState=U1,pt}else return z1(P,nt)}else{var Ct=S.memoizedState;if(Ct!==null){var Pt=Ct.dehydrated;if(Pt!==null)return TY(S,P,Z,D,Pt,Ct,O)}if(W){var At=D.fallback,jt=D.children,Ce=mY(S,P,jt,At,O),me=P.child,si=S.child.memoizedState;return me.memoizedState=si===null?V1(O):dY(si,O),me.childLanes=vY(S,O),P.memoizedState=U1,Ce}else{var ei=D.children,mt=gY(S,P,ei,O);return P.memoizedState=null,mt}}}function z1(S,P,O){var D=S.mode,N={mode:"visible",children:P},W=W1(N,D);return W.return=S,S.child=W,W}function pY(S,P,O,D){var N=S.mode,W=S.child,Z={mode:"hidden",children:P},q,et;return(N&ri)===be&&W!==null?(q=W,q.childLanes=Nt,q.pendingProps=Z,S.mode&Pi&&(q.actualDuration=0,q.actualStartTime=-1,q.selfBaseDuration=0,q.treeBaseDuration=0),et=Ql(O,N,D,null)):(q=W1(Z,N),et=Ql(O,N,D,null)),q.return=S,et.return=S,q.sibling=et,S.child=q,et}function W1(S,P,O){return rD(S,P,Nt,null)}function r2(S,P){return gu(S,P)}function gY(S,P,O,D){var N=S.child,W=N.sibling,Z=r2(N,{mode:"visible",children:O});if((P.mode&ri)===be&&(Z.lanes=D),Z.return=P,Z.sibling=null,W!==null){var q=P.deletions;q===null?(P.deletions=[W],P.flags|=Yh):q.push(W)}return P.child=Z,Z}function mY(S,P,O,D,N){var W=P.mode,Z=S.child,q=Z.sibling,et={mode:"hidden",children:O},nt;if((W&ri)===be&&P.child!==Z){var at=P.child;nt=at,nt.childLanes=Nt,nt.pendingProps=et,P.mode&Pi&&(nt.actualDuration=0,nt.actualStartTime=-1,nt.selfBaseDuration=Z.selfBaseDuration,nt.treeBaseDuration=Z.treeBaseDuration),P.deletions=null}else nt=r2(Z,et),nt.subtreeFlags=Z.subtreeFlags&Wo;var pt;return q!==null?pt=gu(q,D):(pt=Ql(D,W,N,null),pt.flags|=yr),pt.return=P,nt.return=P,nt.sibling=pt,P.child=nt,pt}function Qm(S,P,O,D){D!==null&&SS(D),If(P,S.child,null,O);var N=P.pendingProps,W=N.children,Z=z1(P,W);return Z.flags|=yr,P.memoizedState=null,Z}function yY(S,P,O,D,N){var W=P.mode,Z={mode:"visible",children:O},q=W1(Z,W),et=Ql(D,W,N,null);return et.flags|=yr,q.return=P,et.return=P,q.sibling=et,P.child=q,(P.mode&ri)!==be&&If(P,S.child,null,N),et}function xY(S,P,O){return(S.mode&ri)===be?(n("Cannot hydrate Suspense in legacy mode. Switch from ReactDOM.hydrate(element, container) to ReactDOMClient.hydrateRoot(container, <App />).render(element) or remove the Suspense components from the server rendered components."),S.lanes=Ge):aS(P)?S.lanes=Jh:S.lanes=ds,null}function TY(S,P,O,D,N,W,Z){if(O)if(P.flags&Uo){P.flags&=~Uo;var mt=R1(new Error("There was an error while hydrating this Suspense boundary. Switched to client rendering."));return Qm(S,P,Z,mt)}else{if(P.memoizedState!==null)return P.child=S.child,P.flags|=pi,null;var Ot=D.children,yt=D.fallback,zt=yY(S,P,Ot,yt,Z),ae=P.child;return ae.memoizedState=V1(Z),P.memoizedState=U1,zt}else{if(oW(),(P.mode&ri)===be)return Qm(S,P,Z,null);if(aS(N)){var q,et,nt;{var at=Pz(N);q=at.digest,et=at.message,nt=at.stack}var pt;et?pt=new Error(et):pt=new Error("The server could not finish this Suspense boundary, likely due to an error during server rendering. Switched to client rendering.");var vt=R1(pt,q,nt);return Qm(S,P,Z,vt)}var Ct=cs(Z,S.childLanes);if(Ca||Ct){var Pt=l0();if(Pt!==null){var At=O7(Pt,Z);if(At!==Hr&&At!==W.retryLane){W.retryLane=At;var jt=zi;$n(S,At),Ir(Pt,S,At,jt)}}hE();var Ce=R1(new Error("This Suspense boundary received an update before it finished hydrating. This caused the boundary to switch to client rendering. The usual way to fix this is to wrap the original update in startTransition."));return Qm(S,P,Z,Ce)}else if(MO(N)){P.flags|=pi,P.child=S.child;var me=HX.bind(null,S);return bz(N,me),null}else{uW(P,N,W.treeContext);var si=D.children,ei=z1(P,si);return ei.flags|=Vo,ei}}}function n2(S,P,O){S.lanes=Je(S.lanes,P);var D=S.alternate;D!==null&&(D.lanes=Je(D.lanes,P)),DS(S.return,P,O)}function CY(S,P,O){for(var D=P;D!==null;){if(D.tag===y){var N=D.memoizedState;N!==null&&n2(D,O,S)}else if(D.tag===A)n2(D,O,S);else if(D.child!==null){D.child.return=D,D=D.child;continue}if(D===S)return;for(;D.sibling===null;){if(D.return===null||D.return===S)return;D=D.return}D.sibling.return=D.return,D=D.sibling}}function SY(S){for(var P=S,O=null;P!==null;){var D=P.alternate;D!==null&&Am(D)===null&&(O=P),P=P.sibling}return O}function EY(S){if(S!==void 0&&S!=="forwards"&&S!=="backwards"&&S!=="together"&&!B1[S])if(B1[S]=!0,typeof S=="string")switch(S.toLowerCase()){case"together":case"forwards":case"backwards":{n('"%s" is not a valid value for revealOrder on <SuspenseList />. Use lowercase "%s" instead.',S,S.toLowerCase());break}case"forward":case"backward":{n('"%s" is not a valid value for revealOrder on <SuspenseList />. React uses the -s suffix in the spelling. Use "%ss" instead.',S,S.toLowerCase());break}default:n('"%s" is not a supported revealOrder on <SuspenseList />. Did you mean "together", "forwards" or "backwards"?',S);break}else n('%s is not a supported value for revealOrder on <SuspenseList />. Did you mean "together", "forwards" or "backwards"?',S)}function PY(S,P){S!==void 0&&!jm[S]&&(S!=="collapsed"&&S!=="hidden"?(jm[S]=!0,n('"%s" is not a supported value for tail on <SuspenseList />. Did you mean "collapsed" or "hidden"?',S)):P!=="forwards"&&P!=="backwards"&&(jm[S]=!0,n('<SuspenseList tail="%s" /> is only valid if revealOrder is "forwards" or "backwards". Did you mean to specify revealOrder="forwards"?',S)))}function s2(S,P){{var O=vi(S),D=!O&&typeof ha(S)=="function";if(O||D){var N=O?"array":"iterable";return n("A nested %s was passed to row #%s in <SuspenseList />. Wrap it in an additional SuspenseList to configure its revealOrder: <SuspenseList revealOrder=...> ... <SuspenseList revealOrder=...>{%s}</SuspenseList> ... </SuspenseList>",N,P,N),!1}}return!0}function bY(S,P){if((P==="forwards"||P==="backwards")&&S!==void 0&&S!==null&&S!==!1)if(vi(S)){for(var O=0;O<S.length;O++)if(!s2(S[O],O))return}else{var D=ha(S);if(typeof D=="function"){var N=D.call(S);if(N)for(var W=N.next(),Z=0;!W.done;W=N.next()){if(!s2(W.value,Z))return;Z++}}else n('A single row was passed to a <SuspenseList revealOrder="%s" />. This is not useful since it needs multiple rows. Did you mean to pass multiple children or an array?',P)}}function Y1(S,P,O,D,N){var W=S.memoizedState;W===null?S.memoizedState={isBackwards:P,rendering:null,renderingStartTime:0,last:D,tail:O,tailMode:N}:(W.isBackwards=P,W.rendering=null,W.renderingStartTime=0,W.last=D,W.tail=O,W.tailMode=N)}function a2(S,P,O){var D=P.pendingProps,N=D.revealOrder,W=D.tail,Z=D.children;EY(N),PY(W,N),bY(Z,N),In(S,P,Z,O);var q=ya.current,et=zS(q,hv);if(et)q=WS(q,hv),P.flags|=pi;else{var nt=S!==null&&(S.flags&pi)!==Ae;nt&&CY(P,P.child,O),q=Nf(q)}if(Yl(P,q),(P.mode&ri)===be)P.memoizedState=null;else switch(N){case"forwards":{var at=SY(P.child),pt;at===null?(pt=P.child,P.child=null):(pt=at.sibling,at.sibling=null),Y1(P,!1,pt,at,W);break}case"backwards":{var vt=null,Ct=P.child;for(P.child=null;Ct!==null;){var Pt=Ct.alternate;if(Pt!==null&&Am(Pt)===null){P.child=Ct;break}var At=Ct.sibling;Ct.sibling=vt,vt=Ct,Ct=At}Y1(P,!0,vt,null,W);break}case"together":{Y1(P,!1,null,null,void 0);break}default:P.memoizedState=null}return P.child}function MY(S,P,O){NS(P,P.stateNode.containerInfo);var D=P.pendingProps;return S===null?P.child=If(P,null,D,O):In(S,P,D,O),P.child}var o2=!1;function wY(S,P,O){var D=P.type,N=D._context,W=P.pendingProps,Z=P.memoizedProps,q=W.value;{"value"in W||o2||(o2=!0,n("The `value` prop is required for the `<Context.Provider>`. Did you misspell it or forget to pass it?"));var et=P.type.propTypes;et&&pa(et,W,"prop","Context.Provider")}if(_O(P,N,q),Z!==null){var nt=Z.value;if(gs(nt,q)){if(Z.children===W.children&&!am())return qo(S,P,O)}else EW(P,N,O)}var at=W.children;return In(S,P,at,O),P.child}var l2=!1;function RY(S,P,O){var D=P.type;D._context===void 0?D!==D.Consumer&&(l2||(l2=!0,n("Rendering <Context> directly is not supported and will be removed in a future major release. Did you mean to render <Context.Consumer> instead?"))):D=D._context;var N=P.pendingProps,W=N.children;typeof W!="function"&&n("A context consumer was rendered with multiple children, or a child that isn't a function. A context consumer expects a single child that is a function. If you did pass a function, make sure there is no trailing or leading whitespace around it."),Gf(P,O);var Z=xr(D);yc(P);var q;return yv.current=P,yn(!0),q=W(Z),yn(!1),pf(),P.flags|=df,In(S,P,q,O),P.child}function Cv(){Ca=!0}function qm(S,P){(P.mode&ri)===be&&S!==null&&(S.alternate=null,P.alternate=null,P.flags|=yr)}function qo(S,P,O){return S!==null&&(P.dependencies=S.dependencies),kL(),Fv(P.lanes),cs(O,P.childLanes)?(CW(S,P),P.child):null}function AY(S,P,O){{var D=P.return;if(D===null)throw new Error("Cannot swap the root fiber.");if(S.alternate=null,P.alternate=null,O.index=P.index,O.sibling=P.sibling,O.return=P.return,O.ref=P.ref,P===D.child)D.child=O;else{var N=D.child;if(N===null)throw new Error("Expected parent to have a child.");for(;N.sibling!==P;)if(N=N.sibling,N===null)throw new Error("Expected to find the previous sibling.");N.sibling=O}var W=D.deletions;return W===null?(D.deletions=[S],D.flags|=Yh):W.push(S),O.flags|=yr,O}}function X1(S,P){var O=S.lanes;return!!cs(O,P)}function OY(S,P,O){switch(P.tag){case d:t2(P),P.stateNode,Ff();break;case l:oL(P);break;case o:{var D=P.type;_a(D)&&lm(P);break}case h:NS(P,P.stateNode.containerInfo);break;case v:{var N=P.memoizedProps.value,W=P.type._context;_O(P,W,N);break}case m:{var Z=cs(O,P.childLanes);Z&&(P.flags|=oi);{var q=P.stateNode;q.effectDuration=0,q.passiveEffectDuration=0}}break;case y:{var et=P.memoizedState;if(et!==null){if(et.dehydrated!==null)return Yl(P,Nf(ya.current)),P.flags|=pi,null;var nt=P.child,at=nt.childLanes;if(cs(O,at))return i2(S,P,O);Yl(P,Nf(ya.current));var pt=qo(S,P,O);return pt!==null?pt.sibling:null}else Yl(P,Nf(ya.current));break}case A:{var vt=(S.flags&pi)!==Ae,Ct=cs(O,P.childLanes);if(vt){if(Ct)return a2(S,P,O);P.flags|=pi}var Pt=P.memoizedState;if(Pt!==null&&(Pt.rendering=null,Pt.tail=null,Pt.lastEffect=null),Yl(P,ya.current),Ct)break;return null}case F:case G:return P.lanes=Nt,QL(S,P,O)}return qo(S,P,O)}function h2(S,P,O){if(P._debugNeedsRemount&&S!==null)return AY(S,P,TE(P.type,P.key,P.pendingProps,P._debugOwner||null,P.mode,P.lanes));if(S!==null){var D=S.memoizedProps,N=P.pendingProps;if(D!==N||am()||P.type!==S.type)Ca=!0;else{var W=X1(S,O);if(!W&&(P.flags&pi)===Ae)return Ca=!1,OY(S,P,O);(S.flags&jT)!==Ae?Ca=!0:Ca=!1}}else if(Ca=!1,nn()&&eW(P)){var Z=P.index,q=iW();kO(P,q,Z)}switch(P.lanes=Nt,P.tag){case x:return fY(S,P,P.type,O);case M:{var et=P.elementType;return hY(S,P,et,O)}case r:{var nt=P.type,at=P.pendingProps,pt=P.elementType===nt?at:Ta(nt,at);return G1(S,P,nt,pt,O)}case o:{var vt=P.type,Ct=P.pendingProps,Pt=P.elementType===vt?Ct:Ta(vt,Ct);return _L(S,P,vt,Pt,O)}case d:return aY(S,P,O);case l:return oY(S,P,O);case a:return lY(S,P);case y:return i2(S,P,O);case h:return MY(S,P,O);case g:{var At=P.type,jt=P.pendingProps,Ce=P.elementType===At?jt:Ta(At,jt);return ZL(S,P,At,Ce,O)}case f:return rY(S,P,O);case c:return nY(S,P,O);case m:return sY(S,P,O);case v:return wY(S,P,O);case u:return RY(S,P,O);case C:{var me=P.type,si=P.pendingProps,ei=Ta(me,si);if(P.type!==P.elementType){var mt=me.propTypes;mt&&pa(mt,ei,"prop",ie(me))}return ei=Ta(me.type,ei),JL(S,P,me,ei,O)}case b:return jL(S,P,P.type,P.pendingProps,O);case w:{var Ot=P.type,yt=P.pendingProps,zt=P.elementType===Ot?yt:Ta(Ot,yt);return uY(S,P,Ot,zt,O)}case A:return a2(S,P,O);case L:break;case F:return QL(S,P,O)}throw new Error("Unknown unit of work tag ("+P.tag+"). This error is likely caused by a bug in React. Please file an issue.")}function Xf(S){S.flags|=oi}function u2(S){S.flags|=Al,S.flags|=QT}var f2,H1,d2,c2;f2=function(S,P,O,D){for(var N=P.child;N!==null;){if(N.tag===l||N.tag===a)qV(S,N.stateNode);else if(N.tag!==h){if(N.child!==null){N.child.return=N,N=N.child;continue}}if(N===P)return;for(;N.sibling===null;){if(N.return===null||N.return===P)return;N=N.return}N.sibling.return=N.return,N=N.sibling}},H1=function(S,P){},d2=function(S,P,O,D,N){var W=S.memoizedProps;if(W!==D){var Z=P.stateNode,q=US(),et=tz(Z,O,W,D,N,q);P.updateQueue=et,et&&Xf(P)}},c2=function(S,P,O,D){O!==D&&Xf(P)};function Sv(S,P){if(!nn())switch(S.tailMode){case"hidden":{for(var O=S.tail,D=null;O!==null;)O.alternate!==null&&(D=O),O=O.sibling;D===null?S.tail=null:D.sibling=null;break}case"collapsed":{for(var N=S.tail,W=null;N!==null;)N.alternate!==null&&(W=N),N=N.sibling;W===null?!P&&S.tail!==null?S.tail.sibling=null:S.tail=null:W.sibling=null;break}}}function an(S){var P=S.alternate!==null&&S.alternate.child===S.child,O=Nt,D=Ae;if(P){if((S.mode&Pi)!==be){for(var et=S.selfBaseDuration,nt=S.child;nt!==null;)O=Je(O,Je(nt.lanes,nt.childLanes)),D|=nt.subtreeFlags&Wo,D|=nt.flags&Wo,et+=nt.treeBaseDuration,nt=nt.sibling;S.treeBaseDuration=et}else for(var at=S.child;at!==null;)O=Je(O,Je(at.lanes,at.childLanes)),D|=at.subtreeFlags&Wo,D|=at.flags&Wo,at.return=S,at=at.sibling;S.subtreeFlags|=D}else{if((S.mode&Pi)!==be){for(var N=S.actualDuration,W=S.selfBaseDuration,Z=S.child;Z!==null;)O=Je(O,Je(Z.lanes,Z.childLanes)),D|=Z.subtreeFlags,D|=Z.flags,N+=Z.actualDuration,W+=Z.treeBaseDuration,Z=Z.sibling;S.actualDuration=N,S.treeBaseDuration=W}else for(var q=S.child;q!==null;)O=Je(O,Je(q.lanes,q.childLanes)),D|=q.subtreeFlags,D|=q.flags,q.return=S,q=q.sibling;S.subtreeFlags|=D}return S.childLanes=O,P}function LY(S,P,O){if(pW()&&(P.mode&ri)!==be&&(P.flags&pi)===Ae)return XO(P),Ff(),P.flags|=Uo|gc|Fn,!1;var D=cm(P);if(O!==null&&O.dehydrated!==null)if(S===null){if(!D)throw new Error("A dehydrated suspense component was completed without a hydrated node. This is probably a bug in React.");if(cW(P),an(P),(P.mode&Pi)!==be){var N=O!==null;if(N){var W=P.child;W!==null&&(P.treeBaseDuration-=W.treeBaseDuration)}}return!1}else{if(Ff(),(P.flags&pi)===Ae&&(P.memoizedState=null),P.flags|=oi,an(P),(P.mode&Pi)!==be){var Z=O!==null;if(Z){var q=P.child;q!==null&&(P.treeBaseDuration-=q.treeBaseDuration)}}return!1}else return HO(),!0}function v2(S,P,O){var D=P.pendingProps;switch(mS(P),P.tag){case x:case M:case b:case r:case g:case f:case c:case m:case u:case C:return an(P),null;case o:{var N=P.type;return _a(N)&&om(P),an(P),null}case d:{var W=P.stateNode;if(kf(P),cS(P),XS(),W.pendingContext&&(W.context=W.pendingContext,W.pendingContext=null),S===null||S.child===null){var Z=cm(P);if(Z)Xf(P);else if(S!==null){var q=S.memoizedState;(!q.isDehydrated||(P.flags&Uo)!==Ae)&&(P.flags|=Xh,HO())}}return H1(S,P),an(P),null}case l:{VS(P);var et=aL(),nt=P.type;if(S!==null&&P.stateNode!=null)d2(S,P,nt,D,et),S.ref!==P.ref&&u2(P);else{if(!D){if(P.stateNode===null)throw new Error("We must have new props for new mounts. This error is likely caused by a bug in React. Please file an issue.");return an(P),null}var at=US(),pt=cm(P);if(pt)fW(P,et,at)&&Xf(P);else{var vt=QV(nt,D,et,at,P);f2(vt,P,!1,!1),P.stateNode=vt,_V(vt,nt,D,et)&&Xf(P)}P.ref!==null&&u2(P)}return an(P),null}case a:{var Ct=D;if(S&&P.stateNode!=null){var Pt=S.memoizedProps;c2(S,P,Pt,Ct)}else{if(typeof Ct!="string"&&P.stateNode===null)throw new Error("We must have new props for new mounts. This error is likely caused by a bug in React. Please file an issue.");var At=aL(),jt=US(),Ce=cm(P);Ce?dW(P)&&Xf(P):P.stateNode=ez(Ct,At,jt,P)}return an(P),null}case y:{Uf(P);var me=P.memoizedState;if(S===null||S.memoizedState!==null&&S.memoizedState.dehydrated!==null){var si=LY(S,P,me);if(!si)return P.flags&Fn?P:null}if((P.flags&pi)!==Ae)return P.lanes=O,(P.mode&Pi)!==be&&p1(P),P;var ei=me!==null,mt=S!==null&&S.memoizedState!==null;if(ei!==mt&&ei){var Ot=P.child;if(Ot.flags|=Hh,(P.mode&ri)!==be){var yt=S===null&&(P.memoizedProps.unstable_avoidThisFallback!==!0||!j);yt||zS(ya.current,hL)?DX():hE()}}var zt=P.updateQueue;if(zt!==null&&(P.flags|=oi),an(P),(P.mode&Pi)!==be&&ei){var ae=P.child;ae!==null&&(P.treeBaseDuration-=ae.treeBaseDuration)}return null}case h:return kf(P),H1(S,P),S===null&&Zz(P.stateNode.containerInfo),an(P),null;case v:var _t=P.type._context;return LS(_t,P),an(P),null;case w:{var Le=P.type;return _a(Le)&&om(P),an(P),null}case A:{Uf(P);var Ue=P.memoizedState;if(Ue===null)return an(P),null;var Mi=(P.flags&pi)!==Ae,ui=Ue.rendering;if(ui===null)if(Mi)Sv(Ue,!1);else{var dr=IX()&&(S===null||(S.flags&pi)===Ae);if(!dr)for(var fi=P.child;fi!==null;){var rr=Am(fi);if(rr!==null){Mi=!0,P.flags|=pi,Sv(Ue,!1);var En=rr.updateQueue;return En!==null&&(P.updateQueue=En,P.flags|=oi),P.subtreeFlags=Ae,SW(P,O),Yl(P,WS(ya.current,hv)),P.child}fi=fi.sibling}Ue.tail!==null&&Yr()>B2()&&(P.flags|=pi,Mi=!0,Sv(Ue,!1),P.lanes=cA)}else{if(!Mi){var fn=Am(ui);if(fn!==null){P.flags|=pi,Mi=!0;var xs=fn.updateQueue;if(xs!==null&&(P.updateQueue=xs,P.flags|=oi),Sv(Ue,!0),Ue.tail===null&&Ue.tailMode==="hidden"&&!ui.alternate&&!nn())return an(P),null}else Yr()*2-Ue.renderingStartTime>B2()&&O!==ds&&(P.flags|=pi,Mi=!0,Sv(Ue,!1),P.lanes=cA)}if(Ue.isBackwards)ui.sibling=P.child,P.child=ui;else{var kn=Ue.last;kn!==null?kn.sibling=ui:P.child=ui,Ue.last=ui}}if(Ue.tail!==null){var Nn=Ue.tail;Ue.rendering=Nn,Ue.tail=Nn.sibling,Ue.renderingStartTime=Yr(),Nn.sibling=null;var Pn=ya.current;return Mi?Pn=WS(Pn,hv):Pn=Nf(Pn),Yl(P,Pn),Nn}return an(P),null}case L:break;case F:case G:{lE(P);var rl=P.memoizedState,qf=rl!==null;if(S!==null){var Nv=S.memoizedState,oo=Nv!==null;oo!==qf&&!X&&(P.flags|=Hh)}return!qf||(P.mode&ri)===be?an(P):cs(ao,ds)&&(an(P),P.subtreeFlags&(yr|oi)&&(P.flags|=Hh)),null}case I:return null;case B:return null}throw new Error("Unknown unit of work tag ("+P.tag+"). This error is likely caused by a bug in React. Please file an issue.")}function DY(S,P,O){switch(mS(P),P.tag){case o:{var D=P.type;_a(D)&&om(P);var N=P.flags;return N&Fn?(P.flags=N&~Fn|pi,(P.mode&Pi)!==be&&p1(P),P):null}case d:{P.stateNode,kf(P),cS(P),XS();var W=P.flags;return(W&Fn)!==Ae&&(W&pi)===Ae?(P.flags=W&~Fn|pi,P):null}case l:return VS(P),null;case y:{Uf(P);var Z=P.memoizedState;if(Z!==null&&Z.dehydrated!==null){if(P.alternate===null)throw new Error("Threw in newly mounted dehydrated component. This is likely a bug in React. Please file an issue.");Ff()}var q=P.flags;return q&Fn?(P.flags=q&~Fn|pi,(P.mode&Pi)!==be&&p1(P),P):null}case A:return Uf(P),null;case h:return kf(P),null;case v:var et=P.type._context;return LS(et,P),null;case F:case G:return lE(P),null;case I:return null;default:return null}}function p2(S,P,O){switch(mS(P),P.tag){case o:{var D=P.type.childContextTypes;D!=null&&om(P);break}case d:{P.stateNode,kf(P),cS(P),XS();break}case l:{VS(P);break}case h:kf(P);break;case y:Uf(P);break;case A:Uf(P);break;case v:var N=P.type._context;LS(N,P);break;case F:case G:lE(P);break}}var g2=null;g2=new Set;var _m=!1,on=!1,FY=typeof WeakSet=="function"?WeakSet:Set,ce=null,Hf=null,$f=null;function IY(S){KT(null,function(){throw S}),ZT()}var BY=function(S,P){if(P.props=S.memoizedProps,P.state=S.memoizedState,S.mode&Pi)try{no(),P.componentWillUnmount()}finally{ro(S)}else P.componentWillUnmount()};function m2(S,P){try{$l(Rr,S)}catch(O){Gi(S,P,O)}}function $1(S,P,O){try{BY(S,O)}catch(D){Gi(S,P,D)}}function GY(S,P,O){try{O.componentDidMount()}catch(D){Gi(S,P,D)}}function y2(S,P){try{T2(S)}catch(O){Gi(S,P,O)}}function Kf(S,P){var O=S.ref;if(O!==null)if(typeof O=="function"){var D;try{if(V&&K&&S.mode&Pi)try{no(),D=O(null)}finally{ro(S)}else D=O(null)}catch(N){Gi(S,P,N)}typeof D=="function"&&n("Unexpected return value from a callback ref in %s. A callback ref should not return a function.",Ft(S))}else O.current=null}function t0(S,P,O){try{O()}catch(D){Gi(S,P,D)}}var x2=!1;function kY(S,P){JV(S.containerInfo),ce=P,NY();var O=x2;return x2=!1,O}function NY(){for(;ce!==null;){var S=ce,P=S.child;(S.subtreeFlags&_T)!==Ae&&P!==null?(P.return=S,ce=P):UY()}}function UY(){for(;ce!==null;){var S=ce;$e(S);try{VY(S)}catch(O){Gi(S,S.return,O)}Pe();var P=S.sibling;if(P!==null){P.return=S.return,ce=P;return}ce=S.return}}function VY(S){var P=S.alternate,O=S.flags;if((O&Xh)!==Ae){switch($e(S),S.tag){case r:case g:case b:break;case o:{if(P!==null){var D=P.memoizedProps,N=P.memoizedState,W=S.stateNode;S.type===S.elementType&&!fu&&(W.props!==S.memoizedProps&&n("Expected %s props to match memoized props before getSnapshotBeforeUpdate. This might either be because of a bug in React, or because a component reassigns its own `this.props`. Please file an issue.",Ft(S)||"instance"),W.state!==S.memoizedState&&n("Expected %s state to match memoized state before getSnapshotBeforeUpdate. This might either be because of a bug in React, or because a component reassigns its own `this.state`. Please file an issue.",Ft(S)||"instance"));var Z=W.getSnapshotBeforeUpdate(S.elementType===S.type?D:Ta(S.type,D),N);{var q=g2;Z===void 0&&!q.has(S.type)&&(q.add(S.type),n("%s.getSnapshotBeforeUpdate(): A snapshot value (or null) must be returned. You have returned undefined.",Ft(S)))}W.__reactInternalSnapshotBeforeUpdate=Z}break}case d:{{var et=S.stateNode;Tz(et.containerInfo)}break}case l:case a:case h:case w:break;default:throw new Error("This unit of work tag should not have side-effects. This error is likely caused by a bug in React. Please file an issue.")}Pe()}}function Sa(S,P,O){var D=P.updateQueue,N=D!==null?D.lastEffect:null;if(N!==null){var W=N.next,Z=W;do{if((Z.tag&S)===S){var q=Z.destroy;Z.destroy=void 0,q!==void 0&&((S&sn)!==Kn?e7(P):(S&Rr)!==Kn&&lA(P),(S&to)!==Kn&&Bv(!0),t0(P,O,q),(S&to)!==Kn&&Bv(!1),(S&sn)!==Kn?i7():(S&Rr)!==Kn&&hA())}Z=Z.next}while(Z!==W)}}function $l(S,P){var O=P.updateQueue,D=O!==null?O.lastEffect:null;if(D!==null){var N=D.next,W=N;do{if((W.tag&S)===S){(S&sn)!==Kn?_6(P):(S&Rr)!==Kn&&r7(P);var Z=W.create;(S&to)!==Kn&&Bv(!0),W.destroy=Z(),(S&to)!==Kn&&Bv(!1),(S&sn)!==Kn?t7():(S&Rr)!==Kn&&n7();{var q=W.destroy;if(q!==void 0&&typeof q!="function"){var et=void 0;(W.tag&Rr)!==Ae?et="useLayoutEffect":(W.tag&to)!==Ae?et="useInsertionEffect":et="useEffect";var nt=void 0;q===null?nt=" You returned null. If your effect does not require clean up, return undefined (or nothing).":typeof q.then=="function"?nt=`

It looks like you wrote `+et+`(async () => ...) or returned a Promise. Instead, write the async function inside your effect and call it immediately:

`+et+`(() => {
  async function fetchData() {
    // You can await here
    const response = await MyAPI.getData(someId);
    // ...
  }
  fetchData();
}, [someId]); // Or [] if effect doesn't need props or state

Learn more about data fetching with Hooks: https://reactjs.org/link/hooks-data-fetching`:nt=" You returned: "+q,n("%s must not return anything besides a function, which is used for clean-up.%s",et,nt)}}}W=W.next}while(W!==N)}}function zY(S,P){if((P.flags&oi)!==Ae)switch(P.tag){case m:{var O=P.stateNode.passiveEffectDuration,D=P.memoizedProps,N=D.id,W=D.onPostCommit,Z=BL(),q=P.alternate===null?"mount":"update";IL()&&(q="nested-update"),typeof W=="function"&&W(N,q,O,Z);var et=P.return;t:for(;et!==null;){switch(et.tag){case d:var nt=et.stateNode;nt.passiveEffectDuration+=O;break t;case m:var at=et.stateNode;at.passiveEffectDuration+=O;break t}et=et.return}break}}}function WY(S,P,O,D){if((O.flags&mc)!==Ae)switch(O.tag){case r:case g:case b:{if(!on)if(O.mode&Pi)try{no(),$l(Rr|wr,O)}finally{ro(O)}else $l(Rr|wr,O);break}case o:{var N=O.stateNode;if(O.flags&oi&&!on)if(P===null)if(O.type===O.elementType&&!fu&&(N.props!==O.memoizedProps&&n("Expected %s props to match memoized props before componentDidMount. This might either be because of a bug in React, or because a component reassigns its own `this.props`. Please file an issue.",Ft(O)||"instance"),N.state!==O.memoizedState&&n("Expected %s state to match memoized state before componentDidMount. This might either be because of a bug in React, or because a component reassigns its own `this.state`. Please file an issue.",Ft(O)||"instance")),O.mode&Pi)try{no(),N.componentDidMount()}finally{ro(O)}else N.componentDidMount();else{var W=O.elementType===O.type?P.memoizedProps:Ta(O.type,P.memoizedProps),Z=P.memoizedState;if(O.type===O.elementType&&!fu&&(N.props!==O.memoizedProps&&n("Expected %s props to match memoized props before componentDidUpdate. This might either be because of a bug in React, or because a component reassigns its own `this.props`. Please file an issue.",Ft(O)||"instance"),N.state!==O.memoizedState&&n("Expected %s state to match memoized state before componentDidUpdate. This might either be because of a bug in React, or because a component reassigns its own `this.state`. Please file an issue.",Ft(O)||"instance")),O.mode&Pi)try{no(),N.componentDidUpdate(W,Z,N.__reactInternalSnapshotBeforeUpdate)}finally{ro(O)}else N.componentDidUpdate(W,Z,N.__reactInternalSnapshotBeforeUpdate)}var q=O.updateQueue;q!==null&&(O.type===O.elementType&&!fu&&(N.props!==O.memoizedProps&&n("Expected %s props to match memoized props before processing the update queue. This might either be because of a bug in React, or because a component reassigns its own `this.props`. Please file an issue.",Ft(O)||"instance"),N.state!==O.memoizedState&&n("Expected %s state to match memoized state before processing the update queue. This might either be because of a bug in React, or because a component reassigns its own `this.state`. Please file an issue.",Ft(O)||"instance")),sL(O,q,N));break}case d:{var et=O.updateQueue;if(et!==null){var nt=null;if(O.child!==null)switch(O.child.tag){case l:nt=O.child.stateNode;break;case o:nt=O.child.stateNode;break}sL(O,et,nt)}break}case l:{var at=O.stateNode;if(P===null&&O.flags&oi){var pt=O.type,vt=O.memoizedProps;az(at,pt,vt)}break}case a:break;case h:break;case m:{{var Ct=O.memoizedProps,Pt=Ct.onCommit,At=Ct.onRender,jt=O.stateNode.effectDuration,Ce=BL(),me=P===null?"mount":"update";IL()&&(me="nested-update"),typeof At=="function"&&At(O.memoizedProps.id,me,O.actualDuration,O.treeBaseDuration,O.actualStartTime,Ce);{typeof Pt=="function"&&Pt(O.memoizedProps.id,me,jt,Ce),UX(O);var si=O.return;t:for(;si!==null;){switch(si.tag){case d:var ei=si.stateNode;ei.effectDuration+=jt;break t;case m:var mt=si.stateNode;mt.effectDuration+=jt;break t}si=si.return}}}break}case y:{jY(S,O);break}case A:case w:case L:case F:case G:case B:break;default:throw new Error("This unit of work tag should not have side-effects. This error is likely caused by a bug in React. Please file an issue.")}on||O.flags&Al&&T2(O)}function YY(S){switch(S.tag){case r:case g:case b:{if(S.mode&Pi)try{no(),m2(S,S.return)}finally{ro(S)}else m2(S,S.return);break}case o:{var P=S.stateNode;typeof P.componentDidMount=="function"&&GY(S,S.return,P),y2(S,S.return);break}case l:{y2(S,S.return);break}}}function XY(S,P){for(var O=null,D=S;;){if(D.tag===l){if(O===null){O=D;try{var N=D.stateNode;P?gz(N):yz(D.stateNode,D.memoizedProps)}catch(Z){Gi(S,S.return,Z)}}}else if(D.tag===a){if(O===null)try{var W=D.stateNode;P?mz(W):xz(W,D.memoizedProps)}catch(Z){Gi(S,S.return,Z)}}else if(!((D.tag===F||D.tag===G)&&D.memoizedState!==null&&D!==S)){if(D.child!==null){D.child.return=D,D=D.child;continue}}if(D===S)return;for(;D.sibling===null;){if(D.return===null||D.return===S)return;O===D&&(O=null),D=D.return}O===D&&(O=null),D.sibling.return=D.return,D=D.sibling}}function T2(S){var P=S.ref;if(P!==null){var O=S.stateNode,D;switch(S.tag){case l:D=O;break;default:D=O}if(typeof P=="function"){var N;if(S.mode&Pi)try{no(),N=P(D)}finally{ro(S)}else N=P(D);typeof N=="function"&&n("Unexpected return value from a callback ref in %s. A callback ref should not return a function.",Ft(S))}else P.hasOwnProperty("current")||n("Unexpected ref object provided for %s. Use either a ref-setter function or React.createRef().",Ft(S)),P.current=D}}function HY(S){var P=S.alternate;P!==null&&(P.return=null),S.return=null}function C2(S){var P=S.alternate;P!==null&&(S.alternate=null,C2(P));{if(S.child=null,S.deletions=null,S.sibling=null,S.tag===l){var O=S.stateNode;O!==null&&Qz(O)}S.stateNode=null,S._debugOwner=null,S.return=null,S.dependencies=null,S.memoizedProps=null,S.memoizedState=null,S.pendingProps=null,S.stateNode=null,S.updateQueue=null}}function $Y(S){for(var P=S.return;P!==null;){if(S2(P))return P;P=P.return}throw new Error("Expected to find a host parent. This error is likely caused by a bug in React. Please file an issue.")}function S2(S){return S.tag===l||S.tag===d||S.tag===h}function E2(S){var P=S;t:for(;;){for(;P.sibling===null;){if(P.return===null||S2(P.return))return null;P=P.return}for(P.sibling.return=P.return,P=P.sibling;P.tag!==l&&P.tag!==a&&P.tag!==R;){if(P.flags&yr||P.child===null||P.tag===h)continue t;P.child.return=P,P=P.child}if(!(P.flags&yr))return P.stateNode}}function KY(S){var P=$Y(S);switch(P.tag){case l:{var O=P.stateNode;P.flags&pc&&(bO(O),P.flags&=~pc);var D=E2(S);Z1(S,D,O);break}case d:case h:{var N=P.stateNode.containerInfo,W=E2(S);K1(S,W,N);break}default:throw new Error("Invalid host parent fiber. This error is likely caused by a bug in React. Please file an issue.")}}function K1(S,P,O){var D=S.tag,N=D===l||D===a;if(N){var W=S.stateNode;P?dz(O,W,P):uz(O,W)}else if(D!==h){var Z=S.child;if(Z!==null){K1(Z,P,O);for(var q=Z.sibling;q!==null;)K1(q,P,O),q=q.sibling}}}function Z1(S,P,O){var D=S.tag,N=D===l||D===a;if(N){var W=S.stateNode;P?fz(O,W,P):hz(O,W)}else if(D!==h){var Z=S.child;if(Z!==null){Z1(Z,P,O);for(var q=Z.sibling;q!==null;)Z1(q,P,O),q=q.sibling}}}var ln=null,Ea=!1;function ZY(S,P,O){{var D=P;t:for(;D!==null;){switch(D.tag){case l:{ln=D.stateNode,Ea=!1;break t}case d:{ln=D.stateNode.containerInfo,Ea=!0;break t}case h:{ln=D.stateNode.containerInfo,Ea=!0;break t}}D=D.return}if(ln===null)throw new Error("Expected to find a host parent. This error is likely caused by a bug in React. Please file an issue.");P2(S,P,O),ln=null,Ea=!1}HY(O)}function Kl(S,P,O){for(var D=O.child;D!==null;)P2(S,P,D),D=D.sibling}function P2(S,P,O){switch(J6(O),O.tag){case l:on||Kf(O,P);case a:{{var D=ln,N=Ea;ln=null,Kl(S,P,O),ln=D,Ea=N,ln!==null&&(Ea?vz(ln,O.stateNode):cz(ln,O.stateNode))}return}case R:{ln!==null&&(Ea?pz(ln,O.stateNode):sS(ln,O.stateNode));return}case h:{{var W=ln,Z=Ea;ln=O.stateNode.containerInfo,Ea=!0,Kl(S,P,O),ln=W,Ea=Z}return}case r:case g:case C:case b:{if(!on){var q=O.updateQueue;if(q!==null){var et=q.lastEffect;if(et!==null){var nt=et.next,at=nt;do{var pt=at,vt=pt.destroy,Ct=pt.tag;vt!==void 0&&((Ct&to)!==Kn?t0(O,P,vt):(Ct&Rr)!==Kn&&(lA(O),O.mode&Pi?(no(),t0(O,P,vt),ro(O)):t0(O,P,vt),hA())),at=at.next}while(at!==nt)}}}Kl(S,P,O);return}case o:{if(!on){Kf(O,P);var Pt=O.stateNode;typeof Pt.componentWillUnmount=="function"&&$1(O,P,Pt)}Kl(S,P,O);return}case L:{Kl(S,P,O);return}case F:{if(O.mode&ri){var At=on;on=At||O.memoizedState!==null,Kl(S,P,O),on=At}else Kl(S,P,O);break}default:{Kl(S,P,O);return}}}function JY(S){S.memoizedState}function jY(S,P){var O=P.memoizedState;if(O===null){var D=P.alternate;if(D!==null){var N=D.memoizedState;if(N!==null){var W=N.dehydrated;W!==null&&Iz(W)}}}}function b2(S){var P=S.updateQueue;if(P!==null){S.updateQueue=null;var O=S.stateNode;O===null&&(O=S.stateNode=new FY),P.forEach(function(D){var N=$X.bind(null,S,D);if(!O.has(D)){if(O.add(D),ca)if(Hf!==null&&$f!==null)Iv($f,Hf);else throw Error("Expected finished root and lanes to be set. This is a bug in React.");D.then(N,N)}})}}function QY(S,P,O){Hf=O,$f=S,$e(P),M2(P,S),$e(P),Hf=null,$f=null}function Pa(S,P,O){var D=P.deletions;if(D!==null)for(var N=0;N<D.length;N++){var W=D[N];try{ZY(S,P,W)}catch(et){Gi(W,P,et)}}var Z=fs();if(P.subtreeFlags&tC)for(var q=P.child;q!==null;)$e(q),M2(q,S),q=q.sibling;$e(Z)}function M2(S,P,O){var D=S.alternate,N=S.flags;switch(S.tag){case r:case g:case C:case b:{if(Pa(P,S),so(S),N&oi){try{Sa(to|wr,S,S.return),$l(to|wr,S)}catch(Le){Gi(S,S.return,Le)}if(S.mode&Pi){try{no(),Sa(Rr|wr,S,S.return)}catch(Le){Gi(S,S.return,Le)}ro(S)}else try{Sa(Rr|wr,S,S.return)}catch(Le){Gi(S,S.return,Le)}}return}case o:{Pa(P,S),so(S),N&Al&&D!==null&&Kf(D,D.return);return}case l:{Pa(P,S),so(S),N&Al&&D!==null&&Kf(D,D.return);{if(S.flags&pc){var W=S.stateNode;try{bO(W)}catch(Le){Gi(S,S.return,Le)}}if(N&oi){var Z=S.stateNode;if(Z!=null){var q=S.memoizedProps,et=D!==null?D.memoizedProps:q,nt=S.type,at=S.updateQueue;if(S.updateQueue=null,at!==null)try{oz(Z,at,nt,et,q,S)}catch(Le){Gi(S,S.return,Le)}}}}return}case a:{if(Pa(P,S),so(S),N&oi){if(S.stateNode===null)throw new Error("This should have a text node initialized. This error is likely caused by a bug in React. Please file an issue.");var pt=S.stateNode,vt=S.memoizedProps,Ct=D!==null?D.memoizedProps:vt;try{lz(pt,Ct,vt)}catch(Le){Gi(S,S.return,Le)}}return}case d:{if(Pa(P,S),so(S),N&oi&&D!==null){var Pt=D.memoizedState;if(Pt.isDehydrated)try{Fz(P.containerInfo)}catch(Le){Gi(S,S.return,Le)}}return}case h:{Pa(P,S),so(S);return}case y:{Pa(P,S),so(S);var At=S.child;if(At.flags&Hh){var jt=At.stateNode,Ce=At.memoizedState,me=Ce!==null;if(jt.isHidden=me,me){var si=At.alternate!==null&&At.alternate.memoizedState!==null;si||LX()}}if(N&oi){try{JY(S)}catch(Le){Gi(S,S.return,Le)}b2(S)}return}case F:{var ei=D!==null&&D.memoizedState!==null;if(S.mode&ri){var mt=on;on=mt||ei,Pa(P,S),on=mt}else Pa(P,S);if(so(S),N&Hh){var Ot=S.stateNode,yt=S.memoizedState,zt=yt!==null,ae=S;if(Ot.isHidden=zt,zt&&!ei&&(ae.mode&ri)!==be){ce=ae;for(var _t=ae.child;_t!==null;)ce=_t,_Y(_t),_t=_t.sibling}XY(ae,zt)}return}case A:{Pa(P,S),so(S),N&oi&&b2(S);return}case L:return;default:{Pa(P,S),so(S);return}}}function so(S){var P=S.flags;if(P&yr){try{KY(S)}catch(O){Gi(S,S.return,O)}S.flags&=~yr}P&Vo&&(S.flags&=~Vo)}function qY(S,P,O){Hf=O,$f=P,ce=S,w2(S,P,O),Hf=null,$f=null}function w2(S,P,O){for(var D=(S.mode&ri)!==be;ce!==null;){var N=ce,W=N.child;if(N.tag===F&&D){var Z=N.memoizedState!==null,q=Z||_m;if(q){J1(S,P,O);continue}else{var et=N.alternate,nt=et!==null&&et.memoizedState!==null,at=nt||on,pt=_m,vt=on;_m=q,on=at,on&&!vt&&(ce=N,tX(N));for(var Ct=W;Ct!==null;)ce=Ct,w2(Ct,P,O),Ct=Ct.sibling;ce=N,_m=pt,on=vt,J1(S,P,O);continue}}(N.subtreeFlags&mc)!==Ae&&W!==null?(W.return=N,ce=W):J1(S,P,O)}}function J1(S,P,O){for(;ce!==null;){var D=ce;if((D.flags&mc)!==Ae){var N=D.alternate;$e(D);try{WY(P,N,D,O)}catch(Z){Gi(D,D.return,Z)}Pe()}if(D===S){ce=null;return}var W=D.sibling;if(W!==null){W.return=D.return,ce=W;return}ce=D.return}}function _Y(S){for(;ce!==null;){var P=ce,O=P.child;switch(P.tag){case r:case g:case C:case b:{if(P.mode&Pi)try{no(),Sa(Rr,P,P.return)}finally{ro(P)}else Sa(Rr,P,P.return);break}case o:{Kf(P,P.return);var D=P.stateNode;typeof D.componentWillUnmount=="function"&&$1(P,P.return,D);break}case l:{Kf(P,P.return);break}case F:{var N=P.memoizedState!==null;if(N){R2(S);continue}break}}O!==null?(O.return=P,ce=O):R2(S)}}function R2(S){for(;ce!==null;){var P=ce;if(P===S){ce=null;return}var O=P.sibling;if(O!==null){O.return=P.return,ce=O;return}ce=P.return}}function tX(S){for(;ce!==null;){var P=ce,O=P.child;if(P.tag===F){var D=P.memoizedState!==null;if(D){A2(S);continue}}O!==null?(O.return=P,ce=O):A2(S)}}function A2(S){for(;ce!==null;){var P=ce;$e(P);try{YY(P)}catch(D){Gi(P,P.return,D)}if(Pe(),P===S){ce=null;return}var O=P.sibling;if(O!==null){O.return=P.return,ce=O;return}ce=P.return}}function eX(S,P,O,D){ce=P,iX(P,S,O,D)}function iX(S,P,O,D){for(;ce!==null;){var N=ce,W=N.child;(N.subtreeFlags&cf)!==Ae&&W!==null?(W.return=N,ce=W):rX(S,P,O,D)}}function rX(S,P,O,D){for(;ce!==null;){var N=ce;if((N.flags&da)!==Ae){$e(N);try{nX(P,N,O,D)}catch(Z){Gi(N,N.return,Z)}Pe()}if(N===S){ce=null;return}var W=N.sibling;if(W!==null){W.return=N.return,ce=W;return}ce=N.return}}function nX(S,P,O,D){switch(P.tag){case r:case g:case b:{if(P.mode&Pi){v1();try{$l(sn|wr,P)}finally{c1(P)}}else $l(sn|wr,P);break}}}function sX(S){ce=S,aX()}function aX(){for(;ce!==null;){var S=ce,P=S.child;if((ce.flags&Yh)!==Ae){var O=S.deletions;if(O!==null){for(var D=0;D<O.length;D++){var N=O[D];ce=N,hX(N,S)}{var W=S.alternate;if(W!==null){var Z=W.child;if(Z!==null){W.child=null;do{var q=Z.sibling;Z.sibling=null,Z=q}while(Z!==null)}}}ce=S}}(S.subtreeFlags&cf)!==Ae&&P!==null?(P.return=S,ce=P):oX()}}function oX(){for(;ce!==null;){var S=ce;(S.flags&da)!==Ae&&($e(S),lX(S),Pe());var P=S.sibling;if(P!==null){P.return=S.return,ce=P;return}ce=S.return}}function lX(S){switch(S.tag){case r:case g:case b:{S.mode&Pi?(v1(),Sa(sn|wr,S,S.return),c1(S)):Sa(sn|wr,S,S.return);break}}}function hX(S,P){for(;ce!==null;){var O=ce;$e(O),fX(O,P),Pe();var D=O.child;D!==null?(D.return=O,ce=D):uX(S)}}function uX(S){for(;ce!==null;){var P=ce,O=P.sibling,D=P.return;if(C2(P),P===S){ce=null;return}if(O!==null){O.return=D,ce=O;return}ce=D}}function fX(S,P){switch(S.tag){case r:case g:case b:{S.mode&Pi?(v1(),Sa(sn,S,P),c1(S)):Sa(sn,S,P);break}}}function dX(S){switch(S.tag){case r:case g:case b:{try{$l(Rr|wr,S)}catch(O){Gi(S,S.return,O)}break}case o:{var P=S.stateNode;try{P.componentDidMount()}catch(O){Gi(S,S.return,O)}break}}}function cX(S){switch(S.tag){case r:case g:case b:{try{$l(sn|wr,S)}catch(P){Gi(S,S.return,P)}break}}}function vX(S){switch(S.tag){case r:case g:case b:{try{Sa(Rr|wr,S,S.return)}catch(O){Gi(S,S.return,O)}break}case o:{var P=S.stateNode;typeof P.componentWillUnmount=="function"&&$1(S,S.return,P);break}}}function pX(S){switch(S.tag){case r:case g:case b:try{Sa(sn|wr,S,S.return)}catch(P){Gi(S,S.return,P)}}}if(typeof Symbol=="function"&&Symbol.for){var Ev=Symbol.for;Ev("selector.component"),Ev("selector.has_pseudo_class"),Ev("selector.role"),Ev("selector.test_id"),Ev("selector.text")}var gX=[];function mX(){gX.forEach(function(S){return S()})}var yX=i.ReactCurrentActQueue;function xX(S){{var P=typeof IS_REACT_ACT_ENVIRONMENT<"u"?IS_REACT_ACT_ENVIRONMENT:void 0,O=typeof jest<"u";return O&&P!==!1}}function O2(){{var S=typeof IS_REACT_ACT_ENVIRONMENT<"u"?IS_REACT_ACT_ENVIRONMENT:void 0;return!S&&yX.current!==null&&n("The current testing environment is not configured to support act(...)"),S}}var TX=Math.ceil,j1=i.ReactCurrentDispatcher,Q1=i.ReactCurrentOwner,hn=i.ReactCurrentBatchConfig,ba=i.ReactCurrentActQueue,Lr=0,L2=1,un=2,Ys=4,_o=0,Pv=1,du=2,e0=3,bv=4,D2=5,q1=6,ni=Lr,Bn=null,Qi=null,Dr=Nt,ao=Nt,_1=kl(Nt),Fr=_o,Mv=null,i0=Nt,wv=Nt,r0=Nt,Rv=null,Zn=null,tE=0,F2=500,I2=1/0,CX=500,tl=null;function Av(){I2=Yr()+CX}function B2(){return I2}var n0=!1,eE=null,Zf=null,cu=!1,Zl=null,Ov=Nt,iE=[],rE=null,SX=50,Lv=0,nE=null,sE=!1,s0=!1,EX=50,Jf=0,a0=null,Dv=zi,o0=Nt,G2=!1;function l0(){return Bn}function Gn(){return(ni&(un|Ys))!==Lr?Yr():(Dv!==zi||(Dv=Yr()),Dv)}function Jl(S){var P=S.mode;if((P&ri)===be)return Ge;if((ni&un)!==Lr&&Dr!==Nt)return Pc(Dr);var O=yW()!==mW;if(O){if(hn.transition!==null){var D=hn.transition;D._updatedFibers||(D._updatedFibers=new Set),D._updatedFibers.add(S)}return o0===Hr&&(o0=mA()),o0}var N=va();if(N!==Hr)return N;var W=iz();return W}function PX(S){var P=S.mode;return(P&ri)===be?Ge:M7()}function Ir(S,P,O,D){ZX(),G2&&n("useInsertionEffect must not schedule updates."),sE&&(s0=!0),bc(S,O,D),(ni&un)!==Nt&&S===Bn?QX(P):(ca&&TA(S,P,O),qX(P),S===Bn&&((ni&un)===Lr&&(wv=Je(wv,O)),Fr===bv&&jl(S,Dr)),Jn(S,D),O===Ge&&ni===Lr&&(P.mode&ri)===be&&!ba.isBatchingLegacy&&(Av(),GO()))}function bX(S,P,O){var D=S.current;D.lanes=P,bc(S,P,O),Jn(S,O)}function MX(S){return(ni&un)!==Lr}function Jn(S,P){var O=S.callbackNode;T7(S,P);var D=Ag(S,S===Bn?Dr:Nt);if(D===Nt){O!==null&&q2(O),S.callbackNode=null,S.callbackPriority=Hr;return}var N=Qh(D),W=S.callbackPriority;if(W===N&&!(ba.current!==null&&O!==dE)){O==null&&W!==Ge&&n("Expected scheduled callback to exist. This error is likely caused by a bug in React. Please file an issue.");return}O!=null&&q2(O);var Z;if(N===Ge)S.tag===Nl?(ba.isBatchingLegacy!==null&&(ba.didScheduleLegacyUpdate=!0),tW(U2.bind(null,S))):BO(U2.bind(null,S)),ba.current!==null?ba.current.push(Ul):nz(function(){(ni&(un|Ys))===Lr&&Ul()}),Z=null;else{var q;switch(EA(D)){case vs:q=bg;break;case Xo:q=eC;break;case Ho:q=Zh;break;case Dg:q=iC;break;default:q=Zh;break}Z=cE(q,k2.bind(null,S))}S.callbackPriority=N,S.callbackNode=Z}function k2(S,P){if(XW(),Dv=zi,o0=Nt,(ni&(un|Ys))!==Lr)throw new Error("Should not already be working.");var O=S.callbackNode,D=il();if(D&&S.callbackNode!==O)return null;var N=Ag(S,S===Bn?Dr:Nt);if(N===Nt)return null;var W=!Og(S,N)&&!b7(S,N)&&!P,Z=W?GX(S,N):u0(S,N);if(Z!==_o){if(Z===du){var q=PC(S);q!==Nt&&(N=q,Z=aE(S,q))}if(Z===Pv){var et=Mv;throw vu(S,Nt),jl(S,N),Jn(S,Yr()),et}if(Z===q1)jl(S,N);else{var nt=!Og(S,N),at=S.current.alternate;if(nt&&!RX(at)){if(Z=u0(S,N),Z===du){var pt=PC(S);pt!==Nt&&(N=pt,Z=aE(S,pt))}if(Z===Pv){var vt=Mv;throw vu(S,Nt),jl(S,N),Jn(S,Yr()),vt}}S.finishedWork=at,S.finishedLanes=N,wX(S,Z,N)}}return Jn(S,Yr()),S.callbackNode===O?k2.bind(null,S):null}function aE(S,P){var O=Rv;if(Fg(S)){var D=vu(S,P);D.flags|=Uo,Kz(S.containerInfo)}var N=u0(S,P);if(N!==du){var W=Zn;Zn=O,W!==null&&N2(W)}return N}function N2(S){Zn===null?Zn=S:Zn.push.apply(Zn,S)}function wX(S,P,O){switch(P){case _o:case Pv:throw new Error("Root did not complete. This is a bug in React.");case du:{pu(S,Zn,tl);break}case e0:{if(jl(S,O),pA(O)&&!_2()){var D=tE+F2-Yr();if(D>10){var N=Ag(S,Nt);if(N!==Nt)break;var W=S.suspendedLanes;if(!xf(W,O)){Gn(),xA(S,W);break}S.timeoutHandle=rS(pu.bind(null,S,Zn,tl),D);break}}pu(S,Zn,tl);break}case bv:{if(jl(S,O),P7(O))break;if(!_2()){var Z=y7(S,O),q=Z,et=Yr()-q,nt=KX(et)-et;if(nt>10){S.timeoutHandle=rS(pu.bind(null,S,Zn,tl),nt);break}}pu(S,Zn,tl);break}case D2:{pu(S,Zn,tl);break}default:throw new Error("Unknown root exit status.")}}function RX(S){for(var P=S;;){if(P.flags&Eg){var O=P.updateQueue;if(O!==null){var D=O.stores;if(D!==null)for(var N=0;N<D.length;N++){var W=D[N],Z=W.getSnapshot,q=W.value;try{if(!gs(Z(),q))return!1}catch{return!1}}}}var et=P.child;if(P.subtreeFlags&Eg&&et!==null){et.return=P,P=et;continue}if(P===S)return!0;for(;P.sibling===null;){if(P.return===null||P.return===S)return!0;P=P.return}P.sibling.return=P.return,P=P.sibling}return!0}function jl(S,P){P=Lg(P,r0),P=Lg(P,wv),R7(S,P)}function U2(S){if(HW(),(ni&(un|Ys))!==Lr)throw new Error("Should not already be working.");il();var P=Ag(S,Nt);if(!cs(P,Ge))return Jn(S,Yr()),null;var O=u0(S,P);if(S.tag!==Nl&&O===du){var D=PC(S);D!==Nt&&(P=D,O=aE(S,D))}if(O===Pv){var N=Mv;throw vu(S,Nt),jl(S,P),Jn(S,Yr()),N}if(O===q1)throw new Error("Root did not complete. This is a bug in React.");var W=S.current.alternate;return S.finishedWork=W,S.finishedLanes=P,pu(S,Zn,tl),Jn(S,Yr()),null}function AX(S,P){P!==Nt&&(RC(S,Je(P,Ge)),Jn(S,Yr()),(ni&(un|Ys))===Lr&&(Av(),Ul()))}function oE(S,P){var O=ni;ni|=L2;try{return S(P)}finally{ni=O,ni===Lr&&!ba.isBatchingLegacy&&(Av(),GO())}}function OX(S,P,O,D,N){var W=va(),Z=hn.transition;try{return hn.transition=null,$r(vs),S(P,O,D,N)}finally{$r(W),hn.transition=Z,ni===Lr&&Av()}}function el(S){Zl!==null&&Zl.tag===Nl&&(ni&(un|Ys))===Lr&&il();var P=ni;ni|=L2;var O=hn.transition,D=va();try{return hn.transition=null,$r(vs),S?S():void 0}finally{$r(D),hn.transition=O,ni=P,(ni&(un|Ys))===Lr&&Ul()}}function V2(){return(ni&(un|Ys))!==Lr}function h0(S,P){Cn(_1,ao,S),ao=Je(ao,P)}function lE(S){ao=_1.current,Tn(_1,S)}function vu(S,P){S.finishedWork=null,S.finishedLanes=Nt;var O=S.timeoutHandle;if(O!==nS&&(S.timeoutHandle=nS,rz(O)),Qi!==null)for(var D=Qi.return;D!==null;){var N=D.alternate;p2(N,D),D=D.return}Bn=S;var W=gu(S.current,null);return Qi=W,Dr=ao=P,Fr=_o,Mv=null,i0=Nt,wv=Nt,r0=Nt,Rv=null,Zn=null,bW(),ma.discardPendingWarnings(),W}function z2(S,P){do{var O=Qi;try{if(xm(),fL(),Pe(),Q1.current=null,O===null||O.return===null){Fr=Pv,Mv=P,Qi=null;return}if(V&&O.mode&Pi&&Zm(O,!0),z)if(pf(),P!==null&&typeof P=="object"&&typeof P.then=="function"){var D=P;a7(O,D,Dr)}else s7(O,P,Dr);tY(S,O.return,O,P,Dr),H2(O)}catch(N){P=N,Qi===O&&O!==null?(O=O.return,Qi=O):O=Qi;continue}return}while(!0)}function W2(){var S=j1.current;return j1.current=Ym,S===null?Ym:S}function Y2(S){j1.current=S}function LX(){tE=Yr()}function Fv(S){i0=Je(S,i0)}function DX(){Fr===_o&&(Fr=e0)}function hE(){(Fr===_o||Fr===e0||Fr===du)&&(Fr=bv),Bn!==null&&(bC(i0)||bC(wv))&&jl(Bn,Dr)}function FX(S){Fr!==bv&&(Fr=du),Rv===null?Rv=[S]:Rv.push(S)}function IX(){return Fr===_o}function u0(S,P){var O=ni;ni|=un;var D=W2();if(Bn!==S||Dr!==P){if(ca){var N=S.memoizedUpdaters;N.size>0&&(Iv(S,Dr),N.clear()),CA(S,P)}tl=SA(),vu(S,P)}uA(P);do try{BX();break}catch(W){z2(S,W)}while(!0);if(xm(),ni=O,Y2(D),Qi!==null)throw new Error("Cannot commit an incomplete root. This error is likely caused by a bug in React. Please file an issue.");return fA(),Bn=null,Dr=Nt,Fr}function BX(){for(;Qi!==null;)X2(Qi)}function GX(S,P){var O=ni;ni|=un;var D=W2();if(Bn!==S||Dr!==P){if(ca){var N=S.memoizedUpdaters;N.size>0&&(Iv(S,Dr),N.clear()),CA(S,P)}tl=SA(),Av(),vu(S,P)}uA(P);do try{kX();break}catch(W){z2(S,W)}while(!0);return xm(),Y2(D),ni=O,Qi!==null?(f7(),_o):(fA(),Bn=null,Dr=Nt,Fr)}function kX(){for(;Qi!==null&&!U6();)X2(Qi)}function X2(S){var P=S.alternate;$e(S);var O;(S.mode&Pi)!==be?(d1(S),O=uE(P,S,ao),Zm(S,!0)):O=uE(P,S,ao),Pe(),S.memoizedProps=S.pendingProps,O===null?H2(S):Qi=O,Q1.current=null}function H2(S){var P=S;do{var O=P.alternate,D=P.return;if((P.flags&gc)===Ae){$e(P);var N=void 0;if((P.mode&Pi)===be?N=v2(O,P,ao):(d1(P),N=v2(O,P,ao),Zm(P,!1)),Pe(),N!==null){Qi=N;return}}else{var W=DY(O,P);if(W!==null){W.flags&=F6,Qi=W;return}if((P.mode&Pi)!==be){Zm(P,!1);for(var Z=P.actualDuration,q=P.child;q!==null;)Z+=q.actualDuration,q=q.sibling;P.actualDuration=Z}if(D!==null)D.flags|=gc,D.subtreeFlags=Ae,D.deletions=null;else{Fr=q1,Qi=null;return}}var et=P.sibling;if(et!==null){Qi=et;return}P=D,Qi=P}while(P!==null);Fr===_o&&(Fr=D2)}function pu(S,P,O){var D=va(),N=hn.transition;try{hn.transition=null,$r(vs),NX(S,P,O,D)}finally{hn.transition=N,$r(D)}return null}function NX(S,P,O,D){do il();while(Zl!==null);if(JX(),(ni&(un|Ys))!==Lr)throw new Error("Should not already be working.");var N=S.finishedWork,W=S.finishedLanes;if(q6(W),N===null)return oA(),null;if(W===Nt&&n("root.finishedLanes should not be empty during a commit. This is a bug in React."),S.finishedWork=null,S.finishedLanes=Nt,N===S.current)throw new Error("Cannot commit the same tree as before. This error is likely caused by a bug in React. Please file an issue.");S.callbackNode=null,S.callbackPriority=Hr;var Z=Je(N.lanes,N.childLanes);A7(S,Z),S===Bn&&(Bn=null,Qi=null,Dr=Nt),((N.subtreeFlags&cf)!==Ae||(N.flags&cf)!==Ae)&&(cu||(cu=!0,rE=O,cE(Zh,function(){return il(),null})));var q=(N.subtreeFlags&(_T|tC|mc|cf))!==Ae,et=(N.flags&(_T|tC|mc|cf))!==Ae;if(q||et){var nt=hn.transition;hn.transition=null;var at=va();$r(vs);var pt=ni;ni|=Ys,Q1.current=null,kY(S,N),GL(),QY(S,N,W),jV(S.containerInfo),S.current=N,o7(W),qY(N,S,W),l7(),V6(),ni=pt,$r(at),hn.transition=nt}else S.current=N,GL();var vt=cu;if(cu?(cu=!1,Zl=S,Ov=W):(Jf=0,a0=null),Z=S.pendingLanes,Z===Nt&&(Zf=null),vt||J2(S.current,!1),K6(N.stateNode,D),ca&&S.memoizedUpdaters.clear(),mX(),Jn(S,Yr()),P!==null)for(var Ct=S.onRecoverableError,Pt=0;Pt<P.length;Pt++){var At=P[Pt],jt=At.stack,Ce=At.digest;Ct(At.value,{componentStack:jt,digest:Ce})}if(n0){n0=!1;var me=eE;throw eE=null,me}return cs(Ov,Ge)&&S.tag!==Nl&&il(),Z=S.pendingLanes,cs(Z,Ge)?(YW(),S===nE?Lv++:(Lv=0,nE=S)):Lv=0,Ul(),oA(),null}function il(){if(Zl!==null){var S=EA(Ov),P=F7(Ho,S),O=hn.transition,D=va();try{return hn.transition=null,$r(P),VX()}finally{$r(D),hn.transition=O}}return!1}function UX(S){iE.push(S),cu||(cu=!0,cE(Zh,function(){return il(),null}))}function VX(){if(Zl===null)return!1;var S=rE;rE=null;var P=Zl,O=Ov;if(Zl=null,Ov=Nt,(ni&(un|Ys))!==Lr)throw new Error("Cannot flush passive effects while already rendering.");sE=!0,s0=!1,h7(O);var D=ni;ni|=Ys,sX(P.current),eX(P,P.current,O,S);{var N=iE;iE=[];for(var W=0;W<N.length;W++){var Z=N[W];zY(P,Z)}}u7(),J2(P.current,!0),ni=D,Ul(),s0?P===a0?Jf++:(Jf=0,a0=P):Jf=0,sE=!1,s0=!1,Z6(P);{var q=P.current.stateNode;q.effectDuration=0,q.passiveEffectDuration=0}return!0}function $2(S){return Zf!==null&&Zf.has(S)}function zX(S){Zf===null?Zf=new Set([S]):Zf.add(S)}function WX(S){n0||(n0=!0,eE=S)}var YX=WX;function K2(S,P,O){var D=uu(O,P),N=XL(S,D,Ge),W=zl(S,N,Ge),Z=Gn();W!==null&&(bc(W,Ge,Z),Jn(W,Z))}function Gi(S,P,O){if(IY(O),Bv(!1),S.tag===d){K2(S,S,O);return}var D=null;for(D=P;D!==null;){if(D.tag===d){K2(D,S,O);return}else if(D.tag===o){var N=D.type,W=D.stateNode;if(typeof N.getDerivedStateFromError=="function"||typeof W.componentDidCatch=="function"&&!$2(W)){var Z=uu(O,S),q=O1(D,Z,Ge),et=zl(D,q,Ge),nt=Gn();et!==null&&(bc(et,Ge,nt),Jn(et,nt));return}}D=D.return}n(`Internal React error: Attempted to capture a commit phase error inside a detached tree. This indicates a bug in React. Likely causes include deleting the same fiber more than once, committing an already-finished tree, or an inconsistent return pointer.

Error message:

%s`,O)}function XX(S,P,O){var D=S.pingCache;D!==null&&D.delete(P);var N=Gn();xA(S,O),_X(S),Bn===S&&xf(Dr,O)&&(Fr===bv||Fr===e0&&pA(Dr)&&Yr()-tE<F2?vu(S,Nt):r0=Je(r0,O)),Jn(S,N)}function Z2(S,P){P===Hr&&(P=PX(S));var O=Gn(),D=$n(S,P);D!==null&&(bc(D,P,O),Jn(D,O))}function HX(S){var P=S.memoizedState,O=Hr;P!==null&&(O=P.retryLane),Z2(S,O)}function $X(S,P){var O=Hr,D;switch(S.tag){case y:D=S.stateNode;var N=S.memoizedState;N!==null&&(O=N.retryLane);break;case A:D=S.stateNode;break;default:throw new Error("Pinged unknown suspense boundary type. This is probably a bug in React.")}D!==null&&D.delete(P),Z2(S,O)}function KX(S){return S<120?120:S<480?480:S<1080?1080:S<1920?1920:S<3e3?3e3:S<4320?4320:TX(S/1960)*1960}function ZX(){if(Lv>SX)throw Lv=0,nE=null,new Error("Maximum update depth exceeded. This can happen when a component repeatedly calls setState inside componentWillUpdate or componentDidUpdate. React limits the number of nested updates to prevent infinite loops.");Jf>EX&&(Jf=0,a0=null,n("Maximum update depth exceeded. This can happen when a component calls setState inside useEffect, but useEffect either doesn't have a dependency array, or one of the dependencies changes on every render."))}function JX(){ma.flushLegacyContextWarning(),ma.flushPendingUnsafeLifecycleWarnings()}function J2(S,P){$e(S),f0(S,zo,vX),P&&f0(S,Pg,pX),f0(S,zo,dX),P&&f0(S,Pg,cX),Pe()}function f0(S,P,O){for(var D=S,N=null;D!==null;){var W=D.subtreeFlags&P;D!==N&&D.child!==null&&W!==Ae?D=D.child:((D.flags&P)!==Ae&&O(D),D.sibling!==null?D=D.sibling:D=N=D.return)}}var d0=null;function j2(S){{if((ni&un)!==Lr||!(S.mode&ri))return;var P=S.tag;if(P!==x&&P!==d&&P!==o&&P!==r&&P!==g&&P!==C&&P!==b)return;var O=Ft(S)||"ReactComponent";if(d0!==null){if(d0.has(O))return;d0.add(O)}else d0=new Set([O]);var D=ue;try{$e(S),n("Can't perform a React state update on a component that hasn't mounted yet. This indicates that you have a side-effect in your render function that asynchronously later calls tries to update the component. Move this work to useEffect instead.")}finally{D?$e(S):Pe()}}}var uE;{var jX=null;uE=function(S,P,O){var D=nD(jX,P);try{return h2(S,P,O)}catch(W){if(lW()||W!==null&&typeof W=="object"&&typeof W.then=="function")throw W;if(xm(),fL(),p2(S,P),nD(P,D),P.mode&Pi&&d1(P),KT(null,h2,null,S,P,O),A6()){var N=ZT();typeof N=="object"&&N!==null&&N._suppressLogging&&typeof W=="object"&&W!==null&&!W._suppressLogging&&(W._suppressLogging=!0)}throw W}}}var Q2=!1,fE;fE=new Set;function QX(S){if(Li&&!VW())switch(S.tag){case r:case g:case b:{var P=Qi&&Ft(Qi)||"Unknown",O=P;if(!fE.has(O)){fE.add(O);var D=Ft(S)||"Unknown";n("Cannot update a component (`%s`) while rendering a different component (`%s`). To locate the bad setState() call inside `%s`, follow the stack trace as described in https://reactjs.org/link/setstate-in-render",D,P,P)}break}case o:{Q2||(n("Cannot update during an existing state transition (such as within `render`). Render methods should be a pure function of props and state."),Q2=!0);break}}}function Iv(S,P){if(ca){var O=S.memoizedUpdaters;O.forEach(function(D){TA(S,D,P)})}}var dE={};function cE(S,P){{var O=ba.current;return O!==null?(O.push(P),dE):aA(S,P)}}function q2(S){if(S!==dE)return N6(S)}function _2(){return ba.current!==null}function qX(S){{if(S.mode&ri){if(!O2())return}else if(!xX()||ni!==Lr||S.tag!==r&&S.tag!==g&&S.tag!==b)return;if(ba.current===null){var P=ue;try{$e(S),n(`An update to %s inside a test was not wrapped in act(...).

When testing, code that causes React state updates should be wrapped into act(...):

act(() => {
  /* fire events that update state */
});
/* assert on the output */

This ensures that you're testing the behavior the user would see in the browser. Learn more at https://reactjs.org/link/wrap-tests-with-act`,Ft(S))}finally{P?$e(S):Pe()}}}}function _X(S){S.tag!==Nl&&O2()&&ba.current===null&&n(`A suspended resource finished loading inside a test, but the event was not wrapped in act(...).

When testing, code that resolves suspended data should be wrapped into act(...):

act(() => {
  /* finish loading suspended data */
});
/* assert on the output */

This ensures that you're testing the behavior the user would see in the browser. Learn more at https://reactjs.org/link/wrap-tests-with-act`)}function Bv(S){G2=S}var Xs=null,jf=null,tH=function(S){Xs=S};function Qf(S){{if(Xs===null)return S;var P=Xs(S);return P===void 0?S:P.current}}function vE(S){return Qf(S)}function pE(S){{if(Xs===null)return S;var P=Xs(S);if(P===void 0){if(S!=null&&typeof S.render=="function"){var O=Qf(S.render);if(S.render!==O){var D={$$typeof:Re,render:O};return S.displayName!==void 0&&(D.displayName=S.displayName),D}}return S}return P.current}}function tD(S,P){{if(Xs===null)return!1;var O=S.elementType,D=P.type,N=!1,W=typeof D=="object"&&D!==null?D.$$typeof:null;switch(S.tag){case o:{typeof D=="function"&&(N=!0);break}case r:{(typeof D=="function"||W===Qe)&&(N=!0);break}case g:{(W===Re||W===Qe)&&(N=!0);break}case C:case b:{(W===Ni||W===Qe)&&(N=!0);break}default:return!1}if(N){var Z=Xs(O);if(Z!==void 0&&Z===Xs(D))return!0}return!1}}function eD(S){{if(Xs===null||typeof WeakSet!="function")return;jf===null&&(jf=new WeakSet),jf.add(S)}}var eH=function(S,P){{if(Xs===null)return;var O=P.staleFamilies,D=P.updatedFamilies;il(),el(function(){gE(S.current,D,O)})}},iH=function(S,P){{if(S.context!==ms)return;il(),el(function(){Gv(P,S,null,null)})}};function gE(S,P,O){{var D=S.alternate,N=S.child,W=S.sibling,Z=S.tag,q=S.type,et=null;switch(Z){case r:case b:case o:et=q;break;case g:et=q.render;break}if(Xs===null)throw new Error("Expected resolveFamily to be set during hot reload.");var nt=!1,at=!1;if(et!==null){var pt=Xs(et);pt!==void 0&&(O.has(pt)?at=!0:P.has(pt)&&(Z===o?at=!0:nt=!0))}if(jf!==null&&(jf.has(S)||D!==null&&jf.has(D))&&(at=!0),at&&(S._debugNeedsRemount=!0),at||nt){var vt=$n(S,Ge);vt!==null&&Ir(vt,S,Ge,zi)}N!==null&&!at&&gE(N,P,O),W!==null&&gE(W,P,O)}}var rH=function(S,P){{var O=new Set,D=new Set(P.map(function(N){return N.current}));return mE(S.current,D,O),O}};function mE(S,P,O){{var D=S.child,N=S.sibling,W=S.tag,Z=S.type,q=null;switch(W){case r:case b:case o:q=Z;break;case g:q=Z.render;break}var et=!1;q!==null&&P.has(q)&&(et=!0),et?nH(S,O):D!==null&&mE(D,P,O),N!==null&&mE(N,P,O)}}function nH(S,P){{var O=sH(S,P);if(O)return;for(var D=S;;){switch(D.tag){case l:P.add(D.stateNode);return;case h:P.add(D.stateNode.containerInfo);return;case d:P.add(D.stateNode.containerInfo);return}if(D.return===null)throw new Error("Expected to reach root first.");D=D.return}}}function sH(S,P){for(var O=S,D=!1;;){if(O.tag===l)D=!0,P.add(O.stateNode);else if(O.child!==null){O.child.return=O,O=O.child;continue}if(O===S)return D;for(;O.sibling===null;){if(O.return===null||O.return===S)return D;O=O.return}O.sibling.return=O.return,O=O.sibling}return!1}var yE;{yE=!1;try{var iD=Object.preventExtensions({})}catch{yE=!0}}function aH(S,P,O,D){this.tag=S,this.key=O,this.elementType=null,this.type=null,this.stateNode=null,this.return=null,this.child=null,this.sibling=null,this.index=0,this.ref=null,this.pendingProps=P,this.memoizedProps=null,this.updateQueue=null,this.memoizedState=null,this.dependencies=null,this.mode=D,this.flags=Ae,this.subtreeFlags=Ae,this.deletions=null,this.lanes=Nt,this.childLanes=Nt,this.alternate=null,this.actualDuration=Number.NaN,this.actualStartTime=Number.NaN,this.selfBaseDuration=Number.NaN,this.treeBaseDuration=Number.NaN,this.actualDuration=0,this.actualStartTime=-1,this.selfBaseDuration=0,this.treeBaseDuration=0,this._debugSource=null,this._debugOwner=null,this._debugNeedsRemount=!1,this._debugHookTypes=null,!yE&&typeof Object.preventExtensions=="function"&&Object.preventExtensions(this)}var ys=function(S,P,O,D){return new aH(S,P,O,D)};function xE(S){var P=S.prototype;return!!(P&&P.isReactComponent)}function oH(S){return typeof S=="function"&&!xE(S)&&S.defaultProps===void 0}function lH(S){if(typeof S=="function")return xE(S)?o:r;if(S!=null){var P=S.$$typeof;if(P===Re)return g;if(P===Ni)return C}return x}function gu(S,P){var O=S.alternate;O===null?(O=ys(S.tag,P,S.key,S.mode),O.elementType=S.elementType,O.type=S.type,O.stateNode=S.stateNode,O._debugSource=S._debugSource,O._debugOwner=S._debugOwner,O._debugHookTypes=S._debugHookTypes,O.alternate=S,S.alternate=O):(O.pendingProps=P,O.type=S.type,O.flags=Ae,O.subtreeFlags=Ae,O.deletions=null,O.actualDuration=0,O.actualStartTime=-1),O.flags=S.flags&Wo,O.childLanes=S.childLanes,O.lanes=S.lanes,O.child=S.child,O.memoizedProps=S.memoizedProps,O.memoizedState=S.memoizedState,O.updateQueue=S.updateQueue;var D=S.dependencies;switch(O.dependencies=D===null?null:{lanes:D.lanes,firstContext:D.firstContext},O.sibling=S.sibling,O.index=S.index,O.ref=S.ref,O.selfBaseDuration=S.selfBaseDuration,O.treeBaseDuration=S.treeBaseDuration,O._debugNeedsRemount=S._debugNeedsRemount,O.tag){case x:case r:case b:O.type=Qf(S.type);break;case o:O.type=vE(S.type);break;case g:O.type=pE(S.type);break}return O}function hH(S,P){S.flags&=Wo|yr;var O=S.alternate;if(O===null)S.childLanes=Nt,S.lanes=P,S.child=null,S.subtreeFlags=Ae,S.memoizedProps=null,S.memoizedState=null,S.updateQueue=null,S.dependencies=null,S.stateNode=null,S.selfBaseDuration=0,S.treeBaseDuration=0;else{S.childLanes=O.childLanes,S.lanes=O.lanes,S.child=O.child,S.subtreeFlags=Ae,S.deletions=null,S.memoizedProps=O.memoizedProps,S.memoizedState=O.memoizedState,S.updateQueue=O.updateQueue,S.type=O.type;var D=O.dependencies;S.dependencies=D===null?null:{lanes:D.lanes,firstContext:D.firstContext},S.selfBaseDuration=O.selfBaseDuration,S.treeBaseDuration=O.treeBaseDuration}return S}function uH(S,P,O){var D;return S===hm?(D=ri,P===!0&&(D|=ir,D|=ja)):D=be,ca&&(D|=Pi),ys(d,null,null,D)}function TE(S,P,O,D,N,W){var Z=x,q=S;if(typeof S=="function")xE(S)?(Z=o,q=vE(q)):q=Qf(q);else if(typeof S=="string")Z=l;else t:switch(S){case ut:return Ql(O.children,N,W,P);case Bt:Z=c,N|=ir,(N&ri)!==be&&(N|=ja);break;case Zt:return fH(O,N,W,P);case Xe:return dH(O,N,W,P);case Ve:return cH(O,N,W,P);case os:return rD(O,N,W,P);case ls:case Ui:case gr:case Oo:case Mr:default:{if(typeof S=="object"&&S!==null)switch(S.$$typeof){case de:Z=v;break t;case _e:Z=u;break t;case Re:Z=g,q=pE(q);break t;case Ni:Z=C;break t;case Qe:Z=M,q=null;break t}var et="";{(S===void 0||typeof S=="object"&&S!==null&&Object.keys(S).length===0)&&(et+=" You likely forgot to export your component from the file it's defined in, or you might have mixed up default and named imports.");var nt=D?Ft(D):null;nt&&(et+=`

Check the render method of \``+nt+"`.")}throw new Error("Element type is invalid: expected a string (for built-in components) or a class/function (for composite components) "+("but got: "+(S==null?S:typeof S)+"."+et))}}var at=ys(Z,O,P,N);return at.elementType=S,at.type=q,at.lanes=W,at._debugOwner=D,at}function CE(S,P,O){var D=null;D=S._owner;var N=S.type,W=S.key,Z=S.props,q=TE(N,W,Z,D,P,O);return q._debugSource=S._source,q._debugOwner=S._owner,q}function Ql(S,P,O,D){var N=ys(f,S,D,P);return N.lanes=O,N}function fH(S,P,O,D){typeof S.id!="string"&&n('Profiler must specify an "id" of type `string` as a prop. Received the type `%s` instead.',typeof S.id);var N=ys(m,S,D,P|Pi);return N.elementType=Zt,N.lanes=O,N.stateNode={effectDuration:0,passiveEffectDuration:0},N}function dH(S,P,O,D){var N=ys(y,S,D,P);return N.elementType=Xe,N.lanes=O,N}function cH(S,P,O,D){var N=ys(A,S,D,P);return N.elementType=Ve,N.lanes=O,N}function rD(S,P,O,D){var N=ys(F,S,D,P);N.elementType=os,N.lanes=O;var W={isHidden:!1};return N.stateNode=W,N}function SE(S,P,O){var D=ys(a,S,null,P);return D.lanes=O,D}function vH(){var S=ys(l,null,null,be);return S.elementType="DELETED",S}function pH(S){var P=ys(R,null,null,be);return P.stateNode=S,P}function EE(S,P,O){var D=S.children!==null?S.children:[],N=ys(h,D,S.key,P);return N.lanes=O,N.stateNode={containerInfo:S.containerInfo,pendingChildren:null,implementation:S.implementation},N}function nD(S,P){return S===null&&(S=ys(x,null,null,be)),S.tag=P.tag,S.key=P.key,S.elementType=P.elementType,S.type=P.type,S.stateNode=P.stateNode,S.return=P.return,S.child=P.child,S.sibling=P.sibling,S.index=P.index,S.ref=P.ref,S.pendingProps=P.pendingProps,S.memoizedProps=P.memoizedProps,S.updateQueue=P.updateQueue,S.memoizedState=P.memoizedState,S.dependencies=P.dependencies,S.mode=P.mode,S.flags=P.flags,S.subtreeFlags=P.subtreeFlags,S.deletions=P.deletions,S.lanes=P.lanes,S.childLanes=P.childLanes,S.alternate=P.alternate,S.actualDuration=P.actualDuration,S.actualStartTime=P.actualStartTime,S.selfBaseDuration=P.selfBaseDuration,S.treeBaseDuration=P.treeBaseDuration,S._debugSource=P._debugSource,S._debugOwner=P._debugOwner,S._debugNeedsRemount=P._debugNeedsRemount,S._debugHookTypes=P._debugHookTypes,S}function gH(S,P,O,D,N){this.tag=P,this.containerInfo=S,this.pendingChildren=null,this.current=null,this.pingCache=null,this.finishedWork=null,this.timeoutHandle=nS,this.context=null,this.pendingContext=null,this.callbackNode=null,this.callbackPriority=Hr,this.eventTimes=wC(Nt),this.expirationTimes=wC(zi),this.pendingLanes=Nt,this.suspendedLanes=Nt,this.pingedLanes=Nt,this.expiredLanes=Nt,this.mutableReadLanes=Nt,this.finishedLanes=Nt,this.entangledLanes=Nt,this.entanglements=wC(Nt),this.identifierPrefix=D,this.onRecoverableError=N,this.mutableSourceEagerHydrationData=null,this.effectDuration=0,this.passiveEffectDuration=0;{this.memoizedUpdaters=new Set;for(var W=this.pendingUpdatersLaneMap=[],Z=0;Z<nC;Z++)W.push(new Set)}switch(P){case hm:this._debugRootType=O?"hydrateRoot()":"createRoot()";break;case Nl:this._debugRootType=O?"hydrate()":"render()";break}}function sD(S,P,O,D,N,W,Z,q,et,nt){var at=new gH(S,P,O,q,et),pt=uH(P,W);at.current=pt,pt.stateNode=at;{var vt={element:D,isDehydrated:O,cache:null,transitions:null,pendingSuspenseBoundaries:null};pt.memoizedState=vt}return GS(pt),at}var PE="18.3.1";function mH(S,P,O){var D=arguments.length>3&&arguments[3]!==void 0?arguments[3]:null;return Ht(D),{$$typeof:as,key:D==null?null:""+D,children:S,containerInfo:P,implementation:O}}var bE,ME;bE=!1,ME={};function aD(S){if(!S)return ms;var P=ff(S),O=_z(P);if(P.tag===o){var D=P.type;if(_a(D))return FO(P,D,O)}return O}function yH(S,P){{var O=ff(S);if(O===void 0){if(typeof S.render=="function")throw new Error("Unable to find node on an unmounted component.");var D=Object.keys(S).join(",");throw new Error("Argument appears to not be a ReactComponent. Keys: "+D)}var N=rA(O);if(N===null)return null;if(N.mode&ir){var W=Ft(O)||"Component";if(!ME[W]){ME[W]=!0;var Z=ue;try{$e(N),O.mode&ir?n("%s is deprecated in StrictMode. %s was passed an instance of %s which is inside StrictMode. Instead, add a ref directly to the element you want to reference. Learn more about using refs safely here: https://reactjs.org/link/strict-mode-find-node",P,P,W):n("%s is deprecated in StrictMode. %s was passed an instance of %s which renders StrictMode children. Instead, add a ref directly to the element you want to reference. Learn more about using refs safely here: https://reactjs.org/link/strict-mode-find-node",P,P,W)}finally{Z?$e(Z):Pe()}}}return N.stateNode}}function oD(S,P,O,D,N,W,Z,q){var et=!1,nt=null;return sD(S,P,et,nt,O,D,N,W,Z)}function lD(S,P,O,D,N,W,Z,q,et,nt){var at=!0,pt=sD(O,D,at,S,N,W,Z,q,et);pt.context=aD(null);var vt=pt.current,Ct=Gn(),Pt=Jl(vt),At=Qo(Ct,Pt);return At.callback=P??null,zl(vt,At,Pt),bX(pt,Pt,Ct),pt}function Gv(S,P,O,D){$6(P,S);var N=P.current,W=Gn(),Z=Jl(N);d7(Z);var q=aD(O);P.context===null?P.context=q:P.pendingContext=q,Li&&ue!==null&&!bE&&(bE=!0,n(`Render methods should be a pure function of props and state; triggering nested component updates from render is not allowed. If necessary, trigger nested updates in componentDidUpdate.

Check the render method of %s.`,Ft(ue)||"Unknown"));var et=Qo(W,Z);et.payload={element:S},D=D===void 0?null:D,D!==null&&(typeof D!="function"&&n("render(...): Expected the last optional `callback` argument to be a function. Instead received: %s.",D),et.callback=D);var nt=zl(N,et,Z);return nt!==null&&(Ir(nt,N,Z,W),Pm(nt,N,Z)),Z}function c0(S){var P=S.current;if(!P.child)return null;switch(P.child.tag){case l:return P.child.stateNode;default:return P.child.stateNode}}function xH(S){switch(S.tag){case d:{var P=S.stateNode;if(Fg(P)){var O=C7(P);AX(P,O)}break}case y:{el(function(){var N=$n(S,Ge);if(N!==null){var W=Gn();Ir(N,S,Ge,W)}});var D=Ge;wE(S,D);break}}}function hD(S,P){var O=S.memoizedState;O!==null&&O.dehydrated!==null&&(O.retryLane=w7(O.retryLane,P))}function wE(S,P){hD(S,P);var O=S.alternate;O&&hD(O,P)}function TH(S){if(S.tag===y){var P=Cc,O=$n(S,P);if(O!==null){var D=Gn();Ir(O,S,P,D)}wE(S,P)}}function CH(S){if(S.tag===y){var P=Jl(S),O=$n(S,P);if(O!==null){var D=Gn();Ir(O,S,P,D)}wE(S,P)}}function uD(S){var P=k6(S);return P===null?null:P.stateNode}var fD=function(S){return null};function SH(S){return fD(S)}var dD=function(S){return!1};function EH(S){return dD(S)}var cD=null,vD=null,pD=null,gD=null,mD=null,yD=null,xD=null,TD=null,CD=null;{var SD=function(S,P,O){var D=P[O],N=vi(S)?S.slice():He({},S);return O+1===P.length?(vi(N)?N.splice(D,1):delete N[D],N):(N[D]=SD(S[D],P,O+1),N)},ED=function(S,P){return SD(S,P,0)},PD=function(S,P,O,D){var N=P[D],W=vi(S)?S.slice():He({},S);if(D+1===P.length){var Z=O[D];W[Z]=W[N],vi(W)?W.splice(N,1):delete W[N]}else W[N]=PD(S[N],P,O,D+1);return W},bD=function(S,P,O){if(P.length!==O.length){E("copyWithRename() expects paths of the same length");return}else for(var D=0;D<O.length-1;D++)if(P[D]!==O[D]){E("copyWithRename() expects paths to be the same except for the deepest key");return}return PD(S,P,O,0)},MD=function(S,P,O,D){if(O>=P.length)return D;var N=P[O],W=vi(S)?S.slice():He({},S);return W[N]=MD(S[N],P,O+1,D),W},wD=function(S,P,O){return MD(S,P,0,O)},RE=function(S,P){for(var O=S.memoizedState;O!==null&&P>0;)O=O.next,P--;return O};cD=function(S,P,O,D){var N=RE(S,P);if(N!==null){var W=wD(N.memoizedState,O,D);N.memoizedState=W,N.baseState=W,S.memoizedProps=He({},S.memoizedProps);var Z=$n(S,Ge);Z!==null&&Ir(Z,S,Ge,zi)}},vD=function(S,P,O){var D=RE(S,P);if(D!==null){var N=ED(D.memoizedState,O);D.memoizedState=N,D.baseState=N,S.memoizedProps=He({},S.memoizedProps);var W=$n(S,Ge);W!==null&&Ir(W,S,Ge,zi)}},pD=function(S,P,O,D){var N=RE(S,P);if(N!==null){var W=bD(N.memoizedState,O,D);N.memoizedState=W,N.baseState=W,S.memoizedProps=He({},S.memoizedProps);var Z=$n(S,Ge);Z!==null&&Ir(Z,S,Ge,zi)}},gD=function(S,P,O){S.pendingProps=wD(S.memoizedProps,P,O),S.alternate&&(S.alternate.pendingProps=S.pendingProps);var D=$n(S,Ge);D!==null&&Ir(D,S,Ge,zi)},mD=function(S,P){S.pendingProps=ED(S.memoizedProps,P),S.alternate&&(S.alternate.pendingProps=S.pendingProps);var O=$n(S,Ge);O!==null&&Ir(O,S,Ge,zi)},yD=function(S,P,O){S.pendingProps=bD(S.memoizedProps,P,O),S.alternate&&(S.alternate.pendingProps=S.pendingProps);var D=$n(S,Ge);D!==null&&Ir(D,S,Ge,zi)},xD=function(S){var P=$n(S,Ge);P!==null&&Ir(P,S,Ge,zi)},TD=function(S){fD=S},CD=function(S){dD=S}}function PH(S){var P=rA(S);return P===null?null:P.stateNode}function bH(S){return null}function MH(){return ue}function wH(S){var P=S.findFiberByHostInstance,O=i.ReactCurrentDispatcher;return H6({bundleType:S.bundleType,version:S.version,rendererPackageName:S.rendererPackageName,rendererConfig:S.rendererConfig,overrideHookState:cD,overrideHookStateDeletePath:vD,overrideHookStateRenamePath:pD,overrideProps:gD,overridePropsDeletePath:mD,overridePropsRenamePath:yD,setErrorHandler:TD,setSuspenseHandler:CD,scheduleUpdate:xD,currentDispatcherRef:O,findHostInstanceByFiber:PH,findFiberByHostInstance:P||bH,findHostInstancesForRefresh:rH,scheduleRefresh:eH,scheduleRoot:iH,setRefreshHandler:tH,getCurrentFiber:MH,reconcilerVersion:PE})}var RD=typeof reportError=="function"?reportError:function(S){console.error(S)};function AE(S){this._internalRoot=S}v0.prototype.render=AE.prototype.render=function(S){var P=this._internalRoot;if(P===null)throw new Error("Cannot update an unmounted root.");{typeof arguments[1]=="function"?n("render(...): does not support the second callback argument. To execute a side effect after rendering, declare it in a component body with useEffect()."):p0(arguments[1])?n("You passed a container to the second argument of root.render(...). You don't need to pass it again since you already passed it to create the root."):typeof arguments[1]<"u"&&n("You passed a second argument to root.render(...) but it only accepts one argument.");var O=P.containerInfo;if(O.nodeType!==mr){var D=uD(P.current);D&&D.parentNode!==O&&n("render(...): It looks like the React-rendered content of the root container was removed without using React. This is not supported and will cause errors. Instead, call root.unmount() to empty a root's container.")}}Gv(S,P,null,null)},v0.prototype.unmount=AE.prototype.unmount=function(){typeof arguments[0]=="function"&&n("unmount(...): does not support a callback argument. To execute a side effect after rendering, declare it in a component body with useEffect().");var S=this._internalRoot;if(S!==null){this._internalRoot=null;var P=S.containerInfo;V2()&&n("Attempted to synchronously unmount a root while React was already rendering. React cannot finish unmounting the root until the current render has completed, which may lead to a race condition."),el(function(){Gv(null,S,null,null)}),RO(P)}};function RH(S,P){if(!p0(S))throw new Error("createRoot(...): Target container is not a DOM element.");AD(S);var O=!1,D=!1,N="",W=RD;P!=null&&(P.hydrate?E("hydrate through createRoot is deprecated. Use ReactDOMClient.hydrateRoot(container, <App />) instead."):typeof P=="object"&&P!==null&&P.$$typeof===we&&n(`You passed a JSX element to createRoot. You probably meant to call root.render instead. Example usage:

  let root = createRoot(domContainer);
  root.render(<App />);`),P.unstable_strictMode===!0&&(O=!0),P.identifierPrefix!==void 0&&(N=P.identifierPrefix),P.onRecoverableError!==void 0&&(W=P.onRecoverableError),P.transitionCallbacks!==void 0&&P.transitionCallbacks);var Z=oD(S,hm,null,O,D,N,W);im(Z.current,S);var q=S.nodeType===mr?S.parentNode:S;return Wc(q),new AE(Z)}function v0(S){this._internalRoot=S}function AH(S){S&&X7(S)}v0.prototype.unstable_scheduleHydration=AH;function OH(S,P,O){if(!p0(S))throw new Error("hydrateRoot(...): Target container is not a DOM element.");AD(S),P===void 0&&n("Must provide initial children as second argument to hydrateRoot. Example usage: hydrateRoot(domContainer, <App />)");var D=O??null,N=O!=null&&O.hydratedSources||null,W=!1,Z=!1,q="",et=RD;O!=null&&(O.unstable_strictMode===!0&&(W=!0),O.identifierPrefix!==void 0&&(q=O.identifierPrefix),O.onRecoverableError!==void 0&&(et=O.onRecoverableError));var nt=lD(P,null,S,hm,D,W,Z,q,et);if(im(nt.current,S),Wc(S),N)for(var at=0;at<N.length;at++){var pt=N[at];IW(nt,pt)}return new v0(nt)}function p0(S){return!!(S&&(S.nodeType===Xn||S.nodeType===No||S.nodeType===GT||!J))}function kv(S){return!!(S&&(S.nodeType===Xn||S.nodeType===No||S.nodeType===GT||S.nodeType===mr&&S.nodeValue===" react-mount-point-unstable "))}function AD(S){S.nodeType===Xn&&S.tagName&&S.tagName.toUpperCase()==="BODY"&&n("createRoot(): Creating roots directly with document.body is discouraged, since its children are often manipulated by third-party scripts and browser extensions. This may lead to subtle reconciliation issues. Try using a container element created for your app."),_c(S)&&(S._reactRootContainer?n("You are calling ReactDOMClient.createRoot() on a container that was previously passed to ReactDOM.render(). This is not supported."):n("You are calling ReactDOMClient.createRoot() on a container that has already been passed to createRoot() before. Instead, call root.render() on the existing root instead if you want to update it."))}var LH=i.ReactCurrentOwner,OD;OD=function(S){if(S._reactRootContainer&&S.nodeType!==mr){var P=uD(S._reactRootContainer.current);P&&P.parentNode!==S&&n("render(...): It looks like the React-rendered content of this container was removed without using React. This is not supported and will cause errors. Instead, call ReactDOM.unmountComponentAtNode to empty a container.")}var O=!!S._reactRootContainer,D=OE(S),N=!!(D&&Gl(D));N&&!O&&n("render(...): Replacing React-rendered children with a new root component. If you intended to update the children of this node, you should instead have the existing children update their state and render the new components instead of calling ReactDOM.render."),S.nodeType===Xn&&S.tagName&&S.tagName.toUpperCase()==="BODY"&&n("render(): Rendering components directly into document.body is discouraged, since its children are often manipulated by third-party scripts and browser extensions. This may lead to subtle reconciliation issues. Try rendering into a container element created for your app.")};function OE(S){return S?S.nodeType===No?S.documentElement:S.firstChild:null}function LD(){}function DH(S,P,O,D,N){if(N){if(typeof D=="function"){var W=D;D=function(){var vt=c0(Z);W.call(vt)}}var Z=lD(P,D,S,Nl,null,!1,!1,"",LD);S._reactRootContainer=Z,im(Z.current,S);var q=S.nodeType===mr?S.parentNode:S;return Wc(q),el(),Z}else{for(var et;et=S.lastChild;)S.removeChild(et);if(typeof D=="function"){var nt=D;D=function(){var vt=c0(at);nt.call(vt)}}var at=oD(S,Nl,null,!1,!1,"",LD);S._reactRootContainer=at,im(at.current,S);var pt=S.nodeType===mr?S.parentNode:S;return Wc(pt),el(function(){Gv(P,at,O,D)}),at}}function FH(S,P){S!==null&&typeof S!="function"&&n("%s(...): Expected the last optional `callback` argument to be a function. Instead received: %s.",P,S)}function g0(S,P,O,D,N){OD(O),FH(N===void 0?null:N,"render");var W=O._reactRootContainer,Z;if(!W)Z=DH(O,P,S,N,D);else{if(Z=W,typeof N=="function"){var q=N;N=function(){var et=c0(Z);q.call(et)}}Gv(P,Z,S,N)}return c0(Z)}var DD=!1;function IH(S){{DD||(DD=!0,n("findDOMNode is deprecated and will be removed in the next major release. Instead, add a ref directly to the element you want to reference. Learn more about using refs safely here: https://reactjs.org/link/strict-mode-find-node"));var P=LH.current;if(P!==null&&P.stateNode!==null){var O=P.stateNode._warnedAboutRefsInRender;O||n("%s is accessing findDOMNode inside its render(). render() should be a pure function of props and state. It should never access something that requires stale data from the previous render, such as refs. Move this logic to componentDidMount and componentDidUpdate instead.",ie(P.type)||"A component"),P.stateNode._warnedAboutRefsInRender=!0}}return S==null?null:S.nodeType===Xn?S:yH(S,"findDOMNode")}function BH(S,P,O){if(n("ReactDOM.hydrate is no longer supported in React 18. Use hydrateRoot instead. Until you switch to the new API, your app will behave as if it's running React 17. Learn more: https://reactjs.org/link/switch-to-createroot"),!kv(P))throw new Error("Target container is not a DOM element.");{var D=_c(P)&&P._reactRootContainer===void 0;D&&n("You are calling ReactDOM.hydrate() on a container that was previously passed to ReactDOMClient.createRoot(). This is not supported. Did you mean to call hydrateRoot(container, element)?")}return g0(null,S,P,!0,O)}function GH(S,P,O){if(n("ReactDOM.render is no longer supported in React 18. Use createRoot instead. Until you switch to the new API, your app will behave as if it's running React 17. Learn more: https://reactjs.org/link/switch-to-createroot"),!kv(P))throw new Error("Target container is not a DOM element.");{var D=_c(P)&&P._reactRootContainer===void 0;D&&n("You are calling ReactDOM.render() on a container that was previously passed to ReactDOMClient.createRoot(). This is not supported. Did you mean to call root.render(element)?")}return g0(null,S,P,!1,O)}function kH(S,P,O,D){if(n("ReactDOM.unstable_renderSubtreeIntoContainer() is no longer supported in React 18. Consider using a portal instead. Until you switch to the createRoot API, your app will behave as if it's running React 17. Learn more: https://reactjs.org/link/switch-to-createroot"),!kv(O))throw new Error("Target container is not a DOM element.");if(S==null||!O6(S))throw new Error("parentComponent must be a valid React Component");return g0(S,P,O,!1,D)}var FD=!1;function NH(S){if(FD||(FD=!0,n("unmountComponentAtNode is deprecated and will be removed in the next major release. Switch to the createRoot API. Learn more: https://reactjs.org/link/switch-to-createroot")),!kv(S))throw new Error("unmountComponentAtNode(...): Target container is not a DOM element.");{var P=_c(S)&&S._reactRootContainer===void 0;P&&n("You are calling ReactDOM.unmountComponentAtNode() on a container that was previously passed to ReactDOMClient.createRoot(). This is not supported. Did you mean to call root.unmount()?")}if(S._reactRootContainer){{var O=OE(S),D=O&&!Gl(O);D&&n("unmountComponentAtNode(): The node you're attempting to unmount was rendered by another copy of React.")}return el(function(){g0(null,null,S,!1,function(){S._reactRootContainer=null,RO(S)})}),!0}else{{var N=OE(S),W=!!(N&&Gl(N)),Z=S.nodeType===Xn&&kv(S.parentNode)&&!!S.parentNode._reactRootContainer;W&&n("unmountComponentAtNode(): The node you're attempting to unmount was rendered by React and is not a top-level container. %s",Z?"You may have accidentally passed in a React root node instead of its container.":"Instead, have the parent component update its state and rerender in order to remove this component.")}return!1}}I7(xH),G7(TH),k7(CH),N7(va),U7(L7),(typeof Map!="function"||Map.prototype==null||typeof Map.prototype.forEach!="function"||typeof Set!="function"||Set.prototype==null||typeof Set.prototype.clear!="function"||typeof Set.prototype.forEach!="function")&&n("React depends on Map and Set built-in types. Make sure that you load a polyfill in older browsers. https://reactjs.org/link/react-polyfills"),x6(VV),S6(oE,OX,el);function UH(S,P){var O=arguments.length>2&&arguments[2]!==void 0?arguments[2]:null;if(!p0(P))throw new Error("Target container is not a DOM element.");return mH(S,P,null,O)}function VH(S,P,O,D){return kH(S,P,O,D)}var LE={usingClientEntryPoint:!1,Events:[Gl,Rf,rm,HR,$R,oE]};function zH(S,P){return LE.usingClientEntryPoint||n('You are importing createRoot from "react-dom" which is not supported. You should instead import it from "react-dom/client".'),RH(S,P)}function WH(S,P,O){return LE.usingClientEntryPoint||n('You are importing hydrateRoot from "react-dom" which is not supported. You should instead import it from "react-dom/client".'),OH(S,P,O)}function YH(S){return V2()&&n("flushSync was called from inside a lifecycle method. React cannot flush when React is already rendering. Consider moving this call to a scheduler task or micro task."),el(S)}var XH=wH({findFiberByHostInstance:eu,bundleType:1,version:PE,rendererPackageName:"react-dom"});if(!XH&&ft&&window.top===window.self&&(navigator.userAgent.indexOf("Chrome")>-1&&navigator.userAgent.indexOf("Edge")===-1||navigator.userAgent.indexOf("Firefox")>-1)){var ID=window.location.protocol;/^(https?|file):$/.test(ID)&&console.info("%cDownload the React DevTools for a better development experience: https://reactjs.org/link/react-devtools"+(ID==="file:"?`
You might need to use a local HTTP server (instead of file://): https://reactjs.org/link/react-devtools-faq`:""),"font-weight:bold")}ws.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=LE,ws.createPortal=UH,ws.createRoot=zH,ws.findDOMNode=IH,ws.flushSync=YH,ws.hydrate=BH,ws.hydrateRoot=WH,ws.render=GH,ws.unmountComponentAtNode=NH,ws.unstable_batchedUpdates=oE,ws.unstable_renderSubtreeIntoContainer=VH,ws.version=PE,typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"&&typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.registerInternalModuleStop=="function"&&__REACT_DEVTOOLS_GLOBAL_HOOK__.registerInternalModuleStop(new Error)})();A4.exports=ws;var i$=A4.exports,DE=i$;{var m0=DE.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED;Ab.createRoot=function(e,t){m0.usingClientEntryPoint=!0;try{return DE.createRoot(e,t)}finally{m0.usingClientEntryPoint=!1}},Ab.hydrateRoot=function(e,t,i){m0.usingClientEntryPoint=!0;try{return DE.hydrateRoot(e,t,i)}finally{m0.usingClientEntryPoint=!1}}}var D4={exports:{}};(function(e,t){(function(s,p){e.exports=p()})(qH,()=>(()=>{var i={50792:n=>{var T=Object.prototype.hasOwnProperty,r="~";function o(){}Object.create&&(o.prototype=Object.create(null),new o().__proto__||(r=!1));function x(a,f,c){this.fn=a,this.context=f,this.once=c||!1}function d(a,f,c,u,v){if(typeof c!="function")throw new TypeError("The listener must be a function");var g=new x(c,u||a,v),m=r?r+f:f;return a._events[m]?a._events[m].fn?a._events[m]=[a._events[m],g]:a._events[m].push(g):(a._events[m]=g,a._eventsCount++),a}function h(a,f){--a._eventsCount===0?a._events=new o:delete a._events[f]}function l(){this._events=new o,this._eventsCount=0}l.prototype.eventNames=function(){var f=[],c,u;if(this._eventsCount===0)return f;for(u in c=this._events)T.call(c,u)&&f.push(r?u.slice(1):u);return Object.getOwnPropertySymbols?f.concat(Object.getOwnPropertySymbols(c)):f},l.prototype.listeners=function(f){var c=r?r+f:f,u=this._events[c];if(!u)return[];if(u.fn)return[u.fn];for(var v=0,g=u.length,m=new Array(g);v<g;v++)m[v]=u[v].fn;return m},l.prototype.listenerCount=function(f){var c=r?r+f:f,u=this._events[c];return u?u.fn?1:u.length:0},l.prototype.emit=function(f,c,u,v,g,m){var y=r?r+f:f;if(!this._events[y])return!1;var C=this._events[y],b=arguments.length,M,w;if(C.fn){switch(C.once&&this.removeListener(f,C.fn,void 0,!0),b){case 1:return C.fn.call(C.context),!0;case 2:return C.fn.call(C.context,c),!0;case 3:return C.fn.call(C.context,c,u),!0;case 4:return C.fn.call(C.context,c,u,v),!0;case 5:return C.fn.call(C.context,c,u,v,g),!0;case 6:return C.fn.call(C.context,c,u,v,g,m),!0}for(w=1,M=new Array(b-1);w<b;w++)M[w-1]=arguments[w];C.fn.apply(C.context,M)}else{var R=C.length,A;for(w=0;w<R;w++)switch(C[w].once&&this.removeListener(f,C[w].fn,void 0,!0),b){case 1:C[w].fn.call(C[w].context);break;case 2:C[w].fn.call(C[w].context,c);break;case 3:C[w].fn.call(C[w].context,c,u);break;case 4:C[w].fn.call(C[w].context,c,u,v);break;default:if(!M)for(A=1,M=new Array(b-1);A<b;A++)M[A-1]=arguments[A];C[w].fn.apply(C[w].context,M)}}return!0},l.prototype.on=function(f,c,u){return d(this,f,c,u,!1)},l.prototype.once=function(f,c,u){return d(this,f,c,u,!0)},l.prototype.removeListener=function(f,c,u,v){var g=r?r+f:f;if(!this._events[g])return this;if(!c)return h(this,g),this;var m=this._events[g];if(m.fn)m.fn===c&&(!v||m.once)&&(!u||m.context===u)&&h(this,g);else{for(var y=0,C=[],b=m.length;y<b;y++)(m[y].fn!==c||v&&!m[y].once||u&&m[y].context!==u)&&C.push(m[y]);C.length?this._events[g]=C.length===1?C[0]:C:h(this,g)}return this},l.prototype.removeAllListeners=function(f){var c;return f?(c=r?r+f:f,this._events[c]&&h(this,c)):(this._events=new o,this._eventsCount=0),this},l.prototype.off=l.prototype.removeListener,l.prototype.addListener=l.prototype.on,l.prefixed=r,l.EventEmitter=l,n.exports=l},11517:(n,T,r)=>{/**
 * @author       samme
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(38829),x=function(d,h,l,a){for(var f=d[0],c=1;c<d.length;c++){var u=d[c];o(u,f,h,l,a),f=u}return d};n.exports=x},80318:(n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(66979),x=function(d,h,l,a,f){return o(d,"angle",h,l,a,f)};n.exports=x},60757:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(r,o,x){for(var d=0;d<r.length;d++){var h=r[d];o.call(x,h)}return r};n.exports=T},69927:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(r,o,x){x===void 0&&(x=0);for(var d=x;d<r.length;d++){var h=r[d],l=!0;for(var a in o)h[a]!==o[a]&&(l=!1);if(l)return h}return null};n.exports=T},32265:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(r,o,x){x===void 0&&(x=0);for(var d=r.length-1;d>=x;d--){var h=r[d],l=!0;for(var a in o)h[a]!==o[a]&&(l=!1);if(l)return h}return null};n.exports=T},94420:(n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(11879),x=r(60461),d=r(95540),h=r(29747),l=r(41481),a=new l({sys:{queueDepthSort:h,events:{once:h}}},0,0,1,1).setOrigin(0,0),f=function(c,u){u===void 0&&(u={});var v=u.hasOwnProperty("width"),g=u.hasOwnProperty("height"),m=d(u,"width",-1),y=d(u,"height",-1),C=d(u,"cellWidth",1),b=d(u,"cellHeight",C),M=d(u,"position",x.TOP_LEFT),w=d(u,"x",0),R=d(u,"y",0),A=0,L=0,F=m*C,G=y*b;a.setPosition(w,R),a.setSize(C,b);for(var I=0;I<c.length;I++)if(o(c[I],a,M),v&&m===-1)a.x+=C;else if(g&&y===-1)a.y+=b;else if(g&&!v){if(L+=b,a.y+=b,L===G&&(L=0,A+=C,a.y=R,a.x+=C,A===F))break}else if(A+=C,a.x+=C,A===F&&(A=0,L+=b,a.x=w,a.y+=b,L===G))break;return c};n.exports=f},41721:(n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(66979),x=function(d,h,l,a,f){return o(d,"alpha",h,l,a,f)};n.exports=x},67285:(n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(66979),x=function(d,h,l,a,f){return o(d,"x",h,l,a,f)};n.exports=x},9074:(n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(66979),x=function(d,h,l,a,f,c,u){return l==null&&(l=h),o(d,"x",h,a,c,u),o(d,"y",l,f,c,u)};n.exports=x},75222:(n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(66979),x=function(d,h,l,a,f){return o(d,"y",h,l,a,f)};n.exports=x},22983:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(r,o,x,d){x===void 0&&(x=0),d===void 0&&(d=6.28);for(var h=x,l=(d-x)/r.length,a=o.x,f=o.y,c=o.radius,u=0;u<r.length;u++)r[u].x=a+c*Math.cos(h),r[u].y=f+c*Math.sin(h),h+=l;return r};n.exports=T},95253:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(r,o,x,d){x===void 0&&(x=0),d===void 0&&(d=6.28);for(var h=x,l=(d-x)/r.length,a=o.width/2,f=o.height/2,c=0;c<r.length;c++)r[c].x=o.x+a*Math.cos(h),r[c].y=o.y+f*Math.sin(h),h+=l;return r};n.exports=T},88505:(n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(15258),x=r(26708),d=function(h,l,a){var f;a?f=x(l,a,h.length):f=o(l,h.length);for(var c=0;c<h.length;c++){var u=h[c],v=f[c];u.x=v.x,u.y=v.y}return h};n.exports=d},41346:(n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(14649),x=r(86003),d=r(49498),h=function(l,a,f){f===void 0&&(f=0);var c=o(a,!1,l.length);f>0?x(c,f):f<0&&d(c,Math.abs(f));for(var u=0;u<l.length;u++)l[u].x=c[u].x,l[u].y=c[u].y;return l};n.exports=h},11575:(n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(84993),x=function(d,h,l){var a=o({x1:h.x1,y1:h.y1,x2:h.x2,y2:h.y2},l),f=o({x1:h.x2,y1:h.y2,x2:h.x3,y2:h.y3},l),c=o({x1:h.x3,y1:h.y3,x2:h.x1,y2:h.y1},l);a.pop(),f.pop(),c.pop(),a=a.concat(f,c);for(var u=a.length/d.length,v=0,g=0;g<d.length;g++){var m=d[g],y=a[Math.floor(v)];m.x=y.x,m.y=y.y,v+=u}return d};n.exports=x},29953:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(r,o,x){for(var d=0;d<r.length;d++){var h=r[d];h.anims&&h.anims.play(o,x)}return r};n.exports=T},66979:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(r,o,x,d,h,l){d===void 0&&(d=0),h===void 0&&(h=0),l===void 0&&(l=1);var a,f=0,c=r.length;if(l===1)for(a=h;a<c;a++)r[a][o]+=x+f*d,f++;else for(a=h;a>=0;a--)r[a][o]+=x+f*d,f++;return r};n.exports=T},43967:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(r,o,x,d,h,l){d===void 0&&(d=0),h===void 0&&(h=0),l===void 0&&(l=1);var a,f=0,c=r.length;if(l===1)for(a=h;a<c;a++)r[a][o]=x+f*d,f++;else for(a=h;a>=0;a--)r[a][o]=x+f*d,f++;return r};n.exports=T},88926:(n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(28176),x=function(d,h){for(var l=0;l<d.length;l++)o(h,d[l]);return d};n.exports=x},33286:(n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(24820),x=function(d,h){for(var l=0;l<d.length;l++)o(h,d[l]);return d};n.exports=x},96e3:(n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(65822),x=function(d,h){for(var l=0;l<d.length;l++)o(h,d[l]);return d};n.exports=x},28789:(n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(26597),x=function(d,h){for(var l=0;l<d.length;l++)o(h,d[l]);return d};n.exports=x},97154:(n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(90260),x=function(d,h){for(var l=0;l<d.length;l++)o(h,d[l]);return d};n.exports=x},20510:(n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(66979),x=function(d,h,l,a,f){return o(d,"rotation",h,l,a,f)};n.exports=x},91051:(n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(1163),x=r(20339),d=function(h,l,a){for(var f=l.x,c=l.y,u=0;u<h.length;u++){var v=h[u];o(v,f,c,a,Math.max(1,x(v.x,v.y,f,c)))}return h};n.exports=d},76332:(n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(1163),x=function(d,h,l,a){var f=h.x,c=h.y;if(a===0)return d;for(var u=0;u<d.length;u++)o(d[u],f,c,l,a);return d};n.exports=x},61619:(n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(66979),x=function(d,h,l,a,f){return o(d,"scaleX",h,l,a,f)};n.exports=x},94868:(n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(66979),x=function(d,h,l,a,f,c,u){return l==null&&(l=h),o(d,"scaleX",h,a,c,u),o(d,"scaleY",l,f,c,u)};n.exports=x},95532:(n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(66979),x=function(d,h,l,a,f){return o(d,"scaleY",h,l,a,f)};n.exports=x},8689:(n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(43967),x=function(d,h,l,a,f){return o(d,"alpha",h,l,a,f)};n.exports=x},2645:(n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(43967),x=function(d,h,l,a){return o(d,"blendMode",h,0,l,a)};n.exports=x},32372:(n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(43967),x=function(d,h,l,a,f){return o(d,"depth",h,l,a,f)};n.exports=x},85373:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(r,o,x){for(var d=0;d<r.length;d++)r[d].setInteractive(o,x);return r};n.exports=T},81583:(n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(43967),x=function(d,h,l,a,f,c,u){return l==null&&(l=h),o(d,"originX",h,a,c,u),o(d,"originY",l,f,c,u),d.forEach(function(v){v.updateDisplayOrigin()}),d};n.exports=x},79939:(n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(43967),x=function(d,h,l,a,f){return o(d,"rotation",h,l,a,f)};n.exports=x},2699:(n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(43967),x=function(d,h,l,a,f,c,u){return l==null&&(l=h),o(d,"scaleX",h,a,c,u),o(d,"scaleY",l,f,c,u)};n.exports=x},98739:(n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(43967),x=function(d,h,l,a,f){return o(d,"scaleX",h,l,a,f)};n.exports=x},98476:(n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(43967),x=function(d,h,l,a,f){return o(d,"scaleY",h,l,a,f)};n.exports=x},6207:(n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(43967),x=function(d,h,l,a,f,c,u){return l==null&&(l=h),o(d,"scrollFactorX",h,a,c,u),o(d,"scrollFactorY",l,f,c,u)};n.exports=x},6607:(n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(43967),x=function(d,h,l,a,f){return o(d,"scrollFactorX",h,l,a,f)};n.exports=x},72248:(n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(43967),x=function(d,h,l,a,f){return o(d,"scrollFactorY",h,l,a,f)};n.exports=x},14036:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(r,o,x,d,h){for(var l=0;l<r.length;l++)r[l].setTint(o,x,d,h);return r};n.exports=T},50159:(n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(43967),x=function(d,h,l,a){return o(d,"visible",h,0,l,a)};n.exports=x},77597:(n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(43967),x=function(d,h,l,a,f){return o(d,"x",h,l,a,f)};n.exports=x},83194:(n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(43967),x=function(d,h,l,a,f,c,u){return l==null&&(l=h),o(d,"x",h,a,c,u),o(d,"y",l,f,c,u)};n.exports=x},67678:(n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(43967),x=function(d,h,l,a,f){return o(d,"y",h,l,a,f)};n.exports=x},35850:(n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(26099),x=function(d,h,l,a,f){a===void 0&&(a=0),f===void 0&&(f=new o);var c,u,v=d.length;if(v===1)c=d[0].x,u=d[0].y,d[0].x=h,d[0].y=l;else{var g=1,m=0;a===0&&(m=v-1,g=v-2),c=d[m].x,u=d[m].y,d[m].x=h,d[m].y=l;for(var y=0;y<v;y++)if(!(g>=v||g===-1)){var C=d[g],b=C.x,M=C.y;C.x=c,C.y=u,c=b,u=M,a===0?g--:g++}}return f.x=c,f.y=u,f};n.exports=x},8628:(n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(33680),x=function(d){return o(d)};n.exports=x},21837:(n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(7602),x=function(d,h,l,a,f){f===void 0&&(f=!1);var c=Math.abs(a-l)/d.length,u;if(f)for(u=0;u<d.length;u++)d[u][h]+=o(u*c,l,a);else for(u=0;u<d.length;u++)d[u][h]=o(u*c,l,a);return d};n.exports=x},21910:(n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(54261),x=function(d,h,l,a,f){f===void 0&&(f=!1);var c=Math.abs(a-l)/d.length,u;if(f)for(u=0;u<d.length;u++)d[u][h]+=o(u*c,l,a);else for(u=0;u<d.length;u++)d[u][h]=o(u*c,l,a);return d};n.exports=x},62054:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(r,o,x,d,h){if(h===void 0&&(h=!1),r.length===0)return r;if(r.length===1)return h?r[0][o]+=(d+x)/2:r[0][o]=(d+x)/2,r;var l=Math.abs(d-x)/(r.length-1),a;if(h)for(a=0;a<r.length;a++)r[a][o]+=a*l+x;else for(a=0;a<r.length;a++)r[a][o]=a*l+x;return r};n.exports=T},79815:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(r){for(var o=0;o<r.length;o++)r[o].visible=!r[o].visible;return r};n.exports=T},39665:(n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @author       samme <samme.npm@gmail.com>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(15994),x=function(d,h,l){l===void 0&&(l=0);for(var a=0;a<d.length;a++){var f=d[a];f.x=o(f.x,h.left-l,h.right+l),f.y=o(f.y,h.top-l,h.bottom+l)}return d};n.exports=x},61061:(n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports={AlignTo:r(11517),Angle:r(80318),Call:r(60757),GetFirst:r(69927),GetLast:r(32265),GridAlign:r(94420),IncAlpha:r(41721),IncX:r(67285),IncXY:r(9074),IncY:r(75222),PlaceOnCircle:r(22983),PlaceOnEllipse:r(95253),PlaceOnLine:r(88505),PlaceOnRectangle:r(41346),PlaceOnTriangle:r(11575),PlayAnimation:r(29953),PropertyValueInc:r(66979),PropertyValueSet:r(43967),RandomCircle:r(88926),RandomEllipse:r(33286),RandomLine:r(96e3),RandomRectangle:r(28789),RandomTriangle:r(97154),Rotate:r(20510),RotateAround:r(91051),RotateAroundDistance:r(76332),ScaleX:r(61619),ScaleXY:r(94868),ScaleY:r(95532),SetAlpha:r(8689),SetBlendMode:r(2645),SetDepth:r(32372),SetHitArea:r(85373),SetOrigin:r(81583),SetRotation:r(79939),SetScale:r(2699),SetScaleX:r(98739),SetScaleY:r(98476),SetScrollFactor:r(6207),SetScrollFactorX:r(6607),SetScrollFactorY:r(72248),SetTint:r(14036),SetVisible:r(50159),SetX:r(77597),SetXY:r(83194),SetY:r(67678),ShiftPosition:r(35850),Shuffle:r(8628),SmootherStep:r(21910),SmoothStep:r(21837),Spread:r(62054),ToggleVisible:r(79815),WrapInRectangle:r(39665)}},42099:(n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(45319),x=r(83419),d=r(74943),h=r(81957),l=r(41138),a=r(35154),f=r(90126),c=new x({initialize:function(v,g,m){this.manager=v,this.key=g,this.type="frame",this.frames=this.getFrames(v.textureManager,a(m,"frames",[]),a(m,"defaultTextureKey",null),a(m,"sortFrames",!0)),this.frameRate=a(m,"frameRate",null),this.duration=a(m,"duration",null),this.msPerFrame,this.skipMissedFrames=a(m,"skipMissedFrames",!0),this.delay=a(m,"delay",0),this.repeat=a(m,"repeat",0),this.repeatDelay=a(m,"repeatDelay",0),this.yoyo=a(m,"yoyo",!1),this.showBeforeDelay=a(m,"showBeforeDelay",!1),this.showOnStart=a(m,"showOnStart",!1),this.hideOnComplete=a(m,"hideOnComplete",!1),this.randomFrame=a(m,"randomFrame",!1),this.paused=!1,this.calculateDuration(this,this.getTotalFrames(),this.duration,this.frameRate),this.manager.on&&(this.manager.on(d.PAUSE_ALL,this.pause,this),this.manager.on(d.RESUME_ALL,this.resume,this))},getTotalFrames:function(){return this.frames.length},calculateDuration:function(u,v,g,m){g===null&&m===null?(u.frameRate=24,u.duration=24/v*1e3):g&&m===null?(u.duration=g,u.frameRate=v/(g/1e3)):(u.frameRate=m,u.duration=v/m*1e3),u.msPerFrame=1e3/u.frameRate},addFrame:function(u){return this.addFrameAt(this.frames.length,u)},addFrameAt:function(u,v){var g=this.getFrames(this.manager.textureManager,v);if(g.length>0){if(u===0)this.frames=g.concat(this.frames);else if(u===this.frames.length)this.frames=this.frames.concat(g);else{var m=this.frames.slice(0,u),y=this.frames.slice(u);this.frames=m.concat(g,y)}this.updateFrameSequence()}return this},checkFrame:function(u){return u>=0&&u<this.frames.length},getFirstTick:function(u){u.accumulator=0,u.nextTick=u.msPerFrame||u.currentFrame.duration},getFrameAt:function(u){return this.frames[u]},getFrames:function(u,v,g,m){m===void 0&&(m=!0);var y=[],C,b,M=1,w,R;if(typeof v=="string"){if(R=v,!u.exists(R))return console.warn('Texture "%s" not found',R),y;var A=u.get(R),L=A.getFrameNames();m&&f(L),v=[],L.forEach(function(U){v.push({key:R,frame:U})})}if(!Array.isArray(v)||v.length===0)return y;for(w=0;w<v.length;w++){var F=v[w],G=a(F,"key",g);if(G){var I=a(F,"frame",0),B=u.getFrame(G,I);if(!B){console.warn('Texture "%s" not found',G);continue}b=new l(G,I,M,B),b.duration=a(F,"duration",0),b.isFirst=!C,C&&(C.nextFrame=b,b.prevFrame=C),y.push(b),C=b,M++}}if(y.length>0){b.isLast=!0,b.nextFrame=y[0],y[0].prevFrame=b;var k=1/(y.length-1);for(w=0;w<y.length;w++)y[w].progress=w*k}return y},getNextTick:function(u){u.accumulator-=u.nextTick,u.nextTick=u.msPerFrame||u.currentFrame.duration},getFrameByProgress:function(u){return u=o(u,0,1),h(u,this.frames,"progress")},nextFrame:function(u){var v=u.currentFrame;v.isLast?u.yoyo?this.handleYoyoFrame(u,!1):u.repeatCounter>0?u.inReverse&&u.forward?u.forward=!1:this.repeatAnimation(u):u.complete():this.updateAndGetNextTick(u,v.nextFrame)},handleYoyoFrame:function(u,v){if(v||(v=!1),u.inReverse===!v&&u.repeatCounter>0){(u.repeatDelay===0||u.pendingRepeat)&&(u.forward=v),this.repeatAnimation(u);return}if(u.inReverse!==v&&u.repeatCounter===0){u.complete();return}u.forward=v;var g=v?u.currentFrame.nextFrame:u.currentFrame.prevFrame;this.updateAndGetNextTick(u,g)},getLastFrame:function(){return this.frames[this.frames.length-1]},previousFrame:function(u){var v=u.currentFrame;v.isFirst?u.yoyo?this.handleYoyoFrame(u,!0):u.repeatCounter>0?u.inReverse&&!u.forward?this.repeatAnimation(u):(u.forward=!0,this.repeatAnimation(u)):u.complete():this.updateAndGetNextTick(u,v.prevFrame)},updateAndGetNextTick:function(u,v){u.setCurrentFrame(v),this.getNextTick(u)},removeFrame:function(u){var v=this.frames.indexOf(u);return v!==-1&&this.removeFrameAt(v),this},removeFrameAt:function(u){return this.frames.splice(u,1),this.updateFrameSequence(),this},repeatAnimation:function(u){if(u._pendingStop===2){if(u._pendingStopValue===0)return u.stop();u._pendingStopValue--}u.repeatDelay>0&&!u.pendingRepeat?(u.pendingRepeat=!0,u.accumulator-=u.nextTick,u.nextTick+=u.repeatDelay):(u.repeatCounter--,u.forward?u.setCurrentFrame(u.currentFrame.nextFrame):u.setCurrentFrame(u.currentFrame.prevFrame),u.isPlaying&&(this.getNextTick(u),u.handleRepeat()))},toJSON:function(){var u={key:this.key,type:this.type,frames:[],frameRate:this.frameRate,duration:this.duration,skipMissedFrames:this.skipMissedFrames,delay:this.delay,repeat:this.repeat,repeatDelay:this.repeatDelay,yoyo:this.yoyo,showBeforeDelay:this.showBeforeDelay,showOnStart:this.showOnStart,randomFrame:this.randomFrame,hideOnComplete:this.hideOnComplete};return this.frames.forEach(function(v){u.frames.push(v.toJSON())}),u},updateFrameSequence:function(){for(var u=this.frames.length,v=1/(u-1),g,m=0;m<u;m++)g=this.frames[m],g.index=m+1,g.isFirst=!1,g.isLast=!1,g.progress=m*v,m===0?(g.isFirst=!0,u===1?(g.isLast=!0,g.nextFrame=g,g.prevFrame=g):(g.isLast=!1,g.prevFrame=this.frames[u-1],g.nextFrame=this.frames[m+1])):m===u-1&&u>1?(g.isLast=!0,g.prevFrame=this.frames[u-2],g.nextFrame=this.frames[0]):u>1&&(g.prevFrame=this.frames[m-1],g.nextFrame=this.frames[m+1]);return this},pause:function(){return this.paused=!0,this},resume:function(){return this.paused=!1,this},destroy:function(){this.manager.off&&(this.manager.off(d.PAUSE_ALL,this.pause,this),this.manager.off(d.RESUME_ALL,this.resume,this)),this.manager.remove(this.key);for(var u=0;u<this.frames.length;u++)this.frames[u].destroy();this.frames=[],this.manager=null}});n.exports=c},41138:(n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(83419),x=new o({initialize:function(h,l,a,f,c){c===void 0&&(c=!1),this.textureKey=h,this.textureFrame=l,this.index=a,this.frame=f,this.isFirst=!1,this.isLast=!1,this.prevFrame=null,this.nextFrame=null,this.duration=0,this.progress=0,this.isKeyFrame=c},toJSON:function(){return{key:this.textureKey,frame:this.textureFrame,duration:this.duration,keyframe:this.isKeyFrame}},destroy:function(){this.frame=void 0}});n.exports=x},60848:(n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(42099),x=r(83419),d=r(90330),h=r(50792),l=r(74943),a=r(8443),f=r(95540),c=r(35154),u=r(36383),v=r(20283),g=r(41836),m=new x({Extends:h,initialize:function(C){h.call(this),this.game=C,this.textureManager=null,this.globalTimeScale=1,this.anims=new d,this.mixes=new d,this.paused=!1,this.name="AnimationManager",C.events.once(a.BOOT,this.boot,this)},boot:function(){this.textureManager=this.game.textures,this.game.events.once(a.DESTROY,this.destroy,this)},addMix:function(y,C,b){var M=this.anims,w=this.mixes,R=typeof y=="string"?y:y.key,A=typeof C=="string"?C:C.key;if(M.has(R)&&M.has(A)){var L=w.get(R);L||(L={}),L[A]=b,w.set(R,L)}return this},removeMix:function(y,C){var b=this.mixes,M=typeof y=="string"?y:y.key,w=b.get(M);if(w)if(C){var R=typeof C=="string"?C:C.key;w.hasOwnProperty(R)&&delete w[R]}else C||b.delete(M);return this},getMix:function(y,C){var b=this.mixes,M=typeof y=="string"?y:y.key,w=typeof C=="string"?C:C.key,R=b.get(M);return R&&R.hasOwnProperty(w)?R[w]:0},add:function(y,C){return this.anims.has(y)?(console.warn("Animation key exists: "+y),this):(C.key=y,this.anims.set(y,C),this.emit(l.ADD_ANIMATION,y,C),this)},exists:function(y){return this.anims.has(y)},createFromAseprite:function(y,C,b){var M=[],w=this.game.cache.json.get(y);if(!w)return console.warn("No Aseprite data found for: "+y),M;var R=this,A=c(w,"meta",null),L=c(w,"frames",null);if(A&&L){var F=c(A,"frameTags",[]);F.forEach(function(G){var I=[],B=f(G,"name",null),k=f(G,"from",0),U=f(G,"to",0),H=f(G,"direction","forward");if(B&&(!C||C&&C.indexOf(B)>-1)){for(var X=0,j=k;j<=U;j++){var J=j.toString(),Y=L[J];if(Y){var $=f(Y,"duration",u.MAX_SAFE_INTEGER);I.push({key:y,frame:J,duration:$}),X+=$}}H==="reverse"&&(I=I.reverse());var z={key:B,frames:I,duration:X,yoyo:H==="pingpong"},V;b?b.anims&&(V=b.anims.create(z)):V=R.create(z),V&&M.push(V)}})}return M},create:function(y){var C=y.key,b=!1;return C&&(b=this.get(C),b?console.warn("AnimationManager key already exists: "+C):(b=new o(this,C,y),this.anims.set(C,b),this.emit(l.ADD_ANIMATION,C,b))),b},fromJSON:function(y,C){C===void 0&&(C=!1),C&&this.anims.clear(),typeof y=="string"&&(y=JSON.parse(y));var b=[];if(y.hasOwnProperty("anims")&&Array.isArray(y.anims)){for(var M=0;M<y.anims.length;M++)b.push(this.create(y.anims[M]));y.hasOwnProperty("globalTimeScale")&&(this.globalTimeScale=y.globalTimeScale)}else y.hasOwnProperty("key")&&y.type==="frame"&&b.push(this.create(y));return b},generateFrameNames:function(y,C){var b=c(C,"prefix",""),M=c(C,"start",0),w=c(C,"end",0),R=c(C,"suffix",""),A=c(C,"zeroPad",0),L=c(C,"outputArray",[]),F=c(C,"frames",!1);if(!this.textureManager.exists(y))return console.warn('Texture "%s" not found',y),L;var G=this.textureManager.get(y);if(!G)return L;var I;if(C)for(F||(F=v(M,w)),I=0;I<F.length;I++){var B=b+g(F[I],A,"0",1)+R;G.has(B)?L.push({key:y,frame:B}):console.warn('Frame "%s" not found in texture "%s"',B,y)}else for(F=G.getFrameNames(),I=0;I<F.length;I++)L.push({key:y,frame:F[I]});return L},generateFrameNumbers:function(y,C){var b=c(C,"start",0),M=c(C,"end",-1),w=c(C,"first",!1),R=c(C,"outputArray",[]),A=c(C,"frames",!1);if(!this.textureManager.exists(y))return console.warn('Texture "%s" not found',y),R;var L=this.textureManager.get(y);if(!L)return R;w&&L.has(w)&&R.push({key:y,frame:w}),A||(M===-1&&(M=L.frameTotal-2),A=v(b,M));for(var F=0;F<A.length;F++){var G=A[F];L.has(G)?R.push({key:y,frame:G}):console.warn('Frame "%s" not found in texture "%s"',G,y)}return R},get:function(y){return this.anims.get(y)},getAnimsFromTexture:function(y){for(var C=this.textureManager.get(y),b=C.key,M=this.anims.getArray(),w=[],R=0;R<M.length;R++)for(var A=M[R],L=A.frames,F=0;F<L.length;F++)if(L[F].textureKey===b){w.push(A.key);break}return w},pauseAll:function(){return this.paused||(this.paused=!0,this.emit(l.PAUSE_ALL)),this},play:function(y,C){Array.isArray(C)||(C=[C]);for(var b=0;b<C.length;b++)C[b].anims.play(y);return this},staggerPlay:function(y,C,b,M){b===void 0&&(b=0),M===void 0&&(M=!0),Array.isArray(C)||(C=[C]);var w=C.length;M||w--;for(var R=0;R<C.length;R++){var A=b<0?Math.abs(b)*(w-R):b*R;C[R].anims.playAfterDelay(y,A)}return this},remove:function(y){var C=this.get(y);return C&&(this.emit(l.REMOVE_ANIMATION,y,C),this.anims.delete(y),this.removeMix(y)),C},resumeAll:function(){return this.paused&&(this.paused=!1,this.emit(l.RESUME_ALL)),this},toJSON:function(y){var C={anims:[],globalTimeScale:this.globalTimeScale};return y!==void 0&&y!==""?C.anims.push(this.anims.get(y).toJSON()):this.anims.each(function(b,M){C.anims.push(M.toJSON())}),C},destroy:function(){this.anims.clear(),this.mixes.clear(),this.textureManager=null,this.game=null}});n.exports=m},9674:(n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(42099),x=r(30976),d=r(83419),h=r(90330),l=r(74943),a=r(95540),f=new d({initialize:function(u){this.parent=u,this.animationManager=u.scene.sys.anims,this.animationManager.on(l.REMOVE_ANIMATION,this.globalRemove,this),this.textureManager=this.animationManager.textureManager,this.anims=null,this.isPlaying=!1,this.hasStarted=!1,this.currentAnim=null,this.currentFrame=null,this.nextAnim=null,this.nextAnimsQueue=[],this.timeScale=1,this.frameRate=0,this.duration=0,this.msPerFrame=0,this.skipMissedFrames=!0,this.randomFrame=!1,this.delay=0,this.repeat=0,this.repeatDelay=0,this.yoyo=!1,this.showBeforeDelay=!1,this.showOnStart=!1,this.hideOnComplete=!1,this.forward=!0,this.inReverse=!1,this.accumulator=0,this.nextTick=0,this.delayCounter=0,this.repeatCounter=0,this.pendingRepeat=!1,this._paused=!1,this._wasPlaying=!1,this._pendingStop=0,this._pendingStopValue},chain:function(c){var u=this.parent;if(c===void 0)return this.nextAnimsQueue.length=0,this.nextAnim=null,u;Array.isArray(c)||(c=[c]);for(var v=0;v<c.length;v++){var g=c[v];this.nextAnim?this.nextAnimsQueue.push(g):this.nextAnim=g}return this.parent},getName:function(){return this.currentAnim?this.currentAnim.key:""},getFrameName:function(){return this.currentFrame?this.currentFrame.textureFrame:""},load:function(c){this.isPlaying&&this.stop();var u=this.animationManager,v=typeof c=="string"?c:a(c,"key",null),g=this.exists(v)?this.get(v):u.get(v);if(!g)console.warn("Missing animation: "+v);else{this.currentAnim=g;var m=g.getTotalFrames(),y=a(c,"frameRate",g.frameRate),C=a(c,"duration",g.duration);g.calculateDuration(this,m,C,y),this.delay=a(c,"delay",g.delay),this.repeat=a(c,"repeat",g.repeat),this.repeatDelay=a(c,"repeatDelay",g.repeatDelay),this.yoyo=a(c,"yoyo",g.yoyo),this.showBeforeDelay=a(c,"showBeforeDelay",g.showBeforeDelay),this.showOnStart=a(c,"showOnStart",g.showOnStart),this.hideOnComplete=a(c,"hideOnComplete",g.hideOnComplete),this.skipMissedFrames=a(c,"skipMissedFrames",g.skipMissedFrames),this.randomFrame=a(c,"randomFrame",g.randomFrame),this.timeScale=a(c,"timeScale",this.timeScale);var b=a(c,"startFrame",0);b>m&&(b=0),this.randomFrame&&(b=x(0,m-1));var M=g.frames[b];b===0&&!this.forward&&(M=g.getLastFrame()),this.currentFrame=M}return this.parent},pause:function(c){return this._paused||(this._paused=!0,this._wasPlaying=this.isPlaying,this.isPlaying=!1),c!==void 0&&this.setCurrentFrame(c),this.parent},resume:function(c){return this._paused&&(this._paused=!1,this.isPlaying=this._wasPlaying),c!==void 0&&this.setCurrentFrame(c),this.parent},playAfterDelay:function(c,u){if(!this.isPlaying)this.delayCounter=u,this.play(c,!0);else{var v=this.nextAnim,g=this.nextAnimsQueue;v&&g.unshift(v),this.nextAnim=c,this._pendingStop=1,this._pendingStopValue=u}return this.parent},playAfterRepeat:function(c,u){if(u===void 0&&(u=1),!this.isPlaying)this.play(c);else{var v=this.nextAnim,g=this.nextAnimsQueue;v&&g.unshift(v),this.repeatCounter!==-1&&u>this.repeatCounter&&(u=this.repeatCounter),this.nextAnim=c,this._pendingStop=2,this._pendingStopValue=u}return this.parent},play:function(c,u){u===void 0&&(u=!1);var v=this.currentAnim,g=this.parent,m=typeof c=="string"?c:c.key;if(u&&this.isPlaying&&v.key===m)return g;if(v&&this.isPlaying){var y=this.animationManager.getMix(v.key,c);if(y>0)return this.playAfterDelay(c,y)}return this.forward=!0,this.inReverse=!1,this._paused=!1,this._wasPlaying=!0,this.startAnimation(c)},playReverse:function(c,u){u===void 0&&(u=!1);var v=typeof c=="string"?c:c.key;return u&&this.isPlaying&&this.currentAnim.key===v?this.parent:(this.forward=!1,this.inReverse=!0,this._paused=!1,this._wasPlaying=!0,this.startAnimation(c))},startAnimation:function(c){this.load(c);var u=this.currentAnim,v=this.parent;return u&&(this.repeatCounter=this.repeat===-1?Number.MAX_VALUE:this.repeat,u.getFirstTick(this),this.isPlaying=!0,this.pendingRepeat=!1,this.hasStarted=!1,this._pendingStop=0,this._pendingStopValue=0,this._paused=!1,this.delayCounter+=this.delay,this.delayCounter===0?this.handleStart():this.showBeforeDelay&&this.setCurrentFrame(this.currentFrame)),v},handleStart:function(){this.showOnStart&&this.parent.setVisible(!0),this.setCurrentFrame(this.currentFrame),this.hasStarted=!0,this.emitEvents(l.ANIMATION_START)},handleRepeat:function(){this.pendingRepeat=!1,this.emitEvents(l.ANIMATION_REPEAT)},handleStop:function(){this._pendingStop=0,this.isPlaying=!1,this.emitEvents(l.ANIMATION_STOP)},handleComplete:function(){this._pendingStop=0,this.isPlaying=!1,this.hideOnComplete&&this.parent.setVisible(!1),this.emitEvents(l.ANIMATION_COMPLETE,l.ANIMATION_COMPLETE_KEY)},emitEvents:function(c,u){var v=this.currentAnim;if(v){var g=this.currentFrame,m=this.parent,y=g.textureFrame;m.emit(c,v,g,m,y),u&&m.emit(u+v.key,v,g,m,y)}},reverse:function(){return this.isPlaying&&(this.inReverse=!this.inReverse,this.forward=!this.forward),this.parent},getProgress:function(){var c=this.currentFrame;if(!c)return 0;var u=c.progress;return this.inReverse&&(u*=-1),u},setProgress:function(c){return this.forward||(c=1-c),this.setCurrentFrame(this.currentAnim.getFrameByProgress(c)),this.parent},setRepeat:function(c){return this.repeatCounter=c===-1?Number.MAX_VALUE:c,this.parent},globalRemove:function(c,u){u===void 0&&(u=this.currentAnim),this.isPlaying&&u.key===this.currentAnim.key&&(this.stop(),this.setCurrentFrame(this.currentAnim.frames[0]))},restart:function(c,u){c===void 0&&(c=!1),u===void 0&&(u=!1);var v=this.currentAnim,g=this.parent;return v?(u&&(this.repeatCounter=this.repeat===-1?Number.MAX_VALUE:this.repeat),v.getFirstTick(this),this.emitEvents(l.ANIMATION_RESTART),this.isPlaying=!0,this.pendingRepeat=!1,this.hasStarted=!c,this._pendingStop=0,this._pendingStopValue=0,this._paused=!1,this.setCurrentFrame(v.frames[0]),this.parent):g},complete:function(){if(this._pendingStop=0,this.isPlaying=!1,this.currentAnim&&this.handleComplete(),this.nextAnim){var c=this.nextAnim;this.nextAnim=this.nextAnimsQueue.length>0?this.nextAnimsQueue.shift():null,this.play(c)}return this.parent},stop:function(){if(this._pendingStop=0,this.isPlaying=!1,this.delayCounter=0,this.currentAnim&&this.handleStop(),this.nextAnim){var c=this.nextAnim;this.nextAnim=this.nextAnimsQueue.shift(),this.play(c)}return this.parent},stopAfterDelay:function(c){return this._pendingStop=1,this._pendingStopValue=c,this.parent},stopAfterRepeat:function(c){return c===void 0&&(c=1),this.repeatCounter!==-1&&c>this.repeatCounter&&(c=this.repeatCounter),this._pendingStop=2,this._pendingStopValue=c,this.parent},stopOnFrame:function(c){return this._pendingStop=3,this._pendingStopValue=c,this.parent},getTotalFrames:function(){return this.currentAnim?this.currentAnim.getTotalFrames():0},update:function(c,u){var v=this.currentAnim;if(!(!this.isPlaying||!v||v.paused)){if(this.accumulator+=u*this.timeScale*this.animationManager.globalTimeScale,this._pendingStop===1&&(this._pendingStopValue-=u,this._pendingStopValue<=0))return this.stop();if(!this.hasStarted)this.accumulator>=this.delayCounter&&(this.accumulator-=this.delayCounter,this.handleStart());else if(this.accumulator>=this.nextTick&&(this.forward?v.nextFrame(this):v.previousFrame(this),this.isPlaying&&this._pendingStop===0&&this.skipMissedFrames&&this.accumulator>this.nextTick)){var g=0;do this.forward?v.nextFrame(this):v.previousFrame(this),g++;while(this.isPlaying&&this.accumulator>this.nextTick&&g<60)}}},setCurrentFrame:function(c){var u=this.parent;return this.currentFrame=c,u.texture=c.frame.texture,u.frame=c.frame,u.isCropped&&u.frame.updateCropUVs(u._crop,u.flipX,u.flipY),c.setAlpha&&(u.alpha=c.alpha),u.setSizeToFrame(),u._originComponent&&(c.frame.customPivot?u.setOrigin(c.frame.pivotX,c.frame.pivotY):u.updateDisplayOrigin()),this.isPlaying&&this.hasStarted&&(this.emitEvents(l.ANIMATION_UPDATE),this._pendingStop===3&&this._pendingStopValue===c&&this.stop()),u},nextFrame:function(){return this.currentAnim&&this.currentAnim.nextFrame(this),this.parent},previousFrame:function(){return this.currentAnim&&this.currentAnim.previousFrame(this),this.parent},get:function(c){return this.anims?this.anims.get(c):null},exists:function(c){return this.anims?this.anims.has(c):!1},create:function(c){var u=c.key,v=!1;return u&&(v=this.get(u),v?console.warn("Animation key already exists: "+u):(v=new o(this,u,c),this.anims||(this.anims=new h),this.anims.set(u,v))),v},createFromAseprite:function(c,u){return this.animationManager.createFromAseprite(c,u,this.parent)},generateFrameNames:function(c,u){return this.animationManager.generateFrameNames(c,u)},generateFrameNumbers:function(c,u){return this.animationManager.generateFrameNumbers(c,u)},remove:function(c){var u=this.get(c);return u&&(this.currentAnim===u&&this.stop(),this.anims.delete(c)),u},destroy:function(){this.animationManager.off(l.REMOVE_ANIMATION,this.globalRemove,this),this.anims&&this.anims.clear(),this.animationManager=null,this.parent=null,this.nextAnim=null,this.nextAnimsQueue.length=0,this.currentAnim=null,this.currentFrame=null},isPaused:{get:function(){return this._paused}}});n.exports=f},57090:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="add"},25312:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="animationcomplete"},89580:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="animationcomplete-"},52860:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="animationrepeat"},63850:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="animationrestart"},99085:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="animationstart"},28087:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="animationstop"},1794:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="animationupdate"},52562:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="pauseall"},57953:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="remove"},68339:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="resumeall"},74943:(n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports={ADD_ANIMATION:r(57090),ANIMATION_COMPLETE:r(25312),ANIMATION_COMPLETE_KEY:r(89580),ANIMATION_REPEAT:r(52860),ANIMATION_RESTART:r(63850),ANIMATION_START:r(99085),ANIMATION_STOP:r(28087),ANIMATION_UPDATE:r(1794),PAUSE_ALL:r(52562),REMOVE_ANIMATION:r(57953),RESUME_ALL:r(68339)}},60421:(n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports={Animation:r(42099),AnimationFrame:r(41138),AnimationManager:r(60848),AnimationState:r(9674),Events:r(74943)}},2161:(n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(83419),x=r(90330),d=r(50792),h=r(24736),l=new o({initialize:function(){this.entries=new x,this.events=new d},add:function(a,f){return this.entries.set(a,f),this.events.emit(h.ADD,this,a,f),this},has:function(a){return this.entries.has(a)},exists:function(a){return this.entries.has(a)},get:function(a){return this.entries.get(a)},remove:function(a){var f=this.get(a);return f&&(this.entries.delete(a),this.events.emit(h.REMOVE,this,a,f.data)),this},getKeys:function(){return this.entries.keys()},destroy:function(){this.entries.clear(),this.events.removeAllListeners(),this.entries=null,this.events=null}});n.exports=l},24047:(n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(2161),x=r(83419),d=r(8443),h=new x({initialize:function(a){this.game=a,this.binary=new o,this.bitmapFont=new o,this.json=new o,this.physics=new o,this.shader=new o,this.audio=new o,this.video=new o,this.text=new o,this.html=new o,this.obj=new o,this.tilemap=new o,this.xml=new o,this.custom={},this.game.events.once(d.DESTROY,this.destroy,this)},addCustom:function(l){return this.custom.hasOwnProperty(l)||(this.custom[l]=new o),this.custom[l]},destroy:function(){for(var l=["binary","bitmapFont","json","physics","shader","audio","video","text","html","obj","tilemap","xml"],a=0;a<l.length;a++)this[l[a]].destroy(),this[l[a]]=null;for(var f in this.custom)this.custom[f].destroy();this.custom=null,this.game=null}});n.exports=h},51464:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="add"},59261:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="remove"},24736:(n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports={ADD:r(51464),REMOVE:r(59261)}},83388:(n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports={BaseCache:r(2161),CacheManager:r(24047),Events:r(24736)}},71911:(n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(83419),x=r(31401),d=r(39506),h=r(50792),l=r(19715),a=r(87841),f=r(61340),c=r(80333),u=r(26099),v=new o({Extends:h,Mixins:[x.AlphaSingle,x.Visible],initialize:function(m,y,C,b){m===void 0&&(m=0),y===void 0&&(y=0),C===void 0&&(C=0),b===void 0&&(b=0),h.call(this),this.scene,this.sceneManager,this.scaleManager,this.cameraManager,this.id=0,this.name="",this.roundPixels=!1,this.useBounds=!1,this.worldView=new a,this.dirty=!0,this._x=m,this._y=y,this._width=C,this._height=b,this._bounds=new a,this._scrollX=0,this._scrollY=0,this._zoomX=1,this._zoomY=1,this._rotation=0,this.matrix=new f,this.transparent=!0,this.backgroundColor=c("rgba(0,0,0,0)"),this.disableCull=!1,this.culledObjects=[],this.midPoint=new u(C/2,b/2),this.originX=.5,this.originY=.5,this._customViewport=!1,this.mask=null,this._maskCamera=null,this.renderList=[],this.isSceneCamera=!0,this.renderRoundPixels=!0},addToRenderList:function(g){this.renderList.push(g)},setOrigin:function(g,m){return g===void 0&&(g=.5),m===void 0&&(m=g),this.originX=g,this.originY=m,this},getScroll:function(g,m,y){y===void 0&&(y=new u);var C=this.width*.5,b=this.height*.5;return y.x=g-C,y.y=m-b,this.useBounds&&(y.x=this.clampX(y.x),y.y=this.clampY(y.y)),y},centerOnX:function(g){var m=this.width*.5;return this.midPoint.x=g,this.scrollX=g-m,this.useBounds&&(this.scrollX=this.clampX(this.scrollX)),this},centerOnY:function(g){var m=this.height*.5;return this.midPoint.y=g,this.scrollY=g-m,this.useBounds&&(this.scrollY=this.clampY(this.scrollY)),this},centerOn:function(g,m){return this.centerOnX(g),this.centerOnY(m),this},centerToBounds:function(){if(this.useBounds){var g=this._bounds,m=this.width*.5,y=this.height*.5;this.midPoint.set(g.centerX,g.centerY),this.scrollX=g.centerX-m,this.scrollY=g.centerY-y}return this},centerToSize:function(){return this.scrollX=this.width*.5,this.scrollY=this.height*.5,this},cull:function(g){if(this.disableCull)return g;var m=this.matrix.matrix,y=m[0],C=m[1],b=m[2],M=m[3],w=y*M-C*b;if(!w)return g;var R=m[4],A=m[5],L=this.scrollX,F=this.scrollY,G=this.width,I=this.height,B=this.y,k=B+I,U=this.x,H=U+G,X=this.culledObjects,j=g.length;w=1/w,X.length=0;for(var J=0;J<j;++J){var Y=g[J];if(!Y.hasOwnProperty("width")||Y.parentContainer){X.push(Y);continue}var $=Y.width,z=Y.height,V=Y.x-L*Y.scrollFactorX-$*Y.originX,K=Y.y-F*Y.scrollFactorY-z*Y.originY,Q=V*y+K*b+R,_=V*C+K*M+A,tt=(V+$)*y+(K+z)*b+R,rt=(V+$)*C+(K+z)*M+A;tt>U&&Q<H&&rt>B&&_<k&&X.push(Y)}return X},getWorldPoint:function(g,m,y){y===void 0&&(y=new u);var C=this.matrix.matrix,b=C[0],M=C[1],w=C[2],R=C[3],A=C[4],L=C[5],F=b*R-M*w;if(!F)return y.x=g,y.y=m,y;F=1/F;var G=R*F,I=-M*F,B=-w*F,k=b*F,U=(w*L-R*A)*F,H=(M*A-b*L)*F,X=Math.cos(this.rotation),j=Math.sin(this.rotation),J=this.zoomX,Y=this.zoomY,$=this.scrollX,z=this.scrollY,V=g+($*X-z*j)*J,K=m+($*j+z*X)*Y;return y.x=V*G+K*B+U,y.y=V*I+K*k+H,y},ignore:function(g){var m=this.id;Array.isArray(g)||(g=[g]);for(var y=0;y<g.length;y++){var C=g[y];Array.isArray(C)?this.ignore(C):C.isParent?this.ignore(C.getChildren()):C.cameraFilter|=m}return this},clampX:function(g){var m=this._bounds,y=this.displayWidth,C=m.x+(y-this.width)/2,b=Math.max(C,C+m.width-y);return g<C?g=C:g>b&&(g=b),g},clampY:function(g){var m=this._bounds,y=this.displayHeight,C=m.y+(y-this.height)/2,b=Math.max(C,C+m.height-y);return g<C?g=C:g>b&&(g=b),g},removeBounds:function(){return this.useBounds=!1,this.dirty=!0,this._bounds.setEmpty(),this},setAngle:function(g){return g===void 0&&(g=0),this.rotation=d(g),this},setBackgroundColor:function(g){return g===void 0&&(g="rgba(0,0,0,0)"),this.backgroundColor=c(g),this.transparent=this.backgroundColor.alpha===0,this},setBounds:function(g,m,y,C,b){return b===void 0&&(b=!1),this._bounds.setTo(g,m,y,C),this.dirty=!0,this.useBounds=!0,b?this.centerToBounds():(this.scrollX=this.clampX(this.scrollX),this.scrollY=this.clampY(this.scrollY)),this},getBounds:function(g){g===void 0&&(g=new a);var m=this._bounds;return g.setTo(m.x,m.y,m.width,m.height),g},setName:function(g){return g===void 0&&(g=""),this.name=g,this},setPosition:function(g,m){return m===void 0&&(m=g),this.x=g,this.y=m,this},setRotation:function(g){return g===void 0&&(g=0),this.rotation=g,this},setRoundPixels:function(g){return this.roundPixels=g,this},setScene:function(g,m){m===void 0&&(m=!0),this.scene&&this._customViewport&&this.sceneManager.customViewports--,this.scene=g,this.isSceneCamera=m;var y=g.sys;return this.sceneManager=y.game.scene,this.scaleManager=y.scale,this.cameraManager=y.cameras,this.updateSystem(),this},setScroll:function(g,m){return m===void 0&&(m=g),this.scrollX=g,this.scrollY=m,this},setSize:function(g,m){return m===void 0&&(m=g),this.width=g,this.height=m,this},setViewport:function(g,m,y,C){return this.x=g,this.y=m,this.width=y,this.height=C,this},setZoom:function(g,m){return g===void 0&&(g=1),m===void 0&&(m=g),g===0&&(g=.001),m===0&&(m=.001),this.zoomX=g,this.zoomY=m,this},setMask:function(g,m){return m===void 0&&(m=!0),this.mask=g,this._maskCamera=m?this.cameraManager.default:this,this},clearMask:function(g){return g===void 0&&(g=!1),g&&this.mask&&this.mask.destroy(),this.mask=null,this},toJSON:function(){var g={name:this.name,x:this.x,y:this.y,width:this.width,height:this.height,zoom:this.zoom,rotation:this.rotation,roundPixels:this.roundPixels,scrollX:this.scrollX,scrollY:this.scrollY,backgroundColor:this.backgroundColor.rgba};return this.useBounds&&(g.bounds={x:this._bounds.x,y:this._bounds.y,width:this._bounds.width,height:this._bounds.height}),g},update:function(){},setIsSceneCamera:function(g){return this.isSceneCamera=g,this},updateSystem:function(){if(!(!this.scaleManager||!this.isSceneCamera)){var g=this._x!==0||this._y!==0||this.scaleManager.width!==this._width||this.scaleManager.height!==this._height,m=this.sceneManager;g&&!this._customViewport?m.customViewports++:!g&&this._customViewport&&m.customViewports--,this.dirty=!0,this._customViewport=g}},destroy:function(){this.emit(l.DESTROY,this),this.removeAllListeners(),this.matrix.destroy(),this.culledObjects=[],this._customViewport&&this.sceneManager.customViewports--,this.renderList=[],this._bounds=null,this.scene=null,this.scaleManager=null,this.sceneManager=null,this.cameraManager=null},x:{get:function(){return this._x},set:function(g){this._x=g,this.updateSystem()}},y:{get:function(){return this._y},set:function(g){this._y=g,this.updateSystem()}},width:{get:function(){return this._width},set:function(g){this._width=g,this.updateSystem()}},height:{get:function(){return this._height},set:function(g){this._height=g,this.updateSystem()}},scrollX:{get:function(){return this._scrollX},set:function(g){g!==this._scrollX&&(this._scrollX=g,this.dirty=!0)}},scrollY:{get:function(){return this._scrollY},set:function(g){g!==this._scrollY&&(this._scrollY=g,this.dirty=!0)}},zoom:{get:function(){return(this._zoomX+this._zoomY)/2},set:function(g){this._zoomX=g,this._zoomY=g,this.dirty=!0}},zoomX:{get:function(){return this._zoomX},set:function(g){this._zoomX=g,this.dirty=!0}},zoomY:{get:function(){return this._zoomY},set:function(g){this._zoomY=g,this.dirty=!0}},rotation:{get:function(){return this._rotation},set:function(g){this._rotation=g,this.dirty=!0}},centerX:{get:function(){return this.x+.5*this.width}},centerY:{get:function(){return this.y+.5*this.height}},displayWidth:{get:function(){return this.width/this.zoomX}},displayHeight:{get:function(){return this.height/this.zoomY}}});n.exports=v},38058:(n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(71911),x=r(67502),d=r(45319),h=r(83419),l=r(31401),a=r(20052),f=r(19715),c=r(28915),u=r(87841),v=r(26099),g=new h({Extends:o,Mixins:[l.PostPipeline],initialize:function(y,C,b,M){o.call(this,y,C,b,M),this.initPostPipeline(),this.inputEnabled=!0,this.fadeEffect=new a.Fade(this),this.flashEffect=new a.Flash(this),this.shakeEffect=new a.Shake(this),this.panEffect=new a.Pan(this),this.rotateToEffect=new a.RotateTo(this),this.zoomEffect=new a.Zoom(this),this.lerp=new v(1,1),this.followOffset=new v,this.deadzone=null,this._follow=null},setDeadzone:function(m,y){if(m===void 0)this.deadzone=null;else{if(this.deadzone?(this.deadzone.width=m,this.deadzone.height=y):this.deadzone=new u(0,0,m,y),this._follow){var C=this.width/2,b=this.height/2,M=this._follow.x-this.followOffset.x,w=this._follow.y-this.followOffset.y;this.midPoint.set(M,w),this.scrollX=M-C,this.scrollY=w-b}x(this.deadzone,this.midPoint.x,this.midPoint.y)}return this},fadeIn:function(m,y,C,b,M,w){return this.fadeEffect.start(!1,m,y,C,b,!0,M,w)},fadeOut:function(m,y,C,b,M,w){return this.fadeEffect.start(!0,m,y,C,b,!0,M,w)},fadeFrom:function(m,y,C,b,M,w,R){return this.fadeEffect.start(!1,m,y,C,b,M,w,R)},fade:function(m,y,C,b,M,w,R){return this.fadeEffect.start(!0,m,y,C,b,M,w,R)},flash:function(m,y,C,b,M,w,R){return this.flashEffect.start(m,y,C,b,M,w,R)},shake:function(m,y,C,b,M){return this.shakeEffect.start(m,y,C,b,M)},pan:function(m,y,C,b,M,w,R){return this.panEffect.start(m,y,C,b,M,w,R)},rotateTo:function(m,y,C,b,M,w,R){return this.rotateToEffect.start(m,y,C,b,M,w,R)},zoomTo:function(m,y,C,b,M,w){return this.zoomEffect.start(m,y,C,b,M,w)},preRender:function(){this.renderList.length=0;var m=this.width,y=this.height,C=m*.5,b=y*.5,M=this.zoomX,w=this.zoomY,R=this.matrix;this.renderRoundPixels=this.roundPixels&&Number.isInteger(M)&&Number.isInteger(w);var A=m*this.originX,L=y*this.originY,F=this._follow,G=this.deadzone,I=this.scrollX,B=this.scrollY;G&&x(G,this.midPoint.x,this.midPoint.y);var k=!1;if(F&&!this.panEffect.isRunning){var U=this.lerp,H=F.x-this.followOffset.x,X=F.y-this.followOffset.y;G?(H<G.x?I=c(I,I-(G.x-H),U.x):H>G.right&&(I=c(I,I+(H-G.right),U.x)),X<G.y?B=c(B,B-(G.y-X),U.y):X>G.bottom&&(B=c(B,B+(X-G.bottom),U.y))):(I=c(I,H-A,U.x),B=c(B,X-L,U.y)),k=!0}this.roundPixels&&(I=Math.floor(I),B=Math.floor(B)),this.useBounds&&(I=this.clampX(I),B=this.clampY(B)),this.scrollX=I,this.scrollY=B;var j=I+C,J=B+b;this.midPoint.set(j,J);var Y=Math.floor(m/M+.5),$=Math.floor(y/w+.5),z=Math.floor(j-Y/2+.5),V=Math.floor(J-$/2+.5);this.worldView.setTo(z,V,Y,$),R.applyITRS(Math.floor(this.x+A+.5),Math.floor(this.y+L+.5),this.rotation,M,w),R.translate(-A,-L),this.shakeEffect.preRender(),k&&this.emit(f.FOLLOW_UPDATE,this,F)},setLerp:function(m,y){return m===void 0&&(m=1),y===void 0&&(y=m),this.lerp.set(m,y),this},setFollowOffset:function(m,y){return m===void 0&&(m=0),y===void 0&&(y=0),this.followOffset.set(m,y),this},startFollow:function(m,y,C,b,M,w){y===void 0&&(y=!1),C===void 0&&(C=1),b===void 0&&(b=C),M===void 0&&(M=0),w===void 0&&(w=M),this._follow=m,this.roundPixels=y,C=d(C,0,1),b=d(b,0,1),this.lerp.set(C,b),this.followOffset.set(M,w);var R=this.width/2,A=this.height/2,L=m.x-M,F=m.y-w;return this.midPoint.set(L,F),this.scrollX=L-R,this.scrollY=F-A,this.useBounds&&(this.scrollX=this.clampX(this.scrollX),this.scrollY=this.clampY(this.scrollY)),this},stopFollow:function(){return this._follow=null,this},resetFX:function(){return this.rotateToEffect.reset(),this.panEffect.reset(),this.shakeEffect.reset(),this.flashEffect.reset(),this.fadeEffect.reset(),this},update:function(m,y){this.visible&&(this.rotateToEffect.update(m,y),this.panEffect.update(m,y),this.zoomEffect.update(m,y),this.shakeEffect.update(m,y),this.flashEffect.update(m,y),this.fadeEffect.update(m,y))},destroy:function(){this.resetFX(),o.prototype.destroy.call(this),this._follow=null,this.deadzone=null}});n.exports=g},32743:(n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(38058),x=r(83419),d=r(95540),h=r(37277),l=r(37303),a=r(97480),f=r(44594),c=new x({initialize:function(v){this.scene=v,this.systems=v.sys,this.roundPixels=v.sys.game.config.roundPixels,this.cameras=[],this.main,this.default,v.sys.events.once(f.BOOT,this.boot,this),v.sys.events.on(f.START,this.start,this)},boot:function(){var u=this.systems;u.settings.cameras?this.fromJSON(u.settings.cameras):this.add(),this.main=this.cameras[0],this.default=new o(0,0,u.scale.width,u.scale.height).setScene(this.scene),u.game.scale.on(a.RESIZE,this.onResize,this),this.systems.events.once(f.DESTROY,this.destroy,this)},start:function(){if(!this.main){var u=this.systems;u.settings.cameras?this.fromJSON(u.settings.cameras):this.add(),this.main=this.cameras[0]}var v=this.systems.events;v.on(f.UPDATE,this.update,this),v.once(f.SHUTDOWN,this.shutdown,this)},add:function(u,v,g,m,y,C){u===void 0&&(u=0),v===void 0&&(v=0),g===void 0&&(g=this.scene.sys.scale.width),m===void 0&&(m=this.scene.sys.scale.height),y===void 0&&(y=!1),C===void 0&&(C="");var b=new o(u,v,g,m);return b.setName(C),b.setScene(this.scene),b.setRoundPixels(this.roundPixels),b.id=this.getNextID(),this.cameras.push(b),y&&(this.main=b),b},addExisting:function(u,v){v===void 0&&(v=!1);var g=this.cameras.indexOf(u);return g===-1?(u.id=this.getNextID(),u.setRoundPixels(this.roundPixels),this.cameras.push(u),v&&(this.main=u),u):null},getNextID:function(){for(var u=this.cameras,v=1,g=0;g<32;g++){for(var m=!1,y=0;y<u.length;y++){var C=u[y];if(C&&C.id===v){m=!0;continue}}if(m)v=v<<1;else return v}return 0},getTotal:function(u){u===void 0&&(u=!1);for(var v=0,g=this.cameras,m=0;m<g.length;m++){var y=g[m];(!u||u&&y.visible)&&v++}return v},fromJSON:function(u){Array.isArray(u)||(u=[u]);for(var v=this.scene.sys.scale.width,g=this.scene.sys.scale.height,m=0;m<u.length;m++){var y=u[m],C=d(y,"x",0),b=d(y,"y",0),M=d(y,"width",v),w=d(y,"height",g),R=this.add(C,b,M,w);R.name=d(y,"name",""),R.zoom=d(y,"zoom",1),R.rotation=d(y,"rotation",0),R.scrollX=d(y,"scrollX",0),R.scrollY=d(y,"scrollY",0),R.roundPixels=d(y,"roundPixels",!1),R.visible=d(y,"visible",!0);var A=d(y,"backgroundColor",!1);A&&R.setBackgroundColor(A);var L=d(y,"bounds",null);if(L){var F=d(L,"x",0),G=d(L,"y",0),I=d(L,"width",v),B=d(L,"height",g);R.setBounds(F,G,I,B)}}return this},getCamera:function(u){for(var v=this.cameras,g=0;g<v.length;g++)if(v[g].name===u)return v[g];return null},getCamerasBelowPointer:function(u){for(var v=this.cameras,g=u.x,m=u.y,y=[],C=0;C<v.length;C++){var b=v[C];b.visible&&b.inputEnabled&&l(b,g,m)&&y.unshift(b)}return y},remove:function(u,v){v===void 0&&(v=!0),Array.isArray(u)||(u=[u]);for(var g=0,m=this.cameras,y=0;y<u.length;y++){var C=m.indexOf(u[y]);C!==-1&&(v?m[C].destroy():m[C].renderList=[],m.splice(C,1),g++)}return!this.main&&m[0]&&(this.main=m[0]),g},render:function(u,v){for(var g=this.scene,m=this.cameras,y=0;y<m.length;y++){var C=m[y];if(C.visible&&C.alpha>0){C.preRender();var b=this.getVisibleChildren(v.getChildren(),C);u.render(g,b,C)}}},getVisibleChildren:function(u,v){return u.filter(function(g){return g.willRender(v)})},resetAll:function(){for(var u=0;u<this.cameras.length;u++)this.cameras[u].destroy();return this.cameras=[],this.main=this.add(),this.main},update:function(u,v){for(var g=0;g<this.cameras.length;g++)this.cameras[g].update(u,v)},onResize:function(u,v,g,m,y){for(var C=0;C<this.cameras.length;C++){var b=this.cameras[C];b._x===0&&b._y===0&&b._width===m&&b._height===y&&b.setSize(v.width,v.height)}},resize:function(u,v){for(var g=0;g<this.cameras.length;g++)this.cameras[g].setSize(u,v)},shutdown:function(){this.main=void 0;for(var u=0;u<this.cameras.length;u++)this.cameras[u].destroy();this.cameras=[];var v=this.systems.events;v.off(f.UPDATE,this.update,this),v.off(f.SHUTDOWN,this.shutdown,this)},destroy:function(){this.shutdown(),this.default.destroy(),this.systems.events.off(f.START,this.start,this),this.systems.events.off(f.DESTROY,this.destroy,this),this.systems.game.scale.off(a.RESIZE,this.onResize,this),this.scene=null,this.systems=null}});h.register("CameraManager",c,"cameras"),n.exports=c},5020:(n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(45319),x=r(83419),d=r(19715),h=new x({initialize:function(a){this.camera=a,this.isRunning=!1,this.isComplete=!1,this.direction=!0,this.duration=0,this.red=0,this.green=0,this.blue=0,this.alpha=0,this.progress=0,this._elapsed=0,this._onUpdate,this._onUpdateScope},start:function(l,a,f,c,u,v,g,m){if(l===void 0&&(l=!0),a===void 0&&(a=1e3),f===void 0&&(f=0),c===void 0&&(c=0),u===void 0&&(u=0),v===void 0&&(v=!1),g===void 0&&(g=null),m===void 0&&(m=this.camera.scene),!v&&this.isRunning)return this.camera;this.isRunning=!0,this.isComplete=!1,this.duration=a,this.direction=l,this.progress=0,this.red=f,this.green=c,this.blue=u,this.alpha=l?Number.MIN_VALUE:1,this._elapsed=0,this._onUpdate=g,this._onUpdateScope=m;var y=l?d.FADE_OUT_START:d.FADE_IN_START;return this.camera.emit(y,this.camera,this,a,f,c,u),this.camera},update:function(l,a){this.isRunning&&(this._elapsed+=a,this.progress=o(this._elapsed/this.duration,0,1),this._onUpdate&&this._onUpdate.call(this._onUpdateScope,this.camera,this.progress),this._elapsed<this.duration?this.alpha=this.direction?this.progress:1-this.progress:(this.alpha=this.direction?1:0,this.effectComplete()))},postRenderCanvas:function(l){if(!this.isRunning&&!this.isComplete)return!1;var a=this.camera;return l.fillStyle="rgba("+this.red+","+this.green+","+this.blue+","+this.alpha+")",l.fillRect(a.x,a.y,a.width,a.height),!0},postRenderWebGL:function(l,a){if(!this.isRunning&&!this.isComplete)return!1;var f=this.camera,c=this.red/255,u=this.green/255,v=this.blue/255;return l.drawFillRect(f.x,f.y,f.width,f.height,a(v,u,c,1),this.alpha),!0},effectComplete:function(){this._onUpdate=null,this._onUpdateScope=null,this.isRunning=!1,this.isComplete=!0;var l=this.direction?d.FADE_OUT_COMPLETE:d.FADE_IN_COMPLETE;this.camera.emit(l,this.camera,this)},reset:function(){this.isRunning=!1,this.isComplete=!1,this._onUpdate=null,this._onUpdateScope=null},destroy:function(){this.reset(),this.camera=null}});n.exports=h},10662:(n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(45319),x=r(83419),d=r(19715),h=new x({initialize:function(a){this.camera=a,this.isRunning=!1,this.duration=0,this.red=0,this.green=0,this.blue=0,this.alpha=1,this.progress=0,this._elapsed=0,this._alpha,this._onUpdate,this._onUpdateScope},start:function(l,a,f,c,u,v,g){return l===void 0&&(l=250),a===void 0&&(a=255),f===void 0&&(f=255),c===void 0&&(c=255),u===void 0&&(u=!1),v===void 0&&(v=null),g===void 0&&(g=this.camera.scene),!u&&this.isRunning?this.camera:(this.isRunning=!0,this.duration=l,this.progress=0,this.red=a,this.green=f,this.blue=c,this._alpha=this.alpha,this._elapsed=0,this._onUpdate=v,this._onUpdateScope=g,this.camera.emit(d.FLASH_START,this.camera,this,l,a,f,c),this.camera)},update:function(l,a){this.isRunning&&(this._elapsed+=a,this.progress=o(this._elapsed/this.duration,0,1),this._onUpdate&&this._onUpdate.call(this._onUpdateScope,this.camera,this.progress),this._elapsed<this.duration?this.alpha=this._alpha*(1-this.progress):this.effectComplete())},postRenderCanvas:function(l){if(!this.isRunning)return!1;var a=this.camera;return l.fillStyle="rgba("+this.red+","+this.green+","+this.blue+","+this.alpha+")",l.fillRect(a.x,a.y,a.width,a.height),!0},postRenderWebGL:function(l,a){if(!this.isRunning)return!1;var f=this.camera,c=this.red/255,u=this.green/255,v=this.blue/255;return l.drawFillRect(f.x,f.y,f.width,f.height,a(v,u,c,1),this.alpha),!0},effectComplete:function(){this.alpha=this._alpha,this._onUpdate=null,this._onUpdateScope=null,this.isRunning=!1,this.camera.emit(d.FLASH_COMPLETE,this.camera,this)},reset:function(){this.isRunning=!1,this._onUpdate=null,this._onUpdateScope=null},destroy:function(){this.reset(),this.camera=null}});n.exports=h},20359:(n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(45319),x=r(83419),d=r(62640),h=r(19715),l=r(26099),a=new x({initialize:function(c){this.camera=c,this.isRunning=!1,this.duration=0,this.source=new l,this.current=new l,this.destination=new l,this.ease,this.progress=0,this._elapsed=0,this._onUpdate,this._onUpdateScope},start:function(f,c,u,v,g,m,y){u===void 0&&(u=1e3),v===void 0&&(v=d.Linear),g===void 0&&(g=!1),m===void 0&&(m=null),y===void 0&&(y=this.camera.scene);var C=this.camera;return!g&&this.isRunning||(this.isRunning=!0,this.duration=u,this.progress=0,this.source.set(C.scrollX,C.scrollY),this.destination.set(f,c),C.getScroll(f,c,this.current),typeof v=="string"&&d.hasOwnProperty(v)?this.ease=d[v]:typeof v=="function"&&(this.ease=v),this._elapsed=0,this._onUpdate=m,this._onUpdateScope=y,this.camera.emit(h.PAN_START,this.camera,this,u,f,c)),C},update:function(f,c){if(this.isRunning){this._elapsed+=c;var u=o(this._elapsed/this.duration,0,1);this.progress=u;var v=this.camera;if(this._elapsed<this.duration){var g=this.ease(u);v.getScroll(this.destination.x,this.destination.y,this.current);var m=this.source.x+(this.current.x-this.source.x)*g,y=this.source.y+(this.current.y-this.source.y)*g;v.setScroll(m,y),this._onUpdate&&this._onUpdate.call(this._onUpdateScope,v,u,m,y)}else v.centerOn(this.destination.x,this.destination.y),this._onUpdate&&this._onUpdate.call(this._onUpdateScope,v,u,v.scrollX,v.scrollY),this.effectComplete()}},effectComplete:function(){this._onUpdate=null,this._onUpdateScope=null,this.isRunning=!1,this.camera.emit(h.PAN_COMPLETE,this.camera,this)},reset:function(){this.isRunning=!1,this._onUpdate=null,this._onUpdateScope=null},destroy:function(){this.reset(),this.camera=null,this.source=null,this.destination=null}});n.exports=a},34208:(n,T,r)=>{/**
 * @author       Jason Nicholls <nicholls.jason@gmail.com>
 * @copyright    2018 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */var o=r(45319),x=r(83419),d=r(19715),h=r(62640),l=new x({initialize:function(f){this.camera=f,this.isRunning=!1,this.duration=0,this.source=0,this.current=0,this.destination=0,this.ease,this.progress=0,this._elapsed=0,this._onUpdate,this._onUpdateScope,this.clockwise=!0,this.shortestPath=!1},start:function(a,f,c,u,v,g,m){c===void 0&&(c=1e3),u===void 0&&(u=h.Linear),v===void 0&&(v=!1),g===void 0&&(g=null),m===void 0&&(m=this.camera.scene),f===void 0&&(f=!1),this.shortestPath=f;var y=a;a<0?(y=-1*a,this.clockwise=!1):this.clockwise=!0;var C=360*Math.PI/180;y=y-Math.floor(y/C)*C;var b=this.camera;if(!v&&this.isRunning)return b;if(this.isRunning=!0,this.duration=c,this.progress=0,this.source=b.rotation,this.destination=y,typeof u=="string"&&h.hasOwnProperty(u)?this.ease=h[u]:typeof u=="function"&&(this.ease=u),this._elapsed=0,this._onUpdate=g,this._onUpdateScope=m,this.shortestPath){var M=0,w=0;this.destination>this.source?M=Math.abs(this.destination-this.source):M=Math.abs(this.destination+C)-this.source,this.source>this.destination?w=Math.abs(this.source-this.destination):w=Math.abs(this.source+C)-this.destination,M<w?this.clockwise=!0:M>w&&(this.clockwise=!1)}return this.camera.emit(d.ROTATE_START,this.camera,this,c,y),b},update:function(a,f){if(this.isRunning){this._elapsed+=f;var c=o(this._elapsed/this.duration,0,1);this.progress=c;var u=this.camera;if(this._elapsed<this.duration){var v=this.ease(c);this.current=u.rotation;var g=0,m=360*Math.PI/180,y=this.destination,C=this.current;this.clockwise===!1&&(y=this.current,C=this.destination),y>=C?g=Math.abs(y-C):g=Math.abs(y+m)-C;var b=0;this.clockwise?b=u.rotation+g*v:b=u.rotation-g*v,u.rotation=b,this._onUpdate&&this._onUpdate.call(this._onUpdateScope,u,c,b)}else u.rotation=this.destination,this._onUpdate&&this._onUpdate.call(this._onUpdateScope,u,c,this.destination),this.effectComplete()}},effectComplete:function(){this._onUpdate=null,this._onUpdateScope=null,this.isRunning=!1,this.camera.emit(d.ROTATE_COMPLETE,this.camera,this)},reset:function(){this.isRunning=!1,this._onUpdate=null,this._onUpdateScope=null},destroy:function(){this.reset(),this.camera=null,this.source=null,this.destination=null}});n.exports=l},30330:(n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(45319),x=r(83419),d=r(19715),h=r(26099),l=new x({initialize:function(f){this.camera=f,this.isRunning=!1,this.duration=0,this.intensity=new h,this.progress=0,this._elapsed=0,this._offsetX=0,this._offsetY=0,this._onUpdate,this._onUpdateScope},start:function(a,f,c,u,v){return a===void 0&&(a=100),f===void 0&&(f=.05),c===void 0&&(c=!1),u===void 0&&(u=null),v===void 0&&(v=this.camera.scene),!c&&this.isRunning?this.camera:(this.isRunning=!0,this.duration=a,this.progress=0,typeof f=="number"?this.intensity.set(f):this.intensity.set(f.x,f.y),this._elapsed=0,this._offsetX=0,this._offsetY=0,this._onUpdate=u,this._onUpdateScope=v,this.camera.emit(d.SHAKE_START,this.camera,this,a,f),this.camera)},preRender:function(){this.isRunning&&this.camera.matrix.translate(this._offsetX,this._offsetY)},update:function(a,f){if(this.isRunning)if(this._elapsed+=f,this.progress=o(this._elapsed/this.duration,0,1),this._onUpdate&&this._onUpdate.call(this._onUpdateScope,this.camera,this.progress),this._elapsed<this.duration){var c=this.intensity,u=this.camera.width,v=this.camera.height,g=this.camera.zoom;this._offsetX=(Math.random()*c.x*u*2-c.x*u)*g,this._offsetY=(Math.random()*c.y*v*2-c.y*v)*g,this.camera.roundPixels&&(this._offsetX=Math.round(this._offsetX),this._offsetY=Math.round(this._offsetY))}else this.effectComplete()},effectComplete:function(){this._offsetX=0,this._offsetY=0,this._onUpdate=null,this._onUpdateScope=null,this.isRunning=!1,this.camera.emit(d.SHAKE_COMPLETE,this.camera,this)},reset:function(){this.isRunning=!1,this._offsetX=0,this._offsetY=0,this._onUpdate=null,this._onUpdateScope=null},destroy:function(){this.reset(),this.camera=null,this.intensity=null}});n.exports=l},45641:(n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(45319),x=r(83419),d=r(62640),h=r(19715),l=new x({initialize:function(f){this.camera=f,this.isRunning=!1,this.duration=0,this.source=1,this.destination=1,this.ease,this.progress=0,this._elapsed=0,this._onUpdate,this._onUpdateScope},start:function(a,f,c,u,v,g){f===void 0&&(f=1e3),c===void 0&&(c=d.Linear),u===void 0&&(u=!1),v===void 0&&(v=null),g===void 0&&(g=this.camera.scene);var m=this.camera;return!u&&this.isRunning||(this.isRunning=!0,this.duration=f,this.progress=0,this.source=m.zoom,this.destination=a,typeof c=="string"&&d.hasOwnProperty(c)?this.ease=d[c]:typeof c=="function"&&(this.ease=c),this._elapsed=0,this._onUpdate=v,this._onUpdateScope=g,this.camera.emit(h.ZOOM_START,this.camera,this,f,a)),m},update:function(a,f){this.isRunning&&(this._elapsed+=f,this.progress=o(this._elapsed/this.duration,0,1),this._elapsed<this.duration?(this.camera.zoom=this.source+(this.destination-this.source)*this.ease(this.progress),this._onUpdate&&this._onUpdate.call(this._onUpdateScope,this.camera,this.progress,this.camera.zoom)):(this.camera.zoom=this.destination,this._onUpdate&&this._onUpdate.call(this._onUpdateScope,this.camera,this.progress,this.destination),this.effectComplete()))},effectComplete:function(){this._onUpdate=null,this._onUpdateScope=null,this.isRunning=!1,this.camera.emit(h.ZOOM_COMPLETE,this.camera,this)},reset:function(){this.isRunning=!1,this._onUpdate=null,this._onUpdateScope=null},destroy:function(){this.reset(),this.camera=null}});n.exports=l},20052:(n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports={Fade:r(5020),Flash:r(10662),Pan:r(20359),Shake:r(30330),RotateTo:r(34208),Zoom:r(45641)}},16438:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="cameradestroy"},32726:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="camerafadeincomplete"},87807:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="camerafadeinstart"},45917:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="camerafadeoutcomplete"},95666:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="camerafadeoutstart"},47056:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="cameraflashcomplete"},91261:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="cameraflashstart"},45047:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="followupdate"},81927:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="camerapancomplete"},74264:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="camerapanstart"},54419:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="postrender"},79330:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="prerender"},93183:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="camerarotatecomplete"},80112:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="camerarotatestart"},62252:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="camerashakecomplete"},86017:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="camerashakestart"},539:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="camerazoomcomplete"},51892:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="camerazoomstart"},19715:(n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports={DESTROY:r(16438),FADE_IN_COMPLETE:r(32726),FADE_IN_START:r(87807),FADE_OUT_COMPLETE:r(45917),FADE_OUT_START:r(95666),FLASH_COMPLETE:r(47056),FLASH_START:r(91261),FOLLOW_UPDATE:r(45047),PAN_COMPLETE:r(81927),PAN_START:r(74264),POST_RENDER:r(54419),PRE_RENDER:r(79330),ROTATE_COMPLETE:r(93183),ROTATE_START:r(80112),SHAKE_COMPLETE:r(62252),SHAKE_START:r(86017),ZOOM_COMPLETE:r(539),ZOOM_START:r(51892)}},87969:(n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports={Camera:r(38058),BaseCamera:r(71911),CameraManager:r(32743),Effects:r(20052),Events:r(19715)}},63091:(n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(83419),x=r(35154),d=new o({initialize:function(l){this.camera=x(l,"camera",null),this.left=x(l,"left",null),this.right=x(l,"right",null),this.up=x(l,"up",null),this.down=x(l,"down",null),this.zoomIn=x(l,"zoomIn",null),this.zoomOut=x(l,"zoomOut",null),this.zoomSpeed=x(l,"zoomSpeed",.01),this.minZoom=x(l,"minZoom",.001),this.maxZoom=x(l,"maxZoom",1e3),this.speedX=0,this.speedY=0;var a=x(l,"speed",null);typeof a=="number"?(this.speedX=a,this.speedY=a):(this.speedX=x(l,"speed.x",0),this.speedY=x(l,"speed.y",0)),this._zoom=0,this.active=this.camera!==null},start:function(){return this.active=this.camera!==null,this},stop:function(){return this.active=!1,this},setCamera:function(h){return this.camera=h,this},update:function(h){if(this.active){h===void 0&&(h=1);var l=this.camera;this.up&&this.up.isDown?l.scrollY-=this.speedY*h|0:this.down&&this.down.isDown&&(l.scrollY+=this.speedY*h|0),this.left&&this.left.isDown?l.scrollX-=this.speedX*h|0:this.right&&this.right.isDown&&(l.scrollX+=this.speedX*h|0),this.zoomIn&&this.zoomIn.isDown?(l.zoom-=this.zoomSpeed,l.zoom<this.minZoom&&(l.zoom=this.minZoom)):this.zoomOut&&this.zoomOut.isDown&&(l.zoom+=this.zoomSpeed,l.zoom>this.maxZoom&&(l.zoom=this.maxZoom))}},destroy:function(){this.camera=null,this.left=null,this.right=null,this.up=null,this.down=null,this.zoomIn=null,this.zoomOut=null}});n.exports=d},58818:(n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(83419),x=r(35154),d=new o({initialize:function(l){this.camera=x(l,"camera",null),this.left=x(l,"left",null),this.right=x(l,"right",null),this.up=x(l,"up",null),this.down=x(l,"down",null),this.zoomIn=x(l,"zoomIn",null),this.zoomOut=x(l,"zoomOut",null),this.zoomSpeed=x(l,"zoomSpeed",.01),this.minZoom=x(l,"minZoom",.001),this.maxZoom=x(l,"maxZoom",1e3),this.accelX=0,this.accelY=0;var a=x(l,"acceleration",null);typeof a=="number"?(this.accelX=a,this.accelY=a):(this.accelX=x(l,"acceleration.x",0),this.accelY=x(l,"acceleration.y",0)),this.dragX=0,this.dragY=0;var f=x(l,"drag",null);typeof f=="number"?(this.dragX=f,this.dragY=f):(this.dragX=x(l,"drag.x",0),this.dragY=x(l,"drag.y",0)),this.maxSpeedX=0,this.maxSpeedY=0;var c=x(l,"maxSpeed",null);typeof c=="number"?(this.maxSpeedX=c,this.maxSpeedY=c):(this.maxSpeedX=x(l,"maxSpeed.x",0),this.maxSpeedY=x(l,"maxSpeed.y",0)),this._speedX=0,this._speedY=0,this._zoom=0,this.active=this.camera!==null},start:function(){return this.active=this.camera!==null,this},stop:function(){return this.active=!1,this},setCamera:function(h){return this.camera=h,this},update:function(h){if(this.active){h===void 0&&(h=1);var l=this.camera;this._speedX>0?(this._speedX-=this.dragX*h,this._speedX<0&&(this._speedX=0)):this._speedX<0&&(this._speedX+=this.dragX*h,this._speedX>0&&(this._speedX=0)),this._speedY>0?(this._speedY-=this.dragY*h,this._speedY<0&&(this._speedY=0)):this._speedY<0&&(this._speedY+=this.dragY*h,this._speedY>0&&(this._speedY=0)),this.up&&this.up.isDown?(this._speedY+=this.accelY,this._speedY>this.maxSpeedY&&(this._speedY=this.maxSpeedY)):this.down&&this.down.isDown&&(this._speedY-=this.accelY,this._speedY<-this.maxSpeedY&&(this._speedY=-this.maxSpeedY)),this.left&&this.left.isDown?(this._speedX+=this.accelX,this._speedX>this.maxSpeedX&&(this._speedX=this.maxSpeedX)):this.right&&this.right.isDown&&(this._speedX-=this.accelX,this._speedX<-this.maxSpeedX&&(this._speedX=-this.maxSpeedX)),this.zoomIn&&this.zoomIn.isDown?this._zoom=-this.zoomSpeed:this.zoomOut&&this.zoomOut.isDown?this._zoom=this.zoomSpeed:this._zoom=0,this._speedX!==0&&(l.scrollX-=this._speedX*h|0),this._speedY!==0&&(l.scrollY-=this._speedY*h|0),this._zoom!==0&&(l.zoom+=this._zoom,l.zoom<this.minZoom?l.zoom=this.minZoom:l.zoom>this.maxZoom&&(l.zoom=this.maxZoom))}},destroy:function(){this.camera=null,this.left=null,this.right=null,this.up=null,this.down=null,this.zoomIn=null,this.zoomOut=null}});n.exports=d},38865:(n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports={FixedKeyControl:r(63091),SmoothedKeyControl:r(58818)}},26638:(n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports={Controls:r(38865),Scene2D:r(87969)}},8054:(n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o={VERSION:"3.88.2",LOG_VERSION:"v388",BlendModes:r(10312),ScaleModes:r(29795),AUTO:0,CANVAS:1,WEBGL:2,HEADLESS:3,FOREVER:-1,NONE:4,UP:5,DOWN:6,LEFT:7,RIGHT:8};n.exports=o},69547:(n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(83419),x=r(8054),d=r(42363),h=r(82264),l=r(95540),a=r(35154),f=r(41212),c=r(29747),u=r(75508),v=r(36060),g=r(80333),m=new o({initialize:function(C){C===void 0&&(C={});var b=["#ff0000","#ffff00","#00ff00","#00ffff","#000000"],M="#ffffff",w=a(C,"scale",null);this.width=a(w,"width",1024,C),this.height=a(w,"height",768,C),this.zoom=a(w,"zoom",1,C),this.parent=a(w,"parent",void 0,C),this.scaleMode=a(w,w?"mode":"scaleMode",0,C),this.expandParent=a(w,"expandParent",!0,C),this.autoRound=a(w,"autoRound",!1,C),this.autoCenter=a(w,"autoCenter",0,C),this.resizeInterval=a(w,"resizeInterval",500,C),this.fullscreenTarget=a(w,"fullscreenTarget",null,C),this.minWidth=a(w,"min.width",0,C),this.maxWidth=a(w,"max.width",0,C),this.minHeight=a(w,"min.height",0,C),this.maxHeight=a(w,"max.height",0,C),this.snapWidth=a(w,"snap.width",0,C),this.snapHeight=a(w,"snap.height",0,C),this.renderType=a(C,"type",x.AUTO),this.canvas=a(C,"canvas",null),this.context=a(C,"context",null),this.canvasStyle=a(C,"canvasStyle",null),this.customEnvironment=a(C,"customEnvironment",!1),this.sceneConfig=a(C,"scene",null),this.seed=a(C,"seed",[(Date.now()*Math.random()).toString()]),u.RND=new u.RandomDataGenerator(this.seed),this.gameTitle=a(C,"title",""),this.gameURL=a(C,"url","https://phaser.io/"+x.LOG_VERSION),this.gameVersion=a(C,"version",""),this.autoFocus=a(C,"autoFocus",!0),this.stableSort=a(C,"stableSort",-1),this.stableSort===-1&&(this.stableSort=h.browser.es2019?1:0),h.features.stableSort=this.stableSort,this.domCreateContainer=a(C,"dom.createContainer",!1),this.domPointerEvents=a(C,"dom.pointerEvents","none"),this.inputKeyboard=a(C,"input.keyboard",!0),this.inputKeyboardEventTarget=a(C,"input.keyboard.target",window),this.inputKeyboardCapture=a(C,"input.keyboard.capture",[]),this.inputMouse=a(C,"input.mouse",!0),this.inputMouseEventTarget=a(C,"input.mouse.target",null),this.inputMousePreventDefaultDown=a(C,"input.mouse.preventDefaultDown",!0),this.inputMousePreventDefaultUp=a(C,"input.mouse.preventDefaultUp",!0),this.inputMousePreventDefaultMove=a(C,"input.mouse.preventDefaultMove",!0),this.inputMousePreventDefaultWheel=a(C,"input.mouse.preventDefaultWheel",!0),this.inputTouch=a(C,"input.touch",h.input.touch),this.inputTouchEventTarget=a(C,"input.touch.target",null),this.inputTouchCapture=a(C,"input.touch.capture",!0),this.inputActivePointers=a(C,"input.activePointers",1),this.inputSmoothFactor=a(C,"input.smoothFactor",0),this.inputWindowEvents=a(C,"input.windowEvents",!0),this.inputGamepad=a(C,"input.gamepad",!1),this.inputGamepadEventTarget=a(C,"input.gamepad.target",window),this.disableContextMenu=a(C,"disableContextMenu",!1),this.audio=a(C,"audio",{}),this.hideBanner=a(C,"banner",null)===!1,this.hidePhaser=a(C,"banner.hidePhaser",!1),this.bannerTextColor=a(C,"banner.text",M),this.bannerBackgroundColor=a(C,"banner.background",b),this.gameTitle===""&&this.hidePhaser&&(this.hideBanner=!0),this.fps=a(C,"fps",null),this.disablePreFX=a(C,"disablePreFX",!1),this.disablePostFX=a(C,"disablePostFX",!1);var R=a(C,"render",null);this.pipeline=a(R,"pipeline",null,C),this.autoMobilePipeline=a(R,"autoMobilePipeline",!0,C),this.defaultPipeline=a(R,"defaultPipeline",v.MULTI_PIPELINE,C),this.antialias=a(R,"antialias",!0,C),this.antialiasGL=a(R,"antialiasGL",!0,C),this.mipmapFilter=a(R,"mipmapFilter","",C),this.desynchronized=a(R,"desynchronized",!1,C),this.roundPixels=a(R,"roundPixels",!1,C),this.pixelArt=a(R,"pixelArt",this.zoom!==1,C),this.pixelArt&&(this.antialias=!1,this.antialiasGL=!1,this.roundPixels=!0),this.transparent=a(R,"transparent",!1,C),this.clearBeforeRender=a(R,"clearBeforeRender",!0,C),this.preserveDrawingBuffer=a(R,"preserveDrawingBuffer",!1,C),this.premultipliedAlpha=a(R,"premultipliedAlpha",!0,C),this.failIfMajorPerformanceCaveat=a(R,"failIfMajorPerformanceCaveat",!1,C),this.powerPreference=a(R,"powerPreference","default",C),this.batchSize=a(R,"batchSize",4096,C),this.maxTextures=a(R,"maxTextures",-1,C),this.maxLights=a(R,"maxLights",10,C);var A=a(C,"backgroundColor",0);this.backgroundColor=g(A),this.transparent&&(this.backgroundColor=g(0),this.backgroundColor.alpha=0),this.preBoot=a(C,"callbacks.preBoot",c),this.postBoot=a(C,"callbacks.postBoot",c),this.physics=a(C,"physics",{}),this.defaultPhysicsSystem=a(this.physics,"default",!1),this.loaderBaseURL=a(C,"loader.baseURL",""),this.loaderPath=a(C,"loader.path",""),this.loaderMaxParallelDownloads=a(C,"loader.maxParallelDownloads",h.os.android?6:32),this.loaderCrossOrigin=a(C,"loader.crossOrigin",void 0),this.loaderResponseType=a(C,"loader.responseType",""),this.loaderAsync=a(C,"loader.async",!0),this.loaderUser=a(C,"loader.user",""),this.loaderPassword=a(C,"loader.password",""),this.loaderTimeout=a(C,"loader.timeout",0),this.loaderMaxRetries=a(C,"loader.maxRetries",2),this.loaderWithCredentials=a(C,"loader.withCredentials",!1),this.loaderImageLoadType=a(C,"loader.imageLoadType","XHR"),this.loaderLocalScheme=a(C,"loader.localScheme",["file://","capacitor://"]),this.glowFXQuality=a(C,"fx.glow.quality",.1),this.glowFXDistance=a(C,"fx.glow.distance",10),this.installGlobalPlugins=[],this.installScenePlugins=[];var L=a(C,"plugins",null),F=d.DefaultScene;L&&(Array.isArray(L)?this.defaultPlugins=L:f(L)&&(this.installGlobalPlugins=l(L,"global",[]),this.installScenePlugins=l(L,"scene",[]),Array.isArray(L.default)?F=L.default:Array.isArray(L.defaultMerge)&&(F=F.concat(L.defaultMerge)))),this.defaultPlugins=F;var G="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAg";this.defaultImage=a(C,"images.default",G+"AQMAAABJtOi3AAAAA1BMVEX///+nxBvIAAAAAXRSTlMAQObYZgAAABVJREFUeF7NwIEAAAAAgKD9qdeocAMAoAABm3DkcAAAAABJRU5ErkJggg=="),this.missingImage=a(C,"images.missing",G+"CAIAAAD8GO2jAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAJ9JREFUeNq01ssOwyAMRFG46v//Mt1ESmgh+DFmE2GPOBARKb2NVjo+17PXLD8a1+pl5+A+wSgFygymWYHBb0FtsKhJDdZlncG2IzJ4ayoMDv20wTmSMzClEgbWYNTAkQ0Z+OJ+A/eWnAaR9+oxCF4Os0H8htsMUp+pwcgBBiMNnAwF8GqIgL2hAzaGFFgZauDPKABmowZ4GL369/0rwACp2yA/ttmvsQAAAABJRU5ErkJggg=="),this.whiteImage=a(C,"images.white","data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAQAAAAECAIAAAAmkwkpAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAABdJREFUeNpi/P//PwMMMDEgAdwcgAADAJZuAwXJYZOzAAAAAElFTkSuQmCC"),window&&(window.FORCE_WEBGL?this.renderType=x.WEBGL:window.FORCE_CANVAS&&(this.renderType=x.CANVAS))}});n.exports=m},86054:(n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(20623),x=r(27919),d=r(8054),h=r(89357),l=function(a){var f=a.config;if((f.customEnvironment||f.canvas)&&f.renderType===d.AUTO)throw new Error("Must set explicit renderType in custom environment");if(!f.customEnvironment&&!f.canvas&&f.renderType!==d.HEADLESS)if(f.renderType===d.AUTO&&(f.renderType=h.webGL?d.WEBGL:d.CANVAS),f.renderType===d.WEBGL){if(!h.webGL)throw new Error("Cannot create WebGL context, aborting.")}else if(f.renderType===d.CANVAS){if(!h.canvas)throw new Error("Cannot create Canvas context, aborting.")}else throw new Error("Unknown value for renderer type: "+f.renderType);f.antialias||x.disableSmoothing();var c=a.scale.baseSize,u=c.width,v=c.height;if(f.canvas?(a.canvas=f.canvas,a.canvas.width=u,a.canvas.height=v):a.canvas=x.create(a,u,v,f.renderType),f.canvasStyle&&(a.canvas.style=f.canvasStyle),f.antialias||o.setCrisp(a.canvas),f.renderType!==d.HEADLESS){var g,m;g=r(68627),m=r(74797),f.renderType===d.WEBGL?a.renderer=new m(a):(a.renderer=new g(a),a.context=a.renderer.gameContext)}};n.exports=l},96391:(n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(8054),x=function(d){var h=d.config;if(!h.hideBanner){var l="WebGL";h.renderType===o.CANVAS?l="Canvas":h.renderType===o.HEADLESS&&(l="Headless");var a=h.audio,f=d.device.audio,c;if(f.webAudio&&!a.disableWebAudio?c="Web Audio":a.noAudio||!f.webAudio&&!f.audioData?c="No Audio":c="HTML5 Audio",d.device.browser.ie)window.console&&console.log("Phaser v"+o.VERSION+" / https://phaser.io");else{var u="",v=[u];if(Array.isArray(h.bannerBackgroundColor)){var g;h.bannerBackgroundColor.forEach(function(y){u=u.concat("%c "),v.push("background: "+y),g=y}),v[v.length-1]="color: "+h.bannerTextColor+"; background: "+g}else u=u.concat("%c "),v.push("color: "+h.bannerTextColor+"; background: "+h.bannerBackgroundColor);v.push("background: transparent"),h.gameTitle&&(u=u.concat(h.gameTitle),h.gameVersion&&(u=u.concat(" v"+h.gameVersion)),h.hidePhaser||(u=u.concat(" / ")));var m="";h.hidePhaser||(u=u.concat("Phaser v"+o.VERSION+m+" ("+l+" | "+c+")")),u=u.concat(" %c "+h.gameURL),v[0]=u,console.log.apply(console,v)}}};n.exports=x},50127:(n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(40366),x=r(60848),d=r(24047),h=r(27919),l=r(83419),a=r(69547),f=r(83719),c=r(86054),u=r(45893),v=r(96391),g=r(82264),m=r(57264),y=r(50792),C=r(8443),b=r(7003),M=r(37277),w=r(77332),R=r(76531),A=r(60903),L=r(69442),F=r(17130),G=r(65898),I=r(51085),B=r(14747),k=new l({initialize:function(H){this.config=new a(H),this.renderer=null,this.domContainer=null,this.canvas=null,this.context=null,this.isBooted=!1,this.isRunning=!1,this.events=new y,this.anims=new x(this),this.textures=new F(this),this.cache=new d(this),this.registry=new u(this,new y),this.input=new b(this,this.config),this.scene=new A(this,this.config.sceneConfig),this.device=g,this.scale=new R(this,this.config),this.sound=null,this.sound=B.create(this),this.loop=new G(this,this.config.fps),this.plugins=new w(this,this.config),this.pendingDestroy=!1,this.removeCanvas=!1,this.noReturn=!1,this.hasFocus=!1,this.isPaused=!1,m(this.boot.bind(this))},boot:function(){if(!M.hasCore("EventEmitter")){console.warn("Aborting. Core Plugins missing.");return}this.isBooted=!0,this.config.preBoot(this),this.scale.preBoot(),c(this),f(this),v(this),o(this.canvas,this.config.parent),this.textures.once(L.READY,this.texturesReady,this),this.events.emit(C.BOOT)},texturesReady:function(){this.events.emit(C.READY),this.start()},start:function(){this.isRunning=!0,this.config.postBoot(this),this.renderer?this.loop.start(this.step.bind(this)):this.loop.start(this.headlessStep.bind(this)),I(this);var U=this.events;U.on(C.HIDDEN,this.onHidden,this),U.on(C.VISIBLE,this.onVisible,this),U.on(C.BLUR,this.onBlur,this),U.on(C.FOCUS,this.onFocus,this)},step:function(U,H){if(this.pendingDestroy)return this.runDestroy();if(!this.isPaused){var X=this.events;X.emit(C.PRE_STEP,U,H),X.emit(C.STEP,U,H),this.scene.update(U,H),X.emit(C.POST_STEP,U,H);var j=this.renderer;j.preRender(),X.emit(C.PRE_RENDER,j,U,H),this.scene.render(j),j.postRender(),X.emit(C.POST_RENDER,j,U,H)}},headlessStep:function(U,H){if(this.pendingDestroy)return this.runDestroy();if(!this.isPaused){var X=this.events;X.emit(C.PRE_STEP,U,H),X.emit(C.STEP,U,H),this.scene.update(U,H),X.emit(C.POST_STEP,U,H),this.scene.isProcessing=!1,X.emit(C.PRE_RENDER,null,U,H),X.emit(C.POST_RENDER,null,U,H)}},onHidden:function(){this.loop.pause(),this.events.emit(C.PAUSE)},pause:function(){var U=this.isPaused;this.isPaused=!0,U||this.events.emit(C.PAUSE)},onVisible:function(){this.loop.resume(),this.events.emit(C.RESUME,this.loop.pauseDuration)},resume:function(){var U=this.isPaused;this.isPaused=!1,U&&this.events.emit(C.RESUME,0)},onBlur:function(){this.hasFocus=!1,this.loop.blur()},onFocus:function(){this.hasFocus=!0,this.loop.focus()},getFrame:function(){return this.loop.frame},getTime:function(){return this.loop.now},destroy:function(U,H){H===void 0&&(H=!1),this.pendingDestroy=!0,this.removeCanvas=U,this.noReturn=H},runDestroy:function(){this.scene.destroy(),this.events.emit(C.DESTROY),this.events.removeAllListeners(),this.renderer&&this.renderer.destroy(),this.removeCanvas&&this.canvas&&(h.remove(this.canvas),this.canvas.parentNode&&this.canvas.parentNode.removeChild(this.canvas)),this.domContainer&&this.domContainer.parentNode&&this.domContainer.parentNode.removeChild(this.domContainer),this.loop.destroy(),this.pendingDestroy=!1}});n.exports=k},65898:(n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(83419),x=r(35154),d=r(29747),h=r(43092),l=new o({initialize:function(f,c){this.game=f,this.raf=new h,this.started=!1,this.running=!1,this.minFps=x(c,"min",5),this.targetFps=x(c,"target",60),this.fpsLimit=x(c,"limit",0),this.hasFpsLimit=this.fpsLimit>0,this._limitRate=this.hasFpsLimit?1e3/this.fpsLimit:0,this._min=1e3/this.minFps,this._target=1e3/this.targetFps,this.actualFps=this.targetFps,this.nextFpsUpdate=0,this.framesThisSecond=0,this.callback=d,this.forceSetTimeOut=x(c,"forceSetTimeOut",!1),this.time=0,this.startTime=0,this.lastTime=0,this.frame=0,this.inFocus=!0,this.pauseDuration=0,this._pauseTime=0,this._coolDown=0,this.delta=0,this.deltaIndex=0,this.deltaHistory=[],this.deltaSmoothingMax=x(c,"deltaHistory",10),this.panicMax=x(c,"panicMax",120),this.rawDelta=0,this.now=0,this.smoothStep=x(c,"smoothStep",!0)},blur:function(){this.inFocus=!1},focus:function(){this.inFocus=!0,this.resetDelta()},pause:function(){this._pauseTime=window.performance.now()},resume:function(){this.resetDelta(),this.pauseDuration=this.time-this._pauseTime,this.startTime+=this.pauseDuration},resetDelta:function(){var a=window.performance.now();this.time=a,this.lastTime=a,this.nextFpsUpdate=a+1e3,this.framesThisSecond=0;for(var f=0;f<this.deltaSmoothingMax;f++)this.deltaHistory[f]=Math.min(this._target,this.deltaHistory[f]);this.delta=0,this.deltaIndex=0,this._coolDown=this.panicMax},start:function(a){if(this.started)return this;this.started=!0,this.running=!0;for(var f=0;f<this.deltaSmoothingMax;f++)this.deltaHistory[f]=this._target;this.resetDelta(),this.startTime=window.performance.now(),this.callback=a;var c=this.hasFpsLimit?this.stepLimitFPS.bind(this):this.step.bind(this);this.raf.start(c,this.forceSetTimeOut,this._target)},smoothDelta:function(a){var f=this.deltaIndex,c=this.deltaHistory,u=this.deltaSmoothingMax;(this._coolDown>0||!this.inFocus)&&(this._coolDown--,a=Math.min(a,this._target)),a>this._min&&(a=c[f],a=Math.min(a,this._min)),c[f]=a,this.deltaIndex++,this.deltaIndex>=u&&(this.deltaIndex=0);for(var v=0,g=0;g<u;g++)v+=c[g];return v/=u,v},updateFPS:function(a){this.actualFps=.25*this.framesThisSecond+.75*this.actualFps,this.nextFpsUpdate=a+1e3,this.framesThisSecond=0},stepLimitFPS:function(a){this.now=a;var f=Math.max(0,a-this.lastTime);this.rawDelta=f,this.time+=this.rawDelta,this.smoothStep&&(f=this.smoothDelta(f)),this.delta+=f,a>=this.nextFpsUpdate&&this.updateFPS(a),this.framesThisSecond++,this.delta>=this._limitRate&&(this.callback(a,this.delta),this.delta=0),this.lastTime=a,this.frame++},step:function(a){this.now=a;var f=Math.max(0,a-this.lastTime);this.rawDelta=f,this.time+=this.rawDelta,this.smoothStep&&(f=this.smoothDelta(f)),this.delta=f,a>=this.nextFpsUpdate&&this.updateFPS(a),this.framesThisSecond++,this.callback(a,f),this.lastTime=a,this.frame++},tick:function(){var a=window.performance.now();this.hasFpsLimit?this.stepLimitFPS(a):this.step(a)},sleep:function(){this.running&&(this.raf.stop(),this.running=!1)},wake:function(a){a===void 0&&(a=!1);var f=window.performance.now();if(!this.running){a&&(this.startTime+=-this.lastTime+(this.lastTime+f));var c=this.hasFpsLimit?this.stepLimitFPS.bind(this):this.step.bind(this);this.raf.start(c,this.forceSetTimeOut,this._target),this.running=!0,this.nextFpsUpdate=f+1e3,this.framesThisSecond=0,this.fpsLimitTriggered=!1,this.tick()}},getDuration:function(){return Math.round(this.lastTime-this.startTime)/1e3},getDurationMS:function(){return Math.round(this.lastTime-this.startTime)},stop:function(){return this.running=!1,this.started=!1,this.raf.stop(),this},destroy:function(){this.stop(),this.raf.destroy(),this.raf=null,this.game=null,this.callback=null}});n.exports=l},51085:(n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(8443),x=function(d){var h,l=d.events;if(document.hidden!==void 0)h="visibilitychange";else{var a=["webkit","moz","ms"];a.forEach(function(c){document[c+"Hidden"]!==void 0&&(document.hidden=function(){return document[c+"Hidden"]},h=c+"visibilitychange")})}var f=function(c){document.hidden||c.type==="pause"?l.emit(o.HIDDEN):l.emit(o.VISIBLE)};h&&document.addEventListener(h,f,!1),window.onblur=function(){l.emit(o.BLUR)},window.onfocus=function(){l.emit(o.FOCUS)},window.focus&&d.config.autoFocus&&window.focus()};n.exports=x},97217:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="blur"},47548:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="boot"},19814:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="contextlost"},68446:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="destroy"},41700:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="focus"},25432:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="hidden"},65942:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="pause"},59211:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="postrender"},47789:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="poststep"},39066:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="prerender"},460:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="prestep"},16175:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="ready"},42331:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="resume"},11966:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="step"},32969:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="systemready"},94830:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="visible"},8443:(n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports={BLUR:r(97217),BOOT:r(47548),CONTEXT_LOST:r(19814),DESTROY:r(68446),FOCUS:r(41700),HIDDEN:r(25432),PAUSE:r(65942),POST_RENDER:r(59211),POST_STEP:r(47789),PRE_RENDER:r(39066),PRE_STEP:r(460),READY:r(16175),RESUME:r(42331),STEP:r(11966),SYSTEM_READY:r(32969),VISIBLE:r(94830)}},42857:(n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports={Config:r(69547),CreateRenderer:r(86054),DebugHeader:r(96391),Events:r(8443),TimeStep:r(65898),VisibilityHandler:r(51085)}},99584:(n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(5290),x=r(27919),d=r(35154),h=function(l){var a=d(l,"data",[]),f=d(l,"canvas",null),c=d(l,"palette",o),u=d(l,"pixelWidth",1),v=d(l,"pixelHeight",u),g=d(l,"resizeCanvas",!0),m=d(l,"clearCanvas",!0),y=d(l,"preRender",null),C=d(l,"postRender",null),b=Math.floor(Math.abs(a[0].length*u)),M=Math.floor(Math.abs(a.length*v));f||(f=x.create2D(this,b,M),g=!1,m=!1),g&&(f.width=b,f.height=M);var w=f.getContext("2d",{willReadFrequently:!0});m&&w.clearRect(0,0,b,M),y&&y(f,w);for(var R=0;R<a.length;R++)for(var A=a[R],L=0;L<A.length;L++){var F=A[L];F!=="."&&F!==" "&&(w.fillStyle=c[F],w.fillRect(L*u,R*v,u,v))}return C&&C(f,w),f};n.exports=h},15822:(n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports={GenerateTexture:r(99584),Palettes:r(57763)}},5290:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports={0:"#000",1:"#9D9D9D",2:"#FFF",3:"#BE2633",4:"#E06F8B",5:"#493C2B",6:"#A46422",7:"#EB8931",8:"#F7E26B",9:"#2F484E",A:"#44891A",B:"#A3CE27",C:"#1B2632",D:"#005784",E:"#31A2F2",F:"#B2DCEF"}},23816:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports={0:"#000",1:"#fff",2:"#8b4131",3:"#7bbdc5",4:"#8b41ac",5:"#6aac41",6:"#3931a4",7:"#d5de73",8:"#945a20",9:"#5a4100",A:"#bd736a",B:"#525252",C:"#838383",D:"#acee8b",E:"#7b73de",F:"#acacac"}},9866:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports={0:"#000",1:"#2234d1",2:"#0c7e45",3:"#44aacc",4:"#8a3622",5:"#5c2e78",6:"#aa5c3d",7:"#b5b5b5",8:"#5e606e",9:"#4c81fb",A:"#6cd947",B:"#7be2f9",C:"#eb8a60",D:"#e23d69",E:"#ffd93f",F:"#fff"}},77552:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports={0:"#000",1:"#191028",2:"#46af45",3:"#a1d685",4:"#453e78",5:"#7664fe",6:"#833129",7:"#9ec2e8",8:"#dc534b",9:"#e18d79",A:"#d6b97b",B:"#e9d8a1",C:"#216c4b",D:"#d365c8",E:"#afaab9",F:"#f5f4eb"}},92259:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports={0:"#000",1:"#191028",2:"#46af45",3:"#a1d685",4:"#453e78",5:"#7664fe",6:"#833129",7:"#9ec2e8",8:"#dc534b",9:"#e18d79",A:"#d6b97b",B:"#e9d8a1",C:"#216c4b",D:"#d365c8",E:"#afaab9",F:"#fff"}},57763:(n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports={ARNE16:r(5290),C64:r(23816),CGA:r(9866),JMP:r(77552),MSX:r(92259)}},46728:(n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(83419),x=r(36316),d=r(80021),h=r(26099),l=new o({Extends:d,initialize:function(f,c,u,v){d.call(this,"CubicBezierCurve"),Array.isArray(f)&&(v=new h(f[6],f[7]),u=new h(f[4],f[5]),c=new h(f[2],f[3]),f=new h(f[0],f[1])),this.p0=f,this.p1=c,this.p2=u,this.p3=v},getStartPoint:function(a){return a===void 0&&(a=new h),a.copy(this.p0)},getResolution:function(a){return a},getPoint:function(a,f){f===void 0&&(f=new h);var c=this.p0,u=this.p1,v=this.p2,g=this.p3;return f.set(x(a,c.x,u.x,v.x,g.x),x(a,c.y,u.y,v.y,g.y))},draw:function(a,f){f===void 0&&(f=32);var c=this.getPoints(f);a.beginPath(),a.moveTo(this.p0.x,this.p0.y);for(var u=1;u<c.length;u++)a.lineTo(c[u].x,c[u].y);return a.strokePath(),a},toJSON:function(){return{type:this.type,points:[this.p0.x,this.p0.y,this.p1.x,this.p1.y,this.p2.x,this.p2.y,this.p3.x,this.p3.y]}}});l.fromJSON=function(a){var f=a.points,c=new h(f[0],f[1]),u=new h(f[2],f[3]),v=new h(f[4],f[5]),g=new h(f[6],f[7]);return new l(c,u,v,g)},n.exports=l},80021:(n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(83419),x=r(19217),d=r(87841),h=r(26099),l=new o({initialize:function(f){this.type=f,this.defaultDivisions=5,this.arcLengthDivisions=100,this.cacheArcLengths=[],this.needsUpdate=!0,this.active=!0,this._tmpVec2A=new h,this._tmpVec2B=new h},draw:function(a,f){return f===void 0&&(f=32),a.strokePoints(this.getPoints(f))},getBounds:function(a,f){a||(a=new d),f===void 0&&(f=16);var c=this.getLength();f>c&&(f=c/2);var u=Math.max(1,Math.round(c/f));return x(this.getSpacedPoints(u),a)},getDistancePoints:function(a){var f=this.getLength(),c=Math.max(1,f/a);return this.getSpacedPoints(c)},getEndPoint:function(a){return a===void 0&&(a=new h),this.getPointAt(1,a)},getLength:function(){var a=this.getLengths();return a[a.length-1]},getLengths:function(a){if(a===void 0&&(a=this.arcLengthDivisions),this.cacheArcLengths.length===a+1&&!this.needsUpdate)return this.cacheArcLengths;this.needsUpdate=!1;var f=[],c,u=this.getPoint(0,this._tmpVec2A),v=0;f.push(0);for(var g=1;g<=a;g++)c=this.getPoint(g/a,this._tmpVec2B),v+=c.distance(u),f.push(v),u.copy(c);return this.cacheArcLengths=f,f},getPointAt:function(a,f){var c=this.getUtoTmapping(a);return this.getPoint(c,f)},getPoints:function(a,f,c){c===void 0&&(c=[]),a||(f?a=this.getLength()/f:a=this.defaultDivisions);for(var u=0;u<=a;u++)c.push(this.getPoint(u/a));return c},getRandomPoint:function(a){return a===void 0&&(a=new h),this.getPoint(Math.random(),a)},getSpacedPoints:function(a,f,c){c===void 0&&(c=[]),a||(f?a=this.getLength()/f:a=this.defaultDivisions);for(var u=0;u<=a;u++){var v=this.getUtoTmapping(u/a,null,a);c.push(this.getPoint(v))}return c},getStartPoint:function(a){return a===void 0&&(a=new h),this.getPointAt(0,a)},getTangent:function(a,f){f===void 0&&(f=new h);var c=1e-4,u=a-c,v=a+c;return u<0&&(u=0),v>1&&(v=1),this.getPoint(u,this._tmpVec2A),this.getPoint(v,f),f.subtract(this._tmpVec2A).normalize()},getTangentAt:function(a,f){var c=this.getUtoTmapping(a);return this.getTangent(c,f)},getTFromDistance:function(a,f){return a<=0?0:this.getUtoTmapping(0,a,f)},getUtoTmapping:function(a,f,c){var u=this.getLengths(c),v=0,g=u.length,m;f?m=Math.min(f,u[g-1]):m=a*u[g-1];for(var y=0,C=g-1,b;y<=C;)if(v=Math.floor(y+(C-y)/2),b=u[v]-m,b<0)y=v+1;else if(b>0)C=v-1;else{C=v;break}if(v=C,u[v]===m)return v/(g-1);var M=u[v],w=u[v+1],R=w-M,A=(m-M)/R;return(v+A)/(g-1)},updateArcLengths:function(){this.needsUpdate=!0,this.getLengths()}});n.exports=l},73825:(n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(83419),x=r(80021),d=r(39506),h=r(35154),l=r(43396),a=r(26099),f=new o({Extends:x,initialize:function(u,v,g,m,y,C,b,M){if(typeof u=="object"){var w=u;u=h(w,"x",0),v=h(w,"y",0),g=h(w,"xRadius",0),m=h(w,"yRadius",g),y=h(w,"startAngle",0),C=h(w,"endAngle",360),b=h(w,"clockwise",!1),M=h(w,"rotation",0)}else m===void 0&&(m=g),y===void 0&&(y=0),C===void 0&&(C=360),b===void 0&&(b=!1),M===void 0&&(M=0);x.call(this,"EllipseCurve"),this.p0=new a(u,v),this._xRadius=g,this._yRadius=m,this._startAngle=d(y),this._endAngle=d(C),this._clockwise=b,this._rotation=d(M)},getStartPoint:function(c){return c===void 0&&(c=new a),this.getPoint(0,c)},getResolution:function(c){return c*2},getPoint:function(c,u){u===void 0&&(u=new a);for(var v=Math.PI*2,g=this._endAngle-this._startAngle,m=Math.abs(g)<Number.EPSILON;g<0;)g+=v;for(;g>v;)g-=v;g<Number.EPSILON&&(m?g=0:g=v),this._clockwise&&!m&&(g===v?g=-v:g=g-v);var y=this._startAngle+c*g,C=this.p0.x+this._xRadius*Math.cos(y),b=this.p0.y+this._yRadius*Math.sin(y);if(this._rotation!==0){var M=Math.cos(this._rotation),w=Math.sin(this._rotation),R=C-this.p0.x,A=b-this.p0.y;C=R*M-A*w+this.p0.x,b=R*w+A*M+this.p0.y}return u.set(C,b)},setXRadius:function(c){return this.xRadius=c,this},setYRadius:function(c){return this.yRadius=c,this},setWidth:function(c){return this.xRadius=c/2,this},setHeight:function(c){return this.yRadius=c/2,this},setStartAngle:function(c){return this.startAngle=c,this},setEndAngle:function(c){return this.endAngle=c,this},setClockwise:function(c){return this.clockwise=c,this},setRotation:function(c){return this.rotation=c,this},x:{get:function(){return this.p0.x},set:function(c){this.p0.x=c}},y:{get:function(){return this.p0.y},set:function(c){this.p0.y=c}},xRadius:{get:function(){return this._xRadius},set:function(c){this._xRadius=c}},yRadius:{get:function(){return this._yRadius},set:function(c){this._yRadius=c}},startAngle:{get:function(){return l(this._startAngle)},set:function(c){this._startAngle=d(c)}},endAngle:{get:function(){return l(this._endAngle)},set:function(c){this._endAngle=d(c)}},clockwise:{get:function(){return this._clockwise},set:function(c){this._clockwise=c}},angle:{get:function(){return l(this._rotation)},set:function(c){this._rotation=d(c)}},rotation:{get:function(){return this._rotation},set:function(c){this._rotation=c}},toJSON:function(){return{type:this.type,x:this.p0.x,y:this.p0.y,xRadius:this._xRadius,yRadius:this._yRadius,startAngle:l(this._startAngle),endAngle:l(this._endAngle),clockwise:this._clockwise,rotation:l(this._rotation)}}});f.fromJSON=function(c){return new f(c)},n.exports=f},33951:(n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(83419),x=r(80021),d=r(19217),h=r(87841),l=r(26099),a=new o({Extends:x,initialize:function(c,u){x.call(this,"LineCurve"),Array.isArray(c)&&(u=new l(c[2],c[3]),c=new l(c[0],c[1])),this.p0=c,this.p1=u,this.arcLengthDivisions=1},getBounds:function(f){return f===void 0&&(f=new h),d([this.p0,this.p1],f)},getStartPoint:function(f){return f===void 0&&(f=new l),f.copy(this.p0)},getResolution:function(f){return f===void 0&&(f=1),f},getPoint:function(f,c){return c===void 0&&(c=new l),f===1?c.copy(this.p1):(c.copy(this.p1).subtract(this.p0).scale(f).add(this.p0),c)},getPointAt:function(f,c){return this.getPoint(f,c)},getTangent:function(f,c){return c===void 0&&(c=new l),c.copy(this.p1).subtract(this.p0).normalize(),c},getUtoTmapping:function(f,c,u){var v;if(c){var g=this.getLengths(u),m=g[g.length-1],y=Math.min(c,m);v=y/m}else v=f;return v},draw:function(f){return f.lineBetween(this.p0.x,this.p0.y,this.p1.x,this.p1.y),f},toJSON:function(){return{type:this.type,points:[this.p0.x,this.p0.y,this.p1.x,this.p1.y]}}});a.fromJSON=function(f){var c=f.points,u=new l(c[0],c[1]),v=new l(c[2],c[3]);return new a(u,v)},n.exports=a},14744:(n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(83419),x=r(80021),d=r(32112),h=r(26099),l=new o({Extends:x,initialize:function(f,c,u){x.call(this,"QuadraticBezierCurve"),Array.isArray(f)&&(u=new h(f[4],f[5]),c=new h(f[2],f[3]),f=new h(f[0],f[1])),this.p0=f,this.p1=c,this.p2=u},getStartPoint:function(a){return a===void 0&&(a=new h),a.copy(this.p0)},getResolution:function(a){return a},getPoint:function(a,f){f===void 0&&(f=new h);var c=this.p0,u=this.p1,v=this.p2;return f.set(d(a,c.x,u.x,v.x),d(a,c.y,u.y,v.y))},draw:function(a,f){f===void 0&&(f=32);var c=this.getPoints(f);a.beginPath(),a.moveTo(this.p0.x,this.p0.y);for(var u=1;u<c.length;u++)a.lineTo(c[u].x,c[u].y);return a.strokePath(),a},toJSON:function(){return{type:this.type,points:[this.p0.x,this.p0.y,this.p1.x,this.p1.y,this.p2.x,this.p2.y]}}});l.fromJSON=function(a){var f=a.points,c=new h(f[0],f[1]),u=new h(f[2],f[3]),v=new h(f[4],f[5]);return new l(c,u,v)},n.exports=l},42534:(n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(87842),x=r(83419),d=r(80021),h=r(26099),l=new x({Extends:d,initialize:function(f){f===void 0&&(f=[]),d.call(this,"SplineCurve"),this.points=[],this.addPoints(f)},addPoints:function(a){for(var f=0;f<a.length;f++){var c=new h;typeof a[f]=="number"?(c.x=a[f],c.y=a[f+1],f++):Array.isArray(a[f])?(c.x=a[f][0],c.y=a[f][1]):(c.x=a[f].x,c.y=a[f].y),this.points.push(c)}return this},addPoint:function(a,f){var c=new h(a,f);return this.points.push(c),c},getStartPoint:function(a){return a===void 0&&(a=new h),a.copy(this.points[0])},getResolution:function(a){return a*this.points.length},getPoint:function(a,f){f===void 0&&(f=new h);var c=this.points,u=(c.length-1)*a,v=Math.floor(u),g=u-v,m=c[v===0?v:v-1],y=c[v],C=c[v>c.length-2?c.length-1:v+1],b=c[v>c.length-3?c.length-1:v+2];return f.set(o(g,m.x,y.x,C.x,b.x),o(g,m.y,y.y,C.y,b.y))},toJSON:function(){for(var a=[],f=0;f<this.points.length;f++)a.push(this.points[f].x),a.push(this.points[f].y);return{type:this.type,points:a}}});l.fromJSON=function(a){return new l(a.points)},n.exports=l},25410:(n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports={Path:r(46669),MoveTo:r(68618),CubicBezier:r(46728),Curve:r(80021),Ellipse:r(73825),Line:r(33951),QuadraticBezier:r(14744),Spline:r(42534)}},68618:(n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(83419),x=r(26099),d=new o({initialize:function(l,a){this.active=!1,this.p0=new x(l,a)},getPoint:function(h,l){return l===void 0&&(l=new x),l.copy(this.p0)},getPointAt:function(h,l){return this.getPoint(h,l)},getResolution:function(){return 1},getLength:function(){return 0},toJSON:function(){return{type:"MoveTo",points:[this.p0.x,this.p0.y]}}});n.exports=d},46669:(n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(83419),x=r(46728),d=r(73825),h=r(39429),l=r(33951),a=r(68618),f=r(14744),c=r(87841),u=r(42534),v=r(26099),g=r(36383),m=new o({initialize:function(C,b){C===void 0&&(C=0),b===void 0&&(b=0),this.name="",this.defaultDivisions=12,this.curves=[],this.cacheLengths=[],this.autoClose=!1,this.startPoint=new v,this._tmpVec2A=new v,this._tmpVec2B=new v,typeof C=="object"?this.fromJSON(C):this.startPoint.set(C,b)},add:function(y){return this.curves.push(y),this},circleTo:function(y,C,b){return C===void 0&&(C=!1),this.ellipseTo(y,y,0,360,C,b)},closePath:function(){var y=this.curves[0].getPoint(0),C=this.curves[this.curves.length-1].getPoint(1);return y.equals(C)||this.curves.push(new l(C,y)),this},cubicBezierTo:function(y,C,b,M,w,R){var A=this.getEndPoint(),L,F,G;return y instanceof v?(L=y,F=C,G=b):(L=new v(b,M),F=new v(w,R),G=new v(y,C)),this.add(new x(A,L,F,G))},quadraticBezierTo:function(y,C,b,M){var w=this.getEndPoint(),R,A;return y instanceof v?(R=y,A=C):(R=new v(b,M),A=new v(y,C)),this.add(new f(w,R,A))},draw:function(y,C){for(var b=0;b<this.curves.length;b++){var M=this.curves[b];M.active&&M.draw(y,C)}return y},ellipseTo:function(y,C,b,M,w,R){var A=new d(0,0,y,C,b,M,w,R),L=this.getEndPoint(this._tmpVec2A),F=A.getStartPoint(this._tmpVec2B);return L.subtract(F),A.x=L.x,A.y=L.y,this.add(A)},fromJSON:function(y){this.curves=[],this.cacheLengths=[],this.startPoint.set(y.x,y.y),this.autoClose=y.autoClose;for(var C=0;C<y.curves.length;C++){var b=y.curves[C];switch(b.type){case"LineCurve":this.add(l.fromJSON(b));break;case"EllipseCurve":this.add(d.fromJSON(b));break;case"SplineCurve":this.add(u.fromJSON(b));break;case"CubicBezierCurve":this.add(x.fromJSON(b));break;case"QuadraticBezierCurve":this.add(f.fromJSON(b));break}}return this},getBounds:function(y,C){y===void 0&&(y=new c),C===void 0&&(C=16),y.x=Number.MAX_VALUE,y.y=Number.MAX_VALUE;for(var b=new c,M=g.MIN_SAFE_INTEGER,w=g.MIN_SAFE_INTEGER,R=0;R<this.curves.length;R++){var A=this.curves[R];A.active&&(A.getBounds(b,C),y.x=Math.min(y.x,b.x),y.y=Math.min(y.y,b.y),M=Math.max(M,b.right),w=Math.max(w,b.bottom))}return y.right=M,y.bottom=w,y},getCurveLengths:function(){if(this.cacheLengths.length===this.curves.length)return this.cacheLengths;for(var y=[],C=0,b=0;b<this.curves.length;b++)C+=this.curves[b].getLength(),y.push(C);return this.cacheLengths=y,y},getCurveAt:function(y){for(var C=y*this.getLength(),b=this.getCurveLengths(),M=0;M<b.length;){if(b[M]>=C)return this.curves[M];M++}return null},getEndPoint:function(y){return y===void 0&&(y=new v),this.curves.length>0?this.curves[this.curves.length-1].getPoint(1,y):y.copy(this.startPoint),y},getLength:function(){var y=this.getCurveLengths();return y[y.length-1]},getPoint:function(y,C){C===void 0&&(C=new v);for(var b=y*this.getLength(),M=this.getCurveLengths(),w=0;w<M.length;){if(M[w]>=b){var R=M[w]-b,A=this.curves[w],L=A.getLength(),F=L===0?0:1-R/L;return A.getPointAt(F,C)}w++}return null},getPoints:function(y,C){!y&&!C&&(y=this.defaultDivisions);for(var b=[],M,w=0;w<this.curves.length;w++){var R=this.curves[w];if(R.active)for(var A=R.getResolution(y),L=R.getPoints(A,C),F=0;F<L.length;F++){var G=L[F];M&&M.equals(G)||(b.push(G),M=G)}}return this.autoClose&&b.length>1&&!b[b.length-1].equals(b[0])&&b.push(b[0]),b},getRandomPoint:function(y){return y===void 0&&(y=new v),this.getPoint(Math.random(),y)},getSpacedPoints:function(y){y===void 0&&(y=40);for(var C=[],b=0;b<=y;b++)C.push(this.getPoint(b/y));return this.autoClose&&C.push(C[0]),C},getStartPoint:function(y){return y===void 0&&(y=new v),y.copy(this.startPoint)},getTangent:function(y,C){C===void 0&&(C=new v);for(var b=y*this.getLength(),M=this.getCurveLengths(),w=0;w<M.length;){if(M[w]>=b){var R=M[w]-b,A=this.curves[w],L=A.getLength(),F=L===0?0:1-R/L;return A.getTangentAt(F,C)}w++}return null},lineTo:function(y,C){y instanceof v?this._tmpVec2B.copy(y):typeof y=="object"?this._tmpVec2B.setFromObject(y):this._tmpVec2B.set(y,C);var b=this.getEndPoint(this._tmpVec2A);return this.add(new l([b.x,b.y,this._tmpVec2B.x,this._tmpVec2B.y]))},splineTo:function(y){return y.unshift(this.getEndPoint()),this.add(new u(y))},moveTo:function(y,C){return y instanceof v?this.add(new a(y.x,y.y)):this.add(new a(y,C))},toJSON:function(){for(var y=[],C=0;C<this.curves.length;C++)y.push(this.curves[C].toJSON());return{type:"Path",x:this.startPoint.x,y:this.startPoint.y,autoClose:this.autoClose,curves:y}},updateArcLengths:function(){this.cacheLengths=[],this.getCurveLengths()},destroy:function(){this.curves.length=0,this.cacheLengths.length=0,this.startPoint=void 0}});h.register("path",function(y,C){return new m(y,C)}),n.exports=m},45893:(n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(83419),x=r(24882),d=new o({initialize:function(l,a){this.parent=l,this.events=a,a||(this.events=l.events?l.events:l),this.list={},this.values={},this._frozen=!1,!l.hasOwnProperty("sys")&&this.events&&this.events.once(x.DESTROY,this.destroy,this)},get:function(h){var l=this.list;if(Array.isArray(h)){for(var a=[],f=0;f<h.length;f++)a.push(l[h[f]]);return a}else return l[h]},getAll:function(){var h={};for(var l in this.list)this.list.hasOwnProperty(l)&&(h[l]=this.list[l]);return h},query:function(h){var l={};for(var a in this.list)this.list.hasOwnProperty(a)&&a.match(h)&&(l[a]=this.list[a]);return l},set:function(h,l){if(this._frozen)return this;if(typeof h=="string")return this.setValue(h,l);for(var a in h)this.setValue(a,h[a]);return this},inc:function(h,l){if(this._frozen)return this;l===void 0&&(l=1);var a=this.get(h);return a===void 0&&(a=0),this.set(h,a+l),this},toggle:function(h){return this._frozen?this:(this.set(h,!this.get(h)),this)},setValue:function(h,l){if(this._frozen)return this;if(this.has(h))this.values[h]=l;else{var a=this,f=this.list,c=this.events,u=this.parent;Object.defineProperty(this.values,h,{enumerable:!0,configurable:!0,get:function(){return f[h]},set:function(v){if(!a._frozen){var g=f[h];f[h]=v,c.emit(x.CHANGE_DATA,u,h,v,g),c.emit(x.CHANGE_DATA_KEY+h,u,v,g)}}}),f[h]=l,c.emit(x.SET_DATA,u,h,l)}return this},each:function(h,l){for(var a=[this.parent,null,void 0],f=1;f<arguments.length;f++)a.push(arguments[f]);for(var c in this.list)a[1]=c,a[2]=this.list[c],h.apply(l,a);return this},merge:function(h,l){l===void 0&&(l=!0);for(var a in h)h.hasOwnProperty(a)&&(l||!l&&!this.has(a))&&this.setValue(a,h[a]);return this},remove:function(h){if(this._frozen)return this;if(Array.isArray(h))for(var l=0;l<h.length;l++)this.removeValue(h[l]);else return this.removeValue(h);return this},removeValue:function(h){if(this.has(h)){var l=this.list[h];delete this.list[h],delete this.values[h],this.events.emit(x.REMOVE_DATA,this.parent,h,l)}return this},pop:function(h){var l=void 0;return!this._frozen&&this.has(h)&&(l=this.list[h],delete this.list[h],delete this.values[h],this.events.emit(x.REMOVE_DATA,this.parent,h,l)),l},has:function(h){return this.list.hasOwnProperty(h)},setFreeze:function(h){return this._frozen=h,this},reset:function(){for(var h in this.list)delete this.list[h],delete this.values[h];return this._frozen=!1,this},destroy:function(){this.reset(),this.events.off(x.CHANGE_DATA),this.events.off(x.SET_DATA),this.events.off(x.REMOVE_DATA),this.parent=null},freeze:{get:function(){return this._frozen},set:function(h){this._frozen=!!h}},count:{get:function(){var h=0;for(var l in this.list)this.list[l]!==void 0&&h++;return h}}});n.exports=d},63646:(n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(83419),x=r(45893),d=r(37277),h=r(44594),l=new o({Extends:x,initialize:function(f){x.call(this,f,f.sys.events),this.scene=f,this.systems=f.sys,f.sys.events.once(h.BOOT,this.boot,this),f.sys.events.on(h.START,this.start,this)},boot:function(){this.events=this.systems.events,this.events.once(h.DESTROY,this.destroy,this)},start:function(){this.events.once(h.SHUTDOWN,this.shutdown,this)},shutdown:function(){this.systems.events.off(h.SHUTDOWN,this.shutdown,this)},destroy:function(){x.prototype.destroy.call(this),this.events.off(h.START,this.start,this),this.scene=null,this.systems=null}});d.register("DataManagerPlugin",l,"data"),n.exports=l},10700:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="changedata"},93608:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="changedata-"},60883:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="destroy"},69780:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="removedata"},22166:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="setdata"},24882:(n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports={CHANGE_DATA:r(10700),CHANGE_DATA_KEY:r(93608),DESTROY:r(60883),REMOVE_DATA:r(69780),SET_DATA:r(22166)}},44965:(n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports={DataManager:r(45893),DataManagerPlugin:r(63646),Events:r(24882)}},7098:(n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(84148),x={flac:!1,aac:!1,audioData:!1,dolby:!1,m4a:!1,mp3:!1,ogg:!1,opus:!1,wav:!1,webAudio:!1,webm:!1};function d(){if(typeof importScripts=="function")return x;x.audioData=!!window.Audio,x.webAudio=!!(window.AudioContext||window.webkitAudioContext);var h=document.createElement("audio"),l=!!h.canPlayType;try{if(l){var a=function(u,v){var g=h.canPlayType("audio/"+u).replace(/^no$/,"");return v?!!(g||h.canPlayType("audio/"+v).replace(/^no$/,"")):!!g};if(x.ogg=a('ogg; codecs="vorbis"'),x.opus=a('ogg; codecs="opus"',"opus"),x.mp3=a("mpeg"),x.wav=a("wav"),x.m4a=a("x-m4a"),x.aac=a("aac"),x.flac=a("flac","x-flac"),x.webm=a('webm; codecs="vorbis"'),h.canPlayType('audio/mp4; codecs="ec-3"')!==""){if(o.edge)x.dolby=!0;else if(o.safari&&o.safariVersion>=9&&/Mac OS X (\d+)_(\d+)/.test(navigator.userAgent)){var f=parseInt(RegExp.$1,10),c=parseInt(RegExp.$2,10);(f===10&&c>=11||f>10)&&(x.dolby=!0)}}}}catch{}return x}n.exports=d()},84148:(n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(25892),x={chrome:!1,chromeVersion:0,edge:!1,firefox:!1,firefoxVersion:0,ie:!1,ieVersion:0,mobileSafari:!1,opera:!1,safari:!1,safariVersion:0,silk:!1,trident:!1,tridentVersion:0,es2019:!1};function d(){var h=navigator.userAgent;return/Edg\/\d+/.test(h)?(x.edge=!0,x.es2019=!0):/OPR/.test(h)?(x.opera=!0,x.es2019=!0):/Chrome\/(\d+)/.test(h)&&!o.windowsPhone?(x.chrome=!0,x.chromeVersion=parseInt(RegExp.$1,10),x.es2019=x.chromeVersion>69):/Firefox\D+(\d+)/.test(h)?(x.firefox=!0,x.firefoxVersion=parseInt(RegExp.$1,10),x.es2019=x.firefoxVersion>10):/AppleWebKit\/(?!.*CriOS)/.test(h)&&o.iOS?(x.mobileSafari=!0,x.es2019=!0):/MSIE (\d+\.\d+);/.test(h)?(x.ie=!0,x.ieVersion=parseInt(RegExp.$1,10)):/Version\/(\d+\.\d+(\.\d+)?) Safari/.test(h)&&!o.windowsPhone?(x.safari=!0,x.safariVersion=parseInt(RegExp.$1,10),x.es2019=x.safariVersion>10):/Trident\/(\d+\.\d+)(.*)rv:(\d+\.\d+)/.test(h)&&(x.ie=!0,x.trident=!0,x.tridentVersion=parseInt(RegExp.$1,10),x.ieVersion=parseInt(RegExp.$3,10)),/Silk/.test(h)&&(x.silk=!0),x}n.exports=d()},89289:(n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(27919),x={supportInverseAlpha:!1,supportNewBlendModes:!1};function d(){var a="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAQAAAABAQMAAADD8p2OAAAAA1BMVEX/",f="AAAACklEQVQI12NgAAAAAgAB4iG8MwAAAABJRU5ErkJggg==",c=new Image;return c.onload=function(){var u=new Image;u.onload=function(){var v=o.create2D(u,6),g=v.getContext("2d",{willReadFrequently:!0});if(g.globalCompositeOperation="multiply",g.drawImage(c,0,0),g.drawImage(u,2,0),!g.getImageData(2,0,1,1))return!1;var m=g.getImageData(2,0,1,1).data;o.remove(u),x.supportNewBlendModes=m[0]===255&&m[1]===0&&m[2]===0},u.src=a+"/wCKxvRF"+f},c.src=a+"AP804Oa6"+f,!1}function h(){var a=o.create2D(this,2),f=a.getContext("2d",{willReadFrequently:!0});f.fillStyle="rgba(10, 20, 30, 0.5)",f.fillRect(0,0,1,1);var c=f.getImageData(0,0,1,1);if(c===null)return!1;f.putImageData(c,1,0);var u=f.getImageData(1,0,1,1),v=u.data[0]===c.data[0]&&u.data[1]===c.data[1]&&u.data[2]===c.data[2]&&u.data[3]===c.data[3];return o.remove(this),v}function l(){return typeof importScripts!="function"&&document!==void 0&&(x.supportNewBlendModes=d(),x.supportInverseAlpha=h()),x}n.exports=l()},89357:(n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(25892),x=r(84148),d=r(27919),h={canvas:!1,canvasBitBltShift:null,file:!1,fileSystem:!1,getUserMedia:!0,littleEndian:!1,localStorage:!1,pointerLock:!1,stableSort:!1,support32bit:!1,vibration:!1,webGL:!1,worker:!1};function l(){var f=new ArrayBuffer(4),c=new Uint8Array(f),u=new Uint32Array(f);return c[0]=161,c[1]=178,c[2]=195,c[3]=212,u[0]===3569595041?!0:u[0]===2712847316?!1:null}function a(){if(typeof importScripts=="function")return h;h.canvas=!!window.CanvasRenderingContext2D;try{h.localStorage=!!localStorage.getItem}catch{h.localStorage=!1}h.file=!!window.File&&!!window.FileReader&&!!window.FileList&&!!window.Blob,h.fileSystem=!!window.requestFileSystem;var f=!1,c=function(){if(window.WebGLRenderingContext)try{var u=d.createWebGL(this),v=u.getContext("webgl")||u.getContext("experimental-webgl"),g=d.create2D(this),m=g.getContext("2d",{willReadFrequently:!0}),y=m.createImageData(1,1);return f=y.data instanceof Uint8ClampedArray,d.remove(u),d.remove(g),!!v}catch{return!1}return!1};return h.webGL=c(),h.worker=!!window.Worker,h.pointerLock="pointerLockElement"in document||"mozPointerLockElement"in document||"webkitPointerLockElement"in document,navigator.getUserMedia=navigator.getUserMedia||navigator.webkitGetUserMedia||navigator.mozGetUserMedia||navigator.msGetUserMedia||navigator.oGetUserMedia,window.URL=window.URL||window.webkitURL||window.mozURL||window.msURL,h.getUserMedia=h.getUserMedia&&!!navigator.getUserMedia&&!!window.URL,x.firefox&&x.firefoxVersion<21&&(h.getUserMedia=!1),!o.iOS&&(x.ie||x.firefox||x.chrome)&&(h.canvasBitBltShift=!0),(x.safari||x.mobileSafari)&&(h.canvasBitBltShift=!1),navigator.vibrate=navigator.vibrate||navigator.webkitVibrate||navigator.mozVibrate||navigator.msVibrate,navigator.vibrate&&(h.vibration=!0),typeof ArrayBuffer<"u"&&typeof Uint8Array<"u"&&typeof Uint32Array<"u"&&(h.littleEndian=l()),h.support32bit=typeof ArrayBuffer<"u"&&typeof Uint8ClampedArray<"u"&&typeof Int32Array<"u"&&h.littleEndian!==null&&f,h}n.exports=a()},91639:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T={available:!1,cancel:"",keyboard:!1,request:""};function r(){if(typeof importScripts=="function")return T;var o,x="Fullscreen",d="FullScreen",h=["request"+x,"request"+d,"webkitRequest"+x,"webkitRequest"+d,"msRequest"+x,"msRequest"+d,"mozRequest"+d,"mozRequest"+x];for(o=0;o<h.length;o++)if(document.documentElement[h[o]]){T.available=!0,T.request=h[o];break}var l=["cancel"+d,"exit"+x,"webkitCancel"+d,"webkitExit"+x,"msCancel"+d,"msExit"+x,"mozCancel"+d,"mozExit"+x];if(T.available){for(o=0;o<l.length;o++)if(document[l[o]]){T.cancel=l[o];break}}return window.Element&&Element.ALLOW_KEYBOARD_INPUT&&!/ Version\/5\.1(?:\.\d+)? Safari\//.test(navigator.userAgent)&&(T.keyboard=!0),Object.defineProperty(T,"active",{get:function(){return!!(document.fullscreenElement||document.webkitFullscreenElement||document.mozFullScreenElement||document.msFullscreenElement)}}),T}n.exports=r()},31784:(n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(84148),x={gamepads:!1,mspointer:!1,touch:!1,wheelEvent:null};function d(){return typeof importScripts=="function"||(("ontouchstart"in document.documentElement||navigator.maxTouchPoints&&navigator.maxTouchPoints>=1)&&(x.touch=!0),(navigator.msPointerEnabled||navigator.pointerEnabled)&&(x.mspointer=!0),navigator.getGamepads&&(x.gamepads=!0),"onwheel"in window||o.ie&&"WheelEvent"in window?x.wheelEvent="wheel":"onmousewheel"in window?x.wheelEvent="mousewheel":o.firefox&&"MouseScrollEvent"in window&&(x.wheelEvent="DOMMouseScroll")),x}n.exports=d()},25892:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T={android:!1,chromeOS:!1,cordova:!1,crosswalk:!1,desktop:!1,ejecta:!1,electron:!1,iOS:!1,iOSVersion:0,iPad:!1,iPhone:!1,kindle:!1,linux:!1,macOS:!1,node:!1,nodeWebkit:!1,pixelRatio:1,webApp:!1,windows:!1,windowsPhone:!1};function r(){if(typeof importScripts=="function")return T;var o=navigator.userAgent;/Windows/.test(o)?T.windows=!0:/Mac OS/.test(o)&&!/like Mac OS/.test(o)?navigator.maxTouchPoints&&navigator.maxTouchPoints>2?(T.iOS=!0,T.iPad=!0,navigator.appVersion.match(/Version\/(\d+)/),T.iOSVersion=parseInt(RegExp.$1,10)):T.macOS=!0:/Android/.test(o)?T.android=!0:/Linux/.test(o)?T.linux=!0:/iP[ao]d|iPhone/i.test(o)?(T.iOS=!0,navigator.appVersion.match(/OS (\d+)/),T.iOSVersion=parseInt(RegExp.$1,10),T.iPhone=o.toLowerCase().indexOf("iphone")!==-1,T.iPad=o.toLowerCase().indexOf("ipad")!==-1):/Kindle/.test(o)||/\bKF[A-Z][A-Z]+/.test(o)||/Silk.*Mobile Safari/.test(o)?T.kindle=!0:/CrOS/.test(o)&&(T.chromeOS=!0),(/Windows Phone/i.test(o)||/IEMobile/i.test(o))&&(T.android=!1,T.iOS=!1,T.macOS=!1,T.windows=!0,T.windowsPhone=!0);var x=/Silk/.test(o);return(T.windows||T.macOS||T.linux&&!x||T.chromeOS)&&(T.desktop=!0),(T.windowsPhone||/Windows NT/i.test(o)&&/Touch/i.test(o))&&(T.desktop=!1),navigator.standalone&&(T.webApp=!0),typeof importScripts!="function"&&(window.cordova!==void 0&&(T.cordova=!0),window.ejecta!==void 0&&(T.ejecta=!0)),typeof process<"u"&&process.versions&&process.versions.node&&(T.node=!0),T.node&&typeof process.versions=="object"&&(T.nodeWebkit=!!process.versions["node-webkit"],T.electron=!!process.versions.electron),/Crosswalk/.test(o)&&(T.crosswalk=!0),T.pixelRatio=window.devicePixelRatio||1,T}n.exports=r()},43267:(n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(95540),x={h264:!1,hls:!1,mp4:!1,m4v:!1,ogg:!1,vp9:!1,webm:!1,hasRequestVideoFrame:!1};function d(){if(typeof importScripts=="function")return x;var h=document.createElement("video"),l=!!h.canPlayType,a=/^no$/;try{l&&(h.canPlayType('video/ogg; codecs="theora"').replace(a,"")&&(x.ogg=!0),h.canPlayType('video/mp4; codecs="avc1.42E01E"').replace(a,"")&&(x.h264=!0,x.mp4=!0),h.canPlayType("video/x-m4v").replace(a,"")&&(x.m4v=!0),h.canPlayType('video/webm; codecs="vp8, vorbis"').replace(a,"")&&(x.webm=!0),h.canPlayType('video/webm; codecs="vp9"').replace(a,"")&&(x.vp9=!0),h.canPlayType('application/x-mpegURL; codecs="avc1.42E01E"').replace(a,"")&&(x.hls=!0))}catch{}return h.parentNode&&h.parentNode.removeChild(h),x.getVideoURL=function(f){Array.isArray(f)||(f=[f]);for(var c=0;c<f.length;c++){var u=o(f[c],"url",f[c]);if(u.indexOf("blob:")===0)return{url:u,type:""};var v;if(u.indexOf("data:")===0?v=u.split(",")[0].match(/\/(.*?);/):v=u.match(/\.([a-zA-Z0-9]+)($|\?)/),v=o(f[c],"type",v?v[1]:"").toLowerCase(),x[v])return{url:u,type:v}}return null},x}n.exports=d()},82264:(n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports={os:r(25892),browser:r(84148),features:r(89357),input:r(31784),audio:r(7098),video:r(43267),fullscreen:r(91639),canvasFeatures:r(89289)}},89422:(n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(83419),x=new Float32Array(20),d=new o({initialize:function(){this._matrix=new Float32Array(20),this.alpha=1,this._dirty=!0,this._data=new Float32Array(20),this.reset()},set:function(h){return this._matrix.set(h),this._dirty=!0,this},reset:function(){var h=this._matrix;return h.fill(0),h[0]=1,h[6]=1,h[12]=1,h[18]=1,this.alpha=1,this._dirty=!0,this},getData:function(){var h=this._data;return this._dirty&&(h.set(this._matrix),h[4]/=255,h[9]/=255,h[14]/=255,h[19]/=255,this._dirty=!1),h},brightness:function(h,l){h===void 0&&(h=0),l===void 0&&(l=!1);var a=h;return this.multiply([a,0,0,0,0,0,a,0,0,0,0,0,a,0,0,0,0,0,1,0],l)},saturate:function(h,l){h===void 0&&(h=0),l===void 0&&(l=!1);var a=h*2/3+1,f=(a-1)*-.5;return this.multiply([a,f,f,0,0,f,a,f,0,0,f,f,a,0,0,0,0,0,1,0],l)},desaturate:function(h){return h===void 0&&(h=!1),this.saturate(-1,h)},hue:function(h,l){h===void 0&&(h=0),l===void 0&&(l=!1),h=h/180*Math.PI;var a=Math.cos(h),f=Math.sin(h),c=.213,u=.715,v=.072;return this.multiply([c+a*(1-c)+f*-c,u+a*-u+f*-u,v+a*-v+f*(1-v),0,0,c+a*-c+f*.143,u+a*(1-u)+f*.14,v+a*-v+f*-.283,0,0,c+a*-c+f*-(1-c),u+a*-u+f*u,v+a*(1-v)+f*v,0,0,0,0,0,1,0],l)},grayscale:function(h,l){return h===void 0&&(h=1),l===void 0&&(l=!1),this.saturate(-h,l)},blackWhite:function(h){return h===void 0&&(h=!1),this.multiply(d.BLACK_WHITE,h)},contrast:function(h,l){h===void 0&&(h=0),l===void 0&&(l=!1);var a=h+1,f=-.5*(a-1);return this.multiply([a,0,0,0,f,0,a,0,0,f,0,0,a,0,f,0,0,0,1,0],l)},negative:function(h){return h===void 0&&(h=!1),this.multiply(d.NEGATIVE,h)},desaturateLuminance:function(h){return h===void 0&&(h=!1),this.multiply(d.DESATURATE_LUMINANCE,h)},sepia:function(h){return h===void 0&&(h=!1),this.multiply(d.SEPIA,h)},night:function(h,l){return h===void 0&&(h=.1),l===void 0&&(l=!1),this.multiply([h*-2,-h,0,0,0,-h,0,h,0,0,0,h,h*2,0,0,0,0,0,1,0],l)},lsd:function(h){return h===void 0&&(h=!1),this.multiply(d.LSD,h)},brown:function(h){return h===void 0&&(h=!1),this.multiply(d.BROWN,h)},vintagePinhole:function(h){return h===void 0&&(h=!1),this.multiply(d.VINTAGE,h)},kodachrome:function(h){return h===void 0&&(h=!1),this.multiply(d.KODACHROME,h)},technicolor:function(h){return h===void 0&&(h=!1),this.multiply(d.TECHNICOLOR,h)},polaroid:function(h){return h===void 0&&(h=!1),this.multiply(d.POLAROID,h)},shiftToBGR:function(h){return h===void 0&&(h=!1),this.multiply(d.SHIFT_BGR,h)},multiply:function(h,l){l===void 0&&(l=!1),l||this.reset();var a=this._matrix,f=x;return f.set(a),a.set([f[0]*h[0]+f[1]*h[5]+f[2]*h[10]+f[3]*h[15],f[0]*h[1]+f[1]*h[6]+f[2]*h[11]+f[3]*h[16],f[0]*h[2]+f[1]*h[7]+f[2]*h[12]+f[3]*h[17],f[0]*h[3]+f[1]*h[8]+f[2]*h[13]+f[3]*h[18],f[0]*h[4]+f[1]*h[9]+f[2]*h[14]+f[3]*h[19]+f[4],f[5]*h[0]+f[6]*h[5]+f[7]*h[10]+f[8]*h[15],f[5]*h[1]+f[6]*h[6]+f[7]*h[11]+f[8]*h[16],f[5]*h[2]+f[6]*h[7]+f[7]*h[12]+f[8]*h[17],f[5]*h[3]+f[6]*h[8]+f[7]*h[13]+f[8]*h[18],f[5]*h[4]+f[6]*h[9]+f[7]*h[14]+f[8]*h[19]+f[9],f[10]*h[0]+f[11]*h[5]+f[12]*h[10]+f[13]*h[15],f[10]*h[1]+f[11]*h[6]+f[12]*h[11]+f[13]*h[16],f[10]*h[2]+f[11]*h[7]+f[12]*h[12]+f[13]*h[17],f[10]*h[3]+f[11]*h[8]+f[12]*h[13]+f[13]*h[18],f[10]*h[4]+f[11]*h[9]+f[12]*h[14]+f[13]*h[19]+f[14],f[15]*h[0]+f[16]*h[5]+f[17]*h[10]+f[18]*h[15],f[15]*h[1]+f[16]*h[6]+f[17]*h[11]+f[18]*h[16],f[15]*h[2]+f[16]*h[7]+f[17]*h[12]+f[18]*h[17],f[15]*h[3]+f[16]*h[8]+f[17]*h[13]+f[18]*h[18],f[15]*h[4]+f[16]*h[9]+f[17]*h[14]+f[18]*h[19]+f[19]]),this._dirty=!0,this}});d.BLACK_WHITE=[.3,.6,.1,0,0,.3,.6,.1,0,0,.3,.6,.1,0,0,0,0,0,1,0],d.NEGATIVE=[-1,0,0,1,0,0,-1,0,1,0,0,0,-1,1,0,0,0,0,1,0],d.DESATURATE_LUMINANCE=[.2764723,.929708,.0938197,0,-37.1,.2764723,.929708,.0938197,0,-37.1,.2764723,.929708,.0938197,0,-37.1,0,0,0,1,0],d.SEPIA=[.393,.7689999,.18899999,0,0,.349,.6859999,.16799999,0,0,.272,.5339999,.13099999,0,0,0,0,0,1,0],d.LSD=[2,-.4,.5,0,0,-.5,2,-.4,0,0,-.4,-.5,3,0,0,0,0,0,1,0],d.BROWN=[.5997023498159715,.34553243048391263,-.2708298674538042,0,47.43192855600873,-.037703249837783157,.8609577587992641,.15059552388459913,0,-36.96841498319127,.24113635128153335,-.07441037908422492,.44972182064877153,0,-7.562075277591283,0,0,0,1,0],d.VINTAGE=[.6279345635605994,.3202183420819367,-.03965408211312453,0,9.651285835294123,.02578397704808868,.6441188644374771,.03259127616149294,0,7.462829176470591,.0466055556782719,-.0851232987247891,.5241648018700465,0,5.159190588235296,0,0,0,1,0],d.KODACHROME=[1.1285582396593525,-.3967382283601348,-.03992559172921793,0,63.72958762196502,-.16404339962244616,1.0835251566291304,-.05498805115633132,0,24.732407896706203,-.16786010706155763,-.5603416277695248,1.6014850761964943,0,35.62982807460946,0,0,0,1,0],d.TECHNICOLOR=[1.9125277891456083,-.8545344976951645,-.09155508482755585,0,11.793603434377337,-.3087833385928097,1.7658908555458428,-.10601743074722245,0,-70.35205161461398,-.231103377548616,-.7501899197440212,1.847597816108189,0,30.950940869491138,0,0,0,1,0],d.POLAROID=[1.438,-.062,-.062,0,0,-.122,1.378,-.122,0,0,-.016,-.016,1.483,0,0,0,0,0,1,0],d.SHIFT_BGR=[0,0,1,0,0,0,1,0,0,0,1,0,0,0,0,0,0,0,1,0],n.exports=d},51767:(n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(83419),x=r(29747),d=new o({initialize:function(l,a,f){this._rgb=[0,0,0],this.onChangeCallback=x,this.dirty=!1,this.set(l,a,f)},set:function(h,l,a){return h===void 0&&(h=0),l===void 0&&(l=0),a===void 0&&(a=0),this._rgb=[h,l,a],this.onChange(),this},equals:function(h,l,a){var f=this._rgb;return f[0]===h&&f[1]===l&&f[2]===a},onChange:function(){this.dirty=!0;var h=this._rgb;this.onChangeCallback.call(this,h[0],h[1],h[2])},r:{get:function(){return this._rgb[0]},set:function(h){this._rgb[0]=h,this.onChange()}},g:{get:function(){return this._rgb[1]},set:function(h){this._rgb[1]=h,this.onChange()}},b:{get:function(){return this._rgb[2]},set:function(h){this._rgb[2]=h,this.onChange()}},destroy:function(){this.onChangeCallback=null}});n.exports=d},60461:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T={TOP_LEFT:0,TOP_CENTER:1,TOP_RIGHT:2,LEFT_TOP:3,LEFT_CENTER:4,LEFT_BOTTOM:5,CENTER:6,RIGHT_TOP:7,RIGHT_CENTER:8,RIGHT_BOTTOM:9,BOTTOM_LEFT:10,BOTTOM_CENTER:11,BOTTOM_RIGHT:12};n.exports=T},54312:(n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(62235),x=r(35893),d=r(86327),h=r(88417),l=function(a,f,c,u){return c===void 0&&(c=0),u===void 0&&(u=0),h(a,x(f)+c),d(a,o(f)+u),a};n.exports=l},46768:(n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(62235),x=r(26541),d=r(86327),h=r(385),l=function(a,f,c,u){return c===void 0&&(c=0),u===void 0&&(u=0),h(a,x(f)-c),d(a,o(f)+u),a};n.exports=l},35827:(n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(62235),x=r(54380),d=r(86327),h=r(40136),l=function(a,f,c,u){return c===void 0&&(c=0),u===void 0&&(u=0),h(a,x(f)+c),d(a,o(f)+u),a};n.exports=l},46871:(n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(66786),x=r(35893),d=r(7702),h=function(l,a,f,c){return f===void 0&&(f=0),c===void 0&&(c=0),o(l,x(a)+f,d(a)+c),l};n.exports=h},5198:(n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(7702),x=r(26541),d=r(20786),h=r(385),l=function(a,f,c,u){return c===void 0&&(c=0),u===void 0&&(u=0),h(a,x(f)-c),d(a,o(f)+u),a};n.exports=l},11879:(n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(60461),x=[];x[o.BOTTOM_CENTER]=r(54312),x[o.BOTTOM_LEFT]=r(46768),x[o.BOTTOM_RIGHT]=r(35827),x[o.CENTER]=r(46871),x[o.LEFT_CENTER]=r(5198),x[o.RIGHT_CENTER]=r(80503),x[o.TOP_CENTER]=r(89698),x[o.TOP_LEFT]=r(922),x[o.TOP_RIGHT]=r(21373),x[o.LEFT_BOTTOM]=x[o.BOTTOM_LEFT],x[o.LEFT_TOP]=x[o.TOP_LEFT],x[o.RIGHT_BOTTOM]=x[o.BOTTOM_RIGHT],x[o.RIGHT_TOP]=x[o.TOP_RIGHT];var d=function(h,l,a,f,c){return x[a](h,l,f,c)};n.exports=d},80503:(n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(7702),x=r(54380),d=r(20786),h=r(40136),l=function(a,f,c,u){return c===void 0&&(c=0),u===void 0&&(u=0),h(a,x(f)+c),d(a,o(f)+u),a};n.exports=l},89698:(n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(35893),x=r(17717),d=r(88417),h=r(66737),l=function(a,f,c,u){return c===void 0&&(c=0),u===void 0&&(u=0),d(a,o(f)+c),h(a,x(f)-u),a};n.exports=l},922:(n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(26541),x=r(17717),d=r(385),h=r(66737),l=function(a,f,c,u){return c===void 0&&(c=0),u===void 0&&(u=0),d(a,o(f)-c),h(a,x(f)-u),a};n.exports=l},21373:(n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(54380),x=r(17717),d=r(40136),h=r(66737),l=function(a,f,c,u){return c===void 0&&(c=0),u===void 0&&(u=0),d(a,o(f)+c),h(a,x(f)-u),a};n.exports=l},91660:(n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports={BottomCenter:r(54312),BottomLeft:r(46768),BottomRight:r(35827),Center:r(46871),LeftCenter:r(5198),QuickSet:r(11879),RightCenter:r(80503),TopCenter:r(89698),TopLeft:r(922),TopRight:r(21373)}},71926:(n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(60461),x=r(79291),d={In:r(91660),To:r(16694)};d=x(!1,d,o),n.exports=d},21578:(n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(62235),x=r(35893),d=r(88417),h=r(66737),l=function(a,f,c,u){return c===void 0&&(c=0),u===void 0&&(u=0),d(a,x(f)+c),h(a,o(f)+u),a};n.exports=l},10210:(n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(62235),x=r(26541),d=r(385),h=r(66737),l=function(a,f,c,u){return c===void 0&&(c=0),u===void 0&&(u=0),d(a,x(f)-c),h(a,o(f)+u),a};n.exports=l},82341:(n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(62235),x=r(54380),d=r(40136),h=r(66737),l=function(a,f,c,u){return c===void 0&&(c=0),u===void 0&&(u=0),d(a,x(f)+c),h(a,o(f)+u),a};n.exports=l},87958:(n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(62235),x=r(26541),d=r(86327),h=r(40136),l=function(a,f,c,u){return c===void 0&&(c=0),u===void 0&&(u=0),h(a,x(f)-c),d(a,o(f)+u),a};n.exports=l},40080:(n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(7702),x=r(26541),d=r(20786),h=r(40136),l=function(a,f,c,u){return c===void 0&&(c=0),u===void 0&&(u=0),h(a,x(f)-c),d(a,o(f)+u),a};n.exports=l},88466:(n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(26541),x=r(17717),d=r(40136),h=r(66737),l=function(a,f,c,u){return c===void 0&&(c=0),u===void 0&&(u=0),d(a,o(f)-c),h(a,x(f)-u),a};n.exports=l},38829:(n,T,r)=>{/**
 * @author       samme
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(60461),x=[];x[o.BOTTOM_CENTER]=r(21578),x[o.BOTTOM_LEFT]=r(10210),x[o.BOTTOM_RIGHT]=r(82341),x[o.LEFT_BOTTOM]=r(87958),x[o.LEFT_CENTER]=r(40080),x[o.LEFT_TOP]=r(88466),x[o.RIGHT_BOTTOM]=r(19211),x[o.RIGHT_CENTER]=r(34609),x[o.RIGHT_TOP]=r(48741),x[o.TOP_CENTER]=r(49440),x[o.TOP_LEFT]=r(81288),x[o.TOP_RIGHT]=r(61323);var d=function(h,l,a,f,c){return x[a](h,l,f,c)};n.exports=d},19211:(n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(62235),x=r(54380),d=r(86327),h=r(385),l=function(a,f,c,u){return c===void 0&&(c=0),u===void 0&&(u=0),h(a,x(f)+c),d(a,o(f)+u),a};n.exports=l},34609:(n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(7702),x=r(54380),d=r(20786),h=r(385),l=function(a,f,c,u){return c===void 0&&(c=0),u===void 0&&(u=0),h(a,x(f)+c),d(a,o(f)+u),a};n.exports=l},48741:(n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(54380),x=r(17717),d=r(385),h=r(66737),l=function(a,f,c,u){return c===void 0&&(c=0),u===void 0&&(u=0),d(a,o(f)+c),h(a,x(f)-u),a};n.exports=l},49440:(n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(35893),x=r(17717),d=r(86327),h=r(88417),l=function(a,f,c,u){return c===void 0&&(c=0),u===void 0&&(u=0),h(a,o(f)+c),d(a,x(f)-u),a};n.exports=l},81288:(n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(26541),x=r(17717),d=r(86327),h=r(385),l=function(a,f,c,u){return c===void 0&&(c=0),u===void 0&&(u=0),h(a,o(f)-c),d(a,x(f)-u),a};n.exports=l},61323:(n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(54380),x=r(17717),d=r(86327),h=r(40136),l=function(a,f,c,u){return c===void 0&&(c=0),u===void 0&&(u=0),h(a,o(f)+c),d(a,x(f)-u),a};n.exports=l},16694:(n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports={BottomCenter:r(21578),BottomLeft:r(10210),BottomRight:r(82341),LeftBottom:r(87958),LeftCenter:r(40080),LeftTop:r(88466),QuickSet:r(38829),RightBottom:r(19211),RightCenter:r(34609),RightTop:r(48741),TopCenter:r(49440),TopLeft:r(81288),TopRight:r(61323)}},66786:(n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(88417),x=r(20786),d=function(h,l,a){return o(h,l),x(h,a)};n.exports=d},62235:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(r){return r.y+r.height-r.height*r.originY};n.exports=T},72873:(n,T,r)=>{/**
 * @author       samme
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(62235),x=r(26541),d=r(54380),h=r(17717),l=r(87841),a=function(f,c){c===void 0&&(c=new l);var u=x(f),v=h(f);return c.x=u,c.y=v,c.width=d(f)-u,c.height=o(f)-v,c};n.exports=a},35893:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(r){return r.x-r.width*r.originX+r.width*.5};n.exports=T},7702:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(r){return r.y-r.height*r.originY+r.height*.5};n.exports=T},26541:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(r){return r.x-r.width*r.originX};n.exports=T},87431:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(r){return r.width*r.originX};n.exports=T},46928:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(r){return r.height*r.originY};n.exports=T},54380:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(r){return r.x+r.width-r.width*r.originX};n.exports=T},17717:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(r){return r.y-r.height*r.originY};n.exports=T},86327:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(r,o){return r.y=o-r.height+r.height*r.originY,r};n.exports=T},88417:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(r,o){var x=r.width*r.originX;return r.x=o+x-r.width*.5,r};n.exports=T},20786:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(r,o){var x=r.height*r.originY;return r.y=o+x-r.height*.5,r};n.exports=T},385:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(r,o){return r.x=o+r.width*r.originX,r};n.exports=T},40136:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(r,o){return r.x=o-r.width+r.width*r.originX,r};n.exports=T},66737:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(r,o){return r.y=o+r.height*r.originY,r};n.exports=T},58724:(n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports={CenterOn:r(66786),GetBottom:r(62235),GetBounds:r(72873),GetCenterX:r(35893),GetCenterY:r(7702),GetLeft:r(26541),GetOffsetX:r(87431),GetOffsetY:r(46928),GetRight:r(54380),GetTop:r(17717),SetBottom:r(86327),SetCenterX:r(88417),SetCenterY:r(20786),SetLeft:r(385),SetRight:r(40136),SetTop:r(66737)}},20623:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T={setCrisp:function(r){var o=["optimizeSpeed","-moz-crisp-edges","-o-crisp-edges","-webkit-optimize-contrast","optimize-contrast","crisp-edges","pixelated"];return o.forEach(function(x){r.style["image-rendering"]=x}),r.style.msInterpolationMode="nearest-neighbor",r},setBicubic:function(r){return r.style["image-rendering"]="auto",r.style.msInterpolationMode="bicubic",r}};n.exports=T},27919:(n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(8054),x=r(68703),d=[],h=!1,l=function(){var a=function(b,M,w,R,A){M===void 0&&(M=1),w===void 0&&(w=1),R===void 0&&(R=o.CANVAS),A===void 0&&(A=!1);var L,F=u(R);return F===null?(F={parent:b,canvas:document.createElement("canvas"),type:R},R===o.CANVAS&&d.push(F),L=F.canvas):(F.parent=b,L=F.canvas),A&&(F.parent=L),L.width=M,L.height=w,h&&R===o.CANVAS&&x.disable(L.getContext("2d",{willReadFrequently:!1})),L},f=function(b,M,w){return a(b,M,w,o.CANVAS)},c=function(b,M,w){return a(b,M,w,o.WEBGL)},u=function(b){if(b===void 0&&(b=o.CANVAS),b===o.WEBGL)return null;for(var M=0;M<d.length;M++){var w=d[M];if(!w.parent&&w.type===b)return w}return null},v=function(b){var M=b instanceof HTMLCanvasElement;d.forEach(function(w){(M&&w.canvas===b||!M&&w.parent===b)&&(w.parent=null,w.canvas.width=1,w.canvas.height=1)})},g=function(){var b=0;return d.forEach(function(M){M.parent&&b++}),b},m=function(){return d.length-g()},y=function(){h=!0},C=function(){h=!1};return{create2D:f,create:a,createWebGL:c,disableSmoothing:y,enableSmoothing:C,first:u,free:m,pool:d,remove:v,total:g}};n.exports=l()},68703:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T="",r=function(){var o=function(l){for(var a=["i","webkitI","msI","mozI","oI"],f=0;f<a.length;f++){var c=a[f]+"mageSmoothingEnabled";if(c in l)return c}return null},x=function(l){return T===""&&(T=o(l)),T&&(l[T]=!0),l},d=function(l){return T===""&&(T=o(l)),T&&(l[T]=!1),l},h=function(l){return T!==null?l[T]:null};return{disable:d,enable:x,getPrefix:o,isEnabled:h}};n.exports=r()},65208:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(r,o){return o===void 0&&(o="none"),r.style.msTouchAction=o,r.style["ms-touch-action"]=o,r.style["touch-action"]=o,r};n.exports=T},91610:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(r,o){o===void 0&&(o="none");var x=["-webkit-","-khtml-","-moz-","-ms-",""];return x.forEach(function(d){r.style[d+"user-select"]=o}),r.style["-webkit-touch-callout"]=o,r.style["-webkit-tap-highlight-color"]="rgba(0, 0, 0, 0)",r};n.exports=T},26253:(n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports={CanvasInterpolation:r(20623),CanvasPool:r(27919),Smoothing:r(68703),TouchAction:r(65208),UserSelect:r(91610)}},40987:(n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(83419),x=r(37589),d=r(1e3),h=r(7537),l=r(87837),a=new o({initialize:function(c,u,v,g){c===void 0&&(c=0),u===void 0&&(u=0),v===void 0&&(v=0),g===void 0&&(g=255),this.r=0,this.g=0,this.b=0,this.a=255,this._h=0,this._s=0,this._v=0,this._locked=!1,this.gl=[0,0,0,1],this._color=0,this._color32=0,this._rgba="",this.setTo(c,u,v,g)},transparent:function(){return this._locked=!0,this.red=0,this.green=0,this.blue=0,this.alpha=0,this._locked=!1,this.update(!0)},setTo:function(f,c,u,v,g){return v===void 0&&(v=255),g===void 0&&(g=!0),this._locked=!0,this.red=f,this.green=c,this.blue=u,this.alpha=v,this._locked=!1,this.update(g)},setGLTo:function(f,c,u,v){return v===void 0&&(v=1),this._locked=!0,this.redGL=f,this.greenGL=c,this.blueGL=u,this.alphaGL=v,this._locked=!1,this.update(!0)},setFromRGB:function(f){return this._locked=!0,this.red=f.r,this.green=f.g,this.blue=f.b,f.hasOwnProperty("a")&&(this.alpha=f.a),this._locked=!1,this.update(!0)},setFromHSV:function(f,c,u){return h(f,c,u,this)},update:function(f){if(f===void 0&&(f=!1),this._locked)return this;var c=this.r,u=this.g,v=this.b,g=this.a;return this._color=x(c,u,v),this._color32=d(c,u,v,g),this._rgba="rgba("+c+","+u+","+v+","+g/255+")",f&&l(c,u,v,this),this},updateHSV:function(){var f=this.r,c=this.g,u=this.b;return l(f,c,u,this),this},clone:function(){return new a(this.r,this.g,this.b,this.a)},gray:function(f){return this.setTo(f,f,f)},random:function(f,c){f===void 0&&(f=0),c===void 0&&(c=255);var u=Math.floor(f+Math.random()*(c-f)),v=Math.floor(f+Math.random()*(c-f)),g=Math.floor(f+Math.random()*(c-f));return this.setTo(u,v,g)},randomGray:function(f,c){f===void 0&&(f=0),c===void 0&&(c=255);var u=Math.floor(f+Math.random()*(c-f));return this.setTo(u,u,u)},saturate:function(f){return this.s+=f/100,this},desaturate:function(f){return this.s-=f/100,this},lighten:function(f){return this.v+=f/100,this},darken:function(f){return this.v-=f/100,this},brighten:function(f){var c=this.r,u=this.g,v=this.b;return c=Math.max(0,Math.min(255,c-Math.round(255*-(f/100)))),u=Math.max(0,Math.min(255,u-Math.round(255*-(f/100)))),v=Math.max(0,Math.min(255,v-Math.round(255*-(f/100)))),this.setTo(c,u,v)},color:{get:function(){return this._color}},color32:{get:function(){return this._color32}},rgba:{get:function(){return this._rgba}},redGL:{get:function(){return this.gl[0]},set:function(f){this.gl[0]=Math.min(Math.abs(f),1),this.r=Math.floor(this.gl[0]*255),this.update(!0)}},greenGL:{get:function(){return this.gl[1]},set:function(f){this.gl[1]=Math.min(Math.abs(f),1),this.g=Math.floor(this.gl[1]*255),this.update(!0)}},blueGL:{get:function(){return this.gl[2]},set:function(f){this.gl[2]=Math.min(Math.abs(f),1),this.b=Math.floor(this.gl[2]*255),this.update(!0)}},alphaGL:{get:function(){return this.gl[3]},set:function(f){this.gl[3]=Math.min(Math.abs(f),1),this.a=Math.floor(this.gl[3]*255),this.update()}},red:{get:function(){return this.r},set:function(f){f=Math.floor(Math.abs(f)),this.r=Math.min(f,255),this.gl[0]=f/255,this.update(!0)}},green:{get:function(){return this.g},set:function(f){f=Math.floor(Math.abs(f)),this.g=Math.min(f,255),this.gl[1]=f/255,this.update(!0)}},blue:{get:function(){return this.b},set:function(f){f=Math.floor(Math.abs(f)),this.b=Math.min(f,255),this.gl[2]=f/255,this.update(!0)}},alpha:{get:function(){return this.a},set:function(f){f=Math.floor(Math.abs(f)),this.a=Math.min(f,255),this.gl[3]=f/255,this.update()}},h:{get:function(){return this._h},set:function(f){this._h=f,h(f,this._s,this._v,this)}},s:{get:function(){return this._s},set:function(f){this._s=f,h(this._h,f,this._v,this)}},v:{get:function(){return this._v},set:function(f){this._v=f,h(this._h,this._s,f,this)}}});n.exports=a},92728:(n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(37589),x=function(d){d===void 0&&(d=1024);var h=[],l=255,a,f=255,c=0,u=0;for(a=0;a<=l;a++)h.push({r:f,g:a,b:u,color:o(f,a,u)});for(c=255,a=l;a>=0;a--)h.push({r:a,g:c,b:u,color:o(a,c,u)});for(f=0,a=0;a<=l;a++,c--)h.push({r:f,g:c,b:a,color:o(f,c,a)});for(c=0,u=255,a=0;a<=l;a++,u--,f++)h.push({r:f,g:c,b:u,color:o(f,c,u)});if(d===1024)return h;var v=[],g=0,m=1024/d;for(a=0;a<d;a++)v.push(h[Math.floor(g)]),g+=m;return v};n.exports=x},91588:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(r){var o={r:r>>16&255,g:r>>8&255,b:r&255,a:255};return r>16777215&&(o.a=r>>>24),o};n.exports=T},62957:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(r){var o=r.toString(16);return o.length===1?"0"+o:o};n.exports=T},37589:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(r,o,x){return r<<16|o<<8|x};n.exports=T},1e3:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(r,o,x,d){return d<<24|r<<16|o<<8|x};n.exports=T},62183:(n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(40987),x=r(89528),d=function(h,l,a){var f=a,c=a,u=a;if(l!==0){var v=a<.5?a*(1+l):a+l-a*l,g=2*a-v;f=x(g,v,h+1/3),c=x(g,v,h),u=x(g,v,h-1/3)}var m=new o;return m.setGLTo(f,c,u,1)};n.exports=d},27939:(n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(7537),x=function(d,h){d===void 0&&(d=1),h===void 0&&(h=1);for(var l=[],a=0;a<=359;a++)l.push(o(a/359,d,h));return l};n.exports=x},7537:(n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(37589);function x(h,l,a,f){var c=(h+l*6)%6,u=Math.min(c,4-c,1);return Math.round(255*(f-f*a*Math.max(0,u)))}var d=function(h,l,a,f){l===void 0&&(l=1),a===void 0&&(a=1);var c=x(5,h,l,a),u=x(3,h,l,a),v=x(1,h,l,a);return f?f.setTo?f.setTo(c,u,v,f.alpha,!0):(f.r=c,f.g=u,f.b=v,f.color=o(c,u,v),f):{r:c,g:u,b:v,color:o(c,u,v)}};n.exports=d},70238:(n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(40987),x=function(d){var h=new o;d=d.replace(/^(?:#|0x)?([a-f\d])([a-f\d])([a-f\d])$/i,function(u,v,g,m){return v+v+g+g+m+m});var l=/^(?:#|0x)?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(d);if(l){var a=parseInt(l[1],16),f=parseInt(l[2],16),c=parseInt(l[3],16);h.setTo(a,f,c)}return h};n.exports=x},89528:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(r,o,x){return x<0&&(x+=1),x>1&&(x-=1),x<.16666666666666666?r+(o-r)*6*x:x<.5?o:x<.6666666666666666?r+(o-r)*(.6666666666666666-x)*6:r};n.exports=T},30100:(n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(40987),x=r(90664),d=function(h){var l=x(h);return new o(l.r,l.g,l.b,l.a)};n.exports=d},90664:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(r){return r>16777215?{a:r>>>24,r:r>>16&255,g:r>>8&255,b:r&255}:{a:255,r:r>>16&255,g:r>>8&255,b:r&255}};n.exports=T},13699:(n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(28915),x=r(37589),d=function(a,f,c,u,v,g,m,y){m===void 0&&(m=100),y===void 0&&(y=0);var C=y/m,b=o(a,u,C),M=o(f,v,C),w=o(c,g,C);return{r:b,g:M,b:w,a:255,color:x(b,M,w)}},h=function(a,f,c,u){return c===void 0&&(c=100),u===void 0&&(u=0),d(a.r,a.g,a.b,f.r,f.g,f.b,c,u)},l=function(a,f,c,u,v,g){return v===void 0&&(v=100),g===void 0&&(g=0),d(a.r,a.g,a.b,f,c,u,v,g)};n.exports={RGBWithRGB:d,ColorWithRGB:l,ColorWithColor:h}},68957:(n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(40987),x=function(d){return new o(d.r,d.g,d.b,d.a)};n.exports=x},87388:(n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(40987),x=function(d){var h=new o,l=/^rgba?\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*(?:,\s*(\d+(?:\.\d+)?))?\s*\)$/.exec(d.toLowerCase());if(l){var a=parseInt(l[1],10),f=parseInt(l[2],10),c=parseInt(l[3],10),u=l[4]!==void 0?parseFloat(l[4]):1;h.setTo(a,f,c,u*255)}return h};n.exports=x},87837:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(r,o,x,d){d===void 0&&(d={h:0,s:0,v:0}),r/=255,o/=255,x/=255;var h=Math.min(r,o,x),l=Math.max(r,o,x),a=l-h,f=0,c=l===0?0:a/l,u=l;return l!==h&&(l===r?f=(o-x)/a+(o<x?6:0):l===o?f=(x-r)/a+2:l===x&&(f=(r-o)/a+4),f/=6),d.hasOwnProperty("_h")?(d._h=f,d._s=c,d._v=u):(d.h=f,d.s=c,d.v=u),d};n.exports=T},75723:(n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(62957),x=function(d,h,l,a,f){return a===void 0&&(a=255),f===void 0&&(f="#"),f==="#"?"#"+((1<<24)+(d<<16)+(h<<8)+l).toString(16).slice(1,7):"0x"+o(a)+o(d)+o(h)+o(l)};n.exports=x},85386:(n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(30976),x=r(40987),d=function(h,l){return h===void 0&&(h=0),l===void 0&&(l=255),new x(o(h,l),o(h,l),o(h,l))};n.exports=d},80333:(n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(70238),x=r(30100),d=r(68957),h=r(87388),l=function(a){var f=typeof a;switch(f){case"string":return a.substr(0,3).toLowerCase()==="rgb"?h(a):o(a);case"number":return x(a);case"object":return d(a)}};n.exports=l},3956:(n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(40987);o.ColorSpectrum=r(92728),o.ColorToRGBA=r(91588),o.ComponentToHex=r(62957),o.GetColor=r(37589),o.GetColor32=r(1e3),o.HexStringToColor=r(70238),o.HSLToColor=r(62183),o.HSVColorWheel=r(27939),o.HSVToRGB=r(7537),o.HueToComponent=r(89528),o.IntegerToColor=r(30100),o.IntegerToRGB=r(90664),o.Interpolate=r(13699),o.ObjectToColor=r(68957),o.RandomRGB=r(85386),o.RGBStringToColor=r(87388),o.RGBToHSV=r(87837),o.RGBToString=r(75723),o.ValueToColor=r(80333),n.exports=o},27460:(n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports={Align:r(71926),BaseShader:r(73894),Bounds:r(58724),Canvas:r(26253),Color:r(3956),ColorMatrix:r(89422),Masks:r(69781),RGB:r(51767)}},6858:(n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(83419),x=r(39429),d=new o({initialize:function(l,a,f,c,u,v){a||(a=l.sys.make.image({x:f,y:c,key:u,frame:v,add:!1})),this.bitmapMask=a,this.invertAlpha=!1,this.isStencil=!1},setBitmap:function(h){this.bitmapMask=h},preRenderWebGL:function(h,l,a){h.pipelines.BITMAPMASK_PIPELINE.beginMask(this,l,a)},postRenderWebGL:function(h,l,a){h.pipelines.BITMAPMASK_PIPELINE.endMask(this,l,a)},preRenderCanvas:function(){},postRenderCanvas:function(){},destroy:function(){this.bitmapMask=null}});x.register("bitmapMask",function(h,l,a,f,c){return new d(this.scene,h,l,a,f,c)}),n.exports=d},80661:(n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(83419),x=new o({initialize:function(h,l){this.geometryMask=l,this.invertAlpha=!1,this.isStencil=!0,this.level=0},setShape:function(d){return this.geometryMask=d,this},setInvertAlpha:function(d){return d===void 0&&(d=!0),this.invertAlpha=d,this},preRenderWebGL:function(d,h,l){var a=d.gl;d.flush(),d.maskStack.length===0&&(a.enable(a.STENCIL_TEST),a.clear(a.STENCIL_BUFFER_BIT),d.maskCount=0),d.currentCameraMask.mask!==this&&(d.currentMask.mask=this),d.maskStack.push({mask:this,camera:l}),this.applyStencil(d,l,!0),d.maskCount++},applyStencil:function(d,h,l){var a=d.gl,f=this.geometryMask,c=d.maskCount,u=255;a.colorMask(!1,!1,!1,!1),l?(a.stencilFunc(a.EQUAL,c,u),a.stencilOp(a.KEEP,a.KEEP,a.INCR),c++):(a.stencilFunc(a.EQUAL,c+1,u),a.stencilOp(a.KEEP,a.KEEP,a.DECR)),this.level=c,f.renderWebGL(d,f,h),d.flush(),a.colorMask(!0,!0,!0,!0),a.stencilOp(a.KEEP,a.KEEP,a.KEEP),this.invertAlpha?a.stencilFunc(a.NOTEQUAL,c,u):a.stencilFunc(a.EQUAL,c,u)},postRenderWebGL:function(d){var h=d.gl;d.maskStack.pop(),d.maskCount--,d.flush();var l=d.currentMask;if(d.maskStack.length===0)l.mask=null,h.disable(h.STENCIL_TEST);else{var a=d.maskStack[d.maskStack.length-1];a.mask.applyStencil(d,a.camera,!1),d.currentCameraMask.mask!==a.mask?(l.mask=a.mask,l.camera=a.camera):l.mask=null}},preRenderCanvas:function(d,h,l){var a=this.geometryMask;d.currentContext.save(),a.renderCanvas(d,a,l,null,null,!0),d.currentContext.clip()},postRenderCanvas:function(d){d.currentContext.restore()},destroy:function(){this.geometryMask=null}});n.exports=x},69781:(n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports={BitmapMask:r(6858),GeometryMask:r(80661)}},73894:(n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(83419),x=new o({initialize:function(h,l,a,f){(!l||l==="")&&(l=["precision mediump float;","uniform vec2 resolution;","varying vec2 fragCoord;","void main () {","    vec2 uv = fragCoord / resolution.xy;","    gl_FragColor = vec4(uv.xyx, 1.0);","}"].join(`
`)),(!a||a==="")&&(a=["precision mediump float;","uniform mat4 uProjectionMatrix;","uniform mat4 uViewMatrix;","uniform vec2 uResolution;","attribute vec2 inPosition;","varying vec2 fragCoord;","varying vec2 outTexCoord;","void main () {","   gl_Position = uProjectionMatrix * uViewMatrix * vec4(inPosition, 1.0, 1.0);","   fragCoord = vec2(inPosition.x, uResolution.y - inPosition.y);","   outTexCoord = vec2(inPosition.x / uResolution.x, fragCoord.y / uResolution.y);","}"].join(`
`)),f===void 0&&(f=null),this.key=h,this.fragmentSrc=l,this.vertexSrc=a,this.uniforms=f}});n.exports=x},40366:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(r,o){var x;if(o)typeof o=="string"?x=document.getElementById(o):typeof o=="object"&&o.nodeType===1&&(x=o);else if(r.parentElement||o===null)return r;return x||(x=document.body),x.appendChild(r),r};n.exports=T},83719:(n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(40366),x=function(d){var h=d.config;if(!(!h.parent||!h.domCreateContainer)){var l=document.createElement("div");l.style.cssText=["display: block;","width: "+d.scale.width+"px;","height: "+d.scale.height+"px;","padding: 0; margin: 0;","position: absolute;","overflow: hidden;","pointer-events: "+h.domPointerEvents+";","transform: scale(1);","transform-origin: left top;"].join(" "),d.domContainer=l,o(l,h.parent)}};n.exports=x},57264:(n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(25892),x=function(d){if(document.readyState==="complete"||document.readyState==="interactive"){d();return}var h=function(){document.removeEventListener("deviceready",h,!0),document.removeEventListener("DOMContentLoaded",h,!0),window.removeEventListener("load",h,!0),d()};document.body?o.cordova?document.addEventListener("deviceready",h,!1):(document.addEventListener("DOMContentLoaded",h,!0),window.addEventListener("load",h,!0)):window.setTimeout(h,20)};n.exports=x},57811:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(r){if(!r)return window.innerHeight;var o=Math.abs(window.orientation),x={w:0,h:0},d=document.createElement("div");return d.setAttribute("style","position: fixed; height: 100vh; width: 0; top: 0"),document.documentElement.appendChild(d),x.w=o===90?d.offsetHeight:window.innerWidth,x.h=o===90?window.innerWidth:d.offsetHeight,document.documentElement.removeChild(d),d=null,Math.abs(window.orientation)!==90?x.h:x.w};n.exports=T},45818:(n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(13560),x=function(d,h){var l=window.screen,a=l?l.orientation||l.mozOrientation||l.msOrientation:!1;if(a&&typeof a.type=="string")return a.type;if(typeof a=="string")return a;if(typeof window.orientation=="number")return window.orientation===0||window.orientation===180?o.ORIENTATION.PORTRAIT:o.ORIENTATION.LANDSCAPE;if(window.matchMedia){if(window.matchMedia("(orientation: portrait)").matches)return o.ORIENTATION.PORTRAIT;if(window.matchMedia("(orientation: landscape)").matches)return o.ORIENTATION.LANDSCAPE}else return h>d?o.ORIENTATION.PORTRAIT:o.ORIENTATION.LANDSCAPE};n.exports=x},74403:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(r){var o;return r!==""&&(typeof r=="string"?o=document.getElementById(r):r&&r.nodeType===1&&(o=r)),o||(o=document.body),o};n.exports=T},56836:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(r){var o="";try{if(window.DOMParser){var x=new DOMParser;o=x.parseFromString(r,"text/xml")}else o=new ActiveXObject("Microsoft.XMLDOM"),o.loadXML(r)}catch{o=null}return!o||!o.documentElement||o.getElementsByTagName("parsererror").length?null:o};n.exports=T},35846:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(r){r.parentNode&&r.parentNode.removeChild(r)};n.exports=T},43092:(n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(83419),x=r(29747),d=new o({initialize:function(){this.isRunning=!1,this.callback=x,this.isSetTimeOut=!1,this.timeOutID=null,this.delay=0;var l=this;this.step=function a(f){l.callback(f),l.isRunning&&(l.timeOutID=window.requestAnimationFrame(a))},this.stepTimeout=function a(){l.isRunning&&(l.timeOutID=window.setTimeout(a,l.delay)),l.callback(window.performance.now())}},start:function(h,l,a){this.isRunning||(this.callback=h,this.isSetTimeOut=l,this.delay=a,this.isRunning=!0,this.timeOutID=l?window.setTimeout(this.stepTimeout,0):window.requestAnimationFrame(this.step))},stop:function(){this.isRunning=!1,this.isSetTimeOut?clearTimeout(this.timeOutID):window.cancelAnimationFrame(this.timeOutID)},destroy:function(){this.stop(),this.callback=x}});n.exports=d},84902:(n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o={AddToDOM:r(40366),DOMContentLoaded:r(57264),GetInnerHeight:r(57811),GetScreenOrientation:r(45818),GetTarget:r(74403),ParseXML:r(56836),RemoveFromDOM:r(35846),RequestAnimationFrame:r(43092)};n.exports=o},47565:(n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(83419),x=r(50792),d=r(37277),h=new o({Extends:x,initialize:function(){x.call(this)},shutdown:function(){this.removeAllListeners()},destroy:function(){this.removeAllListeners()}});d.register("EventEmitter",h,"events"),n.exports=h},93055:(n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports={EventEmitter:r(47565)}},20122:(n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(83419),x=r(72898),d=r(14811),h=new o({Extends:x,initialize:function(a,f){f===void 0&&(f=1),x.call(this,d.BARREL,a),this.amount=f}});n.exports=h},32251:(n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(83419),x=r(72898),d=r(14811),h=new o({Extends:x,initialize:function(a,f,c,u,v,g,m){c===void 0&&(c=1),u===void 0&&(u=1),v===void 0&&(v=1),g===void 0&&(g=1),m===void 0&&(m=4),x.call(this,d.BLOOM,a),this.steps=m,this.offsetX=c,this.offsetY=u,this.blurStrength=v,this.strength=g,this.glcolor=[1,1,1],f!=null&&(this.color=f)},color:{get:function(){var l=this.glcolor;return(l[0]*255<<16)+(l[1]*255<<8)+(l[2]*255|0)},set:function(l){var a=this.glcolor;a[0]=(l>>16&255)/255,a[1]=(l>>8&255)/255,a[2]=(l&255)/255}}});n.exports=h},9047:(n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(83419),x=r(72898),d=r(14811),h=new o({Extends:x,initialize:function(a,f,c,u,v,g,m){f===void 0&&(f=0),c===void 0&&(c=2),u===void 0&&(u=2),v===void 0&&(v=1),m===void 0&&(m=4),x.call(this,d.BLUR,a),this.quality=f,this.x=c,this.y=u,this.steps=m,this.strength=v,this.glcolor=[1,1,1],g!=null&&(this.color=g)},color:{get:function(){var l=this.glcolor;return(l[0]*255<<16)+(l[1]*255<<8)+(l[2]*255|0)},set:function(l){var a=this.glcolor;a[0]=(l>>16&255)/255,a[1]=(l>>8&255)/255,a[2]=(l&255)/255}}});n.exports=h},27885:(n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(83419),x=r(72898),d=r(14811),h=new o({Extends:x,initialize:function(a,f,c,u,v,g,m,y){f===void 0&&(f=.5),c===void 0&&(c=1),u===void 0&&(u=.2),v===void 0&&(v=!1),g===void 0&&(g=1),m===void 0&&(m=1),y===void 0&&(y=1),x.call(this,d.BOKEH,a),this.radius=f,this.amount=c,this.contrast=u,this.isTiltShift=v,this.strength=y,this.blurX=g,this.blurY=m}});n.exports=h},12578:(n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(83419),x=r(72898),d=r(14811),h=new o({Extends:x,initialize:function(a,f,c,u,v,g){f===void 0&&(f=8),v===void 0&&(v=1),g===void 0&&(g=.005),x.call(this,d.CIRCLE,a),this.scale=v,this.feather=g,this.thickness=f,this.glcolor=[1,.2,.7],this.glcolor2=[1,0,0,.4],c!=null&&(this.color=c),u!=null&&(this.backgroundColor=u)},color:{get:function(){var l=this.glcolor;return(l[0]*255<<16)+(l[1]*255<<8)+(l[2]*255|0)},set:function(l){var a=this.glcolor;a[0]=(l>>16&255)/255,a[1]=(l>>8&255)/255,a[2]=(l&255)/255}},backgroundColor:{get:function(){var l=this.glcolor2;return(l[0]*255<<16)+(l[1]*255<<8)+(l[2]*255|0)},set:function(l){var a=this.glcolor2;a[0]=(l>>16&255)/255,a[1]=(l>>8&255)/255,a[2]=(l&255)/255}},backgroundAlpha:{get:function(){return this.glcolor2[3]},set:function(l){this.glcolor2[3]=l}}});n.exports=h},15802:(n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(83419),x=r(89422),d=r(14811),h=new o({Extends:x,initialize:function(a){x.call(this),this.type=d.COLOR_MATRIX,this.gameObject=a,this.active=!0},destroy:function(){this.gameObject=null,this._matrix=null,this._data=null}});n.exports=h},72898:(n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(83419),x=new o({initialize:function(h,l){this.type=h,this.gameObject=l,this.active=!0},setActive:function(d){return this.active=d,this},destroy:function(){this.gameObject=null,this.active=!1}});n.exports=x},44553:(n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(83419),x=r(72898),d=r(14811),h=new o({Extends:x,initialize:function(a,f,c,u){f===void 0&&(f="__WHITE"),c===void 0&&(c=.005),u===void 0&&(u=.005),x.call(this,d.DISPLACEMENT,a),this.x=c,this.y=u,this.glTexture,this.setTexture(f)},setTexture:function(l){var a=this.gameObject.scene.sys.textures.getFrame(l);return a&&(this.glTexture=a.glTexture),this}});n.exports=h},68531:(n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(83419),x=r(72898),d=r(14811),h=new o({Extends:x,initialize:function(a,f,c,u,v){c===void 0&&(c=4),u===void 0&&(u=0),v===void 0&&(v=!1),x.call(this,d.GLOW,a),this.outerStrength=c,this.innerStrength=u,this.knockout=v,this.glcolor=[1,1,1,1],f!==void 0&&(this.color=f)},color:{get:function(){var l=this.glcolor;return(l[0]*255<<16)+(l[1]*255<<8)+(l[2]*255|0)},set:function(l){var a=this.glcolor;a[0]=(l>>16&255)/255,a[1]=(l>>8&255)/255,a[2]=(l&255)/255}}});n.exports=h},37102:(n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(83419),x=r(72898),d=r(14811),h=new o({Extends:x,initialize:function(a,f,c,u,v,g,m,y,C){u===void 0&&(u=.2),v===void 0&&(v=0),g===void 0&&(g=0),m===void 0&&(m=0),y===void 0&&(y=1),C===void 0&&(C=0),x.call(this,d.GRADIENT,a),this.alpha=u,this.size=C,this.fromX=v,this.fromY=g,this.toX=m,this.toY=y,this.glcolor1=[255,0,0],this.glcolor2=[0,255,0],f!=null&&(this.color1=f),c!=null&&(this.color2=c)},color1:{get:function(){var l=this.glcolor1;return(l[0]<<16)+(l[1]<<8)+(l[2]|0)},set:function(l){var a=this.glcolor1;a[0]=l>>16&255,a[1]=l>>8&255,a[2]=l&255}},color2:{get:function(){var l=this.glcolor2;return(l[0]<<16)+(l[1]<<8)+(l[2]|0)},set:function(l){var a=this.glcolor2;a[0]=l>>16&255,a[1]=l>>8&255,a[2]=l&255}}});n.exports=h},86886:(n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(83419),x=r(72898),d=r(14811),h=new o({Extends:x,initialize:function(a,f){f===void 0&&(f=1),x.call(this,d.PIXELATE,a),this.amount=f}});n.exports=h},92322:(n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(83419),x=r(72898),d=r(14811),h=new o({Extends:x,initialize:function(a,f,c,u,v,g,m,y){f===void 0&&(f=0),c===void 0&&(c=0),u===void 0&&(u=.1),v===void 0&&(v=1),m===void 0&&(m=6),y===void 0&&(y=1),x.call(this,d.SHADOW,a),this.x=f,this.y=c,this.decay=u,this.power=v,this.glcolor=[0,0,0,1],this.samples=m,this.intensity=y,g!==void 0&&(this.color=g)},color:{get:function(){var l=this.glcolor;return(l[0]*255<<16)+(l[1]*255<<8)+(l[2]*255|0)},set:function(l){var a=this.glcolor;a[0]=(l>>16&255)/255,a[1]=(l>>8&255)/255,a[2]=(l&255)/255}}});n.exports=h},39563:(n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(83419),x=r(72898),d=r(14811),h=new o({Extends:x,initialize:function(a,f,c,u,v){f===void 0&&(f=.5),c===void 0&&(c=.5),u===void 0&&(u=3),v===void 0&&(v=!1),x.call(this,d.SHINE,a),this.speed=f,this.lineWidth=c,this.gradient=u,this.reveal=v}});n.exports=h},56448:(n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(83419),x=r(72898),d=r(14811),h=new o({Extends:x,initialize:function(a,f,c,u,v){f===void 0&&(f=.5),c===void 0&&(c=.5),u===void 0&&(u=.5),v===void 0&&(v=.5),x.call(this,d.VIGNETTE,a),this.x=f,this.y=c,this.radius=u,this.strength=v}});n.exports=h},38433:(n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(83419),x=r(72898),d=r(14811),h=new o({Extends:x,initialize:function(a,f,c,u,v){f===void 0&&(f=.1),c===void 0&&(c=0),u===void 0&&(u=0),v===void 0&&(v=!1),x.call(this,d.WIPE,a),this.progress=0,this.wipeWidth=f,this.direction=c,this.axis=u,this.reveal=v}});n.exports=h},14811:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T={GLOW:4,SHADOW:5,PIXELATE:6,VIGNETTE:7,SHINE:8,BLUR:9,GRADIENT:12,BLOOM:13,COLOR_MATRIX:14,CIRCLE:15,BARREL:16,DISPLACEMENT:17,WIPE:18,BOKEH:19};n.exports=T},66064:(n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(79291),x=r(14811),d={Barrel:r(20122),Controller:r(72898),Bloom:r(32251),Blur:r(9047),Bokeh:r(27885),Circle:r(12578),ColorMatrix:r(15802),Displacement:r(44553),Glow:r(68531),Gradient:r(37102),Pixelate:r(86886),Shadow:r(92322),Shine:r(39563),Vignette:r(56448),Wipe:r(38433)};d=o(!1,d,x),n.exports=d},25305:(n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(10312),x=r(23568),d=function(h,l,a){l.x=x(a,"x",0),l.y=x(a,"y",0),l.depth=x(a,"depth",0),l.flipX=x(a,"flipX",!1),l.flipY=x(a,"flipY",!1);var f=x(a,"scale",null);typeof f=="number"?l.setScale(f):f!==null&&(l.scaleX=x(f,"x",1),l.scaleY=x(f,"y",1));var c=x(a,"scrollFactor",null);typeof c=="number"?l.setScrollFactor(c):c!==null&&(l.scrollFactorX=x(c,"x",1),l.scrollFactorY=x(c,"y",1)),l.rotation=x(a,"rotation",0);var u=x(a,"angle",null);u!==null&&(l.angle=u),l.alpha=x(a,"alpha",1);var v=x(a,"origin",null);if(typeof v=="number")l.setOrigin(v);else if(v!==null){var g=x(v,"x",.5),m=x(v,"y",.5);l.setOrigin(g,m)}l.blendMode=x(a,"blendMode",o.NORMAL),l.visible=x(a,"visible",!0);var y=x(a,"add",!0);return y&&h.sys.displayList.add(l),l.preUpdate&&h.sys.updateList.add(l),l};n.exports=d},13059:(n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(23568),x=function(d,h){var l=o(h,"anims",null);if(l===null)return d;if(typeof l=="string")d.anims.play(l);else if(typeof l=="object"){var a=d.anims,f=o(l,"key",void 0);if(f){var c=o(l,"startFrame",void 0),u=o(l,"delay",0),v=o(l,"repeat",0),g=o(l,"repeatDelay",0),m=o(l,"yoyo",!1),y=o(l,"play",!1),C=o(l,"delayedPlay",0),b={key:f,delay:u,repeat:v,repeatDelay:g,yoyo:m,startFrame:c};y?a.play(b):C>0?a.playAfterDelay(b,C):a.load(b)}}return d};n.exports=x},8050:(n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(83419),x=r(73162),d=r(37277),h=r(51708),l=r(44594),a=r(19186),f=new o({Extends:x,initialize:function(u){x.call(this,u),this.sortChildrenFlag=!1,this.scene=u,this.systems=u.sys,this.events=u.sys.events,this.addCallback=this.addChildCallback,this.removeCallback=this.removeChildCallback,this.events.once(l.BOOT,this.boot,this),this.events.on(l.START,this.start,this)},boot:function(){this.events.once(l.DESTROY,this.destroy,this)},addChildCallback:function(c){c.displayList&&c.displayList!==this&&c.removeFromDisplayList(),c.parentContainer&&c.parentContainer.remove(c),c.displayList||(this.queueDepthSort(),c.displayList=this,c.emit(h.ADDED_TO_SCENE,c,this.scene),this.events.emit(l.ADDED_TO_SCENE,c,this.scene))},removeChildCallback:function(c){this.queueDepthSort(),c.displayList=null,c.emit(h.REMOVED_FROM_SCENE,c,this.scene),this.events.emit(l.REMOVED_FROM_SCENE,c,this.scene)},start:function(){this.events.once(l.SHUTDOWN,this.shutdown,this)},queueDepthSort:function(){this.sortChildrenFlag=!0},depthSort:function(){this.sortChildrenFlag&&(a(this.list,this.sortByDepth),this.sortChildrenFlag=!1)},sortByDepth:function(c,u){return c._depth-u._depth},getChildren:function(){return this.list},shutdown:function(){for(var c=this.list,u=c.length;u--;)c[u].destroy(!0);c.length=0,this.events.off(l.SHUTDOWN,this.shutdown,this)},destroy:function(){this.shutdown(),this.events.off(l.START,this.start,this),this.scene=null,this.systems=null,this.events=null}});d.register("DisplayList",f,"displayList"),n.exports=f},95643:(n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(83419),x=r(53774),d=r(45893),h=r(50792),l=r(51708),a=r(44594),f=new o({Extends:h,initialize:function(u,v){h.call(this),this.scene=u,this.displayList=null,this.type=v,this.state=0,this.parentContainer=null,this.name="",this.active=!0,this.tabIndex=-1,this.data=null,this.renderFlags=15,this.cameraFilter=0,this.input=null,this.body=null,this.ignoreDestroy=!1,this.on(l.ADDED_TO_SCENE,this.addedToScene,this),this.on(l.REMOVED_FROM_SCENE,this.removedFromScene,this),u.sys.queueDepthSort()},setActive:function(c){return this.active=c,this},setName:function(c){return this.name=c,this},setState:function(c){return this.state=c,this},setDataEnabled:function(){return this.data||(this.data=new d(this)),this},setData:function(c,u){return this.data||(this.data=new d(this)),this.data.set(c,u),this},incData:function(c,u){return this.data||(this.data=new d(this)),this.data.inc(c,u),this},toggleData:function(c){return this.data||(this.data=new d(this)),this.data.toggle(c),this},getData:function(c){return this.data||(this.data=new d(this)),this.data.get(c)},setInteractive:function(c,u,v){return this.scene.sys.input.enable(this,c,u,v),this},disableInteractive:function(c){return c===void 0&&(c=!1),this.scene.sys.input.disable(this,c),this},removeInteractive:function(c){return c===void 0&&(c=!1),this.scene.sys.input.clear(this),c&&this.scene.sys.input.resetCursor(),this.input=void 0,this},addedToScene:function(){},removedFromScene:function(){},update:function(){},toJSON:function(){return x(this)},willRender:function(c){var u=this.displayList&&this.displayList.active?this.displayList.willRender(c):!0;return!(!u||f.RENDER_MASK!==this.renderFlags||this.cameraFilter!==0&&this.cameraFilter&c.id)},getIndexList:function(){for(var c=this,u=this.parentContainer,v=[];u&&(v.unshift(u.getIndex(c)),c=u,u.parentContainer);)u=u.parentContainer;return this.displayList?v.unshift(this.displayList.getIndex(c)):v.unshift(this.scene.sys.displayList.getIndex(c)),v},addToDisplayList:function(c){return c===void 0&&(c=this.scene.sys.displayList),this.displayList&&this.displayList!==c&&this.removeFromDisplayList(),c.exists(this)||(this.displayList=c,c.add(this,!0),c.queueDepthSort(),this.emit(l.ADDED_TO_SCENE,this,this.scene),c.events.emit(a.ADDED_TO_SCENE,this,this.scene)),this},addToUpdateList:function(){return this.scene&&this.preUpdate&&this.scene.sys.updateList.add(this),this},removeFromDisplayList:function(){var c=this.displayList||this.scene.sys.displayList;return c&&c.exists(this)&&(c.remove(this,!0),c.queueDepthSort(),this.displayList=null,this.emit(l.REMOVED_FROM_SCENE,this,this.scene),c.events.emit(a.REMOVED_FROM_SCENE,this,this.scene)),this},removeFromUpdateList:function(){return this.scene&&this.preUpdate&&this.scene.sys.updateList.remove(this),this},getDisplayList:function(){var c=null;return this.parentContainer?c=this.parentContainer.list:this.displayList&&(c=this.displayList.list),c},destroy:function(c){!this.scene||this.ignoreDestroy||(c===void 0&&(c=!1),this.preDestroy&&this.preDestroy.call(this),this.emit(l.DESTROY,this,c),this.removeAllListeners(),this.postPipelines&&this.resetPostPipeline(!0),this.removeFromDisplayList(),this.removeFromUpdateList(),this.input&&(this.scene.sys.input.clear(this),this.input=void 0),this.data&&(this.data.destroy(),this.data=void 0),this.body&&(this.body.destroy(),this.body=void 0),this.preFX&&(this.preFX.destroy(),this.preFX=void 0),this.postFX&&(this.postFX.destroy(),this.postFX=void 0),this.active=!1,this.visible=!1,this.scene=void 0,this.parentContainer=void 0)}});f.RENDER_MASK=15,n.exports=f},44603:(n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(83419),x=r(37277),d=r(44594),h=new o({initialize:function(a){this.scene=a,this.systems=a.sys,this.events=a.sys.events,this.displayList,this.updateList,this.events.once(d.BOOT,this.boot,this),this.events.on(d.START,this.start,this)},boot:function(){this.displayList=this.systems.displayList,this.updateList=this.systems.updateList,this.events.once(d.DESTROY,this.destroy,this)},start:function(){this.events.once(d.SHUTDOWN,this.shutdown,this)},shutdown:function(){this.events.off(d.SHUTDOWN,this.shutdown,this)},destroy:function(){this.shutdown(),this.events.off(d.START,this.start,this),this.scene=null,this.systems=null,this.events=null,this.displayList=null,this.updateList=null}});h.register=function(l,a){h.prototype.hasOwnProperty(l)||(h.prototype[l]=a)},h.remove=function(l){h.prototype.hasOwnProperty(l)&&delete h.prototype[l]},x.register("GameObjectCreator",h,"make"),n.exports=h},39429:(n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(83419),x=r(37277),d=r(44594),h=new o({initialize:function(a){this.scene=a,this.systems=a.sys,this.events=a.sys.events,this.displayList,this.updateList,this.events.once(d.BOOT,this.boot,this),this.events.on(d.START,this.start,this)},boot:function(){this.displayList=this.systems.displayList,this.updateList=this.systems.updateList,this.events.once(d.DESTROY,this.destroy,this)},start:function(){this.events.once(d.SHUTDOWN,this.shutdown,this)},existing:function(l){return(l.renderCanvas||l.renderWebGL)&&this.displayList.add(l),l.preUpdate&&this.updateList.add(l),l},shutdown:function(){this.events.off(d.SHUTDOWN,this.shutdown,this)},destroy:function(){this.shutdown(),this.events.off(d.START,this.start,this),this.scene=null,this.systems=null,this.events=null,this.displayList=null,this.updateList=null}});h.register=function(l,a){h.prototype.hasOwnProperty(l)||(h.prototype[l]=a)},h.remove=function(l){h.prototype.hasOwnProperty(l)&&delete h.prototype[l]},x.register("GameObjectFactory",h,"add"),n.exports=h},91296:(n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(61340),x=new o,d=new o,h=new o,l={camera:x,sprite:d,calc:h},a=function(f,c,u){var v=x,g=d,m=h;return g.applyITRS(f.x,f.y,f.rotation,f.scaleX,f.scaleY),v.copyFrom(c.matrix),u?(v.multiplyWithOffset(u,-c.scrollX*f.scrollFactorX,-c.scrollY*f.scrollFactorY),g.e=f.x,g.f=f.y):(g.e-=c.scrollX*f.scrollFactorX,g.f-=c.scrollY*f.scrollFactorY),v.multiply(g,m),l};n.exports=a},45027:(n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(83419),x=r(25774),d=r(37277),h=r(44594),l=new o({Extends:x,initialize:function(f){x.call(this),this.checkQueue=!0,this.scene=f,this.systems=f.sys,f.sys.events.once(h.BOOT,this.boot,this),f.sys.events.on(h.START,this.start,this)},boot:function(){this.systems.events.once(h.DESTROY,this.destroy,this)},start:function(){var a=this.systems.events;a.on(h.PRE_UPDATE,this.update,this),a.on(h.UPDATE,this.sceneUpdate,this),a.once(h.SHUTDOWN,this.shutdown,this)},sceneUpdate:function(a,f){for(var c=this._active,u=c.length,v=0;v<u;v++){var g=c[v];g.active&&g.preUpdate.call(g,a,f)}},shutdown:function(){for(var a=this._active.length;a--;)this._active[a].destroy(!0);for(a=this._pending.length;a--;)this._pending[a].destroy(!0);for(a=this._destroy.length;a--;)this._destroy[a].destroy(!0);this._toProcess=0,this._pending=[],this._active=[],this._destroy=[],this.removeAllListeners();var f=this.systems.events;f.off(h.PRE_UPDATE,this.update,this),f.off(h.UPDATE,this.sceneUpdate,this),f.off(h.SHUTDOWN,this.shutdown,this)},destroy:function(){this.shutdown(),this.systems.events.off(h.START,this.start,this),this.scene=null,this.systems=null}});d.register("UpdateList",l,"updateList"),n.exports=l},3217:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(r,o,x,d,h,l,a,f,c,u,v,g,m,y,C){var b=x.x-o.displayOriginX+h,M=x.y-o.displayOriginY+l,w=b+x.w,R=M+x.h,A=a.a,L=a.b,F=a.c,G=a.d,I=a.e,B=a.f,k=b*A+M*F+I,U=b*L+M*G+B,H=b*A+R*F+I,X=b*L+R*G+B,j=w*A+R*F+I,J=w*L+R*G+B,Y=w*A+M*F+I,$=w*L+M*G+B;f&&(k=Math.round(k),U=Math.round(U),H=Math.round(H),X=Math.round(X),j=Math.round(j),J=Math.round(J),Y=Math.round(Y),$=Math.round($)),r.batchQuad(o,k,U,H,X,j,J,Y,$,d.u0,d.v0,d.u1,d.v1,c,u,v,g,m,y,C)};n.exports=T},53048:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(r,o,x,d){if(x===void 0&&(x=!1),d===void 0)return d={local:{x:0,y:0,width:0,height:0},global:{x:0,y:0,width:0,height:0},lines:{shortest:0,longest:0,lengths:null,height:0},wrappedText:"",words:[],characters:[],scaleX:0,scaleY:0},d;var h=r.text,l=h.length,a=r.maxWidth,f=r.wordWrapCharCode,c=Number.MAX_VALUE,u=Number.MAX_VALUE,v=0,g=0,m=r.fontData.chars,y=r.fontData.lineHeight,C=r.letterSpacing,b=r.lineSpacing,M=0,w=0,R=0,A=null,L=r._align,F=0,G=0,I=r.fontSize/r.fontData.size,B=I*r.scaleX,k=I*r.scaleY,U=null,H=0,X=[],j=Number.MAX_VALUE,J=0,Y=0,$=0,z,V,K,Q=[],_=[],tt=null,rt=function(ai,kt){for(var Wt=0,fe=0;fe<ai.length;fe++){var xe=ai.charCodeAt(fe),Ie=kt.chars[xe];Ie&&(Wt+=Ie.xAdvance)}return Wt*B};if(a>0){K=h.split(`
`);var ot=[];for(z=0;z<K.length;z++){var ft=K[z],ct="",gt="",xt="",Mt="";for(V=0;V<ft.length;V++)if(R=ft.charCodeAt(V),ct+=ft[V],R===f||V===ft.length-1){Mt=xt+ct;var Tt=rt(Mt,r.fontData);Tt<=a?xt=Mt:(gt=gt.slice(0,-1),gt+=(gt?`
`:"")+xt,xt=ct),ct=""}gt=gt.slice(0,-1),gt+=(gt?`
`:"")+xt,ot.push(gt)}h=ot.join(`
`),d.wrappedText=h,l=h.length}var Ht=0;for(z=0;z<l;z++){if(R=h.charCodeAt(z),R===10){tt!==null&&(Q.push({word:tt.word,i:tt.i,x:tt.x*B,y:tt.y*k,w:tt.w*B,h:tt.h*k}),tt=null),U=null,X[Y]=$,$>J&&(J=$),$<j&&(j=$),Y++,$=0,M=0,w=(y+b)*Y;continue}if(A=m[R],!!A){if(F=M,G=w,U!==null){var Xt=A.kerning[H];F+=Xt!==void 0?Xt:0}c>F&&(c=F),u>G&&(u=G);var Kt=F+A.xAdvance,bt=G+y;v<Kt&&(v=Kt),g<bt&&(g=bt);var Ut=A.xOffset+A.xAdvance+(Xt!==void 0?Xt:0);R===f?tt!==null&&(Q.push({word:tt.word,i:tt.i,x:tt.x*B,y:tt.y*k,w:tt.w*B,h:tt.h*k}),tt=null):(tt===null&&(tt={word:"",i:Ht,x:M,y:w,w:0,h:y}),tt.word=tt.word.concat(h[z]),tt.w+=Ut),_.push({i:Ht,idx:z,char:h[z],code:R,x:(A.xOffset+F)*I,y:(A.yOffset+w)*I,w:A.width*I,h:A.height*I,t:w*I,r:Kt*I,b:y*I,line:Y,glyph:A}),M+=A.xAdvance+C+(Xt!==void 0?Xt:0),U=A,H=R,$=Kt*I,Ht++}}if(tt!==null&&Q.push({word:tt.word,i:tt.i,x:tt.x*B,y:tt.y*k,w:tt.w*B,h:tt.h*k}),X[Y]=$,$>J&&(J=$),$<j&&(j=$),L>0)for(var Vt=0;Vt<_.length;Vt++){var ee=_[Vt];if(L===1){var Ee=(J-X[ee.line])/2;ee.x+=Ee,ee.r+=Ee}else if(L===2){var Me=J-X[ee.line];ee.x+=Me,ee.r+=Me}}var ve=d.local,Fe=d.global;return K=d.lines,ve.x=c*I,ve.y=u*I,ve.width=v*I,ve.height=g*I,Fe.x=r.x-r._displayOriginX+c*B,Fe.y=r.y-r._displayOriginY+u*k,Fe.width=v*B,Fe.height=g*k,K.shortest=j,K.longest=J,K.lengths=X,o&&(ve.x=Math.ceil(ve.x),ve.y=Math.ceil(ve.y),ve.width=Math.ceil(ve.width),ve.height=Math.ceil(ve.height),Fe.x=Math.ceil(Fe.x),Fe.y=Math.ceil(Fe.y),Fe.width=Math.ceil(Fe.width),Fe.height=Math.ceil(Fe.height),K.shortest=Math.ceil(j),K.longest=Math.ceil(J)),x&&(r._displayOriginX=r.originX*ve.width,r._displayOriginY=r.originY*ve.height,Fe.x=r.x-r._displayOriginX*r.scaleX,Fe.y=r.y-r._displayOriginY*r.scaleY,o&&(Fe.x=Math.ceil(Fe.x),Fe.y=Math.ceil(Fe.y))),d.words=Q,d.characters=_,d.lines.height=y,d.scale=I,d.scaleX=r.scaleX,d.scaleY=r.scaleY,d};n.exports=T},61327:(n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(21859),x=function(d,h,l,a,f,c,u){var v=d.sys.textures.get(l),g=v.get(a),m=d.sys.cache.xml.get(f);if(g&&m){var y=o(m,g,c,u,v);return d.sys.cache.bitmapFont.add(h,{data:y,texture:l,frame:a,fromAtlas:!0}),!0}else return!1};n.exports=x},6925:(n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(35154),x=function(d,h){var l=h.width,a=h.height,f=Math.floor(l/2),c=Math.floor(a/2),u=o(h,"chars","");if(u!==""){var v=o(h,"image",""),g=d.sys.textures.getFrame(v),m=g.cutX,y=g.cutY,C=g.source.width,b=g.source.height,M=o(h,"offset.x",0),w=o(h,"offset.y",0),R=o(h,"spacing.x",0),A=o(h,"spacing.y",0),L=o(h,"lineSpacing",0),F=o(h,"charsPerRow",null);F===null&&(F=C/l,F>u.length&&(F=u.length));for(var G=M,I=w,B={retroFont:!0,font:v,size:l,lineHeight:a+L,chars:{}},k=0,U=0;U<u.length;U++){var H=u.charCodeAt(U),X=(m+G)/C,j=(y+I)/b,J=(m+G+l)/C,Y=(y+I+a)/b;B.chars[H]={x:G,y:I,width:l,height:a,centerX:f,centerY:c,xOffset:0,yOffset:0,xAdvance:l,data:{},kerning:{},u0:X,v0:j,u1:J,v1:Y},k++,k===F?(k=0,G=M,I+=a+A):G+=l+R}var $={data:B,frame:null,texture:v};return $}};n.exports=x},21859:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */function T(o,x){return parseInt(o.getAttribute(x),10)}var r=function(o,x,d,h,l){d===void 0&&(d=0),h===void 0&&(h=0);var a=x.cutX,f=x.cutY,c=x.source.width,u=x.source.height,v=x.sourceIndex,g={},m=o.getElementsByTagName("info")[0],y=o.getElementsByTagName("common")[0];g.font=m.getAttribute("face"),g.size=T(m,"size"),g.lineHeight=T(y,"lineHeight")+h,g.chars={};var C=o.getElementsByTagName("char"),b=x!==void 0&&x.trimmed;if(b)var M=x.height,w=x.width;for(var R=0;R<C.length;R++){var A=C[R],L=T(A,"id"),F=String.fromCharCode(L),G=T(A,"x"),I=T(A,"y"),B=T(A,"width"),k=T(A,"height");b&&(G<w&&(w=G),I<M&&(M=I)),b&&M!==0&&w!==0&&(G-=x.x,I-=x.y);var U=(a+G)/c,H=(f+I)/u,X=(a+G+B)/c,j=(f+I+k)/u;if(g.chars[L]={x:G,y:I,width:B,height:k,centerX:Math.floor(B/2),centerY:Math.floor(k/2),xOffset:T(A,"xoffset"),yOffset:T(A,"yoffset"),xAdvance:T(A,"xadvance")+d,data:{},kerning:{},u0:U,v0:H,u1:X,v1:j},l&&B!==0&&k!==0){var J=l.add(F,v,G,I,B,k);J&&J.setUVs(B,k,U,H,X,j)}}var Y=o.getElementsByTagName("kerning");for(R=0;R<Y.length;R++){var $=Y[R],z=T($,"first"),V=T($,"second"),K=T($,"amount");g.chars[V].kerning[z]=K}return g};n.exports=r},196:(n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(87662),x=r(79291),d={Parse:r(6925)};d=x(!1,d,o),n.exports=d},87662:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T={TEXT_SET1:" !\"#$%&'()*+,-./0123456789:;<=>?@ABCDEFGHIJKLMNOPQRSTUVWXYZ[\\]^_`abcdefghijklmnopqrstuvwxyz{|}~",TEXT_SET2:` !"#$%&'()*+,-./0123456789:;<=>?@ABCDEFGHIJKLMNOPQRSTUVWXYZ`,TEXT_SET3:"ABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789 ",TEXT_SET4:"ABCDEFGHIJKLMNOPQRSTUVWXYZ 0123456789",TEXT_SET5:"ABCDEFGHIJKLMNOPQRSTUVWXYZ.,/() '!?-*:0123456789",TEXT_SET6:`ABCDEFGHIJKLMNOPQRSTUVWXYZ!?:;0123456789"(),-.' `,TEXT_SET7:`AGMSY+:4BHNTZ!;5CIOU.?06DJPV,(17EKQW")28FLRX-'39`,TEXT_SET8:"0123456789 .ABCDEFGHIJKLMNOPQRSTUVWXYZ",TEXT_SET9:`ABCDEFGHIJKLMNOPQRSTUVWXYZ()-0123456789.:,'"?!`,TEXT_SET10:"ABCDEFGHIJKLMNOPQRSTUVWXYZ",TEXT_SET11:`ABCDEFGHIJKLMNOPQRSTUVWXYZ.,"-+!?()':;0123456789`};n.exports=T},2638:(n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(22186),x=r(83419),d=r(12310),h=new x({Extends:o,Mixins:[d],initialize:function(a,f,c,u,v,g,m){o.call(this,a,f,c,u,v,g,m),this.type="DynamicBitmapText",this.scrollX=0,this.scrollY=0,this.cropWidth=0,this.cropHeight=0,this.displayCallback,this.callbackData={parent:this,color:0,tint:{topLeft:0,topRight:0,bottomLeft:0,bottomRight:0},index:0,charCode:0,x:0,y:0,scale:0,rotation:0,data:0}},setSize:function(l,a){return this.cropWidth=l,this.cropHeight=a,this},setDisplayCallback:function(l){return this.displayCallback=l,this},setScrollX:function(l){return this.scrollX=l,this},setScrollY:function(l){return this.scrollY=l,this}});n.exports=h},86741:(n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(20926),x=function(d,h,l,a){var f=h._text,c=f.length,u=d.currentContext;if(!(c===0||!o(d,u,h,l,a))){l.addToRenderList(h);var v=h.fromAtlas?h.frame:h.texture.frames.__BASE,g=h.displayCallback,m=h.callbackData,y=h.fontData.chars,C=h.fontData.lineHeight,b=h._letterSpacing,M=0,w=0,R=0,A=null,L=0,F=0,G=0,I=0,B=0,k=0,U=null,H=0,X=h.frame.source.image,j=v.cutX,J=v.cutY,Y=0,$=0,z=h._fontSize/h.fontData.size,V=h._align,K=0,Q=0;h.getTextBounds(!1);var _=h._bounds.lines;V===1?Q=(_.longest-_.lengths[0])/2:V===2&&(Q=_.longest-_.lengths[0]),u.translate(-h.displayOriginX,-h.displayOriginY);var tt=l.roundPixels;h.cropWidth>0&&h.cropHeight>0&&(u.beginPath(),u.rect(0,0,h.cropWidth,h.cropHeight),u.clip());for(var rt=0;rt<c;rt++){if($=z,Y=0,R=f.charCodeAt(rt),R===10){K++,V===1?Q=(_.longest-_.lengths[K])/2:V===2&&(Q=_.longest-_.lengths[K]),M=0,w+=C,U=null;continue}if(A=y[R],!!A){if(L=j+A.x,F=J+A.y,G=A.width,I=A.height,B=A.xOffset+M-h.scrollX,k=A.yOffset+w-h.scrollY,U!==null){var ot=A.kerning[H];B+=ot!==void 0?ot:0}if(g){m.index=rt,m.charCode=R,m.x=B,m.y=k,m.scale=$,m.rotation=Y,m.data=A.data;var ft=g(m);B=ft.x,k=ft.y,$=ft.scale,Y=ft.rotation}B*=$,k*=$,B+=Q,M+=A.xAdvance+b+(ot!==void 0?ot:0),U=A,H=R,!(G===0||I===0||R===32)&&(tt&&(B=Math.round(B),k=Math.round(k)),u.save(),u.translate(B,k),u.rotate(Y),u.scale($,$),u.drawImage(X,L,F,G,I,0,0,G,I),u.restore())}}u.restore()}};n.exports=x},11164:(n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(2638),x=r(25305),d=r(44603),h=r(23568);d.register("dynamicBitmapText",function(l,a){l===void 0&&(l={});var f=h(l,"font",""),c=h(l,"text",""),u=h(l,"size",!1),v=new o(this.scene,0,0,f,c,u);return a!==void 0&&(l.add=a),x(this.scene,v,l),v})},72566:(n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(2638),x=r(39429);x.register("dynamicBitmapText",function(d,h,l,a,f){return this.displayList.add(new o(this.scene,d,h,l,a,f))})},12310:(n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(29747),x=o,d=o;x=r(73482),d=r(86741),n.exports={renderWebGL:x,renderCanvas:d}},73482:(n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(91296),x=r(61340),d=r(70554),h=new x,l=function(a,f,c,u){var v=f.text,g=v.length;if(g!==0){c.addToRenderList(f);var m=a.pipelines.set(f.pipeline,f),y=o(f,c,u);a.pipelines.preBatch(f);var C=y.sprite,b=y.calc,M=h,w=f.cropWidth>0||f.cropHeight>0;w&&(m.flush(),a.pushScissor(b.tx,b.ty,f.cropWidth*b.scaleX,f.cropHeight*b.scaleY));var R=f.frame,A=R.glTexture,L=f.tintFill,F=d.getTintAppendFloatAlpha(f.tintTopLeft,c.alpha*f._alphaTL),G=d.getTintAppendFloatAlpha(f.tintTopRight,c.alpha*f._alphaTR),I=d.getTintAppendFloatAlpha(f.tintBottomLeft,c.alpha*f._alphaBL),B=d.getTintAppendFloatAlpha(f.tintBottomRight,c.alpha*f._alphaBR),k=m.setGameObject(f),U=0,H=0,X=0,j=0,J=f.letterSpacing,Y,$=0,z=0,V,K=f.scrollX,Q=f.scrollY,_=f.fontData,tt=_.chars,rt=_.lineHeight,ot=f.fontSize/_.size,ft=0,ct=f._align,gt=0,xt=0,Mt=f.getTextBounds(!1);f.maxWidth>0&&(v=Mt.wrappedText,g=v.length);var Tt=f._bounds.lines;ct===1?xt=(Tt.longest-Tt.lengths[0])/2:ct===2&&(xt=Tt.longest-Tt.lengths[0]);for(var Ht=c.roundPixels,Xt=f.displayCallback,Kt=f.callbackData,bt=0;bt<g;bt++){if(X=v.charCodeAt(bt),X===10){gt++,ct===1?xt=(Tt.longest-Tt.lengths[gt])/2:ct===2&&(xt=Tt.longest-Tt.lengths[gt]),U=0,H+=rt,V=null;continue}if(Y=tt[X],!!Y){$=Y.width,z=Y.height;var Ut=Y.xOffset+U-K,Vt=Y.yOffset+H-Q;if(V!==null){var ee=Y.kerning[j]||0;Ut+=ee,U+=ee}if(U+=Y.xAdvance+J,V=Y,j=X,!($===0||z===0||X===32)){if(ot=f.fontSize/f.fontData.size,ft=0,Xt){Kt.color=0,Kt.tint.topLeft=F,Kt.tint.topRight=G,Kt.tint.bottomLeft=I,Kt.tint.bottomRight=B,Kt.index=bt,Kt.charCode=X,Kt.x=Ut,Kt.y=Vt,Kt.scale=ot,Kt.rotation=ft,Kt.data=Y.data;var Ee=Xt(Kt);Ut=Ee.x,Vt=Ee.y,ot=Ee.scale,ft=Ee.rotation,Ee.color?(F=Ee.color,G=Ee.color,I=Ee.color,B=Ee.color):(F=Ee.tint.topLeft,G=Ee.tint.topRight,I=Ee.tint.bottomLeft,B=Ee.tint.bottomRight),F=d.getTintAppendFloatAlpha(F,c.alpha*f._alphaTL),G=d.getTintAppendFloatAlpha(G,c.alpha*f._alphaTR),I=d.getTintAppendFloatAlpha(I,c.alpha*f._alphaBL),B=d.getTintAppendFloatAlpha(B,c.alpha*f._alphaBR)}Ut*=ot,Vt*=ot,Ut-=f.displayOriginX,Vt-=f.displayOriginY,Ut+=xt,M.applyITRS(Ut,Vt,ft,ot,ot),b.multiply(M,C);var Me=Y.u0,ve=Y.v0,Fe=Y.u1,ai=Y.v1,kt=$,Wt=z,fe=C.e,xe=C.f,Ie=Wt*C.c+C.e,Ri=Wt*C.d+C.f,Ci=kt*C.a+Wt*C.c+C.e,Xi=kt*C.b+Wt*C.d+C.f,ti=kt*C.a+C.e,Hi=kt*C.b+C.f;Ht&&(fe=Math.round(fe),xe=Math.round(xe),Ie=Math.round(Ie),Ri=Math.round(Ri),Ci=Math.round(Ci),Xi=Math.round(Xi),ti=Math.round(ti),Hi=Math.round(Hi)),m.shouldFlush(6)&&(m.flush(),k=m.setGameObject(f)),m.batchQuad(f,fe,xe,Ie,Ri,Ci,Xi,ti,Hi,Me,ve,Fe,ai,F,G,I,B,L,A,k)}}}w&&(m.flush(),a.popScissor()),a.pipelines.postBatch(f)}};n.exports=l},22186:(n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(83419),x=r(45319),d=r(31401),h=r(95643),l=r(53048),a=r(61327),f=r(21859),c=r(87841),u=r(18658),v=new o({Extends:h,Mixins:[d.Alpha,d.BlendMode,d.Depth,d.GetBounds,d.Mask,d.Origin,d.Pipeline,d.PostPipeline,d.ScrollFactor,d.Texture,d.Tint,d.Transform,d.Visible,u],initialize:function(m,y,C,b,M,w,R){M===void 0&&(M=""),R===void 0&&(R=0),h.call(this,m,"BitmapText"),this.font=b;var A=this.scene.sys.cache.bitmapFont.get(b);if(!A)throw new Error("Invalid BitmapText key: "+b);this.fontData=A.data,this._text="",this._fontSize=w||this.fontData.size,this._letterSpacing=0,this._lineSpacing=0,this._align=R,this._bounds=l(),this._dirty=!0,this._maxWidth=0,this.wordWrapCharCode=32,this.charColors=[],this.dropShadowX=0,this.dropShadowY=0,this.dropShadowColor=0,this.dropShadowAlpha=.5,this.fromAtlas=A.fromAtlas,this.setTexture(A.texture,A.frame),this.setPosition(y,C),this.setOrigin(0,0),this.initPipeline(),this.initPostPipeline(),this.setText(M)},setLeftAlign:function(){return this._align=v.ALIGN_LEFT,this._dirty=!0,this},setCenterAlign:function(){return this._align=v.ALIGN_CENTER,this._dirty=!0,this},setRightAlign:function(){return this._align=v.ALIGN_RIGHT,this._dirty=!0,this},setFontSize:function(g){return this._fontSize=g,this._dirty=!0,this},setLetterSpacing:function(g){return g===void 0&&(g=0),this._letterSpacing=g,this._dirty=!0,this},setLineSpacing:function(g){return g===void 0&&(g=0),this.lineSpacing=g,this},setText:function(g){return!g&&g!==0&&(g=""),Array.isArray(g)&&(g=g.join(`
`)),g!==this.text&&(this._text=g.toString(),this._dirty=!0,this.updateDisplayOrigin()),this},setDropShadow:function(g,m,y,C){return g===void 0&&(g=0),m===void 0&&(m=0),y===void 0&&(y=0),C===void 0&&(C=.5),this.dropShadowX=g,this.dropShadowY=m,this.dropShadowColor=y,this.dropShadowAlpha=C,this},setCharacterTint:function(g,m,y,C,b,M,w){g===void 0&&(g=0),m===void 0&&(m=1),y===void 0&&(y=!1),C===void 0&&(C=-1),b===void 0&&(b=C,M=C,w=C);var R=this.text.length;m===-1&&(m=R),g<0&&(g=R+g),g=x(g,0,R-1);for(var A=x(g+m,g,R),L=this.charColors,F=g;F<A;F++){var G=L[F];if(C===-1)L[F]=null;else{var I=y?1:0;G?(G.tintEffect=I,G.tintTL=C,G.tintTR=b,G.tintBL=M,G.tintBR=w):L[F]={tintEffect:I,tintTL:C,tintTR:b,tintBL:M,tintBR:w}}}return this},setWordTint:function(g,m,y,C,b,M,w){m===void 0&&(m=1);for(var R=this.getTextBounds(),A=R.words,L=typeof g=="number",F=0,G=0;G<A.length;G++){var I=A[G];if((L&&G===g||!L&&I.word===g)&&(this.setCharacterTint(I.i,I.word.length,y,C,b,M,w),F++,F===m))return this}return this},getTextBounds:function(g){var m=this._bounds;return(this._dirty||g||this.scaleX!==m.scaleX||this.scaleY!==m.scaleY)&&(l(this,g,!0,m),this._dirty=!1),m},getCharacterAt:function(g,m,y){for(var C=this.getLocalPoint(g,m,null,y),b=this.getTextBounds(),M=b.characters,w=new c,R=0;R<M.length;R++){var A=M[R];if(w.setTo(A.x,A.t,A.r-A.x,A.b),w.contains(C.x,C.y))return A}return null},updateDisplayOrigin:function(){return this._dirty=!0,this.getTextBounds(!1),this},setFont:function(g,m,y){m===void 0&&(m=this._fontSize),y===void 0&&(y=this._align);var C=this.scene.sys.cache.bitmapFont.get(g);return C&&(this.font=g,this.fontData=C.data,this._fontSize=m,this._align=y,this.fromAtlas=C.fromAtlas===!0,this.setTexture(C.texture,C.frame),l(this,!1,!0,this._bounds)),this},setMaxWidth:function(g,m){return this._maxWidth=g,this._dirty=!0,m!==void 0&&(this.wordWrapCharCode=m),this},align:{set:function(g){this._align=g,this._dirty=!0},get:function(){return this._align}},text:{set:function(g){this.setText(g)},get:function(){return this._text}},fontSize:{set:function(g){this._fontSize=g,this._dirty=!0},get:function(){return this._fontSize}},letterSpacing:{set:function(g){this._letterSpacing=g,this._dirty=!0},get:function(){return this._letterSpacing}},lineSpacing:{set:function(g){this._lineSpacing=g,this._dirty=!0},get:function(){return this._lineSpacing}},maxWidth:{set:function(g){this._maxWidth=g,this._dirty=!0},get:function(){return this._maxWidth}},width:{get:function(){return this.getTextBounds(!1),this._bounds.global.width}},height:{get:function(){return this.getTextBounds(!1),this._bounds.global.height}},displayWidth:{get:function(){return this.width}},displayHeight:{get:function(){return this.height}},toJSON:function(){var g=d.ToJSON(this),m={font:this.font,text:this.text,fontSize:this.fontSize,letterSpacing:this.letterSpacing,lineSpacing:this.lineSpacing,align:this.align};return g.data=m,g},preDestroy:function(){this.charColors.length=0,this._bounds=null,this.fontData=null}});v.ALIGN_LEFT=0,v.ALIGN_CENTER=1,v.ALIGN_RIGHT=2,v.ParseFromAtlas=a,v.ParseXMLBitmapFont=f,n.exports=v},37289:(n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(20926),x=function(d,h,l,a){var f=h._text,c=f.length,u=d.currentContext;if(!(c===0||!o(d,u,h,l,a))){l.addToRenderList(h);var v=h.fromAtlas?h.frame:h.texture.frames.__BASE,g=h.fontData.chars,m=h.fontData.lineHeight,y=h._letterSpacing,C=h._lineSpacing,b=0,M=0,w=0,R=null,A=0,L=0,F=0,G=0,I=0,B=0,k=null,U=0,H=v.source.image,X=v.cutX,j=v.cutY,J=h._fontSize/h.fontData.size,Y=h._align,$=0,z=0,V=h.getTextBounds(!1);h.maxWidth>0&&(f=V.wrappedText,c=f.length);var K=h._bounds.lines;Y===1?z=(K.longest-K.lengths[0])/2:Y===2&&(z=K.longest-K.lengths[0]),u.translate(-h.displayOriginX,-h.displayOriginY);for(var Q=l.roundPixels,_=0;_<c;_++){if(w=f.charCodeAt(_),w===10){$++,Y===1?z=(K.longest-K.lengths[$])/2:Y===2&&(z=K.longest-K.lengths[$]),b=0,M+=m+C,k=null;continue}if(R=g[w],!!R){if(A=X+R.x,L=j+R.y,F=R.width,G=R.height,I=R.xOffset+b,B=R.yOffset+M,k!==null){var tt=R.kerning[U];I+=tt!==void 0?tt:0}I*=J,B*=J,I+=z,b+=R.xAdvance+y+(tt!==void 0?tt:0),k=R,U=w,!(F===0||G===0||w===32)&&(Q&&(I=Math.round(I),B=Math.round(B)),u.save(),u.translate(I,B),u.scale(J,J),u.drawImage(H,A,L,F,G,0,0,F,G),u.restore())}}u.restore()}};n.exports=x},57336:(n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(22186),x=r(25305),d=r(44603),h=r(23568),l=r(35154);d.register("bitmapText",function(a,f){a===void 0&&(a={});var c=l(a,"font",""),u=h(a,"text",""),v=h(a,"size",!1),g=l(a,"align",0),m=new o(this.scene,0,0,c,u,v,g);return f!==void 0&&(a.add=f),x(this.scene,m,a),m})},34914:(n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(22186),x=r(39429);x.register("bitmapText",function(d,h,l,a,f,c){return this.displayList.add(new o(this.scene,d,h,l,a,f,c))})},18658:(n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(29747),x=o,d=o;x=r(33590),d=r(37289),n.exports={renderWebGL:x,renderCanvas:d}},33590:(n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(3217),x=r(91296),d=r(70554),h=function(l,a,f,c){var u=a._text,v=u.length;if(v!==0){f.addToRenderList(a);var g=l.pipelines.set(a.pipeline,a),m=x(a,f,c).calc;l.pipelines.preBatch(a);var y=f.roundPixels,C=f.alpha,b=a.charColors,M=a.tintFill,w=d.getTintAppendFloatAlpha,R=w(a.tintTopLeft,C*a._alphaTL),A=w(a.tintTopRight,C*a._alphaTR),L=w(a.tintBottomLeft,C*a._alphaBL),F=w(a.tintBottomRight,C*a._alphaBR),G=a.frame.glTexture,I=g.setGameObject(a),B=a.getTextBounds(!1),k,U,H,X=B.characters,j=a.dropShadowX,J=a.dropShadowY,Y=j!==0||J!==0;if(Y){var $=a.dropShadowColor,z=a.dropShadowAlpha,V=w($,C*z*a._alphaTL),K=w($,C*z*a._alphaTR),Q=w($,C*z*a._alphaBL),_=w($,C*z*a._alphaBR);for(k=0;k<X.length;k++)U=X[k],H=U.glyph,!(U.code===32||H.width===0||H.height===0)&&o(g,a,U,H,j,J,m,y,V,K,Q,_,1,G,I)}for(k=0;k<X.length;k++)if(U=X[k],H=U.glyph,!(U.code===32||H.width===0||H.height===0))if(g.shouldFlush(6)&&(g.flush(),I=g.setGameObject(a)),b[U.i]){var tt=b[U.i],rt=tt.tintEffect,ot=w(tt.tintTL,C*a._alphaTL),ft=w(tt.tintTR,C*a._alphaTR),ct=w(tt.tintBL,C*a._alphaBL),gt=w(tt.tintBR,C*a._alphaBR);o(g,a,U,H,0,0,m,y,ot,ft,ct,gt,rt,G,I)}else o(g,a,U,H,0,0,m,y,R,A,L,F,M,G,I);l.pipelines.postBatch(a)}};n.exports=h},6107:(n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(48011),x=r(46590),d=r(83419),h=r(31401),l=r(4327),a=r(95643),f=r(73162),c=new d({Extends:a,Mixins:[h.Alpha,h.BlendMode,h.Depth,h.Mask,h.Pipeline,h.PostPipeline,h.ScrollFactor,h.Size,h.Texture,h.Transform,h.Visible,o],initialize:function(v,g,m,y,C){a.call(this,v,"Blitter"),this.setTexture(y,C),this.setPosition(g,m),this.initPipeline(),this.initPostPipeline(),this.children=new f,this.renderList=[],this.dirty=!1},create:function(u,v,g,m,y){m===void 0&&(m=!0),y===void 0&&(y=this.children.length),g===void 0?g=this.frame:g instanceof l||(g=this.texture.get(g));var C=new x(this,u,v,g,m);return this.children.addAt(C,y,!1),this.dirty=!0,C},createFromCallback:function(u,v,g,m){for(var y=this.createMultiple(v,g,m),C=0;C<y.length;C++){var b=y[C];u.call(this,b,C)}return y},createMultiple:function(u,v,g){v===void 0&&(v=this.frame.name),g===void 0&&(g=!0),Array.isArray(v)||(v=[v]);var m=[],y=this;return v.forEach(function(C){for(var b=0;b<u;b++)m.push(y.create(0,0,C,g))}),m},childCanRender:function(u){return u.visible&&u.alpha>0},getRenderList:function(){return this.dirty&&(this.renderList=this.children.list.filter(this.childCanRender,this),this.dirty=!1),this.renderList},clear:function(){this.children.removeAll(),this.dirty=!0},preDestroy:function(){this.children.destroy(),this.renderList=[]}});n.exports=c},72396:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(r,o,x,d){var h=o.getRenderList();if(h.length!==0){var l=r.currentContext,a=x.alpha*o.alpha;if(a!==0){x.addToRenderList(o),l.globalCompositeOperation=r.blendModes[o.blendMode],l.imageSmoothingEnabled=!o.frame.source.scaleMode;var f=o.x-x.scrollX*o.scrollFactorX,c=o.y-x.scrollY*o.scrollFactorY;l.save(),d&&d.copyToContext(l);for(var u=x.roundPixels,v=0;v<h.length;v++){var g=h[v],m=g.flipX||g.flipY,y=g.frame,C=y.canvasData,b=y.x,M=y.y,w=1,R=1,A=g.alpha*a;A!==0&&(l.globalAlpha=A,m?(g.flipX&&(w=-1,b-=C.width),g.flipY&&(R=-1,M-=C.height),C.width>0&&C.height>0&&(l.save(),l.translate(g.x+f,g.y+c),l.scale(w,R),l.drawImage(y.source.image,C.x,C.y,C.width,C.height,b,M,C.width,C.height),l.restore())):(u&&(b=Math.round(b),M=Math.round(M)),C.width>0&&C.height>0&&l.drawImage(y.source.image,C.x,C.y,C.width,C.height,b+g.x+f,M+g.y+c,C.width,C.height)))}l.restore()}}};n.exports=T},9403:(n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(6107),x=r(25305),d=r(44603),h=r(23568);d.register("blitter",function(l,a){l===void 0&&(l={});var f=h(l,"key",null),c=h(l,"frame",null),u=new o(this.scene,0,0,f,c);return a!==void 0&&(l.add=a),x(this.scene,u,l),u})},12709:(n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(6107),x=r(39429);x.register("blitter",function(d,h,l,a){return this.displayList.add(new o(this.scene,d,h,l,a))})},48011:(n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(29747),x=o,d=o;x=r(99485),d=r(72396),n.exports={renderWebGL:x,renderCanvas:d}},99485:(n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(61340),x=r(70554),d=new o,h=function(l,a,f,c){var u=a.getRenderList(),v=f.alpha*a.alpha;if(!(u.length===0||v===0)){f.addToRenderList(a);var g=l.pipelines.set(this.pipeline,a),m=f.scrollX*a.scrollFactorX,y=f.scrollY*a.scrollFactorY,C=d.copyFrom(f.matrix);c&&(C.multiplyWithOffset(c,-m,-y),m=0,y=0);var b=a.x-m,M=a.y-y,w=-1,R=!1,A=f.roundPixels;l.pipelines.preBatch(a);for(var L=0;L<u.length;L++){var F=u[L],G=F.frame,I=F.alpha*v;if(I!==0){var B=G.width,k=G.height,U=b+F.x+G.x,H=M+F.y+G.y;F.flipX&&(B*=-1,U+=G.width),F.flipY&&(k*=-1,H+=G.height);var X=C.setQuad(U,H,U+B,H+k,A),j=x.getTintAppendFloatAlpha(F.tint,I);if(G.sourceIndex!==w){var J=g.setGameObject(a,G);w=G.sourceIndex}g.batchQuad(a,X[0],X[1],X[2],X[3],X[4],X[5],X[6],X[7],G.u0,G.v0,G.u1,G.v1,j,j,j,j,R,G.glTexture,J)&&(w=-1)}}l.pipelines.postBatch(a)}};n.exports=h},46590:(n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(83419),x=r(4327),d=new o({initialize:function(l,a,f,c,u){this.parent=l,this.x=a,this.y=f,this.frame=c,this.data={},this.tint=16777215,this._visible=u,this._alpha=1,this.flipX=!1,this.flipY=!1,this.hasTransformComponent=!0},setFrame:function(h){return h===void 0?this.frame=this.parent.frame:h instanceof x&&h.texture===this.parent.texture?this.frame=h:this.frame=this.parent.texture.get(h),this},resetFlip:function(){return this.flipX=!1,this.flipY=!1,this},reset:function(h,l,a){return this.x=h,this.y=l,this.flipX=!1,this.flipY=!1,this._alpha=1,this._visible=!0,this.parent.dirty=!0,a&&this.setFrame(a),this},setPosition:function(h,l){return this.x=h,this.y=l,this},setFlipX:function(h){return this.flipX=h,this},setFlipY:function(h){return this.flipY=h,this},setFlip:function(h,l){return this.flipX=h,this.flipY=l,this},setVisible:function(h){return this.visible=h,this},setAlpha:function(h){return this.alpha=h,this},setTint:function(h){return this.tint=h,this},destroy:function(){this.parent.dirty=!0,this.parent.children.remove(this),this.parent=void 0,this.frame=void 0,this.data=void 0},visible:{get:function(){return this._visible},set:function(h){this.parent.dirty|=this._visible!==h,this._visible=h}},alpha:{get:function(){return this._alpha},set:function(h){this.parent.dirty|=this._alpha>0!=h>0,this._alpha=h}}});n.exports=d},16005:(n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(45319),x=2,d={_alpha:1,_alphaTL:1,_alphaTR:1,_alphaBL:1,_alphaBR:1,clearAlpha:function(){return this.setAlpha(1)},setAlpha:function(h,l,a,f){return h===void 0&&(h=1),l===void 0?this.alpha=h:(this._alphaTL=o(h,0,1),this._alphaTR=o(l,0,1),this._alphaBL=o(a,0,1),this._alphaBR=o(f,0,1)),this},alpha:{get:function(){return this._alpha},set:function(h){var l=o(h,0,1);this._alpha=l,this._alphaTL=l,this._alphaTR=l,this._alphaBL=l,this._alphaBR=l,l===0?this.renderFlags&=~x:this.renderFlags|=x}},alphaTopLeft:{get:function(){return this._alphaTL},set:function(h){var l=o(h,0,1);this._alphaTL=l,l!==0&&(this.renderFlags|=x)}},alphaTopRight:{get:function(){return this._alphaTR},set:function(h){var l=o(h,0,1);this._alphaTR=l,l!==0&&(this.renderFlags|=x)}},alphaBottomLeft:{get:function(){return this._alphaBL},set:function(h){var l=o(h,0,1);this._alphaBL=l,l!==0&&(this.renderFlags|=x)}},alphaBottomRight:{get:function(){return this._alphaBR},set:function(h){var l=o(h,0,1);this._alphaBR=l,l!==0&&(this.renderFlags|=x)}}};n.exports=d},88509:(n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(45319),x=2,d={_alpha:1,clearAlpha:function(){return this.setAlpha(1)},setAlpha:function(h){return h===void 0&&(h=1),this.alpha=h,this},alpha:{get:function(){return this._alpha},set:function(h){var l=o(h,0,1);this._alpha=l,l===0?this.renderFlags&=~x:this.renderFlags|=x}}};n.exports=d},90065:(n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(10312),x={_blendMode:o.NORMAL,blendMode:{get:function(){return this._blendMode},set:function(d){typeof d=="string"&&(d=o[d]),d|=0,d>=-1&&(this._blendMode=d)}},setBlendMode:function(d){return this.blendMode=d,this}};n.exports=x},94215:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T={width:0,height:0,displayWidth:{get:function(){return this.scaleX*this.width},set:function(r){this.scaleX=r/this.width}},displayHeight:{get:function(){return this.scaleY*this.height},set:function(r){this.scaleY=r/this.height}},setSize:function(r,o){return this.width=r,this.height=o,this},setDisplaySize:function(r,o){return this.displayWidth=r,this.displayHeight=o,this}};n.exports=T},61683:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T={texture:null,frame:null,isCropped:!1,setCrop:function(r,o,x,d){if(r===void 0)this.isCropped=!1;else if(this.frame){if(typeof r=="number")this.frame.setCropUVs(this._crop,r,o,x,d,this.flipX,this.flipY);else{var h=r;this.frame.setCropUVs(this._crop,h.x,h.y,h.width,h.height,this.flipX,this.flipY)}this.isCropped=!0}return this},resetCropObject:function(){return{u0:0,v0:0,u1:0,v1:0,width:0,height:0,x:0,y:0,flipX:!1,flipY:!1,cx:0,cy:0,cw:0,ch:0}}};n.exports=T},89272:(n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(37105),x={_depth:0,depth:{get:function(){return this._depth},set:function(d){this.displayList&&this.displayList.queueDepthSort(),this._depth=d}},setDepth:function(d){return d===void 0&&(d=0),this.depth=d,this},setToTop:function(){var d=this.getDisplayList();return d&&o.BringToTop(d,this),this},setToBack:function(){var d=this.getDisplayList();return d&&o.SendToBack(d,this),this},setAbove:function(d){var h=this.getDisplayList();return h&&d&&o.MoveAbove(h,this,d),this},setBelow:function(d){var h=this.getDisplayList();return h&&d&&o.MoveBelow(h,this,d),this}};n.exports=x},47059:(n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(83419),x=r(66064),d=r(19133),h=new o({initialize:function(a,f){this.gameObject=a,this.isPost=f,this.enabled=!1,this.list=[],this.padding=0},setPadding:function(l){return l===void 0&&(l=0),this.padding=l,this.gameObject},onFXCopy:function(){},onFX:function(){},enable:function(l){if(!this.isPost){var a=this.gameObject.scene.sys.renderer;a&&a.pipelines?(this.gameObject.pipeline=a.pipelines.FX_PIPELINE,l!==void 0&&(this.padding=l),this.enabled=!0):this.enabled=!1}},clear:function(){if(this.isPost)this.gameObject.resetPostPipeline(!0);else{for(var l=this.list,a=0;a<l.length;a++)l[a].destroy();this.list=[]}return this.enabled=!1,this.gameObject},remove:function(l){var a;if(this.isPost){var f=this.gameObject.getPostPipeline(String(l.type));for(Array.isArray(f)||(f=[f]),a=0;a<f.length;a++){var c=f[a];if(c.controller===l){this.gameObject.removePostPipeline(c),l.destroy();break}}}else{var u=this.list;for(a=0;a<u.length;a++)u[a]===l&&(d(u,a),l.destroy())}return this.gameObject},disable:function(l){return l===void 0&&(l=!1),this.isPost||this.gameObject.resetPipeline(),this.enabled=!1,l&&this.clear(),this.gameObject},add:function(l,a){if(this.isPost){var f=String(l.type);this.gameObject.setPostPipeline(f,a);var c=this.gameObject.getPostPipeline(f);if(c)return Array.isArray(c)&&(c=c.pop()),c&&(c.controller=l),l}else return this.enabled||this.enable(),this.list.push(l),l},addGlow:function(l,a,f,c,u,v){return this.add(new x.Glow(this.gameObject,l,a,f,c),{quality:u,distance:v})},addShadow:function(l,a,f,c,u,v,g){return this.add(new x.Shadow(this.gameObject,l,a,f,c,u,v,g))},addPixelate:function(l){return this.add(new x.Pixelate(this.gameObject,l))},addVignette:function(l,a,f,c){return this.add(new x.Vignette(this.gameObject,l,a,f,c))},addShine:function(l,a,f,c){return this.add(new x.Shine(this.gameObject,l,a,f,c))},addBlur:function(l,a,f,c,u,v){return this.add(new x.Blur(this.gameObject,l,a,f,c,u,v))},addGradient:function(l,a,f,c,u,v,g,m){return this.add(new x.Gradient(this.gameObject,l,a,f,c,u,v,g,m))},addBloom:function(l,a,f,c,u,v){return this.add(new x.Bloom(this.gameObject,l,a,f,c,u,v))},addColorMatrix:function(){return this.add(new x.ColorMatrix(this.gameObject))},addCircle:function(l,a,f,c,u){return this.add(new x.Circle(this.gameObject,l,a,f,c,u))},addBarrel:function(l){return this.add(new x.Barrel(this.gameObject,l))},addDisplacement:function(l,a,f){return this.add(new x.Displacement(this.gameObject,l,a,f))},addWipe:function(l,a,f){return this.add(new x.Wipe(this.gameObject,l,a,f))},addReveal:function(l,a,f){return this.add(new x.Wipe(this.gameObject,l,a,f,!0))},addBokeh:function(l,a,f){return this.add(new x.Bokeh(this.gameObject,l,a,f))},addTiltShift:function(l,a,f,c,u,v){return this.add(new x.Bokeh(this.gameObject,l,a,f,!0,c,u,v))},destroy:function(){this.clear(),this.gameObject=null}});n.exports=h},54434:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T={flipX:!1,flipY:!1,toggleFlipX:function(){return this.flipX=!this.flipX,this},toggleFlipY:function(){return this.flipY=!this.flipY,this},setFlipX:function(r){return this.flipX=r,this},setFlipY:function(r){return this.flipY=r,this},setFlip:function(r,o){return this.flipX=r,this.flipY=o,this},resetFlip:function(){return this.flipX=!1,this.flipY=!1,this}};n.exports=T},8004:(n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(87841),x=r(11520),d=r(26099),h={prepareBoundsOutput:function(l,a){if(a===void 0&&(a=!1),this.rotation!==0&&x(l,this.x,this.y,this.rotation),a&&this.parentContainer){var f=this.parentContainer.getBoundsTransformMatrix();f.transformPoint(l.x,l.y,l)}return l},getCenter:function(l,a){return l===void 0&&(l=new d),l.x=this.x-this.displayWidth*this.originX+this.displayWidth/2,l.y=this.y-this.displayHeight*this.originY+this.displayHeight/2,this.prepareBoundsOutput(l,a)},getTopLeft:function(l,a){return l||(l=new d),l.x=this.x-this.displayWidth*this.originX,l.y=this.y-this.displayHeight*this.originY,this.prepareBoundsOutput(l,a)},getTopCenter:function(l,a){return l||(l=new d),l.x=this.x-this.displayWidth*this.originX+this.displayWidth/2,l.y=this.y-this.displayHeight*this.originY,this.prepareBoundsOutput(l,a)},getTopRight:function(l,a){return l||(l=new d),l.x=this.x-this.displayWidth*this.originX+this.displayWidth,l.y=this.y-this.displayHeight*this.originY,this.prepareBoundsOutput(l,a)},getLeftCenter:function(l,a){return l||(l=new d),l.x=this.x-this.displayWidth*this.originX,l.y=this.y-this.displayHeight*this.originY+this.displayHeight/2,this.prepareBoundsOutput(l,a)},getRightCenter:function(l,a){return l||(l=new d),l.x=this.x-this.displayWidth*this.originX+this.displayWidth,l.y=this.y-this.displayHeight*this.originY+this.displayHeight/2,this.prepareBoundsOutput(l,a)},getBottomLeft:function(l,a){return l||(l=new d),l.x=this.x-this.displayWidth*this.originX,l.y=this.y-this.displayHeight*this.originY+this.displayHeight,this.prepareBoundsOutput(l,a)},getBottomCenter:function(l,a){return l||(l=new d),l.x=this.x-this.displayWidth*this.originX+this.displayWidth/2,l.y=this.y-this.displayHeight*this.originY+this.displayHeight,this.prepareBoundsOutput(l,a)},getBottomRight:function(l,a){return l||(l=new d),l.x=this.x-this.displayWidth*this.originX+this.displayWidth,l.y=this.y-this.displayHeight*this.originY+this.displayHeight,this.prepareBoundsOutput(l,a)},getBounds:function(l){l===void 0&&(l=new o);var a,f,c,u,v,g,m,y;if(this.parentContainer){var C=this.parentContainer.getBoundsTransformMatrix();this.getTopLeft(l),C.transformPoint(l.x,l.y,l),a=l.x,f=l.y,this.getTopRight(l),C.transformPoint(l.x,l.y,l),c=l.x,u=l.y,this.getBottomLeft(l),C.transformPoint(l.x,l.y,l),v=l.x,g=l.y,this.getBottomRight(l),C.transformPoint(l.x,l.y,l),m=l.x,y=l.y}else this.getTopLeft(l),a=l.x,f=l.y,this.getTopRight(l),c=l.x,u=l.y,this.getBottomLeft(l),v=l.x,g=l.y,this.getBottomRight(l),m=l.x,y=l.y;return l.x=Math.min(a,c,v,m),l.y=Math.min(f,u,g,y),l.width=Math.max(a,c,v,m)-l.x,l.height=Math.max(f,u,g,y)-l.y,l}};n.exports=h},8573:(n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(6858),x=r(80661),d={mask:null,setMask:function(h){return this.mask=h,this},clearMask:function(h){return h===void 0&&(h=!1),h&&this.mask&&this.mask.destroy(),this.mask=null,this},createBitmapMask:function(h,l,a,f,c){return h===void 0&&(this.texture||this.shader||this.geom)&&(h=this),new o(this.scene,h,l,a,f,c)},createGeometryMask:function(h){return h===void 0&&(this.type==="Graphics"||this.geom)&&(h=this),new x(this.scene,h)}};n.exports=d},27387:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T={_originComponent:!0,originX:.5,originY:.5,_displayOriginX:0,_displayOriginY:0,displayOriginX:{get:function(){return this._displayOriginX},set:function(r){this._displayOriginX=r,this.originX=r/this.width}},displayOriginY:{get:function(){return this._displayOriginY},set:function(r){this._displayOriginY=r,this.originY=r/this.height}},setOrigin:function(r,o){return r===void 0&&(r=.5),o===void 0&&(o=r),this.originX=r,this.originY=o,this.updateDisplayOrigin()},setOriginFromFrame:function(){return!this.frame||!this.frame.customPivot?this.setOrigin():(this.originX=this.frame.pivotX,this.originY=this.frame.pivotY,this.updateDisplayOrigin())},setDisplayOrigin:function(r,o){return r===void 0&&(r=0),o===void 0&&(o=r),this.displayOriginX=r,this.displayOriginY=o,this},updateDisplayOrigin:function(){return this._displayOriginX=this.originX*this.width,this._displayOriginY=this.originY*this.height,this}};n.exports=T},37640:(n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(39506),x=r(57355),d=r(35154),h=r(86353),l=r(26099),a={path:null,rotateToPath:!1,pathRotationOffset:0,pathOffset:null,pathVector:null,pathDelta:null,pathTween:null,pathConfig:null,_prevDirection:h.PLAYING_FORWARD,setPath:function(f,c){c===void 0&&(c=this.pathConfig);var u=this.pathTween;return u&&u.isPlaying()&&u.stop(),this.path=f,c&&this.startFollow(c),this},setRotateToPath:function(f,c){return c===void 0&&(c=0),this.rotateToPath=f,this.pathRotationOffset=c,this},isFollowing:function(){var f=this.pathTween;return f&&f.isPlaying()},startFollow:function(f,c){f===void 0&&(f={}),c===void 0&&(c=0);var u=this.pathTween;u&&u.isPlaying()&&u.stop(),typeof f=="number"&&(f={duration:f}),f.from=d(f,"from",0),f.to=d(f,"to",1);var v=x(f,"positionOnPath",!1);this.rotateToPath=x(f,"rotateToPath",!1),this.pathRotationOffset=d(f,"rotationOffset",0);var g=d(f,"startAt",c);if(g&&(f.onStart=function(y){var C=y.data[0];C.progress=g,C.elapsed=C.duration*g;var b=C.ease(C.progress);C.current=C.start+(C.end-C.start)*b,C.setTargetValue()}),this.pathOffset||(this.pathOffset=new l(this.x,this.y)),this.pathVector||(this.pathVector=new l),this.pathDelta||(this.pathDelta=new l),this.pathDelta.reset(),f.persist=!0,this.pathTween=this.scene.sys.tweens.addCounter(f),this.path.getStartPoint(this.pathOffset),v&&(this.x=this.pathOffset.x,this.y=this.pathOffset.y),this.pathOffset.x=this.x-this.pathOffset.x,this.pathOffset.y=this.y-this.pathOffset.y,this._prevDirection=h.PLAYING_FORWARD,this.rotateToPath){var m=this.path.getPoint(.1);this.rotation=Math.atan2(m.y-this.y,m.x-this.x)+o(this.pathRotationOffset)}return this.pathConfig=f,this},pauseFollow:function(){var f=this.pathTween;return f&&f.isPlaying()&&f.pause(),this},resumeFollow:function(){var f=this.pathTween;return f&&f.isPaused()&&f.resume(),this},stopFollow:function(){var f=this.pathTween;return f&&f.isPlaying()&&f.stop(),this},pathUpdate:function(){var f=this.pathTween;if(f&&f.data){var c=f.data[0],u=this.pathDelta,v=this.pathVector;if(u.copy(v).negate(),c.state===h.COMPLETE){this.path.getPoint(c.end,v),u.add(v),v.add(this.pathOffset),this.setPosition(v.x,v.y);return}else if(c.state!==h.PLAYING_FORWARD&&c.state!==h.PLAYING_BACKWARD)return;this.path.getPoint(f.getValue(),v),u.add(v),v.add(this.pathOffset);var g=this.x,m=this.y;this.setPosition(v.x,v.y);var y=this.x-g,C=this.y-m;if(y===0&&C===0)return;if(c.state!==this._prevDirection){this._prevDirection=c.state;return}this.rotateToPath&&(this.rotation=Math.atan2(C,y)+o(this.pathRotationOffset))}}};n.exports=a},72699:(n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(62644),x={defaultPipeline:null,pipeline:null,pipelineData:null,initPipeline:function(d){this.pipelineData={};var h=this.scene.sys.renderer;if(!h)return!1;var l=h.pipelines;if(l){d===void 0&&(d=l.default);var a=l.get(d);if(a)return this.defaultPipeline=a,this.pipeline=a,!0}return!1},setPipeline:function(d,h,l){var a=this.scene.sys.renderer;if(!a)return this;var f=a.pipelines;if(f){var c=f.get(d);c&&(this.pipeline=c),h&&(this.pipelineData=l?o(h):h)}return this},setPipelineData:function(d,h){var l=this.pipelineData;return h===void 0?delete l[d]:l[d]=h,this},resetPipeline:function(d){return d===void 0&&(d=!1),this.pipeline=this.defaultPipeline,d&&(this.pipelineData={}),this.pipeline!==null},getPipelineName:function(){return this.pipeline===null?null:this.pipeline.name}};n.exports=x},17581:(n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(62644),x=r(47059),d=r(19133),h={hasPostPipeline:!1,postPipelines:null,postPipelineData:null,preFX:null,postFX:null,initPostPipeline:function(l){this.postPipelines=[],this.postPipelineData={},this.postFX=new x(this,!0),l&&(this.preFX=new x(this,!1))},setPostPipeline:function(l,a,f){var c=this.scene.sys.renderer;if(!c)return this;var u=c.pipelines;if(u){Array.isArray(l)||(l=[l]);for(var v=0;v<l.length;v++){var g=u.getPostPipeline(l[v],this,a);g&&this.postPipelines.push(g)}a&&(this.postPipelineData=f?o(a):a)}return this.hasPostPipeline=this.postPipelines.length>0,this},setPostPipelineData:function(l,a){var f=this.postPipelineData;return a===void 0?delete f[l]:f[l]=a,this},getPostPipeline:function(l){for(var a=typeof l=="string",f=this.postPipelines,c=[],u=0;u<f.length;u++){var v=f[u];(a&&v.name===l||!a&&v instanceof l)&&c.push(v)}return c.length===1?c[0]:c},resetPostPipeline:function(l){l===void 0&&(l=!1);for(var a=this.postPipelines,f=0;f<a.length;f++)a[f].destroy();this.postPipelines=[],this.hasPostPipeline=!1,l&&(this.postPipelineData={})},removePostPipeline:function(l){for(var a=typeof l=="string",f=this.postPipelines,c=f.length-1;c>=0;c--){var u=f[c];(a&&u.name===l||!a&&u===l)&&(u.destroy(),d(f,c))}return this.hasPostPipeline=this.postPipelines.length>0,this},clearFX:function(){return this.preFX&&this.preFX.clear(),this.postFX&&this.postFX.clear(),this}};n.exports=h},80227:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T={scrollFactorX:1,scrollFactorY:1,setScrollFactor:function(r,o){return o===void 0&&(o=r),this.scrollFactorX=r,this.scrollFactorY=o,this}};n.exports=T},16736:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T={_sizeComponent:!0,width:0,height:0,displayWidth:{get:function(){return Math.abs(this.scaleX*this.frame.realWidth)},set:function(r){this.scaleX=r/this.frame.realWidth}},displayHeight:{get:function(){return Math.abs(this.scaleY*this.frame.realHeight)},set:function(r){this.scaleY=r/this.frame.realHeight}},setSizeToFrame:function(r){r||(r=this.frame),this.width=r.realWidth,this.height=r.realHeight;var o=this.input;return o&&!o.customHitArea&&(o.hitArea.width=this.width,o.hitArea.height=this.height),this},setSize:function(r,o){return this.width=r,this.height=o,this},setDisplaySize:function(r,o){return this.displayWidth=r,this.displayHeight=o,this}};n.exports=T},37726:(n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(4327),x=8,d={texture:null,frame:null,isCropped:!1,setTexture:function(h,l,a,f){return this.texture=this.scene.sys.textures.get(h),this.setFrame(l,a,f)},setFrame:function(h,l,a){return l===void 0&&(l=!0),a===void 0&&(a=!0),h instanceof o?(this.texture=this.scene.sys.textures.get(h.texture.key),this.frame=h):this.frame=this.texture.get(h),!this.frame.cutWidth||!this.frame.cutHeight?this.renderFlags&=~x:this.renderFlags|=x,this._sizeComponent&&l&&this.setSizeToFrame(),this._originComponent&&a&&(this.frame.customPivot?this.setOrigin(this.frame.pivotX,this.frame.pivotY):this.updateDisplayOrigin()),this}};n.exports=d},79812:(n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(4327),x=8,d={texture:null,frame:null,isCropped:!1,setCrop:function(h,l,a,f){if(h===void 0)this.isCropped=!1;else if(this.frame){if(typeof h=="number")this.frame.setCropUVs(this._crop,h,l,a,f,this.flipX,this.flipY);else{var c=h;this.frame.setCropUVs(this._crop,c.x,c.y,c.width,c.height,this.flipX,this.flipY)}this.isCropped=!0}return this},setTexture:function(h,l){return this.texture=this.scene.sys.textures.get(h),this.setFrame(l)},setFrame:function(h,l,a){return l===void 0&&(l=!0),a===void 0&&(a=!0),h instanceof o?(this.texture=this.scene.sys.textures.get(h.texture.key),this.frame=h):this.frame=this.texture.get(h),!this.frame.cutWidth||!this.frame.cutHeight?this.renderFlags&=~x:this.renderFlags|=x,this._sizeComponent&&l&&this.setSizeToFrame(),this._originComponent&&a&&(this.frame.customPivot?this.setOrigin(this.frame.pivotX,this.frame.pivotY):this.updateDisplayOrigin()),this.isCropped&&this.frame.updateCropUVs(this._crop,this.flipX,this.flipY),this},resetCropObject:function(){return{u0:0,v0:0,u1:0,v1:0,width:0,height:0,x:0,y:0,flipX:!1,flipY:!1,cx:0,cy:0,cw:0,ch:0}}};n.exports=d},27472:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T={tintTopLeft:16777215,tintTopRight:16777215,tintBottomLeft:16777215,tintBottomRight:16777215,tintFill:!1,clearTint:function(){return this.setTint(16777215),this},setTint:function(r,o,x,d){return r===void 0&&(r=16777215),o===void 0&&(o=r,x=r,d=r),this.tintTopLeft=r,this.tintTopRight=o,this.tintBottomLeft=x,this.tintBottomRight=d,this.tintFill=!1,this},setTintFill:function(r,o,x,d){return this.setTint(r,o,x,d),this.tintFill=!0,this},tint:{get:function(){return this.tintTopLeft},set:function(r){this.setTint(r,r,r,r)}},isTinted:{get:function(){var r=16777215;return this.tintFill||this.tintTopLeft!==r||this.tintTopRight!==r||this.tintBottomLeft!==r||this.tintBottomRight!==r}}};n.exports=T},53774:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(r){var o={name:r.name,type:r.type,x:r.x,y:r.y,depth:r.depth,scale:{x:r.scaleX,y:r.scaleY},origin:{x:r.originX,y:r.originY},flipX:r.flipX,flipY:r.flipY,rotation:r.rotation,alpha:r.alpha,visible:r.visible,blendMode:r.blendMode,textureKey:"",frameKey:"",data:{}};return r.texture&&(o.textureKey=r.texture.key,o.frameKey=r.frame.name),o};n.exports=T},16901:(n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(36383),x=r(61340),d=r(85955),h=r(86554),l=r(30954),a=r(26099),f=4,c={hasTransformComponent:!0,_scaleX:1,_scaleY:1,_rotation:0,x:0,y:0,z:0,w:0,scale:{get:function(){return(this._scaleX+this._scaleY)/2},set:function(u){this._scaleX=u,this._scaleY=u,u===0?this.renderFlags&=~f:this.renderFlags|=f}},scaleX:{get:function(){return this._scaleX},set:function(u){this._scaleX=u,u===0?this.renderFlags&=~f:this._scaleY!==0&&(this.renderFlags|=f)}},scaleY:{get:function(){return this._scaleY},set:function(u){this._scaleY=u,u===0?this.renderFlags&=~f:this._scaleX!==0&&(this.renderFlags|=f)}},angle:{get:function(){return l(this._rotation*o.RAD_TO_DEG)},set:function(u){this.rotation=l(u)*o.DEG_TO_RAD}},rotation:{get:function(){return this._rotation},set:function(u){this._rotation=h(u)}},setPosition:function(u,v,g,m){return u===void 0&&(u=0),v===void 0&&(v=u),g===void 0&&(g=0),m===void 0&&(m=0),this.x=u,this.y=v,this.z=g,this.w=m,this},copyPosition:function(u){return u.x!==void 0&&(this.x=u.x),u.y!==void 0&&(this.y=u.y),u.z!==void 0&&(this.z=u.z),u.w!==void 0&&(this.w=u.w),this},setRandomPosition:function(u,v,g,m){return u===void 0&&(u=0),v===void 0&&(v=0),g===void 0&&(g=this.scene.sys.scale.width),m===void 0&&(m=this.scene.sys.scale.height),this.x=u+Math.random()*g,this.y=v+Math.random()*m,this},setRotation:function(u){return u===void 0&&(u=0),this.rotation=u,this},setAngle:function(u){return u===void 0&&(u=0),this.angle=u,this},setScale:function(u,v){return u===void 0&&(u=1),v===void 0&&(v=u),this.scaleX=u,this.scaleY=v,this},setX:function(u){return u===void 0&&(u=0),this.x=u,this},setY:function(u){return u===void 0&&(u=0),this.y=u,this},setZ:function(u){return u===void 0&&(u=0),this.z=u,this},setW:function(u){return u===void 0&&(u=0),this.w=u,this},getLocalTransformMatrix:function(u){return u===void 0&&(u=new x),u.applyITRS(this.x,this.y,this._rotation,this._scaleX,this._scaleY)},getWorldTransformMatrix:function(u,v){u===void 0&&(u=new x);var g=this.parentContainer;if(!g)return this.getLocalTransformMatrix(u);var m=!1;for(v||(v=new x,m=!0),u.applyITRS(this.x,this.y,this._rotation,this._scaleX,this._scaleY);g;)v.applyITRS(g.x,g.y,g._rotation,g._scaleX,g._scaleY),v.multiply(u,u),g=g.parentContainer;return m&&v.destroy(),u},getLocalPoint:function(u,v,g,m){g||(g=new a),m||(m=this.scene.sys.cameras.main);var y=m.scrollX,C=m.scrollY,b=u+y*this.scrollFactorX-y,M=v+C*this.scrollFactorY-C;return this.parentContainer?this.getWorldTransformMatrix().applyInverse(b,M,g):d(b,M,this.x,this.y,this.rotation,this.scaleX,this.scaleY,g),this._originComponent&&(g.x+=this._displayOriginX,g.y+=this._displayOriginY),g},getWorldPoint:function(u,v,g){u===void 0&&(u=new a);var m=this.parentContainer;if(!m)return u.x=this.x,u.y=this.y,u;var y=this.getWorldTransformMatrix(v,g);return u.x=y.tx,u.y=y.ty,u},getParentRotation:function(){for(var u=0,v=this.parentContainer;v;)u+=v.rotation,v=v.parentContainer;return u}};n.exports=c},61340:(n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(83419),x=r(36383),d=r(26099),h=new o({initialize:function(a,f,c,u,v,g){a===void 0&&(a=1),f===void 0&&(f=0),c===void 0&&(c=0),u===void 0&&(u=1),v===void 0&&(v=0),g===void 0&&(g=0),this.matrix=new Float32Array([a,f,c,u,v,g,0,0,1]),this.decomposedMatrix={translateX:0,translateY:0,scaleX:1,scaleY:1,rotation:0},this.quad=new Float32Array(8)},a:{get:function(){return this.matrix[0]},set:function(l){this.matrix[0]=l}},b:{get:function(){return this.matrix[1]},set:function(l){this.matrix[1]=l}},c:{get:function(){return this.matrix[2]},set:function(l){this.matrix[2]=l}},d:{get:function(){return this.matrix[3]},set:function(l){this.matrix[3]=l}},e:{get:function(){return this.matrix[4]},set:function(l){this.matrix[4]=l}},f:{get:function(){return this.matrix[5]},set:function(l){this.matrix[5]=l}},tx:{get:function(){return this.matrix[4]},set:function(l){this.matrix[4]=l}},ty:{get:function(){return this.matrix[5]},set:function(l){this.matrix[5]=l}},rotation:{get:function(){return Math.acos(this.a/this.scaleX)*(Math.atan(-this.c/this.a)<0?-1:1)}},rotationNormalized:{get:function(){var l=this.matrix,a=l[0],f=l[1],c=l[2],u=l[3];return a||f?f>0?Math.acos(a/this.scaleX):-Math.acos(a/this.scaleX):c||u?x.TAU-(u>0?Math.acos(-c/this.scaleY):-Math.acos(c/this.scaleY)):0}},scaleX:{get:function(){return Math.sqrt(this.a*this.a+this.b*this.b)}},scaleY:{get:function(){return Math.sqrt(this.c*this.c+this.d*this.d)}},loadIdentity:function(){var l=this.matrix;return l[0]=1,l[1]=0,l[2]=0,l[3]=1,l[4]=0,l[5]=0,this},translate:function(l,a){var f=this.matrix;return f[4]=f[0]*l+f[2]*a+f[4],f[5]=f[1]*l+f[3]*a+f[5],this},scale:function(l,a){var f=this.matrix;return f[0]*=l,f[1]*=l,f[2]*=a,f[3]*=a,this},rotate:function(l){var a=Math.sin(l),f=Math.cos(l),c=this.matrix,u=c[0],v=c[1],g=c[2],m=c[3];return c[0]=u*f+g*a,c[1]=v*f+m*a,c[2]=u*-a+g*f,c[3]=v*-a+m*f,this},multiply:function(l,a){var f=this.matrix,c=l.matrix,u=f[0],v=f[1],g=f[2],m=f[3],y=f[4],C=f[5],b=c[0],M=c[1],w=c[2],R=c[3],A=c[4],L=c[5],F=a===void 0?f:a.matrix;return F[0]=b*u+M*g,F[1]=b*v+M*m,F[2]=w*u+R*g,F[3]=w*v+R*m,F[4]=A*u+L*g+y,F[5]=A*v+L*m+C,F},multiplyWithOffset:function(l,a,f){var c=this.matrix,u=l.matrix,v=c[0],g=c[1],m=c[2],y=c[3],C=c[4],b=c[5],M=a*v+f*m+C,w=a*g+f*y+b,R=u[0],A=u[1],L=u[2],F=u[3],G=u[4],I=u[5];return c[0]=R*v+A*m,c[1]=R*g+A*y,c[2]=L*v+F*m,c[3]=L*g+F*y,c[4]=G*v+I*m+M,c[5]=G*g+I*y+w,this},transform:function(l,a,f,c,u,v){var g=this.matrix,m=g[0],y=g[1],C=g[2],b=g[3],M=g[4],w=g[5];return g[0]=l*m+a*C,g[1]=l*y+a*b,g[2]=f*m+c*C,g[3]=f*y+c*b,g[4]=u*m+v*C+M,g[5]=u*y+v*b+w,this},transformPoint:function(l,a,f){f===void 0&&(f={x:0,y:0});var c=this.matrix,u=c[0],v=c[1],g=c[2],m=c[3],y=c[4],C=c[5];return f.x=l*u+a*g+y,f.y=l*v+a*m+C,f},invert:function(){var l=this.matrix,a=l[0],f=l[1],c=l[2],u=l[3],v=l[4],g=l[5],m=a*u-f*c;return l[0]=u/m,l[1]=-f/m,l[2]=-c/m,l[3]=a/m,l[4]=(c*g-u*v)/m,l[5]=-(a*g-f*v)/m,this},copyFrom:function(l){var a=this.matrix;return a[0]=l.a,a[1]=l.b,a[2]=l.c,a[3]=l.d,a[4]=l.e,a[5]=l.f,this},copyFromArray:function(l){var a=this.matrix;return a[0]=l[0],a[1]=l[1],a[2]=l[2],a[3]=l[3],a[4]=l[4],a[5]=l[5],this},copyToContext:function(l){var a=this.matrix;return l.transform(a[0],a[1],a[2],a[3],a[4],a[5]),l},setToContext:function(l){return l.setTransform(this.a,this.b,this.c,this.d,this.e,this.f),l},copyToArray:function(l){var a=this.matrix;return l===void 0?l=[a[0],a[1],a[2],a[3],a[4],a[5]]:(l[0]=a[0],l[1]=a[1],l[2]=a[2],l[3]=a[3],l[4]=a[4],l[5]=a[5]),l},setTransform:function(l,a,f,c,u,v){var g=this.matrix;return g[0]=l,g[1]=a,g[2]=f,g[3]=c,g[4]=u,g[5]=v,this},decomposeMatrix:function(){var l=this.decomposedMatrix,a=this.matrix,f=a[0],c=a[1],u=a[2],v=a[3],g=f*v-c*u;if(l.translateX=a[4],l.translateY=a[5],f||c){var m=Math.sqrt(f*f+c*c);l.rotation=c>0?Math.acos(f/m):-Math.acos(f/m),l.scaleX=m,l.scaleY=g/m}else if(u||v){var y=Math.sqrt(u*u+v*v);l.rotation=Math.PI*.5-(v>0?Math.acos(-u/y):-Math.acos(u/y)),l.scaleX=g/y,l.scaleY=y}else l.rotation=0,l.scaleX=0,l.scaleY=0;return l},applyITRS:function(l,a,f,c,u){var v=this.matrix,g=Math.sin(f),m=Math.cos(f);return v[4]=l,v[5]=a,v[0]=m*c,v[1]=g*c,v[2]=-g*u,v[3]=m*u,this},applyInverse:function(l,a,f){f===void 0&&(f=new d);var c=this.matrix,u=c[0],v=c[1],g=c[2],m=c[3],y=c[4],C=c[5],b=1/(u*m+g*-v);return f.x=m*b*l+-g*b*a+(C*g-y*m)*b,f.y=u*b*a+-v*b*l+(-C*u+y*v)*b,f},setQuad:function(l,a,f,c,u,v){u===void 0&&(u=!1),v===void 0&&(v=this.quad);var g=this.matrix,m=g[0],y=g[1],C=g[2],b=g[3],M=g[4],w=g[5],R=l*m+a*C+M,A=l*y+a*b+w,L=l*m+c*C+M,F=l*y+c*b+w,G=f*m+c*C+M,I=f*y+c*b+w,B=f*m+a*C+M,k=f*y+a*b+w;if(u){var U=Math.floor(R+.5),H=Math.floor(A+.5),X=U-R,j=H-A;v[0]=U,v[1]=H,v[2]=L+X,v[3]=F+j,v[4]=G+X,v[5]=I+j,v[6]=B+X,v[7]=k+j}else v[0]=R,v[1]=A,v[2]=L,v[3]=F,v[4]=G,v[5]=I,v[6]=B,v[7]=k;return v},getX:function(l,a){return l*this.a+a*this.c+this.e},getY:function(l,a){return l*this.b+a*this.d+this.f},getXRound:function(l,a,f){var c=this.getX(l,a);return f&&(c=Math.floor(c+.5)),c},getYRound:function(l,a,f){var c=this.getY(l,a);return f&&(c=Math.floor(c+.5)),c},getCSSMatrix:function(){var l=this.matrix;return"matrix("+l[0]+","+l[1]+","+l[2]+","+l[3]+","+l[4]+","+l[5]+")"},destroy:function(){this.matrix=null,this.quad=null,this.decomposedMatrix=null}});n.exports=h},59715:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=1,r={_visible:!0,visible:{get:function(){return this._visible},set:function(o){o?(this._visible=!0,this.renderFlags|=T):(this._visible=!1,this.renderFlags&=~T)}},setVisible:function(o){return this.visible=o,this}};n.exports=r},31401:(n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports={Alpha:r(16005),AlphaSingle:r(88509),BlendMode:r(90065),ComputedSize:r(94215),Crop:r(61683),Depth:r(89272),Flip:r(54434),FX:r(47059),GetBounds:r(8004),Mask:r(8573),Origin:r(27387),PathFollower:r(37640),Pipeline:r(72699),PostPipeline:r(17581),ScrollFactor:r(80227),Size:r(16736),Texture:r(37726),TextureCrop:r(79812),Tint:r(27472),ToJSON:r(53774),Transform:r(16901),TransformMatrix:r(61340),Visible:r(59715)}},31559:(n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @author       Felipe Alfonso <@bitnenfer>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(37105),x=r(10312),d=r(83419),h=r(31401),l=r(51708),a=r(95643),f=r(87841),c=r(29959),u=r(36899),v=r(26099),g=new h.TransformMatrix,m=new d({Extends:a,Mixins:[h.AlphaSingle,h.BlendMode,h.ComputedSize,h.Depth,h.Mask,h.PostPipeline,h.Transform,h.Visible,c],initialize:function(C,b,M,w){a.call(this,C,"Container"),this.list=[],this.exclusive=!0,this.maxSize=-1,this.position=0,this.localTransform=new h.TransformMatrix,this._sortKey="",this._sysEvents=C.sys.events,this.scrollFactorX=1,this.scrollFactorY=1,this.initPostPipeline(),this.setPosition(b,M),this.setBlendMode(x.SKIP_CHECK),w&&this.add(w)},originX:{get:function(){return .5}},originY:{get:function(){return .5}},displayOriginX:{get:function(){return this.width*.5}},displayOriginY:{get:function(){return this.height*.5}},setExclusive:function(y){return y===void 0&&(y=!0),this.exclusive=y,this},getBounds:function(y){if(y===void 0&&(y=new f),y.setTo(this.x,this.y,0,0),this.parentContainer){var C=this.parentContainer.getBoundsTransformMatrix(),b=C.transformPoint(this.x,this.y);y.setTo(b.x,b.y,0,0)}if(this.list.length>0){var M=this.list,w=new f,R=!1;y.setEmpty();for(var A=0;A<M.length;A++){var L=M[A];L.getBounds&&(L.getBounds(w),R?u(w,y,y):(y.setTo(w.x,w.y,w.width,w.height),R=!0))}}return y},addHandler:function(y){y.once(l.DESTROY,this.onChildDestroyed,this),this.exclusive&&(y.parentContainer&&y.parentContainer.remove(y),y.parentContainer=this,y.removeFromDisplayList(),y.addedToScene())},removeHandler:function(y){y.off(l.DESTROY,this.remove,this),this.exclusive&&(y.parentContainer=null,y.removedFromScene(),y.addToDisplayList())},pointToContainer:function(y,C){C===void 0&&(C=new v),this.parentContainer?this.parentContainer.pointToContainer(y,C):(C.x=y.x,C.y=y.y);var b=g;return b.applyITRS(this.x,this.y,this.rotation,this.scaleX,this.scaleY),b.invert(),b.transformPoint(y.x,y.y,C),C},getBoundsTransformMatrix:function(){return this.getWorldTransformMatrix(g,this.localTransform)},add:function(y){return o.Add(this.list,y,this.maxSize,this.addHandler,this),this},addAt:function(y,C){return o.AddAt(this.list,y,C,this.maxSize,this.addHandler,this),this},getAt:function(y){return this.list[y]},getIndex:function(y){return this.list.indexOf(y)},sort:function(y,C){return y?(C===void 0&&(C=function(b,M){return b[y]-M[y]}),o.StableSort(this.list,C),this):this},getByName:function(y){return o.GetFirst(this.list,"name",y)},getRandom:function(y,C){return o.GetRandom(this.list,y,C)},getFirst:function(y,C,b,M){return o.GetFirst(this.list,y,C,b,M)},getAll:function(y,C,b,M){return o.GetAll(this.list,y,C,b,M)},count:function(y,C,b,M){return o.CountAllMatching(this.list,y,C,b,M)},swap:function(y,C){return o.Swap(this.list,y,C),this},moveTo:function(y,C){return o.MoveTo(this.list,y,C),this},moveAbove:function(y,C){return o.MoveAbove(this.list,y,C),this},moveBelow:function(y,C){return o.MoveBelow(this.list,y,C),this},remove:function(y,C){var b=o.Remove(this.list,y,this.removeHandler,this);if(C&&b){Array.isArray(b)||(b=[b]);for(var M=0;M<b.length;M++)b[M].destroy()}return this},removeAt:function(y,C){var b=o.RemoveAt(this.list,y,this.removeHandler,this);return C&&b&&b.destroy(),this},removeBetween:function(y,C,b){var M=o.RemoveBetween(this.list,y,C,this.removeHandler,this);if(b)for(var w=0;w<M.length;w++)M[w].destroy();return this},removeAll:function(y){var C=this.list;if(y){for(var b=0;b<C.length;b++)C[b]&&C[b].scene&&(C[b].off(l.DESTROY,this.onChildDestroyed,this),C[b].destroy());this.list=[]}else o.RemoveBetween(C,0,C.length,this.removeHandler,this);return this},bringToTop:function(y){return o.BringToTop(this.list,y),this},sendToBack:function(y){return o.SendToBack(this.list,y),this},moveUp:function(y){return o.MoveUp(this.list,y),this},moveDown:function(y){return o.MoveDown(this.list,y),this},reverse:function(){return this.list.reverse(),this},shuffle:function(){return o.Shuffle(this.list),this},replace:function(y,C,b){var M=o.Replace(this.list,y,C);return M&&(this.addHandler(C),this.removeHandler(y),b&&y.destroy()),this},exists:function(y){return this.list.indexOf(y)>-1},setAll:function(y,C,b,M){return o.SetAll(this.list,y,C,b,M),this},each:function(y,C){var b=[null],M,w=this.list.slice(),R=w.length;for(M=2;M<arguments.length;M++)b.push(arguments[M]);for(M=0;M<R;M++)b[0]=w[M],y.apply(C,b);return this},iterate:function(y,C){var b=[null],M;for(M=2;M<arguments.length;M++)b.push(arguments[M]);for(M=0;M<this.list.length;M++)b[0]=this.list[M],y.apply(C,b);return this},setScrollFactor:function(y,C,b){return C===void 0&&(C=y),b===void 0&&(b=!1),this.scrollFactorX=y,this.scrollFactorY=C,b&&(o.SetAll(this.list,"scrollFactorX",y),o.SetAll(this.list,"scrollFactorY",C)),this},length:{get:function(){return this.list.length}},first:{get:function(){return this.position=0,this.list.length>0?this.list[0]:null}},last:{get:function(){return this.list.length>0?(this.position=this.list.length-1,this.list[this.position]):null}},next:{get:function(){return this.position<this.list.length?(this.position++,this.list[this.position]):null}},previous:{get:function(){return this.position>0?(this.position--,this.list[this.position]):null}},preDestroy:function(){this.removeAll(!!this.exclusive),this.localTransform.destroy(),this.list=[]},onChildDestroyed:function(y){o.Remove(this.list,y),this.exclusive&&(y.parentContainer=null,y.removedFromScene())}});n.exports=m},53584:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @author       Felipe Alfonso <@bitnenfer>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(r,o,x,d){x.addToRenderList(o);var h=o.list;if(h.length!==0){var l=o.localTransform;d?(l.loadIdentity(),l.multiply(d),l.translate(o.x,o.y),l.rotate(o.rotation),l.scale(o.scaleX,o.scaleY)):l.applyITRS(o.x,o.y,o.rotation,o.scaleX,o.scaleY);var a=o.blendMode!==-1;a||r.setBlendMode(0);var f=o._alpha,c=o.scrollFactorX,u=o.scrollFactorY;o.mask&&o.mask.preRenderCanvas(r,null,x);for(var v=0;v<h.length;v++){var g=h[v];if(g.willRender(x)){var m=g.alpha,y=g.scrollFactorX,C=g.scrollFactorY;!a&&g.blendMode!==r.currentBlendMode&&r.setBlendMode(g.blendMode),g.setScrollFactor(y*c,C*u),g.setAlpha(m*f),g.renderCanvas(r,g,x,l),g.setAlpha(m),g.setScrollFactor(y,C)}}o.mask&&o.mask.postRenderCanvas(r)}};n.exports=T},77143:(n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @author       Felipe Alfonso <@bitnenfer>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(25305),x=r(31559),d=r(44603),h=r(23568),l=r(95540);d.register("container",function(a,f){a===void 0&&(a={});var c=h(a,"x",0),u=h(a,"y",0),v=l(a,"children",null),g=new x(this.scene,c,u,v);return f!==void 0&&(a.add=f),o(this.scene,g,a),g})},24961:(n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @author       Felipe Alfonso <@bitnenfer>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(31559),x=r(39429);x.register("container",function(d,h,l){return this.displayList.add(new o(this.scene,d,h,l))})},29959:(n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @author       Felipe Alfonso <@bitnenfer>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(29747),x=o,d=o;x=r(72249),d=r(53584),n.exports={renderWebGL:x,renderCanvas:d}},72249:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @author       Felipe Alfonso <@bitnenfer>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(r,o,x,d){x.addToRenderList(o);var h=o.list,l=h.length;if(l!==0){var a=o.localTransform;d?(a.loadIdentity(),a.multiply(d),a.translate(o.x,o.y),a.rotate(o.rotation),a.scale(o.scaleX,o.scaleY)):a.applyITRS(o.x,o.y,o.rotation,o.scaleX,o.scaleY),r.pipelines.preBatch(o);var f=o.blendMode!==-1;f||r.setBlendMode(0);for(var c=o.alpha,u=o.scrollFactorX,v=o.scrollFactorY,g=0;g<l;g++){var m=h[g];if(m.willRender(x)){var y,C,b,M;if(m.alphaTopLeft!==void 0)y=m.alphaTopLeft,C=m.alphaTopRight,b=m.alphaBottomLeft,M=m.alphaBottomRight;else{var w=m.alpha;y=w,C=w,b=w,M=w}var R=m.scrollFactorX,A=m.scrollFactorY;!f&&m.blendMode!==r.currentBlendMode&&r.setBlendMode(m.blendMode);var L=m.mask;L&&L.preRenderWebGL(r,m,x);var F=m.type;F!==r.currentType&&(r.newType=!0,r.currentType=F),r.nextTypeMatch=g<l-1?h[g+1].type===r.currentType:!1,m.setScrollFactor(R*u,A*v),m.setAlpha(y*c,C*c,b*c,M*c),m.renderWebGL(r,m,x,a,o),m.setAlpha(y,C,b,M),m.setScrollFactor(R,A),L&&L.postRenderWebGL(r,x),r.newType=!1}}r.pipelines.postBatch(o)}};n.exports=T},47407:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports=["normal","multiply","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"]},3069:(n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(83419),x=r(31401),d=r(441),h=r(95643),l=r(41212),a=r(35846),f=r(44594),c=r(61369),u=new o({Extends:h,Mixins:[x.AlphaSingle,x.BlendMode,x.Depth,x.Origin,x.ScrollFactor,x.Transform,x.Visible,d],initialize:function(g,m,y,C,b,M){h.call(this,g,"DOMElement"),this.parent=g.sys.game.domContainer,this.cache=g.sys.cache.html,this.node,this.transformOnly=!1,this.skewX=0,this.skewY=0,this.rotate3d=new c,this.rotate3dAngle="deg",this.pointerEvents="auto",this.width=0,this.height=0,this.displayWidth=0,this.displayHeight=0,this.handler=this.dispatchNativeEvent.bind(this),this.setPosition(m,y),typeof C=="string"?C[0]==="#"?this.setElement(C.substr(1),b,M):this.createElement(C,b,M):C&&this.setElement(C,b,M),g.sys.events.on(f.SLEEP,this.handleSceneEvent,this),g.sys.events.on(f.WAKE,this.handleSceneEvent,this),g.sys.events.on(f.PRE_RENDER,this.preRender,this)},handleSceneEvent:function(v){var g=this.node,m=g.style;g&&(m.display=v.settings.visible?"block":"none")},setSkew:function(v,g){return v===void 0&&(v=0),g===void 0&&(g=v),this.skewX=v,this.skewY=g,this},setPerspective:function(v){return this.parent.style.perspective=v+"px",this},perspective:{get:function(){return parseFloat(this.parent.style.perspective)},set:function(v){this.parent.style.perspective=v+"px"}},addListener:function(v){if(this.node){v=v.split(" ");for(var g=0;g<v.length;g++)this.node.addEventListener(v[g],this.handler,!1)}return this},removeListener:function(v){if(this.node){v=v.split(" ");for(var g=0;g<v.length;g++)this.node.removeEventListener(v[g],this.handler)}return this},dispatchNativeEvent:function(v){this.emit(v.type,v)},createElement:function(v,g,m){return this.setElement(document.createElement(v),g,m)},setElement:function(v,g,m){this.removeElement();var y;if(typeof v=="string"?(v[0]==="#"&&(v=v.substr(1)),y=document.getElementById(v)):typeof v=="object"&&v.nodeType===1&&(y=v),!y)return this;if(this.node=y,g&&l(g))for(var C in g)y.style[C]=g[C];else typeof g=="string"&&(y.style=g);return y.style.zIndex="0",y.style.display="inline",y.style.position="absolute",y.phaser=this,this.parent&&this.parent.appendChild(y),m&&(y.innerText=m),this.updateSize()},createFromCache:function(v,g){var m=this.cache.get(v);return m&&this.createFromHTML(m,g),this},createFromHTML:function(v,g){g===void 0&&(g="div"),this.removeElement();var m=document.createElement(g);return this.node=m,m.style.zIndex="0",m.style.display="inline",m.style.position="absolute",m.phaser=this,this.parent&&this.parent.appendChild(m),m.innerHTML=v,this.updateSize()},removeElement:function(){return this.node&&(a(this.node),this.node=null),this},updateSize:function(){var v=this.node;return this.width=v.clientWidth,this.height=v.clientHeight,this.displayWidth=this.width*this.scaleX,this.displayHeight=this.height*this.scaleY,this},getChildByProperty:function(v,g){if(this.node){for(var m=this.node.querySelectorAll("*"),y=0;y<m.length;y++)if(m[y][v]===g)return m[y]}return null},getChildByID:function(v){return this.getChildByProperty("id",v)},getChildByName:function(v){return this.getChildByProperty("name",v)},setClassName:function(v){return this.node&&(this.node.className=v,this.updateSize()),this},setText:function(v){return this.node&&(this.node.innerText=v,this.updateSize()),this},setHTML:function(v){return this.node&&(this.node.innerHTML=v,this.updateSize()),this},preRender:function(){var v=this.parentContainer,g=this.node;g&&v&&!v.willRender()&&(g.style.display="none")},willRender:function(){return!0},preDestroy:function(){this.removeElement(),this.scene.sys.events.off(f.SLEEP,this.handleSceneEvent,this),this.scene.sys.events.off(f.WAKE,this.handleSceneEvent,this),this.scene.sys.events.off(f.PRE_RENDER,this.preRender,this)}});n.exports=u},49381:(n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(47407),x=r(95643),d=r(61340),h=new d,l=new d,a=new d,f=function(c,u,v,g){if(u.node){var m=u.node.style,y=u.scene.sys.settings;if(!m||!y.visible||x.RENDER_MASK!==u.renderFlags||u.cameraFilter!==0&&u.cameraFilter&v.id||u.parentContainer&&!u.parentContainer.willRender()){m.display="none";return}var C=u.parentContainer,b=v.alpha*u.alpha;C&&(b*=C.alpha);var M=h,w=l,R=a,A=0,L=0,F="0%",G="0%";g?(A=u.width*u.scaleX*u.originX,L=u.height*u.scaleY*u.originY,w.applyITRS(u.x-A,u.y-L,u.rotation,u.scaleX,u.scaleY),M.copyFrom(v.matrix),M.multiplyWithOffset(g,-v.scrollX*u.scrollFactorX,-v.scrollY*u.scrollFactorY),w.e=u.x-A,w.f=u.y-L,M.multiply(w,R)):(A=u.width*u.originX,L=u.height*u.originY,w.applyITRS(u.x,u.y,u.rotation,u.scaleX,u.scaleY),M.copyFrom(v.matrix),F=100*u.originX+"%",G=100*u.originY+"%",w.e-=v.scrollX*u.scrollFactorX,w.f-=v.scrollY*u.scrollFactorY,M.multiply(w,R),R.e-=A,R.f-=L),u.transformOnly||(m.display="block",m.opacity=b,m.zIndex=u._depth,m.pointerEvents=u.pointerEvents,m.mixBlendMode=o[u._blendMode]),m.transform=R.getCSSMatrix()+" skew("+u.skewX+"rad, "+u.skewY+"rad) rotate3d("+u.rotate3d.x+","+u.rotate3d.y+","+u.rotate3d.z+","+u.rotate3d.w+u.rotate3dAngle+")",m.transformOrigin=F+" "+G}};n.exports=f},2611:(n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(3069),x=r(39429);x.register("dom",function(d,h,l,a,f){var c=new o(this.scene,d,h,l,a,f);return this.displayList.add(c),c})},441:(n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(29747),x=o,d=o;x=r(49381),d=r(49381),n.exports={renderWebGL:x,renderCanvas:d}},62980:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="addedtoscene"},41337:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="destroy"},44947:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="removedfromscene"},49358:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="complete"},35163:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="created"},97249:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="error"},19483:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="locked"},56059:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="loop"},26772:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="metadata"},64437:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="playing"},83411:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="play"},75780:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="seeked"},67799:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="seeking"},63500:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="stalled"},55541:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="stop"},53208:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="textureready"},4992:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="unlocked"},12:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="unsupported"},51708:(n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports={ADDED_TO_SCENE:r(62980),DESTROY:r(41337),REMOVED_FROM_SCENE:r(44947),VIDEO_COMPLETE:r(49358),VIDEO_CREATED:r(35163),VIDEO_ERROR:r(97249),VIDEO_LOCKED:r(19483),VIDEO_LOOP:r(56059),VIDEO_METADATA:r(26772),VIDEO_PLAY:r(83411),VIDEO_PLAYING:r(64437),VIDEO_SEEKED:r(75780),VIDEO_SEEKING:r(67799),VIDEO_STALLED:r(63500),VIDEO_STOP:r(55541),VIDEO_TEXTURE:r(53208),VIDEO_UNLOCKED:r(4992),VIDEO_UNSUPPORTED:r(12)}},42421:(n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(83419),x=r(31401),d=r(95643),h=r(64993),l=new o({Extends:d,Mixins:[x.Alpha,x.BlendMode,x.Depth,x.Flip,x.Origin,x.ScrollFactor,x.Size,x.Texture,x.Tint,x.Transform,x.Visible,h],initialize:function(f){d.call(this,f,"Extern")},addedToScene:function(){this.scene.sys.updateList.add(this)},removedFromScene:function(){this.scene.sys.updateList.remove(this)},preUpdate:function(){},render:function(){}});n.exports=l},70217:()=>{},56315:(n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(42421),x=r(39429);x.register("extern",function(){var d=new o(this.scene);return this.displayList.add(d),d})},64993:(n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(29747),x=o,d=o;x=r(80287),d=r(70217),n.exports={renderWebGL:x,renderCanvas:d}},80287:(n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(91296),x=function(d,h,l,a){d.pipelines.clear();var f=o(h,l,a).calc;h.render.call(h,d,l,f),d.pipelines.rebind()};n.exports=x},85592:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports={ARC:0,BEGIN_PATH:1,CLOSE_PATH:2,FILL_RECT:3,LINE_TO:4,MOVE_TO:5,LINE_STYLE:6,FILL_STYLE:7,FILL_PATH:8,STROKE_PATH:9,FILL_TRIANGLE:10,STROKE_TRIANGLE:11,SAVE:14,RESTORE:15,TRANSLATE:16,SCALE:17,ROTATE:18,GRADIENT_FILL_STYLE:21,GRADIENT_LINE_STYLE:22}},43831:(n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(71911),x=r(83419),d=r(85592),h=r(31401),l=r(8497),a=r(95643),f=r(95540),c=r(35154),u=r(36383),v=r(84503),g=new x({Extends:a,Mixins:[h.AlphaSingle,h.BlendMode,h.Depth,h.Mask,h.Pipeline,h.PostPipeline,h.Transform,h.Visible,h.ScrollFactor,v],initialize:function(y,C){var b=c(C,"x",0),M=c(C,"y",0);a.call(this,y,"Graphics"),this.setPosition(b,M),this.initPipeline(),this.initPostPipeline(),this.displayOriginX=0,this.displayOriginY=0,this.commandBuffer=[],this.defaultFillColor=-1,this.defaultFillAlpha=1,this.defaultStrokeWidth=1,this.defaultStrokeColor=-1,this.defaultStrokeAlpha=1,this._lineWidth=1,this.lineStyle(1,0,0),this.fillStyle(0,0),this.setDefaultStyles(C)},setDefaultStyles:function(m){return c(m,"lineStyle",null)&&(this.defaultStrokeWidth=c(m,"lineStyle.width",1),this.defaultStrokeColor=c(m,"lineStyle.color",16777215),this.defaultStrokeAlpha=c(m,"lineStyle.alpha",1),this.lineStyle(this.defaultStrokeWidth,this.defaultStrokeColor,this.defaultStrokeAlpha)),c(m,"fillStyle",null)&&(this.defaultFillColor=c(m,"fillStyle.color",16777215),this.defaultFillAlpha=c(m,"fillStyle.alpha",1),this.fillStyle(this.defaultFillColor,this.defaultFillAlpha)),this},lineStyle:function(m,y,C){return C===void 0&&(C=1),this.commandBuffer.push(d.LINE_STYLE,m,y,C),this._lineWidth=m,this},fillStyle:function(m,y){return y===void 0&&(y=1),this.commandBuffer.push(d.FILL_STYLE,m,y),this},fillGradientStyle:function(m,y,C,b,M,w,R,A){return M===void 0&&(M=1),w===void 0&&(w=M),R===void 0&&(R=M),A===void 0&&(A=M),this.commandBuffer.push(d.GRADIENT_FILL_STYLE,M,w,R,A,m,y,C,b),this},lineGradientStyle:function(m,y,C,b,M,w){return w===void 0&&(w=1),this.commandBuffer.push(d.GRADIENT_LINE_STYLE,m,w,y,C,b,M),this},beginPath:function(){return this.commandBuffer.push(d.BEGIN_PATH),this},closePath:function(){return this.commandBuffer.push(d.CLOSE_PATH),this},fillPath:function(){return this.commandBuffer.push(d.FILL_PATH),this},fill:function(){return this.commandBuffer.push(d.FILL_PATH),this},strokePath:function(){return this.commandBuffer.push(d.STROKE_PATH),this},stroke:function(){return this.commandBuffer.push(d.STROKE_PATH),this},fillCircleShape:function(m){return this.fillCircle(m.x,m.y,m.radius)},strokeCircleShape:function(m){return this.strokeCircle(m.x,m.y,m.radius)},fillCircle:function(m,y,C){return this.beginPath(),this.arc(m,y,C,0,u.PI2),this.fillPath(),this},strokeCircle:function(m,y,C){return this.beginPath(),this.arc(m,y,C,0,u.PI2),this.strokePath(),this},fillRectShape:function(m){return this.fillRect(m.x,m.y,m.width,m.height)},strokeRectShape:function(m){return this.strokeRect(m.x,m.y,m.width,m.height)},fillRect:function(m,y,C,b){return this.commandBuffer.push(d.FILL_RECT,m,y,C,b),this},strokeRect:function(m,y,C,b){var M=this._lineWidth/2,w=m-M,R=m+M;return this.beginPath(),this.moveTo(m,y),this.lineTo(m,y+b),this.strokePath(),this.beginPath(),this.moveTo(m+C,y),this.lineTo(m+C,y+b),this.strokePath(),this.beginPath(),this.moveTo(w,y),this.lineTo(R+C,y),this.strokePath(),this.beginPath(),this.moveTo(w,y+b),this.lineTo(R+C,y+b),this.strokePath(),this},fillRoundedRect:function(m,y,C,b,M){M===void 0&&(M=20);var w=M,R=M,A=M,L=M;typeof M!="number"&&(w=f(M,"tl",20),R=f(M,"tr",20),A=f(M,"bl",20),L=f(M,"br",20));var F=w>=0,G=R>=0,I=A>=0,B=L>=0;return w=Math.abs(w),R=Math.abs(R),A=Math.abs(A),L=Math.abs(L),this.beginPath(),this.moveTo(m+w,y),this.lineTo(m+C-R,y),G?this.arc(m+C-R,y+R,R,-u.TAU,0):this.arc(m+C,y,R,Math.PI,u.TAU,!0),this.lineTo(m+C,y+b-L),B?this.arc(m+C-L,y+b-L,L,0,u.TAU):this.arc(m+C,y+b,L,-u.TAU,Math.PI,!0),this.lineTo(m+A,y+b),I?this.arc(m+A,y+b-A,A,u.TAU,Math.PI):this.arc(m,y+b,A,0,-u.TAU,!0),this.lineTo(m,y+w),F?this.arc(m+w,y+w,w,-Math.PI,-u.TAU):this.arc(m,y,w,u.TAU,0,!0),this.fillPath(),this},strokeRoundedRect:function(m,y,C,b,M){M===void 0&&(M=20);var w=M,R=M,A=M,L=M,F=Math.min(C,b)/2;typeof M!="number"&&(w=f(M,"tl",20),R=f(M,"tr",20),A=f(M,"bl",20),L=f(M,"br",20));var G=w>=0,I=R>=0,B=A>=0,k=L>=0;return w=Math.min(Math.abs(w),F),R=Math.min(Math.abs(R),F),A=Math.min(Math.abs(A),F),L=Math.min(Math.abs(L),F),this.beginPath(),this.moveTo(m+w,y),this.lineTo(m+C-R,y),this.moveTo(m+C-R,y),I?this.arc(m+C-R,y+R,R,-u.TAU,0):this.arc(m+C,y,R,Math.PI,u.TAU,!0),this.lineTo(m+C,y+b-L),this.moveTo(m+C,y+b-L),k?this.arc(m+C-L,y+b-L,L,0,u.TAU):this.arc(m+C,y+b,L,-u.TAU,Math.PI,!0),this.lineTo(m+A,y+b),this.moveTo(m+A,y+b),B?this.arc(m+A,y+b-A,A,u.TAU,Math.PI):this.arc(m,y+b,A,0,-u.TAU,!0),this.lineTo(m,y+w),this.moveTo(m,y+w),G?this.arc(m+w,y+w,w,-Math.PI,-u.TAU):this.arc(m,y,w,u.TAU,0,!0),this.strokePath(),this},fillPointShape:function(m,y){return this.fillPoint(m.x,m.y,y)},fillPoint:function(m,y,C){return!C||C<1?C=1:(m-=C/2,y-=C/2),this.commandBuffer.push(d.FILL_RECT,m,y,C,C),this},fillTriangleShape:function(m){return this.fillTriangle(m.x1,m.y1,m.x2,m.y2,m.x3,m.y3)},strokeTriangleShape:function(m){return this.strokeTriangle(m.x1,m.y1,m.x2,m.y2,m.x3,m.y3)},fillTriangle:function(m,y,C,b,M,w){return this.commandBuffer.push(d.FILL_TRIANGLE,m,y,C,b,M,w),this},strokeTriangle:function(m,y,C,b,M,w){return this.commandBuffer.push(d.STROKE_TRIANGLE,m,y,C,b,M,w),this},strokeLineShape:function(m){return this.lineBetween(m.x1,m.y1,m.x2,m.y2)},lineBetween:function(m,y,C,b){return this.beginPath(),this.moveTo(m,y),this.lineTo(C,b),this.strokePath(),this},lineTo:function(m,y){return this.commandBuffer.push(d.LINE_TO,m,y),this},moveTo:function(m,y){return this.commandBuffer.push(d.MOVE_TO,m,y),this},strokePoints:function(m,y,C,b){y===void 0&&(y=!1),C===void 0&&(C=!1),b===void 0&&(b=m.length),this.beginPath(),this.moveTo(m[0].x,m[0].y);for(var M=1;M<b;M++)this.lineTo(m[M].x,m[M].y);return y&&this.lineTo(m[0].x,m[0].y),C&&this.closePath(),this.strokePath(),this},fillPoints:function(m,y,C,b){y===void 0&&(y=!1),C===void 0&&(C=!1),b===void 0&&(b=m.length),this.beginPath(),this.moveTo(m[0].x,m[0].y);for(var M=1;M<b;M++)this.lineTo(m[M].x,m[M].y);return y&&this.lineTo(m[0].x,m[0].y),C&&this.closePath(),this.fillPath(),this},strokeEllipseShape:function(m,y){y===void 0&&(y=32);var C=m.getPoints(y);return this.strokePoints(C,!0)},strokeEllipse:function(m,y,C,b,M){M===void 0&&(M=32);var w=new l(m,y,C,b),R=w.getPoints(M);return this.strokePoints(R,!0)},fillEllipseShape:function(m,y){y===void 0&&(y=32);var C=m.getPoints(y);return this.fillPoints(C,!0)},fillEllipse:function(m,y,C,b,M){M===void 0&&(M=32);var w=new l(m,y,C,b),R=w.getPoints(M);return this.fillPoints(R,!0)},arc:function(m,y,C,b,M,w,R){return w===void 0&&(w=!1),R===void 0&&(R=0),this.commandBuffer.push(d.ARC,m,y,C,b,M,w,R),this},slice:function(m,y,C,b,M,w,R){return w===void 0&&(w=!1),R===void 0&&(R=0),this.commandBuffer.push(d.BEGIN_PATH),this.commandBuffer.push(d.MOVE_TO,m,y),this.commandBuffer.push(d.ARC,m,y,C,b,M,w,R),this.commandBuffer.push(d.CLOSE_PATH),this},save:function(){return this.commandBuffer.push(d.SAVE),this},restore:function(){return this.commandBuffer.push(d.RESTORE),this},translateCanvas:function(m,y){return this.commandBuffer.push(d.TRANSLATE,m,y),this},scaleCanvas:function(m,y){return this.commandBuffer.push(d.SCALE,m,y),this},rotateCanvas:function(m){return this.commandBuffer.push(d.ROTATE,m),this},clear:function(){return this.commandBuffer.length=0,this.defaultFillColor>-1&&this.fillStyle(this.defaultFillColor,this.defaultFillAlpha),this.defaultStrokeColor>-1&&this.lineStyle(this.defaultStrokeWidth,this.defaultStrokeColor,this.defaultStrokeAlpha),this},generateTexture:function(m,y,C){var b=this.scene.sys,M=b.game.renderer;y===void 0&&(y=b.scale.width),C===void 0&&(C=b.scale.height),g.TargetCamera.setScene(this.scene),g.TargetCamera.setViewport(0,0,y,C),g.TargetCamera.scrollX=this.x,g.TargetCamera.scrollY=this.y;var w,R,A={willReadFrequently:!0};if(typeof m=="string")if(b.textures.exists(m)){w=b.textures.get(m);var L=w.getSourceImage();L instanceof HTMLCanvasElement&&(R=L.getContext("2d",A))}else w=b.textures.createCanvas(m,y,C),R=w.getSourceImage().getContext("2d",A);else m instanceof HTMLCanvasElement&&(R=m.getContext("2d",A));return R&&(this.renderCanvas(M,this,g.TargetCamera,null,R,!1),w&&w.refresh()),this},preDestroy:function(){this.commandBuffer=[]}});g.TargetCamera=new o,n.exports=g},32768:(n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(85592),x=r(20926),d=function(h,l,a,f,c,u){var v=l.commandBuffer,g=v.length,m=c||h.currentContext;if(!(g===0||!x(h,m,l,a,f))){a.addToRenderList(l);var y=1,C=1,b=0,M=0,w=1,R=0,A=0,L=0;m.beginPath();for(var F=0;F<g;++F){var G=v[F];switch(G){case o.ARC:m.arc(v[F+1],v[F+2],v[F+3],v[F+4],v[F+5],v[F+6]),F+=7;break;case o.LINE_STYLE:w=v[F+1],b=v[F+2],y=v[F+3],R=(b&16711680)>>>16,A=(b&65280)>>>8,L=b&255,m.strokeStyle="rgba("+R+","+A+","+L+","+y+")",m.lineWidth=w,F+=3;break;case o.FILL_STYLE:M=v[F+1],C=v[F+2],R=(M&16711680)>>>16,A=(M&65280)>>>8,L=M&255,m.fillStyle="rgba("+R+","+A+","+L+","+C+")",F+=2;break;case o.BEGIN_PATH:m.beginPath();break;case o.CLOSE_PATH:m.closePath();break;case o.FILL_PATH:u||m.fill();break;case o.STROKE_PATH:u||m.stroke();break;case o.FILL_RECT:u?m.rect(v[F+1],v[F+2],v[F+3],v[F+4]):m.fillRect(v[F+1],v[F+2],v[F+3],v[F+4]),F+=4;break;case o.FILL_TRIANGLE:m.beginPath(),m.moveTo(v[F+1],v[F+2]),m.lineTo(v[F+3],v[F+4]),m.lineTo(v[F+5],v[F+6]),m.closePath(),u||m.fill(),F+=6;break;case o.STROKE_TRIANGLE:m.beginPath(),m.moveTo(v[F+1],v[F+2]),m.lineTo(v[F+3],v[F+4]),m.lineTo(v[F+5],v[F+6]),m.closePath(),u||m.stroke(),F+=6;break;case o.LINE_TO:m.lineTo(v[F+1],v[F+2]),F+=2;break;case o.MOVE_TO:m.moveTo(v[F+1],v[F+2]),F+=2;break;case o.LINE_FX_TO:m.lineTo(v[F+1],v[F+2]),F+=5;break;case o.MOVE_FX_TO:m.moveTo(v[F+1],v[F+2]),F+=5;break;case o.SAVE:m.save();break;case o.RESTORE:m.restore();break;case o.TRANSLATE:m.translate(v[F+1],v[F+2]),F+=2;break;case o.SCALE:m.scale(v[F+1],v[F+2]),F+=2;break;case o.ROTATE:m.rotate(v[F+1]),F+=1;break;case o.GRADIENT_FILL_STYLE:F+=5;break;case o.GRADIENT_LINE_STYLE:F+=6;break}}m.restore()}};n.exports=d},87079:(n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(44603),x=r(43831);o.register("graphics",function(d,h){d===void 0&&(d={}),h!==void 0&&(d.add=h);var l=new x(this.scene,d);return d.add&&this.scene.sys.displayList.add(l),l})},1201:(n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(43831),x=r(39429);x.register("graphics",function(d){return this.displayList.add(new o(this.scene,d))})},84503:(n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(29747),x=o,d=o;x=r(77545),d=r(32768),d=r(32768),n.exports={renderWebGL:x,renderCanvas:d}},77545:(n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(85592),x=r(91296),d=r(61340),h=r(70554),l=function(v,g,m){this.x=v,this.y=g,this.width=m},a=function(v,g,m){this.points=[],this.pointsLength=1,this.points[0]=new l(v,g,m)},f=[],c=new d,u=function(v,g,m,y){if(g.commandBuffer.length!==0){m.addToRenderList(g);var C=v.pipelines.set(g.pipeline,g);v.pipelines.preBatch(g);for(var b=x(g,m,y).calc,M=c.loadIdentity(),w=g.commandBuffer,R=m.alpha*g.alpha,A=1,L=C.fillTint,F=C.strokeTint,G=0,I=0,B=0,k=.01,U=Math.PI*2,H,X=[],j=0,J=!0,Y=null,$=h.getTintAppendFloatAlpha,z=0;z<w.length;z++)switch(H=w[z],H){case o.BEGIN_PATH:{X.length=0,Y=null,J=!0;break}case o.CLOSE_PATH:{J=!1,Y&&Y.points.length&&Y.points.push(Y.points[0]);break}case o.FILL_PATH:{for(j=0;j<X.length;j++)C.batchFillPath(X[j].points,M,b);break}case o.STROKE_PATH:{for(j=0;j<X.length;j++)C.batchStrokePath(X[j].points,A,J,M,b);break}case o.LINE_STYLE:{A=w[++z];var V=w[++z],K=w[++z]*R,Q=$(V,K);F.TL=Q,F.TR=Q,F.BL=Q,F.BR=Q;break}case o.FILL_STYLE:{var _=w[++z],tt=w[++z]*R,rt=$(_,tt);L.TL=rt,L.TR=rt,L.BL=rt,L.BR=rt;break}case o.GRADIENT_FILL_STYLE:{var ot=w[++z]*R,ft=w[++z]*R,ct=w[++z]*R,gt=w[++z]*R;L.TL=$(w[++z],ot),L.TR=$(w[++z],ft),L.BL=$(w[++z],ct),L.BR=$(w[++z],gt);break}case o.GRADIENT_LINE_STYLE:{A=w[++z];var xt=w[++z]*R;F.TL=$(w[++z],xt),F.TR=$(w[++z],xt),F.BL=$(w[++z],xt),F.BR=$(w[++z],xt);break}case o.ARC:{var Mt=0,Tt=w[++z],Ht=w[++z],Xt=w[++z],Kt=w[++z],bt=w[++z],Ut=w[++z],Vt=w[++z];for(bt-=Kt,Ut?bt<-U?bt=-U:bt>0&&(bt=-U+bt%U):bt>U?bt=U:bt<0&&(bt=U+bt%U),Y===null&&(Y=new a(Tt+Math.cos(Kt)*Xt,Ht+Math.sin(Kt)*Xt,A),X.push(Y),Mt+=k);Mt<1+Vt;)B=bt*Mt+Kt,G=Tt+Math.cos(B)*Xt,I=Ht+Math.sin(B)*Xt,Y.points.push(new l(G,I,A)),Mt+=k;B=bt+Kt,G=Tt+Math.cos(B)*Xt,I=Ht+Math.sin(B)*Xt,Y.points.push(new l(G,I,A));break}case o.FILL_RECT:{C.batchFillRect(w[++z],w[++z],w[++z],w[++z],M,b);break}case o.FILL_TRIANGLE:{C.batchFillTriangle(w[++z],w[++z],w[++z],w[++z],w[++z],w[++z],M,b);break}case o.STROKE_TRIANGLE:{C.batchStrokeTriangle(w[++z],w[++z],w[++z],w[++z],w[++z],w[++z],A,M,b);break}case o.LINE_TO:{Y!==null?Y.points.push(new l(w[++z],w[++z],A)):(Y=new a(w[++z],w[++z],A),X.push(Y));break}case o.MOVE_TO:{Y=new a(w[++z],w[++z],A),X.push(Y);break}case o.SAVE:{f.push(M.copyToArray());break}case o.RESTORE:{M.copyFromArray(f.pop());break}case o.TRANSLATE:{Tt=w[++z],Ht=w[++z],M.translate(Tt,Ht);break}case o.SCALE:{Tt=w[++z],Ht=w[++z],M.scale(Tt,Ht);break}case o.ROTATE:{M.rotate(w[++z]);break}}v.pipelines.postBatch(g)}};n.exports=u},26479:(n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(61061),x=r(83419),d=r(51708),h=r(50792),l=r(46710),a=r(95540),f=r(35154),c=r(97022),u=r(41212),v=r(88492),g=r(35072),m=r(68287),y=new x({Extends:h,initialize:function(b,M,w){h.call(this),w?M&&!Array.isArray(M)&&(M=[M]):Array.isArray(M)?u(M[0])&&(w=M,M=null):u(M)&&(w=M,M=null),this.scene=b,this.children=new g,this.isParent=!0,this.type="Group",this.classType=a(w,"classType",m),this.name=a(w,"name",""),this.active=a(w,"active",!0),this.maxSize=a(w,"maxSize",-1),this.defaultKey=a(w,"defaultKey",null),this.defaultFrame=a(w,"defaultFrame",null),this.runChildUpdate=a(w,"runChildUpdate",!1),this.createCallback=a(w,"createCallback",null),this.removeCallback=a(w,"removeCallback",null),this.createMultipleCallback=a(w,"createMultipleCallback",null),this.internalCreateCallback=a(w,"internalCreateCallback",null),this.internalRemoveCallback=a(w,"internalRemoveCallback",null),M&&this.addMultiple(M),w&&this.createMultiple(w),this.on(d.ADDED_TO_SCENE,this.addedToScene,this),this.on(d.REMOVED_FROM_SCENE,this.removedFromScene,this)},addedToScene:function(){this.scene.sys.updateList.add(this)},removedFromScene:function(){this.scene.sys.updateList.remove(this)},create:function(C,b,M,w,R,A){if(C===void 0&&(C=0),b===void 0&&(b=0),M===void 0&&(M=this.defaultKey),w===void 0&&(w=this.defaultFrame),R===void 0&&(R=!0),A===void 0&&(A=!0),this.isFull())return null;var L=new this.classType(this.scene,C,b,M,w);return L.addToDisplayList(this.scene.sys.displayList),L.addToUpdateList(),L.visible=R,L.setActive(A),this.add(L),L},createMultiple:function(C){if(this.isFull())return[];Array.isArray(C)||(C=[C]);var b=[];if(C[0].key)for(var M=0;M<C.length;M++){var w=this.createFromConfig(C[M]);b=b.concat(w)}return b},createFromConfig:function(C){if(this.isFull())return[];this.classType=a(C,"classType",this.classType);var b=a(C,"key",void 0),M=a(C,"frame",null),w=a(C,"visible",!0),R=a(C,"active",!0),A=[];if(b===void 0)return A;Array.isArray(b)||(b=[b]),Array.isArray(M)||(M=[M]);var L=a(C,"repeat",0),F=a(C,"randomKey",!1),G=a(C,"randomFrame",!1),I=a(C,"yoyo",!1),B=a(C,"quantity",!1),k=a(C,"frameQuantity",1),U=a(C,"max",0),H=v(b,M,{max:U,qty:B||k,random:F,randomB:G,repeat:L,yoyo:I});C.createCallback&&(this.createCallback=C.createCallback),C.removeCallback&&(this.removeCallback=C.removeCallback),C.internalCreateCallback&&(this.internalCreateCallback=C.internalCreateCallback),C.internalRemoveCallback&&(this.internalRemoveCallback=C.internalRemoveCallback);for(var X=0;X<H.length;X++){var j=this.create(0,0,H[X].a,H[X].b,w,R);if(!j)break;A.push(j)}if(c(C,"setXY")){var J=f(C,"setXY.x",0),Y=f(C,"setXY.y",0),$=f(C,"setXY.stepX",0),z=f(C,"setXY.stepY",0);o.SetXY(A,J,Y,$,z)}if(c(C,"setRotation")){var V=f(C,"setRotation.value",0),K=f(C,"setRotation.step",0);o.SetRotation(A,V,K)}if(c(C,"setScale")){var Q=f(C,"setScale.x",1),_=f(C,"setScale.y",Q),tt=f(C,"setScale.stepX",0),rt=f(C,"setScale.stepY",0);o.SetScale(A,Q,_,tt,rt)}if(c(C,"setOrigin")){var ot=f(C,"setOrigin.x",.5),ft=f(C,"setOrigin.y",ot),ct=f(C,"setOrigin.stepX",0),gt=f(C,"setOrigin.stepY",0);o.SetOrigin(A,ot,ft,ct,gt)}if(c(C,"setAlpha")){var xt=f(C,"setAlpha.value",1),Mt=f(C,"setAlpha.step",0);o.SetAlpha(A,xt,Mt)}if(c(C,"setDepth")){var Tt=f(C,"setDepth.value",0),Ht=f(C,"setDepth.step",0);o.SetDepth(A,Tt,Ht)}if(c(C,"setScrollFactor")){var Xt=f(C,"setScrollFactor.x",1),Kt=f(C,"setScrollFactor.y",Xt),bt=f(C,"setScrollFactor.stepX",0),Ut=f(C,"setScrollFactor.stepY",0);o.SetScrollFactor(A,Xt,Kt,bt,Ut)}var Vt=a(C,"hitArea",null),ee=a(C,"hitAreaCallback",null);Vt&&o.SetHitArea(A,Vt,ee);var Ee=a(C,"gridAlign",!1);return Ee&&o.GridAlign(A,Ee),this.createMultipleCallback&&this.createMultipleCallback.call(this,A),A},preUpdate:function(C,b){if(!(!this.runChildUpdate||this.children.size===0))for(var M=this.children.entries.slice(),w=0;w<M.length;w++){var R=M[w];R.active&&R.update(C,b)}},add:function(C,b){return b===void 0&&(b=!1),this.isFull()?this:(this.children.set(C),this.internalCreateCallback&&this.internalCreateCallback.call(this,C),this.createCallback&&this.createCallback.call(this,C),b&&(C.addToDisplayList(this.scene.sys.displayList),C.addToUpdateList()),C.on(d.DESTROY,this.remove,this),this)},addMultiple:function(C,b){if(b===void 0&&(b=!1),Array.isArray(C))for(var M=0;M<C.length;M++)this.add(C[M],b);return this},remove:function(C,b,M){return b===void 0&&(b=!1),M===void 0&&(M=!1),this.children.contains(C)?(this.children.delete(C),this.internalRemoveCallback&&this.internalRemoveCallback.call(this,C),this.removeCallback&&this.removeCallback.call(this,C),C.off(d.DESTROY,this.remove,this),M?C.destroy():b&&(C.removeFromDisplayList(),C.removeFromUpdateList()),this):this},clear:function(C,b){C===void 0&&(C=!1),b===void 0&&(b=!1);for(var M=this.children,w=0;w<M.size;w++){var R=M.entries[w];R.off(d.DESTROY,this.remove,this),b?R.destroy():C&&(R.removeFromDisplayList(),R.removeFromUpdateList())}return this.children.clear(),this},contains:function(C){return this.children.contains(C)},getChildren:function(){return this.children.entries},getLength:function(){return this.children.size},getMatching:function(C,b,M,w){return l(this.children.entries,C,b,M,w)},getFirst:function(C,b,M,w,R,A,L){return this.getHandler(!0,1,C,b,M,w,R,A,L)},getFirstNth:function(C,b,M,w,R,A,L,F){return this.getHandler(!0,C,b,M,w,R,A,L,F)},getLast:function(C,b,M,w,R,A,L){return this.getHandler(!1,1,C,b,M,w,R,A,L)},getLastNth:function(C,b,M,w,R,A,L,F){return this.getHandler(!1,C,b,M,w,R,A,L,F)},getHandler:function(C,b,M,w,R,A,L,F,G){M===void 0&&(M=!1),w===void 0&&(w=!1);var I,B,k=0,U=this.children.entries;if(C)for(B=0;B<U.length;B++)if(I=U[B],I.active===M){if(k++,k===b)break}else I=null;else for(B=U.length-1;B>=0;B--)if(I=U[B],I.active===M){if(k++,k===b)break}else I=null;return I?(typeof R=="number"&&(I.x=R),typeof A=="number"&&(I.y=A),I):w?this.create(R,A,L,F,G):null},get:function(C,b,M,w,R){return this.getFirst(!1,!0,C,b,M,w,R)},getFirstAlive:function(C,b,M,w,R,A){return this.getFirst(!0,C,b,M,w,R,A)},getFirstDead:function(C,b,M,w,R,A){return this.getFirst(!1,C,b,M,w,R,A)},playAnimation:function(C,b){return o.PlayAnimation(this.children.entries,C,b),this},isFull:function(){return this.maxSize===-1?!1:this.children.size>=this.maxSize},countActive:function(C){C===void 0&&(C=!0);for(var b=0,M=0;M<this.children.size;M++)this.children.entries[M].active===C&&b++;return b},getTotalUsed:function(){return this.countActive()},getTotalFree:function(){var C=this.getTotalUsed(),b=this.maxSize===-1?999999999999:this.maxSize;return b-C},setActive:function(C){return this.active=C,this},setName:function(C){return this.name=C,this},propertyValueSet:function(C,b,M,w,R){return o.PropertyValueSet(this.children.entries,C,b,M,w,R),this},propertyValueInc:function(C,b,M,w,R){return o.PropertyValueInc(this.children.entries,C,b,M,w,R),this},setX:function(C,b){return o.SetX(this.children.entries,C,b),this},setY:function(C,b){return o.SetY(this.children.entries,C,b),this},setXY:function(C,b,M,w){return o.SetXY(this.children.entries,C,b,M,w),this},incX:function(C,b){return o.IncX(this.children.entries,C,b),this},incY:function(C,b){return o.IncY(this.children.entries,C,b),this},incXY:function(C,b,M,w){return o.IncXY(this.children.entries,C,b,M,w),this},shiftPosition:function(C,b,M){return o.ShiftPosition(this.children.entries,C,b,M),this},angle:function(C,b){return o.Angle(this.children.entries,C,b),this},rotate:function(C,b){return o.Rotate(this.children.entries,C,b),this},rotateAround:function(C,b){return o.RotateAround(this.children.entries,C,b),this},rotateAroundDistance:function(C,b,M){return o.RotateAroundDistance(this.children.entries,C,b,M),this},setAlpha:function(C,b){return o.SetAlpha(this.children.entries,C,b),this},setTint:function(C,b,M,w){return o.SetTint(this.children.entries,C,b,M,w),this},setOrigin:function(C,b,M,w){return o.SetOrigin(this.children.entries,C,b,M,w),this},scaleX:function(C,b){return o.ScaleX(this.children.entries,C,b),this},scaleY:function(C,b){return o.ScaleY(this.children.entries,C,b),this},scaleXY:function(C,b,M,w){return o.ScaleXY(this.children.entries,C,b,M,w),this},setDepth:function(C,b){return o.SetDepth(this.children.entries,C,b),this},setBlendMode:function(C){return o.SetBlendMode(this.children.entries,C),this},setHitArea:function(C,b){return o.SetHitArea(this.children.entries,C,b),this},shuffle:function(){return o.Shuffle(this.children.entries),this},kill:function(C){this.children.contains(C)&&C.setActive(!1)},killAndHide:function(C){this.children.contains(C)&&(C.setActive(!1),C.setVisible(!1))},setVisible:function(C,b,M){return o.SetVisible(this.children.entries,C,b,M),this},toggleVisible:function(){return o.ToggleVisible(this.children.entries),this},destroy:function(C,b){C===void 0&&(C=!1),b===void 0&&(b=!1),!(!this.scene||this.ignoreDestroy)&&(this.emit(d.DESTROY,this),this.removeAllListeners(),this.scene.sys.updateList.remove(this),this.clear(b,C),this.scene=void 0,this.children=void 0)}});n.exports=y},94975:(n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(44603),x=r(26479);o.register("group",function(d){return new x(this.scene,null,d)})},3385:(n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(26479),x=r(39429);x.register("group",function(d,h){return this.updateList.add(new o(this.scene,d,h))})},88571:(n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(83419),x=r(31401),d=r(95643),h=r(59819),l=new o({Extends:d,Mixins:[x.Alpha,x.BlendMode,x.Depth,x.Flip,x.GetBounds,x.Mask,x.Origin,x.Pipeline,x.PostPipeline,x.ScrollFactor,x.Size,x.TextureCrop,x.Tint,x.Transform,x.Visible,h],initialize:function(f,c,u,v,g){d.call(this,f,"Image"),this._crop=this.resetCropObject(),this.setTexture(v,g),this.setPosition(c,u),this.setSizeToFrame(),this.setOriginFromFrame(),this.initPipeline(),this.initPostPipeline(!0)}});n.exports=l},40652:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(r,o,x,d){x.addToRenderList(o),r.batchSprite(o,o.frame,x,d)};n.exports=T},82459:(n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(25305),x=r(44603),d=r(23568),h=r(88571);x.register("image",function(l,a){l===void 0&&(l={});var f=d(l,"key",null),c=d(l,"frame",null),u=new h(this.scene,0,0,f,c);return a!==void 0&&(l.add=a),o(this.scene,u,l),u})},2117:(n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(88571),x=r(39429);x.register("image",function(d,h,l,a){return this.displayList.add(new o(this.scene,d,h,l,a))})},59819:(n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(29747),x=o,d=o;x=r(99517),d=r(40652),n.exports={renderWebGL:x,renderCanvas:d}},99517:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(r,o,x,d){x.addToRenderList(o),this.pipeline.batchSprite(o,x,d)};n.exports=T},77856:(n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o={Events:r(51708),DisplayList:r(8050),GameObjectCreator:r(44603),GameObjectFactory:r(39429),UpdateList:r(45027),Components:r(31401),GetCalcMatrix:r(91296),BuildGameObject:r(25305),BuildGameObjectAnimation:r(13059),GameObject:r(95643),BitmapText:r(22186),Blitter:r(6107),Bob:r(46590),Container:r(31559),DOMElement:r(3069),DynamicBitmapText:r(2638),Extern:r(42421),Graphics:r(43831),Group:r(26479),Image:r(88571),Layer:r(93595),Particles:r(18404),PathFollower:r(1159),RenderTexture:r(591),RetroFont:r(196),Rope:r(77757),Sprite:r(68287),Text:r(50171),GetTextSize:r(14220),MeasureText:r(79557),TextStyle:r(35762),TileSprite:r(20839),Zone:r(41481),Video:r(18471),Shape:r(17803),Arc:r(23629),Curve:r(89),Ellipse:r(19921),Grid:r(30479),IsoBox:r(61475),IsoTriangle:r(16933),Line:r(57847),Polygon:r(24949),Rectangle:r(74561),Star:r(55911),Triangle:r(36931),Factories:{Blitter:r(12709),Container:r(24961),DOMElement:r(2611),DynamicBitmapText:r(72566),Extern:r(56315),Graphics:r(1201),Group:r(3385),Image:r(2117),Layer:r(20005),Particles:r(676),PathFollower:r(90145),RenderTexture:r(60505),Rope:r(96819),Sprite:r(46409),StaticBitmapText:r(34914),Text:r(68005),TileSprite:r(91681),Zone:r(84175),Video:r(89025),Arc:r(42563),Curve:r(40511),Ellipse:r(1543),Grid:r(34137),IsoBox:r(3933),IsoTriangle:r(49803),Line:r(2481),Polygon:r(64827),Rectangle:r(87959),Star:r(93697),Triangle:r(45245)},Creators:{Blitter:r(9403),Container:r(77143),DynamicBitmapText:r(11164),Graphics:r(87079),Group:r(94975),Image:r(82459),Layer:r(25179),Particles:r(92730),RenderTexture:r(34495),Rope:r(26209),Sprite:r(15567),StaticBitmapText:r(57336),Text:r(71259),TileSprite:r(14167),Zone:r(95261),Video:r(11511)}};o.Shader=r(20071),o.Mesh=r(4703),o.NineSlice=r(28103),o.PointLight=r(80321),o.Plane=r(33663),o.Factories.Shader=r(74177),o.Factories.Mesh=r(9225),o.Factories.NineSlice=r(47521),o.Factories.PointLight=r(71255),o.Factories.Plane=r(30985),o.Creators.Shader=r(54935),o.Creators.Mesh=r(20527),o.Creators.NineSlice=r(28279),o.Creators.PointLight=r(39829),o.Creators.Plane=r(56015),o.Light=r(41432),o.LightsManager=r(61356),o.LightsPlugin=r(88992),n.exports=o},93595:(n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(10312),x=r(83419),d=r(31401),h=r(53774),l=r(45893),a=r(50792),f=r(51708),c=r(73162),u=r(33963),v=r(44594),g=r(19186),m=new x({Extends:c,Mixins:[d.AlphaSingle,d.BlendMode,d.Depth,d.Mask,d.PostPipeline,d.Visible,a,u],initialize:function(C,b){c.call(this,C),a.call(this),this.scene=C,this.displayList=null,this.type="Layer",this.state=0,this.parentContainer=null,this.name="",this.active=!0,this.tabIndex=-1,this.data=null,this.renderFlags=15,this.cameraFilter=0,this.input=null,this.body=null,this.ignoreDestroy=!1,this.systems=C.sys,this.events=C.sys.events,this.sortChildrenFlag=!1,this.addCallback=this.addChildCallback,this.removeCallback=this.removeChildCallback,this.initPostPipeline(),this.clearAlpha(),this.setBlendMode(o.SKIP_CHECK),b&&this.add(b),C.sys.queueDepthSort()},setActive:function(y){return this.active=y,this},setName:function(y){return this.name=y,this},setState:function(y){return this.state=y,this},setDataEnabled:function(){return this.data||(this.data=new l(this)),this},setData:function(y,C){return this.data||(this.data=new l(this)),this.data.set(y,C),this},incData:function(y,C){return this.data||(this.data=new l(this)),this.data.inc(y,C),this},toggleData:function(y){return this.data||(this.data=new l(this)),this.data.toggle(y),this},getData:function(y){return this.data||(this.data=new l(this)),this.data.get(y)},setInteractive:function(){return this},disableInteractive:function(){return this},removeInteractive:function(){return this},addedToScene:function(){},removedFromScene:function(){},update:function(){},toJSON:function(){return h(this)},willRender:function(y){return!(this.renderFlags!==15||this.list.length===0||this.cameraFilter!==0&&this.cameraFilter&y.id)},getIndexList:function(){for(var y=this,C=this.parentContainer,b=[];C&&(b.unshift(C.getIndex(y)),y=C,C.parentContainer);)C=C.parentContainer;return b.unshift(this.displayList.getIndex(y)),b},addChildCallback:function(y){var C=y.displayList;C&&C!==this&&y.removeFromDisplayList(),y.displayList||(this.queueDepthSort(),y.displayList=this,y.emit(f.ADDED_TO_SCENE,y,this.scene),this.events.emit(v.ADDED_TO_SCENE,y,this.scene))},removeChildCallback:function(y){this.queueDepthSort(),y.displayList=null,y.emit(f.REMOVED_FROM_SCENE,y,this.scene),this.events.emit(v.REMOVED_FROM_SCENE,y,this.scene)},queueDepthSort:function(){this.sortChildrenFlag=!0},depthSort:function(){this.sortChildrenFlag&&(g(this.list,this.sortByDepth),this.sortChildrenFlag=!1)},sortByDepth:function(y,C){return y._depth-C._depth},getChildren:function(){return this.list},addToDisplayList:function(y){return y===void 0&&(y=this.scene.sys.displayList),this.displayList&&this.displayList!==y&&this.removeFromDisplayList(),y.exists(this)||(this.displayList=y,y.add(this,!0),y.queueDepthSort(),this.emit(f.ADDED_TO_SCENE,this,this.scene),y.events.emit(v.ADDED_TO_SCENE,this,this.scene)),this},removeFromDisplayList:function(){var y=this.displayList||this.scene.sys.displayList;return y.exists(this)&&(y.remove(this,!0),y.queueDepthSort(),this.displayList=null,this.emit(f.REMOVED_FROM_SCENE,this,this.scene),y.events.emit(v.REMOVED_FROM_SCENE,this,this.scene)),this},getDisplayList:function(){var y=null;return this.parentContainer?y=this.parentContainer.list:this.displayList&&(y=this.displayList.list),y},destroy:function(y){if(!(!this.scene||this.ignoreDestroy)){this.emit(f.DESTROY,this);for(var C=this.list;C.length;)C[0].destroy(y);this.removeAllListeners(),this.resetPostPipeline(!0),this.displayList&&(this.displayList.remove(this,!0,!1),this.displayList.queueDepthSort()),this.data&&(this.data.destroy(),this.data=void 0),this.active=!1,this.visible=!1,this.list=void 0,this.scene=void 0,this.displayList=void 0,this.systems=void 0,this.events=void 0}}});n.exports=m},2956:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(r,o,x){var d=o.list;if(d.length!==0){o.depthSort();var h=o.blendMode!==-1;h||r.setBlendMode(0);var l=o._alpha;o.mask&&o.mask.preRenderCanvas(r,null,x);for(var a=0;a<d.length;a++){var f=d[a];if(f.willRender(x)){var c=f.alpha;!h&&f.blendMode!==r.currentBlendMode&&r.setBlendMode(f.blendMode),f.setAlpha(c*l),f.renderCanvas(r,f,x),f.setAlpha(c)}}o.mask&&o.mask.postRenderCanvas(r)}};n.exports=T},25179:(n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(25305),x=r(93595),d=r(44603),h=r(23568);d.register("layer",function(l,a){l===void 0&&(l={});var f=h(l,"children",null),c=new x(this.scene,f);return a!==void 0&&(l.add=a),o(this.scene,c,l),c})},20005:(n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(93595),x=r(39429);x.register("layer",function(d){return this.displayList.add(new o(this.scene,d))})},33963:(n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(29747),x=o,d=o;x=r(15869),d=r(2956),n.exports={renderWebGL:x,renderCanvas:d}},15869:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(r,o,x){var d=o.list,h=d.length;if(h!==0){o.depthSort(),r.pipelines.preBatch(o);var l=o.blendMode!==-1;l||r.setBlendMode(0);for(var a=o.alpha,f=0;f<h;f++){var c=d[f];if(c.willRender(x)){var u,v,g,m;if(c.alphaTopLeft!==void 0)u=c.alphaTopLeft,v=c.alphaTopRight,g=c.alphaBottomLeft,m=c.alphaBottomRight;else{var y=c.alpha;u=y,v=y,g=y,m=y}!l&&c.blendMode!==r.currentBlendMode&&r.setBlendMode(c.blendMode);var C=c.mask;C&&C.preRenderWebGL(r,c,x);var b=c.type;b!==r.currentType&&(r.newType=!0,r.currentType=b),r.nextTypeMatch=f<h-1?d[f+1].type===r.currentType:!1,c.setAlpha(u*a,v*a,g*a,m*a),c.renderWebGL(r,c,x),c.setAlpha(u,v,g,m),C&&C.postRenderWebGL(r,x),r.newType=!1}}r.pipelines.postBatch(o)}};n.exports=T},41432:(n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(96503),x=r(83419),d=r(31401),h=r(51767),l=r(70554),a=new x({Extends:o,Mixins:[d.Origin,d.ScrollFactor,d.Visible],initialize:function(c,u,v,g,m,y,C){o.call(this,c,u,v),this.color=new h(g,m,y),this.intensity=C,this.renderFlags=15,this.cameraFilter=0,this.setScrollFactor(1,1),this.setOrigin(),this.setDisplayOrigin(v)},displayWidth:{get:function(){return this.diameter},set:function(f){this.diameter=f}},displayHeight:{get:function(){return this.diameter},set:function(f){this.diameter=f}},width:{get:function(){return this.diameter},set:function(f){this.diameter=f}},height:{get:function(){return this.diameter},set:function(f){this.diameter=f}},willRender:function(f){return!(a.RENDER_MASK!==this.renderFlags||this.cameraFilter!==0&&this.cameraFilter&f.id)},setColor:function(f){var c=l.getFloatsFromUintRGB(f);return this.color.set(c[0],c[1],c[2]),this},setIntensity:function(f){return this.intensity=f,this},setRadius:function(f){return this.radius=f,this}});a.RENDER_MASK=15,n.exports=a},61356:(n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(81491),x=r(83419),d=r(20339),h=r(41432),l=r(80321),a=r(51767),f=r(19133),c=r(19186),u=r(70554),v=new x({initialize:function(){this.lights=[],this.ambientColor=new a(.1,.1,.1),this.active=!1,this.maxLights=-1,this.visibleLights=0},addPointLight:function(g,m,y,C,b,M){return this.systems.displayList.add(new l(this.scene,g,m,y,C,b,M))},enable:function(){return this.maxLights===-1&&(this.maxLights=this.systems.renderer.config.maxLights),this.active=!0,this},disable:function(){return this.active=!1,this},getLights:function(g){for(var m=this.lights,y=g.worldView,C=[],b=0;b<m.length;b++){var M=m[b];M.willRender(g)&&o(M,y)&&C.push({light:M,distance:d(M.x,M.y,y.centerX,y.centerY)})}return C.length>this.maxLights&&(c(C,this.sortByDistance),C=C.slice(0,this.maxLights)),this.visibleLights=C.length,C},sortByDistance:function(g,m){return g.distance>=m.distance},setAmbientColor:function(g){var m=u.getFloatsFromUintRGB(g);return this.ambientColor.set(m[0],m[1],m[2]),this},getMaxVisibleLights:function(){return this.maxLights},getLightCount:function(){return this.lights.length},addLight:function(g,m,y,C,b){g===void 0&&(g=0),m===void 0&&(m=0),y===void 0&&(y=128),C===void 0&&(C=16777215),b===void 0&&(b=1);var M=u.getFloatsFromUintRGB(C),w=new h(g,m,y,M[0],M[1],M[2],b);return this.lights.push(w),w},removeLight:function(g){var m=this.lights.indexOf(g);return m>=0&&f(this.lights,m),this},shutdown:function(){this.lights.length=0},destroy:function(){this.shutdown()}});n.exports=v},88992:(n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(83419),x=r(61356),d=r(37277),h=r(44594),l=new o({Extends:x,initialize:function(f){this.scene=f,this.systems=f.sys,f.sys.settings.isBooted||f.sys.events.once(h.BOOT,this.boot,this),x.call(this)},boot:function(){var a=this.systems.events;a.on(h.SHUTDOWN,this.shutdown,this),a.on(h.DESTROY,this.destroy,this)},destroy:function(){this.shutdown(),this.scene=void 0,this.systems=void 0}});d.register("LightsPlugin",l,"lights"),n.exports=l},4703:(n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(83419),x=r(31401),d=r(39506),h=r(83997),l=r(95643),a=r(34684),f=r(92515),c=r(91296),u=r(37867),v=r(29807),g=r(43396),m=r(19186),y=r(25836),C=r(39318),b=new o({Extends:l,Mixins:[x.AlphaSingle,x.BlendMode,x.Depth,x.Mask,x.Pipeline,x.PostPipeline,x.ScrollFactor,x.Size,x.Texture,x.Transform,x.Visible,v],initialize:function(w,R,A,L,F,G,I,B,k,U,H,X){R===void 0&&(R=0),A===void 0&&(A=0),L===void 0&&(L="__WHITE"),l.call(this,w,"Mesh"),this.faces=[],this.vertices=[],this.tintFill=!1,this.debugCallback=null,this.debugGraphic=null,this.hideCCW=!0,this.modelPosition=new y,this.modelScale=new y(1,1,1),this.modelRotation=new y,this.dirtyCache=[0,0,0,0,0,0,0,0,0,0,0,0],this.transformMatrix=new u,this.viewPosition=new y,this.viewMatrix=new u,this.projectionMatrix=new u,this.totalRendered=0,this.totalFrame=0,this.ignoreDirtyCache=!1,this.fov,this.displayOriginX=0,this.displayOriginY=0;var j=w.sys.renderer;this.setPosition(R,A),this.setTexture(L,F),this.setSize(j.width,j.height),this.initPipeline(),this.initPostPipeline(),this.setPerspective(j.width,j.height),G&&this.addVertices(G,I,B,k,U,H,X)},addedToScene:function(){this.scene.sys.updateList.add(this)},removedFromScene:function(){this.scene.sys.updateList.remove(this)},panX:function(M){return this.viewPosition.addScale(y.LEFT,M),this.dirtyCache[10]=1,this},panY:function(M){return this.viewPosition.y+=y.DOWN.y*M,this.dirtyCache[10]=1,this},panZ:function(M){return this.viewPosition.z+=M,this.dirtyCache[10]=1,this},setPerspective:function(M,w,R,A,L){return R===void 0&&(R=45),A===void 0&&(A=.01),L===void 0&&(L=1e3),this.fov=R,this.projectionMatrix.perspective(d(R),M/w,A,L),this.dirtyCache[10]=1,this.dirtyCache[11]=0,this},setOrtho:function(M,w,R,A){return M===void 0&&(M=this.scene.sys.renderer.getAspectRatio()),w===void 0&&(w=1),R===void 0&&(R=-1e3),A===void 0&&(A=1e3),this.fov=0,this.projectionMatrix.ortho(-M,M,-w,w,R,A),this.dirtyCache[10]=1,this.dirtyCache[11]=1,this},clear:function(){return this.faces.forEach(function(M){M.destroy()}),this.faces=[],this.vertices=[],this},addVerticesFromObj:function(M,w,R,A,L,F,G,I,B){var k=this.scene.sys.cache.obj.get(M),U;return k&&(U=a(k,this,w,R,A,L,F,G,I,B)),(!U||U.verts.length===0)&&console.warn("Mesh.addVerticesFromObj data empty:",M),this},sortByDepth:function(M,w){return M.depth-w.depth},depthSort:function(){return m(this.faces,this.sortByDepth),this},addVertex:function(M,w,R,A,L,F,G){var I=new C(M,w,R,A,L,F,G);return this.vertices.push(I),I},addFace:function(M,w,R){var A=new h(M,w,R);return this.faces.push(A),this.dirtyCache[9]=-1,A},addVertices:function(M,w,R,A,L,F,G){var I=f(M,w,R,A,L,F,G);return I?(this.faces=this.faces.concat(I.faces),this.vertices=this.vertices.concat(I.vertices)):console.warn("Mesh.addVertices data empty or invalid"),this.dirtyCache[9]=-1,this},getFaceCount:function(){return this.faces.length},getVertexCount:function(){return this.vertices.length},getFace:function(M){return this.faces[M]},hasFaceAt:function(M,w,R){R===void 0&&(R=this.scene.sys.cameras.main);for(var A=c(this,R).calc,L=this.faces,F=0;F<L.length;F++){var G=L[F];if(G.contains(M,w,A))return!0}return!1},getFaceAt:function(M,w,R){R===void 0&&(R=this.scene.sys.cameras.main);for(var A=c(this,R).calc,L=this.faces,F=[],G=0;G<L.length;G++){var I=L[G];I.contains(M,w,A)&&F.push(I)}return m(F,this.sortByDepth)},setDebug:function(M,w){return this.debugGraphic=M,!M&&!w?this.debugCallback=null:w?this.debugCallback=w:this.debugCallback=this.renderDebug,this},isDirty:function(){var M=this.modelPosition,w=this.modelRotation,R=this.modelScale,A=this.dirtyCache,L=M.x,F=M.y,G=M.z,I=w.x,B=w.y,k=w.z,U=R.x,H=R.y,X=R.z,j=this.getFaceCount(),J=A[0],Y=A[1],$=A[2],z=A[3],V=A[4],K=A[5],Q=A[6],_=A[7],tt=A[8],rt=A[9];return A[0]=L,A[1]=F,A[2]=G,A[3]=I,A[4]=B,A[5]=k,A[6]=U,A[7]=H,A[8]=X,A[9]=j,J!==L||Y!==F||$!==G||z!==I||V!==B||K!==k||Q!==U||_!==H||tt!==X||rt!==j},preUpdate:function(){this.totalRendered=this.totalFrame,this.totalFrame=0;var M=this.dirtyCache;if(!(!this.ignoreDirtyCache&&!M[10]&&!this.isDirty())){var w=this.width,R=this.height,A=this.viewMatrix,L=this.viewPosition;M[10]&&(A.identity(),A.translate(L),A.invert(),M[10]=0);var F=this.transformMatrix;F.setWorldMatrix(this.modelRotation,this.modelPosition,this.modelScale,this.viewMatrix,this.projectionMatrix);for(var G=L.z,I=this.faces,B=0;B<I.length;B++)I[B].transformCoordinatesLocal(F,w,R,G);this.depthSort()}},renderDebug:function(M,w){for(var R=M.debugGraphic,A=0;A<w.length;A++){var L=w[A],F=L.vertex1.tx,G=L.vertex1.ty,I=L.vertex2.tx,B=L.vertex2.ty,k=L.vertex3.tx,U=L.vertex3.ty;R.strokeTriangle(F,G,I,B,k,U)}},preDestroy:function(){this.clear(),this.debugCallback=null,this.debugGraphic=null},clearTint:function(){return this.setTint()},setInteractive:function(M){M===void 0&&(M={});var w=(function(R,A,L){for(var F=this.faces,G=0;G<F.length;G++){var I=F[G];if(I.contains(A,L))return!0}return!1}).bind(this);return this.scene.sys.input.enable(this,M,w),this},setTint:function(M){M===void 0&&(M=16777215);for(var w=this.vertices,R=0;R<w.length;R++)w[R].color=M;return this},uvScroll:function(M,w){for(var R=this.faces,A=0;A<R.length;A++)R[A].scrollUV(M,w);return this},uvScale:function(M,w){for(var R=this.faces,A=0;A<R.length;A++)R[A].scaleUV(M,w);return this},tint:{set:function(M){this.setTint(M)}},rotateX:{get:function(){return g(this.modelRotation.x)},set:function(M){this.modelRotation.x=d(M)}},rotateY:{get:function(){return g(this.modelRotation.y)},set:function(M){this.modelRotation.y=d(M)}},rotateZ:{get:function(){return g(this.modelRotation.z)},set:function(M){this.modelRotation.z=d(M)}}});n.exports=b},36488:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(){};n.exports=T},20527:(n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(25305),x=r(44603),d=r(23568),h=r(35154),l=r(4703);x.register("mesh",function(a,f){a===void 0&&(a={});var c=d(a,"key",null),u=d(a,"frame",null),v=h(a,"vertices",[]),g=h(a,"uvs",[]),m=h(a,"indicies",[]),y=h(a,"containsZ",!1),C=h(a,"normals",[]),b=h(a,"colors",16777215),M=h(a,"alphas",1),w=new l(this.scene,0,0,c,u,v,g,m,y,C,b,M);return f!==void 0&&(a.add=f),o(this.scene,w,a),w})},9225:(n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(4703),x=r(39429);x.register("mesh",function(d,h,l,a,f,c,u,v,g,m,y){return this.displayList.add(new o(this.scene,d,h,l,a,f,c,u,v,g,m,y))})},29807:(n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(29747),x=o,d=o;x=r(48833),d=r(36488),n.exports={renderWebGL:x,renderCanvas:d}},48833:(n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(91296),x=function(d,h,l,a){var f=h.faces,c=f.length;if(c!==0){l.addToRenderList(h);var u=d.pipelines.set(h.pipeline,h),v=o(h,l,a).calc;d.pipelines.preBatch(h);for(var g=u.setGameObject(h),m=u.vertexViewF32,y=u.vertexViewU32,C=u.vertexCount*u.currentShader.vertexComponentCount-1,b=h.tintFill,M=[],w=h.debugCallback,R=v.a,A=v.b,L=v.c,F=v.d,G=v.e,I=v.f,B=h.viewPosition.z,k=h.hideCCW,U=l.roundPixels,H=l.alpha*h.alpha,X=0,j=0;j<c;j++){var J=f[j];J.isInView(l,k,B,H,R,A,L,F,G,I,U)&&(u.shouldFlush(3)&&(u.flush(),g=u.setGameObject(h),C=u.vertexCount*u.currentShader.vertexComponentCount-1),C=J.load(m,y,C,g,b),X++,u.vertexCount+=3,u.currentBatch.count=u.vertexCount-u.currentBatch.start,w&&M.push(J))}h.totalFrame+=X,w&&w.call(h,h,M),d.pipelines.postBatch(h)}};n.exports=x},28103:(n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(83419),x=r(31401),d=r(95643),h=r(78023),l=r(39318),a=new o({Extends:d,Mixins:[x.AlphaSingle,x.BlendMode,x.Depth,x.GetBounds,x.Mask,x.Origin,x.Pipeline,x.PostPipeline,x.ScrollFactor,x.Texture,x.Transform,x.Visible,h],initialize:function(c,u,v,g,m,y,C,b,M,w,R){d.call(this,c,"NineSlice"),this._width,this._height,this._originX=.5,this._originY=.5,this._sizeComponent=!0,this.vertices=[],this.leftWidth,this.rightWidth,this.topHeight,this.bottomHeight,this.tint=16777215,this.tintFill=!1;var A=c.textures.getFrame(g,m);this.is3Slice=!w&&!R,A&&A.scale9&&(this.is3Slice=A.is3Slice);for(var L=this.is3Slice?18:54,F=0;F<L;F++)this.vertices.push(new l);this.setPosition(u,v),this.setTexture(g,m),this.setSlices(y,C,b,M,w,R,!1),this.updateDisplayOrigin(),this.initPipeline(),this.initPostPipeline()},setSlices:function(f,c,u,v,g,m,y){u===void 0&&(u=10),v===void 0&&(v=10),g===void 0&&(g=0),m===void 0&&(m=0),y===void 0&&(y=!1);var C=this.frame,b=!1;if(this.is3Slice&&y&&g!==0&&m!==0&&(b=!0),b)console.warn("Cannot change 9 slice to 3 slice");else{if(C&&C.scale9&&!y){var M=C.data.scale9Borders,w=M.x,R=M.y;u=w,v=C.width-M.w-w,g=R,m=C.height-M.h-R,f===void 0&&(f=C.width),c===void 0&&(c=C.height)}else f===void 0&&(f=256),c===void 0&&(c=256);this._width=f,this._height=c,this.leftWidth=u,this.rightWidth=v,this.topHeight=g,this.bottomHeight=m,this.is3Slice&&(c=C.height,this._height=c,this.topHeight=c,this.bottomHeight=0),this.updateVertices(),this.updateUVs()}return this},updateUVs:function(){var f=this.leftWidth,c=this.rightWidth,u=this.topHeight,v=this.bottomHeight,g=this.frame.width,m=this.frame.height;this.updateQuadUVs(0,0,0,f/g,u/m),this.updateQuadUVs(6,f/g,0,1-c/g,u/m),this.updateQuadUVs(12,1-c/g,0,1,u/m),this.is3Slice||(this.updateQuadUVs(18,0,u/m,f/g,1-v/m),this.updateQuadUVs(24,f/g,u/m,1-c/g,1-v/m),this.updateQuadUVs(30,1-c/g,u/m,1,1-v/m),this.updateQuadUVs(36,0,1-v/m,f/g,1),this.updateQuadUVs(42,f/g,1-v/m,1-c/g,1),this.updateQuadUVs(48,1-c/g,1-v/m,1,1))},updateVertices:function(){var f=this.leftWidth,c=this.rightWidth,u=this.topHeight,v=this.bottomHeight,g=this.width,m=this.height;this.updateQuad(0,-.5,.5,-.5+f/g,.5-u/m),this.updateQuad(6,-.5+f/g,.5,.5-c/g,.5-u/m),this.updateQuad(12,.5-c/g,.5,.5,.5-u/m),this.is3Slice||(this.updateQuad(18,-.5,.5-u/m,-.5+f/g,-.5+v/m),this.updateQuad(24,-.5+f/g,.5-u/m,.5-c/g,-.5+v/m),this.updateQuad(30,.5-c/g,.5-u/m,.5,-.5+v/m),this.updateQuad(36,-.5,-.5+v/m,-.5+f/g,-.5),this.updateQuad(42,-.5+f/g,-.5+v/m,.5-c/g,-.5),this.updateQuad(48,.5-c/g,-.5+v/m,.5,-.5))},updateQuad:function(f,c,u,v,g){var m=this.width,y=this.height,C=this.originX,b=this.originY,M=this.vertices;M[f+0].resize(c,u,m,y,C,b),M[f+1].resize(c,g,m,y,C,b),M[f+2].resize(v,u,m,y,C,b),M[f+3].resize(c,g,m,y,C,b),M[f+4].resize(v,g,m,y,C,b),M[f+5].resize(v,u,m,y,C,b)},updateQuadUVs:function(f,c,u,v,g){var m=this.vertices,y=this.frame,C=y.u0,b=y.v0,M=y.u1,w=y.v1;if(C!==0||M!==1){var R=M-C;c=C+c*R,v=C+v*R}if(b!==0||w!==1){var A=w-b;u=b+u*A,g=b+g*A}m[f+0].setUVs(c,u),m[f+1].setUVs(c,g),m[f+2].setUVs(v,u),m[f+3].setUVs(c,g),m[f+4].setUVs(v,g),m[f+5].setUVs(v,u)},clearTint:function(){return this.setTint(16777215),this},setTint:function(f){return f===void 0&&(f=16777215),this.tint=f,this.tintFill=!1,this},setTintFill:function(f){return this.setTint(f),this.tintFill=!0,this},isTinted:{get:function(){return this.tint!==16777215}},width:{get:function(){return this._width},set:function(f){this._width=Math.max(f,this.leftWidth+this.rightWidth),this.updateVertices()}},height:{get:function(){return this._height},set:function(f){this.is3Slice||(this._height=Math.max(f,this.topHeight+this.bottomHeight),this.updateVertices())}},displayWidth:{get:function(){return this.scaleX*this.width},set:function(f){this.scaleX=f/this.width}},displayHeight:{get:function(){return this.scaleY*this.height},set:function(f){this.scaleY=f/this.height}},setSize:function(f,c){this.width=f,this.height=c,this.updateDisplayOrigin();var u=this.input;return u&&!u.customHitArea&&(u.hitArea.width=this.width,u.hitArea.height=this.height),this},setDisplaySize:function(f,c){return this.displayWidth=f,this.displayHeight=c,this},originX:{get:function(){return this._originX},set:function(f){this._originX=f,this.updateVertices()}},originY:{get:function(){return this._originY},set:function(f){this._originY=f,this.updateVertices()}},setOrigin:function(f,c){return f===void 0&&(f=.5),c===void 0&&(c=f),this._originX=f,this._originY=c,this.updateVertices(),this.updateDisplayOrigin()},setSizeToFrame:function(){if(this.is3Slice){var f=this.frame.height;this._height=f,this.topHeight=f,this.bottomHeight=0}return this.updateUVs(),this},preDestroy:function(){this.vertices=[]}});n.exports=a},28279:(n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(25305),x=r(44603),d=r(23568),h=r(35154),l=r(28103);x.register("nineslice",function(a,f){a===void 0&&(a={});var c=d(a,"key",null),u=d(a,"frame",null),v=h(a,"width",256),g=h(a,"height",256),m=h(a,"leftWidth",10),y=h(a,"rightWidth",10),C=h(a,"topHeight",0),b=h(a,"bottomHeight",0),M=new l(this.scene,0,0,c,u,v,g,m,y,C,b);return f!==void 0&&(a.add=f),o(this.scene,M,a),M})},47521:(n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(28103),x=r(39429);x.register("nineslice",function(d,h,l,a,f,c,u,v,g,m){return this.displayList.add(new o(this.scene,d,h,l,a,f,c,u,v,g,m))})},78023:(n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(29747),x=o,d=o;x=r(52230),n.exports={renderWebGL:x,renderCanvas:d}},52230:(n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(91296),x=r(70554),d=function(h,l,a,f){var c=l.vertices,u=c.length;if(u!==0){a.addToRenderList(l);var v=h.pipelines.set(l.pipeline,l),g=o(l,a,f,!1).calc;h.pipelines.preBatch(l);var m=v.setGameObject(l),y=v.vertexViewF32,C=v.vertexViewU32,b=v.vertexCount*v.currentShader.vertexComponentCount-1,M=a.roundPixels,w=l.tintFill,R=a.alpha*l.alpha,A=x.getTintAppendFloatAlpha(l.tint,R),L=v.vertexAvailable(),F=-1;L<u&&(F=L);for(var G=0;G<u;G++){var I=c[G];G===F&&(v.flush(),m=v.setGameObject(l),b=0),y[++b]=g.getXRound(I.vx,I.vy,M),y[++b]=g.getYRound(I.vx,I.vy,M),y[++b]=I.u,y[++b]=I.v,y[++b]=m,y[++b]=w,C[++b]=A,v.vertexCount++,v.currentBatch.count=v.vertexCount-v.currentBatch.start}h.pipelines.postBatch(l)}};n.exports=d},76472:(n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(83419),x=r(44777),d=r(37589),h=r(6113),l=r(91389),a=r(90664),f=new o({Extends:x,initialize:function(u){x.call(this,u,null,!1),this.active=!1,this.easeName="Linear",this.r=[],this.g=[],this.b=[]},getMethod:function(){return this.propertyValue===null?0:9},setMethods:function(){var c=this.propertyValue,u=c,v=this.defaultEmit,g=this.defaultUpdate;if(this.method===9){this.start=c[0],this.ease=h("Linear"),this.interpolation=l("linear"),v=this.easedValueEmit,g=this.easeValueUpdate,u=c[0],this.active=!0;for(var m=0;m<c.length;m++){var y=a(c[m]);this.r.push(y.r),this.g.push(y.g),this.b.push(y.b)}}return this.onEmit=v,this.onUpdate=g,this.current=u,this},setEase:function(c){this.easeName=c,this.ease=h(c)},easedValueEmit:function(){return this.current=this.start,this.start},easeValueUpdate:function(c,u,v){var g=this.ease(v),m=this.interpolation(this.r,g),y=this.interpolation(this.g,g),C=this.interpolation(this.b,g),b=d(m,y,C);return this.current=b,b}});n.exports=f},44777:(n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(30976),x=r(45319),d=r(83419),h=r(99472),l=r(6113),a=r(95540),f=r(91389),c=r(77720),u=r(15994),v=new d({initialize:function(m,y,C){C===void 0&&(C=!1),this.propertyKey=m,this.propertyValue=y,this.defaultValue=y,this.steps=0,this.counter=0,this.yoyo=!1,this.direction=0,this.start=0,this.current=0,this.end=0,this.ease=null,this.interpolation=null,this.emitOnly=C,this.onEmit=this.defaultEmit,this.onUpdate=this.defaultUpdate,this.active=!0,this.method=0,this._onEmit,this._onUpdate},loadConfig:function(g,m){g===void 0&&(g={}),m&&(this.propertyKey=m),this.propertyValue=a(g,this.propertyKey,this.defaultValue),this.method=this.getMethod(),this.setMethods(),this.emitOnly&&(this.onUpdate=this.defaultUpdate)},toJSON:function(){return JSON.stringify(this.propertyValue)},onChange:function(g){var m;switch(this.method){case 1:case 3:case 8:m=g;break;case 2:this.propertyValue.indexOf(g)>=0&&(m=g);break;case 4:var y=(this.end-this.start)/this.steps;m=c(g,y),this.counter=m;break;case 5:case 6:case 7:m=x(g,this.start,this.end);break;case 9:m=this.start[0];break}return this.current=m,this},getMethod:function(){var g=this.propertyValue;if(g===null)return 0;var m=typeof g;if(m==="number")return 1;if(Array.isArray(g))return 2;if(m==="function")return 3;if(m==="object"){if(this.hasBoth(g,"start","end"))return this.has(g,"steps")?4:5;if(this.hasBoth(g,"min","max"))return 6;if(this.has(g,"random"))return 7;if(this.hasEither(g,"onEmit","onUpdate"))return 8;if(this.hasEither(g,"values","interpolation"))return 9}return 0},setMethods:function(){var g=this.propertyValue,m=g,y=this.defaultEmit,C=this.defaultUpdate;switch(this.method){case 1:y=this.staticValueEmit;break;case 2:y=this.randomStaticValueEmit,m=g[0];break;case 3:this._onEmit=g,y=this.proxyEmit,m=this.defaultValue;break;case 4:this.start=g.start,this.end=g.end,this.steps=g.steps,this.counter=this.start,this.yoyo=this.has(g,"yoyo")?g.yoyo:!1,this.direction=0,y=this.steppedEmit,m=this.start;break;case 5:this.start=g.start,this.end=g.end;var b=this.has(g,"ease")?g.ease:"Linear";this.ease=l(b,g.easeParams),y=this.has(g,"random")&&g.random?this.randomRangedValueEmit:this.easedValueEmit,C=this.easeValueUpdate,m=this.start;break;case 6:this.start=g.min,this.end=g.max,y=this.has(g,"int")&&g.int?this.randomRangedIntEmit:this.randomRangedValueEmit,m=this.start;break;case 7:var M=g.random;Array.isArray(M)&&(this.start=M[0],this.end=M[1]),y=this.randomRangedIntEmit,m=this.start;break;case 8:this._onEmit=this.has(g,"onEmit")?g.onEmit:this.defaultEmit,this._onUpdate=this.has(g,"onUpdate")?g.onUpdate:this.defaultUpdate,y=this.proxyEmit,C=this.proxyUpdate,m=this.defaultValue;break;case 9:this.start=g.values;var w=this.has(g,"ease")?g.ease:"Linear";this.ease=l(w,g.easeParams),this.interpolation=f(g.interpolation),y=this.easedValueEmit,C=this.easeValueUpdate,m=this.start[0];break}return this.onEmit=y,this.onUpdate=C,this.current=m,this},has:function(g,m){return g.hasOwnProperty(m)},hasBoth:function(g,m,y){return g.hasOwnProperty(m)&&g.hasOwnProperty(y)},hasEither:function(g,m,y){return g.hasOwnProperty(m)||g.hasOwnProperty(y)},defaultEmit:function(){return this.defaultValue},defaultUpdate:function(g,m,y,C){return C},proxyEmit:function(g,m,y){var C=this._onEmit(g,m,y);return this.current=C,C},proxyUpdate:function(g,m,y,C){var b=this._onUpdate(g,m,y,C);return this.current=b,b},staticValueEmit:function(){return this.current},staticValueUpdate:function(){return this.current},randomStaticValueEmit:function(){var g=Math.floor(Math.random()*this.propertyValue.length);return this.current=this.propertyValue[g],this.current},randomRangedValueEmit:function(g,m){var y=h(this.start,this.end);return g&&g.data[m]&&(g.data[m].min=y,g.data[m].max=this.end),this.current=y,y},randomRangedIntEmit:function(g,m){var y=o(this.start,this.end);return g&&g.data[m]&&(g.data[m].min=y,g.data[m].max=this.end),this.current=y,y},steppedEmit:function(){var g=this.counter,m=g,y=(this.end-this.start)/this.steps;if(this.yoyo){var C;this.direction===0?(m+=y,m>=this.end&&(C=m-this.end,m=this.end-C,this.direction=1)):(m-=y,m<=this.start&&(C=this.start-m,m=this.start+C,this.direction=0)),this.counter=m}else this.counter=u(m+y,this.start,this.end);return this.current=g,g},easedValueEmit:function(g,m){if(g&&g.data[m]){var y=g.data[m];y.min=this.start,y.max=this.end}return this.current=this.start,this.start},easeValueUpdate:function(g,m,y){var C=g.data[m],b,M=this.ease(y);return this.interpolation?b=this.interpolation(this.start,M):b=(C.max-C.min)*M+C.min,this.current=b,b},destroy:function(){this.propertyValue=null,this.defaultValue=null,this.ease=null,this.interpolation=null,this._onEmit=null,this._onUpdate=null}});n.exports=v},24502:(n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(83419),x=r(95540),d=r(20286),h=new o({Extends:d,initialize:function(a,f,c,u,v){if(typeof a=="object"){var g=a;a=x(g,"x",0),f=x(g,"y",0),c=x(g,"power",0),u=x(g,"epsilon",100),v=x(g,"gravity",50)}else a===void 0&&(a=0),f===void 0&&(f=0),c===void 0&&(c=0),u===void 0&&(u=100),v===void 0&&(v=50);d.call(this,a,f,!0),this._gravity=v,this._power=c*v,this._epsilon=u*u},update:function(l,a){var f=this.x-l.x,c=this.y-l.y,u=f*f+c*c;if(u!==0){var v=Math.sqrt(u);u<this._epsilon&&(u=this._epsilon);var g=this._power*a/(u*v)*100;l.velocityX+=f*g,l.velocityY+=c*g}},epsilon:{get:function(){return Math.sqrt(this._epsilon)},set:function(l){this._epsilon=l*l}},power:{get:function(){return this._power/this._gravity},set:function(l){this._power=l*this._gravity}},gravity:{get:function(){return this._gravity},set:function(l){var a=this.power;this._gravity=l,this.power=a}}});n.exports=h},56480:(n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(9674),x=r(45319),d=r(83419),h=r(39506),l=r(87841),a=r(11520),f=r(26099),c=new d({initialize:function(v){this.emitter=v,this.texture=null,this.frame=null,this.x=0,this.y=0,this.worldPosition=new f,this.velocityX=0,this.velocityY=0,this.accelerationX=0,this.accelerationY=0,this.maxVelocityX=1e4,this.maxVelocityY=1e4,this.bounce=0,this.scaleX=1,this.scaleY=1,this.alpha=1,this.angle=0,this.rotation=0,this.tint=16777215,this.life=1e3,this.lifeCurrent=1e3,this.delayCurrent=0,this.holdCurrent=0,this.lifeT=0,this.data={tint:{min:16777215,max:16777215},alpha:{min:1,max:1},rotate:{min:0,max:0},scaleX:{min:1,max:1},scaleY:{min:1,max:1},x:{min:0,max:0},y:{min:0,max:0},accelerationX:{min:0,max:0},accelerationY:{min:0,max:0},maxVelocityX:{min:0,max:0},maxVelocityY:{min:0,max:0},moveToX:{min:0,max:0},moveToY:{min:0,max:0},bounce:{min:0,max:0}},this.isCropped=!1,this.scene=v.scene,this.anims=null,this.emitter.anims.length>0&&(this.anims=new o(this)),this.bounds=new l},emit:function(u,v,g,m,y,C){return this.emitter.emit(u,v,g,m,y,C)},isAlive:function(){return this.lifeCurrent>0},kill:function(){this.lifeCurrent=0},setPosition:function(u,v){u===void 0&&(u=0),v===void 0&&(v=0),this.x=u,this.y=v},fire:function(u,v){var g=this.emitter,m=g.ops,y=g.getAnim();if(y?this.anims.play(y):(this.frame=g.getFrame(),this.texture=this.frame.texture),!this.frame)throw new Error("Particle has no texture frame");if(g.getEmitZone(this),u===void 0?this.x+=m.x.onEmit(this,"x"):m.x.steps>0?this.x+=u+m.x.onEmit(this,"x"):this.x+=u,v===void 0?this.y+=m.y.onEmit(this,"y"):m.y.steps>0?this.y+=v+m.y.onEmit(this,"y"):this.y+=v,this.life=m.lifespan.onEmit(this,"lifespan"),this.lifeCurrent=this.life,this.lifeT=0,this.delayCurrent=m.delay.onEmit(this,"delay"),this.holdCurrent=m.hold.onEmit(this,"hold"),this.scaleX=m.scaleX.onEmit(this,"scaleX"),this.scaleY=m.scaleY.active?m.scaleY.onEmit(this,"scaleY"):this.scaleX,this.angle=m.rotate.onEmit(this,"rotate"),this.rotation=h(this.angle),g.worldMatrix.transformPoint(this.x,this.y,this.worldPosition),this.delayCurrent===0&&g.getDeathZone(this))return this.lifeCurrent=0,!1;var C=m.speedX.onEmit(this,"speedX"),b=m.speedY.active?m.speedY.onEmit(this,"speedY"):C;if(g.radial){var M=h(m.angle.onEmit(this,"angle"));this.velocityX=Math.cos(M)*Math.abs(C),this.velocityY=Math.sin(M)*Math.abs(b)}else if(g.moveTo){var w=m.moveToX.onEmit(this,"moveToX"),R=m.moveToY.onEmit(this,"moveToY"),A=this.life/1e3;this.velocityX=(w-this.x)/A,this.velocityY=(R-this.y)/A}else this.velocityX=C,this.velocityY=b;return g.acceleration&&(this.accelerationX=m.accelerationX.onEmit(this,"accelerationX"),this.accelerationY=m.accelerationY.onEmit(this,"accelerationY")),this.maxVelocityX=m.maxVelocityX.onEmit(this,"maxVelocityX"),this.maxVelocityY=m.maxVelocityY.onEmit(this,"maxVelocityY"),this.bounce=m.bounce.onEmit(this,"bounce"),this.alpha=m.alpha.onEmit(this,"alpha"),m.color.active?this.tint=m.color.onEmit(this,"tint"):this.tint=m.tint.onEmit(this,"tint"),!0},update:function(u,v,g){if(this.lifeCurrent<=0)return this.holdCurrent>0?(this.holdCurrent-=u,this.holdCurrent<=0):!0;if(this.delayCurrent>0)return this.delayCurrent-=u,!1;this.anims&&this.anims.update(0,u);var m=this.emitter,y=m.ops,C=1-this.lifeCurrent/this.life;if(this.lifeT=C,this.x=y.x.onUpdate(this,"x",C,this.x),this.y=y.y.onUpdate(this,"y",C,this.y),m.moveTo){var b=y.moveToX.onUpdate(this,"moveToX",C,m.moveToX),M=y.moveToY.onUpdate(this,"moveToY",C,m.moveToY),w=this.lifeCurrent/1e3;this.velocityX=(b-this.x)/w,this.velocityY=(M-this.y)/w}return this.computeVelocity(m,u,v,g,C),this.scaleX=y.scaleX.onUpdate(this,"scaleX",C,this.scaleX),y.scaleY.active?this.scaleY=y.scaleY.onUpdate(this,"scaleY",C,this.scaleY):this.scaleY=this.scaleX,this.angle=y.rotate.onUpdate(this,"rotate",C,this.angle),this.rotation=h(this.angle),m.getDeathZone(this)?(this.lifeCurrent=0,!0):(this.alpha=x(y.alpha.onUpdate(this,"alpha",C,this.alpha),0,1),y.color.active?this.tint=y.color.onUpdate(this,"color",C,this.tint):this.tint=y.tint.onUpdate(this,"tint",C,this.tint),this.lifeCurrent-=u,this.lifeCurrent<=0&&this.holdCurrent<=0)},computeVelocity:function(u,v,g,m,y){var C=u.ops,b=this.velocityX,M=this.velocityY,w=C.accelerationX.onUpdate(this,"accelerationX",y,this.accelerationX),R=C.accelerationY.onUpdate(this,"accelerationY",y,this.accelerationY),A=C.maxVelocityX.onUpdate(this,"maxVelocityX",y,this.maxVelocityX),L=C.maxVelocityY.onUpdate(this,"maxVelocityY",y,this.maxVelocityY);this.bounce=C.bounce.onUpdate(this,"bounce",y,this.bounce),b+=u.gravityX*g+w*g,M+=u.gravityY*g+R*g,b=x(b,-A,A),M=x(M,-L,L),this.velocityX=b,this.velocityY=M,this.x+=b*g,this.y+=M*g,u.worldMatrix.transformPoint(this.x,this.y,this.worldPosition);for(var F=0;F<m.length;F++){var G=m[F];G.active&&G.update(this,v,g,y)}},setSizeToFrame:function(){},getBounds:function(u){u===void 0&&(u=this.emitter.getWorldTransformMatrix());var v=Math.abs(u.scaleX)*this.scaleX,g=Math.abs(u.scaleY)*this.scaleY,m=this.x,y=this.y,C=this.rotation,b=this.frame.width*v/2,M=this.frame.height*g/2,w=this.bounds,R=new f(m-b,y-M),A=new f(m+b,y-M),L=new f(m-b,y+M),F=new f(m+b,y+M);return C!==0&&(a(R,m,y,C),a(A,m,y,C),a(L,m,y,C),a(F,m,y,C)),u.transformPoint(R.x,R.y,R),u.transformPoint(A.x,A.y,A),u.transformPoint(L.x,L.y,L),u.transformPoint(F.x,F.y,F),w.x=Math.min(R.x,A.x,L.x,F.x),w.y=Math.min(R.y,A.y,L.y,F.y),w.width=Math.max(R.x,A.x,L.x,F.x)-w.x,w.height=Math.max(R.y,A.y,L.y,F.y)-w.y,w},destroy:function(){this.anims&&this.anims.destroy(),this.anims=null,this.emitter=null,this.texture=null,this.frame=null,this.scene=null}});n.exports=c},69601:(n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(83419),x=r(20286),d=r(87841),h=new o({Extends:x,initialize:function(a,f,c,u,v,g,m,y){v===void 0&&(v=!0),g===void 0&&(g=!0),m===void 0&&(m=!0),y===void 0&&(y=!0),x.call(this,a,f,!0),this.bounds=new d(a,f,c,u),this.collideLeft=v,this.collideRight=g,this.collideTop=m,this.collideBottom=y},update:function(l){var a=this.bounds,f=-l.bounce,c=l.worldPosition;c.x<a.x&&this.collideLeft?(l.x+=a.x-c.x,l.velocityX*=f):c.x>a.right&&this.collideRight&&(l.x-=c.x-a.right,l.velocityX*=f),c.y<a.y&&this.collideTop?(l.y+=a.y-c.y,l.velocityY*=f):c.y>a.bottom&&this.collideBottom&&(l.y-=c.y-a.bottom,l.velocityY*=f)}});n.exports=h},31600:(n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(83419),x=r(31401),d=r(53774),h=r(43459),l=r(26388),a=r(19909),f=r(76472),c=r(44777),u=r(20696),v=r(95643),g=r(95540),m=r(26546),y=r(24502),C=r(1985),b=r(97022),M=r(86091),w=r(73162),R=r(20074),A=r(269),L=r(56480),F=r(69601),G=r(68875),I=r(87841),B=r(59996),k=r(72905),U=r(90668),H=r(19186),X=r(61340),j=r(26099),J=r(15994),Y=["active","advance","blendMode","colorEase","deathCallback","deathCallbackScope","duration","emitCallback","emitCallbackScope","follow","frequency","gravityX","gravityY","maxAliveParticles","maxParticles","name","emitting","particleBringToTop","particleClass","radial","sortCallback","sortOrderAsc","sortProperty","stopAfter","tintFill","timeScale","trackVisible","visible"],$=["accelerationX","accelerationY","alpha","angle","bounce","color","delay","hold","lifespan","maxVelocityX","maxVelocityY","moveToX","moveToY","quantity","rotate","scaleX","scaleY","speedX","speedY","tint","x","y"],z=new o({Extends:v,Mixins:[x.AlphaSingle,x.BlendMode,x.Depth,x.Mask,x.Pipeline,x.PostPipeline,x.ScrollFactor,x.Texture,x.Transform,x.Visible,U],initialize:function(K,Q,_,tt,rt){v.call(this,K,"ParticleEmitter"),this.particleClass=L,this.config=null,this.ops={accelerationX:new c("accelerationX",0),accelerationY:new c("accelerationY",0),alpha:new c("alpha",1),angle:new c("angle",{min:0,max:360},!0),bounce:new c("bounce",0),color:new f("color"),delay:new c("delay",0,!0),hold:new c("hold",0,!0),lifespan:new c("lifespan",1e3,!0),maxVelocityX:new c("maxVelocityX",1e4),maxVelocityY:new c("maxVelocityY",1e4),moveToX:new c("moveToX",0),moveToY:new c("moveToY",0),quantity:new c("quantity",1,!0),rotate:new c("rotate",0),scaleX:new c("scaleX",1),scaleY:new c("scaleY",1),speedX:new c("speedX",0,!0),speedY:new c("speedY",0,!0),tint:new c("tint",16777215),x:new c("x",0),y:new c("y",0)},this.radial=!0,this.gravityX=0,this.gravityY=0,this.acceleration=!1,this.moveTo=!1,this.emitCallback=null,this.emitCallbackScope=null,this.deathCallback=null,this.deathCallbackScope=null,this.maxParticles=0,this.maxAliveParticles=0,this.stopAfter=0,this.duration=0,this.frequency=0,this.emitting=!0,this.particleBringToTop=!0,this.timeScale=1,this.emitZones=[],this.deathZones=[],this.viewBounds=null,this.follow=null,this.followOffset=new j,this.trackVisible=!1,this.frames=[],this.randomFrame=!0,this.frameQuantity=1,this.anims=[],this.randomAnim=!0,this.animQuantity=1,this.dead=[],this.alive=[],this.counters=new Float32Array(10),this.skipping=!1,this.worldMatrix=new X,this.sortProperty="",this.sortOrderAsc=!0,this.sortCallback=this.depthSortCallback,this.processors=new w(this),this.tintFill=!1,this.initPipeline(),this.initPostPipeline(),this.setPosition(Q,_),this.setTexture(tt),rt&&this.setConfig(rt)},addedToScene:function(){this.scene.sys.updateList.add(this)},removedFromScene:function(){this.scene.sys.updateList.remove(this)},setConfig:function(V){if(!V)return this;this.config=V;var K=0,Q="",_=this.ops;for(K=0;K<$.length;K++)Q=$[K],_[Q].loadConfig(V);for(K=0;K<Y.length;K++)Q=Y[K],b(V,Q)&&(this[Q]=g(V,Q));if(this.acceleration=this.accelerationX!==0||this.accelerationY!==0,this.moveTo=this.moveToX!==0&&this.moveToY!==0,b(V,"speed")&&(_.speedX.loadConfig(V,"speed"),_.speedY.active=!1),(C(V,["speedX","speedY"])||this.moveTo)&&(this.radial=!1),b(V,"scale")&&(_.scaleX.loadConfig(V,"scale"),_.scaleY.active=!1),b(V,"callbackScope")){var tt=g(V,"callbackScope",null);this.emitCallbackScope=tt,this.deathCallbackScope=tt}if(b(V,"emitZone")&&this.addEmitZone(V.emitZone),b(V,"deathZone")&&this.addDeathZone(V.deathZone),b(V,"bounds")){var rt=this.addParticleBounds(V.bounds);rt.collideLeft=g(V,"collideLeft",!0),rt.collideRight=g(V,"collideRight",!0),rt.collideTop=g(V,"collideTop",!0),rt.collideBottom=g(V,"collideBottom",!0)}return b(V,"followOffset")&&this.followOffset.setFromObject(g(V,"followOffset",0)),b(V,"texture")&&this.setTexture(V.texture),b(V,"frame")?this.setEmitterFrame(V.frame):b(V,"anim")&&this.setAnim(V.anim),b(V,"reserve")&&this.reserve(V.reserve),b(V,"advance")&&this.fastForward(V.advance),this.resetCounters(this.frequency,this.emitting),this.emitting&&this.emit(u.START,this),this},updateConfig:function(V){return V&&(this.config?this.setConfig(A(this.config,V)):this.setConfig(V)),this},toJSON:function(){var V=d(this),K=0,Q="";for(K=0;K<Y.length;K++)Q=Y[K],V[Q]=this[Q];var _=this.ops;for(K=0;K<$.length;K++)Q=$[K],_[Q]&&(V[Q]=_[Q].toJSON());return _.speedY.active||(delete V.speedX,V.speed=_.speedX.toJSON()),this.scaleX===this.scaleY&&(delete V.scaleX,delete V.scaleY,V.scale=_.scaleX.toJSON()),V},resetCounters:function(V,K){var Q=this.counters;Q.fill(0),Q[0]=V,K&&(Q[5]=1)},startFollow:function(V,K,Q,_){return K===void 0&&(K=0),Q===void 0&&(Q=0),_===void 0&&(_=!1),this.follow=V,this.followOffset.set(K,Q),this.trackVisible=_,this},stopFollow:function(){return this.follow=null,this.followOffset.set(0,0),this.trackVisible=!1,this},getFrame:function(){var V=this.frames,K=V.length,Q;return K===1?Q=V[0]:this.randomFrame?Q=m(V):(Q=V[this.currentFrame],this.frameCounter++,this.frameCounter===this.frameQuantity&&(this.frameCounter=0,this.currentFrame++,this.currentFrame===K&&(this.currentFrame=0))),this.texture.get(Q)},setEmitterFrame:function(V,K,Q){K===void 0&&(K=!0),Q===void 0&&(Q=1),this.randomFrame=K,this.frameQuantity=Q,this.currentFrame=0;var _=typeof V;if(this.frames.length=0,Array.isArray(V))this.frames=this.frames.concat(V);else if(_==="string"||_==="number")this.frames.push(V);else if(_==="object"){var tt=V;V=g(tt,"frames",null),V&&(this.frames=this.frames.concat(V));var rt=g(tt,"cycle",!1);this.randomFrame=!rt,this.frameQuantity=g(tt,"quantity",Q)}return this.frames.length===1&&(this.frameQuantity=1,this.randomFrame=!1),this},getAnim:function(){var V=this.anims,K=V.length;if(K===0)return null;if(K===1)return V[0];if(this.randomAnim)return m(V);var Q=V[this.currentAnim];return this.animCounter++,this.animCounter>=this.animQuantity&&(this.animCounter=0,this.currentAnim=J(this.currentAnim+1,0,K)),Q},setAnim:function(V,K,Q){K===void 0&&(K=!0),Q===void 0&&(Q=1),this.randomAnim=K,this.animQuantity=Q,this.currentAnim=0;var _=typeof V;if(this.anims.length=0,Array.isArray(V))this.anims=this.anims.concat(V);else if(_==="string")this.anims.push(V);else if(_==="object"){var tt=V;V=g(tt,"anims",null),V&&(this.anims=this.anims.concat(V));var rt=g(tt,"cycle",!1);this.randomAnim=!rt,this.animQuantity=g(tt,"quantity",Q)}return this.anims.length===1&&(this.animQuantity=1,this.randomAnim=!1),this},setRadial:function(V){return V===void 0&&(V=!0),this.radial=V,this},addParticleBounds:function(V,K,Q,_,tt,rt,ot,ft){if(typeof V=="object"){var ct=V;V=ct.x,K=ct.y,Q=b(ct,"w")?ct.w:ct.width,_=b(ct,"h")?ct.h:ct.height}return this.addParticleProcessor(new F(V,K,Q,_,tt,rt,ot,ft))},setParticleSpeed:function(V,K){return K===void 0&&(K=V),this.ops.speedX.onChange(V),V===K?this.ops.speedY.active=!1:this.ops.speedY.onChange(K),this.radial=!0,this},setParticleScale:function(V,K){return V===void 0&&(V=1),K===void 0&&(K=V),this.ops.scaleX.onChange(V),this.ops.scaleY.onChange(K),this},setParticleGravity:function(V,K){return this.gravityX=V,this.gravityY=K,this},setParticleAlpha:function(V){return this.ops.alpha.onChange(V),this},setParticleTint:function(V){return this.ops.tint.onChange(V),this},setEmitterAngle:function(V){return this.ops.angle.onChange(V),this},setParticleLifespan:function(V){return this.ops.lifespan.onChange(V),this},setQuantity:function(V){return this.quantity=V,this},setFrequency:function(V,K){return this.frequency=V,this.flowCounter=V>0?V:0,K&&(this.quantity=K),this},addDeathZone:function(V){Array.isArray(V)||(V=[V]);for(var K,Q=[],_=0;_<V.length;_++)if(K=V[_],K instanceof l)Q.push(K);else if(typeof K.contains=="function")K=new l(K,!0),Q.push(K);else{var tt=g(K,"type","onEnter"),rt=g(K,"source",null);if(rt&&typeof rt.contains=="function"){var ot=tt==="onEnter";K=new l(rt,ot),Q.push(K)}}return this.deathZones=this.deathZones.concat(Q),Q},removeDeathZone:function(V){return k(this.deathZones,V),this},clearDeathZones:function(){return this.deathZones.length=0,this},addEmitZone:function(V){Array.isArray(V)||(V=[V]);for(var K,Q=[],_=0;_<V.length;_++)if(K=V[_],K instanceof G||K instanceof a)Q.push(K);else{var tt=g(K,"source",null);if(tt){var rt=g(K,"type","random");if(rt==="random"&&typeof tt.getRandomPoint=="function")K=new G(tt),Q.push(K);else if(rt==="edge"&&typeof tt.getPoints=="function"){var ot=g(K,"quantity",1),ft=g(K,"stepRate",0),ct=g(K,"yoyo",!1),gt=g(K,"seamless",!0),xt=g(K,"total",-1);K=new a(tt,ot,ft,ct,gt,xt),Q.push(K)}}}return this.emitZones=this.emitZones.concat(Q),Q},removeEmitZone:function(V){return k(this.emitZones,V),this.zoneIndex=0,this},clearEmitZones:function(){return this.emitZones.length=0,this.zoneIndex=0,this},getEmitZone:function(V){var K=this.emitZones,Q=K.length;if(Q!==0){var _=K[this.zoneIndex];_.getPoint(V),_.total>-1&&(this.zoneTotal++,this.zoneTotal===_.total&&(this.zoneTotal=0,this.zoneIndex++,this.zoneIndex===Q&&(this.zoneIndex=0)))}},getDeathZone:function(V){for(var K=this.deathZones,Q=0;Q<K.length;Q++){var _=K[Q];if(_.willKill(V))return this.emit(u.DEATH_ZONE,this,V,_),!0}return!1},setEmitZone:function(V){var K;return isFinite(V)?K=V:K=this.emitZones.indexOf(V),K>=0&&(this.zoneIndex=K),this},addParticleProcessor:function(V){return this.processors.exists(V)||(V.emitter&&V.emitter.removeParticleProcessor(V),this.processors.add(V),V.emitter=this),V},removeParticleProcessor:function(V){return this.processors.exists(V)&&(this.processors.remove(V,!0),V.emitter=null),V},getProcessors:function(){return this.processors.getAll("active",!0)},createGravityWell:function(V){return this.addParticleProcessor(new y(V))},reserve:function(V){var K=this.dead;if(this.maxParticles>0){var Q=this.getParticleCount();Q+V>this.maxParticles&&(V=this.maxParticles-(Q+V))}for(var _=0;_<V;_++)K.push(new this.particleClass(this));return this},getAliveParticleCount:function(){return this.alive.length},getDeadParticleCount:function(){return this.dead.length},getParticleCount:function(){return this.getAliveParticleCount()+this.getDeadParticleCount()},atLimit:function(){return this.maxParticles>0&&this.getParticleCount()>=this.maxParticles?!0:this.maxAliveParticles>0&&this.getAliveParticleCount()>=this.maxAliveParticles},onParticleEmit:function(V,K){return V===void 0?(this.emitCallback=null,this.emitCallbackScope=null):typeof V=="function"&&(this.emitCallback=V,K&&(this.emitCallbackScope=K)),this},onParticleDeath:function(V,K){return V===void 0?(this.deathCallback=null,this.deathCallbackScope=null):typeof V=="function"&&(this.deathCallback=V,K&&(this.deathCallbackScope=K)),this},killAll:function(){for(var V=this.dead,K=this.alive;K.length>0;)V.push(K.pop());return this},forEachAlive:function(V,K){for(var Q=this.alive,_=Q.length,tt=0;tt<_;tt++)V.call(K,Q[tt],this);return this},forEachDead:function(V,K){for(var Q=this.dead,_=Q.length,tt=0;tt<_;tt++)V.call(K,Q[tt],this);return this},start:function(V,K){return V===void 0&&(V=0),this.emitting||(V>0&&this.fastForward(V),this.emitting=!0,this.resetCounters(this.frequency,!0),K!==void 0&&(this.duration=Math.abs(K)),this.emit(u.START,this)),this},stop:function(V){return V===void 0&&(V=!1),this.emitting&&(this.emitting=!1,V&&this.killAll(),this.emit(u.STOP,this)),this},pause:function(){return this.active=!1,this},resume:function(){return this.active=!0,this},setSortProperty:function(V,K){return V===void 0&&(V=""),K===void 0&&(K=this.true),this.sortProperty=V,this.sortOrderAsc=K,this.sortCallback=this.depthSortCallback,this},setSortCallback:function(V){return this.sortProperty!==""?V=this.depthSortCallback:V=null,this.sortCallback=V,this},depthSort:function(){return H(this.alive,this.sortCallback.bind(this)),this},depthSortCallback:function(V,K){var Q=this.sortProperty;return this.sortOrderAsc?V[Q]-K[Q]:K[Q]-V[Q]},flow:function(V,K,Q){return K===void 0&&(K=1),this.emitting=!1,this.frequency=V,this.quantity=K,Q!==void 0&&(this.stopAfter=Q),this.start()},explode:function(V,K,Q){this.frequency=-1,this.resetCounters(-1,!0);var _=this.emitParticle(V,K,Q);return this.emit(u.EXPLODE,this,_),_},emitParticleAt:function(V,K,Q){return this.emitParticle(Q,V,K)},emitParticle:function(V,K,Q){if(!this.atLimit()){V===void 0&&(V=this.ops.quantity.onEmit());for(var _=this.dead,tt=this.stopAfter,rt=this.follow?this.follow.x+this.followOffset.x:K,ot=this.follow?this.follow.y+this.followOffset.y:Q,ft=0;ft<V;ft++){var ct=_.pop();if(ct||(ct=new this.particleClass(this)),ct.fire(rt,ot)?(this.particleBringToTop?this.alive.push(ct):this.alive.unshift(ct),this.emitCallback&&this.emitCallback.call(this.emitCallbackScope,ct,this)):this.dead.push(ct),tt>0&&(this.stopCounter++,this.stopCounter>=tt)||this.atLimit())break}return ct}},fastForward:function(V,K){K===void 0&&(K=1e3/60);var Q=0;for(this.skipping=!0;Q<Math.abs(V);)this.preUpdate(0,K),Q+=K;return this.skipping=!1,this},preUpdate:function(V,K){K*=this.timeScale;var Q=K/1e3;this.trackVisible&&(this.visible=this.follow.visible),this.getWorldTransformMatrix(this.worldMatrix);var _=this.getProcessors(),tt=this.alive,rt=this.dead,ot=0,ft=[],ct=tt.length;for(ot=0;ot<ct;ot++){var gt=tt[ot];gt.update(K,Q,_)&&ft.push({index:ot,particle:gt})}if(ct=ft.length,ct>0){var xt=this.deathCallback,Mt=this.deathCallbackScope;for(ot=ct-1;ot>=0;ot--){var Tt=ft[ot];tt.splice(Tt.index,1),rt.push(Tt.particle),xt&&xt.call(Mt,Tt.particle),Tt.particle.setPosition()}}if(!this.emitting&&!this.skipping){this.completeFlag===1&&tt.length===0&&(this.completeFlag=0,this.emit(u.COMPLETE,this));return}if(this.frequency===0)this.emitParticle();else if(this.frequency>0)for(this.flowCounter-=K;this.flowCounter<=0;)this.emitParticle(),this.flowCounter+=this.frequency;this.skipping||(this.duration>0&&(this.elapsed+=K,this.elapsed>=this.duration&&this.stop()),this.stopAfter>0&&this.stopCounter>=this.stopAfter&&this.stop())},overlap:function(V){for(var K=this.getWorldTransformMatrix(),Q=this.alive,_=Q.length,tt=[],rt=0;rt<_;rt++){var ot=Q[rt];B(V,ot.getBounds(K))&&tt.push(ot)}return tt},getBounds:function(V,K,Q,_){V===void 0&&(V=0),K===void 0&&(K=0),Q===void 0&&(Q=1e3/60),_===void 0&&(_=new I);var tt=this.getWorldTransformMatrix(),rt,ot,ft=this.alive,ct=!1;if(_.setTo(0,0,0,0),K>0){var gt=0;for(this.skipping=!0;gt<Math.abs(K);){for(this.preUpdate(0,Q),rt=0;rt<ft.length;rt++)ot=ft[rt].getBounds(tt),ct?R(_,ot):(ct=!0,h(ot,_));gt+=Q}this.skipping=!1}else for(rt=0;rt<ft.length;rt++)ot=ft[rt].getBounds(tt),ct?R(_,ot):(ct=!0,h(ot,_));return V>0&&M(_,V,V),_},createEmitter:function(){throw new Error("createEmitter removed. See ParticleEmitter docs for info")},particleX:{get:function(){return this.ops.x.current},set:function(V){this.ops.x.onChange(V)}},particleY:{get:function(){return this.ops.y.current},set:function(V){this.ops.y.onChange(V)}},accelerationX:{get:function(){return this.ops.accelerationX.current},set:function(V){this.ops.accelerationX.onChange(V)}},accelerationY:{get:function(){return this.ops.accelerationY.current},set:function(V){this.ops.accelerationY.onChange(V)}},maxVelocityX:{get:function(){return this.ops.maxVelocityX.current},set:function(V){this.ops.maxVelocityX.onChange(V)}},maxVelocityY:{get:function(){return this.ops.maxVelocityY.current},set:function(V){this.ops.maxVelocityY.onChange(V)}},speed:{get:function(){return this.ops.speedX.current},set:function(V){this.ops.speedX.onChange(V),this.ops.speedY.onChange(V)}},speedX:{get:function(){return this.ops.speedX.current},set:function(V){this.ops.speedX.onChange(V)}},speedY:{get:function(){return this.ops.speedY.current},set:function(V){this.ops.speedY.onChange(V)}},moveToX:{get:function(){return this.ops.moveToX.current},set:function(V){this.ops.moveToX.onChange(V)}},moveToY:{get:function(){return this.ops.moveToY.current},set:function(V){this.ops.moveToY.onChange(V)}},bounce:{get:function(){return this.ops.bounce.current},set:function(V){this.ops.bounce.onChange(V)}},particleScaleX:{get:function(){return this.ops.scaleX.current},set:function(V){this.ops.scaleX.onChange(V)}},particleScaleY:{get:function(){return this.ops.scaleY.current},set:function(V){this.ops.scaleY.onChange(V)}},particleColor:{get:function(){return this.ops.color.current},set:function(V){this.ops.color.onChange(V)}},colorEase:{get:function(){return this.ops.color.easeName},set:function(V){this.ops.color.setEase(V)}},particleTint:{get:function(){return this.ops.tint.current},set:function(V){this.ops.tint.onChange(V)}},particleAlpha:{get:function(){return this.ops.alpha.current},set:function(V){this.ops.alpha.onChange(V)}},lifespan:{get:function(){return this.ops.lifespan.current},set:function(V){this.ops.lifespan.onChange(V)}},particleAngle:{get:function(){return this.ops.angle.current},set:function(V){this.ops.angle.onChange(V)}},particleRotate:{get:function(){return this.ops.rotate.current},set:function(V){this.ops.rotate.onChange(V)}},quantity:{get:function(){return this.ops.quantity.current},set:function(V){this.ops.quantity.onChange(V)}},delay:{get:function(){return this.ops.delay.current},set:function(V){this.ops.delay.onChange(V)}},hold:{get:function(){return this.ops.hold.current},set:function(V){this.ops.hold.onChange(V)}},flowCounter:{get:function(){return this.counters[0]},set:function(V){this.counters[0]=V}},frameCounter:{get:function(){return this.counters[1]},set:function(V){this.counters[1]=V}},animCounter:{get:function(){return this.counters[2]},set:function(V){this.counters[2]=V}},elapsed:{get:function(){return this.counters[3]},set:function(V){this.counters[3]=V}},stopCounter:{get:function(){return this.counters[4]},set:function(V){this.counters[4]=V}},completeFlag:{get:function(){return this.counters[5]},set:function(V){this.counters[5]=V}},zoneIndex:{get:function(){return this.counters[6]},set:function(V){this.counters[6]=V}},zoneTotal:{get:function(){return this.counters[7]},set:function(V){this.counters[7]=V}},currentFrame:{get:function(){return this.counters[8]},set:function(V){this.counters[8]=V}},currentAnim:{get:function(){return this.counters[9]},set:function(V){this.counters[9]=V}},preDestroy:function(){this.texture=null,this.frames=null,this.anims=null,this.emitCallback=null,this.emitCallbackScope=null,this.deathCallback=null,this.deathCallbackScope=null,this.emitZones=null,this.deathZones=null,this.bounds=null,this.follow=null,this.counters=null;var V,K=this.ops;for(V=0;V<$.length;V++){var Q=$[V];K[Q].destroy()}for(V=0;V<this.alive.length;V++)this.alive[V].destroy();for(V=0;V<this.dead.length;V++)this.dead[V].destroy();this.ops=null,this.alive=[],this.dead=[],this.worldMatrix.destroy()}});n.exports=z},9871:(n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(59996),x=r(61340),d=new x,h=new x,l=new x,a=new x,f=function(c,u,v,g){var m=d,y=h,C=l,b=a;g?(b.loadIdentity(),b.multiply(g),b.translate(u.x,u.y),b.rotate(u.rotation),b.scale(u.scaleX,u.scaleY)):b.applyITRS(u.x,u.y,u.rotation,u.scaleX,u.scaleY);var M=c.currentContext,w=v.roundPixels,R=v.alpha,A=u.alpha,L=u.alive,F=L.length,G=u.viewBounds;if(!(!u.visible||F===0||G&&!o(G,v.worldView))){u.sortCallback&&u.depthSort(),v.addToRenderList(u);var I=u.scrollFactorX,B=u.scrollFactorY;M.save(),M.globalCompositeOperation=c.blendModes[u.blendMode];for(var k=0;k<F;k++){var U=L[k],H=U.alpha*A*R;if(!(H<=0||U.scaleX===0||U.scaleY===0)){C.applyITRS(U.x,U.y,U.rotation,U.scaleX,U.scaleY),m.copyFrom(v.matrix),m.multiplyWithOffset(b,-v.scrollX*I,-v.scrollY*B),C.e=U.x,C.f=U.y,m.multiply(C,y);var X=U.frame,j=X.canvasData;if(j.width>0&&j.height>0){var J=-X.halfWidth,Y=-X.halfHeight;M.globalAlpha=H,M.save(),y.setToContext(M),w&&(J=Math.round(J),Y=Math.round(Y)),M.imageSmoothingEnabled=!X.source.scaleMode,M.drawImage(X.source.image,j.x,j.y,j.width,j.height,J,Y,j.width,j.height),M.restore()}}}M.restore()}};n.exports=f},92730:(n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(25305),x=r(44603),d=r(23568),h=r(95540),l=r(31600);x.register("particles",function(a,f){a===void 0&&(a={});var c=d(a,"key",null),u=h(a,"config",null),v=new l(this.scene,0,0,c);return f!==void 0&&(a.add=f),o(this.scene,v,a),u&&v.setConfig(u),v})},676:(n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(39429),x=r(31600);o.register("particles",function(d,h,l,a){return d!==void 0&&typeof d=="string"&&console.warn("ParticleEmitterManager was removed in Phaser 3.60. See documentation for details"),this.displayList.add(new x(this.scene,d,h,l,a))})},90668:(n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(29747),x=o,d=o;x=r(21188),d=r(9871),n.exports={renderWebGL:x,renderCanvas:d}},21188:(n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(59996),x=r(61340),d=r(70554),h=new x,l=new x,a=new x,f=new x,c=function(u,v,g,m){var y=u.pipelines.set(v.pipeline),C=h,b=l,M=a,w=f;m?(w.loadIdentity(),w.multiply(m),w.translate(v.x,v.y),w.rotate(v.rotation),w.scale(v.scaleX,v.scaleY)):w.applyITRS(v.x,v.y,v.rotation,v.scaleX,v.scaleY);var R=d.getTintAppendFloatAlpha,A=g.alpha,L=v.alpha;u.pipelines.preBatch(v);var F=v.alive,G=F.length,I=v.viewBounds;if(!(G===0||I&&!o(I,g.worldView))){v.sortCallback&&v.depthSort(),g.addToRenderList(v),C.copyFrom(g.matrix),C.multiplyWithOffset(w,-g.scrollX*v.scrollFactorX,-g.scrollY*v.scrollFactorY),u.setBlendMode(v.blendMode),v.mask&&(v.mask.preRenderWebGL(u,v,g),u.pipelines.set(v.pipeline));for(var B=v.tintFill,k,U,H=0;H<G;H++){var X=F[H],j=X.alpha*L*A;if(!(j<=0||X.scaleX===0||X.scaleY===0)){M.applyITRS(X.x,X.y,X.rotation,X.scaleX,X.scaleY),M.e=X.x,M.f=X.y,C.multiply(M,b);var J=X.frame;J.glTexture!==U&&(U=J.glTexture,k=y.setGameObject(v,J));var Y=-J.halfWidth,$=-J.halfHeight,z=b.setQuad(Y,$,Y+J.width,$+J.height),V=R(X.tint,j);y.shouldFlush(6)&&(y.flush(),k=y.setGameObject(v,J)),y.batchQuad(v,z[0],z[1],z[2],z[3],z[4],z[5],z[6],z[7],J.u0,J.v0,J.u1,J.v1,V,V,V,V,B,U,k)}}v.mask&&v.mask.postRenderWebGL(u,g),u.pipelines.postBatch(v)}};n.exports=c},20286:(n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(83419),x=new o({initialize:function(h,l,a){h===void 0&&(h=0),l===void 0&&(l=0),a===void 0&&(a=!0),this.emitter,this.x=h,this.y=l,this.active=a},update:function(){},destroy:function(){this.emitter=null}});n.exports=x},9774:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="complete"},812:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="deathzone"},30522:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="explode"},96695:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="start"},18677:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="stop"},20696:(n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports={COMPLETE:r(9774),DEATH_ZONE:r(812),EXPLODE:r(30522),START:r(96695),STOP:r(18677)}},18404:(n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports={EmitterColorOp:r(76472),EmitterOp:r(44777),Events:r(20696),GravityWell:r(24502),Particle:r(56480),ParticleBounds:r(69601),ParticleEmitter:r(31600),ParticleProcessor:r(20286),Zones:r(21024)}},26388:(n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(83419),x=new o({initialize:function(h,l){this.source=h,this.killOnEnter=l},willKill:function(d){var h=d.worldPosition,l=this.source.contains(h.x,h.y);return l&&this.killOnEnter||!l&&!this.killOnEnter}});n.exports=x},19909:(n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(83419),x=new o({initialize:function(h,l,a,f,c,u){f===void 0&&(f=!1),c===void 0&&(c=!0),u===void 0&&(u=-1),this.source=h,this.points=[],this.quantity=l,this.stepRate=a,this.yoyo=f,this.counter=-1,this.seamless=c,this._length=0,this._direction=0,this.total=u,this.updateSource()},updateSource:function(){if(this.points=this.source.getPoints(this.quantity,this.stepRate),this.seamless){var d=this.points[0],h=this.points[this.points.length-1];d.x===h.x&&d.y===h.y&&this.points.pop()}var l=this._length;return this._length=this.points.length,this._length<l&&this.counter>this._length&&(this.counter=this._length-1),this},changeSource:function(d){return this.source=d,this.updateSource()},getPoint:function(d){this._direction===0?(this.counter++,this.counter>=this._length&&(this.yoyo?(this._direction=1,this.counter=this._length-1):this.counter=0)):(this.counter--,this.counter===-1&&(this.yoyo?(this._direction=0,this.counter=0):this.counter=this._length-1));var h=this.points[this.counter];h&&(d.x=h.x,d.y=h.y)}});n.exports=x},68875:(n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(83419),x=r(26099),d=new o({initialize:function(l){this.source=l,this._tempVec=new x,this.total=-1},getPoint:function(h){var l=this._tempVec;this.source.getRandomPoint(l),h.x=l.x,h.y=l.y}});n.exports=d},21024:(n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports={DeathZone:r(26388),EdgeZone:r(19909),RandomZone:r(68875)}},1159:(n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(83419),x=r(31401),d=r(68287),h=new o({Extends:d,Mixins:[x.PathFollower],initialize:function(a,f,c,u,v,g){d.call(this,a,c,u,v,g),this.path=f},preUpdate:function(l,a){this.anims.update(l,a),this.pathUpdate(l)}});n.exports=h},90145:(n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(39429),x=r(1159);o.register("follower",function(d,h,l,a,f){var c=new x(this.scene,d,h,l,a,f);return this.displayList.add(c),this.updateList.add(c),c})},33663:(n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(9674),x=r(83419),d=r(48803),h=r(90664),l=r(4703),a=r(45650),f=new x({Extends:l,initialize:function(u,v,g,m,y,C,b,M){m||(m="__DEFAULT"),l.call(this,u,v,g,m,y),this.type="Plane",this.anims=new o(this),this.gridWidth,this.gridHeight,this.isTiled,this._checkerboard=null,this.hideCCW=!1,this.setGridSize(C,b,M),this.setSizeToFrame(!1),this.setViewHeight()},originX:{get:function(){return .5}},originY:{get:function(){return .5}},setGridSize:function(c,u,v){c===void 0&&(c=8),u===void 0&&(u=8),v===void 0&&(v=!1);var g=!1;return v&&(g=!0),this.gridWidth=c,this.gridHeight=u,this.isTiled=v,this.clear(),d({mesh:this,widthSegments:c,heightSegments:u,isOrtho:!1,tile:v,flipY:g}),this},setSizeToFrame:function(c){c===void 0&&(c=!0);var u=this.frame;if(this.setPerspective(this.width/u.width,this.height/u.height),this._checkerboard&&this._checkerboard!==this.texture&&this.removeCheckerboard(),!c)return this;var v=this.gridWidth,g=this.gridHeight,m=this.vertices,y=u.u0,C=u.u1,b=u.v0,M=u.v1,w,R,A=0;if(this.isTiled)for(b=u.v1,M=u.v0,R=0;R<g;R++)for(w=0;w<v;w++)m[A++].setUVs(y,M),m[A++].setUVs(y,b),m[A++].setUVs(C,M),m[A++].setUVs(y,b),m[A++].setUVs(C,b),m[A++].setUVs(C,M);else{var L=v+1,F=g+1,G=C-y,I=M-b,B=[];for(R=0;R<F;R++)for(w=0;w<L;w++){var k=y+G*(w/v),U=b+I*(R/g);B.push(k,U)}for(R=0;R<g;R++)for(w=0;w<v;w++){var H=(w+L*R)*2,X=(w+L*(R+1))*2,j=(w+1+L*(R+1))*2,J=(w+1+L*R)*2;m[A++].setUVs(B[H],B[H+1]),m[A++].setUVs(B[X],B[X+1]),m[A++].setUVs(B[J],B[J+1]),m[A++].setUVs(B[X],B[X+1]),m[A++].setUVs(B[j],B[j+1]),m[A++].setUVs(B[J],B[J+1])}}return this},setViewHeight:function(c){c===void 0&&(c=this.frame.height);var u=this.fov*(Math.PI/180);this.viewPosition.z=this.height/c/Math.tan(u/2),this.dirtyCache[10]=1},createCheckerboard:function(c,u,v,g,m){c===void 0&&(c=16777215),u===void 0&&(u=255),v===void 0&&(v=255),g===void 0&&(g=255),m===void 0&&(m=128);for(var y=h(c),C=h(u),b=[],M=0;M<16;M++)for(var w=0;w<16;w++)M<8&&w<8||M>7&&w>7?b.push(y.r,y.g,y.b,v):b.push(C.r,C.g,C.b,g);var R=this.scene.sys.textures.addUint8Array(a(),new Uint8Array(b),16,16);return this.removeCheckerboard(),this.setTexture(R),this.setSizeToFrame(),this.setViewHeight(m),this},removeCheckerboard:function(){this._checkerboard&&(this._checkerboard.destroy(),this._checkerboard=null)},play:function(c,u){return this.anims.play(c,u)},playReverse:function(c,u){return this.anims.playReverse(c,u)},playAfterDelay:function(c,u){return this.anims.playAfterDelay(c,u)},playAfterRepeat:function(c,u){return this.anims.playAfterRepeat(c,u)},stop:function(){return this.anims.stop()},stopAfterDelay:function(c){return this.anims.stopAfterDelay(c)},stopAfterRepeat:function(c){return this.anims.stopAfterRepeat(c)},stopOnFrame:function(c){return this.anims.stopOnFrame(c)},preUpdate:function(c,u){l.prototype.preUpdate.call(this,c,u),this.anims.update(c,u)},preDestroy:function(){this.clear(),this.removeCheckerboard(),this.anims.destroy(),this.anims=void 0,this.debugCallback=null,this.debugGraphic=null}});n.exports=f},56015:(n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(25305),x=r(13059),d=r(44603),h=r(23568),l=r(35154),a=r(33663);d.register("plane",function(f,c){f===void 0&&(f={});var u=h(f,"key",null),v=h(f,"frame",null),g=l(f,"width",8),m=l(f,"height",8),y=l(f,"tile",!1),C=new a(this.scene,0,0,u,v,g,m,y);c!==void 0&&(f.add=c);var b=l(f,"checkerboard",null);if(b){var M=l(b,"color1",16777215),w=l(b,"color2",255),R=l(b,"alpha1",255),A=l(b,"alpha2",255),L=l(b,"height",128);C.createCheckerboard(M,w,R,A,L)}return o(this.scene,C,f),x(C,f),C})},30985:(n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(33663),x=r(39429);x.register("plane",function(d,h,l,a,f,c,u){return this.displayList.add(new o(this.scene,d,h,l,a,f,c,u))})},80321:(n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(83419),x=r(31401),d=r(95643),h=r(30100),l=r(36060),a=r(67277),f=new o({Extends:d,Mixins:[x.AlphaSingle,x.BlendMode,x.Depth,x.Mask,x.Pipeline,x.PostPipeline,x.ScrollFactor,x.Transform,x.Visible,a],initialize:function(u,v,g,m,y,C,b){m===void 0&&(m=16777215),y===void 0&&(y=128),C===void 0&&(C=1),b===void 0&&(b=.1),d.call(this,u,"PointLight"),this.initPipeline(l.POINTLIGHT_PIPELINE),this.initPostPipeline(),this.setPosition(v,g),this.color=h(m),this.intensity=C,this.attenuation=b,this.width=y*2,this.height=y*2,this._radius=y},radius:{get:function(){return this._radius},set:function(c){this._radius=c,this.width=c*2,this.height=c*2}},originX:{get:function(){return .5}},originY:{get:function(){return .5}},displayOriginX:{get:function(){return this._radius}},displayOriginY:{get:function(){return this._radius}}});n.exports=f},39829:(n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(25305),x=r(44603),d=r(23568),h=r(80321);x.register("pointlight",function(l,a){l===void 0&&(l={});var f=d(l,"color",16777215),c=d(l,"radius",128),u=d(l,"intensity",1),v=d(l,"attenuation",.1),g=new h(this.scene,0,0,f,c,u,v);return a!==void 0&&(l.add=a),o(this.scene,g,l),g})},71255:(n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(39429),x=r(80321);o.register("pointlight",function(d,h,l,a,f,c){return this.displayList.add(new x(this.scene,d,h,l,a,f,c))})},67277:(n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(29747),x=o,d=o;x=r(57787),n.exports={renderWebGL:x,renderCanvas:d}},57787:(n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(91296),x=function(d,h,l,a){l.addToRenderList(h);var f=d.pipelines.set(h.pipeline),c=o(h,l,a).calc,u=h.width,v=h.height,g=-h._radius,m=-h._radius,y=g+u,C=m+v,b=c.getX(0,0),M=c.getY(0,0),w=c.getX(g,m),R=c.getY(g,m),A=c.getX(g,C),L=c.getY(g,C),F=c.getX(y,C),G=c.getY(y,C),I=c.getX(y,m),B=c.getY(y,m);d.pipelines.preBatch(h),f.batchPointLight(h,l,w,R,A,L,F,G,I,B,b,M),d.pipelines.postBatch(h)};n.exports=x},591:(n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(83419),x=r(81320),d=r(88571),h=new o({Extends:d,initialize:function(a,f,c,u,v,g){f===void 0&&(f=0),c===void 0&&(c=0),u===void 0&&(u=32),v===void 0&&(v=32),g===void 0&&(g=!0);var m=new x(a.sys.textures,"",u,v,g);d.call(this,a,f,c,m),this.type="RenderTexture",this.camera=this.texture.camera,this._saved=!1},setSize:function(l,a){this.width=l,this.height=a,this.updateDisplayOrigin();var f=this.input;return f&&!f.customHitArea&&(f.hitArea.width=l,f.hitArea.height=a),this},resize:function(l,a,f){return this.texture.setSize(l,a,f),this.setSize(this.texture.width,this.texture.height),this},saveTexture:function(l){var a=this.texture;return a.key=l,a.manager.addDynamicTexture(a)&&(this._saved=!0),a},fill:function(l,a,f,c,u,v){return this.texture.fill(l,a,f,c,u,v),this},clear:function(){return this.texture.clear(),this},stamp:function(l,a,f,c,u){return this.texture.stamp(l,a,f,c,u),this},erase:function(l,a,f){return this.texture.erase(l,a,f),this},draw:function(l,a,f,c,u){return this.texture.draw(l,a,f,c,u),this},drawFrame:function(l,a,f,c,u,v){return this.texture.drawFrame(l,a,f,c,u,v),this},repeat:function(l,a,f,c,u,v,g,m,y){return this.texture.repeat(l,a,f,c,u,v,g,m,y),this},beginDraw:function(){return this.texture.beginDraw(),this},batchDraw:function(l,a,f,c,u){return this.texture.batchDraw(l,a,f,c,u),this},batchDrawFrame:function(l,a,f,c,u,v){return this.texture.batchDrawFrame(l,a,f,c,u,v),this},endDraw:function(l){return this.texture.endDraw(l),this},snapshotArea:function(l,a,f,c,u,v,g){return this.texture.snapshotArea(l,a,f,c,u,v,g),this},snapshot:function(l,a,f){return this.snapshotArea(0,0,this.width,this.height,l,a,f)},snapshotPixel:function(l,a,f){return this.snapshotArea(l,a,1,1,f,"pixel")},preDestroy:function(){this.camera=null,this._saved||this.texture.destroy()}});n.exports=h},34495:(n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(25305),x=r(44603),d=r(23568),h=r(591);x.register("renderTexture",function(l,a){l===void 0&&(l={});var f=d(l,"x",0),c=d(l,"y",0),u=d(l,"width",32),v=d(l,"height",32),g=new h(this.scene,f,c,u,v);return a!==void 0&&(l.add=a),o(this.scene,g,l),g})},60505:(n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(39429),x=r(591);o.register("renderTexture",function(d,h,l,a){return this.displayList.add(new x(this.scene,d,h,l,a))})},77757:(n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(9674),x=r(83419),d=r(31401),h=r(95643),l=r(36060),a=r(38745),f=r(26099),c=new x({Extends:h,Mixins:[d.AlphaSingle,d.BlendMode,d.Depth,d.Flip,d.Mask,d.Pipeline,d.PostPipeline,d.Size,d.Texture,d.Transform,d.Visible,d.ScrollFactor,a],initialize:function(v,g,m,y,C,b,M,w,R){y===void 0&&(y="__DEFAULT"),b===void 0&&(b=2),M===void 0&&(M=!0),h.call(this,v,"Rope"),this.anims=new o(this),this.points=b,this.vertices,this.uv,this.colors,this.alphas,this.tintFill=y==="__DEFAULT",this.dirty=!1,this.horizontal=M,this._flipX=!1,this._flipY=!1,this._perp=new f,this.debugCallback=null,this.debugGraphic=null,this.setTexture(y,C),this.setPosition(g,m),this.setSizeToFrame(),this.initPipeline(l.ROPE_PIPELINE),this.initPostPipeline(),Array.isArray(b)&&this.resizeArrays(b.length),this.setPoints(b,w,R),this.updateVertices()},addedToScene:function(){this.scene.sys.updateList.add(this)},removedFromScene:function(){this.scene.sys.updateList.remove(this)},preUpdate:function(u,v){var g=this.anims.currentFrame;this.anims.update(u,v),this.anims.currentFrame!==g&&(this.updateUVs(),this.updateVertices())},play:function(u,v,g){return this.anims.play(u,v,g),this},setDirty:function(){return this.dirty=!0,this},setHorizontal:function(u,v,g){return u===void 0&&(u=this.points.length),this.horizontal?this:(this.horizontal=!0,this.setPoints(u,v,g))},setVertical:function(u,v,g){return u===void 0&&(u=this.points.length),this.horizontal?(this.horizontal=!1,this.setPoints(u,v,g)):this},setTintFill:function(u){return u===void 0&&(u=!1),this.tintFill=u,this},setAlphas:function(u,v){var g=this.points.length;if(g<1)return this;var m=this.alphas;u===void 0?u=[1]:!Array.isArray(u)&&v===void 0&&(u=[u]);var y,C=0;if(v!==void 0)for(y=0;y<g;y++)C=y*2,m[C]=u,m[C+1]=v;else if(u.length===g)for(y=0;y<g;y++)C=y*2,m[C]=u[y],m[C+1]=u[y];else{var b=u[0];for(y=0;y<g;y++)C=y*2,u.length>C&&(b=u[C]),m[C]=b,u.length>C+1&&(b=u[C+1]),m[C+1]=b}return this},setColors:function(u){var v=this.points.length;if(v<1)return this;var g=this.colors;u===void 0?u=[16777215]:Array.isArray(u)||(u=[u]);var m,y=0;if(u.length===v)for(m=0;m<v;m++)y=m*2,g[y]=u[m],g[y+1]=u[m];else{var C=u[0];for(m=0;m<v;m++)y=m*2,u.length>y&&(C=u[y]),g[y]=C,u.length>y+1&&(C=u[y+1]),g[y+1]=C}return this},setPoints:function(u,v,g){if(u===void 0&&(u=2),typeof u=="number"){var m=u;m<2&&(m=2),u=[];var y,C,b;if(this.horizontal)for(b=-this.frame.halfWidth,C=this.frame.width/(m-1),y=0;y<m;y++)u.push({x:b+y*C,y:0});else for(b=-this.frame.halfHeight,C=this.frame.height/(m-1),y=0;y<m;y++)u.push({x:0,y:b+y*C})}var M=u.length,w=this.points.length;return M<1?(console.warn("Rope: Not enough points given"),this):(M===1&&(u.unshift({x:0,y:0}),M++),w!==M&&this.resizeArrays(M),this.dirty=!0,this.points=u,this.updateUVs(),v!=null&&this.setColors(v),g!=null&&this.setAlphas(g),this)},updateUVs:function(){for(var u=this.uv,v=this.points.length,g=this.frame.u0,m=this.frame.v0,y=this.frame.u1,C=this.frame.v1,b=(y-g)/(v-1),M=(C-m)/(v-1),w=0;w<v;w++){var R=w*4,A,L,F,G;this.horizontal?(this._flipX?(A=y-w*b,F=y-w*b):(A=g+w*b,F=g+w*b),this._flipY?(L=C,G=m):(L=m,G=C)):(this._flipX?(A=g,F=y):(A=y,F=g),this._flipY?(L=C-w*M,G=C-w*M):(L=m+w*M,G=m+w*M)),u[R+0]=A,u[R+1]=L,u[R+2]=F,u[R+3]=G}return this},resizeArrays:function(u){var v=this.colors,g=this.alphas;this.vertices=new Float32Array(u*4),this.uv=new Float32Array(u*4),v=new Uint32Array(u*2),g=new Float32Array(u*2);for(var m=0;m<u*2;m++)v[m]=16777215,g[m]=1;return this.colors=v,this.alphas=g,this.dirty=!0,this},updateVertices:function(){var u=this._perp,v=this.points,g=this.vertices,m=v.length;if(this.dirty=!1,!(m<1)){for(var y,C=v[0],b=this.horizontal?this.frame.halfHeight:this.frame.halfWidth,M=0;M<m;M++){var w=v[M],R=M*4;M<m-1?y=v[M+1]:y=w,u.x=y.y-C.y,u.y=-(y.x-C.x);var A=u.length();u.x/=A,u.y/=A,u.x*=b,u.y*=b,g[R]=w.x+u.x,g[R+1]=w.y+u.y,g[R+2]=w.x-u.x,g[R+3]=w.y-u.y,C=w}return this}},setDebug:function(u,v){return this.debugGraphic=u,!u&&!v?this.debugCallback=null:v?this.debugCallback=v:this.debugCallback=this.renderDebugVerts,this},renderDebugVerts:function(u,v,g){var m=u.debugGraphic,y=g[0],C=g[1],b=g[2],M=g[3];m.lineBetween(y,C,b,M);for(var w=4;w<v;w+=4){var R=g[w+0],A=g[w+1],L=g[w+2],F=g[w+3];m.lineBetween(y,C,R,A),m.lineBetween(b,M,L,F),m.lineBetween(b,M,R,A),m.lineBetween(R,A,L,F),y=R,C=A,b=L,M=F}},preDestroy:function(){this.anims.destroy(),this.anims=void 0,this.points=null,this.vertices=null,this.uv=null,this.colors=null,this.alphas=null,this.debugCallback=null,this.debugGraphic=null},flipX:{get:function(){return this._flipX},set:function(u){return this._flipX=u,this.updateUVs()}},flipY:{get:function(){return this._flipY},set:function(u){return this._flipY=u,this.updateUVs()}}});n.exports=c},95262:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(){};n.exports=T},26209:(n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(25305),x=r(44603),d=r(23568),h=r(35154),l=r(77757);x.register("rope",function(a,f){a===void 0&&(a={});var c=d(a,"key",null),u=d(a,"frame",null),v=d(a,"horizontal",!0),g=h(a,"points",void 0),m=h(a,"colors",void 0),y=h(a,"alphas",void 0),C=new l(this.scene,0,0,c,u,g,v,m,y);return f!==void 0&&(a.add=f),o(this.scene,C,a),C})},96819:(n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(77757),x=r(39429);x.register("rope",function(d,h,l,a,f,c,u,v){return this.displayList.add(new o(this.scene,d,h,l,a,f,c,u,v))})},38745:(n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(29747),x=o,d=o;x=r(20439),d=r(95262),n.exports={renderWebGL:x,renderCanvas:d}},20439:(n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(91296),x=r(70554),d=function(h,l,a,f){a.addToRenderList(l);var c=h.pipelines.set(l.pipeline,l),u=o(l,a,f).calc,v=l.vertices,g=l.uv,m=l.colors,y=l.alphas,C=l.alpha,b=x.getTintAppendFloatAlpha,M=a.roundPixels,w=v.length,R=Math.floor(w*.5);c.flush(),h.pipelines.preBatch(l);var A=c.setGameObject(l),L=c.vertexViewF32,F=c.vertexViewU32,G=c.vertexCount*c.currentShader.vertexComponentCount-1,I=0,B=l.tintFill;l.dirty&&l.updateVertices();for(var k=l.debugCallback,U=[],H=0;H<w;H+=2){var X=v[H+0],j=v[H+1],J=X*u.a+j*u.c+u.e,Y=X*u.b+j*u.d+u.f;M&&(J=Math.round(J),Y=Math.round(Y)),L[++G]=J,L[++G]=Y,L[++G]=g[H+0],L[++G]=g[H+1],L[++G]=A,L[++G]=B,F[++G]=b(m[I],a.alpha*(y[I]*C)),I++,k&&(U[H+0]=J,U[H+1]=Y)}k&&k.call(l,l,w,U),c.vertexCount+=R,c.currentBatch.count=c.vertexCount-c.currentBatch.start,h.pipelines.postBatch(l)};n.exports=d},20071:(n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(83419),x=r(31401),d=r(95643),h=r(95540),l=r(79291),a=r(61622),f=r(25479),c=r(61340),u=r(95428),v=r(92503),g=new o({Extends:d,Mixins:[x.ComputedSize,x.Depth,x.GetBounds,x.Mask,x.Origin,x.ScrollFactor,x.Transform,x.Visible,f],initialize:function(y,C,b,M,w,R,A,L){b===void 0&&(b=0),M===void 0&&(M=0),w===void 0&&(w=128),R===void 0&&(R=128),d.call(this,y,"Shader"),this.blendMode=-1,this.shader;var F=y.sys.renderer;this.renderer=F,this.gl=F.gl,this.vertexData=new ArrayBuffer(6*(Float32Array.BYTES_PER_ELEMENT*2)),this.vertexBuffer=F.createVertexBuffer(this.vertexData.byteLength,this.gl.STREAM_DRAW),this._deferSetShader=null,this._deferProjOrtho=null,this.program=null,this.bytes=new Uint8Array(this.vertexData),this.vertexViewF32=new Float32Array(this.vertexData),this._tempMatrix1=new c,this._tempMatrix2=new c,this._tempMatrix3=new c,this.viewMatrix=new Float32Array([1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1]),this.projectionMatrix=new Float32Array([1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1]),this.uniforms={},this.pointer=null,this._rendererWidth=F.width,this._rendererHeight=F.height,this._textureCount=0,this.framebuffer=null,this.glTexture=null,this.renderToTexture=!1,this.texture=null,this.setPosition(b,M),this.setSize(w,R),this.setOrigin(.5,.5),this.setShader(C,A,L),this.renderer.on(v.RESTORE_WEBGL,this.onContextRestored,this)},willRender:function(m){return this.renderToTexture?!0:!(d.RENDER_MASK!==this.renderFlags||this.cameraFilter!==0&&this.cameraFilter&m.id)},setRenderToTexture:function(m,y){if(!this.renderToTexture){var C=this.width,b=this.height,M=this.renderer;this.glTexture=M.createTextureFromSource(null,C,b,0),this.framebuffer=M.createFramebuffer(C,b,this.glTexture,!1),this._rendererWidth=C,this._rendererHeight=b,this.renderToTexture=!0,this.projOrtho(0,this.width,this.height,0),m&&(this.texture=this.scene.sys.textures.addGLTexture(m,this.glTexture))}return this.shader&&(M.pipelines.clear(),this.load(),this.flush(),M.pipelines.rebind()),this},setShader:function(m,y,C){if(this.renderer.contextLost)return this._deferSetShader={key:m,textures:y,textureData:C},this;if(y===void 0&&(y=[]),typeof m=="string"){var b=this.scene.sys.cache.shader;if(!b.has(m))return console.warn("Shader missing: "+m),this;this.shader=b.get(m)}else this.shader=m;var M=this.gl,w=this.renderer;this.program&&w.deleteProgram(this.program);var R=w.createProgram(this.shader.vertexSrc,this.shader.fragmentSrc);M.uniformMatrix4fv(M.getUniformLocation(R.webGLProgram,"uViewMatrix"),!1,this.viewMatrix),M.uniformMatrix4fv(M.getUniformLocation(R.webGLProgram,"uProjectionMatrix"),!1,this.projectionMatrix),M.uniform2f(M.getUniformLocation(R.webGLProgram,"uResolution"),this.width,this.height),this.program=R;var A=new Date,L={resolution:{type:"2f",value:{x:this.width,y:this.height}},time:{type:"1f",value:0},mouse:{type:"2f",value:{x:this.width/2,y:this.height/2}},date:{type:"4fv",value:[A.getFullYear(),A.getMonth(),A.getDate(),A.getHours()*60*60+A.getMinutes()*60+A.getSeconds()]},sampleRate:{type:"1f",value:44100},iChannel0:{type:"sampler2D",value:null,textureData:{repeat:!0}},iChannel1:{type:"sampler2D",value:null,textureData:{repeat:!0}},iChannel2:{type:"sampler2D",value:null,textureData:{repeat:!0}},iChannel3:{type:"sampler2D",value:null,textureData:{repeat:!0}}};this.shader.uniforms?this.uniforms=l(!0,{},this.shader.uniforms,L):this.uniforms=L;for(var F=0;F<4;F++)y[F]&&this.setSampler2D("iChannel"+F,y[F],F,C);return this.initUniforms(),this.projOrtho(0,this._rendererWidth,this._rendererHeight,0),this},setPointer:function(m){return this.pointer=m,this},projOrtho:function(m,y,C,b){if(this.renderer.contextLost){this._deferProjOrtho={left:m,right:y,bottom:C,top:b};return}var M=-1e3,w=1e3,R=1/(m-y),A=1/(C-b),L=1/(M-w),F=this.projectionMatrix;F[0]=-2*R,F[5]=-2*A,F[10]=2*L,F[12]=(m+y)*R,F[13]=(b+C)*A,F[14]=(w+M)*L;var G=this.program,I=this.gl,B=this.renderer;B.setProgram(G),I.uniformMatrix4fv(I.getUniformLocation(G.webGLProgram,"uProjectionMatrix"),!1,this.projectionMatrix),this._rendererWidth=y,this._rendererHeight=C},initUniforms:function(){var m=this.renderer.glFuncMap,y=this.program;this._textureCount=0;for(var C in this.uniforms){var b=this.uniforms[C],M=b.type,w=m[M];b.uniformLocation=this.renderer.createUniformLocation(y,C),M!=="sampler2D"&&(b.glMatrix=w.matrix,b.glValueLength=w.length,b.glFunc=w.func)}},setSampler2DBuffer:function(m,y,C,b,M,w){M===void 0&&(M=0),w===void 0&&(w={});var R=this.uniforms[m];return R.value=y,w.width=C,w.height=b,R.textureData=w,this._textureCount=M,this.initSampler2D(R),this},setSampler2D:function(m,y,C,b){C===void 0&&(C=0);var M=this.scene.sys.textures;if(M.exists(y)){var w=M.getFrame(y);if(w.glTexture&&w.glTexture.isRenderTexture)return this.setSampler2DBuffer(m,w.glTexture,w.width,w.height,C,b);var R=this.uniforms[m],A=w.source;R.textureKey=y,R.source=A.image,R.value=w.glTexture,A.isGLTexture&&(b||(b={}),b.width=A.width,b.height=A.height),b&&(R.textureData=b),this._textureCount=C,this.initSampler2D(R)}return this},setUniform:function(m,y){return a(this.uniforms,m,y),this},getUniform:function(m){return h(this.uniforms,m,null)},setChannel0:function(m,y){return this.setSampler2D("iChannel0",m,0,y)},setChannel1:function(m,y){return this.setSampler2D("iChannel1",m,1,y)},setChannel2:function(m,y){return this.setSampler2D("iChannel2",m,2,y)},setChannel3:function(m,y){return this.setSampler2D("iChannel3",m,3,y)},initSampler2D:function(m){if(m.value){var y=m.textureData;if(y&&!m.value.isRenderTexture){var C=this.gl,b=m.value,M=C[h(y,"magFilter","linear").toUpperCase()],w=C[h(y,"minFilter","linear").toUpperCase()],R=C[h(y,"wrapS","repeat").toUpperCase()],A=C[h(y,"wrapT","repeat").toUpperCase()],L=C[h(y,"format","rgba").toUpperCase()],F=h(y,"flipY",!1),G=h(y,"width",b.width),I=h(y,"height",b.height),B=h(y,"source",b.pixels);y.repeat&&(R=C.REPEAT,A=C.REPEAT),y.width&&(B=null),b.update(B,G,I,F,R,A,w,M,L)}this.renderer.setProgram(this.program),this._textureCount++}},syncUniforms:function(){var m=this.gl,y=this.uniforms,C,b,M,w,R,A=0;for(var L in y)C=y[L],M=C.glFunc,b=C.glValueLength,w=C.uniformLocation,R=C.value,R!==null&&(b===1?C.glMatrix?M.call(m,w.webGLUniformLocation,C.transpose,R):M.call(m,w.webGLUniformLocation,R):b===2?M.call(m,w.webGLUniformLocation,R.x,R.y):b===3?M.call(m,w.webGLUniformLocation,R.x,R.y,R.z):b===4?M.call(m,w.webGLUniformLocation,R.x,R.y,R.z,R.w):C.type==="sampler2D"&&(m.activeTexture(m.TEXTURE0+A),m.bindTexture(m.TEXTURE_2D,R.webGLTexture),m.uniform1i(w.webGLUniformLocation,A),A++))},load:function(m){var y=this.gl,C=this.width,b=this.height,M=this.renderer,w=this.program,R=this.viewMatrix;if(!this.renderToTexture){var A=-this._displayOriginX,L=-this._displayOriginY;R[0]=m[0],R[1]=m[1],R[4]=m[2],R[5]=m[3],R[8]=m[4],R[9]=m[5],R[12]=R[0]*A+R[4]*L,R[13]=R[1]*A+R[5]*L}y.useProgram(w.webGLProgram),y.uniformMatrix4fv(y.getUniformLocation(w.webGLProgram,"uViewMatrix"),!1,R),y.uniformMatrix4fv(y.getUniformLocation(w.webGLProgram,"uProjectionMatrix"),!1,this.projectionMatrix),y.uniform2f(y.getUniformLocation(w.webGLProgram,"uResolution"),this.width,this.height);var F=this.uniforms,G=F.resolution;G.value.x=C,G.value.y=b,F.time.value=M.game.loop.getDuration();var I=this.pointer;if(I){var B=F.mouse,k=I.x/C,U=1-I.y/b;B.value.x=k.toFixed(2),B.value.y=U.toFixed(2)}this.syncUniforms()},flush:function(){var m=this.width,y=this.height,C=this.program,b=this.gl,M=this.vertexBuffer,w=this.renderer,R=Float32Array.BYTES_PER_ELEMENT*2;this.renderToTexture&&(w.setFramebuffer(this.framebuffer),b.clearColor(0,0,0,0),b.clear(b.COLOR_BUFFER_BIT)),b.bindBuffer(b.ARRAY_BUFFER,M.webGLBuffer);var A=b.getAttribLocation(C.webGLProgram,"inPosition");A!==-1&&(b.enableVertexAttribArray(A),b.vertexAttribPointer(A,2,b.FLOAT,!1,R,0));var L=this.vertexViewF32;L[3]=y,L[4]=m,L[5]=y,L[8]=m,L[9]=y,L[10]=m;var F=6;b.bufferSubData(b.ARRAY_BUFFER,0,this.bytes.subarray(0,F*R)),b.drawArrays(b.TRIANGLES,0,F),this.renderToTexture&&w.setFramebuffer(null,!1)},setAlpha:function(){},setBlendMode:function(){},onContextRestored:function(){if(this._deferSetShader!==null){var m=this._deferSetShader.key,y=this._deferSetShader.textures,C=this._deferSetShader.textureData;this._deferSetShader=null,this.setShader(m,y,C)}if(this._deferProjOrtho!==null){var b=this._deferProjOrtho.left,M=this._deferProjOrtho.right,w=this._deferProjOrtho.bottom,R=this._deferProjOrtho.top;this._deferProjOrtho=null,this.projOrtho(b,M,w,R)}},preDestroy:function(){var m=this.renderer;m.off(v.RESTORE_WEBGL,this.onContextRestored,this),m.deleteProgram(this.program),m.deleteBuffer(this.vertexBuffer),this.renderToTexture&&(m.deleteFramebuffer(this.framebuffer),this.texture.destroy(),this.framebuffer=null,this.glTexture=null,this.texture=null),u(this.uniforms,function(y){m.deleteUniformLocation(y.uniformLocation),y.uniformLocation=null})}});n.exports=g},80464:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(){};n.exports=T},54935:(n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(25305),x=r(44603),d=r(23568),h=r(20071);x.register("shader",function(l,a){l===void 0&&(l={});var f=d(l,"key",null),c=d(l,"x",0),u=d(l,"y",0),v=d(l,"width",128),g=d(l,"height",128),m=new h(this.scene,f,c,u,v,g);return a!==void 0&&(l.add=a),o(this.scene,m,l),m})},74177:(n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(20071),x=r(39429);x.register("shader",function(d,h,l,a,f,c,u){return this.displayList.add(new o(this.scene,d,h,l,a,f,c,u))})},25479:(n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(29747),x=o,d=o;x=r(19257),d=r(80464),n.exports={renderWebGL:x,renderCanvas:d}},19257:(n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(91296),x=function(d,h,l,a){if(h.shader){if(l.addToRenderList(h),d.pipelines.clear(),h.renderToTexture)h.load(),h.flush();else{var f=o(h,l,a).calc;(d.width!==h._rendererWidth||d.height!==h._rendererHeight)&&h.projOrtho(0,d.width,d.height,0),h.load(f.matrix),h.flush()}d.pipelines.rebind()}};n.exports=x},10441:(n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(70554),x=function(d,h,l,a,f,c){for(var u=o.getTintAppendFloatAlpha(l.fillColor,l.fillAlpha*a),v=l.pathData,g=l.pathIndexes,m=0;m<g.length;m+=3){var y=g[m]*2,C=g[m+1]*2,b=g[m+2]*2,M=v[y+0]-f,w=v[y+1]-c,R=v[C+0]-f,A=v[C+1]-c,L=v[b+0]-f,F=v[b+1]-c,G=h.getX(M,w),I=h.getY(M,w),B=h.getX(R,A),k=h.getY(R,A),U=h.getX(L,F),H=h.getY(L,F);d.batchTri(l,G,I,B,k,U,H,0,0,1,1,u,u,u,2)}};n.exports=x},65960:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(r,o,x,d){var h=x||o.fillColor,l=d||o.fillAlpha,a=(h&16711680)>>>16,f=(h&65280)>>>8,c=h&255;r.fillStyle="rgba("+a+","+f+","+c+","+l+")"};n.exports=T},75177:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(r,o,x,d){var h=x||o.strokeColor,l=d||o.strokeAlpha,a=(h&16711680)>>>16,f=(h&65280)>>>8,c=h&255;r.strokeStyle="rgba("+a+","+f+","+c+","+l+")",r.lineWidth=o.lineWidth};n.exports=T},17803:(n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(83419),x=r(31401),d=r(95643),h=r(23031),l=new o({Extends:d,Mixins:[x.AlphaSingle,x.BlendMode,x.Depth,x.GetBounds,x.Mask,x.Origin,x.Pipeline,x.PostPipeline,x.ScrollFactor,x.Transform,x.Visible],initialize:function(f,c,u){c===void 0&&(c="Shape"),d.call(this,f,c),this.geom=u,this.pathData=[],this.pathIndexes=[],this.fillColor=16777215,this.fillAlpha=1,this.strokeColor=16777215,this.strokeAlpha=1,this.lineWidth=1,this.isFilled=!1,this.isStroked=!1,this.closePath=!0,this._tempLine=new h,this.width=0,this.height=0,this.initPipeline(),this.initPostPipeline()},setFillStyle:function(a,f){return f===void 0&&(f=1),a===void 0?this.isFilled=!1:(this.fillColor=a,this.fillAlpha=f,this.isFilled=!0),this},setStrokeStyle:function(a,f,c){return c===void 0&&(c=1),a===void 0?this.isStroked=!1:(this.lineWidth=a,this.strokeColor=f,this.strokeAlpha=c,this.isStroked=!0),this},setClosePath:function(a){return this.closePath=a,this},setSize:function(a,f){return this.width=a,this.height=f,this},setDisplaySize:function(a,f){return this.displayWidth=a,this.displayHeight=f,this},preDestroy:function(){this.geom=null,this._tempLine=null,this.pathData=[],this.pathIndexes=[]},displayWidth:{get:function(){return this.scaleX*this.width},set:function(a){this.scaleX=a/this.width}},displayHeight:{get:function(){return this.scaleY*this.height},set:function(a){this.scaleY=a/this.height}}});n.exports=l},34682:(n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(70554),x=function(d,h,l,a,f){var c=d.strokeTint,u=o.getTintAppendFloatAlpha(h.strokeColor,h.strokeAlpha*l);c.TL=u,c.TR=u,c.BL=u,c.BR=u;var v=h.pathData,g=v.length-1,m=h.lineWidth,y=m/2,C=v[0]-a,b=v[1]-f;h.closePath||(g-=2);for(var M=2;M<g;M+=2){var w=v[M]-a,R=v[M+1]-f;d.batchLine(C,b,w,R,y,y,m,M-2,h.closePath?M===g-1:!1),C=w,b=R}};n.exports=x},23629:(n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(13609),x=r(83419),d=r(39506),h=r(94811),l=r(96503),a=r(36383),f=r(17803),c=new x({Extends:f,Mixins:[o],initialize:function(v,g,m,y,C,b,M,w,R){g===void 0&&(g=0),m===void 0&&(m=0),y===void 0&&(y=128),C===void 0&&(C=0),b===void 0&&(b=360),M===void 0&&(M=!1),f.call(this,v,"Arc",new l(0,0,y)),this._startAngle=C,this._endAngle=b,this._anticlockwise=M,this._iterations=.01,this.setPosition(g,m);var A=this.geom.radius*2;this.setSize(A,A),w!==void 0&&this.setFillStyle(w,R),this.updateDisplayOrigin(),this.updateData()},iterations:{get:function(){return this._iterations},set:function(u){this._iterations=u,this.updateData()}},radius:{get:function(){return this.geom.radius},set:function(u){this.geom.radius=u;var v=u*2;this.setSize(v,v),this.updateDisplayOrigin(),this.updateData()}},startAngle:{get:function(){return this._startAngle},set:function(u){this._startAngle=u,this.updateData()}},endAngle:{get:function(){return this._endAngle},set:function(u){this._endAngle=u,this.updateData()}},anticlockwise:{get:function(){return this._anticlockwise},set:function(u){this._anticlockwise=u,this.updateData()}},setRadius:function(u){return this.radius=u,this},setIterations:function(u){return u===void 0&&(u=.01),this.iterations=u,this},setStartAngle:function(u,v){return this._startAngle=u,v!==void 0&&(this._anticlockwise=v),this.updateData()},setEndAngle:function(u,v){return this._endAngle=u,v!==void 0&&(this._anticlockwise=v),this.updateData()},updateData:function(){var u=this._iterations,v=u,g=this.geom.radius,m=d(this._startAngle),y=d(this._endAngle),C=this._anticlockwise,b=g,M=g;y-=m,C?y<-a.PI2?y=-a.PI2:y>0&&(y=-a.PI2+y%a.PI2):y>a.PI2?y=a.PI2:y<0&&(y=a.PI2+y%a.PI2);for(var w=[b+Math.cos(m)*g,M+Math.sin(m)*g],R;v<1;)R=y*v+m,w.push(b+Math.cos(R)*g,M+Math.sin(R)*g),v+=u;return R=y+m,w.push(b+Math.cos(R)*g,M+Math.sin(R)*g),w.push(b+Math.cos(m)*g,M+Math.sin(m)*g),this.pathIndexes=h(w),this.pathData=w,this}});n.exports=c},42542:(n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(39506),x=r(65960),d=r(75177),h=r(20926),l=function(a,f,c,u){c.addToRenderList(f);var v=a.currentContext;if(h(a,v,f,c,u)){var g=f.radius;v.beginPath(),v.arc(g-f.originX*(g*2),g-f.originY*(g*2),g,o(f._startAngle),o(f._endAngle),f.anticlockwise),f.closePath&&v.closePath(),f.isFilled&&(x(v,f),v.fill()),f.isStroked&&(d(v,f),v.stroke()),v.restore()}};n.exports=l},42563:(n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(23629),x=r(39429);x.register("arc",function(d,h,l,a,f,c,u,v){return this.displayList.add(new o(this.scene,d,h,l,a,f,c,u,v))}),x.register("circle",function(d,h,l,a,f){return this.displayList.add(new o(this.scene,d,h,l,0,360,!1,a,f))})},13609:(n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(29747),x=o,d=o;x=r(41447),d=r(42542),n.exports={renderWebGL:x,renderCanvas:d}},41447:(n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(91296),x=r(10441),d=r(34682),h=function(l,a,f,c){f.addToRenderList(a);var u=l.pipelines.set(a.pipeline),v=o(a,f,c),g=u.calcMatrix.copyFrom(v.calc),m=a._displayOriginX,y=a._displayOriginY,C=f.alpha*a.alpha;l.pipelines.preBatch(a),a.isFilled&&x(u,g,a,C,m,y),a.isStroked&&d(u,a,C,m,y),l.pipelines.postBatch(a)};n.exports=h},89:(n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(83419),x=r(33141),d=r(94811),h=r(87841),l=r(17803),a=new o({Extends:l,Mixins:[x],initialize:function(c,u,v,g,m,y){u===void 0&&(u=0),v===void 0&&(v=0),l.call(this,c,"Curve",g),this._smoothness=32,this._curveBounds=new h,this.closePath=!1,this.setPosition(u,v),m!==void 0&&this.setFillStyle(m,y),this.updateData()},smoothness:{get:function(){return this._smoothness},set:function(f){this._smoothness=f,this.updateData()}},setSmoothness:function(f){return this._smoothness=f,this.updateData()},updateData:function(){var f=this._curveBounds,c=this._smoothness;this.geom.getBounds(f,c),this.setSize(f.width,f.height),this.updateDisplayOrigin();for(var u=[],v=this.geom.getPoints(c),g=0;g<v.length;g++)u.push(v[g].x,v[g].y);return u.push(v[0].x,v[0].y),this.pathIndexes=d(u),this.pathData=u,this}});n.exports=a},3170:(n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(65960),x=r(75177),d=r(20926),h=function(l,a,f,c){f.addToRenderList(a);var u=l.currentContext;if(d(l,u,a,f,c)){var v=a._displayOriginX+a._curveBounds.x,g=a._displayOriginY+a._curveBounds.y,m=a.pathData,y=m.length-1,C=m[0]-v,b=m[1]-g;u.beginPath(),u.moveTo(C,b),a.closePath||(y-=2);for(var M=2;M<y;M+=2){var w=m[M]-v,R=m[M+1]-g;u.lineTo(w,R)}a.closePath&&u.closePath(),a.isFilled&&(o(u,a),u.fill()),a.isStroked&&(x(u,a),u.stroke()),u.restore()}};n.exports=h},40511:(n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(39429),x=r(89);o.register("curve",function(d,h,l,a,f){return this.displayList.add(new x(this.scene,d,h,l,a,f))})},33141:(n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(29747),x=o,d=o;x=r(53987),d=r(3170),n.exports={renderWebGL:x,renderCanvas:d}},53987:(n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(10441),x=r(91296),d=r(34682),h=function(l,a,f,c){f.addToRenderList(a);var u=l.pipelines.set(a.pipeline),v=x(a,f,c),g=u.calcMatrix.copyFrom(v.calc),m=a._displayOriginX+a._curveBounds.x,y=a._displayOriginY+a._curveBounds.y,C=f.alpha*a.alpha;l.pipelines.preBatch(a),a.isFilled&&o(u,g,a,C,m,y),a.isStroked&&d(u,a,C,m,y),l.pipelines.postBatch(a)};n.exports=h},19921:(n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(83419),x=r(94811),d=r(54205),h=r(8497),l=r(17803),a=new o({Extends:l,Mixins:[d],initialize:function(c,u,v,g,m,y,C){u===void 0&&(u=0),v===void 0&&(v=0),g===void 0&&(g=128),m===void 0&&(m=128),l.call(this,c,"Ellipse",new h(g/2,m/2,g,m)),this._smoothness=64,this.setPosition(u,v),this.width=g,this.height=m,y!==void 0&&this.setFillStyle(y,C),this.updateDisplayOrigin(),this.updateData()},smoothness:{get:function(){return this._smoothness},set:function(f){this._smoothness=f,this.updateData()}},setSize:function(f,c){return this.width=f,this.height=c,this.geom.setPosition(f/2,c/2),this.geom.setSize(f,c),this.updateDisplayOrigin(),this.updateData()},setSmoothness:function(f){return this._smoothness=f,this.updateData()},updateData:function(){for(var f=[],c=this.geom.getPoints(this._smoothness),u=0;u<c.length;u++)f.push(c[u].x,c[u].y);return f.push(c[0].x,c[0].y),this.pathIndexes=x(f),this.pathData=f,this}});n.exports=a},7930:(n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(65960),x=r(75177),d=r(20926),h=function(l,a,f,c){f.addToRenderList(a);var u=l.currentContext;if(d(l,u,a,f,c)){var v=a._displayOriginX,g=a._displayOriginY,m=a.pathData,y=m.length-1,C=m[0]-v,b=m[1]-g;u.beginPath(),u.moveTo(C,b),a.closePath||(y-=2);for(var M=2;M<y;M+=2){var w=m[M]-v,R=m[M+1]-g;u.lineTo(w,R)}u.closePath(),a.isFilled&&(o(u,a),u.fill()),a.isStroked&&(x(u,a),u.stroke()),u.restore()}};n.exports=h},1543:(n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(19921),x=r(39429);x.register("ellipse",function(d,h,l,a,f,c){return this.displayList.add(new o(this.scene,d,h,l,a,f,c))})},54205:(n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(29747),x=o,d=o;x=r(19467),d=r(7930),n.exports={renderWebGL:x,renderCanvas:d}},19467:(n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(10441),x=r(91296),d=r(34682),h=function(l,a,f,c){f.addToRenderList(a);var u=l.pipelines.set(a.pipeline),v=x(a,f,c),g=u.calcMatrix.copyFrom(v.calc),m=a._displayOriginX,y=a._displayOriginY,C=f.alpha*a.alpha;l.pipelines.preBatch(a),a.isFilled&&o(u,g,a,C,m,y),a.isStroked&&d(u,a,C,m,y),l.pipelines.postBatch(a)};n.exports=h},30479:(n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(83419),x=r(17803),d=r(26015),h=new o({Extends:x,Mixins:[d],initialize:function(a,f,c,u,v,g,m,y,C,b,M){f===void 0&&(f=0),c===void 0&&(c=0),u===void 0&&(u=128),v===void 0&&(v=128),g===void 0&&(g=32),m===void 0&&(m=32),x.call(this,a,"Grid",null),this.cellWidth=g,this.cellHeight=m,this.showCells=!0,this.outlineFillColor=0,this.outlineFillAlpha=0,this.showOutline=!0,this.showAltCells=!1,this.altFillColor,this.altFillAlpha,this.setPosition(f,c),this.setSize(u,v),this.setFillStyle(y,C),b!==void 0&&this.setOutlineStyle(b,M),this.updateDisplayOrigin()},setFillStyle:function(l,a){return a===void 0&&(a=1),l===void 0?this.showCells=!1:(this.fillColor=l,this.fillAlpha=a,this.showCells=!0),this},setAltFillStyle:function(l,a){return a===void 0&&(a=1),l===void 0?this.showAltCells=!1:(this.altFillColor=l,this.altFillAlpha=a,this.showAltCells=!0),this},setOutlineStyle:function(l,a){return a===void 0&&(a=1),l===void 0?this.showOutline=!1:(this.outlineFillColor=l,this.outlineFillAlpha=a,this.showOutline=!0),this}});n.exports=h},49912:(n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(65960),x=r(75177),d=r(20926),h=function(l,a,f,c){f.addToRenderList(a);var u=l.currentContext;if(d(l,u,a,f,c)){var v=-a._displayOriginX,g=-a._displayOriginY,m=f.alpha*a.alpha,y=a.width,C=a.height,b=a.cellWidth,M=a.cellHeight,w=Math.ceil(y/b),R=Math.ceil(C/M),A=b,L=M,F=b-(w*b-y),G=M-(R*M-C),I=a.showCells,B=a.showAltCells,k=a.showOutline,U=0,H=0,X=0,j=0,J=0;if(k&&(A--,L--,F===b&&F--,G===M&&G--),I&&a.fillAlpha>0)for(o(u,a),H=0;H<R;H++)for(B&&(X=H%2),U=0;U<w;U++){if(B&&X){X=0;continue}X++,j=U<w-1?A:F,J=H<R-1?L:G,u.fillRect(v+U*b,g+H*M,j,J)}if(B&&a.altFillAlpha>0)for(o(u,a,a.altFillColor,a.altFillAlpha*m),H=0;H<R;H++)for(B&&(X=H%2),U=0;U<w;U++){if(B&&!X){X=1;continue}X=0,j=U<w-1?A:F,J=H<R-1?L:G,u.fillRect(v+U*b,g+H*M,j,J)}if(k&&a.outlineFillAlpha>0){for(x(u,a,a.outlineFillColor,a.outlineFillAlpha*m),U=1;U<w;U++){var Y=U*b;u.beginPath(),u.moveTo(Y+v,g),u.lineTo(Y+v,C+g),u.stroke()}for(H=1;H<R;H++){var $=H*M;u.beginPath(),u.moveTo(v,$+g),u.lineTo(v+y,$+g),u.stroke()}}u.restore()}};n.exports=h},34137:(n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(39429),x=r(30479);o.register("grid",function(d,h,l,a,f,c,u,v,g,m){return this.displayList.add(new x(this.scene,d,h,l,a,f,c,u,v,g,m))})},26015:(n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(29747),x=o,d=o;x=r(46161),d=r(49912),n.exports={renderWebGL:x,renderCanvas:d}},46161:(n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(91296),x=r(70554),d=function(h,l,a,f){a.addToRenderList(l);var c=h.pipelines.set(l.pipeline),u=o(l,a,f),v=c.calcMatrix.copyFrom(u.calc);v.translate(-l._displayOriginX,-l._displayOriginY);var g=a.alpha*l.alpha,m=l.width,y=l.height,C=l.cellWidth,b=l.cellHeight,M=Math.ceil(m/C),w=Math.ceil(y/b),R=C,A=b,L=C-(M*C-m),F=b-(w*b-y),G,I,B=l.showCells,k=l.showAltCells,U=l.showOutline,H=0,X=0,j=0,J=0,Y=0;if(U&&(R--,A--,L===C&&L--,F===b&&F--),h.pipelines.preBatch(l),B&&l.fillAlpha>0)for(G=c.fillTint,I=x.getTintAppendFloatAlpha(l.fillColor,l.fillAlpha*g),G.TL=I,G.TR=I,G.BL=I,G.BR=I,X=0;X<w;X++)for(k&&(j=X%2),H=0;H<M;H++){if(k&&j){j=0;continue}j++,J=H<M-1?R:L,Y=X<w-1?A:F,c.batchFillRect(H*C,X*b,J,Y)}if(k&&l.altFillAlpha>0)for(G=c.fillTint,I=x.getTintAppendFloatAlpha(l.altFillColor,l.altFillAlpha*g),G.TL=I,G.TR=I,G.BL=I,G.BR=I,X=0;X<w;X++)for(k&&(j=X%2),H=0;H<M;H++){if(k&&!j){j=1;continue}j=0,J=H<M-1?R:L,Y=X<w-1?A:F,c.batchFillRect(H*C,X*b,J,Y)}if(U&&l.outlineFillAlpha>0){var $=c.strokeTint,z=x.getTintAppendFloatAlpha(l.outlineFillColor,l.outlineFillAlpha*g);for($.TL=z,$.TR=z,$.BL=z,$.BR=z,H=1;H<M;H++){var V=H*C;c.batchLine(V,0,V,y,1,1,1,0,!1)}for(X=1;X<w;X++){var K=X*b;c.batchLine(0,K,m,K,1,1,1,0,!1)}}h.pipelines.postBatch(l)};n.exports=d},61475:(n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(99651),x=r(83419),d=r(17803),h=new x({Extends:d,Mixins:[o],initialize:function(a,f,c,u,v,g,m,y){f===void 0&&(f=0),c===void 0&&(c=0),u===void 0&&(u=48),v===void 0&&(v=32),g===void 0&&(g=15658734),m===void 0&&(m=10066329),y===void 0&&(y=13421772),d.call(this,a,"IsoBox",null),this.projection=4,this.fillTop=g,this.fillLeft=m,this.fillRight=y,this.showTop=!0,this.showLeft=!0,this.showRight=!0,this.isFilled=!0,this.setPosition(f,c),this.setSize(u,v),this.updateDisplayOrigin()},setProjection:function(l){return this.projection=l,this},setFaces:function(l,a,f){return l===void 0&&(l=!0),a===void 0&&(a=!0),f===void 0&&(f=!0),this.showTop=l,this.showLeft=a,this.showRight=f,this},setFillStyle:function(l,a,f){return this.fillTop=l,this.fillLeft=a,this.fillRight=f,this.isFilled=!0,this}});n.exports=h},11508:(n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(65960),x=r(20926),d=function(h,l,a,f){a.addToRenderList(l);var c=h.currentContext;if(x(h,c,l,a,f)&&l.isFilled){var u=l.width,v=l.height,g=u/2,m=u/l.projection;l.showTop&&(o(c,l,l.fillTop),c.beginPath(),c.moveTo(-g,-v),c.lineTo(0,-m-v),c.lineTo(g,-v),c.lineTo(g,-1),c.lineTo(0,m-1),c.lineTo(-g,-1),c.lineTo(-g,-v),c.fill()),l.showLeft&&(o(c,l,l.fillLeft),c.beginPath(),c.moveTo(-g,0),c.lineTo(0,m),c.lineTo(0,m-v),c.lineTo(-g,-v),c.lineTo(-g,0),c.fill()),l.showRight&&(o(c,l,l.fillRight),c.beginPath(),c.moveTo(g,0),c.lineTo(0,m),c.lineTo(0,m-v),c.lineTo(g,-v),c.lineTo(g,0),c.fill()),c.restore()}};n.exports=d},3933:(n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(39429),x=r(61475);o.register("isobox",function(d,h,l,a,f,c,u){return this.displayList.add(new x(this.scene,d,h,l,a,f,c,u))})},99651:(n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(29747),x=o,d=o;x=r(68149),d=r(11508),n.exports={renderWebGL:x,renderCanvas:d}},68149:(n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(91296),x=r(70554),d=function(h,l,a,f){a.addToRenderList(l);var c=h.pipelines.set(l.pipeline),u=o(l,a,f),v=c.calcMatrix.copyFrom(u.calc),g=l.width,m=l.height,y=g/2,C=g/l.projection,b=a.alpha*l.alpha;if(l.isFilled){var M,w,R,A,L,F,G,I,B;h.pipelines.preBatch(l),l.showTop&&(M=x.getTintAppendFloatAlpha(l.fillTop,b),w=v.getX(-y,-m),R=v.getY(-y,-m),A=v.getX(0,-C-m),L=v.getY(0,-C-m),F=v.getX(y,-m),G=v.getY(y,-m),I=v.getX(0,C-m),B=v.getY(0,C-m),c.batchQuad(l,w,R,A,L,F,G,I,B,0,0,1,1,M,M,M,M,2)),l.showLeft&&(M=x.getTintAppendFloatAlpha(l.fillLeft,b),w=v.getX(-y,0),R=v.getY(-y,0),A=v.getX(0,C),L=v.getY(0,C),F=v.getX(0,C-m),G=v.getY(0,C-m),I=v.getX(-y,-m),B=v.getY(-y,-m),c.batchQuad(l,w,R,A,L,F,G,I,B,0,0,1,1,M,M,M,M,2)),l.showRight&&(M=x.getTintAppendFloatAlpha(l.fillRight,b),w=v.getX(y,0),R=v.getY(y,0),A=v.getX(0,C),L=v.getY(0,C),F=v.getX(0,C-m),G=v.getY(0,C-m),I=v.getX(y,-m),B=v.getY(y,-m),c.batchQuad(l,w,R,A,L,F,G,I,B,0,0,1,1,M,M,M,M,2)),h.pipelines.postBatch(l)}};n.exports=d},16933:(n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(83419),x=r(60561),d=r(17803),h=new o({Extends:d,Mixins:[x],initialize:function(a,f,c,u,v,g,m,y,C){f===void 0&&(f=0),c===void 0&&(c=0),u===void 0&&(u=48),v===void 0&&(v=32),g===void 0&&(g=!1),m===void 0&&(m=15658734),y===void 0&&(y=10066329),C===void 0&&(C=13421772),d.call(this,a,"IsoTriangle",null),this.projection=4,this.fillTop=m,this.fillLeft=y,this.fillRight=C,this.showTop=!0,this.showLeft=!0,this.showRight=!0,this.isReversed=g,this.isFilled=!0,this.setPosition(f,c),this.setSize(u,v),this.updateDisplayOrigin()},setProjection:function(l){return this.projection=l,this},setReversed:function(l){return this.isReversed=l,this},setFaces:function(l,a,f){return l===void 0&&(l=!0),a===void 0&&(a=!0),f===void 0&&(f=!0),this.showTop=l,this.showLeft=a,this.showRight=f,this},setFillStyle:function(l,a,f){return this.fillTop=l,this.fillLeft=a,this.fillRight=f,this.isFilled=!0,this}});n.exports=h},79590:(n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(65960),x=r(20926),d=function(h,l,a,f){a.addToRenderList(l);var c=h.currentContext;if(x(h,c,l,a,f)&&l.isFilled){var u=l.width,v=l.height,g=u/2,m=u/l.projection,y=l.isReversed;l.showTop&&y&&(o(c,l,l.fillTop),c.beginPath(),c.moveTo(-g,-v),c.lineTo(0,-m-v),c.lineTo(g,-v),c.lineTo(0,m-v),c.fill()),l.showLeft&&(o(c,l,l.fillLeft),c.beginPath(),y?(c.moveTo(-g,-v),c.lineTo(0,m),c.lineTo(0,m-v)):(c.moveTo(-g,0),c.lineTo(0,m),c.lineTo(0,m-v)),c.fill()),l.showRight&&(o(c,l,l.fillRight),c.beginPath(),y?(c.moveTo(g,-v),c.lineTo(0,m),c.lineTo(0,m-v)):(c.moveTo(g,0),c.lineTo(0,m),c.lineTo(0,m-v)),c.fill()),c.restore()}};n.exports=d},49803:(n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(39429),x=r(16933);o.register("isotriangle",function(d,h,l,a,f,c,u,v){return this.displayList.add(new x(this.scene,d,h,l,a,f,c,u,v))})},60561:(n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(29747),x=o,d=o;x=r(51503),d=r(79590),n.exports={renderWebGL:x,renderCanvas:d}},51503:(n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(91296),x=r(70554),d=function(h,l,a,f){a.addToRenderList(l);var c=h.pipelines.set(l.pipeline),u=o(l,a,f),v=c.calcMatrix.copyFrom(u.calc),g=l.width,m=l.height,y=g/2,C=g/l.projection,b=l.isReversed,M=a.alpha*l.alpha;if(l.isFilled){h.pipelines.preBatch(l);var w,R,A,L,F,G,I;if(l.showTop&&b){w=x.getTintAppendFloatAlpha(l.fillTop,M),R=v.getX(-y,-m),A=v.getY(-y,-m),L=v.getX(0,-C-m),F=v.getY(0,-C-m),G=v.getX(y,-m),I=v.getY(y,-m);var B=v.getX(0,C-m),k=v.getY(0,C-m);c.batchQuad(l,R,A,L,F,G,I,B,k,0,0,1,1,w,w,w,w,2)}l.showLeft&&(w=x.getTintAppendFloatAlpha(l.fillLeft,M),b?(R=v.getX(-y,-m),A=v.getY(-y,-m),L=v.getX(0,C),F=v.getY(0,C),G=v.getX(0,C-m),I=v.getY(0,C-m)):(R=v.getX(-y,0),A=v.getY(-y,0),L=v.getX(0,C),F=v.getY(0,C),G=v.getX(0,C-m),I=v.getY(0,C-m)),c.batchTri(l,R,A,L,F,G,I,0,0,1,1,w,w,w,2)),l.showRight&&(w=x.getTintAppendFloatAlpha(l.fillRight,M),b?(R=v.getX(y,-m),A=v.getY(y,-m),L=v.getX(0,C),F=v.getY(0,C),G=v.getX(0,C-m),I=v.getY(0,C-m)):(R=v.getX(y,0),A=v.getY(y,0),L=v.getX(0,C),F=v.getY(0,C),G=v.getX(0,C-m),I=v.getY(0,C-m)),c.batchTri(l,R,A,L,F,G,I,0,0,1,1,w,w,w,2)),h.pipelines.postBatch(l)}};n.exports=d},57847:(n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(83419),x=r(17803),d=r(23031),h=r(36823),l=new o({Extends:x,Mixins:[h],initialize:function(f,c,u,v,g,m,y,C,b){c===void 0&&(c=0),u===void 0&&(u=0),v===void 0&&(v=0),g===void 0&&(g=0),m===void 0&&(m=128),y===void 0&&(y=0),x.call(this,f,"Line",new d(v,g,m,y));var M=Math.max(1,this.geom.right-this.geom.left),w=Math.max(1,this.geom.bottom-this.geom.top);this.lineWidth=1,this._startWidth=1,this._endWidth=1,this.setPosition(c,u),this.setSize(M,w),C!==void 0&&this.setStrokeStyle(1,C,b),this.updateDisplayOrigin()},setLineWidth:function(a,f){return f===void 0&&(f=a),this._startWidth=a,this._endWidth=f,this.lineWidth=a,this},setTo:function(a,f,c,u){return this.geom.setTo(a,f,c,u),this}});n.exports=l},17440:(n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(75177),x=r(20926),d=function(h,l,a,f){a.addToRenderList(l);var c=h.currentContext;if(x(h,c,l,a,f)){var u=l._displayOriginX,v=l._displayOriginY;l.isStroked&&(o(c,l),c.beginPath(),c.moveTo(l.geom.x1-u,l.geom.y1-v),c.lineTo(l.geom.x2-u,l.geom.y2-v),c.stroke()),c.restore()}};n.exports=d},2481:(n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(39429),x=r(57847);o.register("line",function(d,h,l,a,f,c,u,v){return this.displayList.add(new x(this.scene,d,h,l,a,f,c,u,v))})},36823:(n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(29747),x=o,d=o;x=r(77385),d=r(17440),n.exports={renderWebGL:x,renderCanvas:d}},77385:(n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(91296),x=r(70554),d=function(h,l,a,f){a.addToRenderList(l);var c=h.pipelines.set(l.pipeline),u=o(l,a,f);c.calcMatrix.copyFrom(u.calc);var v=l._displayOriginX,g=l._displayOriginY,m=a.alpha*l.alpha;if(h.pipelines.preBatch(l),l.isStroked){var y=c.strokeTint,C=x.getTintAppendFloatAlpha(l.strokeColor,l.strokeAlpha*m);y.TL=C,y.TR=C,y.BL=C,y.BR=C,c.batchLine(l.geom.x1-v,l.geom.y1-g,l.geom.x2-v,l.geom.y2-g,l._startWidth/2,l._endWidth/2,1,0,!1,u.sprite,u.camera)}h.pipelines.postBatch(l)};n.exports=d},24949:(n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(90273),x=r(83419),d=r(94811),h=r(13829),l=r(25717),a=r(17803),f=r(5469),c=new x({Extends:a,Mixins:[o],initialize:function(v,g,m,y,C,b){g===void 0&&(g=0),m===void 0&&(m=0),a.call(this,v,"Polygon",new l(y));var M=h(this.geom);this.setPosition(g,m),this.setSize(M.width,M.height),C!==void 0&&this.setFillStyle(C,b),this.updateDisplayOrigin(),this.updateData()},smooth:function(u){u===void 0&&(u=1);for(var v=0;v<u;v++)f(this.geom);return this.updateData()},setTo:function(u){this.geom.setTo(u);var v=h(this.geom);return this.setSize(v.width,v.height),this.updateDisplayOrigin(),this.updateData()},updateData:function(){for(var u=[],v=this.geom.points,g=0;g<v.length;g++)u.push(v[g].x,v[g].y);return u.push(v[0].x,v[0].y),this.pathIndexes=d(u),this.pathData=u,this}});n.exports=c},38710:(n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(65960),x=r(75177),d=r(20926),h=function(l,a,f,c){f.addToRenderList(a);var u=l.currentContext;if(d(l,u,a,f,c)){var v=a._displayOriginX,g=a._displayOriginY,m=a.pathData,y=m.length-1,C=m[0]-v,b=m[1]-g;u.beginPath(),u.moveTo(C,b),a.closePath||(y-=2);for(var M=2;M<y;M+=2){var w=m[M]-v,R=m[M+1]-g;u.lineTo(w,R)}a.closePath&&u.closePath(),a.isFilled&&(o(u,a),u.fill()),a.isStroked&&(x(u,a),u.stroke()),u.restore()}};n.exports=h},64827:(n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(39429),x=r(24949);o.register("polygon",function(d,h,l,a,f){return this.displayList.add(new x(this.scene,d,h,l,a,f))})},90273:(n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(29747),x=o,d=o;x=r(73695),d=r(38710),n.exports={renderWebGL:x,renderCanvas:d}},73695:(n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(10441),x=r(91296),d=r(34682),h=function(l,a,f,c){f.addToRenderList(a);var u=l.pipelines.set(a.pipeline),v=x(a,f,c),g=u.calcMatrix.copyFrom(v.calc),m=a._displayOriginX,y=a._displayOriginY,C=f.alpha*a.alpha;l.pipelines.preBatch(a),a.isFilled&&o(u,g,a,C,m,y),a.isStroked&&d(u,a,C,m,y),l.pipelines.postBatch(a)};n.exports=h},74561:(n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(83419),x=r(87841),d=r(17803),h=r(95597),l=new o({Extends:d,Mixins:[h],initialize:function(f,c,u,v,g,m,y){c===void 0&&(c=0),u===void 0&&(u=0),v===void 0&&(v=128),g===void 0&&(g=128),d.call(this,f,"Rectangle",new x(0,0,v,g)),this.setPosition(c,u),this.setSize(v,g),m!==void 0&&this.setFillStyle(m,y),this.updateDisplayOrigin(),this.updateData()},setSize:function(a,f){this.width=a,this.height=f,this.geom.setSize(a,f),this.updateData(),this.updateDisplayOrigin();var c=this.input;return c&&!c.customHitArea&&(c.hitArea.width=a,c.hitArea.height=f),this},updateData:function(){var a=[],f=this.geom,c=this._tempLine;return f.getLineA(c),a.push(c.x1,c.y1,c.x2,c.y2),f.getLineB(c),a.push(c.x2,c.y2),f.getLineC(c),a.push(c.x2,c.y2),f.getLineD(c),a.push(c.x2,c.y2),this.pathData=a,this}});n.exports=l},48682:(n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(65960),x=r(75177),d=r(20926),h=function(l,a,f,c){f.addToRenderList(a);var u=l.currentContext;if(d(l,u,a,f,c)){var v=a._displayOriginX,g=a._displayOriginY;a.isFilled&&(o(u,a),u.fillRect(-v,-g,a.width,a.height)),a.isStroked&&(x(u,a),u.beginPath(),u.rect(-v,-g,a.width,a.height),u.stroke()),u.restore()}};n.exports=h},87959:(n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(39429),x=r(74561);o.register("rectangle",function(d,h,l,a,f,c){return this.displayList.add(new x(this.scene,d,h,l,a,f,c))})},95597:(n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(29747),x=o,d=o;x=r(52059),d=r(48682),n.exports={renderWebGL:x,renderCanvas:d}},52059:(n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(91296),x=r(34682),d=r(70554),h=function(l,a,f,c){f.addToRenderList(a);var u=l.pipelines.set(a.pipeline),v=o(a,f,c);u.calcMatrix.copyFrom(v.calc);var g=a._displayOriginX,m=a._displayOriginY,y=f.alpha*a.alpha;if(l.pipelines.preBatch(a),a.isFilled){var C=u.fillTint,b=d.getTintAppendFloatAlpha(a.fillColor,a.fillAlpha*y);C.TL=b,C.TR=b,C.BL=b,C.BR=b,u.batchFillRect(-g,-m,a.width,a.height)}a.isStroked&&x(u,a,y,g,m),l.pipelines.postBatch(a)};n.exports=h},55911:(n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(81991),x=r(83419),d=r(94811),h=r(17803),l=new x({Extends:h,Mixins:[o],initialize:function(f,c,u,v,g,m,y,C){c===void 0&&(c=0),u===void 0&&(u=0),v===void 0&&(v=5),g===void 0&&(g=32),m===void 0&&(m=64),h.call(this,f,"Star",null),this._points=v,this._innerRadius=g,this._outerRadius=m,this.setPosition(c,u),this.setSize(m*2,m*2),y!==void 0&&this.setFillStyle(y,C),this.updateDisplayOrigin(),this.updateData()},setPoints:function(a){return this._points=a,this.updateData()},setInnerRadius:function(a){return this._innerRadius=a,this.updateData()},setOuterRadius:function(a){return this._outerRadius=a,this.updateData()},points:{get:function(){return this._points},set:function(a){this._points=a,this.updateData()}},innerRadius:{get:function(){return this._innerRadius},set:function(a){this._innerRadius=a,this.updateData()}},outerRadius:{get:function(){return this._outerRadius},set:function(a){this._outerRadius=a,this.updateData()}},updateData:function(){var a=[],f=this._points,c=this._innerRadius,u=this._outerRadius,v=Math.PI/2*3,g=Math.PI/f,m=u,y=u;a.push(m,y+-u);for(var C=0;C<f;C++)a.push(m+Math.cos(v)*u,y+Math.sin(v)*u),v+=g,a.push(m+Math.cos(v)*c,y+Math.sin(v)*c),v+=g;return a.push(m,y+-u),this.pathIndexes=d(a),this.pathData=a,this}});n.exports=l},64272:(n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(65960),x=r(75177),d=r(20926),h=function(l,a,f,c){f.addToRenderList(a);var u=l.currentContext;if(d(l,u,a,f,c)){var v=a._displayOriginX,g=a._displayOriginY,m=a.pathData,y=m.length-1,C=m[0]-v,b=m[1]-g;u.beginPath(),u.moveTo(C,b),a.closePath||(y-=2);for(var M=2;M<y;M+=2){var w=m[M]-v,R=m[M+1]-g;u.lineTo(w,R)}u.closePath(),a.isFilled&&(o(u,a),u.fill()),a.isStroked&&(x(u,a),u.stroke()),u.restore()}};n.exports=h},93697:(n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(55911),x=r(39429);x.register("star",function(d,h,l,a,f,c,u){return this.displayList.add(new o(this.scene,d,h,l,a,f,c,u))})},81991:(n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(29747),x=o,d=o;x=r(57017),d=r(64272),n.exports={renderWebGL:x,renderCanvas:d}},57017:(n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(10441),x=r(91296),d=r(34682),h=function(l,a,f,c){f.addToRenderList(a);var u=l.pipelines.set(a.pipeline),v=x(a,f,c),g=u.calcMatrix.copyFrom(v.calc),m=a._displayOriginX,y=a._displayOriginY,C=f.alpha*a.alpha;l.pipelines.preBatch(a),a.isFilled&&o(u,g,a,C,m,y),a.isStroked&&d(u,a,C,m,y),l.pipelines.postBatch(a)};n.exports=h},36931:(n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(83419),x=r(17803),d=r(16483),h=r(96195),l=new o({Extends:x,Mixins:[h],initialize:function(f,c,u,v,g,m,y,C,b,M,w){c===void 0&&(c=0),u===void 0&&(u=0),v===void 0&&(v=0),g===void 0&&(g=128),m===void 0&&(m=64),y===void 0&&(y=0),C===void 0&&(C=128),b===void 0&&(b=128),x.call(this,f,"Triangle",new d(v,g,m,y,C,b));var R=this.geom.right-this.geom.left,A=this.geom.bottom-this.geom.top;this.setPosition(c,u),this.setSize(R,A),M!==void 0&&this.setFillStyle(M,w),this.updateDisplayOrigin(),this.updateData()},setTo:function(a,f,c,u,v,g){return this.geom.setTo(a,f,c,u,v,g),this.updateData()},updateData:function(){var a=[],f=this.geom,c=this._tempLine;return f.getLineA(c),a.push(c.x1,c.y1,c.x2,c.y2),f.getLineB(c),a.push(c.x2,c.y2),f.getLineC(c),a.push(c.x2,c.y2),this.pathData=a,this}});n.exports=l},85172:(n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(65960),x=r(75177),d=r(20926),h=function(l,a,f,c){f.addToRenderList(a);var u=l.currentContext;if(d(l,u,a,f,c)){var v=a._displayOriginX,g=a._displayOriginY,m=a.geom.x1-v,y=a.geom.y1-g,C=a.geom.x2-v,b=a.geom.y2-g,M=a.geom.x3-v,w=a.geom.y3-g;u.beginPath(),u.moveTo(m,y),u.lineTo(C,b),u.lineTo(M,w),u.closePath(),a.isFilled&&(o(u,a),u.fill()),a.isStroked&&(x(u,a),u.stroke()),u.restore()}};n.exports=h},45245:(n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(39429),x=r(36931);o.register("triangle",function(d,h,l,a,f,c,u,v,g,m){return this.displayList.add(new x(this.scene,d,h,l,a,f,c,u,v,g,m))})},96195:(n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(29747),x=o,d=o;x=r(83253),d=r(85172),n.exports={renderWebGL:x,renderCanvas:d}},83253:(n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(91296),x=r(34682),d=r(70554),h=function(l,a,f,c){f.addToRenderList(a);var u=l.pipelines.set(a.pipeline),v=o(a,f,c);u.calcMatrix.copyFrom(v.calc);var g=a._displayOriginX,m=a._displayOriginY,y=f.alpha*a.alpha;if(l.pipelines.preBatch(a),a.isFilled){var C=u.fillTint,b=d.getTintAppendFloatAlpha(a.fillColor,a.fillAlpha*y);C.TL=b,C.TR=b,C.BL=b,C.BR=b;var M=a.geom.x1-g,w=a.geom.y1-m,R=a.geom.x2-g,A=a.geom.y2-m,L=a.geom.x3-g,F=a.geom.y3-m;u.batchFillTriangle(M,w,R,A,L,F,v.sprite,v.camera)}a.isStroked&&x(u,a,y,g,m),l.pipelines.postBatch(a)};n.exports=h},68287:(n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(9674),x=r(83419),d=r(31401),h=r(95643),l=r(92751),a=new x({Extends:h,Mixins:[d.Alpha,d.BlendMode,d.Depth,d.Flip,d.GetBounds,d.Mask,d.Origin,d.Pipeline,d.PostPipeline,d.ScrollFactor,d.Size,d.TextureCrop,d.Tint,d.Transform,d.Visible,l],initialize:function(c,u,v,g,m){h.call(this,c,"Sprite"),this._crop=this.resetCropObject(),this.anims=new o(this),this.setTexture(g,m),this.setPosition(u,v),this.setSizeToFrame(),this.setOriginFromFrame(),this.initPipeline(),this.initPostPipeline(!0)},addedToScene:function(){this.scene.sys.updateList.add(this)},removedFromScene:function(){this.scene.sys.updateList.remove(this)},preUpdate:function(f,c){this.anims.update(f,c)},play:function(f,c){return this.anims.play(f,c)},playReverse:function(f,c){return this.anims.playReverse(f,c)},playAfterDelay:function(f,c){return this.anims.playAfterDelay(f,c)},playAfterRepeat:function(f,c){return this.anims.playAfterRepeat(f,c)},chain:function(f){return this.anims.chain(f)},stop:function(){return this.anims.stop()},stopAfterDelay:function(f){return this.anims.stopAfterDelay(f)},stopAfterRepeat:function(f){return this.anims.stopAfterRepeat(f)},stopOnFrame:function(f){return this.anims.stopOnFrame(f)},toJSON:function(){return d.ToJSON(this)},preDestroy:function(){this.anims.destroy(),this.anims=void 0}});n.exports=a},76552:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(r,o,x,d){x.addToRenderList(o),r.batchSprite(o,o.frame,x,d)};n.exports=T},15567:(n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(25305),x=r(13059),d=r(44603),h=r(23568),l=r(68287);d.register("sprite",function(a,f){a===void 0&&(a={});var c=h(a,"key",null),u=h(a,"frame",null),v=new l(this.scene,0,0,c,u);return f!==void 0&&(a.add=f),o(this.scene,v,a),x(v,a),v})},46409:(n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(39429),x=r(68287);o.register("sprite",function(d,h,l,a){return this.displayList.add(new x(this.scene,d,h,l,a))})},92751:(n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(29747),x=o,d=o;x=r(9409),d=r(76552),n.exports={renderWebGL:x,renderCanvas:d}},9409:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(r,o,x,d){x.addToRenderList(o),o.pipeline.batchSprite(o,x,d)};n.exports=T},14220:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(r,o,x){var d=r.canvas,h=r.context,l=r.style,a=[],f=0,c=x.length;l.maxLines>0&&l.maxLines<x.length&&(c=l.maxLines),l.syncFont(d,h);for(var u=r.letterSpacing,v=0;v<c;v++){var g=l.strokeThickness;if(u===0)g+=h.measureText(x[v]).width;else{for(var m=x[v],y=0;y<m.length;y++)g+=h.measureText(m[y]).width;m.length>1&&(g+=u*(m.length-1))}l.wordWrap&&(g-=h.measureText(" ").width),a[v]=Math.ceil(g),f=Math.max(f,a[v])}var C=o.fontSize+l.strokeThickness,b=C*c,M=r.lineSpacing;return c>1&&(b+=M*(c-1)),{width:f,height:b,lines:c,lineWidths:a,lineSpacing:M,lineHeight:C}};n.exports=T},79557:(n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(27919),x=function(d){var h=o.create(this),l=h.getContext("2d",{willReadFrequently:!0});d.syncFont(h,l);var a=l.measureText(d.testString);if("actualBoundingBoxAscent"in a){var f=a.actualBoundingBoxAscent,c=a.actualBoundingBoxDescent;return o.remove(h),{ascent:f,descent:c,fontSize:f+c}}var u=Math.ceil(a.width*d.baselineX),v=u,g=2*v;v=v*d.baselineY|0,h.width=u,h.height=g,l.fillStyle="#f00",l.fillRect(0,0,u,g),l.font=d._font,l.textBaseline="alphabetic",l.fillStyle="#000",l.fillText(d.testString,0,v);var m={ascent:0,descent:0,fontSize:0},y=l.getImageData(0,0,u,g);if(!y)return m.ascent=v,m.descent=v+6,m.fontSize=m.ascent+m.descent,o.remove(h),m;var C=y.data,b=C.length,M=u*4,w,R,A=0,L=!1;for(w=0;w<v;w++){for(R=0;R<M;R+=4)if(C[A+R]!==255){L=!0;break}if(!L)A+=M;else break}for(m.ascent=v-w,A=b-M,L=!1,w=g;w>v;w--){for(R=0;R<M;R+=4)if(C[A+R]!==255){L=!0;break}if(!L)A-=M;else break}return m.descent=w-v,m.fontSize=m.ascent+m.descent,o.remove(h),m};n.exports=x},50171:(n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(40366),x=r(27919),d=r(83419),h=r(31401),l=r(95643),a=r(14220),f=r(35154),c=r(35846),u=r(61771),v=r(35762),g=r(45650),m=new d({Extends:l,Mixins:[h.Alpha,h.BlendMode,h.ComputedSize,h.Crop,h.Depth,h.Flip,h.GetBounds,h.Mask,h.Origin,h.Pipeline,h.PostPipeline,h.ScrollFactor,h.Tint,h.Transform,h.Visible,u],initialize:function(C,b,M,w,R){b===void 0&&(b=0),M===void 0&&(M=0),l.call(this,C,"Text"),this.renderer=C.sys.renderer,this.setPosition(b,M),this.setOrigin(0,0),this.initPipeline(),this.initPostPipeline(!0),this.canvas=x.create(this),this.context,this.style=new v(this,R),this.autoRound=!0,this.splitRegExp=/(?:\r\n|\r|\n)/,this._text=void 0,this.padding={left:0,right:0,top:0,bottom:0},this.width=1,this.height=1,this.lineSpacing=0,this.letterSpacing=0,this.style.resolution===0&&(this.style.resolution=1),this._crop=this.resetCropObject(),this._textureKey=g(),this.texture=C.sys.textures.addCanvas(this._textureKey,this.canvas),this.context=this.texture.context,this.frame=this.texture.get(),this.frame.source.resolution=this.style.resolution,this.renderer&&this.renderer.gl&&(this.renderer.deleteTexture(this.frame.source.glTexture),this.frame.source.glTexture=null),this.initRTL(),this.setText(w),R&&R.padding&&this.setPadding(R.padding),R&&R.lineSpacing&&this.setLineSpacing(R.lineSpacing),R&&R.letterSpacing&&this.setLetterSpacing(R.letterSpacing)},initRTL:function(){this.style.rtl&&(this.canvas.dir="rtl",this.context.direction="rtl",this.canvas.style.display="none",o(this.canvas,this.scene.sys.canvas),this.originX=1)},runWordWrap:function(y){var C=this.style;if(C.wordWrapCallback){var b=C.wordWrapCallback.call(C.wordWrapCallbackScope,y,this);return Array.isArray(b)&&(b=b.join(`
`)),b}else return C.wordWrapWidth?C.wordWrapUseAdvanced?this.advancedWordWrap(y,this.context,this.style.wordWrapWidth):this.basicWordWrap(y,this.context,this.style.wordWrapWidth):y},advancedWordWrap:function(y,C,b){for(var M="",w=y.replace(/ +/gi," ").split(this.splitRegExp),R=w.length,A=0;A<R;A++){var L=w[A],F="";L=L.replace(/^ *|\s*$/gi,"");var G=L.length*this.letterSpacing,I=C.measureText(L).width+G;if(I<b){M+=L+`
`;continue}for(var B=b,k=L.split(" "),U=0;U<k.length;U++){var H=k[U],X=H+" ",j=X.length*this.letterSpacing,J=C.measureText(X).width+j;if(console.log(k.length,H),J>B){if(U===0){for(var Y=X;Y.length;){Y=Y.slice(0,-1);var $=Y.length*this.letterSpacing;if(J=C.measureText(Y).width+$,J<=B)break}if(!Y.length)throw new Error("wordWrapWidth < a single character");var z=H.substr(Y.length);k[U]=z,F+=Y}var V=k[U].length?U:U+1,K=k.slice(V).join(" ").replace(/[ \n]*$/gi,"");w.splice(A+1,0,K),R=w.length;break}else F+=X,B-=J}M+=F.replace(/[ \n]*$/gi,"")+`
`}return M=M.replace(/[\s|\n]*$/gi,""),M},basicWordWrap:function(y,C,b){for(var M="",w=y.split(this.splitRegExp),R=w.length-1,A=C.measureText(" ").width,L=0;L<=R;L++){for(var F=b,G=w[L].split(" "),I=G.length-1,B=0;B<=I;B++){var k=G[B],U=k.length*this.letterSpacing,H=C.measureText(k).width+U,X=H;B<I&&(X+=A),X>F&&B>0&&(M+=`
`,F=b),M+=k,B<I?(M+=" ",F-=X):F-=H}L<R&&(M+=`
`)}return M},getWrappedText:function(y){y===void 0&&(y=this._text),this.style.syncFont(this.canvas,this.context);var C=this.runWordWrap(y);return C.split(this.splitRegExp)},setText:function(y){return!y&&y!==0&&(y=""),Array.isArray(y)&&(y=y.join(`
`)),y!==this._text&&(this._text=y.toString(),this.updateText()),this},appendText:function(y,C){C===void 0&&(C=!0),!y&&y!==0&&(y=""),Array.isArray(y)&&(y=y.join(`
`)),y=y.toString();var b=this._text.concat(C?`
`+y:y);return b!==this._text&&(this._text=b,this.updateText()),this},setStyle:function(y){return this.style.setStyle(y)},setFont:function(y){return this.style.setFont(y)},setFontFamily:function(y){return this.style.setFontFamily(y)},setFontSize:function(y){return this.style.setFontSize(y)},setFontStyle:function(y){return this.style.setFontStyle(y)},setFixedSize:function(y,C){return this.style.setFixedSize(y,C)},setBackgroundColor:function(y){return this.style.setBackgroundColor(y)},setFill:function(y){return this.style.setFill(y)},setColor:function(y){return this.style.setColor(y)},setStroke:function(y,C){return this.style.setStroke(y,C)},setShadow:function(y,C,b,M,w,R){return this.style.setShadow(y,C,b,M,w,R)},setShadowOffset:function(y,C){return this.style.setShadowOffset(y,C)},setShadowColor:function(y){return this.style.setShadowColor(y)},setShadowBlur:function(y){return this.style.setShadowBlur(y)},setShadowStroke:function(y){return this.style.setShadowStroke(y)},setShadowFill:function(y){return this.style.setShadowFill(y)},setWordWrapWidth:function(y,C){return this.style.setWordWrapWidth(y,C)},setWordWrapCallback:function(y,C){return this.style.setWordWrapCallback(y,C)},setAlign:function(y){return this.style.setAlign(y)},setResolution:function(y){return this.style.setResolution(y)},setLineSpacing:function(y){return this.lineSpacing=y,this.updateText()},setLetterSpacing:function(y){return this.letterSpacing=y,this.updateText()},setPadding:function(y,C,b,M){if(typeof y=="object"){var w=y,R=f(w,"x",null);R!==null?(y=R,b=R):(y=f(w,"left",0),b=f(w,"right",y));var A=f(w,"y",null);A!==null?(C=A,M=A):(C=f(w,"top",0),M=f(w,"bottom",C))}else y===void 0&&(y=0),C===void 0&&(C=y),b===void 0&&(b=y),M===void 0&&(M=C);return this.padding.left=y,this.padding.top=C,this.padding.right=b,this.padding.bottom=M,this.updateText()},setMaxLines:function(y){return this.style.setMaxLines(y)},setRTL:function(y){y===void 0&&(y=!0);var C=this.style;return C.rtl===y?this:(C.rtl=y,y?(this.canvas.dir="rtl",this.context.direction="rtl",this.canvas.style.display="none",o(this.canvas,this.scene.sys.canvas)):(this.canvas.dir="ltr",this.context.direction="ltr"),C.align==="left"?C.align="right":C.align==="right"&&(C.align="left"),this)},updateText:function(){var y=this.canvas,C=this.context,b=this.style,M=b.resolution,w=b.metrics;b.syncFont(y,C);var R=this._text;(b.wordWrapWidth||b.wordWrapCallback)&&(R=this.runWordWrap(this._text));var A=R.split(this.splitRegExp),L=a(this,w,A),F=this.padding,G;b.fixedWidth===0?(this.width=L.width+F.left+F.right,G=L.width):(this.width=b.fixedWidth,G=this.width-F.left-F.right,G<L.width&&(G=L.width)),b.fixedHeight===0?this.height=L.height+F.top+F.bottom:this.height=b.fixedHeight;var I=this.width,B=this.height;this.updateDisplayOrigin(),I*=M,B*=M,I=Math.max(I,1),B=Math.max(B,1),y.width!==I||y.height!==B?(y.width=I,y.height=B,this.frame.setSize(I,B),b.syncFont(y,C),b.rtl&&(C.direction="rtl")):C.clearRect(0,0,I,B),C.save(),C.scale(M,M),b.backgroundColor&&(C.fillStyle=b.backgroundColor,C.fillRect(0,0,I,B)),b.syncStyle(y,C),C.translate(F.left,F.top);for(var k,U,H=0;H<L.lines;H++){if(k=b.strokeThickness/2,U=b.strokeThickness/2+H*L.lineHeight+w.ascent,H>0&&(U+=L.lineSpacing*H),b.rtl)k=I-k-F.left-F.right;else if(b.align==="right")k+=G-L.lineWidths[H];else if(b.align==="center")k+=(G-L.lineWidths[H])/2;else if(b.align==="justify"){var X=.85;if(L.lineWidths[H]/L.width>=X){var j=L.width-L.lineWidths[H],J=C.measureText(" ").width,Y=A[H].trim(),$=Y.split(" ");j+=(A[H].length-Y.length)*J;for(var z=Math.floor(j/J),V=0;z>0;)$[V]+=" ",V=(V+1)%($.length-1||1),--z;A[H]=$.join(" ")}}this.autoRound&&(k=Math.round(k),U=Math.round(U));var K=this.letterSpacing;if(b.strokeThickness&&K===0&&(b.syncShadow(C,b.shadowStroke),C.strokeText(A[H],k,U)),b.color)if(b.syncShadow(C,b.shadowFill),K!==0)for(var Q=0,_=A[H].split(""),tt=0;tt<_.length;tt++)b.strokeThickness&&(b.syncShadow(C,b.shadowStroke),C.strokeText(_[tt],k+Q,U),b.syncShadow(C,b.shadowFill)),C.fillText(_[tt],k+Q,U),Q+=C.measureText(_[tt]).width+K;else C.fillText(A[H],k,U)}C.restore(),this.renderer&&this.renderer.gl&&(this.frame.source.glTexture=this.renderer.canvasToTexture(y,this.frame.source.glTexture,!0));var rt=this.input;return rt&&!rt.customHitArea&&(rt.hitArea.width=this.width,rt.hitArea.height=this.height),this},getTextMetrics:function(){return this.style.getTextMetrics()},text:{get:function(){return this._text},set:function(y){this.setText(y)}},toJSON:function(){var y=h.ToJSON(this),C={autoRound:this.autoRound,text:this._text,style:this.style.toJSON(),padding:{left:this.padding.left,right:this.padding.right,top:this.padding.top,bottom:this.padding.bottom}};return y.data=C,y},preDestroy:function(){c(this.canvas),x.remove(this.canvas);var y=this.texture;y&&y.destroy()}});n.exports=m},79724:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(r,o,x,d){o.width===0||o.height===0||(x.addToRenderList(o),r.batchSprite(o,o.frame,x,d))};n.exports=T},71259:(n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(25305),x=r(44603),d=r(23568),h=r(50171);x.register("text",function(l,a){l===void 0&&(l={});var f=d(l,"text",""),c=d(l,"style",null),u=d(l,"padding",null);u!==null&&(c.padding=u);var v=new h(this.scene,0,0,f,c);return a!==void 0&&(l.add=a),o(this.scene,v,l),v.autoRound=d(l,"autoRound",!0),v.resolution=d(l,"resolution",1),v})},68005:(n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(50171),x=r(39429);x.register("text",function(d,h,l,a){return this.displayList.add(new o(this.scene,d,h,l,a))})},61771:(n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(29747),x=o,d=o;x=r(34397),d=r(79724),n.exports={renderWebGL:x,renderCanvas:d}},35762:(n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(83419),x=r(23568),d=r(35154),h=r(79557),l={fontFamily:["fontFamily","Courier"],fontSize:["fontSize","16px"],fontStyle:["fontStyle",""],backgroundColor:["backgroundColor",null],color:["color","#fff"],stroke:["stroke","#fff"],strokeThickness:["strokeThickness",0],shadowOffsetX:["shadow.offsetX",0],shadowOffsetY:["shadow.offsetY",0],shadowColor:["shadow.color","#000"],shadowBlur:["shadow.blur",0],shadowStroke:["shadow.stroke",!1],shadowFill:["shadow.fill",!1],align:["align","left"],maxLines:["maxLines",0],fixedWidth:["fixedWidth",0],fixedHeight:["fixedHeight",0],resolution:["resolution",0],rtl:["rtl",!1],testString:["testString","|MÃ‰qgy"],baselineX:["baselineX",1.2],baselineY:["baselineY",1.4],wordWrapWidth:["wordWrap.width",null],wordWrapCallback:["wordWrap.callback",null],wordWrapCallbackScope:["wordWrap.callbackScope",null],wordWrapUseAdvanced:["wordWrap.useAdvancedWrap",!1]},a=new o({initialize:function(c,u){this.parent=c,this.fontFamily,this.fontSize,this.fontStyle,this.backgroundColor,this.color,this.stroke,this.strokeThickness,this.shadowOffsetX,this.shadowOffsetY,this.shadowColor,this.shadowBlur,this.shadowStroke,this.shadowFill,this.align,this.maxLines,this.fixedWidth,this.fixedHeight,this.resolution,this.rtl,this.testString,this.baselineX,this.baselineY,this.wordWrapWidth,this.wordWrapCallback,this.wordWrapCallbackScope,this.wordWrapUseAdvanced,this._font,this.setStyle(u,!1,!0)},setStyle:function(f,c,u){c===void 0&&(c=!0),u===void 0&&(u=!1);for(var v in l){var g=u?l[v][1]:this[v];v==="wordWrapCallback"||v==="wordWrapCallbackScope"?this[v]=d(f,l[v][0],g):f&&v==="fontSize"&&typeof f.fontSize=="number"?this[v]=f.fontSize.toString()+"px":this[v]=x(f,l[v][0],g)}var m=d(f,"font",null);m!==null&&this.setFont(m,!1),this._font=[this.fontStyle,this.fontSize,this.fontFamily].join(" ").trim();var y=d(f,"fill",null);y!==null&&(this.color=y);var C=d(f,"metrics",!1);return C?this.metrics={ascent:d(C,"ascent",0),descent:d(C,"descent",0),fontSize:d(C,"fontSize",0)}:(c||!this.metrics)&&(this.metrics=h(this)),c?this.parent.updateText():this.parent},syncFont:function(f,c){c.font=this._font},syncStyle:function(f,c){c.textBaseline="alphabetic",c.fillStyle=this.color,c.strokeStyle=this.stroke,c.lineWidth=this.strokeThickness,c.lineCap="round",c.lineJoin="round"},syncShadow:function(f,c){c?(f.shadowOffsetX=this.shadowOffsetX,f.shadowOffsetY=this.shadowOffsetY,f.shadowColor=this.shadowColor,f.shadowBlur=this.shadowBlur):(f.shadowOffsetX=0,f.shadowOffsetY=0,f.shadowColor=0,f.shadowBlur=0)},update:function(f){return f&&(this._font=[this.fontStyle,this.fontSize,this.fontFamily].join(" ").trim(),this.metrics=h(this)),this.parent.updateText()},setFont:function(f,c){c===void 0&&(c=!0);var u=f,v="",g="";if(typeof f!="string")u=d(f,"fontFamily","Courier"),v=d(f,"fontSize","16px"),g=d(f,"fontStyle","");else{var m=f.split(" "),y=0;g=m.length>2?m[y++]:"",v=m[y++]||"16px",u=m[y++]||"Courier"}return(u!==this.fontFamily||v!==this.fontSize||g!==this.fontStyle)&&(this.fontFamily=u,this.fontSize=v,this.fontStyle=g,c&&this.update(!0)),this.parent},setFontFamily:function(f){return this.fontFamily!==f&&(this.fontFamily=f,this.update(!0)),this.parent},setFontStyle:function(f){return this.fontStyle!==f&&(this.fontStyle=f,this.update(!0)),this.parent},setFontSize:function(f){return typeof f=="number"&&(f=f.toString()+"px"),this.fontSize!==f&&(this.fontSize=f,this.update(!0)),this.parent},setTestString:function(f){return this.testString=f,this.update(!0)},setFixedSize:function(f,c){return this.fixedWidth=f,this.fixedHeight=c,f&&(this.parent.width=f),c&&(this.parent.height=c),this.update(!1)},setBackgroundColor:function(f){return this.backgroundColor=f,this.update(!1)},setFill:function(f){return this.color=f,this.update(!1)},setColor:function(f){return this.color=f,this.update(!1)},setResolution:function(f){return this.resolution=f,this.update(!1)},setStroke:function(f,c){return c===void 0&&(c=this.strokeThickness),f===void 0&&this.strokeThickness!==0?(this.strokeThickness=0,this.update(!0)):(this.stroke!==f||this.strokeThickness!==c)&&(this.stroke=f,this.strokeThickness=c,this.update(!0)),this.parent},setShadow:function(f,c,u,v,g,m){return f===void 0&&(f=0),c===void 0&&(c=0),u===void 0&&(u="#000"),v===void 0&&(v=0),g===void 0&&(g=!1),m===void 0&&(m=!0),this.shadowOffsetX=f,this.shadowOffsetY=c,this.shadowColor=u,this.shadowBlur=v,this.shadowStroke=g,this.shadowFill=m,this.update(!1)},setShadowOffset:function(f,c){return f===void 0&&(f=0),c===void 0&&(c=f),this.shadowOffsetX=f,this.shadowOffsetY=c,this.update(!1)},setShadowColor:function(f){return f===void 0&&(f="#000"),this.shadowColor=f,this.update(!1)},setShadowBlur:function(f){return f===void 0&&(f=0),this.shadowBlur=f,this.update(!1)},setShadowStroke:function(f){return this.shadowStroke=f,this.update(!1)},setShadowFill:function(f){return this.shadowFill=f,this.update(!1)},setWordWrapWidth:function(f,c){return c===void 0&&(c=!1),this.wordWrapWidth=f,this.wordWrapUseAdvanced=c,this.update(!1)},setWordWrapCallback:function(f,c){return c===void 0&&(c=null),this.wordWrapCallback=f,this.wordWrapCallbackScope=c,this.update(!1)},setAlign:function(f){return f===void 0&&(f="left"),this.align=f,this.update(!1)},setMaxLines:function(f){return f===void 0&&(f=0),this.maxLines=f,this.update(!1)},getTextMetrics:function(){var f=this.metrics;return{ascent:f.ascent,descent:f.descent,fontSize:f.fontSize}},toJSON:function(){var f={};for(var c in l)f[c]=this[c];return f.metrics=this.getTextMetrics(),f},destroy:function(){this.parent=void 0}});n.exports=a},34397:(n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(70554),x=function(d,h,l,a){if(!(h.width===0||h.height===0)){l.addToRenderList(h);var f=h.frame,c=f.width,u=f.height,v=o.getTintAppendFloatAlpha,g=d.pipelines.set(h.pipeline,h),m=g.setTexture2D(f.glTexture,h);g.batchTexture(h,f.glTexture,c,u,h.x,h.y,c/h.style.resolution,u/h.style.resolution,h.scaleX,h.scaleY,h.rotation,h.flipX,h.flipY,h.scrollFactorX,h.scrollFactorY,h.displayOriginX,h.displayOriginY,0,0,c,u,v(h.tintTopLeft,l.alpha*h._alphaTL),v(h.tintTopRight,l.alpha*h._alphaTR),v(h.tintBottomLeft,l.alpha*h._alphaBL),v(h.tintBottomRight,l.alpha*h._alphaBR),h.tintFill,0,0,l,a,!1,m)}};n.exports=x},20839:(n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(27919),x=r(83419),d=r(31401),h=r(95643),l=r(98439),a=r(68703),f=r(56295),c=r(45650),u=r(26099),v=8,g=new x({Extends:h,Mixins:[d.Alpha,d.BlendMode,d.ComputedSize,d.Crop,d.Depth,d.Flip,d.GetBounds,d.Mask,d.Origin,d.Pipeline,d.PostPipeline,d.ScrollFactor,d.Tint,d.Transform,d.Visible,f],initialize:function(y,C,b,M,w,R,A){var L=y.sys.renderer;h.call(this,y,"TileSprite");var F=y.sys.textures.get(R),G=F.get(A);G.source.compressionAlgorithm&&(console.warn("TileSprite cannot use compressed texture"),F=y.sys.textures.get("__MISSING"),G=F.get()),F.type==="DynamicTexture"&&(console.warn("TileSprite cannot use Dynamic Texture"),F=y.sys.textures.get("__MISSING"),G=F.get()),!M||!w?(M=M||G.width,w=w||G.height):(M=Math.floor(M),w=Math.floor(w)),this._tilePosition=new u,this._tileScale=new u(1,1),this.dirty=!1,this.renderer=L,this.canvas=o.create(this,M,w),this.context=this.canvas.getContext("2d",{willReadFrequently:!1}),this.displayTexture=F,this.displayFrame=G,this._crop=this.resetCropObject(),this._textureKey=c(),this.texture=y.sys.textures.addCanvas(this._textureKey,this.canvas),this.frame=this.texture.get(),this.potWidth=l(G.width),this.potHeight=l(G.height),this.fillCanvas=o.create2D(this,this.potWidth,this.potHeight),this.fillContext=this.fillCanvas.getContext("2d",{willReadFrequently:!1}),this.fillPattern=null,this.setPosition(C,b),this.setSize(M,w),this.setFrame(A),this.setOriginFromFrame(),this.initPipeline(),this.initPostPipeline(!0)},setTexture:function(m,y){return this.displayTexture=this.scene.sys.textures.get(m),this.setFrame(y)},setFrame:function(m){var y=this.displayTexture.get(m);return this.potWidth=l(y.width),this.potHeight=l(y.height),this.canvas.width=0,!y.cutWidth||!y.cutHeight?this.renderFlags&=~v:this.renderFlags|=v,this.displayFrame=y,this.dirty=!0,this.updateTileTexture(),this},setTilePosition:function(m,y){return m!==void 0&&(this.tilePositionX=m),y!==void 0&&(this.tilePositionY=y),this},setTileScale:function(m,y){return m===void 0&&(m=this.tileScaleX),y===void 0&&(y=m),this.tileScaleX=m,this.tileScaleY=y,this},updateTileTexture:function(){if(!(!this.dirty||!this.renderer)){var m=this.displayFrame;if(m.source.isRenderTexture||m.source.isGLTexture){console.warn("TileSprites can only use Image or Canvas based textures"),this.dirty=!1;return}var y=this.fillContext,C=this.fillCanvas,b=this.potWidth,M=this.potHeight;(!this.renderer||!this.renderer.gl)&&(b=m.cutWidth,M=m.cutHeight),y.clearRect(0,0,b,M),C.width=b,C.height=M,y.drawImage(m.source.image,m.cutX,m.cutY,m.cutWidth,m.cutHeight,0,0,b,M),this.renderer&&this.renderer.gl?this.fillPattern=this.renderer.canvasToTexture(C,this.fillPattern):this.fillPattern=y.createPattern(C,"repeat"),this.updateCanvas(),this.dirty=!1}},updateCanvas:function(){var m=this.canvas;if((m.width!==this.width||m.height!==this.height)&&(m.width=this.width,m.height=this.height,this.frame.setSize(this.width,this.height),this.updateDisplayOrigin(),this.dirty=!0),!this.dirty||this.renderer&&this.renderer.gl){this.dirty=!1;return}var y=this.context;this.scene.sys.game.config.antialias||a.disable(y);var C=this._tileScale.x,b=this._tileScale.y,M=this._tilePosition.x,w=this._tilePosition.y;y.clearRect(0,0,this.width,this.height),y.save(),y.scale(C,b),y.translate(-M,-w),y.fillStyle=this.fillPattern,y.fillRect(M,w,this.width/C,this.height/b),y.restore(),this.dirty=!1},preDestroy:function(){this.renderer&&this.renderer.gl&&this.renderer.deleteTexture(this.fillPattern),o.remove(this.canvas),o.remove(this.fillCanvas),this.fillPattern=null,this.fillContext=null,this.fillCanvas=null,this.displayTexture=null,this.displayFrame=null;var m=this.texture;m&&m.destroy(),this.renderer=null},tilePositionX:{get:function(){return this._tilePosition.x},set:function(m){this._tilePosition.x=m,this.dirty=!0}},tilePositionY:{get:function(){return this._tilePosition.y},set:function(m){this._tilePosition.y=m,this.dirty=!0}},tileScaleX:{get:function(){return this._tileScale.x},set:function(m){this._tileScale.x=m,this.dirty=!0}},tileScaleY:{get:function(){return this._tileScale.y},set:function(m){this._tileScale.y=m,this.dirty=!0}}});n.exports=g},46992:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(r,o,x,d){o.updateCanvas(),x.addToRenderList(o),r.batchSprite(o,o.frame,x,d)};n.exports=T},14167:(n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(25305),x=r(44603),d=r(23568),h=r(20839);x.register("tileSprite",function(l,a){l===void 0&&(l={});var f=d(l,"x",0),c=d(l,"y",0),u=d(l,"width",512),v=d(l,"height",512),g=d(l,"key",""),m=d(l,"frame",""),y=new h(this.scene,f,c,u,v,g,m);return a!==void 0&&(l.add=a),o(this.scene,y,l),y})},91681:(n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(20839),x=r(39429);x.register("tileSprite",function(d,h,l,a,f,c){return this.displayList.add(new o(this.scene,d,h,l,a,f,c))})},56295:(n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(29747),x=o,d=o;x=r(18553),d=r(46992),n.exports={renderWebGL:x,renderCanvas:d}},18553:(n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(70554),x=function(d,h,l,a){h.updateCanvas();var f=h.width,c=h.height;if(!(f===0||c===0)){l.addToRenderList(h);var u=o.getTintAppendFloatAlpha,v=d.pipelines.set(h.pipeline,h),g=v.setTexture2D(h.fillPattern,h);v.batchTexture(h,h.fillPattern,h.displayFrame.width*h.tileScaleX,h.displayFrame.height*h.tileScaleY,h.x,h.y,f,c,h.scaleX,h.scaleY,h.rotation,h.flipX,h.flipY,h.scrollFactorX,h.scrollFactorY,h.originX*f,h.originY*c,0,0,f,c,u(h.tintTopLeft,l.alpha*h._alphaTL),u(h.tintTopRight,l.alpha*h._alphaTR),u(h.tintBottomLeft,l.alpha*h._alphaBL),u(h.tintBottomRight,l.alpha*h._alphaBR),h.tintFill,h.tilePositionX%h.displayFrame.width/h.displayFrame.width,h.tilePositionY%h.displayFrame.height/h.displayFrame.height,l,a,!1,g)}};n.exports=x},18471:(n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(45319),x=r(83419),d=r(31401),h=r(51708),l=r(8443),a=r(95643),f=r(36383),c=r(14463),u=r(45650),v=r(10247),g=new x({Extends:a,Mixins:[d.Alpha,d.BlendMode,d.ComputedSize,d.Depth,d.Flip,d.GetBounds,d.Mask,d.Origin,d.Pipeline,d.PostPipeline,d.ScrollFactor,d.TextureCrop,d.Tint,d.Transform,d.Visible,v],initialize:function(y,C,b,M){a.call(this,y,"Video"),this.video,this.videoTexture,this.videoTextureSource,this.snapshotTexture,this.flipY=!1,this._key=u(),this.touchLocked=!1,this.playWhenUnlocked=!1,this.frameReady=!1,this.isStalled=!1,this.failedPlayAttempts=0,this.metadata,this.retry=0,this.retryInterval=500,this._systemMuted=!1,this._codeMuted=!1,this._systemPaused=!1,this._codePaused=!1,this._callbacks={ended:this.completeHandler.bind(this),legacy:this.legacyPlayHandler.bind(this),playing:this.playingHandler.bind(this),seeked:this.seekedHandler.bind(this),seeking:this.seekingHandler.bind(this),stalled:this.stalledHandler.bind(this),suspend:this.stalledHandler.bind(this),waiting:this.stalledHandler.bind(this)},this._loadCallbackHandler=this.loadErrorHandler.bind(this),this._metadataCallbackHandler=this.metadataHandler.bind(this),this._crop=this.resetCropObject(),this.markers={},this._markerIn=0,this._markerOut=0,this._playingMarker=!1,this._lastUpdate=0,this.cacheKey="",this.isSeeking=!1,this._playCalled=!1,this._getFrame=!1,this._rfvCallbackId=0;var w=y.sys.game;this._device=w.device.video,this.setPosition(C,b),this.setSize(256,256),this.initPipeline(),this.initPostPipeline(!0),w.events.on(l.PAUSE,this.globalPause,this),w.events.on(l.RESUME,this.globalResume,this);var R=y.sys.sound;R&&R.on(c.GLOBAL_MUTE,this.globalMute,this),M&&this.load(M)},addedToScene:function(){this.scene.sys.updateList.add(this)},removedFromScene:function(){this.scene.sys.updateList.remove(this)},load:function(m){var y=this.scene.sys.cache.video.get(m);return y?(this.cacheKey=m,this.loadHandler(y.url,y.noAudio,y.crossOrigin)):console.warn("No video in cache for key: "+m),this},changeSource:function(m,y,C,b,M){y===void 0&&(y=!0),C===void 0&&(C=!1),this.cacheKey!==m&&(this.load(m),y&&this.play(C,b,M))},getVideoKey:function(){return this.cacheKey},loadURL:function(m,y,C){y===void 0&&(y=!1);var b=this._device.getVideoURL(m);return b?(this.cacheKey="",this.loadHandler(b.url,y,C)):console.warn("No supported video format found for "+m),this},loadMediaStream:function(m,y,C){return this.loadHandler(null,y,C,m)},loadHandler:function(m,y,C,b){y||(y=!1);var M=this.video;if(M?(this.removeLoadEventHandlers(),this.stop()):(M=document.createElement("video"),M.controls=!1,M.setAttribute("playsinline","playsinline"),M.setAttribute("preload","auto"),M.setAttribute("disablePictureInPicture","true")),y?(M.muted=!0,M.defaultMuted=!0,M.setAttribute("autoplay","autoplay")):(M.muted=!1,M.defaultMuted=!1,M.removeAttribute("autoplay")),C?M.setAttribute("crossorigin",C):M.removeAttribute("crossorigin"),b)if("srcObject"in M)try{M.srcObject=b}catch(R){if(R.name!=="TypeError")throw R;M.src=URL.createObjectURL(b)}else M.src=URL.createObjectURL(b);else M.src=m;this.retry=0,this.video=M,this._playCalled=!1,M.load(),this.addLoadEventHandlers();var w=this.scene.sys.textures.get(this._key);return this.setTexture(w),this},requestVideoFrame:function(m,y){var C=this.video;if(C){var b=y.width,M=y.height,w=this.videoTexture,R=this.videoTextureSource,A=!w||R.source!==C;A?(this._codePaused=C.paused,this._codeMuted=C.muted,w?(R.source=C,R.width=b,R.height=M,w.get().setSize(b,M)):(w=this.scene.sys.textures.create(this._key,C,b,M),w.add("__BASE",0,0,0,b,M),this.setTexture(w),this.videoTexture=w,this.videoTextureSource=w.source[0],this.videoTextureSource.setFlipY(this.flipY),this.emit(h.VIDEO_TEXTURE,this,w)),this.setSizeToFrame(),this.updateDisplayOrigin()):R.update(),this.isStalled=!1,this.metadata=y;var L=y.mediaTime;A&&(this._lastUpdate=L,this.emit(h.VIDEO_CREATED,this,b,M),this.frameReady||(this.frameReady=!0,this.emit(h.VIDEO_PLAY,this))),this._playingMarker?L>=this._markerOut&&(C.loop?(C.currentTime=this._markerIn,this.emit(h.VIDEO_LOOP,this)):(this.stop(!1),this.emit(h.VIDEO_COMPLETE,this))):L<this._lastUpdate&&this.emit(h.VIDEO_LOOP,this),this._lastUpdate=L,this._getFrame?(this.removeEventHandlers(),C.pause(),this._getFrame=!1):this._rfvCallbackId=this.video.requestVideoFrameCallback(this.requestVideoFrame.bind(this))}},play:function(m,y,C){y===void 0&&(y=-1),C===void 0&&(C=f.MAX_SAFE_INTEGER);var b=this.video;return!b||this.isPlaying()?(b||console.warn("Video not loaded"),this):(m===void 0&&(m=b.loop),b.loop=m,this._markerIn=y,this._markerOut=C,this._playingMarker=y>-1&&C>y&&C<f.MAX_SAFE_INTEGER,this._playCalled||(this._getFrame=!1,this._rfvCallbackId=b.requestVideoFrameCallback(this.requestVideoFrame.bind(this)),this._playCalled=!0,this.createPlayPromise()),this)},getFirstFrame:function(){var m=this.video;return!m||this.isPlaying()?(m||console.warn("Video not loaded"),this):(this._playCalled||(this._getFrame=!0,this._rfvCallbackId=m.requestVideoFrameCallback(this.requestVideoFrame.bind(this)),this.createPlayPromise()),this)},addLoadEventHandlers:function(){var m=this.video;m&&(m.addEventListener("error",this._loadCallbackHandler),m.addEventListener("abort",this._loadCallbackHandler),m.addEventListener("loadedmetadata",this._metadataCallbackHandler))},removeLoadEventHandlers:function(){var m=this.video;m&&(m.removeEventListener("error",this._loadCallbackHandler),m.removeEventListener("abort",this._loadCallbackHandler))},addEventHandlers:function(){var m=this.video;if(m){var y=this._callbacks;for(var C in y)m.addEventListener(C,y[C])}},removeEventHandlers:function(){var m=this.video;if(m){var y=this._callbacks;for(var C in y)m.removeEventListener(C,y[C])}},createPlayPromise:function(m){m===void 0&&(m=!0);var y=this.video,C=y.play();if(C!==void 0){var b=this.playSuccess.bind(this),M=this.playError.bind(this);if(!m){var w=this;M=function(){w.failedPlayAttempts++}}C.then(b).catch(M)}else y.addEventListener("playing",this._callbacks.legacy),m||this.failedPlayAttempts++},addMarker:function(m,y,C){return!isNaN(y)&&y>=0&&!isNaN(C)&&C>y&&(this.markers[m]=[y,C]),this},playMarker:function(m,y){var C=this.markers[m];return C&&this.play(y,C[0],C[1]),this},removeMarker:function(m){return delete this.markers[m],this},snapshot:function(m,y){return m===void 0&&(m=this.width),y===void 0&&(y=this.height),this.snapshotArea(0,0,this.width,this.height,m,y)},snapshotArea:function(m,y,C,b,M,w){m===void 0&&(m=0),y===void 0&&(y=0),C===void 0&&(C=this.width),b===void 0&&(b=this.height),M===void 0&&(M=C),w===void 0&&(w=b);var R=this.video,A=this.snapshotTexture;return A?(A.setSize(M,w),R&&A.context.drawImage(R,m,y,C,b,0,0,M,w)):(A=this.scene.sys.textures.createCanvas(u(),M,w),this.snapshotTexture=A,R&&A.context.drawImage(R,m,y,C,b,0,0,M,w)),A.update()},saveSnapshotTexture:function(m){return this.snapshotTexture?this.scene.sys.textures.renameTexture(this.snapshotTexture.key,m):this.snapshotTexture=this.scene.sys.textures.createCanvas(m,this.width,this.height),this.snapshotTexture},playSuccess:function(){if(this._playCalled){this.addEventHandlers(),this._codePaused=!1,this.touchLocked&&(this.touchLocked=!1,this.emit(h.VIDEO_UNLOCKED,this));var m=this.scene.sys.sound;m&&m.mute&&this.setMute(!0),this._markerIn>-1&&(this.video.currentTime=this._markerIn)}},playError:function(m){var y=m.name;y==="NotAllowedError"?(this.touchLocked=!0,this.playWhenUnlocked=!0,this.failedPlayAttempts=1,this.emit(h.VIDEO_LOCKED,this)):y==="NotSupportedError"?(this.stop(!1),this.emit(h.VIDEO_UNSUPPORTED,this,m)):(this.stop(!1),this.emit(h.VIDEO_ERROR,this,m))},legacyPlayHandler:function(){var m=this.video;m&&(this.playSuccess(),m.removeEventListener("playing",this._callbacks.legacy))},playingHandler:function(){this.isStalled=!1,this.emit(h.VIDEO_PLAYING,this)},loadErrorHandler:function(m){this.stop(!1),this.emit(h.VIDEO_ERROR,this,m)},metadataHandler:function(m){this.emit(h.VIDEO_METADATA,this,m)},setSizeToFrame:function(m){m||(m=this.frame),this.width=m.realWidth,this.height=m.realHeight,this.scaleX!==1&&(this.scaleX=this.displayWidth/this.width),this.scaleY!==1&&(this.scaleY=this.displayHeight/this.height);var y=this.input;return y&&!y.customHitArea&&(y.hitArea.width=this.width,y.hitArea.height=this.height),this},stalledHandler:function(m){this.isStalled=!0,this.emit(h.VIDEO_STALLED,this,m)},completeHandler:function(){this._playCalled=!1,this.emit(h.VIDEO_COMPLETE,this)},preUpdate:function(m,y){var C=this.video;!C||!this._playCalled||this.touchLocked&&this.playWhenUnlocked&&(this.retry+=y,this.retry>=this.retryInterval&&(this.createPlayPromise(!1),this.retry=0))},seekTo:function(m){var y=this.video;if(y){var C=y.duration;if(C!==1/0&&!isNaN(C)){var b=C*m;this.setCurrentTime(b)}}return this},getCurrentTime:function(){return this.video?this.video.currentTime:0},setCurrentTime:function(m){var y=this.video;if(y){if(typeof m=="string"){var C=m[0],b=parseFloat(m.substr(1));C==="+"?m=y.currentTime+b:C==="-"&&(m=y.currentTime-b)}y.currentTime=m}return this},seekingHandler:function(){this.isSeeking=!0,this.emit(h.VIDEO_SEEKING,this)},seekedHandler:function(){this.isSeeking=!1,this.emit(h.VIDEO_SEEKED,this)},getProgress:function(){var m=this.video;if(m){var y=m.duration;if(y!==1/0&&!isNaN(y))return m.currentTime/y}return-1},getDuration:function(){return this.video?this.video.duration:0},setMute:function(m){m===void 0&&(m=!0),this._codeMuted=m;var y=this.video;return y&&(y.muted=this._systemMuted?!0:m),this},isMuted:function(){return this._codeMuted},globalMute:function(m,y){this._systemMuted=y;var C=this.video;C&&(C.muted=this._codeMuted?!0:y)},globalPause:function(){this._systemPaused=!0,this.video&&!this.video.ended&&(this.removeEventHandlers(),this.video.pause())},globalResume:function(){this._systemPaused=!1,this.video&&!this._codePaused&&!this.video.ended&&this.createPlayPromise()},setPaused:function(m){m===void 0&&(m=!0);var y=this.video;return this._codePaused=m,y&&!y.ended&&(m?y.paused||(this.removeEventHandlers(),y.pause()):m||(this._playCalled?y.paused&&!this._systemPaused&&this.createPlayPromise():this.play())),this},pause:function(){return this.setPaused(!0)},resume:function(){return this.setPaused(!1)},getVolume:function(){return this.video?this.video.volume:1},setVolume:function(m){return m===void 0&&(m=1),this.video&&(this.video.volume=o(m,0,1)),this},getPlaybackRate:function(){return this.video?this.video.playbackRate:1},setPlaybackRate:function(m){return this.video&&(this.video.playbackRate=m),this},getLoop:function(){return this.video?this.video.loop:!1},setLoop:function(m){return m===void 0&&(m=!0),this.video&&(this.video.loop=m),this},isPlaying:function(){return this.video?!(this.video.paused||this.video.ended):!1},isPaused:function(){return this.video&&this._playCalled&&this.video.paused||this._codePaused||this._systemPaused},saveTexture:function(m,y){return y===void 0&&(y=!1),this.videoTexture&&(this.scene.sys.textures.renameTexture(this._key,m),this.videoTextureSource.setFlipY(y)),this._key=m,this.flipY=y,!!this.videoTexture},stop:function(m){m===void 0&&(m=!0);var y=this.video;return y&&(this.removeEventHandlers(),y.cancelVideoFrameCallback(this._rfvCallbackId),y.pause()),this.retry=0,this._playCalled=!1,m&&this.emit(h.VIDEO_STOP,this),this},removeVideoElement:function(){var m=this.video;if(m){for(m.parentNode&&m.parentNode.removeChild(m);m.hasChildNodes();)m.removeChild(m.firstChild);m.removeAttribute("autoplay"),m.removeAttribute("src"),this.video=null}},preDestroy:function(){this.stop(!1),this.removeLoadEventHandlers(),this.removeVideoElement();var m=this.scene.sys.game.events;m.off(l.PAUSE,this.globalPause,this),m.off(l.RESUME,this.globalResume,this);var y=this.scene.sys.sound;y&&y.off(c.GLOBAL_MUTE,this.globalMute,this)}});n.exports=g},58352:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(r,o,x,d){o.videoTexture&&(x.addToRenderList(o),r.batchSprite(o,o.frame,x,d))};n.exports=T},11511:(n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(25305),x=r(44603),d=r(23568),h=r(18471);x.register("video",function(l,a){l===void 0&&(l={});var f=d(l,"key",null),c=new h(this.scene,0,0,f);return a!==void 0&&(l.add=a),o(this.scene,c,l),c})},89025:(n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(18471),x=r(39429);x.register("video",function(d,h,l){return this.displayList.add(new o(this.scene,d,h,l))})},10247:(n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(29747),x=o,d=o;x=r(29849),d=r(58352),n.exports={renderWebGL:x,renderCanvas:d}},29849:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(r,o,x,d){o.videoTexture&&(x.addToRenderList(o),o.pipeline.batchSprite(o,x,d))};n.exports=T},41481:(n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(10312),x=r(96503),d=r(87902),h=r(83419),l=r(31401),a=r(95643),f=r(87841),c=r(37303),u=new h({Extends:a,Mixins:[l.Depth,l.GetBounds,l.Origin,l.Transform,l.ScrollFactor,l.Visible],initialize:function(g,m,y,C,b){C===void 0&&(C=1),b===void 0&&(b=C),a.call(this,g,"Zone"),this.setPosition(m,y),this.width=C,this.height=b,this.blendMode=o.NORMAL,this.updateDisplayOrigin()},displayWidth:{get:function(){return this.scaleX*this.width},set:function(v){this.scaleX=v/this.width}},displayHeight:{get:function(){return this.scaleY*this.height},set:function(v){this.scaleY=v/this.height}},setSize:function(v,g,m){m===void 0&&(m=!0),this.width=v,this.height=g,this.updateDisplayOrigin();var y=this.input;return m&&y&&!y.customHitArea&&(y.hitArea.width=v,y.hitArea.height=g),this},setDisplaySize:function(v,g){return this.displayWidth=v,this.displayHeight=g,this},setCircleDropZone:function(v){return this.setDropZone(new x(0,0,v),d)},setRectangleDropZone:function(v,g){return this.setDropZone(new f(0,0,v,g),c)},setDropZone:function(v,g){return this.input||this.setInteractive(v,g,!0),this},setAlpha:function(){},setBlendMode:function(){},renderCanvas:function(v,g,m){m.addToRenderList(g)},renderWebGL:function(v,g,m){m.addToRenderList(g)}});n.exports=u},95261:(n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(44603),x=r(23568),d=r(41481);o.register("zone",function(h){var l=x(h,"x",0),a=x(h,"y",0),f=x(h,"width",1),c=x(h,"height",f);return new d(this.scene,l,a,f,c)})},84175:(n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(41481),x=r(39429);x.register("zone",function(d,h,l,a){return this.displayList.add(new o(this.scene,d,h,l,a))})},95166:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(r){return r.radius>0?Math.PI*r.radius*r.radius:0};n.exports=T},96503:(n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(83419),x=r(87902),d=r(26241),h=r(79124),l=r(23777),a=r(28176),f=new o({initialize:function(u,v,g){u===void 0&&(u=0),v===void 0&&(v=0),g===void 0&&(g=0),this.type=l.CIRCLE,this.x=u,this.y=v,this._radius=g,this._diameter=g*2},contains:function(c,u){return x(this,c,u)},getPoint:function(c,u){return d(this,c,u)},getPoints:function(c,u,v){return h(this,c,u,v)},getRandomPoint:function(c){return a(this,c)},setTo:function(c,u,v){return this.x=c,this.y=u,this._radius=v,this._diameter=v*2,this},setEmpty:function(){return this._radius=0,this._diameter=0,this},setPosition:function(c,u){return u===void 0&&(u=c),this.x=c,this.y=u,this},isEmpty:function(){return this._radius<=0},radius:{get:function(){return this._radius},set:function(c){this._radius=c,this._diameter=c*2}},diameter:{get:function(){return this._diameter},set:function(c){this._diameter=c,this._radius=c*.5}},left:{get:function(){return this.x-this._radius},set:function(c){this.x=c+this._radius}},right:{get:function(){return this.x+this._radius},set:function(c){this.x=c-this._radius}},top:{get:function(){return this.y-this._radius},set:function(c){this.y=c+this._radius}},bottom:{get:function(){return this.y+this._radius},set:function(c){this.y=c-this._radius}}});n.exports=f},71562:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(r){return 2*(Math.PI*r.radius)};n.exports=T},92110:(n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(2141),x=function(d,h,l){return l===void 0&&(l=new o),l.x=d.x+d.radius*Math.cos(h),l.y=d.y+d.radius*Math.sin(h),l};n.exports=x},42250:(n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(96503),x=function(d){return new o(d.x,d.y,d.radius)};n.exports=x},87902:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(r,o,x){if(r.radius>0&&o>=r.left&&o<=r.right&&x>=r.top&&x<=r.bottom){var d=(r.x-o)*(r.x-o),h=(r.y-x)*(r.y-x);return d+h<=r.radius*r.radius}else return!1};n.exports=T},5698:(n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(87902),x=function(d,h){return o(d,h.x,h.y)};n.exports=x},70588:(n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(87902),x=function(d,h){return o(d,h.x,h.y)&&o(d,h.right,h.y)&&o(d,h.x,h.bottom)&&o(d,h.right,h.bottom)};n.exports=x},26394:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(r,o){return o.setTo(r.x,r.y,r.radius)};n.exports=T},76278:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(r,o){return r.x===o.x&&r.y===o.y&&r.radius===o.radius};n.exports=T},2074:(n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(87841),x=function(d,h){return h===void 0&&(h=new o),h.x=d.left,h.y=d.top,h.width=d.diameter,h.height=d.diameter,h};n.exports=x},26241:(n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(92110),x=r(62945),d=r(36383),h=r(2141),l=function(a,f,c){c===void 0&&(c=new h);var u=x(f,0,d.PI2);return o(a,u,c)};n.exports=l},79124:(n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(71562),x=r(92110),d=r(62945),h=r(36383),l=function(a,f,c,u){u===void 0&&(u=[]),!f&&c>0&&(f=o(a)/c);for(var v=0;v<f;v++){var g=d(v/f,0,h.PI2);u.push(x(a,g))}return u};n.exports=l},50884:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(r,o,x){return r.x+=o,r.y+=x,r};n.exports=T},39212:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(r,o){return r.x+=o.x,r.y+=o.y,r};n.exports=T},28176:(n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(2141),x=function(d,h){h===void 0&&(h=new o);var l=2*Math.PI*Math.random(),a=Math.random()+Math.random(),f=a>1?2-a:a,c=f*Math.cos(l),u=f*Math.sin(l);return h.x=d.x+c*d.radius,h.y=d.y+u*d.radius,h};n.exports=x},88911:(n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(96503);o.Area=r(95166),o.Circumference=r(71562),o.CircumferencePoint=r(92110),o.Clone=r(42250),o.Contains=r(87902),o.ContainsPoint=r(5698),o.ContainsRect=r(70588),o.CopyFrom=r(26394),o.Equals=r(76278),o.GetBounds=r(2074),o.GetPoint=r(26241),o.GetPoints=r(79124),o.Offset=r(50884),o.OffsetPoint=r(39212),o.Random=r(28176),n.exports=o},23777:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T={CIRCLE:0,ELLIPSE:1,LINE:2,POINT:3,POLYGON:4,RECTANGLE:5,TRIANGLE:6};n.exports=T},78874:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(r){return r.isEmpty()?0:r.getMajorRadius()*r.getMinorRadius()*Math.PI};n.exports=T},92990:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(r){var o=r.width/2,x=r.height/2,d=Math.pow(o-x,2)/Math.pow(o+x,2);return Math.PI*(o+x)*(1+3*d/(10+Math.sqrt(4-3*d)))};n.exports=T},79522:(n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(2141),x=function(d,h,l){l===void 0&&(l=new o);var a=d.width/2,f=d.height/2;return l.x=d.x+a*Math.cos(h),l.y=d.y+f*Math.sin(h),l};n.exports=x},58102:(n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(8497),x=function(d){return new o(d.x,d.y,d.width,d.height)};n.exports=x},81154:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(r,o,x){if(r.width<=0||r.height<=0)return!1;var d=(o-r.x)/r.width,h=(x-r.y)/r.height;return d*=d,h*=h,d+h<.25};n.exports=T},46662:(n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(81154),x=function(d,h){return o(d,h.x,h.y)};n.exports=x},1632:(n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(81154),x=function(d,h){return o(d,h.x,h.y)&&o(d,h.right,h.y)&&o(d,h.x,h.bottom)&&o(d,h.right,h.bottom)};n.exports=x},65534:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(r,o){return o.setTo(r.x,r.y,r.width,r.height)};n.exports=T},8497:(n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(83419),x=r(81154),d=r(90549),h=r(48320),l=r(23777),a=r(24820),f=new o({initialize:function(u,v,g,m){u===void 0&&(u=0),v===void 0&&(v=0),g===void 0&&(g=0),m===void 0&&(m=0),this.type=l.ELLIPSE,this.x=u,this.y=v,this.width=g,this.height=m},contains:function(c,u){return x(this,c,u)},getPoint:function(c,u){return d(this,c,u)},getPoints:function(c,u,v){return h(this,c,u,v)},getRandomPoint:function(c){return a(this,c)},setTo:function(c,u,v,g){return this.x=c,this.y=u,this.width=v,this.height=g,this},setEmpty:function(){return this.width=0,this.height=0,this},setPosition:function(c,u){return u===void 0&&(u=c),this.x=c,this.y=u,this},setSize:function(c,u){return u===void 0&&(u=c),this.width=c,this.height=u,this},isEmpty:function(){return this.width<=0||this.height<=0},getMinorRadius:function(){return Math.min(this.width,this.height)/2},getMajorRadius:function(){return Math.max(this.width,this.height)/2},left:{get:function(){return this.x-this.width/2},set:function(c){this.x=c+this.width/2}},right:{get:function(){return this.x+this.width/2},set:function(c){this.x=c-this.width/2}},top:{get:function(){return this.y-this.height/2},set:function(c){this.y=c+this.height/2}},bottom:{get:function(){return this.y+this.height/2},set:function(c){this.y=c-this.height/2}}});n.exports=f},36146:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(r,o){return r.x===o.x&&r.y===o.y&&r.width===o.width&&r.height===o.height};n.exports=T},23694:(n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(87841),x=function(d,h){return h===void 0&&(h=new o),h.x=d.left,h.y=d.top,h.width=d.width,h.height=d.height,h};n.exports=x},90549:(n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(79522),x=r(62945),d=r(36383),h=r(2141),l=function(a,f,c){c===void 0&&(c=new h);var u=x(f,0,d.PI2);return o(a,u,c)};n.exports=l},48320:(n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(92990),x=r(79522),d=r(62945),h=r(36383),l=function(a,f,c,u){u===void 0&&(u=[]),!f&&c>0&&(f=o(a)/c);for(var v=0;v<f;v++){var g=d(v/f,0,h.PI2);u.push(x(a,g))}return u};n.exports=l},73424:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(r,o,x){return r.x+=o,r.y+=x,r};n.exports=T},44808:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(r,o){return r.x+=o.x,r.y+=o.y,r};n.exports=T},24820:(n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(2141),x=function(d,h){h===void 0&&(h=new o);var l=Math.random()*Math.PI*2,a=Math.sqrt(Math.random());return h.x=d.x+a*Math.cos(l)*d.width/2,h.y=d.y+a*Math.sin(l)*d.height/2,h};n.exports=x},49203:(n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(8497);o.Area=r(78874),o.Circumference=r(92990),o.CircumferencePoint=r(79522),o.Clone=r(58102),o.Contains=r(81154),o.ContainsPoint=r(46662),o.ContainsRect=r(1632),o.CopyFrom=r(65534),o.Equals=r(36146),o.GetBounds=r(23694),o.GetPoint=r(90549),o.GetPoints=r(48320),o.Offset=r(73424),o.OffsetPoint=r(44808),o.Random=r(24820),n.exports=o},55738:(n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(23777),x=r(79291),d={Circle:r(88911),Ellipse:r(49203),Intersects:r(91865),Line:r(2529),Mesh:r(73090),Point:r(43711),Polygon:r(58423),Rectangle:r(93232),Triangle:r(84435)};d=x(!1,d,o),n.exports=d},2044:(n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(20339),x=function(d,h){return o(d.x,d.y,h.x,h.y)<=d.radius+h.radius};n.exports=x},81491:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(r,o){var x=o.width/2,d=o.height/2,h=Math.abs(r.x-o.x-x),l=Math.abs(r.y-o.y-d),a=x+r.radius,f=d+r.radius;if(h>a||l>f)return!1;if(h<=x||l<=d)return!0;var c=h-x,u=l-d,v=c*c,g=u*u,m=r.radius*r.radius;return v+g<=m};n.exports=T},63376:(n,T,r)=>{/**
 * @author       Florian Vazelle
 * @author       Geoffrey Glaive
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(2141),x=r(2044),d=function(h,l,a){if(a===void 0&&(a=[]),x(h,l)){var f=h.x,c=h.y,u=h.radius,v=l.x,g=l.y,m=l.radius,y,C,b,M,w;if(c===g)w=(m*m-u*u-v*v+f*f)/(2*(f-v)),y=1,C=-2*g,b=v*v+w*w-2*v*w+g*g-m*m,M=C*C-4*y*b,M===0?a.push(new o(w,-C/(2*y))):M>0&&(a.push(new o(w,(-C+Math.sqrt(M))/(2*y))),a.push(new o(w,(-C-Math.sqrt(M))/(2*y))));else{var R=(f-v)/(c-g),A=(m*m-u*u-v*v+f*f-g*g+c*c)/(2*(c-g));y=R*R+1,C=2*c*R-2*A*R-2*f,b=f*f+c*c+A*A-u*u-2*c*A,M=C*C-4*y*b,M===0?(w=-C/(2*y),a.push(new o(w,A-w*R))):M>0&&(w=(-C+Math.sqrt(M))/(2*y),a.push(new o(w,A-w*R)),w=(-C-Math.sqrt(M))/(2*y),a.push(new o(w,A-w*R)))}}return a};n.exports=d},97439:(n,T,r)=>{/**
 * @author       Florian Vazelle
 * @author       Geoffrey Glaive
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(4042),x=r(81491),d=function(h,l,a){if(a===void 0&&(a=[]),x(h,l)){var f=l.getLineA(),c=l.getLineB(),u=l.getLineC(),v=l.getLineD();o(f,h,a),o(c,h,a),o(u,h,a),o(v,h,a)}return a};n.exports=d},4042:(n,T,r)=>{/**
 * @author       Florian Vazelle
 * @author       Geoffrey Glaive
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(2141),x=r(80462),d=function(h,l,a){if(a===void 0&&(a=[]),x(h,l)){var f=h.x1,c=h.y1,u=h.x2,v=h.y2,g=l.x,m=l.y,y=l.radius,C=u-f,b=v-c,M=f-g,w=c-m,R=C*C+b*b,A=2*(C*M+b*w),L=M*M+w*w-y*y,F=A*A-4*R*L,G,I;if(F===0){var B=-A/(2*R);G=f+B*C,I=c+B*b,B>=0&&B<=1&&a.push(new o(G,I))}else if(F>0){var k=(-A-Math.sqrt(F))/(2*R);G=f+k*C,I=c+k*b,k>=0&&k<=1&&a.push(new o(G,I));var U=(-A+Math.sqrt(F))/(2*R);G=f+U*C,I=c+U*b,U>=0&&U<=1&&a.push(new o(G,I))}}return a};n.exports=d},36100:(n,T,r)=>{/**
 * @author       Richard Davey
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(25836),x=function(d,h,l,a){l===void 0&&(l=!1);var f=d.x1,c=d.y1,u=d.x2,v=d.y2,g=h.x1,m=h.y1,y=h.x2,C=h.y2,b=u-f,M=v-c,w=y-g,R=C-m,A=b*R-M*w;if(A===0)return null;var L,F,G;if(l){if(L=(b*(m-c)+M*(f-g))/(w*M-R*b),b!==0)F=(g+w*L-f)/b;else if(M!==0)F=(m+R*L-c)/M;else return null;if(F<0||L<0||L>1)return null;G=F}else{if(L=((g-f)*R-(m-c)*w)/A,F=((c-m)*b-(f-g)*M)/A,L<0||L>1||F<0||F>1)return null;G=L}return a===void 0&&(a=new o),a.set(f+b*G,c+M*G,G)};n.exports=x},3073:(n,T,r)=>{/**
 * @author       Richard Davey
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(36100),x=r(23031),d=r(25836),h=new x,l=new d,a=function(f,c,u,v){u===void 0&&(u=!1),v===void 0&&(v=new d);var g=!1;v.set(),l.set();for(var m=c[c.length-1],y=0;y<c.length;y++){var C=c[y];h.setTo(m.x,m.y,C.x,C.y),m=C,o(f,h,u,l)&&(!g||l.z<v.z)&&(v.copy(l),g=!0)}return g?v:null};n.exports=a},56362:(n,T,r)=>{/**
 * @author       Richard Davey
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(25836),x=r(61369),d=r(3073),h=new o,l=function(a,f,c,u){u===void 0&&(u=new x),Array.isArray(f)||(f=[f]);var v=!1;u.set(),h.set();for(var g=0;g<f.length;g++)d(a,f[g].points,c,h)&&(!v||h.z<u.z)&&(u.set(h.x,h.y,h.z,g),v=!0);return v?u:null};n.exports=l},60646:(n,T,r)=>{/**
 * @author       Florian Vazelle
 * @author       Geoffrey Glaive
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(2141),x=r(76112),d=r(92773),h=function(l,a,f){if(f===void 0&&(f=[]),d(l,a))for(var c=a.getLineA(),u=a.getLineB(),v=a.getLineC(),g=a.getLineD(),m=[new o,new o,new o,new o],y=[x(c,l,m[0]),x(u,l,m[1]),x(v,l,m[2]),x(g,l,m[3])],C=0;C<4;C++)y[C]&&f.push(m[C]);return f};n.exports=h},71147:(n,T,r)=>{/**
 * @author       Richard Davey
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(61369),x=r(56362),d=r(23031),h=new d;function l(c,u,v,g,m){var y=Math.cos(c),C=Math.sin(c);h.setTo(u,v,u+y,v+C);var b=x(h,g,!0);b&&m.push(new o(b.x,b.y,c,b.w))}function a(c,u){return c.z-u.z}var f=function(c,u,v){Array.isArray(v)||(v=[v]);for(var g=[],m=[],y=0;y<v.length;y++)for(var C=v[y].points,b=0;b<C.length;b++){var M=Math.atan2(C[b].y-u,C[b].x-c);m.indexOf(M)===-1&&(l(M,c,u,v,g),l(M-1e-5,c,u,v,g),l(M+1e-5,c,u,v,g),m.push(M))}return g.sort(a)};n.exports=f},68389:(n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(87841),x=r(59996),d=function(h,l,a){return a===void 0&&(a=new o),x(h,l)&&(a.x=Math.max(h.x,l.x),a.y=Math.max(h.y,l.y),a.width=Math.min(h.right,l.right)-a.x,a.height=Math.min(h.bottom,l.bottom)-a.y),a};n.exports=d},52784:(n,T,r)=>{/**
 * @author       Florian Vazelle
 * @author       Geoffrey Glaive
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(60646),x=r(59996),d=function(h,l,a){if(a===void 0&&(a=[]),x(h,l)){var f=h.getLineA(),c=h.getLineB(),u=h.getLineC(),v=h.getLineD();o(f,l,a),o(c,l,a),o(u,l,a),o(v,l,a)}return a};n.exports=d},26341:(n,T,r)=>{/**
 * @author       Florian Vazelle
 * @author       Geoffrey Glaive
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(89265),x=r(60646),d=function(h,l,a){if(a===void 0&&(a=[]),o(h,l)){var f=l.getLineA(),c=l.getLineB(),u=l.getLineC();x(f,h,a),x(c,h,a),x(u,h,a)}return a};n.exports=d},38720:(n,T,r)=>{/**
 * @author       Florian Vazelle
 * @author       Geoffrey Glaive
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(4042),x=r(67636),d=function(h,l,a){if(a===void 0&&(a=[]),x(h,l)){var f=h.getLineA(),c=h.getLineB(),u=h.getLineC();o(f,l,a),o(c,l,a),o(u,l,a)}return a};n.exports=d},13882:(n,T,r)=>{/**
 * @author       Florian Vazelle
 * @author       Geoffrey Glaive
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(2141),x=r(2822),d=r(76112),h=function(l,a,f){if(f===void 0&&(f=[]),x(l,a))for(var c=l.getLineA(),u=l.getLineB(),v=l.getLineC(),g=[new o,new o,new o],m=[d(c,a,g[0]),d(u,a,g[1]),d(v,a,g[2])],y=0;y<3;y++)m[y]&&f.push(g[y]);return f};n.exports=h},75636:(n,T,r)=>{/**
 * @author       Florian Vazelle
 * @author       Geoffrey Glaive
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(82944),x=r(13882),d=function(h,l,a){if(a===void 0&&(a=[]),o(h,l)){var f=l.getLineA(),c=l.getLineB(),u=l.getLineC();x(h,f,a),x(h,c,a),x(h,u,a)}return a};n.exports=d},80462:(n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(87902),x=r(2141),d=new x,h=function(l,a,f){if(f===void 0&&(f=d),o(a,l.x1,l.y1))return f.x=l.x1,f.y=l.y1,!0;if(o(a,l.x2,l.y2))return f.x=l.x2,f.y=l.y2,!0;var c=l.x2-l.x1,u=l.y2-l.y1,v=a.x-l.x1,g=a.y-l.y1,m=c*c+u*u,y=c,C=u;if(m>0){var b=(v*c+g*u)/m;y*=b,C*=b}f.x=l.x1+y,f.y=l.y1+C;var M=y*y+C*C;return M<=m&&y*c+C*u>=0&&o(a,f.x,f.y)};n.exports=h},76112:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(r,o,x){var d=r.x1,h=r.y1,l=r.x2,a=r.y2,f=o.x1,c=o.y1,u=o.x2,v=o.y2;if(d===l&&h===a||f===u&&c===v)return!1;var g=(v-c)*(l-d)-(u-f)*(a-h);if(g===0)return!1;var m=((u-f)*(h-c)-(v-c)*(d-f))/g,y=((l-d)*(h-c)-(a-h)*(d-f))/g;return m<0||m>1||y<0||y>1?!1:(x&&(x.x=d+m*(l-d),x.y=h+m*(a-h)),!0)};n.exports=T},92773:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(r,o){var x=r.x1,d=r.y1,h=r.x2,l=r.y2,a=o.x,f=o.y,c=o.right,u=o.bottom,v=0;if(x>=a&&x<=c&&d>=f&&d<=u||h>=a&&h<=c&&l>=f&&l<=u)return!0;if(x<a&&h>=a){if(v=d+(l-d)*(a-x)/(h-x),v>f&&v<=u)return!0}else if(x>c&&h<=c&&(v=d+(l-d)*(c-x)/(h-x),v>=f&&v<=u))return!0;if(d<f&&l>=f){if(v=x+(h-x)*(f-d)/(l-d),v>=a&&v<=c)return!0}else if(d>u&&l<=u&&(v=x+(h-x)*(u-d)/(l-d),v>=a&&v<=c))return!0;return!1};n.exports=T},16204:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @author       Florian Mertens
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(r,o,x){x===void 0&&(x=1);var d=o.x1,h=o.y1,l=o.x2,a=o.y2,f=r.x,c=r.y,u=(l-d)*(l-d)+(a-h)*(a-h);if(u===0)return!1;var v=((f-d)*(l-d)+(c-h)*(a-h))/u;if(v<0)return Math.sqrt((d-f)*(d-f)+(h-c)*(h-c))<=x;if(v>=0&&v<=1){var g=((h-c)*(l-d)-(d-f)*(a-h))/u;return Math.abs(g)*Math.sqrt(u)<=x}else return Math.sqrt((l-f)*(l-f)+(a-c)*(a-c))<=x};n.exports=T},14199:(n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(16204),x=function(d,h){if(!o(d,h))return!1;var l=Math.min(h.x1,h.x2),a=Math.max(h.x1,h.x2),f=Math.min(h.y1,h.y2),c=Math.max(h.y1,h.y2);return d.x>=l&&d.x<=a&&d.y>=f&&d.y<=c};n.exports=x},59996:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(r,o){return r.width<=0||r.height<=0||o.width<=0||o.height<=0?!1:!(r.right<o.x||r.bottom<o.y||r.x>o.right||r.y>o.bottom)};n.exports=T},89265:(n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(76112),x=r(37303),d=r(48653),h=r(77493),l=function(a,f){if(f.left>a.right||f.right<a.left||f.top>a.bottom||f.bottom<a.top)return!1;var c=f.getLineA(),u=f.getLineB(),v=f.getLineC();if(x(a,c.x1,c.y1)||x(a,c.x2,c.y2)||x(a,u.x1,u.y1)||x(a,u.x2,u.y2)||x(a,v.x1,v.y1)||x(a,v.x2,v.y2))return!0;var g=a.getLineA(),m=a.getLineB(),y=a.getLineC(),C=a.getLineD();if(o(c,g)||o(c,m)||o(c,y)||o(c,C)||o(u,g)||o(u,m)||o(u,y)||o(u,C)||o(v,g)||o(v,m)||o(v,y)||o(v,C))return!0;var b=h(a),M=d(f,b,!0);return M.length>0};n.exports=l},84411:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(r,o,x,d,h,l){return l===void 0&&(l=0),!(o>r.right+l||x<r.left-l||d>r.bottom+l||h<r.top-l)};n.exports=T},67636:(n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(80462),x=r(10690),d=function(h,l){return h.left>l.right||h.right<l.left||h.top>l.bottom||h.bottom<l.top?!1:!!(x(h,l.x,l.y)||o(h.getLineA(),l)||o(h.getLineB(),l)||o(h.getLineC(),l))};n.exports=d},2822:(n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(76112),x=function(d,h){return!!(d.contains(h.x1,h.y1)||d.contains(h.x2,h.y2)||o(d.getLineA(),h)||o(d.getLineB(),h)||o(d.getLineC(),h))};n.exports=x},82944:(n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(48653),x=r(71694),d=r(76112),h=function(l,a){if(l.left>a.right||l.right<a.left||l.top>a.bottom||l.bottom<a.top)return!1;var f=l.getLineA(),c=l.getLineB(),u=l.getLineC(),v=a.getLineA(),g=a.getLineB(),m=a.getLineC();if(d(f,v)||d(f,g)||d(f,m)||d(c,v)||d(c,g)||d(c,m)||d(u,v)||d(u,g)||d(u,m))return!0;var y=x(l),C=o(a,y,!0);return C.length>0||(y=x(a),C=o(l,y,!0),C.length>0)};n.exports=h},91865:(n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports={CircleToCircle:r(2044),CircleToRectangle:r(81491),GetCircleToCircle:r(63376),GetCircleToRectangle:r(97439),GetLineToCircle:r(4042),GetLineToLine:r(36100),GetLineToPoints:r(3073),GetLineToPolygon:r(56362),GetLineToRectangle:r(60646),GetRaysFromPointToPolygon:r(71147),GetRectangleIntersection:r(68389),GetRectangleToRectangle:r(52784),GetRectangleToTriangle:r(26341),GetTriangleToCircle:r(38720),GetTriangleToLine:r(13882),GetTriangleToTriangle:r(75636),LineToCircle:r(80462),LineToLine:r(76112),LineToRectangle:r(92773),PointToLine:r(16204),PointToLineSegment:r(14199),RectangleToRectangle:r(59996),RectangleToTriangle:r(89265),RectangleToValues:r(84411),TriangleToCircle:r(67636),TriangleToLine:r(2822),TriangleToTriangle:r(82944)}},91938:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(r){return Math.atan2(r.y2-r.y1,r.x2-r.x1)};n.exports=T},84993:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(r,o,x){o===void 0&&(o=1),x===void 0&&(x=[]);var d=Math.round(r.x1),h=Math.round(r.y1),l=Math.round(r.x2),a=Math.round(r.y2),f=Math.abs(l-d),c=Math.abs(a-h),u=d<l?1:-1,v=h<a?1:-1,g=f-c;x.push({x:d,y:h});for(var m=1;!(d===l&&h===a);){var y=g<<1;y>-c&&(g-=c,d+=u),y<f&&(g+=f,h+=v),m%o===0&&x.push({x:d,y:h}),m++}return x};n.exports=T},36469:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(r,o,x){var d=o-(r.x1+r.x2)/2,h=x-(r.y1+r.y2)/2;return r.x1+=d,r.y1+=h,r.x2+=d,r.y2+=h,r};n.exports=T},31116:(n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(23031),x=function(d){return new o(d.x1,d.y1,d.x2,d.y2)};n.exports=x},59944:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(r,o){return o.setTo(r.x1,r.y1,r.x2,r.y2)};n.exports=T},59220:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(r,o){return r.x1===o.x1&&r.y1===o.y1&&r.x2===o.x2&&r.y2===o.y2};n.exports=T},78177:(n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(35001),x=function(d,h,l){l===void 0&&(l=h);var a=o(d),f=d.x2-d.x1,c=d.y2-d.y1;return h&&(d.x1=d.x1-f/a*h,d.y1=d.y1-c/a*h),l&&(d.x2=d.x2+f/a*l,d.y2=d.y2+c/a*l),d};n.exports=x},26708:(n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(52816),x=r(6113),d=r(2141),h=function(l,a,f,c,u){c===void 0&&(c=0),u===void 0&&(u=[]);var v=[],g=l.x1,m=l.y1,y=l.x2-g,C=l.y2-m,b=x(a,u),M,w,R=f-1;for(M=0;M<R;M++)w=b(M/R),v.push(new d(g+y*w,m+C*w));if(w=b(1),v.push(new d(g+y*w,m+C*w)),c>0){var A=v[0],L=[A];for(M=1;M<v.length-1;M++){var F=v[M];o(A,F)>=c&&(L.push(F),A=F)}var G=v[v.length-1];return o(A,G)<c&&L.pop(),L.push(G),L}else return v};n.exports=h},32125:(n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(2141),x=function(d,h){return h===void 0&&(h=new o),h.x=(d.x1+d.x2)/2,h.y=(d.y1+d.y2)/2,h};n.exports=x},99569:(n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @author       Florian Mertens
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(2141),x=function(d,h,l){l===void 0&&(l=new o);var a=d.x1,f=d.y1,c=d.x2,u=d.y2,v=(c-a)*(c-a)+(u-f)*(u-f);if(v===0)return l;var g=((h.x-a)*(c-a)+(h.y-f)*(u-f))/v;return l.x=a+g*(c-a),l.y=f+g*(u-f),l};n.exports=x},34638:(n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(36383),x=r(91938),d=r(2141),h=function(l,a){a===void 0&&(a=new d);var f=x(l)-o.TAU;return a.x=Math.cos(f),a.y=Math.sin(f),a};n.exports=h},13151:(n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(2141),x=function(d,h,l){return l===void 0&&(l=new o),l.x=d.x1+(d.x2-d.x1)*h,l.y=d.y1+(d.y2-d.y1)*h,l};n.exports=x},15258:(n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(35001),x=r(2141),d=function(h,l,a,f){f===void 0&&(f=[]),!l&&a>0&&(l=o(h)/a);for(var c=h.x1,u=h.y1,v=h.x2,g=h.y2,m=0;m<l;m++){var y=m/l,C=c+(v-c)*y,b=u+(g-u)*y;f.push(new x(C,b))}return f};n.exports=d},26408:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @author       Florian Mertens
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(r,o){var x=r.x1,d=r.y1,h=r.x2,l=r.y2,a=(h-x)*(h-x)+(l-d)*(l-d);if(a===0)return!1;var f=((d-o.y)*(h-x)-(x-o.x)*(l-d))/a;return Math.abs(f)*Math.sqrt(a)};n.exports=T},98770:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(r){return Math.abs(r.y1-r.y2)};n.exports=T},35001:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(r){return Math.sqrt((r.x2-r.x1)*(r.x2-r.x1)+(r.y2-r.y1)*(r.y2-r.y1))};n.exports=T},23031:(n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(83419),x=r(13151),d=r(15258),h=r(23777),l=r(65822),a=r(26099),f=new o({initialize:function(u,v,g,m){u===void 0&&(u=0),v===void 0&&(v=0),g===void 0&&(g=0),m===void 0&&(m=0),this.type=h.LINE,this.x1=u,this.y1=v,this.x2=g,this.y2=m},getPoint:function(c,u){return x(this,c,u)},getPoints:function(c,u,v){return d(this,c,u,v)},getRandomPoint:function(c){return l(this,c)},setTo:function(c,u,v,g){return c===void 0&&(c=0),u===void 0&&(u=0),v===void 0&&(v=0),g===void 0&&(g=0),this.x1=c,this.y1=u,this.x2=v,this.y2=g,this},setFromObjects:function(c,u){return this.x1=c.x,this.y1=c.y,this.x2=u.x,this.y2=u.y,this},getPointA:function(c){return c===void 0&&(c=new a),c.set(this.x1,this.y1),c},getPointB:function(c){return c===void 0&&(c=new a),c.set(this.x2,this.y2),c},left:{get:function(){return Math.min(this.x1,this.x2)},set:function(c){this.x1<=this.x2?this.x1=c:this.x2=c}},right:{get:function(){return Math.max(this.x1,this.x2)},set:function(c){this.x1>this.x2?this.x1=c:this.x2=c}},top:{get:function(){return Math.min(this.y1,this.y2)},set:function(c){this.y1<=this.y2?this.y1=c:this.y2=c}},bottom:{get:function(){return Math.max(this.y1,this.y2)},set:function(c){this.y1>this.y2?this.y1=c:this.y2=c}}});n.exports=f},64795:(n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(36383),x=r(15994),d=r(91938),h=function(l){var a=d(l)-o.TAU;return x(a,-Math.PI,Math.PI)};n.exports=h},52616:(n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(36383),x=r(91938),d=function(h){return Math.cos(x(h)-o.TAU)};n.exports=d},87231:(n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(36383),x=r(91938),d=function(h){return Math.sin(x(h)-o.TAU)};n.exports=d},89662:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(r,o,x){return r.x1+=o,r.y1+=x,r.x2+=o,r.y2+=x,r};n.exports=T},71165:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(r){return-((r.x2-r.x1)/(r.y2-r.y1))};n.exports=T},65822:(n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(2141),x=function(d,h){h===void 0&&(h=new o);var l=Math.random();return h.x=d.x1+l*(d.x2-d.x1),h.y=d.y1+l*(d.y2-d.y1),h};n.exports=x},69777:(n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(91938),x=r(64795),d=function(h,l){return 2*x(l)-Math.PI-o(h)};n.exports=d},39706:(n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(64400),x=function(d,h){var l=(d.x1+d.x2)/2,a=(d.y1+d.y2)/2;return o(d,l,a,h)};n.exports=x},82585:(n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(64400),x=function(d,h,l){return o(d,h.x,h.y,l)};n.exports=x},64400:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(r,o,x,d){var h=Math.cos(d),l=Math.sin(d),a=r.x1-o,f=r.y1-x;return r.x1=a*h-f*l+o,r.y1=a*l+f*h+x,a=r.x2-o,f=r.y2-x,r.x2=a*h-f*l+o,r.y2=a*l+f*h+x,r};n.exports=T},62377:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(r,o,x,d,h){return r.x1=o,r.y1=x,r.x2=o+Math.cos(d)*h,r.y2=x+Math.sin(d)*h,r};n.exports=T},71366:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(r){return(r.y2-r.y1)/(r.x2-r.x1)};n.exports=T},10809:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(r){return Math.abs(r.x1-r.x2)};n.exports=T},2529:(n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(23031);o.Angle=r(91938),o.BresenhamPoints=r(84993),o.CenterOn=r(36469),o.Clone=r(31116),o.CopyFrom=r(59944),o.Equals=r(59220),o.Extend=r(78177),o.GetEasedPoints=r(26708),o.GetMidPoint=r(32125),o.GetNearestPoint=r(99569),o.GetNormal=r(34638),o.GetPoint=r(13151),o.GetPoints=r(15258),o.GetShortestDistance=r(26408),o.Height=r(98770),o.Length=r(35001),o.NormalAngle=r(64795),o.NormalX=r(52616),o.NormalY=r(87231),o.Offset=r(89662),o.PerpSlope=r(71165),o.Random=r(65822),o.ReflectAngle=r(69777),o.Rotate=r(39706),o.RotateAroundPoint=r(82585),o.RotateAroundXY=r(64400),o.SetToAngle=r(62377),o.Slope=r(71366),o.Width=r(10809),n.exports=o},83997:(n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(83419),x=r(87841),d=r(26099);function h(a,f,c,u){var v=a-c,g=f-u,m=v*v+g*g;return Math.sqrt(m)}var l=new o({initialize:function(f,c,u){this.vertex1=f,this.vertex2=c,this.vertex3=u,this.bounds=new x,this._inCenter=new d},getInCenter:function(a){a===void 0&&(a=!0);var f=this.vertex1,c=this.vertex2,u=this.vertex3,v,g,m,y,C,b;a?(v=f.x,g=f.y,m=c.x,y=c.y,C=u.x,b=u.y):(v=f.vx,g=f.vy,m=c.vx,y=c.vy,C=u.vx,b=u.vy);var M=h(C,b,m,y),w=h(v,g,C,b),R=h(m,y,v,g),A=M+w+R;return this._inCenter.set((v*M+m*w+C*R)/A,(g*M+y*w+b*R)/A)},contains:function(a,f,c){var u=this.vertex1,v=this.vertex2,g=this.vertex3,m=u.vx,y=u.vy,C=v.vx,b=v.vy,M=g.vx,w=g.vy;if(c){var R=c.a,A=c.b,L=c.c,F=c.d,G=c.e,I=c.f;m=u.vx*R+u.vy*L+G,y=u.vx*A+u.vy*F+I,C=v.vx*R+v.vy*L+G,b=v.vx*A+v.vy*F+I,M=g.vx*R+g.vy*L+G,w=g.vx*A+g.vy*F+I}var B=M-m,k=w-y,U=C-m,H=b-y,X=a-m,j=f-y,J=B*B+k*k,Y=B*U+k*H,$=B*X+k*j,z=U*U+H*H,V=U*X+H*j,K=J*z-Y*Y,Q=K===0?0:1/K,_=(z*$-Y*V)*Q,tt=(J*V-Y*$)*Q;return _>=0&&tt>=0&&_+tt<1},isCounterClockwise:function(a){var f=this.vertex1,c=this.vertex2,u=this.vertex3,v=(c.vx-f.vx)*(u.vy-f.vy)-(c.vy-f.vy)*(u.vx-f.vx);return a<=0?v>=0:v<0},load:function(a,f,c,u,v){return c=this.vertex1.load(a,f,c,u,v),c=this.vertex2.load(a,f,c,u,v),c=this.vertex3.load(a,f,c,u,v),c},transformCoordinatesLocal:function(a,f,c,u){return this.vertex1.transformCoordinatesLocal(a,f,c,u),this.vertex2.transformCoordinatesLocal(a,f,c,u),this.vertex3.transformCoordinatesLocal(a,f,c,u),this},updateBounds:function(){var a=this.vertex1,f=this.vertex2,c=this.vertex3,u=this.bounds;return u.x=Math.min(a.vx,f.vx,c.vx),u.y=Math.min(a.vy,f.vy,c.vy),u.width=Math.max(a.vx,f.vx,c.vx)-u.x,u.height=Math.max(a.vy,f.vy,c.vy)-u.y,this},isInView:function(a,f,c,u,v,g,m,y,C,b,M){this.update(u,v,g,m,y,C,b,M);var w=this.vertex1,R=this.vertex2,A=this.vertex3;if(w.ta<=0&&R.ta<=0&&A.ta<=0||f&&!this.isCounterClockwise(c))return!1;var L=this.bounds;L.x=Math.min(w.tx,R.tx,A.tx),L.y=Math.min(w.ty,R.ty,A.ty),L.width=Math.max(w.tx,R.tx,A.tx)-L.x,L.height=Math.max(w.ty,R.ty,A.ty)-L.y;var F=a.x+a.width,G=a.y+a.height;return L.width<=0||L.height<=0||a.width<=0||a.height<=0?!1:!(L.right<a.x||L.bottom<a.y||L.x>F||L.y>G)},scrollUV:function(a,f){return this.vertex1.scrollUV(a,f),this.vertex2.scrollUV(a,f),this.vertex3.scrollUV(a,f),this},scaleUV:function(a,f){return this.vertex1.scaleUV(a,f),this.vertex2.scaleUV(a,f),this.vertex3.scaleUV(a,f),this},setColor:function(a){return this.vertex1.color=a,this.vertex2.color=a,this.vertex3.color=a,this},update:function(a,f,c,u,v,g,m,y){return this.vertex1.update(f,c,u,v,g,m,y,a),this.vertex2.update(f,c,u,v,g,m,y,a),this.vertex3.update(f,c,u,v,g,m,y,a),this},translate:function(a,f){f===void 0&&(f=0);var c=this.vertex1,u=this.vertex2,v=this.vertex3;return c.x+=a,c.y+=f,u.x+=a,u.y+=f,v.x+=a,v.y+=f,this},x:{get:function(){return this.getInCenter().x},set:function(a){var f=this.getInCenter();this.translate(a-f.x,0)}},y:{get:function(){return this.getInCenter().y},set:function(a){var f=this.getInCenter();this.translate(0,a-f.y)}},alpha:{get:function(){var a=this.vertex1,f=this.vertex2,c=this.vertex3;return(a.alpha+f.alpha+c.alpha)/3},set:function(a){this.vertex1.alpha=a,this.vertex2.alpha=a,this.vertex3.alpha=a}},depth:{get:function(){var a=this.vertex1,f=this.vertex2,c=this.vertex3;return(a.vz+f.vz+c.vz)/3}},destroy:function(){this.vertex1=null,this.vertex2=null,this.vertex3=null}});n.exports=l},48803:(n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(83997),x=r(95540),d=r(37867),h=r(25836),l=r(39318),a=new h,f=new h,c=new d,u=function(v){var g=x(v,"mesh"),m=x(v,"texture",null),y=x(v,"frame"),C=x(v,"width",1),b=x(v,"height",C),M=x(v,"widthSegments",1),w=x(v,"heightSegments",M),R=x(v,"x",0),A=x(v,"y",0),L=x(v,"z",0),F=x(v,"rotateX",0),G=x(v,"rotateY",0),I=x(v,"rotateZ",0),B=x(v,"zIsUp",!0),k=x(v,"isOrtho",g?g.dirtyCache[11]:!1),U=x(v,"colors",[16777215]),H=x(v,"alphas",[1]),X=x(v,"tile",!1),j=x(v,"flipY",!1),J=x(v,"width",null),Y={faces:[],verts:[]};a.set(R,A,L),f.set(F,G,I),c.fromRotationXYTranslation(f,a,B);var $;if(!m&&g)m=g.texture,y||($=g.frame);else if(g&&typeof m=="string")m=g.scene.sys.textures.get(m);else if(!m)return Y;$||($=m.get(y)),!J&&k&&m&&g&&(C=$.width/g.height,b=$.height/g.height);var z=C/2,V=b/2,K=Math.floor(M),Q=Math.floor(w),_=K+1,tt=Q+1,rt=C/K,ot=b/Q,ft=[],ct=[],gt,xt,Mt=0,Tt=1,Ht=0,Xt=1;$&&(Mt=$.u0,Tt=$.u1,j?(Ht=$.v1,Xt=$.v0):(Ht=$.v0,Xt=$.v1));var Kt=Tt-Mt,bt=Xt-Ht;for(xt=0;xt<tt;xt++){var Ut=xt*ot-V;for(gt=0;gt<_;gt++){var Vt=gt*rt-z;ct.push(Vt,-Ut);var ee=Mt+Kt*(gt/K),Ee=Ht+bt*(xt/Q);ft.push(ee,Ee)}}Array.isArray(U)||(U=[U]),Array.isArray(H)||(H=[H]);var Me=0,ve=0;for(xt=0;xt<Q;xt++)for(gt=0;gt<K;gt++){var Fe=(gt+_*xt)*2,ai=(gt+_*(xt+1))*2,kt=(gt+1+_*(xt+1))*2,Wt=(gt+1+_*xt)*2,fe=U[ve],xe=H[Me],Ie=new l(ct[Fe],ct[Fe+1],0,ft[Fe],ft[Fe+1],fe,xe).transformMat4(c),Ri=new l(ct[ai],ct[ai+1],0,ft[ai],ft[ai+1],fe,xe).transformMat4(c),Ci=new l(ct[Wt],ct[Wt+1],0,ft[Wt],ft[Wt+1],fe,xe).transformMat4(c),Xi=new l(ct[ai],ct[ai+1],0,ft[ai],ft[ai+1],fe,xe).transformMat4(c),ti=new l(ct[kt],ct[kt+1],0,ft[kt],ft[kt+1],fe,xe).transformMat4(c),Hi=new l(ct[Wt],ct[Wt+1],0,ft[Wt],ft[Wt+1],fe,xe).transformMat4(c);X&&(Ie.setUVs(Mt,Xt),Ri.setUVs(Mt,Ht),Ci.setUVs(Tt,Xt),Xi.setUVs(Mt,Ht),ti.setUVs(Tt,Ht),Hi.setUVs(Tt,Xt)),ve++,ve===U.length&&(ve=0),Me++,Me===H.length&&(Me=0),Y.verts.push(Ie,Ri,Ci,Xi,ti,Hi),Y.faces.push(new o(Ie,Ri,Ci),new o(Xi,ti,Hi))}return g&&(g.faces=g.faces.concat(Y.faces),g.vertices=g.vertices.concat(Y.verts)),Y};n.exports=u},34684:(n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(83997),x=r(37867),d=r(25836),h=r(39318),l=new d,a=new d,f=new x,c=function(u,v,g,m,y,C,b,M,w,R){g===void 0&&(g=1),m===void 0&&(m=0),y===void 0&&(y=0),C===void 0&&(C=0),b===void 0&&(b=0),M===void 0&&(M=0),w===void 0&&(w=0),R===void 0&&(R=!0);var A={faces:[],verts:[]},L=u.materials;l.set(m,y,C),a.set(b,M,w),f.fromRotationXYTranslation(a,l,R);for(var F=0;F<u.models.length;F++)for(var G=u.models[F],I=G.vertices,B=G.textureCoords,k=G.faces,U=0;U<k.length;U++){var H=k[U],X=H.vertices[0],j=H.vertices[1],J=H.vertices[2],Y=I[X.vertexIndex],$=I[j.vertexIndex],z=I[J.vertexIndex],V=X.textureCoordsIndex,K=j.textureCoordsIndex,Q=J.textureCoordsIndex,_=V===-1?{u:0,v:1}:B[V],tt=K===-1?{u:0,v:0}:B[K],rt=Q===-1?{u:1,v:1}:B[Q],ot=16777215;H.material!==""&&L[H.material]&&(ot=L[H.material]);var ft=new h(Y.x*g,Y.y*g,Y.z*g,_.u,_.v,ot).transformMat4(f),ct=new h($.x*g,$.y*g,$.z*g,tt.u,tt.v,ot).transformMat4(f),gt=new h(z.x*g,z.y*g,z.z*g,rt.u,rt.v,ot).transformMat4(f);A.verts.push(ft,ct,gt),A.faces.push(new o(ft,ct,gt))}return v&&(v.faces=v.faces.concat(A.faces),v.vertices=v.vertices.concat(A.verts)),A};n.exports=c},92515:(n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(83997),x=r(39318),d=function(h,l,a,f,c,u,v,g){if(f===void 0&&(f=!1),u===void 0&&(u=16777215),v===void 0&&(v=1),g===void 0&&(g=!1),h.length!==l.length&&!f){console.warn("GenerateVerts: vertices and uvs count not equal");return}var m={faces:[],vertices:[]},y,C,b,M,w,R,A,L,F,G,I,B=f?3:2,k=Array.isArray(u),U=Array.isArray(v);if(Array.isArray(a)&&a.length>0)for(y=0;y<a.length;y++){var H=a[y],X=a[y]*2,j=a[y]*B;C=h[j],b=h[j+1],M=f?h[j+2]:0,w=l[X],R=l[X+1],g&&(R=1-R),A=k?u[H]:u,L=U?v[H]:v,F=0,G=0,I=0,c&&(F=c[j],G=c[j+1],I=f?c[j+2]:0),m.vertices.push(new x(C,b,M,w,R,A,L,F,G,I))}else{var J=0,Y=0;for(y=0;y<h.length;y+=B)C=h[y],b=h[y+1],M=f?h[y+2]:0,w=l[J],R=l[J+1],A=k?u[Y]:u,L=U?v[Y]:v,F=0,G=0,I=0,c&&(F=c[y],G=c[y+1],I=f?c[y+2]:0),m.vertices.push(new x(C,b,M,w,R,A,L,F,G,I)),J+=2,Y++}for(y=0;y<m.vertices.length;y+=3){var $=m.vertices[y],z=m.vertices[y+1],V=m.vertices[y+2];m.faces.push(new o($,z,V))}return m};n.exports=d},85048:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=!0,r="untitled",o="",x="";function d(C){var b=C.indexOf("#");return b>-1?C.substring(0,b):C}function h(C){return C.models.length===0&&C.models.push({faces:[],name:r,textureCoords:[],vertexNormals:[],vertices:[]}),o="",C.models[C.models.length-1]}function l(C,b){var M=C.length>=2?C[1]:r;b.models.push({faces:[],name:M,textureCoords:[],vertexNormals:[],vertices:[]}),o=""}function a(C){C.length===2&&(o=C[1])}function f(C,b){var M=C.length,w=M>=2?parseFloat(C[1]):0,R=M>=3?parseFloat(C[2]):0,A=M>=4?parseFloat(C[3]):0;h(b).vertices.push({x:w,y:R,z:A})}function c(C,b){var M=C.length,w=M>=2?parseFloat(C[1]):0,R=M>=3?parseFloat(C[2]):0,A=M>=4?parseFloat(C[3]):0;isNaN(w)&&(w=0),isNaN(R)&&(R=0),isNaN(A)&&(A=0),T&&(R=1-R),h(b).textureCoords.push({u:w,v:R,w:A})}function u(C,b){var M=C.length,w=M>=2?parseFloat(C[1]):0,R=M>=3?parseFloat(C[2]):0,A=M>=4?parseFloat(C[3]):0;h(b).vertexNormals.push({x:w,y:R,z:A})}function v(C,b){var M=C.length-1;if(!(M<3)){for(var w={group:o,material:x,vertices:[]},R=0;R<M;R++){var A=C[R+1],L=A.split("/"),F=L.length;if(!(F<1||F>3)){var G=0,I=0,B=0;G=parseInt(L[0],10),F>1&&L[1]!==""&&(I=parseInt(L[1],10)),F>2&&(B=parseInt(L[2],10)),G!==0&&(G<0&&(G=h(b).vertices.length+1+G),I-=1,G-=1,B-=1,w.vertices.push({textureCoordsIndex:I,vertexIndex:G,vertexNormalIndex:B}))}}h(b).faces.push(w)}}function g(C,b){C.length>=2&&b.materialLibraries.push(C[1])}function m(C){C.length>=2&&(x=C[1])}var y=function(C,b){b===void 0&&(b=!0),T=b;var M={materials:{},materialLibraries:[],models:[]};o="",x="";for(var w=C.split(`
`),R=0;R<w.length;R++){var A=d(w[R]),L=A.replace(/\s\s+/g," ").trim().split(" ");switch(L[0].toLowerCase()){case"o":l(L,M);break;case"g":a(L);break;case"v":f(L,M);break;case"vt":c(L,M);break;case"vn":u(L,M);break;case"f":v(L,M);break;case"mtllib":g(L,M);break;case"usemtl":m(L);break}}return M};n.exports=y},61485:(n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(37589),x=function(d){for(var h={},l=d.split(`
`),a="",f=0;f<l.length;f++){var c=l[f].trim();if(!(c.indexOf("#")===0||c==="")){var u=c.replace(/\s\s+/g," ").trim().split(" ");switch(u[0].toLowerCase()){case"newmtl":{a=u[1];break}case"kd":{var v=Math.floor(u[1]*255),g=u.length>=2?Math.floor(u[2]*255):v,m=u.length>=3?Math.floor(u[3]*255):v;h[a]=o(v,g,m);break}}}}return h};n.exports=x},92570:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(r,o,x,d){var h,l;if(x===void 0&&d===void 0){var a=r.getInCenter();h=a.x,l=a.y}var f=Math.cos(o),c=Math.sin(o),u=r.vertex1,v=r.vertex2,g=r.vertex3,m=u.x-h,y=u.y-l;u.set(m*f-y*c+h,m*c+y*f+l),m=v.x-h,y=v.y-l,v.set(m*f-y*c+h,m*c+y*f+l),m=g.x-h,y=g.y-l,g.set(m*f-y*c+h,m*c+y*f+l)};n.exports=T},39318:(n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(83419),x=r(70554),d=r(25836),h=new o({Extends:d,initialize:function(a,f,c,u,v,g,m,y,C,b){g===void 0&&(g=16777215),m===void 0&&(m=1),y===void 0&&(y=0),C===void 0&&(C=0),b===void 0&&(b=0),d.call(this,a,f,c),this.vx=0,this.vy=0,this.vz=0,this.nx=y,this.ny=C,this.nz=b,this.u=u,this.v=v,this.color=g,this.alpha=m,this.tx=0,this.ty=0,this.ta=0,this.tu=u,this.tv=v},setUVs:function(l,a){return this.u=l,this.v=a,this.tu=l,this.tv=a,this},scrollUV:function(l,a){return this.tu+=l,this.tv+=a,this},scaleUV:function(l,a){return this.tu=this.u*l,this.tv=this.v*a,this},transformCoordinatesLocal:function(l,a,f,c){var u=this.x,v=this.y,g=this.z,m=l.val,y=u*m[0]+v*m[4]+g*m[8]+m[12],C=u*m[1]+v*m[5]+g*m[9]+m[13],b=u*m[2]+v*m[6]+g*m[10]+m[14],M=u*m[3]+v*m[7]+g*m[11]+m[15];this.vx=y/M*a,this.vy=-(C/M)*f,c<=0?this.vz=b/M:this.vz=-(b/M)},resize:function(l,a,f,c,u,v){return this.x=l,this.y=a,this.vx=this.x*f,this.vy=-this.y*c,this.vz=0,u<.5?this.vx+=f*(.5-u):u>.5&&(this.vx-=f*(u-.5)),v<.5?this.vy+=c*(.5-v):v>.5&&(this.vy-=c*(v-.5)),this},update:function(l,a,f,c,u,v,g,m){var y=this.vx*l+this.vy*f+u,C=this.vx*a+this.vy*c+v;return g&&(y=Math.round(y),C=Math.round(C)),this.tx=y,this.ty=C,this.ta=this.alpha*m,this},load:function(l,a,f,c,u){return l[++f]=this.tx,l[++f]=this.ty,l[++f]=this.tu,l[++f]=this.tv,l[++f]=c,l[++f]=u,a[++f]=x.getTintAppendFloatAlpha(this.color,this.ta),f}});n.exports=h},73090:(n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o={Face:r(83997),GenerateGridVerts:r(48803),GenerateObjVerts:r(34684),GenerateVerts:r(92515),ParseObj:r(85048),ParseObjMaterial:r(61485),RotateFace:r(92570),Vertex:r(39318)};n.exports=o},96550:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(r){return r.setTo(Math.ceil(r.x),Math.ceil(r.y))};n.exports=T},99706:(n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(2141),x=function(d){return new o(d.x,d.y)};n.exports=x},68010:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(r,o){return o.setTo(r.x,r.y)};n.exports=T},27814:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(r,o){return r.x===o.x&&r.y===o.y};n.exports=T},73565:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(r){return r.setTo(Math.floor(r.x),Math.floor(r.y))};n.exports=T},87555:(n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(2141),x=function(d,h){if(h===void 0&&(h=new o),!Array.isArray(d))throw new Error("GetCentroid points argument must be an array");var l=d.length;if(l<1)throw new Error("GetCentroid points array must not be empty");if(l===1)h.x=d[0].x,h.y=d[0].y;else{for(var a=0;a<l;a++)h.x+=d[a].x,h.y+=d[a].y;h.x/=l,h.y/=l}return h};n.exports=x},28793:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(r){return Math.sqrt(r.x*r.x+r.y*r.y)};n.exports=T},44405:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(r){return r.x*r.x+r.y*r.y};n.exports=T},20873:(n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(87841),x=function(d,h){h===void 0&&(h=new o);for(var l=Number.NEGATIVE_INFINITY,a=Number.POSITIVE_INFINITY,f=Number.NEGATIVE_INFINITY,c=Number.POSITIVE_INFINITY,u=0;u<d.length;u++){var v=d[u];v.x>l&&(l=v.x),v.x<a&&(a=v.x),v.y>f&&(f=v.y),v.y<c&&(c=v.y)}return h.x=a,h.y=c,h.width=l-a,h.height=f-c,h};n.exports=x},26152:(n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(2141),x=function(d,h,l,a){return l===void 0&&(l=0),a===void 0&&(a=new o),a.x=d.x+(h.x-d.x)*l,a.y=d.y+(h.y-d.y)*l,a};n.exports=x},55767:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(r){return r.setTo(r.y,r.x)};n.exports=T},79432:(n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(2141),x=function(d,h){return h===void 0&&(h=new o),h.setTo(-d.x,-d.y)};n.exports=x},2141:(n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(83419),x=r(23777),d=new o({initialize:function(l,a){l===void 0&&(l=0),a===void 0&&(a=l),this.type=x.POINT,this.x=l,this.y=a},setTo:function(h,l){return h===void 0&&(h=0),l===void 0&&(l=h),this.x=h,this.y=l,this}});n.exports=d},72930:(n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(2141),x=r(44405),d=function(h,l,a){a===void 0&&(a=new o);var f=h.x*l.x+h.y*l.y,c=f/x(l);return c!==0&&(a.x=c*l.x,a.y=c*l.y),a};n.exports=d},62880:(n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(2141),x=function(d,h,l){l===void 0&&(l=new o);var a=d.x*h.x+d.y*h.y;return a!==0&&(l.x=a*h.x,l.y=a*h.y),l};n.exports=x},15093:(n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(28793),x=function(d,h){if(d.x!==0||d.y!==0){var l=o(d);d.x/=l,d.y/=l}return d.x*=h,d.y*=h,d};n.exports=x},43711:(n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(2141);o.Ceil=r(96550),o.Clone=r(99706),o.CopyFrom=r(68010),o.Equals=r(27814),o.Floor=r(73565),o.GetCentroid=r(87555),o.GetMagnitude=r(28793),o.GetMagnitudeSq=r(44405),o.GetRectangleFromPoints=r(20873),o.Interpolate=r(26152),o.Invert=r(55767),o.Negative=r(79432),o.Project=r(72930),o.ProjectUnit=r(62880),o.SetMagnitude=r(15093),n.exports=o},12306:(n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(25717),x=function(d){return new o(d.points)};n.exports=x},63814:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(r,o,x){for(var d=!1,h=-1,l=r.points.length-1;++h<r.points.length;l=h){var a=r.points[h].x,f=r.points[h].y,c=r.points[l].x,u=r.points[l].y;(f<=x&&x<u||u<=x&&x<f)&&o<(c-a)*(x-f)/(u-f)+a&&(d=!d)}return d};n.exports=T},99338:(n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(63814),x=function(d,h){return o(d,h.x,h.y)};n.exports=x},94811:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */function T(Y,$,z){z=z||2;var V=$&&$.length,K=V?$[0]*z:Y.length,Q=r(Y,0,K,z,!0),_=[];if(!Q||Q.next===Q.prev)return _;var tt,rt,ot,ft,ct,gt,xt;if(V&&(Q=f(Y,$,Q,z)),Y.length>80*z){tt=ot=Y[0],rt=ft=Y[1];for(var Mt=z;Mt<K;Mt+=z)ct=Y[Mt],gt=Y[Mt+1],ct<tt&&(tt=ct),gt<rt&&(rt=gt),ct>ot&&(ot=ct),gt>ft&&(ft=gt);xt=Math.max(ot-tt,ft-rt),xt=xt!==0?32767/xt:0}return x(Q,_,z,tt,rt,xt,0),_}function r(Y,$,z,V,K){var Q,_;if(K===J(Y,$,z,V)>0)for(Q=$;Q<z;Q+=V)_=H(Q,Y[Q],Y[Q+1],_);else for(Q=z-V;Q>=$;Q-=V)_=H(Q,Y[Q],Y[Q+1],_);return _&&A(_,_.next)&&(X(_),_=_.next),_}function o(Y,$){if(!Y)return Y;$||($=Y);var z=Y,V;do if(V=!1,!z.steiner&&(A(z,z.next)||R(z.prev,z,z.next)===0)){if(X(z),z=$=z.prev,z===z.next)break;V=!0}else z=z.next;while(V||z!==$);return $}function x(Y,$,z,V,K,Q,_){if(Y){!_&&Q&&m(Y,V,K,Q);for(var tt=Y,rt,ot;Y.prev!==Y.next;){if(rt=Y.prev,ot=Y.next,Q?h(Y,V,K,Q):d(Y)){$.push(rt.i/z|0),$.push(Y.i/z|0),$.push(ot.i/z|0),X(Y),Y=ot.next,tt=ot.next;continue}if(Y=ot,Y===tt){_?_===1?(Y=l(o(Y),$,z),x(Y,$,z,V,K,Q,2)):_===2&&a(Y,$,z,V,K,Q):x(o(Y),$,z,V,K,Q,1);break}}}}function d(Y){var $=Y.prev,z=Y,V=Y.next;if(R($,z,V)>=0)return!1;for(var K=$.x,Q=z.x,_=V.x,tt=$.y,rt=z.y,ot=V.y,ft=K<Q?K<_?K:_:Q<_?Q:_,ct=tt<rt?tt<ot?tt:ot:rt<ot?rt:ot,gt=K>Q?K>_?K:_:Q>_?Q:_,xt=tt>rt?tt>ot?tt:ot:rt>ot?rt:ot,Mt=V.next;Mt!==$;){if(Mt.x>=ft&&Mt.x<=gt&&Mt.y>=ct&&Mt.y<=xt&&M(K,tt,Q,rt,_,ot,Mt.x,Mt.y)&&R(Mt.prev,Mt,Mt.next)>=0)return!1;Mt=Mt.next}return!0}function h(Y,$,z,V){var K=Y.prev,Q=Y,_=Y.next;if(R(K,Q,_)>=0)return!1;for(var tt=K.x,rt=Q.x,ot=_.x,ft=K.y,ct=Q.y,gt=_.y,xt=tt<rt?tt<ot?tt:ot:rt<ot?rt:ot,Mt=ft<ct?ft<gt?ft:gt:ct<gt?ct:gt,Tt=tt>rt?tt>ot?tt:ot:rt>ot?rt:ot,Ht=ft>ct?ft>gt?ft:gt:ct>gt?ct:gt,Xt=C(xt,Mt,$,z,V),Kt=C(Tt,Ht,$,z,V),bt=Y.prevZ,Ut=Y.nextZ;bt&&bt.z>=Xt&&Ut&&Ut.z<=Kt;){if(bt.x>=xt&&bt.x<=Tt&&bt.y>=Mt&&bt.y<=Ht&&bt!==K&&bt!==_&&M(tt,ft,rt,ct,ot,gt,bt.x,bt.y)&&R(bt.prev,bt,bt.next)>=0||(bt=bt.prevZ,Ut.x>=xt&&Ut.x<=Tt&&Ut.y>=Mt&&Ut.y<=Ht&&Ut!==K&&Ut!==_&&M(tt,ft,rt,ct,ot,gt,Ut.x,Ut.y)&&R(Ut.prev,Ut,Ut.next)>=0))return!1;Ut=Ut.nextZ}for(;bt&&bt.z>=Xt;){if(bt.x>=xt&&bt.x<=Tt&&bt.y>=Mt&&bt.y<=Ht&&bt!==K&&bt!==_&&M(tt,ft,rt,ct,ot,gt,bt.x,bt.y)&&R(bt.prev,bt,bt.next)>=0)return!1;bt=bt.prevZ}for(;Ut&&Ut.z<=Kt;){if(Ut.x>=xt&&Ut.x<=Tt&&Ut.y>=Mt&&Ut.y<=Ht&&Ut!==K&&Ut!==_&&M(tt,ft,rt,ct,ot,gt,Ut.x,Ut.y)&&R(Ut.prev,Ut,Ut.next)>=0)return!1;Ut=Ut.nextZ}return!0}function l(Y,$,z){var V=Y;do{var K=V.prev,Q=V.next.next;!A(K,Q)&&L(K,V,V.next,Q)&&B(K,Q)&&B(Q,K)&&($.push(K.i/z|0),$.push(V.i/z|0),$.push(Q.i/z|0),X(V),X(V.next),V=Y=Q),V=V.next}while(V!==Y);return o(V)}function a(Y,$,z,V,K,Q){var _=Y;do{for(var tt=_.next.next;tt!==_.prev;){if(_.i!==tt.i&&w(_,tt)){var rt=U(_,tt);_=o(_,_.next),rt=o(rt,rt.next),x(_,$,z,V,K,Q,0),x(rt,$,z,V,K,Q,0);return}tt=tt.next}_=_.next}while(_!==Y)}function f(Y,$,z,V){var K=[],Q,_,tt,rt,ot;for(Q=0,_=$.length;Q<_;Q++)tt=$[Q]*V,rt=Q<_-1?$[Q+1]*V:Y.length,ot=r(Y,tt,rt,V,!1),ot===ot.next&&(ot.steiner=!0),K.push(b(ot));for(K.sort(c),Q=0;Q<K.length;Q++)z=u(K[Q],z);return z}function c(Y,$){return Y.x-$.x}function u(Y,$){var z=v(Y,$);if(!z)return $;var V=U(z,Y);return o(V,V.next),o(z,z.next)}function v(Y,$){var z=$,V=Y.x,K=Y.y,Q=-1/0,_;do{if(K<=z.y&&K>=z.next.y&&z.next.y!==z.y){var tt=z.x+(K-z.y)*(z.next.x-z.x)/(z.next.y-z.y);if(tt<=V&&tt>Q&&(Q=tt,_=z.x<z.next.x?z:z.next,tt===V))return _}z=z.next}while(z!==$);if(!_)return null;var rt=_,ot=_.x,ft=_.y,ct=1/0,gt;z=_;do V>=z.x&&z.x>=ot&&V!==z.x&&M(K<ft?V:Q,K,ot,ft,K<ft?Q:V,K,z.x,z.y)&&(gt=Math.abs(K-z.y)/(V-z.x),B(z,Y)&&(gt<ct||gt===ct&&(z.x>_.x||z.x===_.x&&g(_,z)))&&(_=z,ct=gt)),z=z.next;while(z!==rt);return _}function g(Y,$){return R(Y.prev,Y,$.prev)<0&&R($.next,Y,Y.next)<0}function m(Y,$,z,V){var K=Y;do K.z===0&&(K.z=C(K.x,K.y,$,z,V)),K.prevZ=K.prev,K.nextZ=K.next,K=K.next;while(K!==Y);K.prevZ.nextZ=null,K.prevZ=null,y(K)}function y(Y){var $,z,V,K,Q,_,tt,rt,ot=1;do{for(z=Y,Y=null,Q=null,_=0;z;){for(_++,V=z,tt=0,$=0;$<ot&&(tt++,V=V.nextZ,!!V);$++);for(rt=ot;tt>0||rt>0&&V;)tt!==0&&(rt===0||!V||z.z<=V.z)?(K=z,z=z.nextZ,tt--):(K=V,V=V.nextZ,rt--),Q?Q.nextZ=K:Y=K,K.prevZ=Q,Q=K;z=V}Q.nextZ=null,ot*=2}while(_>1);return Y}function C(Y,$,z,V,K){return Y=(Y-z)*K|0,$=($-V)*K|0,Y=(Y|Y<<8)&16711935,Y=(Y|Y<<4)&252645135,Y=(Y|Y<<2)&858993459,Y=(Y|Y<<1)&1431655765,$=($|$<<8)&16711935,$=($|$<<4)&252645135,$=($|$<<2)&858993459,$=($|$<<1)&1431655765,Y|$<<1}function b(Y){var $=Y,z=Y;do($.x<z.x||$.x===z.x&&$.y<z.y)&&(z=$),$=$.next;while($!==Y);return z}function M(Y,$,z,V,K,Q,_,tt){return(K-_)*($-tt)>=(Y-_)*(Q-tt)&&(Y-_)*(V-tt)>=(z-_)*($-tt)&&(z-_)*(Q-tt)>=(K-_)*(V-tt)}function w(Y,$){return Y.next.i!==$.i&&Y.prev.i!==$.i&&!I(Y,$)&&(B(Y,$)&&B($,Y)&&k(Y,$)&&(R(Y.prev,Y,$.prev)||R(Y,$.prev,$))||A(Y,$)&&R(Y.prev,Y,Y.next)>0&&R($.prev,$,$.next)>0)}function R(Y,$,z){return($.y-Y.y)*(z.x-$.x)-($.x-Y.x)*(z.y-$.y)}function A(Y,$){return Y.x===$.x&&Y.y===$.y}function L(Y,$,z,V){var K=G(R(Y,$,z)),Q=G(R(Y,$,V)),_=G(R(z,V,Y)),tt=G(R(z,V,$));return!!(K!==Q&&_!==tt||K===0&&F(Y,z,$)||Q===0&&F(Y,V,$)||_===0&&F(z,Y,V)||tt===0&&F(z,$,V))}function F(Y,$,z){return $.x<=Math.max(Y.x,z.x)&&$.x>=Math.min(Y.x,z.x)&&$.y<=Math.max(Y.y,z.y)&&$.y>=Math.min(Y.y,z.y)}function G(Y){return Y>0?1:Y<0?-1:0}function I(Y,$){var z=Y;do{if(z.i!==Y.i&&z.next.i!==Y.i&&z.i!==$.i&&z.next.i!==$.i&&L(z,z.next,Y,$))return!0;z=z.next}while(z!==Y);return!1}function B(Y,$){return R(Y.prev,Y,Y.next)<0?R(Y,$,Y.next)>=0&&R(Y,Y.prev,$)>=0:R(Y,$,Y.prev)<0||R(Y,Y.next,$)<0}function k(Y,$){var z=Y,V=!1,K=(Y.x+$.x)/2,Q=(Y.y+$.y)/2;do z.y>Q!=z.next.y>Q&&z.next.y!==z.y&&K<(z.next.x-z.x)*(Q-z.y)/(z.next.y-z.y)+z.x&&(V=!V),z=z.next;while(z!==Y);return V}function U(Y,$){var z=new j(Y.i,Y.x,Y.y),V=new j($.i,$.x,$.y),K=Y.next,Q=$.prev;return Y.next=$,$.prev=Y,z.next=K,K.prev=z,V.next=z,z.prev=V,Q.next=V,V.prev=Q,V}function H(Y,$,z,V){var K=new j(Y,$,z);return V?(K.next=V.next,K.prev=V,V.next.prev=K,V.next=K):(K.prev=K,K.next=K),K}function X(Y){Y.next.prev=Y.prev,Y.prev.next=Y.next,Y.prevZ&&(Y.prevZ.nextZ=Y.nextZ),Y.nextZ&&(Y.nextZ.prevZ=Y.prevZ)}function j(Y,$,z){this.i=Y,this.x=$,this.y=z,this.prev=null,this.next=null,this.z=0,this.prevZ=null,this.nextZ=null,this.steiner=!1}T.deviation=function(Y,$,z,V){var K=$&&$.length,Q=K?$[0]*z:Y.length,_=Math.abs(J(Y,0,Q,z));if(K)for(var tt=0,rt=$.length;tt<rt;tt++){var ot=$[tt]*z,ft=tt<rt-1?$[tt+1]*z:Y.length;_-=Math.abs(J(Y,ot,ft,z))}var ct=0;for(tt=0;tt<V.length;tt+=3){var gt=V[tt]*z,xt=V[tt+1]*z,Mt=V[tt+2]*z;ct+=Math.abs((Y[gt]-Y[Mt])*(Y[xt+1]-Y[gt+1])-(Y[gt]-Y[xt])*(Y[Mt+1]-Y[gt+1]))}return _===0&&ct===0?0:Math.abs((ct-_)/_)};function J(Y,$,z,V){for(var K=0,Q=$,_=z-V;Q<z;Q+=V)K+=(Y[_]-Y[Q])*(Y[Q+1]+Y[_+1]),_=Q;return K}T.flatten=function(Y){for(var $=Y[0][0].length,z={vertices:[],holes:[],dimensions:$},V=0,K=0;K<Y.length;K++){for(var Q=0;Q<Y[K].length;Q++)for(var _=0;_<$;_++)z.vertices.push(Y[K][Q][_]);K>0&&(V+=Y[K-1].length,z.holes.push(V))}return z},n.exports=T},13829:(n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(87841),x=function(d,h){h===void 0&&(h=new o);for(var l=1/0,a=1/0,f=-l,c=-a,u,v=0;v<d.points.length;v++)u=d.points[v],l=Math.min(l,u.x),a=Math.min(a,u.y),f=Math.max(f,u.x),c=Math.max(c,u.y);return h.x=l,h.y=a,h.width=f-l,h.height=c-a,h};n.exports=x},26173:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(r,o){o===void 0&&(o=[]);for(var x=0;x<r.points.length;x++)o.push(r.points[x].x),o.push(r.points[x].y);return o};n.exports=T},9564:(n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(35001),x=r(23031),d=r(30052),h=function(l,a,f,c){c===void 0&&(c=[]);var u=l.points,v=d(l);!a&&f>0&&(a=v/f);for(var g=0;g<a;g++)for(var m=v*(g/a),y=0,C=0;C<u.length;C++){var b=u[C],M=u[(C+1)%u.length],w=new x(b.x,b.y,M.x,M.y),R=o(w);if(m<y||m>y+R){y+=R;continue}var A=w.getPoint((m-y)/R);c.push(A);break}return c};n.exports=h},30052:(n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(35001),x=r(23031),d=function(h){for(var l=h.points,a=0,f=0;f<l.length;f++){var c=l[f],u=l[(f+1)%l.length],v=new x(c.x,c.y,u.x,u.y);a+=o(v)}return a};n.exports=d},25717:(n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(83419),x=r(63814),d=r(9564),h=r(23777),l=new o({initialize:function(f){this.type=h.POLYGON,this.area=0,this.points=[],f&&this.setTo(f)},contains:function(a,f){return x(this,a,f)},setTo:function(a){if(this.area=0,this.points=[],typeof a=="string"&&(a=a.split(" ")),!Array.isArray(a))return this;for(var f,c=0;c<a.length;c++)f={x:0,y:0},typeof a[c]=="number"||typeof a[c]=="string"?(f.x=parseFloat(a[c]),f.y=parseFloat(a[c+1]),c++):Array.isArray(a[c])?(f.x=a[c][0],f.y=a[c][1]):(f.x=a[c].x,f.y=a[c].y),this.points.push(f);return this.calculateArea(),this},calculateArea:function(){if(this.points.length<3)return this.area=0,this.area;for(var a=0,f,c,u=0;u<this.points.length-1;u++)f=this.points[u],c=this.points[u+1],a+=(c.x-f.x)*(f.y+c.y);return f=this.points[0],c=this.points[this.points.length-1],a+=(f.x-c.x)*(c.y+f.y),this.area=-a*.5,this.area},getPoints:function(a,f,c){return d(this,a,f,c)}});n.exports=l},8133:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(r){return r.points.reverse(),r};n.exports=T},29524:n=>{function T(l,a){var f=l.x-a.x,c=l.y-a.y;return f*f+c*c}function r(l,a,f){var c=a.x,u=a.y,v=f.x-c,g=f.y-u;if(v!==0||g!==0){var m=((l.x-c)*v+(l.y-u)*g)/(v*v+g*g);m>1?(c=f.x,u=f.y):m>0&&(c+=v*m,u+=g*m)}return v=l.x-c,g=l.y-u,v*v+g*g}function o(l,a){for(var f=l[0],c=[f],u,v=1,g=l.length;v<g;v++)u=l[v],T(u,f)>a&&(c.push(u),f=u);return f!==u&&c.push(u),c}function x(l,a,f,c,u){for(var v=c,g,m=a+1;m<f;m++){var y=r(l[m],l[a],l[f]);y>v&&(g=m,v=y)}v>c&&(g-a>1&&x(l,a,g,c,u),u.push(l[g]),f-g>1&&x(l,g,f,c,u))}function d(l,a){var f=l.length-1,c=[l[0]];return x(l,0,f,a,c),c.push(l[f]),c}var h=function(l,a,f){a===void 0&&(a=1),f===void 0&&(f=!1);var c=l.points;if(c.length>2){var u=a*a;f||(c=o(c,u)),l.setTo(d(c,u))}return l};n.exports=h},5469:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @author       Igor Ognichenko <ognichenko.igor@gmail.com>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(o,x){return o[0]=x[0],o[1]=x[1],o},r=function(o){var x,d=[],h=o.points;for(x=0;x<h.length;x++)d.push([h[x].x,h[x].y]);var l=[];for(d.length>0&&l.push(T([0,0],d[0])),x=0;x<d.length-1;x++){var a=d[x],f=d[x+1],c=a[0],u=a[1],v=f[0],g=f[1];l.push([.85*c+.15*v,.85*u+.15*g]),l.push([.15*c+.85*v,.15*u+.85*g])}return d.length>1&&l.push(T([0,0],d[d.length-1])),o.setTo(l)};n.exports=r},24709:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(r,o,x){for(var d=r.points,h=0;h<d.length;h++)d[h].x+=o,d[h].y+=x;return r};n.exports=T},58423:(n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(25717);o.Clone=r(12306),o.Contains=r(63814),o.ContainsPoint=r(99338),o.Earcut=r(94811),o.GetAABB=r(13829),o.GetNumberArray=r(26173),o.GetPoints=r(9564),o.Perimeter=r(30052),o.Reverse=r(8133),o.Simplify=r(29524),o.Smooth=r(5469),o.Translate=r(24709),n.exports=o},62224:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(r){return r.width*r.height};n.exports=T},98615:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(r){return r.x=Math.ceil(r.x),r.y=Math.ceil(r.y),r};n.exports=T},31688:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(r){return r.x=Math.ceil(r.x),r.y=Math.ceil(r.y),r.width=Math.ceil(r.width),r.height=Math.ceil(r.height),r};n.exports=T},67502:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(r,o,x){return r.x=o-r.width/2,r.y=x-r.height/2,r};n.exports=T},65085:(n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(87841),x=function(d){return new o(d.x,d.y,d.width,d.height)};n.exports=x},37303:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(r,o,x){return r.width<=0||r.height<=0?!1:r.x<=o&&r.x+r.width>=o&&r.y<=x&&r.y+r.height>=x};n.exports=T},96553:(n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(37303),x=function(d,h){return o(d,h.x,h.y)};n.exports=x},70273:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(r,o){return o.width*o.height>r.width*r.height?!1:o.x>r.x&&o.x<r.right&&o.right>r.x&&o.right<r.right&&o.y>r.y&&o.y<r.bottom&&o.bottom>r.y&&o.bottom<r.bottom};n.exports=T},43459:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(r,o){return o.setTo(r.x,r.y,r.width,r.height)};n.exports=T},77493:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(r,o){return o===void 0&&(o=[]),o.push({x:r.x,y:r.y}),o.push({x:r.right,y:r.y}),o.push({x:r.right,y:r.bottom}),o.push({x:r.x,y:r.bottom}),o};n.exports=T},9219:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(r,o){return r.x===o.x&&r.y===o.y&&r.width===o.width&&r.height===o.height};n.exports=T},53751:(n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(8249),x=function(d,h){var l=o(d);return l<o(h)?d.setSize(h.height*l,h.height):d.setSize(h.width,h.width/l),d.setPosition(h.centerX-d.width/2,h.centerY-d.height/2)};n.exports=x},16088:(n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(8249),x=function(d,h){var l=o(d);return l>o(h)?d.setSize(h.height*l,h.height):d.setSize(h.width,h.width/l),d.setPosition(h.centerX-d.width/2,h.centerY-d.height/2)};n.exports=x},80774:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(r){return r.x=Math.floor(r.x),r.y=Math.floor(r.y),r};n.exports=T},83859:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(r){return r.x=Math.floor(r.x),r.y=Math.floor(r.y),r.width=Math.floor(r.width),r.height=Math.floor(r.height),r};n.exports=T},19217:(n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(87841),x=r(36383),d=function(h,l){if(l===void 0&&(l=new o),h.length===0)return l;for(var a=Number.MAX_VALUE,f=Number.MAX_VALUE,c=x.MIN_SAFE_INTEGER,u=x.MIN_SAFE_INTEGER,v,g,m,y=0;y<h.length;y++)v=h[y],Array.isArray(v)?(g=v[0],m=v[1]):(g=v.x,m=v.y),a=Math.min(a,g),f=Math.min(f,m),c=Math.max(c,g),u=Math.max(u,m);return l.x=a,l.y=f,l.width=c-a,l.height=u-f,l};n.exports=d},9477:(n,T,r)=>{/**
 * @author       samme
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(87841),x=function(d,h,l,a,f){return f===void 0&&(f=new o),f.setTo(Math.min(d,l),Math.min(h,a),Math.abs(d-l),Math.abs(h-a))};n.exports=x},8249:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(r){return r.height===0?NaN:r.width/r.height};n.exports=T},27165:(n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(2141),x=function(d,h){return h===void 0&&(h=new o),h.x=d.centerX,h.y=d.centerY,h};n.exports=x},20812:(n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(13019),x=r(2141),d=function(h,l,a){if(a===void 0&&(a=new x),l<=0||l>=1)return a.x=h.x,a.y=h.y,a;var f=o(h)*l;return l>.5?(f-=h.width+h.height,f<=h.width?(a.x=h.right-f,a.y=h.bottom):(a.x=h.x,a.y=h.bottom-(f-h.width))):f<=h.width?(a.x=h.x+f,a.y=h.y):(a.x=h.right,a.y=h.y+(f-h.width)),a};n.exports=d},34819:(n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(20812),x=r(13019),d=function(h,l,a,f){f===void 0&&(f=[]),!l&&a>0&&(l=x(h)/a);for(var c=0;c<l;c++){var u=c/l;f.push(o(h,u))}return f};n.exports=d},51313:(n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(2141),x=function(d,h){return h===void 0&&(h=new o),h.x=d.width,h.y=d.height,h};n.exports=x},86091:(n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(67502),x=function(d,h,l){var a=d.centerX,f=d.centerY;return d.setSize(d.width+h*2,d.height+l*2),o(d,a,f)};n.exports=x},53951:(n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(87841),x=r(59996),d=function(h,l,a){return a===void 0&&(a=new o),x(h,l)?(a.x=Math.max(h.x,l.x),a.y=Math.max(h.y,l.y),a.width=Math.min(h.right,l.right)-a.x,a.height=Math.min(h.bottom,l.bottom)-a.y):a.setEmpty(),a};n.exports=d},14649:(n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(13019),x=r(2141),d=function(h,l,a,f){if(f===void 0&&(f=[]),!l&&!a)return f;l?a=Math.round(o(h)/l):l=o(h)/a;for(var c=h.x,u=h.y,v=0,g=0;g<a;g++)switch(f.push(new x(c,u)),v){case 0:c+=l,c>=h.right&&(v=1,u+=c-h.right,c=h.right);break;case 1:u+=l,u>=h.bottom&&(v=2,c-=u-h.bottom,u=h.bottom);break;case 2:c-=l,c<=h.left&&(v=3,u-=h.left-c,c=h.left);break;case 3:u-=l,u<=h.top&&(v=0,u=h.top);break}return f};n.exports=d},33595:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(r,o){for(var x=r.x,d=r.right,h=r.y,l=r.bottom,a=0;a<o.length;a++)x=Math.min(x,o[a].x),d=Math.max(d,o[a].x),h=Math.min(h,o[a].y),l=Math.max(l,o[a].y);return r.x=x,r.y=h,r.width=d-x,r.height=l-h,r};n.exports=T},20074:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(r,o){var x=Math.min(r.x,o.x),d=Math.max(r.right,o.right);r.x=x,r.width=d-x;var h=Math.min(r.y,o.y),l=Math.max(r.bottom,o.bottom);return r.y=h,r.height=l-h,r};n.exports=T},92171:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(r,o,x){var d=Math.min(r.x,o),h=Math.max(r.right,o);r.x=d,r.width=h-d;var l=Math.min(r.y,x),a=Math.max(r.bottom,x);return r.y=l,r.height=a-l,r};n.exports=T},42981:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(r,o,x){return r.x+=o,r.y+=x,r};n.exports=T},46907:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(r,o){return r.x+=o.x,r.y+=o.y,r};n.exports=T},60170:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(r,o){return r.x<o.right&&r.right>o.x&&r.y<o.bottom&&r.bottom>o.y};n.exports=T},13019:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(r){return 2*(r.width+r.height)};n.exports=T},85133:(n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(2141),x=r(39506),d=function(h,l,a){a===void 0&&(a=new o),l=x(l);var f=Math.sin(l),c=Math.cos(l),u=c>0?h.width/2:h.width/-2,v=f>0?h.height/2:h.height/-2;return Math.abs(u*f)<Math.abs(v*c)?v=u*f/c:u=v*c/f,a.x=u+h.centerX,a.y=v+h.centerY,a};n.exports=d},26597:(n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(2141),x=function(d,h){return h===void 0&&(h=new o),h.x=d.x+Math.random()*d.width,h.y=d.y+Math.random()*d.height,h};n.exports=x},86470:(n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(30976),x=r(70273),d=r(2141),h=function(l,a,f){if(f===void 0&&(f=new d),x(l,a))switch(o(0,3)){case 0:f.x=l.x+Math.random()*(a.right-l.x),f.y=l.y+Math.random()*(a.top-l.y);break;case 1:f.x=a.x+Math.random()*(l.right-a.x),f.y=a.bottom+Math.random()*(l.bottom-a.bottom);break;case 2:f.x=l.x+Math.random()*(a.x-l.x),f.y=a.y+Math.random()*(l.bottom-a.y);break;case 3:f.x=a.right+Math.random()*(l.right-a.right),f.y=l.y+Math.random()*(a.bottom-l.y);break}return f};n.exports=h},87841:(n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(83419),x=r(37303),d=r(20812),h=r(34819),l=r(23777),a=r(23031),f=r(26597),c=new o({initialize:function(v,g,m,y){v===void 0&&(v=0),g===void 0&&(g=0),m===void 0&&(m=0),y===void 0&&(y=0),this.type=l.RECTANGLE,this.x=v,this.y=g,this.width=m,this.height=y},contains:function(u,v){return x(this,u,v)},getPoint:function(u,v){return d(this,u,v)},getPoints:function(u,v,g){return h(this,u,v,g)},getRandomPoint:function(u){return f(this,u)},setTo:function(u,v,g,m){return this.x=u,this.y=v,this.width=g,this.height=m,this},setEmpty:function(){return this.setTo(0,0,0,0)},setPosition:function(u,v){return v===void 0&&(v=u),this.x=u,this.y=v,this},setSize:function(u,v){return v===void 0&&(v=u),this.width=u,this.height=v,this},isEmpty:function(){return this.width<=0||this.height<=0},getLineA:function(u){return u===void 0&&(u=new a),u.setTo(this.x,this.y,this.right,this.y),u},getLineB:function(u){return u===void 0&&(u=new a),u.setTo(this.right,this.y,this.right,this.bottom),u},getLineC:function(u){return u===void 0&&(u=new a),u.setTo(this.right,this.bottom,this.x,this.bottom),u},getLineD:function(u){return u===void 0&&(u=new a),u.setTo(this.x,this.bottom,this.x,this.y),u},left:{get:function(){return this.x},set:function(u){u>=this.right?this.width=0:this.width=this.right-u,this.x=u}},right:{get:function(){return this.x+this.width},set:function(u){u<=this.x?this.width=0:this.width=u-this.x}},top:{get:function(){return this.y},set:function(u){u>=this.bottom?this.height=0:this.height=this.bottom-u,this.y=u}},bottom:{get:function(){return this.y+this.height},set:function(u){u<=this.y?this.height=0:this.height=u-this.y}},centerX:{get:function(){return this.x+this.width/2},set:function(u){this.x=u-this.width/2}},centerY:{get:function(){return this.y+this.height/2},set:function(u){this.y=u-this.height/2}}});n.exports=c},94845:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(r,o){return r.width===o.width&&r.height===o.height};n.exports=T},31730:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(r,o,x){return x===void 0&&(x=o),r.width*=o,r.height*=x,r};n.exports=T},36899:(n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(87841),x=function(d,h,l){l===void 0&&(l=new o);var a=Math.min(d.x,h.x),f=Math.min(d.y,h.y),c=Math.max(d.right,h.right)-a,u=Math.max(d.bottom,h.bottom)-f;return l.setTo(a,f,c,u)};n.exports=x},93232:(n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(87841);o.Area=r(62224),o.Ceil=r(98615),o.CeilAll=r(31688),o.CenterOn=r(67502),o.Clone=r(65085),o.Contains=r(37303),o.ContainsPoint=r(96553),o.ContainsRect=r(70273),o.CopyFrom=r(43459),o.Decompose=r(77493),o.Equals=r(9219),o.FitInside=r(53751),o.FitOutside=r(16088),o.Floor=r(80774),o.FloorAll=r(83859),o.FromPoints=r(19217),o.FromXY=r(9477),o.GetAspectRatio=r(8249),o.GetCenter=r(27165),o.GetPoint=r(20812),o.GetPoints=r(34819),o.GetSize=r(51313),o.Inflate=r(86091),o.Intersection=r(53951),o.MarchingAnts=r(14649),o.MergePoints=r(33595),o.MergeRect=r(20074),o.MergeXY=r(92171),o.Offset=r(42981),o.OffsetPoint=r(46907),o.Overlaps=r(60170),o.Perimeter=r(13019),o.PerimeterPoint=r(85133),o.Random=r(26597),o.RandomOutside=r(86470),o.SameDimensions=r(94845),o.Scale=r(31730),o.Union=r(36899),n.exports=o},41658:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(r){var o=r.x1,x=r.y1,d=r.x2,h=r.y2,l=r.x3,a=r.y3;return Math.abs(((l-o)*(h-x)-(d-o)*(a-x))/2)};n.exports=T},39208:(n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(16483),x=function(d,h,l){var a=l*(Math.sqrt(3)/2),f=d,c=h,u=d+l/2,v=h+a,g=d-l/2,m=h+a;return new o(f,c,u,v,g,m)};n.exports=x},39545:(n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(94811),x=r(16483),d=function(h,l,a,f,c){l===void 0&&(l=null),a===void 0&&(a=1),f===void 0&&(f=1),c===void 0&&(c=[]);for(var u=o(h,l),v,g,m,y,C,b,M,w,R,A=0;A<u.length;A+=3)v=u[A],g=u[A+1],m=u[A+2],y=h[v*2]*a,C=h[v*2+1]*f,b=h[g*2]*a,M=h[g*2+1]*f,w=h[m*2]*a,R=h[m*2+1]*f,c.push(new x(y,C,b,M,w,R));return c};n.exports=d},90301:(n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(16483),x=function(d,h,l,a){a===void 0&&(a=l);var f=d,c=h,u=d,v=h-a,g=d+l,m=h;return new o(f,c,u,v,g,m)};n.exports=x},23707:(n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(97523),x=r(13584),d=function(h,l,a,f){f===void 0&&(f=o);var c=f(h),u=l-c.x,v=a-c.y;return x(h,u,v)};n.exports=d},97523:(n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(2141),x=function(d,h){return h===void 0&&(h=new o),h.x=(d.x1+d.x2+d.x3)/3,h.y=(d.y1+d.y2+d.y3)/3,h};n.exports=x},24951:(n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(26099);function x(h,l,a,f){return h*f-l*a}var d=function(h,l){l===void 0&&(l=new o);var a=h.x3,f=h.y3,c=h.x1-a,u=h.y1-f,v=h.x2-a,g=h.y2-f,m=2*x(c,u,v,g),y=x(u,c*c+u*u,g,v*v+g*g),C=x(c,c*c+u*u,v,v*v+g*g);return l.x=a-y/m,l.y=f+C/m,l};n.exports=d},85614:(n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(96503),x=function(d,h){h===void 0&&(h=new o);var l=d.x1,a=d.y1,f=d.x2,c=d.y2,u=d.x3,v=d.y3,g=f-l,m=c-a,y=u-l,C=v-a,b=g*(l+f)+m*(a+c),M=y*(l+u)+C*(a+v),w=2*(g*(v-c)-m*(u-f)),R,A;if(Math.abs(w)<1e-6){var L=Math.min(l,f,u),F=Math.min(a,c,v);R=(Math.max(l,f,u)-L)*.5,A=(Math.max(a,c,v)-F)*.5,h.x=L+R,h.y=F+A,h.radius=Math.sqrt(R*R+A*A)}else h.x=(C*b-m*M)/w,h.y=(g*M-y*b)/w,R=h.x-l,A=h.y-a,h.radius=Math.sqrt(R*R+A*A);return h};n.exports=x},74422:(n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(16483),x=function(d){return new o(d.x1,d.y1,d.x2,d.y2,d.x3,d.y3)};n.exports=x},10690:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(r,o,x){var d=r.x3-r.x1,h=r.y3-r.y1,l=r.x2-r.x1,a=r.y2-r.y1,f=o-r.x1,c=x-r.y1,u=d*d+h*h,v=d*l+h*a,g=d*f+h*c,m=l*l+a*a,y=l*f+a*c,C=u*m-v*v,b=C===0?0:1/C,M=(m*g-v*y)*b,w=(u*y-v*g)*b;return M>=0&&w>=0&&M+w<1};n.exports=T},48653:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(r,o,x,d){x===void 0&&(x=!1),d===void 0&&(d=[]);for(var h=r.x3-r.x1,l=r.y3-r.y1,a=r.x2-r.x1,f=r.y2-r.y1,c=h*h+l*l,u=h*a+l*f,v=a*a+f*f,g=c*v-u*u,m=g===0?0:1/g,y,C,b,M,w,R,A=r.x1,L=r.y1,F=0;F<o.length&&(b=o[F].x-A,M=o[F].y-L,w=h*b+l*M,R=a*b+f*M,y=(v*w-u*R)*m,C=(c*R-u*w)*m,!(y>=0&&C>=0&&y+C<1&&(d.push({x:o[F].x,y:o[F].y}),x)));F++);return d};n.exports=T},96006:(n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(10690),x=function(d,h){return o(d,h.x,h.y)};n.exports=x},71326:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(r,o){return o.setTo(r.x1,r.y1,r.x2,r.y2,r.x3,r.y3)};n.exports=T},71694:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(r,o){return o===void 0&&(o=[]),o.push({x:r.x1,y:r.y1}),o.push({x:r.x2,y:r.y2}),o.push({x:r.x3,y:r.y3}),o};n.exports=T},33522:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(r,o){return r.x1===o.x1&&r.y1===o.y1&&r.x2===o.x2&&r.y2===o.y2&&r.x3===o.x3&&r.y3===o.y3};n.exports=T},20437:(n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(2141),x=r(35001),d=function(h,l,a){a===void 0&&(a=new o);var f=h.getLineA(),c=h.getLineB(),u=h.getLineC();if(l<=0||l>=1)return a.x=f.x1,a.y=f.y1,a;var v=x(f),g=x(c),m=x(u),y=v+g+m,C=y*l,b=0;return C<v?(b=C/v,a.x=f.x1+(f.x2-f.x1)*b,a.y=f.y1+(f.y2-f.y1)*b):C>v+g?(C-=v+g,b=C/m,a.x=u.x1+(u.x2-u.x1)*b,a.y=u.y1+(u.y2-u.y1)*b):(C-=v,b=C/g,a.x=c.x1+(c.x2-c.x1)*b,a.y=c.y1+(c.y2-c.y1)*b),a};n.exports=d},80672:(n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(35001),x=r(2141),d=function(h,l,a,f){f===void 0&&(f=[]);var c=h.getLineA(),u=h.getLineB(),v=h.getLineC(),g=o(c),m=o(u),y=o(v),C=g+m+y;!l&&a>0&&(l=C/a);for(var b=0;b<l;b++){var M=C*(b/l),w=0,R=new x;M<g?(w=M/g,R.x=c.x1+(c.x2-c.x1)*w,R.y=c.y1+(c.y2-c.y1)*w):M>g+m?(M-=g+m,w=M/y,R.x=v.x1+(v.x2-v.x1)*w,R.y=v.y1+(v.y2-v.y1)*w):(M-=g,w=M/m,R.x=u.x1+(u.x2-u.x1)*w,R.y=u.y1+(u.y2-u.y1)*w),f.push(R)}return f};n.exports=d},39757:(n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(2141);function x(h,l,a,f){var c=h-a,u=l-f,v=c*c+u*u;return Math.sqrt(v)}var d=function(h,l){l===void 0&&(l=new o);var a=h.x1,f=h.y1,c=h.x2,u=h.y2,v=h.x3,g=h.y3,m=x(v,g,c,u),y=x(a,f,v,g),C=x(c,u,a,f),b=m+y+C;return l.x=(a*m+c*y+v*C)/b,l.y=(f*m+u*y+g*C)/b,l};n.exports=d},13584:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(r,o,x){return r.x1+=o,r.y1+=x,r.x2+=o,r.y2+=x,r.x3+=o,r.y3+=x,r};n.exports=T},1376:(n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(35001),x=function(d){var h=d.getLineA(),l=d.getLineB(),a=d.getLineC();return o(h)+o(l)+o(a)};n.exports=x},90260:(n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(2141),x=function(d,h){h===void 0&&(h=new o);var l=d.x2-d.x1,a=d.y2-d.y1,f=d.x3-d.x1,c=d.y3-d.y1,u=Math.random(),v=Math.random();return u+v>=1&&(u=1-u,v=1-v),h.x=d.x1+(l*u+f*v),h.y=d.y1+(a*u+c*v),h};n.exports=x},52172:(n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(99614),x=r(39757),d=function(h,l){var a=x(h);return o(h,a.x,a.y,l)};n.exports=d},49907:(n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(99614),x=function(d,h,l){return o(d,h.x,h.y,l)};n.exports=x},99614:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(r,o,x,d){var h=Math.cos(d),l=Math.sin(d),a=r.x1-o,f=r.y1-x;return r.x1=a*h-f*l+o,r.y1=a*l+f*h+x,a=r.x2-o,f=r.y2-x,r.x2=a*h-f*l+o,r.y2=a*l+f*h+x,a=r.x3-o,f=r.y3-x,r.x3=a*h-f*l+o,r.y3=a*l+f*h+x,r};n.exports=T},16483:(n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(83419),x=r(10690),d=r(20437),h=r(80672),l=r(23777),a=r(23031),f=r(90260),c=new o({initialize:function(v,g,m,y,C,b){v===void 0&&(v=0),g===void 0&&(g=0),m===void 0&&(m=0),y===void 0&&(y=0),C===void 0&&(C=0),b===void 0&&(b=0),this.type=l.TRIANGLE,this.x1=v,this.y1=g,this.x2=m,this.y2=y,this.x3=C,this.y3=b},contains:function(u,v){return x(this,u,v)},getPoint:function(u,v){return d(this,u,v)},getPoints:function(u,v,g){return h(this,u,v,g)},getRandomPoint:function(u){return f(this,u)},setTo:function(u,v,g,m,y,C){return u===void 0&&(u=0),v===void 0&&(v=0),g===void 0&&(g=0),m===void 0&&(m=0),y===void 0&&(y=0),C===void 0&&(C=0),this.x1=u,this.y1=v,this.x2=g,this.y2=m,this.x3=y,this.y3=C,this},getLineA:function(u){return u===void 0&&(u=new a),u.setTo(this.x1,this.y1,this.x2,this.y2),u},getLineB:function(u){return u===void 0&&(u=new a),u.setTo(this.x2,this.y2,this.x3,this.y3),u},getLineC:function(u){return u===void 0&&(u=new a),u.setTo(this.x3,this.y3,this.x1,this.y1),u},left:{get:function(){return Math.min(this.x1,this.x2,this.x3)},set:function(u){var v=0;this.x1<=this.x2&&this.x1<=this.x3?v=this.x1-u:this.x2<=this.x1&&this.x2<=this.x3?v=this.x2-u:v=this.x3-u,this.x1-=v,this.x2-=v,this.x3-=v}},right:{get:function(){return Math.max(this.x1,this.x2,this.x3)},set:function(u){var v=0;this.x1>=this.x2&&this.x1>=this.x3?v=this.x1-u:this.x2>=this.x1&&this.x2>=this.x3?v=this.x2-u:v=this.x3-u,this.x1-=v,this.x2-=v,this.x3-=v}},top:{get:function(){return Math.min(this.y1,this.y2,this.y3)},set:function(u){var v=0;this.y1<=this.y2&&this.y1<=this.y3?v=this.y1-u:this.y2<=this.y1&&this.y2<=this.y3?v=this.y2-u:v=this.y3-u,this.y1-=v,this.y2-=v,this.y3-=v}},bottom:{get:function(){return Math.max(this.y1,this.y2,this.y3)},set:function(u){var v=0;this.y1>=this.y2&&this.y1>=this.y3?v=this.y1-u:this.y2>=this.y1&&this.y2>=this.y3?v=this.y2-u:v=this.y3-u,this.y1-=v,this.y2-=v,this.y3-=v}}});n.exports=c},84435:(n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(16483);o.Area=r(41658),o.BuildEquilateral=r(39208),o.BuildFromPolygon=r(39545),o.BuildRight=r(90301),o.CenterOn=r(23707),o.Centroid=r(97523),o.CircumCenter=r(24951),o.CircumCircle=r(85614),o.Clone=r(74422),o.Contains=r(10690),o.ContainsArray=r(48653),o.ContainsPoint=r(96006),o.CopyFrom=r(71326),o.Decompose=r(71694),o.Equals=r(33522),o.GetPoint=r(20437),o.GetPoints=r(80672),o.InCenter=r(39757),o.Perimeter=r(1376),o.Offset=r(13584),o.Random=r(90260),o.Rotate=r(52172),o.RotateAroundPoint=r(49907),o.RotateAroundXY=r(99614),n.exports=o},74457:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(r,o,x){return{gameObject:r,enabled:!0,draggable:!1,dropZone:!1,cursor:!1,target:null,camera:null,hitArea:o,hitAreaCallback:x,hitAreaDebug:null,customHitArea:!1,localX:0,localY:0,dragState:0,dragStartX:0,dragStartY:0,dragStartXGlobal:0,dragStartYGlobal:0,dragStartCamera:null,dragX:0,dragY:0}};n.exports=T},84409:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(r,o){return function(x,d,h,l){var a=r.getPixelAlpha(d,h,l.texture.key,l.frame.name);return a&&a>=o}};n.exports=T},7003:(n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(83419),x=r(93301),d=r(50792),h=r(8214),l=r(8443),a=r(78970),f=r(85098),c=r(42515),u=r(36210),v=r(61340),g=r(85955),m=new o({initialize:function(C,b){this.game=C,this.scaleManager,this.canvas,this.config=b,this.enabled=!0,this.events=new d,this.isOver=!0,this.defaultCursor="",this.keyboard=b.inputKeyboard?new a(this):null,this.mouse=b.inputMouse?new f(this):null,this.touch=b.inputTouch?new u(this):null,this.pointers=[],this.pointersTotal=b.inputActivePointers;for(var M=0;M<=this.pointersTotal;M++){var w=new c(this,M);w.smoothFactor=b.inputSmoothFactor,this.pointers.push(w)}this.mousePointer=b.inputMouse?this.pointers[0]:null,this.activePointer=this.pointers[0],this.globalTopOnly=!0,this.time=0,this._tempPoint={x:0,y:0},this._tempHitTest=[],this._tempMatrix=new v,this._tempMatrix2=new v,this._tempSkip=!1,this.mousePointerContainer=[this.mousePointer],C.events.once(l.BOOT,this.boot,this)},boot:function(){var y=this.game,C=y.events;this.canvas=y.canvas,this.scaleManager=y.scale,this.events.emit(h.MANAGER_BOOT),C.on(l.PRE_RENDER,this.preRender,this),C.once(l.DESTROY,this.destroy,this)},setCanvasOver:function(y){this.isOver=!0,this.events.emit(h.GAME_OVER,y)},setCanvasOut:function(y){this.isOver=!1,this.events.emit(h.GAME_OUT,y)},preRender:function(){var y=this.game.loop.now,C=this.game.loop.delta,b=this.game.scene.getScenes(!0,!0);this.time=y,this.events.emit(h.MANAGER_UPDATE);for(var M=0;M<b.length;M++){var w=b[M];if(w.sys.input&&w.sys.input.updatePoll(y,C)&&this.globalTopOnly)return}},setDefaultCursor:function(y){this.defaultCursor=y,this.canvas.style.cursor!==y&&(this.canvas.style.cursor=y)},setCursor:function(y){y.cursor&&(this.canvas.style.cursor=y.cursor)},resetCursor:function(y,C){(C||y&&y.cursor)&&this.canvas&&(this.canvas.style.cursor=this.defaultCursor)},addPointer:function(y){y===void 0&&(y=1);var C=[];this.pointersTotal+y>10&&(y=10-this.pointersTotal);for(var b=0;b<y;b++){var M=this.pointers.length,w=new c(this,M);w.smoothFactor=this.config.inputSmoothFactor,this.pointers.push(w),this.pointersTotal++,C.push(w)}return C},updateInputPlugins:function(y,C){var b=this.game.scene.getScenes(!1,!0);this._tempSkip=!1;for(var M=0;M<b.length;M++){var w=b[M];if(w.sys.input){var R=w.sys.input.update(y,C);if(R&&this.globalTopOnly||this._tempSkip)return}}},onTouchStart:function(y){for(var C=this.pointers,b=[],M=0;M<y.changedTouches.length;M++)for(var w=y.changedTouches[M],R=1;R<C.length;R++){var A=C[R];if(!A.active){A.touchstart(w,y),this.activePointer=A,b.push(A);break}}this.updateInputPlugins(x.TOUCH_START,b)},onTouchMove:function(y){for(var C=this.pointers,b=[],M=0;M<y.changedTouches.length;M++)for(var w=y.changedTouches[M],R=1;R<C.length;R++){var A=C[R];if(A.active&&A.identifier===w.identifier){var L=document.elementFromPoint(w.clientX,w.clientY),F=L===this.canvas;!this.isOver&&F?this.setCanvasOver(y):this.isOver&&!F&&this.setCanvasOut(y),this.isOver&&(A.touchmove(w,y),this.activePointer=A,b.push(A));break}}this.updateInputPlugins(x.TOUCH_MOVE,b)},onTouchEnd:function(y){for(var C=this.pointers,b=[],M=0;M<y.changedTouches.length;M++)for(var w=y.changedTouches[M],R=1;R<C.length;R++){var A=C[R];if(A.active&&A.identifier===w.identifier){A.touchend(w,y),b.push(A);break}}this.updateInputPlugins(x.TOUCH_END,b)},onTouchCancel:function(y){for(var C=this.pointers,b=[],M=0;M<y.changedTouches.length;M++)for(var w=y.changedTouches[M],R=1;R<C.length;R++){var A=C[R];if(A.active&&A.identifier===w.identifier){A.touchcancel(w,y),b.push(A);break}}this.updateInputPlugins(x.TOUCH_CANCEL,b)},onMouseDown:function(y){var C=this.mousePointer;C.down(y),C.updateMotion(),this.activePointer=C,this.updateInputPlugins(x.MOUSE_DOWN,this.mousePointerContainer)},onMouseMove:function(y){var C=this.mousePointer;C.move(y),C.updateMotion(),this.activePointer=C,this.updateInputPlugins(x.MOUSE_MOVE,this.mousePointerContainer)},onMouseUp:function(y){var C=this.mousePointer;C.up(y),C.updateMotion(),this.activePointer=C,this.updateInputPlugins(x.MOUSE_UP,this.mousePointerContainer)},onMouseWheel:function(y){var C=this.mousePointer;C.wheel(y),this.activePointer=C,this.updateInputPlugins(x.MOUSE_WHEEL,this.mousePointerContainer)},onPointerLockChange:function(y){var C=this.mouse.locked;this.mousePointer.locked=C,this.events.emit(h.POINTERLOCK_CHANGE,y,C)},inputCandidate:function(y,C){var b=y.input;if(!b||!b.enabled||!y.willRender(C))return!1;var M=!0,w=y.parentContainer;if(w)do{if(!w.willRender(C)){M=!1;break}w=w.parentContainer}while(w);return M},hitTest:function(y,C,b,M){M===void 0&&(M=this._tempHitTest);var w=this._tempPoint,R=b.scrollX,A=b.scrollY;M.length=0;var L=y.x,F=y.y;b.getWorldPoint(L,F,w),y.worldX=w.x,y.worldY=w.y;for(var G={x:0,y:0},I=this._tempMatrix,B=this._tempMatrix2,k=0;k<C.length;k++){var U=C[k];if(this.inputCandidate(U,b)){var H=w.x+R*U.scrollFactorX-R,X=w.y+A*U.scrollFactorY-A;U.parentContainer?(U.getWorldTransformMatrix(I,B),I.applyInverse(H,X,G)):g(H,X,U.x,U.y,U.rotation,U.scaleX,U.scaleY,G),this.pointWithinHitArea(U,G.x,G.y)&&M.push(U)}}return M},pointWithinHitArea:function(y,C,b){C+=y.displayOriginX,b+=y.displayOriginY;var M=y.input;return M&&M.hitAreaCallback(M.hitArea,C,b,y)?(M.localX=C,M.localY=b,!0):!1},pointWithinInteractiveObject:function(y,C,b){return y.hitArea?(C+=y.gameObject.displayOriginX,b+=y.gameObject.displayOriginY,y.localX=C,y.localY=b,y.hitAreaCallback(y.hitArea,C,b,y)):!1},transformPointer:function(y,C,b,M){var w=y.position,R=y.prevPosition;R.x=w.x,R.y=w.y;var A=this.scaleManager.transformX(C),L=this.scaleManager.transformY(b),F=y.smoothFactor;!M||F===0?(w.x=A,w.y=L):(w.x=A*F+R.x*(1-F),w.y=L*F+R.y*(1-F))},destroy:function(){this.events.removeAllListeners(),this.game.events.off(l.PRE_RENDER),this.keyboard&&this.keyboard.destroy(),this.mouse&&this.mouse.destroy(),this.touch&&this.touch.destroy();for(var y=0;y<this.pointers.length;y++)this.pointers[y].destroy();this.pointers=[],this._tempHitTest=[],this._tempMatrix.destroy(),this.canvas=null,this.game=null}});n.exports=m},48205:(n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(96503),x=r(87902),d=r(83419),h=r(93301),l=r(74457),a=r(84409),f=r(20339),c=r(8497),u=r(81154),v=r(8214),g=r(50792),m=r(95540),y=r(23777),C=r(89639),b=r(41212),M=r(37277),w=r(87841),R=r(37303),A=r(44594),L=r(16483),F=r(10690),G=new d({Extends:g,initialize:function(B){g.call(this),this.scene=B,this.systems=B.sys,this.settings=B.sys.settings,this.manager=B.sys.game.input,this.pluginEvents=new g,this.enabled=!0,this.displayList,this.cameras,C.install(this),this.mouse=this.manager.mouse,this.topOnly=!0,this.pollRate=-1,this._pollTimer=0;var k={cancelled:!1};this._eventContainer={stopPropagation:function(){k.cancelled=!0}},this._eventData=k,this.dragDistanceThreshold=0,this.dragTimeThreshold=0,this._temp=[],this._tempZones=[],this._list=[],this._pendingInsertion=[],this._pendingRemoval=[],this._draggable=[],this._drag={0:[],1:[],2:[],3:[],4:[],5:[],6:[],7:[],8:[],9:[],10:[]},this._dragState=[],this._over={0:[],1:[],2:[],3:[],4:[],5:[],6:[],7:[],8:[],9:[],10:[]},this._validTypes=["onDown","onUp","onOver","onOut","onMove","onDragStart","onDrag","onDragEnd","onDragEnter","onDragLeave","onDragOver","onDrop"],this._updatedThisFrame=!1,B.sys.events.once(A.BOOT,this.boot,this),B.sys.events.on(A.START,this.start,this)},boot:function(){this.cameras=this.systems.cameras,this.displayList=this.systems.displayList,this.systems.events.once(A.DESTROY,this.destroy,this),this.pluginEvents.emit(v.BOOT)},start:function(){var I=this.systems.events;I.on(A.TRANSITION_START,this.transitionIn,this),I.on(A.TRANSITION_OUT,this.transitionOut,this),I.on(A.TRANSITION_COMPLETE,this.transitionComplete,this),I.on(A.PRE_UPDATE,this.preUpdate,this),I.once(A.SHUTDOWN,this.shutdown,this),this.manager.events.on(v.GAME_OUT,this.onGameOut,this),this.manager.events.on(v.GAME_OVER,this.onGameOver,this),this.enabled=!0,this._dragState=[0,0,0,0,0,0,0,0,0,0],this.pluginEvents.emit(v.START)},onGameOver:function(I){this.isActive()&&this.emit(v.GAME_OVER,I.timeStamp,I)},onGameOut:function(I){this.isActive()&&this.emit(v.GAME_OUT,I.timeStamp,I)},preUpdate:function(){this.pluginEvents.emit(v.PRE_UPDATE);var I=this._pendingRemoval,B=this._pendingInsertion,k=I.length,U=B.length;if(!(k===0&&U===0)){for(var H=this._list,X=0;X<k;X++){var j=I[X],J=H.indexOf(j);J>-1&&(H.splice(J,1),this.clear(j,!0))}this._pendingRemoval.length=0,this._list=H.concat(B.splice(0))}},isActive:function(){return this.manager&&this.manager.enabled&&this.enabled&&this.scene.sys.canInput()},setCursor:function(I){this.manager&&this.manager.setCursor(I)},resetCursor:function(){this.manager&&this.manager.resetCursor(null,!0)},updatePoll:function(I,B){if(!this.isActive())return!1;if(this.pluginEvents.emit(v.UPDATE,I,B),this._updatedThisFrame)return this._updatedThisFrame=!1,!1;var k,U=this.manager,H=U.pointers;for(k=0;k<H.length;k++)H[k].updateMotion();if(this._list.length===0)return!1;var X=this.pollRate;if(X===-1)return!1;if(X>0)if(this._pollTimer-=B,this._pollTimer<0)this._pollTimer=this.pollRate;else return!1;var j=!1;for(k=0;k<H.length;k++){var J=0,Y=H[k];this._tempZones=[],this._temp=this.hitTestPointer(Y),this.sortGameObjects(this._temp,Y),this.sortDropZones(this._tempZones),this.topOnly&&(this._temp.length&&this._temp.splice(1),this._tempZones.length&&this._tempZones.splice(1)),J+=this.processOverOutEvents(Y),this.getDragState(Y)===2&&this.processDragThresholdEvent(Y,I),J>0&&(j=!0)}return j},update:function(I,B){if(!this.isActive())return!1;for(var k=!1,U=0;U<B.length;U++){var H=0,X=B[U];switch(this._tempZones=[],this._temp=this.hitTestPointer(X),this.sortGameObjects(this._temp,X),this.sortDropZones(this._tempZones),this.topOnly&&(this._temp.length&&this._temp.splice(1),this._tempZones.length&&this._tempZones.splice(1)),I){case h.MOUSE_DOWN:H+=this.processDragDownEvent(X),H+=this.processDownEvents(X),H+=this.processOverOutEvents(X);break;case h.MOUSE_UP:H+=this.processDragUpEvent(X),H+=this.processUpEvents(X),H+=this.processOverOutEvents(X);break;case h.TOUCH_START:H+=this.processDragDownEvent(X),H+=this.processDownEvents(X),H+=this.processOverEvents(X);break;case h.TOUCH_END:case h.TOUCH_CANCEL:H+=this.processDragUpEvent(X),H+=this.processUpEvents(X),H+=this.processOutEvents(X);break;case h.MOUSE_MOVE:case h.TOUCH_MOVE:H+=this.processDragMoveEvent(X),H+=this.processMoveEvents(X),H+=this.processOverOutEvents(X);break;case h.MOUSE_WHEEL:H+=this.processWheelEvent(X);break}H>0&&(k=!0)}return this._updatedThisFrame=!0,k},clear:function(I,B){B===void 0&&(B=!1),this.disable(I);var k=I.input;k&&(this.removeDebug(I),this.manager.resetCursor(k),k.gameObject=void 0,k.target=void 0,k.hitArea=void 0,k.hitAreaCallback=void 0,k.callbackContext=void 0,I.input=null),B||this.queueForRemoval(I);var U=this._draggable.indexOf(I);return U>-1&&this._draggable.splice(U,1),I},disable:function(I,B){B===void 0&&(B=!1);var k=I.input;k&&(k.enabled=!1,k.dragState=0);for(var U=this._drag,H=this._over,X=this.manager,j=0,J;j<X.pointers.length;j++)J=U[j].indexOf(I),J>-1&&U[j].splice(J,1),J=H[j].indexOf(I),J>-1&&H[j].splice(J,1);return B&&this.resetCursor(),this},enable:function(I,B,k,U){return U===void 0&&(U=!1),I.input?I.input.enabled=!0:this.setHitArea(I,B,k),I.input&&U&&!I.input.dropZone&&(I.input.dropZone=U),this},hitTestPointer:function(I){for(var B=this.cameras.getCamerasBelowPointer(I),k=0;k<B.length;k++){for(var U=B[k],H=this.manager.hitTest(I,this._list,U),X=0;X<H.length;X++){var j=H[X];j.input.dropZone&&this._tempZones.push(j)}if(H.length>0)return I.camera=U,H}return I.camera=B[0],[]},processDownEvents:function(I){var B=0,k=this._temp,U=this._eventData,H=this._eventContainer;U.cancelled=!1;for(var X=0;X<k.length;X++){var j=k[X];if(!(!j.input||!j.input.enabled)&&(B++,j.emit(v.GAMEOBJECT_POINTER_DOWN,I,j.input.localX,j.input.localY,H),U.cancelled||!this.isActive()||j.input&&j.input.enabled&&(this.emit(v.GAMEOBJECT_DOWN,I,j,H),U.cancelled||!this.isActive())))break}return!U.cancelled&&this.isActive()&&(I.downElement===this.manager.game.canvas?this.emit(v.POINTER_DOWN,I,k):this.emit(v.POINTER_DOWN_OUTSIDE,I)),B},getDragState:function(I){return this._dragState[I.id]},setDragState:function(I,B){this._dragState[I.id]=B},processDragThresholdEvent:function(I,B){var k=!1,U=this.dragTimeThreshold,H=this.dragDistanceThreshold;if((H>0&&f(I.x,I.y,I.downX,I.downY)>=H||U>0&&B>=I.downTime+U)&&(k=!0),k)return this.setDragState(I,3),this.processDragStartList(I)},processDragStartList:function(I){if(this.getDragState(I)!==3)return 0;var B=this._drag[I.id];B.length>1&&(B=B.slice(0));for(var k=0;k<B.length;k++){var U=B[k],H=U.input;H.dragState=2,H.dragStartX=U.x,H.dragStartY=U.y,H.dragStartXGlobal=I.worldX,H.dragStartYGlobal=I.worldY,H.dragStartCamera=I.camera,H.dragX=H.dragStartXGlobal-H.dragStartX,H.dragY=H.dragStartYGlobal-H.dragStartY,U.emit(v.GAMEOBJECT_DRAG_START,I,H.dragX,H.dragY),this.emit(v.DRAG_START,I,U)}return this.setDragState(I,4),B.length},processDragDownEvent:function(I){var B=this._temp;if(this._draggable.length===0||B.length===0||!I.primaryDown||this.getDragState(I)!==0)return 0;this.setDragState(I,1);for(var k=[],U=0;U<B.length;U++){var H=B[U];H.input.draggable&&H.input.dragState===0&&k.push(H)}return k.length===0?(this.setDragState(I,0),0):(k.length>1&&(this.sortGameObjects(k,I),this.topOnly&&k.splice(1)),this._drag[I.id]=k,this.dragDistanceThreshold===0&&this.dragTimeThreshold===0?(this.setDragState(I,3),this.processDragStartList(I)):(this.setDragState(I,2),0))},processDragMoveEvent:function(I){if(this.getDragState(I)===2&&this.processDragThresholdEvent(I,this.manager.game.loop.now),this.getDragState(I)!==4)return 0;var B=this._tempZones,k=this._drag[I.id];k.length>1&&(k=k.slice(0));for(var U=0;U<k.length;U++){var H=k[U],X=H.input,j=X.target;if(j){var J=B.indexOf(j);J===0?(H.emit(v.GAMEOBJECT_DRAG_OVER,I,j),this.emit(v.DRAG_OVER,I,H,j)):J>0?(H.emit(v.GAMEOBJECT_DRAG_LEAVE,I,j),this.emit(v.DRAG_LEAVE,I,H,j),X.target=B[0],j=X.target,H.emit(v.GAMEOBJECT_DRAG_ENTER,I,j),this.emit(v.DRAG_ENTER,I,H,j)):(H.emit(v.GAMEOBJECT_DRAG_LEAVE,I,j),this.emit(v.DRAG_LEAVE,I,H,j),B[0]?(X.target=B[0],j=X.target,H.emit(v.GAMEOBJECT_DRAG_ENTER,I,j),this.emit(v.DRAG_ENTER,I,H,j)):X.target=null)}else!j&&B[0]&&(X.target=B[0],j=X.target,H.emit(v.GAMEOBJECT_DRAG_ENTER,I,j),this.emit(v.DRAG_ENTER,I,H,j));var Y,$,z=I.positionToCamera(X.dragStartCamera);if(!H.parentContainer)Y=z.x-X.dragX,$=z.y-X.dragY;else{var V=z.x-X.dragStartXGlobal,K=z.y-X.dragStartYGlobal,Q=H.getParentRotation(),_=V*Math.cos(Q)+K*Math.sin(Q),tt=K*Math.cos(Q)-V*Math.sin(Q);_*=1/H.parentContainer.scaleX,tt*=1/H.parentContainer.scaleY,Y=_+X.dragStartX,$=tt+X.dragStartY}H.emit(v.GAMEOBJECT_DRAG,I,Y,$),this.emit(v.DRAG,I,H,Y,$)}return k.length},processDragUpEvent:function(I){var B=this._drag[I.id];B.length>1&&(B=B.slice(0));for(var k=0;k<B.length;k++){var U=B[k],H=U.input;if(H&&H.dragState===2){H.dragState=0,H.dragX=H.localX-U.displayOriginX,H.dragY=H.localY-U.displayOriginY,H.dragStartCamera=null;var X=!1,j=H.target;j&&(U.emit(v.GAMEOBJECT_DROP,I,j),this.emit(v.DROP,I,U,j),H.target=null,X=!0),U.input&&U.input.enabled&&(U.emit(v.GAMEOBJECT_DRAG_END,I,H.dragX,H.dragY,X),this.emit(v.DRAG_END,I,U,X))}}return this.setDragState(I,0),B.splice(0),0},processMoveEvents:function(I){var B=0,k=this._temp,U=this._eventData,H=this._eventContainer;U.cancelled=!1;for(var X=0;X<k.length;X++){var j=k[X];if(!(!j.input||!j.input.enabled)&&(B++,j.emit(v.GAMEOBJECT_POINTER_MOVE,I,j.input.localX,j.input.localY,H),U.cancelled||!this.isActive()||j.input&&j.input.enabled&&(this.emit(v.GAMEOBJECT_MOVE,I,j,H),U.cancelled||!this.isActive()||this.topOnly)))break}return!U.cancelled&&this.isActive()&&this.emit(v.POINTER_MOVE,I,k),B},processWheelEvent:function(I){var B=0,k=this._temp,U=this._eventData,H=this._eventContainer;U.cancelled=!1;for(var X=I.deltaX,j=I.deltaY,J=I.deltaZ,Y=0;Y<k.length;Y++){var $=k[Y];if(!(!$.input||!$.input.enabled)&&(B++,$.emit(v.GAMEOBJECT_POINTER_WHEEL,I,X,j,J,H),U.cancelled||!this.isActive()||$.input&&$.input.enabled&&(this.emit(v.GAMEOBJECT_WHEEL,I,$,X,j,J,H),U.cancelled||!this.isActive())))break}return!U.cancelled&&this.isActive()&&this.emit(v.POINTER_WHEEL,I,k,X,j,J),B},processOverEvents:function(I){var B=this._temp,k=0,U=B.length,H=[];if(U>0){var X=this.manager,j=this._eventData,J=this._eventContainer;j.cancelled=!1;for(var Y=0;Y<U;Y++){var $=B[Y];if(!(!$.input||!$.input.enabled)&&(H.push($),X.setCursor($.input),$.emit(v.GAMEOBJECT_POINTER_OVER,I,$.input.localX,$.input.localY,J),k++,j.cancelled||!this.isActive()||$.input&&$.input.enabled&&(this.emit(v.GAMEOBJECT_OVER,I,$,J),j.cancelled||!this.isActive())))break}!j.cancelled&&this.isActive()&&this.emit(v.POINTER_OVER,I,H)}return this._over[I.id]=H,k},processOutEvents:function(I){var B=this._over[I.id],k=0,U=B.length;if(U>0){var H=this.manager,X=this._eventData,j=this._eventContainer;X.cancelled=!1,this.sortGameObjects(B,I);for(var J=0;J<U;J++){var Y=B[J];if(Y=B[J],!(!Y.input||!Y.input.enabled)&&(H.resetCursor(Y.input),Y.emit(v.GAMEOBJECT_POINTER_OUT,I,j),k++,X.cancelled||!this.isActive()||Y.input&&Y.input.enabled&&(this.emit(v.GAMEOBJECT_OUT,I,Y,j),X.cancelled||!this.isActive())))break}!X.cancelled&&this.isActive()&&this.emit(v.POINTER_OUT,I,B),this._over[I.id]=[]}return k},processOverOutEvents:function(I){var B=this._temp,k,U,H=[],X=[],j=[],J=this._over[I.id],Y=this._drag[I.id],$=this.manager;for(k=0;k<J.length;k++)U=J[k],B.indexOf(U)===-1&&Y.indexOf(U)===-1?H.push(U):j.push(U);for(k=0;k<B.length;k++)U=B[k],J.indexOf(U)===-1&&X.push(U);var z=H.length,V=0,K=this._eventData,Q=this._eventContainer;if(K.cancelled=!1,z>0){for(this.sortGameObjects(H,I),k=0;k<z&&(U=H[k],!(!(!U.input||!U.input.enabled)&&($.resetCursor(U.input),U.emit(v.GAMEOBJECT_POINTER_OUT,I,Q),V++,K.cancelled||!this.isActive()||U.input&&U.input.enabled&&(this.emit(v.GAMEOBJECT_OUT,I,U,Q),K.cancelled||!this.isActive()))));k++);(!K.cancelled||this.isActive())&&this.emit(v.POINTER_OUT,I,H)}if(z=X.length,K.cancelled=!1,z>0){for(this.sortGameObjects(X,I),k=0;k<z&&(U=X[k],!(!(!U.input||!U.input.enabled)&&($.setCursor(U.input),U.emit(v.GAMEOBJECT_POINTER_OVER,I,U.input.localX,U.input.localY,Q),V++,K.cancelled||!this.isActive()||U.input&&U.input.enabled&&(this.emit(v.GAMEOBJECT_OVER,I,U,Q),K.cancelled||!this.isActive()))));k++);!K.cancelled&&this.isActive()&&this.emit(v.POINTER_OVER,I,X)}return J=j.concat(X),this._over[I.id]=this.sortGameObjects(J,I),V},processUpEvents:function(I){var B=this._temp,k=this._eventData,U=this._eventContainer;k.cancelled=!1;for(var H=0;H<B.length;H++){var X=B[H];if(!(!X.input||!X.input.enabled)&&(X.emit(v.GAMEOBJECT_POINTER_UP,I,X.input.localX,X.input.localY,U),k.cancelled||!this.isActive()||X.input&&X.input.enabled&&(this.emit(v.GAMEOBJECT_UP,I,X,U),k.cancelled||!this.isActive())))break}return!k.cancelled&&this.isActive()&&(I.upElement===this.manager.game.canvas?this.emit(v.POINTER_UP,I,B):this.emit(v.POINTER_UP_OUTSIDE,I)),B.length},forceDownState:function(I,B){this.forceState(I,B,v.GAMEOBJECT_POINTER_DOWN,v.GAMEOBJECT_DOWN,!1)},forceUpState:function(I,B){this.forceState(I,B,v.GAMEOBJECT_POINTER_UP,v.GAMEOBJECT_UP,!1)},forceOverState:function(I,B){this.forceState(I,B,v.GAMEOBJECT_POINTER_OVER,v.GAMEOBJECT_OVER,!0)},forceOutState:function(I,B){this.forceState(I,B,v.GAMEOBJECT_POINTER_OUT,v.GAMEOBJECT_OUT,!1)},forceState:function(I,B,k,U,H){var X=this._eventData,j=this._eventContainer;X.cancelled=!1,B.input&&B.input.enabled&&(B.emit(k,I,B.input.localX,B.input.localY,j),H&&this.setCursor(B.input),!X.cancelled&&this.isActive()&&B.input&&B.input.enabled&&this.emit(U,I,B,j))},queueForInsertion:function(I){return this._pendingInsertion.indexOf(I)===-1&&this._list.indexOf(I)===-1&&this._pendingInsertion.push(I),this},queueForRemoval:function(I){return this._pendingRemoval.push(I),this},setDraggable:function(I,B){B===void 0&&(B=!0),Array.isArray(I)||(I=[I]);for(var k=0;k<I.length;k++){var U=I[k];U.input.draggable=B;var H=this._draggable.indexOf(U);B&&H===-1?this._draggable.push(U):!B&&H>-1&&this._draggable.splice(H,1)}return this},makePixelPerfect:function(I){I===void 0&&(I=1);var B=this.systems.textures;return a(B,I)},setHitArea:function(I,B,k){if(B===void 0)return this.setHitAreaFromTexture(I);Array.isArray(I)||(I=[I]);var U=!1,H=!1,X=!1,j=!1,J=!1,Y=!0;if(b(B)&&Object.keys(B).length){var $=B,z=I.some(function(tt){return tt.hasOwnProperty("faces")});if(!z){B=m($,"hitArea",null),k=m($,"hitAreaCallback",null),J=m($,"pixelPerfect",!1);var V=m($,"alphaTolerance",1);J&&(B={},k=this.makePixelPerfect(V))}U=m($,"draggable",!1),H=m($,"dropZone",!1),X=m($,"cursor",!1),j=m($,"useHandCursor",!1),(!B||!k)&&(this.setHitAreaFromTexture(I),Y=!1)}else typeof B=="function"&&!k&&(k=B,B={});for(var K=0;K<I.length;K++){var Q=I[K];if(J&&Q.type==="Container"){console.warn("Cannot pixelPerfect test a Container. Use a custom callback.");continue}var _=Q.input?Q.input:l(Q,B,k);_.customHitArea=Y,_.dropZone=H,_.cursor=j?"pointer":X,Q.input=_,U&&this.setDraggable(Q),this.queueForInsertion(Q)}return this},setHitAreaCircle:function(I,B,k,U,H){H===void 0&&(H=x);var X=new o(B,k,U);return this.setHitArea(I,X,H)},setHitAreaEllipse:function(I,B,k,U,H,X){X===void 0&&(X=u);var j=new c(B,k,U,H);return this.setHitArea(I,j,X)},setHitAreaFromTexture:function(I,B){B===void 0&&(B=R),Array.isArray(I)||(I=[I]);for(var k=0;k<I.length;k++){var U=I[k],H=U.frame,X=0,j=0;if(U.width?(X=U.width,j=U.height):H&&(X=H.realWidth,j=H.realHeight),U.type==="Container"&&(X===0||j===0)){console.warn("Container.setInteractive must specify a Shape or call setSize() first");continue}X!==0&&j!==0&&(U.input=l(U,new w(0,0,X,j),B),this.queueForInsertion(U))}return this},setHitAreaRectangle:function(I,B,k,U,H,X){X===void 0&&(X=R);var j=new w(B,k,U,H);return this.setHitArea(I,j,X)},setHitAreaTriangle:function(I,B,k,U,H,X,j,J){J===void 0&&(J=F);var Y=new L(B,k,U,H,X,j);return this.setHitArea(I,Y,J)},enableDebug:function(I,B){B===void 0&&(B=65280);var k=I.input;if(!k||!k.hitArea)return this;var U=k.hitArea,H=U.type,X=k.hitAreaDebug,j=this.systems.add,J=this.systems.updateList;X&&(J.remove(X),X.destroy(),X=null);var Y=0,$=0;switch(H){case y.CIRCLE:X=j.arc(0,0,U.radius),Y=U.x-U.radius,$=U.y-U.radius;break;case y.ELLIPSE:X=j.ellipse(0,0,U.width,U.height),Y=U.x-U.width/2,$=U.y-U.height/2;break;case y.LINE:X=j.line(0,0,U.x1,U.y1,U.x2,U.y2);break;case y.POLYGON:X=j.polygon(0,0,U.points);break;case y.RECTANGLE:X=j.rectangle(0,0,U.width,U.height),Y=U.x,$=U.y;break;case y.TRIANGLE:X=j.triangle(0,0,U.x1,U.y1,U.x2,U.y2,U.x3,U.y3);break}return X&&(X.isFilled=!1,X.strokeColor=B,X.preUpdate=function(){X.setVisible(I.visible),X.setStrokeStyle(1/I.scale,X.strokeColor),X.setDisplayOrigin(I.displayOriginX,I.displayOriginY);var z=I.x,V=I.y,K=I.rotation,Q=I.scaleX,_=I.scaleY;if(I.parentContainer){var tt=I.getWorldTransformMatrix();z=tt.tx,V=tt.ty,K=tt.rotation,Q=tt.scaleX,_=tt.scaleY}X.setRotation(K),X.setScale(Q,_),X.setPosition(z+Y*Q,V+$*_),X.setScrollFactor(I.scrollFactorX,I.scrollFactorY),X.setDepth(I.depth)},J.add(X),k.hitAreaDebug=X),this},removeDebug:function(I){var B=I.input;if(B&&B.hitAreaDebug){var k=B.hitAreaDebug;k.destroy(),B.hitAreaDebug=null}return this},setPollAlways:function(){return this.setPollRate(0)},setPollOnMove:function(){return this.setPollRate(-1)},setPollRate:function(I){return this.pollRate=I,this._pollTimer=0,this},setGlobalTopOnly:function(I){return this.manager.globalTopOnly=I,this},setTopOnly:function(I){return this.topOnly=I,this},sortGameObjects:function(I,B){if(I.length<2||!B.camera)return I;var k=B.camera.renderList;return I.sort(function(U,H){var X=Math.max(k.indexOf(U),0),j=Math.max(k.indexOf(H),0);return j-X})},sortDropZones:function(I){return I.length<2?I:(this.scene.sys.depthSort(),I.sort(this.sortDropZoneHandler.bind(this)))},sortDropZoneHandler:function(I,B){if(!I.parentContainer&&!B.parentContainer)return this.displayList.getIndex(B)-this.displayList.getIndex(I);if(I.parentContainer===B.parentContainer)return B.parentContainer.getIndex(B)-I.parentContainer.getIndex(I);if(I.parentContainer===B)return-1;if(B.parentContainer===I)return 1;for(var k=I.getIndexList(),U=B.getIndexList(),H=Math.min(k.length,U.length),X=0;X<H;X++){var j=k[X],J=U[X];if(j!==J)return J-j}return U.length-k.length},stopPropagation:function(){return this.manager._tempSkip=!0,this},addPointer:function(I){return this.manager.addPointer(I)},setDefaultCursor:function(I){return this.manager.setDefaultCursor(I),this},transitionIn:function(){this.enabled=this.settings.transitionAllowInput},transitionComplete:function(){this.settings.transitionAllowInput||(this.enabled=!0)},transitionOut:function(){this.enabled=this.settings.transitionAllowInput},shutdown:function(){this.pluginEvents.emit(v.SHUTDOWN),this._temp.length=0,this._list.length=0,this._draggable.length=0,this._pendingRemoval.length=0,this._pendingInsertion.length=0,this._dragState.length=0;for(var I=0;I<10;I++)this._drag[I]=[],this._over[I]=[];this.removeAllListeners();var B=this.manager;B.canvas.style.cursor=B.defaultCursor;var k=this.systems.events;k.off(A.TRANSITION_START,this.transitionIn,this),k.off(A.TRANSITION_OUT,this.transitionOut,this),k.off(A.TRANSITION_COMPLETE,this.transitionComplete,this),k.off(A.PRE_UPDATE,this.preUpdate,this),B.events.off(v.GAME_OUT,this.onGameOut,this),B.events.off(v.GAME_OVER,this.onGameOver,this),k.off(A.SHUTDOWN,this.shutdown,this)},resetPointers:function(){for(var I=this.manager.pointers,B=0;B<I.length;B++)I[B].reset()},destroy:function(){this.shutdown(),this.pluginEvents.emit(v.DESTROY),this.pluginEvents.removeAllListeners(),this.scene.sys.events.off(A.START,this.start,this),this.scene=null,this.cameras=null,this.manager=null,this.events=null,this.mouse=null},x:{get:function(){return this.manager.activePointer.x}},y:{get:function(){return this.manager.activePointer.y}},isOver:{get:function(){return this.manager.isOver}},mousePointer:{get:function(){return this.manager.mousePointer}},activePointer:{get:function(){return this.manager.activePointer}},pointer1:{get:function(){return this.manager.pointers[1]}},pointer2:{get:function(){return this.manager.pointers[2]}},pointer3:{get:function(){return this.manager.pointers[3]}},pointer4:{get:function(){return this.manager.pointers[4]}},pointer5:{get:function(){return this.manager.pointers[5]}},pointer6:{get:function(){return this.manager.pointers[6]}},pointer7:{get:function(){return this.manager.pointers[7]}},pointer8:{get:function(){return this.manager.pointers[8]}},pointer9:{get:function(){return this.manager.pointers[9]}},pointer10:{get:function(){return this.manager.pointers[10]}}});M.register("InputPlugin",G,"input"),n.exports=G},89639:(n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(35154),x={},d={};d.register=function(h,l,a,f,c){x[h]={plugin:l,mapping:a,settingsKey:f,configKey:c}},d.getPlugin=function(h){return x[h]},d.install=function(h){var l=h.scene.sys,a=l.settings.input,f=l.game.config;for(var c in x){var u=x[c].plugin,v=x[c].mapping,g=x[c].settingsKey,m=x[c].configKey;o(a,g,f[m])&&(h[v]=new u(h))}},d.remove=function(h){x.hasOwnProperty(h)&&delete x[h]},n.exports=d},42515:(n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(31040),x=r(83419),d=r(20339),h=r(43855),l=r(47235),a=r(26099),f=r(25892),c=new x({initialize:function(v,g){this.manager=v,this.id=g,this.event,this.downElement,this.upElement,this.camera=null,this.button=0,this.buttons=0,this.position=new a,this.prevPosition=new a,this.midPoint=new a(-1,-1),this.velocity=new a,this.angle=0,this.distance=0,this.smoothFactor=0,this.motionFactor=.2,this.worldX=0,this.worldY=0,this.moveTime=0,this.downX=0,this.downY=0,this.downTime=0,this.upX=0,this.upY=0,this.upTime=0,this.primaryDown=!1,this.isDown=!1,this.wasTouch=!1,this.wasCanceled=!1,this.movementX=0,this.movementY=0,this.identifier=0,this.pointerId=null,this.active=g===0,this.locked=!1,this.deltaX=0,this.deltaY=0,this.deltaZ=0},updateWorldPoint:function(u){var v=u.getWorldPoint(this.x,this.y);return this.worldX=v.x,this.worldY=v.y,this},positionToCamera:function(u,v){return u.getWorldPoint(this.x,this.y,v)},updateMotion:function(){var u=this.position.x,v=this.position.y,g=this.midPoint.x,m=this.midPoint.y;if(!(u===g&&v===m)){var y=l(this.motionFactor,g,u),C=l(this.motionFactor,m,v);h(y,u,.1)&&(y=u),h(C,v,.1)&&(C=v),this.midPoint.set(y,C);var b=u-y,M=v-C;this.velocity.set(b,M),this.angle=o(y,C,u,v),this.distance=Math.sqrt(b*b+M*M)}},up:function(u){"buttons"in u&&(this.buttons=u.buttons),this.event=u,this.button=u.button,this.upElement=u.target,this.manager.transformPointer(this,u.pageX,u.pageY,!1),u.button===0&&(this.primaryDown=!1,this.upX=this.x,this.upY=this.y),this.buttons===0&&(this.isDown=!1,this.upTime=u.timeStamp,this.wasTouch=!1)},down:function(u){"buttons"in u&&(this.buttons=u.buttons),this.event=u,this.button=u.button,this.downElement=u.target,this.manager.transformPointer(this,u.pageX,u.pageY,!1),u.button===0&&(this.primaryDown=!0,this.downX=this.x,this.downY=this.y),f.macOS&&u.ctrlKey&&(this.buttons=2,this.primaryDown=!1),this.isDown||(this.isDown=!0,this.downTime=u.timeStamp),this.wasTouch=!1},move:function(u){"buttons"in u&&(this.buttons=u.buttons),this.event=u,this.manager.transformPointer(this,u.pageX,u.pageY,!0),this.locked&&(this.movementX=u.movementX||u.mozMovementX||u.webkitMovementX||0,this.movementY=u.movementY||u.mozMovementY||u.webkitMovementY||0),this.moveTime=u.timeStamp,this.wasTouch=!1},wheel:function(u){"buttons"in u&&(this.buttons=u.buttons),this.event=u,this.manager.transformPointer(this,u.pageX,u.pageY,!1),this.deltaX=u.deltaX,this.deltaY=u.deltaY,this.deltaZ=u.deltaZ,this.wasTouch=!1},touchstart:function(u,v){u.pointerId&&(this.pointerId=u.pointerId),this.identifier=u.identifier,this.target=u.target,this.active=!0,this.buttons=1,this.event=v,this.downElement=u.target,this.manager.transformPointer(this,u.pageX,u.pageY,!1),this.primaryDown=!0,this.downX=this.x,this.downY=this.y,this.downTime=v.timeStamp,this.isDown=!0,this.wasTouch=!0,this.wasCanceled=!1,this.updateMotion()},touchmove:function(u,v){this.event=v,this.manager.transformPointer(this,u.pageX,u.pageY,!0),this.moveTime=v.timeStamp,this.wasTouch=!0,this.updateMotion()},touchend:function(u,v){this.buttons=0,this.event=v,this.upElement=u.target,this.manager.transformPointer(this,u.pageX,u.pageY,!1),this.primaryDown=!1,this.upX=this.x,this.upY=this.y,this.upTime=v.timeStamp,this.isDown=!1,this.wasTouch=!0,this.wasCanceled=!1,this.active=!1,this.updateMotion()},touchcancel:function(u,v){this.buttons=0,this.event=v,this.upElement=u.target,this.manager.transformPointer(this,u.pageX,u.pageY,!1),this.primaryDown=!1,this.upX=this.x,this.upY=this.y,this.upTime=v.timeStamp,this.isDown=!1,this.wasTouch=!0,this.wasCanceled=!0,this.active=!1},noButtonDown:function(){return this.buttons===0},leftButtonDown:function(){return!!(this.buttons&1)},rightButtonDown:function(){return!!(this.buttons&2)},middleButtonDown:function(){return!!(this.buttons&4)},backButtonDown:function(){return!!(this.buttons&8)},forwardButtonDown:function(){return!!(this.buttons&16)},leftButtonReleased:function(){return this.buttons===0?this.button===0&&!this.isDown:this.button===0},rightButtonReleased:function(){return this.buttons===0?this.button===2&&!this.isDown:this.button===2},middleButtonReleased:function(){return this.buttons===0?this.button===1&&!this.isDown:this.button===1},backButtonReleased:function(){return this.buttons===0?this.button===3&&!this.isDown:this.button===3},forwardButtonReleased:function(){return this.buttons===0?this.button===4&&!this.isDown:this.button===4},getDistance:function(){return this.isDown?d(this.downX,this.downY,this.x,this.y):d(this.downX,this.downY,this.upX,this.upY)},getDistanceX:function(){return this.isDown?Math.abs(this.downX-this.x):Math.abs(this.downX-this.upX)},getDistanceY:function(){return this.isDown?Math.abs(this.downY-this.y):Math.abs(this.downY-this.upY)},getDuration:function(){return this.isDown?this.manager.time-this.downTime:this.upTime-this.downTime},getAngle:function(){return this.isDown?o(this.downX,this.downY,this.x,this.y):o(this.downX,this.downY,this.upX,this.upY)},getInterpolatedPosition:function(u,v){u===void 0&&(u=10),v===void 0&&(v=[]);for(var g=this.prevPosition.x,m=this.prevPosition.y,y=this.position.x,C=this.position.y,b=0;b<u;b++){var M=1/u*b;v[b]={x:l(M,g,y),y:l(M,m,C)}}return v},reset:function(){this.event=null,this.downElement=null,this.upElement=null,this.button=0,this.buttons=0,this.position.set(0,0),this.prevPosition.set(0,0),this.midPoint.set(-1,-1),this.velocity.set(0,0),this.angle=0,this.distance=0,this.worldX=0,this.worldY=0,this.downX=0,this.downY=0,this.upX=0,this.upY=0,this.moveTime=0,this.upTime=0,this.downTime=0,this.primaryDown=!1,this.isDown=!1,this.wasTouch=!1,this.wasCanceled=!1,this.movementX=0,this.movementY=0,this.identifier=0,this.pointerId=null,this.deltaX=0,this.deltaY=0,this.deltaZ=0,this.active=this.id===0},destroy:function(){this.camera=null,this.manager=null,this.position=null},x:{get:function(){return this.position.x},set:function(u){this.position.x=u}},y:{get:function(){return this.position.y},set:function(u){this.position.y=u}},time:{get:function(){return this.event?this.event.timeStamp:0}}});n.exports=c},93301:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T={MOUSE_DOWN:0,MOUSE_MOVE:1,MOUSE_UP:2,TOUCH_START:3,TOUCH_MOVE:4,TOUCH_END:5,POINTER_LOCK_CHANGE:6,TOUCH_CANCEL:7,MOUSE_WHEEL:8};n.exports=T},7179:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="boot"},85375:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="destroy"},39843:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="dragend"},23388:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="dragenter"},16133:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="drag"},27829:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="dragleave"},53904:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="dragover"},56058:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="dragstart"},2642:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="drop"},88171:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="gameobjectdown"},36147:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="dragend"},71692:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="dragenter"},96149:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="drag"},81285:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="dragleave"},74048:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="dragover"},21322:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="dragstart"},49378:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="drop"},86754:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="gameobjectmove"},86433:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="gameobjectout"},60709:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="gameobjectover"},24081:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="pointerdown"},11172:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="pointermove"},18907:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="pointerout"},95579:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="pointerover"},35368:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="pointerup"},26972:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="wheel"},47078:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="gameobjectup"},73802:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="gameobjectwheel"},56718:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="gameout"},25936:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="gameover"},27503:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="boot"},50852:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="process"},96438:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="update"},59152:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="pointerlockchange"},47777:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="pointerdown"},27957:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="pointerdownoutside"},19444:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="pointermove"},54251:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="pointerout"},18667:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="pointerover"},27192:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="pointerup"},24652:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="pointerupoutside"},45132:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="wheel"},44512:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="preupdate"},15757:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="shutdown"},41637:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="start"},93802:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="update"},8214:(n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports={BOOT:r(7179),DESTROY:r(85375),DRAG_END:r(39843),DRAG_ENTER:r(23388),DRAG:r(16133),DRAG_LEAVE:r(27829),DRAG_OVER:r(53904),DRAG_START:r(56058),DROP:r(2642),GAME_OUT:r(56718),GAME_OVER:r(25936),GAMEOBJECT_DOWN:r(88171),GAMEOBJECT_DRAG_END:r(36147),GAMEOBJECT_DRAG_ENTER:r(71692),GAMEOBJECT_DRAG:r(96149),GAMEOBJECT_DRAG_LEAVE:r(81285),GAMEOBJECT_DRAG_OVER:r(74048),GAMEOBJECT_DRAG_START:r(21322),GAMEOBJECT_DROP:r(49378),GAMEOBJECT_MOVE:r(86754),GAMEOBJECT_OUT:r(86433),GAMEOBJECT_OVER:r(60709),GAMEOBJECT_POINTER_DOWN:r(24081),GAMEOBJECT_POINTER_MOVE:r(11172),GAMEOBJECT_POINTER_OUT:r(18907),GAMEOBJECT_POINTER_OVER:r(95579),GAMEOBJECT_POINTER_UP:r(35368),GAMEOBJECT_POINTER_WHEEL:r(26972),GAMEOBJECT_UP:r(47078),GAMEOBJECT_WHEEL:r(73802),MANAGER_BOOT:r(27503),MANAGER_PROCESS:r(50852),MANAGER_UPDATE:r(96438),POINTER_DOWN:r(47777),POINTER_DOWN_OUTSIDE:r(27957),POINTER_MOVE:r(19444),POINTER_OUT:r(54251),POINTER_OVER:r(18667),POINTER_UP:r(27192),POINTER_UP_OUTSIDE:r(24652),POINTER_WHEEL:r(45132),POINTERLOCK_CHANGE:r(59152),PRE_UPDATE:r(44512),SHUTDOWN:r(15757),START:r(41637),UPDATE:r(93802)}},97421:(n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(83419),x=new o({initialize:function(h,l){this.pad=h,this.events=h.events,this.index=l,this.value=0,this.threshold=.1},update:function(d){this.value=d},getValue:function(){return Math.abs(this.value)<this.threshold?0:this.value},destroy:function(){this.pad=null,this.events=null}});n.exports=x},28884:(n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(83419),x=r(92734),d=new o({initialize:function(l,a){this.pad=l,this.events=l.manager,this.index=a,this.value=0,this.threshold=1,this.pressed=!1},update:function(h){this.value=h;var l=this.pad,a=this.index;h>=this.threshold?this.pressed||(this.pressed=!0,this.events.emit(x.BUTTON_DOWN,l,this,h),this.pad.emit(x.GAMEPAD_BUTTON_DOWN,a,h,this)):this.pressed&&(this.pressed=!1,this.events.emit(x.BUTTON_UP,l,this,h),this.pad.emit(x.GAMEPAD_BUTTON_UP,a,h,this))},destroy:function(){this.pad=null,this.events=null}});n.exports=d},99125:(n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(97421),x=r(28884),d=r(83419),h=r(50792),l=r(26099),a=new d({Extends:h,initialize:function(c,u){h.call(this),this.manager=c,this.pad=u,this.id=u.id,this.index=u.index;for(var v=[],g=0;g<u.buttons.length;g++)v.push(new x(this,g));this.buttons=v;var m=[];for(g=0;g<u.axes.length;g++)m.push(new o(this,g));this.axes=m,this.vibration=u.vibrationActuator;var y={value:0,pressed:!1};this._LCLeft=v[14]?v[14]:y,this._LCRight=v[15]?v[15]:y,this._LCTop=v[12]?v[12]:y,this._LCBottom=v[13]?v[13]:y,this._RCLeft=v[2]?v[2]:y,this._RCRight=v[1]?v[1]:y,this._RCTop=v[3]?v[3]:y,this._RCBottom=v[0]?v[0]:y,this._FBLeftTop=v[4]?v[4]:y,this._FBLeftBottom=v[6]?v[6]:y,this._FBRightTop=v[5]?v[5]:y,this._FBRightBottom=v[7]?v[7]:y;var C={value:0};this._HAxisLeft=m[0]?m[0]:C,this._VAxisLeft=m[1]?m[1]:C,this._HAxisRight=m[2]?m[2]:C,this._VAxisRight=m[3]?m[3]:C,this.leftStick=new l,this.rightStick=new l,this._created=performance.now()},getAxisTotal:function(){return this.axes.length},getAxisValue:function(f){return this.axes[f].getValue()},setAxisThreshold:function(f){for(var c=0;c<this.axes.length;c++)this.axes[c].threshold=f},getButtonTotal:function(){return this.buttons.length},getButtonValue:function(f){return this.buttons[f].value},isButtonDown:function(f){return this.buttons[f].pressed},update:function(f){if(!(f.timestamp<this._created)){var c,u=this.buttons,v=f.buttons,g=u.length;for(c=0;c<g;c++)u[c].update(v[c].value);var m=this.axes,y=f.axes;for(g=m.length,c=0;c<g;c++)m[c].update(y[c]);g>=2&&(this.leftStick.set(m[0].getValue(),m[1].getValue()),g>=4&&this.rightStick.set(m[2].getValue(),m[3].getValue()))}},destroy:function(){this.removeAllListeners(),this.manager=null,this.pad=null;var f;for(f=0;f<this.buttons.length;f++)this.buttons[f].destroy();for(f=0;f<this.axes.length;f++)this.axes[f].destroy();this.buttons=[],this.axes=[]},connected:{get:function(){return this.pad.connected}},timestamp:{get:function(){return this.pad.timestamp}},left:{get:function(){return this._LCLeft.pressed}},right:{get:function(){return this._LCRight.pressed}},up:{get:function(){return this._LCTop.pressed}},down:{get:function(){return this._LCBottom.pressed}},A:{get:function(){return this._RCBottom.pressed}},Y:{get:function(){return this._RCTop.pressed}},X:{get:function(){return this._RCLeft.pressed}},B:{get:function(){return this._RCRight.pressed}},L1:{get:function(){return this._FBLeftTop.value}},L2:{get:function(){return this._FBLeftBottom.value}},R1:{get:function(){return this._FBRightTop.value}},R2:{get:function(){return this._FBRightBottom.value}}});n.exports=a},56654:(n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(83419),x=r(50792),d=r(92734),h=r(99125),l=r(35154),a=r(89639),f=r(8214),c=new o({Extends:x,initialize:function(v){x.call(this),this.scene=v.scene,this.settings=this.scene.sys.settings,this.sceneInputPlugin=v,this.enabled=!0,this.target,this.gamepads=[],this.queue=[],this.onGamepadHandler,this._pad1,this._pad2,this._pad3,this._pad4,v.pluginEvents.once(f.BOOT,this.boot,this),v.pluginEvents.on(f.START,this.start,this)},boot:function(){var u=this.scene.sys.game,v=this.settings.input,g=u.config;this.enabled=l(v,"gamepad",g.inputGamepad)&&u.device.input.gamepads,this.target=l(v,"gamepad.target",g.inputGamepadEventTarget),this.sceneInputPlugin.pluginEvents.once(f.DESTROY,this.destroy,this)},start:function(){this.enabled&&(this.startListeners(),this.refreshPads()),this.sceneInputPlugin.pluginEvents.once(f.SHUTDOWN,this.shutdown,this)},isActive:function(){return this.enabled&&this.scene.sys.isActive()},startListeners:function(){var u=this,v=this.target,g=function(m){m.defaultPrevented||!u.isActive()||(u.refreshPads(),u.queue.push(m))};this.onGamepadHandler=g,v.addEventListener("gamepadconnected",g,!1),v.addEventListener("gamepaddisconnected",g,!1),this.sceneInputPlugin.pluginEvents.on(f.UPDATE,this.update,this)},stopListeners:function(){this.target.removeEventListener("gamepadconnected",this.onGamepadHandler),this.target.removeEventListener("gamepaddisconnected",this.onGamepadHandler),this.sceneInputPlugin.pluginEvents.off(f.UPDATE,this.update);for(var u=0;u<this.gamepads.length;u++)this.gamepads[u].removeAllListeners()},disconnectAll:function(){for(var u=0;u<this.gamepads.length;u++)this.gamepads[u].pad.connected=!1},refreshPads:function(){var u=navigator.getGamepads();if(!u)this.disconnectAll();else for(var v=this.gamepads,g=0;g<u.length;g++){var m=u[g];if(m){var y=m.id,C=m.index,b=v[C];if(b)b.id!==y?(b.destroy(),v[C]=new h(this,m)):b.update(m);else{var M=new h(this,m);v[C]=M,this._pad1?this._pad2?this._pad3?this._pad4||(this._pad4=M):this._pad3=M:this._pad2=M:this._pad1=M}}}},getAll:function(){for(var u=[],v=this.gamepads,g=0;g<v.length;g++)v[g]&&u.push(v[g]);return u},getPad:function(u){for(var v=this.gamepads,g=0;g<v.length;g++)if(v[g]&&v[g].index===u)return v[g]},update:function(){if(this.enabled){this.refreshPads();var u=this.queue.length;if(u!==0)for(var v=this.queue.splice(0,u),g=0;g<u;g++){var m=v[g],y=this.getPad(m.gamepad.index);m.type==="gamepadconnected"?this.emit(d.CONNECTED,y,m):m.type==="gamepaddisconnected"&&this.emit(d.DISCONNECTED,y,m)}}},shutdown:function(){this.stopListeners(),this.removeAllListeners()},destroy:function(){this.shutdown();for(var u=0;u<this.gamepads.length;u++)this.gamepads[u]&&this.gamepads[u].destroy();this.gamepads=[],this.scene=null,this.settings=null,this.sceneInputPlugin=null,this.target=null},total:{get:function(){return this.gamepads.length}},pad1:{get:function(){return this._pad1}},pad2:{get:function(){return this._pad2}},pad3:{get:function(){return this._pad3}},pad4:{get:function(){return this._pad4}}});a.register("GamepadPlugin",c,"gamepad","gamepad","inputGamepad"),n.exports=c},89651:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports={UP:12,DOWN:13,LEFT:14,RIGHT:15,SELECT:8,START:9,B:0,A:1,Y:2,X:3,LEFT_SHOULDER:4,RIGHT_SHOULDER:5}},65294:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports={UP:12,DOWN:13,LEFT:14,RIGHT:15,SHARE:8,OPTIONS:9,PS:16,TOUCHBAR:17,X:0,CIRCLE:1,SQUARE:2,TRIANGLE:3,L1:4,R1:5,L2:6,R2:7,L3:10,R3:11,LEFT_STICK_H:0,LEFT_STICK_V:1,RIGHT_STICK_H:2,RIGHT_STICK_V:3}},90089:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports={UP:12,DOWN:13,LEFT:14,RIGHT:15,MENU:16,A:0,B:1,X:2,Y:3,LB:4,RB:5,LT:6,RT:7,BACK:8,START:9,LS:10,RS:11,LEFT_STICK_H:0,LEFT_STICK_V:1,RIGHT_STICK_H:2,RIGHT_STICK_V:3}},64894:(n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports={DUALSHOCK_4:r(65294),SNES_USB:r(89651),XBOX_360:r(90089)}},46008:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="down"},7629:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="up"},42206:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="connected"},86544:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="disconnected"},94784:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="down"},14325:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="up"},92734:(n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports={BUTTON_DOWN:r(46008),BUTTON_UP:r(7629),CONNECTED:r(42206),DISCONNECTED:r(86544),GAMEPAD_BUTTON_DOWN:r(94784),GAMEPAD_BUTTON_UP:r(14325)}},48646:(n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports={Axis:r(97421),Button:r(28884),Events:r(92734),Gamepad:r(99125),GamepadPlugin:r(56654),Configs:r(64894)}},14350:(n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(93301),x=r(79291),d={CreatePixelPerfectHandler:r(84409),CreateInteractiveObject:r(74457),Events:r(8214),Gamepad:r(48646),InputManager:r(7003),InputPlugin:r(48205),InputPluginCache:r(89639),Keyboard:r(51442),Mouse:r(87078),Pointer:r(42515),Touch:r(95618)};d=x(!1,d,o),n.exports=d},78970:(n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(72905),x=r(83419),d=r(8443),h=r(8214),l=r(46032),a=r(29747),f=new x({initialize:function(u){this.manager=u,this.queue=[],this.preventDefault=!0,this.captures=[],this.enabled=!1,this.target,this.onKeyDown=a,this.onKeyUp=a,u.events.once(h.MANAGER_BOOT,this.boot,this)},boot:function(){var c=this.manager.config;this.enabled=c.inputKeyboard,this.target=c.inputKeyboardEventTarget,this.addCapture(c.inputKeyboardCapture),!this.target&&window&&(this.target=window),this.enabled&&this.target&&this.startListeners(),this.manager.game.events.on(d.POST_STEP,this.postUpdate,this)},startListeners:function(){var c=this;this.onKeyDown=function(v){if(!(v.defaultPrevented||!c.enabled||!c.manager)){c.queue.push(v),c.manager.events.emit(h.MANAGER_PROCESS);var g=v.altKey||v.ctrlKey||v.shiftKey||v.metaKey;c.preventDefault&&!g&&c.captures.indexOf(v.keyCode)>-1&&v.preventDefault()}},this.onKeyUp=function(v){if(!(v.defaultPrevented||!c.enabled||!c.manager)){c.queue.push(v),c.manager.events.emit(h.MANAGER_PROCESS);var g=v.altKey||v.ctrlKey||v.shiftKey||v.metaKey;c.preventDefault&&!g&&c.captures.indexOf(v.keyCode)>-1&&v.preventDefault()}};var u=this.target;u&&(u.addEventListener("keydown",this.onKeyDown,!1),u.addEventListener("keyup",this.onKeyUp,!1),this.enabled=!0)},stopListeners:function(){var c=this.target;c.removeEventListener("keydown",this.onKeyDown,!1),c.removeEventListener("keyup",this.onKeyUp,!1),this.enabled=!1},postUpdate:function(){this.queue=[]},addCapture:function(c){typeof c=="string"&&(c=c.split(",")),Array.isArray(c)||(c=[c]);for(var u=this.captures,v=0;v<c.length;v++){var g=c[v];typeof g=="string"&&(g=l[g.trim().toUpperCase()]),u.indexOf(g)===-1&&u.push(g)}this.preventDefault=u.length>0},removeCapture:function(c){typeof c=="string"&&(c=c.split(",")),Array.isArray(c)||(c=[c]);for(var u=this.captures,v=0;v<c.length;v++){var g=c[v];typeof g=="string"&&(g=l[g.toUpperCase()]),o(u,g)}this.preventDefault=u.length>0},clearCaptures:function(){this.captures=[],this.preventDefault=!1},destroy:function(){this.stopListeners(),this.clearCaptures(),this.queue=[],this.manager.game.events.off(d.POST_RENDER,this.postUpdate,this),this.target=null,this.enabled=!1,this.manager=null}});n.exports=f},28846:(n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(83419),x=r(50792),d=r(95922),h=r(8443),l=r(35154),a=r(8214),f=r(89639),c=r(30472),u=r(46032),v=r(87960),g=r(74600),m=r(44594),y=r(56583),C=new o({Extends:x,initialize:function(M){x.call(this),this.game=M.systems.game,this.scene=M.scene,this.settings=this.scene.sys.settings,this.sceneInputPlugin=M,this.manager=M.manager.keyboard,this.enabled=!0,this.keys=[],this.combos=[],this.prevCode=null,this.prevTime=0,this.prevType=null,M.pluginEvents.once(a.BOOT,this.boot,this),M.pluginEvents.on(a.START,this.start,this)},boot:function(){var b=this.settings.input;this.enabled=l(b,"keyboard",!0);var M=l(b,"keyboard.capture",null);M&&this.addCaptures(M),this.sceneInputPlugin.pluginEvents.once(a.DESTROY,this.destroy,this)},start:function(){this.sceneInputPlugin.manager.events.on(a.MANAGER_PROCESS,this.update,this),this.sceneInputPlugin.pluginEvents.once(a.SHUTDOWN,this.shutdown,this),this.game.events.on(h.BLUR,this.resetKeys,this),this.scene.sys.events.on(m.PAUSE,this.resetKeys,this),this.scene.sys.events.on(m.SLEEP,this.resetKeys,this)},isActive:function(){return this.enabled&&this.scene.sys.canInput()},addCapture:function(b){return this.manager.addCapture(b),this},removeCapture:function(b){return this.manager.removeCapture(b),this},getCaptures:function(){return this.manager.captures},enableGlobalCapture:function(){return this.manager.preventDefault=!0,this},disableGlobalCapture:function(){return this.manager.preventDefault=!1,this},clearCaptures:function(){return this.manager.clearCaptures(),this},createCursorKeys:function(){return this.addKeys({up:u.UP,down:u.DOWN,left:u.LEFT,right:u.RIGHT,space:u.SPACE,shift:u.SHIFT})},addKeys:function(b,M,w){M===void 0&&(M=!0),w===void 0&&(w=!1);var R={};if(typeof b=="string"){b=b.split(",");for(var A=0;A<b.length;A++){var L=b[A].trim();L&&(R[L]=this.addKey(L,M,w))}}else for(var F in b)R[F]=this.addKey(b[F],M,w);return R},addKey:function(b,M,w){M===void 0&&(M=!0),w===void 0&&(w=!1);var R=this.keys;if(b instanceof c){var A=R.indexOf(b);return A>-1?R[A]=b:R[b.keyCode]=b,M&&this.addCapture(b.keyCode),b.setEmitOnRepeat(w),b}return typeof b=="string"&&(b=u[b.toUpperCase()]),R[b]||(R[b]=new c(this,b),M&&this.addCapture(b),R[b].setEmitOnRepeat(w)),R[b]},removeKey:function(b,M,w){M===void 0&&(M=!1),w===void 0&&(w=!1);var R=this.keys,A;if(b instanceof c){var L=R.indexOf(b);L>-1&&(A=this.keys[L],this.keys[L]=void 0)}else typeof b=="string"&&(b=u[b.toUpperCase()]);return R[b]&&(A=R[b],R[b]=void 0),A&&(A.plugin=null,w&&this.removeCapture(A.keyCode),M&&A.destroy()),this},removeAllKeys:function(b,M){b===void 0&&(b=!1),M===void 0&&(M=!1);for(var w=this.keys,R=0;R<w.length;R++){var A=w[R];A&&(w[R]=void 0,M&&this.removeCapture(A.keyCode),b&&A.destroy())}return this},createCombo:function(b,M){return new v(this,b,M)},checkDown:function(b,M){if(M===void 0&&(M=0),this.enabled&&b.isDown){var w=y(this.time-b.timeDown,M);if(w>b._tick)return b._tick=w,!0}return!1},update:function(){var b=this.manager.queue,M=b.length;if(!(!this.isActive()||M===0))for(var w=this.keys,R=0;R<M;R++){var A=b[R],L=A.keyCode,F=w[L],G=!1;A.cancelled===void 0&&(A.cancelled=0,A.stopImmediatePropagation=function(){A.cancelled=1},A.stopPropagation=function(){A.cancelled=-1}),A.cancelled!==-1&&(L===this.prevCode&&A.timeStamp===this.prevTime&&A.type===this.prevType||(this.prevCode=L,this.prevTime=A.timeStamp,this.prevType=A.type,A.type==="keydown"?(F&&(G=F.isDown,F.onDown(A)),!A.cancelled&&(!F||!G)&&(g[L]&&this.emit(d.KEY_DOWN+g[L],A),A.cancelled||this.emit(d.ANY_KEY_DOWN,A))):(F&&F.onUp(A),A.cancelled||(g[L]&&this.emit(d.KEY_UP+g[L],A),A.cancelled||this.emit(d.ANY_KEY_UP,A))),A.cancelled===1&&(A.cancelled=0)))}},resetKeys:function(){for(var b=this.keys,M=0;M<b.length;M++)b[M]&&b[M].reset();return this},shutdown:function(){this.removeAllKeys(!0),this.removeAllListeners(),this.sceneInputPlugin.manager.events.off(a.MANAGER_PROCESS,this.update,this),this.game.events.off(h.BLUR,this.resetKeys),this.scene.sys.events.off(m.PAUSE,this.resetKeys,this),this.scene.sys.events.off(m.SLEEP,this.resetKeys,this),this.queue=[]},destroy:function(){this.shutdown();for(var b=this.keys,M=0;M<b.length;M++)b[M]&&b[M].destroy();this.keys=[],this.combos=[],this.queue=[],this.scene=null,this.settings=null,this.sceneInputPlugin=null,this.manager=null},time:{get:function(){return this.sceneInputPlugin.manager.time}}});f.register("KeyboardPlugin",C,"keyboard","keyboard","inputKeyboard"),n.exports=C},66970:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(r,o){return o.timeLastMatched=r.timeStamp,o.index++,o.index===o.size?!0:(o.current=o.keyCodes[o.index],!1)};n.exports=T},87960:(n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(83419),x=r(95922),d=r(95540),h=r(68769),l=r(92803),a=new o({initialize:function(c,u,v){if(v===void 0&&(v={}),u.length<2)return!1;this.manager=c,this.enabled=!0,this.keyCodes=[];for(var g=0;g<u.length;g++){var m=u[g];typeof m=="string"?this.keyCodes.push(m.toUpperCase().charCodeAt(0)):typeof m=="number"?this.keyCodes.push(m):m.hasOwnProperty("keyCode")&&this.keyCodes.push(m.keyCode)}this.current=this.keyCodes[0],this.index=0,this.size=this.keyCodes.length,this.timeLastMatched=0,this.matched=!1,this.timeMatched=0,this.resetOnWrongKey=d(v,"resetOnWrongKey",!0),this.maxKeyDelay=d(v,"maxKeyDelay",0),this.resetOnMatch=d(v,"resetOnMatch",!1),this.deleteOnMatch=d(v,"deleteOnMatch",!1);var y=this,C=function(b){if(!(y.matched||!y.enabled)){var M=h(b,y);M&&(y.manager.emit(x.COMBO_MATCH,y,b),y.resetOnMatch?l(y):y.deleteOnMatch&&y.destroy())}};this.onKeyDown=C,this.manager.on(x.ANY_KEY_DOWN,this.onKeyDown)},progress:{get:function(){return this.index/this.size}},destroy:function(){this.enabled=!1,this.keyCodes=[],this.manager.off(x.ANY_KEY_DOWN,this.onKeyDown),this.manager=null}});n.exports=a},68769:(n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(66970),x=function(d,h){if(h.matched)return!0;var l=!1,a=!1;if(d.keyCode===h.current)if(h.index>0&&h.maxKeyDelay>0){var f=h.timeLastMatched+h.maxKeyDelay;d.timeStamp<=f&&(a=!0,l=o(d,h))}else a=!0,l=o(d,h);return!a&&h.resetOnWrongKey&&(h.index=0,h.current=h.keyCodes[0]),l&&(h.timeLastMatched=d.timeStamp,h.matched=!0,h.timeMatched=d.timeStamp),l};n.exports=x},92803:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(r){return r.current=r.keyCodes[0],r.index=0,r.timeLastMatched=0,r.matched=!1,r.timeMatched=0,r};n.exports=T},92612:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="keydown"},23345:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="keyup"},21957:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="keycombomatch"},44743:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="down"},3771:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="keydown-"},46358:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="keyup-"},75674:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="up"},95922:(n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports={ANY_KEY_DOWN:r(92612),ANY_KEY_UP:r(23345),COMBO_MATCH:r(21957),DOWN:r(44743),KEY_DOWN:r(3771),KEY_UP:r(46358),UP:r(75674)}},51442:(n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports={Events:r(95922),KeyboardManager:r(78970),KeyboardPlugin:r(28846),Key:r(30472),KeyCodes:r(46032),KeyCombo:r(87960),AdvanceKeyCombo:r(66970),ProcessKeyCombo:r(68769),ResetKeyCombo:r(92803),JustDown:r(90229),JustUp:r(38796),DownDuration:r(37015),UpDuration:r(41170)}},37015:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(r,o){o===void 0&&(o=50);var x=r.plugin.game.loop.time-r.timeDown;return r.isDown&&x<o};n.exports=T},90229:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(r){return r._justDown?(r._justDown=!1,!0):!1};n.exports=T},38796:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(r){return r._justUp?(r._justUp=!1,!0):!1};n.exports=T},30472:(n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(83419),x=r(50792),d=r(95922),h=new o({Extends:x,initialize:function(a,f){x.call(this),this.plugin=a,this.keyCode=f,this.originalEvent=void 0,this.enabled=!0,this.isDown=!1,this.isUp=!0,this.altKey=!1,this.ctrlKey=!1,this.shiftKey=!1,this.metaKey=!1,this.location=0,this.timeDown=0,this.duration=0,this.timeUp=0,this.emitOnRepeat=!1,this.repeats=0,this._justDown=!1,this._justUp=!1,this._tick=-1},setEmitOnRepeat:function(l){return this.emitOnRepeat=l,this},onDown:function(l){this.originalEvent=l,this.enabled&&(this.altKey=l.altKey,this.ctrlKey=l.ctrlKey,this.shiftKey=l.shiftKey,this.metaKey=l.metaKey,this.location=l.location,this.repeats++,this.isDown?this.emitOnRepeat&&this.emit(d.DOWN,this,l):(this.isDown=!0,this.isUp=!1,this.timeDown=l.timeStamp,this.duration=0,this._justDown=!0,this._justUp=!1,this.emit(d.DOWN,this,l)))},onUp:function(l){this.originalEvent=l,this.enabled&&(this.isDown=!1,this.isUp=!0,this.timeUp=l.timeStamp,this.duration=this.timeUp-this.timeDown,this.repeats=0,this._justDown=!1,this._justUp=!0,this._tick=-1,this.emit(d.UP,this,l))},reset:function(){return this.isDown=!1,this.isUp=!0,this.altKey=!1,this.ctrlKey=!1,this.shiftKey=!1,this.metaKey=!1,this.timeDown=0,this.duration=0,this.timeUp=0,this.repeats=0,this._justDown=!1,this._justUp=!1,this._tick=-1,this},getDuration:function(){return this.isDown?this.plugin.game.loop.time-this.timeDown:0},destroy:function(){this.removeAllListeners(),this.originalEvent=null,this.plugin=null}});n.exports=h},46032:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T={BACKSPACE:8,TAB:9,ENTER:13,SHIFT:16,CTRL:17,ALT:18,PAUSE:19,CAPS_LOCK:20,ESC:27,SPACE:32,PAGE_UP:33,PAGE_DOWN:34,END:35,HOME:36,LEFT:37,UP:38,RIGHT:39,DOWN:40,PRINT_SCREEN:42,INSERT:45,DELETE:46,ZERO:48,ONE:49,TWO:50,THREE:51,FOUR:52,FIVE:53,SIX:54,SEVEN:55,EIGHT:56,NINE:57,NUMPAD_ZERO:96,NUMPAD_ONE:97,NUMPAD_TWO:98,NUMPAD_THREE:99,NUMPAD_FOUR:100,NUMPAD_FIVE:101,NUMPAD_SIX:102,NUMPAD_SEVEN:103,NUMPAD_EIGHT:104,NUMPAD_NINE:105,NUMPAD_ADD:107,NUMPAD_SUBTRACT:109,A:65,B:66,C:67,D:68,E:69,F:70,G:71,H:72,I:73,J:74,K:75,L:76,M:77,N:78,O:79,P:80,Q:81,R:82,S:83,T:84,U:85,V:86,W:87,X:88,Y:89,Z:90,F1:112,F2:113,F3:114,F4:115,F5:116,F6:117,F7:118,F8:119,F9:120,F10:121,F11:122,F12:123,SEMICOLON:186,PLUS:187,COMMA:188,MINUS:189,PERIOD:190,FORWARD_SLASH:191,BACK_SLASH:220,QUOTES:222,BACKTICK:192,OPEN_BRACKET:219,CLOSED_BRACKET:221,SEMICOLON_FIREFOX:59,COLON:58,COMMA_FIREFOX_WINDOWS:60,COMMA_FIREFOX:62,BRACKET_RIGHT_FIREFOX:174,BRACKET_LEFT_FIREFOX:175};n.exports=T},74600:(n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(46032),x={};for(var d in o)x[o[d]]=d;n.exports=x},41170:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(r,o){o===void 0&&(o=50);var x=r.plugin.game.loop.time-r.timeUp;return r.isUp&&x<o};n.exports=T},85098:(n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(83419),x=r(89357),d=r(8214),h=r(29747),l=new o({initialize:function(f){this.manager=f,this.preventDefaultDown=!0,this.preventDefaultUp=!0,this.preventDefaultMove=!0,this.preventDefaultWheel=!1,this.enabled=!1,this.target,this.locked=!1,this.onMouseMove=h,this.onMouseDown=h,this.onMouseUp=h,this.onMouseDownWindow=h,this.onMouseUpWindow=h,this.onMouseOver=h,this.onMouseOut=h,this.onMouseWheel=h,this.pointerLockChange=h,this.isTop=!0,f.events.once(d.MANAGER_BOOT,this.boot,this)},boot:function(){var a=this.manager.config;this.enabled=a.inputMouse,this.target=a.inputMouseEventTarget,this.passive=a.inputMousePassive,this.preventDefaultDown=a.inputMousePreventDefaultDown,this.preventDefaultUp=a.inputMousePreventDefaultUp,this.preventDefaultMove=a.inputMousePreventDefaultMove,this.preventDefaultWheel=a.inputMousePreventDefaultWheel,this.target?typeof this.target=="string"&&(this.target=document.getElementById(this.target)):this.target=this.manager.game.canvas,a.disableContextMenu&&this.disableContextMenu(),this.enabled&&this.target&&this.startListeners()},disableContextMenu:function(){return this.target.addEventListener("contextmenu",function(a){return a.preventDefault(),!1}),this},requestPointerLock:function(){if(x.pointerLock){var a=this.target;a.requestPointerLock=a.requestPointerLock||a.mozRequestPointerLock||a.webkitRequestPointerLock,a.requestPointerLock()}},releasePointerLock:function(){x.pointerLock&&(document.exitPointerLock=document.exitPointerLock||document.mozExitPointerLock||document.webkitExitPointerLock,document.exitPointerLock())},startListeners:function(){var a=this.target;if(a){var f=this,c=this.manager,u=c.canvas,v=window&&window.focus&&c.game.config.autoFocus;this.onMouseMove=function(m){!m.defaultPrevented&&f.enabled&&c&&c.enabled&&(c.onMouseMove(m),f.preventDefaultMove&&m.preventDefault())},this.onMouseDown=function(m){v&&window.focus(),!m.defaultPrevented&&f.enabled&&c&&c.enabled&&(c.onMouseDown(m),f.preventDefaultDown&&m.target===u&&m.preventDefault())},this.onMouseDownWindow=function(m){m.sourceCapabilities&&m.sourceCapabilities.firesTouchEvents||!m.defaultPrevented&&f.enabled&&c&&c.enabled&&m.target!==u&&c.onMouseDown(m)},this.onMouseUp=function(m){!m.defaultPrevented&&f.enabled&&c&&c.enabled&&(c.onMouseUp(m),f.preventDefaultUp&&m.target===u&&m.preventDefault())},this.onMouseUpWindow=function(m){m.sourceCapabilities&&m.sourceCapabilities.firesTouchEvents||!m.defaultPrevented&&f.enabled&&c&&c.enabled&&m.target!==u&&c.onMouseUp(m)},this.onMouseOver=function(m){!m.defaultPrevented&&f.enabled&&c&&c.enabled&&c.setCanvasOver(m)},this.onMouseOut=function(m){!m.defaultPrevented&&f.enabled&&c&&c.enabled&&c.setCanvasOut(m)},this.onMouseWheel=function(m){!m.defaultPrevented&&f.enabled&&c&&c.enabled&&c.onMouseWheel(m),f.preventDefaultWheel&&m.target===u&&m.preventDefault()};var g={passive:!0};if(a.addEventListener("mousemove",this.onMouseMove),a.addEventListener("mousedown",this.onMouseDown),a.addEventListener("mouseup",this.onMouseUp),a.addEventListener("mouseover",this.onMouseOver,g),a.addEventListener("mouseout",this.onMouseOut,g),this.preventDefaultWheel?a.addEventListener("wheel",this.onMouseWheel,{passive:!1}):a.addEventListener("wheel",this.onMouseWheel,g),window&&c.game.config.inputWindowEvents)try{window.top.addEventListener("mousedown",this.onMouseDownWindow,g),window.top.addEventListener("mouseup",this.onMouseUpWindow,g)}catch{window.addEventListener("mousedown",this.onMouseDownWindow,g),window.addEventListener("mouseup",this.onMouseUpWindow,g),this.isTop=!1}x.pointerLock&&(this.pointerLockChange=function(m){var y=f.target;f.locked=document.pointerLockElement===y||document.mozPointerLockElement===y||document.webkitPointerLockElement===y,c.onPointerLockChange(m)},document.addEventListener("pointerlockchange",this.pointerLockChange,!0),document.addEventListener("mozpointerlockchange",this.pointerLockChange,!0),document.addEventListener("webkitpointerlockchange",this.pointerLockChange,!0)),this.enabled=!0}},stopListeners:function(){var a=this.target;a.removeEventListener("mousemove",this.onMouseMove),a.removeEventListener("mousedown",this.onMouseDown),a.removeEventListener("mouseup",this.onMouseUp),a.removeEventListener("mouseover",this.onMouseOver),a.removeEventListener("mouseout",this.onMouseOut),window&&(a=this.isTop?window.top:window,a.removeEventListener("mousedown",this.onMouseDownWindow),a.removeEventListener("mouseup",this.onMouseUpWindow)),x.pointerLock&&(document.removeEventListener("pointerlockchange",this.pointerLockChange,!0),document.removeEventListener("mozpointerlockchange",this.pointerLockChange,!0),document.removeEventListener("webkitpointerlockchange",this.pointerLockChange,!0))},destroy:function(){this.stopListeners(),this.target=null,this.enabled=!1,this.manager=null}});n.exports=l},87078:(n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports={MouseManager:r(85098)}},36210:(n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(83419),x=r(8214),d=r(29747),h=new o({initialize:function(a){this.manager=a,this.capture=!0,this.enabled=!1,this.target,this.onTouchStart=d,this.onTouchStartWindow=d,this.onTouchMove=d,this.onTouchEnd=d,this.onTouchEndWindow=d,this.onTouchCancel=d,this.onTouchCancelWindow=d,this.isTop=!0,a.events.once(x.MANAGER_BOOT,this.boot,this)},boot:function(){var l=this.manager.config;this.enabled=l.inputTouch,this.target=l.inputTouchEventTarget,this.capture=l.inputTouchCapture,this.target?typeof this.target=="string"&&(this.target=document.getElementById(this.target)):this.target=this.manager.game.canvas,l.disableContextMenu&&this.disableContextMenu(),this.enabled&&this.target&&this.startListeners()},disableContextMenu:function(){return this.target.addEventListener("contextmenu",function(l){return l.preventDefault(),!1}),this},startListeners:function(){var l=this.target;if(l){var a=this,f=this.manager,c=f.canvas,u=window&&window.focus&&f.game.config.autoFocus;this.onTouchMove=function(y){!y.defaultPrevented&&a.enabled&&f&&f.enabled&&(f.onTouchMove(y),a.capture&&y.cancelable&&y.preventDefault())},this.onTouchStart=function(y){u&&window.focus(),!y.defaultPrevented&&a.enabled&&f&&f.enabled&&(f.onTouchStart(y),a.capture&&y.cancelable&&y.target===c&&y.preventDefault())},this.onTouchStartWindow=function(y){!y.defaultPrevented&&a.enabled&&f&&f.enabled&&y.target!==c&&f.onTouchStart(y)},this.onTouchEnd=function(y){!y.defaultPrevented&&a.enabled&&f&&f.enabled&&(f.onTouchEnd(y),a.capture&&y.cancelable&&y.target===c&&y.preventDefault())},this.onTouchEndWindow=function(y){!y.defaultPrevented&&a.enabled&&f&&f.enabled&&y.target!==c&&f.onTouchEnd(y)},this.onTouchCancel=function(y){!y.defaultPrevented&&a.enabled&&f&&f.enabled&&(f.onTouchCancel(y),a.capture&&y.preventDefault())},this.onTouchCancelWindow=function(y){!y.defaultPrevented&&a.enabled&&f&&f.enabled&&f.onTouchCancel(y)};var v=this.capture,g={passive:!0},m={passive:!1};if(l.addEventListener("touchstart",this.onTouchStart,v?m:g),l.addEventListener("touchmove",this.onTouchMove,v?m:g),l.addEventListener("touchend",this.onTouchEnd,v?m:g),l.addEventListener("touchcancel",this.onTouchCancel,v?m:g),window&&f.game.config.inputWindowEvents)try{window.top.addEventListener("touchstart",this.onTouchStartWindow,m),window.top.addEventListener("touchend",this.onTouchEndWindow,m),window.top.addEventListener("touchcancel",this.onTouchCancelWindow,m)}catch{window.addEventListener("touchstart",this.onTouchStartWindow,m),window.addEventListener("touchend",this.onTouchEndWindow,m),window.addEventListener("touchcancel",this.onTouchCancelWindow,m),this.isTop=!1}this.enabled=!0}},stopListeners:function(){var l=this.target;l.removeEventListener("touchstart",this.onTouchStart),l.removeEventListener("touchmove",this.onTouchMove),l.removeEventListener("touchend",this.onTouchEnd),l.removeEventListener("touchcancel",this.onTouchCancel),window&&(l=this.isTop?window.top:window,l.removeEventListener("touchstart",this.onTouchStartWindow),l.removeEventListener("touchend",this.onTouchEndWindow),l.removeEventListener("touchcancel",this.onTouchCancelWindow))},destroy:function(){this.stopListeners(),this.target=null,this.enabled=!1,this.manager=null}});n.exports=h},95618:(n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports={TouchManager:r(36210)}},41299:(n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(83419),x=r(23906),d=r(54899),h=r(95540),l=r(98356),a=r(3374),f=r(84376),c=r(92638),u=new o({initialize:function(g,m){if(this.loader=g,this.cache=h(m,"cache",!1),this.type=h(m,"type",!1),!this.type)throw new Error("Invalid File type: "+this.type);this.key=h(m,"key",!1);var y=this.key;if(g.prefix&&g.prefix!==""&&(this.key=g.prefix+y),!this.key)throw new Error("Invalid File key: "+this.key);var C=h(m,"url");C===void 0?C=g.path+y+"."+h(m,"extension",""):typeof C=="string"&&!C.match(/^(?:blob:|data:|capacitor:\/\/|http:\/\/|https:\/\/|\/\/)/)&&(C=g.path+C),this.url=C,this.src="",this.xhrSettings=c(h(m,"responseType",void 0)),h(m,"xhrSettings",!1)&&(this.xhrSettings=a(this.xhrSettings,h(m,"xhrSettings",{}))),this.xhrLoader=null,this.state=typeof this.url=="function"?x.FILE_POPULATED:x.FILE_PENDING,this.bytesTotal=0,this.bytesLoaded=-1,this.percentComplete=-1,this.crossOrigin=void 0,this.data=void 0,this.config=h(m,"config",{}),this.multiFile,this.linkFile,this.base64=typeof C=="string"&&C.indexOf("data:")===0,this.retryAttempts=h(m,"maxRetries",g.maxRetries)},setLink:function(v){this.linkFile=v,v.linkFile=this},resetXHR:function(){this.xhrLoader&&(this.xhrLoader.onload=void 0,this.xhrLoader.onerror=void 0,this.xhrLoader.onprogress=void 0)},load:function(){if(this.state===x.FILE_POPULATED)this.loader.nextFile(this,!0);else{if(this.state=x.FILE_LOADING,this.src=l(this,this.loader.baseURL),!this.src)throw new Error("URL Error in File: "+this.key+" from: "+this.url);this.src.indexOf("data:")===0&&(this.base64=!0),this.xhrLoader=f(this,this.loader.xhr)}},onLoad:function(v,g){var m=v.responseURL&&this.loader.localSchemes.some(function(b){return v.responseURL.indexOf(b)===0}),y=m&&g.target.status===0,C=!(g.target&&g.target.status!==200)||y;v.readyState===4&&v.status>=400&&v.status<=599&&(C=!1),this.state=x.FILE_LOADED,this.resetXHR(),this.loader.nextFile(this,C)},onBase64Load:function(v){this.xhrLoader=v,this.state=x.FILE_LOADED,this.percentComplete=1,this.loader.emit(d.FILE_PROGRESS,this,this.percentComplete),this.loader.nextFile(this,!0)},onError:function(){this.resetXHR(),this.retryAttempts>0?(this.retryAttempts--,this.load()):this.loader.nextFile(this,!1)},onProgress:function(v){v.lengthComputable&&(this.bytesLoaded=v.loaded,this.bytesTotal=v.total,this.percentComplete=Math.min(this.bytesLoaded/this.bytesTotal,1),this.loader.emit(d.FILE_PROGRESS,this,this.percentComplete))},onProcess:function(){this.state=x.FILE_PROCESSING,this.onProcessComplete()},onProcessComplete:function(){this.state=x.FILE_COMPLETE,this.multiFile&&this.multiFile.onFileComplete(this),this.loader.fileProcessComplete(this)},onProcessError:function(){console.error('Failed to process file: %s "%s"',this.type,this.key),this.state=x.FILE_ERRORED,this.multiFile&&this.multiFile.onFileFailed(this),this.loader.fileProcessComplete(this)},hasCacheConflict:function(){return this.cache&&this.cache.exists(this.key)},addToCache:function(){this.cache&&this.data&&this.cache.add(this.key,this.data)},pendingDestroy:function(v){if(this.state!==x.FILE_PENDING_DESTROY){v===void 0&&(v=this.data);var g=this.key,m=this.type;this.loader.emit(d.FILE_COMPLETE,g,m,v),this.loader.emit(d.FILE_KEY_COMPLETE+m+"-"+g,g,m,v),this.loader.flagForRemoval(this),this.state=x.FILE_PENDING_DESTROY}},destroy:function(){this.loader=null,this.cache=null,this.xhrSettings=null,this.multiFile=null,this.linkFile=null,this.data=null}});u.createObjectURL=function(v,g,m){if(typeof URL=="function")v.src=URL.createObjectURL(g);else{var y=new FileReader;y.onload=function(){v.removeAttribute("crossOrigin"),v.src="data:"+(g.type||m)+";base64,"+y.result.split(",")[1]},y.onerror=v.onerror,y.readAsDataURL(g)}},u.revokeObjectURL=function(v){typeof URL=="function"&&URL.revokeObjectURL(v.src)},n.exports=u},74099:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T={},r={install:function(o){for(var x in T)o[x]=T[x]},register:function(o,x){T[o]=x},destroy:function(){T={}}};n.exports=r},98356:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(r,o){return r.url?r.url.match(/^(?:blob:|data:|capacitor:\/\/|http:\/\/|https:\/\/|\/\/)/)?r.url:o+r.url:!1};n.exports=T},74261:(n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(83419),x=r(23906),d=r(35072),h=r(50792),l=r(54899),a=r(74099),f=r(95540),c=r(35154),u=r(41212),v=r(37277),g=r(44594),m=r(92638),y=new o({Extends:h,initialize:function(b){h.call(this);var M=b.sys.game.config,w=b.sys.settings.loader;this.scene=b,this.systems=b.sys,this.cacheManager=b.sys.cache,this.textureManager=b.sys.textures,this.sceneManager=b.sys.game.scene,a.install(this),this.prefix="",this.path="",this.baseURL="",this.setBaseURL(f(w,"baseURL",M.loaderBaseURL)),this.setPath(f(w,"path",M.loaderPath)),this.setPrefix(f(w,"prefix",M.loaderPrefix)),this.maxParallelDownloads=f(w,"maxParallelDownloads",M.loaderMaxParallelDownloads),this.xhr=m(f(w,"responseType",M.loaderResponseType),f(w,"async",M.loaderAsync),f(w,"user",M.loaderUser),f(w,"password",M.loaderPassword),f(w,"timeout",M.loaderTimeout),f(w,"withCredentials",M.loaderWithCredentials)),this.crossOrigin=f(w,"crossOrigin",M.loaderCrossOrigin),this.imageLoadType=f(w,"imageLoadType",M.loaderImageLoadType),this.localSchemes=f(w,"localScheme",M.loaderLocalScheme),this.totalToLoad=0,this.progress=0,this.list=new d,this.inflight=new d,this.queue=new d,this._deleteQueue=new d,this.totalFailed=0,this.totalComplete=0,this.state=x.LOADER_IDLE,this.multiKeyIndex=0,this.maxRetries=f(w,"maxRetries",M.loaderMaxRetries),b.sys.events.once(g.BOOT,this.boot,this),b.sys.events.on(g.START,this.pluginStart,this)},boot:function(){this.systems.events.once(g.DESTROY,this.destroy,this)},pluginStart:function(){this.systems.events.once(g.SHUTDOWN,this.shutdown,this)},setBaseURL:function(C){return C===void 0&&(C=""),C!==""&&C.substr(-1)!=="/"&&(C=C.concat("/")),this.baseURL=C,this},setPath:function(C){return C===void 0&&(C=""),C!==""&&C.substr(-1)!=="/"&&(C=C.concat("/")),this.path=C,this},setPrefix:function(C){return C===void 0&&(C=""),this.prefix=C,this},setCORS:function(C){return this.crossOrigin=C,this},addFile:function(C){Array.isArray(C)||(C=[C]);for(var b=0;b<C.length;b++){var M=C[b];this.keyExists(M)||(this.list.set(M),this.emit(l.ADD,M.key,M.type,this,M),this.isLoading()&&(this.totalToLoad++,this.updateProgress()))}},keyExists:function(C){var b=C.hasCacheConflict();return b||this.list.iterate(function(M){if(M.type===C.type&&M.key===C.key)return b=!0,!1}),!b&&this.isLoading()&&(this.inflight.iterate(function(M){if(M.type===C.type&&M.key===C.key)return b=!0,!1}),this.queue.iterate(function(M){if(M.type===C.type&&M.key===C.key)return b=!0,!1})),b},addPack:function(C,b){if(typeof b=="string"){var M=c(C,b);M&&(C={packKey:M})}var w=0,R=this.baseURL,A=this.path,L=this.prefix;for(var F in C)if(Object.prototype.hasOwnProperty.call(C,F)){var G=C[F],I=f(G,"baseURL",R),B=f(G,"path",A),k=f(G,"prefix",L),U=f(G,"files",null),H=f(G,"defaultType","void");if(Array.isArray(U)){this.setBaseURL(I),this.setPath(B),this.setPrefix(k);for(var X=0;X<U.length;X++){var j=U[X],J=j.hasOwnProperty("type")?j.type:H;this[J]&&(this[J](j),w++)}}}return this.setBaseURL(R),this.setPath(A),this.setPrefix(L),w>0},removePack:function(C,b){var M=this.systems.anims,w=this.cacheManager,R=this.textureManager,A={animation:"json",aseprite:"json",audio:"audio",audioSprite:"audio",binary:"binary",bitmapFont:"bitmapFont",css:null,glsl:"shader",html:"html",json:"json",obj:"obj",plugin:null,scenePlugin:null,script:null,spine:"json",text:"text",tilemapCSV:"tilemap",tilemapImpact:"tilemap",tilemapTiledJSON:"tilemap",video:"video",xml:"xml"},L;if(u(C))L=C;else if(L=w.json.get(C),!L){console.warn("Asset Pack not found in JSON cache:",C);return}b&&(L={_:L[b]});for(var F in L){var G=L[F],I=f(G,"prefix",""),B=f(G,"files"),k=f(G,"defaultType");if(Array.isArray(B))for(var U=0;U<B.length;U++){var H=B[U],X=H.hasOwnProperty("type")?H.type:k;if(!X){console.warn("No type:",H);continue}var j=I+H.key;if(X==="animation"&&M.remove(j),!((X==="aseprite"||X==="atlas"||X==="atlasXML"||X==="htmlTexture"||X==="image"||X==="multiatlas"||X==="spritesheet"||X==="svg"||X==="texture"||X==="unityAtlas")&&(R.remove(j),!A[X]))){if(X==="pack"){this.removePack(j,H.dataKey);continue}if(X==="spine"){var J=w.custom.spine.get(j);if(!J)continue;var Y=J.prefix===void 0?"":J.prefix;w.custom.spine.remove(j);var $=w.custom.spineTextures.get(j);if(!$)continue;w.custom.spineTextures.remove(j);for(var z=0;z<$.pages.length;z++){var V=$.pages[z],K=Y+V.name,Q=j+":"+K;R.exists(Q)?R.remove(Q):R.remove(K)}}var _=A[X];if(_!==null){if(!_){console.warn("Unknown type:",X);continue}var tt=w[_];tt.remove(j)}}}}},isLoading:function(){return this.state===x.LOADER_LOADING||this.state===x.LOADER_PROCESSING},isReady:function(){return this.state===x.LOADER_IDLE||this.state===x.LOADER_COMPLETE},start:function(){this.isReady()&&(this.progress=0,this.totalFailed=0,this.totalComplete=0,this.totalToLoad=this.list.size,this.emit(l.START,this),this.list.size===0?this.loadComplete():(this.state=x.LOADER_LOADING,this.inflight.clear(),this.queue.clear(),this.updateProgress(),this.checkLoadQueue(),this.systems.events.on(g.UPDATE,this.update,this)))},updateProgress:function(){this.progress=1-(this.list.size+this.inflight.size)/this.totalToLoad,this.emit(l.PROGRESS,this.progress)},update:function(){this.state===x.LOADER_LOADING&&this.list.size>0&&this.inflight.size<this.maxParallelDownloads&&this.checkLoadQueue()},checkLoadQueue:function(){this.list.each(function(C){if((C.state===x.FILE_POPULATED||C.state===x.FILE_PENDING&&this.inflight.size<this.maxParallelDownloads)&&(this.inflight.set(C),this.list.delete(C),C.crossOrigin||(C.crossOrigin=this.crossOrigin),C.load()),this.inflight.size===this.maxParallelDownloads)return!1},this)},nextFile:function(C,b){this.inflight&&(this.inflight.delete(C),this.updateProgress(),b?(this.totalComplete++,this.queue.set(C),this.emit(l.FILE_LOAD,C),C.onProcess()):(this.totalFailed++,this._deleteQueue.set(C),this.emit(l.FILE_LOAD_ERROR,C),this.fileProcessComplete(C)))},fileProcessComplete:function(C){!this.scene||!this.systems||!this.systems.game||this.systems.game.pendingDestroy||(C.state===x.FILE_ERRORED?C.multiFile&&C.multiFile.onFileFailed(C):C.state===x.FILE_COMPLETE&&(C.multiFile?C.multiFile.isReadyToProcess()&&(C.multiFile.addToCache(),C.multiFile.pendingDestroy()):(C.addToCache(),C.pendingDestroy())),this.queue.delete(C),this.list.size===0&&this.inflight.size===0&&this.queue.size===0&&this.loadComplete())},loadComplete:function(){this.emit(l.POST_PROCESS,this),this.list.clear(),this.inflight.clear(),this.queue.clear(),this.progress=1,this.state=x.LOADER_COMPLETE,this.systems.events.off(g.UPDATE,this.update,this),this._deleteQueue.iterateLocal("destroy"),this._deleteQueue.clear(),this.emit(l.COMPLETE,this,this.totalComplete,this.totalFailed)},flagForRemoval:function(C){this._deleteQueue.set(C)},saveJSON:function(C,b){return this.save(JSON.stringify(C),b)},save:function(C,b,M){b===void 0&&(b="file.json"),M===void 0&&(M="application/json");var w=new Blob([C],{type:M}),R=URL.createObjectURL(w),A=document.createElement("a");return A.download=b,A.textContent="Download "+b,A.href=R,A.click(),this},reset:function(){this.list.clear(),this.inflight.clear(),this.queue.clear();var C=this.systems.game.config,b=this.systems.settings.loader;this.setBaseURL(f(b,"baseURL",C.loaderBaseURL)),this.setPath(f(b,"path",C.loaderPath)),this.setPrefix(f(b,"prefix",C.loaderPrefix)),this.state=x.LOADER_IDLE},shutdown:function(){this.reset(),this.state=x.LOADER_SHUTDOWN,this.removeAllListeners(),this.systems.events.off(g.UPDATE,this.update,this),this.systems.events.off(g.SHUTDOWN,this.shutdown,this)},destroy:function(){this.shutdown(),this.state=x.LOADER_DESTROYED,this.systems.events.off(g.UPDATE,this.update,this),this.systems.events.off(g.START,this.pluginStart,this),this.list=null,this.inflight=null,this.queue=null,this.scene=null,this.systems=null,this.textureManager=null,this.cacheManager=null,this.sceneManager=null}});v.register("Loader",y,"load"),n.exports=y},3374:(n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(79291),x=r(92638),d=function(h,l){var a=h===void 0?x():o({},h);if(l)for(var f in l)l[f]!==void 0&&(a[f]=l[f]);return a};n.exports=d},26430:(n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(83419),x=r(23906),d=r(54899),h=new o({initialize:function(a,f,c,u){var v=[];u.forEach(function(y){y&&v.push(y)}),this.loader=a,this.type=f,this.key=c;var g=this.key;a.prefix&&a.prefix!==""&&(this.key=a.prefix+g),this.multiKeyIndex=a.multiKeyIndex++,this.files=v,this.state=x.FILE_PENDING,this.complete=!1,this.pending=v.length,this.failed=0,this.config={},this.baseURL=a.baseURL,this.path=a.path,this.prefix=a.prefix;for(var m=0;m<v.length;m++)v[m].multiFile=this},isReadyToProcess:function(){return this.pending===0&&this.failed===0&&!this.complete},addToMultiFile:function(l){return this.files.push(l),l.multiFile=this,this.pending++,this.complete=!1,this},onFileComplete:function(l){var a=this.files.indexOf(l);a!==-1&&this.pending--},onFileFailed:function(l){var a=this.files.indexOf(l);a!==-1&&(this.failed++,console.error('File failed: %s "%s" (via %s "%s")',this.type,this.key,l.type,l.key))},pendingDestroy:function(){if(this.state!==x.FILE_PENDING_DESTROY){var l=this.key,a=this.type;this.loader.emit(d.FILE_COMPLETE,l,a),this.loader.emit(d.FILE_KEY_COMPLETE+a+"-"+l,l,a),this.loader.flagForRemoval(this);for(var f=0;f<this.files.length;f++)this.files[f].pendingDestroy();this.state=x.FILE_PENDING_DESTROY}},destroy:function(){this.loader=null,this.files=null,this.config=null}});n.exports=h},84376:(n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(3374),x=function(d,h){var l=o(h,d.xhrSettings);if(d.base64){var a=d.url.split(";base64,").pop()||d.url.split(",").pop(),f={responseText:atob(a)};d.onBase64Load(f);return}var c=new XMLHttpRequest;if(c.open("GET",d.src,l.async,l.user,l.password),c.responseType=d.xhrSettings.responseType,c.timeout=l.timeout,l.headers)for(var u in l.headers)c.setRequestHeader(u,l.headers[u]);return l.header&&l.headerValue&&c.setRequestHeader(l.header,l.headerValue),l.requestedWith&&c.setRequestHeader("X-Requested-With",l.requestedWith),l.overrideMimeType&&c.overrideMimeType(l.overrideMimeType),l.withCredentials&&(c.withCredentials=!0),c.onload=d.onLoad.bind(d,c),c.onerror=d.onError.bind(d,c),c.onprogress=d.onProgress.bind(d),c.ontimeout=d.onError.bind(d,c),c.send(),c};n.exports=x},92638:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(r,o,x,d,h,l){return r===void 0&&(r=""),o===void 0&&(o=!0),x===void 0&&(x=""),d===void 0&&(d=""),h===void 0&&(h=0),l===void 0&&(l=!1),{responseType:r,async:o,user:x,password:d,timeout:h,headers:void 0,header:void 0,headerValue:void 0,requestedWith:!1,overrideMimeType:void 0,withCredentials:l}};n.exports=T},23906:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T={LOADER_IDLE:0,LOADER_LOADING:1,LOADER_PROCESSING:2,LOADER_COMPLETE:3,LOADER_SHUTDOWN:4,LOADER_DESTROYED:5,FILE_PENDING:10,FILE_LOADING:11,FILE_LOADED:12,FILE_FAILED:13,FILE_PROCESSING:14,FILE_ERRORED:16,FILE_COMPLETE:17,FILE_DESTROYED:18,FILE_POPULATED:19,FILE_PENDING_DESTROY:20};n.exports=T},42155:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="addfile"},38991:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="complete"},27540:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="filecomplete"},87464:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="filecomplete-"},94486:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="loaderror"},13035:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="load"},38144:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="fileprogress"},97520:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="postprocess"},85595:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="progress"},55680:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="start"},54899:(n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports={ADD:r(42155),COMPLETE:r(38991),FILE_COMPLETE:r(27540),FILE_KEY_COMPLETE:r(87464),FILE_LOAD_ERROR:r(94486),FILE_LOAD:r(13035),FILE_PROGRESS:r(38144),POST_PROCESS:r(97520),PROGRESS:r(85595),START:r(55680)}},14135:(n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(83419),x=r(74099),d=r(518),h=r(54899),l=new o({Extends:d,initialize:function(f,c,u,v,g){d.call(this,f,c,u,v,g),this.type="animationJSON"},onProcess:function(){this.loader.once(h.POST_PROCESS,this.onLoadComplete,this),d.prototype.onProcess.call(this)},onLoadComplete:function(){this.loader.systems.anims.fromJSON(this.data)}});x.register("animation",function(a,f,c,u){if(Array.isArray(a))for(var v=0;v<a.length;v++)this.addFile(new l(this,a[v]));else this.addFile(new l(this,a,f,u,c));return this}),n.exports=l},76272:(n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(83419),x=r(74099),d=r(95540),h=r(19550),l=r(41212),a=r(518),f=r(26430),c=new o({Extends:f,initialize:function(v,g,m,y,C,b){var M,w;if(l(g)){var R=g;g=d(R,"key"),M=new h(v,{key:g,url:d(R,"textureURL"),extension:d(R,"textureExtension","png"),normalMap:d(R,"normalMap"),xhrSettings:d(R,"textureXhrSettings")}),w=new a(v,{key:g,url:d(R,"atlasURL"),extension:d(R,"atlasExtension","json"),xhrSettings:d(R,"atlasXhrSettings")})}else M=new h(v,g,m,C),w=new a(v,g,y,b);M.linkFile?f.call(this,v,"atlasjson",g,[M,w,M.linkFile]):f.call(this,v,"atlasjson",g,[M,w])},addToCache:function(){if(this.isReadyToProcess()){var u=this.files[0],v=this.files[1],g=this.files[2]?this.files[2].data:null;this.loader.textureManager.addAtlas(u.key,u.data,v.data,g),v.addToCache(),this.complete=!0}}});x.register("aseprite",function(u,v,g,m,y){var C;if(Array.isArray(u))for(var b=0;b<u.length;b++)C=new c(this,u[b]),this.addFile(C.files);else C=new c(this,u,v,g,m,y),this.addFile(C.files);return this}),n.exports=c},38734:(n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(83419),x=r(74099),d=r(95540),h=r(19550),l=r(41212),a=r(518),f=r(26430),c=new o({Extends:f,initialize:function(v,g,m,y,C,b){var M,w;if(l(g)){var R=g;g=d(R,"key"),M=new h(v,{key:g,url:d(R,"textureURL"),extension:d(R,"textureExtension","png"),normalMap:d(R,"normalMap"),xhrSettings:d(R,"textureXhrSettings")}),w=new a(v,{key:g,url:d(R,"atlasURL"),extension:d(R,"atlasExtension","json"),xhrSettings:d(R,"atlasXhrSettings")})}else M=new h(v,g,m,C),w=new a(v,g,y,b);M.linkFile?f.call(this,v,"atlasjson",g,[M,w,M.linkFile]):f.call(this,v,"atlasjson",g,[M,w])},addToCache:function(){if(this.isReadyToProcess()){var u=this.files[0],v=this.files[1],g=this.files[2]?this.files[2].data:null;this.loader.textureManager.addAtlas(u.key,u.data,v.data,g),this.complete=!0}}});x.register("atlas",function(u,v,g,m,y){var C;if(Array.isArray(u))for(var b=0;b<u.length;b++)C=new c(this,u[b]),this.addFile(C.files);else C=new c(this,u,v,g,m,y),this.addFile(C.files);return this}),n.exports=c},74599:(n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(83419),x=r(74099),d=r(95540),h=r(19550),l=r(41212),a=r(26430),f=r(57318),c=new o({Extends:a,initialize:function(v,g,m,y,C,b){var M,w;if(l(g)){var R=g;g=d(R,"key"),M=new h(v,{key:g,url:d(R,"textureURL"),extension:d(R,"textureExtension","png"),normalMap:d(R,"normalMap"),xhrSettings:d(R,"textureXhrSettings")}),w=new f(v,{key:g,url:d(R,"atlasURL"),extension:d(R,"atlasExtension","xml"),xhrSettings:d(R,"atlasXhrSettings")})}else M=new h(v,g,m,C),w=new f(v,g,y,b);M.linkFile?a.call(this,v,"atlasxml",g,[M,w,M.linkFile]):a.call(this,v,"atlasxml",g,[M,w])},addToCache:function(){if(this.isReadyToProcess()){var u=this.files[0],v=this.files[1],g=this.files[2]?this.files[2].data:null;this.loader.textureManager.addAtlasXML(u.key,u.data,v.data,g),this.complete=!0}}});x.register("atlasXML",function(u,v,g,m,y){var C;if(Array.isArray(u))for(var b=0;b<u.length;b++)C=new c(this,u[b]),this.addFile(C.files);else C=new c(this,u,v,g,m,y),this.addFile(C.files);return this}),n.exports=c},21097:(n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(83419),x=r(23906),d=r(41299),h=r(74099),l=r(95540),a=r(89749),f=r(41212),c=new o({Extends:d,initialize:function(v,g,m,y,C){if(f(g)){var b=g;g=l(b,"key"),y=l(b,"xhrSettings"),C=l(b,"context",C)}var M={type:"audio",cache:v.cacheManager.audio,extension:m.type,responseType:"arraybuffer",key:g,url:m.url,xhrSettings:y,config:{context:C}};d.call(this,v,M)},onProcess:function(){this.state=x.FILE_PROCESSING;var u=this;this.config.context.decodeAudioData(this.xhrLoader.response,function(v){u.data=v,u.onProcessComplete()},function(v){console.error("Error decoding audio: "+u.key+" - ",v?v.message:null),u.onProcessError()}),this.config.context=null}});c.create=function(u,v,g,m,y){var C=u.systems.game,b=C.config.audio,M=C.device.audio;f(v)&&(g=l(v,"url",[]),m=l(v,"config",{}));var w=c.getAudioURL(C,g);return w?M.webAudio&&!b.disableWebAudio?new c(u,v,w,y,C.sound.context):new a(u,v,w,m):(console.warn('No audio URLs for "%s" can play on this device',v),null)},c.getAudioURL=function(u,v){Array.isArray(v)||(v=[v]);for(var g=0;g<v.length;g++){var m=l(v[g],"url",v[g]);if(m.indexOf("blob:")===0||m.indexOf("data:")===0)return{url:m,type:""};var y=m.match(/\.([a-zA-Z0-9]+)($|\?)/);if(y=l(v[g],"type",y?y[1]:"").toLowerCase(),u.device.audio[y])return{url:m,type:y}}return null},h.register("audio",function(u,v,g,m){var y=this.systems.game,C=y.config.audio,b=y.device.audio;if(C.noAudio||!b.webAudio&&!b.audioData)return this;var M;if(Array.isArray(u))for(var w=0;w<u.length;w++)M=c.create(this,u[w]),M&&this.addFile(M);else M=c.create(this,u,v,g,m),M&&this.addFile(M);return this}),n.exports=c},89524:(n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(21097),x=r(83419),d=r(74099),h=r(95540),l=r(41212),a=r(518),f=r(26430),c=new x({Extends:f,initialize:function(v,g,m,y,C,b,M){if(l(g)){var w=g;g=h(w,"key"),m=h(w,"jsonURL"),y=h(w,"audioURL"),C=h(w,"audioConfig"),b=h(w,"audioXhrSettings"),M=h(w,"jsonXhrSettings")}var R;if(!y)R=new a(v,g,m,M),f.call(this,v,"audiosprite",g,[R]),this.config.resourceLoad=!0,this.config.audioConfig=C,this.config.audioXhrSettings=b;else{var A=o.create(v,g,y,C,b);A&&(R=new a(v,g,m,M),f.call(this,v,"audiosprite",g,[A,R]),this.config.resourceLoad=!1)}},onFileComplete:function(u){var v=this.files.indexOf(u);if(v!==-1&&(this.pending--,this.config.resourceLoad&&u.type==="json"&&u.data.hasOwnProperty("resources"))){var g=u.data.resources,m=h(this.config,"audioConfig"),y=h(this.config,"audioXhrSettings"),C=o.create(this.loader,u.key,g,m,y);C&&(this.addToMultiFile(C),this.loader.addFile(C))}},addToCache:function(){if(this.isReadyToProcess()){var u=this.files[0],v=this.files[1];u.addToCache(),v.addToCache(),this.complete=!0}}});d.register("audioSprite",function(u,v,g,m,y,C){var b=this.systems.game,M=b.config.audio,w=b.device.audio;if(M&&M.noAudio||!w.webAudio&&!w.audioData)return this;var R;if(Array.isArray(u))for(var A=0;A<u.length;A++)R=new c(this,u[A]),R.files&&this.addFile(R.files);else R=new c(this,u,v,g,m,y,C),R.files&&this.addFile(R.files);return this})},85722:(n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(83419),x=r(23906),d=r(41299),h=r(74099),l=r(95540),a=r(41212),f=new o({Extends:d,initialize:function(u,v,g,m,y){var C="bin";if(a(v)){var b=v;v=l(b,"key"),g=l(b,"url"),m=l(b,"xhrSettings"),C=l(b,"extension",C),y=l(b,"dataType",y)}var M={type:"binary",cache:u.cacheManager.binary,extension:C,responseType:"arraybuffer",key:v,url:g,xhrSettings:m,config:{dataType:y}};d.call(this,u,M)},onProcess:function(){this.state=x.FILE_PROCESSING;var c=this.config.dataType;this.data=c?new c(this.xhrLoader.response):this.xhrLoader.response,this.onProcessComplete()}});h.register("binary",function(c,u,v,g){if(Array.isArray(c))for(var m=0;m<c.length;m++)this.addFile(new f(this,c[m]));else this.addFile(new f(this,c,u,g,v));return this}),n.exports=f},97025:(n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(83419),x=r(74099),d=r(95540),h=r(19550),l=r(41212),a=r(26430),f=r(21859),c=r(57318),u=new o({Extends:a,initialize:function(g,m,y,C,b,M){var w,R;if(l(m)){var A=m;m=d(A,"key"),w=new h(g,{key:m,url:d(A,"textureURL"),extension:d(A,"textureExtension","png"),normalMap:d(A,"normalMap"),xhrSettings:d(A,"textureXhrSettings")}),R=new c(g,{key:m,url:d(A,"fontDataURL"),extension:d(A,"fontDataExtension","xml"),xhrSettings:d(A,"fontDataXhrSettings")})}else w=new h(g,m,y,b),R=new c(g,m,C,M);w.linkFile?a.call(this,g,"bitmapfont",m,[w,R,w.linkFile]):a.call(this,g,"bitmapfont",m,[w,R])},addToCache:function(){if(this.isReadyToProcess()){var v=this.files[0],g=this.files[1];v.addToCache();var m=v.cache.get(v.key),y=f(g.data,v.cache.getFrame(v.key),0,0,m);this.loader.cacheManager.bitmapFont.add(v.key,{data:y,texture:v.key,frame:null}),this.complete=!0}}});x.register("bitmapFont",function(v,g,m,y,C){var b;if(Array.isArray(v))for(var M=0;M<v.length;M++)b=new u(this,v[M]),this.addFile(b.files);else b=new u(this,v,g,m,y,C),this.addFile(b.files);return this}),n.exports=u},16024:(n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(83419),x=r(23906),d=r(41299),h=r(74099),l=r(95540),a=r(41212),f=new o({Extends:d,initialize:function(u,v,g,m){var y="css";if(a(v)){var C=v;v=l(C,"key"),g=l(C,"url"),m=l(C,"xhrSettings"),y=l(C,"extension",y)}var b={type:"script",cache:!1,extension:y,responseType:"text",key:v,url:g,xhrSettings:m};d.call(this,u,b)},onProcess:function(){this.state=x.FILE_PROCESSING,this.data=document.createElement("style"),this.data.defer=!1,this.data.innerHTML=this.xhrLoader.responseText,document.head.appendChild(this.data),this.onProcessComplete()}});h.register("css",function(c,u,v){if(Array.isArray(c))for(var g=0;g<c.length;g++)this.addFile(new f(this,c[g]));else this.addFile(new f(this,c,u,v));return this}),n.exports=f},69559:(n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2021 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(38734),x=r(85722),d=r(83419),h=r(74099),l=r(95540),a=r(19550),f=r(41212),c=r(518),u=r(31403),v=r(46975),g=r(59327),m=r(26430),y=r(82038),C=r(55222),b=new d({Extends:m,initialize:function(w,R,A,L){if(A.multiAtlasURL){var F=new c(w,{key:R,url:A.multiAtlasURL,xhrSettings:L,config:A});m.call(this,w,"texture",R,[F])}else{var G=A.textureURL.substr(A.textureURL.length-3);A.type||(A.type=G.toLowerCase()==="ktx"?"KTX":"PVR");var I=new x(w,{key:R,url:A.textureURL,extension:G,xhrSettings:L,config:A});if(A.atlasURL){var B=new c(w,{key:R,url:A.atlasURL,xhrSettings:L,config:A});m.call(this,w,"texture",R,[I,B])}else m.call(this,w,"texture",R,[I])}this.config=A},onFileComplete:function(M){var w=this.files.indexOf(M);if(w!==-1){if(this.pending--,!this.config.multiAtlasURL)return;if(M.type==="json"&&M.data.hasOwnProperty("textures")){var R=M.data.textures,A=this.config,L=this.loader,F=L.baseURL,G=L.path,I=L.prefix,B=l(A,"multiBaseURL",this.baseURL),k=l(A,"multiPath",this.path),U=l(A,"prefix",this.prefix),H=l(A,"textureXhrSettings");B&&L.setBaseURL(B),k&&L.setPath(k),U&&L.setPrefix(U);for(var X=0;X<R.length;X++){var j=R[X].image,J="CMA"+this.multiKeyIndex+"_"+j,Y=new x(L,J,j,H);if(this.addToMultiFile(Y),L.addFile(Y),R[X].normalMap){var $=new x(L,J,R[X].normalMap,H);$.type="normalMap",Y.setLink($),this.addToMultiFile($),L.addFile($)}}L.setBaseURL(F),L.setPath(G),L.setPrefix(I)}}},addToCache:function(){function M(B){console.warn('Compressed Texture Invalid: "'+F.key+'". '+B)}if(this.isReadyToProcess()){var w=this.config;if(w.multiAtlasURL)this.addMultiToCache();else{var R=this.loader.systems.renderer,A=this.loader.textureManager,L,F=this.files[0],G=this.files[1];if(w.type==="PVR"?L=y(F.data):w.type==="KTX"&&(L=u(F.data),L||M("KTX file contains unsupported format.")),L&&!C(L)&&(M("Texture dimensions failed verification. Check the texture format specifications for "+w.format+" 0x"+L.internalFormat.toString(16)+"."),L=null),L&&!R.supportsCompressedTexture(w.format,L.internalFormat)&&(M("Texture format "+w.format+" with internal format "+L.internalFormat+" not supported by the GPU. Texture invalid. This is often due to the texture using sRGB instead of linear RGB."),L=null),L){L.format=R.getCompressedTextureName(w.format,L.internalFormat);var I=G&&G.data?G.data:null;A.addCompressedTexture(F.key,L,I)}}this.complete=!0}},addMultiToCache:function(){for(var M=this.config,w=this.files[0],R=[],A=[],L=[],F=this.loader.systems.renderer,G=this.loader.textureManager,I,B=1;B<this.files.length;B++){var k=this.files[B];if(k.type!=="normalMap")for(var U=k.key.indexOf("_"),H=k.key.substr(U+1),X=k.data,j=0;j<w.data.textures.length;j++){var J=w.data.textures[j];if(J.image===H){M.type==="PVR"?I=y(X):M.type==="KTX"&&(I=u(X)),I&&F.supportsCompressedTexture(M.format,I.internalFormat)&&(I.format=F.getCompressedTextureName(M.format,I.internalFormat),A.push(I),R.push(J),k.linkFile&&L.push(k.linkFile.data));break}}}L.length===0&&(L=void 0),G.addAtlasJSONArray(this.key,A,R,L),this.complete=!0}});h.register("texture",function(M,w,R){var A=this.systems.renderer,L=function(G,I,B,k){var U={format:null,type:null,textureURL:void 0,atlasURL:void 0,multiAtlasURL:void 0,multiPath:void 0,multiBaseURL:void 0};if(f(I)){var H=I;I=l(H,"key"),B=l(H,"url"),k=l(H,"xhrSettings")}var X=!1;for(var j in B)if(A.supportsCompressedTexture(j)){var J=B[j];typeof J=="string"?U.textureURL=J:U=v(J,U),U.format=j.toUpperCase(),X=!0;break}if(!X)console.warn("No supported compressed texture format or IMG fallback",I);else if(U.format==="IMG"){var Y,$;U.multiAtlasURL?($=new g(G,I,U.multiAtlasURL,U.multiPath,U.multiBaseURL,k),Y=$.files):U.atlasURL?($=new o(G,I,U.textureURL,U.atlasURL,k),Y=$.files):Y=new a(G,I,U.textureURL,k),G.addFile(Y)}else{var z=new b(G,I,U,k);G.addFile(z.files)}};if(Array.isArray(M))for(var F=0;F<M.length;F++)L(this,M[F]);else L(this,M,w,R);return this}),n.exports=b},87674:(n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(83419),x=r(23906),d=r(41299),h=r(74099),l=r(95540),a=r(98356),f=r(41212),c=new o({Extends:d,initialize:function(v,g,m,y,C,b){var M="ttf";if(f(g)){var w=g;g=l(w,"key"),m=l(w,"url"),y=l(w,"format","truetype"),C=l(w,"descriptors",null),b=l(w,"xhrSettings"),M=l(w,"extension",M)}else y===void 0&&(y="truetype");var R={type:"font",cache:!1,extension:M,responseType:"text",key:g,url:m,xhrSettings:b};d.call(this,v,R),this.data={format:y,descriptors:C},this.state=x.FILE_POPULATED},onProcess:function(){this.state=x.FILE_PROCESSING,this.src=a(this,this.loader.baseURL);var u,v=this.key,g="url("+this.src+') format("'+this.data.format+'")';this.data.descriptors?u=new FontFace(v,g,this.data.descriptors):u=new FontFace(v,g);var m=this;u.load().then(function(){document.fonts.add(u),document.body.classList.add("fonts-loaded"),m.onProcessComplete()}).catch(function(){console.warn("Font failed to load",g),m.onProcessComplete()})}});h.register("font",function(u,v,g,m,y){if(Array.isArray(u))for(var C=0;C<u.length;C++)this.addFile(new c(this,u[C]));else this.addFile(new c(this,u,v,g,m,y));return this}),n.exports=c},47931:(n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(83419),x=r(23906),d=r(41299),h=r(74099),l=r(95540),a=r(41212),f=r(73894),c=new o({Extends:d,initialize:function(v,g,m,y,C){var b="glsl";if(a(g)){var M=g;g=l(M,"key"),m=l(M,"url"),y=l(M,"shaderType","fragment"),C=l(M,"xhrSettings"),b=l(M,"extension",b)}else y===void 0&&(y="fragment");var w={type:"glsl",cache:v.cacheManager.shader,extension:b,responseType:"text",key:g,url:m,config:{shaderType:y},xhrSettings:C};d.call(this,v,w)},onProcess:function(){this.state=x.FILE_PROCESSING,this.data=this.xhrLoader.responseText,this.onProcessComplete()},addToCache:function(){var u=this.data.split(`
`),v=this.extractBlock(u,0);if(v)for(;v;){var g=this.getShaderName(v.header),m=this.getShaderType(v.header),y=this.getShaderUniforms(v.header),C=v.shader;if(this.cache.has(g)){var b=this.cache.get(g);m==="fragment"?b.fragmentSrc=C:b.vertexSrc=C,b.uniforms||(b.uniforms=y)}else m==="fragment"?this.cache.add(g,new f(g,C,"",y)):this.cache.add(g,new f(g,"",C,y));v=this.extractBlock(u,v.offset)}else this.config.shaderType==="fragment"?this.cache.add(this.key,new f(this.key,this.data)):this.cache.add(this.key,new f(this.key,"",this.data))},getShaderName:function(u){for(var v=0;v<u.length;v++){var g=u[v].trim();if(g.substring(0,5)==="name:")return g.substring(5).trim()}return this.key},getShaderType:function(u){for(var v=0;v<u.length;v++){var g=u[v].trim();if(g.substring(0,5)==="type:")return g.substring(5).trim()}return this.config.shaderType},getShaderUniforms:function(u){for(var v={},g=0;g<u.length;g++){var m=u[g].trim();if(m.substring(0,8)==="uniform."){var y=m.indexOf(":");if(y){var C=m.substring(8,y);try{v[C]=JSON.parse(m.substring(y+1))}catch{console.warn("Invalid uniform JSON: "+C)}}}}return v},extractBlock:function(u,v){for(var g=-1,m=-1,y=-1,C=!1,b=!1,M=[],w=[],R=v;R<u.length;R++){var A=u[R].trim();if(A==="---")if(g===-1)g=R,C=!0;else if(C)m=R,C=!1,b=!0;else{b=!1;break}else C?M.push(A):b&&(w.push(A),y=R)}return!C&&m!==-1?{header:M,shader:w.join(`
`),offset:y}:null}});h.register("glsl",function(u,v,g,m){if(Array.isArray(u))for(var y=0;y<u.length;y++)this.addFile(new c(this,u[y]));else this.addFile(new c(this,u,v,g,m));return this}),n.exports=c},89749:(n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(83419),x=r(54899),d=r(41299),h=r(95540),l=r(98356),a=r(41212),f=new o({Extends:d,initialize:function(u,v,g,m){if(a(v)){var y=v;v=h(y,"key"),m=h(y,"config",m)}var C={type:"audio",cache:u.cacheManager.audio,extension:g.type,key:v,url:g.url,config:m};d.call(this,u,C),this.locked="ontouchstart"in window,this.loaded=!1,this.filesLoaded=0,this.filesTotal=0},onLoad:function(){this.loaded||(this.loaded=!0,this.loader.nextFile(this,!0))},onError:function(){for(var c=0;c<this.data.length;c++){var u=this.data[c];u.oncanplaythrough=null,u.onerror=null}this.loader.nextFile(this,!1)},onProgress:function(c){var u=c.target;u.oncanplaythrough=null,u.onerror=null,this.filesLoaded++,this.percentComplete=Math.min(this.filesLoaded/this.filesTotal,1),this.loader.emit(x.FILE_PROGRESS,this,this.percentComplete),this.filesLoaded===this.filesTotal&&this.onLoad()},load:function(){this.data=[];var c=this.config&&this.config.instances||1;this.filesTotal=c,this.filesLoaded=0,this.percentComplete=0;for(var u=0;u<c;u++){var v=new Audio;v.dataset||(v.dataset={}),v.dataset.name=this.key+("0"+u).slice(-2),v.dataset.used="false",this.locked?v.dataset.locked="true":(v.dataset.locked="false",v.preload="auto",v.oncanplaythrough=this.onProgress.bind(this),v.onerror=this.onError.bind(this)),this.data.push(v)}for(u=0;u<this.data.length;u++)v=this.data[u],v.src=l(this,this.loader.baseURL),this.locked||v.load();this.locked&&setTimeout(this.onLoad.bind(this))}});n.exports=f},88470:(n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(83419),x=r(23906),d=r(41299),h=r(74099),l=r(95540),a=r(41212),f=new o({Extends:d,initialize:function(u,v,g,m){var y="html";if(a(v)){var C=v;v=l(C,"key"),g=l(C,"url"),m=l(C,"xhrSettings"),y=l(C,"extension",y)}var b={type:"text",cache:u.cacheManager.html,extension:y,responseType:"text",key:v,url:g,xhrSettings:m};d.call(this,u,b)},onProcess:function(){this.state=x.FILE_PROCESSING,this.data=this.xhrLoader.responseText,this.onProcessComplete()}});h.register("html",function(c,u,v){if(Array.isArray(c))for(var g=0;g<c.length;g++)this.addFile(new f(this,c[g]));else this.addFile(new f(this,c,u,v));return this}),n.exports=f},14643:(n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(83419),x=r(23906),d=r(41299),h=r(74099),l=r(95540),a=r(41212),f=new o({Extends:d,initialize:function(u,v,g,m,y,C){m===void 0&&(m=512),y===void 0&&(y=512);var b="html";if(a(v)){var M=v;v=l(M,"key"),g=l(M,"url"),C=l(M,"xhrSettings"),b=l(M,"extension",b),m=l(M,"width",m),y=l(M,"height",y)}var w={type:"html",cache:u.textureManager,extension:b,responseType:"text",key:v,url:g,xhrSettings:C,config:{width:m,height:y}};d.call(this,u,w)},onProcess:function(){this.state=x.FILE_PROCESSING;var c=this.config.width,u=this.config.height,v=[];v.push('<svg width="'+c+'px" height="'+u+'px" viewBox="0 0 '+c+" "+u+'" xmlns="http://www.w3.org/2000/svg">'),v.push('<foreignObject width="100%" height="100%">'),v.push('<body xmlns="http://www.w3.org/1999/xhtml">'),v.push(this.xhrLoader.responseText),v.push("</body>"),v.push("</foreignObject>"),v.push("</svg>");var g=[v.join(`
`)],m=this;try{var y=new window.Blob(g,{type:"image/svg+xml;charset=utf-8"})}catch{m.state=x.FILE_ERRORED,m.onProcessComplete();return}this.data=new Image,this.data.crossOrigin=this.crossOrigin,this.data.onload=function(){d.revokeObjectURL(m.data),m.onProcessComplete()},this.data.onerror=function(){d.revokeObjectURL(m.data),m.onProcessError()},d.createObjectURL(this.data,y,"image/svg+xml")},addToCache:function(){this.cache.addImage(this.key,this.data)}});h.register("htmlTexture",function(c,u,v,g,m){if(Array.isArray(c))for(var y=0;y<c.length;y++)this.addFile(new f(this,c[y]));else this.addFile(new f(this,c,u,v,g,m));return this}),n.exports=f},19550:(n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(83419),x=r(23906),d=r(41299),h=r(74099),l=r(95540),a=r(41212),f=r(98356),c=new o({Extends:d,initialize:function u(v,g,m,y,C){var b="png",M;if(a(g)){var w=g;g=l(w,"key"),m=l(w,"url"),M=l(w,"normalMap"),y=l(w,"xhrSettings"),b=l(w,"extension",b),C=l(w,"frameConfig")}Array.isArray(m)&&(M=m[1],m=m[0]);var R={type:"image",cache:v.textureManager,extension:b,responseType:"blob",key:g,url:m,xhrSettings:y,config:C};if(d.call(this,v,R),M){var A=new u(v,this.key,M,y,C);A.type="normalMap",this.setLink(A),v.addFile(A)}this.useImageElementLoad=v.imageLoadType==="HTMLImageElement"||this.base64,this.useImageElementLoad&&(this.load=this.loadImage,this.onProcess=this.onProcessImage)},onProcess:function(){this.state=x.FILE_PROCESSING,this.data=new Image,this.data.crossOrigin=this.crossOrigin;var u=this;this.data.onload=function(){d.revokeObjectURL(u.data),u.onProcessComplete()},this.data.onerror=function(){d.revokeObjectURL(u.data),u.onProcessError()},d.createObjectURL(this.data,this.xhrLoader.response,"image/png")},onProcessImage:function(){var u=this.state;this.state=x.FILE_PROCESSING,u===x.FILE_LOADED?this.onProcessComplete():this.onProcessError()},loadImage:function(){this.state=x.FILE_LOADING,this.src=f(this,this.loader.baseURL),this.data=new Image,this.data.crossOrigin=this.crossOrigin;var u=this;this.data.onload=function(){u.state=x.FILE_LOADED,u.loader.nextFile(u,!0)},this.data.onerror=function(){u.loader.nextFile(u,!1)},this.data.src=this.src},addToCache:function(){var u=this.linkFile;u?u.state>=x.FILE_COMPLETE&&(u.type==="spritesheet"?u.addToCache():this.type==="normalMap"?this.cache.addImage(this.key,u.data,this.data):this.cache.addImage(this.key,this.data,u.data)):this.cache.addImage(this.key,this.data)}});h.register("image",function(u,v,g){if(Array.isArray(u))for(var m=0;m<u.length;m++)this.addFile(new c(this,u[m]));else this.addFile(new c(this,u,v,g));return this}),n.exports=c},518:(n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(83419),x=r(23906),d=r(41299),h=r(74099),l=r(95540),a=r(35154),f=r(41212),c=new o({Extends:d,initialize:function(v,g,m,y,C){var b="json";if(f(g)){var M=g;g=l(M,"key"),m=l(M,"url"),y=l(M,"xhrSettings"),b=l(M,"extension",b),C=l(M,"dataKey",C)}var w={type:"json",cache:v.cacheManager.json,extension:b,responseType:"text",key:g,url:m,xhrSettings:y,config:C};d.call(this,v,w),f(m)&&(C?this.data=a(m,C):this.data=m,this.state=x.FILE_POPULATED)},onProcess:function(){if(this.state!==x.FILE_POPULATED){this.state=x.FILE_PROCESSING;try{var u=JSON.parse(this.xhrLoader.responseText)}catch(g){throw this.onProcessError(),g}var v=this.config;typeof v=="string"?this.data=a(u,v,u):this.data=u}this.onProcessComplete()}});h.register("json",function(u,v,g,m){if(Array.isArray(u))for(var y=0;y<u.length;y++)this.addFile(new c(this,u[y]));else this.addFile(new c(this,u,v,m,g));return this}),n.exports=c},59327:(n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(83419),x=r(74099),d=r(95540),h=r(19550),l=r(41212),a=r(518),f=r(26430),c=new o({Extends:f,initialize:function(v,g,m,y,C,b,M){if(l(g)){var w=g;g=d(w,"key"),d(w,"url",!1)?m=d(w,"url"):m=d(w,"atlasURL"),b=d(w,"xhrSettings"),y=d(w,"path"),C=d(w,"baseURL"),M=d(w,"textureXhrSettings")}var R=new a(v,g,m,b);f.call(this,v,"multiatlas",g,[R]),this.config.path=y,this.config.baseURL=C,this.config.textureXhrSettings=M},onFileComplete:function(u){var v=this.files.indexOf(u);if(v!==-1&&(this.pending--,u.type==="json"&&u.data.hasOwnProperty("textures"))){var g=u.data.textures,m=this.config,y=this.loader,C=y.baseURL,b=y.path,M=y.prefix,w=d(m,"baseURL",this.baseURL),R=d(m,"path",this.path),A=d(m,"prefix",this.prefix),L=d(m,"textureXhrSettings");y.setBaseURL(w),y.setPath(R),y.setPrefix(A);for(var F=0;F<g.length;F++){var G=g[F].image,I="MA"+this.multiKeyIndex+"_"+G,B=new h(y,I,G,L);if(this.addToMultiFile(B),y.addFile(B),g[F].normalMap){var k=new h(y,I,g[F].normalMap,L);k.type="normalMap",B.setLink(k),this.addToMultiFile(k),y.addFile(k)}}y.setBaseURL(C),y.setPath(b),y.setPrefix(M)}},addToCache:function(){if(this.isReadyToProcess()){for(var u=this.files[0],v=[],g=[],m=[],y=1;y<this.files.length;y++){var C=this.files[y];if(C.type!=="normalMap")for(var b=C.key.indexOf("_"),M=C.key.substr(b+1),w=C.data,R=0;R<u.data.textures.length;R++){var A=u.data.textures[R];if(A.image===M){g.push(w),v.push(A),C.linkFile&&m.push(C.linkFile.data);break}}}m.length===0&&(m=void 0),this.loader.textureManager.addAtlasJSONArray(this.key,g,v,m),this.complete=!0}}});x.register("multiatlas",function(u,v,g,m,y){var C;if(Array.isArray(u))for(var b=0;b<u.length;b++)C=new c(this,u[b]),this.addFile(C.files);else C=new c(this,u,v,g,m,y),this.addFile(C.files);return this}),n.exports=c},99297:(n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(83419),x=r(74099),d=r(95540),h=r(41212),l=r(26430),a=r(34328),f=new o({Extends:l,initialize:function(u,v,g,m){var y="js",C=[];if(h(v)){var b=v;v=d(b,"key"),g=d(b,"url"),m=d(b,"xhrSettings"),y=d(b,"extension",y)}Array.isArray(g)||(g=[g]);for(var M=0;M<g.length;M++){var w=new a(u,{key:v+"_"+M.toString(),url:g[M],extension:y,xhrSettings:m});w.onProcess=function(){this.onProcessComplete()},C.push(w)}l.call(this,u,"scripts",v,C)},addToCache:function(){if(this.isReadyToProcess()){for(var c=0;c<this.files.length;c++){var u=this.files[c];u.data=document.createElement("script"),u.data.language="javascript",u.data.type="text/javascript",u.data.defer=!1,u.data.text=u.xhrLoader.responseText,document.head.appendChild(u.data)}this.complete=!0}}});x.register("scripts",function(c,u,v){var g;if(Array.isArray(c))for(var m=0;m<c.length;m++)g=new f(this,c[m]),this.addFile(g.files);else g=new f(this,c,u,v),this.addFile(g.files);return this}),n.exports=f},41846:(n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(83419),x=r(74099),d=r(95540),h=r(41212),l=r(26430),a=r(85048),f=r(61485),c=r(78776),u=new o({Extends:l,initialize:function(g,m,y,C,b,M){var w,R,A=g.cacheManager.obj;if(h(m)){var L=m;m=d(L,"key"),w=new c(g,{key:m,type:"obj",cache:A,url:d(L,"url"),extension:d(L,"extension","obj"),xhrSettings:d(L,"xhrSettings"),config:{flipUV:d(L,"flipUV",b)}}),C=d(L,"matURL"),C&&(R=new c(g,{key:m,type:"mat",cache:A,url:C,extension:d(L,"matExtension","mat"),xhrSettings:d(L,"xhrSettings")}))}else w=new c(g,{key:m,url:y,type:"obj",cache:A,extension:"obj",xhrSettings:M,config:{flipUV:b}}),C&&(R=new c(g,{key:m,url:C,type:"mat",cache:A,extension:"mat",xhrSettings:M}));l.call(this,g,"obj",m,[w,R])},addToCache:function(){if(this.isReadyToProcess()){var v=this.files[0],g=this.files[1],m=a(v.data,v.config.flipUV);g&&(m.materials=f(g.data)),v.cache.add(v.key,m),this.complete=!0}}});x.register("obj",function(v,g,m,y,C){var b;if(Array.isArray(v))for(var M=0;M<v.length;M++)b=new u(this,v[M]),this.addFile(b.files);else b=new u(this,v,g,m,y,C),this.addFile(b.files);return this}),n.exports=u},58610:(n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(83419),x=r(23906),d=r(74099),h=r(518),l=new o({Extends:h,initialize:function(f,c,u,v,g){h.call(this,f,c,u,v,g),this.type="packfile"},onProcess:function(){if(this.state!==x.FILE_POPULATED&&(this.state=x.FILE_PROCESSING,this.data=JSON.parse(this.xhrLoader.responseText)),this.data.hasOwnProperty("files")&&this.config){var a={};a[this.config]=this.data,this.data=a}this.loader.addPack(this.data,this.config),this.onProcessComplete()}});d.register("pack",function(a,f,c,u){if(Array.isArray(a))for(var v=0;v<a.length;v++)this.addFile(new l(this,a[v]));else this.addFile(new l(this,a,f,u,c));return this}),n.exports=l},48988:(n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(83419),x=r(23906),d=r(41299),h=r(74099),l=r(95540),a=r(41212),f=new o({Extends:d,initialize:function(u,v,g,m,y,C){var b="js";if(a(v)){var M=v;v=l(M,"key"),g=l(M,"url"),C=l(M,"xhrSettings"),b=l(M,"extension",b),m=l(M,"start"),y=l(M,"mapping")}var w={type:"plugin",cache:!1,extension:b,responseType:"text",key:v,url:g,xhrSettings:C,config:{start:m,mapping:y}};d.call(this,u,w),typeof g=="function"&&(this.data=g,this.state=x.FILE_POPULATED)},onProcess:function(){var c=this.loader.systems.plugins,u=this.config,v=l(u,"start",!1),g=l(u,"mapping",null);if(this.state===x.FILE_POPULATED)c.install(this.key,this.data,v,g);else{this.state=x.FILE_PROCESSING,this.data=document.createElement("script"),this.data.language="javascript",this.data.type="text/javascript",this.data.defer=!1,this.data.text=this.xhrLoader.responseText,document.head.appendChild(this.data);var m=c.install(this.key,window[this.key],v,g);(v||g)&&(this.loader.systems[g]=m,this.loader.scene[g]=m)}this.onProcessComplete()}});h.register("plugin",function(c,u,v,g,m){if(Array.isArray(c))for(var y=0;y<c.length;y++)this.addFile(new f(this,c[y]));else this.addFile(new f(this,c,u,v,g,m));return this}),n.exports=f},67397:(n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(83419),x=r(23906),d=r(41299),h=r(74099),l=r(95540),a=r(41212),f=new o({Extends:d,initialize:function(u,v,g,m,y){var C="svg";if(a(v)){var b=v;v=l(b,"key"),g=l(b,"url"),m=l(b,"svgConfig",{}),y=l(b,"xhrSettings"),C=l(b,"extension",C)}var M={type:"svg",cache:u.textureManager,extension:C,responseType:"text",key:v,url:g,xhrSettings:y,config:{width:l(m,"width"),height:l(m,"height"),scale:l(m,"scale")}};d.call(this,u,M)},onProcess:function(){this.state=x.FILE_PROCESSING;var c=this.xhrLoader.responseText,u=[c],v=this.config.width,g=this.config.height,m=this.config.scale;t:if(v&&g||m){var y=null,C=new DOMParser;y=C.parseFromString(c,"text/xml");var b=y.getElementsByTagName("svg")[0],M=b.hasAttribute("viewBox"),w=parseFloat(b.getAttribute("width")),R=parseFloat(b.getAttribute("height"));if(!M&&w&&R)b.setAttribute("viewBox","0  0 "+w+" "+R);else if(M&&!w&&!R){var A=b.getAttribute("viewBox").split(/\s+|,/);w=A[2],R=A[3]}if(m)if(w&&R)v=w*m,g=R*m;else break t;b.setAttribute("width",v.toString()+"px"),b.setAttribute("height",g.toString()+"px"),u=[new XMLSerializer().serializeToString(b)]}try{var L=new window.Blob(u,{type:"image/svg+xml;charset=utf-8"})}catch{this.onProcessError();return}this.data=new Image,this.data.crossOrigin=this.crossOrigin;var F=this,G=!1;this.data.onload=function(){G||d.revokeObjectURL(F.data),F.onProcessComplete()},this.data.onerror=function(){G?F.onProcessError():(G=!0,d.revokeObjectURL(F.data),F.data.src="data:image/svg+xml,"+encodeURIComponent(u.join("")))},d.createObjectURL(this.data,L,"image/svg+xml")},addToCache:function(){this.cache.addImage(this.key,this.data)}});h.register("svg",function(c,u,v,g){if(Array.isArray(c))for(var m=0;m<c.length;m++)this.addFile(new f(this,c[m]));else this.addFile(new f(this,c,u,v,g));return this}),n.exports=f},88423:(n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(83419),x=r(23906),d=r(41299),h=r(74099),l=r(95540),a=r(41212),f=new o({Extends:d,initialize:function(u,v,g,m){var y="js";if(a(v)){var C=v;v=l(C,"key"),g=l(C,"url"),m=l(C,"xhrSettings"),y=l(C,"extension",y)}var b={type:"text",extension:y,responseType:"text",key:v,url:g,xhrSettings:m};d.call(this,u,b)},onProcess:function(){this.state=x.FILE_PROCESSING,this.data=this.xhrLoader.responseText,this.onProcessComplete()},addToCache:function(){var c=this.data.concat(`(function(){
return new `+this.key+`();
}).call(this);`),u=eval;this.loader.sceneManager.add(this.key,u(c)),this.complete=!0}});h.register("sceneFile",function(c,u,v){if(Array.isArray(c))for(var g=0;g<c.length;g++)this.addFile(new f(this,c[g]));else this.addFile(new f(this,c,u,v));return this}),n.exports=f},56812:(n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(83419),x=r(23906),d=r(41299),h=r(74099),l=r(95540),a=r(41212),f=new o({Extends:d,initialize:function(u,v,g,m,y,C){var b="js";if(a(v)){var M=v;v=l(M,"key"),g=l(M,"url"),C=l(M,"xhrSettings"),b=l(M,"extension",b),m=l(M,"systemKey"),y=l(M,"sceneKey")}var w={type:"scenePlugin",cache:!1,extension:b,responseType:"text",key:v,url:g,xhrSettings:C,config:{systemKey:m,sceneKey:y}};d.call(this,u,w),typeof g=="function"&&(this.data=g,this.state=x.FILE_POPULATED)},onProcess:function(){var c=this.loader.systems.plugins,u=this.config,v=this.key,g=l(u,"systemKey",v),m=l(u,"sceneKey",v);this.state===x.FILE_POPULATED?c.installScenePlugin(g,this.data,m,this.loader.scene,!0):(this.state=x.FILE_PROCESSING,this.data=document.createElement("script"),this.data.language="javascript",this.data.type="text/javascript",this.data.defer=!1,this.data.text=this.xhrLoader.responseText,document.head.appendChild(this.data),c.installScenePlugin(g,window[this.key],m,this.loader.scene,!0)),this.onProcessComplete()}});h.register("scenePlugin",function(c,u,v,g,m){if(Array.isArray(c))for(var y=0;y<c.length;y++)this.addFile(new f(this,c[y]));else this.addFile(new f(this,c,u,v,g,m));return this}),n.exports=f},34328:(n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(83419),x=r(23906),d=r(41299),h=r(74099),l=r(95540),a=r(41212),f=new o({Extends:d,initialize:function(u,v,g,m,y){var C="js";if(a(v)){var b=v;v=l(b,"key"),g=l(b,"url"),m=l(b,"type","script"),y=l(b,"xhrSettings"),C=l(b,"extension",C)}else m===void 0&&(m="script");var M={type:m,cache:!1,extension:C,responseType:"text",key:v,url:g,xhrSettings:y};d.call(this,u,M)},onProcess:function(){this.state=x.FILE_PROCESSING,this.data=document.createElement("script"),this.data.language="javascript",this.data.type="text/javascript",this.data.defer=!1,this.data.text=this.xhrLoader.responseText,document.head.appendChild(this.data),this.onProcessComplete()}});h.register("script",function(c,u,v,g){if(Array.isArray(c))for(var m=0;m<c.length;m++)this.addFile(new f(this,c[m]));else this.addFile(new f(this,c,u,v,g));return this}),n.exports=f},85035:(n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(83419),x=r(23906),d=r(74099),h=r(19550),l=new o({Extends:h,initialize:function(f,c,u,v,g){h.call(this,f,c,u,g,v),this.type="spritesheet"},addToCache:function(){var a=this.linkFile;a?a.state>=x.FILE_COMPLETE&&(this.type==="normalMap"?this.cache.addSpriteSheet(this.key,a.data,this.config,this.data):this.cache.addSpriteSheet(this.key,this.data,this.config,a.data)):this.cache.addSpriteSheet(this.key,this.data,this.config)}});d.register("spritesheet",function(a,f,c,u){if(Array.isArray(a))for(var v=0;v<a.length;v++)this.addFile(new l(this,a[v]));else this.addFile(new l(this,a,f,c,u));return this}),n.exports=l},78776:(n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(83419),x=r(23906),d=r(41299),h=r(74099),l=r(95540),a=r(41212),f=new o({Extends:d,initialize:function(u,v,g,m){var y="text",C="txt",b=u.cacheManager.text;if(a(v)){var M=v;v=l(M,"key"),g=l(M,"url"),m=l(M,"xhrSettings"),C=l(M,"extension",C),y=l(M,"type",y),b=l(M,"cache",b)}var w={type:y,cache:b,extension:C,responseType:"text",key:v,url:g,xhrSettings:m};d.call(this,u,w)},onProcess:function(){this.state=x.FILE_PROCESSING,this.data=this.xhrLoader.responseText,this.onProcessComplete()}});h.register("text",function(c,u,v){if(Array.isArray(c))for(var g=0;g<c.length;g++)this.addFile(new f(this,c[g]));else this.addFile(new f(this,c,u,v));return this}),n.exports=f},49477:(n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(83419),x=r(23906),d=r(41299),h=r(74099),l=r(95540),a=r(41212),f=r(80341),c=new o({Extends:d,initialize:function(v,g,m,y){var C="csv";if(a(g)){var b=g;g=l(b,"key"),m=l(b,"url"),y=l(b,"xhrSettings"),C=l(b,"extension",C)}var M={type:"tilemapCSV",cache:v.cacheManager.tilemap,extension:C,responseType:"text",key:g,url:m,xhrSettings:y};d.call(this,v,M),this.tilemapFormat=f.CSV},onProcess:function(){this.state=x.FILE_PROCESSING,this.data=this.xhrLoader.responseText,this.onProcessComplete()},addToCache:function(){var u={format:this.tilemapFormat,data:this.data};this.cache.add(this.key,u)}});h.register("tilemapCSV",function(u,v,g){if(Array.isArray(u))for(var m=0;m<u.length;m++)this.addFile(new c(this,u[m]));else this.addFile(new c(this,u,v,g));return this}),n.exports=c},40807:(n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(83419),x=r(74099),d=r(518),h=r(80341),l=new o({Extends:d,initialize:function(f,c,u,v){d.call(this,f,c,u,v),this.type="tilemapJSON",this.cache=f.cacheManager.tilemap},addToCache:function(){var a={format:h.WELTMEISTER,data:this.data};this.cache.add(this.key,a)}});x.register("tilemapImpact",function(a,f,c){if(Array.isArray(a))for(var u=0;u<a.length;u++)this.addFile(new l(this,a[u]));else this.addFile(new l(this,a,f,c));return this}),n.exports=l},56775:(n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(83419),x=r(74099),d=r(518),h=r(80341),l=new o({Extends:d,initialize:function(f,c,u,v){d.call(this,f,c,u,v),this.type="tilemapJSON",this.cache=f.cacheManager.tilemap},addToCache:function(){var a={format:h.TILED_JSON,data:this.data};this.cache.add(this.key,a)}});x.register("tilemapTiledJSON",function(a,f,c){if(Array.isArray(a))for(var u=0;u<a.length;u++)this.addFile(new l(this,a[u]));else this.addFile(new l(this,a,f,c));return this}),n.exports=l},25771:(n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(83419),x=r(74099),d=r(95540),h=r(19550),l=r(41212),a=r(26430),f=r(78776),c=new o({Extends:a,initialize:function(v,g,m,y,C,b){var M,w;if(l(g)){var R=g;g=d(R,"key"),M=new h(v,{key:g,url:d(R,"textureURL"),extension:d(R,"textureExtension","png"),normalMap:d(R,"normalMap"),xhrSettings:d(R,"textureXhrSettings")}),w=new f(v,{key:g,url:d(R,"atlasURL"),extension:d(R,"atlasExtension","txt"),xhrSettings:d(R,"atlasXhrSettings")})}else M=new h(v,g,m,C),w=new f(v,g,y,b);M.linkFile?a.call(this,v,"unityatlas",g,[M,w,M.linkFile]):a.call(this,v,"unityatlas",g,[M,w])},addToCache:function(){if(this.isReadyToProcess()){var u=this.files[0],v=this.files[1],g=this.files[2]?this.files[2].data:null;this.loader.textureManager.addUnityAtlas(u.key,u.data,v.data,g),this.complete=!0}}});x.register("unityAtlas",function(u,v,g,m,y){var C;if(Array.isArray(u))for(var b=0;b<u.length;b++)C=new c(this,u[b]),this.addFile(C.files);else C=new c(this,u,v,g,m,y),this.addFile(C.files);return this}),n.exports=c},33720:(n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(83419),x=r(23906),d=r(41299),h=r(74099),l=r(98356),a=r(95540),f=r(41212),c=new o({Extends:d,initialize:function(v,g,m,y){if(y===void 0&&(y=!1),f(g)){var C=g;g=a(C,"key"),m=a(C,"url",[]),y=a(C,"noAudio",!1)}var b=v.systems.game.device.video.getVideoURL(m);b||console.warn("VideoFile: No supported format for "+g);var M={type:"video",cache:v.cacheManager.video,extension:b.type,key:g,url:b.url,config:{noAudio:y}};d.call(this,v,M)},onProcess:function(){this.data={url:this.src,noAudio:this.config.noAudio,crossOrigin:this.crossOrigin},this.onProcessComplete()},load:function(){this.src=l(this,this.loader.baseURL),this.state=x.FILE_LOADED,this.loader.nextFile(this,!0)}});h.register("video",function(u,v,g){if(Array.isArray(u))for(var m=0;m<u.length;m++)this.addFile(new c(this,u[m]));else this.addFile(new c(this,u,v,g));return this}),n.exports=c},57318:(n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(83419),x=r(23906),d=r(41299),h=r(74099),l=r(95540),a=r(41212),f=r(56836),c=new o({Extends:d,initialize:function(v,g,m,y){var C="xml";if(a(g)){var b=g;g=l(b,"key"),m=l(b,"url"),y=l(b,"xhrSettings"),C=l(b,"extension",C)}var M={type:"xml",cache:v.cacheManager.xml,extension:C,responseType:"text",key:g,url:m,xhrSettings:y};d.call(this,v,M)},onProcess:function(){this.state=x.FILE_PROCESSING,this.data=f(this.xhrLoader.responseText),this.data?this.onProcessComplete():this.onProcessError()}});h.register("xml",function(u,v,g){if(Array.isArray(u))for(var m=0;m<u.length;m++)this.addFile(new c(this,u[m]));else this.addFile(new c(this,u,v,g));return this}),n.exports=c},64589:(n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports={AnimationJSONFile:r(14135),AsepriteFile:r(76272),AtlasJSONFile:r(38734),AtlasXMLFile:r(74599),AudioFile:r(21097),AudioSpriteFile:r(89524),BinaryFile:r(85722),BitmapFontFile:r(97025),CompressedTextureFile:r(69559),CSSFile:r(16024),FontFile:r(87674),GLSLFile:r(47931),HTML5AudioFile:r(89749),HTMLFile:r(88470),HTMLTextureFile:r(14643),ImageFile:r(19550),JSONFile:r(518),MultiAtlasFile:r(59327),MultiScriptFile:r(99297),OBJFile:r(41846),PackFile:r(58610),PluginFile:r(48988),SceneFile:r(88423),ScenePluginFile:r(56812),ScriptFile:r(34328),SpriteSheetFile:r(85035),SVGFile:r(67397),TextFile:r(78776),TilemapCSVFile:r(49477),TilemapImpactFile:r(40807),TilemapJSONFile:r(56775),UnityAtlasFile:r(25771),VideoFile:r(33720),XMLFile:r(57318)}},57777:(n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(23906),x=r(79291),d={Events:r(54899),FileTypes:r(64589),File:r(41299),FileTypesManager:r(74099),GetURL:r(98356),LoaderPlugin:r(74261),MergeXHRSettings:r(3374),MultiFile:r(26430),XHRLoader:r(84376),XHRSettings:r(92638)};d=x(!1,d,o),n.exports=d},53307:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(r){for(var o=0,x=0;x<r.length;x++)o+=+r[x];return o/r.length};n.exports=T},85710:(n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(6411),x=function(d,h){return o(d)/o(h)/o(d-h)};n.exports=x},30976:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(r,o){return Math.floor(Math.random()*(o-r+1)+r)};n.exports=T},87842:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(r,o,x,d,h){var l=(d-o)*.5,a=(h-x)*.5,f=r*r,c=r*f;return(2*x-2*d+l+a)*c+(-3*x+3*d-2*l-a)*f+l*r+x};n.exports=T},26302:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(r,o,x){o===void 0&&(o=0),x===void 0&&(x=10);var d=Math.pow(x,-o);return Math.ceil(r*d)/d};n.exports=T},45319:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(r,o,x){return Math.max(o,Math.min(x,r))};n.exports=T},39506:(n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(36383),x=function(d){return d*o.DEG_TO_RAD};n.exports=x},61241:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(r,o){return Math.abs(r-o)};n.exports=T},38857:(n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(45319),x=r(83419),d=r(37867),h=r(29747),l=new d,a=new x({initialize:function f(c,u,v,g){c===void 0&&(c=0),u===void 0&&(u=0),v===void 0&&(v=0),g===void 0&&(g=f.DefaultOrder),this._x=c,this._y=u,this._z=v,this._order=g,this.onChangeCallback=h},x:{get:function(){return this._x},set:function(f){this._x=f,this.onChangeCallback(this)}},y:{get:function(){return this._y},set:function(f){this._y=f,this.onChangeCallback(this)}},z:{get:function(){return this._z},set:function(f){this._z=f,this.onChangeCallback(this)}},order:{get:function(){return this._order},set:function(f){this._order=f,this.onChangeCallback(this)}},set:function(f,c,u,v){return v===void 0&&(v=this._order),this._x=f,this._y=c,this._z=u,this._order=v,this.onChangeCallback(this),this},copy:function(f){return this.set(f.x,f.y,f.z,f.order)},setFromQuaternion:function(f,c,u){return c===void 0&&(c=this._order),u===void 0&&(u=!1),l.fromQuat(f),this.setFromRotationMatrix(l,c,u)},setFromRotationMatrix:function(f,c,u){c===void 0&&(c=this._order),u===void 0&&(u=!1);var v=f.val,g=v[0],m=v[4],y=v[8],C=v[1],b=v[5],M=v[9],w=v[2],R=v[6],A=v[10],L=0,F=0,G=0,I=.99999;switch(c){case"XYZ":{F=Math.asin(o(y,-1,1)),Math.abs(y)<I?(L=Math.atan2(-M,A),G=Math.atan2(-m,g)):L=Math.atan2(R,b);break}case"YXZ":{L=Math.asin(-o(M,-1,1)),Math.abs(M)<I?(F=Math.atan2(y,A),G=Math.atan2(C,b)):F=Math.atan2(-w,g);break}case"ZXY":{L=Math.asin(o(R,-1,1)),Math.abs(R)<I?(F=Math.atan2(-w,A),G=Math.atan2(-m,b)):G=Math.atan2(C,g);break}case"ZYX":{F=Math.asin(-o(w,-1,1)),Math.abs(w)<I?(L=Math.atan2(R,A),G=Math.atan2(C,g)):G=Math.atan2(-m,b);break}case"YZX":{G=Math.asin(o(C,-1,1)),Math.abs(C)<I?(L=Math.atan2(-M,b),F=Math.atan2(-w,g)):F=Math.atan2(y,A);break}case"XZY":{G=Math.asin(-o(m,-1,1)),Math.abs(m)<I?(L=Math.atan2(R,b),F=Math.atan2(y,g)):L=Math.atan2(-M,A);break}}return this._x=L,this._y=F,this._z=G,this._order=c,u&&this.onChangeCallback(this),this}});a.RotationOrders=["XYZ","YXZ","ZXY","ZYX","YZX","XZY"],a.DefaultOrder="XYZ",n.exports=a},6411:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(r){if(r===0)return 1;for(var o=r;--r;)o*=r;return o};n.exports=T},99472:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(r,o){return Math.random()*(o-r)+r};n.exports=T},77623:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(r,o,x){o===void 0&&(o=0),x===void 0&&(x=10);var d=Math.pow(x,-o);return Math.floor(r*d)/d};n.exports=T},62945:(n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(45319),x=function(d,h,l){return d=o(d,0,1),(l-h)*d+h};n.exports=x},38265:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(r,o){return r/o/1e3};n.exports=T},78702:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(r){return r==parseFloat(r)?!(r%2):void 0};n.exports=T},94883:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(r){return r===parseFloat(r)?!(r%2):void 0};n.exports=T},28915:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(r,o,x){return(o-r)*x+r};n.exports=T},94908:n=>{/**
 * @author       Greg McLean <GregDevProjects>
 * @copyright    2021 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(r,o,x){return x===void 0&&(x=0),r.clone().lerp(o,x)};n.exports=T},94434:(n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(83419),x=new o({initialize:function(h){this.val=new Float32Array(9),h?this.copy(h):this.identity()},clone:function(){return new x(this)},set:function(d){return this.copy(d)},copy:function(d){var h=this.val,l=d.val;return h[0]=l[0],h[1]=l[1],h[2]=l[2],h[3]=l[3],h[4]=l[4],h[5]=l[5],h[6]=l[6],h[7]=l[7],h[8]=l[8],this},fromMat4:function(d){var h=d.val,l=this.val;return l[0]=h[0],l[1]=h[1],l[2]=h[2],l[3]=h[4],l[4]=h[5],l[5]=h[6],l[6]=h[8],l[7]=h[9],l[8]=h[10],this},fromArray:function(d){var h=this.val;return h[0]=d[0],h[1]=d[1],h[2]=d[2],h[3]=d[3],h[4]=d[4],h[5]=d[5],h[6]=d[6],h[7]=d[7],h[8]=d[8],this},identity:function(){var d=this.val;return d[0]=1,d[1]=0,d[2]=0,d[3]=0,d[4]=1,d[5]=0,d[6]=0,d[7]=0,d[8]=1,this},transpose:function(){var d=this.val,h=d[1],l=d[2],a=d[5];return d[1]=d[3],d[2]=d[6],d[3]=h,d[5]=d[7],d[6]=l,d[7]=a,this},invert:function(){var d=this.val,h=d[0],l=d[1],a=d[2],f=d[3],c=d[4],u=d[5],v=d[6],g=d[7],m=d[8],y=m*c-u*g,C=-m*f+u*v,b=g*f-c*v,M=h*y+l*C+a*b;return M?(M=1/M,d[0]=y*M,d[1]=(-m*l+a*g)*M,d[2]=(u*l-a*c)*M,d[3]=C*M,d[4]=(m*h-a*v)*M,d[5]=(-u*h+a*f)*M,d[6]=b*M,d[7]=(-g*h+l*v)*M,d[8]=(c*h-l*f)*M,this):null},adjoint:function(){var d=this.val,h=d[0],l=d[1],a=d[2],f=d[3],c=d[4],u=d[5],v=d[6],g=d[7],m=d[8];return d[0]=c*m-u*g,d[1]=a*g-l*m,d[2]=l*u-a*c,d[3]=u*v-f*m,d[4]=h*m-a*v,d[5]=a*f-h*u,d[6]=f*g-c*v,d[7]=l*v-h*g,d[8]=h*c-l*f,this},determinant:function(){var d=this.val,h=d[0],l=d[1],a=d[2],f=d[3],c=d[4],u=d[5],v=d[6],g=d[7],m=d[8];return h*(m*c-u*g)+l*(-m*f+u*v)+a*(g*f-c*v)},multiply:function(d){var h=this.val,l=h[0],a=h[1],f=h[2],c=h[3],u=h[4],v=h[5],g=h[6],m=h[7],y=h[8],C=d.val,b=C[0],M=C[1],w=C[2],R=C[3],A=C[4],L=C[5],F=C[6],G=C[7],I=C[8];return h[0]=b*l+M*c+w*g,h[1]=b*a+M*u+w*m,h[2]=b*f+M*v+w*y,h[3]=R*l+A*c+L*g,h[4]=R*a+A*u+L*m,h[5]=R*f+A*v+L*y,h[6]=F*l+G*c+I*g,h[7]=F*a+G*u+I*m,h[8]=F*f+G*v+I*y,this},translate:function(d){var h=this.val,l=d.x,a=d.y;return h[6]=l*h[0]+a*h[3]+h[6],h[7]=l*h[1]+a*h[4]+h[7],h[8]=l*h[2]+a*h[5]+h[8],this},rotate:function(d){var h=this.val,l=h[0],a=h[1],f=h[2],c=h[3],u=h[4],v=h[5],g=Math.sin(d),m=Math.cos(d);return h[0]=m*l+g*c,h[1]=m*a+g*u,h[2]=m*f+g*v,h[3]=m*c-g*l,h[4]=m*u-g*a,h[5]=m*v-g*f,this},scale:function(d){var h=this.val,l=d.x,a=d.y;return h[0]=l*h[0],h[1]=l*h[1],h[2]=l*h[2],h[3]=a*h[3],h[4]=a*h[4],h[5]=a*h[5],this},fromQuat:function(d){var h=d.x,l=d.y,a=d.z,f=d.w,c=h+h,u=l+l,v=a+a,g=h*c,m=h*u,y=h*v,C=l*u,b=l*v,M=a*v,w=f*c,R=f*u,A=f*v,L=this.val;return L[0]=1-(C+M),L[3]=m+A,L[6]=y-R,L[1]=m-A,L[4]=1-(g+M),L[7]=b+w,L[2]=y+R,L[5]=b-w,L[8]=1-(g+C),this},normalFromMat4:function(d){var h=d.val,l=this.val,a=h[0],f=h[1],c=h[2],u=h[3],v=h[4],g=h[5],m=h[6],y=h[7],C=h[8],b=h[9],M=h[10],w=h[11],R=h[12],A=h[13],L=h[14],F=h[15],G=a*g-f*v,I=a*m-c*v,B=a*y-u*v,k=f*m-c*g,U=f*y-u*g,H=c*y-u*m,X=C*A-b*R,j=C*L-M*R,J=C*F-w*R,Y=b*L-M*A,$=b*F-w*A,z=M*F-w*L,V=G*z-I*$+B*Y+k*J-U*j+H*X;return V?(V=1/V,l[0]=(g*z-m*$+y*Y)*V,l[1]=(m*J-v*z-y*j)*V,l[2]=(v*$-g*J+y*X)*V,l[3]=(c*$-f*z-u*Y)*V,l[4]=(a*z-c*J+u*j)*V,l[5]=(f*J-a*$-u*X)*V,l[6]=(A*H-L*U+F*k)*V,l[7]=(L*B-R*H-F*I)*V,l[8]=(R*U-A*B+F*G)*V,this):null}});n.exports=x},37867:(n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(83419),x=r(25836),d=1e-6,h=new o({initialize:function(g){this.val=new Float32Array(16),g?this.copy(g):this.identity()},clone:function(){return new h(this)},set:function(v){return this.copy(v)},setValues:function(v,g,m,y,C,b,M,w,R,A,L,F,G,I,B,k){var U=this.val;return U[0]=v,U[1]=g,U[2]=m,U[3]=y,U[4]=C,U[5]=b,U[6]=M,U[7]=w,U[8]=R,U[9]=A,U[10]=L,U[11]=F,U[12]=G,U[13]=I,U[14]=B,U[15]=k,this},copy:function(v){var g=v.val;return this.setValues(g[0],g[1],g[2],g[3],g[4],g[5],g[6],g[7],g[8],g[9],g[10],g[11],g[12],g[13],g[14],g[15])},fromArray:function(v){return this.setValues(v[0],v[1],v[2],v[3],v[4],v[5],v[6],v[7],v[8],v[9],v[10],v[11],v[12],v[13],v[14],v[15])},zero:function(){return this.setValues(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0)},transform:function(v,g,m){var y=l.fromQuat(m),C=y.val,b=g.x,M=g.y,w=g.z;return this.setValues(C[0]*b,C[1]*b,C[2]*b,0,C[4]*M,C[5]*M,C[6]*M,0,C[8]*w,C[9]*w,C[10]*w,0,v.x,v.y,v.z,1)},xyz:function(v,g,m){this.identity();var y=this.val;return y[12]=v,y[13]=g,y[14]=m,this},scaling:function(v,g,m){this.zero();var y=this.val;return y[0]=v,y[5]=g,y[10]=m,y[15]=1,this},identity:function(){return this.setValues(1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1)},transpose:function(){var v=this.val,g=v[1],m=v[2],y=v[3],C=v[6],b=v[7],M=v[11];return v[1]=v[4],v[2]=v[8],v[3]=v[12],v[4]=g,v[6]=v[9],v[7]=v[13],v[8]=m,v[9]=C,v[11]=v[14],v[12]=y,v[13]=b,v[14]=M,this},getInverse:function(v){return this.copy(v),this.invert()},invert:function(){var v=this.val,g=v[0],m=v[1],y=v[2],C=v[3],b=v[4],M=v[5],w=v[6],R=v[7],A=v[8],L=v[9],F=v[10],G=v[11],I=v[12],B=v[13],k=v[14],U=v[15],H=g*M-m*b,X=g*w-y*b,j=g*R-C*b,J=m*w-y*M,Y=m*R-C*M,$=y*R-C*w,z=A*B-L*I,V=A*k-F*I,K=A*U-G*I,Q=L*k-F*B,_=L*U-G*B,tt=F*U-G*k,rt=H*tt-X*_+j*Q+J*K-Y*V+$*z;return rt?(rt=1/rt,this.setValues((M*tt-w*_+R*Q)*rt,(y*_-m*tt-C*Q)*rt,(B*$-k*Y+U*J)*rt,(F*Y-L*$-G*J)*rt,(w*K-b*tt-R*V)*rt,(g*tt-y*K+C*V)*rt,(k*j-I*$-U*X)*rt,(A*$-F*j+G*X)*rt,(b*_-M*K+R*z)*rt,(m*K-g*_-C*z)*rt,(I*Y-B*j+U*H)*rt,(L*j-A*Y-G*H)*rt,(M*V-b*Q-w*z)*rt,(g*Q-m*V+y*z)*rt,(B*X-I*J-k*H)*rt,(A*J-L*X+F*H)*rt)):this},adjoint:function(){var v=this.val,g=v[0],m=v[1],y=v[2],C=v[3],b=v[4],M=v[5],w=v[6],R=v[7],A=v[8],L=v[9],F=v[10],G=v[11],I=v[12],B=v[13],k=v[14],U=v[15];return this.setValues(M*(F*U-G*k)-L*(w*U-R*k)+B*(w*G-R*F),-(m*(F*U-G*k)-L*(y*U-C*k)+B*(y*G-C*F)),m*(w*U-R*k)-M*(y*U-C*k)+B*(y*R-C*w),-(m*(w*G-R*F)-M*(y*G-C*F)+L*(y*R-C*w)),-(b*(F*U-G*k)-A*(w*U-R*k)+I*(w*G-R*F)),g*(F*U-G*k)-A*(y*U-C*k)+I*(y*G-C*F),-(g*(w*U-R*k)-b*(y*U-C*k)+I*(y*R-C*w)),g*(w*G-R*F)-b*(y*G-C*F)+A*(y*R-C*w),b*(L*U-G*B)-A*(M*U-R*B)+I*(M*G-R*L),-(g*(L*U-G*B)-A*(m*U-C*B)+I*(m*G-C*L)),g*(M*U-R*B)-b*(m*U-C*B)+I*(m*R-C*M),-(g*(M*G-R*L)-b*(m*G-C*L)+A*(m*R-C*M)),-(b*(L*k-F*B)-A*(M*k-w*B)+I*(M*F-w*L)),g*(L*k-F*B)-A*(m*k-y*B)+I*(m*F-y*L),-(g*(M*k-w*B)-b*(m*k-y*B)+I*(m*w-y*M)),g*(M*F-w*L)-b*(m*F-y*L)+A*(m*w-y*M))},determinant:function(){var v=this.val,g=v[0],m=v[1],y=v[2],C=v[3],b=v[4],M=v[5],w=v[6],R=v[7],A=v[8],L=v[9],F=v[10],G=v[11],I=v[12],B=v[13],k=v[14],U=v[15],H=g*M-m*b,X=g*w-y*b,j=g*R-C*b,J=m*w-y*M,Y=m*R-C*M,$=y*R-C*w,z=A*B-L*I,V=A*k-F*I,K=A*U-G*I,Q=L*k-F*B,_=L*U-G*B,tt=F*U-G*k;return H*tt-X*_+j*Q+J*K-Y*V+$*z},multiply:function(v){var g=this.val,m=g[0],y=g[1],C=g[2],b=g[3],M=g[4],w=g[5],R=g[6],A=g[7],L=g[8],F=g[9],G=g[10],I=g[11],B=g[12],k=g[13],U=g[14],H=g[15],X=v.val,j=X[0],J=X[1],Y=X[2],$=X[3];return g[0]=j*m+J*M+Y*L+$*B,g[1]=j*y+J*w+Y*F+$*k,g[2]=j*C+J*R+Y*G+$*U,g[3]=j*b+J*A+Y*I+$*H,j=X[4],J=X[5],Y=X[6],$=X[7],g[4]=j*m+J*M+Y*L+$*B,g[5]=j*y+J*w+Y*F+$*k,g[6]=j*C+J*R+Y*G+$*U,g[7]=j*b+J*A+Y*I+$*H,j=X[8],J=X[9],Y=X[10],$=X[11],g[8]=j*m+J*M+Y*L+$*B,g[9]=j*y+J*w+Y*F+$*k,g[10]=j*C+J*R+Y*G+$*U,g[11]=j*b+J*A+Y*I+$*H,j=X[12],J=X[13],Y=X[14],$=X[15],g[12]=j*m+J*M+Y*L+$*B,g[13]=j*y+J*w+Y*F+$*k,g[14]=j*C+J*R+Y*G+$*U,g[15]=j*b+J*A+Y*I+$*H,this},multiplyLocal:function(v){var g=this.val,m=v.val;return this.setValues(g[0]*m[0]+g[1]*m[4]+g[2]*m[8]+g[3]*m[12],g[0]*m[1]+g[1]*m[5]+g[2]*m[9]+g[3]*m[13],g[0]*m[2]+g[1]*m[6]+g[2]*m[10]+g[3]*m[14],g[0]*m[3]+g[1]*m[7]+g[2]*m[11]+g[3]*m[15],g[4]*m[0]+g[5]*m[4]+g[6]*m[8]+g[7]*m[12],g[4]*m[1]+g[5]*m[5]+g[6]*m[9]+g[7]*m[13],g[4]*m[2]+g[5]*m[6]+g[6]*m[10]+g[7]*m[14],g[4]*m[3]+g[5]*m[7]+g[6]*m[11]+g[7]*m[15],g[8]*m[0]+g[9]*m[4]+g[10]*m[8]+g[11]*m[12],g[8]*m[1]+g[9]*m[5]+g[10]*m[9]+g[11]*m[13],g[8]*m[2]+g[9]*m[6]+g[10]*m[10]+g[11]*m[14],g[8]*m[3]+g[9]*m[7]+g[10]*m[11]+g[11]*m[15],g[12]*m[0]+g[13]*m[4]+g[14]*m[8]+g[15]*m[12],g[12]*m[1]+g[13]*m[5]+g[14]*m[9]+g[15]*m[13],g[12]*m[2]+g[13]*m[6]+g[14]*m[10]+g[15]*m[14],g[12]*m[3]+g[13]*m[7]+g[14]*m[11]+g[15]*m[15])},premultiply:function(v){return this.multiplyMatrices(v,this)},multiplyMatrices:function(v,g){var m=v.val,y=g.val,C=m[0],b=m[4],M=m[8],w=m[12],R=m[1],A=m[5],L=m[9],F=m[13],G=m[2],I=m[6],B=m[10],k=m[14],U=m[3],H=m[7],X=m[11],j=m[15],J=y[0],Y=y[4],$=y[8],z=y[12],V=y[1],K=y[5],Q=y[9],_=y[13],tt=y[2],rt=y[6],ot=y[10],ft=y[14],ct=y[3],gt=y[7],xt=y[11],Mt=y[15];return this.setValues(C*J+b*V+M*tt+w*ct,R*J+A*V+L*tt+F*ct,G*J+I*V+B*tt+k*ct,U*J+H*V+X*tt+j*ct,C*Y+b*K+M*rt+w*gt,R*Y+A*K+L*rt+F*gt,G*Y+I*K+B*rt+k*gt,U*Y+H*K+X*rt+j*gt,C*$+b*Q+M*ot+w*xt,R*$+A*Q+L*ot+F*xt,G*$+I*Q+B*ot+k*xt,U*$+H*Q+X*ot+j*xt,C*z+b*_+M*ft+w*Mt,R*z+A*_+L*ft+F*Mt,G*z+I*_+B*ft+k*Mt,U*z+H*_+X*ft+j*Mt)},translate:function(v){return this.translateXYZ(v.x,v.y,v.z)},translateXYZ:function(v,g,m){var y=this.val;return y[12]=y[0]*v+y[4]*g+y[8]*m+y[12],y[13]=y[1]*v+y[5]*g+y[9]*m+y[13],y[14]=y[2]*v+y[6]*g+y[10]*m+y[14],y[15]=y[3]*v+y[7]*g+y[11]*m+y[15],this},scale:function(v){return this.scaleXYZ(v.x,v.y,v.z)},scaleXYZ:function(v,g,m){var y=this.val;return y[0]=y[0]*v,y[1]=y[1]*v,y[2]=y[2]*v,y[3]=y[3]*v,y[4]=y[4]*g,y[5]=y[5]*g,y[6]=y[6]*g,y[7]=y[7]*g,y[8]=y[8]*m,y[9]=y[9]*m,y[10]=y[10]*m,y[11]=y[11]*m,this},makeRotationAxis:function(v,g){var m=Math.cos(g),y=Math.sin(g),C=1-m,b=v.x,M=v.y,w=v.z,R=C*b,A=C*M;return this.setValues(R*b+m,R*M-y*w,R*w+y*M,0,R*M+y*w,A*M+m,A*w-y*b,0,R*w-y*M,A*w+y*b,C*w*w+m,0,0,0,0,1)},rotate:function(v,g){var m=this.val,y=g.x,C=g.y,b=g.z,M=Math.sqrt(y*y+C*C+b*b);if(Math.abs(M)<d)return this;M=1/M,y*=M,C*=M,b*=M;var w=Math.sin(v),R=Math.cos(v),A=1-R,L=m[0],F=m[1],G=m[2],I=m[3],B=m[4],k=m[5],U=m[6],H=m[7],X=m[8],j=m[9],J=m[10],Y=m[11],$=m[12],z=m[13],V=m[14],K=m[15],Q=y*y*A+R,_=C*y*A+b*w,tt=b*y*A-C*w,rt=y*C*A-b*w,ot=C*C*A+R,ft=b*C*A+y*w,ct=y*b*A+C*w,gt=C*b*A-y*w,xt=b*b*A+R;return this.setValues(L*Q+B*_+X*tt,F*Q+k*_+j*tt,G*Q+U*_+J*tt,I*Q+H*_+Y*tt,L*rt+B*ot+X*ft,F*rt+k*ot+j*ft,G*rt+U*ot+J*ft,I*rt+H*ot+Y*ft,L*ct+B*gt+X*xt,F*ct+k*gt+j*xt,G*ct+U*gt+J*xt,I*ct+H*gt+Y*xt,$,z,V,K)},rotateX:function(v){var g=this.val,m=Math.sin(v),y=Math.cos(v),C=g[4],b=g[5],M=g[6],w=g[7],R=g[8],A=g[9],L=g[10],F=g[11];return g[4]=C*y+R*m,g[5]=b*y+A*m,g[6]=M*y+L*m,g[7]=w*y+F*m,g[8]=R*y-C*m,g[9]=A*y-b*m,g[10]=L*y-M*m,g[11]=F*y-w*m,this},rotateY:function(v){var g=this.val,m=Math.sin(v),y=Math.cos(v),C=g[0],b=g[1],M=g[2],w=g[3],R=g[8],A=g[9],L=g[10],F=g[11];return g[0]=C*y-R*m,g[1]=b*y-A*m,g[2]=M*y-L*m,g[3]=w*y-F*m,g[8]=C*m+R*y,g[9]=b*m+A*y,g[10]=M*m+L*y,g[11]=w*m+F*y,this},rotateZ:function(v){var g=this.val,m=Math.sin(v),y=Math.cos(v),C=g[0],b=g[1],M=g[2],w=g[3],R=g[4],A=g[5],L=g[6],F=g[7];return g[0]=C*y+R*m,g[1]=b*y+A*m,g[2]=M*y+L*m,g[3]=w*y+F*m,g[4]=R*y-C*m,g[5]=A*y-b*m,g[6]=L*y-M*m,g[7]=F*y-w*m,this},fromRotationTranslation:function(v,g){var m=v.x,y=v.y,C=v.z,b=v.w,M=m+m,w=y+y,R=C+C,A=m*M,L=m*w,F=m*R,G=y*w,I=y*R,B=C*R,k=b*M,U=b*w,H=b*R;return this.setValues(1-(G+B),L+H,F-U,0,L-H,1-(A+B),I+k,0,F+U,I-k,1-(A+G),0,g.x,g.y,g.z,1)},fromQuat:function(v){var g=v.x,m=v.y,y=v.z,C=v.w,b=g+g,M=m+m,w=y+y,R=g*b,A=g*M,L=g*w,F=m*M,G=m*w,I=y*w,B=C*b,k=C*M,U=C*w;return this.setValues(1-(F+I),A+U,L-k,0,A-U,1-(R+I),G+B,0,L+k,G-B,1-(R+F),0,0,0,0,1)},frustum:function(v,g,m,y,C,b){var M=1/(g-v),w=1/(y-m),R=1/(C-b);return this.setValues(C*2*M,0,0,0,0,C*2*w,0,0,(g+v)*M,(y+m)*w,(b+C)*R,-1,0,0,b*C*2*R,0)},perspective:function(v,g,m,y){var C=1/Math.tan(v/2),b=1/(m-y);return this.setValues(C/g,0,0,0,0,C,0,0,0,0,(y+m)*b,-1,0,0,2*y*m*b,0)},perspectiveLH:function(v,g,m,y){return this.setValues(2*m/v,0,0,0,0,2*m/g,0,0,0,0,-y/(m-y),1,0,0,m*y/(m-y),0)},ortho:function(v,g,m,y,C,b){var M=v-g,w=m-y,R=C-b;return M=M===0?M:1/M,w=w===0?w:1/w,R=R===0?R:1/R,this.setValues(-2*M,0,0,0,0,-2*w,0,0,0,0,2*R,0,(v+g)*M,(y+m)*w,(b+C)*R,1)},lookAtRH:function(v,g,m){var y=this.val;return u.subVectors(v,g),u.lengthSq()===0&&(u.z=1),u.normalize(),f.crossVectors(m,u),f.lengthSq()===0&&(Math.abs(m.z)===1?u.x+=1e-4:u.z+=1e-4,u.normalize(),f.crossVectors(m,u)),f.normalize(),c.crossVectors(u,f),y[0]=f.x,y[1]=f.y,y[2]=f.z,y[4]=c.x,y[5]=c.y,y[6]=c.z,y[8]=u.x,y[9]=u.y,y[10]=u.z,this},lookAt:function(v,g,m){var y=v.x,C=v.y,b=v.z,M=m.x,w=m.y,R=m.z,A=g.x,L=g.y,F=g.z;if(Math.abs(y-A)<d&&Math.abs(C-L)<d&&Math.abs(b-F)<d)return this.identity();var G=y-A,I=C-L,B=b-F,k=1/Math.sqrt(G*G+I*I+B*B);G*=k,I*=k,B*=k;var U=w*B-R*I,H=R*G-M*B,X=M*I-w*G;k=Math.sqrt(U*U+H*H+X*X),k?(k=1/k,U*=k,H*=k,X*=k):(U=0,H=0,X=0);var j=I*X-B*H,J=B*U-G*X,Y=G*H-I*U;return k=Math.sqrt(j*j+J*J+Y*Y),k?(k=1/k,j*=k,J*=k,Y*=k):(j=0,J=0,Y=0),this.setValues(U,j,G,0,H,J,I,0,X,Y,B,0,-(U*y+H*C+X*b),-(j*y+J*C+Y*b),-(G*y+I*C+B*b),1)},yawPitchRoll:function(v,g,m){this.zero(),l.zero(),a.zero();var y=this.val,C=l.val,b=a.val,M=Math.sin(m),w=Math.cos(m);return y[10]=1,y[15]=1,y[0]=w,y[1]=M,y[4]=-M,y[5]=w,M=Math.sin(g),w=Math.cos(g),C[0]=1,C[15]=1,C[5]=w,C[10]=w,C[9]=-M,C[6]=M,M=Math.sin(v),w=Math.cos(v),b[5]=1,b[15]=1,b[0]=w,b[2]=-M,b[8]=M,b[10]=w,this.multiplyLocal(l),this.multiplyLocal(a),this},setWorldMatrix:function(v,g,m,y,C){return this.yawPitchRoll(v.y,v.x,v.z),l.scaling(m.x,m.y,m.z),a.xyz(g.x,g.y,g.z),this.multiplyLocal(l),this.multiplyLocal(a),y&&this.multiplyLocal(y),C&&this.multiplyLocal(C),this},multiplyToMat4:function(v,g){var m=this.val,y=v.val,C=m[0],b=m[1],M=m[2],w=m[3],R=m[4],A=m[5],L=m[6],F=m[7],G=m[8],I=m[9],B=m[10],k=m[11],U=m[12],H=m[13],X=m[14],j=m[15],J=y[0],Y=y[1],$=y[2],z=y[3],V=y[4],K=y[5],Q=y[6],_=y[7],tt=y[8],rt=y[9],ot=y[10],ft=y[11],ct=y[12],gt=y[13],xt=y[14],Mt=y[15];return g.setValues(J*C+Y*R+$*G+z*U,Y*b+Y*A+$*I+z*H,$*M+Y*L+$*B+z*X,z*w+Y*F+$*k+z*j,V*C+K*R+Q*G+_*U,V*b+K*A+Q*I+_*H,V*M+K*L+Q*B+_*X,V*w+K*F+Q*k+_*j,tt*C+rt*R+ot*G+ft*U,tt*b+rt*A+ot*I+ft*H,tt*M+rt*L+ot*B+ft*X,tt*w+rt*F+ot*k+ft*j,ct*C+gt*R+xt*G+Mt*U,ct*b+gt*A+xt*I+Mt*H,ct*M+gt*L+xt*B+Mt*X,ct*w+gt*F+xt*k+Mt*j)},fromRotationXYTranslation:function(v,g,m){var y=g.x,C=g.y,b=g.z,M=Math.sin(v.x),w=Math.cos(v.x),R=Math.sin(v.y),A=Math.cos(v.y),L=y,F=C,G=b,I=-M,B=0-I*R,k=0-w*R,U=I*A,H=w*A;return m||(L=A*y+R*b,F=B*y+w*C+U*b,G=k*y+M*C+H*b),this.setValues(A,B,k,0,0,w,M,0,R,U,H,0,L,F,G,1)},getMaxScaleOnAxis:function(){var v=this.val,g=v[0]*v[0]+v[1]*v[1]+v[2]*v[2],m=v[4]*v[4]+v[5]*v[5]+v[6]*v[6],y=v[8]*v[8]+v[9]*v[9]+v[10]*v[10];return Math.sqrt(Math.max(g,m,y))}}),l=new h,a=new h,f=new x,c=new x,u=new x;n.exports=h},86883:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(r,o,x){return Math.min(r+o,x)};n.exports=T},50040:n=>{/**
 * @author       Vladislav Forsh <vlad@robowhale.com>
 * @copyright    2021 RoboWhale
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(r){var o=r.length;if(o===0)return 0;r.sort(function(d,h){return d-h});var x=Math.floor(o/2);return o%2===0?(r[x]+r[x-1])/2:r[x]};n.exports=T},37204:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(r,o,x){return Math.max(r-o,x)};n.exports=T},65201:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(r,o,x,d){x===void 0&&(x=o+1);var h=(r-o)/(x-o);return h>1?d!==void 0?(h=(d-r)/(d-x),h<0&&(h=0)):h=1:h<0&&(h=0),h};n.exports=T},15746:(n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(83419),x=r(94434),d=r(29747),h=r(25836),l=1e-6,a=new Int8Array([1,2,0]),f=new Float32Array([0,0,0]),c=new h(1,0,0),u=new h(0,1,0),v=new h,g=new x,m=new o({initialize:function(C,b,M,w){this.onChangeCallback=d,this.set(C,b,M,w)},x:{get:function(){return this._x},set:function(y){this._x=y,this.onChangeCallback(this)}},y:{get:function(){return this._y},set:function(y){this._y=y,this.onChangeCallback(this)}},z:{get:function(){return this._z},set:function(y){this._z=y,this.onChangeCallback(this)}},w:{get:function(){return this._w},set:function(y){this._w=y,this.onChangeCallback(this)}},copy:function(y){return this.set(y)},set:function(y,C,b,M,w){return w===void 0&&(w=!0),typeof y=="object"?(this._x=y.x||0,this._y=y.y||0,this._z=y.z||0,this._w=y.w||0):(this._x=y||0,this._y=C||0,this._z=b||0,this._w=M||0),w&&this.onChangeCallback(this),this},add:function(y){return this._x+=y.x,this._y+=y.y,this._z+=y.z,this._w+=y.w,this.onChangeCallback(this),this},subtract:function(y){return this._x-=y.x,this._y-=y.y,this._z-=y.z,this._w-=y.w,this.onChangeCallback(this),this},scale:function(y){return this._x*=y,this._y*=y,this._z*=y,this._w*=y,this.onChangeCallback(this),this},length:function(){var y=this.x,C=this.y,b=this.z,M=this.w;return Math.sqrt(y*y+C*C+b*b+M*M)},lengthSq:function(){var y=this.x,C=this.y,b=this.z,M=this.w;return y*y+C*C+b*b+M*M},normalize:function(){var y=this.x,C=this.y,b=this.z,M=this.w,w=y*y+C*C+b*b+M*M;return w>0&&(w=1/Math.sqrt(w),this._x=y*w,this._y=C*w,this._z=b*w,this._w=M*w),this.onChangeCallback(this),this},dot:function(y){return this.x*y.x+this.y*y.y+this.z*y.z+this.w*y.w},lerp:function(y,C){C===void 0&&(C=0);var b=this.x,M=this.y,w=this.z,R=this.w;return this.set(b+C*(y.x-b),M+C*(y.y-M),w+C*(y.z-w),R+C*(y.w-R))},rotationTo:function(y,C){var b=y.x*C.x+y.y*C.y+y.z*C.z;return b<-.999999?(v.copy(c).cross(y).length()<l&&v.copy(u).cross(y),v.normalize(),this.setAxisAngle(v,Math.PI)):b>.999999?this.set(0,0,0,1):(v.copy(y).cross(C),this._x=v.x,this._y=v.y,this._z=v.z,this._w=1+b,this.normalize())},setAxes:function(y,C,b){var M=g.val;return M[0]=C.x,M[3]=C.y,M[6]=C.z,M[1]=b.x,M[4]=b.y,M[7]=b.z,M[2]=-y.x,M[5]=-y.y,M[8]=-y.z,this.fromMat3(g).normalize()},identity:function(){return this.set(0,0,0,1)},setAxisAngle:function(y,C){C=C*.5;var b=Math.sin(C);return this.set(b*y.x,b*y.y,b*y.z,Math.cos(C))},multiply:function(y){var C=this.x,b=this.y,M=this.z,w=this.w,R=y.x,A=y.y,L=y.z,F=y.w;return this.set(C*F+w*R+b*L-M*A,b*F+w*A+M*R-C*L,M*F+w*L+C*A-b*R,w*F-C*R-b*A-M*L)},slerp:function(y,C){var b=this.x,M=this.y,w=this.z,R=this.w,A=y.x,L=y.y,F=y.z,G=y.w,I=b*A+M*L+w*F+R*G;I<0&&(I=-I,A=-A,L=-L,F=-F,G=-G);var B=1-C,k=C;if(1-I>l){var U=Math.acos(I),H=Math.sin(U);B=Math.sin((1-C)*U)/H,k=Math.sin(C*U)/H}return this.set(B*b+k*A,B*M+k*L,B*w+k*F,B*R+k*G)},invert:function(){var y=this.x,C=this.y,b=this.z,M=this.w,w=y*y+C*C+b*b+M*M,R=w?1/w:0;return this.set(-y*R,-C*R,-b*R,M*R)},conjugate:function(){return this._x=-this.x,this._y=-this.y,this._z=-this.z,this.onChangeCallback(this),this},rotateX:function(y){y*=.5;var C=this.x,b=this.y,M=this.z,w=this.w,R=Math.sin(y),A=Math.cos(y);return this.set(C*A+w*R,b*A+M*R,M*A-b*R,w*A-C*R)},rotateY:function(y){y*=.5;var C=this.x,b=this.y,M=this.z,w=this.w,R=Math.sin(y),A=Math.cos(y);return this.set(C*A-M*R,b*A+w*R,M*A+C*R,w*A-b*R)},rotateZ:function(y){y*=.5;var C=this.x,b=this.y,M=this.z,w=this.w,R=Math.sin(y),A=Math.cos(y);return this.set(C*A+b*R,b*A-C*R,M*A+w*R,w*A-M*R)},calculateW:function(){var y=this.x,C=this.y,b=this.z;return this.w=-Math.sqrt(1-y*y-C*C-b*b),this},setFromEuler:function(y,C){var b=y.x/2,M=y.y/2,w=y.z/2,R=Math.cos(b),A=Math.cos(M),L=Math.cos(w),F=Math.sin(b),G=Math.sin(M),I=Math.sin(w);switch(y.order){case"XYZ":{this.set(F*A*L+R*G*I,R*G*L-F*A*I,R*A*I+F*G*L,R*A*L-F*G*I,C);break}case"YXZ":{this.set(F*A*L+R*G*I,R*G*L-F*A*I,R*A*I-F*G*L,R*A*L+F*G*I,C);break}case"ZXY":{this.set(F*A*L-R*G*I,R*G*L+F*A*I,R*A*I+F*G*L,R*A*L-F*G*I,C);break}case"ZYX":{this.set(F*A*L-R*G*I,R*G*L+F*A*I,R*A*I-F*G*L,R*A*L+F*G*I,C);break}case"YZX":{this.set(F*A*L+R*G*I,R*G*L+F*A*I,R*A*I-F*G*L,R*A*L-F*G*I,C);break}case"XZY":{this.set(F*A*L-R*G*I,R*G*L-F*A*I,R*A*I+F*G*L,R*A*L+F*G*I,C);break}}return this},setFromRotationMatrix:function(y){var C=y.val,b=C[0],M=C[4],w=C[8],R=C[1],A=C[5],L=C[9],F=C[2],G=C[6],I=C[10],B=b+A+I,k;return B>0?(k=.5/Math.sqrt(B+1),this.set((G-L)*k,(w-F)*k,(R-M)*k,.25/k)):b>A&&b>I?(k=2*Math.sqrt(1+b-A-I),this.set(.25*k,(M+R)/k,(w+F)/k,(G-L)/k)):A>I?(k=2*Math.sqrt(1+A-b-I),this.set((M+R)/k,.25*k,(L+G)/k,(w-F)/k)):(k=2*Math.sqrt(1+I-b-A),this.set((w+F)/k,(L+G)/k,.25*k,(R-M)/k)),this},fromMat3:function(y){var C=y.val,b=C[0]+C[4]+C[8],M;if(b>0)M=Math.sqrt(b+1),this.w=.5*M,M=.5/M,this._x=(C[7]-C[5])*M,this._y=(C[2]-C[6])*M,this._z=(C[3]-C[1])*M;else{var w=0;C[4]>C[0]&&(w=1),C[8]>C[w*3+w]&&(w=2);var R=a[w],A=a[R];M=Math.sqrt(C[w*3+w]-C[R*3+R]-C[A*3+A]+1),f[w]=.5*M,M=.5/M,f[R]=(C[R*3+w]+C[w*3+R])*M,f[A]=(C[A*3+w]+C[w*3+A])*M,this._x=f[0],this._y=f[1],this._z=f[2],this._w=(C[A*3+R]-C[R*3+A])*M}return this.onChangeCallback(this),this}});n.exports=m},43396:(n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(36383),x=function(d){return d*o.RAD_TO_DEG};n.exports=x},74362:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(r,o){o===void 0&&(o=1);var x=Math.random()*2*Math.PI;return r.x=Math.cos(x)*o,r.y=Math.sin(x)*o,r};n.exports=T},60706:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(r,o){o===void 0&&(o=1);var x=Math.random()*2*Math.PI,d=Math.random()*2-1,h=Math.sqrt(1-d*d)*o;return r.x=Math.cos(x)*h,r.y=Math.sin(x)*h,r.z=d*o,r};n.exports=T},67421:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(r,o){return o===void 0&&(o=1),r.x=(Math.random()*2-1)*o,r.y=(Math.random()*2-1)*o,r.z=(Math.random()*2-1)*o,r.w=(Math.random()*2-1)*o,r};n.exports=T},36305:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(r,o){var x=r.x,d=r.y;return r.x=x*Math.cos(o)-d*Math.sin(o),r.y=x*Math.sin(o)+d*Math.cos(o),r};n.exports=T},11520:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(r,o,x,d){var h=Math.cos(d),l=Math.sin(d),a=r.x-o,f=r.y-x;return r.x=a*h-f*l+o,r.y=a*l+f*h+x,r};n.exports=T},1163:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(r,o,x,d,h){var l=d+Math.atan2(r.y-x,r.x-o);return r.x=o+h*Math.cos(l),r.y=x+h*Math.sin(l),r};n.exports=T},70336:n=>{/**
 * @author       samme
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(r,o,x,d,h){return r.x=o+h*Math.cos(d),r.y=x+h*Math.sin(d),r};n.exports=T},72678:(n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(25836),x=r(37867),d=r(15746),h=new x,l=new d,a=new o,f=function(c,u,v){return l.setAxisAngle(u,v),h.fromRotationTranslation(l,a.set(0,0,0)),c.transformMat4(h)};n.exports=f},2284:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(r){return r>0?Math.ceil(r):Math.floor(r)};n.exports=T},41013:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(r,o,x){o===void 0&&(o=0),x===void 0&&(x=10);var d=Math.pow(x,-o);return Math.round(r*d)/d};n.exports=T},16922:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(r,o,x,d){o===void 0&&(o=1),x===void 0&&(x=1),d===void 0&&(d=1),d*=Math.PI/r;for(var h=[],l=[],a=0;a<r;a++)x-=o*d,o+=x*d,h[a]=x,l[a]=o;return{sin:l,cos:h,length:r}};n.exports=T},7602:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(r,o,x){return r<=o?0:r>=x?1:(r=(r-o)/(x-o),r*r*(3-2*r))};n.exports=T},54261:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(r,o,x){return r=Math.max(0,Math.min(1,(r-o)/(x-o))),r*r*r*(r*(r*6-15)+10)};n.exports=T},44408:(n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(26099),x=function(d,h,l,a){a===void 0&&(a=new o);var f=0,c=0,u=h*l;return d>0&&d<=u&&(d>h-1?(c=Math.floor(d/h),f=d-c*h):f=d),a.set(f,c)};n.exports=x},85955:(n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(26099),x=function(d,h,l,a,f,c,u,v){v===void 0&&(v=new o);var g=Math.sin(f),m=Math.cos(f),y=m*c,C=g*c,b=-g*u,M=m*u,w=1/(y*M+b*-C);return v.x=M*w*d+-b*w*h+(a*b-l*M)*w,v.y=y*w*h+-C*w*d+(-a*y+l*C)*w,v};n.exports=x},26099:(n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(83419),x=r(43855),d=new o({initialize:function(l,a){this.x=0,this.y=0,typeof l=="object"?(this.x=l.x||0,this.y=l.y||0):(a===void 0&&(a=l),this.x=l||0,this.y=a||0)},clone:function(){return new d(this.x,this.y)},copy:function(h){return this.x=h.x||0,this.y=h.y||0,this},setFromObject:function(h){return this.x=h.x||0,this.y=h.y||0,this},set:function(h,l){return l===void 0&&(l=h),this.x=h,this.y=l,this},setTo:function(h,l){return this.set(h,l)},setToPolar:function(h,l){return l==null&&(l=1),this.x=Math.cos(h)*l,this.y=Math.sin(h)*l,this},equals:function(h){return this.x===h.x&&this.y===h.y},fuzzyEquals:function(h,l){return x(this.x,h.x,l)&&x(this.y,h.y,l)},angle:function(){var h=Math.atan2(this.y,this.x);return h<0&&(h+=2*Math.PI),h},setAngle:function(h){return this.setToPolar(h,this.length())},add:function(h){return this.x+=h.x,this.y+=h.y,this},subtract:function(h){return this.x-=h.x,this.y-=h.y,this},multiply:function(h){return this.x*=h.x,this.y*=h.y,this},scale:function(h){return isFinite(h)?(this.x*=h,this.y*=h):(this.x=0,this.y=0),this},divide:function(h){return this.x/=h.x,this.y/=h.y,this},negate:function(){return this.x=-this.x,this.y=-this.y,this},distance:function(h){var l=h.x-this.x,a=h.y-this.y;return Math.sqrt(l*l+a*a)},distanceSq:function(h){var l=h.x-this.x,a=h.y-this.y;return l*l+a*a},length:function(){var h=this.x,l=this.y;return Math.sqrt(h*h+l*l)},setLength:function(h){return this.normalize().scale(h)},lengthSq:function(){var h=this.x,l=this.y;return h*h+l*l},normalize:function(){var h=this.x,l=this.y,a=h*h+l*l;return a>0&&(a=1/Math.sqrt(a),this.x=h*a,this.y=l*a),this},normalizeRightHand:function(){var h=this.x;return this.x=this.y*-1,this.y=h,this},normalizeLeftHand:function(){var h=this.x;return this.x=this.y,this.y=h*-1,this},dot:function(h){return this.x*h.x+this.y*h.y},cross:function(h){return this.x*h.y-this.y*h.x},lerp:function(h,l){l===void 0&&(l=0);var a=this.x,f=this.y;return this.x=a+l*(h.x-a),this.y=f+l*(h.y-f),this},transformMat3:function(h){var l=this.x,a=this.y,f=h.val;return this.x=f[0]*l+f[3]*a+f[6],this.y=f[1]*l+f[4]*a+f[7],this},transformMat4:function(h){var l=this.x,a=this.y,f=h.val;return this.x=f[0]*l+f[4]*a+f[12],this.y=f[1]*l+f[5]*a+f[13],this},reset:function(){return this.x=0,this.y=0,this},limit:function(h){var l=this.length();return l&&l>h&&this.scale(h/l),this},reflect:function(h){return h=h.clone().normalize(),this.subtract(h.scale(2*this.dot(h)))},mirror:function(h){return this.reflect(h).negate()},rotate:function(h){var l=Math.cos(h),a=Math.sin(h);return this.set(l*this.x-a*this.y,a*this.x+l*this.y)},project:function(h){var l=this.dot(h)/h.dot(h);return this.copy(h).scale(l)}});d.ZERO=new d,d.RIGHT=new d(1,0),d.LEFT=new d(-1,0),d.UP=new d(0,-1),d.DOWN=new d(0,1),d.ONE=new d(1,1),n.exports=d},25836:(n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(83419),x=new o({initialize:function(h,l,a){this.x=0,this.y=0,this.z=0,typeof h=="object"?(this.x=h.x||0,this.y=h.y||0,this.z=h.z||0):(this.x=h||0,this.y=l||0,this.z=a||0)},up:function(){return this.x=0,this.y=1,this.z=0,this},min:function(d){return this.x=Math.min(this.x,d.x),this.y=Math.min(this.y,d.y),this.z=Math.min(this.z,d.z),this},max:function(d){return this.x=Math.max(this.x,d.x),this.y=Math.max(this.y,d.y),this.z=Math.max(this.z,d.z),this},clone:function(){return new x(this.x,this.y,this.z)},addVectors:function(d,h){return this.x=d.x+h.x,this.y=d.y+h.y,this.z=d.z+h.z,this},subVectors:function(d,h){return this.x=d.x-h.x,this.y=d.y-h.y,this.z=d.z-h.z,this},crossVectors:function(d,h){var l=d.x,a=d.y,f=d.z,c=h.x,u=h.y,v=h.z;return this.x=a*v-f*u,this.y=f*c-l*v,this.z=l*u-a*c,this},equals:function(d){return this.x===d.x&&this.y===d.y&&this.z===d.z},copy:function(d){return this.x=d.x,this.y=d.y,this.z=d.z||0,this},set:function(d,h,l){return typeof d=="object"?(this.x=d.x||0,this.y=d.y||0,this.z=d.z||0):(this.x=d||0,this.y=h||0,this.z=l||0),this},setFromMatrixPosition:function(d){return this.fromArray(d.val,12)},setFromMatrixColumn:function(d,h){return this.fromArray(d.val,h*4)},fromArray:function(d,h){return h===void 0&&(h=0),this.x=d[h],this.y=d[h+1],this.z=d[h+2],this},add:function(d){return this.x+=d.x,this.y+=d.y,this.z+=d.z||0,this},addScalar:function(d){return this.x+=d,this.y+=d,this.z+=d,this},addScale:function(d,h){return this.x+=d.x*h,this.y+=d.y*h,this.z+=d.z*h||0,this},subtract:function(d){return this.x-=d.x,this.y-=d.y,this.z-=d.z||0,this},multiply:function(d){return this.x*=d.x,this.y*=d.y,this.z*=d.z||1,this},scale:function(d){return isFinite(d)?(this.x*=d,this.y*=d,this.z*=d):(this.x=0,this.y=0,this.z=0),this},divide:function(d){return this.x/=d.x,this.y/=d.y,this.z/=d.z||1,this},negate:function(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this},distance:function(d){var h=d.x-this.x,l=d.y-this.y,a=d.z-this.z||0;return Math.sqrt(h*h+l*l+a*a)},distanceSq:function(d){var h=d.x-this.x,l=d.y-this.y,a=d.z-this.z||0;return h*h+l*l+a*a},length:function(){var d=this.x,h=this.y,l=this.z;return Math.sqrt(d*d+h*h+l*l)},lengthSq:function(){var d=this.x,h=this.y,l=this.z;return d*d+h*h+l*l},normalize:function(){var d=this.x,h=this.y,l=this.z,a=d*d+h*h+l*l;return a>0&&(a=1/Math.sqrt(a),this.x=d*a,this.y=h*a,this.z=l*a),this},dot:function(d){return this.x*d.x+this.y*d.y+this.z*d.z},cross:function(d){var h=this.x,l=this.y,a=this.z,f=d.x,c=d.y,u=d.z;return this.x=l*u-a*c,this.y=a*f-h*u,this.z=h*c-l*f,this},lerp:function(d,h){h===void 0&&(h=0);var l=this.x,a=this.y,f=this.z;return this.x=l+h*(d.x-l),this.y=a+h*(d.y-a),this.z=f+h*(d.z-f),this},applyMatrix3:function(d){var h=this.x,l=this.y,a=this.z,f=d.val;return this.x=f[0]*h+f[3]*l+f[6]*a,this.y=f[1]*h+f[4]*l+f[7]*a,this.z=f[2]*h+f[5]*l+f[8]*a,this},applyMatrix4:function(d){var h=this.x,l=this.y,a=this.z,f=d.val,c=1/(f[3]*h+f[7]*l+f[11]*a+f[15]);return this.x=(f[0]*h+f[4]*l+f[8]*a+f[12])*c,this.y=(f[1]*h+f[5]*l+f[9]*a+f[13])*c,this.z=(f[2]*h+f[6]*l+f[10]*a+f[14])*c,this},transformMat3:function(d){var h=this.x,l=this.y,a=this.z,f=d.val;return this.x=h*f[0]+l*f[3]+a*f[6],this.y=h*f[1]+l*f[4]+a*f[7],this.z=h*f[2]+l*f[5]+a*f[8],this},transformMat4:function(d){var h=this.x,l=this.y,a=this.z,f=d.val;return this.x=f[0]*h+f[4]*l+f[8]*a+f[12],this.y=f[1]*h+f[5]*l+f[9]*a+f[13],this.z=f[2]*h+f[6]*l+f[10]*a+f[14],this},transformCoordinates:function(d){var h=this.x,l=this.y,a=this.z,f=d.val,c=h*f[0]+l*f[4]+a*f[8]+f[12],u=h*f[1]+l*f[5]+a*f[9]+f[13],v=h*f[2]+l*f[6]+a*f[10]+f[14],g=h*f[3]+l*f[7]+a*f[11]+f[15];return this.x=c/g,this.y=u/g,this.z=v/g,this},transformQuat:function(d){var h=this.x,l=this.y,a=this.z,f=d.x,c=d.y,u=d.z,v=d.w,g=v*h+c*a-u*l,m=v*l+u*h-f*a,y=v*a+f*l-c*h,C=-f*h-c*l-u*a;return this.x=g*v+C*-f+m*-u-y*-c,this.y=m*v+C*-c+y*-f-g*-u,this.z=y*v+C*-u+g*-c-m*-f,this},project:function(d){var h=this.x,l=this.y,a=this.z,f=d.val,c=f[0],u=f[1],v=f[2],g=f[3],m=f[4],y=f[5],C=f[6],b=f[7],M=f[8],w=f[9],R=f[10],A=f[11],L=f[12],F=f[13],G=f[14],I=f[15],B=1/(h*g+l*b+a*A+I);return this.x=(h*c+l*m+a*M+L)*B,this.y=(h*u+l*y+a*w+F)*B,this.z=(h*v+l*C+a*R+G)*B,this},projectViewMatrix:function(d,h){return this.applyMatrix4(d).applyMatrix4(h)},unprojectViewMatrix:function(d,h){return this.applyMatrix4(d).applyMatrix4(h)},unproject:function(d,h){var l=d.x,a=d.y,f=d.z,c=d.w,u=this.x-l,v=c-this.y-1-a,g=this.z;return this.x=2*u/f-1,this.y=2*v/c-1,this.z=2*g-1,this.project(h)},reset:function(){return this.x=0,this.y=0,this.z=0,this}});x.ZERO=new x,x.RIGHT=new x(1,0,0),x.LEFT=new x(-1,0,0),x.UP=new x(0,-1,0),x.DOWN=new x(0,1,0),x.FORWARD=new x(0,0,1),x.BACK=new x(0,0,-1),x.ONE=new x(1,1,1),n.exports=x},61369:(n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(83419),x=new o({initialize:function(h,l,a,f){this.x=0,this.y=0,this.z=0,this.w=0,typeof h=="object"?(this.x=h.x||0,this.y=h.y||0,this.z=h.z||0,this.w=h.w||0):(this.x=h||0,this.y=l||0,this.z=a||0,this.w=f||0)},clone:function(){return new x(this.x,this.y,this.z,this.w)},copy:function(d){return this.x=d.x,this.y=d.y,this.z=d.z||0,this.w=d.w||0,this},equals:function(d){return this.x===d.x&&this.y===d.y&&this.z===d.z&&this.w===d.w},set:function(d,h,l,a){return typeof d=="object"?(this.x=d.x||0,this.y=d.y||0,this.z=d.z||0,this.w=d.w||0):(this.x=d||0,this.y=h||0,this.z=l||0,this.w=a||0),this},add:function(d){return this.x+=d.x,this.y+=d.y,this.z+=d.z||0,this.w+=d.w||0,this},subtract:function(d){return this.x-=d.x,this.y-=d.y,this.z-=d.z||0,this.w-=d.w||0,this},scale:function(d){return this.x*=d,this.y*=d,this.z*=d,this.w*=d,this},length:function(){var d=this.x,h=this.y,l=this.z,a=this.w;return Math.sqrt(d*d+h*h+l*l+a*a)},lengthSq:function(){var d=this.x,h=this.y,l=this.z,a=this.w;return d*d+h*h+l*l+a*a},normalize:function(){var d=this.x,h=this.y,l=this.z,a=this.w,f=d*d+h*h+l*l+a*a;return f>0&&(f=1/Math.sqrt(f),this.x=d*f,this.y=h*f,this.z=l*f,this.w=a*f),this},dot:function(d){return this.x*d.x+this.y*d.y+this.z*d.z+this.w*d.w},lerp:function(d,h){h===void 0&&(h=0);var l=this.x,a=this.y,f=this.z,c=this.w;return this.x=l+h*(d.x-l),this.y=a+h*(d.y-a),this.z=f+h*(d.z-f),this.w=c+h*(d.w-c),this},multiply:function(d){return this.x*=d.x,this.y*=d.y,this.z*=d.z||1,this.w*=d.w||1,this},divide:function(d){return this.x/=d.x,this.y/=d.y,this.z/=d.z||1,this.w/=d.w||1,this},distance:function(d){var h=d.x-this.x,l=d.y-this.y,a=d.z-this.z||0,f=d.w-this.w||0;return Math.sqrt(h*h+l*l+a*a+f*f)},distanceSq:function(d){var h=d.x-this.x,l=d.y-this.y,a=d.z-this.z||0,f=d.w-this.w||0;return h*h+l*l+a*a+f*f},negate:function(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this.w=-this.w,this},transformMat4:function(d){var h=this.x,l=this.y,a=this.z,f=this.w,c=d.val;return this.x=c[0]*h+c[4]*l+c[8]*a+c[12]*f,this.y=c[1]*h+c[5]*l+c[9]*a+c[13]*f,this.z=c[2]*h+c[6]*l+c[10]*a+c[14]*f,this.w=c[3]*h+c[7]*l+c[11]*a+c[15]*f,this},transformQuat:function(d){var h=this.x,l=this.y,a=this.z,f=d.x,c=d.y,u=d.z,v=d.w,g=v*h+c*a-u*l,m=v*l+u*h-f*a,y=v*a+f*l-c*h,C=-f*h-c*l-u*a;return this.x=g*v+C*-f+m*-u-y*-c,this.y=m*v+C*-c+y*-f-g*-u,this.z=y*v+C*-u+g*-c-m*-f,this},reset:function(){return this.x=0,this.y=0,this.z=0,this.w=0,this}});x.prototype.sub=x.prototype.subtract,x.prototype.mul=x.prototype.multiply,x.prototype.div=x.prototype.divide,x.prototype.dist=x.prototype.distance,x.prototype.distSq=x.prototype.distanceSq,x.prototype.len=x.prototype.length,x.prototype.lenSq=x.prototype.lengthSq,n.exports=x},60417:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(r,o,x){return Math.abs(r-o)<=x};n.exports=T},15994:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(r,o,x){var d=x-o;return o+((r-o)%d+d)%d};n.exports=T},31040:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(r,o,x,d){return Math.atan2(d-o,x-r)};n.exports=T},55495:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(r,o){return Math.atan2(o.y-r.y,o.x-r.x)};n.exports=T},128:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(r,o){return Math.atan2(o.x-r.x,o.y-r.y)};n.exports=T},41273:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(r,o,x,d){return Math.atan2(x-r,d-o)};n.exports=T},1432:(n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(36383),x=function(d){return d>Math.PI&&(d-=o.PI2),Math.abs(((d+o.TAU)%o.PI2-o.PI2)%o.PI2)};n.exports=x},12407:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(r){return r=r%(2*Math.PI),r>=0?r:r+2*Math.PI};n.exports=T},53993:(n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @author       @samme
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(99472),x=function(){return o(-Math.PI,Math.PI)};n.exports=x},86564:(n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @author       @samme
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(99472),x=function(){return o(-180,180)};n.exports=x},90154:(n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(12407),x=function(d){return o(d+Math.PI)};n.exports=x},48736:(n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(36383),x=function(d,h,l){return l===void 0&&(l=.05),d===h||(Math.abs(h-d)<=l||Math.abs(h-d)>=o.PI2-l?d=h:(Math.abs(h-d)>Math.PI&&(h<d?h+=o.PI2:h-=o.PI2),h>d?d+=l:h<d&&(d-=l))),d};n.exports=x},61430:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(r,o){var x=o-r;if(x===0)return 0;var d=Math.floor((x- -180)/360);return x-d*360};n.exports=T},86554:(n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(15994),x=function(d){return o(d,-Math.PI,Math.PI)};n.exports=x},30954:(n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(15994),x=function(d){return o(d,-180,180)};n.exports=x},25588:(n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports={Between:r(31040),BetweenPoints:r(55495),BetweenPointsY:r(128),BetweenY:r(41273),CounterClockwise:r(1432),Normalize:r(12407),Random:r(53993),RandomDegrees:r(86564),Reverse:r(90154),RotateTo:r(48736),ShortestBetween:r(61430),Wrap:r(86554),WrapDegrees:r(30954)}},36383:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T={PI2:Math.PI*2,TAU:Math.PI*.5,EPSILON:1e-6,DEG_TO_RAD:Math.PI/180,RAD_TO_DEG:180/Math.PI,RND:null,MIN_SAFE_INTEGER:Number.MIN_SAFE_INTEGER||-9007199254740991,MAX_SAFE_INTEGER:Number.MAX_SAFE_INTEGER||9007199254740991};n.exports=T},20339:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(r,o,x,d){var h=r-x,l=o-d;return Math.sqrt(h*h+l*l)};n.exports=T},52816:n=>{/**
 * @author       samme
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(r,o){var x=r.x-o.x,d=r.y-o.y;return Math.sqrt(x*x+d*d)};n.exports=T},64559:n=>{/**
 * @author       samme
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(r,o){var x=r.x-o.x,d=r.y-o.y;return x*x+d*d};n.exports=T},82340:n=>{/**
 * @author       samme
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(r,o,x,d){return Math.max(Math.abs(r-x),Math.abs(o-d))};n.exports=T},14390:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(r,o,x,d,h){return h===void 0&&(h=2),Math.sqrt(Math.pow(x-r,h)+Math.pow(d-o,h))};n.exports=T},2243:n=>{/**
 * @author       samme
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(r,o,x,d){return Math.abs(r-x)+Math.abs(o-d)};n.exports=T},89774:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(r,o,x,d){var h=r-x,l=o-d;return h*h+l*l};n.exports=T},50994:(n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports={Between:r(20339),BetweenPoints:r(52816),BetweenPointsSquared:r(64559),Chebyshev:r(82340),Power:r(14390),Snake:r(2243),Squared:r(89774)}},62640:(n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(54178),x=r(41521),d=r(79980),h=r(85433),l=r(99140),a=r(48857),f=r(81596),c=r(59133),u=r(98516),v=r(35248),g=r(82500),m=r(49752);n.exports={Power0:f,Power1:c.Out,Power2:h.Out,Power3:u.Out,Power4:v.Out,Linear:f,Quad:c.Out,Cubic:h.Out,Quart:u.Out,Quint:v.Out,Sine:g.Out,Expo:a.Out,Circ:d.Out,Elastic:l.Out,Back:o.Out,Bounce:x.Out,Stepped:m,"Quad.easeIn":c.In,"Cubic.easeIn":h.In,"Quart.easeIn":u.In,"Quint.easeIn":v.In,"Sine.easeIn":g.In,"Expo.easeIn":a.In,"Circ.easeIn":d.In,"Elastic.easeIn":l.In,"Back.easeIn":o.In,"Bounce.easeIn":x.In,"Quad.easeOut":c.Out,"Cubic.easeOut":h.Out,"Quart.easeOut":u.Out,"Quint.easeOut":v.Out,"Sine.easeOut":g.Out,"Expo.easeOut":a.Out,"Circ.easeOut":d.Out,"Elastic.easeOut":l.Out,"Back.easeOut":o.Out,"Bounce.easeOut":x.Out,"Quad.easeInOut":c.InOut,"Cubic.easeInOut":h.InOut,"Quart.easeInOut":u.InOut,"Quint.easeInOut":v.InOut,"Sine.easeInOut":g.InOut,"Expo.easeInOut":a.InOut,"Circ.easeInOut":d.InOut,"Elastic.easeInOut":l.InOut,"Back.easeInOut":o.InOut,"Bounce.easeInOut":x.InOut}},1639:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(r,o){return o===void 0&&(o=1.70158),r*r*((o+1)*r-o)};n.exports=T},50099:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(r,o){o===void 0&&(o=1.70158);var x=o*1.525;return(r*=2)<1?.5*(r*r*((x+1)*r-x)):.5*((r-=2)*r*((x+1)*r+x)+2)};n.exports=T},41286:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(r,o){return o===void 0&&(o=1.70158),--r*r*((o+1)*r+o)+1};n.exports=T},54178:(n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports={In:r(1639),Out:r(41286),InOut:r(50099)}},59590:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(r){return r=1-r,r<.36363636363636365?1-7.5625*r*r:r<.7272727272727273?1-(7.5625*(r-=.5454545454545454)*r+.75):r<.9090909090909091?1-(7.5625*(r-=.8181818181818182)*r+.9375):1-(7.5625*(r-=.9545454545454546)*r+.984375)};n.exports=T},41788:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(r){var o=!1;return r<.5?(r=1-r*2,o=!0):r=r*2-1,r<.36363636363636365?r=7.5625*r*r:r<.7272727272727273?r=7.5625*(r-=.5454545454545454)*r+.75:r<.9090909090909091?r=7.5625*(r-=.8181818181818182)*r+.9375:r=7.5625*(r-=.9545454545454546)*r+.984375,o?(1-r)*.5:r*.5+.5};n.exports=T},69905:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(r){return r<.36363636363636365?7.5625*r*r:r<.7272727272727273?7.5625*(r-=.5454545454545454)*r+.75:r<.9090909090909091?7.5625*(r-=.8181818181818182)*r+.9375:7.5625*(r-=.9545454545454546)*r+.984375};n.exports=T},41521:(n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports={In:r(59590),Out:r(69905),InOut:r(41788)}},91861:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(r){return 1-Math.sqrt(1-r*r)};n.exports=T},4177:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(r){return(r*=2)<1?-.5*(Math.sqrt(1-r*r)-1):.5*(Math.sqrt(1-(r-=2)*r)+1)};n.exports=T},57512:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(r){return Math.sqrt(1- --r*r)};n.exports=T},79980:(n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports={In:r(91861),Out:r(57512),InOut:r(4177)}},51150:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(r){return r*r*r};n.exports=T},82820:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(r){return(r*=2)<1?.5*r*r*r:.5*((r-=2)*r*r+2)};n.exports=T},35033:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(r){return--r*r*r+1};n.exports=T},85433:(n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports={In:r(51150),Out:r(35033),InOut:r(82820)}},69965:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(r,o,x){if(o===void 0&&(o=.1),x===void 0&&(x=.1),r===0)return 0;if(r===1)return 1;var d=x/4;return o<1?o=1:d=x*Math.asin(1/o)/(2*Math.PI),-(o*Math.pow(2,10*(r-=1))*Math.sin((r-d)*(2*Math.PI)/x))};n.exports=T},50665:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(r,o,x){if(o===void 0&&(o=.1),x===void 0&&(x=.1),r===0)return 0;if(r===1)return 1;var d=x/4;return o<1?o=1:d=x*Math.asin(1/o)/(2*Math.PI),(r*=2)<1?-.5*(o*Math.pow(2,10*(r-=1))*Math.sin((r-d)*(2*Math.PI)/x)):o*Math.pow(2,-10*(r-=1))*Math.sin((r-d)*(2*Math.PI)/x)*.5+1};n.exports=T},7744:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(r,o,x){if(o===void 0&&(o=.1),x===void 0&&(x=.1),r===0)return 0;if(r===1)return 1;var d=x/4;return o<1?o=1:d=x*Math.asin(1/o)/(2*Math.PI),o*Math.pow(2,-10*r)*Math.sin((r-d)*(2*Math.PI)/x)+1};n.exports=T},99140:(n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports={In:r(69965),Out:r(7744),InOut:r(50665)}},24590:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(r){return Math.pow(2,10*(r-1))-.001};n.exports=T},87844:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(r){return(r*=2)<1?.5*Math.pow(2,10*(r-1)):.5*(2-Math.pow(2,-10*(r-1)))};n.exports=T},89433:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(r){return 1-Math.pow(2,-10*r)};n.exports=T},48857:(n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports={In:r(24590),Out:r(89433),InOut:r(87844)}},48820:(n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports={Back:r(54178),Bounce:r(41521),Circular:r(79980),Cubic:r(85433),Elastic:r(99140),Expo:r(48857),Linear:r(81596),Quadratic:r(59133),Quartic:r(98516),Quintic:r(35248),Sine:r(82500),Stepped:r(49752)}},7147:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(r){return r};n.exports=T},81596:(n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports=r(7147)},34826:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(r){return r*r};n.exports=T},20544:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(r){return(r*=2)<1?.5*r*r:-.5*(--r*(r-2)-1)};n.exports=T},92029:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(r){return r*(2-r)};n.exports=T},59133:(n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports={In:r(34826),Out:r(92029),InOut:r(20544)}},64413:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(r){return r*r*r*r};n.exports=T},78137:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(r){return(r*=2)<1?.5*r*r*r*r:-.5*((r-=2)*r*r*r-2)};n.exports=T},45840:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(r){return 1- --r*r*r*r};n.exports=T},98516:(n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports={In:r(64413),Out:r(45840),InOut:r(78137)}},87745:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(r){return r*r*r*r*r};n.exports=T},16509:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(r){return(r*=2)<1?.5*r*r*r*r*r:.5*((r-=2)*r*r*r*r+2)};n.exports=T},17868:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(r){return--r*r*r*r*r+1};n.exports=T},35248:(n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports={In:r(87745),Out:r(17868),InOut:r(16509)}},80461:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(r){return r===0?0:r===1?1:1-Math.cos(r*Math.PI/2)};n.exports=T},34025:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(r){return r===0?0:r===1?1:.5*(1-Math.cos(Math.PI*r))};n.exports=T},52768:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(r){return r===0?0:r===1?1:Math.sin(r*Math.PI/2)};n.exports=T},82500:(n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports={In:r(80461),Out:r(52768),InOut:r(34025)}},72251:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(r,o){return o===void 0&&(o=1),r<=0?0:r>=1?1:((o*r|0)+1)*(1/o)};n.exports=T},49752:(n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports=r(72251)},75698:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(r,o){return o===void 0&&(o=1e-4),Math.ceil(r-o)};n.exports=T},43855:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(r,o,x){return x===void 0&&(x=1e-4),Math.abs(r-o)<x};n.exports=T},25777:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(r,o){return o===void 0&&(o=1e-4),Math.floor(r+o)};n.exports=T},5470:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(r,o,x){return x===void 0&&(x=1e-4),r>o-x};n.exports=T},94977:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(r,o,x){return x===void 0&&(x=1e-4),r<o+x};n.exports=T},48379:(n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports={Ceil:r(75698),Equal:r(43855),Floor:r(25777),GreaterThan:r(5470),LessThan:r(94977)}},75508:(n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(36383),x=r(79291),d={Angle:r(25588),Distance:r(50994),Easing:r(48820),Fuzzy:r(48379),Interpolation:r(38289),Pow2:r(49001),Snap:r(73697),RandomDataGenerator:r(28453),Average:r(53307),Bernstein:r(85710),Between:r(30976),CatmullRom:r(87842),CeilTo:r(26302),Clamp:r(45319),DegToRad:r(39506),Difference:r(61241),Euler:r(38857),Factorial:r(6411),FloatBetween:r(99472),FloorTo:r(77623),FromPercent:r(62945),GetSpeed:r(38265),IsEven:r(78702),IsEvenStrict:r(94883),Linear:r(28915),LinearXY:r(94908),MaxAdd:r(86883),Median:r(50040),MinSub:r(37204),Percent:r(65201),RadToDeg:r(43396),RandomXY:r(74362),RandomXYZ:r(60706),RandomXYZW:r(67421),Rotate:r(36305),RotateAround:r(11520),RotateAroundDistance:r(1163),RotateTo:r(70336),RoundAwayFromZero:r(2284),RoundTo:r(41013),SinCosTableGenerator:r(16922),SmootherStep:r(54261),SmoothStep:r(7602),ToXY:r(44408),TransformXY:r(85955),Within:r(60417),Wrap:r(15994),Vector2:r(26099),Vector3:r(25836),Vector4:r(61369),Matrix3:r(94434),Matrix4:r(37867),Quaternion:r(15746),RotateVec3:r(72678)};d=x(!1,d,o),n.exports=d},89318:(n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(85710),x=function(d,h){for(var l=0,a=d.length-1,f=0;f<=a;f++)l+=Math.pow(1-h,a-f)*Math.pow(h,f)*d[f]*o(a,f);return l};n.exports=x},77259:(n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(87842),x=function(d,h){var l=d.length-1,a=l*h,f=Math.floor(a);return d[0]===d[l]?(h<0&&(f=Math.floor(a=l*(1+h))),o(a-f,d[(f-1+l)%l],d[f],d[(f+1)%l],d[(f+2)%l])):h<0?d[0]-(o(-a,d[0],d[0],d[1],d[1])-d[0]):h>1?d[l]-(o(a-l,d[l],d[l],d[l-1],d[l-1])-d[l]):o(a-f,d[f?f-1:0],d[f],d[l<f+1?l:f+1],d[l<f+2?l:f+2])};n.exports=x},36316:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */function T(h,l){var a=1-h;return a*a*a*l}function r(h,l){var a=1-h;return 3*a*a*h*l}function o(h,l){return 3*(1-h)*h*h*l}function x(h,l){return h*h*h*l}var d=function(h,l,a,f,c){return T(h,l)+r(h,a)+o(h,f)+x(h,c)};n.exports=d},28392:(n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(28915),x=function(d,h){var l=d.length-1,a=l*h,f=Math.floor(a);return h<0?o(d[0],d[1],a):h>1?o(d[l],d[l-1],l-a):o(d[f],d[f+1>l?l:f+1],a-f)};n.exports=x},32112:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */function T(d,h){var l=1-d;return l*l*h}function r(d,h){return 2*(1-d)*d*h}function o(d,h){return d*d*h}var x=function(d,h,l,a){return T(d,h)+r(d,l)+o(d,a)};n.exports=x},47235:(n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(7602),x=function(d,h,l){return h+(l-h)*o(d,0,1)};n.exports=x},50178:(n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(54261),x=function(d,h,l){return h+(l-h)*o(d,0,1)};n.exports=x},38289:(n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports={Bezier:r(89318),CatmullRom:r(77259),CubicBezier:r(36316),Linear:r(28392),QuadraticBezier:r(32112),SmoothStep:r(47235),SmootherStep:r(50178)}},98439:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(r){var o=Math.log(r)/.6931471805599453;return 1<<Math.ceil(o)};n.exports=T},50030:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(r,o){return r>0&&(r&r-1)===0&&o>0&&(o&o-1)===0};n.exports=T},81230:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(r){return r>0&&(r&r-1)===0};n.exports=T},49001:(n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports={GetNext:r(98439),IsSize:r(50030),IsValue:r(81230)}},28453:(n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(83419),x=new o({initialize:function(h){h===void 0&&(h=[(Date.now()*Math.random()).toString()]),this.c=1,this.s0=0,this.s1=0,this.s2=0,this.n=0,this.signs=[-1,1],h&&this.init(h)},rnd:function(){var d=2091639*this.s0+this.c*23283064365386963e-26;return this.c=d|0,this.s0=this.s1,this.s1=this.s2,this.s2=d-this.c,this.s2},hash:function(d){var h,l=this.n;d=d.toString();for(var a=0;a<d.length;a++)l+=d.charCodeAt(a),h=.02519603282416938*l,l=h>>>0,h-=l,h*=l,l=h>>>0,h-=l,l+=h*4294967296;return this.n=l,(l>>>0)*23283064365386963e-26},init:function(d){typeof d=="string"?this.state(d):this.sow(d)},sow:function(d){if(this.n=4022871197,this.s0=this.hash(" "),this.s1=this.hash(" "),this.s2=this.hash(" "),this.c=1,!!d)for(var h=0;h<d.length&&d[h]!=null;h++){var l=d[h];this.s0-=this.hash(l),this.s0+=~~(this.s0<0),this.s1-=this.hash(l),this.s1+=~~(this.s1<0),this.s2-=this.hash(l),this.s2+=~~(this.s2<0)}},integer:function(){return this.rnd()*4294967296},frac:function(){return this.rnd()+(this.rnd()*2097152|0)*11102230246251565e-32},real:function(){return this.integer()+this.frac()},integerInRange:function(d,h){return Math.floor(this.realInRange(0,h-d+1)+d)},between:function(d,h){return Math.floor(this.realInRange(0,h-d+1)+d)},realInRange:function(d,h){return this.frac()*(h-d)+d},normal:function(){return 1-2*this.frac()},uuid:function(){var d="",h="";for(h=d="";d++<36;h+=~d%5|d*3&4?(d^15?8^this.frac()*(d^20?16:4):4).toString(16):"-");return h},pick:function(d){return d[this.integerInRange(0,d.length-1)]},sign:function(){return this.pick(this.signs)},weightedPick:function(d){return d[~~(Math.pow(this.frac(),2)*(d.length-.5)+.5)]},timestamp:function(d,h){return this.realInRange(d||9466848e5,h||1577862e6)},angle:function(){return this.integerInRange(-180,180)},rotation:function(){return this.realInRange(-3.1415926,3.1415926)},state:function(d){return typeof d=="string"&&d.match(/^!rnd/)&&(d=d.split(","),this.c=parseFloat(d[1]),this.s0=parseFloat(d[2]),this.s1=parseFloat(d[3]),this.s2=parseFloat(d[4])),["!rnd",this.c,this.s0,this.s1,this.s2].join(",")},shuffle:function(d){for(var h=d.length-1,l=h;l>0;l--){var a=Math.floor(this.frac()*(l+1)),f=d[a];d[a]=d[l],d[l]=f}return d}});n.exports=x},63448:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(r,o,x,d){return x===void 0&&(x=0),o===0?r:(r-=x,r=o*Math.ceil(r/o),d?(x+r)/o:x+r)};n.exports=T},56583:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(r,o,x,d){return x===void 0&&(x=0),o===0?r:(r-=x,r=o*Math.floor(r/o),d?(x+r)/o:x+r)};n.exports=T},77720:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(r,o,x,d){return x===void 0&&(x=0),o===0?r:(r-=x,r=o*Math.round(r/o),d?(x+r)/o:x+r)};n.exports=T},73697:(n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports={Ceil:r(63448),Floor:r(56583),To:r(77720)}},85454:(n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r(63595);var o=r(8054),x=r(79291),d={Actions:r(61061),Animations:r(60421),BlendModes:r(10312),Cache:r(83388),Cameras:r(26638),Core:r(42857),Class:r(83419),Create:r(15822),Curves:r(25410),Data:r(44965),Display:r(27460),DOM:r(84902),Events:r(93055),FX:r(66064),Game:r(50127),GameObjects:r(77856),Geom:r(55738),Input:r(14350),Loader:r(57777),Math:r(75508),Physics:r(44563),Plugins:r(18922),Renderer:r(36909),Scale:r(93364),ScaleModes:r(29795),Scene:r(97482),Scenes:r(62194),Structs:r(41392),Textures:r(27458),Tilemaps:r(62501),Time:r(90291),Tweens:r(43066),Utils:r(91799)};d.Sound=r(23717),d=x(!1,d,o),n.exports=d,r.g.Phaser=d},71289:(n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(83419),x=r(92209),d=r(88571),h=new o({Extends:d,Mixins:[x.Acceleration,x.Angular,x.Bounce,x.Collision,x.Debug,x.Drag,x.Enable,x.Friction,x.Gravity,x.Immovable,x.Mass,x.Pushable,x.Size,x.Velocity],initialize:function(a,f,c,u,v){d.call(this,a,f,c,u,v),this.body=null}});n.exports=h},86689:(n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(83419),x=r(39506),d=r(20339),h=r(89774),l=r(66022),a=r(95540),f=r(46975),c=r(72441),u=r(47956),v=r(37277),g=r(44594),m=r(26099),y=r(82248),C=new o({initialize:function(M){this.scene=M,this.systems=M.sys,this.config=this.getConfig(),this.world,this.add,this._category=1,M.sys.events.once(g.BOOT,this.boot,this),M.sys.events.on(g.START,this.start,this)},boot:function(){this.world=new y(this.scene,this.config),this.add=new l(this.world),this.systems.events.once(g.DESTROY,this.destroy,this)},start:function(){this.world||(this.world=new y(this.scene,this.config),this.add=new l(this.world));var b=this.systems.events;a(this.config,"customUpdate",!1)||b.on(g.UPDATE,this.world.update,this.world),b.on(g.POST_UPDATE,this.world.postUpdate,this.world),b.once(g.SHUTDOWN,this.shutdown,this)},enableUpdate:function(){this.systems.events.on(g.UPDATE,this.world.update,this.world)},disableUpdate:function(){this.systems.events.off(g.UPDATE,this.world.update,this.world)},getConfig:function(){var b=this.systems.game.config.physics,M=this.systems.settings.physics,w=f(a(M,"arcade",{}),a(b,"arcade",{}));return w},nextCategory:function(){return this._category=this._category<<1,this._category},overlap:function(b,M,w,R,A){return w===void 0&&(w=null),R===void 0&&(R=null),A===void 0&&(A=w),this.world.collideObjects(b,M,w,R,A,!0)},collide:function(b,M,w,R,A){return w===void 0&&(w=null),R===void 0&&(R=null),A===void 0&&(A=w),this.world.collideObjects(b,M,w,R,A,!1)},collideTiles:function(b,M,w,R,A){return this.world.collideTiles(b,M,w,R,A)},overlapTiles:function(b,M,w,R,A){return this.world.overlapTiles(b,M,w,R,A)},pause:function(){return this.world.pause()},resume:function(){return this.world.resume()},accelerateTo:function(b,M,w,R,A,L){R===void 0&&(R=60);var F=Math.atan2(w-b.y,M-b.x);return b.body.acceleration.setToPolar(F,R),A!==void 0&&L!==void 0&&b.body.maxVelocity.set(A,L),F},accelerateToObject:function(b,M,w,R,A){return this.accelerateTo(b,M.x,M.y,w,R,A)},closest:function(b,M){M||(M=this.world.bodies.entries);for(var w=Number.MAX_VALUE,R=null,A=b.x,L=b.y,F=M.length,G=0;G<F;G++){var I=M[G],B=I.body||I;if(!(b===I||b===B||b===B.gameObject||b===B.center)){var k=h(A,L,B.center.x,B.center.y);k<w&&(R=I,w=k)}}return R},furthest:function(b,M){M||(M=this.world.bodies.entries);for(var w=-1,R=null,A=b.x,L=b.y,F=M.length,G=0;G<F;G++){var I=M[G],B=I.body||I;if(!(b===I||b===B||b===B.gameObject||b===B.center)){var k=h(A,L,B.center.x,B.center.y);k>w&&(R=I,w=k)}}return R},moveTo:function(b,M,w,R,A){R===void 0&&(R=60),A===void 0&&(A=0);var L=Math.atan2(w-b.y,M-b.x);return A>0&&(R=d(b.x,b.y,M,w)/(A/1e3)),b.body.velocity.setToPolar(L,R),L},moveToObject:function(b,M,w,R){return this.moveTo(b,M.x,M.y,w,R)},velocityFromAngle:function(b,M,w){return M===void 0&&(M=60),w===void 0&&(w=new m),w.setToPolar(x(b),M)},velocityFromRotation:function(b,M,w){return M===void 0&&(M=60),w===void 0&&(w=new m),w.setToPolar(b,M)},overlapRect:function(b,M,w,R,A,L){return u(this.world,b,M,w,R,A,L)},overlapCirc:function(b,M,w,R,A){return c(this.world,b,M,w,R,A)},shutdown:function(){if(this.world){var b=this.systems.events;b.off(g.UPDATE,this.world.update,this.world),b.off(g.POST_UPDATE,this.world.postUpdate,this.world),b.off(g.SHUTDOWN,this.shutdown,this),this.add.destroy(),this.world.destroy(),this.add=null,this.world=null,this._category=1}},destroy:function(){this.shutdown(),this.scene.sys.events.off(g.START,this.start,this),this.scene=null,this.systems=null}});v.register("ArcadePhysics",C,"arcadePhysics"),n.exports=C},13759:(n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(83419),x=r(92209),d=r(68287),h=new o({Extends:d,Mixins:[x.Acceleration,x.Angular,x.Bounce,x.Collision,x.Debug,x.Drag,x.Enable,x.Friction,x.Gravity,x.Immovable,x.Mass,x.Pushable,x.Size,x.Velocity],initialize:function(a,f,c,u,v){d.call(this,a,f,c,u,v),this.body=null}});n.exports=h},37742:(n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(83419),x=r(78389),d=r(37747),h=r(63012),l=r(43396),a=r(87841),f=r(37303),c=r(95829),u=r(26099),v=new o({Mixins:[x],initialize:function(m,y){var C=64,b=64,M={x:0,y:0,angle:0,rotation:0,scaleX:1,scaleY:1,displayOriginX:0,displayOriginY:0},w=y!==void 0;w&&y.displayWidth&&(C=y.displayWidth,b=y.displayHeight),w||(y=M),this.world=m,this.gameObject=w?y:void 0,this.isBody=!0,this.transform={x:y.x,y:y.y,rotation:y.angle,scaleX:y.scaleX,scaleY:y.scaleY,displayOriginX:y.displayOriginX,displayOriginY:y.displayOriginY},this.debugShowBody=m.defaults.debugShowBody,this.debugShowVelocity=m.defaults.debugShowVelocity,this.debugBodyColor=m.defaults.bodyDebugColor,this.enable=!0,this.isCircle=!1,this.radius=0,this.offset=new u,this.position=new u(y.x-y.scaleX*y.displayOriginX,y.y-y.scaleY*y.displayOriginY),this.prev=this.position.clone(),this.prevFrame=this.position.clone(),this.allowRotation=!0,this.rotation=y.angle,this.preRotation=y.angle,this.width=C,this.height=b,this.sourceWidth=C,this.sourceHeight=b,y.frame&&(this.sourceWidth=y.frame.realWidth,this.sourceHeight=y.frame.realHeight),this.halfWidth=Math.abs(C/2),this.halfHeight=Math.abs(b/2),this.center=new u(this.position.x+this.halfWidth,this.position.y+this.halfHeight),this.velocity=new u,this.newVelocity=new u,this.deltaMax=new u,this.acceleration=new u,this.allowDrag=!0,this.drag=new u,this.allowGravity=!0,this.gravity=new u,this.bounce=new u,this.worldBounce=null,this.customBoundsRectangle=m.bounds,this.onWorldBounds=!1,this.onCollide=!1,this.onOverlap=!1,this.maxVelocity=new u(1e4,1e4),this.maxSpeed=-1,this.friction=new u(1,0),this.useDamping=!1,this.angularVelocity=0,this.angularAcceleration=0,this.angularDrag=0,this.maxAngular=1e3,this.mass=1,this.angle=0,this.speed=0,this.facing=d.FACING_NONE,this.immovable=!1,this.pushable=!0,this.slideFactor=new u(1,1),this.moves=!0,this.customSeparateX=!1,this.customSeparateY=!1,this.overlapX=0,this.overlapY=0,this.overlapR=0,this.embedded=!1,this.collideWorldBounds=!1,this.checkCollision=c(!1),this.touching=c(!0),this.wasTouching=c(!0),this.blocked=c(!0),this.syncBounds=!1,this.physicsType=d.DYNAMIC_BODY,this.collisionCategory=1,this.collisionMask=1,this._sx=y.scaleX,this._sy=y.scaleY,this._dx=0,this._dy=0,this._tx=0,this._ty=0,this._bounds=new a,this.directControl=!1,this.autoFrame=this.position.clone()},updateBounds:function(){var g=this.gameObject,m=this.transform;if(g.parentContainer){var y=g.getWorldTransformMatrix(this.world._tempMatrix,this.world._tempMatrix2);m.x=y.tx,m.y=y.ty,m.rotation=l(y.rotation),m.scaleX=y.scaleX,m.scaleY=y.scaleY,m.displayOriginX=g.displayOriginX,m.displayOriginY=g.displayOriginY}else m.x=g.x,m.y=g.y,m.rotation=g.angle,m.scaleX=g.scaleX,m.scaleY=g.scaleY,m.displayOriginX=g.displayOriginX,m.displayOriginY=g.displayOriginY;var C=!1;if(this.syncBounds){var b=g.getBounds(this._bounds);this.width=b.width,this.height=b.height,C=!0}else{var M=Math.abs(m.scaleX),w=Math.abs(m.scaleY);(this._sx!==M||this._sy!==w)&&(this.width=this.sourceWidth*M,this.height=this.sourceHeight*w,this._sx=M,this._sy=w,C=!0)}C&&(this.halfWidth=Math.floor(this.width/2),this.halfHeight=Math.floor(this.height/2),this.updateCenter())},updateCenter:function(){this.center.set(this.position.x+this.halfWidth,this.position.y+this.halfHeight)},updateFromGameObject:function(){this.updateBounds();var g=this.transform;this.position.x=g.x+g.scaleX*(this.offset.x-g.displayOriginX),this.position.y=g.y+g.scaleY*(this.offset.y-g.displayOriginY),this.updateCenter()},resetFlags:function(g){g===void 0&&(g=!1);var m=this.wasTouching,y=this.touching,C=this.blocked;g?c(!0,m):(m.none=y.none,m.up=y.up,m.down=y.down,m.left=y.left,m.right=y.right),c(!0,y),c(!0,C),this.overlapR=0,this.overlapX=0,this.overlapY=0,this.embedded=!1},preUpdate:function(g,m){if(g&&this.resetFlags(),this.gameObject&&this.updateFromGameObject(),this.rotation=this.transform.rotation,this.preRotation=this.rotation,this.moves){var y=this.position;this.prev.x=y.x,this.prev.y=y.y,this.prevFrame.x=y.x,this.prevFrame.y=y.y}g&&this.update(m)},update:function(g){var m=this.prev,y=this.position,C=this.velocity;if(m.set(y.x,y.y),!this.moves){this._dx=y.x-m.x,this._dy=y.y-m.y;return}if(this.directControl){var b=this.autoFrame;C.set((y.x-b.x)/g,(y.y-b.y)/g),this.world.updateMotion(this,g),this._dx=y.x-b.x,this._dy=y.y-b.y}else this.world.updateMotion(this,g),this.newVelocity.set(C.x*g,C.y*g),y.add(this.newVelocity),this._dx=y.x-m.x,this._dy=y.y-m.y;var M=C.x,w=C.y;if(this.updateCenter(),this.angle=Math.atan2(w,M),this.speed=Math.sqrt(M*M+w*w),this.collideWorldBounds&&this.checkWorldBounds()&&this.onWorldBounds){var R=this.blocked;this.world.emit(h.WORLD_BOUNDS,this,R.up,R.down,R.left,R.right)}},postUpdate:function(){var g=this.position,m=g.x-this.prevFrame.x,y=g.y-this.prevFrame.y,C=this.gameObject;if(this.moves){var b=this.deltaMax.x,M=this.deltaMax.y;b!==0&&m!==0&&(m<0&&m<-b?m=-b:m>0&&m>b&&(m=b)),M!==0&&y!==0&&(y<0&&y<-M?y=-M:y>0&&y>M&&(y=M)),C&&(C.x+=m,C.y+=y)}m<0?this.facing=d.FACING_LEFT:m>0&&(this.facing=d.FACING_RIGHT),y<0?this.facing=d.FACING_UP:y>0&&(this.facing=d.FACING_DOWN),this.allowRotation&&C&&(C.angle+=this.deltaZ()),this._tx=m,this._ty=y,this.autoFrame.set(g.x,g.y)},setBoundsRectangle:function(g){return this.customBoundsRectangle=g||this.world.bounds,this},checkWorldBounds:function(){var g=this.position,m=this.velocity,y=this.blocked,C=this.customBoundsRectangle,b=this.world.checkCollision,M=this.worldBounce?-this.worldBounce.x:-this.bounce.x,w=this.worldBounce?-this.worldBounce.y:-this.bounce.y,R=!1;return g.x<C.x&&b.left?(g.x=C.x,m.x*=M,y.left=!0,R=!0):this.right>C.right&&b.right&&(g.x=C.right-this.width,m.x*=M,y.right=!0,R=!0),g.y<C.y&&b.up?(g.y=C.y,m.y*=w,y.up=!0,R=!0):this.bottom>C.bottom&&b.down&&(g.y=C.bottom-this.height,m.y*=w,y.down=!0,R=!0),R&&(this.blocked.none=!1,this.updateCenter()),R},setOffset:function(g,m){return m===void 0&&(m=g),this.offset.set(g,m),this},setGameObject:function(g,m){if(m===void 0&&(m=!0),!g||!g.hasTransformComponent)return this;var y=this.world;return this.gameObject&&this.gameObject.body&&(y.disable(this.gameObject),this.gameObject.body=null),g.body&&y.disable(g),this.gameObject=g,g.body=this,this.setSize(),this.enable=m,this},setSize:function(g,m,y){y===void 0&&(y=!0);var C=this.gameObject;if(C&&(!g&&C.frame&&(g=C.frame.realWidth),!m&&C.frame&&(m=C.frame.realHeight)),this.sourceWidth=g,this.sourceHeight=m,this.width=this.sourceWidth*this._sx,this.height=this.sourceHeight*this._sy,this.halfWidth=Math.floor(this.width/2),this.halfHeight=Math.floor(this.height/2),this.updateCenter(),y&&C&&C.getCenter){var b=(C.width-g)/2,M=(C.height-m)/2;this.offset.set(b,M)}return this.isCircle=!1,this.radius=0,this},setCircle:function(g,m,y){return m===void 0&&(m=this.offset.x),y===void 0&&(y=this.offset.y),g>0?(this.isCircle=!0,this.radius=g,this.sourceWidth=g*2,this.sourceHeight=g*2,this.width=this.sourceWidth*this._sx,this.height=this.sourceHeight*this._sy,this.halfWidth=Math.floor(this.width/2),this.halfHeight=Math.floor(this.height/2),this.offset.set(m,y),this.updateCenter()):this.isCircle=!1,this},reset:function(g,m){this.stop();var y=this.gameObject;y&&(y.setPosition(g,m),this.rotation=y.angle,this.preRotation=y.angle);var C=this.position;y&&y.getTopLeft?y.getTopLeft(C):C.set(g,m),this.prev.copy(C),this.prevFrame.copy(C),this.autoFrame.copy(C),y&&this.updateBounds(),this.updateCenter(),this.collideWorldBounds&&this.checkWorldBounds(),this.resetFlags(!0)},stop:function(){return this.velocity.set(0),this.acceleration.set(0),this.speed=0,this.angularVelocity=0,this.angularAcceleration=0,this},getBounds:function(g){return g.x=this.x,g.y=this.y,g.right=this.right,g.bottom=this.bottom,g},hitTest:function(g,m){if(!this.isCircle)return f(this,g,m);if(this.radius>0&&g>=this.left&&g<=this.right&&m>=this.top&&m<=this.bottom){var y=(this.center.x-g)*(this.center.x-g),C=(this.center.y-m)*(this.center.y-m);return y+C<=this.radius*this.radius}return!1},onFloor:function(){return this.blocked.down},onCeiling:function(){return this.blocked.up},onWall:function(){return this.blocked.left||this.blocked.right},deltaAbsX:function(){return this._dx>0?this._dx:-this._dx},deltaAbsY:function(){return this._dy>0?this._dy:-this._dy},deltaX:function(){return this._dx},deltaY:function(){return this._dy},deltaXFinal:function(){return this._tx},deltaYFinal:function(){return this._ty},deltaZ:function(){return this.rotation-this.preRotation},destroy:function(){this.enable=!1,this.world&&this.world.pendingDestroy.set(this)},drawDebug:function(g){var m=this.position,y=m.x+this.halfWidth,C=m.y+this.halfHeight;this.debugShowBody&&(g.lineStyle(g.defaultStrokeWidth,this.debugBodyColor),this.isCircle?g.strokeCircle(y,C,this.width/2):(this.checkCollision.up&&g.lineBetween(m.x,m.y,m.x+this.width,m.y),this.checkCollision.right&&g.lineBetween(m.x+this.width,m.y,m.x+this.width,m.y+this.height),this.checkCollision.down&&g.lineBetween(m.x,m.y+this.height,m.x+this.width,m.y+this.height),this.checkCollision.left&&g.lineBetween(m.x,m.y,m.x,m.y+this.height))),this.debugShowVelocity&&(g.lineStyle(g.defaultStrokeWidth,this.world.defaults.velocityDebugColor,1),g.lineBetween(y,C,y+this.velocity.x/2,C+this.velocity.y/2))},willDrawDebug:function(){return this.debugShowBody||this.debugShowVelocity},setDirectControl:function(g){return g===void 0&&(g=!0),this.directControl=g,this},setCollideWorldBounds:function(g,m,y,C){g===void 0&&(g=!0),this.collideWorldBounds=g;var b=m!==void 0,M=y!==void 0;return(b||M)&&(this.worldBounce||(this.worldBounce=new u),b&&(this.worldBounce.x=m),M&&(this.worldBounce.y=y)),C!==void 0&&(this.onWorldBounds=C),this},setVelocity:function(g,m){return this.velocity.set(g,m),g=this.velocity.x,m=this.velocity.y,this.speed=Math.sqrt(g*g+m*m),this},setVelocityX:function(g){return this.setVelocity(g,this.velocity.y)},setVelocityY:function(g){return this.setVelocity(this.velocity.x,g)},setMaxVelocity:function(g,m){return this.maxVelocity.set(g,m),this},setMaxVelocityX:function(g){return this.maxVelocity.x=g,this},setMaxVelocityY:function(g){return this.maxVelocity.y=g,this},setMaxSpeed:function(g){return this.maxSpeed=g,this},setSlideFactor:function(g,m){return this.slideFactor.set(g,m),this},setBounce:function(g,m){return this.bounce.set(g,m),this},setBounceX:function(g){return this.bounce.x=g,this},setBounceY:function(g){return this.bounce.y=g,this},setAcceleration:function(g,m){return this.acceleration.set(g,m),this},setAccelerationX:function(g){return this.acceleration.x=g,this},setAccelerationY:function(g){return this.acceleration.y=g,this},setAllowDrag:function(g){return g===void 0&&(g=!0),this.allowDrag=g,this},setAllowGravity:function(g){return g===void 0&&(g=!0),this.allowGravity=g,this},setAllowRotation:function(g){return g===void 0&&(g=!0),this.allowRotation=g,this},setDrag:function(g,m){return this.drag.set(g,m),this},setDamping:function(g){return this.useDamping=g,this},setDragX:function(g){return this.drag.x=g,this},setDragY:function(g){return this.drag.y=g,this},setGravity:function(g,m){return this.gravity.set(g,m),this},setGravityX:function(g){return this.gravity.x=g,this},setGravityY:function(g){return this.gravity.y=g,this},setFriction:function(g,m){return this.friction.set(g,m),this},setFrictionX:function(g){return this.friction.x=g,this},setFrictionY:function(g){return this.friction.y=g,this},setAngularVelocity:function(g){return this.angularVelocity=g,this},setAngularAcceleration:function(g){return this.angularAcceleration=g,this},setAngularDrag:function(g){return this.angularDrag=g,this},setMass:function(g){return this.mass=g,this},setImmovable:function(g){return g===void 0&&(g=!0),this.immovable=g,this},setEnable:function(g){return g===void 0&&(g=!0),this.enable=g,this},processX:function(g,m,y,C){this.x+=g,this.updateCenter(),m!==null&&(this.velocity.x=m*this.slideFactor.x);var b=this.blocked;y&&(b.left=!0,b.none=!1),C&&(b.right=!0,b.none=!1)},processY:function(g,m,y,C){this.y+=g,this.updateCenter(),m!==null&&(this.velocity.y=m*this.slideFactor.y);var b=this.blocked;y&&(b.up=!0,b.none=!1),C&&(b.down=!0,b.none=!1)},x:{get:function(){return this.position.x},set:function(g){this.position.x=g}},y:{get:function(){return this.position.y},set:function(g){this.position.y=g}},left:{get:function(){return this.position.x}},right:{get:function(){return this.position.x+this.width}},top:{get:function(){return this.position.y}},bottom:{get:function(){return this.position.y+this.height}}});n.exports=v},79342:(n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(83419),x=new o({initialize:function(h,l,a,f,c,u,v){this.world=h,this.name="",this.active=!0,this.overlapOnly=l,this.object1=a,this.object2=f,this.collideCallback=c,this.processCallback=u,this.callbackContext=v},setName:function(d){return this.name=d,this},update:function(){this.world.collideObjects(this.object1,this.object2,this.collideCallback,this.processCallback,this.callbackContext,this.overlapOnly)},destroy:function(){this.world.removeCollider(this),this.active=!1,this.world=null,this.object1=null,this.object2=null,this.collideCallback=null,this.processCallback=null,this.callbackContext=null}});n.exports=x},66022:(n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(71289),x=r(13759),d=r(37742),h=r(83419),l=r(37747),a=r(60758),f=r(72624),c=r(71464),u=new h({initialize:function(g){this.world=g,this.scene=g.scene,this.sys=g.scene.sys},collider:function(v,g,m,y,C){return this.world.addCollider(v,g,m,y,C)},overlap:function(v,g,m,y,C){return this.world.addOverlap(v,g,m,y,C)},existing:function(v,g){var m=g?l.STATIC_BODY:l.DYNAMIC_BODY;return this.world.enableBody(v,m),v},staticImage:function(v,g,m,y){var C=new o(this.scene,v,g,m,y);return this.sys.displayList.add(C),this.world.enableBody(C,l.STATIC_BODY),C},image:function(v,g,m,y){var C=new o(this.scene,v,g,m,y);return this.sys.displayList.add(C),this.world.enableBody(C,l.DYNAMIC_BODY),C},staticSprite:function(v,g,m,y){var C=new x(this.scene,v,g,m,y);return this.sys.displayList.add(C),this.sys.updateList.add(C),this.world.enableBody(C,l.STATIC_BODY),C},sprite:function(v,g,m,y){var C=new x(this.scene,v,g,m,y);return this.sys.displayList.add(C),this.sys.updateList.add(C),this.world.enableBody(C,l.DYNAMIC_BODY),C},staticGroup:function(v,g){return this.sys.updateList.add(new c(this.world,this.world.scene,v,g))},group:function(v,g){return this.sys.updateList.add(new a(this.world,this.world.scene,v,g))},body:function(v,g,m,y){var C=new d(this.world);return C.position.set(v,g),m&&y&&C.setSize(m,y),this.world.add(C,l.DYNAMIC_BODY),C},staticBody:function(v,g,m,y){var C=new f(this.world);return C.position.set(v,g),m&&y&&C.setSize(m,y),this.world.add(C,l.STATIC_BODY),C},destroy:function(){this.world=null,this.scene=null,this.sys=null}});n.exports=u},79599:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(r){var o=0;if(!Array.isArray(r))o=r;else for(var x=0;x<r.length;x++)o|=r[x];return o};n.exports=T},64897:(n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(37747),x=function(d,h,l,a){var f=0,c=d.deltaAbsX()+h.deltaAbsX()+a;return d._dx===0&&h._dx===0?(d.embedded=!0,h.embedded=!0):d._dx>h._dx?(f=d.right-h.x,f>c&&!l||d.checkCollision.right===!1||h.checkCollision.left===!1?f=0:(d.touching.none=!1,d.touching.right=!0,h.touching.none=!1,h.touching.left=!0,h.physicsType===o.STATIC_BODY&&!l&&(d.blocked.none=!1,d.blocked.right=!0),d.physicsType===o.STATIC_BODY&&!l&&(h.blocked.none=!1,h.blocked.left=!0))):d._dx<h._dx&&(f=d.x-h.width-h.x,-f>c&&!l||d.checkCollision.left===!1||h.checkCollision.right===!1?f=0:(d.touching.none=!1,d.touching.left=!0,h.touching.none=!1,h.touching.right=!0,h.physicsType===o.STATIC_BODY&&!l&&(d.blocked.none=!1,d.blocked.left=!0),d.physicsType===o.STATIC_BODY&&!l&&(h.blocked.none=!1,h.blocked.right=!0))),d.overlapX=f,h.overlapX=f,f};n.exports=x},45170:(n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(37747),x=function(d,h,l,a){var f=0,c=d.deltaAbsY()+h.deltaAbsY()+a;return d._dy===0&&h._dy===0?(d.embedded=!0,h.embedded=!0):d._dy>h._dy?(f=d.bottom-h.y,f>c&&!l||d.checkCollision.down===!1||h.checkCollision.up===!1?f=0:(d.touching.none=!1,d.touching.down=!0,h.touching.none=!1,h.touching.up=!0,h.physicsType===o.STATIC_BODY&&!l&&(d.blocked.none=!1,d.blocked.down=!0),d.physicsType===o.STATIC_BODY&&!l&&(h.blocked.none=!1,h.blocked.up=!0))):d._dy<h._dy&&(f=d.y-h.bottom,-f>c&&!l||d.checkCollision.up===!1||h.checkCollision.down===!1?f=0:(d.touching.none=!1,d.touching.up=!0,h.touching.none=!1,h.touching.down=!0,h.physicsType===o.STATIC_BODY&&!l&&(d.blocked.none=!1,d.blocked.up=!0),d.physicsType===o.STATIC_BODY&&!l&&(h.blocked.none=!1,h.blocked.down=!0))),d.overlapY=f,h.overlapY=f,f};n.exports=x},60758:(n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(13759),x=r(83419),d=r(78389),h=r(37747),l=r(95540),a=r(26479),f=r(41212),c=new x({Extends:a,Mixins:[d],initialize:function(v,g,m,y){if(!m&&!y)y={internalCreateCallback:this.createCallbackHandler,internalRemoveCallback:this.removeCallbackHandler};else if(f(m))y=m,m=null,y.internalCreateCallback=this.createCallbackHandler,y.internalRemoveCallback=this.removeCallbackHandler;else if(Array.isArray(m)&&f(m[0])){var C=this;m.forEach(function(b){b.internalCreateCallback=C.createCallbackHandler,b.internalRemoveCallback=C.removeCallbackHandler,b.classType=l(b,"classType",o)}),y=null}else y={internalCreateCallback:this.createCallbackHandler,internalRemoveCallback:this.removeCallbackHandler};this.world=v,y&&(y.classType=l(y,"classType",o)),this.physicsType=h.DYNAMIC_BODY,this.collisionCategory=1,this.collisionMask=2147483647,this.defaults={setCollideWorldBounds:l(y,"collideWorldBounds",!1),setBoundsRectangle:l(y,"customBoundsRectangle",null),setAccelerationX:l(y,"accelerationX",0),setAccelerationY:l(y,"accelerationY",0),setAllowDrag:l(y,"allowDrag",!0),setAllowGravity:l(y,"allowGravity",!0),setAllowRotation:l(y,"allowRotation",!0),setDamping:l(y,"useDamping",!1),setBounceX:l(y,"bounceX",0),setBounceY:l(y,"bounceY",0),setDragX:l(y,"dragX",0),setDragY:l(y,"dragY",0),setEnable:l(y,"enable",!0),setGravityX:l(y,"gravityX",0),setGravityY:l(y,"gravityY",0),setFrictionX:l(y,"frictionX",0),setFrictionY:l(y,"frictionY",0),setMaxSpeed:l(y,"maxSpeed",-1),setMaxVelocityX:l(y,"maxVelocityX",1e4),setMaxVelocityY:l(y,"maxVelocityY",1e4),setVelocityX:l(y,"velocityX",0),setVelocityY:l(y,"velocityY",0),setAngularVelocity:l(y,"angularVelocity",0),setAngularAcceleration:l(y,"angularAcceleration",0),setAngularDrag:l(y,"angularDrag",0),setMass:l(y,"mass",1),setImmovable:l(y,"immovable",!1)},a.call(this,g,m,y),this.type="PhysicsGroup"},createCallbackHandler:function(u){u.body||this.world.enableBody(u,h.DYNAMIC_BODY);var v=u.body;for(var g in this.defaults)v[g](this.defaults[g])},removeCallbackHandler:function(u){u.body&&this.world.disableBody(u)},setVelocity:function(u,v,g){g===void 0&&(g=0);for(var m=this.getChildren(),y=0;y<m.length;y++)m[y].body.velocity.set(u+y*g,v+y*g);return this},setVelocityX:function(u,v){v===void 0&&(v=0);for(var g=this.getChildren(),m=0;m<g.length;m++)g[m].body.velocity.x=u+m*v;return this},setVelocityY:function(u,v){v===void 0&&(v=0);for(var g=this.getChildren(),m=0;m<g.length;m++)g[m].body.velocity.y=u+m*v;return this}});n.exports=c},3017:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T,r,o,x,d,h,l,a,f,c,u,v,g,m,y,C,b,M=function(G,I,B){T=G,r=I;var k=T.velocity.x,U=r.velocity.x;return o=T.pushable,f=T._dx<0,c=T._dx>0,u=T._dx===0,y=Math.abs(T.right-r.x)<=Math.abs(r.right-T.x),l=U-k*T.bounce.x,x=r.pushable,v=r._dx<0,g=r._dx>0,m=r._dx===0,C=!y,a=k-U*r.bounce.x,b=Math.abs(B),w()},w=function(){return c&&y&&r.blocked.right?(T.processX(-b,l,!1,!0),1):f&&C&&r.blocked.left?(T.processX(b,l,!0),1):g&&C&&T.blocked.right?(r.processX(-b,a,!1,!0),2):v&&y&&T.blocked.left?(r.processX(b,a,!0),2):0},R=function(){var G=T.velocity.x,I=r.velocity.x,B=Math.sqrt(I*I*r.mass/T.mass)*(I>0?1:-1),k=Math.sqrt(G*G*T.mass/r.mass)*(G>0?1:-1),U=(B+k)*.5;return B-=U,k-=U,d=U+B*T.bounce.x,h=U+k*r.bounce.x,f&&C?A(0):v&&y?A(1):c&&y?A(2):g&&C?A(3):!1},A=function(G){if(o&&x)b*=.5,G===0||G===3?(T.processX(b,d),r.processX(-b,h)):(T.processX(-b,d),r.processX(b,h));else if(o&&!x)G===0||G===3?T.processX(b,l,!0):T.processX(-b,l,!1,!0);else if(!o&&x)G===0||G===3?r.processX(-b,a,!1,!0):r.processX(b,a,!0);else{var I=b*.5;G===0?m?(T.processX(b,0,!0),r.processX(0,null,!1,!0)):g?(T.processX(I,0,!0),r.processX(-I,0,!1,!0)):(T.processX(I,r.velocity.x,!0),r.processX(-I,null,!1,!0)):G===1?u?(T.processX(0,null,!1,!0),r.processX(b,0,!0)):c?(T.processX(-I,0,!1,!0),r.processX(I,0,!0)):(T.processX(-I,null,!1,!0),r.processX(I,T.velocity.x,!0)):G===2?m?(T.processX(-b,0,!1,!0),r.processX(0,null,!0)):v?(T.processX(-I,0,!1,!0),r.processX(I,0,!0)):(T.processX(-I,r.velocity.x,!1,!0),r.processX(I,null,!0)):G===3&&(u?(T.processX(0,null,!0),r.processX(-b,0,!1,!0)):f?(T.processX(I,0,!0),r.processX(-I,0,!1,!0)):(T.processX(I,r.velocity.y,!0),r.processX(-I,null,!1,!0)))}return!0},L=function(G){if(G===1?r.velocity.x=0:y?r.processX(b,a,!0):r.processX(-b,a,!1,!0),T.moves){var I=T.directControl?T.y-T.autoFrame.y:T.y-T.prev.y;r.y+=I*T.friction.y,r._dy=r.y-r.prev.y}},F=function(G){if(G===2?T.velocity.x=0:C?T.processX(b,l,!0):T.processX(-b,l,!1,!0),r.moves){var I=r.directControl?r.y-r.autoFrame.y:r.y-r.prev.y;T.y+=I*r.friction.y,T._dy=T.y-T.prev.y}};n.exports={BlockCheck:w,Check:R,Set:M,Run:A,RunImmovableBody1:L,RunImmovableBody2:F}},47962:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T,r,o,x,d,h,l,a,f,c,u,v,g,m,y,C,b,M=function(G,I,B){T=G,r=I;var k=T.velocity.y,U=r.velocity.y;return o=T.pushable,f=T._dy<0,c=T._dy>0,u=T._dy===0,y=Math.abs(T.bottom-r.y)<=Math.abs(r.bottom-T.y),l=U-k*T.bounce.y,x=r.pushable,v=r._dy<0,g=r._dy>0,m=r._dy===0,C=!y,a=k-U*r.bounce.y,b=Math.abs(B),w()},w=function(){return c&&y&&r.blocked.down?(T.processY(-b,l,!1,!0),1):f&&C&&r.blocked.up?(T.processY(b,l,!0),1):g&&C&&T.blocked.down?(r.processY(-b,a,!1,!0),2):v&&y&&T.blocked.up?(r.processY(b,a,!0),2):0},R=function(){var G=T.velocity.y,I=r.velocity.y,B=Math.sqrt(I*I*r.mass/T.mass)*(I>0?1:-1),k=Math.sqrt(G*G*T.mass/r.mass)*(G>0?1:-1),U=(B+k)*.5;return B-=U,k-=U,d=U+B*T.bounce.y,h=U+k*r.bounce.y,f&&C?A(0):v&&y?A(1):c&&y?A(2):g&&C?A(3):!1},A=function(G){if(o&&x)b*=.5,G===0||G===3?(T.processY(b,d),r.processY(-b,h)):(T.processY(-b,d),r.processY(b,h));else if(o&&!x)G===0||G===3?T.processY(b,l,!0):T.processY(-b,l,!1,!0);else if(!o&&x)G===0||G===3?r.processY(-b,a,!1,!0):r.processY(b,a,!0);else{var I=b*.5;G===0?m?(T.processY(b,0,!0),r.processY(0,null,!1,!0)):g?(T.processY(I,0,!0),r.processY(-I,0,!1,!0)):(T.processY(I,r.velocity.y,!0),r.processY(-I,null,!1,!0)):G===1?u?(T.processY(0,null,!1,!0),r.processY(b,0,!0)):c?(T.processY(-I,0,!1,!0),r.processY(I,0,!0)):(T.processY(-I,null,!1,!0),r.processY(I,T.velocity.y,!0)):G===2?m?(T.processY(-b,0,!1,!0),r.processY(0,null,!0)):v?(T.processY(-I,0,!1,!0),r.processY(I,0,!0)):(T.processY(-I,r.velocity.y,!1,!0),r.processY(I,null,!0)):G===3&&(u?(T.processY(0,null,!0),r.processY(-b,0,!1,!0)):f?(T.processY(I,0,!0),r.processY(-I,0,!1,!0)):(T.processY(I,r.velocity.y,!0),r.processY(-I,null,!1,!0)))}return!0},L=function(G){if(G===1?r.velocity.y=0:y?r.processY(b,a,!0):r.processY(-b,a,!1,!0),T.moves){var I=T.directControl?T.x-T.autoFrame.x:T.x-T.prev.x;r.x+=I*T.friction.x,r._dx=r.x-r.prev.x}},F=function(G){if(G===2?T.velocity.y=0:C?T.processY(b,l,!0):T.processY(-b,l,!1,!0),r.moves){var I=r.directControl?r.x-r.autoFrame.x:r.x-r.prev.x;T.x+=I*r.friction.x,T._dx=T.x-T.prev.x}};n.exports={BlockCheck:w,Check:R,Set:M,Run:A,RunImmovableBody1:L,RunImmovableBody2:F}},14087:(n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(64897),x=r(3017),d=function(h,l,a,f,c){c===void 0&&(c=o(h,l,a,f));var u=h.immovable,v=l.immovable;if(a||c===0||u&&v||h.customSeparateX||l.customSeparateX)return c!==0||h.embedded&&l.embedded;var g=x.Set(h,l,c);return!u&&!v?g>0?!0:x.Check():(u?x.RunImmovableBody1(g):v&&x.RunImmovableBody2(g),!0)};n.exports=d},89936:(n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(45170),x=r(47962),d=function(h,l,a,f,c){c===void 0&&(c=o(h,l,a,f));var u=h.immovable,v=l.immovable;if(a||c===0||u&&v||h.customSeparateY||l.customSeparateY)return c!==0||h.embedded&&l.embedded;var g=x.Set(h,l,c);return!u&&!v?g>0?!0:x.Check():(u?x.RunImmovableBody1(g):v&&x.RunImmovableBody2(g),!0)};n.exports=d},95829:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(r,o){return o===void 0&&(o={}),o.none=r,o.up=!1,o.down=!1,o.left=!1,o.right=!1,r||(o.up=!0,o.down=!0,o.left=!0,o.right=!0),o};n.exports=T},72624:(n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(87902),x=r(83419),d=r(78389),h=r(37747),l=r(37303),a=r(95829),f=r(26099),c=new x({Mixins:[d],initialize:function(v,g){var m=64,y=64,C={x:0,y:0,angle:0,rotation:0,scaleX:1,scaleY:1,displayOriginX:0,displayOriginY:0},b=g!==void 0;b&&g.displayWidth&&(m=g.displayWidth,y=g.displayHeight),b||(g=C),this.world=v,this.gameObject=b?g:void 0,this.isBody=!0,this.debugShowBody=v.defaults.debugShowStaticBody,this.debugBodyColor=v.defaults.staticBodyDebugColor,this.enable=!0,this.isCircle=!1,this.radius=0,this.offset=new f,this.position=new f(g.x-m*g.originX,g.y-y*g.originY),this.width=m,this.height=y,this.halfWidth=Math.abs(this.width/2),this.halfHeight=Math.abs(this.height/2),this.center=new f(this.position.x+this.halfWidth,this.position.y+this.halfHeight),this.velocity=f.ZERO,this.allowGravity=!1,this.gravity=f.ZERO,this.bounce=f.ZERO,this.onWorldBounds=!1,this.onCollide=!1,this.onOverlap=!1,this.mass=1,this.immovable=!0,this.pushable=!1,this.customSeparateX=!1,this.customSeparateY=!1,this.overlapX=0,this.overlapY=0,this.overlapR=0,this.embedded=!1,this.collideWorldBounds=!1,this.checkCollision=a(!1),this.touching=a(!0),this.wasTouching=a(!0),this.blocked=a(!0),this.physicsType=h.STATIC_BODY,this.collisionCategory=1,this.collisionMask=1,this._dx=0,this._dy=0},setGameObject:function(u,v,g){if(v===void 0&&(v=!0),g===void 0&&(g=!0),!u||!u.hasTransformComponent)return this;var m=this.world;return this.gameObject&&this.gameObject.body&&(m.disable(this.gameObject),this.gameObject.body=null),u.body&&m.disable(u),this.gameObject=u,u.body=this,this.setSize(),v&&this.updateFromGameObject(),this.enable=g,this},updateFromGameObject:function(){this.world.staticTree.remove(this);var u=this.gameObject;return u.getTopLeft(this.position),this.width=u.displayWidth,this.height=u.displayHeight,this.halfWidth=Math.abs(this.width/2),this.halfHeight=Math.abs(this.height/2),this.center.set(this.position.x+this.halfWidth,this.position.y+this.halfHeight),this.world.staticTree.insert(this),this},setOffset:function(u,v){return v===void 0&&(v=u),this.world.staticTree.remove(this),this.position.x-=this.offset.x,this.position.y-=this.offset.y,this.offset.set(u,v),this.position.x+=this.offset.x,this.position.y+=this.offset.y,this.updateCenter(),this.world.staticTree.insert(this),this},setSize:function(u,v,g){g===void 0&&(g=!0);var m=this.gameObject;if(m&&m.frame&&(u||(u=m.frame.realWidth),v||(v=m.frame.realHeight)),this.world.staticTree.remove(this),this.width=u,this.height=v,this.halfWidth=Math.floor(u/2),this.halfHeight=Math.floor(v/2),g&&m&&m.getCenter){var y=m.displayWidth/2,C=m.displayHeight/2;this.position.x-=this.offset.x,this.position.y-=this.offset.y,this.offset.set(y-this.halfWidth,C-this.halfHeight),this.position.x+=this.offset.x,this.position.y+=this.offset.y}return this.updateCenter(),this.isCircle=!1,this.radius=0,this.world.staticTree.insert(this),this},setCircle:function(u,v,g){return v===void 0&&(v=this.offset.x),g===void 0&&(g=this.offset.y),u>0?(this.world.staticTree.remove(this),this.isCircle=!0,this.radius=u,this.width=u*2,this.height=u*2,this.halfWidth=Math.floor(this.width/2),this.halfHeight=Math.floor(this.height/2),this.offset.set(v,g),this.updateCenter(),this.world.staticTree.insert(this)):this.isCircle=!1,this},updateCenter:function(){this.center.set(this.position.x+this.halfWidth,this.position.y+this.halfHeight)},reset:function(u,v){var g=this.gameObject;u===void 0&&(u=g.x),v===void 0&&(v=g.y),this.world.staticTree.remove(this),g.setPosition(u,v),g.getTopLeft(this.position),this.position.x+=this.offset.x,this.position.y+=this.offset.y,this.updateCenter(),this.world.staticTree.insert(this)},stop:function(){return this},getBounds:function(u){return u.x=this.x,u.y=this.y,u.right=this.right,u.bottom=this.bottom,u},hitTest:function(u,v){return this.isCircle?o(this,u,v):l(this,u,v)},postUpdate:function(){},deltaAbsX:function(){return 0},deltaAbsY:function(){return 0},deltaX:function(){return 0},deltaY:function(){return 0},deltaZ:function(){return 0},destroy:function(){this.enable=!1,this.world.pendingDestroy.set(this)},drawDebug:function(u){var v=this.position,g=v.x+this.halfWidth,m=v.y+this.halfHeight;this.debugShowBody&&(u.lineStyle(u.defaultStrokeWidth,this.debugBodyColor,1),this.isCircle?u.strokeCircle(g,m,this.width/2):u.strokeRect(v.x,v.y,this.width,this.height))},willDrawDebug:function(){return this.debugShowBody},setMass:function(u){return u<=0&&(u=.1),this.mass=u,this},x:{get:function(){return this.position.x},set:function(u){this.world.staticTree.remove(this),this.position.x=u,this.world.staticTree.insert(this)}},y:{get:function(){return this.position.y},set:function(u){this.world.staticTree.remove(this),this.position.y=u,this.world.staticTree.insert(this)}},left:{get:function(){return this.position.x}},right:{get:function(){return this.position.x+this.width}},top:{get:function(){return this.position.y}},bottom:{get:function(){return this.position.y+this.height}}});n.exports=c},71464:(n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(13759),x=r(83419),d=r(78389),h=r(37747),l=r(95540),a=r(26479),f=r(41212),c=new x({Extends:a,Mixins:[d],initialize:function(v,g,m,y){!m&&!y?y={internalCreateCallback:this.createCallbackHandler,internalRemoveCallback:this.removeCallbackHandler,createMultipleCallback:this.createMultipleCallbackHandler,classType:o}:f(m)?(y=m,m=null,y.internalCreateCallback=this.createCallbackHandler,y.internalRemoveCallback=this.removeCallbackHandler,y.createMultipleCallback=this.createMultipleCallbackHandler,y.classType=l(y,"classType",o)):Array.isArray(m)&&f(m[0])?(y=m,m=null,y.forEach(function(C){C.internalCreateCallback=this.createCallbackHandler,C.internalRemoveCallback=this.removeCallbackHandler,C.createMultipleCallback=this.createMultipleCallbackHandler,C.classType=l(C,"classType",o)})):y={internalCreateCallback:this.createCallbackHandler,internalRemoveCallback:this.removeCallbackHandler},this.world=v,this.physicsType=h.STATIC_BODY,this.collisionCategory=1,this.collisionMask=1,a.call(this,g,m,y),this.type="StaticPhysicsGroup"},createCallbackHandler:function(u){u.body||this.world.enableBody(u,h.STATIC_BODY)},removeCallbackHandler:function(u){u.body&&this.world.disableBody(u)},createMultipleCallbackHandler:function(){this.refresh()},refresh:function(){for(var u=this.children.entries,v=0;v<u.length;v++)u[v].body.reset();return this}});n.exports=c},82248:(n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(55495),x=r(37742),d=r(45319),h=r(83419),l=r(79342),a=r(37747),f=r(20339),c=r(52816),u=r(50792),v=r(63012),g=r(43855),m=r(5470),y=r(94977),C=r(64897),b=r(45170),M=r(96523),w=r(35154),R=r(36383),A=r(25774),L=r(96602),F=r(87841),G=r(59542),I=r(40012),B=r(14087),k=r(89936),U=r(35072),H=r(72624),X=r(2483),j=r(61340),J=r(26099),Y=r(15994),$=new h({Extends:u,initialize:function(V,K){u.call(this),this.scene=V,this.bodies=new U,this.staticBodies=new U,this.pendingDestroy=new U,this.colliders=new A,this.gravity=new J(w(K,"gravity.x",0),w(K,"gravity.y",0)),this.bounds=new F(w(K,"x",0),w(K,"y",0),w(K,"width",V.sys.scale.width),w(K,"height",V.sys.scale.height)),this.checkCollision={up:w(K,"checkCollision.up",!0),down:w(K,"checkCollision.down",!0),left:w(K,"checkCollision.left",!0),right:w(K,"checkCollision.right",!0)},this.fps=w(K,"fps",60),this.fixedStep=w(K,"fixedStep",!0),this._elapsed=0,this._frameTime=1/this.fps,this._frameTimeMS=1e3*this._frameTime,this.stepsLastFrame=0,this.timeScale=w(K,"timeScale",1),this.OVERLAP_BIAS=w(K,"overlapBias",4),this.TILE_BIAS=w(K,"tileBias",16),this.forceX=w(K,"forceX",!1),this.isPaused=w(K,"isPaused",!1),this._total=0,this.drawDebug=w(K,"debug",!1),this.debugGraphic,this.defaults={debugShowBody:w(K,"debugShowBody",!0),debugShowStaticBody:w(K,"debugShowStaticBody",!0),debugShowVelocity:w(K,"debugShowVelocity",!0),bodyDebugColor:w(K,"debugBodyColor",16711935),staticBodyDebugColor:w(K,"debugStaticBodyColor",255),velocityDebugColor:w(K,"debugVelocityColor",65280)},this.maxEntries=w(K,"maxEntries",16),this.useTree=w(K,"useTree",!0),this.tree=new G(this.maxEntries),this.staticTree=new G(this.maxEntries),this.treeMinMax={minX:0,minY:0,maxX:0,maxY:0},this._tempMatrix=new j,this._tempMatrix2=new j,this.tileFilterOptions={isColliding:!0,isNotEmpty:!0,hasInterestingFace:!0},this.drawDebug&&this.createDebugGraphic()},enable:function(z,V){V===void 0&&(V=a.DYNAMIC_BODY),Array.isArray(z)||(z=[z]);for(var K=0;K<z.length;K++){var Q=z[K];if(Q.isParent)for(var _=Q.getChildren(),tt=0;tt<_.length;tt++){var rt=_[tt];rt.isParent?this.enable(rt,V):this.enableBody(rt,V)}else this.enableBody(Q,V)}},enableBody:function(z,V){return V===void 0&&(V=a.DYNAMIC_BODY),z.hasTransformComponent&&(z.body||(V===a.DYNAMIC_BODY?z.body=new x(this,z):V===a.STATIC_BODY&&(z.body=new H(this,z))),this.add(z.body)),z},add:function(z){return z.physicsType===a.DYNAMIC_BODY?this.bodies.set(z):z.physicsType===a.STATIC_BODY&&(this.staticBodies.set(z),this.staticTree.insert(z)),z.enable=!0,z},disable:function(z){Array.isArray(z)||(z=[z]);for(var V=0;V<z.length;V++){var K=z[V];if(K.isParent)for(var Q=K.getChildren(),_=0;_<Q.length;_++){var tt=Q[_];tt.isParent?this.disable(tt):this.disableBody(tt.body)}else this.disableBody(K.body)}},disableBody:function(z){this.remove(z),z.enable=!1},remove:function(z){z.physicsType===a.DYNAMIC_BODY?(this.tree.remove(z),this.bodies.delete(z)):z.physicsType===a.STATIC_BODY&&(this.staticBodies.delete(z),this.staticTree.remove(z))},createDebugGraphic:function(){var z=this.scene.sys.add.graphics({x:0,y:0});return z.setDepth(Number.MAX_VALUE),this.debugGraphic=z,this.drawDebug=!0,z},setBounds:function(z,V,K,Q,_,tt,rt,ot){return this.bounds.setTo(z,V,K,Q),_!==void 0&&this.setBoundsCollision(_,tt,rt,ot),this},setBoundsCollision:function(z,V,K,Q){return z===void 0&&(z=!0),V===void 0&&(V=!0),K===void 0&&(K=!0),Q===void 0&&(Q=!0),this.checkCollision.left=z,this.checkCollision.right=V,this.checkCollision.up=K,this.checkCollision.down=Q,this},pause:function(){return this.isPaused=!0,this.emit(v.PAUSE),this},resume:function(){return this.isPaused=!1,this.emit(v.RESUME),this},addCollider:function(z,V,K,Q,_){K===void 0&&(K=null),Q===void 0&&(Q=null),_===void 0&&(_=K);var tt=new l(this,!1,z,V,K,Q,_);return this.colliders.add(tt),tt},addOverlap:function(z,V,K,Q,_){K===void 0&&(K=null),Q===void 0&&(Q=null),_===void 0&&(_=K);var tt=new l(this,!0,z,V,K,Q,_);return this.colliders.add(tt),tt},removeCollider:function(z){return this.colliders.remove(z),this},setFPS:function(z){return this.fps=z,this._frameTime=1/this.fps,this._frameTimeMS=1e3*this._frameTime,this},update:function(z,V){if(!(this.isPaused||this.bodies.size===0)){var K,Q=this._frameTime,_=this._frameTimeMS*this.timeScale;this._elapsed+=V;var tt,rt=this.bodies.entries,ot=this._elapsed>=_;for(this.fixedStep||(Q=V*.001,ot=!0,this._elapsed=0),K=0;K<rt.length;K++)tt=rt[K],tt.enable&&tt.preUpdate(ot,Q);if(ot){this._elapsed-=_,this.stepsLastFrame=1,this.useTree&&(this.tree.clear(),this.tree.load(rt));var ft=this.colliders.update();for(K=0;K<ft.length;K++){var ct=ft[K];ct.active&&ct.update()}this.emit(v.WORLD_STEP,Q)}for(;this._elapsed>=_;)this._elapsed-=_,this.step(Q)}},step:function(z){var V,K,Q=this.bodies.entries,_=Q.length;for(V=0;V<_;V++)K=Q[V],K.enable&&K.update(z);this.useTree&&(this.tree.clear(),this.tree.load(Q));var tt=this.colliders.update();for(V=0;V<tt.length;V++){var rt=tt[V];rt.active&&rt.update()}this.emit(v.WORLD_STEP,z),this.stepsLastFrame++},singleStep:function(){this.update(0,this._frameTimeMS),this.postUpdate()},postUpdate:function(){var z,V,K=this.bodies.entries,Q=K.length,_=this.bodies,tt=this.staticBodies;if(this.stepsLastFrame)for(this.stepsLastFrame=0,z=0;z<Q;z++)V=K[z],V.enable&&V.postUpdate();if(this.drawDebug){var rt=this.debugGraphic;for(rt.clear(),z=0;z<Q;z++)V=K[z],V.willDrawDebug()&&V.drawDebug(rt);for(K=tt.entries,Q=K.length,z=0;z<Q;z++)V=K[z],V.willDrawDebug()&&V.drawDebug(rt)}var ot=this.pendingDestroy;if(ot.size>0){var ft=this.tree,ct=this.staticTree;for(K=ot.entries,Q=K.length,z=0;z<Q;z++)V=K[z],V.physicsType===a.DYNAMIC_BODY?(ft.remove(V),_.delete(V)):V.physicsType===a.STATIC_BODY&&(ct.remove(V),tt.delete(V)),V.world=void 0,V.gameObject=void 0;ot.clear()}},updateMotion:function(z,V){z.allowRotation&&this.computeAngularVelocity(z,V),this.computeVelocity(z,V)},computeAngularVelocity:function(z,V){var K=z.angularVelocity,Q=z.angularAcceleration,_=z.angularDrag,tt=z.maxAngular;Q?K+=Q*V:z.allowDrag&&_&&(_*=V,m(K-_,0,.1)?K-=_:y(K+_,0,.1)?K+=_:K=0),K=d(K,-tt,tt);var rt=K-z.angularVelocity;z.angularVelocity+=rt,z.rotation+=z.angularVelocity*V},computeVelocity:function(z,V){var K=z.velocity.x,Q=z.acceleration.x,_=z.drag.x,tt=z.maxVelocity.x,rt=z.velocity.y,ot=z.acceleration.y,ft=z.drag.y,ct=z.maxVelocity.y,gt=z.speed,xt=z.maxSpeed,Mt=z.allowDrag,Tt=z.useDamping;z.allowGravity&&(K+=(this.gravity.x+z.gravity.x)*V,rt+=(this.gravity.y+z.gravity.y)*V),Q?K+=Q*V:Mt&&_&&(Tt?(_=Math.pow(_,V),K*=_,gt=Math.sqrt(K*K+rt*rt),g(gt,0,.001)&&(K=0)):(_*=V,m(K-_,0,.01)?K-=_:y(K+_,0,.01)?K+=_:K=0)),ot?rt+=ot*V:Mt&&ft&&(Tt?(ft=Math.pow(ft,V),rt*=ft,gt=Math.sqrt(K*K+rt*rt),g(gt,0,.001)&&(rt=0)):(ft*=V,m(rt-ft,0,.01)?rt-=ft:y(rt+ft,0,.01)?rt+=ft:rt=0)),K=d(K,-tt,tt),rt=d(rt,-ct,ct),z.velocity.set(K,rt),xt>-1&&z.velocity.length()>xt&&(z.velocity.normalize().scale(xt),gt=xt),z.speed=gt},separate:function(z,V,K,Q,_){var tt,rt,ot=!1,ft=!0;if(!z.enable||!V.enable||z.checkCollision.none||V.checkCollision.none||!this.intersects(z,V)||K&&K.call(Q,z.gameObject||z,V.gameObject||V)===!1)return ot;if(z.isCircle||V.isCircle){var ct=this.separateCircle(z,V,_);ct.result?(ot=!0,ft=!1):(tt=ct.x,rt=ct.y,ft=!0)}if(ft){var gt=!1,xt=!1,Mt=this.OVERLAP_BIAS;_?(gt=B(z,V,_,Mt,tt),xt=k(z,V,_,Mt,rt)):this.forceX||Math.abs(this.gravity.y+z.gravity.y)<Math.abs(this.gravity.x+z.gravity.x)?(gt=B(z,V,_,Mt,tt),this.intersects(z,V)&&(xt=k(z,V,_,Mt,rt))):(xt=k(z,V,_,Mt,rt),this.intersects(z,V)&&(gt=B(z,V,_,Mt,tt))),ot=gt||xt}return ot&&(_?(z.onOverlap||V.onOverlap)&&this.emit(v.OVERLAP,z.gameObject,V.gameObject,z,V):(z.onCollide||V.onCollide)&&this.emit(v.COLLIDE,z.gameObject,V.gameObject,z,V)),ot},separateCircle:function(z,V,K){C(z,V,!1,0),b(z,V,!1,0);var Q=z.isCircle,_=V.isCircle,tt=z.center,rt=V.center,ot=z.immovable,ft=V.immovable,ct=z.velocity,gt=V.velocity,xt=0,Mt=!0;if(Q!==_){Mt=!1;var Tt=tt.x,Ht=tt.y,Xt=z.halfWidth,Kt=V.position.x,bt=V.position.y,Ut=V.right,Vt=V.bottom;_&&(Tt=rt.x,Ht=rt.y,Xt=V.halfWidth,Kt=z.position.x,bt=z.position.y,Ut=z.right,Vt=z.bottom),Ht<bt?Tt<Kt?xt=f(Tt,Ht,Kt,bt)-Xt:Tt>Ut&&(xt=f(Tt,Ht,Ut,bt)-Xt):Ht>Vt&&(Tt<Kt?xt=f(Tt,Ht,Kt,Vt)-Xt:Tt>Ut&&(xt=f(Tt,Ht,Ut,Vt)-Xt)),xt*=-1}else xt=z.halfWidth+V.halfWidth-c(tt,rt);z.overlapR=xt,V.overlapR=xt;var ee=o(tt,rt),Ee=(xt+R.EPSILON)*Math.cos(ee),Me=(xt+R.EPSILON)*Math.sin(ee),ve={overlap:xt,result:!1,x:Ee,y:Me};if(K&&(!Mt||Mt&&xt!==0))return ve.result=!0,ve;if(!Mt&&xt===0||ot&&ft||z.customSeparateX||V.customSeparateX)return ve.x=void 0,ve.y=void 0,ve;var Fe=!z.pushable&&!V.pushable;if(Mt){var ai=tt.x-rt.x,kt=tt.y-rt.y,Wt=Math.sqrt(Math.pow(ai,2)+Math.pow(kt,2)),fe=(rt.x-tt.x)/Wt||0,xe=(rt.y-tt.y)/Wt||0,Ie=2*(ct.x*fe+ct.y*xe-gt.x*fe-gt.y*xe)/(z.mass+V.mass);(ot||ft||!z.pushable||!V.pushable)&&(Ie*=2),!ot&&z.pushable&&(ct.x=ct.x-Ie/z.mass*fe,ct.y=ct.y-Ie/z.mass*xe,ct.multiply(z.bounce)),!ft&&V.pushable&&(gt.x=gt.x+Ie/V.mass*fe,gt.y=gt.y+Ie/V.mass*xe,gt.multiply(V.bounce)),!ot&&!ft&&(Ee*=.5,Me*=.5),(!ot||z.pushable||Fe)&&(z.x-=Ee,z.y-=Me,z.updateCenter()),(!ft||V.pushable||Fe)&&(V.x+=Ee,V.y+=Me,V.updateCenter()),ve.result=!0}else(!ot||z.pushable||Fe)&&(z.x-=Ee,z.y-=Me,z.updateCenter()),(!ft||V.pushable||Fe)&&(V.x+=Ee,V.y+=Me,V.updateCenter()),ve.x=void 0,ve.y=void 0;return ve},intersects:function(z,V){return z===V?!1:!z.isCircle&&!V.isCircle?!(z.right<=V.left||z.bottom<=V.top||z.left>=V.right||z.top>=V.bottom):z.isCircle?V.isCircle?c(z.center,V.center)<=z.halfWidth+V.halfWidth:this.circleBodyIntersects(z,V):this.circleBodyIntersects(V,z)},circleBodyIntersects:function(z,V){var K=d(z.center.x,V.left,V.right),Q=d(z.center.y,V.top,V.bottom),_=(z.center.x-K)*(z.center.x-K),tt=(z.center.y-Q)*(z.center.y-Q);return _+tt<=z.halfWidth*z.halfWidth},overlap:function(z,V,K,Q,_){return K===void 0&&(K=null),Q===void 0&&(Q=null),_===void 0&&(_=K),this.collideObjects(z,V,K,Q,_,!0)},collide:function(z,V,K,Q,_){return K===void 0&&(K=null),Q===void 0&&(Q=null),_===void 0&&(_=K),this.collideObjects(z,V,K,Q,_,!1)},collideObjects:function(z,V,K,Q,_,tt){var rt,ot;z.isParent&&(z.physicsType===void 0||V===void 0||z===V)&&(z=z.children.entries),V&&V.isParent&&V.physicsType===void 0&&(V=V.children.entries);var ft=Array.isArray(z),ct=Array.isArray(V);if(this._total=0,!ft&&!ct)this.collideHandler(z,V,K,Q,_,tt);else if(!ft&&ct)for(rt=0;rt<V.length;rt++)this.collideHandler(z,V[rt],K,Q,_,tt);else if(ft&&!ct)if(V)for(rt=0;rt<z.length;rt++)this.collideHandler(z[rt],V,K,Q,_,tt);else for(rt=0;rt<z.length;rt++){var gt=z[rt];for(ot=rt+1;ot<z.length;ot++)rt!==ot&&this.collideHandler(gt,z[ot],K,Q,_,tt)}else for(rt=0;rt<z.length;rt++)for(ot=0;ot<V.length;ot++)this.collideHandler(z[rt],V[ot],K,Q,_,tt);return this._total>0},collideHandler:function(z,V,K,Q,_,tt){if(V===void 0&&z.isParent)return this.collideGroupVsGroup(z,z,K,Q,_,tt);if(!z||!V)return!1;if(z.body||z.isBody){if(V.body||V.isBody)return this.collideSpriteVsSprite(z,V,K,Q,_,tt);if(V.isParent)return this.collideSpriteVsGroup(z,V,K,Q,_,tt);if(V.isTilemap)return this.collideSpriteVsTilemapLayer(z,V,K,Q,_,tt)}else if(z.isParent){if(V.body||V.isBody)return this.collideSpriteVsGroup(V,z,K,Q,_,tt);if(V.isParent)return this.collideGroupVsGroup(z,V,K,Q,_,tt);if(V.isTilemap)return this.collideGroupVsTilemapLayer(z,V,K,Q,_,tt)}else if(z.isTilemap){if(V.body||V.isBody)return this.collideSpriteVsTilemapLayer(V,z,K,Q,_,tt);if(V.isParent)return this.collideGroupVsTilemapLayer(V,z,K,Q,_,tt)}},canCollide:function(z,V){return z&&V&&(z.collisionMask&V.collisionCategory)!==0&&(V.collisionMask&z.collisionCategory)!==0},collideSpriteVsSprite:function(z,V,K,Q,_,tt){var rt=z.isBody?z:z.body,ot=V.isBody?V:V.body;return this.canCollide(rt,ot)?(this.separate(rt,ot,Q,_,tt)&&(K&&K.call(_,z,V),this._total++),!0):!1},collideSpriteVsGroup:function(z,V,K,Q,_,tt){var rt=z.isBody?z:z.body;if(!(V.getLength()===0||!rt||!rt.enable||rt.checkCollision.none||!this.canCollide(rt,V))){var ot,ft,ct;if(this.useTree||V.physicsType===a.STATIC_BODY){var gt=this.treeMinMax;gt.minX=rt.left,gt.minY=rt.top,gt.maxX=rt.right,gt.maxY=rt.bottom;var xt=V.physicsType===a.DYNAMIC_BODY?this.tree.search(gt):this.staticTree.search(gt);for(ft=xt.length,ot=0;ot<ft;ot++)ct=xt[ot],!(rt===ct||!ct.enable||ct.checkCollision.none||!V.contains(ct.gameObject))&&this.separate(rt,ct,Q,_,tt)&&(K&&K.call(_,rt.gameObject,ct.gameObject),this._total++)}else{var Mt=V.getChildren(),Tt=V.children.entries.indexOf(z);for(ft=Mt.length,ot=0;ot<ft;ot++)ct=Mt[ot].body,!(!ct||ot===Tt||!ct.enable)&&this.separate(rt,ct,Q,_,tt)&&(K&&K.call(_,rt.gameObject,ct.gameObject),this._total++)}}},collideGroupVsTilemapLayer:function(z,V,K,Q,_,tt){if(!this.canCollide(z,V))return!1;var rt=z.getChildren();if(rt.length===0)return!1;for(var ot=!1,ft=0;ft<rt.length;ft++)(rt[ft].body||rt[ft].isBody)&&this.collideSpriteVsTilemapLayer(rt[ft],V,K,Q,_,tt)&&(ot=!0);return ot},collideTiles:function(z,V,K,Q,_){return V.length===0||z.body&&!z.body.enable||z.isBody&&!z.enable?!1:this.collideSpriteVsTilesHandler(z,V,K,Q,_,!1,!1)},overlapTiles:function(z,V,K,Q,_){return V.length===0||z.body&&!z.body.enable||z.isBody&&!z.enable?!1:this.collideSpriteVsTilesHandler(z,V,K,Q,_,!0,!1)},collideSpriteVsTilemapLayer:function(z,V,K,Q,_,tt){var rt=z.isBody?z:z.body;if(!rt.enable||rt.checkCollision.none||!this.canCollide(rt,V))return!1;var ot=V.layer,ft=rt.x-ot.tileWidth*V.scaleX,ct=rt.y-ot.tileHeight*V.scaleY,gt=rt.width+ot.tileWidth*V.scaleX,xt=rt.height+ot.tileHeight*V.scaleY,Mt=tt?null:this.tileFilterOptions,Tt=M(ft,ct,gt,xt,Mt,V.scene.cameras.main,V.layer);return Tt.length===0?!1:this.collideSpriteVsTilesHandler(z,Tt,K,Q,_,tt,!0)},collideSpriteVsTilesHandler:function(z,V,K,Q,_,tt,rt){for(var ot=z.isBody?z:z.body,ft,ct={left:0,right:0,top:0,bottom:0},gt,xt=!1,Mt=0;Mt<V.length;Mt++){ft=V[Mt],gt=ft.tilemapLayer;var Tt=gt.tileToWorldXY(ft.x,ft.y);ct.left=Tt.x,ct.top=Tt.y,ct.right=ct.left+ft.width*gt.scaleX,ct.bottom=ct.top+ft.height*gt.scaleY,X(ct,ot)&&(!Q||Q.call(_,z,ft))&&L(ft,z)&&(tt||I(Mt,ot,ft,ct,gt,this.TILE_BIAS,rt))&&(this._total++,xt=!0,K&&K.call(_,z,ft),tt&&ot.onOverlap?this.emit(v.TILE_OVERLAP,z,ft,ot):ot.onCollide&&this.emit(v.TILE_COLLIDE,z,ft,ot))}return xt},collideGroupVsGroup:function(z,V,K,Q,_,tt){if(!(z.getLength()===0||V.getLength()===0||!this.canCollide(z,V)))for(var rt=z.getChildren(),ot=0;ot<rt.length;ot++)this.collideSpriteVsGroup(rt[ot],V,K,Q,_,tt)},wrap:function(z,V){z.body?this.wrapObject(z,V):z.getChildren?this.wrapArray(z.getChildren(),V):Array.isArray(z)?this.wrapArray(z,V):this.wrapObject(z,V)},wrapArray:function(z,V){for(var K=0;K<z.length;K++)this.wrapObject(z[K],V)},wrapObject:function(z,V){V===void 0&&(V=0),z.x=Y(z.x,this.bounds.left-V,this.bounds.right+V),z.y=Y(z.y,this.bounds.top-V,this.bounds.bottom+V)},shutdown:function(){this.tree.clear(),this.staticTree.clear(),this.bodies.clear(),this.staticBodies.clear(),this.colliders.destroy(),this.removeAllListeners()},destroy:function(){this.shutdown(),this.scene=null,this.debugGraphic&&(this.debugGraphic.destroy(),this.debugGraphic=null)}});n.exports=$},1093:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T={setAcceleration:function(r,o){return this.body.acceleration.set(r,o),this},setAccelerationX:function(r){return this.body.acceleration.x=r,this},setAccelerationY:function(r){return this.body.acceleration.y=r,this}};n.exports=T},59023:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T={setAngularVelocity:function(r){return this.body.angularVelocity=r,this},setAngularAcceleration:function(r){return this.body.angularAcceleration=r,this},setAngularDrag:function(r){return this.body.angularDrag=r,this}};n.exports=T},62069:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T={setBounce:function(r,o){return this.body.bounce.set(r,o),this},setBounceX:function(r){return this.body.bounce.x=r,this},setBounceY:function(r){return this.body.bounce.y=r,this},setCollideWorldBounds:function(r,o,x,d){return this.body.setCollideWorldBounds(r,o,x,d),this}};n.exports=T},78389:(n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(79599),x={setCollisionCategory:function(d){var h=this.body?this.body:this;return h.collisionCategory=d,this},willCollideWith:function(d){var h=this.body?this.body:this;return(h.collisionMask&d)!==0},addCollidesWith:function(d){var h=this.body?this.body:this;return h.collisionMask=h.collisionMask|d,this},removeCollidesWith:function(d){var h=this.body?this.body:this;return h.collisionMask=h.collisionMask&~d,this},setCollidesWith:function(d){var h=this.body?this.body:this;return h.collisionMask=o(d),this},resetCollisionCategory:function(){var d=this.body?this.body:this;return d.collisionCategory=1,d.collisionMask=2147483647,this}};n.exports=x},87118:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T={setDebug:function(r,o,x){return this.debugShowBody=r,this.debugShowVelocity=o,this.debugBodyColor=x,this},setDebugBodyColor:function(r){return this.body.debugBodyColor=r,this},debugShowBody:{get:function(){return this.body.debugShowBody},set:function(r){this.body.debugShowBody=r}},debugShowVelocity:{get:function(){return this.body.debugShowVelocity},set:function(r){this.body.debugShowVelocity=r}},debugBodyColor:{get:function(){return this.body.debugBodyColor},set:function(r){this.body.debugBodyColor=r}}};n.exports=T},52819:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T={setDrag:function(r,o){return this.body.drag.set(r,o),this},setDragX:function(r){return this.body.drag.x=r,this},setDragY:function(r){return this.body.drag.y=r,this},setDamping:function(r){return this.body.useDamping=r,this}};n.exports=T},4074:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T={setDirectControl:function(r){return this.body.setDirectControl(r),this},enableBody:function(r,o,x,d,h){return r&&this.body.reset(o,x),d&&(this.body.gameObject.active=!0),h&&(this.body.gameObject.visible=!0),this.body.enable=!0,this},disableBody:function(r,o){return r===void 0&&(r=!1),o===void 0&&(o=!1),this.body.stop(),this.body.enable=!1,r&&(this.body.gameObject.active=!1),o&&(this.body.gameObject.visible=!1),this},refreshBody:function(){return this.body.updateFromGameObject(),this}};n.exports=T},40831:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T={setFriction:function(r,o){return this.body.friction.set(r,o),this},setFrictionX:function(r){return this.body.friction.x=r,this},setFrictionY:function(r){return this.body.friction.y=r,this}};n.exports=T},26775:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T={setGravity:function(r,o){return this.body.gravity.set(r,o),this},setGravityX:function(r){return this.body.gravity.x=r,this},setGravityY:function(r){return this.body.gravity.y=r,this}};n.exports=T},9437:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T={setImmovable:function(r){return r===void 0&&(r=!0),this.body.immovable=r,this}};n.exports=T},30621:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T={setMass:function(r){return this.body.mass=r,this}};n.exports=T},72441:(n,T,r)=>{var o=r(47956),x=r(96503),d=r(2044),h=r(81491),l=function(a,f,c,u,v,g){var m=o(a,f-u,c-u,2*u,2*u,v,g);if(m.length===0)return m;for(var y=new x(f,c,u),C=new x,b=[],M=0;M<m.length;M++){var w=m[M];w.isCircle?(C.setTo(w.center.x,w.center.y,w.halfWidth),d(y,C)&&b.push(w)):h(y,w)&&b.push(w)}return b};n.exports=l},47956:n=>{var T=function(r,o,x,d,h,l,a){l===void 0&&(l=!0),a===void 0&&(a=!1);var f=[],c=[],u=r.treeMinMax;if(u.minX=o,u.minY=x,u.maxX=o+d,u.maxY=x+h,a&&(c=r.staticTree.search(u)),l&&r.useTree)f=r.tree.search(u);else if(l){var v=r.bodies,g={position:{x:o,y:x},left:o,top:x,right:o+d,bottom:x+h,isCircle:!1},m=r.intersects;v.iterate(function(y){m(y,g)&&f.push(y)})}return c.concat(f)};n.exports=T},62121:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T={setPushable:function(r){return r===void 0&&(r=!0),this.body.pushable=r,this}};n.exports=T},29384:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T={setOffset:function(r,o){return this.body.setOffset(r,o),this},setSize:function(r,o,x){return this.body.setSize(r,o,x),this},setBodySize:function(r,o,x){return this.body.setSize(r,o,x),this},setCircle:function(r,o,x){return this.body.setCircle(r,o,x),this}};n.exports=T},15098:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T={setVelocity:function(r,o){return this.body.setVelocity(r,o),this},setVelocityX:function(r){return this.body.setVelocityX(r),this},setVelocityY:function(r){return this.body.setVelocityY(r),this},setMaxVelocity:function(r,o){return this.body.maxVelocity.set(r,o),this}};n.exports=T},92209:(n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports={Acceleration:r(1093),Angular:r(59023),Bounce:r(62069),Collision:r(78389),Debug:r(87118),Drag:r(52819),Enable:r(4074),Friction:r(40831),Gravity:r(26775),Immovable:r(9437),Mass:r(30621),OverlapCirc:r(72441),OverlapRect:r(47956),Pushable:r(62121),Size:r(29384),Velocity:r(15098)}},37747:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T={DYNAMIC_BODY:0,STATIC_BODY:1,GROUP:2,TILEMAPLAYER:3,FACING_NONE:10,FACING_UP:11,FACING_DOWN:12,FACING_LEFT:13,FACING_RIGHT:14};n.exports=T},20009:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="collide"},36768:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="overlap"},60473:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="pause"},89954:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="resume"},61804:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="tilecollide"},7161:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="tileoverlap"},34689:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="worldbounds"},16006:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="worldstep"},63012:(n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports={COLLIDE:r(20009),OVERLAP:r(36768),PAUSE:r(60473),RESUME:r(89954),TILE_COLLIDE:r(61804),TILE_OVERLAP:r(7161),WORLD_BOUNDS:r(34689),WORLD_STEP:r(16006)}},27064:(n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(37747),x=r(79291),d={ArcadePhysics:r(86689),Body:r(37742),Collider:r(79342),Components:r(92209),Events:r(63012),Factory:r(66022),GetCollidesWith:r(79599),GetOverlapX:r(64897),GetOverlapY:r(45170),SeparateX:r(14087),SeparateY:r(89936),Group:r(60758),Image:r(71289),Sprite:r(13759),StaticBody:r(72624),StaticGroup:r(71464),Tilemap:r(55173),World:r(82248)};d=x(!1,d,o),n.exports=d},96602:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(r,o){return r.collisionCallback?!r.collisionCallback.call(r.collisionCallbackContext,o,r):r.layer.callbacks[r.index]?!r.layer.callbacks[r.index].callback.call(r.layer.callbacks[r.index].callbackContext,o,r):!0};n.exports=T},36294:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(r,o){o<0?(r.blocked.none=!1,r.blocked.left=!0):o>0&&(r.blocked.none=!1,r.blocked.right=!0),r.position.x-=o,r.updateCenter(),r.bounce.x===0?r.velocity.x=0:r.velocity.x=-r.velocity.x*r.bounce.x};n.exports=T},67013:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(r,o){o<0?(r.blocked.none=!1,r.blocked.up=!0):o>0&&(r.blocked.none=!1,r.blocked.down=!0),r.position.y-=o,r.updateCenter(),r.bounce.y===0?r.velocity.y=0:r.velocity.y=-r.velocity.y*r.bounce.y};n.exports=T},40012:(n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(21329),x=r(53442),d=r(2483),h=function(l,a,f,c,u,v,g){var m=c.left,y=c.top,C=c.right,b=c.bottom,M=f.faceLeft||f.faceRight,w=f.faceTop||f.faceBottom;if(g||(M=!0,w=!0),!M&&!w)return!1;var R=0,A=0,L=0,F=1;if(a.deltaAbsX()>a.deltaAbsY()?L=-1:a.deltaAbsX()<a.deltaAbsY()&&(F=-1),a.deltaX()!==0&&a.deltaY()!==0&&M&&w&&(L=Math.min(Math.abs(a.position.x-C),Math.abs(a.right-m)),F=Math.min(Math.abs(a.position.y-b),Math.abs(a.bottom-y))),L<F){if(M&&(R=o(a,f,m,C,v,g),R!==0&&!d(c,a)))return!0;w&&(A=x(a,f,y,b,v,g))}else{if(w&&(A=x(a,f,y,b,v,g),A!==0&&!d(c,a)))return!0;M&&(R=o(a,f,m,C,v,g))}return R!==0||A!==0};n.exports=h},21329:(n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(36294),x=function(d,h,l,a,f,c){var u=0,v=h.faceLeft,g=h.faceRight,m=h.collideLeft,y=h.collideRight;return c||(v=!0,g=!0,m=!0,y=!0),d.deltaX()<0&&y&&d.checkCollision.left?g&&d.x<a&&(u=d.x-a,u<-f&&(u=0)):d.deltaX()>0&&m&&d.checkCollision.right&&v&&d.right>l&&(u=d.right-l,u>f&&(u=0)),u!==0&&(d.customSeparateX?d.overlapX=u:o(d,u)),u};n.exports=x},53442:(n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(67013),x=function(d,h,l,a,f,c){var u=0,v=h.faceTop,g=h.faceBottom,m=h.collideUp,y=h.collideDown;return c||(v=!0,g=!0,m=!0,y=!0),d.deltaY()<0&&y&&d.checkCollision.up?g&&d.y<a&&(u=d.y-a,u<-f&&(u=0)):d.deltaY()>0&&m&&d.checkCollision.down&&v&&d.bottom>l&&(u=d.bottom-l,u>f&&(u=0)),u!==0&&(d.customSeparateY?d.overlapY=u:o(d,u)),u};n.exports=x},2483:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(r,o){return!(o.right<=r.left||o.bottom<=r.top||o.position.x>=r.right||o.position.y>=r.bottom)};n.exports=T},55173:(n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o={ProcessTileCallbacks:r(96602),ProcessTileSeparationX:r(36294),ProcessTileSeparationY:r(67013),SeparateTile:r(40012),TileCheckX:r(21329),TileCheckY:r(53442),TileIntersectsBody:r(2483)};n.exports=o},44563:(n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports={Arcade:r(27064),Matter:r(3875)}},68174:(n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(83419),x=r(26099),d=new o({initialize:function(){this.boundsCenter=new x,this.centerDiff=new x},parseBody:function(h){if(h=h.hasOwnProperty("body")?h.body:h,!h.hasOwnProperty("bounds")||!h.hasOwnProperty("centerOfMass"))return!1;var l=this.boundsCenter,a=this.centerDiff,f=h.bounds.max.x-h.bounds.min.x,c=h.bounds.max.y-h.bounds.min.y,u=f*h.centerOfMass.x,v=c*h.centerOfMass.y;return l.set(f/2,c/2),a.set(u-l.x,v-l.y),!0},getTopLeft:function(h,l,a){if(l===void 0&&(l=0),a===void 0&&(a=0),this.parseBody(h)){var f=this.boundsCenter,c=this.centerDiff;return new x(l+f.x+c.x,a+f.y+c.y)}return!1},getTopCenter:function(h,l,a){if(l===void 0&&(l=0),a===void 0&&(a=0),this.parseBody(h)){var f=this.boundsCenter,c=this.centerDiff;return new x(l+c.x,a+f.y+c.y)}return!1},getTopRight:function(h,l,a){if(l===void 0&&(l=0),a===void 0&&(a=0),this.parseBody(h)){var f=this.boundsCenter,c=this.centerDiff;return new x(l-(f.x-c.x),a+f.y+c.y)}return!1},getLeftCenter:function(h,l,a){if(l===void 0&&(l=0),a===void 0&&(a=0),this.parseBody(h)){var f=this.boundsCenter,c=this.centerDiff;return new x(l+f.x+c.x,a+c.y)}return!1},getCenter:function(h,l,a){if(l===void 0&&(l=0),a===void 0&&(a=0),this.parseBody(h)){var f=this.centerDiff;return new x(l+f.x,a+f.y)}return!1},getRightCenter:function(h,l,a){if(l===void 0&&(l=0),a===void 0&&(a=0),this.parseBody(h)){var f=this.boundsCenter,c=this.centerDiff;return new x(l-(f.x-c.x),a+c.y)}return!1},getBottomLeft:function(h,l,a){if(l===void 0&&(l=0),a===void 0&&(a=0),this.parseBody(h)){var f=this.boundsCenter,c=this.centerDiff;return new x(l+f.x+c.x,a-(f.y-c.y))}return!1},getBottomCenter:function(h,l,a){if(l===void 0&&(l=0),a===void 0&&(a=0),this.parseBody(h)){var f=this.boundsCenter,c=this.centerDiff;return new x(l+c.x,a-(f.y-c.y))}return!1},getBottomRight:function(h,l,a){if(l===void 0&&(l=0),a===void 0&&(a=0),this.parseBody(h)){var f=this.boundsCenter,c=this.centerDiff;return new x(l-(f.x-c.x),a-(f.y-c.y))}return!1}});n.exports=d},19933:(n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(6790);o.Body=r(22562),o.Composite=r(69351),o.World=r(4372),o.Collision=r(52284),o.Detector=r(81388),o.Pairs=r(99561),o.Pair=r(4506),o.Query=r(73296),o.Resolver=r(66272),o.Constraint=r(48140),o.Common=r(53402),o.Engine=r(48413),o.Events=r(35810),o.Sleeping=r(53614),o.Plugin=r(73832),o.Bodies=r(66280),o.Composites=r(74116),o.Axes=r(66615),o.Bounds=r(15647),o.Svg=r(74058),o.Vector=r(31725),o.Vertices=r(41598),o.World.add=o.Composite.add,o.World.remove=o.Composite.remove,o.World.addComposite=o.Composite.addComposite,o.World.addBody=o.Composite.addBody,o.World.addConstraint=o.Composite.addConstraint,o.World.clear=o.Composite.clear,n.exports=o},28137:(n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(66280),x=r(83419),d=r(74116),h=r(48140),l=r(74058),a=r(75803),f=r(23181),c=r(34803),u=r(73834),v=r(19496),g=r(85791),m=r(98713),y=r(41598),C=new x({initialize:function(M){this.world=M,this.scene=M.scene,this.sys=M.scene.sys},rectangle:function(b,M,w,R,A){var L=o.rectangle(b,M,w,R,A);return this.world.add(L),L},trapezoid:function(b,M,w,R,A,L){var F=o.trapezoid(b,M,w,R,A,L);return this.world.add(F),F},circle:function(b,M,w,R,A){var L=o.circle(b,M,w,R,A);return this.world.add(L),L},polygon:function(b,M,w,R,A){var L=o.polygon(b,M,w,R,A);return this.world.add(L),L},fromVertices:function(b,M,w,R,A,L,F){typeof w=="string"&&(w=y.fromPath(w));var G=o.fromVertices(b,M,w,R,A,L,F);return this.world.add(G),G},fromPhysicsEditor:function(b,M,w,R,A){A===void 0&&(A=!0);var L=v.parseBody(b,M,w,R);return A&&!this.world.has(L)&&this.world.add(L),L},fromSVG:function(b,M,w,R,A,L){R===void 0&&(R=1),A===void 0&&(A={}),L===void 0&&(L=!0);for(var F=w.getElementsByTagName("path"),G=[],I=0;I<F.length;I++){var B=l.pathToVertices(F[I],30);R!==1&&y.scale(B,R,R),G.push(B)}var k=o.fromVertices(b,M,G,A);return L&&this.world.add(k),k},fromJSON:function(b,M,w,R,A){R===void 0&&(R={}),A===void 0&&(A=!0);var L=g.parseBody(b,M,w,R);return L&&A&&this.world.add(L),L},imageStack:function(b,M,w,R,A,L,F,G,I){F===void 0&&(F=0),G===void 0&&(G=0),I===void 0&&(I={});var B=this.world,k=this.sys.displayList;I.addToWorld=!1;var U=d.stack(w,R,A,L,F,G,function(H,X){var j=new f(B,H,X,b,M,I);return k.add(j),j.body});return B.add(U),U},stack:function(b,M,w,R,A,L,F){var G=d.stack(b,M,w,R,A,L,F);return this.world.add(G),G},pyramid:function(b,M,w,R,A,L,F){var G=d.pyramid(b,M,w,R,A,L,F);return this.world.add(G),G},chain:function(b,M,w,R,A,L){return d.chain(b,M,w,R,A,L)},mesh:function(b,M,w,R,A){return d.mesh(b,M,w,R,A)},newtonsCradle:function(b,M,w,R,A){var L=d.newtonsCradle(b,M,w,R,A);return this.world.add(L),L},car:function(b,M,w,R,A){var L=d.car(b,M,w,R,A);return this.world.add(L),L},softBody:function(b,M,w,R,A,L,F,G,I,B){var k=d.softBody(b,M,w,R,A,L,F,G,I,B);return this.world.add(k),k},joint:function(b,M,w,R,A){return this.constraint(b,M,w,R,A)},spring:function(b,M,w,R,A){return this.constraint(b,M,w,R,A)},constraint:function(b,M,w,R,A){R===void 0&&(R=1),A===void 0&&(A={}),A.bodyA=b.type==="body"?b:b.body,A.bodyB=M.type==="body"?M:M.body,isNaN(w)||(A.length=w),A.stiffness=R;var L=h.create(A);return this.world.add(L),L},worldConstraint:function(b,M,w,R){w===void 0&&(w=1),R===void 0&&(R={}),R.bodyB=b.type==="body"?b:b.body,isNaN(M)||(R.length=M),R.stiffness=w;var A=h.create(R);return this.world.add(A),A},mouseSpring:function(b){return this.pointerConstraint(b)},pointerConstraint:function(b){b===void 0&&(b={}),b.hasOwnProperty("render")||(b.render={visible:!1});var M=new m(this.scene,this.world,b);return this.world.add(M.constraint),M},image:function(b,M,w,R,A){var L=new f(this.world,b,M,w,R,A);return this.sys.displayList.add(L),L},tileBody:function(b,M){return new u(this.world,b,M)},sprite:function(b,M,w,R,A){var L=new c(this.world,b,M,w,R,A);return this.sys.displayList.add(L),this.sys.updateList.add(L),L},gameObject:function(b,M,w){return a(this.world,b,M,w)},destroy:function(){this.world=null,this.scene=null,this.sys=null}});n.exports=C},75803:(n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(31884),x=r(95540),d=r(26099);function h(a){return!!a.get&&typeof a.get=="function"||!!a.set&&typeof a.set=="function"}var l=function(a,f,c,u){c===void 0&&(c={}),u===void 0&&(u=!0);var v=f.x,g=f.y;f.body={temp:!0,position:{x:v,y:g}};var m=[o.Bounce,o.Collision,o.Force,o.Friction,o.Gravity,o.Mass,o.Sensor,o.SetBody,o.Sleep,o.Static,o.Transform,o.Velocity];if(m.forEach(function(C){for(var b in C)h(C[b])?Object.defineProperty(f,b,{get:C[b].get,set:C[b].set}):Object.defineProperty(f,b,{value:C[b]})}),f.world=a,f._tempVec2=new d(v,g),c.hasOwnProperty("type")&&c.type==="body")f.setExistingBody(c,u);else{var y=x(c,"shape",null);y||(y="rectangle"),c.addToWorld=u,f.setBody(y,c)}return f};n.exports=l},23181:(n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(83419),x=r(31884),d=r(95643),h=r(95540),l=r(88571),a=r(72699),f=r(26099),c=new o({Extends:l,Mixins:[x.Bounce,x.Collision,x.Force,x.Friction,x.Gravity,x.Mass,x.Sensor,x.SetBody,x.Sleep,x.Static,x.Transform,x.Velocity,a],initialize:function(v,g,m,y,C,b){d.call(this,v.scene,"Image"),this._crop=this.resetCropObject(),this.setTexture(y,C),this.setSizeToFrame(),this.setOrigin(),this.world=v,this._tempVec2=new f(g,m);var M=h(b,"shape",null);M?this.setBody(M,b):this.setRectangle(this.width,this.height,b),this.setPosition(g,m),this.initPipeline(),this.initPostPipeline(!0)}});n.exports=c},42045:(n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(60461),x=r(66615),d=r(66280),h=r(22562),l=r(68174),a=r(15647),f=r(83419),c=r(52284),u=r(53402),v=r(69351),g=r(74116),m=r(48140),y=r(81388),C=r(20339),b=r(28137),M=r(95540),w=r(35154),R=r(46975),A=r(4506),L=r(99561),F=r(37277),G=r(73296),I=r(66272),B=r(44594),k=r(74058),U=r(31725),H=r(41598),X=r(68243);u.setDecomp(r(55973));var j=new f({initialize:function(Y){this.scene=Y,this.systems=Y.sys,this.config=this.getConfig(),this.world,this.add,this.bodyBounds,this.body=h,this.composite=v,this.collision=c,this.detector=y,this.pair=A,this.pairs=L,this.query=G,this.resolver=I,this.constraint=m,this.bodies=d,this.composites=g,this.axes=x,this.bounds=a,this.svg=k,this.vector=U,this.vertices=H,this.verts=H,this._tempVec2=U.create(),I._restingThresh=w(this.config,"restingThresh",4),I._restingThreshTangent=w(this.config,"restingThreshTangent",6),I._positionDampen=w(this.config,"positionDampen",.9),I._positionWarming=w(this.config,"positionWarming",.8),I._frictionNormalMultiplier=w(this.config,"frictionNormalMultiplier",5),Y.sys.events.once(B.BOOT,this.boot,this),Y.sys.events.on(B.START,this.start,this)},boot:function(){this.world=new X(this.scene,this.config),this.add=new b(this.world),this.bodyBounds=new l,this.systems.events.once(B.DESTROY,this.destroy,this)},start:function(){this.world||(this.world=new X(this.scene,this.config),this.add=new b(this.world));var J=this.systems.events;J.on(B.UPDATE,this.world.update,this.world),J.on(B.POST_UPDATE,this.world.postUpdate,this.world),J.once(B.SHUTDOWN,this.shutdown,this)},getConfig:function(){var J=this.systems.game.config.physics,Y=this.systems.settings.physics,$=R(M(Y,"matter",{}),M(J,"matter",{}));return $},pause:function(){return this.world.pause()},resume:function(){return this.world.resume()},set60Hz:function(){return this.world.getDelta=this.world.update60Hz,this.world.autoUpdate=!0,this},set30Hz:function(){return this.world.getDelta=this.world.update30Hz,this.world.autoUpdate=!0,this},step:function(J,Y){this.world.step(J,Y)},containsPoint:function(J,Y,$){J=this.getMatterBodies(J);var z=U.create(Y,$),V=G.point(J,z);return V.length>0},intersectPoint:function(J,Y,$){$=this.getMatterBodies($);var z=U.create(J,Y),V=[],K=G.point($,z);return K.forEach(function(Q){V.indexOf(Q)===-1&&V.push(Q)}),V},intersectRect:function(J,Y,$,z,V,K){V===void 0&&(V=!1),K=this.getMatterBodies(K);var Q={min:{x:J,y:Y},max:{x:J+$,y:Y+z}},_=[],tt=G.region(K,Q,V);return tt.forEach(function(rt){_.indexOf(rt)===-1&&_.push(rt)}),_},intersectRay:function(J,Y,$,z,V,K){V===void 0&&(V=1),K=this.getMatterBodies(K);for(var Q=[],_=G.ray(K,U.create(J,Y),U.create($,z),V),tt=0;tt<_.length;tt++)Q.push(_[tt].body);return Q},intersectBody:function(J,Y){Y=this.getMatterBodies(Y);for(var $=[],z=G.collides(J,Y),V=0;V<z.length;V++){var K=z[V];K.bodyA===J?$.push(K.bodyB):$.push(K.bodyA)}return $},overlap:function(J,Y,$,z,V){$===void 0&&($=null),z===void 0&&(z=null),V===void 0&&(V=$),Array.isArray(J)||(J=[J]),J=this.getMatterBodies(J),Y=this.getMatterBodies(Y);for(var K=!1,Q=0;Q<J.length;Q++)for(var _=J[Q],tt=G.collides(_,Y),rt=0;rt<tt.length;rt++){var ot=tt[rt],ft=ot.bodyA.id===_.id?ot.bodyB:ot.bodyA;if(!z||z.call(V,_,ft,ot)){if(K=!0,$)$.call(V,_,ft,ot);else if(!z)return!0}}return K},setCollisionCategory:function(J,Y){return J=this.getMatterBodies(J),J.forEach(function($){$.collisionFilter.category=Y}),this},setCollisionGroup:function(J,Y){return J=this.getMatterBodies(J),J.forEach(function($){$.collisionFilter.group=Y}),this},setCollidesWith:function(J,Y){J=this.getMatterBodies(J);var $=0;if(!Array.isArray(Y))$=Y;else for(var z=0;z<Y.length;z++)$|=Y[z];return J.forEach(function(V){V.collisionFilter.mask=$}),this},getMatterBodies:function(J){if(!J)return this.world.getAllBodies();Array.isArray(J)||(J=[J]);for(var Y=[],$=0;$<J.length;$++){var z=J[$].hasOwnProperty("body")?J[$].body:J[$];Y.push(z)}return Y},setVelocity:function(J,Y,$){J=this.getMatterBodies(J);var z=this._tempVec2;return z.x=Y,z.y=$,J.forEach(function(V){h.setVelocity(V,z)}),this},setVelocityX:function(J,Y){J=this.getMatterBodies(J);var $=this._tempVec2;return $.x=Y,J.forEach(function(z){$.y=z.velocity.y,h.setVelocity(z,$)}),this},setVelocityY:function(J,Y){J=this.getMatterBodies(J);var $=this._tempVec2;return $.y=Y,J.forEach(function(z){$.x=z.velocity.x,h.setVelocity(z,$)}),this},setAngularVelocity:function(J,Y){return J=this.getMatterBodies(J),J.forEach(function($){h.setAngularVelocity($,Y)}),this},applyForce:function(J,Y){J=this.getMatterBodies(J);var $=this._tempVec2;return J.forEach(function(z){$.x=z.position.x,$.y=z.position.y,h.applyForce(z,$,Y)}),this},applyForceFromPosition:function(J,Y,$,z){J=this.getMatterBodies(J);var V=this._tempVec2;return J.forEach(function(K){z===void 0&&(z=K.angle),V.x=$*Math.cos(z),V.y=$*Math.sin(z),h.applyForce(K,Y,V)}),this},applyForceFromAngle:function(J,Y,$){J=this.getMatterBodies(J);var z=this._tempVec2;return J.forEach(function(V){$===void 0&&($=V.angle),z.x=Y*Math.cos($),z.y=Y*Math.sin($),h.applyForce(V,{x:V.position.x,y:V.position.y},z)}),this},getConstraintLength:function(J){var Y=J.pointA.x,$=J.pointA.y,z=J.pointB.x,V=J.pointB.y;return J.bodyA&&(Y+=J.bodyA.position.x,$+=J.bodyA.position.y),J.bodyB&&(z+=J.bodyB.position.x,V+=J.bodyB.position.y),C(Y,$,z,V)},alignBody:function(J,Y,$,z){J=J.hasOwnProperty("body")?J.body:J;var V;switch(z){case o.TOP_LEFT:case o.LEFT_TOP:V=this.bodyBounds.getTopLeft(J,Y,$);break;case o.TOP_CENTER:V=this.bodyBounds.getTopCenter(J,Y,$);break;case o.TOP_RIGHT:case o.RIGHT_TOP:V=this.bodyBounds.getTopRight(J,Y,$);break;case o.LEFT_CENTER:V=this.bodyBounds.getLeftCenter(J,Y,$);break;case o.CENTER:V=this.bodyBounds.getCenter(J,Y,$);break;case o.RIGHT_CENTER:V=this.bodyBounds.getRightCenter(J,Y,$);break;case o.LEFT_BOTTOM:case o.BOTTOM_LEFT:V=this.bodyBounds.getBottomLeft(J,Y,$);break;case o.BOTTOM_CENTER:V=this.bodyBounds.getBottomCenter(J,Y,$);break;case o.BOTTOM_RIGHT:case o.RIGHT_BOTTOM:V=this.bodyBounds.getBottomRight(J,Y,$);break}return V&&h.setPosition(J,V),this},shutdown:function(){var J=this.systems.events;this.world&&(J.off(B.UPDATE,this.world.update,this.world),J.off(B.POST_UPDATE,this.world.postUpdate,this.world)),J.off(B.SHUTDOWN,this.shutdown,this),this.add&&this.add.destroy(),this.world&&this.world.destroy(),this.add=null,this.world=null},destroy:function(){this.shutdown(),this.scene.sys.events.off(B.START,this.start,this),this.scene=null,this.systems=null}});F.register("MatterPhysics",j,"matterPhysics"),n.exports=j},34803:(n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(9674),x=r(83419),d=r(31884),h=r(95643),l=r(95540),a=r(72699),f=r(68287),c=r(26099),u=new x({Extends:f,Mixins:[d.Bounce,d.Collision,d.Force,d.Friction,d.Gravity,d.Mass,d.Sensor,d.SetBody,d.Sleep,d.Static,d.Transform,d.Velocity,a],initialize:function(g,m,y,C,b,M){h.call(this,g.scene,"Sprite"),this._crop=this.resetCropObject(),this.anims=new o(this),this.setTexture(C,b),this.setSizeToFrame(),this.setOrigin(),this.world=g,this._tempVec2=new c(m,y);var w=l(M,"shape",null);w?this.setBody(w,M):this.setRectangle(this.width,this.height,M),this.setPosition(m,y),this.initPipeline(),this.initPostPipeline(!0)}});n.exports=u},73834:(n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(66280),x=r(22562),d=r(83419),h=r(31884),l=r(62644),a=r(50792),f=r(95540),c=r(97022),u=r(41598),v=new d({Extends:a,Mixins:[h.Bounce,h.Collision,h.Friction,h.Gravity,h.Mass,h.Sensor,h.Sleep,h.Static],initialize:function(m,y,C){a.call(this),this.tile=y,this.world=m,y.physics.matterBody&&y.physics.matterBody.destroy(),y.physics.matterBody=this;var b=f(C,"body",null),M=f(C,"addToWorld",!0);if(b)this.setBody(b,M);else{var w=y.getCollisionGroup(),R=f(w,"objects",[]);R.length>0?this.setFromTileCollision(C):this.setFromTileRectangle(C)}if(y.flipX||y.flipY){var A={x:y.getCenterX(),y:y.getCenterY()},L=y.flipX?-1:1,F=y.flipY?-1:1;x.scale(b,L,F,A)}},setFromTileRectangle:function(g){g===void 0&&(g={}),c(g,"isStatic")||(g.isStatic=!0),c(g,"addToWorld")||(g.addToWorld=!0);var m=this.tile.getBounds(),y=m.x+m.width/2,C=m.y+m.height/2,b=o.rectangle(y,C,m.width,m.height,g);return this.setBody(b,g.addToWorld),this},setFromTileCollision:function(g){g===void 0&&(g={}),c(g,"isStatic")||(g.isStatic=!0),c(g,"addToWorld")||(g.addToWorld=!0);for(var m=this.tile.tilemapLayer.scaleX,y=this.tile.tilemapLayer.scaleY,C=this.tile.getLeft(),b=this.tile.getTop(),M=this.tile.getCollisionGroup(),w=f(M,"objects",[]),R=[],A=0;A<w.length;A++){var L=w[A],F=C+L.x*m,G=b+L.y*y,I=L.width*m,B=L.height*y,k=null;if(L.rectangle)k=o.rectangle(F+I/2,G+B/2,I,B,g);else if(L.ellipse)k=o.circle(F+I/2,G+B/2,I/2,g);else if(L.polygon||L.polyline){var U=L.polygon?L.polygon:L.polyline,H=U.map(function(Y){return{x:Y.x*m,y:Y.y*y}}),X=u.create(H),j=u.centre(X);F+=j.x,G+=j.y,k=o.fromVertices(F,G,X,g)}k&&R.push(k)}if(R.length===1)this.setBody(R[0],g.addToWorld);else if(R.length>1){var J=l(g);J.parts=R,this.setBody(x.create(J),J.addToWorld)}return this},setBody:function(g,m){return m===void 0&&(m=!0),this.body&&this.removeBody(),this.body=g,this.body.gameObject=this,m&&this.world.add(this.body),this},removeBody:function(){return this.body&&(this.world.remove(this.body),this.body.gameObject=void 0,this.body=void 0),this},destroy:function(){this.removeBody(),this.tile.physics.matterBody=void 0,this.removeAllListeners()}});n.exports=v},19496:(n,T,r)=>{/**
 * @author       Joachim Grill <joachim@codeandweb.com>
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2018 CodeAndWeb GmbH
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(66280),x=r(22562),d=r(53402),h=r(95540),l=r(41598),a={parseBody:function(f,c,u,v){v===void 0&&(v={});for(var g=h(u,"fixtures",[]),m=[],y=0;y<g.length;y++)for(var C=this.parseFixture(g[y]),b=0;b<C.length;b++)m.push(C[b]);var M=d.clone(u,!0);d.extend(M,v,!0),delete M.fixtures,delete M.type;var w=x.create(M);return x.setParts(w,m),x.setPosition(w,{x:f,y:c}),w},parseFixture:function(f){var c=d.extend({},!1,f);delete c.circle,delete c.vertices;var u;if(f.circle){var v=h(f.circle,"x"),g=h(f.circle,"y"),m=h(f.circle,"radius");u=[o.circle(v,g,m,c)]}else f.vertices&&(u=this.parseVertices(f.vertices,c));return u},parseVertices:function(f,c){c===void 0&&(c={});for(var u=[],v=0;v<f.length;v++)l.clockwiseSort(f[v]),u.push(x.create(d.extend({position:l.centre(f[v]),vertices:f[v]},c)));return o.flagCoincidentParts(u)}};n.exports=a},85791:(n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(66280),x=r(22562),d={parseBody:function(h,l,a,f){f===void 0&&(f={});var c,u=a.vertices;if(u.length===1)f.vertices=u[0],c=x.create(f),o.flagCoincidentParts(c.parts);else{for(var v=[],g=0;g<u.length;g++){var m=x.create({vertices:u[g]});v.push(m)}o.flagCoincidentParts(v),f.parts=v,c=x.create(f)}return c.label=a.label,x.setPosition(c,{x:h,y:l}),c}};n.exports=d},98713:(n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(15647),x=r(83419),d=r(69351),h=r(48140),l=r(81388),a=r(1121),f=r(8214),c=r(46975),u=r(53614),v=r(26099),g=r(41598),m=new x({initialize:function(C,b,M){M===void 0&&(M={});var w={label:"Pointer Constraint",pointA:{x:0,y:0},pointB:{x:0,y:0},length:.01,stiffness:.1,angularStiffness:1,collisionFilter:{category:1,mask:4294967295,group:0}};this.scene=C,this.world=b,this.camera=null,this.pointer=null,this.active=!0,this.position=new v,this.body=null,this.part=null,this.constraint=h.create(c(M,w)),this.world.on(a.BEFORE_UPDATE,this.update,this),C.sys.input.on(f.POINTER_DOWN,this.onDown,this),C.sys.input.on(f.POINTER_UP,this.onUp,this)},onDown:function(y){this.pointer||(this.pointer=y,this.camera=y.camera)},onUp:function(y){y===this.pointer&&(this.pointer=null)},getBody:function(y){var C=this.position,b=this.constraint;this.camera.getWorldPoint(y.x,y.y,C);for(var M=d.allBodies(this.world.localWorld),w=0;w<M.length;w++){var R=M[w];if(!R.ignorePointer&&o.contains(R.bounds,C)&&l.canCollide(R.collisionFilter,b.collisionFilter)&&this.hitTestBody(R,C))return this.world.emit(a.DRAG_START,R,this.part,this),!0}return!1},hitTestBody:function(y,C){for(var b=this.constraint,M=y.parts.length,w=M>1?1:0,R=w;R<M;R++){var A=y.parts[R];if(g.contains(A.vertices,C))return b.pointA=C,b.pointB={x:C.x-y.position.x,y:C.y-y.position.y},b.bodyB=y,b.angleB=y.angle,u.set(y,!1),this.part=A,this.body=y,!0}return!1},update:function(){var y=this.pointer,C=this.body;if(!this.active||!y){C&&this.stopDrag();return}if(!y.isDown&&C){this.stopDrag();return}else if(y.isDown){if(!this.camera||!C&&!this.getBody(y))return;C=this.body;var b=this.position,M=this.constraint;this.camera.getWorldPoint(y.x,y.y,b),M.pointA.x=b.x,M.pointA.y=b.y,u.set(C,!1),this.world.emit(a.DRAG,C,this)}},stopDrag:function(){var y=this.body,C=this.constraint;C.bodyB=null,C.pointB=null,this.pointer=null,this.body=null,this.part=null,y&&this.world.emit(a.DRAG_END,y,this)},destroy:function(){this.world.removeConstraint(this.constraint),this.pointer=null,this.constraint=null,this.body=null,this.part=null,this.world.off(a.BEFORE_UPDATE,this.update),this.scene.sys.input.off(f.POINTER_DOWN,this.onDown,this),this.scene.sys.input.off(f.POINTER_UP,this.onUp,this)}});n.exports=m},68243:(n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(66280),x=r(22562),d=r(83419),h=r(53402),l=r(69351),a=r(48413),f=r(50792),c=r(1121),u=r(95540),v=r(35154),g=r(22562),m=r(35810),y=r(73834),C=r(4372),b=r(13037),M=r(31725),w=new d({Extends:f,initialize:function(A,L){f.call(this),this.scene=A,this.engine=a.create(L),this.localWorld=this.engine.world;var F=v(L,"gravity",null);F?this.setGravity(F.x,F.y,F.scale):F===!1&&this.setGravity(0,0,0),this.walls={left:null,right:null,top:null,bottom:null},this.enabled=v(L,"enabled",!0),this.getDelta=v(L,"getDelta",this.update60Hz);var G=u(L,"runner",{}),I=u(G,"fps",!1);I&&(G.delta=1e3/u(G,"fps",60)),this.runner=b.create(G),this.autoUpdate=v(L,"autoUpdate",!0);var B=v(L,"debug",!1);if(this.drawDebug=typeof B=="object"?!0:B,this.debugGraphic,this.debugConfig={showAxes:u(B,"showAxes",!1),showAngleIndicator:u(B,"showAngleIndicator",!1),angleColor:u(B,"angleColor",15208787),showBroadphase:u(B,"showBroadphase",!1),broadphaseColor:u(B,"broadphaseColor",16757760),showBounds:u(B,"showBounds",!1),boundsColor:u(B,"boundsColor",16777215),showVelocity:u(B,"showVelocity",!1),velocityColor:u(B,"velocityColor",44783),showCollisions:u(B,"showCollisions",!1),collisionColor:u(B,"collisionColor",16094476),showSeparations:u(B,"showSeparations",!1),separationColor:u(B,"separationColor",16753920),showBody:u(B,"showBody",!0),showStaticBody:u(B,"showStaticBody",!0),showInternalEdges:u(B,"showInternalEdges",!1),renderFill:u(B,"renderFill",!1),renderLine:u(B,"renderLine",!0),fillColor:u(B,"fillColor",1075465),fillOpacity:u(B,"fillOpacity",1),lineColor:u(B,"lineColor",2678297),lineOpacity:u(B,"lineOpacity",1),lineThickness:u(B,"lineThickness",1),staticFillColor:u(B,"staticFillColor",857979),staticLineColor:u(B,"staticLineColor",1255396),showSleeping:u(B,"showSleeping",!1),staticBodySleepOpacity:u(B,"staticBodySleepOpacity",.7),sleepFillColor:u(B,"sleepFillColor",4605510),sleepLineColor:u(B,"sleepLineColor",10066585),showSensors:u(B,"showSensors",!0),sensorFillColor:u(B,"sensorFillColor",857979),sensorLineColor:u(B,"sensorLineColor",1255396),showPositions:u(B,"showPositions",!0),positionSize:u(B,"positionSize",4),positionColor:u(B,"positionColor",14697178),showJoint:u(B,"showJoint",!0),jointColor:u(B,"jointColor",14737474),jointLineOpacity:u(B,"jointLineOpacity",1),jointLineThickness:u(B,"jointLineThickness",2),pinSize:u(B,"pinSize",4),pinColor:u(B,"pinColor",4382944),springColor:u(B,"springColor",14697184),anchorColor:u(B,"anchorColor",15724527),anchorSize:u(B,"anchorSize",4),showConvexHulls:u(B,"showConvexHulls",!1),hullColor:u(B,"hullColor",14091216)},this.drawDebug&&this.createDebugGraphic(),this.setEventsProxy(),u(L,"setBounds",!1)){var k=L.setBounds;if(typeof k=="boolean")this.setBounds();else{var U=u(k,"x",0),H=u(k,"y",0),X=u(k,"width",A.sys.scale.width),j=u(k,"height",A.sys.scale.height),J=u(k,"thickness",64),Y=u(k,"left",!0),$=u(k,"right",!0),z=u(k,"top",!0),V=u(k,"bottom",!0);this.setBounds(U,H,X,j,J,Y,$,z,V)}}},setCompositeRenderStyle:function(R){var A=R.bodies,L=R.constraints,F=R.composites,G,I,B;for(G=0;G<A.length;G++)I=A[G],B=I.render,this.setBodyRenderStyle(I,B.lineColor,B.lineOpacity,B.lineThickness,B.fillColor,B.fillOpacity);for(G=0;G<L.length;G++)I=L[G],B=I.render,this.setConstraintRenderStyle(I,B.lineColor,B.lineOpacity,B.lineThickness,B.pinSize,B.anchorColor,B.anchorSize);for(G=0;G<F.length;G++)I=F[G],this.setCompositeRenderStyle(I);return this},setBodyRenderStyle:function(R,A,L,F,G,I){var B=R.render,k=this.debugConfig;return B?(A==null&&(A=R.isStatic?k.staticLineColor:k.lineColor),L==null&&(L=k.lineOpacity),F==null&&(F=k.lineThickness),G==null&&(G=R.isStatic?k.staticFillColor:k.fillColor),I==null&&(I=k.fillOpacity),A!==!1&&(B.lineColor=A),L!==!1&&(B.lineOpacity=L),F!==!1&&(B.lineThickness=F),G!==!1&&(B.fillColor=G),I!==!1&&(B.fillOpacity=I),this):this},setConstraintRenderStyle:function(R,A,L,F,G,I,B){var k=R.render,U=this.debugConfig;if(!k)return this;if(A==null){var H=k.type;H==="line"?A=U.jointColor:H==="pin"?A=U.pinColor:H==="spring"&&(A=U.springColor)}return L==null&&(L=U.jointLineOpacity),F==null&&(F=U.jointLineThickness),G==null&&(G=U.pinSize),I==null&&(I=U.anchorColor),B==null&&(B=U.anchorSize),A!==!1&&(k.lineColor=A),L!==!1&&(k.lineOpacity=L),F!==!1&&(k.lineThickness=F),G!==!1&&(k.pinSize=G),I!==!1&&(k.anchorColor=I),B!==!1&&(k.anchorSize=B),this},setEventsProxy:function(){var R=this,A=this.engine,L=this.localWorld;this.drawDebug&&(m.on(L,"compositeModified",function(F){R.setCompositeRenderStyle(F)}),m.on(L,"beforeAdd",function(F){for(var G=[].concat(F.object),I=0;I<G.length;I++){var B=G[I],k=B.render;B.type==="body"?R.setBodyRenderStyle(B,k.lineColor,k.lineOpacity,k.lineThickness,k.fillColor,k.fillOpacity):B.type==="composite"?R.setCompositeRenderStyle(B):B.type==="constraint"&&R.setConstraintRenderStyle(B,k.lineColor,k.lineOpacity,k.lineThickness,k.pinSize,k.anchorColor,k.anchorSize)}})),m.on(L,"beforeAdd",function(F){R.emit(c.BEFORE_ADD,F)}),m.on(L,"afterAdd",function(F){R.emit(c.AFTER_ADD,F)}),m.on(L,"beforeRemove",function(F){R.emit(c.BEFORE_REMOVE,F)}),m.on(L,"afterRemove",function(F){R.emit(c.AFTER_REMOVE,F)}),m.on(A,"beforeUpdate",function(F){R.emit(c.BEFORE_UPDATE,F)}),m.on(A,"afterUpdate",function(F){R.emit(c.AFTER_UPDATE,F)}),m.on(A,"collisionStart",function(F){var G=F.pairs,I,B;G.length>0&&G.map(function(k){I=k.bodyA,B=k.bodyB,I.gameObject&&I.gameObject.emit("collide",I,B,k),B.gameObject&&B.gameObject.emit("collide",B,I,k),m.trigger(I,"onCollide",{pair:k}),m.trigger(B,"onCollide",{pair:k}),I.onCollideCallback&&I.onCollideCallback(k),B.onCollideCallback&&B.onCollideCallback(k),I.onCollideWith[B.id]&&I.onCollideWith[B.id](B,k),B.onCollideWith[I.id]&&B.onCollideWith[I.id](I,k)}),R.emit(c.COLLISION_START,F,I,B)}),m.on(A,"collisionActive",function(F){var G=F.pairs,I,B;G.length>0&&G.map(function(k){I=k.bodyA,B=k.bodyB,I.gameObject&&I.gameObject.emit("collideActive",I,B,k),B.gameObject&&B.gameObject.emit("collideActive",B,I,k),m.trigger(I,"onCollideActive",{pair:k}),m.trigger(B,"onCollideActive",{pair:k}),I.onCollideActiveCallback&&I.onCollideActiveCallback(k),B.onCollideActiveCallback&&B.onCollideActiveCallback(k)}),R.emit(c.COLLISION_ACTIVE,F,I,B)}),m.on(A,"collisionEnd",function(F){var G=F.pairs,I,B;G.length>0&&G.map(function(k){I=k.bodyA,B=k.bodyB,I.gameObject&&I.gameObject.emit("collideEnd",I,B,k),B.gameObject&&B.gameObject.emit("collideEnd",B,I,k),m.trigger(I,"onCollideEnd",{pair:k}),m.trigger(B,"onCollideEnd",{pair:k}),I.onCollideEndCallback&&I.onCollideEndCallback(k),B.onCollideEndCallback&&B.onCollideEndCallback(k)}),R.emit(c.COLLISION_END,F,I,B)})},setBounds:function(R,A,L,F,G,I,B,k,U){return R===void 0&&(R=0),A===void 0&&(A=0),L===void 0&&(L=this.scene.sys.scale.width),F===void 0&&(F=this.scene.sys.scale.height),G===void 0&&(G=64),I===void 0&&(I=!0),B===void 0&&(B=!0),k===void 0&&(k=!0),U===void 0&&(U=!0),this.updateWall(I,"left",R-G,A-G,G,F+G*2),this.updateWall(B,"right",R+L,A-G,G,F+G*2),this.updateWall(k,"top",R,A-G,L,G),this.updateWall(U,"bottom",R,A+F,L,G),this},updateWall:function(R,A,L,F,G,I){var B=this.walls[A];R?(B&&C.remove(this.localWorld,B),L+=G/2,F+=I/2,this.walls[A]=this.create(L,F,G,I,{isStatic:!0,friction:0,frictionStatic:0})):(B&&C.remove(this.localWorld,B),this.walls[A]=null)},createDebugGraphic:function(){var R=this.scene.sys.add.graphics({x:0,y:0});return R.setDepth(Number.MAX_VALUE),this.debugGraphic=R,this.drawDebug=!0,R},disableGravity:function(){return this.localWorld.gravity.x=0,this.localWorld.gravity.y=0,this.localWorld.gravity.scale=0,this},setGravity:function(R,A,L){return R===void 0&&(R=0),A===void 0&&(A=1),L===void 0&&(L=.001),this.localWorld.gravity.x=R,this.localWorld.gravity.y=A,this.localWorld.gravity.scale=L,this},create:function(R,A,L,F,G){var I=o.rectangle(R,A,L,F,G);return C.add(this.localWorld,I),I},add:function(R){return C.add(this.localWorld,R),this},remove:function(R,A){Array.isArray(R)||(R=[R]);for(var L=0;L<R.length;L++){var F=R[L],G=F.body?F.body:F;l.remove(this.localWorld,G,A)}return this},removeConstraint:function(R,A){return l.remove(this.localWorld,R,A),this},convertTilemapLayer:function(R,A){var L=R.layer,F=R.getTilesWithin(0,0,L.width,L.height,{isColliding:!0});return this.convertTiles(F,A),this},convertTiles:function(R,A){if(R.length===0)return this;for(var L=0;L<R.length;L++)new y(this,R[L],A);return this},nextGroup:function(R){return g.nextGroup(R)},nextCategory:function(){return g.nextCategory()},pause:function(){return this.enabled=!1,this.emit(c.PAUSE),this},resume:function(){return this.enabled=!0,this.runner.timeLastTick=h.now(),this.emit(c.RESUME),this},update:function(R){if(!(!this.enabled||!this.autoUpdate)){var A=this.engine,L=this.runner,F=h.now(),G=L.delta,I=0,B=R-L.timeLastTick;if((!B||!L.timeLastTick||B>Math.max(b._maxFrameDelta,L.maxFrameTime))&&(B=L.frameDelta||b._frameDeltaFallback),L.frameDeltaSmoothing){L.frameDeltaHistory.push(B),L.frameDeltaHistory=L.frameDeltaHistory.slice(-L.frameDeltaHistorySize);var k=L.frameDeltaHistory.slice(0).sort(),U=L.frameDeltaHistory.slice(k.length*b._smoothingLowerBound,k.length*b._smoothingUpperBound),H=b._mean(U);B=H||B}L.frameDeltaSnapping&&(B=1e3/Math.round(1e3/B)),L.frameDelta=B,L.timeLastTick=R,L.timeBuffer+=L.frameDelta,L.timeBuffer=h.clamp(L.timeBuffer,0,L.frameDelta+G*b._timeBufferMargin),L.lastUpdatesDeferred=0;for(var X=L.maxUpdates||Math.ceil(L.maxFrameTime/G),j=h.now();G>0&&L.timeBuffer>=G*b._timeBufferMargin;){a.update(A,G),L.timeBuffer-=G,I+=1;var J=h.now()-F,Y=h.now()-j,$=J+b._elapsedNextEstimate*Y/I;if(I>=X||$>L.maxFrameTime){L.lastUpdatesDeferred=Math.round(Math.max(0,L.timeBuffer/G-b._timeBufferMargin));break}}}},step:function(R){a.update(this.engine,R)},update60Hz:function(){return 1e3/60},update30Hz:function(){return 1e3/30},has:function(R){var A=R.hasOwnProperty("body")?R.body:R;return l.get(this.localWorld,A.id,A.type)!==null},getAllBodies:function(){return l.allBodies(this.localWorld)},getAllConstraints:function(){return l.allConstraints(this.localWorld)},getAllComposites:function(){return l.allComposites(this.localWorld)},postUpdate:function(){if(this.drawDebug){var R=this.debugConfig,A=this.engine,L=this.debugGraphic,F=l.allBodies(this.localWorld);this.debugGraphic.clear(),R.showBroadphase&&A.broadphase.controller&&this.renderGrid(A.broadphase,L,R.broadphaseColor,.5),R.showBounds&&this.renderBodyBounds(F,L,R.boundsColor,.5),(R.showBody||R.showStaticBody)&&this.renderBodies(F),R.showJoint&&this.renderJoints(),(R.showAxes||R.showAngleIndicator)&&this.renderBodyAxes(F,L,R.showAxes,R.angleColor,.5),R.showVelocity&&this.renderBodyVelocity(F,L,R.velocityColor,1,2),R.showSeparations&&this.renderSeparations(A.pairs.list,L,R.separationColor),R.showCollisions&&this.renderCollisions(A.pairs.list,L,R.collisionColor)}},renderGrid:function(R,A,L,F){A.lineStyle(1,L,F);for(var G=h.keys(R.buckets),I=0;I<G.length;I++){var B=G[I];if(!(R.buckets[B].length<2)){var k=B.split(/C|R/);A.strokeRect(parseInt(k[1],10)*R.bucketWidth,parseInt(k[2],10)*R.bucketHeight,R.bucketWidth,R.bucketHeight)}}return this},renderSeparations:function(R,A,L){A.lineStyle(1,L,1);for(var F=0;F<R.length;F++){var G=R[F];if(G.isActive){var I=G.collision,B=I.bodyA,k=I.bodyB,U=B.position,H=k.position,X=I.penetration,j=!B.isStatic&&!k.isStatic?4:1;k.isStatic&&(j=0),A.lineBetween(H.x,H.y,H.x-X.x*j,H.y-X.y*j),j=!B.isStatic&&!k.isStatic?4:1,B.isStatic&&(j=0),A.lineBetween(U.x,U.y,U.x-X.x*j,U.y-X.y*j)}}return this},renderCollisions:function(R,A,L){A.lineStyle(1,L,.5),A.fillStyle(L,1);var F,G;for(F=0;F<R.length;F++)if(G=R[F],!!G.isActive)for(var I=0;I<G.contactCount;I++){var B=G.contacts[I],k=B.vertex;k&&A.fillRect(k.x-2,k.y-2,5,5)}for(F=0;F<R.length;F++)if(G=R[F],!!G.isActive){var U=G.collision,H=G.contacts;if(G.contactCount>0){var X=H[0].vertex.x,j=H[0].vertex.y;G.contactCount===2&&(X=(H[0].vertex.x+H[1].vertex.x)/2,j=(H[0].vertex.y+H[1].vertex.y)/2),U.bodyB===U.supports[0].body||U.bodyA.isStatic?A.lineBetween(X-U.normal.x*8,j-U.normal.y*8,X,j):A.lineBetween(X+U.normal.x*8,j+U.normal.y*8,X,j)}}return this},renderBodyBounds:function(R,A,L,F){A.lineStyle(1,L,F);for(var G=0;G<R.length;G++){var I=R[G];if(I.render.visible){var B=I.bounds;if(B)A.strokeRect(B.min.x,B.min.y,B.max.x-B.min.x,B.max.y-B.min.y);else for(var k=I.parts,U=k.length>1?1:0;U<k.length;U++){var H=k[U];A.strokeRect(H.bounds.min.x,H.bounds.min.y,H.bounds.max.x-H.bounds.min.x,H.bounds.max.y-H.bounds.min.y)}}}return this},renderBodyAxes:function(R,A,L,F,G){A.lineStyle(1,F,G);for(var I=0;I<R.length;I++){var B=R[I],k=B.parts;if(B.render.visible){var U,H,X;if(L)for(H=k.length>1?1:0;H<k.length;H++)for(U=k[H],X=0;X<U.axes.length;X++){var j=U.axes[X];A.lineBetween(U.position.x,U.position.y,U.position.x+j.x*20,U.position.y+j.y*20)}else for(H=k.length>1?1:0;H<k.length;H++)for(U=k[H],X=0;X<U.axes.length;X++)A.lineBetween(U.position.x,U.position.y,(U.vertices[0].x+U.vertices[U.vertices.length-1].x)/2,(U.vertices[0].y+U.vertices[U.vertices.length-1].y)/2)}}return this},renderBodyVelocity:function(R,A,L,F,G){A.lineStyle(G,L,F);for(var I=0;I<R.length;I++){var B=R[I];B.render.visible&&A.lineBetween(B.position.x,B.position.y,B.position.x+(B.position.x-B.positionPrev.x)*2,B.position.y+(B.position.y-B.positionPrev.y)*2)}return this},renderBodies:function(R){for(var A=this.debugGraphic,L=this.debugConfig,F=L.showBody,G=L.showStaticBody,I=L.showSleeping,B=L.showInternalEdges,k=L.showConvexHulls,U=L.renderFill,H=L.renderLine,X=L.staticBodySleepOpacity,j=L.sleepFillColor,J=L.sleepLineColor,Y=L.hullColor,$=0;$<R.length;$++){var z=R[$];if(z.render.visible&&!(!G&&z.isStatic||!F&&!z.isStatic)){var V=z.render.lineColor,K=z.render.lineOpacity,Q=z.render.lineThickness,_=z.render.fillColor,tt=z.render.fillOpacity;I&&z.isSleeping&&(z.isStatic?(K*=X,tt*=X):(V=J,_=j)),U||(_=null),H||(V=null),this.renderBody(z,A,B,V,K,Q,_,tt);var rt=z.parts.length;k&&rt>1&&this.renderConvexHull(z,A,Y,Q)}}},renderBody:function(R,A,L,F,G,I,B,k){F===void 0&&(F=null),G===void 0&&(G=null),I===void 0&&(I=1),B===void 0&&(B=null),k===void 0&&(k=null);for(var U=this.debugConfig,H=U.sensorFillColor,X=U.sensorLineColor,j=R.parts,J=j.length,Y=J>1?1:0;Y<J;Y++){var $=j[Y],z=$.render,V=z.opacity;if(!(!z.visible||V===0||$.isSensor&&!U.showSensors)){var K=$.circleRadius;if(A.beginPath(),$.isSensor?(B!==null&&A.fillStyle(H,k*V),F!==null&&A.lineStyle(I,X,G*V)):(B!==null&&A.fillStyle(B,k*V),F!==null&&A.lineStyle(I,F,G*V)),K)A.arc($.position.x,$.position.y,K,0,2*Math.PI);else{var Q=$.vertices,_=Q.length;A.moveTo(Q[0].x,Q[0].y);for(var tt=1;tt<_;tt++){var rt=Q[tt];if(!Q[tt-1].isInternal||L?A.lineTo(rt.x,rt.y):A.moveTo(rt.x,rt.y),tt<_&&rt.isInternal&&!L){var ot=(tt+1)%_;A.moveTo(Q[ot].x,Q[ot].y)}}A.closePath()}B!==null&&A.fillPath(),F!==null&&A.strokePath()}}if(U.showPositions&&!R.isStatic){var ft=R.position.x,ct=R.position.y,gt=Math.ceil(U.positionSize/2);A.fillStyle(U.positionColor,1),A.fillRect(ft-gt,ct-gt,U.positionSize,U.positionSize)}return this},renderConvexHull:function(R,A,L,F){F===void 0&&(F=1);var G=R.parts,I=G.length;if(I>1){var B=R.vertices;A.lineStyle(F,L),A.beginPath(),A.moveTo(B[0].x,B[0].y);for(var k=1;k<B.length;k++)A.lineTo(B[k].x,B[k].y);A.lineTo(B[0].x,B[0].y),A.strokePath()}return this},renderJoints:function(){for(var R=this.debugGraphic,A=l.allConstraints(this.localWorld),L=0;L<A.length;L++){var F=A[L].render,G=F.lineColor,I=F.lineOpacity,B=F.lineThickness,k=F.pinSize,U=F.anchorColor,H=F.anchorSize;this.renderConstraint(A[L],R,G,I,B,k,U,H)}},renderConstraint:function(R,A,L,F,G,I,B,k){var U=R.render;if(!U.visible||!R.pointA||!R.pointB)return this;A.lineStyle(G,L,F);var H=R.bodyA,X=R.bodyB,j,J;if(H?j=M.add(H.position,R.pointA):j=R.pointA,U.type==="pin")A.strokeCircle(j.x,j.y,I);else{if(X?J=M.add(X.position,R.pointB):J=R.pointB,A.beginPath(),A.moveTo(j.x,j.y),U.type==="spring")for(var Y=M.sub(J,j),$=M.perp(M.normalise(Y)),z=Math.ceil(h.clamp(R.length/5,12,20)),V,K=1;K<z;K+=1)V=K%2===0?1:-1,A.lineTo(j.x+Y.x*(K/z)+$.x*V*4,j.y+Y.y*(K/z)+$.y*V*4);A.lineTo(J.x,J.y)}return A.strokePath(),U.anchors&&k>0&&(A.fillStyle(B),A.fillCircle(j.x,j.y,k),A.fillCircle(J.x,J.y,k)),this},resetCollisionIDs:function(){return x._nextCollidingGroupId=1,x._nextNonCollidingGroupId=-1,x._nextCategory=1,this},shutdown:function(){m.off(this.engine),this.removeAllListeners(),C.clear(this.localWorld,!1),a.clear(this.engine),this.drawDebug&&this.debugGraphic.destroy()},destroy:function(){this.shutdown()}});n.exports=w},70410:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T={setBounce:function(r){return this.body.restitution=r,this}};n.exports=T},66968:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T={setCollisionCategory:function(r){return this.body.collisionFilter.category=r,this},setCollisionGroup:function(r){return this.body.collisionFilter.group=r,this},setCollidesWith:function(r){var o=0;if(!Array.isArray(r))o=r;else for(var x=0;x<r.length;x++)o|=r[x];return this.body.collisionFilter.mask=o,this},setOnCollide:function(r){return this.body.onCollideCallback=r,this},setOnCollideEnd:function(r){return this.body.onCollideEndCallback=r,this},setOnCollideActive:function(r){return this.body.onCollideActiveCallback=r,this},setOnCollideWith:function(r,o){Array.isArray(r)||(r=[r]);for(var x=0;x<r.length;x++){var d=r[x].hasOwnProperty("body")?r[x].body:r[x];this.body.setOnCollideWith(d,o)}return this}};n.exports=T},51607:(n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(22562),x={applyForce:function(d){return this._tempVec2.set(this.body.position.x,this.body.position.y),o.applyForce(this.body,this._tempVec2,d),this},applyForceFrom:function(d,h){return o.applyForce(this.body,d,h),this},thrust:function(d){var h=this.body.angle;return this._tempVec2.set(d*Math.cos(h),d*Math.sin(h)),o.applyForce(this.body,{x:this.body.position.x,y:this.body.position.y},this._tempVec2),this},thrustLeft:function(d){var h=this.body.angle-Math.PI/2;return this._tempVec2.set(d*Math.cos(h),d*Math.sin(h)),o.applyForce(this.body,{x:this.body.position.x,y:this.body.position.y},this._tempVec2),this},thrustRight:function(d){var h=this.body.angle+Math.PI/2;return this._tempVec2.set(d*Math.cos(h),d*Math.sin(h)),o.applyForce(this.body,{x:this.body.position.x,y:this.body.position.y},this._tempVec2),this},thrustBack:function(d){var h=this.body.angle-Math.PI;return this._tempVec2.set(d*Math.cos(h),d*Math.sin(h)),o.applyForce(this.body,{x:this.body.position.x,y:this.body.position.y},this._tempVec2),this}};n.exports=x},5436:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T={setFriction:function(r,o,x){return this.body.friction=r,o!==void 0&&(this.body.frictionAir=o),x!==void 0&&(this.body.frictionStatic=x),this},setFrictionAir:function(r){return this.body.frictionAir=r,this},setFrictionStatic:function(r){return this.body.frictionStatic=r,this}};n.exports=T},39858:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T={setIgnoreGravity:function(r){return this.body.ignoreGravity=r,this}};n.exports=T},37302:(n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(22562),x=r(26099),d={setMass:function(h){return o.setMass(this.body,h),this},setDensity:function(h){return o.setDensity(this.body,h),this},centerOfMass:{get:function(){return new x(this.body.centerOfMass.x,this.body.centerOfMass.y)}}};n.exports=d},39132:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T={setSensor:function(r){return this.body.isSensor=r,this},isSensor:function(){return this.body.isSensor}};n.exports=T},57772:(n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(66280),x=r(22562),d=r(43855),h=r(95540),l=r(19496),a=r(85791),f=r(41598),c={setRectangle:function(u,v,g){return this.setBody({type:"rectangle",width:u,height:v},g)},setCircle:function(u,v){return this.setBody({type:"circle",radius:u},v)},setPolygon:function(u,v,g){return this.setBody({type:"polygon",sides:v,radius:u},g)},setTrapezoid:function(u,v,g,m){return this.setBody({type:"trapezoid",width:u,height:v,slope:g},m)},setExistingBody:function(u,v){v===void 0&&(v=!0),this.body&&this.world.remove(this.body,!0),this.body=u;for(var g=0;g<u.parts.length;g++)u.parts[g].gameObject=this;var m=this;if(u.destroy=function(){m.world.remove(m.body,!0),m.body.gameObject=null},v&&(this.world.has(u)&&this.world.remove(u,!0),this.world.add(u)),this._originComponent){var y=u.render.sprite.xOffset,C=u.render.sprite.yOffset,b=u.centerOfMass.x,M=u.centerOfMass.y;if(d(b,.5)&&d(M,.5))this.setOrigin(y+.5,C+.5);else{var w=u.centerOffset.x,R=u.centerOffset.y;this.setOrigin(y+w/this.displayWidth,C+R/this.displayHeight)}}return this},setBody:function(u,v){if(!u)return this;var g;typeof u=="string"&&(u={type:u});var m=h(u,"type","rectangle"),y=h(u,"x",this._tempVec2.x),C=h(u,"y",this._tempVec2.y),b=h(u,"width",this.width),M=h(u,"height",this.height);switch(m){case"rectangle":g=o.rectangle(y,C,b,M,v);break;case"circle":var w=h(u,"radius",Math.max(b,M)/2),R=h(u,"maxSides",25);g=o.circle(y,C,w,v,R);break;case"trapezoid":var A=h(u,"slope",.5);g=o.trapezoid(y,C,b,M,A,v);break;case"polygon":var L=h(u,"sides",5),F=h(u,"radius",Math.max(b,M)/2);g=o.polygon(y,C,L,F,v);break;case"fromVertices":case"fromVerts":var G=h(u,"verts",null);if(G)if(typeof G=="string"&&(G=f.fromPath(G)),this.body&&!this.body.hasOwnProperty("temp"))x.setVertices(this.body,G),g=this.body;else{var I=h(u,"flagInternal",!1),B=h(u,"removeCollinear",.01),k=h(u,"minimumArea",10);g=o.fromVertices(y,C,G,v,I,B,k)}break;case"fromPhysicsEditor":g=l.parseBody(y,C,u,v);break;case"fromPhysicsTracer":g=a.parseBody(y,C,u,v);break}return g&&this.setExistingBody(g,u.addToWorld),this}};n.exports=c},38083:(n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(1121),x=r(53614),d=r(35810),h={setToSleep:function(){return x.set(this.body,!0),this},setAwake:function(){return x.set(this.body,!1),this},setSleepThreshold:function(l){return l===void 0&&(l=60),this.body.sleepThreshold=l,this},setSleepEvents:function(l,a){return this.setSleepStartEvent(l),this.setSleepEndEvent(a),this},setSleepStartEvent:function(l){if(l){var a=this.world;d.on(this.body,"sleepStart",function(f){a.emit(o.SLEEP_START,f,this)})}else d.off(this.body,"sleepStart");return this},setSleepEndEvent:function(l){if(l){var a=this.world;d.on(this.body,"sleepEnd",function(f){a.emit(o.SLEEP_END,f,this)})}else d.off(this.body,"sleepEnd");return this}};n.exports=h},90556:(n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(22562),x={setStatic:function(d){return o.setStatic(this.body,d),this},isStatic:function(){return this.body.isStatic}};n.exports=x},85436:(n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(22562),x=r(36383),d=r(86554),h=r(30954),l=4,a={x:{get:function(){return this.body.position.x},set:function(f){this._tempVec2.set(f,this.y),o.setPosition(this.body,this._tempVec2)}},y:{get:function(){return this.body.position.y},set:function(f){this._tempVec2.set(this.x,f),o.setPosition(this.body,this._tempVec2)}},scale:{get:function(){return(this._scaleX+this._scaleY)/2},set:function(f){this.setScale(f,f)}},scaleX:{get:function(){return this._scaleX},set:function(f){var c=1/this._scaleX,u=1/this._scaleY;this._scaleX=f,this._scaleX===0?this.renderFlags&=~l:this.renderFlags|=l,o.scale(this.body,c,u),o.scale(this.body,f,this._scaleY)}},scaleY:{get:function(){return this._scaleY},set:function(f){var c=1/this._scaleX,u=1/this._scaleY;this._scaleY=f,this._scaleY===0?this.renderFlags&=~l:this.renderFlags|=l,o.scale(this.body,c,u),o.scale(this.body,this._scaleX,f)}},angle:{get:function(){return h(this.body.angle*x.RAD_TO_DEG)},set:function(f){this.rotation=h(f)*x.DEG_TO_RAD}},rotation:{get:function(){return this.body.angle},set:function(f){this._rotation=d(f),o.setAngle(this.body,this._rotation)}},setPosition:function(f,c){return f===void 0&&(f=0),c===void 0&&(c=f),this._tempVec2.set(f,c),o.setPosition(this.body,this._tempVec2),this},setRotation:function(f){return f===void 0&&(f=0),this._rotation=d(f),o.setAngle(this.body,f),this},setFixedRotation:function(){return o.setInertia(this.body,1/0),this},setAngle:function(f){return f===void 0&&(f=0),this.angle=f,o.setAngle(this.body,this.rotation),this},setScale:function(f,c,u){f===void 0&&(f=1),c===void 0&&(c=f);var v=1/this._scaleX,g=1/this._scaleY;return this._scaleX=f,this._scaleY=c,o.scale(this.body,v,g,u),o.scale(this.body,f,c,u),this}};n.exports=a},42081:(n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(22562),x={setVelocityX:function(d){return this._tempVec2.set(d,this.body.velocity.y),o.setVelocity(this.body,this._tempVec2),this},setVelocityY:function(d){return this._tempVec2.set(this.body.velocity.x,d),o.setVelocity(this.body,this._tempVec2),this},setVelocity:function(d,h){return this._tempVec2.set(d,h),o.setVelocity(this.body,this._tempVec2),this},getVelocity:function(){return o.getVelocity(this.body)},setAngularVelocity:function(d){return o.setAngularVelocity(this.body,d),this},getAngularVelocity:function(){return o.getAngularVelocity(this.body)},setAngularSpeed:function(d){return o.setAngularSpeed(this.body,d),this},getAngularSpeed:function(){return o.getAngularSpeed(this.body)}};n.exports=x},31884:(n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports={Bounce:r(70410),Collision:r(66968),Force:r(51607),Friction:r(5436),Gravity:r(39858),Mass:r(37302),Sensor:r(39132),SetBody:r(57772),Sleep:r(38083),Static:r(90556),Transform:r(85436),Velocity:r(42081)}},85608:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="afteradd"},1213:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="afterremove"},25968:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="afterupdate"},67205:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="beforeadd"},39438:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="beforeremove"},44823:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="beforeupdate"},92593:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="collisionactive"},60128:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="collisionend"},76861:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="collisionstart"},92362:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="dragend"},76408:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="drag"},93971:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="dragstart"},5656:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="pause"},47861:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="resume"},79099:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="sleepend"},35906:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="sleepstart"},1121:(n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports={AFTER_ADD:r(85608),AFTER_REMOVE:r(1213),AFTER_UPDATE:r(25968),BEFORE_ADD:r(67205),BEFORE_REMOVE:r(39438),BEFORE_UPDATE:r(44823),COLLISION_ACTIVE:r(92593),COLLISION_END:r(60128),COLLISION_START:r(76861),DRAG_END:r(92362),DRAG:r(76408),DRAG_START:r(93971),PAUSE:r(5656),RESUME:r(47861),SLEEP_END:r(79099),SLEEP_START:r(35906)}},3875:(n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports={BodyBounds:r(68174),Components:r(31884),Events:r(1121),Factory:r(28137),MatterGameObject:r(75803),Image:r(23181),Matter:r(19933),MatterPhysics:r(42045),PolyDecomp:r(55973),Sprite:r(34803),TileBody:r(73834),PhysicsEditorParser:r(19496),PhysicsJSONParser:r(85791),PointerConstraint:r(98713),World:r(68243)}},22562:(n,T,r)=>{var o={};n.exports=o;var x=r(41598),d=r(31725),h=r(53614),l=r(53402),a=r(15647),f=r(66615);(function(){o._timeCorrection=!0,o._inertiaScale=4,o._nextCollidingGroupId=1,o._nextNonCollidingGroupId=-1,o._nextCategory=1,o._baseDelta=16.666666666666668,o.create=function(u){var v={id:l.nextId(),type:"body",label:"Body",parts:[],plugin:{},attractors:u.attractors||[],wrapBounds:null,angle:0,vertices:null,position:{x:0,y:0},force:{x:0,y:0},torque:0,positionImpulse:{x:0,y:0},constraintImpulse:{x:0,y:0,angle:0},totalContacts:0,speed:0,angularSpeed:0,velocity:{x:0,y:0},angularVelocity:0,isSensor:!1,isStatic:!1,isSleeping:!1,motion:0,sleepThreshold:60,density:.001,restitution:0,friction:.1,frictionStatic:.5,frictionAir:.01,collisionFilter:{category:1,mask:4294967295,group:0},slop:.05,timeScale:1,events:null,bounds:null,chamfer:null,circleRadius:0,positionPrev:null,anglePrev:0,parent:null,axes:null,area:0,mass:0,inverseMass:0,inertia:0,deltaTime:16.666666666666668,inverseInertia:0,_original:null,render:{visible:!0,opacity:1,sprite:{xOffset:0,yOffset:0},fillColor:null,fillOpacity:null,lineColor:null,lineOpacity:null,lineThickness:null},gameObject:null,scale:{x:1,y:1},centerOfMass:{x:0,y:0},centerOffset:{x:0,y:0},gravityScale:{x:1,y:1},ignoreGravity:!1,ignorePointer:!1,onCollideCallback:null,onCollideEndCallback:null,onCollideActiveCallback:null,onCollideWith:{}};!u.hasOwnProperty("position")&&u.hasOwnProperty("vertices")?u.position=x.centre(u.vertices):u.hasOwnProperty("vertices")||(v.vertices=x.fromPath("L 0 0 L 40 0 L 40 40 L 0 40"));var g=l.extend(v,u);return c(g,u),g.setOnCollideWith=function(m,y){return y?this.onCollideWith[m.id]=y:delete this.onCollideWith[m.id],this},g},o.nextGroup=function(u){return u?o._nextNonCollidingGroupId--:o._nextCollidingGroupId++},o.nextCategory=function(){return o._nextCategory=o._nextCategory<<1,o._nextCategory};var c=function(u,v){if(v=v||{},o.set(u,{bounds:u.bounds||a.create(u.vertices),positionPrev:u.positionPrev||d.clone(u.position),anglePrev:u.anglePrev||u.angle,vertices:u.vertices,parts:u.parts||[u],isStatic:u.isStatic,isSleeping:u.isSleeping,parent:u.parent||u}),x.rotate(u.vertices,u.angle,u.position),f.rotate(u.axes,u.angle),a.update(u.bounds,u.vertices,u.velocity),o.set(u,{axes:v.axes||u.axes,area:v.area||u.area,mass:v.mass||u.mass,inertia:v.inertia||u.inertia}),u.parts.length===1){var g=u.bounds,m=u.centerOfMass,y=u.centerOffset,C=g.max.x-g.min.x,b=g.max.y-g.min.y;m.x=-(g.min.x-u.position.x)/C,m.y=-(g.min.y-u.position.y)/b,y.x=C*m.x,y.y=b*m.y}};o.set=function(u,v,g){var m;typeof v=="string"&&(m=v,v={},v[m]=g);for(m in v)if(Object.prototype.hasOwnProperty.call(v,m))switch(g=v[m],m){case"isStatic":o.setStatic(u,g);break;case"isSleeping":h.set(u,g);break;case"mass":o.setMass(u,g);break;case"density":o.setDensity(u,g);break;case"inertia":o.setInertia(u,g);break;case"vertices":o.setVertices(u,g);break;case"position":o.setPosition(u,g);break;case"angle":o.setAngle(u,g);break;case"velocity":o.setVelocity(u,g);break;case"angularVelocity":o.setAngularVelocity(u,g);break;case"speed":o.setSpeed(u,g);break;case"angularSpeed":o.setAngularSpeed(u,g);break;case"parts":o.setParts(u,g);break;case"centre":o.setCentre(u,g);break;default:u[m]=g}},o.setStatic=function(u,v){for(var g=0;g<u.parts.length;g++){var m=u.parts[g];v?(m.isStatic||(m._original={restitution:m.restitution,friction:m.friction,mass:m.mass,inertia:m.inertia,density:m.density,inverseMass:m.inverseMass,inverseInertia:m.inverseInertia}),m.restitution=0,m.friction=1,m.mass=m.inertia=m.density=1/0,m.inverseMass=m.inverseInertia=0,m.positionPrev.x=m.position.x,m.positionPrev.y=m.position.y,m.anglePrev=m.angle,m.angularVelocity=0,m.speed=0,m.angularSpeed=0,m.motion=0):m._original&&(m.restitution=m._original.restitution,m.friction=m._original.friction,m.mass=m._original.mass,m.inertia=m._original.inertia,m.density=m._original.density,m.inverseMass=m._original.inverseMass,m.inverseInertia=m._original.inverseInertia,m._original=null),m.isStatic=v}},o.setMass=function(u,v){var g=u.inertia/(u.mass/6);u.inertia=g*(v/6),u.inverseInertia=1/u.inertia,u.mass=v,u.inverseMass=1/u.mass,u.density=u.mass/u.area},o.setDensity=function(u,v){o.setMass(u,v*u.area),u.density=v},o.setInertia=function(u,v){u.inertia=v,u.inverseInertia=1/u.inertia},o.setVertices=function(u,v){v[0].body===u?u.vertices=v:u.vertices=x.create(v,u),u.axes=f.fromVertices(u.vertices),u.area=x.area(u.vertices),o.setMass(u,u.density*u.area);var g=x.centre(u.vertices);x.translate(u.vertices,g,-1),o.setInertia(u,o._inertiaScale*x.inertia(u.vertices,u.mass)),x.translate(u.vertices,u.position),a.update(u.bounds,u.vertices,u.velocity)},o.setParts=function(u,v,g){var m;for(v=v.slice(0),u.parts.length=0,u.parts.push(u),u.parent=u,m=0;m<v.length;m++){var y=v[m];y!==u&&(y.parent=u,u.parts.push(y))}if(u.parts.length!==1){if(g=typeof g<"u"?g:!0,g){var C=[];for(m=0;m<v.length;m++)C=C.concat(v[m].vertices);x.clockwiseSort(C);var b=x.hull(C),M=x.centre(b);o.setVertices(u,b),x.translate(u.vertices,M)}var w=o._totalProperties(u),R=w.centre.x,A=w.centre.y,L=u.bounds,F=u.centerOfMass,G=u.centerOffset;a.update(L,u.vertices,u.velocity),F.x=-(L.min.x-R)/(L.max.x-L.min.x),F.y=-(L.min.y-A)/(L.max.y-L.min.y),G.x=R,G.y=A,u.area=w.area,u.parent=u,u.position.x=R,u.position.y=A,u.positionPrev.x=R,u.positionPrev.y=A,o.setMass(u,w.mass),o.setInertia(u,w.inertia),o.setPosition(u,w.centre)}},o.setCentre=function(u,v,g){g?(u.positionPrev.x+=v.x,u.positionPrev.y+=v.y,u.position.x+=v.x,u.position.y+=v.y):(u.positionPrev.x=v.x-(u.position.x-u.positionPrev.x),u.positionPrev.y=v.y-(u.position.y-u.positionPrev.y),u.position.x=v.x,u.position.y=v.y)},o.setPosition=function(u,v,g){var m=d.sub(v,u.position);g?(u.positionPrev.x=u.position.x,u.positionPrev.y=u.position.y,u.velocity.x=m.x,u.velocity.y=m.y,u.speed=d.magnitude(m)):(u.positionPrev.x+=m.x,u.positionPrev.y+=m.y);for(var y=0;y<u.parts.length;y++){var C=u.parts[y];C.position.x+=m.x,C.position.y+=m.y,x.translate(C.vertices,m),a.update(C.bounds,C.vertices,u.velocity)}},o.setAngle=function(u,v,g){var m=v-u.angle;g?(u.anglePrev=u.angle,u.angularVelocity=m,u.angularSpeed=Math.abs(m)):u.anglePrev+=m;for(var y=0;y<u.parts.length;y++){var C=u.parts[y];C.angle+=m,x.rotate(C.vertices,m,u.position),f.rotate(C.axes,m),a.update(C.bounds,C.vertices,u.velocity),y>0&&d.rotateAbout(C.position,m,u.position,C.position)}},o.setVelocity=function(u,v){var g=u.deltaTime/o._baseDelta;u.positionPrev.x=u.position.x-v.x*g,u.positionPrev.y=u.position.y-v.y*g,u.velocity.x=(u.position.x-u.positionPrev.x)/g,u.velocity.y=(u.position.y-u.positionPrev.y)/g,u.speed=d.magnitude(u.velocity)},o.getVelocity=function(u){var v=o._baseDelta/u.deltaTime;return{x:(u.position.x-u.positionPrev.x)*v,y:(u.position.y-u.positionPrev.y)*v}},o.getSpeed=function(u){return d.magnitude(o.getVelocity(u))},o.setSpeed=function(u,v){o.setVelocity(u,d.mult(d.normalise(o.getVelocity(u)),v))},o.setAngularVelocity=function(u,v){var g=u.deltaTime/o._baseDelta;u.anglePrev=u.angle-v*g,u.angularVelocity=(u.angle-u.anglePrev)/g,u.angularSpeed=Math.abs(u.angularVelocity)},o.getAngularVelocity=function(u){return(u.angle-u.anglePrev)*o._baseDelta/u.deltaTime},o.getAngularSpeed=function(u){return Math.abs(o.getAngularVelocity(u))},o.setAngularSpeed=function(u,v){o.setAngularVelocity(u,l.sign(o.getAngularVelocity(u))*v)},o.translate=function(u,v,g){o.setPosition(u,d.add(u.position,v),g)},o.rotate=function(u,v,g,m){if(!g)o.setAngle(u,u.angle+v,m);else{var y=Math.cos(v),C=Math.sin(v),b=u.position.x-g.x,M=u.position.y-g.y;o.setPosition(u,{x:g.x+(b*y-M*C),y:g.y+(b*C+M*y)},m),o.setAngle(u,u.angle+v,m)}},o.scale=function(u,v,g,m){var y=0,C=0;m=m||u.position;for(var b=u.inertia===1/0,M=0;M<u.parts.length;M++){var w=u.parts[M];w.scale.x=v,w.scale.y=g,x.scale(w.vertices,v,g,m),w.axes=f.fromVertices(w.vertices),w.area=x.area(w.vertices),o.setMass(w,u.density*w.area),x.translate(w.vertices,{x:-w.position.x,y:-w.position.y}),o.setInertia(w,o._inertiaScale*x.inertia(w.vertices,w.mass)),x.translate(w.vertices,{x:w.position.x,y:w.position.y}),M>0&&(y+=w.area,C+=w.inertia),w.position.x=m.x+(w.position.x-m.x)*v,w.position.y=m.y+(w.position.y-m.y)*g,a.update(w.bounds,w.vertices,u.velocity)}u.parts.length>1&&(u.area=y,u.isStatic||(o.setMass(u,u.density*y),o.setInertia(u,C))),u.circleRadius&&(v===g?u.circleRadius*=v:u.circleRadius=null),b&&o.setInertia(u,1/0)},o.update=function(u,v){v=(typeof v<"u"?v:16.666666666666668)*u.timeScale;var g=v*v,m=o._timeCorrection?v/(u.deltaTime||v):1,y=1-u.frictionAir*(v/l._baseDelta),C=(u.position.x-u.positionPrev.x)*m,b=(u.position.y-u.positionPrev.y)*m;u.velocity.x=C*y+u.force.x/u.mass*g,u.velocity.y=b*y+u.force.y/u.mass*g,u.positionPrev.x=u.position.x,u.positionPrev.y=u.position.y,u.position.x+=u.velocity.x,u.position.y+=u.velocity.y,u.deltaTime=v,u.angularVelocity=(u.angle-u.anglePrev)*y*m+u.torque/u.inertia*g,u.anglePrev=u.angle,u.angle+=u.angularVelocity,u.speed=d.magnitude(u.velocity),u.angularSpeed=Math.abs(u.angularVelocity);for(var M=0;M<u.parts.length;M++){var w=u.parts[M];x.translate(w.vertices,u.velocity),M>0&&(w.position.x+=u.velocity.x,w.position.y+=u.velocity.y),u.angularVelocity!==0&&(x.rotate(w.vertices,u.angularVelocity,u.position),f.rotate(w.axes,u.angularVelocity),M>0&&d.rotateAbout(w.position,u.angularVelocity,u.position,w.position)),a.update(w.bounds,w.vertices,u.velocity)}},o.updateVelocities=function(u){var v=o._baseDelta/u.deltaTime,g=u.velocity;g.x=(u.position.x-u.positionPrev.x)*v,g.y=(u.position.y-u.positionPrev.y)*v,u.speed=Math.sqrt(g.x*g.x+g.y*g.y),u.angularVelocity=(u.angle-u.anglePrev)*v,u.angularSpeed=Math.abs(u.angularVelocity)},o.applyForce=function(u,v,g){var m={x:v.x-u.position.x,y:v.y-u.position.y};u.force.x+=g.x,u.force.y+=g.y,u.torque+=m.x*g.y-m.y*g.x},o._totalProperties=function(u){for(var v={mass:0,area:0,inertia:0,centre:{x:0,y:0}},g=u.parts.length===1?0:1;g<u.parts.length;g++){var m=u.parts[g],y=m.mass!==1/0?m.mass:1;v.mass+=y,v.area+=m.area,v.inertia+=m.inertia,v.centre=d.add(v.centre,d.mult(m.position,y))}return v.centre=d.div(v.centre,v.mass),v},o.wrap=function(u,v){var g=a.wrap(u.bounds,v);return g&&o.translate(u,g),g}})()},69351:(n,T,r)=>{var o={};n.exports=o;var x=r(35810),d=r(53402),h=r(15647),l=r(22562);(function(){o.create=function(a){return d.extend({id:d.nextId(),type:"composite",parent:null,isModified:!1,bodies:[],constraints:[],composites:[],label:"Composite",plugin:{},wrapBounds:null,cache:{allBodies:null,allConstraints:null,allComposites:null}},a)},o.setModified=function(a,f,c,u){if(x.trigger(a,"compositeModified",a),a.isModified=f,f&&a.cache&&(a.cache.allBodies=null,a.cache.allConstraints=null,a.cache.allComposites=null),c&&a.parent&&o.setModified(a.parent,f,c,u),u)for(var v=0;v<a.composites.length;v++){var g=a.composites[v];o.setModified(g,f,c,u)}},o.add=function(a,f){var c=[].concat(f);x.trigger(a,"beforeAdd",{object:f});for(var u=0;u<c.length;u++){var v=c[u];switch(v.type){case"body":if(v.parent!==v){d.warn("Composite.add: skipped adding a compound body part (you must add its parent instead)");break}o.addBody(a,v);break;case"constraint":o.addConstraint(a,v);break;case"composite":o.addComposite(a,v);break;case"mouseConstraint":o.addConstraint(a,v.constraint);break}}return x.trigger(a,"afterAdd",{object:f}),a},o.remove=function(a,f,c){var u=[].concat(f);x.trigger(a,"beforeRemove",{object:f});for(var v=0;v<u.length;v++){var g=u[v];switch(g.type){case"body":o.removeBody(a,g,c);break;case"constraint":o.removeConstraint(a,g,c);break;case"composite":o.removeComposite(a,g,c);break;case"mouseConstraint":o.removeConstraint(a,g.constraint);break}}return x.trigger(a,"afterRemove",{object:f}),a},o.addComposite=function(a,f){return a.composites.push(f),f.parent=a,o.setModified(a,!0,!0,!1),a},o.removeComposite=function(a,f,c){var u=d.indexOf(a.composites,f);if(u!==-1){var v=o.allBodies(f);o.removeCompositeAt(a,u);for(var g=0;g<v.length;g++)v[g].sleepCounter=0}if(c)for(var g=0;g<a.composites.length;g++)o.removeComposite(a.composites[g],f,!0);return a},o.removeCompositeAt=function(a,f){return a.composites.splice(f,1),o.setModified(a,!0,!0,!1),a},o.addBody=function(a,f){return a.bodies.push(f),o.setModified(a,!0,!0,!1),a},o.removeBody=function(a,f,c){var u=d.indexOf(a.bodies,f);if(u!==-1&&(o.removeBodyAt(a,u),f.sleepCounter=0),c)for(var v=0;v<a.composites.length;v++)o.removeBody(a.composites[v],f,!0);return a},o.removeBodyAt=function(a,f){return a.bodies.splice(f,1),o.setModified(a,!0,!0,!1),a},o.addConstraint=function(a,f){return a.constraints.push(f),o.setModified(a,!0,!0,!1),a},o.removeConstraint=function(a,f,c){var u=d.indexOf(a.constraints,f);if(u!==-1&&o.removeConstraintAt(a,u),c)for(var v=0;v<a.composites.length;v++)o.removeConstraint(a.composites[v],f,!0);return a},o.removeConstraintAt=function(a,f){return a.constraints.splice(f,1),o.setModified(a,!0,!0,!1),a},o.clear=function(a,f,c){if(c)for(var u=0;u<a.composites.length;u++)o.clear(a.composites[u],f,!0);return f?a.bodies=a.bodies.filter(function(v){return v.isStatic}):a.bodies.length=0,a.constraints.length=0,a.composites.length=0,o.setModified(a,!0,!0,!1),a},o.allBodies=function(a){if(a.cache&&a.cache.allBodies)return a.cache.allBodies;for(var f=[].concat(a.bodies),c=0;c<a.composites.length;c++)f=f.concat(o.allBodies(a.composites[c]));return a.cache&&(a.cache.allBodies=f),f},o.allConstraints=function(a){if(a.cache&&a.cache.allConstraints)return a.cache.allConstraints;for(var f=[].concat(a.constraints),c=0;c<a.composites.length;c++)f=f.concat(o.allConstraints(a.composites[c]));return a.cache&&(a.cache.allConstraints=f),f},o.allComposites=function(a){if(a.cache&&a.cache.allComposites)return a.cache.allComposites;for(var f=[].concat(a.composites),c=0;c<a.composites.length;c++)f=f.concat(o.allComposites(a.composites[c]));return a.cache&&(a.cache.allComposites=f),f},o.get=function(a,f,c){var u,v;switch(c){case"body":u=o.allBodies(a);break;case"constraint":u=o.allConstraints(a);break;case"composite":u=o.allComposites(a).concat(a);break}return u?(v=u.filter(function(g){return g.id.toString()===f.toString()}),v.length===0?null:v[0]):null},o.move=function(a,f,c){return o.remove(a,f),o.add(c,f),a},o.rebase=function(a){for(var f=o.allBodies(a).concat(o.allConstraints(a)).concat(o.allComposites(a)),c=0;c<f.length;c++)f[c].id=d.nextId();return a},o.translate=function(a,f,c){for(var u=c?o.allBodies(a):a.bodies,v=0;v<u.length;v++)l.translate(u[v],f);return a},o.rotate=function(a,f,c,u){for(var v=Math.cos(f),g=Math.sin(f),m=u?o.allBodies(a):a.bodies,y=0;y<m.length;y++){var C=m[y],b=C.position.x-c.x,M=C.position.y-c.y;l.setPosition(C,{x:c.x+(b*v-M*g),y:c.y+(b*g+M*v)}),l.rotate(C,f)}return a},o.scale=function(a,f,c,u,v){for(var g=v?o.allBodies(a):a.bodies,m=0;m<g.length;m++){var y=g[m],C=y.position.x-u.x,b=y.position.y-u.y;l.setPosition(y,{x:u.x+C*f,y:u.y+b*c}),l.scale(y,f,c)}return a},o.bounds=function(a){for(var f=o.allBodies(a),c=[],u=0;u<f.length;u+=1){var v=f[u];c.push(v.bounds.min,v.bounds.max)}return h.create(c)},o.wrap=function(a,f){var c=h.wrap(o.bounds(a),f);return c&&o.translate(a,c),c}})()},4372:(n,T,r)=>{var o={};n.exports=o;var x=r(69351);(function(){o.create=x.create,o.add=x.add,o.remove=x.remove,o.clear=x.clear,o.addComposite=x.addComposite,o.addBody=x.addBody,o.addConstraint=x.addConstraint})()},52284:(n,T,r)=>{var o={};n.exports=o;var x=r(41598),d=r(4506);(function(){var h=[],l={overlap:0,axis:null},a={overlap:0,axis:null};o.create=function(f,c){return{pair:null,collided:!1,bodyA:f,bodyB:c,parentA:f.parent,parentB:c.parent,depth:0,normal:{x:0,y:0},tangent:{x:0,y:0},penetration:{x:0,y:0},supports:[null,null],supportCount:0}},o.collides=function(f,c,u){if(o._overlapAxes(l,f.vertices,c.vertices,f.axes),l.overlap<=0||(o._overlapAxes(a,c.vertices,f.vertices,c.axes),a.overlap<=0))return null;var v=u&&u.table[d.id(f,c)],g;v?g=v.collision:(g=o.create(f,c),g.collided=!0,g.bodyA=f.id<c.id?f:c,g.bodyB=f.id<c.id?c:f,g.parentA=g.bodyA.parent,g.parentB=g.bodyB.parent),f=g.bodyA,c=g.bodyB;var m;l.overlap<a.overlap?m=l:m=a;var y=g.normal,C=g.tangent,b=g.penetration,M=g.supports,w=m.overlap,R=m.axis,A=R.x,L=R.y,F=c.position.x-f.position.x,G=c.position.y-f.position.y;A*F+L*G>=0&&(A=-A,L=-L),y.x=A,y.y=L,C.x=-L,C.y=A,b.x=A*w,b.y=L*w,g.depth=w;var I=o._findSupports(f,c,y,1),B=0;if(x.contains(f.vertices,I[0])&&(M[B++]=I[0]),x.contains(f.vertices,I[1])&&(M[B++]=I[1]),B<2){var k=o._findSupports(c,f,y,-1);x.contains(c.vertices,k[0])&&(M[B++]=k[0]),B<2&&x.contains(c.vertices,k[1])&&(M[B++]=k[1])}return B===0&&(M[B++]=I[0]),g.supportCount=B,g},o._overlapAxes=function(f,c,u,v){var g=c.length,m=u.length,y=c[0].x,C=c[0].y,b=u[0].x,M=u[0].y,w=v.length,R=Number.MAX_VALUE,A=0,L,F,G,I,B,k;for(B=0;B<w;B++){var U=v[B],H=U.x,X=U.y,j=y*H+C*X,J=b*H+M*X,Y=j,$=J;for(k=1;k<g;k+=1)I=c[k].x*H+c[k].y*X,I>Y?Y=I:I<j&&(j=I);for(k=1;k<m;k+=1)I=u[k].x*H+u[k].y*X,I>$?$=I:I<J&&(J=I);if(F=Y-J,G=$-j,L=F<G?F:G,L<R&&(R=L,A=B,L<=0))break}f.axis=v[A],f.overlap=R},o._findSupports=function(f,c,u,v){var g=c.vertices,m=g.length,y=f.position.x,C=f.position.y,b=u.x*v,M=u.y*v,w=g[0],R=w,A=b*(y-R.x)+M*(C-R.y),L,F,G;for(G=1;G<m;G+=1)R=g[G],F=b*(y-R.x)+M*(C-R.y),F<A&&(A=F,w=R);return L=g[(m+w.index-1)%m],A=b*(y-L.x)+M*(C-L.y),R=g[(w.index+1)%m],b*(y-R.x)+M*(C-R.y)<A?(h[0]=w,h[1]=R,h):(h[0]=w,h[1]=L,h)}})()},43424:n=>{var T={};n.exports=T,function(){T.create=function(r){return{vertex:r,normalImpulse:0,tangentImpulse:0}}}()},81388:(n,T,r)=>{var o={};n.exports=o;var x=r(53402),d=r(52284);(function(){o.create=function(h){var l={bodies:[],collisions:[],pairs:null};return x.extend(l,h)},o.setBodies=function(h,l){h.bodies=l.slice(0)},o.clear=function(h){h.bodies=[],h.collisions=[]},o.collisions=function(h){var l=h.pairs,a=h.bodies,f=a.length,c=o.canCollide,u=d.collides,v=h.collisions,g=0,m,y;for(a.sort(o._compareBoundsX),m=0;m<f;m++){var C=a[m],b=C.bounds,M=C.bounds.max.x,w=C.bounds.max.y,R=C.bounds.min.y,A=C.isStatic||C.isSleeping,L=C.parts.length,F=L===1;for(y=m+1;y<f;y++){var G=a[y],I=G.bounds;if(I.min.x>M)break;if(!(w<I.min.y||R>I.max.y)&&!(A&&(G.isStatic||G.isSleeping))&&c(C.collisionFilter,G.collisionFilter)){var B=G.parts.length;if(F&&B===1){var k=u(C,G,l);k&&(v[g++]=k)}else for(var U=L>1?1:0,H=B>1?1:0,X=U;X<L;X++)for(var j=C.parts[X],b=j.bounds,J=H;J<B;J++){var Y=G.parts[J],I=Y.bounds;if(!(b.min.x>I.max.x||b.max.x<I.min.x||b.max.y<I.min.y||b.min.y>I.max.y)){var k=u(j,Y,l);k&&(v[g++]=k)}}}}}return v.length!==g&&(v.length=g),v},o.canCollide=function(h,l){return h.group===l.group&&h.group!==0?h.group>0:(h.mask&l.category)!==0&&(l.mask&h.category)!==0},o._compareBoundsX=function(h,l){return h.bounds.min.x-l.bounds.min.x}})()},4506:(n,T,r)=>{var o={};n.exports=o;var x=r(43424);(function(){o.create=function(d,h){var l=d.bodyA,a=d.bodyB,f={id:o.id(l,a),bodyA:l,bodyB:a,collision:d,contacts:[x.create(),x.create()],contactCount:0,separation:0,isActive:!0,isSensor:l.isSensor||a.isSensor,timeCreated:h,timeUpdated:h,inverseMass:0,friction:0,frictionStatic:0,restitution:0,slop:0};return o.update(f,d,h),f},o.update=function(d,h,l){var a=h.supports,f=h.supportCount,c=d.contacts,u=h.parentA,v=h.parentB;d.isActive=!0,d.timeUpdated=l,d.collision=h,d.separation=h.depth,d.inverseMass=u.inverseMass+v.inverseMass,d.friction=u.friction<v.friction?u.friction:v.friction,d.frictionStatic=u.frictionStatic>v.frictionStatic?u.frictionStatic:v.frictionStatic,d.restitution=u.restitution>v.restitution?u.restitution:v.restitution,d.slop=u.slop>v.slop?u.slop:v.slop,d.contactCount=f,h.pair=d;var g=a[0],m=c[0],y=a[1],C=c[1];(C.vertex===g||m.vertex===y)&&(c[1]=m,c[0]=m=C,C=c[1]),m.vertex=g,C.vertex=y},o.setActive=function(d,h,l){h?(d.isActive=!0,d.timeUpdated=l):(d.isActive=!1,d.contactCount=0)},o.id=function(d,h){return d.id<h.id?d.id.toString(36)+":"+h.id.toString(36):h.id.toString(36)+":"+d.id.toString(36)}})()},99561:(n,T,r)=>{var o={};n.exports=o;var x=r(4506),d=r(53402);(function(){o.create=function(h){return d.extend({table:{},list:[],collisionStart:[],collisionActive:[],collisionEnd:[]},h)},o.update=function(h,l,a){var f=x.update,c=x.create,u=x.setActive,v=h.table,g=h.list,m=g.length,y=m,C=h.collisionStart,b=h.collisionEnd,M=h.collisionActive,w=l.length,R=0,A=0,L=0,F,G,I;for(I=0;I<w;I++)F=l[I],G=F.pair,G?(G.isActive&&(M[L++]=G),f(G,F,a)):(G=c(F,a),v[G.id]=G,C[R++]=G,g[y++]=G);for(y=0,m=g.length,I=0;I<m;I++)G=g[I],G.timeUpdated>=a?g[y++]=G:(u(G,!1,a),G.collision.bodyA.sleepCounter>0&&G.collision.bodyB.sleepCounter>0?g[y++]=G:(b[A++]=G,delete v[G.id]));g.length!==y&&(g.length=y),C.length!==R&&(C.length=R),b.length!==A&&(b.length=A),M.length!==L&&(M.length=L)},o.clear=function(h){return h.table={},h.list.length=0,h.collisionStart.length=0,h.collisionActive.length=0,h.collisionEnd.length=0,h}})()},73296:(n,T,r)=>{var o={};n.exports=o;var x=r(31725),d=r(52284),h=r(15647),l=r(66280),a=r(41598);(function(){o.collides=function(f,c){for(var u=[],v=c.length,g=f.bounds,m=d.collides,y=h.overlaps,C=0;C<v;C++){var b=c[C],M=b.parts.length,w=M===1?0:1;if(f!==b&&y(b.bounds,g))for(var R=w;R<M;R++){var A=b.parts[R];if(y(A.bounds,g)){var L=m(A,f);if(L){u.push(L);break}}}}return u},o.ray=function(f,c,u,v){v=v||1e-100;for(var g=x.angle(c,u),m=x.magnitude(x.sub(c,u)),y=(u.x+c.x)*.5,C=(u.y+c.y)*.5,b=l.rectangle(y,C,m,v,{angle:g}),M=o.collides(b,f),w=0;w<M.length;w+=1){var R=M[w];R.body=R.bodyB=R.bodyA}return M},o.region=function(f,c,u){for(var v=[],g=0;g<f.length;g++){var m=f[g],y=h.overlaps(m.bounds,c);(y&&!u||!y&&u)&&v.push(m)}return v},o.point=function(f,c){for(var u=[],v=0;v<f.length;v++){var g=f[v];if(h.contains(g.bounds,c))for(var m=g.parts.length===1?0:1;m<g.parts.length;m++){var y=g.parts[m];if(h.contains(y.bounds,c)&&a.contains(y.vertices,c)){u.push(g);break}}}return u}})()},66272:(n,T,r)=>{var o={};n.exports=o;var x=r(41598),d=r(53402),h=r(15647);(function(){o._restingThresh=2,o._restingThreshTangent=Math.sqrt(6),o._positionDampen=.9,o._positionWarming=.8,o._frictionNormalMultiplier=5,o._frictionMaxStatic=Number.MAX_VALUE,o.preSolvePosition=function(l){var a,f,c,u=l.length;for(a=0;a<u;a++)f=l[a],f.isActive&&(c=f.contactCount,f.collision.parentA.totalContacts+=c,f.collision.parentB.totalContacts+=c)},o.solvePosition=function(l,a,f){var c,u,v,g,m,y,C,b,M=o._positionDampen*(f||1),w=d.clamp(a/d._baseDelta,0,1),R=l.length;for(c=0;c<R;c++)u=l[c],!(!u.isActive||u.isSensor)&&(v=u.collision,g=v.parentA,m=v.parentB,y=v.normal,u.separation=v.depth+y.x*(m.positionImpulse.x-g.positionImpulse.x)+y.y*(m.positionImpulse.y-g.positionImpulse.y));for(c=0;c<R;c++)u=l[c],!(!u.isActive||u.isSensor)&&(v=u.collision,g=v.parentA,m=v.parentB,y=v.normal,b=u.separation-u.slop*w,(g.isStatic||m.isStatic)&&(b*=2),g.isStatic||g.isSleeping||(C=M/g.totalContacts,g.positionImpulse.x+=y.x*b*C,g.positionImpulse.y+=y.y*b*C),m.isStatic||m.isSleeping||(C=M/m.totalContacts,m.positionImpulse.x-=y.x*b*C,m.positionImpulse.y-=y.y*b*C))},o.postSolvePosition=function(l){for(var a=o._positionWarming,f=l.length,c=x.translate,u=h.update,v=0;v<f;v++){var g=l[v],m=g.positionImpulse,y=m.x,C=m.y,b=g.velocity;if(g.totalContacts=0,y!==0||C!==0){for(var M=0;M<g.parts.length;M++){var w=g.parts[M];c(w.vertices,m),u(w.bounds,w.vertices,b),w.position.x+=y,w.position.y+=C}g.positionPrev.x+=y,g.positionPrev.y+=C,y*b.x+C*b.y<0?(m.x=0,m.y=0):(m.x*=a,m.y*=a)}}},o.preSolveVelocity=function(l){var a=l.length,f,c;for(f=0;f<a;f++){var u=l[f];if(!(!u.isActive||u.isSensor)){var v=u.contacts,g=u.contactCount,m=u.collision,y=m.parentA,C=m.parentB,b=m.normal,M=m.tangent;for(c=0;c<g;c++){var w=v[c],R=w.vertex,A=w.normalImpulse,L=w.tangentImpulse;if(A!==0||L!==0){var F=b.x*A+M.x*L,G=b.y*A+M.y*L;y.isStatic||y.isSleeping||(y.positionPrev.x+=F*y.inverseMass,y.positionPrev.y+=G*y.inverseMass,y.anglePrev+=y.inverseInertia*((R.x-y.position.x)*G-(R.y-y.position.y)*F)),C.isStatic||C.isSleeping||(C.positionPrev.x-=F*C.inverseMass,C.positionPrev.y-=G*C.inverseMass,C.anglePrev-=C.inverseInertia*((R.x-C.position.x)*G-(R.y-C.position.y)*F))}}}}},o.solveVelocity=function(l,a){var f=a/d._baseDelta,c=f*f,u=c*f,v=-o._restingThresh*f,g=o._restingThreshTangent,m=o._frictionNormalMultiplier*f,y=o._frictionMaxStatic,C=l.length,b,M,w,R;for(w=0;w<C;w++){var A=l[w];if(!(!A.isActive||A.isSensor)){var L=A.collision,F=L.parentA,G=L.parentB,I=L.normal.x,B=L.normal.y,k=L.tangent.x,U=L.tangent.y,H=A.inverseMass,X=A.friction*A.frictionStatic*m,j=A.contacts,J=A.contactCount,Y=1/J,$=F.position.x-F.positionPrev.x,z=F.position.y-F.positionPrev.y,V=F.angle-F.anglePrev,K=G.position.x-G.positionPrev.x,Q=G.position.y-G.positionPrev.y,_=G.angle-G.anglePrev;for(R=0;R<J;R++){var tt=j[R],rt=tt.vertex,ot=rt.x-F.position.x,ft=rt.y-F.position.y,ct=rt.x-G.position.x,gt=rt.y-G.position.y,xt=$-ft*V,Mt=z+ot*V,Tt=K-gt*_,Ht=Q+ct*_,Xt=xt-Tt,Kt=Mt-Ht,bt=I*Xt+B*Kt,Ut=k*Xt+U*Kt,Vt=A.separation+bt,ee=Math.min(Vt,1);ee=Vt<0?0:ee;var Ee=ee*X;Ut<-Ee||Ut>Ee?(M=Ut>0?Ut:-Ut,b=A.friction*(Ut>0?1:-1)*u,b<-M?b=-M:b>M&&(b=M)):(b=Ut,M=y);var Me=ot*B-ft*I,ve=ct*B-gt*I,Fe=Y/(H+F.inverseInertia*Me*Me+G.inverseInertia*ve*ve),ai=(1+A.restitution)*bt*Fe;if(b*=Fe,bt<v)tt.normalImpulse=0;else{var kt=tt.normalImpulse;tt.normalImpulse+=ai,tt.normalImpulse>0&&(tt.normalImpulse=0),ai=tt.normalImpulse-kt}if(Ut<-g||Ut>g)tt.tangentImpulse=0;else{var Wt=tt.tangentImpulse;tt.tangentImpulse+=b,tt.tangentImpulse<-M&&(tt.tangentImpulse=-M),tt.tangentImpulse>M&&(tt.tangentImpulse=M),b=tt.tangentImpulse-Wt}var fe=I*ai+k*b,xe=B*ai+U*b;F.isStatic||F.isSleeping||(F.positionPrev.x+=fe*F.inverseMass,F.positionPrev.y+=xe*F.inverseMass,F.anglePrev+=(ot*xe-ft*fe)*F.inverseInertia),G.isStatic||G.isSleeping||(G.positionPrev.x-=fe*G.inverseMass,G.positionPrev.y-=xe*G.inverseMass,G.anglePrev-=(ct*xe-gt*fe)*G.inverseInertia)}}}}})()},48140:(n,T,r)=>{var o={};n.exports=o;var x=r(41598),d=r(31725),h=r(53614),l=r(15647),a=r(66615),f=r(53402);(function(){o._warming=.4,o._torqueDampen=1,o._minLength=1e-6,o.create=function(c){var u=c;u.bodyA&&!u.pointA&&(u.pointA={x:0,y:0}),u.bodyB&&!u.pointB&&(u.pointB={x:0,y:0});var v=u.bodyA?d.add(u.bodyA.position,u.pointA):u.pointA,g=u.bodyB?d.add(u.bodyB.position,u.pointB):u.pointB,m=d.magnitude(d.sub(v,g));u.length=typeof u.length<"u"?u.length:m,u.id=u.id||f.nextId(),u.label=u.label||"Constraint",u.type="constraint",u.stiffness=u.stiffness||(u.length>0?1:.7),u.damping=u.damping||0,u.angularStiffness=u.angularStiffness||0,u.angleA=u.bodyA?u.bodyA.angle:u.angleA,u.angleB=u.bodyB?u.bodyB.angle:u.angleB,u.plugin={};var y={visible:!0,type:"line",anchors:!0,lineColor:null,lineOpacity:null,lineThickness:null,pinSize:null,anchorColor:null,anchorSize:null};return u.length===0&&u.stiffness>.1?(y.type="pin",y.anchors=!1):u.stiffness<.9&&(y.type="spring"),u.render=f.extend(y,u.render),u},o.preSolveAll=function(c){for(var u=0;u<c.length;u+=1){var v=c[u],g=v.constraintImpulse;v.isStatic||g.x===0&&g.y===0&&g.angle===0||(v.position.x+=g.x,v.position.y+=g.y,v.angle+=g.angle)}},o.solveAll=function(c,u){for(var v=f.clamp(u/f._baseDelta,0,1),g=0;g<c.length;g+=1){var m=c[g],y=!m.bodyA||m.bodyA&&m.bodyA.isStatic,C=!m.bodyB||m.bodyB&&m.bodyB.isStatic;(y||C)&&o.solve(c[g],v)}for(g=0;g<c.length;g+=1)m=c[g],y=!m.bodyA||m.bodyA&&m.bodyA.isStatic,C=!m.bodyB||m.bodyB&&m.bodyB.isStatic,!y&&!C&&o.solve(c[g],v)},o.solve=function(c,u){var v=c.bodyA,g=c.bodyB,m=c.pointA,y=c.pointB;if(!(!v&&!g)){v&&!v.isStatic&&(d.rotate(m,v.angle-c.angleA,m),c.angleA=v.angle),g&&!g.isStatic&&(d.rotate(y,g.angle-c.angleB,y),c.angleB=g.angle);var C=m,b=y;if(v&&(C=d.add(v.position,m)),g&&(b=d.add(g.position,y)),!(!C||!b)){var M=d.sub(C,b),w=d.magnitude(M);w<o._minLength&&(w=o._minLength);var R=(w-c.length)/w,A=c.stiffness>=1||c.length===0,L=A?c.stiffness*u:c.stiffness*u*u,F=c.damping*u,G=d.mult(M,R*L),I=(v?v.inverseMass:0)+(g?g.inverseMass:0),B=(v?v.inverseInertia:0)+(g?g.inverseInertia:0),k=I+B,U,H,X,j,J;if(F>0){var Y=d.create();X=d.div(M,w),J=d.sub(g&&d.sub(g.position,g.positionPrev)||Y,v&&d.sub(v.position,v.positionPrev)||Y),j=d.dot(X,J)}v&&!v.isStatic&&(H=v.inverseMass/I,v.constraintImpulse.x-=G.x*H,v.constraintImpulse.y-=G.y*H,v.position.x-=G.x*H,v.position.y-=G.y*H,F>0&&(v.positionPrev.x-=F*X.x*j*H,v.positionPrev.y-=F*X.y*j*H),U=d.cross(m,G)/k*o._torqueDampen*v.inverseInertia*(1-c.angularStiffness),v.constraintImpulse.angle-=U,v.angle-=U),g&&!g.isStatic&&(H=g.inverseMass/I,g.constraintImpulse.x+=G.x*H,g.constraintImpulse.y+=G.y*H,g.position.x+=G.x*H,g.position.y+=G.y*H,F>0&&(g.positionPrev.x+=F*X.x*j*H,g.positionPrev.y+=F*X.y*j*H),U=d.cross(y,G)/k*o._torqueDampen*g.inverseInertia*(1-c.angularStiffness),g.constraintImpulse.angle+=U,g.angle+=U)}}},o.postSolveAll=function(c){for(var u=0;u<c.length;u++){var v=c[u],g=v.constraintImpulse;if(!(v.isStatic||g.x===0&&g.y===0&&g.angle===0)){h.set(v,!1);for(var m=0;m<v.parts.length;m++){var y=v.parts[m];x.translate(y.vertices,g),m>0&&(y.position.x+=g.x,y.position.y+=g.y),g.angle!==0&&(x.rotate(y.vertices,g.angle,v.position),a.rotate(y.axes,g.angle),m>0&&d.rotateAbout(y.position,g.angle,v.position,y.position)),l.update(y.bounds,y.vertices,v.velocity)}g.angle*=o._warming,g.x*=o._warming,g.y*=o._warming}}},o.pointAWorld=function(c){return{x:(c.bodyA?c.bodyA.position.x:0)+(c.pointA?c.pointA.x:0),y:(c.bodyA?c.bodyA.position.y:0)+(c.pointA?c.pointA.y:0)}},o.pointBWorld=function(c){return{x:(c.bodyB?c.bodyB.position.x:0)+(c.pointB?c.pointB.x:0),y:(c.bodyB?c.bodyB.position.y:0)+(c.pointB?c.pointB.y:0)}},o.currentLength=function(c){var u=(c.bodyA?c.bodyA.position.x:0)+(c.pointA?c.pointA.x:0),v=(c.bodyA?c.bodyA.position.y:0)+(c.pointA?c.pointA.y:0),g=(c.bodyB?c.bodyB.position.x:0)+(c.pointB?c.pointB.x:0),m=(c.bodyB?c.bodyB.position.y:0)+(c.pointB?c.pointB.y:0),y=u-g,C=v-m;return Math.sqrt(y*y+C*C)}})()},53402:(n,T,r)=>{var o={};n.exports=o,function(){o._baseDelta=16.666666666666668,o._nextId=0,o._seed=0,o._nowStartTime=+new Date,o._warnedOnce={},o._decomp=null,o.extend=function(d,h){var l,a;typeof h=="boolean"?(l=2,a=h):(l=1,a=!0);for(var f=l;f<arguments.length;f++){var c=arguments[f];if(c)for(var u in c)a&&c[u]&&c[u].constructor===Object&&(!d[u]||d[u].constructor===Object)?(d[u]=d[u]||{},o.extend(d[u],a,c[u])):d[u]=c[u]}return d},o.clone=function(d,h){return o.extend({},h,d)},o.keys=function(d){if(Object.keys)return Object.keys(d);var h=[];for(var l in d)h.push(l);return h},o.values=function(d){var h=[];if(Object.keys){for(var l=Object.keys(d),a=0;a<l.length;a++)h.push(d[l[a]]);return h}for(var f in d)h.push(d[f]);return h},o.get=function(d,h,l,a){h=h.split(".").slice(l,a);for(var f=0;f<h.length;f+=1)d=d[h[f]];return d},o.set=function(d,h,l,a,f){var c=h.split(".").slice(a,f);return o.get(d,h,0,-1)[c[c.length-1]]=l,l},o.shuffle=function(d){for(var h=d.length-1;h>0;h--){var l=Math.floor(o.random()*(h+1)),a=d[h];d[h]=d[l],d[l]=a}return d},o.choose=function(d){return d[Math.floor(o.random()*d.length)]},o.isElement=function(d){return typeof HTMLElement<"u"?d instanceof HTMLElement:!!(d&&d.nodeType&&d.nodeName)},o.isArray=function(d){return Object.prototype.toString.call(d)==="[object Array]"},o.isFunction=function(d){return typeof d=="function"},o.isPlainObject=function(d){return typeof d=="object"&&d.constructor===Object},o.isString=function(d){return toString.call(d)==="[object String]"},o.clamp=function(d,h,l){return d<h?h:d>l?l:d},o.sign=function(d){return d<0?-1:1},o.now=function(){if(typeof window<"u"&&window.performance){if(window.performance.now)return window.performance.now();if(window.performance.webkitNow)return window.performance.webkitNow()}return Date.now?Date.now():new Date-o._nowStartTime},o.random=function(d,h){return d=typeof d<"u"?d:0,h=typeof h<"u"?h:1,d+x()*(h-d)};var x=function(){return o._seed=(o._seed*9301+49297)%233280,o._seed/233280};o.colorToNumber=function(d){return d=d.replace("#",""),d.length==3&&(d=d.charAt(0)+d.charAt(0)+d.charAt(1)+d.charAt(1)+d.charAt(2)+d.charAt(2)),parseInt(d,16)},o.logLevel=1,o.log=function(){console&&o.logLevel>0&&o.logLevel<=3&&console.log.apply(console,["matter-js:"].concat(Array.prototype.slice.call(arguments)))},o.info=function(){console&&o.logLevel>0&&o.logLevel<=2&&console.info.apply(console,["matter-js:"].concat(Array.prototype.slice.call(arguments)))},o.warn=function(){console&&o.logLevel>0&&o.logLevel<=3&&console.warn.apply(console,["matter-js:"].concat(Array.prototype.slice.call(arguments)))},o.warnOnce=function(){var d=Array.prototype.slice.call(arguments).join(" ");o._warnedOnce[d]||(o.warn(d),o._warnedOnce[d]=!0)},o.deprecated=function(d,h,l){d[h]=o.chain(function(){o.warnOnce("🔅 deprecated 🔅",l)},d[h])},o.nextId=function(){return o._nextId++},o.indexOf=function(d,h){if(d.indexOf)return d.indexOf(h);for(var l=0;l<d.length;l++)if(d[l]===h)return l;return-1},o.map=function(d,h){if(d.map)return d.map(h);for(var l=[],a=0;a<d.length;a+=1)l.push(h(d[a]));return l},o.topologicalSort=function(d){var h=[],l=[],a=[];for(var f in d)!l[f]&&!a[f]&&o._topologicalSort(f,l,a,d,h);return h},o._topologicalSort=function(d,h,l,a,f){var c=a[d]||[];l[d]=!0;for(var u=0;u<c.length;u+=1){var v=c[u];l[v]||h[v]||o._topologicalSort(v,h,l,a,f)}l[d]=!1,h[d]=!0,f.push(d)},o.chain=function(){for(var d=[],h=0;h<arguments.length;h+=1){var l=arguments[h];l._chained?d.push.apply(d,l._chained):d.push(l)}var a=function(){for(var f,c=new Array(arguments.length),u=0,v=arguments.length;u<v;u++)c[u]=arguments[u];for(u=0;u<d.length;u+=1){var g=d[u].apply(f,c);typeof g<"u"&&(f=g)}return f};return a._chained=d,a},o.chainPathBefore=function(d,h,l){return o.set(d,h,o.chain(l,o.get(d,h)))},o.chainPathAfter=function(d,h,l){return o.set(d,h,o.chain(o.get(d,h),l))},o.setDecomp=function(d){o._decomp=d},o.getDecomp=function(){var d=o._decomp;try{!d&&typeof window<"u"&&(d=window.decomp),!d&&typeof r.g<"u"&&(d=r.g.decomp)}catch{d=null}return d}}()},48413:(n,T,r)=>{var o={};n.exports=o;var x=r(53614),d=r(66272),h=r(81388),l=r(99561),a=r(35810),f=r(69351),c=r(48140),u=r(53402),v=r(22562);(function(){o._deltaMax=16.666666666666668,o.create=function(g){g=g||{};var m={positionIterations:6,velocityIterations:4,constraintIterations:2,enableSleeping:!1,events:[],plugin:{},gravity:{x:0,y:1,scale:.001},timing:{timestamp:0,timeScale:1,lastDelta:0,lastElapsed:0,lastUpdatesPerFrame:0}},y=u.extend(m,g);return y.world=g.world||f.create({label:"World"}),y.pairs=g.pairs||l.create(),y.detector=g.detector||h.create(),y.detector.pairs=y.pairs,y.grid={buckets:[]},y.world.gravity=y.gravity,y.broadphase=y.grid,y.metrics={},y},o.update=function(g,m){var y=u.now(),C=g.world,b=g.detector,M=g.pairs,w=g.timing,R=w.timestamp,A;m>o._deltaMax&&u.warnOnce("Matter.Engine.update: delta argument is recommended to be less than or equal to",o._deltaMax.toFixed(3),"ms."),m=typeof m<"u"?m:u._baseDelta,m*=w.timeScale,w.timestamp+=m,w.lastDelta=m;var L={timestamp:w.timestamp,delta:m};a.trigger(g,"beforeUpdate",L);var F=f.allBodies(C),G=f.allConstraints(C),I=f.allComposites(C);for(C.isModified&&(h.setBodies(b,F),f.setModified(C,!1,!1,!0)),g.enableSleeping&&x.update(F,m),o._bodiesApplyGravity(F,g.gravity),o.wrap(F,I),o.attractors(F),m>0&&o._bodiesUpdate(F,m),a.trigger(g,"beforeSolve",L),c.preSolveAll(F),A=0;A<g.constraintIterations;A++)c.solveAll(G,m);c.postSolveAll(F);var B=h.collisions(b);l.update(M,B,R),g.enableSleeping&&x.afterCollisions(M.list),M.collisionStart.length>0&&a.trigger(g,"collisionStart",{pairs:M.collisionStart,timestamp:w.timestamp,delta:m});var k=u.clamp(20/g.positionIterations,0,1);for(d.preSolvePosition(M.list),A=0;A<g.positionIterations;A++)d.solvePosition(M.list,m,k);for(d.postSolvePosition(F),c.preSolveAll(F),A=0;A<g.constraintIterations;A++)c.solveAll(G,m);for(c.postSolveAll(F),d.preSolveVelocity(M.list),A=0;A<g.velocityIterations;A++)d.solveVelocity(M.list,m);return o._bodiesUpdateVelocities(F),M.collisionActive.length>0&&a.trigger(g,"collisionActive",{pairs:M.collisionActive,timestamp:w.timestamp,delta:m}),M.collisionEnd.length>0&&a.trigger(g,"collisionEnd",{pairs:M.collisionEnd,timestamp:w.timestamp,delta:m}),o._bodiesClearForces(F),a.trigger(g,"afterUpdate",L),g.timing.lastElapsed=u.now()-y,g},o.merge=function(g,m){if(u.extend(g,m),m.world){g.world=m.world,o.clear(g);for(var y=f.allBodies(g.world),C=0;C<y.length;C++){var b=y[C];x.set(b,!1),b.id=u.nextId()}}},o.clear=function(g){l.clear(g.pairs),h.clear(g.detector)},o._bodiesClearForces=function(g){for(var m=g.length,y=0;y<m;y++){var C=g[y];C.force.x=0,C.force.y=0,C.torque=0}},o._bodiesApplyGravity=function(g,m){var y=typeof m.scale<"u"?m.scale:.001,C=g.length;if(!(m.x===0&&m.y===0||y===0))for(var b=0;b<C;b++){var M=g[b];M.ignoreGravity||M.isStatic||M.isSleeping||(M.force.y+=M.mass*m.y*y,M.force.x+=M.mass*m.x*y)}},o._bodiesUpdate=function(g,m){for(var y=g.length,C=0;C<y;C++){var b=g[C];b.isStatic||b.isSleeping||v.update(b,m)}},o._bodiesUpdateVelocities=function(g){for(var m=g.length,y=0;y<m;y++)v.updateVelocities(g[y])},o.wrap=function(g,m){for(var y=0;y<g.length;y+=1){var C=g[y];C.wrapBounds!==null&&v.wrap(C,C.wrapBounds)}for(y=0;y<m.length;y+=1){var b=m[y];b.wrapBounds!==null&&f.wrap(b,b.wrapBounds)}},o.attractors=function(g){for(var m=0;m<g.length;m++){var y=g[m],C=y.attractors;if(C&&C.length>0)for(var b=0;b<g.length;b++){var M=g[b];if(m!==b)for(var w=0;w<C.length;w++){var R=C[w],A=R;u.isFunction(R)&&(A=R(y,M)),A&&v.applyForce(M,M.position,A)}}}}})()},35810:(n,T,r)=>{var o={};n.exports=o;var x=r(53402);(function(){o.on=function(d,h,l){for(var a=h.split(" "),f,c=0;c<a.length;c++)f=a[c],d.events=d.events||{},d.events[f]=d.events[f]||[],d.events[f].push(l);return l},o.off=function(d,h,l){if(!h){d.events={};return}typeof h=="function"&&(l=h,h=x.keys(d.events).join(" "));for(var a=h.split(" "),f=0;f<a.length;f++){var c=d.events[a[f]],u=[];if(l&&c)for(var v=0;v<c.length;v++)c[v]!==l&&u.push(c[v]);d.events[a[f]]=u}},o.trigger=function(d,h,l){var a,f,c,u,v=d.events;if(v&&x.keys(v).length>0){l||(l={}),a=h.split(" ");for(var g=0;g<a.length;g++)if(f=a[g],c=v[f],c){u=x.clone(l,!1),u.name=f,u.source=d;for(var m=0;m<c.length;m++)c[m].apply(d,[u])}}}})()},6790:(n,T,r)=>{var o={};n.exports=o;var x=r(73832),d=r(53402);(function(){o.name="matter-js",o.version="0.20.0",o.uses=[],o.used=[],o.use=function(){x.use(o,Array.prototype.slice.call(arguments))},o.before=function(h,l){return h=h.replace(/^Matter./,""),d.chainPathBefore(o,h,l)},o.after=function(h,l){return h=h.replace(/^Matter./,""),d.chainPathAfter(o,h,l)}})()},73832:(n,T,r)=>{var o={};n.exports=o;var x=r(53402);(function(){o._registry={},o.register=function(d){if(o.isPlugin(d)||x.warn("Plugin.register:",o.toString(d),"does not implement all required fields."),d.name in o._registry){var h=o._registry[d.name],l=o.versionParse(d.version).number,a=o.versionParse(h.version).number;l>a?(x.warn("Plugin.register:",o.toString(h),"was upgraded to",o.toString(d)),o._registry[d.name]=d):l<a?x.warn("Plugin.register:",o.toString(h),"can not be downgraded to",o.toString(d)):d!==h&&x.warn("Plugin.register:",o.toString(d),"is already registered to different plugin object")}else o._registry[d.name]=d;return d},o.resolve=function(d){return o._registry[o.dependencyParse(d).name]},o.toString=function(d){return typeof d=="string"?d:(d.name||"anonymous")+"@"+(d.version||d.range||"0.0.0")},o.isPlugin=function(d){return d&&d.name&&d.version&&d.install},o.isUsed=function(d,h){return d.used.indexOf(h)>-1},o.isFor=function(d,h){var l=d.for&&o.dependencyParse(d.for);return!d.for||h.name===l.name&&o.versionSatisfies(h.version,l.range)},o.use=function(d,h){if(d.uses=(d.uses||[]).concat(h||[]),d.uses.length===0){x.warn("Plugin.use:",o.toString(d),"does not specify any dependencies to install.");return}for(var l=o.dependencies(d),a=x.topologicalSort(l),f=[],c=0;c<a.length;c+=1)if(a[c]!==d.name){var u=o.resolve(a[c]);if(!u){f.push("❌ "+a[c]);continue}o.isUsed(d,u.name)||(o.isFor(u,d)||(x.warn("Plugin.use:",o.toString(u),"is for",u.for,"but installed on",o.toString(d)+"."),u._warned=!0),u.install?u.install(d):(x.warn("Plugin.use:",o.toString(u),"does not specify an install function."),u._warned=!0),u._warned?(f.push("🔶 "+o.toString(u)),delete u._warned):f.push("✅ "+o.toString(u)),d.used.push(u.name))}f.length>0&&!u.silent&&x.info(f.join("  "))},o.dependencies=function(d,h){var l=o.dependencyParse(d),a=l.name;if(h=h||{},!(a in h)){d=o.resolve(d)||d,h[a]=x.map(d.uses||[],function(c){o.isPlugin(c)&&o.register(c);var u=o.dependencyParse(c),v=o.resolve(c);return v&&!o.versionSatisfies(v.version,u.range)?(x.warn("Plugin.dependencies:",o.toString(v),"does not satisfy",o.toString(u),"used by",o.toString(l)+"."),v._warned=!0,d._warned=!0):v||(x.warn("Plugin.dependencies:",o.toString(c),"used by",o.toString(l),"could not be resolved."),d._warned=!0),u.name});for(var f=0;f<h[a].length;f+=1)o.dependencies(h[a][f],h);return h}},o.dependencyParse=function(d){if(x.isString(d)){var h=/^[\w-]+(@(\*|[\^~]?\d+\.\d+\.\d+(-[0-9A-Za-z-+]+)?))?$/;return h.test(d)||x.warn("Plugin.dependencyParse:",d,"is not a valid dependency string."),{name:d.split("@")[0],range:d.split("@")[1]||"*"}}return{name:d.name,range:d.range||d.version}},o.versionParse=function(d){var h=/^(\*)|(\^|~|>=|>)?\s*((\d+)\.(\d+)\.(\d+))(-[0-9A-Za-z-+]+)?$/;h.test(d)||x.warn("Plugin.versionParse:",d,"is not a valid version or range.");var l=h.exec(d),a=Number(l[4]),f=Number(l[5]),c=Number(l[6]);return{isRange:!!(l[1]||l[2]),version:l[3],range:d,operator:l[1]||l[2]||"",major:a,minor:f,patch:c,parts:[a,f,c],prerelease:l[7],number:a*1e8+f*1e4+c}},o.versionSatisfies=function(d,h){h=h||"*";var l=o.versionParse(h),a=o.versionParse(d);if(l.isRange){if(l.operator==="*"||d==="*")return!0;if(l.operator===">")return a.number>l.number;if(l.operator===">=")return a.number>=l.number;if(l.operator==="~")return a.major===l.major&&a.minor===l.minor&&a.patch>=l.patch;if(l.operator==="^")return l.major>0?a.major===l.major&&a.number>=l.number:l.minor>0?a.minor===l.minor&&a.patch>=l.patch:a.patch===l.patch}return d===h||d==="*"}})()},13037:(n,T,r)=>{var o={};n.exports=o;var x=r(35810),d=r(48413),h=r(53402);(function(){o._maxFrameDelta=66.66666666666667,o._frameDeltaFallback=16.666666666666668,o._timeBufferMargin=1.5,o._elapsedNextEstimate=1,o._smoothingLowerBound=.1,o._smoothingUpperBound=.9,o.create=function(a){var f={delta:16.666666666666668,frameDelta:null,frameDeltaSmoothing:!0,frameDeltaSnapping:!0,frameDeltaHistory:[],frameDeltaHistorySize:100,frameRequestId:null,timeBuffer:0,timeLastTick:null,maxUpdates:null,maxFrameTime:33.333333333333336,lastUpdatesDeferred:0,enabled:!0},c=h.extend(f,a);return c.fps=0,c},o.run=function(a,f){return a.timeBuffer=o._frameDeltaFallback,function c(u){a.frameRequestId=o._onNextFrame(a,c),u&&a.enabled&&o.tick(a,f,u)}(),a},o.tick=function(a,f,c){var u=h.now(),v=a.delta,g=0,m=c-a.timeLastTick;if((!m||!a.timeLastTick||m>Math.max(o._maxFrameDelta,a.maxFrameTime))&&(m=a.frameDelta||o._frameDeltaFallback),a.frameDeltaSmoothing){a.frameDeltaHistory.push(m),a.frameDeltaHistory=a.frameDeltaHistory.slice(-a.frameDeltaHistorySize);var y=a.frameDeltaHistory.slice(0).sort(),C=a.frameDeltaHistory.slice(y.length*o._smoothingLowerBound,y.length*o._smoothingUpperBound),b=l(C);m=b||m}a.frameDeltaSnapping&&(m=1e3/Math.round(1e3/m)),a.frameDelta=m,a.timeLastTick=c,a.timeBuffer+=a.frameDelta,a.timeBuffer=h.clamp(a.timeBuffer,0,a.frameDelta+v*o._timeBufferMargin),a.lastUpdatesDeferred=0;var M=a.maxUpdates||Math.ceil(a.maxFrameTime/v),w={timestamp:f.timing.timestamp};x.trigger(a,"beforeTick",w),x.trigger(a,"tick",w);for(var R=h.now();v>0&&a.timeBuffer>=v*o._timeBufferMargin;){x.trigger(a,"beforeUpdate",w),d.update(f,v),x.trigger(a,"afterUpdate",w),a.timeBuffer-=v,g+=1;var A=h.now()-u,L=h.now()-R,F=A+o._elapsedNextEstimate*L/g;if(g>=M||F>a.maxFrameTime){a.lastUpdatesDeferred=Math.round(Math.max(0,a.timeBuffer/v-o._timeBufferMargin));break}}f.timing.lastUpdatesPerFrame=g,x.trigger(a,"afterTick",w),a.frameDeltaHistory.length>=100&&(a.lastUpdatesDeferred&&Math.round(a.frameDelta/v)>M?h.warnOnce("Matter.Runner: runner reached runner.maxUpdates, see docs."):a.lastUpdatesDeferred&&h.warnOnce("Matter.Runner: runner reached runner.maxFrameTime, see docs."),typeof a.isFixed<"u"&&h.warnOnce("Matter.Runner: runner.isFixed is now redundant, see docs."),(a.deltaMin||a.deltaMax)&&h.warnOnce("Matter.Runner: runner.deltaMin and runner.deltaMax were removed, see docs."),a.fps!==0&&h.warnOnce("Matter.Runner: runner.fps was replaced by runner.delta, see docs."))},o.stop=function(a){o._cancelNextFrame(a)},o._onNextFrame=function(a,f){if(typeof window<"u"&&window.requestAnimationFrame)a.frameRequestId=window.requestAnimationFrame(f);else throw new Error("Matter.Runner: missing required global window.requestAnimationFrame.");return a.frameRequestId},o._cancelNextFrame=function(a){if(typeof window<"u"&&window.cancelAnimationFrame)window.cancelAnimationFrame(a.frameRequestId);else throw new Error("Matter.Runner: missing required global window.cancelAnimationFrame.")};var l=function(a){for(var f=0,c=a.length,u=0;u<c;u+=1)f+=a[u];return f/c||0};o._mean=l})()},53614:(n,T,r)=>{var o={};n.exports=o;var x=r(22562),d=r(35810),h=r(53402);(function(){o._motionWakeThreshold=.18,o._motionSleepThreshold=.08,o._minBias=.9,o.update=function(l,a){for(var f=a/h._baseDelta,c=o._motionSleepThreshold,u=0;u<l.length;u++){var v=l[u],g=x.getSpeed(v),m=x.getAngularSpeed(v),y=g*g+m*m;if(v.force.x!==0||v.force.y!==0){o.set(v,!1);continue}var C=Math.min(v.motion,y),b=Math.max(v.motion,y);v.motion=o._minBias*C+(1-o._minBias)*b,v.sleepThreshold>0&&v.motion<c?(v.sleepCounter+=1,v.sleepCounter>=v.sleepThreshold/f&&o.set(v,!0)):v.sleepCounter>0&&(v.sleepCounter-=1)}},o.afterCollisions=function(l){for(var a=o._motionSleepThreshold,f=0;f<l.length;f++){var c=l[f];if(c.isActive){var u=c.collision,v=u.bodyA.parent,g=u.bodyB.parent;if(!(v.isSleeping&&g.isSleeping||v.isStatic||g.isStatic)&&(v.isSleeping||g.isSleeping)){var m=v.isSleeping&&!v.isStatic?v:g,y=m===v?g:v;!m.isStatic&&y.motion>a&&o.set(m,!1)}}}},o.set=function(l,a){var f=l.isSleeping;a?(l.isSleeping=!0,l.sleepCounter=l.sleepThreshold,l.positionImpulse.x=0,l.positionImpulse.y=0,l.positionPrev.x=l.position.x,l.positionPrev.y=l.position.y,l.anglePrev=l.angle,l.speed=0,l.angularSpeed=0,l.motion=0,f||d.trigger(l,"sleepStart")):(l.isSleeping=!1,l.sleepCounter=0,f&&d.trigger(l,"sleepEnd"))}})()},66280:(n,T,r)=>{var o={};n.exports=o;var x=r(41598),d=r(53402),h=r(22562),l=r(15647),a=r(31725);(function(){o.rectangle=function(f,c,u,v,g){g=g||{};var m={label:"Rectangle Body",position:{x:f,y:c},vertices:x.fromPath("L 0 0 L "+u+" 0 L "+u+" "+v+" L 0 "+v)};if(g.chamfer){var y=g.chamfer;m.vertices=x.chamfer(m.vertices,y.radius,y.quality,y.qualityMin,y.qualityMax),delete g.chamfer}return h.create(d.extend({},m,g))},o.trapezoid=function(f,c,u,v,g,m){m=m||{},g>=1&&d.warn("Bodies.trapezoid: slope parameter must be < 1."),g*=.5;var y=(1-g*2)*u,C=u*g,b=C+y,M=b+C,w;g<.5?w="L 0 0 L "+C+" "+-v+" L "+b+" "+-v+" L "+M+" 0":w="L 0 0 L "+b+" "+-v+" L "+M+" 0";var R={label:"Trapezoid Body",position:{x:f,y:c},vertices:x.fromPath(w)};if(m.chamfer){var A=m.chamfer;R.vertices=x.chamfer(R.vertices,A.radius,A.quality,A.qualityMin,A.qualityMax),delete m.chamfer}return h.create(d.extend({},R,m))},o.circle=function(f,c,u,v,g){v=v||{};var m={label:"Circle Body",circleRadius:u};g=g||25;var y=Math.ceil(Math.max(10,Math.min(g,u)));return y%2===1&&(y+=1),o.polygon(f,c,y,u,d.extend({},m,v))},o.polygon=function(f,c,u,v,g){if(g=g||{},u<3)return o.circle(f,c,v,g);for(var m=2*Math.PI/u,y="",C=m*.5,b=0;b<u;b+=1){var M=C+b*m,w=Math.cos(M)*v,R=Math.sin(M)*v;y+="L "+w.toFixed(3)+" "+R.toFixed(3)+" "}var A={label:"Polygon Body",position:{x:f,y:c},vertices:x.fromPath(y)};if(g.chamfer){var L=g.chamfer;A.vertices=x.chamfer(A.vertices,L.radius,L.quality,L.qualityMin,L.qualityMax),delete g.chamfer}return h.create(d.extend({},A,g))},o.fromVertices=function(f,c,u,v,g,m,y,C){var b=d.getDecomp(),M,w,R,A,L,F,G,I,B,k,U;for(M=!!(b&&b.quickDecomp),v=v||{},R=[],g=typeof g<"u"?g:!1,m=typeof m<"u"?m:.01,y=typeof y<"u"?y:10,C=typeof C<"u"?C:.01,d.isArray(u[0])||(u=[u]),k=0;k<u.length;k+=1)if(F=u[k],A=x.isConvex(F),L=!A,L&&!M&&d.warnOnce("Bodies.fromVertices: Install the 'poly-decomp' library and use Common.setDecomp or provide 'decomp' as a global to decompose concave vertices."),A||!M)A?F=x.clockwiseSort(F):F=x.hull(F),R.push({position:{x:f,y:c},vertices:F});else{var H=F.map(function(tt){return[tt.x,tt.y]});b.makeCCW(H),m!==!1&&b.removeCollinearPoints(H,m),C!==!1&&b.removeDuplicatePoints&&b.removeDuplicatePoints(H,C);var X=b.quickDecomp(H);for(G=0;G<X.length;G++){var j=X[G],J=j.map(function(tt){return{x:tt[0],y:tt[1]}});y>0&&x.area(J)<y||R.push({position:x.centre(J),vertices:J})}}for(G=0;G<R.length;G++)R[G]=h.create(d.extend(R[G],v));if(g){var Y=5;for(G=0;G<R.length;G++){var $=R[G];for(I=G+1;I<R.length;I++){var z=R[I];if(l.overlaps($.bounds,z.bounds)){var V=$.vertices,K=z.vertices;for(B=0;B<$.vertices.length;B++)for(U=0;U<z.vertices.length;U++){var Q=a.magnitudeSquared(a.sub(V[(B+1)%V.length],K[U])),_=a.magnitudeSquared(a.sub(V[B],K[(U+1)%K.length]));Q<Y&&_<Y&&(V[B].isInternal=!0,K[U].isInternal=!0)}}}}}return R.length>1?(w=h.create(d.extend({parts:R.slice(0)},v)),h.setPosition(w,{x:f,y:c}),w):R[0]},o.flagCoincidentParts=function(f,c){c===void 0&&(c=5);for(var u=0;u<f.length;u++)for(var v=f[u],g=u+1;g<f.length;g++){var m=f[g];if(l.overlaps(v.bounds,m.bounds))for(var y=v.vertices,C=m.vertices,b=0;b<v.vertices.length;b++)for(var M=0;M<m.vertices.length;M++){var w=a.magnitudeSquared(a.sub(y[(b+1)%y.length],C[M])),R=a.magnitudeSquared(a.sub(y[b],C[(M+1)%C.length]));w<c&&R<c&&(y[b].isInternal=!0,C[M].isInternal=!0)}}return f}})()},74116:(n,T,r)=>{var o={};n.exports=o;var x=r(69351),d=r(48140),h=r(53402),l=r(22562),a=r(66280);(function(){o.stack=function(f,c,u,v,g,m,y){for(var C=x.create({label:"Stack"}),b=f,M=c,w,R=0,A=0;A<v;A++){for(var L=0,F=0;F<u;F++){var G=y(b,M,F,A,w,R);if(G){var I=G.bounds.max.y-G.bounds.min.y,B=G.bounds.max.x-G.bounds.min.x;I>L&&(L=I),l.translate(G,{x:B*.5,y:I*.5}),b=G.bounds.max.x+g,x.addBody(C,G),w=G,R+=1}else b+=g}M+=L+m,b=f}return C},o.chain=function(f,c,u,v,g,m){for(var y=f.bodies,C=1;C<y.length;C++){var b=y[C-1],M=y[C],w=b.bounds.max.y-b.bounds.min.y,R=b.bounds.max.x-b.bounds.min.x,A=M.bounds.max.y-M.bounds.min.y,L=M.bounds.max.x-M.bounds.min.x,F={bodyA:b,pointA:{x:R*c,y:w*u},bodyB:M,pointB:{x:L*v,y:A*g}},G=h.extend(F,m);x.addConstraint(f,d.create(G))}return f.label+=" Chain",f},o.mesh=function(f,c,u,v,g){var m=f.bodies,y,C,b,M,w;for(y=0;y<u;y++){for(C=1;C<c;C++)b=m[C-1+y*c],M=m[C+y*c],x.addConstraint(f,d.create(h.extend({bodyA:b,bodyB:M},g)));if(y>0)for(C=0;C<c;C++)b=m[C+(y-1)*c],M=m[C+y*c],x.addConstraint(f,d.create(h.extend({bodyA:b,bodyB:M},g))),v&&C>0&&(w=m[C-1+(y-1)*c],x.addConstraint(f,d.create(h.extend({bodyA:w,bodyB:M},g)))),v&&C<c-1&&(w=m[C+1+(y-1)*c],x.addConstraint(f,d.create(h.extend({bodyA:w,bodyB:M},g))))}return f.label+=" Mesh",f},o.pyramid=function(f,c,u,v,g,m,y){return o.stack(f,c,u,v,g,m,function(C,b,M,w,R,A){var L=Math.min(v,Math.ceil(u/2)),F=R?R.bounds.max.x-R.bounds.min.x:0;if(!(w>L)){w=L-w;var G=w,I=u-1-w;if(!(M<G||M>I)){A===1&&l.translate(R,{x:(M+(u%2===1?1:-1))*F,y:0});var B=R?M*F:0;return y(f+B+M*g,b,M,w,R,A)}}})},o.newtonsCradle=function(f,c,u,v,g){for(var m=x.create({label:"Newtons Cradle"}),y=0;y<u;y++){var C=1.9,b=a.circle(f+y*(v*C),c+g,v,{inertia:1/0,restitution:1,friction:0,frictionAir:1e-4,slop:1}),M=d.create({pointA:{x:f+y*(v*C),y:c},bodyB:b});x.addBody(m,b),x.addConstraint(m,M)}return m},o.car=function(f,c,u,v,g){var m=l.nextGroup(!0),y=20,C=-u*.5+y,b=u*.5-y,M=0,w=x.create({label:"Car"}),R=a.rectangle(f,c,u,v,{collisionFilter:{group:m},chamfer:{radius:v*.5},density:2e-4}),A=a.circle(f+C,c+M,g,{collisionFilter:{group:m},friction:.8}),L=a.circle(f+b,c+M,g,{collisionFilter:{group:m},friction:.8}),F=d.create({bodyB:R,pointB:{x:C,y:M},bodyA:A,stiffness:1,length:0}),G=d.create({bodyB:R,pointB:{x:b,y:M},bodyA:L,stiffness:1,length:0});return x.addBody(w,R),x.addBody(w,A),x.addBody(w,L),x.addConstraint(w,F),x.addConstraint(w,G),w},o.softBody=function(f,c,u,v,g,m,y,C,b,M){b=h.extend({inertia:1/0},b),M=h.extend({stiffness:.2,render:{type:"line",anchors:!1}},M);var w=o.stack(f,c,u,v,g,m,function(R,A){return a.circle(R,A,C,b)});return o.mesh(w,u,v,y,M),w.label="Soft Body",w}})()},66615:(n,T,r)=>{var o={};n.exports=o;var x=r(31725),d=r(53402);(function(){o.fromVertices=function(h){for(var l={},a=0;a<h.length;a++){var f=(a+1)%h.length,c=x.normalise({x:h[f].y-h[a].y,y:h[a].x-h[f].x}),u=c.y===0?1/0:c.x/c.y;u=u.toFixed(3).toString(),l[u]=c}return d.values(l)},o.rotate=function(h,l){if(l!==0)for(var a=Math.cos(l),f=Math.sin(l),c=0;c<h.length;c++){var u=h[c],v;v=u.x*a-u.y*f,u.y=u.x*f+u.y*a,u.x=v}}})()},15647:n=>{var T={};n.exports=T,function(){T.create=function(r){var o={min:{x:0,y:0},max:{x:0,y:0}};return r&&T.update(o,r),o},T.update=function(r,o,x){r.min.x=1/0,r.max.x=-1/0,r.min.y=1/0,r.max.y=-1/0;for(var d=0;d<o.length;d++){var h=o[d];h.x>r.max.x&&(r.max.x=h.x),h.x<r.min.x&&(r.min.x=h.x),h.y>r.max.y&&(r.max.y=h.y),h.y<r.min.y&&(r.min.y=h.y)}x&&(x.x>0?r.max.x+=x.x:r.min.x+=x.x,x.y>0?r.max.y+=x.y:r.min.y+=x.y)},T.contains=function(r,o){return o.x>=r.min.x&&o.x<=r.max.x&&o.y>=r.min.y&&o.y<=r.max.y},T.overlaps=function(r,o){return r.min.x<=o.max.x&&r.max.x>=o.min.x&&r.max.y>=o.min.y&&r.min.y<=o.max.y},T.translate=function(r,o){r.min.x+=o.x,r.max.x+=o.x,r.min.y+=o.y,r.max.y+=o.y},T.shift=function(r,o){var x=r.max.x-r.min.x,d=r.max.y-r.min.y;r.min.x=o.x,r.max.x=o.x+x,r.min.y=o.y,r.max.y=o.y+d},T.wrap=function(r,o,x){var d=null,h=null;if(typeof o.min.x<"u"&&typeof o.max.x<"u"&&(r.min.x>o.max.x?d=o.min.x-r.max.x:r.max.x<o.min.x&&(d=o.max.x-r.min.x)),typeof o.min.y<"u"&&typeof o.max.y<"u"&&(r.min.y>o.max.y?h=o.min.y-r.max.y:r.max.y<o.min.y&&(h=o.max.y-r.min.y)),d!==null||h!==null)return{x:d||0,y:h||0}}}()},74058:(n,T,r)=>{var o={};n.exports=o,r(15647);var x=r(53402);(function(){o.pathToVertices=function(d,h){typeof window<"u"&&!("SVGPathSeg"in window)&&x.warn("Svg.pathToVertices: SVGPathSeg not defined, a polyfill is required.");var l,a,f,c,u,v,g,m,y,C,b=[],M,w,R=0,A=0,L=0;h=h||15;var F=function(I,B,k){var U=k%2===1&&k>1;if(!y||I!=y.x||B!=y.y){y&&U?(M=y.x,w=y.y):(M=0,w=0);var H={x:M+I,y:w+B};(U||!y)&&(y=H),b.push(H),A=M+I,L=w+B}},G=function(I){var B=I.pathSegTypeAsLetter.toUpperCase();if(B!=="Z"){switch(B){case"M":case"L":case"T":case"C":case"S":case"Q":A=I.x,L=I.y;break;case"H":A=I.x;break;case"V":L=I.y;break}F(A,L,I.pathSegType)}};for(o._svgPathToAbsolute(d),f=d.getTotalLength(),v=[],l=0;l<d.pathSegList.numberOfItems;l+=1)v.push(d.pathSegList.getItem(l));for(g=v.concat();R<f;){if(C=d.getPathSegAtLength(R),u=v[C],u!=m){for(;g.length&&g[0]!=u;)G(g.shift());m=u}switch(u.pathSegTypeAsLetter.toUpperCase()){case"C":case"T":case"S":case"Q":case"A":c=d.getPointAtLength(R),F(c.x,c.y,0);break}R+=h}for(l=0,a=g.length;l<a;++l)G(g[l]);return b},o._svgPathToAbsolute=function(d){for(var h,l,a,f,c,u,v=d.pathSegList,g=0,m=0,y=v.numberOfItems,C=0;C<y;++C){var b=v.getItem(C),M=b.pathSegTypeAsLetter;if(/[MLHVCSQTA]/.test(M))"x"in b&&(g=b.x),"y"in b&&(m=b.y);else switch("x1"in b&&(a=g+b.x1),"x2"in b&&(c=g+b.x2),"y1"in b&&(f=m+b.y1),"y2"in b&&(u=m+b.y2),"x"in b&&(g+=b.x),"y"in b&&(m+=b.y),M){case"m":v.replaceItem(d.createSVGPathSegMovetoAbs(g,m),C);break;case"l":v.replaceItem(d.createSVGPathSegLinetoAbs(g,m),C);break;case"h":v.replaceItem(d.createSVGPathSegLinetoHorizontalAbs(g),C);break;case"v":v.replaceItem(d.createSVGPathSegLinetoVerticalAbs(m),C);break;case"c":v.replaceItem(d.createSVGPathSegCurvetoCubicAbs(g,m,a,f,c,u),C);break;case"s":v.replaceItem(d.createSVGPathSegCurvetoCubicSmoothAbs(g,m,c,u),C);break;case"q":v.replaceItem(d.createSVGPathSegCurvetoQuadraticAbs(g,m,a,f),C);break;case"t":v.replaceItem(d.createSVGPathSegCurvetoQuadraticSmoothAbs(g,m),C);break;case"a":v.replaceItem(d.createSVGPathSegArcAbs(g,m,b.r1,b.r2,b.angle,b.largeArcFlag,b.sweepFlag),C);break;case"z":case"Z":g=h,m=l;break}(M=="M"||M=="m")&&(h=g,l=m)}}})()},31725:n=>{var T={};n.exports=T,function(){T.create=function(r,o){return{x:r||0,y:o||0}},T.clone=function(r){return{x:r.x,y:r.y}},T.magnitude=function(r){return Math.sqrt(r.x*r.x+r.y*r.y)},T.magnitudeSquared=function(r){return r.x*r.x+r.y*r.y},T.rotate=function(r,o,x){var d=Math.cos(o),h=Math.sin(o);x||(x={});var l=r.x*d-r.y*h;return x.y=r.x*h+r.y*d,x.x=l,x},T.rotateAbout=function(r,o,x,d){var h=Math.cos(o),l=Math.sin(o);d||(d={});var a=x.x+((r.x-x.x)*h-(r.y-x.y)*l);return d.y=x.y+((r.x-x.x)*l+(r.y-x.y)*h),d.x=a,d},T.normalise=function(r){var o=T.magnitude(r);return o===0?{x:0,y:0}:{x:r.x/o,y:r.y/o}},T.dot=function(r,o){return r.x*o.x+r.y*o.y},T.cross=function(r,o){return r.x*o.y-r.y*o.x},T.cross3=function(r,o,x){return(o.x-r.x)*(x.y-r.y)-(o.y-r.y)*(x.x-r.x)},T.add=function(r,o,x){return x||(x={}),x.x=r.x+o.x,x.y=r.y+o.y,x},T.sub=function(r,o,x){return x||(x={}),x.x=r.x-o.x,x.y=r.y-o.y,x},T.mult=function(r,o){return{x:r.x*o,y:r.y*o}},T.div=function(r,o){return{x:r.x/o,y:r.y/o}},T.perp=function(r,o){return o=o===!0?-1:1,{x:o*-r.y,y:o*r.x}},T.neg=function(r){return{x:-r.x,y:-r.y}},T.angle=function(r,o){return Math.atan2(o.y-r.y,o.x-r.x)},T._temp=[T.create(),T.create(),T.create(),T.create(),T.create(),T.create()]}()},41598:(n,T,r)=>{var o={};n.exports=o;var x=r(31725),d=r(53402);(function(){o.create=function(h,l){for(var a=[],f=0;f<h.length;f++){var c=h[f],u={x:c.x,y:c.y,index:f,body:l,isInternal:!1};a.push(u)}return a},o.fromPath=function(h,l){var a=/L?\s*([-\d.e]+)[\s,]*([-\d.e]+)*/ig,f=[];return h.replace(a,function(c,u,v){f.push({x:parseFloat(u),y:parseFloat(v)})}),o.create(f,l)},o.centre=function(h){for(var l=o.area(h,!0),a={x:0,y:0},f,c,u,v=0;v<h.length;v++)u=(v+1)%h.length,f=x.cross(h[v],h[u]),c=x.mult(x.add(h[v],h[u]),f),a=x.add(a,c);return x.div(a,6*l)},o.mean=function(h){for(var l={x:0,y:0},a=0;a<h.length;a++)l.x+=h[a].x,l.y+=h[a].y;return x.div(l,h.length)},o.area=function(h,l){for(var a=0,f=h.length-1,c=0;c<h.length;c++)a+=(h[f].x-h[c].x)*(h[f].y+h[c].y),f=c;return l?a/2:Math.abs(a)/2},o.inertia=function(h,l){for(var a=0,f=0,c=h,u,v,g=0;g<c.length;g++)v=(g+1)%c.length,u=Math.abs(x.cross(c[v],c[g])),a+=u*(x.dot(c[v],c[v])+x.dot(c[v],c[g])+x.dot(c[g],c[g])),f+=u;return l/6*(a/f)},o.translate=function(h,l,a){a=typeof a<"u"?a:1;var f=h.length,c=l.x*a,u=l.y*a,v;for(v=0;v<f;v++)h[v].x+=c,h[v].y+=u;return h},o.rotate=function(h,l,a){if(l!==0){var f=Math.cos(l),c=Math.sin(l),u=a.x,v=a.y,g=h.length,m,y,C,b;for(b=0;b<g;b++)m=h[b],y=m.x-u,C=m.y-v,m.x=u+(y*f-C*c),m.y=v+(y*c+C*f);return h}},o.contains=function(h,l){for(var a=l.x,f=l.y,c=h.length,u=h[c-1],v,g=0;g<c;g++){if(v=h[g],(a-u.x)*(v.y-u.y)+(f-u.y)*(u.x-v.x)>0)return!1;u=v}return!0},o.scale=function(h,l,a,f){if(l===1&&a===1)return h;f=f||o.centre(h);for(var c,u,v=0;v<h.length;v++)c=h[v],u=x.sub(c,f),h[v].x=f.x+u.x*l,h[v].y=f.y+u.y*a;return h},o.chamfer=function(h,l,a,f,c){typeof l=="number"?l=[l]:l=l||[8],a=typeof a<"u"?a:-1,f=f||2,c=c||14;for(var u=[],v=0;v<h.length;v++){var g=h[v-1>=0?v-1:h.length-1],m=h[v],y=h[(v+1)%h.length],C=l[v<l.length?v:l.length-1];if(C===0){u.push(m);continue}var b=x.normalise({x:m.y-g.y,y:g.x-m.x}),M=x.normalise({x:y.y-m.y,y:m.x-y.x}),w=Math.sqrt(2*Math.pow(C,2)),R=x.mult(d.clone(b),C),A=x.normalise(x.mult(x.add(b,M),.5)),L=x.sub(m,x.mult(A,w)),F=a;a===-1&&(F=Math.pow(C,.32)*1.75),F=d.clamp(F,f,c),F%2===1&&(F+=1);for(var G=Math.acos(x.dot(b,M)),I=G/F,B=0;B<F;B++)u.push(x.add(x.rotate(R,I*B),L))}return u},o.clockwiseSort=function(h){var l=o.mean(h);return h.sort(function(a,f){return x.angle(l,a)-x.angle(l,f)}),h},o.isConvex=function(h){var l=0,a=h.length,f,c,u,v;if(a<3)return null;for(f=0;f<a;f++)if(c=(f+1)%a,u=(f+2)%a,v=(h[c].x-h[f].x)*(h[u].y-h[c].y),v-=(h[c].y-h[f].y)*(h[u].x-h[c].x),v<0?l|=1:v>0&&(l|=2),l===3)return!1;return l!==0?!0:null},o.hull=function(h){var l=[],a=[],f,c;for(h=h.slice(0),h.sort(function(u,v){var g=u.x-v.x;return g!==0?g:u.y-v.y}),c=0;c<h.length;c+=1){for(f=h[c];a.length>=2&&x.cross3(a[a.length-2],a[a.length-1],f)<=0;)a.pop();a.push(f)}for(c=h.length-1;c>=0;c-=1){for(f=h[c];l.length>=2&&x.cross3(l[l.length-2],l[l.length-1],f)<=0;)l.pop();l.push(f)}return l.pop(),a.pop(),l.concat(a)}})()},55973:n=>{/**
 * @author       Stefan Hedman <schteppe@gmail.com> (http://steffe.se)
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports={decomp:G,quickDecomp:U,isSimple:B,removeCollinearPoints:H,removeDuplicatePoints:X,makeCCW:y};function T(Y,$,z){z=z||0;var V=[0,0],K,Q,_,tt,rt,ot,ft;return K=Y[1][1]-Y[0][1],Q=Y[0][0]-Y[1][0],_=K*Y[0][0]+Q*Y[0][1],tt=$[1][1]-$[0][1],rt=$[0][0]-$[1][0],ot=tt*$[0][0]+rt*$[0][1],ft=K*rt-tt*Q,j(ft,0,z)||(V[0]=(rt*_-Q*ot)/ft,V[1]=(K*ot-tt*_)/ft),V}function r(Y,$,z,V){var K=$[0]-Y[0],Q=$[1]-Y[1],_=V[0]-z[0],tt=V[1]-z[1];if(_*Q-tt*K===0)return!1;var rt=(K*(z[1]-Y[1])+Q*(Y[0]-z[0]))/(_*Q-tt*K),ot=(_*(Y[1]-z[1])+tt*(z[0]-Y[0]))/(tt*K-_*Q);return rt>=0&&rt<=1&&ot>=0&&ot<=1}function o(Y,$,z){return($[0]-Y[0])*(z[1]-Y[1])-(z[0]-Y[0])*($[1]-Y[1])}function x(Y,$,z){return o(Y,$,z)>0}function d(Y,$,z){return o(Y,$,z)>=0}function h(Y,$,z){return o(Y,$,z)<0}function l(Y,$,z){return o(Y,$,z)<=0}var a=[],f=[];function c(Y,$,z,V){if(V){var K=a,Q=f;K[0]=$[0]-Y[0],K[1]=$[1]-Y[1],Q[0]=z[0]-$[0],Q[1]=z[1]-$[1];var _=K[0]*Q[0]+K[1]*Q[1],tt=Math.sqrt(K[0]*K[0]+K[1]*K[1]),rt=Math.sqrt(Q[0]*Q[0]+Q[1]*Q[1]),ot=Math.acos(_/(tt*rt));return ot<V}else return o(Y,$,z)===0}function u(Y,$){var z=$[0]-Y[0],V=$[1]-Y[1];return z*z+V*V}function v(Y,$){var z=Y.length;return Y[$<0?$%z+z:$%z]}function g(Y){Y.length=0}function m(Y,$,z,V){for(var K=z;K<V;K++)Y.push($[K])}function y(Y){for(var $=0,z=Y,V=1;V<Y.length;++V)(z[V][1]<z[$][1]||z[V][1]===z[$][1]&&z[V][0]>z[$][0])&&($=V);return x(v(Y,$-1),v(Y,$),v(Y,$+1))?!1:(C(Y),!0)}function C(Y){for(var $=[],z=Y.length,V=0;V!==z;V++)$.push(Y.pop());for(var V=0;V!==z;V++)Y[V]=$[V]}function b(Y,$){return h(v(Y,$-1),v(Y,$),v(Y,$+1))}var M=[],w=[];function R(Y,$,z){var V,K,Q=M,_=w;if(d(v(Y,$+1),v(Y,$),v(Y,z))&&l(v(Y,$-1),v(Y,$),v(Y,z)))return!1;K=u(v(Y,$),v(Y,z));for(var tt=0;tt!==Y.length;++tt)if(!((tt+1)%Y.length===$||tt===$)&&d(v(Y,$),v(Y,z),v(Y,tt+1))&&l(v(Y,$),v(Y,z),v(Y,tt))&&(Q[0]=v(Y,$),Q[1]=v(Y,z),_[0]=v(Y,tt),_[1]=v(Y,tt+1),V=T(Q,_),u(v(Y,$),V)<K))return!1;return!0}function A(Y,$,z){for(var V=0;V!==Y.length;++V)if(!(V===$||V===z||(V+1)%Y.length===$||(V+1)%Y.length===z)&&r(v(Y,$),v(Y,z),v(Y,V),v(Y,V+1)))return!1;return!0}function L(Y,$,z,V){var K=V||[];if(g(K),$<z)for(var Q=$;Q<=z;Q++)K.push(Y[Q]);else{for(var Q=0;Q<=z;Q++)K.push(Y[Q]);for(var Q=$;Q<Y.length;Q++)K.push(Y[Q])}return K}function F(Y){for(var $=[],z=[],V=[],K=[],Q=Number.MAX_VALUE,_=0;_<Y.length;++_)if(b(Y,_)){for(var tt=0;tt<Y.length;++tt)if(R(Y,_,tt)){z=F(L(Y,_,tt,K)),V=F(L(Y,tt,_,K));for(var rt=0;rt<V.length;rt++)z.push(V[rt]);z.length<Q&&($=z,Q=z.length,$.push([v(Y,_),v(Y,tt)]))}}return $}function G(Y){var $=F(Y);return $.length>0?I(Y,$):[Y]}function I(Y,$){if($.length===0)return[Y];if($ instanceof Array&&$.length&&$[0]instanceof Array&&$[0].length===2&&$[0][0]instanceof Array){for(var z=[Y],V=0;V<$.length;V++)for(var K=$[V],Q=0;Q<z.length;Q++){var _=z[Q],tt=I(_,K);if(tt){z.splice(Q,1),z.push(tt[0],tt[1]);break}}return z}else{var K=$,V=Y.indexOf(K[0]),Q=Y.indexOf(K[1]);return V!==-1&&Q!==-1?[L(Y,V,Q),L(Y,Q,V)]:!1}}function B(Y){var $=Y,z;for(z=0;z<$.length-1;z++)for(var V=0;V<z-1;V++)if(r($[z],$[z+1],$[V],$[V+1]))return!1;for(z=1;z<$.length-2;z++)if(r($[0],$[$.length-1],$[z],$[z+1]))return!1;return!0}function k(Y,$,z,V,K){K=K||0;var Q=$[1]-Y[1],_=Y[0]-$[0],tt=Q*Y[0]+_*Y[1],rt=V[1]-z[1],ot=z[0]-V[0],ft=rt*z[0]+ot*z[1],ct=Q*ot-rt*_;return j(ct,0,K)?[0,0]:[(ot*tt-_*ft)/ct,(Q*ft-rt*tt)/ct]}function U(Y,$,z,V,K,Q,_){Q=Q||100,_=_||0,K=K||25,$=typeof $<"u"?$:[],z=z||[],V=V||[];var tt=[0,0],rt=[0,0],ot=[0,0],ft=0,ct=0,gt=0,xt=0,Mt=0,Tt=0,Ht=0,Xt=[],Kt=[],bt=Y,Ut=Y;if(Ut.length<3)return $;if(_++,_>Q)return console.warn("quickDecomp: max level ("+Q+") reached."),$;for(var Vt=0;Vt<Y.length;++Vt)if(b(bt,Vt)){z.push(bt[Vt]),ft=ct=Number.MAX_VALUE;for(var ee=0;ee<Y.length;++ee)x(v(bt,Vt-1),v(bt,Vt),v(bt,ee))&&l(v(bt,Vt-1),v(bt,Vt),v(bt,ee-1))&&(ot=k(v(bt,Vt-1),v(bt,Vt),v(bt,ee),v(bt,ee-1)),h(v(bt,Vt+1),v(bt,Vt),ot)&&(gt=u(bt[Vt],ot),gt<ct&&(ct=gt,rt=ot,Tt=ee))),x(v(bt,Vt+1),v(bt,Vt),v(bt,ee+1))&&l(v(bt,Vt+1),v(bt,Vt),v(bt,ee))&&(ot=k(v(bt,Vt+1),v(bt,Vt),v(bt,ee),v(bt,ee+1)),x(v(bt,Vt-1),v(bt,Vt),ot)&&(gt=u(bt[Vt],ot),gt<ft&&(ft=gt,tt=ot,Mt=ee)));if(Tt===(Mt+1)%Y.length)ot[0]=(rt[0]+tt[0])/2,ot[1]=(rt[1]+tt[1])/2,V.push(ot),Vt<Mt?(m(Xt,bt,Vt,Mt+1),Xt.push(ot),Kt.push(ot),Tt!==0&&m(Kt,bt,Tt,bt.length),m(Kt,bt,0,Vt+1)):(Vt!==0&&m(Xt,bt,Vt,bt.length),m(Xt,bt,0,Mt+1),Xt.push(ot),Kt.push(ot),m(Kt,bt,Tt,Vt+1));else{if(Tt>Mt&&(Mt+=Y.length),xt=Number.MAX_VALUE,Mt<Tt)return $;for(var ee=Tt;ee<=Mt;++ee)d(v(bt,Vt-1),v(bt,Vt),v(bt,ee))&&l(v(bt,Vt+1),v(bt,Vt),v(bt,ee))&&(gt=u(v(bt,Vt),v(bt,ee)),gt<xt&&A(bt,Vt,ee)&&(xt=gt,Ht=ee%Y.length));Vt<Ht?(m(Xt,bt,Vt,Ht+1),Ht!==0&&m(Kt,bt,Ht,Ut.length),m(Kt,bt,0,Vt+1)):(Vt!==0&&m(Xt,bt,Vt,Ut.length),m(Xt,bt,0,Ht+1),m(Kt,bt,Ht,Vt+1))}return Xt.length<Kt.length?(U(Xt,$,z,V,K,Q,_),U(Kt,$,z,V,K,Q,_)):(U(Kt,$,z,V,K,Q,_),U(Xt,$,z,V,K,Q,_)),$}return $.push(Y),$}function H(Y,$){for(var z=0,V=Y.length-1;Y.length>3&&V>=0;--V)c(v(Y,V-1),v(Y,V),v(Y,V+1),$)&&(Y.splice(V%Y.length,1),z++);return z}function X(Y,$){for(var z=Y.length-1;z>=1;--z)for(var V=Y[z],K=z-1;K>=0;--K)if(J(V,Y[K],$)){Y.splice(z,1);continue}}function j(Y,$,z){return z=z||0,Math.abs(Y-$)<=z}function J(Y,$,z){return j(Y[0],$[0],z)&&j(Y[1],$[1],z)}},52018:(n,T,r)=>{/**
* @author       Richard Davey <rich@phaser.io>
* @copyright    2013-2025 Phaser Studio Inc.
* @license      {@link https://github.com/photonstorm/phaser3-plugin-template/blob/master/LICENSE|MIT License}
*/var o=r(83419),x=new o({initialize:function(h){this.pluginManager=h,this.game=h.game},init:function(){},start:function(){},stop:function(){},destroy:function(){this.pluginManager=null,this.game=null,this.scene=null,this.systems=null}});n.exports=x},42363:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T={Global:["game","anims","cache","plugins","registry","scale","sound","textures","renderer"],CoreScene:["EventEmitter","CameraManager","GameObjectCreator","GameObjectFactory","ScenePlugin","DisplayList","UpdateList"],DefaultScene:["Clock","DataManagerPlugin","InputPlugin","Loader","TweenManager","LightsPlugin"]};n.exports=T},37277:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T={},r={},o={};o.register=function(x,d,h,l){l===void 0&&(l=!1),T[x]={plugin:d,mapping:h,custom:l}},o.registerCustom=function(x,d,h,l){r[x]={plugin:d,mapping:h,data:l}},o.hasCore=function(x){return T.hasOwnProperty(x)},o.hasCustom=function(x){return r.hasOwnProperty(x)},o.getCore=function(x){return T[x]},o.getCustom=function(x){return r[x]},o.getCustomClass=function(x){return r.hasOwnProperty(x)?r[x].plugin:null},o.remove=function(x){T.hasOwnProperty(x)&&delete T[x]},o.removeCustom=function(x){r.hasOwnProperty(x)&&delete r[x]},o.destroyCorePlugins=function(){for(var x in T)T.hasOwnProperty(x)&&delete T[x]},o.destroyCustomPlugins=function(){for(var x in r)r.hasOwnProperty(x)&&delete r[x]},n.exports=o},77332:(n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(83419),x=r(8443),d=r(50792),h=r(74099),l=r(44603),a=r(39429),f=r(95540),c=r(37277),u=r(72905),v=r(8054),g=new o({Extends:d,initialize:function(y){d.call(this),this.game=y,this.plugins=[],this.scenePlugins=[],this._pendingGlobal=[],this._pendingScene=[],y.isBooted||y.config.renderType===v.HEADLESS?this.boot():y.events.once(x.BOOT,this.boot,this)},boot:function(){var m,y,C,b,M,w,R,A=this.game.config,L=A.installGlobalPlugins;for(L=L.concat(this._pendingGlobal),m=0;m<L.length;m++)y=L[m],C=f(y,"key",null),b=f(y,"plugin",null),M=f(y,"start",!1),w=f(y,"mapping",null),R=f(y,"data",null),C&&(b?this.install(C,b,M,w,R):console.warn("Missing `plugin` for key: "+C));for(L=A.installScenePlugins,L=L.concat(this._pendingScene),m=0;m<L.length;m++)y=L[m],C=f(y,"key",null),b=f(y,"plugin",null),w=f(y,"mapping",null),C&&(b?this.installScenePlugin(C,b,w):console.warn("Missing `plugin` for key: "+C));this._pendingGlobal=[],this._pendingScene=[],this.game.events.once(x.DESTROY,this.destroy,this)},addToScene:function(m,y,C){var b,M,w,R=this.game,A=m.scene,L=m.settings.map,F=m.settings.isBooted;for(b=0;b<y.length;b++)M=y[b],R[M]?(m[M]=R[M],L.hasOwnProperty(M)&&(A[L[M]]=m[M])):M==="game"&&L.hasOwnProperty(M)&&(A[L[M]]=R);for(var G=0;G<C.length;G++)for(w=C[G],b=0;b<w.length;b++)if(M=w[b],!!c.hasCore(M)){var I=c.getCore(M),B=I.mapping,k=new I.plugin(A,this,B);m[B]=k,I.custom?A[B]=k:L.hasOwnProperty(B)&&(A[L[B]]=k),F&&k.boot()}for(w=this.plugins,b=0;b<w.length;b++){var U=w[b];U.mapping&&(A[U.mapping]=U.plugin)}},getDefaultScenePlugins:function(){var m=this.game.config.defaultPlugins;return m=m.concat(this.scenePlugins),m},installScenePlugin:function(m,y,C,b,M){if(M===void 0&&(M=!1),typeof y!="function"){console.warn("Invalid Scene Plugin: "+m);return}if(c.hasCore(m)||c.register(m,y,C,!0),this.scenePlugins.indexOf(m)===-1)this.scenePlugins.push(m);else if(!M&&c.hasCore(m)){console.warn("Scene Plugin key in use: "+m);return}if(b){var w=new y(b,this,m);b.sys[m]=w,C&&C!==""&&(b[C]=w),w.boot()}},install:function(m,y,C,b,M){if(C===void 0&&(C=!1),b===void 0&&(b=null),M===void 0&&(M=null),typeof y!="function")return console.warn("Invalid Plugin: "+m),null;if(c.hasCustom(m))return console.warn("Plugin key in use: "+m),null;if(b!==null&&(C=!0),!this.game.isBooted)this._pendingGlobal.push({key:m,plugin:y,start:C,mapping:b,data:M});else if(c.registerCustom(m,y,b,M),C)return this.start(m);return null},getIndex:function(m){for(var y=this.plugins,C=0;C<y.length;C++){var b=y[C];if(b.key===m)return C}return-1},getEntry:function(m){var y=this.getIndex(m);if(y!==-1)return this.plugins[y]},isActive:function(m){var y=this.getEntry(m);return y&&y.active},start:function(m,y){y===void 0&&(y=m);var C=this.getEntry(y);return C&&!C.active?(C.active=!0,C.plugin.start()):C||(C=this.createEntry(m,y)),C?C.plugin:null},createEntry:function(m,y){var C=c.getCustom(m);if(C){var b=new C.plugin(this);C={key:y,plugin:b,active:!0,mapping:C.mapping,data:C.data},this.plugins.push(C),b.init(C.data),b.start()}return C},stop:function(m){var y=this.getEntry(m);return y&&y.active&&(y.active=!1,y.plugin.stop()),this},get:function(m,y){y===void 0&&(y=!0);var C=this.getEntry(m);if(C)return C.plugin;var b=this.getClass(m);return b&&y?(C=this.createEntry(m,m),C?C.plugin:null):b||null},getClass:function(m){return c.getCustomClass(m)},removeGlobalPlugin:function(m){var y=this.getEntry(m);y&&u(this.plugins,y),c.removeCustom(m)},removeScenePlugin:function(m){u(this.scenePlugins,m),c.remove(m)},registerGameObject:function(m,y,C){return y&&a.register(m,y),C&&l.register(m,C),this},removeGameObject:function(m,y,C){return y===void 0&&(y=!0),C===void 0&&(C=!0),y&&a.remove(m),C&&l.remove(m),this},registerFileType:function(m,y,C){h.register(m,y),C&&C.sys.load&&(C.sys.load[m]=y)},destroy:function(){for(var m=0;m<this.plugins.length;m++)this.plugins[m].plugin.destroy();c.destroyCustomPlugins(),this.game.noReturn&&c.destroyCorePlugins(),this.game=null,this.plugins=[],this.scenePlugins=[]}});n.exports=g},45145:(n,T,r)=>{/**
* @author       Richard Davey <rich@phaser.io>
* @copyright    2013-2025 Phaser Studio Inc.
* @license      {@link https://github.com/photonstorm/phaser3-plugin-template/blob/master/LICENSE|MIT License}
*/var o=r(52018),x=r(83419),d=r(44594),h=new x({Extends:o,initialize:function(a,f,c){o.call(this,f),this.scene=a,this.systems=a.sys,this.pluginKey=c,a.sys.events.once(d.BOOT,this.boot,this)},boot:function(){},destroy:function(){this.pluginManager=null,this.game=null,this.scene=null,this.systems=null}});n.exports=h},18922:(n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports={BasePlugin:r(52018),DefaultPlugins:r(42363),PluginCache:r(37277),PluginManager:r(77332),ScenePlugin:r(45145)}},63595:()=>{typeof HTMLVideoElement<"u"&&!("requestVideoFrameCallback"in HTMLVideoElement.prototype)&&"getVideoPlaybackQuality"in HTMLVideoElement.prototype&&(HTMLVideoElement.prototype._rvfcpolyfillmap={},HTMLVideoElement.prototype.requestVideoFrameCallback=function(n){const T=performance.now(),r=this.getVideoPlaybackQuality(),o=this.mozPresentedFrames||this.mozPaintedFrames||r.totalVideoFrames-r.droppedVideoFrames,x=(d,h)=>{const l=this.getVideoPlaybackQuality(),a=this.mozPresentedFrames||this.mozPaintedFrames||l.totalVideoFrames-l.droppedVideoFrames;if(a>o){const f=this.mozFrameDelay||l.totalFrameDelay-r.totalFrameDelay||0,c=h-d;n(h,{presentationTime:h+f*1e3,expectedDisplayTime:h+c,width:this.videoWidth,height:this.videoHeight,mediaTime:Math.max(0,this.currentTime||0)+c/1e3,presentedFrames:a,processingDuration:f}),delete this._rvfcpolyfillmap[T]}else this._rvfcpolyfillmap[T]=requestAnimationFrame(f=>x(h,f))};return this._rvfcpolyfillmap[T]=requestAnimationFrame(d=>x(T,d)),T},HTMLVideoElement.prototype.cancelVideoFrameCallback=function(n){cancelAnimationFrame(this._rvfcpolyfillmap[n]),delete this._rvfcpolyfillmap[n]})},10312:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports={SKIP_CHECK:-1,NORMAL:0,ADD:1,MULTIPLY:2,SCREEN:3,OVERLAY:4,DARKEN:5,LIGHTEN:6,COLOR_DODGE:7,COLOR_BURN:8,HARD_LIGHT:9,SOFT_LIGHT:10,DIFFERENCE:11,EXCLUSION:12,HUE:13,SATURATION:14,COLOR:15,LUMINOSITY:16,ERASE:17,SOURCE_IN:18,SOURCE_OUT:19,SOURCE_ATOP:20,DESTINATION_OVER:21,DESTINATION_IN:22,DESTINATION_OUT:23,DESTINATION_ATOP:24,LIGHTER:25,COPY:26,XOR:27}},29795:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T={DEFAULT:0,LINEAR:0,NEAREST:1};n.exports=T},68627:(n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @author       Felipe Alfonso <@bitnenfer>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(19715),x=r(32880),d=r(83419),h=r(8054),l=r(50792),a=r(92503),f=r(56373),c=r(97480),u=r(69442),v=r(8443),g=r(61340),m=new d({Extends:l,initialize:function(C){l.call(this);var b=C.config;this.config={clearBeforeRender:b.clearBeforeRender,backgroundColor:b.backgroundColor,antialias:b.antialias,roundPixels:b.roundPixels,transparent:b.transparent},this.game=C,this.type=h.CANVAS,this.drawCount=0,this.width=0,this.height=0,this.gameCanvas=C.canvas;var M={alpha:b.transparent,desynchronized:b.desynchronized,willReadFrequently:!1};this.gameContext=b.context?b.context:this.gameCanvas.getContext("2d",M),this.currentContext=this.gameContext,this.antialias=b.antialias,this.blendModes=f(),this.snapshotState={x:0,y:0,width:1,height:1,getPixel:!1,callback:null,type:"image/png",encoder:.92},this._tempMatrix1=new g,this._tempMatrix2=new g,this._tempMatrix3=new g,this.isBooted=!1,this.init()},init:function(){var y=this.game;y.events.once(v.BOOT,function(){var C=this.config;if(!C.transparent){var b=this.gameContext,M=this.gameCanvas;b.fillStyle=C.backgroundColor.rgba,b.fillRect(0,0,M.width,M.height)}},this),y.textures.once(u.READY,this.boot,this)},boot:function(){var y=this.game,C=y.scale.baseSize;this.width=C.width,this.height=C.height,this.isBooted=!0,y.scale.on(c.RESIZE,this.onResize,this),this.resize(C.width,C.height)},onResize:function(y,C){(C.width!==this.width||C.height!==this.height)&&this.resize(C.width,C.height)},resize:function(y,C){this.width=y,this.height=C,this.emit(a.RESIZE,y,C)},resetTransform:function(){this.currentContext.setTransform(1,0,0,1,0,0)},setBlendMode:function(y){return this.currentContext.globalCompositeOperation=y,this},setContext:function(y){return this.currentContext=y||this.gameContext,this},setAlpha:function(y){return this.currentContext.globalAlpha=y,this},preRender:function(){var y=this.gameContext,C=this.config,b=this.width,M=this.height;y.globalAlpha=1,y.globalCompositeOperation="source-over",y.setTransform(1,0,0,1,0,0),this.emit(a.PRE_RENDER_CLEAR),C.clearBeforeRender&&(y.clearRect(0,0,b,M),C.transparent||(y.fillStyle=C.backgroundColor.rgba,y.fillRect(0,0,b,M))),y.save(),this.drawCount=0,this.emit(a.PRE_RENDER)},render:function(y,C,b){var M=C.length;this.emit(a.RENDER,y,b);var w=b.x,R=b.y,A=b.width,L=b.height,F=b.renderToTexture?b.context:y.sys.context;F.save(),this.game.scene.customViewports&&(F.beginPath(),F.rect(w,R,A,L),F.clip()),b.emit(o.PRE_RENDER,b),this.currentContext=F;var G=b.mask;G&&G.preRenderCanvas(this,null,b._maskCamera),b.transparent||(F.fillStyle=b.backgroundColor.rgba,F.fillRect(w,R,A,L)),F.globalAlpha=b.alpha,F.globalCompositeOperation="source-over",this.drawCount+=M,b.renderToTexture&&b.emit(o.PRE_RENDER,b),b.matrix.copyToContext(F);for(var I=0;I<M;I++){var B=C[I];B.mask&&B.mask.preRenderCanvas(this,B,b),B.renderCanvas(this,B,b),B.mask&&B.mask.postRenderCanvas(this,B,b)}F.setTransform(1,0,0,1,0,0),F.globalCompositeOperation="source-over",F.globalAlpha=1,b.flashEffect.postRenderCanvas(F),b.fadeEffect.postRenderCanvas(F),b.dirty=!1,G&&G.postRenderCanvas(this),F.restore(),b.renderToTexture&&(b.emit(o.POST_RENDER,b),b.renderToGame&&y.sys.context.drawImage(b.canvas,w,R)),b.emit(o.POST_RENDER,b)},postRender:function(){var y=this.gameContext;y.restore(),this.emit(a.POST_RENDER);var C=this.snapshotState;C.callback&&(x(this.gameCanvas,C),C.callback=null)},snapshotCanvas:function(y,C,b,M,w,R,A,L,F){b===void 0&&(b=!1),this.snapshotArea(M,w,R,A,C,L,F);var G=this.snapshotState;return G.getPixel=b,x(y,G),G.callback=null,this},snapshot:function(y,C,b){return this.snapshotArea(0,0,this.gameCanvas.width,this.gameCanvas.height,y,C,b)},snapshotArea:function(y,C,b,M,w,R,A){var L=this.snapshotState;return L.callback=w,L.type=R,L.encoder=A,L.getPixel=!1,L.x=y,L.y=C,L.width=Math.min(b,this.gameCanvas.width),L.height=Math.min(M,this.gameCanvas.height),this},snapshotPixel:function(y,C,b){return this.snapshotArea(y,C,1,1,b),this.snapshotState.getPixel=!0,this},batchSprite:function(y,C,b,M){var w=b.alpha*y.alpha;if(w!==0){var R=this.currentContext,A=this._tempMatrix1,L=this._tempMatrix2,F=C.canvasData,G=F.x,I=F.y,B=C.cutWidth,k=C.cutHeight,U=C.customPivot,H=C.source.resolution,X=y.displayOriginX,j=y.displayOriginY,J=-X+C.x,Y=-j+C.y;if(y.isCropped){var $=y._crop;($.flipX!==y.flipX||$.flipY!==y.flipY)&&C.updateCropUVs($,y.flipX,y.flipY),B=$.cw,k=$.ch,G=$.cx,I=$.cy,J=-X+$.x,Y=-j+$.y,y.flipX&&(J>=0?J=-(J+B):J<0&&(J=Math.abs(J)-B)),y.flipY&&(Y>=0?Y=-(Y+k):Y<0&&(Y=Math.abs(Y)-k))}var z=1,V=1;y.flipX&&(U||(J+=-C.realWidth+X*2),z=-1),y.flipY&&(U||(Y+=-C.realHeight+j*2),V=-1);var K=y.x,Q=y.y;if(b.roundPixels&&(K=Math.floor(K),Q=Math.floor(Q)),L.applyITRS(K,Q,y.rotation,y.scaleX*z,y.scaleY*V),A.copyFrom(b.matrix),M?(A.multiplyWithOffset(M,-b.scrollX*y.scrollFactorX,-b.scrollY*y.scrollFactorY),L.e=K,L.f=Q):(L.e-=b.scrollX*y.scrollFactorX,L.f-=b.scrollY*y.scrollFactorY),A.multiply(L),b.renderRoundPixels&&(A.e=Math.floor(A.e+.5),A.f=Math.floor(A.f+.5)),R.save(),A.setToContext(R),R.globalCompositeOperation=this.blendModes[y.blendMode],R.globalAlpha=w,R.imageSmoothingEnabled=!C.source.scaleMode,y.mask&&y.mask.preRenderCanvas(this,y,b),B>0&&k>0){var _=B/H,tt=k/H;b.roundPixels&&(J=Math.floor(J+.5),Y=Math.floor(Y+.5),_+=.5,tt+=.5),R.drawImage(C.source.image,G,I,B,k,J,Y,_,tt)}y.mask&&y.mask.postRenderCanvas(this,y,b),R.restore()}},destroy:function(){this.removeAllListeners(),this.game=null,this.gameCanvas=null,this.gameContext=null}});n.exports=m},55830:(n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports={CanvasRenderer:r(68627),GetBlendModes:r(56373),SetTransform:r(20926)}},56373:(n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(10312),x=r(89289),d=function(){var h=[],l=x.supportNewBlendModes,a="source-over";return h[o.NORMAL]=a,h[o.ADD]="lighter",h[o.MULTIPLY]=l?"multiply":a,h[o.SCREEN]=l?"screen":a,h[o.OVERLAY]=l?"overlay":a,h[o.DARKEN]=l?"darken":a,h[o.LIGHTEN]=l?"lighten":a,h[o.COLOR_DODGE]=l?"color-dodge":a,h[o.COLOR_BURN]=l?"color-burn":a,h[o.HARD_LIGHT]=l?"hard-light":a,h[o.SOFT_LIGHT]=l?"soft-light":a,h[o.DIFFERENCE]=l?"difference":a,h[o.EXCLUSION]=l?"exclusion":a,h[o.HUE]=l?"hue":a,h[o.SATURATION]=l?"saturation":a,h[o.COLOR]=l?"color":a,h[o.LUMINOSITY]=l?"luminosity":a,h[o.ERASE]="destination-out",h[o.SOURCE_IN]="source-in",h[o.SOURCE_OUT]="source-out",h[o.SOURCE_ATOP]="source-atop",h[o.DESTINATION_OVER]="destination-over",h[o.DESTINATION_IN]="destination-in",h[o.DESTINATION_OUT]="destination-out",h[o.DESTINATION_ATOP]="destination-atop",h[o.LIGHTER]="lighter",h[o.COPY]="copy",h[o.XOR]="xor",h};n.exports=d},20926:(n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(91296),x=function(d,h,l,a,f){var c=a.alpha*l.alpha;if(c<=0)return!1;var u=o(l,a,f).calc;return h.globalCompositeOperation=d.blendModes[l.blendMode],h.globalAlpha=c,h.save(),u.setToContext(h),h.imageSmoothingEnabled=l.frame?!l.frame.source.scaleMode:d.antialias,!0};n.exports=x},63899:n=>{/**
 * @author       Benjamin D. Richards <benjamindrichards@gmail.com>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="losewebgl"},6119:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="postrender"},48070:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="prerender"},15640:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="render"},8912:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="resize"},87124:n=>{/**
 * @author       Benjamin D. Richards <benjamindrichards@gmail.com>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="restorewebgl"},92503:(n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports={LOSE_WEBGL:r(63899),POST_RENDER:r(6119),PRE_RENDER:r(48070),RENDER:r(15640),RESIZE:r(8912),RESTORE_WEBGL:r(87124)}},36909:(n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports={Events:r(92503),Snapshot:r(89966)},n.exports.Canvas=r(55830),n.exports.WebGL=r(4159)},32880:(n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(27919),x=r(40987),d=r(95540),h=function(l,a){var f=d(a,"callback"),c=d(a,"type","image/png"),u=d(a,"encoder",.92),v=Math.abs(Math.round(d(a,"x",0))),g=Math.abs(Math.round(d(a,"y",0))),m=Math.floor(d(a,"width",l.width)),y=Math.floor(d(a,"height",l.height)),C=d(a,"getPixel",!1);if(C){var b=l.getContext("2d",{willReadFrequently:!1}),M=b.getImageData(v,g,1,1),w=M.data;f.call(null,new x(w[0],w[1],w[2],w[3]))}else if(v!==0||g!==0||m!==l.width||y!==l.height){var R=o.createWebGL(this,m,y),A=R.getContext("2d",{willReadFrequently:!0});m>0&&y>0&&A.drawImage(l,v,g,m,y,0,0,m,y);var L=new Image;L.onerror=function(){f.call(null),o.remove(R)},L.onload=function(){f.call(null,L),o.remove(R)},L.src=R.toDataURL(c,u)}else{var F=new Image;F.onerror=function(){f.call(null)},F.onload=function(){f.call(null,F)},F.src=l.toDataURL(c,u)}};n.exports=h},88815:(n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(27919),x=r(40987),d=r(95540),h=function(l,a){var f=l,c=d(a,"callback"),u=d(a,"type","image/png"),v=d(a,"encoder",.92),g=Math.abs(Math.round(d(a,"x",0))),m=Math.abs(Math.round(d(a,"y",0))),y=d(a,"getPixel",!1),C=d(a,"isFramebuffer",!1),b=C?d(a,"bufferWidth",1):f.drawingBufferWidth,M=C?d(a,"bufferHeight",1):f.drawingBufferHeight;if(y){var w=new Uint8Array(4),R=C?m:M-m;f.readPixels(g,R,1,1,f.RGBA,f.UNSIGNED_BYTE,w),c.call(null,new x(w[0],w[1],w[2],w[3]))}else{var A=Math.floor(d(a,"width",b)),L=Math.floor(d(a,"height",M)),F=A*L*4,G=new Uint8Array(F);f.readPixels(g,M-m-L,A,L,f.RGBA,f.UNSIGNED_BYTE,G);for(var I=o.createWebGL(this,A,L),B=I.getContext("2d",{willReadFrequently:!0}),k=B.getImageData(0,0,A,L),U=k.data,H=0;H<L;H++)for(var X=0;X<A;X++){var j=((L-H-1)*A+X)*4,J=C?F-(H*A+(A-X))*4:(H*A+X)*4;U[J+0]=G[j+0],U[J+1]=G[j+1],U[J+2]=G[j+2],U[J+3]=G[j+3]}B.putImageData(k,0,0);var Y=new Image;Y.onerror=function(){c.call(null),o.remove(I)},Y.onload=function(){c.call(null,Y),o.remove(I)},Y.src=I.toDataURL(u,v)}};n.exports=h},89966:(n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports={Canvas:r(32880),WebGL:r(88815)}},7530:(n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(83419),x=r(36060),d=r(90330),h=r(82264),l=r(95540),a=r(32302),f=r(63448),c=r(31302),u=r(58918),v=r(14811),g=r(92651),m=r(96569),y=r(56527),C=r(57516),b=r(43439),M=r(81041),w=r(12385),R=r(7589),A=r(95428),L=r(72905),F=new o({initialize:function(I){this.game=I.game,this.renderer=I,this.classes=new d([[x.UTILITY_PIPELINE,R],[x.MULTI_PIPELINE,C],[x.BITMAPMASK_PIPELINE,c],[x.SINGLE_PIPELINE,w],[x.ROPE_PIPELINE,M],[x.LIGHT_PIPELINE,m],[x.POINTLIGHT_PIPELINE,b],[x.MOBILE_PIPELINE,y]]),this.postPipelineClasses=new d,this.pipelines=new d,this.postPipelineInstances=[],this.default=null,this.current=null,this.previous=null,this.MULTI_PIPELINE=null,this.BITMAPMASK_PIPELINE=null,this.UTILITY_PIPELINE=null,this.MOBILE_PIPELINE=null,this.FX_PIPELINE=null,this.fullFrame1,this.fullFrame2,this.halfFrame1,this.halfFrame2,this.renderTargets=[],this.maxDimension=0,this.frameInc=32,this.targetIndex=0},boot:function(G,I,B){var k=this.renderer,U=this.renderTargets;this.frameInc=Math.floor(l(G,"frameInc",32));var H=k.width,X=k.height,j=this.game.config.disablePreFX,J=this.game.config.disablePostFX;if(J||this.postPipelineClasses.setAll([[String(v.BARREL),u.Barrel],[String(v.BLOOM),u.Bloom],[String(v.BLUR),u.Blur],[String(v.BOKEH),u.Bokeh],[String(v.CIRCLE),u.Circle],[String(v.COLOR_MATRIX),u.ColorMatrix],[String(v.DISPLACEMENT),u.Displacement],[String(v.GLOW),u.Glow],[String(v.GRADIENT),u.Gradient],[String(v.PIXELATE),u.Pixelate],[String(v.SHADOW),u.Shadow],[String(v.SHINE),u.Shine],[String(v.VIGNETTE),u.Vignette],[String(v.WIPE),u.Wipe]]),!j){this.classes.set(x.FX_PIPELINE,g);for(var Y=Math.min(H,X),$=Math.ceil(Y/this.frameInc),z=1;z<$;z++){var V=z*this.frameInc;U.push(new a(k,V,V)),U.push(new a(k,V,V)),U.push(new a(k,V,V)),this.maxDimension=V}U.push(new a(k,H,X,1,0,!0,!0)),U.push(new a(k,H,X,1,0,!0,!0)),U.push(new a(k,H,X,1,0,!0,!0))}var K,Q,_=this,tt=this.game;if(this.classes.each(function(ot,ft){K=_.add(ot,new ft({game:tt})),ot===x.UTILITY_PIPELINE&&(_.UTILITY_PIPELINE=K,_.fullFrame1=K.fullFrame1,_.fullFrame2=K.fullFrame2,_.halfFrame1=K.halfFrame1,_.halfFrame2=K.halfFrame2)}),this.MULTI_PIPELINE=this.get(x.MULTI_PIPELINE),this.BITMAPMASK_PIPELINE=this.get(x.BITMAPMASK_PIPELINE),this.MOBILE_PIPELINE=this.get(x.MOBILE_PIPELINE),j||(this.FX_PIPELINE=this.get(x.FX_PIPELINE)),G)for(Q in G){var rt=G[Q];K=new rt(tt),K.name=Q,K.isPostFX?this.postPipelineClasses.set(Q,rt):this.has(Q)||(this.classes.set(Q,rt),this.add(Q,K))}this.default=this.get(I),B&&!h.os.desktop&&(this.default=this.MOBILE_PIPELINE)},setDefaultPipeline:function(G){var I=this.get(G);return I&&(this.default=I),I},add:function(G,I){if(I.isPostFX){console.warn(G+" is a Post Pipeline. Use `addPostPipeline` instead");return}var B=this.pipelines,k=this.renderer;return B.has(G)?console.warn("Pipeline exists: "+G):(I.name=G,I.manager=this,B.set(G,I)),I.hasBooted||I.boot(),k.width!==0&&k.height!==0&&!I.isPreFX&&I.resize(k.width,k.height),I},addPostPipeline:function(G,I){this.postPipelineClasses.has(G)||this.postPipelineClasses.set(G,I)},flush:function(){this.current&&this.current.flush()},has:function(G){var I=this.pipelines;return typeof G=="string"?I.has(G):!!I.contains(G)},get:function(G){var I=this.pipelines;if(typeof G=="string")return I.get(G);if(I.contains(G))return G},getPostPipeline:function(G,I,B){var k=this.postPipelineClasses,U,H="",X=typeof G;if(X==="string"||X==="number"?(U=k.get(G),H=G):X==="function"?(k.contains(G)&&(U=G),H=G.name):X==="object"&&(U=k.get(G.name),H=G.name),U){var j=new U(this.game,B);return j.name=H,I&&(j.gameObject=I),this.postPipelineInstances.push(j),j}},removePostPipeline:function(G){L(this.postPipelineInstances,G)},remove:function(G,I,B){I===void 0&&(I=!0),B===void 0&&(B=!0),this.pipelines.delete(G),I&&this.classes.delete(G),B&&this.postPipelineClasses.delete(G)},set:function(G,I,B){if(!G.isPostFX)return this.isCurrent(G,B)||(this.flush(),this.current&&this.current.unbind(),this.current=G,G.bind(B)),G.updateProjectionMatrix(),G.onBind(I),G},preBatch:function(G){if(G.hasPostPipeline){this.flush();for(var I=G.postPipelines,B=I.length-1;B>=0;B--){var k=I[B];k.active&&k.preBatch(G)}}},postBatch:function(G){if(G.hasPostPipeline){this.flush();for(var I=G.postPipelines,B=0;B<I.length;B++){var k=I[B];k.active&&k.postBatch(G)}}},preBatchCamera:function(G){if(G.hasPostPipeline){this.flush();for(var I=G.postPipelines,B=I.length-1;B>=0;B--){var k=I[B];k.active&&k.preBatch(G)}}},postBatchCamera:function(G){if(G.hasPostPipeline){this.flush();for(var I=G.postPipelines,B=0;B<I.length;B++){var k=I[B];k.active&&k.postBatch(G)}}},isCurrent:function(G,I){var B=this.renderer,k=this.current;return k&&!I&&(I=k.currentShader),!(k!==G||I.program!==B.currentProgram)},copyFrame:function(G,I,B,k,U){return this.setUtility(this.UTILITY_PIPELINE.copyShader).copyFrame(G,I,B,k,U),this},copyToGame:function(G){return this.setUtility(this.UTILITY_PIPELINE.copyShader).copyToGame(G),this},drawFrame:function(G,I,B,k){return this.setUtility(this.UTILITY_PIPELINE.colorMatrixShader).drawFrame(G,I,B,k),this},blendFrames:function(G,I,B,k,U){return this.setUtility(this.UTILITY_PIPELINE.linearShader).blendFrames(G,I,B,k,U),this},blendFramesAdditive:function(G,I,B,k,U){return this.setUtility(this.UTILITY_PIPELINE.addShader).blendFramesAdditive(G,I,B,k,U),this},clearFrame:function(G,I){return this.UTILITY_PIPELINE.clearFrame(G,I),this},blitFrame:function(G,I,B,k,U,H){return this.setUtility(this.UTILITY_PIPELINE.copyShader).blitFrame(G,I,B,k,U,H),this},copyFrameRect:function(G,I,B,k,U,H,X,j){return this.UTILITY_PIPELINE.copyFrameRect(G,I,B,k,U,H,X,j),this},forceZero:function(){return this.current&&this.current.forceZero},setMulti:function(){return this.set(this.MULTI_PIPELINE)},setUtility:function(G){return this.UTILITY_PIPELINE.bind(G)},setFX:function(){return this.set(this.FX_PIPELINE)},restoreContext:function(){this.rebind(),this.pipelines.each(function(G,I){I.restoreContext()}),A(this.postPipelineInstances,function(G){G.restoreContext()})},rebind:function(G){G===void 0&&this.previous&&(G=this.previous);var I=this.renderer,B=I.gl;B.disable(B.DEPTH_TEST),B.disable(B.CULL_FACE),I.hasActiveStencilMask()?B.clear(B.DEPTH_BUFFER_BIT):(B.disable(B.STENCIL_TEST),B.clear(B.DEPTH_BUFFER_BIT|B.STENCIL_BUFFER_BIT)),B.viewport(0,0,I.width,I.height),I.currentProgram=null,I.setBlendMode(0,!0);var k=I.vaoExtension;k&&k.bindVertexArrayOES(null);var U=this.pipelines.entries;for(var H in U)U[H].glReset=!0;G&&(this.current=G,G.rebind())},clear:function(){var G=this.renderer;this.flush(),this.current?(this.current.unbind(),this.previous=this.current,this.current=null):this.previous=null,G.currentProgram=null,G.setBlendMode(0,!0);var I=G.vaoExtension;I&&I.bindVertexArrayOES(null)},getRenderTarget:function(G){var I=this.renderTargets,B=3;if(G>this.maxDimension)return this.targetIndex=I.length-B,I[this.targetIndex];var k=(f(G,this.frameInc,0,!0)-1)*B;return this.targetIndex=k,I[k]},getSwapRenderTarget:function(){return this.renderTargets[this.targetIndex+1]},getAltSwapRenderTarget:function(){return this.renderTargets[this.targetIndex+2]},destroy:function(){this.flush(),this.classes.clear(),this.postPipelineClasses.clear(),this.pipelines.clear(),this.renderer=null,this.game=null,this.classes=null,this.postPipelineClasses=null,this.pipelines=null,this.default=null,this.current=null,this.previous=null}});n.exports=F},32302:(n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(83419),x=r(92503),d=new o({initialize:function(l,a,f,c,u,v,g,m,y){c===void 0&&(c=1),u===void 0&&(u=0),v===void 0&&(v=!0),g===void 0&&(g=!1),m===void 0&&(m=!0),y===void 0&&(y=!0),this.renderer=l,this.framebuffer=null,this.texture=null,this.width=0,this.height=0,this.scale=c,this.minFilter=u,this.autoClear=v,this.autoResize=!0,this.hasDepthBuffer=m,this.forceClamp=y,this.init(a,f),g?this.renderer.on(x.RESIZE,this.resize,this):this.autoResize=!1},init:function(h,l){var a=this.renderer;this.texture=a.createTextureFromSource(null,h,l,this.minFilter,this.forceClamp),this.framebuffer=a.createFramebuffer(h,l,this.texture,this.hasDepthBuffer),this.width=h,this.height=l},setAutoResize:function(h){return h&&!this.autoResize?(this.renderer.on(x.RESIZE,this.resize,this),this.autoResize=!0):!h&&this.autoResize&&(this.renderer.off(x.RESIZE,this.resize,this),this.autoResize=!1),this},resize:function(h,l){if(this.autoResize&&this.willResize(h,l)){var a=this.renderer;a.deleteFramebuffer(this.framebuffer),a.deleteTexture(this.texture),this.texture=a.createTextureFromSource(null,h,l,this.minFilter,this.forceClamp),this.framebuffer=a.createFramebuffer(h,l,this.texture,this.hasDepthBuffer),this.width=h,this.height=l}return this},willResize:function(h,l){return typeof h!="number"||typeof l!="number"?!1:(h=Math.round(h*this.scale),l=Math.round(l*this.scale),h=Math.max(h,1),l=Math.max(l,1),h!==this.width||l!==this.height)},bind:function(h,l,a){h===void 0&&(h=!1);var f=this.renderer;if(h&&f.flush(),l&&a&&this.resize(l,a),f.pushFramebuffer(this.framebuffer,!1,!1),h&&this.adjustViewport(),this.autoClear){var c=this.renderer.gl;c.clearColor(0,0,0,0),c.clear(c.COLOR_BUFFER_BIT)}f.clearStencilMask()},adjustViewport:function(){var h=this.renderer.gl;h.viewport(0,0,this.width,this.height),h.disable(h.SCISSOR_TEST)},clear:function(h,l,a,f){var c=this.renderer,u=c.gl;c.pushFramebuffer(this.framebuffer),h!==void 0&&l!==void 0&&a!==void 0&&f!==void 0?(u.enable(u.SCISSOR_TEST),u.scissor(h,l,a,f)):u.disable(u.SCISSOR_TEST),u.clearColor(0,0,0,0),u.clear(u.COLOR_BUFFER_BIT),c.popFramebuffer(),c.resetScissor()},unbind:function(h){h===void 0&&(h=!1);var l=this.renderer;return h&&l.flush(),l.popFramebuffer()},destroy:function(){var h=this.renderer;h.off(x.RESIZE,this.resize,this),h.deleteFramebuffer(this.framebuffer),h.deleteTexture(this.texture),this.renderer=null,this.framebuffer=null,this.texture=null}});n.exports=d},70554:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @author       Felipe Alfonso <@bitnenfer>
 * @author       Matthew Groves <@doormat>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports={getTintFromFloats:function(T,r,o,x){var d=(T*255|0)&255,h=(r*255|0)&255,l=(o*255|0)&255,a=(x*255|0)&255;return(a<<24|d<<16|h<<8|l)>>>0},getTintAppendFloatAlpha:function(T,r){var o=(r*255|0)&255;return(o<<24|T)>>>0},getTintAppendFloatAlphaAndSwap:function(T,r){var o=(T>>16|0)&255,x=(T>>8|0)&255,d=(T|0)&255,h=(r*255|0)&255;return(h<<24|d<<16|x<<8|o)>>>0},getFloatsFromUintRGB:function(T){var r=(T>>16|0)&255,o=(T>>8|0)&255,x=(T|0)&255;return[r/255,o/255,x/255]},checkShaderMax:function(T,r){var o=Math.min(16,T.getParameter(T.MAX_TEXTURE_IMAGE_UNITS));return!r||r===-1?o:Math.min(o,r)},parseFragmentShaderMaxTextures:function(T,r){if(!T)return"";for(var o="",x=0;x<r;x++)x>0&&(o+=`
	else `),x<r-1&&(o+="if (outTexId < "+x+".5)"),o+=`
	{`,o+=`
		texture = texture2D(uMainSampler[`+x+"], outTexCoord);",o+=`
	}`;return T=T.replace(/%count%/gi,r.toString()),T.replace(/%forloop%/gi,o)},setGlowQuality:function(T,r,o,x){return o===void 0&&(o=r.config.glowFXQuality),x===void 0&&(x=r.config.glowFXDistance),T=T.replace(/__SIZE__/gi,(1/o/x).toFixed(7)),T=T.replace(/__DIST__/gi,x.toFixed(0)+".0"),T}}},29100:(n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(83419),x=r(62644),d=r(50792),h=r(77085),l=r(95540),a=r(37867),f=r(92503),c=r(32302),u=r(70554),v=r(38683),g=new o({Extends:d,initialize:function(y){d.call(this);var C=y.game,b=C.renderer,M=b.gl;this.name=l(y,"name","WebGLPipeline"),this.game=C,this.renderer=b,this.manager,this.gl=M,this.view=C.canvas,this.width=0,this.height=0,this.vertexCount=0,this.vertexCapacity=0,this.vertexData,this.vertexBuffer,this.activeBuffer,this.topology=l(y,"topology",M.TRIANGLES),this.bytes,this.vertexViewF32,this.vertexViewU32,this.active=!0,this.forceZero=l(y,"forceZero",!1),this.hasBooted=!1,this.isPostFX=!1,this.isPreFX=!1,this.renderTargets=[],this.currentRenderTarget,this.shaders=[],this.currentShader,this.projectionMatrix,this.projectionWidth=0,this.projectionHeight=0,this.config=y,this.glReset=!1,this.batch=[],this.currentBatch=null,this.currentTexture=null,this.currentUnit=0,this.activeTextures=[],this.resizeUniform=l(y,"resizeUniform","")},boot:function(){var m,y=this.gl,C=this.config,b=this.renderer;this.isPostFX||(this.projectionMatrix=new a().identity());var M=this.renderTargets,w=l(C,"renderTarget",!1);typeof w=="boolean"&&w&&(w=1);var R=b.width,A=b.height;if(typeof w=="number")for(m=0;m<w;m++)M.push(new c(b,R,A,1,0,!0));else if(Array.isArray(w))for(m=0;m<w.length;m++){var L=l(w[m],"scale",1),F=l(w[m],"minFilter",0),G=l(w[m],"autoClear",1),I=l(w[m],"autoResize",!1),B=l(w[m],"width",null),k=l(w[m],"height",B);B?M.push(new c(b,B,k,1,F,G,I)):M.push(new c(b,R,A,L,F,G,I))}M.length&&(this.currentRenderTarget=M[0]),this.setShadersFromConfig(C);var U=this.shaders,H=0;for(m=0;m<U.length;m++)U[m].vertexSize>H&&(H=U[m].vertexSize);var X=l(C,"batchSize",b.config.batchSize);this.vertexCapacity=X*6;var j=new ArrayBuffer(this.vertexCapacity*H);this.vertexData=j,this.bytes=new Uint8Array(j),this.vertexViewF32=new Float32Array(j),this.vertexViewU32=new Uint32Array(j);var J=l(C,"vertices",null);for(J?(this.vertexViewF32.set(J),this.vertexBuffer=b.createVertexBuffer(j,y.STATIC_DRAW)):this.vertexBuffer=b.createVertexBuffer(j.byteLength,y.DYNAMIC_DRAW),this.setVertexBuffer(),m=U.length-1;m>=0;m--)U[m].rebind();this.hasBooted=!0,b.on(f.RESIZE,this.resize,this),b.on(f.PRE_RENDER,this.onPreRender,this),b.on(f.RENDER,this.onRender,this),b.on(f.POST_RENDER,this.onPostRender,this),this.emit(h.BOOT,this),this.onBoot()},onBoot:function(){},onResize:function(){},setShader:function(m,y,C){var b=this.renderer;if(m!==this.currentShader||b.currentProgram!==this.currentShader.program){this.flush();var M=this.setVertexBuffer(C);M&&!y&&(y=!0),m.bind(y,!1),this.currentShader=m}return this},getShaderByName:function(m){for(var y=this.shaders,C=0;C<y.length;C++)if(y[C].name===m)return y[C]},setShadersFromConfig:function(m){var y,C=this.shaders,b=this.renderer;for(y=0;y<C.length;y++)C[y].destroy();var M="vertShader",w="fragShader",R="attributes",A=l(m,M,null),L=u.parseFragmentShaderMaxTextures(l(m,w,null),b.maxTextures),F=l(m,R,null),G=l(m,"shaders",[]),I=G.length;if(I===0)A&&L&&(this.shaders=[new v(this,"default",A,L,x(F))]);else{var B=[];for(y=0;y<I;y++){var k=G[y],U,H,X,j;if(typeof k=="string"?(U="default",H=A,X=u.parseFragmentShaderMaxTextures(k,b.maxTextures),j=F):(U=l(k,"name","default"),H=l(k,M,A),X=u.parseFragmentShaderMaxTextures(l(k,w,L),b.maxTextures),j=l(k,R,F)),U==="default"){var J=X.split(`
`),Y=J[0].trim();Y.indexOf("#define SHADER_NAME")>-1&&(U=Y.substring(20))}H&&X&&B.push(new v(this,U,H,X,x(j)))}this.shaders=B}return this.shaders.length===0?console.warn("Pipeline: "+this.name+" - Invalid shader config"):this.currentShader=this.shaders[0],this},createBatch:function(m){return this.currentBatch={start:this.vertexCount,count:0,texture:[m],unit:0,maxUnit:0},this.currentUnit=0,this.currentTexture=m,this.batch.push(this.currentBatch),0},addTextureToBatch:function(m){var y=this.currentBatch;y&&(y.texture.push(m),y.unit++,y.maxUnit++)},pushBatch:function(m){if(!this.currentBatch||this.forceZero&&m!==this.currentTexture)return this.createBatch(m);if(m===this.currentTexture)return this.currentUnit;var y=this.currentBatch,C=y.texture.indexOf(m);return C===-1?y.texture.length===this.renderer.maxTextures?this.createBatch(m):(y.unit++,y.maxUnit++,y.texture.push(m),this.currentUnit=y.unit,this.currentTexture=m,y.unit):(this.currentUnit=C,this.currentTexture=m,C)},setGameObject:function(m,y){return y===void 0&&(y=m.frame),this.pushBatch(y.source.glTexture)},shouldFlush:function(m){return m===void 0&&(m=0),this.vertexCount+m>this.vertexCapacity},vertexAvailable:function(){return this.vertexCapacity-this.vertexCount},resize:function(m,y){(m!==this.width||y!==this.height)&&this.flush(),this.width=m,this.height=y;for(var C=this.renderTargets,b=0;b<C.length;b++)C[b].resize(m,y);return this.setProjectionMatrix(m,y),this.resizeUniform&&this.set2f(this.resizeUniform,m,y),this.emit(h.RESIZE,m,y,this),this.onResize(m,y),this},setProjectionMatrix:function(m,y){var C=this.projectionMatrix;if(!C)return this;this.projectionWidth=m,this.projectionHeight=y,C.ortho(0,m,y,0,-1e3,1e3);for(var b=this.shaders,M="uProjectionMatrix",w=0;w<b.length;w++){var R=b[w];R.hasUniform(M)&&(R.resetUniform(M),R.setMatrix4fv(M,!1,C.val,R))}return this},flipProjectionMatrix:function(m){m===void 0&&(m=!0);var y=this.projectionMatrix;if(!y)return this;var C=this.projectionWidth,b=this.projectionHeight;m?y.ortho(0,C,0,b,-1e3,1e3):y.ortho(0,C,b,0,-1e3,1e3),this.setMatrix4fv("uProjectionMatrix",!1,y.val)},updateProjectionMatrix:function(){if(this.projectionMatrix){var m=this.renderer.projectionWidth,y=this.renderer.projectionHeight;(this.projectionWidth!==m||this.projectionHeight!==y)&&this.setProjectionMatrix(m,y)}},bind:function(m){if(m===void 0&&(m=this.currentShader),this.glReset)return this.rebind(m);var y=!1,C=this.gl;return C.getParameter(C.ARRAY_BUFFER_BINDING)!==this.vertexBuffer&&(C.bindBuffer(C.ARRAY_BUFFER,this.vertexBuffer.webGLBuffer),this.activeBuffer=this.vertexBuffer,y=!0),m.bind(y),this.currentShader=m,this.activeTextures.length=0,this.emit(h.BIND,this,m),this.onActive(m),this},rebind:function(m){this.activeBuffer=null,this.setVertexBuffer();for(var y=this.shaders,C=y.length-1;C>=0;C--){var b=y[C].rebind();(!m||b===m)&&(this.currentShader=b)}return this.activeTextures.length=0,this.emit(h.REBIND,this.currentShader),this.onActive(this.currentShader),this.onRebind(),this.glReset=!1,this},restoreContext:function(){var m=this.shaders,y=!!this.vertexBuffer;this.activeBuffer=null,this.activeTextures.length=0,this.batch.length=0,this.currentBatch=null,this.currentTexture=null,this.currentUnit=0,y&&this.setVertexBuffer();for(var C=0;C<m.length;C++){var b=m[C];b.syncUniforms(),y&&b.rebind()}},setVertexBuffer:function(m){if(m===void 0&&(m=this.vertexBuffer),m!==this.activeBuffer){var y=this.gl;return this.gl.bindBuffer(y.ARRAY_BUFFER,m.webGLBuffer),this.activeBuffer=m,!0}return!1},preBatch:function(m){return this.currentRenderTarget&&this.currentRenderTarget.bind(),this.onPreBatch(m),this},postBatch:function(m){return this.onDraw(this.currentRenderTarget),this.onPostBatch(m),this},onDraw:function(){},unbind:function(){this.currentRenderTarget&&this.currentRenderTarget.unbind()},flush:function(m){if(m===void 0&&(m=!1),this.vertexCount>0){this.emit(h.BEFORE_FLUSH,this,m),this.onBeforeFlush(m);var y=this.gl,C=this.vertexCount,b=this.currentShader.vertexSize,M=this.topology;if(this.active){this.setVertexBuffer(),C===this.vertexCapacity?y.bufferData(y.ARRAY_BUFFER,this.vertexData,y.DYNAMIC_DRAW):y.bufferSubData(y.ARRAY_BUFFER,0,this.bytes.subarray(0,C*b));var w,R,A,L=this.batch,F=this.activeTextures;if(this.forceZero)for(F[0]||y.activeTexture(y.TEXTURE0),w=0;w<L.length;w++)R=L[w],A=R.texture[0],F[0]!==A&&(y.bindTexture(y.TEXTURE_2D,A.webGLTexture),F[0]=A),y.drawArrays(M,R.start,R.count);else for(w=0;w<L.length;w++){R=L[w];for(var G=0;G<=R.maxUnit;G++)A=R.texture[G],F[G]!==A&&(y.activeTexture(y.TEXTURE0+G),y.bindTexture(y.TEXTURE_2D,A.webGLTexture),F[G]=A);y.drawArrays(M,R.start,R.count)}}this.vertexCount=0,this.batch.length=0,this.currentBatch=null,this.currentTexture=null,this.currentUnit=0,this.emit(h.AFTER_FLUSH,this,m),this.onAfterFlush(m)}return this},onActive:function(){},onBind:function(){},onRebind:function(){},onBatch:function(){},onPreBatch:function(){},onPostBatch:function(){},onPreRender:function(){},onRender:function(){},onPostRender:function(){},onBeforeFlush:function(){},onAfterFlush:function(){},batchVert:function(m,y,C,b,M,w,R){var A=this.vertexViewF32,L=this.vertexViewU32,F=this.vertexCount*this.currentShader.vertexComponentCount-1;A[++F]=m,A[++F]=y,A[++F]=C,A[++F]=b,A[++F]=M,A[++F]=w,L[++F]=R,this.vertexCount++,this.currentBatch.count=this.vertexCount-this.currentBatch.start},batchQuad:function(m,y,C,b,M,w,R,A,L,F,G,I,B,k,U,H,X,j,J,Y){Y===void 0&&(Y=this.currentUnit);var $=!1;this.shouldFlush(6)&&(this.flush(),$=!0),this.currentBatch||(Y=this.setTexture2D(J));var z=this.vertexViewF32,V=this.vertexViewU32,K=this.vertexCount*this.currentShader.vertexComponentCount-1;return z[++K]=y,z[++K]=C,z[++K]=F,z[++K]=G,z[++K]=Y,z[++K]=j,V[++K]=k,z[++K]=b,z[++K]=M,z[++K]=F,z[++K]=B,z[++K]=Y,z[++K]=j,V[++K]=H,z[++K]=w,z[++K]=R,z[++K]=I,z[++K]=B,z[++K]=Y,z[++K]=j,V[++K]=X,z[++K]=y,z[++K]=C,z[++K]=F,z[++K]=G,z[++K]=Y,z[++K]=j,V[++K]=k,z[++K]=w,z[++K]=R,z[++K]=I,z[++K]=B,z[++K]=Y,z[++K]=j,V[++K]=X,z[++K]=A,z[++K]=L,z[++K]=I,z[++K]=G,z[++K]=Y,z[++K]=j,V[++K]=U,this.vertexCount+=6,this.currentBatch.count=this.vertexCount-this.currentBatch.start,this.onBatch(m),$},batchTri:function(m,y,C,b,M,w,R,A,L,F,G,I,B,k,U,H,X){X===void 0&&(X=this.currentUnit);var j=!1;this.shouldFlush(3)&&(this.flush(),j=!0),this.currentBatch||(X=this.setTexture2D(H));var J=this.vertexViewF32,Y=this.vertexViewU32,$=this.vertexCount*this.currentShader.vertexComponentCount-1;return J[++$]=y,J[++$]=C,J[++$]=A,J[++$]=L,J[++$]=X,J[++$]=U,Y[++$]=I,J[++$]=b,J[++$]=M,J[++$]=A,J[++$]=G,J[++$]=X,J[++$]=U,Y[++$]=B,J[++$]=w,J[++$]=R,J[++$]=F,J[++$]=G,J[++$]=X,J[++$]=U,Y[++$]=k,this.vertexCount+=3,this.currentBatch.count=this.vertexCount-this.currentBatch.start,this.onBatch(m),j},drawFillRect:function(m,y,C,b,M,w,R,A){R===void 0&&(R=this.renderer.whiteTexture),A===void 0&&(A=!0),m=Math.floor(m),y=Math.floor(y);var L=Math.floor(m+C),F=Math.floor(y+b),G=this.setTexture2D(R),I=u.getTintAppendFloatAlphaAndSwap(M,w),B=0,k=0,U=1,H=1;A&&(k=1,H=0),this.batchQuad(null,m,y,m,F,L,F,L,y,B,k,U,H,I,I,I,I,0,R,G)},setTexture2D:function(m){return m===void 0&&(m=this.renderer.whiteTexture),this.pushBatch(m)},bindTexture:function(m,y){y===void 0&&(y=0);var C=this.gl;return C.activeTexture(C.TEXTURE0+y),C.bindTexture(C.TEXTURE_2D,m.webGLTexture),this},bindRenderTarget:function(m,y){return this.bindTexture(m.texture,y)},setTime:function(m,y){return this.set1f(m,this.game.loop.getDuration(),y),this},setBoolean:function(m,y,C){return C===void 0&&(C=this.currentShader),C.setBoolean(m,y),this},set1f:function(m,y,C){return C===void 0&&(C=this.currentShader),C.set1f(m,y),this},set2f:function(m,y,C,b){return b===void 0&&(b=this.currentShader),b.set2f(m,y,C),this},set3f:function(m,y,C,b,M){return M===void 0&&(M=this.currentShader),M.set3f(m,y,C,b),this},set4f:function(m,y,C,b,M,w){return w===void 0&&(w=this.currentShader),w.set4f(m,y,C,b,M),this},set1fv:function(m,y,C){return C===void 0&&(C=this.currentShader),C.set1fv(m,y),this},set2fv:function(m,y,C){return C===void 0&&(C=this.currentShader),C.set2fv(m,y),this},set3fv:function(m,y,C){return C===void 0&&(C=this.currentShader),C.set3fv(m,y),this},set4fv:function(m,y,C){return C===void 0&&(C=this.currentShader),C.set4fv(m,y),this},set1iv:function(m,y,C){return C===void 0&&(C=this.currentShader),C.set1iv(m,y),this},set2iv:function(m,y,C){return C===void 0&&(C=this.currentShader),C.set2iv(m,y),this},set3iv:function(m,y,C){return C===void 0&&(C=this.currentShader),C.set3iv(m,y),this},set4iv:function(m,y,C){return C===void 0&&(C=this.currentShader),C.set4iv(m,y),this},set1i:function(m,y,C){return C===void 0&&(C=this.currentShader),C.set1i(m,y),this},set2i:function(m,y,C,b){return b===void 0&&(b=this.currentShader),b.set2i(m,y,C),this},set3i:function(m,y,C,b,M){return M===void 0&&(M=this.currentShader),M.set3i(m,y,C,b),this},set4i:function(m,y,C,b,M,w){return w===void 0&&(w=this.currentShader),w.set4i(m,y,C,b,M),this},setMatrix2fv:function(m,y,C,b){return b===void 0&&(b=this.currentShader),b.setMatrix2fv(m,y,C),this},setMatrix3fv:function(m,y,C,b){return b===void 0&&(b=this.currentShader),b.setMatrix3fv(m,y,C),this},setMatrix4fv:function(m,y,C,b){return b===void 0&&(b=this.currentShader),b.setMatrix4fv(m,y,C),this},destroy:function(){this.emit(h.DESTROY,this);var m,y=this.shaders;for(m=0;m<y.length;m++)y[m].destroy();var C=this.renderTargets;for(m=0;m<C.length;m++)C[m].destroy();var b=this.renderer;return b.deleteBuffer(this.vertexBuffer),b.off(f.RESIZE,this.resize,this),b.off(f.PRE_RENDER,this.onPreRender,this),b.off(f.RENDER,this.onRender,this),b.off(f.POST_RENDER,this.onPostRender,this),this.removeAllListeners(),this.game=null,this.renderer=null,this.manager=null,this.gl=null,this.view=null,this.shaders=null,this.renderTargets=null,this.bytes=null,this.vertexViewF32=null,this.vertexViewU32=null,this.vertexData=null,this.vertexBuffer=null,this.currentShader=null,this.currentRenderTarget=null,this.activeTextures=null,this}});n.exports=g},74797:(n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @author       Felipe Alfonso <@bitnenfer>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(95428),x=r(72905),d=r(19715),h=r(83419),l=r(8054),a=r(50792),f=r(92503),c=r(50030),u=r(37867),v=r(29747),g=r(7530),m=r(32302),y=r(97480),C=r(69442),b=r(70554),M=r(88815),w=r(26128),R=r(1482),A=r(82751),L=r(84387),F=r(93567),G=r(57183),I=new h({Extends:a,initialize:function(k){a.call(this);var U=k.config,H={alpha:U.transparent,desynchronized:U.desynchronized,depth:!0,antialias:U.antialiasGL,premultipliedAlpha:U.premultipliedAlpha,stencil:!0,failIfMajorPerformanceCaveat:U.failIfMajorPerformanceCaveat,powerPreference:U.powerPreference,preserveDrawingBuffer:U.preserveDrawingBuffer,willReadFrequently:!1};this.config={clearBeforeRender:U.clearBeforeRender,antialias:U.antialias,backgroundColor:U.backgroundColor,contextCreation:H,roundPixels:U.roundPixels,maxTextures:U.maxTextures,maxTextureSize:U.maxTextureSize,batchSize:U.batchSize,maxLights:U.maxLights,mipmapFilter:U.mipmapFilter},this.game=k,this.type=l.WEBGL,this.pipelines=null,this.width=0,this.height=0,this.canvas=k.canvas,this.blendModes=[],this.contextLost=!1,this.snapshotState={x:0,y:0,width:1,height:1,getPixel:!1,callback:null,type:"image/png",encoder:.92,isFramebuffer:!1,bufferWidth:0,bufferHeight:0},this.maxTextures=0,this.textureIndexes,this.glBufferWrappers=[],this.glProgramWrappers=[],this.glTextureWrappers=[],this.glFramebufferWrappers=[],this.glAttribLocationWrappers=[],this.glUniformLocationWrappers=[],this.currentFramebuffer=null,this.fboStack=[],this.currentProgram=null,this.currentBlendMode=1/0,this.currentScissorEnabled=!1,this.currentScissor=null,this.scissorStack=[],this.contextLostHandler=v,this.contextRestoredHandler=v,this.previousContextLostHandler=v,this.previousContextRestoredHandler=v,this.gl=null,this.supportedExtensions=null,this.instancedArraysExtension=null,this.vaoExtension=null,this.extensions={},this.glFormats,this.compression,this.drawingBufferHeight=0,this.blankTexture=null,this.normalTexture=null,this.whiteTexture=null,this.maskCount=0,this.maskStack=[],this.currentMask={mask:null,camera:null},this.currentCameraMask={mask:null,camera:null},this.glFuncMap=null,this.currentType="",this.newType=!1,this.nextTypeMatch=!1,this.finalType=!1,this.mipmapFilter=null,this.defaultScissor=[0,0,0,0],this.isBooted=!1,this.renderTarget=null,this.projectionMatrix,this.projectionWidth=0,this.projectionHeight=0,this.maskSource=null,this.maskTarget=null,this.spector=null,this._debugCapture=!1,this.init(this.config)},init:function(B){var k,U=this.game,H=this.canvas,X=B.backgroundColor;if(U.config.context?k=U.config.context:k=H.getContext("webgl",B.contextCreation)||H.getContext("experimental-webgl",B.contextCreation),!k||k.isContextLost())throw this.contextLost=!0,new Error("WebGL unsupported");this.gl=k,this.setExtensions(),this.setContextHandlers(),U.context=k;for(var j=0;j<=27;j++)this.blendModes.push({func:[k.ONE,k.ONE_MINUS_SRC_ALPHA],equation:k.FUNC_ADD});this.blendModes[1].func=[k.ONE,k.DST_ALPHA],this.blendModes[2].func=[k.DST_COLOR,k.ONE_MINUS_SRC_ALPHA],this.blendModes[3].func=[k.ONE,k.ONE_MINUS_SRC_COLOR],this.blendModes[17]={func:[k.ZERO,k.ONE_MINUS_SRC_ALPHA],equation:k.FUNC_REVERSE_SUBTRACT},this.glFormats=[k.BYTE,k.SHORT,k.UNSIGNED_BYTE,k.UNSIGNED_SHORT,k.FLOAT],this.glFuncMap={mat2:{func:k.uniformMatrix2fv,length:1,matrix:!0},mat3:{func:k.uniformMatrix3fv,length:1,matrix:!0},mat4:{func:k.uniformMatrix4fv,length:1,matrix:!0},"1f":{func:k.uniform1f,length:1},"1fv":{func:k.uniform1fv,length:1},"1i":{func:k.uniform1i,length:1},"1iv":{func:k.uniform1iv,length:1},"2f":{func:k.uniform2f,length:2},"2fv":{func:k.uniform2fv,length:1},"2i":{func:k.uniform2i,length:2},"2iv":{func:k.uniform2iv,length:1},"3f":{func:k.uniform3f,length:3},"3fv":{func:k.uniform3fv,length:1},"3i":{func:k.uniform3i,length:3},"3iv":{func:k.uniform3iv,length:1},"4f":{func:k.uniform4f,length:4},"4fv":{func:k.uniform4fv,length:1},"4i":{func:k.uniform4i,length:4},"4iv":{func:k.uniform4iv,length:1}},(!B.maxTextures||B.maxTextures===-1)&&(B.maxTextures=k.getParameter(k.MAX_TEXTURE_IMAGE_UNITS)),B.maxTextureSize||(B.maxTextureSize=k.getParameter(k.MAX_TEXTURE_SIZE)),this.compression=this.getCompressedTextures(),k.disable(k.DEPTH_TEST),k.disable(k.CULL_FACE),k.enable(k.BLEND),k.clearColor(X.redGL,X.greenGL,X.blueGL,X.alphaGL),k.clear(k.COLOR_BUFFER_BIT);var J=["NEAREST","LINEAR","NEAREST_MIPMAP_NEAREST","LINEAR_MIPMAP_NEAREST","NEAREST_MIPMAP_LINEAR","LINEAR_MIPMAP_LINEAR"];return J.indexOf(B.mipmapFilter)!==-1&&(this.mipmapFilter=k[B.mipmapFilter]),this.maxTextures=b.checkShaderMax(k,B.maxTextures),this.textureIndexes=[],this.createTemporaryTextures(),this.pipelines=new g(this),this.setBlendMode(l.BlendModes.NORMAL),this.projectionMatrix=new u().identity(),U.textures.once(C.READY,this.boot,this),this},boot:function(){var B=this.game,k=this.pipelines,U=B.scale.baseSize,H=U.width,X=U.height;this.width=H,this.height=X,this.isBooted=!0,this.renderTarget=new m(this,H,X,1,0,!0,!0),this.maskTarget=new m(this,H,X,1,0,!0,!0),this.maskSource=new m(this,H,X,1,0,!0,!0);var j=B.config;k.boot(j.pipeline,j.defaultPipeline,j.autoMobilePipeline),this.blankTexture=B.textures.getFrame("__DEFAULT").glTexture,this.normalTexture=B.textures.getFrame("__NORMAL").glTexture,this.whiteTexture=B.textures.getFrame("__WHITE").glTexture;var J=this.gl;J.bindFramebuffer(J.FRAMEBUFFER,null),J.enable(J.SCISSOR_TEST),B.scale.on(y.RESIZE,this.onResize,this),this.resize(H,X)},setExtensions:function(){var B=this.gl,k=B.getSupportedExtensions();this.supportedExtensions=k;var U="ANGLE_instanced_arrays";this.instancedArraysExtension=k.indexOf(U)>-1?B.getExtension(U):null;var H="OES_vertex_array_object";this.vaoExtension=k.indexOf(H)>-1?B.getExtension(H):null},setContextHandlers:function(B,k){this.previousContextLostHandler&&this.canvas.removeEventListener("webglcontextlost",this.previousContextLostHandler,!1),this.previousContextRestoredHandler&&this.canvas.removeEventListener("webglcontextlost",this.previousContextRestoredHandler,!1),typeof B=="function"?this.contextLostHandler=B.bind(this):this.contextLostHandler=this.dispatchContextLost.bind(this),typeof k=="function"?this.contextRestoredHandler=k.bind(this):this.contextRestoredHandler=this.dispatchContextRestored.bind(this),this.canvas.addEventListener("webglcontextlost",this.contextLostHandler,!1),this.canvas.addEventListener("webglcontextrestored",this.contextRestoredHandler,!1),this.previousContextLostHandler=this.contextLostHandler,this.previousContextRestoredHandler=this.contextRestoredHandler},dispatchContextLost:function(B){this.contextLost=!0,console&&console.warn("WebGL Context lost. Renderer disabled"),this.emit(f.LOSE_WEBGL,this),B.preventDefault()},dispatchContextRestored:function(B){var k=this.gl;if(k.isContextLost()){console&&console.log("WebGL Context restored, but context is still lost");return}this.currentProgram=null,this.currentFramebuffer=null,this.setBlendMode(l.BlendModes.NORMAL),k.disable(k.BLEND),k.disable(k.DEPTH_TEST),k.enable(k.CULL_FACE),this.compression=this.getCompressedTextures();var U=function(H){H.createResource()};o(this.glTextureWrappers,U),o(this.glBufferWrappers,U),o(this.glFramebufferWrappers,U),o(this.glProgramWrappers,U),o(this.glAttribLocationWrappers,U),o(this.glUniformLocationWrappers,U),this.createTemporaryTextures(),this.pipelines.restoreContext(),this.resize(this.game.scale.baseSize.width,this.game.scale.baseSize.height),this.setExtensions(),this.contextLost=!1,console&&console.warn("WebGL Context restored. Renderer running again."),this.emit(f.RESTORE_WEBGL,this),B.preventDefault()},createTemporaryTextures:function(){for(var B=this.gl,k=0;k<this.maxTextures;k++){var U=B.createTexture();B.activeTexture(B.TEXTURE0+k),B.bindTexture(B.TEXTURE_2D,U),B.texImage2D(B.TEXTURE_2D,0,B.RGBA,1,1,0,B.RGBA,B.UNSIGNED_BYTE,new Uint8Array([0,0,255,255])),this.textureIndexes.push(k)}},captureFrame:function(B,k){},captureNextFrame:function(){},getFps:function(){},log:function(){},startCapture:function(B,k,U){},stopCapture:function(){},onCapture:function(B){},onResize:function(B,k){(k.width!==this.width||k.height!==this.height)&&this.resize(k.width,k.height)},beginCapture:function(B,k){B===void 0&&(B=this.width),k===void 0&&(k=this.height),this.renderTarget.bind(!0,B,k),this.setProjectionMatrix(B,k)},endCapture:function(){return this.renderTarget.unbind(!0),this.resetProjectionMatrix(),this.renderTarget},resize:function(B,k){var U=this.gl;return this.width=B,this.height=k,this.setProjectionMatrix(B,k),U.viewport(0,0,B,k),this.drawingBufferHeight=U.drawingBufferHeight,U.scissor(0,U.drawingBufferHeight-k,B,k),this.defaultScissor[2]=B,this.defaultScissor[3]=k,this.emit(f.RESIZE,B,k),this},getCompressedTextures:function(){var B="WEBGL_compressed_texture_",k="WEBKIT_"+B,U="EXT_texture_compression_",H=function(j,J){var Y=j.getExtension(B+J)||j.getExtension(k+J)||j.getExtension(U+J);if(Y){var $={};for(var z in Y)$[Y[z]]=z;return $}},X=this.gl;return{ETC:H(X,"etc"),ETC1:H(X,"etc1"),ATC:H(X,"atc"),ASTC:H(X,"astc"),BPTC:H(X,"bptc"),RGTC:H(X,"rgtc"),PVRTC:H(X,"pvrtc"),S3TC:H(X,"s3tc"),S3TCSRGB:H(X,"s3tc_srgb"),IMG:!0}},getCompressedTextureName:function(B,k){var U=this.compression[B.toUpperCase()];if(k in U)return U[k]},supportsCompressedTexture:function(B,k){var U=this.compression[B.toUpperCase()];return U?k?k in U:!0:!1},getAspectRatio:function(){return this.width/this.height},setProjectionMatrix:function(B,k){return(B!==this.projectionWidth||k!==this.projectionHeight)&&(this.projectionWidth=B,this.projectionHeight=k,this.projectionMatrix.ortho(0,B,k,0,-1e3,1e3)),this},resetProjectionMatrix:function(){return this.setProjectionMatrix(this.width,this.height)},hasExtension:function(B){return this.supportedExtensions?this.supportedExtensions.indexOf(B):!1},getExtension:function(B){return this.hasExtension(B)?(B in this.extensions||(this.extensions[B]=this.gl.getExtension(B)),this.extensions[B]):null},flush:function(){this.pipelines.flush()},pushScissor:function(B,k,U,H,X){X===void 0&&(X=this.drawingBufferHeight);var j=this.scissorStack,J=[B,k,U,H];return j.push(J),this.setScissor(B,k,U,H,X),this.currentScissor=J,J},setScissor:function(B,k,U,H,X){X===void 0&&(X=this.drawingBufferHeight);var j=this.gl,J=this.currentScissor,Y=U>0&&H>0;if(J&&Y){var $=J[0],z=J[1],V=J[2],K=J[3];Y=$!==B||z!==k||V!==U||K!==H}Y&&(this.flush(),j.scissor(B,X-k-H,U,H))},resetScissor:function(){var B=this.gl;B.enable(B.SCISSOR_TEST);var k=this.currentScissor;if(k){var U=k[0],H=k[1],X=k[2],j=k[3];X>0&&j>0&&B.scissor(U,this.drawingBufferHeight-H-j,X,j)}},popScissor:function(){var B=this.scissorStack;B.pop();var k=B[B.length-1];k&&this.setScissor(k[0],k[1],k[2],k[3]),this.currentScissor=k},hasActiveStencilMask:function(){var B=this.currentMask.mask,k=this.currentCameraMask.mask;return B&&B.isStencil||k&&k.isStencil},resetViewport:function(){var B=this.gl;B.viewport(0,0,this.width,this.height),this.drawingBufferHeight=B.drawingBufferHeight},setBlendMode:function(B,k){k===void 0&&(k=!1);var U=this.gl,H=this.blendModes[B];return k||B!==l.BlendModes.SKIP_CHECK&&this.currentBlendMode!==B?(this.flush(),U.enable(U.BLEND),U.blendEquation(H.equation),H.func.length>2?U.blendFuncSeparate(H.func[0],H.func[1],H.func[2],H.func[3]):U.blendFunc(H.func[0],H.func[1]),this.currentBlendMode=B,!0):!1},addBlendMode:function(B,k){var U=this.blendModes.push({func:B,equation:k});return U-1},updateBlendMode:function(B,k,U){return this.blendModes[B]&&(this.blendModes[B].func=k,U&&(this.blendModes[B].equation=U)),this},removeBlendMode:function(B){return B>17&&this.blendModes[B]&&this.blendModes.splice(B,1),this},pushFramebuffer:function(B,k,U,H,X){return B===this.currentFramebuffer?this:(this.fboStack.push(B),this.setFramebuffer(B,k,U,H,X))},setFramebuffer:function(B,k,U,H,X){if(k===void 0&&(k=!1),U===void 0&&(U=!0),H===void 0&&(H=null),X===void 0&&(X=!1),B===this.currentFramebuffer)return this;var j=this.gl,J=this.width,Y=this.height;return B&&B.renderTexture&&U?(J=B.renderTexture.width,Y=B.renderTexture.height):this.flush(),B?j.bindFramebuffer(j.FRAMEBUFFER,B.webGLFramebuffer):j.bindFramebuffer(j.FRAMEBUFFER,null),U&&j.viewport(0,0,J,Y),H&&j.framebufferTexture2D(j.FRAMEBUFFER,j.COLOR_ATTACHMENT0,j.TEXTURE_2D,H.webGLTexture,0),X&&(j.clearColor(0,0,0,0),j.clear(j.COLOR_BUFFER_BIT)),k&&(B?(this.drawingBufferHeight=Y,this.pushScissor(0,0,J,Y)):(this.drawingBufferHeight=this.height,this.popScissor())),this.currentFramebuffer=B,this},popFramebuffer:function(B,k){B===void 0&&(B=!1),k===void 0&&(k=!0);var U=this.fboStack;U.pop();var H=U[U.length-1];return H||(H=null),this.setFramebuffer(H,B,k),H},restoreFramebuffer:function(B,k){B===void 0&&(B=!1),k===void 0&&(k=!0);var U=this.fboStack,H=U[U.length-1];H||(H=null),this.currentFramebuffer=null,this.setFramebuffer(H,B,k)},setProgram:function(B){return B!==this.currentProgram?(this.flush(),this.gl.useProgram(B.webGLProgram),this.currentProgram=B,!0):!1},resetProgram:function(){return this.gl.useProgram(this.currentProgram.webGLProgramWrapper),this},createTextureFromSource:function(B,k,U,H,X){X===void 0&&(X=!1);var j=this.gl,J=j.NEAREST,Y=j.NEAREST,$=j.CLAMP_TO_EDGE,z=null;k=B?B.width:k,U=B?B.height:U;var V=c(k,U);if(V&&!X&&($=j.REPEAT),H===l.ScaleModes.LINEAR&&this.config.antialias){var K=B&&B.compressed,Q=!K&&V||K&&B.mipmaps.length>1;J=this.mipmapFilter&&Q?this.mipmapFilter:j.LINEAR,Y=j.LINEAR}return!B&&typeof k=="number"&&typeof U=="number"?z=this.createTexture2D(0,J,Y,$,$,j.RGBA,null,k,U):z=this.createTexture2D(0,J,Y,$,$,j.RGBA,B),z},createTexture2D:function(B,k,U,H,X,j,J,Y,$,z,V,K){typeof Y!="number"&&(Y=J?J.width:1),typeof $!="number"&&($=J?J.height:1);var Q=new A(this.gl,B,k,U,H,X,j,J,Y,$,z,V,K);return this.glTextureWrappers.push(Q),Q},createFramebuffer:function(B,k,U,H){this.currentFramebuffer=null;var X=new L(this.gl,B,k,U,H);return this.glFramebufferWrappers.push(X),X},beginBitmapMask:function(B,k){var U=this.gl;U&&(this.flush(),this.maskTarget.bind(!0),this.currentCameraMask.mask!==B&&(this.currentMask.mask=B,this.currentMask.camera=k))},drawBitmapMask:function(B,k,U){this.flush(),this.maskSource.bind(),this.setBlendMode(0,!0),B.renderWebGL(this,B,k),this.maskSource.unbind(!0),this.maskTarget.unbind();var H=this.gl,X=this.getCurrentStencilMask();X?(H.enable(H.STENCIL_TEST),X.mask.applyStencil(this,X.camera,!0)):this.currentMask.mask=null,this.pipelines.set(U),H.activeTexture(H.TEXTURE0),H.bindTexture(H.TEXTURE_2D,this.maskTarget.texture.webGLTexture),H.activeTexture(H.TEXTURE1),H.bindTexture(H.TEXTURE_2D,this.maskSource.texture.webGLTexture)},createProgram:function(B,k){var U=new R(this.gl,B,k);return this.glProgramWrappers.push(U),U},createVertexBuffer:function(B,k){var U=this.gl,H=new w(U,B,U.ARRAY_BUFFER,k);return this.glBufferWrappers.push(H),H},createAttribLocation:function(B,k){var U=new F(this.gl,B,k);return this.glAttribLocationWrappers.push(U),U},createUniformLocation:function(B,k){var U=new G(this.gl,B,k);return this.glUniformLocationWrappers.push(U),U},createIndexBuffer:function(B,k){var U=this.gl,H=new w(U,B,U.ELEMENT_ARRAY_BUFFER,k);return this.glBufferWrappers.push(H),H},deleteTexture:function(B){if(B)return x(this.glTextureWrappers,B),B.destroy(),this},deleteFramebuffer:function(B){return B?(x(this.fboStack,B),x(this.glFramebufferWrappers,B),B.destroy(),this):this},deleteProgram:function(B){return B&&(x(this.glProgramWrappers,B),B.destroy()),this},deleteAttribLocation:function(B){return B&&(x(this.glAttribLocationWrappers,B),B.destroy()),this},deleteUniformLocation:function(B){return B&&(x(this.glUniformLocationWrappers,B),B.destroy()),this},deleteBuffer:function(B){return B?(x(this.glBufferWrappers,B),B.destroy(),this):this},preRenderCamera:function(B){var k=B.x,U=B.y,H=B.width,X=B.height,j=B.backgroundColor;if(B.emit(d.PRE_RENDER,B),this.pipelines.preBatchCamera(B),this.pushScissor(k,U,H,X),B.mask&&(this.currentCameraMask.mask=B.mask,this.currentCameraMask.camera=B._maskCamera,B.mask.preRenderWebGL(this,B,B._maskCamera)),j.alphaGL>0){var J=this.pipelines.setMulti();J.drawFillRect(k,U,H,X,b.getTintFromFloats(j.blueGL,j.greenGL,j.redGL,1),j.alphaGL)}},getCurrentStencilMask:function(){var B=null,k=this.maskStack,U=this.currentCameraMask;return k.length>0?B=k[k.length-1]:U.mask&&U.mask.isStencil&&(B=U),B},postRenderCamera:function(B){var k=B.flashEffect,U=B.fadeEffect;if(k.isRunning||U.isRunning||U.isComplete){var H=this.pipelines.setMulti();k.postRenderWebGL(H,b.getTintFromFloats),U.postRenderWebGL(H,b.getTintFromFloats)}B.dirty=!1,this.popScissor(),B.mask&&(this.currentCameraMask.mask=null,B.mask.postRenderWebGL(this,B._maskCamera)),this.pipelines.postBatchCamera(B),B.emit(d.POST_RENDER,B)},preRender:function(){if(!this.contextLost){var B=this.gl;if(B.bindFramebuffer(B.FRAMEBUFFER,null),this.emit(f.PRE_RENDER_CLEAR),this.config.clearBeforeRender){var k=this.config.backgroundColor;B.clearColor(k.redGL,k.greenGL,k.blueGL,k.alphaGL),B.clear(B.COLOR_BUFFER_BIT|B.DEPTH_BUFFER_BIT|B.STENCIL_BUFFER_BIT)}B.enable(B.SCISSOR_TEST),this.currentScissor=this.defaultScissor,this.scissorStack.length=0,this.scissorStack.push(this.currentScissor),this.game.scene.customViewports&&B.scissor(0,this.drawingBufferHeight-this.height,this.width,this.height),this.currentMask.mask=null,this.currentCameraMask.mask=null,this.maskStack.length=0,this.emit(f.PRE_RENDER)}},render:function(B,k,U){if(!this.contextLost){var H=k.length;if(this.emit(f.RENDER,B,U),this.preRenderCamera(U),H===0){this.setBlendMode(l.BlendModes.NORMAL),this.postRenderCamera(U);return}this.currentType="";for(var X=this.currentMask,j=0;j<H;j++){this.finalType=j===H-1;var J=k[j],Y=J.mask;X=this.currentMask,X.mask&&X.mask!==Y&&X.mask.postRenderWebGL(this,X.camera),Y&&X.mask!==Y&&Y.preRenderWebGL(this,J,U),J.blendMode!==this.currentBlendMode&&this.setBlendMode(J.blendMode);var $=J.type;$!==this.currentType&&(this.newType=!0,this.currentType=$),this.finalType?this.nextTypeMatch=!1:this.nextTypeMatch=k[j+1].type===this.currentType,J.renderWebGL(this,J,U),this.newType=!1}X=this.currentMask,X.mask&&X.mask.postRenderWebGL(this,X.camera),this.setBlendMode(l.BlendModes.NORMAL),this.postRenderCamera(U)}},postRender:function(){if(!this.contextLost){this.flush(),this.emit(f.POST_RENDER);var B=this.snapshotState;B.callback&&(M(this.gl,B),B.callback=null)}},clearStencilMask:function(){this.gl.disable(this.gl.STENCIL_TEST)},restoreStencilMask:function(){var B=this.gl,k=this.getCurrentStencilMask();if(k){var U=k.mask;B.enable(B.STENCIL_TEST),U.invertAlpha?B.stencilFunc(B.NOTEQUAL,U.level,255):B.stencilFunc(B.EQUAL,U.level,255)}},snapshot:function(B,k,U){return this.snapshotArea(0,0,this.gl.drawingBufferWidth,this.gl.drawingBufferHeight,B,k,U)},snapshotArea:function(B,k,U,H,X,j,J){var Y=this.snapshotState;return Y.callback=X,Y.type=j,Y.encoder=J,Y.getPixel=!1,Y.x=B,Y.y=k,Y.width=U,Y.height=H,this},snapshotPixel:function(B,k,U){return this.snapshotArea(B,k,1,1,U),this.snapshotState.getPixel=!0,this},snapshotFramebuffer:function(B,k,U,H,X,j,J,Y,$,z,V){X===void 0&&(X=!1),j===void 0&&(j=0),J===void 0&&(J=0),Y===void 0&&(Y=k),$===void 0&&($=U),z==="pixel"&&(X=!0,z="image/png");var K=this.currentFramebuffer;this.snapshotArea(j,J,Y,$,H,z,V);var Q=this.snapshotState;return Q.getPixel=X,Q.isFramebuffer=!0,Q.bufferWidth=k,Q.bufferHeight=U,Q.width=Math.min(Q.width,k),Q.height=Math.min(Q.height,U),this.setFramebuffer(B),M(this.gl,Q),this.setFramebuffer(K),Q.callback=null,Q.isFramebuffer=!1,this},canvasToTexture:function(B,k,U,H){U===void 0&&(U=!1),H===void 0&&(H=!1);var X=this.gl,j=X.NEAREST,J=X.NEAREST,Y=B.width,$=B.height,z=X.CLAMP_TO_EDGE,V=c(Y,$);return!U&&V&&(z=X.REPEAT),this.config.antialias&&(j=V&&this.mipmapFilter?this.mipmapFilter:X.LINEAR,J=X.LINEAR),k?(k.update(B,Y,$,H,z,z,j,J,k.format),k):this.createTexture2D(0,j,J,z,z,X.RGBA,B,Y,$,!0,!1,H)},createCanvasTexture:function(B,k,U){return k===void 0&&(k=!1),U===void 0&&(U=!1),this.canvasToTexture(B,null,k,U)},updateCanvasTexture:function(B,k,U,H){return U===void 0&&(U=!1),H===void 0&&(H=!1),this.canvasToTexture(B,k,H,U)},videoToTexture:function(B,k,U,H){U===void 0&&(U=!1),H===void 0&&(H=!1);var X=this.gl,j=X.NEAREST,J=X.NEAREST,Y=B.videoWidth,$=B.videoHeight,z=X.CLAMP_TO_EDGE,V=c(Y,$);return!U&&V&&(z=X.REPEAT),this.config.antialias&&(j=V&&this.mipmapFilter?this.mipmapFilter:X.LINEAR,J=X.LINEAR),k?(k.update(B,Y,$,H,z,z,j,J,k.format),k):this.createTexture2D(0,j,J,z,z,X.RGBA,B,Y,$,!0,!0,H)},createVideoTexture:function(B,k,U){return k===void 0&&(k=!1),U===void 0&&(U=!1),this.videoToTexture(B,null,k,U)},updateVideoTexture:function(B,k,U,H){return U===void 0&&(U=!1),H===void 0&&(H=!1),this.videoToTexture(B,k,H,U)},createUint8ArrayTexture:function(B,k,U){var H=this.gl,X=H.NEAREST,j=H.NEAREST,J=H.CLAMP_TO_EDGE,Y=c(k,U);return Y&&(J=H.REPEAT),this.createTexture2D(0,X,j,J,J,H.RGBA,B,k,U)},setTextureFilter:function(B,k){var U=this.gl,H=k===0?U.LINEAR:U.NEAREST;U.activeTexture(U.TEXTURE0);var X=U.getParameter(U.TEXTURE_BINDING_2D);return U.bindTexture(U.TEXTURE_2D,B.webGLTexture),U.texParameteri(U.TEXTURE_2D,U.TEXTURE_MIN_FILTER,H),U.texParameteri(U.TEXTURE_2D,U.TEXTURE_MAG_FILTER,H),B.minFilter=H,B.magFilter=H,X&&U.bindTexture(U.TEXTURE_2D,X),this},getMaxTextureSize:function(){return this.config.maxTextureSize},destroy:function(){this.canvas.removeEventListener("webglcontextlost",this.contextLostHandler,!1),this.canvas.removeEventListener("webglcontextrestored",this.contextRestoredHandler,!1);var B=function(k){k.destroy()};o(this.glAttribLocationWrappers,B),o(this.glBufferWrappers,B),o(this.glFramebufferWrappers,B),o(this.glProgramWrappers,B),o(this.glTextureWrappers,B),o(this.glUniformLocationWrappers,B),this.maskTarget.destroy(),this.maskSource.destroy(),this.pipelines.destroy(),this.removeAllListeners(),this.fboStack=[],this.maskStack=[],this.extensions={},this.textureIndexes=[],this.gl=null,this.game=null,this.canvas=null,this.contextLost=!0,this.currentMask=null,this.currentCameraMask=null}});n.exports=I},38683:(n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(83419),x=r(95428),d=r(95540),h=r(14500),l=new o({initialize:function(f,c,u,v,g){this.pipeline=f,this.name=c,this.renderer=f.renderer,this.gl=this.renderer.gl,this.fragSrc=v,this.vertSrc=u,this.program=this.renderer.createProgram(u,v),this.attributes,this.vertexComponentCount=0,this.vertexSize=0,this.uniforms={},this.createAttributes(g),this.createUniforms()},createAttributes:function(a){var f=0,c=0,u=[];this.vertexComponentCount=0;for(var v=0;v<a.length;v++){var g=a[v],m=g.name,y=d(g,"size",1),C=d(g,"type",h.FLOAT),b=C.enum,M=C.size,w=!!g.normalized;u.push({name:m,size:y,type:b,normalized:w,offset:c,enabled:!1,location:-1}),M===4?f+=y:f++,c+=y*M}this.vertexSize=c,this.vertexComponentCount=f,this.attributes=u},bind:function(a,f){return a===void 0&&(a=!1),f===void 0&&(f=!1),f&&this.pipeline.flush(),this.renderer.setProgram(this.program),a&&this.setAttribPointers(),this},rebind:function(){return this.renderer.setProgram(this.program),this.setAttribPointers(!0),this},setAttribPointers:function(a){a===void 0&&(a=!1);for(var f=this.gl,c=this.renderer,u=this.vertexSize,v=this.attributes,g=this.program,m=0;m<v.length;m++){var y=v[m],C=y.size,b=y.type,M=y.offset,w=y.enabled,R=y.location,A=!!y.normalized;if(a){R!==-1&&c.deleteAttribLocation(R);var L=this.renderer.createAttribLocation(g,y.name);L.webGLAttribLocation>=0?(f.enableVertexAttribArray(L.webGLAttribLocation),f.vertexAttribPointer(L.webGLAttribLocation,C,b,A,u,M),y.enabled=!0,y.location=L):L.webGLAttribLocation!==-1&&f.disableVertexAttribArray(L.webGLAttribLocation)}else w?f.vertexAttribPointer(R.webGLAttribLocation,C,b,A,u,M):!w&&R!==-1&&R.webGLAttribLocation>-1&&(f.disableVertexAttribArray(R.webGLAttribLocation),y.location=-1)}return this},createUniforms:function(){var a=this.gl,f=this.program,c=this.uniforms,u,v,g,m=a.getProgramParameter(f.webGLProgram,a.ACTIVE_UNIFORMS);for(u=0;u<m;u++){var y=a.getActiveUniform(f.webGLProgram,u);if(y){v=y.name,g=this.renderer.createUniformLocation(f,v),g!==null&&(c[v]={name:v,location:g,setter:null,value1:null,value2:null,value3:null,value4:null});var C=v.indexOf("[");C>0&&(v=v.substr(0,C),c.hasOwnProperty(v)||(g=this.renderer.createUniformLocation(f,v),g!==null&&(c[v]={name:v,location:g,setter:null,value1:null,value2:null,value3:null,value4:null})))}}return this},syncUniforms:function(){var a=this.gl;this.renderer.setProgram(this.program);for(var f in this.uniforms){var c=this.uniforms[f];c.setter&&c.setter.call(a,c.location.webGLUniformLocation,c.value1,c.value2,c.value3,c.value4)}},hasUniform:function(a){return this.uniforms.hasOwnProperty(a)},resetUniform:function(a){var f=this.uniforms[a];return f&&(f.value1=null,f.value2=null,f.value3=null,f.value4=null),this},setUniform1:function(a,f,c,u){var v=this.uniforms[f];return v?((u||v.value1!==c)&&(v.setter||(v.setter=a),v.value1=c,this.renderer.setProgram(this.program),a.call(this.gl,v.location.webGLUniformLocation,c),this.pipeline.currentShader=this),this):this},setUniform2:function(a,f,c,u,v){var g=this.uniforms[f];return g?((v||g.value1!==c||g.value2!==u)&&(g.setter||(g.setter=a),g.value1=c,g.value2=u,this.renderer.setProgram(this.program),a.call(this.gl,g.location.webGLUniformLocation,c,u),this.pipeline.currentShader=this),this):this},setUniform3:function(a,f,c,u,v,g){var m=this.uniforms[f];return m?((g||m.value1!==c||m.value2!==u||m.value3!==v)&&(m.setter||(m.setter=a),m.value1=c,m.value2=u,m.value3=v,this.renderer.setProgram(this.program),a.call(this.gl,m.location.webGLUniformLocation,c,u,v),this.pipeline.currentShader=this),this):this},setUniform4:function(a,f,c,u,v,g,m){var y=this.uniforms[f];return y?((m||y.value1!==c||y.value2!==u||y.value3!==v||y.value4!==g)&&(y.setter||(y.setter=a),y.value1=c,y.value2=u,y.value3=v,y.value4=g,this.renderer.setProgram(this.program),a.call(this.gl,y.location.webGLUniformLocation,c,u,v,g),this.pipeline.currentShader=this),this):this},setBoolean:function(a,f){return this.setUniform1(this.gl.uniform1i,a,Number(f))},set1f:function(a,f){return this.setUniform1(this.gl.uniform1f,a,f)},set2f:function(a,f,c){return this.setUniform2(this.gl.uniform2f,a,f,c)},set3f:function(a,f,c,u){return this.setUniform3(this.gl.uniform3f,a,f,c,u)},set4f:function(a,f,c,u,v){return this.setUniform4(this.gl.uniform4f,a,f,c,u,v)},set1fv:function(a,f){return this.setUniform1(this.gl.uniform1fv,a,f,!0)},set2fv:function(a,f){return this.setUniform1(this.gl.uniform2fv,a,f,!0)},set3fv:function(a,f){return this.setUniform1(this.gl.uniform3fv,a,f,!0)},set4fv:function(a,f){return this.setUniform1(this.gl.uniform4fv,a,f,!0)},set1iv:function(a,f){return this.setUniform1(this.gl.uniform1iv,a,f,!0)},set2iv:function(a,f){return this.setUniform1(this.gl.uniform2iv,a,f,!0)},set3iv:function(a,f){return this.setUniform1(this.gl.uniform3iv,a,f,!0)},set4iv:function(a,f){return this.setUniform1(this.gl.uniform4iv,a,f,!0)},set1i:function(a,f){return this.setUniform1(this.gl.uniform1i,a,f)},set2i:function(a,f,c){return this.setUniform2(this.gl.uniform2i,a,f,c)},set3i:function(a,f,c,u){return this.setUniform3(this.gl.uniform3i,a,f,c,u)},set4i:function(a,f,c,u,v){return this.setUniform4(this.gl.uniform4i,a,f,c,u,v)},setMatrix2fv:function(a,f,c){return this.setUniform2(this.gl.uniformMatrix2fv,a,f,c,!0)},setMatrix3fv:function(a,f,c){return this.setUniform2(this.gl.uniformMatrix3fv,a,f,c,!0)},setMatrix4fv:function(a,f,c){return this.setUniform2(this.gl.uniformMatrix4fv,a,f,c,!0)},createProgram:function(a,f){return a===void 0&&(a=this.vertSrc),f===void 0&&(f=this.fragSrc),this.program&&this.renderer.deleteProgram(this.program),this.vertSrc=a,this.fragSrc=f,this.program=this.renderer.createProgram(a,f),this.createUniforms(),this.rebind()},destroy:function(){var a=this.renderer;x(this.uniforms,function(f){a.deleteUniformLocation(f.location)}),this.uniforms=null,x(this.attributes,function(f){a.deleteAttribLocation(f.location)}),this.attributes=null,a.deleteProgram(this.program),this.pipeline=null,this.renderer=null,this.gl=null,this.program=null}});n.exports=l},14500:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T={BYTE:{enum:5120,size:1},UNSIGNED_BYTE:{enum:5121,size:1},SHORT:{enum:5122,size:2},UNSIGNED_SHORT:{enum:5123,size:2},INT:{enum:5124,size:4},UNSIGNED_INT:{enum:5125,size:4},FLOAT:{enum:5126,size:4}};n.exports=T},4159:(n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(14500),x=r(79291),d={PipelineManager:r(7530),Pipelines:r(96615),RenderTarget:r(32302),Utils:r(70554),WebGLPipeline:r(29100),WebGLRenderer:r(74797),WebGLShader:r(38683),Wrappers:r(9503)};d=x(!1,d,o),n.exports=d},31302:(n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @author       Felipe Alfonso <@bitnenfer>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(83419),x=r(95540),d=r(78908),h=r(85191),l=r(14500),a=r(29100),f=new o({Extends:a,initialize:function(u){u.fragShader=x(u,"fragShader",d),u.vertShader=x(u,"vertShader",h),u.batchSize=x(u,"batchSize",1),u.vertices=x(u,"vertices",[-1,1,-1,-7,7,1]),u.attributes=x(u,"attributes",[{name:"inPosition",size:2,type:l.FLOAT}]),a.call(this,u)},boot:function(){a.prototype.boot.call(this),this.set1i("uMainSampler",0),this.set1i("uMaskSampler",1)},resize:function(c,u){a.prototype.resize.call(this,c,u),this.set2f("uResolution",c,u)},beginMask:function(c,u,v){this.renderer.beginBitmapMask(c,v)},endMask:function(c,u,v){var g=this.gl,m=this.renderer,y=c.bitmapMask;y&&g&&(m.drawBitmapMask(y,u,this),v&&this.set2f("uResolution",v.width,v.height),this.set1i("uInvertMaskAlpha",c.invertAlpha),g.drawArrays(this.topology,0,3),v&&this.set2f("uResolution",this.width,this.height),g.bindTexture(g.TEXTURE_2D,null))}});n.exports=f},92651:(n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(83419),x=r(58918),d=r(14811),h=r(95540),l=r(43558),a=r(89350),f=r(70554),c=new o({Extends:l,initialize:function(v){v.shaders=[f.setGlowQuality(a.FXGlowFrag,v.game),a.FXShadowFrag,a.FXPixelateFrag,a.FXVignetteFrag,a.FXShineFrag,a.FXBlurLowFrag,a.FXBlurMedFrag,a.FXBlurHighFrag,a.FXGradientFrag,a.FXBloomFrag,a.ColorMatrixFrag,a.FXCircleFrag,a.FXBarrelFrag,a.FXDisplacementFrag,a.FXWipeFrag,a.FXBokehFrag],l.call(this,v);var g=this.game;this.glow=new x.Glow(g),this.shadow=new x.Shadow(g),this.pixelate=new x.Pixelate(g),this.vignette=new x.Vignette(g),this.shine=new x.Shine(g),this.gradient=new x.Gradient(g),this.circle=new x.Circle(g),this.barrel=new x.Barrel(g),this.wipe=new x.Wipe(g),this.bokeh=new x.Bokeh(g);var m=[];m[d.GLOW]=this.onGlow,m[d.SHADOW]=this.onShadow,m[d.PIXELATE]=this.onPixelate,m[d.VIGNETTE]=this.onVignette,m[d.SHINE]=this.onShine,m[d.BLUR]=this.onBlur,m[d.GRADIENT]=this.onGradient,m[d.BLOOM]=this.onBloom,m[d.COLOR_MATRIX]=this.onColorMatrix,m[d.CIRCLE]=this.onCircle,m[d.BARREL]=this.onBarrel,m[d.DISPLACEMENT]=this.onDisplacement,m[d.WIPE]=this.onWipe,m[d.BOKEH]=this.onBokeh,this.fxHandlers=m,this.source,this.target,this.swap},onDraw:function(u,v,g){this.source=u,this.target=v,this.swap=g;var m=u.width,y=u.height,C=this.tempSprite,b=this.fxHandlers;if(C&&C.preFX)for(var M=C.preFX.list,w=0;w<M.length;w++){var R=M[w];R.active&&b[R.type].call(this,R,m,y)}this.drawToGame(this.source)},runDraw:function(){var u=this.source,v=this.target;this.copy(u,v),this.source=v,this.target=u},onGlow:function(u,v,g){var m=this.shaders[d.GLOW];this.setShader(m),this.glow.onPreRender(u,m,v,g),this.runDraw()},onShadow:function(u){var v=this.shaders[d.SHADOW];this.setShader(v),this.shadow.onPreRender(u,v),this.runDraw()},onPixelate:function(u,v,g){var m=this.shaders[d.PIXELATE];this.setShader(m),this.pixelate.onPreRender(u,m,v,g),this.runDraw()},onVignette:function(u){var v=this.shaders[d.VIGNETTE];this.setShader(v),this.vignette.onPreRender(u,v),this.runDraw()},onShine:function(u,v,g){var m=this.shaders[d.SHINE];this.setShader(m),this.shine.onPreRender(u,m,v,g),this.runDraw()},onBlur:function(u,v,g){var m=h(u,"quality"),y=this.shaders[d.BLUR+m];this.setShader(y),this.set1i("uMainSampler",0),this.set2f("resolution",v,g),this.set1f("strength",h(u,"strength")),this.set3fv("color",h(u,"glcolor"));for(var C=h(u,"x"),b=h(u,"y"),M=h(u,"steps"),w=0;w<M;w++)this.set2f("offset",C,0),this.runDraw(),this.set2f("offset",0,b),this.runDraw()},onGradient:function(u){var v=this.shaders[d.GRADIENT];this.setShader(v),this.gradient.onPreRender(u,v),this.runDraw()},onBloom:function(u,v,g){var m=this.shaders[d.BLOOM];this.copySprite(this.source,this.swap),this.setShader(m),this.set1i("uMainSampler",0),this.set1f("strength",h(u,"blurStrength")),this.set3fv("color",h(u,"glcolor"));for(var y=2/v*h(u,"offsetX"),C=2/g*h(u,"offsetY"),b=h(u,"steps"),M=0;M<b;M++)this.set2f("offset",y,0),this.runDraw(),this.set2f("offset",0,C),this.runDraw();this.blendFrames(this.swap,this.source,this.target,h(u,"strength")),this.copySprite(this.target,this.source)},onColorMatrix:function(u){this.setShader(this.colorMatrixShader),this.set1fv("uColorMatrix",u.getData()),this.set1f("uAlpha",u.alpha),this.runDraw()},onCircle:function(u,v,g){var m=this.shaders[d.CIRCLE];this.setShader(m),this.circle.onPreRender(u,m,v,g),this.runDraw()},onBarrel:function(u){var v=this.shaders[d.BARREL];this.setShader(v),this.barrel.onPreRender(u,v),this.runDraw()},onDisplacement:function(u){this.setShader(this.shaders[d.DISPLACEMENT]),this.set1i("uDisplacementSampler",1),this.set2f("amount",u.x,u.y),this.bindTexture(u.glTexture,1),this.runDraw()},onWipe:function(u){var v=this.shaders[d.WIPE];this.setShader(v),this.wipe.onPreRender(u,v),this.runDraw()},onBokeh:function(u,v,g){var m=this.shaders[d.BOKEH];this.setShader(m),this.bokeh.onPreRender(u,m,v,g),this.runDraw()},destroy:function(){return this.glow.destroy(),this.shadow.destroy(),this.pixelate.destroy(),this.vignette.destroy(),this.shine.destroy(),this.gradient.destroy(),this.circle.destroy(),this.barrel.destroy(),this.wipe.destroy(),this.bokeh.destroy(),this.fxHandlers=null,this.source=null,this.target=null,this.swap=null,l.prototype.destroy.call(this),this}});n.exports=c},96569:(n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @author       Felipe Alfonso <@bitnenfer>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(83419),x=r(95540),d=r(31063),h=r(57516),l=r(61340),a=r(26099),f=r(29100),c=new o({Extends:h,initialize:function(v){var g=x(v,"fragShader",d);v.fragShader=g.replace("%LIGHT_COUNT%",v.game.renderer.config.maxLights),h.call(this,v),this.inverseRotationMatrix=new Float32Array([1,0,0,0,1,0,0,0,1]),this.currentNormalMap,this.lightsActive=!0,this.tempVec2=new a,this._tempMatrix=new l,this._tempMatrix2=new l},boot:function(){f.prototype.boot.call(this)},onRender:function(u,v){var g=u.sys.lights;if(this.lightsActive=!1,!(!g||!g.active)){var m=g.getLights(v),y=m.length;this.lightsActive=!0;var C,b=this.renderer,M=b.height,w=v.matrix,R=this.tempVec2;for(this.set1i("uMainSampler",0),this.set1i("uNormSampler",1),this.set2f("uResolution",this.width/2,this.height/2),this.set4f("uCamera",v.x,v.y,v.rotation,v.zoom),this.set3f("uAmbientLightColor",g.ambientColor.r,g.ambientColor.g,g.ambientColor.b),this.set1i("uLightCount",y),C=0;C<y;C++){var A=m[C].light,L=A.color,F="uLights["+C+"].";w.transformPoint(A.x,A.y,R),this.set2f(F+"position",R.x-v.scrollX*A.scrollFactorX*v.zoom,M-(R.y-v.scrollY*A.scrollFactorY*v.zoom)),this.set3f(F+"color",L.r,L.g,L.b),this.set1f(F+"intensity",A.intensity),this.set1f(F+"radius",A.radius)}this.currentNormalMapRotation=null}},setNormalMapRotation:function(u){if(u!==this.currentNormalMapRotation||this.vertexCount===0){this.vertexCount>0&&this.flush();var v=this.inverseRotationMatrix;if(u){var g=-u,m=Math.cos(g),y=Math.sin(g);v[1]=y,v[3]=-y,v[0]=v[4]=m}else v[0]=v[4]=1,v[1]=v[3]=0;this.setMatrix3fv("uInverseRotationMatrix",!1,v),this.currentNormalMapRotation=u}},setTexture2D:function(u,v){var g=this.renderer;u===void 0&&(u=g.whiteTexture);var m=this.getNormalMap(v);this.isNewNormalMap(u,m)&&(this.flush(),this.createBatch(u),this.addTextureToBatch(m),this.currentNormalMap=m);var y=0;if(v&&v.parentContainer){var C=v.getWorldTransformMatrix(this._tempMatrix,this._tempMatrix2);y=C.rotationNormalized}else v&&(y=v.rotation);return this.currentBatch===null&&(this.createBatch(u),this.addTextureToBatch(m)),this.setNormalMapRotation(y),0},setGameObject:function(u,v){v===void 0&&(v=u.frame);var g=v.glTexture,m=this.getNormalMap(u);if(this.isNewNormalMap(g,m)&&(this.flush(),this.createBatch(g),this.addTextureToBatch(m),this.currentNormalMap=m),u.parentContainer){var y=u.getWorldTransformMatrix(this._tempMatrix,this._tempMatrix2);this.setNormalMapRotation(y.rotationNormalized)}else this.setNormalMapRotation(u.rotation);return this.currentBatch===null&&(this.createBatch(g),this.addTextureToBatch(m)),0},isNewNormalMap:function(u,v){return this.currentTexture!==u||this.currentNormalMap!==v},getNormalMap:function(u){var v;if(u)u.displayTexture?v=u.displayTexture.dataSource[u.displayFrame.sourceIndex]:u.texture?v=u.texture.dataSource[u.frame.sourceIndex]:u.tileset&&(Array.isArray(u.tileset)?v=u.tileset[0].image.dataSource[0]:v=u.tileset.image.dataSource[0]);else return this.renderer.normalTexture;return v?v.glTexture:this.renderer.normalTexture},batchSprite:function(u,v,g){this.lightsActive&&h.prototype.batchSprite.call(this,u,v,g)},batchTexture:function(u,v,g,m,y,C,b,M,w,R,A,L,F,G,I,B,k,U,H,X,j,J,Y,$,z,V,K,Q,_,tt,rt,ot){this.lightsActive&&h.prototype.batchTexture.call(this,u,v,g,m,y,C,b,M,w,R,A,L,F,G,I,B,k,U,H,X,j,J,Y,$,z,V,K,Q,_,tt,rt,ot)},batchTextureFrame:function(u,v,g,m,y,C,b){this.lightsActive&&h.prototype.batchTextureFrame.call(this,u,v,g,m,y,C,b)}});n.exports=c},56527:(n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(83419),x=r(95540),d=r(57516),h=r(45561),l=r(60722),a=r(14500),f=r(29100),c=new o({Extends:d,initialize:function(v){v.fragShader=x(v,"fragShader",h),v.vertShader=x(v,"vertShader",l),v.attributes=x(v,"attributes",[{name:"inPosition",size:2},{name:"inTexCoord",size:2},{name:"inTexId"},{name:"inTintEffect"},{name:"inTint",size:4,type:a.UNSIGNED_BYTE,normalized:!0}]),v.forceZero=!0,v.resizeUniform="uResolution",d.call(this,v)},boot:function(){f.prototype.boot.call(this);var u=this.renderer;this.set1i("uMainSampler",0),this.set2f("uResolution",u.width,u.height)}});n.exports=c},57516:(n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @author       Felipe Alfonso <@bitnenfer>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(83419),x=r(94811),d=r(95540),h=r(98840),l=r(44667),a=r(61340),f=r(70554),c=r(14500),u=r(29100),v=new o({Extends:u,initialize:function(m){var y=m.game.renderer,C=d(m,"fragShader",h);m.fragShader=f.parseFragmentShaderMaxTextures(C,y.maxTextures),m.vertShader=d(m,"vertShader",l),m.attributes=d(m,"attributes",[{name:"inPosition",size:2},{name:"inTexCoord",size:2},{name:"inTexId"},{name:"inTintEffect"},{name:"inTint",size:4,type:c.UNSIGNED_BYTE,normalized:!0}]),m.resizeUniform="uResolution",u.call(this,m),this._tempMatrix1=new a,this._tempMatrix2=new a,this._tempMatrix3=new a,this.calcMatrix=new a,this.tempTriangle=[{x:0,y:0,width:0},{x:0,y:0,width:0},{x:0,y:0,width:0},{x:0,y:0,width:0}],this.strokeTint={TL:0,TR:0,BL:0,BR:0},this.fillTint={TL:0,TR:0,BL:0,BR:0},this.currentFrame={u0:0,v0:0,u1:1,v1:1},this.firstQuad=[0,0,0,0,0],this.prevQuad=[0,0,0,0,0],this.polygonCache=[]},boot:function(){u.prototype.boot.call(this);var g=this.renderer;this.set1iv("uMainSampler",g.textureIndexes),this.set2f("uResolution",g.width,g.height)},batchSprite:function(g,m,y){this.manager.set(this,g);var C=this._tempMatrix1,b=this._tempMatrix2,M=this._tempMatrix3,w=g.frame,R=w.glTexture,A=w.u0,L=w.v0,F=w.u1,G=w.v1,I=w.x,B=w.y,k=w.cutWidth,U=w.cutHeight,H=w.customPivot,X=g.displayOriginX,j=g.displayOriginY,J=-X+I,Y=-j+B;if(g.isCropped){var $=g._crop;($.flipX!==g.flipX||$.flipY!==g.flipY)&&w.updateCropUVs($,g.flipX,g.flipY),A=$.u0,L=$.v0,F=$.u1,G=$.v1,k=$.width,U=$.height,I=$.x,B=$.y,J=-X+I,Y=-j+B}var z=1,V=1;g.flipX&&(H||(J+=-w.realWidth+X*2),z=-1),g.flipY&&(H||(Y+=-w.realHeight+j*2),V=-1);var K=g.x,Q=g.y;m.roundPixels&&(K=Math.floor(K),Q=Math.floor(Q)),b.applyITRS(K,Q,g.rotation,g.scaleX*z,g.scaleY*V),C.copyFrom(m.matrix),y?(C.multiplyWithOffset(y,-m.scrollX*g.scrollFactorX,-m.scrollY*g.scrollFactorY),b.e=K,b.f=Q):(b.e-=m.scrollX*g.scrollFactorX,b.f-=m.scrollY*g.scrollFactorY),C.multiply(b,M);var _=M.setQuad(J,Y,J+k,Y+U,m.renderRoundPixels),tt=f.getTintAppendFloatAlpha,rt=m.alpha,ot=tt(g.tintTopLeft,rt*g._alphaTL),ft=tt(g.tintTopRight,rt*g._alphaTR),ct=tt(g.tintBottomLeft,rt*g._alphaBL),gt=tt(g.tintBottomRight,rt*g._alphaBR);this.shouldFlush(6)&&this.flush();var xt=this.setGameObject(g,w);this.manager.preBatch(g),this.batchQuad(g,_[0],_[1],_[2],_[3],_[4],_[5],_[6],_[7],A,L,F,G,ot,ft,ct,gt,g.tintFill,R,xt),this.manager.postBatch(g)},batchTexture:function(g,m,y,C,b,M,w,R,A,L,F,G,I,B,k,U,H,X,j,J,Y,$,z,V,K,Q,_,tt,rt,ot,ft,ct,gt){gt===void 0&&(gt=!1),this.manager.set(this,g);var xt=this._tempMatrix1,Mt=this._tempMatrix2,Tt=this._tempMatrix3,Ht=X/y+_,Xt=j/C+tt,Kt=(X+J)/y+_,bt=(j+Y)/C+tt,Ut=w,Vt=R,ee=-U,Ee=-H;if(g.isCropped){var Me=g._crop,ve=Me.width,Fe=Me.height;Ut=ve,Vt=Fe,w=ve,R=Fe,X=Me.x,j=Me.y;var ai=X,kt=j;G&&(ai=J-Me.x-ve),I&&(kt=Y-Me.y-Fe),Ht=ai/y+_,Xt=kt/C+tt,Kt=(ai+ve)/y+_,bt=(kt+Fe)/C+tt,ee=-U+X,Ee=-H+j}I=I^(!ft&&m.isRenderTexture?1:0),G&&(Ut*=-1,ee+=w),I&&(Vt*=-1,Ee+=R),rt.roundPixels&&(b=Math.floor(b),M=Math.floor(M)),Mt.applyITRS(b,M,F,A,L),xt.copyFrom(rt.matrix),ot?(xt.multiplyWithOffset(ot,-rt.scrollX*B,-rt.scrollY*k),Mt.e=b,Mt.f=M):(Mt.e-=rt.scrollX*B,Mt.f-=rt.scrollY*k),xt.multiply(Mt,Tt);var Wt=Tt.setQuad(ee,Ee,ee+Ut,Ee+Vt,rt.renderRoundPixels);ct==null&&(ct=this.setTexture2D(m)),g&&!gt&&this.manager.preBatch(g),this.batchQuad(g,Wt[0],Wt[1],Wt[2],Wt[3],Wt[4],Wt[5],Wt[6],Wt[7],Ht,Xt,Kt,bt,$,z,V,K,Q,m,ct),g&&!gt&&this.manager.postBatch(g)},batchTextureFrame:function(g,m,y,C,b,M,w){this.manager.set(this);var R=this._tempMatrix1.copyFrom(M),A=this._tempMatrix2;w?R.multiply(w,A):A=R;var L=A.setQuad(m,y,m+g.width,y+g.height),F=this.setTexture2D(g.source.glTexture);C=f.getTintAppendFloatAlpha(C,b),this.batchQuad(null,L[0],L[1],L[2],L[3],L[4],L[5],L[6],L[7],g.u0,g.v0,g.u1,g.v1,C,C,C,C,0,g.glTexture,F)},batchFillRect:function(g,m,y,C,b,M){this.renderer.pipelines.set(this);var w=this.calcMatrix;M&&M.multiply(b,w);var R=w.setQuad(g,m,g+y,m+C),A=this.fillTint;this.batchQuad(null,R[0],R[1],R[2],R[3],R[4],R[5],R[6],R[7],0,0,1,1,A.TL,A.TR,A.BL,A.BR,2)},batchFillTriangle:function(g,m,y,C,b,M,w,R){this.renderer.pipelines.set(this);var A=this.calcMatrix;R&&R.multiply(w,A);var L=A.getX(g,m),F=A.getY(g,m),G=A.getX(y,C),I=A.getY(y,C),B=A.getX(b,M),k=A.getY(b,M),U=this.fillTint;this.batchTri(null,L,F,G,I,B,k,0,0,1,1,U.TL,U.TR,U.BL,2)},batchStrokeTriangle:function(g,m,y,C,b,M,w,R,A){var L=this.tempTriangle;L[0].x=g,L[0].y=m,L[0].width=w,L[1].x=y,L[1].y=C,L[1].width=w,L[2].x=b,L[2].y=M,L[2].width=w,L[3].x=g,L[3].y=m,L[3].width=w,this.batchStrokePath(L,w,!1,R,A)},batchFillPath:function(g,m,y){this.renderer.pipelines.set(this);var C=this.calcMatrix;y&&y.multiply(m,C);for(var b=g.length,M=this.polygonCache,w,R,A=this.fillTint.TL,L=this.fillTint.TR,F=this.fillTint.BL,G=0;G<b;++G)R=g[G],M.push(R.x,R.y);w=x(M),b=w.length;for(var I=0;I<b;I+=3){var B=w[I+0]*2,k=w[I+1]*2,U=w[I+2]*2,H=M[B+0],X=M[B+1],j=M[k+0],J=M[k+1],Y=M[U+0],$=M[U+1],z=C.getX(H,X),V=C.getY(H,X),K=C.getX(j,J),Q=C.getY(j,J),_=C.getX(Y,$),tt=C.getY(Y,$);this.batchTri(null,z,V,K,Q,_,tt,0,0,1,1,A,L,F,2)}M.length=0},batchStrokePath:function(g,m,y,C,b){this.renderer.pipelines.set(this),this.prevQuad[4]=0,this.firstQuad[4]=0;for(var M=g.length-1,w=0;w<M;w++){var R=g[w],A=g[w+1];this.batchLine(R.x,R.y,A.x,A.y,R.width/2,A.width/2,m,w,!y&&w===M-1,C,b)}},batchLine:function(g,m,y,C,b,M,w,R,A,L,F){this.renderer.pipelines.set(this);var G=this.calcMatrix;F&&F.multiply(L,G);var I=y-g,B=C-m,k=Math.sqrt(I*I+B*B);if(k!==0){var U=b*(C-m)/k,H=b*(g-y)/k,X=M*(C-m)/k,j=M*(g-y)/k,J=y-X,Y=C-j,$=g-U,z=m-H,V=y+X,K=C+j,Q=g+U,_=m+H,tt=G.getX(J,Y),rt=G.getY(J,Y),ot=G.getX($,z),ft=G.getY($,z),ct=G.getX(V,K),gt=G.getY(V,K),xt=G.getX(Q,_),Mt=G.getY(Q,_),Tt=this.strokeTint,Ht=Tt.TL,Xt=Tt.TR,Kt=Tt.BL,bt=Tt.BR;if(this.batchQuad(null,xt,Mt,ot,ft,tt,rt,ct,gt,0,0,1,1,Ht,Xt,Kt,bt,2),!(w<=2)){var Ut=this.prevQuad,Vt=this.firstQuad;R>0&&Ut[4]?this.batchQuad(null,xt,Mt,ot,ft,Ut[0],Ut[1],Ut[2],Ut[3],0,0,1,1,Ht,Xt,Kt,bt,2):(Vt[0]=xt,Vt[1]=Mt,Vt[2]=ot,Vt[3]=ft,Vt[4]=1),A&&Vt[4]?this.batchQuad(null,tt,rt,ct,gt,Vt[0],Vt[1],Vt[2],Vt[3],0,0,1,1,Ht,Xt,Kt,bt,2):(Ut[0]=tt,Ut[1]=rt,Ut[2]=ct,Ut[3]=gt,Ut[4]=1)}}},destroy:function(){return this._tempMatrix1.destroy(),this._tempMatrix2.destroy(),this._tempMatrix3.destroy(),this._tempMatrix1=null,this._tempMatrix1=null,this._tempMatrix1=null,u.prototype.destroy.call(this),this}});n.exports=v},43439:(n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(83419),x=r(95540),d=r(4127),h=r(89924),l=r(29100),a=new o({Extends:l,initialize:function(c){c.vertShader=x(c,"vertShader",h),c.fragShader=x(c,"fragShader",d),c.attributes=x(c,"attributes",[{name:"inPosition",size:2},{name:"inLightPosition",size:2},{name:"inLightRadius"},{name:"inLightAttenuation"},{name:"inLightColor",size:4}]),l.call(this,c)},onRender:function(f,c){this.set2f("uResolution",this.width,this.height),this.set1f("uCameraZoom",c.zoom)},batchPointLight:function(f,c,u,v,g,m,y,C,b,M,w,R){var A=f.color,L=f.intensity,F=f.radius,G=f.attenuation,I=A.r*L,B=A.g*L,k=A.b*L,U=c.alpha*f.alpha;this.shouldFlush(6)&&this.flush(),this.currentBatch||this.setTexture2D(),this.batchLightVert(u,v,w,R,F,G,I,B,k,U),this.batchLightVert(g,m,w,R,F,G,I,B,k,U),this.batchLightVert(y,C,w,R,F,G,I,B,k,U),this.batchLightVert(u,v,w,R,F,G,I,B,k,U),this.batchLightVert(y,C,w,R,F,G,I,B,k,U),this.batchLightVert(b,M,w,R,F,G,I,B,k,U),this.currentBatch.count=this.vertexCount-this.currentBatch.start},batchLightVert:function(f,c,u,v,g,m,y,C,b,M){var w=this.vertexViewF32,R=this.vertexCount*this.currentShader.vertexComponentCount-1;w[++R]=f,w[++R]=c,w[++R]=u,w[++R]=v,w[++R]=g,w[++R]=m,w[++R]=y,w[++R]=C,w[++R]=b,w[++R]=M,this.vertexCount++}});n.exports=a},84057:(n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(83419),x=r(89422),d=r(95540),h=r(27681),l=r(49627),a=r(29100),f=new o({Extends:a,initialize:function(u){u.renderTarget=d(u,"renderTarget",1),u.fragShader=d(u,"fragShader",h),u.vertShader=d(u,"vertShader",l),u.attributes=d(u,"attributes",[{name:"inPosition",size:2},{name:"inTexCoord",size:2}]),u.batchSize=1,u.vertices=[-1,-1,0,0,-1,1,0,1,1,1,1,1,-1,-1,0,0,1,1,1,1,1,-1,1,0],a.call(this,u),this.isPostFX=!0,this.gameObject,this.controller,this.colorMatrix=new x,this.fullFrame1,this.fullFrame2,this.halfFrame1,this.halfFrame2,this.renderer.isBooted&&(this.manager=this.renderer.pipelines)},bootFX:function(){a.prototype.boot.call(this);var c=this.manager.UTILITY_PIPELINE;this.fullFrame1=c.fullFrame1,this.fullFrame2=c.fullFrame2,this.halfFrame1=c.halfFrame1,this.halfFrame2=c.halfFrame2;var u=this.renderer;this.set1i("uMainSampler",0),this.set2f("uResolution",u.width,u.height);for(var v=this.renderTargets,g=0;g<v.length;g++)v[g].autoResize=!0},postBatch:function(c){return this.hasBooted||(this.bootFX(),this.currentRenderTarget&&this.currentRenderTarget.bind()),this.onDraw(this.currentRenderTarget),this.onPostBatch(c),this},onDraw:function(c){this.bindAndDraw(c)},getController:function(c){return c!==void 0?c:this.controller?this.controller:this},copySprite:function(c,u,v){v===void 0&&(v=!1);var g=this.gl;g.activeTexture(g.TEXTURE0),g.bindTexture(g.TEXTURE_2D,c.texture.webGLTexture);var m=g.getParameter(g.FRAMEBUFFER_BINDING);g.bindFramebuffer(g.FRAMEBUFFER,u.framebuffer.webGLFramebuffer),g.framebufferTexture2D(g.FRAMEBUFFER,g.COLOR_ATTACHMENT0,g.TEXTURE_2D,u.texture.webGLTexture,0),g.clearColor(0,0,0,0),g.clear(g.COLOR_BUFFER_BIT),g.bufferData(g.ARRAY_BUFFER,this.vertexData,g.STATIC_DRAW),g.drawArrays(g.TRIANGLES,0,6),v&&(g.bindTexture(g.TEXTURE_2D,null),g.bindFramebuffer(g.FRAMEBUFFER,m))},copyFrame:function(c,u,v,g,m){this.manager.copyFrame(c,u,v,g,m)},copyToGame:function(c){this.manager.copyToGame(c)},drawFrame:function(c,u,v){this.manager.drawFrame(c,u,v,this.colorMatrix)},blendFrames:function(c,u,v,g,m){this.manager.blendFrames(c,u,v,g,m)},blendFramesAdditive:function(c,u,v,g,m){this.manager.blendFramesAdditive(c,u,v,g,m)},clearFrame:function(c,u){this.manager.clearFrame(c,u)},blitFrame:function(c,u,v,g,m,y){this.manager.blitFrame(c,u,v,g,m,y)},copyFrameRect:function(c,u,v,g,m,y,C,b){this.manager.copyFrameRect(c,u,v,g,m,y,C,b)},bindAndDraw:function(c,u,v,g,m){v===void 0&&(v=!0),g===void 0&&(g=!0);var y=this.gl,C=this.renderer;this.bind(m),this.set1i("uMainSampler",0),u?(y.viewport(0,0,u.width,u.height),y.bindFramebuffer(y.FRAMEBUFFER,u.framebuffer.webGLFramebuffer),y.framebufferTexture2D(y.FRAMEBUFFER,y.COLOR_ATTACHMENT0,y.TEXTURE_2D,u.texture.webGLTexture,0),v&&(g?y.clearColor(0,0,0,0):y.clearColor(0,0,0,1),y.clear(y.COLOR_BUFFER_BIT))):(C.popFramebuffer(!1,!1),C.currentFramebuffer||y.viewport(0,0,C.width,C.height)),C.restoreStencilMask(),y.activeTexture(y.TEXTURE0),y.bindTexture(y.TEXTURE_2D,c.texture.webGLTexture),y.bufferData(y.ARRAY_BUFFER,this.vertexData,y.STATIC_DRAW),y.drawArrays(y.TRIANGLES,0,6),u&&(y.bindTexture(y.TEXTURE_2D,null),y.bindFramebuffer(y.FRAMEBUFFER,C.currentFramebuffer.webGLFramebuffer))},destroy:function(){return this.controller&&this.controller.destroy(),this.gameObject=null,this.controller=null,this.colorMatrix=null,this.fullFrame1=null,this.fullFrame2=null,this.halfFrame1=null,this.halfFrame2=null,this.manager.removePostPipeline(this),a.prototype.destroy.call(this),this}});n.exports=f},43558:(n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(10312),x=r(67502),d=r(83419),h=r(96293),l=r(95540),a=r(57516),f=r(27681),c=r(87841),u=r(32302),v=r(45561),g=r(60722),m=r(29100),y=new d({Extends:a,initialize:function(b){var M=l(b,"fragShader",f),w=l(b,"vertShader",g),R=l(b,"drawShader",f),A=[{name:"DrawSprite",fragShader:v,vertShader:g},{name:"CopySprite",fragShader:M,vertShader:w},{name:"DrawGame",fragShader:R,vertShader:g},{name:"ColorMatrix",fragShader:h}],L=l(b,"shaders",[]);b.shaders=A.concat(L),b.vertShader||(b.vertShader=w),b.batchSize=1,a.call(this,b),this.isPreFX=!0,this.customMainSampler=null,this.drawSpriteShader,this.copyShader,this.gameShader,this.colorMatrixShader,this.quadVertexData,this.quadVertexBuffer,this.quadVertexViewF32,this.spriteBounds=new c,this.targetBounds=new c,this.fsTarget,this.tempSprite,this.renderer.isBooted&&(this.manager=this.renderer.pipelines,this.boot())},boot:function(){m.prototype.boot.call(this);var C=this.shaders,b=this.renderer;this.drawSpriteShader=C[0],this.copyShader=C[1],this.gameShader=C[2],this.colorMatrixShader=C[3],this.fsTarget=new u(b,b.width,b.height,1,0,!0,!0),this.renderTargets=this.manager.renderTargets.concat(this.fsTarget);var M=new ArrayBuffer(168);this.quadVertexData=M,this.quadVertexViewF32=new Float32Array(M),this.quadVertexBuffer=b.createVertexBuffer(M,this.gl.STATIC_DRAW),this.onResize(b.width,b.height),this.currentShader=this.copyShader,this.set2f("uResolution",b.width,b.height)},onResize:function(C,b){var M=this.quadVertexViewF32;M[1]=b,M[22]=b,M[14]=C,M[28]=C,M[35]=C,M[36]=b},batchQuad:function(C,b,M,w,R,A,L,F,G,I,B,k,U,H,X,j,J,Y,$){var z=Math.min(b,w,A,F),V=Math.min(M,R,L,G),K=Math.max(b,w,A,F),Q=Math.max(M,R,L,G),_=K-z,tt=Q-V,rt=this.spriteBounds.setTo(z,V,_,tt),ot=C?C.preFX.padding:0,ft=_+ot*2,ct=tt+ot*2,gt=Math.abs(Math.max(ft,ct)),xt=this.manager.getRenderTarget(gt),Mt=this.targetBounds.setTo(0,0,xt.width,xt.height);x(Mt,Math.round(rt.centerX),Math.round(rt.centerY)),this.tempSprite=C;var Tt=this.gl,Ht=this.renderer;Ht.clearStencilMask(),this.setShader(this.drawSpriteShader),this.set1i("uMainSampler",0),this.set2f("uResolution",Ht.width,Ht.height),this.flipProjectionMatrix(!0),C&&(this.onDrawSprite(C,xt),C.preFX.onFX(this));var Xt=this.fsTarget;return this.flush(),Tt.viewport(0,0,Ht.width,Ht.height),Tt.bindFramebuffer(Tt.FRAMEBUFFER,Xt.framebuffer.webGLFramebuffer),Tt.framebufferTexture2D(Tt.FRAMEBUFFER,Tt.COLOR_ATTACHMENT0,Tt.TEXTURE_2D,Xt.texture.webGLTexture,0),Tt.clearColor(0,0,0,0),Tt.clear(Tt.COLOR_BUFFER_BIT),this.setTexture2D($),this.batchVert(b,M,I,B,0,Y,H),this.batchVert(w,R,I,U,0,Y,j),this.batchVert(A,L,k,U,0,Y,J),this.batchVert(b,M,I,B,0,Y,H),this.batchVert(A,L,k,U,0,Y,J),this.batchVert(F,G,k,B,0,Y,X),this.flush(),this.flipProjectionMatrix(!1),Tt.activeTexture(Tt.TEXTURE0),Tt.bindTexture(Tt.TEXTURE_2D,xt.texture.webGLTexture),Tt.copyTexSubImage2D(Tt.TEXTURE_2D,0,0,0,Mt.x,Mt.y,Mt.width,Mt.height),Tt.bindFramebuffer(Tt.FRAMEBUFFER,null),Tt.bindTexture(Tt.TEXTURE_2D,null),this.onBatch(C),this.currentShader=this.copyShader,this.onDraw(xt,this.manager.getSwapRenderTarget(),this.manager.getAltSwapRenderTarget()),!0},onDrawSprite:function(){},onCopySprite:function(){},copySprite:function(C,b,M,w,R,A,L){M===void 0&&(M=!0),w===void 0&&(w=!0),R===void 0&&(R=!1),L===void 0&&(L=this.copyShader);var F=this.gl,G=this.tempSprite;A&&(L=this.colorMatrixShader),this.currentShader=L;var I=this.setVertexBuffer(this.quadVertexBuffer);L.bind(I,!1);var B=this.renderer;if(this.set1i("uMainSampler",0),this.set2f("uResolution",B.width,B.height),G.preFX.onFXCopy(this),this.onCopySprite(C,b,G),A&&(this.set1fv("uColorMatrix",A.getData()),this.set1f("uAlpha",A.alpha)),F.activeTexture(F.TEXTURE0),F.bindTexture(F.TEXTURE_2D,C.texture.webGLTexture),C.height>b.height)F.viewport(0,0,C.width,C.height),this.setTargetUVs(C,b);else{var k=b.height-C.height;F.viewport(0,k,C.width,C.height),this.resetUVs()}if(F.bindFramebuffer(F.FRAMEBUFFER,b.framebuffer.webGLFramebuffer),F.framebufferTexture2D(F.FRAMEBUFFER,F.COLOR_ATTACHMENT0,F.TEXTURE_2D,b.texture.webGLTexture,0),M&&(F.clearColor(0,0,0,+!w),F.clear(F.COLOR_BUFFER_BIT)),R){var U=this.renderer.currentBlendMode;this.renderer.setBlendMode(o.ERASE)}F.bufferData(F.ARRAY_BUFFER,this.quadVertexData,F.STATIC_DRAW),F.drawArrays(F.TRIANGLES,0,6),R&&this.renderer.setBlendMode(U),F.bindFramebuffer(F.FRAMEBUFFER,null)},copy:function(C,b){var M=this.gl;this.set1i("uMainSampler",0),M.activeTexture(M.TEXTURE0),M.bindTexture(M.TEXTURE_2D,C.texture.webGLTexture),M.viewport(0,0,C.width,C.height),this.setUVs(0,0,0,1,1,1,1,0),M.bindFramebuffer(M.FRAMEBUFFER,b.framebuffer.webGLFramebuffer),M.framebufferTexture2D(M.FRAMEBUFFER,M.COLOR_ATTACHMENT0,M.TEXTURE_2D,b.texture.webGLTexture,0),M.clearColor(0,0,0,0),M.clear(M.COLOR_BUFFER_BIT),M.bufferData(M.ARRAY_BUFFER,this.quadVertexData,M.STATIC_DRAW),M.drawArrays(M.TRIANGLES,0,6),M.bindFramebuffer(M.FRAMEBUFFER,null)},blendFrames:function(C,b,M,w,R){this.manager.blendFrames(C,b,M,w,R)},blendFramesAdditive:function(C,b,M,w,R){this.manager.blendFramesAdditive(C,b,M,w,R)},drawToGame:function(C){this.currentShader=null,this.setShader(this.copyShader),this.bindAndDraw(C)},copyToGame:function(C){this.currentShader=null,this.setShader(this.gameShader),this.bindAndDraw(C)},bindAndDraw:function(C){var b=this.gl,M=this.renderer;this.set1i("uMainSampler",0),this.customMainSampler?this.setTexture2D(this.customMainSampler):this.setTexture2D(C.texture);var w=this._tempMatrix1.loadIdentity(),R=this.targetBounds.x,A=this.targetBounds.y,L=R+C.width,F=A+C.height,G=w.getX(R,A),I=w.getX(R,F),B=w.getX(L,F),k=w.getX(L,A),U=w.getY(R,A),H=w.getY(R,F),X=w.getY(L,F),j=w.getY(L,A),J=16777215;this.batchVert(G,U,0,0,0,0,J),this.batchVert(I,H,0,1,0,0,J),this.batchVert(B,X,1,1,0,0,J),this.batchVert(G,U,0,0,0,0,J),this.batchVert(B,X,1,1,0,0,J),this.batchVert(k,j,1,0,0,0,J),M.restoreFramebuffer(!1,!0),M.currentFramebuffer||b.viewport(0,0,M.width,M.height),M.restoreStencilMask(),this.flush(),this.tempSprite=null},onDraw:function(C){this.drawToGame(C)},setUVs:function(C,b,M,w,R,A,L,F){var G=this.quadVertexViewF32;G[2]=C,G[3]=b,G[9]=M,G[10]=w,G[16]=R,G[17]=A,G[23]=C,G[24]=b,G[30]=R,G[31]=A,G[37]=L,G[38]=F},setTargetUVs:function(C,b){var M=b.height/C.height;M>.5?M=.5-(M-.5):M=.5+(.5-M),this.setUVs(0,M,0,1+M,1,1+M,1,M)},resetUVs:function(){this.setUVs(0,0,0,1,1,1,1,0)},destroy:function(){return this.renderer.deleteBuffer(this.quadVertexBuffer),this.drawSpriteShader=null,this.copyShader=null,this.gameShader=null,this.colorMatrixShader=null,this.quadVertexData=null,this.quadVertexBuffer=null,this.quadVertexViewF32=null,this.fsTarget=null,this.tempSprite=null,a.prototype.destroy.call(this),this}});n.exports=y},81041:(n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(83419),x=r(95540),d=r(57516),h=new o({Extends:d,initialize:function(a){a.topology=5,a.batchSize=x(a,"batchSize",256),d.call(this,a)}});n.exports=h},12385:(n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(83419),x=r(95540),d=r(57516),h=r(45561),l=r(60722),a=r(29100),f=new o({Extends:d,initialize:function(u){u.fragShader=x(u,"fragShader",h),u.vertShader=x(u,"vertShader",l),u.forceZero=!0,d.call(this,u)},boot:function(){a.prototype.boot.call(this);var c=this.renderer;this.set1i("uMainSampler",0),this.set2f("uResolution",c.width,c.height)}});n.exports=f},7589:(n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(35407),x=r(10312),d=r(83419),h=r(89422),l=r(96293),a=r(36682),f=r(95540),c=r(48247),u=r(49627),v=r(29100),g=new d({Extends:v,initialize:function(y){y.renderTarget=f(y,"renderTarget",[{scale:1,autoResize:!0},{scale:1,autoResize:!0},{scale:.5,autoResize:!0},{scale:.5,autoResize:!0}]),y.vertShader=f(y,"vertShader",u),y.shaders=f(y,"shaders",[{name:"Copy",fragShader:a},{name:"AddBlend",fragShader:o},{name:"LinearBlend",fragShader:c},{name:"ColorMatrix",fragShader:l}]),y.attributes=f(y,"attributes",[{name:"inPosition",size:2},{name:"inTexCoord",size:2}]),y.vertices=[-1,-1,0,0,-1,1,0,1,1,1,1,1,-1,-1,0,0,1,1,1,1,1,-1,1,0],y.batchSize=1,v.call(this,y),this.colorMatrix=new h,this.copyShader,this.addShader,this.linearShader,this.colorMatrixShader,this.fullFrame1,this.fullFrame2,this.halfFrame1,this.halfFrame2},boot:function(){v.prototype.boot.call(this);var m=this.shaders,y=this.renderTargets;this.copyShader=m[0],this.addShader=m[1],this.linearShader=m[2],this.colorMatrixShader=m[3],this.fullFrame1=y[0],this.fullFrame2=y[1],this.halfFrame1=y[2],this.halfFrame2=y[3]},copyFrame:function(m,y,C,b,M){C===void 0&&(C=1),b===void 0&&(b=!0),M===void 0&&(M=!0);var w=this.gl;this.setShader(this.copyShader),this.set1i("uMainSampler",0),this.set1f("uBrightness",C),w.activeTexture(w.TEXTURE0),w.bindTexture(w.TEXTURE_2D,m.texture.webGLTexture),y?(w.viewport(0,0,y.width,y.height),w.bindFramebuffer(w.FRAMEBUFFER,y.framebuffer.webGLFramebuffer),w.framebufferTexture2D(w.FRAMEBUFFER,w.COLOR_ATTACHMENT0,w.TEXTURE_2D,y.texture.webGLTexture,0)):w.viewport(0,0,m.width,m.height),b&&(M?w.clearColor(0,0,0,0):w.clearColor(0,0,0,1),w.clear(w.COLOR_BUFFER_BIT)),w.bufferData(w.ARRAY_BUFFER,this.vertexData,w.STATIC_DRAW),w.drawArrays(w.TRIANGLES,0,6),w.bindFramebuffer(w.FRAMEBUFFER,null),w.bindTexture(w.TEXTURE_2D,null)},blitFrame:function(m,y,C,b,M,w,R){C===void 0&&(C=1),b===void 0&&(b=!0),M===void 0&&(M=!0),w===void 0&&(w=!1),R===void 0&&(R=!1);var A=this.gl;if(this.setShader(this.copyShader),this.set1i("uMainSampler",0),this.set1f("uBrightness",C),A.activeTexture(A.TEXTURE0),A.bindTexture(A.TEXTURE_2D,m.texture.webGLTexture),m.height>y.height)A.viewport(0,0,m.width,m.height),this.setTargetUVs(m,y);else{var L=y.height-m.height;A.viewport(0,L,m.width,m.height)}if(A.bindFramebuffer(A.FRAMEBUFFER,y.framebuffer.webGLFramebuffer),A.framebufferTexture2D(A.FRAMEBUFFER,A.COLOR_ATTACHMENT0,A.TEXTURE_2D,y.texture.webGLTexture,0),b&&(M?A.clearColor(0,0,0,0):A.clearColor(0,0,0,1),A.clear(A.COLOR_BUFFER_BIT)),w){var F=this.renderer.currentBlendMode;this.renderer.setBlendMode(x.ERASE)}R&&this.flipY(),A.bufferData(A.ARRAY_BUFFER,this.vertexData,A.STATIC_DRAW),A.drawArrays(A.TRIANGLES,0,6),w&&this.renderer.setBlendMode(F),A.bindFramebuffer(A.FRAMEBUFFER,null),A.bindTexture(A.TEXTURE_2D,null),this.resetUVs()},copyFrameRect:function(m,y,C,b,M,w,R,A){R===void 0&&(R=!0),A===void 0&&(A=!0);var L=this.gl;L.bindFramebuffer(L.FRAMEBUFFER,m.framebuffer.webGLFramebuffer),L.framebufferTexture2D(L.FRAMEBUFFER,L.COLOR_ATTACHMENT0,L.TEXTURE_2D,m.texture.webGLTexture,0),R&&(A?L.clearColor(0,0,0,0):L.clearColor(0,0,0,1),L.clear(L.COLOR_BUFFER_BIT)),L.activeTexture(L.TEXTURE0),L.bindTexture(L.TEXTURE_2D,y.texture.webGLTexture),L.copyTexSubImage2D(L.TEXTURE_2D,0,0,0,C,b,M,w),L.bindFramebuffer(L.FRAMEBUFFER,null),L.bindTexture(L.TEXTURE_2D,null)},copyToGame:function(m){var y=this.gl;this.setShader(this.copyShader),this.set1i("uMainSampler",0),this.set1f("uBrightness",1),this.renderer.popFramebuffer(),y.activeTexture(y.TEXTURE0),y.bindTexture(y.TEXTURE_2D,m.texture.webGLTexture),y.bufferData(y.ARRAY_BUFFER,this.vertexData,y.STATIC_DRAW),y.drawArrays(y.TRIANGLES,0,6)},drawFrame:function(m,y,C,b){C===void 0&&(C=!0),b===void 0&&(b=this.colorMatrix);var M=this.gl;this.setShader(this.colorMatrixShader),this.set1i("uMainSampler",0),this.set1fv("uColorMatrix",b.getData()),this.set1f("uAlpha",b.alpha),M.activeTexture(M.TEXTURE0),M.bindTexture(M.TEXTURE_2D,m.texture.webGLTexture),y?(M.viewport(0,0,y.width,y.height),M.bindFramebuffer(M.FRAMEBUFFER,y.framebuffer.webGLFramebuffer),M.framebufferTexture2D(M.FRAMEBUFFER,M.COLOR_ATTACHMENT0,M.TEXTURE_2D,y.texture.webGLTexture,0)):M.viewport(0,0,m.width,m.height),C?M.clearColor(0,0,0,0):M.clearColor(0,0,0,1),M.clear(M.COLOR_BUFFER_BIT),M.bufferData(M.ARRAY_BUFFER,this.vertexData,M.STATIC_DRAW),M.drawArrays(M.TRIANGLES,0,6),M.bindFramebuffer(M.FRAMEBUFFER,null),M.bindTexture(M.TEXTURE_2D,null)},blendFrames:function(m,y,C,b,M,w){b===void 0&&(b=1),M===void 0&&(M=!0),w===void 0&&(w=this.linearShader);var R=this.gl;this.setShader(w),this.set1i("uMainSampler1",0),this.set1i("uMainSampler2",1),this.set1f("uStrength",b),R.activeTexture(R.TEXTURE0),R.bindTexture(R.TEXTURE_2D,m.texture.webGLTexture),R.activeTexture(R.TEXTURE1),R.bindTexture(R.TEXTURE_2D,y.texture.webGLTexture),C?(R.bindFramebuffer(R.FRAMEBUFFER,C.framebuffer.webGLFramebuffer),R.framebufferTexture2D(R.FRAMEBUFFER,R.COLOR_ATTACHMENT0,R.TEXTURE_2D,C.texture.webGLTexture,0),R.viewport(0,0,C.width,C.height)):R.viewport(0,0,m.width,m.height),M?R.clearColor(0,0,0,0):R.clearColor(0,0,0,1),R.clear(R.COLOR_BUFFER_BIT),R.bufferData(R.ARRAY_BUFFER,this.vertexData,R.STATIC_DRAW),R.drawArrays(R.TRIANGLES,0,6),R.bindFramebuffer(R.FRAMEBUFFER,null),R.bindTexture(R.TEXTURE_2D,null)},blendFramesAdditive:function(m,y,C,b,M){this.blendFrames(m,y,C,b,M,this.addShader)},clearFrame:function(m,y){y===void 0&&(y=!0);var C=this.gl;C.viewport(0,0,m.width,m.height),C.bindFramebuffer(C.FRAMEBUFFER,m.framebuffer.webGLFramebuffer),y?C.clearColor(0,0,0,0):C.clearColor(0,0,0,1),C.clear(C.COLOR_BUFFER_BIT);var b=this.renderer.currentFramebuffer;C.bindFramebuffer(C.FRAMEBUFFER,b.webGLFramebuffer)},setUVs:function(m,y,C,b,M,w,R,A){var L=this.vertexViewF32;L[2]=m,L[3]=y,L[6]=C,L[7]=b,L[10]=M,L[11]=w,L[14]=m,L[15]=y,L[18]=M,L[19]=w,L[22]=R,L[23]=A},setTargetUVs:function(m,y){var C=y.height/m.height;C>.5?C=.5-(C-.5):C=.5+(.5-C),this.setUVs(0,C,0,1+C,1,1+C,1,C)},flipX:function(){this.setUVs(1,0,1,1,0,1,0,0)},flipY:function(){this.setUVs(0,1,0,0,1,0,1,1)},resetUVs:function(){this.setUVs(0,0,0,1,1,1,1,0)}});n.exports=g},36060:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T={BITMAPMASK_PIPELINE:"BitmapMaskPipeline",LIGHT_PIPELINE:"Light2D",POINTLIGHT_PIPELINE:"PointLightPipeline",SINGLE_PIPELINE:"SinglePipeline",MULTI_PIPELINE:"MultiPipeline",ROPE_PIPELINE:"RopePipeline",GRAPHICS_PIPELINE:"GraphicsPipeline",POSTFX_PIPELINE:"PostFXPipeline",UTILITY_PIPELINE:"UtilityPipeline",MOBILE_PIPELINE:"MobilePipeline",FX_PIPELINE:"FxPipeline"};n.exports=T},84817:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="pipelineafterflush"},36712:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="pipelinebeforeflush"},40285:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="pipelinebind"},65918:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="pipelineboot"},92852:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="pipelinedestroy"},56072:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="pipelinerebind"},57566:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="pipelineresize"},77085:(n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports={AFTER_FLUSH:r(84817),BEFORE_FLUSH:r(36712),BIND:r(40285),BOOT:r(65918),DESTROY:r(92852),REBIND:r(56072),RESIZE:r(57566)}},54812:(n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(83419),x=r(99155),d=r(84057),h=new o({Extends:d,initialize:function(a){d.call(this,{game:a,fragShader:x}),this.amount=1},onPreRender:function(l,a){l=this.getController(l),this.set1f("amount",l.amount,a)}});n.exports=h},67329:(n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(83419),x=r(24400),d=r(84057),h=new o({Extends:d,initialize:function(a){d.call(this,{game:a,fragShader:x}),this.steps=4,this.offsetX=1,this.offsetY=1,this.blurStrength=1,this.strength=1,this.glcolor=[1,1,1]},onPreRender:function(l){l=this.getController(l),this.set1f("strength",l.blurStrength),this.set3fv("color",l.glcolor)},onDraw:function(l){var a=this.getController(),f=this.fullFrame1,c=this.fullFrame2;this.copyFrame(l,c);for(var u=2/l.width*a.offsetX,v=2/l.height*a.offsetY,g=0;g<a.steps;g++)this.set2f("offset",u,0),this.copySprite(l,f),this.set2f("offset",0,v),this.copySprite(f,l);this.blendFrames(c,l,f,a.strength),this.copyToGame(f)}});n.exports=h},8861:(n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(83419),x=r(41514),d=r(51078),h=r(94328),l=r(84057),a=new o({Extends:l,initialize:function(c){l.call(this,{game:c,shaders:[{name:"Gaussian5",fragShader:x},{name:"Gaussian9",fragShader:d},{name:"Gaussian13",fragShader:h}]}),this.activeShader=this.shaders[0],this.x=2,this.y=2,this.steps=4,this.strength=1,this.glcolor=[1,1,1]},setQualityLow:function(){return this.activeShader=this.shaders[0],this},setQualityMedium:function(){return this.activeShader=this.shaders[1],this},setQualityHigh:function(){return this.activeShader=this.shaders[2],this},onDraw:function(f){var c=this.getController(),u=this.gl,v=this.fullFrame1,g=u.getParameter(u.FRAMEBUFFER_BINDING);this.bind(this.shaders[c.quality]),u.activeTexture(u.TEXTURE0),u.viewport(0,0,f.width,f.height),this.set1i("uMainSampler",0),this.set2f("resolution",f.width,f.height),this.set1f("strength",c.strength),this.set3fv("color",c.glcolor);for(var m=0;m<c.steps;m++)this.set2f("offset",c.x,0),this.copySprite(f,v),this.set2f("offset",0,c.y),this.copySprite(v,f);u.bindFramebuffer(u.FRAMEBUFFER,g),u.bindTexture(u.TEXTURE_2D,null),this.copyToGame(f)}});n.exports=a},51051:(n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(83419),x=r(90610),d=r(84057),h=new o({Extends:d,initialize:function(a){d.call(this,{game:a,fragShader:x}),this.isTiltShift=!1,this.strength=1,this.blurX=1,this.blurY=1,this.radius=.5,this.amount=1,this.contrast=.2},onPreRender:function(l,a,f,c){l=this.getController(l),this.set1f("radius",l.radius,a),this.set1f("amount",l.amount,a),this.set1f("contrast",l.contrast,a),this.set1f("strength",l.strength,a),this.set2f("blur",l.blurX,l.blurY,a),this.setBoolean("isTiltShift",l.isTiltShift,a),f&&c&&this.set2f("resolution",f,c,a)},onDraw:function(l){this.set2f("resolution",l.width,l.height),this.bindAndDraw(l)}});n.exports=h},89428:(n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(83419),x=r(91899),d=r(84057),h=new o({Extends:d,initialize:function(a){d.call(this,{game:a,fragShader:x}),this.scale=1,this.feather=.005,this.thickness=8,this.glcolor=[1,.2,.7],this.glcolor2=[1,0,0,.4]},onPreRender:function(l,a,f,c){l=this.getController(l),this.set1f("scale",l.scale,a),this.set1f("feather",l.feather,a),this.set1f("thickness",l.thickness,a),this.set3fv("color",l.glcolor,a),this.set4fv("backgroundColor",l.glcolor2,a),f&&c&&this.set2f("resolution",f,c,a)},onDraw:function(l){this.set2f("resolution",l.width,l.height),this.bindAndDraw(l)}});n.exports=h},88904:(n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(83419),x=r(84057),d=new o({Extends:x,initialize:function(l){x.call(this,{game:l})},onDraw:function(h){var l=this.fullFrame1;this.controller?this.manager.drawFrame(h,l,!0,this.controller):this.drawFrame(h,l),this.copyToGame(l)}});n.exports=d},63563:(n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(83419),x=r(47838),d=r(84057),h=new o({Extends:d,initialize:function(a){d.call(this,{game:a,fragShader:x}),this.x=.005,this.y=.005,this.glTexture},onBoot:function(){this.setTexture("__WHITE")},setTexture:function(l){var a=this.game.textures.getFrame(l);a&&(this.glTexture=a.glTexture)},onDraw:function(l){var a=this.getController(),f=this.fullFrame1;this.bind(),this.set1i("uMainSampler",0),this.set1i("uDisplacementSampler",1),this.set2f("amount",a.x,a.y),this.bindTexture(a.glTexture,1),this.copySprite(l,f),this.copyToGame(f)}});n.exports=h},94045:(n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(83419),x=r(95540),d=r(98656),h=r(84057),l=r(70554),a=new o({Extends:h,initialize:function(c,u){var v=x(u,"quality",.1),g=x(u,"distance",10);h.call(this,{game:c,fragShader:l.setGlowQuality(d,c,v,g)}),this.outerStrength=4,this.innerStrength=0,this.knockout=!1,this.glcolor=[1,1,1,1]},onPreRender:function(f,c,u,v){f=this.getController(f),this.set1f("outerStrength",f.outerStrength,c),this.set1f("innerStrength",f.innerStrength,c),this.set4fv("glowColor",f.glcolor,c),this.setBoolean("knockout",f.knockout,c),u&&v&&this.set2f("resolution",u,v,c)},onDraw:function(f){this.set2f("resolution",f.width,f.height),this.bindAndDraw(f)}});n.exports=a},74088:(n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(83419),x=r(70463),d=r(84057),h=new o({Extends:d,initialize:function(a){d.call(this,{game:a,fragShader:x}),this.alpha=.2,this.size=0,this.fromX=0,this.fromY=0,this.toX=0,this.toY=1,this.glcolor1=[255,0,0],this.glcolor2=[0,255,0]},onPreRender:function(l,a){l=this.getController(l),this.set1f("alpha",l.alpha,a),this.set1i("size",l.size,a),this.set3fv("color1",l.glcolor1,a),this.set3fv("color2",l.glcolor2,a),this.set2f("positionFrom",l.fromX,l.fromY,a),this.set2f("positionTo",l.toX,l.toY,a)}});n.exports=h},99636:(n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(83419),x=r(50831),d=r(84057),h=new o({Extends:d,initialize:function(a){d.call(this,{game:a,fragShader:x}),this.amount=1},onPreRender:function(l,a,f,c){l=this.getController(l),this.set1f("amount",l.amount,a),f&&c&&this.set2f("resolution",f,c,a)},onDraw:function(l){this.set2f("resolution",l.width,l.height),this.bindAndDraw(l)}});n.exports=h},34700:(n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(83419),x=r(92595),d=r(84057),h=new o({Extends:d,initialize:function(a){d.call(this,{game:a,fragShader:x}),this.x=0,this.y=0,this.decay=.1,this.power=1,this.glcolor=[0,0,0,1],this.samples=6,this.intensity=1},onPreRender:function(l,a){l=this.getController(l);var f=l.samples;this.set1i("samples",f,a),this.set1f("intensity",l.intensity,a),this.set1f("decay",l.decay,a),this.set1f("power",l.power/f,a),this.set2f("lightPosition",l.x,l.y,a),this.set4fv("color",l.glcolor,a)}});n.exports=h},91157:(n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(83419),x=r(72464),d=r(84057),h=new o({Extends:d,initialize:function(a){d.call(this,{game:a,fragShader:x}),this.speed=.5,this.lineWidth=.5,this.gradient=3,this.reveal=!1},onPreRender:function(l,a,f,c){l=this.getController(l),this.setTime("time",a),this.set1f("speed",l.speed,a),this.set1f("lineWidth",l.lineWidth,a),this.set1f("gradient",l.gradient,a),this.setBoolean("reveal",l.reveal,a),f&&c&&this.set2f("resolution",f,c,a)},onDraw:function(l){this.set2f("resolution",l.width,l.height),this.bindAndDraw(l)}});n.exports=h},27797:(n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(83419),x=r(39249),d=r(84057),h=new o({Extends:d,initialize:function(a){d.call(this,{game:a,fragShader:x}),this.x=.5,this.y=.5,this.radius=.5,this.strength=.5},onPreRender:function(l,a){l=this.getController(l),this.set1f("radius",l.radius,a),this.set1f("strength",l.strength,a),this.set2f("position",l.x,l.y,a)}});n.exports=h},67603:(n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(83419),x=r(2878),d=r(84057),h=new o({Extends:d,initialize:function(a){d.call(this,{game:a,fragShader:x}),this.progress=0,this.wipeWidth=.1,this.direction=0,this.axis=0,this.reveal=!1},onPreRender:function(l,a){l=this.getController(l);var f=l.progress,c=l.wipeWidth,u=l.direction,v=l.axis;this.set4f("config",f,c,u,v,a),this.setBoolean("reveal",l.reveal,a)}});n.exports=h},58918:(n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o={Barrel:r(54812),Bloom:r(67329),Blur:r(8861),Bokeh:r(51051),Circle:r(89428),ColorMatrix:r(88904),Displacement:r(63563),Glow:r(94045),Gradient:r(74088),Pixelate:r(99636),Shadow:r(34700),Shine:r(91157),Vignette:r(27797),Wipe:r(67603)};n.exports=o},96615:(n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(36060),x=r(79291),d={FX:r(58918),BitmapMaskPipeline:r(31302),Events:r(77085),FXPipeline:r(92651),LightPipeline:r(96569),MobilePipeline:r(56527),MultiPipeline:r(57516),PointLightPipeline:r(43439),PostFXPipeline:r(84057),PreFXPipeline:r(43558),RopePipeline:r(81041),SinglePipeline:r(12385),UtilityPipeline:r(7589)};d=x(!1,d,o),n.exports=d},35407:n=>{n.exports=["#define SHADER_NAME PHASER_ADD_BLEND_FS","precision mediump float;","uniform sampler2D uMainSampler1;","uniform sampler2D uMainSampler2;","uniform float uStrength;","varying vec2 outTexCoord;","void main ()","{","    vec4 frame1 = texture2D(uMainSampler1, outTexCoord);","    vec4 frame2 = texture2D(uMainSampler2, outTexCoord);","    gl_FragColor = frame1 + frame2 * uStrength;","}"].join(`
`)},78908:n=>{n.exports=["#define SHADER_NAME PHASER_BITMAP_MASK_FS","precision mediump float;","uniform vec2 uResolution;","uniform sampler2D uMainSampler;","uniform sampler2D uMaskSampler;","uniform bool uInvertMaskAlpha;","void main ()","{","    vec2 uv = gl_FragCoord.xy / uResolution;","    vec4 mainColor = texture2D(uMainSampler, uv);","    vec4 maskColor = texture2D(uMaskSampler, uv);","    if (!uInvertMaskAlpha)","    {","        mainColor *= maskColor.a;","    }","    else","    {","        mainColor *= (1.0 - maskColor.a);","    }","    gl_FragColor = mainColor;","}"].join(`
`)},85191:n=>{n.exports=["#define SHADER_NAME PHASER_BITMAP_MASK_VS","precision mediump float;","attribute vec2 inPosition;","void main ()","{","    gl_Position = vec4(inPosition, 0.0, 1.0);","}"].join(`
`)},96293:n=>{n.exports=["#define SHADER_NAME PHASER_COLORMATRIX_FS","precision mediump float;","uniform sampler2D uMainSampler;","uniform float uColorMatrix[20];","uniform float uAlpha;","varying vec2 outTexCoord;","void main ()","{","    vec4 c = texture2D(uMainSampler, outTexCoord);","    if (uAlpha == 0.0)","    {","        gl_FragColor = c;","        return;","    }","    if (c.a > 0.0)","    {","        c.rgb /= c.a;","    }","    vec4 result;","    result.r = (uColorMatrix[0] * c.r) + (uColorMatrix[1] * c.g) + (uColorMatrix[2] * c.b) + (uColorMatrix[3] * c.a) + uColorMatrix[4];","    result.g = (uColorMatrix[5] * c.r) + (uColorMatrix[6] * c.g) + (uColorMatrix[7] * c.b) + (uColorMatrix[8] * c.a) + uColorMatrix[9];","    result.b = (uColorMatrix[10] * c.r) + (uColorMatrix[11] * c.g) + (uColorMatrix[12] * c.b) + (uColorMatrix[13] * c.a) + uColorMatrix[14];","    result.a = (uColorMatrix[15] * c.r) + (uColorMatrix[16] * c.g) + (uColorMatrix[17] * c.b) + (uColorMatrix[18] * c.a) + uColorMatrix[19];","    vec3 rgb = mix(c.rgb, result.rgb, uAlpha);","    rgb *= result.a;","    gl_FragColor = vec4(rgb, result.a);","}"].join(`
`)},36682:n=>{n.exports=["#define SHADER_NAME PHASER_COPY_FS","precision mediump float;","uniform sampler2D uMainSampler;","uniform float uBrightness;","varying vec2 outTexCoord;","void main ()","{","    gl_FragColor = texture2D(uMainSampler, outTexCoord) * uBrightness;","}"].join(`
`)},99155:n=>{n.exports=["#define SHADER_NAME BARREL_FS","precision mediump float;","uniform sampler2D uMainSampler;","uniform float amount;","varying vec2 outTexCoord;","vec2 Distort(vec2 p)","{","    float theta  = atan(p.y, p.x);","    float radius = length(p);","    radius = pow(radius, amount);","    p.x = radius * cos(theta);","    p.y = radius * sin(theta);","    return 0.5 * (p + 1.0);","}","void main()","{","    vec2 xy = 2.0 * outTexCoord - 1.0;","    vec2 texCoord = outTexCoord;","    if (length(xy) < 1.0)","    {","        texCoord = Distort(xy);","    }","    gl_FragColor = texture2D(uMainSampler, texCoord);","}"].join(`
`)},24400:n=>{n.exports=["#define SHADER_NAME BLOOM_FS","precision mediump float;","uniform sampler2D uMainSampler;","uniform vec2 offset;","uniform float strength;","uniform vec3 color;","varying vec2 outTexCoord;","void main ()","{","    vec4 sum = texture2D(uMainSampler, outTexCoord) * 0.204164 * strength;","    sum = sum + texture2D(uMainSampler, outTexCoord + offset * 1.407333) * 0.304005;","    sum = sum + texture2D(uMainSampler, outTexCoord - offset * 1.407333) * 0.304005;","    sum = sum + texture2D(uMainSampler, outTexCoord + offset * 3.294215) * 0.093913;","    gl_FragColor = (sum + texture2D(uMainSampler, outTexCoord - offset * 3.294215) * 0.093913) * vec4(color, 1);","}"].join(`
`)},94328:n=>{n.exports=["#define SHADER_NAME BLUR_HIGH_FS","precision mediump float;","uniform sampler2D uMainSampler;","uniform vec2 resolution;","uniform vec2 offset;","uniform float strength;","uniform vec3 color;","varying vec2 outTexCoord;","void main ()","{","    vec2 uv = outTexCoord;","    vec4 col = vec4(0.0);","    vec2 off1 = vec2(1.411764705882353) * offset * strength;","    vec2 off2 = vec2(3.2941176470588234) * offset * strength;","    vec2 off3 = vec2(5.176470588235294) * offset * strength;","    col += texture2D(uMainSampler, uv) * 0.1964825501511404;","    col += texture2D(uMainSampler, uv + (off1 / resolution)) * 0.2969069646728344;","    col += texture2D(uMainSampler, uv - (off1 / resolution)) * 0.2969069646728344;","    col += texture2D(uMainSampler, uv + (off2 / resolution)) * 0.09447039785044732;","    col += texture2D(uMainSampler, uv - (off2 / resolution)) * 0.09447039785044732;","    col += texture2D(uMainSampler, uv + (off3 / resolution)) * 0.010381362401148057;","    col += texture2D(uMainSampler, uv - (off3 / resolution)) * 0.010381362401148057;","    gl_FragColor = col * vec4(color, 1.0);","}"].join(`
`)},41514:n=>{n.exports=["#define SHADER_NAME BLUR_LOW_FS","precision mediump float;","uniform sampler2D uMainSampler;","uniform vec2 resolution;","uniform vec2 offset;","uniform float strength;","uniform vec3 color;","varying vec2 outTexCoord;","void main ()","{","    vec2 uv = outTexCoord;","    vec4 col = vec4(0.0);","    vec2 offset = vec2(1.333) * offset * strength;","    col += texture2D(uMainSampler, uv) * 0.29411764705882354;","    col += texture2D(uMainSampler, uv + (offset / resolution)) * 0.35294117647058826;","    col += texture2D(uMainSampler, uv - (offset / resolution)) * 0.35294117647058826;","    gl_FragColor = col * vec4(color, 1.0);","}"].join(`
`)},51078:n=>{n.exports=["#define SHADER_NAME BLUR_MED_FS","precision mediump float;","uniform sampler2D uMainSampler;","uniform vec2 resolution;","uniform vec2 offset;","uniform float strength;","uniform vec3 color;","varying vec2 outTexCoord;","void main ()","{","    vec2 uv = outTexCoord;","    vec4 col = vec4(0.0);","    vec2 off1 = vec2(1.3846153846) * offset * strength;","    vec2 off2 = vec2(3.2307692308) * offset * strength;","    col += texture2D(uMainSampler, uv) * 0.2270270270;","    col += texture2D(uMainSampler, uv + (off1 / resolution)) * 0.3162162162;","    col += texture2D(uMainSampler, uv - (off1 / resolution)) * 0.3162162162;","    col += texture2D(uMainSampler, uv + (off2 / resolution)) * 0.0702702703;","    col += texture2D(uMainSampler, uv - (off2 / resolution)) * 0.0702702703;","    gl_FragColor = col * vec4(color, 1.0);","}"].join(`
`)},90610:n=>{n.exports=["#define SHADER_NAME BOKEH_FS","precision mediump float;","#define ITERATIONS 100.0","#define ONEOVER_ITR 1.0 / ITERATIONS","#define PI 3.141596","#define GOLDEN_ANGLE 2.39996323","uniform sampler2D uMainSampler;","uniform vec2 resolution;","uniform float radius;","uniform float amount;","uniform float contrast;","uniform bool isTiltShift;","uniform float strength;","uniform vec2 blur;","varying vec2 outTexCoord;","vec2 Sample (in float theta, inout float r)","{","    r += 1.0 / r;","    return (r - 1.0) * vec2(cos(theta), sin(theta)) * 0.06;","}","vec3 Bokeh (sampler2D tex, vec2 uv, float radius)","{","    vec3 acc = vec3(0.0);","    vec3 div = vec3(0.0);","    vec2 pixel = vec2(resolution.y / resolution.x, 1.0) * radius * .025;","    float r = 1.0;","    for (float j = 0.0; j < GOLDEN_ANGLE * ITERATIONS; j += GOLDEN_ANGLE)","    {","        vec3 col = texture2D(tex, uv + pixel * Sample(j, r)).xyz;","        col = contrast > 0.0 ? col * col * (1.0 + contrast) : col;","        vec3 bokeh = vec3(0.5) + pow(col, vec3(10.0)) * amount;","        acc += col * bokeh;","        div += bokeh;","    }","    return acc / div;","}","void main ()","{","    float shift = 1.0;","    if (isTiltShift)","    {","        vec2 uv = vec2(gl_FragCoord.xy / resolution + vec2(-0.5, -0.5)) * 2.0;","        float centerStrength = 1.0;","        shift = length(uv * blur * strength) * centerStrength;","    }","    gl_FragColor = vec4(Bokeh(uMainSampler, outTexCoord * vec2(1.0, 1.0), radius * shift), 0.0);","}"].join(`
`)},91899:n=>{n.exports=["#define SHADER_NAME CIRCLE_FS","precision mediump float;","uniform sampler2D uMainSampler;","uniform vec2 resolution;","uniform vec3 color;","uniform vec4 backgroundColor;","uniform float thickness;","uniform float scale;","uniform float feather;","varying vec2 outTexCoord;","void main ()","{","    vec4 texture = texture2D(uMainSampler, outTexCoord);","    vec2 position = (gl_FragCoord.xy / resolution.xy) * 2.0 - 1.0;","    float aspectRatio = resolution.x / resolution.y;","    position.x *= aspectRatio;","    float grad = length(position);","    float outer = aspectRatio;","    float inner = outer - (thickness * 2.0 / resolution.y);","    if (aspectRatio >= 1.0)","    {","        float f = 2.0 + (resolution.y / resolution.x);","        outer = 1.0;","        inner = 1.0 - (thickness * f / resolution.x);","    }","    outer *= scale;","    inner *= scale;","    float circle = smoothstep(outer, outer - 0.01, grad);","    float ring = circle - smoothstep(inner, inner - feather, grad);","    texture = mix(backgroundColor * backgroundColor.a, texture, texture.a);","    texture = (texture * (circle - ring));","    gl_FragColor = vec4(texture.rgb + (ring * color), texture.a);","}"].join(`
`)},47838:n=>{n.exports=["#define SHADER_NAME DISPLACEMENT_FS","precision mediump float;","uniform sampler2D uMainSampler;","uniform sampler2D uDisplacementSampler;","uniform vec2 amount;","varying vec2 outTexCoord;","void main ()","{","    vec2 disp = (-vec2(0.5, 0.5) + texture2D(uDisplacementSampler, outTexCoord).rr) * amount;","    gl_FragColor = texture2D(uMainSampler, outTexCoord + disp).rgba;","}"].join(`
`)},98656:n=>{n.exports=["#define SHADER_NAME GLOW_FS","precision mediump float;","uniform sampler2D uMainSampler;","varying vec2 outTexCoord;","uniform float outerStrength;","uniform float innerStrength;","uniform vec2 resolution;","uniform vec4 glowColor;","uniform bool knockout;","const float PI = 3.14159265358979323846264;","const float DIST = __DIST__;","const float SIZE = min(__SIZE__, PI * 2.0);","const float STEP = ceil(PI * 2.0 / SIZE);","const float MAX_ALPHA = STEP * DIST * (DIST + 1.0) / 2.0;","void main ()","{","    vec2 px = vec2(1.0 / resolution.x, 1.0 / resolution.y);","    float totalAlpha = 0.0;","    vec2 direction;","    vec2 displaced;","    vec4 color;","    for (float angle = 0.0; angle < PI * 2.0; angle += SIZE)","    {","        direction = vec2(cos(angle), sin(angle)) * px;","        for (float curDistance = 0.0; curDistance < DIST; curDistance++)","        {","            displaced = outTexCoord + direction * (curDistance + 1.0);","            color = texture2D(uMainSampler, displaced);","            totalAlpha += (DIST - curDistance) * color.a;","        }","    }","    color = texture2D(uMainSampler, outTexCoord);","    float alphaRatio = (totalAlpha / MAX_ALPHA);","    float innerGlowAlpha = (1.0 - alphaRatio) * innerStrength * color.a;","    float innerGlowStrength = min(1.0, innerGlowAlpha);","    vec4 innerColor = mix(color, glowColor, innerGlowStrength);","    float outerGlowAlpha = alphaRatio * outerStrength * (1.0 - color.a);","    float outerGlowStrength = min(1.0 - innerColor.a, outerGlowAlpha);","    vec4 outerGlowColor = outerGlowStrength * glowColor.rgba;","    if (knockout)","    {","        float resultAlpha = outerGlowAlpha + innerGlowAlpha;","        gl_FragColor = vec4(glowColor.rgb * resultAlpha, resultAlpha);","    }","    else","    {","        gl_FragColor = innerColor + outerGlowColor;","    }","}"].join(`
`)},70463:n=>{n.exports=["#define SHADER_NAME GRADIENT_FS","#define SRGB_TO_LINEAR(c) pow((c), vec3(2.2))","#define LINEAR_TO_SRGB(c) pow((c), vec3(1.0 / 2.2))","#define SRGB(r, g, b) SRGB_TO_LINEAR(vec3(float(r), float(g), float(b)) / 255.0)","precision mediump float;","uniform sampler2D uMainSampler;","uniform vec2 positionFrom;","uniform vec2 positionTo;","uniform vec3 color1;","uniform vec3 color2;","uniform float alpha;","uniform int size;","varying vec2 outTexCoord;","float gradientNoise(in vec2 uv)","{","    const vec3 magic = vec3(0.06711056, 0.00583715, 52.9829189);","    return fract(magic.z * fract(dot(uv, magic.xy)));","}","float stepped (in float s, in float scale, in int steps)","{","    return steps > 0 ? floor( s / ((1.0 * scale) / float(steps))) * 1.0 / float(steps - 1) : s;","}","void main ()","{","    vec2 a = positionFrom;","    vec2 b = positionTo;","    vec2 ba = b - a;","    float d = dot(outTexCoord - a, ba) / dot(ba, ba);","    float t = size > 0 ? stepped(d, 1.0, size) : d;","    t = smoothstep(0.0, 1.0, clamp(t, 0.0, 1.0));","    vec3 color = mix(SRGB(color1.r, color1.g, color1.b), SRGB(color2.r, color2.g, color2.b), t);","    color = LINEAR_TO_SRGB(color);","    color += (1.0 / 255.0) * gradientNoise(outTexCoord) - (0.5 / 255.0);","    vec4 texture = texture2D(uMainSampler, outTexCoord);","    gl_FragColor = vec4(mix(color.rgb, texture.rgb, alpha), 1.0) * texture.a;","}"].join(`
`)},50831:n=>{n.exports=["#define SHADER_NAME PIXELATE_FS","precision mediump float;","uniform sampler2D uMainSampler;","uniform vec2 resolution;","uniform float amount;","varying vec2 outTexCoord;","void main ()","{","    float pixelSize = floor(2.0 + amount);","    vec2 center = pixelSize * floor(outTexCoord * resolution / pixelSize) + pixelSize * vec2(0.5, 0.5);","    vec2 corner1 = center + pixelSize * vec2(-0.5, -0.5);","    vec2 corner2 = center + pixelSize * vec2(+0.5, -0.5);","    vec2 corner3 = center + pixelSize * vec2(+0.5, +0.5);","    vec2 corner4 = center + pixelSize * vec2(-0.5, +0.5);","    vec4 pixel = 0.4 * texture2D(uMainSampler, center / resolution);","    pixel += 0.15 * texture2D(uMainSampler, corner1 / resolution);","    pixel += 0.15 * texture2D(uMainSampler, corner2 / resolution);","    pixel += 0.15 * texture2D(uMainSampler, corner3 / resolution);","    pixel += 0.15 * texture2D(uMainSampler, corner4 / resolution);","    gl_FragColor = pixel;","}"].join(`
`)},92595:n=>{n.exports=["#define SHADER_NAME SHADOW_FS","precision mediump float;","uniform sampler2D uMainSampler;","varying vec2 outTexCoord;","uniform vec2 lightPosition;","uniform vec4 color;","uniform float decay;","uniform float power;","uniform float intensity;","uniform int samples;","const int MAX = 12;","void main ()","{","    vec4 texture = texture2D(uMainSampler, outTexCoord);","    vec2 pc = (lightPosition - outTexCoord) * intensity;","    float shadow = 0.0;","    float limit = max(float(MAX), float(samples));","    for (int i = 0; i < MAX; ++i)","    {","        if (i >= samples)","        {","            break;","        }","        shadow += texture2D(uMainSampler, outTexCoord + float(i) * decay / limit * pc).a * power;","    }","    float mask = 1.0 - texture.a;","    gl_FragColor = mix(texture, color, shadow * mask);","}"].join(`
`)},72464:n=>{n.exports=["#define SHADER_NAME SHINE_FS","precision mediump float;","uniform sampler2D uMainSampler;","uniform vec2 resolution;","uniform bool reveal;","uniform float speed;","uniform float time;","uniform float lineWidth;","uniform float gradient;","varying vec2 outTexCoord;","void main ()","{","	vec2 uv = gl_FragCoord.xy / resolution.xy;","    vec4 tex = texture2D(uMainSampler, outTexCoord);","    vec4 col1 = vec4(0.3, 0.0, 0.0, 1.0);","    vec4 col2 = vec4(0.85, 0.85, 0.85, 1.0);","    uv.x = uv.x - mod(time * speed, 2.0) + 0.5;","    float y = uv.x * gradient;","    float s = smoothstep(y - lineWidth, y, uv.y) - smoothstep(y, y + lineWidth, uv.y);","    gl_FragColor = (((s * col1) + (s * col2)) * tex);","    if (!reveal)","    {","        gl_FragColor += tex;","    }","}"].join(`
`)},39249:n=>{n.exports=["#define SHADER_NAME VIGNETTE_FS","precision mediump float;","uniform sampler2D uMainSampler;","uniform float radius;","uniform float strength;","uniform vec2 position;","varying vec2 outTexCoord;","void main ()","{","    vec4 col = vec4(1.0);","    float d = length(outTexCoord - position);","    if (d <= radius)","    {","        float g = d / radius;","        g = sin(g * 3.14 * strength);","    	col = vec4(g * g * g);","    }","    vec4 texture = texture2D(uMainSampler, outTexCoord);","    gl_FragColor = texture * (1.0 - col);","}"].join(`
`)},2878:n=>{n.exports=["#define SHADER_NAME WIPE_FS","precision mediump float;","uniform sampler2D uMainSampler;","uniform vec4 config;","uniform bool reveal;","varying vec2 outTexCoord;","void main ()","{","    vec2 uv = outTexCoord;","    vec4 color0;","    vec4 color1;","    if (reveal)","    {","        color0 = vec4(0);","        color1 = texture2D(uMainSampler, uv);","    }","    else","    {","        color0 = texture2D(uMainSampler, uv);","        color1 = vec4(0);","    }","    float distance = config.x;","    float width = config.y;","    float direction = config.z;","    float axis = uv.x;","    if (config.w == 1.0)","    {","        axis = uv.y;","    }","    float adjust = mix(width, -width, distance);","    float value = smoothstep(distance - width, distance + width, abs(direction - axis) + adjust);","    gl_FragColor = mix(color1, color0, value);","}"].join(`
`)},31063:n=>{n.exports=["#define SHADER_NAME PHASER_LIGHT_FS","precision mediump float;","struct Light","{","    vec2 position;","    vec3 color;","    float intensity;","    float radius;","};","const int kMaxLights = %LIGHT_COUNT%;","uniform vec4 uCamera; /* x, y, rotation, zoom */","uniform vec2 uResolution;","uniform sampler2D uMainSampler;","uniform sampler2D uNormSampler;","uniform vec3 uAmbientLightColor;","uniform Light uLights[kMaxLights];","uniform mat3 uInverseRotationMatrix;","uniform int uLightCount;","varying vec2 outTexCoord;","varying float outTexId;","varying float outTintEffect;","varying vec4 outTint;","void main ()","{","    vec3 finalColor = vec3(0.0, 0.0, 0.0);","    vec4 texel = vec4(outTint.bgr * outTint.a, outTint.a);","    vec4 texture = texture2D(uMainSampler, outTexCoord);","    vec4 color = texture * texel;","    if (outTintEffect == 1.0)","    {","        color.rgb = mix(texture.rgb, outTint.bgr * outTint.a, texture.a);","    }","    else if (outTintEffect == 2.0)","    {","        color = texel;","    }","    vec3 normalMap = texture2D(uNormSampler, outTexCoord).rgb;","    vec3 normal = normalize(uInverseRotationMatrix * vec3(normalMap * 2.0 - 1.0));","    vec2 res = vec2(min(uResolution.x, uResolution.y)) * uCamera.w;","    for (int index = 0; index < kMaxLights; ++index)","    {","        if (index < uLightCount)","        {","            Light light = uLights[index];","            vec3 lightDir = vec3((light.position.xy / res) - (gl_FragCoord.xy / res), 0.1);","            vec3 lightNormal = normalize(lightDir);","            float distToSurf = length(lightDir) * uCamera.w;","            float diffuseFactor = max(dot(normal, lightNormal), 0.0);","            float radius = (light.radius / res.x * uCamera.w) * uCamera.w;","            float attenuation = clamp(1.0 - distToSurf * distToSurf / (radius * radius), 0.0, 1.0);","            vec3 diffuse = light.color * diffuseFactor;","            finalColor += (attenuation * diffuse) * light.intensity;","        }","    }","    vec4 colorOutput = vec4(uAmbientLightColor + finalColor, 1.0);","    gl_FragColor = color * vec4(colorOutput.rgb * colorOutput.a, colorOutput.a);","}"].join(`
`)},48247:n=>{n.exports=["#define SHADER_NAME PHASER_LINEAR_BLEND_FS","precision mediump float;","uniform sampler2D uMainSampler1;","uniform sampler2D uMainSampler2;","uniform float uStrength;","varying vec2 outTexCoord;","void main ()","{","    vec4 frame1 = texture2D(uMainSampler1, outTexCoord);","    vec4 frame2 = texture2D(uMainSampler2, outTexCoord);","    gl_FragColor = mix(frame1, frame2 * uStrength, 0.5);","}"].join(`
`)},41214:n=>{n.exports=["#define SHADER_NAME PHASER_MESH_FS","precision mediump float;","uniform vec3 uLightPosition;","uniform vec3 uLightAmbient;","uniform vec3 uLightDiffuse;","uniform vec3 uLightSpecular;","uniform vec3 uFogColor;","uniform float uFogNear;","uniform float uFogFar;","uniform vec3 uMaterialAmbient;","uniform vec3 uMaterialDiffuse;","uniform vec3 uMaterialSpecular;","uniform float uMaterialShine;","uniform vec3 uCameraPosition;","uniform sampler2D uTexture;","varying vec2 vTextureCoord;","varying vec3 vNormal;","varying vec3 vPosition;","void main (void)","{","    vec4 color = texture2D(uTexture, vTextureCoord);","    vec3 ambient = uLightAmbient * uMaterialAmbient;","    vec3 norm = normalize(vNormal);","    vec3 lightDir = normalize(uLightPosition - vPosition);","    float diff = max(dot(norm, lightDir), 0.0);","    vec3 diffuse = uLightDiffuse * (diff * uMaterialDiffuse);","    vec3 viewDir = normalize(uCameraPosition - vPosition);","    vec3 reflectDir = reflect(-lightDir, norm);","    float spec = pow(max(dot(viewDir, reflectDir), 0.0), uMaterialShine);","    vec3 specular = uLightSpecular * (spec * uMaterialSpecular);","    vec3 result = (ambient + diffuse + specular) * color.rgb;","    float depth = gl_FragCoord.z / gl_FragCoord.w;","    float fogFactor = smoothstep(uFogNear, uFogFar, depth);","    gl_FragColor.rgb = mix(result.rgb, uFogColor, fogFactor);","    gl_FragColor.a = color.a;","}"].join(`
`)},39653:n=>{n.exports=["#define SHADER_NAME PHASER_MESH_VS","precision mediump float;","attribute vec3 aVertexPosition;","attribute vec3 aVertexNormal;","attribute vec2 aTextureCoord;","uniform mat4 uViewProjectionMatrix;","uniform mat4 uModelMatrix;","uniform mat4 uNormalMatrix;","varying vec2 vTextureCoord;","varying vec3 vNormal;","varying vec3 vPosition;","void main ()","{","    vTextureCoord = aTextureCoord;","    vPosition = vec3(uModelMatrix * vec4(aVertexPosition, 1.0));","    vNormal = vec3(uNormalMatrix * vec4(aVertexNormal, 1.0));","    gl_Position = uViewProjectionMatrix * uModelMatrix * vec4(aVertexPosition, 1.0);","}"].join(`
`)},62143:n=>{n.exports=["#define SHADER_NAME PHASER_MOBILE_FS","#ifdef GL_FRAGMENT_PRECISION_HIGH","precision highp float;","#else","precision mediump float;","#endif","uniform sampler2D uMainSampler;","varying vec2 outTexCoord;","varying float outTintEffect;","varying vec4 outTint;","void main ()","{","    vec4 texel = vec4(outTint.bgr * outTint.a, outTint.a);","    vec4 texture = texture2D(uMainSampler, outTexCoord);","    vec4 color = texture * texel;","    if (outTintEffect == 1.0)","    {","        color.rgb = mix(texture.rgb, outTint.bgr * outTint.a, texture.a);","    }","    else if (outTintEffect == 2.0)","    {","        color = texel;","    }","    gl_FragColor = color;","}"].join(`
`)},47940:n=>{n.exports=["#define SHADER_NAME PHASER_MOBILE_VS","precision mediump float;","uniform mat4 uProjectionMatrix;","uniform vec2 uResolution;","attribute vec2 inPosition;","attribute vec2 inTexCoord;","attribute float inTexId;","attribute float inTintEffect;","attribute vec4 inTint;","varying vec2 outTexCoord;","varying float outTintEffect;","varying vec4 outTint;","void main ()","{","    gl_Position = uProjectionMatrix * vec4(inPosition, 1.0, 1.0);","    outTexCoord = inTexCoord;","    outTint = inTint;","    outTintEffect = inTintEffect;","}"].join(`
`)},98840:n=>{n.exports=["#define SHADER_NAME PHASER_MULTI_FS","#ifdef GL_FRAGMENT_PRECISION_HIGH","precision highp float;","#else","precision mediump float;","#endif","uniform sampler2D uMainSampler[%count%];","varying vec2 outTexCoord;","varying float outTexId;","varying float outTintEffect;","varying vec4 outTint;","void main ()","{","    vec4 texture;","    %forloop%","    vec4 texel = vec4(outTint.bgr * outTint.a, outTint.a);","    vec4 color = texture * texel;","    if (outTintEffect == 1.0)","    {","        color.rgb = mix(texture.rgb, outTint.bgr * outTint.a, texture.a);","    }","    else if (outTintEffect == 2.0)","    {","        color = texel;","    }","    gl_FragColor = color;","}"].join(`
`)},44667:n=>{n.exports=["#define SHADER_NAME PHASER_MULTI_VS","precision mediump float;","uniform mat4 uProjectionMatrix;","uniform vec2 uResolution;","attribute vec2 inPosition;","attribute vec2 inTexCoord;","attribute float inTexId;","attribute float inTintEffect;","attribute vec4 inTint;","varying vec2 outTexCoord;","varying float outTexId;","varying float outTintEffect;","varying vec4 outTint;","void main ()","{","    gl_Position = uProjectionMatrix * vec4(inPosition, 1.0, 1.0);","    outTexCoord = inTexCoord;","    outTexId = inTexId;","    outTint = inTint;","    outTintEffect = inTintEffect;","}"].join(`
`)},4127:n=>{n.exports=["#define SHADER_NAME PHASER_POINTLIGHT_FS","precision mediump float;","uniform vec2 uResolution;","uniform float uCameraZoom;","varying vec4 lightPosition;","varying vec4 lightColor;","varying float lightRadius;","varying float lightAttenuation;","void main ()","{","    vec2 center = (lightPosition.xy + 1.0) * (uResolution.xy * 0.5);","    float distToSurf = length(center - gl_FragCoord.xy);","    float radius = 1.0 - distToSurf / (lightRadius * uCameraZoom);","    float intensity = smoothstep(0.0, 1.0, radius * lightAttenuation);","    vec4 color = vec4(intensity, intensity, intensity, 0.0) * lightColor;","    gl_FragColor = vec4(color.rgb * lightColor.a, color.a);","}"].join(`
`)},89924:n=>{n.exports=["#define SHADER_NAME PHASER_POINTLIGHT_VS","precision mediump float;","uniform mat4 uProjectionMatrix;","attribute vec2 inPosition;","attribute vec2 inLightPosition;","attribute vec4 inLightColor;","attribute float inLightRadius;","attribute float inLightAttenuation;","varying vec4 lightPosition;","varying vec4 lightColor;","varying float lightRadius;","varying float lightAttenuation;","void main ()","{","    lightColor = inLightColor;","    lightRadius = inLightRadius;","    lightAttenuation = inLightAttenuation;","    lightPosition = uProjectionMatrix * vec4(inLightPosition, 1.0, 1.0);","    gl_Position = uProjectionMatrix * vec4(inPosition, 1.0, 1.0);","}"].join(`
`)},27681:n=>{n.exports=["#define SHADER_NAME PHASER_POSTFX_FS","precision mediump float;","uniform sampler2D uMainSampler;","varying vec2 outTexCoord;","void main ()","{","    gl_FragColor = texture2D(uMainSampler, outTexCoord);","}"].join(`
`)},49627:n=>{n.exports=["#define SHADER_NAME PHASER_QUAD_VS","precision mediump float;","attribute vec2 inPosition;","attribute vec2 inTexCoord;","varying vec2 outFragCoord;","varying vec2 outTexCoord;","void main ()","{","    outFragCoord = inPosition.xy * 0.5 + 0.5;","    outTexCoord = inTexCoord;","    gl_Position = vec4(inPosition, 0, 1);","}"].join(`
`)},45561:n=>{n.exports=["#define SHADER_NAME PHASER_SINGLE_FS","#ifdef GL_FRAGMENT_PRECISION_HIGH","precision highp float;","#else","precision mediump float;","#endif","uniform sampler2D uMainSampler;","varying vec2 outTexCoord;","varying float outTintEffect;","varying vec4 outTint;","void main ()","{","    vec4 texture = texture2D(uMainSampler, outTexCoord);","    vec4 texel = vec4(outTint.bgr * outTint.a, outTint.a);","    vec4 color = texture * texel;","    if (outTintEffect == 1.0)","    {","        color.rgb = mix(texture.rgb, outTint.bgr * outTint.a, texture.a);","    }","    else if (outTintEffect == 2.0)","    {","        color = texel;","    }","    gl_FragColor = color;","}"].join(`
`)},60722:n=>{n.exports=["#define SHADER_NAME PHASER_SINGLE_VS","precision mediump float;","uniform mat4 uProjectionMatrix;","uniform vec2 uResolution;","attribute vec2 inPosition;","attribute vec2 inTexCoord;","attribute float inTexId;","attribute float inTintEffect;","attribute vec4 inTint;","varying vec2 outTexCoord;","varying float outTintEffect;","varying vec4 outTint;","void main ()","{","    gl_Position = uProjectionMatrix * vec4(inPosition, 1.0, 1.0);","    outTexCoord = inTexCoord;","    outTint = inTint;","    outTintEffect = inTintEffect;","}"].join(`
`)},89350:(n,T,r)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports={AddBlendFrag:r(35407),BitmapMaskFrag:r(78908),BitmapMaskVert:r(85191),ColorMatrixFrag:r(96293),CopyFrag:r(36682),FXBarrelFrag:r(99155),FXBloomFrag:r(24400),FXBlurHighFrag:r(94328),FXBlurLowFrag:r(41514),FXBlurMedFrag:r(51078),FXBokehFrag:r(90610),FXCircleFrag:r(91899),FXDisplacementFrag:r(47838),FXGlowFrag:r(98656),FXGradientFrag:r(70463),FXPixelateFrag:r(50831),FXShadowFrag:r(92595),FXShineFrag:r(72464),FXVignetteFrag:r(39249),FXWipeFrag:r(2878),LightFrag:r(31063),LinearBlendFrag:r(48247),MeshFrag:r(41214),MeshVert:r(39653),MobileFrag:r(62143),MobileVert:r(47940),MultiFrag:r(98840),MultiVert:r(44667),PointLightFrag:r(4127),PointLightVert:r(89924),PostFXFrag:r(27681),QuadVert:r(49627),SingleFrag:r(45561),SingleVert:r(60722)}},93567:(n,T,r)=>{/**
 * @author       Benjamin D. Richards <benjamindrichards@gmail.com>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(83419),x=new o({initialize:function(h,l,a){this.webGLAttribLocation=-1,this.gl=h,this.program=l,this.name=a,this.createResource()},createResource:function(){if(this.program.webGLProgram===null){this.webGLAttribLocation=-1;return}var d=this.gl;d.isContextLost()||(this.webGLAttribLocation=d.getAttribLocation(this.program.webGLProgram,this.name))},destroy:function(){this.gl=null,this.program=null,this.name=null,this.webGLAttribLocation=-1}});n.exports=x},26128:(n,T,r)=>{/**
 * @author       Benjamin D. Richards <benjamindrichards@gmail.com>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(83419),x=new o({initialize:function(h,l,a,f){this.webGLBuffer=null,this.gl=h,this.initialDataOrSize=l,this.bufferType=a,this.bufferUsage=f,this.createResource()},createResource:function(){if(this.initialDataOrSize!==null){var d=this.gl;if(!d.isContextLost()){var h=this.bufferType,l=d.createBuffer();this.webGLBuffer=l,d.bindBuffer(h,this.webGLBuffer),d.bufferData(h,this.initialDataOrSize,this.bufferUsage),d.bindBuffer(h,null)}}},destroy:function(){var d=this.gl;d.isContextLost()||d.deleteBuffer(this.webGLBuffer),this.webGLBuffer=null,this.initialDataOrSize=null,this.gl=null}});n.exports=x},84387:(n,T,r)=>{/**
 * @author       Benjamin D. Richards <benjamindrichards@gmail.com>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(83419),x={36054:"Incomplete Attachment",36055:"Missing Attachment",36057:"Incomplete Dimensions",36061:"Framebuffer Unsupported"},d=new o({initialize:function(l,a,f,c,u){this.webGLFramebuffer=null,this.gl=l,this.width=a,this.height=f,this.renderTexture=c,this.addDepthStencilBuffer=!!u,this.createResource()},createResource:function(){var h=this.gl;if(!h.isContextLost()){var l=this.renderTexture,a=0,f=h.createFramebuffer();if(this.webGLFramebuffer=f,h.bindFramebuffer(h.FRAMEBUFFER,f),l.isRenderTexture=!0,l.isAlphaPremultiplied=!1,h.framebufferTexture2D(h.FRAMEBUFFER,h.COLOR_ATTACHMENT0,h.TEXTURE_2D,l.webGLTexture,0),a=h.checkFramebufferStatus(h.FRAMEBUFFER),a!==h.FRAMEBUFFER_COMPLETE)throw new Error("Framebuffer status: "+(x[a]||a));if(this.addDepthStencilBuffer){var c=h.createRenderbuffer();h.bindRenderbuffer(h.RENDERBUFFER,c),h.renderbufferStorage(h.RENDERBUFFER,h.DEPTH_STENCIL,this.width,this.height),h.framebufferRenderbuffer(h.FRAMEBUFFER,h.DEPTH_STENCIL_ATTACHMENT,h.RENDERBUFFER,c)}h.bindFramebuffer(h.FRAMEBUFFER,null)}},destroy:function(){if(this.webGLFramebuffer!==null){var h=this.gl;if(!h.isContextLost()){h.bindFramebuffer(h.FRAMEBUFFER,this.webGLFramebuffer);var l=h.getFramebufferAttachmentParameter(h.FRAMEBUFFER,h.COLOR_ATTACHMENT0,h.FRAMEBUFFER_ATTACHMENT_OBJECT_NAME);l!==null&&(h.framebufferTexture2D(h.FRAMEBUFFER,h.COLOR_ATTACHMENT0,h.TEXTURE_2D,null,0),h.deleteTexture(l));var a=h.getFramebufferAttachmentParameter(h.FRAMEBUFFER,h.DEPTH_STENCIL_ATTACHMENT,h.FRAMEBUFFER_ATTACHMENT_OBJECT_NAME);a!==null&&h.deleteRenderbuffer(a),h.bindFramebuffer(h.FRAMEBUFFER,null),h.deleteFramebuffer(this.webGLFramebuffer)}this.renderTexture=null,this.webGLFramebuffer=null,this.gl=null}}});n.exports=d},1482:(n,T,r)=>{/**
 * @author       Benjamin D. Richards <benjamindrichards@gmail.com>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(83419),x=new o({initialize:function(h,l,a){this.webGLProgram=null,this.gl=h,this.vertexSource=l,this.fragmentSource=a,this.createResource()},createResource:function(){var d=this.gl;if(!d.isContextLost()){var h=d.createProgram(),l=d.createShader(d.VERTEX_SHADER),a=d.createShader(d.FRAGMENT_SHADER);d.shaderSource(l,this.vertexSource),d.shaderSource(a,this.fragmentSource),d.compileShader(l),d.compileShader(a);var f=`Shader failed:
`;if(!d.getShaderParameter(l,d.COMPILE_STATUS))throw new Error("Vertex "+f+d.getShaderInfoLog(l));if(!d.getShaderParameter(a,d.COMPILE_STATUS))throw new Error("Fragment "+f+d.getShaderInfoLog(a));if(d.attachShader(h,l),d.attachShader(h,a),d.linkProgram(h),!d.getProgramParameter(h,d.LINK_STATUS))throw new Error("Link "+f+d.getProgramInfoLog(h));d.useProgram(h),this.webGLProgram=h}},destroy:function(){this.webGLProgram&&(this.gl.isContextLost()||this.gl.deleteProgram(this.webGLProgram),this.webGLProgram=null,this.gl=null)}});n.exports=x},82751:(n,T,r)=>{/**
 * @author       Benjamin D. Richards <benjamindrichards@gmail.com>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(83419),x=r(50030),d=new o({initialize:function(l,a,f,c,u,v,g,m,y,C,b,M,w){this.webGLTexture=null,this.isRenderTexture=!1,this.gl=l,this.mipLevel=a,this.minFilter=f,this.magFilter=c,this.wrapT=u,this.wrapS=v,this.format=g,this.pixels=m,this.width=y,this.height=C,this.pma=b??!0,this.forceSize=!!M,this.flipY=!!w,this.__SPECTOR_Metadata={},this.createResource()},createResource:function(){var h=this.gl;if(!h.isContextLost()){if(this.pixels instanceof d){this.webGLTexture=this.pixels.webGLTexture;return}var l=h.createTexture();l.__SPECTOR_Metadata=this.__SPECTOR_Metadata,this.webGLTexture=l,this._processTexture()}},update:function(h,l,a,f,c,u,v,g,m){if(!(l===0||a===0)){this.pixels=h,this.width=l,this.height=a,this.flipY=f,this.wrapS=c,this.wrapT=u,this.minFilter=v,this.magFilter=g,this.format=m;var y=this.gl;y.isContextLost()||this._processTexture()}},_processTexture:function(){var h=this.gl;h.activeTexture(h.TEXTURE0);var l=h.getParameter(h.TEXTURE_BINDING_2D);h.bindTexture(h.TEXTURE_2D,this.webGLTexture),h.texParameteri(h.TEXTURE_2D,h.TEXTURE_MIN_FILTER,this.minFilter),h.texParameteri(h.TEXTURE_2D,h.TEXTURE_MAG_FILTER,this.magFilter),h.texParameteri(h.TEXTURE_2D,h.TEXTURE_WRAP_S,this.wrapS),h.texParameteri(h.TEXTURE_2D,h.TEXTURE_WRAP_T,this.wrapT),h.pixelStorei(h.UNPACK_PREMULTIPLY_ALPHA_WEBGL,this.pma),h.pixelStorei(h.UNPACK_FLIP_Y_WEBGL,this.flipY);var a=this.pixels,f=this.mipLevel,c=this.width,u=this.height,v=this.format,g=!1;if(a==null)h.texImage2D(h.TEXTURE_2D,f,v,c,u,0,v,h.UNSIGNED_BYTE,null),g=x(c,u);else if(a.compressed){c=a.width,u=a.height,g=a.generateMipmap;for(var m=0;m<a.mipmaps.length;m++)h.compressedTexImage2D(h.TEXTURE_2D,m,a.internalFormat,a.mipmaps[m].width,a.mipmaps[m].height,0,a.mipmaps[m].data)}else a instanceof Uint8Array?(h.texImage2D(h.TEXTURE_2D,f,v,c,u,0,v,h.UNSIGNED_BYTE,a),g=x(c,u)):(this.forceSize||(c=a.width,u=a.height),h.texImage2D(h.TEXTURE_2D,f,v,v,h.UNSIGNED_BYTE,a),g=x(c,u));g&&h.generateMipmap(h.TEXTURE_2D),l?h.bindTexture(h.TEXTURE_2D,l):h.bindTexture(h.TEXTURE_2D,null)},spectorMetadata:{get:function(){return this.__SPECTOR_Metadata},set:function(h){this.__SPECTOR_Metadata=h,this.gl.isContextLost()||(this.webGLTexture.__SPECTOR_Metadata=h)}},destroy:function(){this.webGLTexture!==null&&(this.gl.isContextLost()||this.pixels instanceof d||this.gl.deleteTexture(this.webGLTexture),this.pixels=null,this.webGLTexture=null,this.gl=null)}});n.exports=d},57183:(n,T,r)=>{/**
 * @author       Benjamin D. Richards <benjamindrichards@gmail.com>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(83419),x=new o({initialize:function(h,l,a){this.webGLUniformLocation=null,this.gl=h,this.program=l,this.name=a,this.createResource()},createResource:function(){if(this.program.webGLProgram===null){this.webGLUniformLocation=null;return}var d=this.gl;d.isContextLost()||(this.webGLUniformLocation=d.getUniformLocation(this.program.webGLProgram,this.name))},destroy:function(){this.gl=null,this.program=null,this.name=null,this.webGLUniformLocation=null}});n.exports=x},9503:(n,T,r)=>{/**
 * @author       Benjamin D. Richards <benjamindrichards@gmail.com>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o={WebGLAttribLocationWrapper:r(93567),WebGLBufferWrapper:r(26128),WebGLProgramWrapper:r(1482),WebGLTextureWrapper:r(82751),WebGLFramebufferWrapper:r(84387),WebGLUniformLocationWrapper:r(57183)};n.exports=o},76531:(n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(13560),x=r(83419),d=r(50792),h=r(97480),l=r(8443),a=r(57811),f=r(74403),c=r(45818),u=r(29747),v=r(87841),g=r(86555),m=r(56583),y=r(26099),C=r(38058),b=new x({Extends:d,initialize:function(w){d.call(this),this.game=w,this.canvas,this.canvasBounds=new v,this.parent=null,this.parentIsWindow=!1,this.parentSize=new g,this.gameSize=new g,this.baseSize=new g,this.displaySize=new g,this.scaleMode=o.SCALE_MODE.NONE,this.zoom=1,this._resetZoom=!1,this.displayScale=new y(1,1),this.autoRound=!1,this.autoCenter=o.CENTER.NO_CENTER,this.orientation=o.ORIENTATION.LANDSCAPE,this.fullscreen,this.fullscreenTarget=null,this._createdFullscreenTarget=!1,this.dirty=!1,this.resizeInterval=500,this._lastCheck=0,this._checkOrientation=!1,this.domlisteners={orientationChange:u,windowResize:u,fullScreenChange:u,fullScreenError:u}},preBoot:function(){this.parseConfig(this.game.config),this.game.events.once(l.BOOT,this.boot,this)},boot:function(){var M=this.game;this.canvas=M.canvas,this.fullscreen=M.device.fullscreen;var w=this.scaleMode;w!==o.SCALE_MODE.RESIZE&&w!==o.SCALE_MODE.EXPAND&&this.displaySize.setAspectMode(w),w===o.SCALE_MODE.NONE?this.resize(this.width,this.height):(this.getParentBounds(),this.parentSize.width>0&&this.parentSize.height>0&&this.displaySize.setParent(this.parentSize),this.refresh()),M.events.on(l.PRE_STEP,this.step,this),M.events.once(l.READY,this.refresh,this),M.events.once(l.DESTROY,this.destroy,this),this.startListeners()},parseConfig:function(M){this.getParent(M),this.getParentBounds();var w=M.width,R=M.height,A=M.scaleMode,L=M.zoom,F=M.autoRound;if(typeof w=="string")if(w.substr(-1)!=="%")w=parseInt(w,10);else{var G=this.parentSize.width;G===0&&(G=window.innerWidth);var I=parseInt(w,10)/100;w=Math.floor(G*I)}if(typeof R=="string")if(R.substr(-1)!=="%")R=parseInt(R,10);else{var B=this.parentSize.height;B===0&&(B=window.innerHeight);var k=parseInt(R,10)/100;R=Math.floor(B*k)}this.scaleMode=A,this.autoRound=F,this.autoCenter=M.autoCenter,this.resizeInterval=M.resizeInterval,F&&(w=Math.floor(w),R=Math.floor(R)),this.gameSize.setSize(w,R),L===o.ZOOM.MAX_ZOOM&&(L=this.getMaxZoom()),this.zoom=L,L!==1&&(this._resetZoom=!0),this.baseSize.setSize(w,R),F&&(this.baseSize.width=Math.floor(this.baseSize.width),this.baseSize.height=Math.floor(this.baseSize.height)),M.minWidth>0&&this.displaySize.setMin(M.minWidth*L,M.minHeight*L),M.maxWidth>0&&this.displaySize.setMax(M.maxWidth*L,M.maxHeight*L),this.displaySize.setSize(w,R),(M.snapWidth>0||M.snapHeight>0)&&this.displaySize.setSnap(M.snapWidth,M.snapHeight),this.orientation=c(w,R)},getParent:function(M){var w=M.parent;if(w!==null){if(this.parent=f(w),this.parentIsWindow=this.parent===document.body,M.expandParent&&M.scaleMode!==o.SCALE_MODE.NONE){var R=this.parent.getBoundingClientRect();(this.parentIsWindow||R.height===0)&&(document.documentElement.style.height="100%",document.body.style.height="100%",R=this.parent.getBoundingClientRect(),!this.parentIsWindow&&R.height===0&&(this.parent.style.overflow="hidden",this.parent.style.width="100%",this.parent.style.height="100%"))}M.fullscreenTarget&&!this.fullscreenTarget&&(this.fullscreenTarget=f(M.fullscreenTarget))}},getParentBounds:function(){if(!this.parent)return!1;var M=this.parentSize,w=this.parent.getBoundingClientRect();this.parentIsWindow&&this.game.device.os.iOS&&(w.height=a(!0));var R=w.width,A=w.height;if(M.width!==R||M.height!==A)return M.setSize(R,A),!0;if(this.canvas){var L=this.canvasBounds,F=this.canvas.getBoundingClientRect();if(F.x!==L.x||F.y!==L.y)return!0}return!1},lockOrientation:function(M){var w=screen.lockOrientation||screen.mozLockOrientation||screen.msLockOrientation;return w?w.call(screen,M):!1},setParentSize:function(M,w){return this.parentSize.setSize(M,w),this.refresh()},setGameSize:function(M,w){var R=this.autoRound;R&&(M=Math.floor(M),w=Math.floor(w));var A=this.width,L=this.height;return this.gameSize.resize(M,w),this.baseSize.resize(M,w),R&&(this.baseSize.width=Math.floor(this.baseSize.width),this.baseSize.height=Math.floor(this.baseSize.height)),this.displaySize.setAspectRatio(M/w),this.canvas.width=this.baseSize.width,this.canvas.height=this.baseSize.height,this.refresh(A,L)},resize:function(M,w){var R=this.zoom,A=this.autoRound;A&&(M=Math.floor(M),w=Math.floor(w));var L=this.width,F=this.height;this.gameSize.resize(M,w),this.baseSize.resize(M,w),A&&(this.baseSize.width=Math.floor(this.baseSize.width),this.baseSize.height=Math.floor(this.baseSize.height)),this.displaySize.setSize(M*R,w*R),this.canvas.width=this.baseSize.width,this.canvas.height=this.baseSize.height;var G=this.canvas.style,I=M*R,B=w*R;return A&&(I=Math.floor(I),B=Math.floor(B)),(I!==M||B!==w)&&(G.width=I+"px",G.height=B+"px"),this.refresh(L,F)},setZoom:function(M){return this.zoom=M,this._resetZoom=!0,this.refresh()},setMaxZoom:function(){return this.zoom=this.getMaxZoom(),this._resetZoom=!0,this.refresh()},setSnap:function(M,w){return M===void 0&&(M=0),w===void 0&&(w=M),this.displaySize.setSnap(M,w),this.refresh()},refresh:function(M,w){M===void 0&&(M=this.width),w===void 0&&(w=this.height),this.updateScale(),this.updateBounds(),this.updateOrientation(),this.displayScale.set(this.baseSize.width/this.canvasBounds.width,this.baseSize.height/this.canvasBounds.height);var R=this.game.domContainer;if(R){this.baseSize.setCSS(R);var A=this.canvas.style,L=R.style;L.transform="scale("+this.displaySize.width/this.baseSize.width+","+this.displaySize.height/this.baseSize.height+")",L.marginLeft=A.marginLeft,L.marginTop=A.marginTop}return this.emit(h.RESIZE,this.gameSize,this.baseSize,this.displaySize,M,w),this},updateOrientation:function(){if(this._checkOrientation){this._checkOrientation=!1;var M=c(this.width,this.height);M!==this.orientation&&(this.orientation=M,this.emit(h.ORIENTATION_CHANGE,M))}},updateScale:function(){var M=this.canvas.style,w=this.gameSize.width,R=this.gameSize.height,A,L,F=this.zoom,G=this.autoRound;if(this.scaleMode===o.SCALE_MODE.NONE)this.displaySize.setSize(w*F,R*F),A=this.displaySize.width,L=this.displaySize.height,G&&(A=Math.floor(A),L=Math.floor(L)),this._resetZoom&&(M.width=A+"px",M.height=L+"px",this._resetZoom=!1);else if(this.scaleMode===o.SCALE_MODE.RESIZE)this.displaySize.setSize(this.parentSize.width,this.parentSize.height),this.gameSize.setSize(this.displaySize.width,this.displaySize.height),this.baseSize.setSize(this.displaySize.width,this.displaySize.height),A=this.displaySize.width,L=this.displaySize.height,G&&(A=Math.floor(A),L=Math.floor(L)),this.canvas.width=A,this.canvas.height=L;else if(this.scaleMode===o.SCALE_MODE.EXPAND){var I=this.game.config.width,B=this.game.config.height;this.displaySize.setSize(this.parentSize.width,this.parentSize.height),A=this.displaySize.width,L=this.displaySize.height,G&&(A=Math.floor(A),L=Math.floor(L)),M.width=A+"px",M.height=L+"px";var k=this.parentSize.width/I,U=this.parentSize.height/B;k<U&&k!==0?this.baseSize.setSize(I,this.parentSize.height/k):U!==0&&this.baseSize.setSize(this.displaySize.width/U,B),this.gameSize.setSize(this.baseSize.width,this.baseSize.height),A=this.baseSize.width,L=this.baseSize.height,G&&(A=Math.floor(A),L=Math.floor(L)),this.canvas.width=A,this.canvas.height=L}else this.displaySize.setSize(this.parentSize.width,this.parentSize.height),A=this.displaySize.width,L=this.displaySize.height,G&&(A=Math.floor(A),L=Math.floor(L)),M.width=A+"px",M.height=L+"px";this.getParentBounds(),this.updateCenter()},getMaxZoom:function(){var M=m(this.parentSize.width,this.gameSize.width,0,!0),w=m(this.parentSize.height,this.gameSize.height,0,!0);return Math.max(Math.min(M,w),1)},updateCenter:function(){var M=this.autoCenter;if(M!==o.CENTER.NO_CENTER){var w=this.canvas,R=w.style,A=w.getBoundingClientRect(),L=A.width,F=A.height,G=Math.floor((this.parentSize.width-L)/2),I=Math.floor((this.parentSize.height-F)/2);M===o.CENTER.CENTER_HORIZONTALLY?I=0:M===o.CENTER.CENTER_VERTICALLY&&(G=0),R.marginLeft=G+"px",R.marginTop=I+"px"}},updateBounds:function(){var M=this.canvasBounds,w=this.canvas.getBoundingClientRect();M.x=w.left+(window.pageXOffset||0)-(document.documentElement.clientLeft||0),M.y=w.top+(window.pageYOffset||0)-(document.documentElement.clientTop||0),M.width=w.width,M.height=w.height},transformX:function(M){return(M-this.canvasBounds.left)*this.displayScale.x},transformY:function(M){return(M-this.canvasBounds.top)*this.displayScale.y},startFullscreen:function(M){M===void 0&&(M={navigationUI:"hide"});var w=this.fullscreen;if(!w.available){this.emit(h.FULLSCREEN_UNSUPPORTED);return}if(!w.active){var R=this.getFullscreenTarget();w.keyboard?R[w.request](Element.ALLOW_KEYBOARD_INPUT):R[w.request](M)}},fullscreenSuccessHandler:function(){this.getParentBounds(),this.refresh(),this.emit(h.ENTER_FULLSCREEN)},fullscreenErrorHandler:function(M){this.removeFullscreenTarget(),this.emit(h.FULLSCREEN_FAILED,M)},getFullscreenTarget:function(){if(!this.fullscreenTarget){var M=document.createElement("div");M.style.margin="0",M.style.padding="0",M.style.width="100%",M.style.height="100%",this.fullscreenTarget=M,this._createdFullscreenTarget=!0}if(this._createdFullscreenTarget){var w=this.canvas.parentNode;w.insertBefore(this.fullscreenTarget,this.canvas),this.fullscreenTarget.appendChild(this.canvas)}return this.fullscreenTarget},removeFullscreenTarget:function(){if(this._createdFullscreenTarget){var M=this.fullscreenTarget;if(M&&M.parentNode){var w=M.parentNode;w.insertBefore(this.canvas,M),w.removeChild(M)}}},stopFullscreen:function(){var M=this.fullscreen;if(!M.available)return this.emit(h.FULLSCREEN_UNSUPPORTED),!1;M.active&&document[M.cancel](),this.removeFullscreenTarget()},leaveFullScreenSuccessHandler:function(){this.getParentBounds(),this.emit(h.LEAVE_FULLSCREEN),this.refresh()},toggleFullscreen:function(M){this.fullscreen.active?this.stopFullscreen():this.startFullscreen(M)},startListeners:function(){var M=this,w=this.domlisteners;if(w.orientationChange=function(){M.updateBounds(),M._checkOrientation=!0,M.dirty=!0,M.refresh()},w.windowResize=function(){M.updateBounds(),M.dirty=!0},screen.orientation&&screen.orientation.addEventListener?screen.orientation.addEventListener("change",w.orientationChange,!1):window.addEventListener("orientationchange",w.orientationChange,!1),window.addEventListener("resize",w.windowResize,!1),this.fullscreen.available){w.fullScreenChange=function(A){return M.onFullScreenChange(A)},w.fullScreenError=function(A){return M.onFullScreenError(A)};var R=["webkit","moz",""];R.forEach(function(A){document.addEventListener(A+"fullscreenchange",w.fullScreenChange,!1),document.addEventListener(A+"fullscreenerror",w.fullScreenError,!1)}),document.addEventListener("MSFullscreenChange",w.fullScreenChange,!1),document.addEventListener("MSFullscreenError",w.fullScreenError,!1)}},onFullScreenChange:function(){document.fullscreenElement||document.webkitFullscreenElement||document.msFullscreenElement||document.mozFullScreenElement?this.fullscreenSuccessHandler():(this.stopFullscreen(),this.leaveFullScreenSuccessHandler())},onFullScreenError:function(){this.removeFullscreenTarget()},getViewPort:function(M,w){M instanceof C||(w=M,M=void 0),w===void 0&&(w=new v);var R=this.baseSize,A=this.parentSize,L=this.canvasBounds,F=this.displayScale,G=L.x>=0?0:-(L.x*F.x),I=L.y>=0?0:-(L.y*F.y),B;A.width>=L.width?B=R.width:B=R.width-(L.width-A.width)*F.x;var k;return A.height>=L.height?k=R.height:k=R.height-(L.height-A.height)*F.y,w.setTo(G,I,B,k),M&&(w.width/=M.zoomX,w.height/=M.zoomY,w.centerX=M.centerX+M.scrollX,w.centerY=M.centerY+M.scrollY),w},step:function(M,w){this.parent&&(this._lastCheck+=w,(this.dirty||this._lastCheck>this.resizeInterval)&&(this.getParentBounds()&&this.refresh(),this.dirty=!1,this._lastCheck=0))},stopListeners:function(){var M=this.domlisteners;screen.orientation&&screen.orientation.addEventListener?screen.orientation.removeEventListener("change",M.orientationChange,!1):window.removeEventListener("orientationchange",M.orientationChange,!1),window.removeEventListener("resize",M.windowResize,!1);var w=["webkit","moz",""];w.forEach(function(R){document.removeEventListener(R+"fullscreenchange",M.fullScreenChange,!1),document.removeEventListener(R+"fullscreenerror",M.fullScreenError,!1)}),document.removeEventListener("MSFullscreenChange",M.fullScreenChange,!1),document.removeEventListener("MSFullscreenError",M.fullScreenError,!1)},destroy:function(){this.removeAllListeners(),this.stopListeners(),this.game=null,this.canvas=null,this.canvasBounds=null,this.parent=null,this.fullscreenTarget=null,this.parentSize.destroy(),this.gameSize.destroy(),this.baseSize.destroy(),this.displaySize.destroy()},isFullscreen:{get:function(){return this.fullscreen.active}},width:{get:function(){return this.gameSize.width}},height:{get:function(){return this.gameSize.height}},isPortrait:{get:function(){return this.orientation===o.ORIENTATION.PORTRAIT}},isLandscape:{get:function(){return this.orientation===o.ORIENTATION.LANDSCAPE}},isGamePortrait:{get:function(){return this.height>this.width}},isGameLandscape:{get:function(){return this.width>this.height}}});n.exports=b},64743:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports={NO_CENTER:0,CENTER_BOTH:1,CENTER_HORIZONTALLY:2,CENTER_VERTICALLY:3}},39218:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports={LANDSCAPE:"landscape-primary",LANDSCAPE_SECONDARY:"landscape-secondary",PORTRAIT:"portrait-primary",PORTRAIT_SECONDARY:"portrait-secondary"}},81050:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports={NONE:0,WIDTH_CONTROLS_HEIGHT:1,HEIGHT_CONTROLS_WIDTH:2,FIT:3,ENVELOP:4,RESIZE:5,EXPAND:6}},80805:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports={NO_ZOOM:1,ZOOM_2X:2,ZOOM_4X:4,MAX_ZOOM:-1}},13560:(n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o={CENTER:r(64743),ORIENTATION:r(39218),SCALE_MODE:r(81050),ZOOM:r(80805)};n.exports=o},56139:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="enterfullscreen"},2336:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="fullscreenfailed"},47412:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="fullscreenunsupported"},51452:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="leavefullscreen"},20666:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="orientationchange"},47945:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="resize"},97480:(n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports={ENTER_FULLSCREEN:r(56139),FULLSCREEN_FAILED:r(2336),FULLSCREEN_UNSUPPORTED:r(47412),LEAVE_FULLSCREEN:r(51452),ORIENTATION_CHANGE:r(20666),RESIZE:r(47945)}},93364:(n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(79291),x=r(13560),d={Center:r(64743),Events:r(97480),Orientation:r(39218),ScaleManager:r(76531),ScaleModes:r(81050),Zoom:r(80805)};d=o(!1,d,x.CENTER),d=o(!1,d,x.ORIENTATION),d=o(!1,d,x.SCALE_MODE),d=o(!1,d,x.ZOOM),n.exports=d},27397:(n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(95540),x=r(35355),d=function(h){var l=h.game.config.defaultPhysicsSystem,a=o(h.settings,"physics",!1);if(!(!l&&!a)){var f=[];if(l&&f.push(x(l+"Physics")),a)for(var c in a)c=x(c.concat("Physics")),f.indexOf(c)===-1&&f.push(c);return f}};n.exports=d},52106:(n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(95540),x=function(d){var h=d.plugins.getDefaultScenePlugins(),l=o(d.settings,"plugins",!1);return Array.isArray(l)?l:h||[]};n.exports=x},87033:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T={game:"game",renderer:"renderer",anims:"anims",cache:"cache",plugins:"plugins",registry:"registry",scale:"scale",sound:"sound",textures:"textures",events:"events",cameras:"cameras",add:"add",make:"make",scenePlugin:"scene",displayList:"children",lights:"lights",data:"data",input:"input",load:"load",time:"time",tweens:"tweens",arcadePhysics:"physics",impactPhysics:"impact",matterPhysics:"matter"};n.exports=T},97482:(n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(83419),x=r(2368),d=new o({initialize:function(l){this.sys=new x(this,l),this.game,this.anims,this.cache,this.registry,this.sound,this.textures,this.events,this.cameras,this.add,this.make,this.scene,this.children,this.lights,this.data,this.input,this.load,this.time,this.tweens,this.physics,this.matter,this.scale,this.plugins,this.renderer},update:function(){}});n.exports=d},60903:(n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(83419),x=r(89993),d=r(44594),h=r(8443),l=r(35154),a=r(54899),f=r(29747),c=r(97482),u=r(2368),v=new o({initialize:function(m,y){if(this.game=m,this.keys={},this.scenes=[],this._pending=[],this._start=[],this._queue=[],this._data={},this.isProcessing=!1,this.isBooted=!1,this.customViewports=0,this.systemScene,y){Array.isArray(y)||(y=[y]);for(var C=0;C<y.length;C++)this._pending.push({key:"default",scene:y[C],autoStart:C===0,data:{}})}m.events.once(h.READY,this.bootQueue,this)},bootQueue:function(){if(!this.isBooted){this.systemScene=this.createSceneFromInstance("__SYSTEM",new c),this.game.events.emit(h.SYSTEM_READY,this.systemScene,this);var g,m,y,C;for(g=0;g<this._pending.length;g++){m=this._pending[g],y=m.key,C=m.scene;var b;C instanceof c?b=this.createSceneFromInstance(y,C):typeof C=="object"?b=this.createSceneFromObject(y,C):typeof C=="function"&&(b=this.createSceneFromFunction(y,C)),y=b.sys.settings.key,this.keys[y]=b,this.scenes.push(b),this._data[y]&&(b.sys.settings.data=this._data[y].data,this._data[y].autoStart&&(m.autoStart=!0)),(m.autoStart||b.sys.settings.active)&&this._start.push(y)}for(this._pending.length=0,this._data={},this.isBooted=!0,g=0;g<this._start.length;g++)m=this._start[g],this.start(m);this._start.length=0}},processQueue:function(){var g=this._pending.length,m=this._queue.length;if(!(g===0&&m===0)){var y,C;if(g){for(y=0;y<g;y++)C=this._pending[y],this.add(C.key,C.scene,C.autoStart,C.data);for(y=0;y<this._start.length;y++)C=this._start[y],this.start(C);this._start.length=0,this._pending.length=0}for(y=0;y<this._queue.length;y++)C=this._queue[y],this[C.op](C.keyA,C.keyB,C.data);this._queue.length=0}},add:function(g,m,y,C){if(y===void 0&&(y=!1),C===void 0&&(C={}),this.isProcessing||!this.isBooted)return this._pending.push({key:g,scene:m,autoStart:y,data:C}),this.isBooted||(this._data[g]={data:C}),null;g=this.getKey(g,m);var b;return m instanceof c?b=this.createSceneFromInstance(g,m):typeof m=="object"?(m.key=g,b=this.createSceneFromObject(g,m)):typeof m=="function"&&(b=this.createSceneFromFunction(g,m)),b.sys.settings.data=C,g=b.sys.settings.key,this.keys[g]=b,this.scenes.push(b),(y||b.sys.settings.active)&&(this._pending.length?this._start.push(g):this.start(g)),b},remove:function(g){if(this.isProcessing)return this.queueOp("remove",g);var m=this.getScene(g);if(!m||m.sys.isTransitioning())return this;var y=this.scenes.indexOf(m),C=m.sys.settings.key;return y>-1&&(delete this.keys[C],this.scenes.splice(y,1),this._start.indexOf(C)>-1&&(y=this._start.indexOf(C),this._start.splice(y,1)),m.sys.destroy()),this},bootScene:function(g){var m=g.sys,y=m.settings;m.sceneUpdate=f,g.init&&(g.init.call(g,y.data),y.status=x.INIT,y.isTransition&&m.events.emit(d.TRANSITION_INIT,y.transitionFrom,y.transitionDuration));var C;m.load&&(C=m.load,C.reset()),C&&g.preload?(g.preload.call(g),y.status=x.LOADING,C.once(a.COMPLETE,this.loadComplete,this),C.start()):this.create(g)},loadComplete:function(g){this.create(g.scene)},payloadComplete:function(g){this.bootScene(g.scene)},update:function(g,m){this.processQueue(),this.isProcessing=!0;for(var y=this.scenes.length-1;y>=0;y--){var C=this.scenes[y].sys;C.settings.status>x.START&&C.settings.status<=x.RUNNING&&C.step(g,m),C.scenePlugin&&C.scenePlugin._target&&C.scenePlugin.step(g,m)}},render:function(g){for(var m=0;m<this.scenes.length;m++){var y=this.scenes[m].sys;y.settings.visible&&y.settings.status>=x.LOADING&&y.settings.status<x.SLEEPING&&y.render(g)}this.isProcessing=!1},create:function(g){var m=g.sys,y=m.settings;g.create&&(y.status=x.CREATING,g.create.call(g,y.data),y.status===x.DESTROYED)||(y.isTransition&&m.events.emit(d.TRANSITION_START,y.transitionFrom,y.transitionDuration),g.update&&(m.sceneUpdate=g.update),y.status=x.RUNNING,m.events.emit(d.CREATE,g))},createSceneFromFunction:function(g,m){var y=new m;if(y instanceof c){var C=y.sys.settings.key;if(C!==""&&(g=C),this.keys.hasOwnProperty(g))throw new Error("Cannot add Scene with duplicate key: "+g);return this.createSceneFromInstance(g,y)}else return y.sys=new u(y),y.sys.settings.key=g,y.sys.init(this.game),y},createSceneFromInstance:function(g,m){var y=m.sys.settings.key;return y===""&&(m.sys.settings.key=g),m.sys.init(this.game),m},createSceneFromObject:function(g,m){var y=new c(m),C=y.sys.settings.key;C!==""?g=C:y.sys.settings.key=g,y.sys.init(this.game);for(var b=["init","preload","create","update","render"],M=0;M<b.length;M++){var w=l(m,b[M],null);w&&(y[b[M]]=w)}if(m.hasOwnProperty("extend")){for(var R in m.extend)if(m.extend.hasOwnProperty(R)){var A=m.extend[R];R==="data"&&y.hasOwnProperty("data")&&typeof A=="object"?y.data.merge(A):R!=="sys"&&(y[R]=A)}}return y},getKey:function(g,m){if(g||(g="default"),typeof m=="function")return g;if(m instanceof c?g=m.sys.settings.key:typeof m=="object"&&m.hasOwnProperty("key")&&(g=m.key),this.keys.hasOwnProperty(g))throw new Error("Cannot add Scene with duplicate key: "+g);return g},getScenes:function(g,m){g===void 0&&(g=!0),m===void 0&&(m=!1);for(var y=[],C=this.scenes,b=0;b<C.length;b++){var M=C[b];M&&(!g||g&&M.sys.isActive())&&y.push(M)}return m?y.reverse():y},getScene:function(g){if(typeof g=="string"){if(this.keys[g])return this.keys[g]}else for(var m=0;m<this.scenes.length;m++)if(g===this.scenes[m])return g;return null},isActive:function(g){var m=this.getScene(g);return m?m.sys.isActive():null},isPaused:function(g){var m=this.getScene(g);return m?m.sys.isPaused():null},isVisible:function(g){var m=this.getScene(g);return m?m.sys.isVisible():null},isSleeping:function(g){var m=this.getScene(g);return m?m.sys.isSleeping():null},pause:function(g,m){var y=this.getScene(g);return y&&y.sys.pause(m),this},resume:function(g,m){var y=this.getScene(g);return y&&y.sys.resume(m),this},sleep:function(g,m){var y=this.getScene(g);return y&&!y.sys.isTransitioning()&&y.sys.sleep(m),this},wake:function(g,m){var y=this.getScene(g);return y&&y.sys.wake(m),this},run:function(g,m){var y=this.getScene(g);if(!y){for(var C=0;C<this._pending.length;C++)if(this._pending[C].key===g){this.queueOp("start",g,m);break}return this}y.sys.isSleeping()?y.sys.wake(m):y.sys.isPaused()?y.sys.resume(m):this.start(g,m)},start:function(g,m){if(!this.isBooted)return this._data[g]={autoStart:!0,data:m},this;var y=this.getScene(g);if(!y)return console.warn("Scene key not found: "+g),this;var C=y.sys,b=C.settings.status;if(b>=x.START&&b<=x.CREATING)return this;if(b>=x.RUNNING&&b<=x.SLEEPING)C.shutdown(),C.sceneUpdate=f,C.start(m);else{C.sceneUpdate=f,C.start(m);var M;if(C.load&&(M=C.load),M&&C.settings.hasOwnProperty("pack")&&(M.reset(),M.addPack({payload:C.settings.pack})))return C.settings.status=x.LOADING,M.once(a.COMPLETE,this.payloadComplete,this),M.start(),this}return this.bootScene(y),this},stop:function(g,m){var y=this.getScene(g);if(y&&!y.sys.isTransitioning()&&y.sys.settings.status!==x.SHUTDOWN){var C=y.sys.load;C&&(C.off(a.COMPLETE,this.loadComplete,this),C.off(a.COMPLETE,this.payloadComplete,this)),y.sys.shutdown(m)}return this},switch:function(g,m,y){var C=this.getScene(g),b=this.getScene(m);return C&&b&&C!==b&&(this.sleep(g),this.isSleeping(m)?this.wake(m,y):this.start(m,y)),this},getAt:function(g){return this.scenes[g]},getIndex:function(g){var m=this.getScene(g);return this.scenes.indexOf(m)},bringToTop:function(g){if(this.isProcessing)return this.queueOp("bringToTop",g);var m=this.getIndex(g),y=this.scenes;if(m!==-1&&m<y.length){var C=this.getScene(g);y.splice(m,1),y.push(C)}return this},sendToBack:function(g){if(this.isProcessing)return this.queueOp("sendToBack",g);var m=this.getIndex(g);if(m!==-1&&m>0){var y=this.getScene(g);this.scenes.splice(m,1),this.scenes.unshift(y)}return this},moveDown:function(g){if(this.isProcessing)return this.queueOp("moveDown",g);var m=this.getIndex(g);if(m>0){var y=m-1,C=this.getScene(g),b=this.getAt(y);this.scenes[m]=b,this.scenes[y]=C}return this},moveUp:function(g){if(this.isProcessing)return this.queueOp("moveUp",g);var m=this.getIndex(g);if(m<this.scenes.length-1){var y=m+1,C=this.getScene(g),b=this.getAt(y);this.scenes[m]=b,this.scenes[y]=C}return this},moveAbove:function(g,m){if(g===m)return this;if(this.isProcessing)return this.queueOp("moveAbove",g,m);var y=this.getIndex(g),C=this.getIndex(m);if(y!==-1&&C!==-1&&C<y){var b=this.getAt(C);this.scenes.splice(C,1),this.scenes.splice(y+(C>y),0,b)}return this},moveBelow:function(g,m){if(g===m)return this;if(this.isProcessing)return this.queueOp("moveBelow",g,m);var y=this.getIndex(g),C=this.getIndex(m);if(y!==-1&&C!==-1&&C>y){var b=this.getAt(C);this.scenes.splice(C,1),y===0?this.scenes.unshift(b):this.scenes.splice(y-(C<y),0,b)}return this},queueOp:function(g,m,y,C){return this._queue.push({op:g,keyA:m,keyB:y,data:C}),this},swapPosition:function(g,m){if(g===m)return this;if(this.isProcessing)return this.queueOp("swapPosition",g,m);var y=this.getIndex(g),C=this.getIndex(m);if(y!==C&&y!==-1&&C!==-1){var b=this.getAt(y);this.scenes[y]=this.scenes[C],this.scenes[C]=b}return this},dump:function(){for(var g=[],m=["pending","init","start","loading","creating","running","paused","sleeping","shutdown","destroyed"],y=0;y<this.scenes.length;y++){var C=this.scenes[y].sys,b=C.settings.visible&&(C.settings.status===x.RUNNING||C.settings.status===x.PAUSED)?"[*] ":"[-] ";b+=C.settings.key+" ("+m[C.settings.status]+")",g.push(b)}console.log(g.join(`
`))},destroy:function(){for(var g=0;g<this.scenes.length;g++){var m=this.scenes[g].sys;m.destroy()}this.systemScene.sys.destroy(),this.update=f,this.scenes=[],this._pending=[],this._start=[],this._queue=[],this.game=null,this.systemScene=null}});n.exports=v},52209:(n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(45319),x=r(83419),d=r(44594),h=r(95540),l=r(37277),a=new x({initialize:function(c){this.scene=c,this.systems=c.sys,this.settings=c.sys.settings,this.key=c.sys.settings.key,this.manager=c.sys.game.scene,this.transitionProgress=0,this._elapsed=0,this._target=null,this._duration=0,this._onUpdate,this._onUpdateScope,this._willSleep=!1,this._willRemove=!1,c.sys.events.once(d.BOOT,this.boot,this),c.sys.events.on(d.START,this.pluginStart,this)},boot:function(){this.systems.events.once(d.DESTROY,this.destroy,this)},pluginStart:function(){this._target=null,this.systems.events.once(d.SHUTDOWN,this.shutdown,this)},start:function(f,c){return f===void 0&&(f=this.key),this.manager.queueOp("stop",this.key),this.manager.queueOp("start",f,c),this},restart:function(f){var c=this.key;return this.manager.queueOp("stop",c),this.manager.queueOp("start",c,f),this},transition:function(f){f===void 0&&(f={});var c=h(f,"target",!1),u=this.manager.getScene(c);if(!c||!this.checkValidTransition(u))return!1;var v=h(f,"duration",1e3);this._elapsed=0,this._target=u,this._duration=v,this._willSleep=h(f,"sleep",!1),this._willRemove=h(f,"remove",!1);var g=h(f,"onUpdate",null);g&&(this._onUpdate=g,this._onUpdateScope=h(f,"onUpdateScope",this.scene));var m=h(f,"allowInput",!1);this.settings.transitionAllowInput=m;var y=u.sys.settings;y.isTransition=!0,y.transitionFrom=this.scene,y.transitionDuration=v,y.transitionAllowInput=m,h(f,"moveAbove",!1)?this.manager.moveAbove(this.key,c):h(f,"moveBelow",!1)&&this.manager.moveBelow(this.key,c),u.sys.isSleeping()?u.sys.wake(h(f,"data")):this.manager.start(c,h(f,"data"));var C=h(f,"onStart",null),b=h(f,"onStartScope",this.scene);return C&&C.call(b,this.scene,u,v),this.systems.events.emit(d.TRANSITION_OUT,u,v),!0},checkValidTransition:function(f){return!(!f||f.sys.isActive()||f.sys.isTransitioning()||f===this.scene||this.systems.isTransitioning())},step:function(f,c){this._elapsed+=c,this.transitionProgress=o(this._elapsed/this._duration,0,1),this._onUpdate&&this._onUpdate.call(this._onUpdateScope,this.transitionProgress),this._elapsed>=this._duration&&this.transitionComplete()},transitionComplete:function(){var f=this._target.sys,c=this._target.sys.settings;f.events.emit(d.TRANSITION_COMPLETE,this.scene),c.isTransition=!1,c.transitionFrom=null,this._duration=0,this._target=null,this._onUpdate=null,this._onUpdateScope=null,this._willRemove?this.manager.remove(this.key):this._willSleep?this.systems.sleep():this.manager.stop(this.key)},add:function(f,c,u,v){return this.manager.add(f,c,u,v)},launch:function(f,c){return f&&f!==this.key&&this.manager.queueOp("start",f,c),this},run:function(f,c){return f&&f!==this.key&&this.manager.queueOp("run",f,c),this},pause:function(f,c){return f===void 0&&(f=this.key),this.manager.queueOp("pause",f,c),this},resume:function(f,c){return f===void 0&&(f=this.key),this.manager.queueOp("resume",f,c),this},sleep:function(f,c){return f===void 0&&(f=this.key),this.manager.queueOp("sleep",f,c),this},wake:function(f,c){return f===void 0&&(f=this.key),this.manager.queueOp("wake",f,c),this},switch:function(f,c){return f!==this.key&&this.manager.queueOp("switch",this.key,f,c),this},stop:function(f,c){return f===void 0&&(f=this.key),this.manager.queueOp("stop",f,c),this},setActive:function(f,c,u){c===void 0&&(c=this.key);var v=this.manager.getScene(c);return v&&v.sys.setActive(f,u),this},setVisible:function(f,c){c===void 0&&(c=this.key);var u=this.manager.getScene(c);return u&&u.sys.setVisible(f),this},isSleeping:function(f){return f===void 0&&(f=this.key),this.manager.isSleeping(f)},isActive:function(f){return f===void 0&&(f=this.key),this.manager.isActive(f)},isPaused:function(f){return f===void 0&&(f=this.key),this.manager.isPaused(f)},isVisible:function(f){return f===void 0&&(f=this.key),this.manager.isVisible(f)},swapPosition:function(f,c){return c===void 0&&(c=this.key),f!==c&&this.manager.swapPosition(f,c),this},moveAbove:function(f,c){return c===void 0&&(c=this.key),f!==c&&this.manager.moveAbove(f,c),this},moveBelow:function(f,c){return c===void 0&&(c=this.key),f!==c&&this.manager.moveBelow(f,c),this},remove:function(f){return f===void 0&&(f=this.key),this.manager.remove(f),this},moveUp:function(f){return f===void 0&&(f=this.key),this.manager.moveUp(f),this},moveDown:function(f){return f===void 0&&(f=this.key),this.manager.moveDown(f),this},bringToTop:function(f){return f===void 0&&(f=this.key),this.manager.bringToTop(f),this},sendToBack:function(f){return f===void 0&&(f=this.key),this.manager.sendToBack(f),this},get:function(f){return this.manager.getScene(f)},getStatus:function(f){var c=this.manager.getScene(f);if(c)return c.sys.getStatus()},getIndex:function(f){return f===void 0&&(f=this.key),this.manager.getIndex(f)},shutdown:function(){var f=this.systems.events;f.off(d.SHUTDOWN,this.shutdown,this),f.off(d.TRANSITION_OUT)},destroy:function(){this.shutdown(),this.scene.sys.events.off(d.START,this.start,this),this.scene=null,this.systems=null,this.settings=null,this.manager=null}});l.register("ScenePlugin",a,"scenePlugin"),n.exports=a},55681:(n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(89993),x=r(35154),d=r(46975),h=r(87033),l={create:function(a){return typeof a=="string"?a={key:a}:a===void 0&&(a={}),{status:o.PENDING,key:x(a,"key",""),active:x(a,"active",!1),visible:x(a,"visible",!0),isBooted:!1,isTransition:!1,transitionFrom:null,transitionDuration:0,transitionAllowInput:!0,data:{},pack:x(a,"pack",!1),cameras:x(a,"cameras",null),map:x(a,"map",d(h,x(a,"mapAdd",{}))),physics:x(a,"physics",{}),loader:x(a,"loader",{}),plugins:x(a,"plugins",!1),input:x(a,"input",{})}}};n.exports=l},2368:(n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(83419),x=r(89993),d=r(42363),h=r(44594),l=r(27397),a=r(52106),f=r(29747),c=r(55681),u=new o({initialize:function(g,m){this.scene=g,this.game,this.renderer,this.config=m,this.settings=c.create(m),this.canvas,this.context,this.anims,this.cache,this.plugins,this.registry,this.scale,this.sound,this.textures,this.add,this.cameras,this.displayList,this.events,this.make,this.scenePlugin,this.updateList,this.sceneUpdate=f},init:function(v){this.settings.status=x.INIT,this.sceneUpdate=f,this.game=v,this.renderer=v.renderer,this.canvas=v.canvas,this.context=v.context;var g=v.plugins;this.plugins=g,g.addToScene(this,d.Global,[d.CoreScene,a(this),l(this)]),this.events.emit(h.BOOT,this),this.settings.isBooted=!0},step:function(v,g){var m=this.events;m.emit(h.PRE_UPDATE,v,g),m.emit(h.UPDATE,v,g),this.sceneUpdate.call(this.scene,v,g),m.emit(h.POST_UPDATE,v,g)},render:function(v){var g=this.displayList;g.depthSort(),this.events.emit(h.PRE_RENDER,v),this.cameras.render(v,g),this.events.emit(h.RENDER,v)},queueDepthSort:function(){this.displayList.queueDepthSort()},depthSort:function(){this.displayList.depthSort()},pause:function(v){var g=this.settings,m=this.getStatus();return m!==x.CREATING&&m!==x.RUNNING?console.warn("Cannot pause non-running Scene",g.key):this.settings.active&&(g.status=x.PAUSED,g.active=!1,this.events.emit(h.PAUSE,this,v)),this},resume:function(v){var g=this.events,m=this.settings;return this.settings.active||(m.status=x.RUNNING,m.active=!0,g.emit(h.RESUME,this,v)),this},sleep:function(v){var g=this.settings,m=this.getStatus();return m!==x.CREATING&&m!==x.RUNNING?console.warn("Cannot sleep non-running Scene",g.key):(g.status=x.SLEEPING,g.active=!1,g.visible=!1,this.events.emit(h.SLEEP,this,v)),this},wake:function(v){var g=this.events,m=this.settings;return m.status=x.RUNNING,m.active=!0,m.visible=!0,g.emit(h.WAKE,this,v),m.isTransition&&g.emit(h.TRANSITION_WAKE,m.transitionFrom,m.transitionDuration),this},getData:function(){return this.settings.data},getStatus:function(){return this.settings.status},canInput:function(){var v=this.settings.status;return v>x.PENDING&&v<=x.RUNNING},isSleeping:function(){return this.settings.status===x.SLEEPING},isActive:function(){return this.settings.status===x.RUNNING},isPaused:function(){return this.settings.status===x.PAUSED},isTransitioning:function(){return this.settings.isTransition||this.scenePlugin._target!==null},isTransitionOut:function(){return this.scenePlugin._target!==null&&this.scenePlugin._duration>0},isTransitionIn:function(){return this.settings.isTransition},isVisible:function(){return this.settings.visible},setVisible:function(v){return this.settings.visible=v,this},setActive:function(v,g){return v?this.resume(g):this.pause(g)},start:function(v){var g=this.events,m=this.settings;v&&(m.data=v),m.status=x.START,m.active=!0,m.visible=!0,g.emit(h.START,this),g.emit(h.READY,this,v)},shutdown:function(v){var g=this.events,m=this.settings;g.off(h.TRANSITION_INIT),g.off(h.TRANSITION_START),g.off(h.TRANSITION_COMPLETE),g.off(h.TRANSITION_OUT),m.status=x.SHUTDOWN,m.active=!1,m.visible=!1,g.emit(h.SHUTDOWN,this,v)},destroy:function(){var v=this.events,g=this.settings;g.status=x.DESTROYED,g.active=!1,g.visible=!1,v.emit(h.DESTROY,this),v.removeAllListeners();for(var m=["scene","game","anims","cache","plugins","registry","sound","textures","add","camera","displayList","events","make","scenePlugin","updateList"],y=0;y<m.length;y++)this[m[y]]=null}});n.exports=u},89993:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T={PENDING:0,INIT:1,START:2,LOADING:3,CREATING:4,RUNNING:5,PAUSED:6,SLEEPING:7,SHUTDOWN:8,DESTROYED:9};n.exports=T},69830:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="addedtoscene"},7919:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="boot"},46763:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="create"},11763:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="destroy"},71555:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="pause"},36735:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="postupdate"},3809:n=>{/**
 * @author       samme
 * @copyright    2021 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="prerender"},90716:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="preupdate"},58262:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="ready"},91633:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="removedfromscene"},10319:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="render"},87132:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="resume"},81961:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="shutdown"},90194:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="sleep"},6265:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="start"},33178:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="transitioncomplete"},43063:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="transitioninit"},11259:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="transitionout"},61611:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="transitionstart"},45209:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="transitionwake"},22966:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="update"},21747:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="wake"},44594:(n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports={ADDED_TO_SCENE:r(69830),BOOT:r(7919),CREATE:r(46763),DESTROY:r(11763),PAUSE:r(71555),POST_UPDATE:r(36735),PRE_RENDER:r(3809),PRE_UPDATE:r(90716),READY:r(58262),REMOVED_FROM_SCENE:r(91633),RENDER:r(10319),RESUME:r(87132),SHUTDOWN:r(81961),SLEEP:r(90194),START:r(6265),TRANSITION_COMPLETE:r(33178),TRANSITION_INIT:r(43063),TRANSITION_OUT:r(11259),TRANSITION_START:r(61611),TRANSITION_WAKE:r(45209),UPDATE:r(22966),WAKE:r(21747)}},62194:(n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(89993),x=r(79291),d={Events:r(44594),GetPhysicsPlugins:r(27397),GetScenePlugins:r(52106),SceneManager:r(60903),ScenePlugin:r(52209),Settings:r(55681),Systems:r(2368)};d=x(!1,d,o),n.exports=d},30341:(n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @author       Pavle Goloskokovic <pgoloskokovic@gmail.com> (http://prunegames.com)
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(83419),x=r(50792),d=r(14463),h=r(79291),l=r(29747),a=new o({Extends:x,initialize:function(c,u,v){x.call(this),this.manager=c,this.key=u,this.isPlaying=!1,this.isPaused=!1,this.totalRate=1,this.duration=this.duration||0,this.totalDuration=this.totalDuration||0,this.config={mute:!1,volume:1,rate:1,detune:0,seek:0,loop:!1,delay:0,pan:0},this.currentConfig=this.config,this.config=h(this.config,v),this.markers={},this.currentMarker=null,this.pendingRemove=!1},addMarker:function(f){return!f||!f.name||typeof f.name!="string"?!1:this.markers[f.name]?(console.error("addMarker "+f.name+" already exists in Sound"),!1):(f=h(!0,{name:"",start:0,duration:this.totalDuration-(f.start||0),config:{mute:!1,volume:1,rate:1,detune:0,seek:0,loop:!1,delay:0,pan:0}},f),this.markers[f.name]=f,!0)},updateMarker:function(f){return!f||!f.name||typeof f.name!="string"?!1:this.markers[f.name]?(this.markers[f.name]=h(!0,this.markers[f.name],f),!0):(console.warn("Audio Marker: "+f.name+" missing in Sound: "+this.key),!1)},removeMarker:function(f){var c=this.markers[f];return c?(this.markers[f]=null,c):null},play:function(f,c){if(f===void 0&&(f=""),typeof f=="object"&&(c=f,f=""),typeof f!="string")return!1;if(!f)this.currentMarker=null,this.currentConfig=this.config,this.duration=this.totalDuration;else{if(!this.markers[f])return console.warn("Marker: "+f+" missing in Sound: "+this.key),!1;this.currentMarker=this.markers[f],this.currentConfig=this.currentMarker.config,this.duration=this.currentMarker.duration}return this.resetConfig(),this.currentConfig=h(this.currentConfig,c),this.isPlaying=!0,this.isPaused=!1,!0},pause:function(){return this.isPaused||!this.isPlaying?!1:(this.isPlaying=!1,this.isPaused=!0,!0)},resume:function(){return!this.isPaused||this.isPlaying?!1:(this.isPlaying=!0,this.isPaused=!1,!0)},stop:function(){return!this.isPaused&&!this.isPlaying?!1:(this.isPlaying=!1,this.isPaused=!1,this.resetConfig(),!0)},applyConfig:function(){this.mute=this.currentConfig.mute,this.volume=this.currentConfig.volume,this.rate=this.currentConfig.rate,this.detune=this.currentConfig.detune,this.loop=this.currentConfig.loop,this.pan=this.currentConfig.pan},resetConfig:function(){this.currentConfig.seek=0,this.currentConfig.delay=0},update:l,calculateRate:function(){var f=1.0005777895065548,c=this.currentConfig.detune+this.manager.detune,u=Math.pow(f,c);this.totalRate=this.currentConfig.rate*this.manager.rate*u},destroy:function(){this.pendingRemove||(this.stop(),this.emit(d.DESTROY,this),this.removeAllListeners(),this.pendingRemove=!0,this.manager=null,this.config=null,this.currentConfig=null,this.markers=null,this.currentMarker=null)}});n.exports=a},85034:(n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @author       Pavle Goloskokovic <pgoloskokovic@gmail.com> (http://prunegames.com)
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(83419),x=r(41786),d=r(50792),h=r(14463),l=r(8443),a=r(46710),f=r(58731),c=r(29747),u=r(26099),v=new o({Extends:d,initialize:function(m){d.call(this),this.game=m,this.jsonCache=m.cache.json,this.sounds=[],this.mute=!1,this.volume=1,this.pauseOnBlur=!0,this._rate=1,this._detune=0,this.locked=this.locked||!1,this.unlocked=!1,this.gameLostFocus=!1,this.listenerPosition=new u;var y=m.events;y.on(l.BLUR,this.onGameBlur,this),y.on(l.FOCUS,this.onGameFocus,this),y.on(l.PRE_STEP,this.update,this),y.once(l.DESTROY,this.destroy,this)},add:c,addAudioSprite:function(g,m){m===void 0&&(m={});var y=this.add(g,m);y.spritemap=this.jsonCache.get(g).spritemap;for(var C in y.spritemap)if(y.spritemap.hasOwnProperty(C)){var b=x(m),M=y.spritemap[C];b.loop=M.hasOwnProperty("loop")?M.loop:!1,y.addMarker({name:C,start:M.start,duration:M.end-M.start,config:b})}return y},get:function(g){return f(this.sounds,"key",g)},getAll:function(g){return g?a(this.sounds,"key",g):a(this.sounds)},getAllPlaying:function(){return a(this.sounds,"isPlaying",!0)},play:function(g,m){var y=this.add(g);return y.once(h.COMPLETE,y.destroy,y),m?m.name?(y.addMarker(m),y.play(m.name)):y.play(m):y.play()},playAudioSprite:function(g,m,y){var C=this.addAudioSprite(g);return C.once(h.COMPLETE,C.destroy,C),C.play(m,y)},remove:function(g){var m=this.sounds.indexOf(g);return m!==-1?(g.destroy(),this.sounds.splice(m,1),!0):!1},removeAll:function(){this.sounds.forEach(function(g){g.destroy()}),this.sounds.length=0},removeByKey:function(g){for(var m=0,y=this.sounds.length-1;y>=0;y--){var C=this.sounds[y];C.key===g&&(C.destroy(),this.sounds.splice(y,1),m++)}return m},pauseAll:function(){this.forEachActiveSound(function(g){g.pause()}),this.emit(h.PAUSE_ALL,this)},resumeAll:function(){this.forEachActiveSound(function(g){g.resume()}),this.emit(h.RESUME_ALL,this)},setListenerPosition:c,stopAll:function(){this.forEachActiveSound(function(g){g.stop()}),this.emit(h.STOP_ALL,this)},stopByKey:function(g){var m=0;return this.getAll(g).forEach(function(y){y.stop()&&m++}),m},isPlaying:function(g){var m=this.sounds,y=m.length-1,C;if(g===void 0){for(;y>=0;y--)if(C=this.sounds[y],C.isPlaying)return!0}else for(;y>=0;y--)if(C=this.sounds[y],C.key===g&&C.isPlaying)return!0;return!1},unlock:c,onBlur:c,onFocus:c,onGameBlur:function(){this.gameLostFocus=!0,this.pauseOnBlur&&this.onBlur()},onGameFocus:function(){this.gameLostFocus=!1,this.pauseOnBlur&&this.onFocus()},update:function(g,m){this.unlocked&&(this.unlocked=!1,this.locked=!1,this.emit(h.UNLOCKED,this));for(var y=this.sounds.length-1;y>=0;y--)this.sounds[y].pendingRemove&&this.sounds.splice(y,1);this.sounds.forEach(function(C){C.update(g,m)})},destroy:function(){this.game.events.off(l.BLUR,this.onGameBlur,this),this.game.events.off(l.FOCUS,this.onGameFocus,this),this.game.events.off(l.PRE_STEP,this.update,this),this.removeAllListeners(),this.removeAll(),this.sounds.length=0,this.sounds=null,this.listenerPosition=null,this.game=null},forEachActiveSound:function(g,m){var y=this;this.sounds.forEach(function(C,b){C&&!C.pendingRemove&&g.call(m||y,C,b,y.sounds)})},setRate:function(g){return this.rate=g,this},rate:{get:function(){return this._rate},set:function(g){this._rate=g,this.forEachActiveSound(function(m){m.calculateRate()}),this.emit(h.GLOBAL_RATE,this,g)}},setDetune:function(g){return this.detune=g,this},detune:{get:function(){return this._detune},set:function(g){this._detune=g,this.forEachActiveSound(function(m){m.calculateRate()}),this.emit(h.GLOBAL_DETUNE,this,g)}}});n.exports=v},14747:(n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @author       Pavle Goloskokovic <pgoloskokovic@gmail.com> (http://prunegames.com)
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(33684),x=r(25960),d=r(57490),h={create:function(l){var a=l.config.audio,f=l.device.audio;return a.noAudio||!f.webAudio&&!f.audioData?new x(l):f.webAudio&&!a.disableWebAudio?new d(l):new o(l)}};n.exports=h},19723:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="complete"},98882:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="decodedall"},57506:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="decoded"},73146:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="destroy"},11305:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="detune"},40577:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="detune"},30333:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="mute"},20394:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="rate"},21802:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="volume"},1299:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="looped"},99190:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="loop"},97125:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="mute"},89259:n=>{/**
 * @author       pi-kei
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="pan"},79986:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="pauseall"},17586:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="pause"},19618:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="play"},42306:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="rate"},10387:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="resumeall"},48959:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="resume"},9960:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="seek"},19180:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="stopall"},98328:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="stop"},50401:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="unlocked"},52498:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="volume"},14463:(n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports={COMPLETE:r(19723),DECODED:r(57506),DECODED_ALL:r(98882),DESTROY:r(73146),DETUNE:r(11305),GLOBAL_DETUNE:r(40577),GLOBAL_MUTE:r(30333),GLOBAL_RATE:r(20394),GLOBAL_VOLUME:r(21802),LOOP:r(99190),LOOPED:r(1299),MUTE:r(97125),PAN:r(89259),PAUSE_ALL:r(79986),PAUSE:r(17586),PLAY:r(19618),RATE:r(42306),RESUME_ALL:r(10387),RESUME:r(48959),SEEK:r(9960),STOP_ALL:r(19180),STOP:r(98328),UNLOCKED:r(50401),VOLUME:r(52498)}},64895:(n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @author       Pavle Goloskokovic <pgoloskokovic@gmail.com> (http://prunegames.com)
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(30341),x=r(83419),d=r(14463),h=r(45319),l=new x({Extends:o,initialize:function(f,c,u){if(u===void 0&&(u={}),this.tags=f.game.cache.audio.get(c),!this.tags)throw new Error('No cached audio asset with key "'+c);this.audio=null,this.startTime=0,this.previousTime=0,this.duration=this.tags[0].duration,this.totalDuration=this.tags[0].duration,o.call(this,f,c,u)},play:function(a,f){return this.manager.isLocked(this,"play",[a,f])||!o.prototype.play.call(this,a,f)||!this.pickAndPlayAudioTag()?!1:(this.emit(d.PLAY,this),!0)},pause:function(){return this.manager.isLocked(this,"pause")||this.startTime>0||!o.prototype.pause.call(this)?!1:(this.currentConfig.seek=this.audio.currentTime-(this.currentMarker?this.currentMarker.start:0),this.stopAndReleaseAudioTag(),this.emit(d.PAUSE,this),!0)},resume:function(){return this.manager.isLocked(this,"resume")||this.startTime>0||!o.prototype.resume.call(this)||!this.pickAndPlayAudioTag()?!1:(this.emit(d.RESUME,this),!0)},stop:function(){return this.manager.isLocked(this,"stop")||!o.prototype.stop.call(this)?!1:(this.stopAndReleaseAudioTag(),this.emit(d.STOP,this),!0)},pickAndPlayAudioTag:function(){if(!this.pickAudioTag())return this.reset(),!1;var a=this.currentConfig.seek,f=this.currentConfig.delay,c=(this.currentMarker?this.currentMarker.start:0)+a;return this.previousTime=c,this.audio.currentTime=c,this.applyConfig(),f===0?(this.startTime=0,this.audio.paused&&this.playCatchPromise()):(this.startTime=window.performance.now()+f*1e3,this.audio.paused||this.audio.pause()),this.resetConfig(),!0},pickAudioTag:function(){if(this.audio)return!0;for(var a=0;a<this.tags.length;a++){var f=this.tags[a];if(f.dataset.used==="false")return f.dataset.used="true",this.audio=f,!0}if(!this.manager.override)return!1;var c=[];this.manager.forEachActiveSound(function(v){v.key===this.key&&v.audio&&c.push(v)},this),c.sort(function(v,g){return v.loop===g.loop?g.seek/g.duration-v.seek/v.duration:v.loop?1:-1});var u=c[0];return this.audio=u.audio,u.reset(),u.audio=null,u.startTime=0,u.previousTime=0,!0},playCatchPromise:function(){var a=this.audio.play();a&&a.catch(function(f){console.warn(f)})},stopAndReleaseAudioTag:function(){this.startTime=0,this.previousTime=0,this.audio&&(this.audio.pause(),this.audio.dataset.used="false",this.audio=null)},reset:function(){o.prototype.stop.call(this)},onBlur:function(){this.isPlaying=!1,this.isPaused=!0,this.currentConfig.seek=this.audio.currentTime-(this.currentMarker?this.currentMarker.start:0),this.currentConfig.delay=Math.max(0,(this.startTime-window.performance.now())/1e3),this.stopAndReleaseAudioTag()},onFocus:function(){this.isPlaying=!0,this.isPaused=!1,this.pickAndPlayAudioTag()},update:function(a){if(this.isPlaying){if(this.startTime>0){this.startTime<a-this.manager.audioPlayDelay&&(this.audio.currentTime+=Math.max(0,a-this.startTime)/1e3,this.startTime=0,this.previousTime=this.audio.currentTime,this.playCatchPromise());return}var f=this.currentMarker?this.currentMarker.start:0,c=f+this.duration,u=this.audio.currentTime;if(this.currentConfig.loop)u>=c-this.manager.loopEndOffset?(this.audio.currentTime=f+Math.max(0,u-c),u=this.audio.currentTime):u<f&&(this.audio.currentTime+=f,u=this.audio.currentTime),u<this.previousTime&&this.emit(d.LOOPED,this);else if(u>=c){this.reset(),this.stopAndReleaseAudioTag(),this.emit(d.COMPLETE,this);return}this.previousTime=u}},destroy:function(){o.prototype.destroy.call(this),this.tags=null,this.audio&&this.stopAndReleaseAudioTag()},updateMute:function(){this.audio&&(this.audio.muted=this.currentConfig.mute||this.manager.mute)},updateVolume:function(){this.audio&&(this.audio.volume=h(this.currentConfig.volume*this.manager.volume,0,1))},calculateRate:function(){o.prototype.calculateRate.call(this),this.audio&&(this.audio.playbackRate=this.totalRate)},mute:{get:function(){return this.currentConfig.mute},set:function(a){this.currentConfig.mute=a,!this.manager.isLocked(this,"mute",a)&&(this.updateMute(),this.emit(d.MUTE,this,a))}},setMute:function(a){return this.mute=a,this},volume:{get:function(){return this.currentConfig.volume},set:function(a){this.currentConfig.volume=a,!this.manager.isLocked(this,"volume",a)&&(this.updateVolume(),this.emit(d.VOLUME,this,a))}},setVolume:function(a){return this.volume=a,this},rate:{get:function(){return this.currentConfig.rate},set:function(a){this.currentConfig.rate=a,!this.manager.isLocked(this,d.RATE,a)&&(this.calculateRate(),this.emit(d.RATE,this,a))}},setRate:function(a){return this.rate=a,this},detune:{get:function(){return this.currentConfig.detune},set:function(a){this.currentConfig.detune=a,!this.manager.isLocked(this,d.DETUNE,a)&&(this.calculateRate(),this.emit(d.DETUNE,this,a))}},setDetune:function(a){return this.detune=a,this},seek:{get:function(){return this.isPlaying?this.audio.currentTime-(this.currentMarker?this.currentMarker.start:0):this.isPaused?this.currentConfig.seek:0},set:function(a){this.manager.isLocked(this,"seek",a)||this.startTime>0||(this.isPlaying||this.isPaused)&&(a=Math.min(Math.max(0,a),this.duration),this.isPlaying?(this.previousTime=a,this.audio.currentTime=a):this.isPaused&&(this.currentConfig.seek=a),this.emit(d.SEEK,this,a))}},setSeek:function(a){return this.seek=a,this},loop:{get:function(){return this.currentConfig.loop},set:function(a){this.currentConfig.loop=a,!this.manager.isLocked(this,"loop",a)&&(this.audio&&(this.audio.loop=a),this.emit(d.LOOP,this,a))}},setLoop:function(a){return this.loop=a,this},pan:{get:function(){return this.currentConfig.pan},set:function(a){this.currentConfig.pan=a,this.emit(d.PAN,this,a)}},setPan:function(a){return this.pan=a,this}});n.exports=l},33684:(n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @author       Pavle Goloskokovic <pgoloskokovic@gmail.com> (http://prunegames.com)
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(85034),x=r(83419),d=r(14463),h=r(64895),l=new x({Extends:o,initialize:function(f){this.override=!0,this.audioPlayDelay=.1,this.loopEndOffset=.05,this.onBlurPausedSounds=[],this.locked="ontouchstart"in window,this.lockedActionsQueue=this.locked?[]:null,this._mute=!1,this._volume=1,o.call(this,f)},add:function(a,f){var c=new h(this,a,f);return this.sounds.push(c),c},unlock:function(){this.locked=!1;var a=this;if(this.game.cache.audio.entries.each(function(v,g){for(var m=0;m<g.length;m++)if(g[m].dataset.locked==="true")return a.locked=!0,!1;return!0}),!!this.locked){var f=!1,c=function(){f=!0},u=function(){if(f){f=!1;return}document.body.removeEventListener("touchmove",c),document.body.removeEventListener("touchend",u);var v=[];if(a.game.cache.audio.entries.each(function(m,y){for(var C=0;C<y.length;C++){var b=y[C];b.dataset.locked==="true"&&v.push(b)}return!0}),v.length!==0){var g=v[v.length-1];g.oncanplaythrough=function(){g.oncanplaythrough=null,v.forEach(function(m){m.dataset.locked="false"}),a.unlocked=!0},v.forEach(function(m){m.load()})}};this.once(d.UNLOCKED,function(){for(this.forEachActiveSound(function(g){g.currentMarker===null&&g.duration===0&&(g.duration=g.tags[0].duration),g.totalDuration=g.tags[0].duration});this.lockedActionsQueue.length;){var v=this.lockedActionsQueue.shift();v.sound[v.prop].apply?v.sound[v.prop].apply(v.sound,v.value||[]):v.sound[v.prop]=v.value}},this),document.body.addEventListener("touchmove",c,!1),document.body.addEventListener("touchend",u,!1)}},onBlur:function(){this.forEachActiveSound(function(a){a.isPlaying&&(this.onBlurPausedSounds.push(a),a.onBlur())})},onFocus:function(){this.onBlurPausedSounds.forEach(function(a){a.onFocus()}),this.onBlurPausedSounds.length=0},destroy:function(){o.prototype.destroy.call(this),this.onBlurPausedSounds.length=0,this.onBlurPausedSounds=null},isLocked:function(a,f,c){return a.tags[0].dataset.locked==="true"?(this.lockedActionsQueue.push({sound:a,prop:f,value:c}),!0):!1},setMute:function(a){return this.mute=a,this},mute:{get:function(){return this._mute},set:function(a){this._mute=a,this.forEachActiveSound(function(f){f.updateMute()}),this.emit(d.GLOBAL_MUTE,this,a)}},setVolume:function(a){return this.volume=a,this},volume:{get:function(){return this._volume},set:function(a){this._volume=a,this.forEachActiveSound(function(f){f.updateVolume()}),this.emit(d.GLOBAL_VOLUME,this,a)}}});n.exports=l},23717:(n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @author       Pavle Goloskokovic <pgoloskokovic@gmail.com> (http://prunegames.com)
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports={SoundManagerCreator:r(14747),Events:r(14463),BaseSound:r(30341),BaseSoundManager:r(85034),WebAudioSound:r(71741),WebAudioSoundManager:r(57490),HTML5AudioSound:r(64895),HTML5AudioSoundManager:r(33684),NoAudioSound:r(4603),NoAudioSoundManager:r(25960)}},4603:(n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @author       Pavle Goloskokovic <pgoloskokovic@gmail.com> (http://prunegames.com)
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(30341),x=r(83419),d=r(50792),h=r(79291),l=r(29747),a=function(){return!1},f=function(){return null},c=function(){return this},u=new x({Extends:d,initialize:function(g,m,y){y===void 0&&(y={}),d.call(this),this.manager=g,this.key=m,this.isPlaying=!1,this.isPaused=!1,this.totalRate=1,this.duration=0,this.totalDuration=0,this.config=h({mute:!1,volume:1,rate:1,detune:0,seek:0,loop:!1,delay:0,pan:0},y),this.currentConfig=this.config,this.mute=!1,this.volume=1,this.rate=1,this.detune=0,this.seek=0,this.loop=!1,this.pan=0,this.markers={},this.currentMarker=null,this.pendingRemove=!1},addMarker:a,updateMarker:a,removeMarker:f,play:a,pause:a,resume:a,stop:a,setMute:c,setVolume:c,setRate:c,setDetune:c,setSeek:c,setLoop:c,setPan:c,applyConfig:f,resetConfig:f,update:l,calculateRate:f,destroy:function(){o.prototype.destroy.call(this)}});n.exports=u},25960:(n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @author       Pavle Goloskokovic <pgoloskokovic@gmail.com> (http://prunegames.com)
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(85034),x=r(83419),d=r(50792),h=r(4603),l=r(29747),a=new x({Extends:d,initialize:function(c){d.call(this),this.game=c,this.sounds=[],this.mute=!1,this.volume=1,this.rate=1,this.detune=0,this.pauseOnBlur=!0,this.locked=!1},add:function(f,c){var u=new h(this,f,c);return this.sounds.push(u),u},addAudioSprite:function(f,c){var u=this.add(f,c);return u.spritemap={},u},get:function(f){return o.prototype.get.call(this,f)},getAll:function(f){return o.prototype.getAll.call(this,f)},play:function(f,c){return!1},playAudioSprite:function(f,c,u){return!1},remove:function(f){return o.prototype.remove.call(this,f)},removeAll:function(){return o.prototype.removeAll.call(this)},removeByKey:function(f){return o.prototype.removeByKey.call(this,f)},stopByKey:function(f){return o.prototype.stopByKey.call(this,f)},onBlur:l,onFocus:l,onGameBlur:l,onGameFocus:l,pauseAll:l,resumeAll:l,stopAll:l,update:l,setRate:l,setDetune:l,setMute:l,setVolume:l,unlock:l,forEachActiveSound:function(f,c){o.prototype.forEachActiveSound.call(this,f,c)},destroy:function(){o.prototype.destroy.call(this)}});n.exports=a},71741:(n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @author       Pavle Goloskokovic <pgoloskokovic@gmail.com> (http://prunegames.com)
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(30341),x=r(83419),d=r(14463),h=r(95540),l=new x({Extends:o,initialize:function(f,c,u){if(u===void 0&&(u={}),this.audioBuffer=f.game.cache.audio.get(c),!this.audioBuffer)throw new Error('Audio key "'+c+'" not found in cache');this.source=null,this.loopSource=null,this.muteNode=f.context.createGain(),this.volumeNode=f.context.createGain(),this.pannerNode=null,this.spatialNode=null,this.spatialSource=null,this.playTime=0,this.startTime=0,this.loopTime=0,this.rateUpdates=[],this.hasEnded=!1,this.hasLooped=!1,this.muteNode.connect(this.volumeNode),f.context.createPanner&&(this.spatialNode=f.context.createPanner(),this.volumeNode.connect(this.spatialNode)),f.context.createStereoPanner?(this.pannerNode=f.context.createStereoPanner(),f.context.createPanner?this.spatialNode.connect(this.pannerNode):this.volumeNode.connect(this.pannerNode),this.pannerNode.connect(f.destination)):f.context.createPanner?this.spatialNode.connect(f.destination):this.volumeNode.connect(f.destination),this.duration=this.audioBuffer.duration,this.totalDuration=this.audioBuffer.duration,o.call(this,f,c,u)},play:function(a,f){return o.prototype.play.call(this,a,f)?(this.stopAndRemoveBufferSource(),this.createAndStartBufferSource(),this.emit(d.PLAY,this),!0):!1},pause:function(){return this.manager.context.currentTime<this.startTime||!o.prototype.pause.call(this)?!1:(this.currentConfig.seek=this.getCurrentTime(),this.stopAndRemoveBufferSource(),this.emit(d.PAUSE,this),!0)},resume:function(){return this.manager.context.currentTime<this.startTime||!o.prototype.resume.call(this)?!1:(this.createAndStartBufferSource(),this.emit(d.RESUME,this),!0)},stop:function(){return o.prototype.stop.call(this)?(this.stopAndRemoveBufferSource(),this.emit(d.STOP,this),!0):!1},createAndStartBufferSource:function(){var a=this.currentConfig.seek,f=this.currentConfig.delay,c=this.manager.context.currentTime+f,u=(this.currentMarker?this.currentMarker.start:0)+a,v=this.duration-a;this.playTime=c-a,this.startTime=c,this.source=this.createBufferSource(),this.applyConfig(),this.source.start(Math.max(0,c),Math.max(0,u),Math.max(0,v)),this.resetConfig()},createAndStartLoopBufferSource:function(){var a=this.getLoopTime(),f=this.currentMarker?this.currentMarker.start:0,c=this.duration;this.loopTime=a,this.loopSource=this.createBufferSource(),this.loopSource.playbackRate.setValueAtTime(this.totalRate,0),this.loopSource.start(Math.max(0,a),Math.max(0,f),Math.max(0,c))},createBufferSource:function(){var a=this,f=this.manager.context.createBufferSource();return f.buffer=this.audioBuffer,f.connect(this.muteNode),f.onended=function(c){var u=c.target;(u===a.source||u===a.loopSource)&&(a.currentConfig.loop?a.hasLooped=!0:a.hasEnded=!0)},f},stopAndRemoveBufferSource:function(){if(this.source){var a=this.source;this.source=null,a.stop(),a.disconnect()}this.playTime=0,this.startTime=0,this.hasEnded=!1,this.stopAndRemoveLoopBufferSource()},stopAndRemoveLoopBufferSource:function(){this.loopSource&&(this.loopSource.stop(),this.loopSource.disconnect(),this.loopSource=null),this.loopTime=0},applyConfig:function(){this.rateUpdates.length=0,this.rateUpdates.push({time:0,rate:1});var a=this.currentConfig.source;if(a&&this.manager.context.createPanner){var f=this.spatialNode;f.panningModel=h(a,"panningModel","equalpower"),f.distanceModel=h(a,"distanceModel","inverse"),f.orientationX.value=h(a,"orientationX",0),f.orientationY.value=h(a,"orientationY",0),f.orientationZ.value=h(a,"orientationZ",-1),f.refDistance=h(a,"refDistance",1),f.maxDistance=h(a,"maxDistance",1e4),f.rolloffFactor=h(a,"rolloffFactor",1),f.coneInnerAngle=h(a,"coneInnerAngle",360),f.coneOuterAngle=h(a,"coneOuterAngle",0),f.coneOuterGain=h(a,"coneOuterGain",0),this.spatialSource=h(a,"follow",null),this.spatialSource||(f.positionX.value=h(a,"x",0),f.positionY.value=h(a,"y",0),f.positionZ.value=h(a,"z",0))}o.prototype.applyConfig.call(this)},x:{get:function(){return this.spatialNode?this.spatialNode.positionX:0},set:function(a){this.spatialNode&&(this.spatialNode.positionX.value=a)}},y:{get:function(){return this.spatialNode?this.spatialNode.positionY:0},set:function(a){this.spatialNode&&(this.spatialNode.positionY.value=a)}},update:function(){if(this.isPlaying&&this.spatialSource){var a=h(this.spatialSource,"x",null),f=h(this.spatialSource,"y",null);a&&a!==this._spatialx&&(this._spatialx=this.spatialNode.positionX.value=a),f&&f!==this._spatialy&&(this._spatialy=this.spatialNode.positionY.value=f)}this.hasEnded?(o.prototype.stop.call(this),this.stopAndRemoveBufferSource(),this.emit(d.COMPLETE,this)):this.hasLooped&&(this.hasLooped=!1,this.source=this.loopSource,this.loopSource=null,this.playTime=this.startTime=this.loopTime,this.rateUpdates.length=0,this.rateUpdates.push({time:0,rate:this.totalRate}),this.createAndStartLoopBufferSource(),this.emit(d.LOOPED,this))},destroy:function(){this.pendingRemove||(o.prototype.destroy.call(this),this.audioBuffer=null,this.stopAndRemoveBufferSource(),this.muteNode.disconnect(),this.muteNode=null,this.volumeNode.disconnect(),this.volumeNode=null,this.pannerNode&&(this.pannerNode.disconnect(),this.pannerNode=null),this.spatialNode&&(this.spatialNode.disconnect(),this.spatialNode=null,this.spatialSource=null),this.rateUpdates.length=0,this.rateUpdates=null)},calculateRate:function(){o.prototype.calculateRate.call(this);var a=this.manager.context.currentTime;this.source&&typeof this.totalRate=="number"&&this.source.playbackRate.setValueAtTime(this.totalRate,a),this.isPlaying&&(this.rateUpdates.push({time:Math.max(this.startTime,a)-this.playTime,rate:this.totalRate}),this.loopSource&&(this.stopAndRemoveLoopBufferSource(),this.createAndStartLoopBufferSource()))},getCurrentTime:function(){for(var a=0,f=0;f<this.rateUpdates.length;f++){var c=0;f<this.rateUpdates.length-1?c=this.rateUpdates[f+1].time:c=this.manager.context.currentTime-this.playTime,a+=(c-this.rateUpdates[f].time)*this.rateUpdates[f].rate}return a},getLoopTime:function(){for(var a=0,f=0;f<this.rateUpdates.length-1;f++)a+=(this.rateUpdates[f+1].time-this.rateUpdates[f].time)*this.rateUpdates[f].rate;var c=this.rateUpdates[this.rateUpdates.length-1];return this.playTime+c.time+(this.duration-a)/c.rate},rate:{get:function(){return this.currentConfig.rate},set:function(a){this.currentConfig.rate=a,this.calculateRate(),this.emit(d.RATE,this,a)}},setRate:function(a){return this.rate=a,this},detune:{get:function(){return this.currentConfig.detune},set:function(a){this.currentConfig.detune=a,this.calculateRate(),this.emit(d.DETUNE,this,a)}},setDetune:function(a){return this.detune=a,this},mute:{get:function(){return this.muteNode.gain.value===0},set:function(a){this.currentConfig.mute=a,this.muteNode.gain.setValueAtTime(a?0:1,0),this.emit(d.MUTE,this,a)}},setMute:function(a){return this.mute=a,this},volume:{get:function(){return this.volumeNode.gain.value},set:function(a){this.currentConfig.volume=a,this.volumeNode.gain.setValueAtTime(a,0),this.emit(d.VOLUME,this,a)}},setVolume:function(a){return this.volume=a,this},seek:{get:function(){return this.isPlaying?this.manager.context.currentTime<this.startTime?this.startTime-this.playTime:this.getCurrentTime():this.isPaused?this.currentConfig.seek:0},set:function(a){this.manager.context.currentTime<this.startTime||(this.isPlaying||this.isPaused)&&(a=Math.min(Math.max(0,a),this.duration),this.currentConfig.seek=a,this.isPlaying&&(this.stopAndRemoveBufferSource(),this.createAndStartBufferSource()),this.emit(d.SEEK,this,a))}},setSeek:function(a){return this.seek=a,this},loop:{get:function(){return this.currentConfig.loop},set:function(a){this.currentConfig.loop=a,this.isPlaying&&(this.stopAndRemoveLoopBufferSource(),a&&this.createAndStartLoopBufferSource()),this.emit(d.LOOP,this,a)}},setLoop:function(a){return this.loop=a,this},pan:{get:function(){return this.pannerNode?this.pannerNode.pan.value:0},set:function(a){this.currentConfig.pan=a,this.pannerNode&&this.pannerNode.pan.setValueAtTime(a,this.manager.context.currentTime),this.emit(d.PAN,this,a)}},setPan:function(a){return this.pan=a,this}});n.exports=l},57490:(n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @author       Pavle Goloskokovic <pgoloskokovic@gmail.com> (http://prunegames.com)
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(53134),x=r(85034),d=r(83419),h=r(14463),l=r(8443),a=r(71741),f=r(95540),c=new d({Extends:x,initialize:function(v){this.context=this.createAudioContext(v),this.masterMuteNode=this.context.createGain(),this.masterVolumeNode=this.context.createGain(),this.masterMuteNode.connect(this.masterVolumeNode),this.masterVolumeNode.connect(this.context.destination),this.destination=this.masterMuteNode,this.locked=this.context.state==="suspended",x.call(this,v),this.locked&&(v.isBooted?this.unlock():v.events.once(l.BOOT,this.unlock,this)),v.events.on(l.VISIBLE,this.onGameVisible,this)},onGameVisible:function(){var u=this.context;window.setTimeout(function(){u&&(u.suspend(),u.resume())},100)},createAudioContext:function(u){var v=u.config.audio;if(v.context)return v.context.resume(),v.context;if(window.hasOwnProperty("AudioContext"))return new AudioContext;if(window.hasOwnProperty("webkitAudioContext"))return new window.webkitAudioContext},setAudioContext:function(u){return this.context&&this.context.close(),this.masterMuteNode&&this.masterMuteNode.disconnect(),this.masterVolumeNode&&this.masterVolumeNode.disconnect(),this.context=u,this.masterMuteNode=u.createGain(),this.masterVolumeNode=u.createGain(),this.masterMuteNode.connect(this.masterVolumeNode),this.masterVolumeNode.connect(u.destination),this.destination=this.masterMuteNode,this},add:function(u,v){var g=new a(this,u,v);return this.sounds.push(g),g},decodeAudio:function(u,v){var g;Array.isArray(u)?g=u:g=[{key:u,data:v}];for(var m=this.game.cache.audio,y=g.length,C=0;C<g.length;C++){var b=g[C],M=b.key,w=b.data;typeof w=="string"&&(w=o(w));var R=(function(L,F){m.add(L,F),this.emit(h.DECODED,L),y--,y===0&&this.emit(h.DECODED_ALL)}).bind(this,M),A=(function(L,F){console.error("Error decoding audio: "+L+" - ",F?F.message:""),y--,y===0&&this.emit(h.DECODED_ALL)}).bind(this,M);this.context.decodeAudioData(w,R,A)}},setListenerPosition:function(u,v){return u===void 0&&(u=this.game.scale.width/2),v===void 0&&(v=this.game.scale.height/2),this.listenerPosition.set(u,v),this},unlock:function(){var u=this,v=document.body,g=function m(){if(u.context&&v){var y=v.removeEventListener.bind(v);u.context.resume().then(function(){y("touchstart",m),y("touchend",m),y("mousedown",m),y("mouseup",m),y("keydown",m),u.unlocked=!0},function(){y("touchstart",m),y("touchend",m),y("mousedown",m),y("mouseup",m),y("keydown",m)})}};v&&(v.addEventListener("touchstart",g,!1),v.addEventListener("touchend",g,!1),v.addEventListener("mousedown",g,!1),v.addEventListener("mouseup",g,!1),v.addEventListener("keydown",g,!1))},onBlur:function(){this.locked||this.context.suspend()},onFocus:function(){var u=this.context;u&&!this.locked&&(u.state==="suspended"||u.state==="interrupted")&&u.resume()},update:function(u,v){var g=this.context.listener;if(g&&g.positionX!==void 0){var m=f(this.listenerPosition,"x",null),y=f(this.listenerPosition,"y",null);m&&m!==this._spatialx&&(this._spatialx=g.positionX.value=m),y&&y!==this._spatialy&&(this._spatialy=g.positionY.value=y)}x.prototype.update.call(this,u,v),this.gameLostFocus||this.onFocus()},destroy:function(){if(this.destination=null,this.masterVolumeNode.disconnect(),this.masterVolumeNode=null,this.masterMuteNode.disconnect(),this.masterMuteNode=null,this.game.config.audio.context)this.context.suspend();else{var u=this;this.context.close().then(function(){u.context=null})}this.game.events.off(l.VISIBLE,this.onGameVisible,this),x.prototype.destroy.call(this)},setMute:function(u){return this.mute=u,this},mute:{get:function(){return this.masterMuteNode.gain.value===0},set:function(u){this.masterMuteNode.gain.setValueAtTime(u?0:1,0),this.emit(h.GLOBAL_MUTE,this,u)}},setVolume:function(u){return this.volume=u,this},volume:{get:function(){return this.masterVolumeNode.gain.value},set:function(u){this.masterVolumeNode.gain.setValueAtTime(u,0),this.emit(h.GLOBAL_VOLUME,this,u)}}});n.exports=c},73162:(n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(37105),x=r(83419),d=r(29747),h=r(19186),l=new x({initialize:function(f){this.parent=f,this.list=[],this.position=0,this.addCallback=d,this.removeCallback=d,this._sortKey=""},add:function(a,f){return f?o.Add(this.list,a):o.Add(this.list,a,0,this.addCallback,this)},addAt:function(a,f,c){return c?o.AddAt(this.list,a,f):o.AddAt(this.list,a,f,0,this.addCallback,this)},getAt:function(a){return this.list[a]},getIndex:function(a){return this.list.indexOf(a)},sort:function(a,f){return a?(f===void 0&&(f=function(c,u){return c[a]-u[a]}),h(this.list,f),this):this},getByName:function(a){return o.GetFirst(this.list,"name",a)},getRandom:function(a,f){return o.GetRandom(this.list,a,f)},getFirst:function(a,f,c,u){return o.GetFirst(this.list,a,f,c,u)},getAll:function(a,f,c,u){return o.GetAll(this.list,a,f,c,u)},count:function(a,f){return o.CountAllMatching(this.list,a,f)},swap:function(a,f){o.Swap(this.list,a,f)},moveTo:function(a,f){return o.MoveTo(this.list,a,f)},moveAbove:function(a,f){return o.MoveAbove(this.list,a,f)},moveBelow:function(a,f){return o.MoveBelow(this.list,a,f)},remove:function(a,f){return f?o.Remove(this.list,a):o.Remove(this.list,a,this.removeCallback,this)},removeAt:function(a,f){return f?o.RemoveAt(this.list,a):o.RemoveAt(this.list,a,this.removeCallback,this)},removeBetween:function(a,f,c){return c?o.RemoveBetween(this.list,a,f):o.RemoveBetween(this.list,a,f,this.removeCallback,this)},removeAll:function(a){for(var f=this.list.length;f--;)this.remove(this.list[f],a);return this},bringToTop:function(a){return o.BringToTop(this.list,a)},sendToBack:function(a){return o.SendToBack(this.list,a)},moveUp:function(a){return o.MoveUp(this.list,a),a},moveDown:function(a){return o.MoveDown(this.list,a),a},reverse:function(){return this.list.reverse(),this},shuffle:function(){return o.Shuffle(this.list),this},replace:function(a,f){return o.Replace(this.list,a,f)},exists:function(a){return this.list.indexOf(a)>-1},setAll:function(a,f,c,u){return o.SetAll(this.list,a,f,c,u),this},each:function(a,f){for(var c=[null],u=2;u<arguments.length;u++)c.push(arguments[u]);for(u=0;u<this.list.length;u++)c[0]=this.list[u],a.apply(f,c)},shutdown:function(){this.removeAll(),this.list=[]},destroy:function(){this.removeAll(),this.parent=null,this.addCallback=null,this.removeCallback=null},length:{get:function(){return this.list.length}},first:{get:function(){return this.position=0,this.list.length>0?this.list[0]:null}},last:{get:function(){return this.list.length>0?(this.position=this.list.length-1,this.list[this.position]):null}},next:{get:function(){return this.position<this.list.length?(this.position++,this.list[this.position]):null}},previous:{get:function(){return this.position>0?(this.position--,this.list[this.position]):null}}});n.exports=l},90330:(n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(83419),x=new o({initialize:function(h){this.entries={},this.size=0,this.setAll(h)},setAll:function(d){if(Array.isArray(d))for(var h=0;h<d.length;h++)this.set(d[h][0],d[h][1]);return this},set:function(d,h){return this.has(d)||this.size++,this.entries[d]=h,this},get:function(d){if(this.has(d))return this.entries[d]},getArray:function(){var d=[],h=this.entries;for(var l in h)d.push(h[l]);return d},has:function(d){return this.entries.hasOwnProperty(d)},delete:function(d){return this.has(d)&&(delete this.entries[d],this.size--),this},clear:function(){return Object.keys(this.entries).forEach(function(d){delete this.entries[d]},this),this.size=0,this},keys:function(){return Object.keys(this.entries)},values:function(){var d=[],h=this.entries;for(var l in h)d.push(h[l]);return d},dump:function(){var d=this.entries;console.group("Map");for(var h in d)console.log(h,d[h]);console.groupEnd()},each:function(d){var h=this.entries;for(var l in h)if(d(l,h[l])===!1)break;return this},contains:function(d){var h=this.entries;for(var l in h)if(h[l]===d)return!0;return!1},merge:function(d,h){h===void 0&&(h=!1);var l=this.entries,a=d.entries;for(var f in a)l.hasOwnProperty(f)&&h?l[f]=a[f]:this.set(f,a[f]);return this}});n.exports=x},25774:(n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(83419),x=r(50792),d=r(82348),h=new o({Extends:x,initialize:function(){x.call(this),this._pending=[],this._active=[],this._destroy=[],this._toProcess=0,this.checkQueue=!1},isActive:function(l){return this._active.indexOf(l)>-1},isPending:function(l){return this._toProcess>0&&this._pending.indexOf(l)>-1},isDestroying:function(l){return this._destroy.indexOf(l)>-1},add:function(l){return this.checkQueue&&this.isActive(l)&&!this.isDestroying(l)||this.isPending(l)||(this._pending.push(l),this._toProcess++),l},remove:function(l){if(this.isPending(l)){var a=this._pending,f=a.indexOf(l);f!==-1&&a.splice(f,1)}else this.isActive(l)&&(this._destroy.push(l),this._toProcess++);return l},removeAll:function(){for(var l=this._active,a=this._destroy,f=l.length;f--;)a.push(l[f]),this._toProcess++;return this},update:function(){if(this._toProcess===0)return this._active;var l=this._destroy,a=this._active,f,c;for(f=0;f<l.length;f++){c=l[f];var u=a.indexOf(c);u!==-1&&(a.splice(u,1),this.emit(d.PROCESS_QUEUE_REMOVE,c))}for(l.length=0,l=this._pending,f=0;f<l.length;f++)c=l[f],(!this.checkQueue||this.checkQueue&&a.indexOf(c)===-1)&&(a.push(c),this.emit(d.PROCESS_QUEUE_ADD,c));return l.length=0,this._toProcess=0,a},getActive:function(){return this._active},length:{get:function(){return this._active.length}},destroy:function(){this._toProcess=0,this._pending=[],this._active=[],this._destroy=[]}});n.exports=h},59542:(n,T,r)=>{/**
 * @author       Vladimir Agafonkin
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(43886);function x(w){if(!(this instanceof x))return new x(w);this._maxEntries=Math.max(4,w||9),this._minEntries=Math.max(2,Math.ceil(this._maxEntries*.4)),this.clear()}x.prototype={all:function(){return this._all(this.data,[])},search:function(w){var R=this.data,A=[],L=this.toBBox;if(!C(w,R))return A;for(var F=[],G,I,B,k;R;){for(G=0,I=R.children.length;G<I;G++)B=R.children[G],k=R.leaf?L(B):B,C(w,k)&&(R.leaf?A.push(B):y(w,k)?this._all(B,A):F.push(B));R=F.pop()}return A},collides:function(w){var R=this.data,A=this.toBBox;if(!C(w,R))return!1;for(var L=[],F,G,I,B;R;){for(F=0,G=R.children.length;F<G;F++)if(I=R.children[F],B=R.leaf?A(I):I,C(w,B)){if(R.leaf||y(w,B))return!0;L.push(I)}R=L.pop()}return!1},load:function(w){if(!(w&&w.length))return this;if(w.length<this._minEntries){for(var R=0,A=w.length;R<A;R++)this.insert(w[R]);return this}var L=this._build(w.slice(),0,w.length-1,0);if(!this.data.children.length)this.data=L;else if(this.data.height===L.height)this._splitRoot(this.data,L);else{if(this.data.height<L.height){var F=this.data;this.data=L,L=F}this._insert(L,this.data.height-L.height-1,!0)}return this},insert:function(w){return w&&this._insert(w,this.data.height-1),this},clear:function(){return this.data=b([]),this},remove:function(w,R){if(!w)return this;for(var A=this.data,L=this.toBBox(w),F=[],G=[],I,B,k,U;A||F.length;){if(A||(A=F.pop(),B=F[F.length-1],I=G.pop(),U=!0),A.leaf&&(k=d(w,A.children,R),k!==-1))return A.children.splice(k,1),F.push(A),this._condense(F),this;!U&&!A.leaf&&y(A,L)?(F.push(A),G.push(I),I=0,B=A,A=A.children[0]):B?(I++,A=B.children[I],U=!1):A=null}return this},toBBox:function(w){return w},compareMinX:f,compareMinY:c,toJSON:function(){return this.data},fromJSON:function(w){return this.data=w,this},_all:function(w,R){for(var A=[];w;)w.leaf?R.push.apply(R,w.children):A.push.apply(A,w.children),w=A.pop();return R},_build:function(w,R,A,L){var F=A-R+1,G=this._maxEntries,I;if(F<=G)return I=b(w.slice(R,A+1)),h(I,this.toBBox),I;L||(L=Math.ceil(Math.log(F)/Math.log(G)),G=Math.ceil(F/Math.pow(G,L-1))),I=b([]),I.leaf=!1,I.height=L;var B=Math.ceil(F/G),k=B*Math.ceil(Math.sqrt(G)),U,H,X,j;for(M(w,R,A,k,this.compareMinX),U=R;U<=A;U+=k)for(X=Math.min(U+k-1,A),M(w,U,X,B,this.compareMinY),H=U;H<=X;H+=B)j=Math.min(H+B-1,X),I.children.push(this._build(w,H,j,L-1));return h(I,this.toBBox),I},_chooseSubtree:function(w,R,A,L){for(var F,G,I,B,k,U,H,X;L.push(R),!(R.leaf||L.length-1===A);){for(H=X=1/0,F=0,G=R.children.length;F<G;F++)I=R.children[F],k=u(I),U=g(w,I)-k,U<X?(X=U,H=k<H?k:H,B=I):U===X&&k<H&&(H=k,B=I);R=B||R.children[0]}return R},_insert:function(w,R,A){var L=this.toBBox,F=A?w:L(w),G=[],I=this._chooseSubtree(F,this.data,R,G);for(I.children.push(w),a(I,F);R>=0&&G[R].children.length>this._maxEntries;)this._split(G,R),R--;this._adjustParentBBoxes(F,G,R)},_split:function(w,R){var A=w[R],L=A.children.length,F=this._minEntries;this._chooseSplitAxis(A,F,L);var G=this._chooseSplitIndex(A,F,L),I=b(A.children.splice(G,A.children.length-G));I.height=A.height,I.leaf=A.leaf,h(A,this.toBBox),h(I,this.toBBox),R?w[R-1].children.push(I):this._splitRoot(A,I)},_splitRoot:function(w,R){this.data=b([w,R]),this.data.height=w.height+1,this.data.leaf=!1,h(this.data,this.toBBox)},_chooseSplitIndex:function(w,R,A){var L,F,G,I,B,k,U,H;for(k=U=1/0,L=R;L<=A-R;L++)F=l(w,0,L,this.toBBox),G=l(w,L,A,this.toBBox),I=m(F,G),B=u(F)+u(G),I<k?(k=I,H=L,U=B<U?B:U):I===k&&B<U&&(U=B,H=L);return H},_chooseSplitAxis:function(w,R,A){var L=w.leaf?this.compareMinX:f,F=w.leaf?this.compareMinY:c,G=this._allDistMargin(w,R,A,L),I=this._allDistMargin(w,R,A,F);G<I&&w.children.sort(L)},_allDistMargin:function(w,R,A,L){w.children.sort(L);var F=this.toBBox,G=l(w,0,R,F),I=l(w,A-R,A,F),B=v(G)+v(I),k,U;for(k=R;k<A-R;k++)U=w.children[k],a(G,w.leaf?F(U):U),B+=v(G);for(k=A-R-1;k>=R;k--)U=w.children[k],a(I,w.leaf?F(U):U),B+=v(I);return B},_adjustParentBBoxes:function(w,R,A){for(var L=A;L>=0;L--)a(R[L],w)},_condense:function(w){for(var R=w.length-1,A;R>=0;R--)w[R].children.length===0?R>0?(A=w[R-1].children,A.splice(A.indexOf(w[R]),1)):this.clear():h(w[R],this.toBBox)},compareMinX:function(w,R){return w.left-R.left},compareMinY:function(w,R){return w.top-R.top},toBBox:function(w){return{minX:w.left,minY:w.top,maxX:w.right,maxY:w.bottom}}};function d(w,R,A){if(!A)return R.indexOf(w);for(var L=0;L<R.length;L++)if(A(w,R[L]))return L;return-1}function h(w,R){l(w,0,w.children.length,R,w)}function l(w,R,A,L,F){F||(F=b(null)),F.minX=1/0,F.minY=1/0,F.maxX=-1/0,F.maxY=-1/0;for(var G=R,I;G<A;G++)I=w.children[G],a(F,w.leaf?L(I):I);return F}function a(w,R){return w.minX=Math.min(w.minX,R.minX),w.minY=Math.min(w.minY,R.minY),w.maxX=Math.max(w.maxX,R.maxX),w.maxY=Math.max(w.maxY,R.maxY),w}function f(w,R){return w.minX-R.minX}function c(w,R){return w.minY-R.minY}function u(w){return(w.maxX-w.minX)*(w.maxY-w.minY)}function v(w){return w.maxX-w.minX+(w.maxY-w.minY)}function g(w,R){return(Math.max(R.maxX,w.maxX)-Math.min(R.minX,w.minX))*(Math.max(R.maxY,w.maxY)-Math.min(R.minY,w.minY))}function m(w,R){var A=Math.max(w.minX,R.minX),L=Math.max(w.minY,R.minY),F=Math.min(w.maxX,R.maxX),G=Math.min(w.maxY,R.maxY);return Math.max(0,F-A)*Math.max(0,G-L)}function y(w,R){return w.minX<=R.minX&&w.minY<=R.minY&&R.maxX<=w.maxX&&R.maxY<=w.maxY}function C(w,R){return R.minX<=w.maxX&&R.minY<=w.maxY&&R.maxX>=w.minX&&R.maxY>=w.minY}function b(w){return{children:w,height:1,leaf:!0,minX:1/0,minY:1/0,maxX:-1/0,maxY:-1/0}}function M(w,R,A,L,F){for(var G=[R,A],I;G.length;)A=G.pop(),R=G.pop(),!(A-R<=L)&&(I=R+Math.ceil((A-R)/L/2)*L,o(w,I,R,A,F),G.push(R,I,I,A))}n.exports=x},35072:(n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(83419),x=new o({initialize:function(h){if(this.entries=[],Array.isArray(h))for(var l=0;l<h.length;l++)this.set(h[l])},set:function(d){return this.entries.indexOf(d)===-1&&this.entries.push(d),this},get:function(d,h){for(var l=0;l<this.entries.length;l++){var a=this.entries[l];if(a[d]===h)return a}},getArray:function(){return this.entries.slice(0)},delete:function(d){var h=this.entries.indexOf(d);return h>-1&&this.entries.splice(h,1),this},dump:function(){console.group("Set");for(var d=0;d<this.entries.length;d++){var h=this.entries[d];console.log(h)}console.groupEnd()},each:function(d,h){var l,a=this.entries.slice(),f=a.length;if(h)for(l=0;l<f&&d.call(h,a[l],l)!==!1;l++);else for(l=0;l<f&&d(a[l],l)!==!1;l++);return this},iterate:function(d,h){var l,a=this.entries.length;if(h)for(l=0;l<a&&d.call(h,this.entries[l],l)!==!1;l++);else for(l=0;l<a&&d(this.entries[l],l)!==!1;l++);return this},iterateLocal:function(d){var h,l=[];for(h=1;h<arguments.length;h++)l.push(arguments[h]);var a=this.entries.length;for(h=0;h<a;h++){var f=this.entries[h];f[d].apply(f,l)}return this},clear:function(){return this.entries.length=0,this},contains:function(d){return this.entries.indexOf(d)>-1},union:function(d){var h=new x;return d.entries.forEach(function(l){h.set(l)}),this.entries.forEach(function(l){h.set(l)}),h},intersect:function(d){var h=new x;return this.entries.forEach(function(l){d.contains(l)&&h.set(l)}),h},difference:function(d){var h=new x;return this.entries.forEach(function(l){d.contains(l)||h.set(l)}),h},size:{get:function(){return this.entries.length},set:function(d){return d<this.entries.length?this.entries.length=d:this.entries.length}}});n.exports=x},86555:(n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(45319),x=r(83419),d=r(56583),h=r(26099),l=new x({initialize:function(f,c,u,v){f===void 0&&(f=0),c===void 0&&(c=f),u===void 0&&(u=0),v===void 0&&(v=null),this._width=f,this._height=c,this._parent=v,this.aspectMode=u,this.aspectRatio=c===0?1:f/c,this.minWidth=0,this.minHeight=0,this.maxWidth=Number.MAX_VALUE,this.maxHeight=Number.MAX_VALUE,this.snapTo=new h},setAspectMode:function(a){return a===void 0&&(a=0),this.aspectMode=a,this.setSize(this._width,this._height)},setSnap:function(a,f){return a===void 0&&(a=0),f===void 0&&(f=a),this.snapTo.set(a,f),this.setSize(this._width,this._height)},setParent:function(a){return this._parent=a,this.setSize(this._width,this._height)},setMin:function(a,f){return a===void 0&&(a=0),f===void 0&&(f=a),this.minWidth=o(a,0,this.maxWidth),this.minHeight=o(f,0,this.maxHeight),this.setSize(this._width,this._height)},setMax:function(a,f){return a===void 0&&(a=Number.MAX_VALUE),f===void 0&&(f=a),this.maxWidth=o(a,this.minWidth,Number.MAX_VALUE),this.maxHeight=o(f,this.minHeight,Number.MAX_VALUE),this.setSize(this._width,this._height)},setSize:function(a,f){switch(a===void 0&&(a=0),f===void 0&&(f=a),this.aspectMode){case l.NONE:this._width=this.getNewWidth(d(a,this.snapTo.x)),this._height=this.getNewHeight(d(f,this.snapTo.y)),this.aspectRatio=this._height===0?1:this._width/this._height;break;case l.WIDTH_CONTROLS_HEIGHT:this._width=this.getNewWidth(d(a,this.snapTo.x)),this._height=this.getNewHeight(this._width*(1/this.aspectRatio),!1);break;case l.HEIGHT_CONTROLS_WIDTH:this._height=this.getNewHeight(d(f,this.snapTo.y)),this._width=this.getNewWidth(this._height*this.aspectRatio,!1);break;case l.FIT:this.constrain(a,f,!0);break;case l.ENVELOP:this.constrain(a,f,!1);break}return this},setAspectRatio:function(a){return this.aspectRatio=a,this.setSize(this._width,this._height)},resize:function(a,f){return this._width=this.getNewWidth(d(a,this.snapTo.x)),this._height=this.getNewHeight(d(f,this.snapTo.y)),this.aspectRatio=this._height===0?1:this._width/this._height,this},getNewWidth:function(a,f){return f===void 0&&(f=!0),a=o(a,this.minWidth,this.maxWidth),f&&this._parent&&a>this._parent.width&&(a=Math.max(this.minWidth,this._parent.width)),a},getNewHeight:function(a,f){return f===void 0&&(f=!0),a=o(a,this.minHeight,this.maxHeight),f&&this._parent&&a>this._parent.height&&(a=Math.max(this.minHeight,this._parent.height)),a},constrain:function(a,f,c){a===void 0&&(a=0),f===void 0&&(f=a),c===void 0&&(c=!0),a=this.getNewWidth(a),f=this.getNewHeight(f);var u=this.snapTo,v=f===0?1:a/f;return c&&this.aspectRatio>v||!c&&this.aspectRatio<v?(a=d(a,u.x),f=a/this.aspectRatio,u.y>0&&(f=d(f,u.y),a=f*this.aspectRatio)):(c&&this.aspectRatio<v||!c&&this.aspectRatio>v)&&(f=d(f,u.y),a=f*this.aspectRatio,u.x>0&&(a=d(a,u.x),f=a*(1/this.aspectRatio))),this._width=a,this._height=f,this},fitTo:function(a,f){return this.constrain(a,f,!0)},envelop:function(a,f){return this.constrain(a,f,!1)},setWidth:function(a){return this.setSize(a,this._height)},setHeight:function(a){return this.setSize(this._width,a)},toString:function(){return"[{ Size (width="+this._width+" height="+this._height+" aspectRatio="+this.aspectRatio+" aspectMode="+this.aspectMode+") }]"},setCSS:function(a){a&&a.style&&(a.style.width=this._width+"px",a.style.height=this._height+"px")},copy:function(a){return a.setAspectMode(this.aspectMode),a.aspectRatio=this.aspectRatio,a.setSize(this.width,this.height)},destroy:function(){this._parent=null,this.snapTo=null},width:{get:function(){return this._width},set:function(a){this.setSize(a,this._height)}},height:{get:function(){return this._height},set:function(a){this.setSize(this._width,a)}}});l.NONE=0,l.WIDTH_CONTROLS_HEIGHT=1,l.HEIGHT_CONTROLS_WIDTH=2,l.FIT=3,l.ENVELOP=4,n.exports=l},15238:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="add"},56187:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="remove"},82348:(n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports={PROCESS_QUEUE_ADD:r(15238),PROCESS_QUEUE_REMOVE:r(56187)}},41392:(n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports={Events:r(82348),List:r(73162),Map:r(90330),ProcessQueue:r(25774),RTree:r(59542),Set:r(35072),Size:r(86555)}},57382:(n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(83419),x=r(45319),d=r(40987),h=r(8054),l=r(50030),a=r(79237),f=new o({Extends:a,initialize:function(u,v,g,m,y){a.call(this,u,v,g,m,y),this.add("__BASE",0,0,0,m,y),this._source=this.frames.__BASE.source,this.canvas=this._source.image,this.context=this.canvas.getContext("2d",{willReadFrequently:!0}),this.width=m,this.height=y,this.imageData=this.context.getImageData(0,0,m,y),this.data=null,this.imageData&&(this.data=this.imageData.data),this.pixels=null,this.buffer,this.data&&(this.imageData.data.buffer?(this.buffer=this.imageData.data.buffer,this.pixels=new Uint32Array(this.buffer)):window.ArrayBuffer?(this.buffer=new ArrayBuffer(this.imageData.data.length),this.pixels=new Uint32Array(this.buffer)):this.pixels=this.imageData.data)},update:function(){return this.imageData=this.context.getImageData(0,0,this.width,this.height),this.data=this.imageData.data,this.imageData.data.buffer?(this.buffer=this.imageData.data.buffer,this.pixels=new Uint32Array(this.buffer)):window.ArrayBuffer?(this.buffer=new ArrayBuffer(this.imageData.data.length),this.pixels=new Uint32Array(this.buffer)):this.pixels=this.imageData.data,this.manager.game.config.renderType===h.WEBGL&&this.refresh(),this},draw:function(c,u,v,g){return g===void 0&&(g=!0),this.context.drawImage(v,c,u),g&&this.update(),this},drawFrame:function(c,u,v,g,m){v===void 0&&(v=0),g===void 0&&(g=0),m===void 0&&(m=!0);var y=this.manager.getFrame(c,u);if(y){var C=y.canvasData,b=y.cutWidth,M=y.cutHeight,w=y.source.resolution;this.context.drawImage(y.source.image,C.x,C.y,b,M,v,g,b/w,M/w),m&&this.update()}return this},setPixel:function(c,u,v,g,m,y){y===void 0&&(y=255),c=Math.abs(Math.floor(c)),u=Math.abs(Math.floor(u));var C=this.getIndex(c,u);if(C>-1){var b=this.context.getImageData(c,u,1,1);b.data[0]=v,b.data[1]=g,b.data[2]=m,b.data[3]=y,this.context.putImageData(b,c,u)}return this},putData:function(c,u,v,g,m,y,C){return g===void 0&&(g=0),m===void 0&&(m=0),y===void 0&&(y=c.width),C===void 0&&(C=c.height),this.context.putImageData(c,u,v,g,m,y,C),this},getData:function(c,u,v,g){c=x(Math.floor(c),0,this.width-1),u=x(Math.floor(u),0,this.height-1),v=x(v,1,this.width-c),g=x(g,1,this.height-u);var m=this.context.getImageData(c,u,v,g);return m},getPixel:function(c,u,v){v||(v=new d);var g=this.getIndex(c,u);if(g>-1){var m=this.data,y=m[g+0],C=m[g+1],b=m[g+2],M=m[g+3];v.setTo(y,C,b,M)}return v},getPixels:function(c,u,v,g){c===void 0&&(c=0),u===void 0&&(u=0),v===void 0&&(v=this.width),g===void 0&&(g=v),c=Math.abs(Math.round(c)),u=Math.abs(Math.round(u));for(var m=x(c,0,this.width),y=x(c+v,0,this.width),C=x(u,0,this.height),b=x(u+g,0,this.height),M=new d,w=[],R=C;R<b;R++){for(var A=[],L=m;L<y;L++)M=this.getPixel(L,R,M),A.push({x:L,y:R,color:M.color,alpha:M.alphaGL});w.push(A)}return w},getIndex:function(c,u){return c=Math.abs(Math.round(c)),u=Math.abs(Math.round(u)),c<this.width&&u<this.height?(c+u*this.width)*4:-1},refresh:function(){return this._source.update(),this},getCanvas:function(){return this.canvas},getContext:function(){return this.context},clear:function(c,u,v,g,m){return c===void 0&&(c=0),u===void 0&&(u=0),v===void 0&&(v=this.width),g===void 0&&(g=this.height),m===void 0&&(m=!0),this.context.clearRect(c,u,v,g),m&&this.update(),this},setSize:function(c,u){return u===void 0&&(u=c),(c!==this.width||u!==this.height)&&(this.canvas.width=c,this.canvas.height=u,this._source.width=c,this._source.height=u,this._source.isPowerOf2=l(c,u),this.frames.__BASE.setSize(c,u,0,0),this.width=c,this.height=u,this.refresh()),this},destroy:function(){a.prototype.destroy.call(this),this._source=null,this.canvas=null,this.context=null,this.imageData=null,this.data=null,this.pixels=null,this.buffer=null}});n.exports=f},81320:(n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(10312),x=r(38058),d=r(27919),h=r(83419),l=r(8054),a=r(4327),f=r(95540),c=r(36060),u=r(32302),v=r(79237),g=r(70554),m=new h({Extends:v,initialize:function(C,b,M,w,R){M===void 0&&(M=256),w===void 0&&(w=256),R===void 0&&(R=!0),this.type="DynamicTexture";var A=C.game.renderer,L=A&&A.type===l.CANVAS,F=L?d.create2D(this,M,w):[this];v.call(this,C,b,F,M,w),this.add("__BASE",0,0,0,M,w),this.renderer=A,this.width=-1,this.height=-1,this.isDrawing=!1,this.canvas=L?F:null,this.context=L?F.getContext("2d",{willReadFrequently:!0}):null,this.dirty=!1,this.isSpriteTexture=!0,this._eraseMode=!1,this.camera=new x(0,0,M,w).setScene(C.game.scene.systemScene,!1),this.renderTarget=L?null:new u(A,M,w,1,0,!1,!1,!0,!1),this.pipeline=L?null:A.pipelines.get(c.SINGLE_PIPELINE),this.setSize(M,w,R)},setSize:function(y,C,b){C===void 0&&(C=y),b===void 0&&(b=!0),b&&(y=Math.floor(y),C=Math.floor(C),y%2!==0&&y++,C%2!==0&&C++);var M=this.get(),w=M.source;if(y!==this.width||C!==this.height){this.canvas&&(this.canvas.width=y,this.canvas.height=C);var R=this.renderTarget;R&&(R.willResize(y,C)&&R.resize(y,C),R.texture!==w.glTexture&&this.renderer.deleteTexture(w.glTexture),this.setFromRenderTarget()),this.camera.setSize(y,C),w.width=y,w.height=C,M.setSize(y,C),this.width=y,this.height=C}else{var A=this.getSourceImage();M.cutX+y>A.width&&(y=A.width-M.cutX),M.cutY+C>A.height&&(C=A.height-M.cutY),M.setSize(y,C,M.cutX,M.cutY)}return this},setFromRenderTarget:function(){var y=this.get(),C=y.source,b=this.renderTarget;return C.isRenderTexture=!0,C.isGLTexture=!0,C.glTexture=b.texture,this},setIsSpriteTexture:function(y){return this.isSpriteTexture=y,this},fill:function(y,C,b,M,w,R){var A=this.camera,L=this.renderer;C===void 0&&(C=1),b===void 0&&(b=0),M===void 0&&(M=0),w===void 0&&(w=this.width),R===void 0&&(R=this.height);var F=y>>16&255,G=y>>8&255,I=y&255,B=this.renderTarget;if(A.preRender(),B){B.bind(!0);var k=this.pipeline.manager.set(this.pipeline),U=L.width/B.width,H=L.height/B.height,X=B.height-(M+R);k.drawFillRect(b*U,X*H,w*U,R*H,g.getTintFromFloats(I/255,G/255,F/255,1),C),B.unbind(!0)}else{var j=this.context;L.setContext(j),j.globalCompositeOperation="source-over",j.fillStyle="rgba("+F+","+G+","+I+","+C+")",j.fillRect(b,M,w,R),L.setContext()}return this.dirty=!0,this},clear:function(y,C,b,M){if(this.dirty){var w=this.context,R=this.renderTarget;R?R.clear(y,C,b,M):w&&(y!==void 0&&C!==void 0&&b!==void 0&&M!==void 0?w.clearRect(y,C,b,M):(w.save(),w.setTransform(1,0,0,1,0,0),w.clearRect(0,0,this.width,this.height),w.restore())),this.dirty=!1}return this},stamp:function(y,C,b,M,w){b===void 0&&(b=0),M===void 0&&(M=0);var R=f(w,"alpha",1),A=f(w,"tint",16777215),L=f(w,"angle",0),F=f(w,"rotation",0),G=f(w,"scale",1),I=f(w,"scaleX",G),B=f(w,"scaleY",G),k=f(w,"originX",.5),U=f(w,"originY",.5),H=f(w,"blendMode",0),X=f(w,"erase",!1),j=f(w,"skipBatch",!1),J=this.manager.resetStamp(R,A);return J.setAngle(0),L!==0?J.setAngle(L):F!==0&&J.setRotation(F),J.setScale(I,B),J.setTexture(y,C),J.setOrigin(k,U),J.setBlendMode(H),X&&(this._eraseMode=!0),j?this.batchGameObject(J,b,M):this.draw(J,b,M),X&&(this._eraseMode=!1),this},erase:function(y,C,b){return this._eraseMode=!0,this.draw(y,C,b),this._eraseMode=!1,this},draw:function(y,C,b,M,w){return this.beginDraw(),this.batchDraw(y,C,b,M,w),this.endDraw(),this},drawFrame:function(y,C,b,M,w,R){return this.beginDraw(),this.batchDrawFrame(y,C,b,M,w,R),this.endDraw(),this},repeat:function(y,C,b,M,w,R,A,L,F){if(b===void 0&&(b=0),M===void 0&&(M=0),w===void 0&&(w=this.width),R===void 0&&(R=this.height),A===void 0&&(A=1),L===void 0&&(L=16777215),F===void 0&&(F=!1),y instanceof a?C=y:C=this.manager.getFrame(y,C),!C)return this;var G=this.manager.resetStamp(A,L);G.setFrame(C),G.setOrigin(0);var I=C.width,B=C.height;w=Math.floor(w),R=Math.floor(R);var k=Math.ceil(w/I),U=Math.ceil(R/B),H=k*I-w,X=U*B-R;H>0&&(H=I-H),X>0&&(X=B-X),b<0&&(k+=Math.ceil(Math.abs(b)/I)),M<0&&(U+=Math.ceil(Math.abs(M)/B));var j=b,J=M,Y=!1,$=this.manager.stampCrop.setTo(0,0,I,B);F||this.beginDraw();for(var z=0;z<U;z++){if(J+B<0){J+=B;continue}for(var V=0;V<k;V++){if(Y=!1,j+I<0){j+=I;continue}else j<0&&(Y=!0,$.width=I+j,$.x=I-$.width);J<0&&(Y=!0,$.height=B+J,$.y=B-$.height),H>0&&V===k-1&&(Y=!0,$.width=H),X>0&&z===U-1&&(Y=!0,$.height=X),Y&&G.setCrop($),this.batchGameObject(G,j,J),G.isCropped=!1,$.setTo(0,0,I,B),j+=I}j=b,J+=B}return F||this.endDraw(),this},beginDraw:function(){if(!this.isDrawing){var y=this.camera,C=this.renderer,b=this.renderTarget;y.preRender(),b?C.beginCapture(b.width,b.height):C.setContext(this.context),this.isDrawing=!0}return this},batchDraw:function(y,C,b,M,w){return Array.isArray(y)||(y=[y]),this.batchList(y,C,b,M,w),this},batchDrawFrame:function(y,C,b,M,w,R){b===void 0&&(b=0),M===void 0&&(M=0),w===void 0&&(w=1),R===void 0&&(R=16777215);var A=this.manager.getFrame(y,C);return A&&(this.renderTarget?this.pipeline.batchTextureFrame(A,b,M,R,w,this.camera.matrix,null):this.batchTextureFrame(A,b,M,w,R)),this},endDraw:function(y){if(y===void 0&&(y=this._eraseMode),this.isDrawing){var C=this.renderer,b=this.renderTarget;if(b){var M=C.endCapture(),w=C.pipelines.setUtility();w.blitFrame(M,b,1,!1,!1,y,this.isSpriteTexture),C.resetScissor(),C.resetViewport()}else C.setContext();this.dirty=!0,this.isDrawing=!1}return this},batchList:function(y,C,b,M,w){var R=y.length;if(R!==0)for(var A=0;A<R;A++){var L=y[A];!L||L===this||(L.renderWebGL||L.renderCanvas?this.batchGameObject(L,C,b):L.isParent||L.list?this.batchGroup(L.getChildren(),C,b):typeof L=="string"?this.batchTextureFrameKey(L,null,C,b,M,w):L instanceof a?this.batchTextureFrame(L,C,b,M,w):Array.isArray(L)&&this.batchList(L,C,b,M,w))}},batchGroup:function(y,C,b){C===void 0&&(C=0),b===void 0&&(b=0);for(var M=0;M<y.length;M++){var w=y[M];w.willRender(this.camera)&&this.batchGameObject(w,w.x+C,w.y+b)}},batchGameObject:function(y,C,b){C===void 0&&(C=y.x),b===void 0&&(b=y.y);var M=y.x,w=y.y,R=this.camera,A=this.renderer,L=this._eraseMode,F=y.mask;if(y.setPosition(C,b),this.canvas){if(L){var G=y.blendMode;y.blendMode=o.ERASE}F&&F.preRenderCanvas(A,y,R),y.renderCanvas(A,y,R,null),F&&F.postRenderCanvas(A,y,R),L&&(y.blendMode=G)}else A&&(F&&F.preRenderWebGL(A,y,R),L||A.setBlendMode(y.blendMode),y.renderWebGL(A,y,R),F&&F.postRenderWebGL(A,R,this.renderTarget));y.setPosition(M,w)},batchTextureFrameKey:function(y,C,b,M,w,R){var A=this.manager.getFrame(y,C);A&&this.batchTextureFrame(A,b,M,w,R)},batchTextureFrame:function(y,C,b,M,w){C===void 0&&(C=0),b===void 0&&(b=0),M===void 0&&(M=1),w===void 0&&(w=16777215);var R=this.camera.matrix,A=this.renderTarget;if(A)this.pipeline.batchTextureFrame(y,C,b,w,M,R,null);else{var L=this.context,F=y.canvasData,G=y.source.image;L.save(),L.globalCompositeOperation=this._eraseMode?"destination-out":"source-over",L.globalAlpha=M,R.setToContext(L),F.width>0&&F.height>0&&L.drawImage(G,F.x,F.y,F.width,F.height,C,b,F.width,F.height),L.restore()}},snapshotArea:function(y,C,b,M,w,R,A){return this.renderTarget?this.renderer.snapshotFramebuffer(this.renderTarget.framebuffer,this.width,this.height,w,!1,y,C,b,M,R,A):this.renderer.snapshotCanvas(this.canvas,w,!1,y,C,b,M,R,A),this},snapshot:function(y,C,b){return this.snapshotArea(0,0,this.width,this.height,y,C,b)},snapshotPixel:function(y,C,b){return this.snapshotArea(y,C,1,1,b,"pixel")},getWebGLTexture:function(){if(this.renderTarget)return this.renderTarget.texture},renderWebGL:function(y,C,b,M){var w=this.manager.resetStamp();w.setTexture(this),w.setOrigin(0),w.renderWebGL(y,w,b,M)},renderCanvas:function(){},destroy:function(){var y=this.manager.stamp;y&&y.texture===this&&this.manager.resetStamp(),v.prototype.destroy.call(this),d.remove(this.canvas),this.renderTarget&&this.renderTarget.destroy(),this.camera.destroy(),this.canvas=null,this.context=null,this.renderer=null}});n.exports=m},4327:(n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(83419),x=r(45319),d=r(79291),h=new o({initialize:function(a,f,c,u,v,g,m){this.texture=a,this.name=f,this.source=a.source[c],this.sourceIndex=c,this.cutX,this.cutY,this.cutWidth,this.cutHeight,this.x=0,this.y=0,this.width,this.height,this.halfWidth,this.halfHeight,this.centerX,this.centerY,this.pivotX=0,this.pivotY=0,this.customPivot=!1,this.rotated=!1,this.autoRound=-1,this.customData={},this.u0=0,this.v0=0,this.u1=0,this.v1=0,this.data={cut:{x:0,y:0,w:0,h:0,r:0,b:0},trim:!1,sourceSize:{w:0,h:0},spriteSourceSize:{x:0,y:0,w:0,h:0,r:0,b:0},radius:0,drawImage:{x:0,y:0,width:0,height:0},is3Slice:!1,scale9:!1,scale9Borders:{x:0,y:0,w:0,h:0}},this.setSize(g,m,u,v)},setCutPosition:function(l,a){return l===void 0&&(l=0),a===void 0&&(a=0),this.cutX=l,this.cutY=a,this.updateUVs()},setCutSize:function(l,a){return this.cutWidth=l,this.cutHeight=a,this.updateUVs()},setSize:function(l,a,f,c){f===void 0&&(f=0),c===void 0&&(c=0),this.setCutPosition(f,c),this.setCutSize(l,a),this.width=l,this.height=a,this.halfWidth=Math.floor(l*.5),this.halfHeight=Math.floor(a*.5),this.centerX=Math.floor(l/2),this.centerY=Math.floor(a/2);var u=this.data,v=u.cut;v.x=f,v.y=c,v.w=l,v.h=a,v.r=f+l,v.b=c+a,u.sourceSize.w=l,u.sourceSize.h=a,u.spriteSourceSize.w=l,u.spriteSourceSize.h=a,u.radius=.5*Math.sqrt(l*l+a*a);var g=u.drawImage;return g.x=f,g.y=c,g.width=l,g.height=a,this.updateUVs()},setTrim:function(l,a,f,c,u,v){var g=this.data,m=g.spriteSourceSize;return g.trim=!0,g.sourceSize.w=l,g.sourceSize.h=a,m.x=f,m.y=c,m.w=u,m.h=v,m.r=f+u,m.b=c+v,this.x=f,this.y=c,this.width=u,this.height=v,this.halfWidth=u*.5,this.halfHeight=v*.5,this.centerX=Math.floor(u/2),this.centerY=Math.floor(v/2),this.updateUVs()},setScale9:function(l,a,f,c){var u=this.data;return u.scale9=!0,u.is3Slice=a===0&&c===this.height,u.scale9Borders.x=l,u.scale9Borders.y=a,u.scale9Borders.w=f,u.scale9Borders.h=c,this},setCropUVs:function(l,a,f,c,u,v,g){var m=this.cutX,y=this.cutY,C=this.cutWidth,b=this.cutHeight,M=this.realWidth,w=this.realHeight;a=x(a,0,M),f=x(f,0,w),c=x(c,0,M-a),u=x(u,0,w-f);var R=m+a,A=y+f,L=c,F=u,G=this.data;if(G.trim){var I=G.spriteSourceSize;c=x(c,0,I.x+C-a),u=x(u,0,I.y+b-f);var B=a+c,k=f+u,U=!(I.r<a||I.b<f||I.x>B||I.y>k);if(U){var H=Math.max(I.x,a),X=Math.max(I.y,f),j=Math.min(I.r,B)-H,J=Math.min(I.b,k)-X;L=j,F=J,v?R=m+(C-(H-I.x)-j):R=m+(H-I.x),g?A=y+(b-(X-I.y)-J):A=y+(X-I.y),a=H,f=X,c=j,u=J}else R=0,A=0,L=0,F=0}else v&&(R=m+(C-a-c)),g&&(A=y+(b-f-u));var Y=this.source.width,$=this.source.height;return l.u0=Math.max(0,R/Y),l.v0=Math.max(0,A/$),l.u1=Math.min(1,(R+L)/Y),l.v1=Math.min(1,(A+F)/$),l.x=a,l.y=f,l.cx=R,l.cy=A,l.cw=L,l.ch=F,l.width=c,l.height=u,l.flipX=v,l.flipY=g,l},updateCropUVs:function(l,a,f){return this.setCropUVs(l,l.x,l.y,l.width,l.height,a,f)},setUVs:function(l,a,f,c,u,v){var g=this.data.drawImage;return g.width=l,g.height=a,this.u0=f,this.v0=c,this.u1=u,this.v1=v,this},updateUVs:function(){var l=this.cutX,a=this.cutY,f=this.cutWidth,c=this.cutHeight,u=this.data.drawImage;u.width=f,u.height=c;var v=this.source.width,g=this.source.height;return this.u0=l/v,this.v0=a/g,this.u1=(l+f)/v,this.v1=(a+c)/g,this},updateUVsInverted:function(){var l=this.source.width,a=this.source.height;return this.u0=(this.cutX+this.cutHeight)/l,this.v0=this.cutY/a,this.u1=this.cutX/l,this.v1=(this.cutY+this.cutWidth)/a,this},clone:function(){var l=new h(this.texture,this.name,this.sourceIndex);return l.cutX=this.cutX,l.cutY=this.cutY,l.cutWidth=this.cutWidth,l.cutHeight=this.cutHeight,l.x=this.x,l.y=this.y,l.width=this.width,l.height=this.height,l.halfWidth=this.halfWidth,l.halfHeight=this.halfHeight,l.centerX=this.centerX,l.centerY=this.centerY,l.rotated=this.rotated,l.data=d(!0,l.data,this.data),l.updateUVs(),l},destroy:function(){this.texture=null,this.source=null,this.customData=null,this.data=null},glTexture:{get:function(){return this.source.glTexture}},realWidth:{get:function(){return this.data.sourceSize.w}},realHeight:{get:function(){return this.data.sourceSize.h}},radius:{get:function(){return this.data.radius}},trimmed:{get:function(){return this.data.trim}},scale9:{get:function(){return this.data.scale9}},is3Slice:{get:function(){return this.data.is3Slice}},canvasData:{get:function(){return this.data.drawImage}}});n.exports=h},79237:(n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(83419),x=r(4327),d=r(11876),h='Texture "%s" has no frame "%s"',l=new o({initialize:function(f,c,u,v,g){Array.isArray(u)||(u=[u]),this.manager=f,this.key=c,this.source=[],this.dataSource=[],this.frames={},this.customData={},this.firstFrame="__BASE",this.frameTotal=0;for(var m=0;m<u.length;m++)this.source.push(new d(this,u[m],v,g))},add:function(a,f,c,u,v,g){if(this.has(a))return null;var m=new x(this,a,f,c,u,v,g);return this.frames[a]=m,this.firstFrame==="__BASE"&&(this.firstFrame=a),this.frameTotal++,m},remove:function(a){if(this.has(a)){var f=this.get(a);return f.destroy(),delete this.frames[a],!0}return!1},has:function(a){return this.frames.hasOwnProperty(a)},get:function(a){a||(a=this.firstFrame);var f=this.frames[a];return f||(console.warn(h,this.key,a),f=this.frames[this.firstFrame]),f},getTextureSourceIndex:function(a){for(var f=0;f<this.source.length;f++)if(this.source[f]===a)return f;return-1},getFramesFromTextureSource:function(a,f){f===void 0&&(f=!1);var c=[];for(var u in this.frames)if(!(u==="__BASE"&&!f)){var v=this.frames[u];v.sourceIndex===a&&c.push(v)}return c},getFrameBounds:function(a){a===void 0&&(a=0);for(var f=this.getFramesFromTextureSource(a,!0),c=f[0],u=c.cutX,v=c.cutY,g=c.cutX+c.cutWidth,m=c.cutY+c.cutHeight,y=1;y<f.length;y++){var C=f[y];C.cutX<u&&(u=C.cutX),C.cutY<v&&(v=C.cutY),C.cutX+C.cutWidth>g&&(g=C.cutX+C.cutWidth),C.cutY+C.cutHeight>m&&(m=C.cutY+C.cutHeight)}return{x:u,y:v,width:g-u,height:m-v}},getFrameNames:function(a){a===void 0&&(a=!1);var f=Object.keys(this.frames);if(!a){var c=f.indexOf("__BASE");c!==-1&&f.splice(c,1)}return f},getSourceImage:function(a){(a==null||this.frameTotal===1)&&(a="__BASE");var f=this.frames[a];return f?f.source.image:(console.warn(h,this.key,a),this.frames.__BASE.source.image)},getDataSourceImage:function(a){(a==null||this.frameTotal===1)&&(a="__BASE");var f=this.frames[a],c;return f?c=f.sourceIndex:(console.warn(h,this.key,a),c=this.frames.__BASE.sourceIndex),this.dataSource[c].image},setDataSource:function(a){Array.isArray(a)||(a=[a]);for(var f=0;f<a.length;f++){var c=this.source[f];this.dataSource.push(new d(this,a[f],c.width,c.height))}},setFilter:function(a){var f;for(f=0;f<this.source.length;f++)this.source[f].setFilter(a);for(f=0;f<this.dataSource.length;f++)this.dataSource[f].setFilter(a)},destroy:function(){var a,f=this.source,c=this.dataSource;for(a=0;a<f.length;a++)f[a]&&f[a].destroy();for(a=0;a<c.length;a++)c[a]&&c[a].destroy();for(var u in this.frames){var v=this.frames[u];v&&v.destroy()}this.source=[],this.dataSource=[],this.frames={},this.manager.removeKey(this.key),this.manager=null}});n.exports=l},17130:(n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(27919),x=r(57382),d=r(83419),h=r(40987),l=r(8054),a=r(81320),f=r(50792),c=r(69442),u=r(4327),v=r(8443),g=r(99584),m=r(35154),y=r(88571),C=r(41212),b=r(61309),M=r(87841),w=r(79237),R=new d({Extends:f,initialize:function(L){f.call(this),this.game=L,this.name="TextureManager",this.list={},this._tempCanvas=o.create2D(this),this._tempContext=this._tempCanvas.getContext("2d",{willReadFrequently:!0}),this._pending=0,this.stamp,this.stampCrop=new M,this.silentWarnings=!1,L.events.once(v.BOOT,this.boot,this)},boot:function(){this._pending=3,this.on(c.LOAD,this.updatePending,this),this.on(c.ERROR,this.updatePending,this);var A=this.game.config;A.defaultImage!==null&&this.addBase64("__DEFAULT",A.defaultImage),A.missingImage!==null&&this.addBase64("__MISSING",A.missingImage),A.whiteImage!==null&&this.addBase64("__WHITE",A.whiteImage),this.game.renderer&&this.game.renderer.gl&&this.addUint8Array("__NORMAL",new Uint8Array([127,127,255,255]),1,1),this.game.events.once(v.DESTROY,this.destroy,this),this.game.events.once(v.SYSTEM_READY,function(L){this.stamp=new y(L).setOrigin(0)},this)},updatePending:function(){this._pending--,this._pending===0&&(this.off(c.LOAD),this.off(c.ERROR),this.emit(c.READY))},checkKey:function(A){return!A||typeof A!="string"||this.exists(A)?(this.silentWarnings||console.error("Texture key already in use: "+A),!1):!0},remove:function(A){if(typeof A=="string")if(this.exists(A))A=this.get(A);else return this.silentWarnings||console.warn("No texture found matching key: "+A),this;var L=A.key;return this.list.hasOwnProperty(L)&&(A.destroy(),this.emit(c.REMOVE,L),this.emit(c.REMOVE_KEY+L)),this},removeKey:function(A){return this.list.hasOwnProperty(A)&&delete this.list[A],this},addBase64:function(A,L){if(this.checkKey(A)){var F=this,G=new Image;G.onerror=function(){F.emit(c.ERROR,A)},G.onload=function(){var I=F.create(A,G);I&&(b.Image(I,0),F.emit(c.ADD,A,I),F.emit(c.ADD_KEY+A,I),F.emit(c.LOAD,A,I))},G.src=L}return this},getBase64:function(A,L,F,G){F===void 0&&(F="image/png"),G===void 0&&(G=.92);var I="",B=this.getFrame(A,L);if(B&&(B.source.isRenderTexture||B.source.isGLTexture))this.silentWarnings||console.warn("Cannot getBase64 from WebGL Texture");else if(B){var k=B.canvasData,U=o.create2D(this,k.width,k.height),H=U.getContext("2d",{willReadFrequently:!0});k.width>0&&k.height>0&&H.drawImage(B.source.image,k.x,k.y,k.width,k.height,0,0,k.width,k.height),I=U.toDataURL(F,G),o.remove(U)}return I},addImage:function(A,L,F){var G=null;return this.checkKey(A)&&(G=this.create(A,L),b.Image(G,0),F&&G.setDataSource(F),this.emit(c.ADD,A,G),this.emit(c.ADD_KEY+A,G)),G},addGLTexture:function(A,L){var F=null;if(this.checkKey(A)){var G=L.width,I=L.height;F=this.create(A,L,G,I),F.add("__BASE",0,0,0,G,I),this.emit(c.ADD,A,F),this.emit(c.ADD_KEY+A,F)}return F},addCompressedTexture:function(A,L,F){var G=null;if(this.checkKey(A)){if(G=this.create(A,L),G.add("__BASE",0,0,0,L.width,L.height),F){var I=function(k,U,H){Array.isArray(H.textures)||Array.isArray(H.frames)?b.JSONArray(k,U,H):b.JSONHash(k,U,H)};if(Array.isArray(F))for(var B=0;B<F.length;B++)I(G,B,F[B]);else I(G,0,F)}this.emit(c.ADD,A,G),this.emit(c.ADD_KEY+A,G)}return G},addRenderTexture:function(A,L){var F=null;return this.checkKey(A)&&(F=this.create(A,L),F.add("__BASE",0,0,0,L.width,L.height),this.emit(c.ADD,A,F),this.emit(c.ADD_KEY+A,F)),F},generate:function(A,L){if(this.checkKey(A)){var F=o.create(this,1,1);return L.canvas=F,g(L),this.addCanvas(A,F)}else return null},createCanvas:function(A,L,F){if(L===void 0&&(L=256),F===void 0&&(F=256),this.checkKey(A)){var G=o.create(this,L,F,l.CANVAS,!0);return this.addCanvas(A,G)}return null},addCanvas:function(A,L,F){F===void 0&&(F=!1);var G=null;return F?G=new x(this,A,L,L.width,L.height):this.checkKey(A)&&(G=new x(this,A,L,L.width,L.height),this.list[A]=G,this.emit(c.ADD,A,G),this.emit(c.ADD_KEY+A,G)),G},addDynamicTexture:function(A,L,F){var G=null;return typeof A=="string"&&!this.exists(A)?G=new a(this,A,L,F):(G=A,A=G.key),this.checkKey(A)?(this.list[A]=G,this.emit(c.ADD,A,G),this.emit(c.ADD_KEY+A,G)):G=null,G},addAtlas:function(A,L,F,G){return Array.isArray(F.textures)||Array.isArray(F.frames)?this.addAtlasJSONArray(A,L,F,G):this.addAtlasJSONHash(A,L,F,G)},addAtlasJSONArray:function(A,L,F,G){var I=null;if(L instanceof w?(A=L.key,I=L):this.checkKey(A)&&(I=this.create(A,L)),I){if(Array.isArray(F))for(var B=F.length===1,k=0;k<I.source.length;k++){var U=B?F[0]:F[k];b.JSONArray(I,k,U)}else b.JSONArray(I,0,F);G&&I.setDataSource(G),this.emit(c.ADD,A,I),this.emit(c.ADD_KEY+A,I)}return I},addAtlasJSONHash:function(A,L,F,G){var I=null;if(L instanceof w?(A=L.key,I=L):this.checkKey(A)&&(I=this.create(A,L)),I){if(Array.isArray(F))for(var B=0;B<F.length;B++)b.JSONHash(I,B,F[B]);else b.JSONHash(I,0,F);G&&I.setDataSource(G),this.emit(c.ADD,A,I),this.emit(c.ADD_KEY+A,I)}return I},addAtlasXML:function(A,L,F,G){var I=null;return L instanceof w?(A=L.key,I=L):this.checkKey(A)&&(I=this.create(A,L)),I&&(b.AtlasXML(I,0,F),G&&I.setDataSource(G),this.emit(c.ADD,A,I),this.emit(c.ADD_KEY+A,I)),I},addUnityAtlas:function(A,L,F,G){var I=null;return L instanceof w?(A=L.key,I=L):this.checkKey(A)&&(I=this.create(A,L)),I&&(b.UnityYAML(I,0,F),G&&I.setDataSource(G),this.emit(c.ADD,A,I),this.emit(c.ADD_KEY+A,I)),I},addSpriteSheet:function(A,L,F,G){var I=null;if(L instanceof w?(A=L.key,I=L):this.checkKey(A)&&(I=this.create(A,L)),I){var B=I.source[0].width,k=I.source[0].height;b.SpriteSheet(I,0,0,0,B,k,F),G&&I.setDataSource(G),this.emit(c.ADD,A,I),this.emit(c.ADD_KEY+A,I)}return I},addSpriteSheetFromAtlas:function(A,L){if(!this.checkKey(A))return null;var F=m(L,"atlas",null),G=m(L,"frame",null);if(!(!F||!G)){var I=this.get(F),B=I.get(G);if(B){var k=B.source.image;k||(k=B.source.glTexture);var U=this.create(A,k);return B.trimmed?b.SpriteSheetFromAtlas(U,B,L):b.SpriteSheet(U,0,B.cutX,B.cutY,B.cutWidth,B.cutHeight,L),this.emit(c.ADD,A,U),this.emit(c.ADD_KEY+A,U),U}}},addUint8Array:function(A,L,F,G){if(!this.checkKey(A)||L.length/4!==F*G)return null;var I=this.create(A,L,F,G);return I.add("__BASE",0,0,0,F,G),this.emit(c.ADD,A,I),this.emit(c.ADD_KEY+A,I),I},create:function(A,L,F,G){var I=null;return this.checkKey(A)&&(I=new w(this,A,L,F,G),this.list[A]=I),I},exists:function(A){return this.list.hasOwnProperty(A)},get:function(A){return A===void 0&&(A="__DEFAULT"),this.list[A]?this.list[A]:A instanceof w?A:A instanceof u?A.texture:this.list.__MISSING},cloneFrame:function(A,L){if(this.list[A])return this.list[A].get(L).clone()},getFrame:function(A,L){if(this.list[A])return this.list[A].get(L)},parseFrame:function(A){if(A){if(typeof A=="string")return this.getFrame(A);if(Array.isArray(A)&&A.length===2)return this.getFrame(A[0],A[1]);if(C(A))return this.getFrame(A.key,A.frame);if(A instanceof w)return A.get();if(A instanceof u)return A}else return},getTextureKeys:function(){var A=[];for(var L in this.list)L!=="__DEFAULT"&&L!=="__MISSING"&&L!=="__WHITE"&&L!=="__NORMAL"&&A.push(L);return A},getPixel:function(A,L,F,G){var I=this.getFrame(F,G);if(I){A-=I.x,L-=I.y;var B=I.data.cut;if(A+=B.x,L+=B.y,A>=B.x&&A<B.r&&L>=B.y&&L<B.b){var k=this._tempContext;k.clearRect(0,0,1,1),k.drawImage(I.source.image,A,L,1,1,0,0,1,1);var U=k.getImageData(0,0,1,1);return new h(U.data[0],U.data[1],U.data[2],U.data[3])}}return null},getPixelAlpha:function(A,L,F,G){var I=this.getFrame(F,G);if(I){A-=I.x,L-=I.y;var B=I.data.cut;if(A+=B.x,L+=B.y,A>=B.x&&A<B.r&&L>=B.y&&L<B.b){var k=this._tempContext;k.clearRect(0,0,1,1),k.drawImage(I.source.image,A,L,1,1,0,0,1,1);var U=k.getImageData(0,0,1,1);return U.data[3]}}return null},setTexture:function(A,L,F){return this.list[L]&&(A.texture=this.list[L],A.frame=A.texture.get(F)),A},renameTexture:function(A,L){var F=this.get(A);return F&&A!==L?(F.key=L,this.list[L]=F,delete this.list[A],!0):!1},each:function(A,L){for(var F=[null],G=1;G<arguments.length;G++)F.push(arguments[G]);for(var I in this.list)F[0]=this.list[I],A.apply(L,F)},resetStamp:function(A,L){A===void 0&&(A=1),L===void 0&&(L=16777215);var F=this.stamp;return F.setCrop(),F.setPosition(0),F.setAngle(0),F.setScale(1),F.setAlpha(A),F.setTint(L),F.setTexture("__WHITE"),F},destroy:function(){for(var A in this.list)this.list[A].destroy();this.list={},this.stamp.destroy(),this.game=null,this.stamp=null,o.remove(this._tempCanvas)}});n.exports=R},11876:(n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(27919),x=r(83419),d=r(50030),h=r(29795),l=r(82751),a=new x({initialize:function(c,u,v,g,m){m===void 0&&(m=!1);var y=c.manager.game;this.renderer=y.renderer,this.texture=c,this.source=u,this.image=u.compressed?null:u,this.compressionAlgorithm=u.compressed?u.format:null,this.resolution=1,this.width=v||u.naturalWidth||u.videoWidth||u.width||0,this.height=g||u.naturalHeight||u.videoHeight||u.height||0,this.scaleMode=h.DEFAULT,this.isCanvas=u instanceof HTMLCanvasElement,this.isVideo=window.hasOwnProperty("HTMLVideoElement")&&u instanceof HTMLVideoElement,this.isRenderTexture=u.type==="RenderTexture"||u.type==="DynamicTexture",this.isGLTexture=u instanceof l,this.isPowerOf2=d(this.width,this.height),this.glTexture=null,this.flipY=m,this.init(y)},init:function(f){var c=this.renderer;if(c){var u=this.source;if(c.gl){var v=this.image,g=this.flipY,m=this.width,y=this.height,C=this.scaleMode;this.isCanvas?this.glTexture=c.createCanvasTexture(v,!1,g):this.isVideo?this.glTexture=c.createVideoTexture(v,!1,g):this.isRenderTexture?this.glTexture=c.createTextureFromSource(null,m,y,C):this.isGLTexture?this.glTexture=u:this.compressionAlgorithm?this.glTexture=c.createTextureFromSource(u,void 0,void 0,C):u instanceof Uint8Array?this.glTexture=c.createUint8ArrayTexture(u,m,y,C):this.glTexture=c.createTextureFromSource(v,m,y,C)}else this.isRenderTexture&&(this.image=u.canvas)}f.config.antialias||this.setFilter(1)},setFilter:function(f){this.renderer&&this.renderer.gl&&this.renderer.setTextureFilter(this.glTexture,f),this.scaleMode=f},setFlipY:function(f){return f===void 0&&(f=!0),f===this.flipY?this:(this.flipY=f,this.update(),this)},update:function(){var f=this.renderer,c=this.image,u=this.flipY,v=f.gl;v&&this.isCanvas?f.updateCanvasTexture(c,this.glTexture,u):v&&this.isVideo&&f.updateVideoTexture(c,this.glTexture,u)},destroy:function(){this.glTexture&&this.renderer.deleteTexture(this.glTexture),this.isCanvas&&o.remove(this.image),this.renderer=null,this.texture=null,this.source=null,this.image=null,this.glTexture=null}});n.exports=a},19673:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T={LINEAR:0,NEAREST:1};n.exports=T},44538:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="addtexture"},63486:n=>{/**
 * @author       samme
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="addtexture-"},94851:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="onerror"},29099:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="onload"},8678:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="ready"},86415:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="removetexture"},30879:n=>{/**
 * @author       samme
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="removetexture-"},69442:(n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports={ADD:r(44538),ADD_KEY:r(63486),ERROR:r(94851),LOAD:r(29099),READY:r(8678),REMOVE:r(86415),REMOVE_KEY:r(30879)}},27458:(n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(79291),x=r(19673),d={CanvasTexture:r(57382),DynamicTexture:r(81320),Events:r(69442),FilterMode:x,Frame:r(4327),Parsers:r(61309),Texture:r(79237),TextureManager:r(17130),TextureSource:r(11876)};d=o(!1,d,x),n.exports=d},89905:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(r,o,x){if(!x.getElementsByTagName("TextureAtlas")){console.warn("Invalid Texture Atlas XML given");return}var d=r.source[o];r.add("__BASE",o,0,0,d.width,d.height);for(var h=x.getElementsByTagName("SubTexture"),l,a=0;a<h.length;a++){var f=h[a].attributes,c=f.name.value,u=parseInt(f.x.value,10),v=parseInt(f.y.value,10),g=parseInt(f.width.value,10),m=parseInt(f.height.value,10);if(l=r.add(c,o,u,v,g,m),f.frameX){var y=Math.abs(parseInt(f.frameX.value,10)),C=Math.abs(parseInt(f.frameY.value,10)),b=parseInt(f.frameWidth.value,10),M=parseInt(f.frameHeight.value,10);l.setTrim(g,m,y,C,b,M)}}return r};n.exports=T},72893:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(r,o){var x=r.source[o];return r.add("__BASE",o,0,0,x.width,x.height),r};n.exports=T},4832:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(r,o){var x=r.source[o];return r.add("__BASE",o,0,0,x.width,x.height),r};n.exports=T},78566:(n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(41786),x=function(d,h,l){if(!l.frames&&!l.textures){console.warn("Invalid Texture Atlas JSON Array");return}var a=d.source[h];d.add("__BASE",h,0,0,a.width,a.height);for(var f=Array.isArray(l.textures)?l.textures[h].frames:l.frames,c,u=0;u<f.length;u++){var v=f[u];if(c=d.add(v.filename,h,v.frame.x,v.frame.y,v.frame.w,v.frame.h),!c){console.warn("Invalid atlas json, frame already exists: "+v.filename);continue}v.trimmed&&c.setTrim(v.sourceSize.w,v.sourceSize.h,v.spriteSourceSize.x,v.spriteSourceSize.y,v.spriteSourceSize.w,v.spriteSourceSize.h),v.rotated&&(c.rotated=!0,c.updateUVsInverted());var g=v.anchor||v.pivot;g&&(c.customPivot=!0,c.pivotX=g.x,c.pivotY=g.y),v.scale9Borders&&c.setScale9(v.scale9Borders.x,v.scale9Borders.y,v.scale9Borders.w,v.scale9Borders.h),c.customData=o(v)}for(var m in l)m!=="frames"&&(Array.isArray(l[m])?d.customData[m]=l[m].slice(0):d.customData[m]=l[m]);return d};n.exports=x},39711:(n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(41786),x=function(d,h,l){if(!l.frames){console.warn("Invalid Texture Atlas JSON Hash given, missing 'frames' Object");return}var a=d.source[h];d.add("__BASE",h,0,0,a.width,a.height);var f=l.frames,c;for(var u in f)if(f.hasOwnProperty(u)){var v=f[u];if(c=d.add(u,h,v.frame.x,v.frame.y,v.frame.w,v.frame.h),!c){console.warn("Invalid atlas json, frame already exists: "+u);continue}v.trimmed&&c.setTrim(v.sourceSize.w,v.sourceSize.h,v.spriteSourceSize.x,v.spriteSourceSize.y,v.spriteSourceSize.w,v.spriteSourceSize.h),v.rotated&&(c.rotated=!0,c.updateUVsInverted());var g=v.anchor||v.pivot;g&&(c.customPivot=!0,c.pivotX=g.x,c.pivotY=g.y),v.scale9Borders&&c.setScale9(v.scale9Borders.x,v.scale9Borders.y,v.scale9Borders.w,v.scale9Borders.h),c.customData=o(v)}for(var m in l)m!=="frames"&&(Array.isArray(l[m])?d.customData[m]=l[m].slice(0):d.customData[m]=l[m]);return d};n.exports=x},31403:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2021 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(r){var o=[171,75,84,88,32,49,49,187,13,10,26,10],x,d=new Uint8Array(r,0,12);for(x=0;x<d.length;x++)if(d[x]!==o[x]){console.warn("KTXParser - Invalid file format");return}var h=Uint32Array.BYTES_PER_ELEMENT,l=new DataView(r,12,13*h),a=l.getUint32(0,!0)===67305985,f=l.getUint32(1*h,a);if(f!==0){console.warn("KTXParser - Only compressed formats supported");return}var c=l.getUint32(4*h,a),u=l.getUint32(6*h,a),v=l.getUint32(7*h,a),g=Math.max(1,l.getUint32(11*h,a)),m=l.getUint32(12*h,a),y=new Array(g),C=12+13*4+m,b=u,M=v;for(x=0;x<g;x++){var w=new Int32Array(r,C,1)[0];C+=4,y[x]={data:new Uint8Array(r,C,w),width:b,height:M},b=Math.max(1,b>>1),M=Math.max(1,M>>1),C+=w}return{mipmaps:y,width:u,height:v,internalFormat:c,compressed:!0,generateMipmap:!1}};n.exports=T},82038:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2021 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */function T(L,F,G,I,B,k,U){return U===void 0&&(U=16),Math.floor((L+G)/B)*Math.floor((F+I)/k)*U}function r(L,F){return L=Math.max(L,16),F=Math.max(F,8),L*F/4}function o(L,F){return L=Math.max(L,8),F=Math.max(F,8),L*F/2}function x(L,F){return Math.ceil(L/4)*Math.ceil(F/4)*16}function d(L,F){return T(L,F,3,3,4,4,8)}function h(L,F){return T(L,F,3,3,4,4)}function l(L,F){return T(L,F,4,3,5,4)}function a(L,F){return T(L,F,4,4,5,5)}function f(L,F){return T(L,F,5,4,6,5)}function c(L,F){return T(L,F,5,5,6,6)}function u(L,F){return T(L,F,7,4,8,5)}function v(L,F){return T(L,F,7,5,8,6)}function g(L,F){return T(L,F,7,7,8,8)}function m(L,F){return T(L,F,9,4,10,5)}function y(L,F){return T(L,F,9,5,10,6)}function C(L,F){return T(L,F,9,7,10,8)}function b(L,F){return T(L,F,9,9,10,10)}function M(L,F){return T(L,F,11,9,12,10)}function w(L,F){return T(L,F,11,11,12,12)}var R={0:{sizeFunc:r,glFormat:[35841]},1:{sizeFunc:r,glFormat:[35843]},2:{sizeFunc:o,glFormat:[35840]},3:{sizeFunc:o,glFormat:[35842]},6:{sizeFunc:d,glFormat:[36196]},7:{sizeFunc:d,glFormat:[33776,35916]},8:{sizeFunc:h,glFormat:[33777,35917]},9:{sizeFunc:h,glFormat:[33778,35918]},11:{sizeFunc:h,glFormat:[33779,35919]},14:{sizeFunc:x,glFormat:[36494,36495]},15:{sizeFunc:x,glFormat:[36492,36493]},22:{sizeFunc:d,glFormat:[37492,37493]},23:{sizeFunc:h,glFormat:[37496,37497]},24:{sizeFunc:d,glFormat:[37494,37495]},25:{sizeFunc:d,glFormat:[37488]},26:{sizeFunc:h,glFormat:[37490]},27:{sizeFunc:h,glFormat:[37808,37840]},28:{sizeFunc:l,glFormat:[37809,37841]},29:{sizeFunc:a,glFormat:[37810,37842]},30:{sizeFunc:f,glFormat:[37811,37843]},31:{sizeFunc:c,glFormat:[37812,37844]},32:{sizeFunc:u,glFormat:[37813,37845]},33:{sizeFunc:v,glFormat:[37814,37846]},34:{sizeFunc:g,glFormat:[37815,37847]},35:{sizeFunc:m,glFormat:[37816,37848]},36:{sizeFunc:y,glFormat:[37817,37849]},37:{sizeFunc:C,glFormat:[37818,37850]},38:{sizeFunc:b,glFormat:[37819,37851]},39:{sizeFunc:M,glFormat:[37820,37852]},40:{sizeFunc:w,glFormat:[37821,37853]}},A=function(L){for(var F=new Uint32Array(L,0,13),G=F[0],I=G===55727696,B=I?F[2]:F[3],k=F[4],U=R[B].glFormat[k],H=R[B].sizeFunc,X=F[11],j=F[7],J=F[6],Y=52+F[12],$=new Uint8Array(L,Y),z=new Array(X),V=0,K=j,Q=J,_=0;_<X;_++){var tt=H(K,Q);z[_]={data:new Uint8Array($.buffer,$.byteOffset+V,tt),width:K,height:Q},K=Math.max(1,K>>1),Q=Math.max(1,Q>>1),V+=tt}return{mipmaps:z,width:j,height:J,internalFormat:U,compressed:!0,generateMipmap:!1}};n.exports=A},75549:(n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(95540),x=function(d,h,l,a,f,c,u){var v=o(u,"frameWidth",null),g=o(u,"frameHeight",v);if(v===null)throw new Error("TextureManager.SpriteSheet: Invalid frameWidth given.");var m=d.source[h];d.add("__BASE",h,0,0,m.width,m.height);var y=o(u,"startFrame",0),C=o(u,"endFrame",-1),b=o(u,"margin",0),M=o(u,"spacing",0),w=Math.floor((f-b+M)/(v+M)),R=Math.floor((c-b+M)/(g+M)),A=w*R;A===0&&console.warn("SpriteSheet frame dimensions will result in zero frames for texture:",d.key),(y>A||y<-A)&&(y=0),y<0&&(y=A+y),(C===-1||C>A||C<y)&&(C=A);for(var L=b,F=b,G=0,I=0,B=0,k=0;k<A;k++){G=0,I=0;var U=L+v,H=F+g;U>f&&(G=U-f),H>c&&(I=H-c),k>=y&&k<=C&&(d.add(B,h,l+L,a+F,v-G,g-I),B++),L+=v+M,L+v>f&&(L=b,F+=g+M)}return d};n.exports=x},47534:(n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(95540),x=function(d,h,l){var a=o(l,"frameWidth",null),f=o(l,"frameHeight",a);if(!a)throw new Error("TextureManager.SpriteSheetFromAtlas: Invalid frameWidth given.");var c=d.source[0];d.add("__BASE",0,0,0,c.width,c.height),o(l,"startFrame",0),o(l,"endFrame",-1);for(var u=o(l,"margin",0),v=o(l,"spacing",0),g=h.cutX,m=h.cutY,y=h.cutWidth,C=h.cutHeight,b=h.realWidth,M=h.realHeight,w=Math.floor((b-u+v)/(a+v)),R=Math.floor((M-u+v)/(f+v)),A=h.x,L=a-A,F=a-(b-y-A),G=h.y,I=f-G,B=f-(M-C-G),k,U=u,H=u,X=0,j=0,J=0;J<R;J++){for(var Y=J===0,$=J===R-1,z=0;z<w;z++){var V=z===0,K=z===w-1;if(k=d.add(X,j,g+U,m+H,a,f),V||Y||K||$){var Q=V?A:0,_=Y?G:0,tt=0,rt=0;V&&(tt+=a-L),K&&(tt+=a-F),Y&&(rt+=f-I),$&&(rt+=f-B);var ot=a-tt,ft=f-rt;k.cutWidth=ot,k.cutHeight=ft,k.setTrim(a,f,Q,_,ot,ft)}U+=v,V?U+=L:K?U+=F:U+=a,X++}U=u,H+=v,Y?H+=I:$?H+=B:H+=f}return d};n.exports=x},86147:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=0,r=function(x,d,h,l){var a=T-l.y-l.height;x.add(h,d,l.x,a,l.width,l.height)},o=function(x,d,h){var l=x.source[d];x.add("__BASE",d,0,0,l.width,l.height),T=l.height;for(var a=h.split(`
`),f=/^[ ]*(- )*(\w+)+[: ]+(.*)/,c="",u="",v={x:0,y:0,width:0,height:0},g=0;g<a.length;g++){var m=a[g].match(f);if(m){var y=m[1]==="- ",C=m[2],b=m[3];if(y&&(u!==c&&(r(x,d,u,v),c=u),v={x:0,y:0,width:0,height:0}),C==="name"){u=b;continue}switch(C){case"x":case"y":case"width":case"height":v[C]=parseInt(b,10);break}}}return u!==c&&r(x,d,u,v),x};n.exports=o},55222:(n,T,r)=>{/**
 * @author       Ben Richards <benjamindrichards@gmail.com>
 * @copyright    2024 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(50030),x=function(c){for(var u=c.mipmaps,v=1;v<u.length;v++){var g=u[v].width,m=u[v].height;if(!o(g,m))return console.warn("Mip level "+v+" is not a power-of-two size: "+g+"x"+m),!1}var y=f[c.internalFormat];return y?y(c):(console.warn("No format checker found for internal format "+c.internalFormat+". Assuming valid."),!0)};function d(c){for(var u=c.mipmaps,v=0;v<u.length;v++){var g=u[v].width,m=u[v].height;if((g<<v)%4!==0||(m<<v)%4!==0)return console.warn("BPTC, RGTC, and S3TC dimensions must be a multiple of 4 pixels, and each successive mip level must be half the size of the previous level, rounded down. Mip level "+v+" is "+g+"x"+m),!1}return!0}function h(){return!0}function l(c){var u=c.mipmaps,v=u[0];return o(v.width,v.height)?!0:(console.warn("PVRTC base dimensions must be power of two. Base level is "+v.width+"x"+v.height),!1)}function a(c){var u=c.mipmaps,v=u[0];return v.width%4!==0||v.height%4!==0?(console.warn("S3TC SRGB base dimensions must be a multiple of 4 pixels. Base level is "+v.width+"x"+v.height+" pixels"),!1):!0}var f={37488:h,37489:h,37490:h,37491:h,37492:h,37493:h,37494:h,37495:h,37496:h,37497:h,36196:h,37808:h,37809:h,37810:h,37811:h,37812:h,37813:h,37814:h,37815:h,37816:h,37817:h,37818:h,37819:h,37820:h,37821:h,37840:h,37841:h,37842:h,37843:h,37844:h,37845:h,37846:h,37847:h,37848:h,37849:h,37850:h,37851:h,37852:h,37853:h,36492:d,36493:d,36494:d,36495:d,36283:d,36284:d,36285:d,36286:d,35840:l,35841:l,35842:l,35843:l,33776:d,33777:d,33778:d,33779:d,35916:a,35917:a,35918:a,35919:a};n.exports=x},61309:(n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports={AtlasXML:r(89905),Canvas:r(72893),Image:r(4832),JSONArray:r(78566),JSONHash:r(39711),KTXParser:r(31403),PVRParser:r(82038),SpriteSheet:r(75549),SpriteSheetFromAtlas:r(47534),UnityYAML:r(86147)}},80341:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports={CSV:0,TILED_JSON:1,ARRAY_2D:2,WELTMEISTER:3}},16536:(n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(83419),x=new o({initialize:function(h,l,a,f,c,u,v){(a===void 0||a<=0)&&(a=32),(f===void 0||f<=0)&&(f=32),c===void 0&&(c=0),u===void 0&&(u=0),this.name=h,this.firstgid=l|0,this.imageWidth=a|0,this.imageHeight=f|0,this.imageMargin=c|0,this.imageSpacing=u|0,this.properties=v||{},this.images=[],this.total=0},containsImageIndex:function(d){return d>=this.firstgid&&d<this.firstgid+this.total},addImage:function(d,h,l,a){return this.images.push({gid:d,image:h,width:l,height:a}),this.total++,this}});n.exports=x},27462:(n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2021 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(83419),x=new o({initialize:function(h){if(this.gids=[],h!==void 0)for(var l=0;l<h.length;++l)for(var a=h[l],f=0;f<a.total;++f)this.gids[a.firstgid+f]=a;this._gids=this.gids},enabled:{get:function(){return!!this.gids},set:function(d){this.gids=d?this._gids:void 0}},getTypeIncludingTile:function(d){if(d.type!==void 0&&d.type!=="")return d.type;if(!(!this.gids||d.gid===void 0)){var h=this.gids[d.gid];if(h){var l=h.getTileData(d.gid);if(l)return l.type}}},setTextureAndFrame:function(d,h,l,a){if(h===null&&this.gids&&a.gid!==void 0){var f=this.gids[a.gid];f&&(h===null&&f.image!==void 0&&(h=f.image.key),l===null&&(l=a.gid-f.firstgid),d.scene.textures.getFrame(h,l)||(h=null,l=null))}d.setTexture(h,l)},setPropertiesFromTiledObject:function(d,h){if(this.gids!==void 0&&h.gid!==void 0){var l=this.gids[h.gid];l!==void 0&&this.setFromJSON(d,l.getTileProperties(h.gid))}this.setFromJSON(d,h.properties)},setFromJSON:function(d,h){if(h){if(Array.isArray(h)){for(var l=0;l<h.length;l++){var a=h[l];d[a.name]!==void 0?d[a.name]=a.value:d.setData(a.name,a.value)}return}for(var f in h)d[f]!==void 0?d[f]=h[f]:d.setData(f,h[f])}}});n.exports=x},31989:(n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(80341),x=r(87010),d=r(46177),h=r(49075),l=function(a,f,c,u,v,g,m,y){c===void 0&&(c=32),u===void 0&&(u=32),v===void 0&&(v=10),g===void 0&&(g=10),y===void 0&&(y=!1);var C=null;if(Array.isArray(m)){var b=f!==void 0?f:"map";C=d(b,o.ARRAY_2D,m,c,u,y)}else if(f!==void 0){var M=a.cache.tilemap.get(f);M?C=d(f,M.format,M.data,c,u,y):console.warn("No map data found for key "+f)}return C===null&&(C=new x({tileWidth:c,tileHeight:u,width:v,height:g})),new h(a,C)};n.exports=l},23029:(n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(83419),x=r(31401),d=r(91907),h=r(62644),l=r(93232),a=new o({Mixins:[x.AlphaSingle,x.Flip,x.Visible],initialize:function(c,u,v,g,m,y,C,b){this.layer=c,this.index=u,this.x=v,this.y=g,this.width=m,this.height=y,this.right,this.bottom,this.baseWidth=C!==void 0?C:m,this.baseHeight=b!==void 0?b:y,this.pixelX=0,this.pixelY=0,this.updatePixelXY(),this.properties={},this.rotation=0,this.collideLeft=!1,this.collideRight=!1,this.collideUp=!1,this.collideDown=!1,this.faceLeft=!1,this.faceRight=!1,this.faceTop=!1,this.faceBottom=!1,this.collisionCallback=void 0,this.collisionCallbackContext=this,this.tint=16777215,this.tintFill=!1,this.physics={}},containsPoint:function(f,c){return!(f<this.pixelX||c<this.pixelY||f>this.right||c>this.bottom)},copy:function(f){return this.index=f.index,this.alpha=f.alpha,this.properties=h(f.properties),this.visible=f.visible,this.setFlip(f.flipX,f.flipY),this.tint=f.tint,this.rotation=f.rotation,this.collideUp=f.collideUp,this.collideDown=f.collideDown,this.collideLeft=f.collideLeft,this.collideRight=f.collideRight,this.collisionCallback=f.collisionCallback,this.collisionCallbackContext=f.collisionCallbackContext,this},getCollisionGroup:function(){return this.tileset?this.tileset.getTileCollisionGroup(this.index):null},getTileData:function(){return this.tileset?this.tileset.getTileData(this.index):null},getLeft:function(f){var c=this.tilemapLayer;if(c){var u=c.tileToWorldXY(this.x,this.y,void 0,f);return u.x}return this.x*this.baseWidth},getRight:function(f){var c=this.tilemapLayer;return c?this.getLeft(f)+this.width*c.scaleX:this.getLeft(f)+this.width},getTop:function(f){var c=this.tilemapLayer;if(c){var u=c.tileToWorldXY(this.x,this.y,void 0,f);return u.y}return this.y*this.baseWidth-(this.height-this.baseHeight)},getBottom:function(f){var c=this.tilemapLayer;return c?this.getTop(f)+this.height*c.scaleY:this.getTop(f)+this.height},getBounds:function(f,c){return c===void 0&&(c=new l),c.x=this.getLeft(f),c.y=this.getTop(f),c.width=this.getRight(f)-c.x,c.height=this.getBottom(f)-c.y,c},getCenterX:function(f){return(this.getLeft(f)+this.getRight(f))/2},getCenterY:function(f){return(this.getTop(f)+this.getBottom(f))/2},intersects:function(f,c,u,v){return!(u<=this.pixelX||v<=this.pixelY||f>=this.right||c>=this.bottom)},isInteresting:function(f,c){return f&&c?this.canCollide||this.hasInterestingFace:f?this.collides:c?this.hasInterestingFace:!1},resetCollision:function(f){if(f===void 0&&(f=!0),this.collideLeft=!1,this.collideRight=!1,this.collideUp=!1,this.collideDown=!1,this.faceTop=!1,this.faceBottom=!1,this.faceLeft=!1,this.faceRight=!1,f){var c=this.tilemapLayer;c&&this.tilemapLayer.calculateFacesAt(this.x,this.y)}return this},resetFaces:function(){return this.faceTop=!1,this.faceBottom=!1,this.faceLeft=!1,this.faceRight=!1,this},setCollision:function(f,c,u,v,g){if(c===void 0&&(c=f),u===void 0&&(u=f),v===void 0&&(v=f),g===void 0&&(g=!0),this.collideLeft=f,this.collideRight=c,this.collideUp=u,this.collideDown=v,this.faceLeft=f,this.faceRight=c,this.faceTop=u,this.faceBottom=v,g){var m=this.tilemapLayer;m&&this.tilemapLayer.calculateFacesAt(this.x,this.y)}return this},setCollisionCallback:function(f,c){return f===null?(this.collisionCallback=void 0,this.collisionCallbackContext=void 0):(this.collisionCallback=f,this.collisionCallbackContext=c),this},setSize:function(f,c,u,v){return f!==void 0&&(this.width=f),c!==void 0&&(this.height=c),u!==void 0&&(this.baseWidth=u),v!==void 0&&(this.baseHeight=v),this.updatePixelXY(),this},updatePixelXY:function(){var f=this.layer.orientation;if(f===d.ORTHOGONAL)this.pixelX=this.x*this.baseWidth,this.pixelY=this.y*this.baseHeight;else if(f===d.ISOMETRIC)this.pixelX=(this.x-this.y)*this.baseWidth*.5,this.pixelY=(this.x+this.y)*this.baseHeight*.5;else if(f===d.STAGGERED)this.pixelX=this.x*this.baseWidth+this.y%2*(this.baseWidth/2),this.pixelY=this.y*(this.baseHeight/2);else if(f===d.HEXAGONAL){var c=this.layer.staggerAxis,u=this.layer.staggerIndex,v=this.layer.hexSideLength,g,m;c==="y"?(m=(this.baseHeight-v)/2+v,u==="odd"?this.pixelX=this.x*this.baseWidth+this.y%2*(this.baseWidth/2):this.pixelX=this.x*this.baseWidth-this.y%2*(this.baseWidth/2),this.pixelY=this.y*m):c==="x"&&(g=(this.baseWidth-v)/2+v,this.pixelX=this.x*g,u==="odd"?this.pixelY=this.y*this.baseHeight+this.x%2*(this.baseHeight/2):this.pixelY=this.y*this.baseHeight-this.x%2*(this.baseHeight/2))}return this.right=this.pixelX+this.baseWidth,this.bottom=this.pixelY+this.baseHeight,this},destroy:function(){this.collisionCallback=void 0,this.collisionCallbackContext=void 0,this.properties=void 0},canCollide:{get:function(){return this.collideLeft||this.collideRight||this.collideUp||this.collideDown||this.collisionCallback!==void 0}},collides:{get:function(){return this.collideLeft||this.collideRight||this.collideUp||this.collideDown}},hasInterestingFace:{get:function(){return this.faceTop||this.faceBottom||this.faceLeft||this.faceRight}},tileset:{get:function(){var f=this.layer.tilemapLayer;if(f){var c=f.gidMap[this.index];if(c)return c}return null}},tilemapLayer:{get:function(){return this.layer.tilemapLayer}},tilemap:{get:function(){var f=this.tilemapLayer;return f?f.tilemap:null}}});n.exports=a},49075:(n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(84101),x=r(83419),d=r(39506),h=r(80341),l=r(95540),a=r(14977),f=r(27462),c=r(91907),u=r(36305),v=r(19133),g=r(68287),m=r(23029),y=r(81086),C=r(20442),b=r(33629),M=new x({initialize:function(R,A){this.scene=R,this.tileWidth=A.tileWidth,this.tileHeight=A.tileHeight,this.width=A.width,this.height=A.height,this.orientation=A.orientation,this.renderOrder=A.renderOrder,this.format=A.format,this.version=A.version,this.properties=A.properties,this.widthInPixels=A.widthInPixels,this.heightInPixels=A.heightInPixels,this.imageCollections=A.imageCollections,this.images=A.images,this.layers=A.layers,this.tiles=A.tiles,this.tilesets=A.tilesets,this.objects=A.objects,this.currentLayerIndex=0,this.hexSideLength=A.hexSideLength;var L=this.orientation;this._convert={WorldToTileXY:y.GetWorldToTileXYFunction(L),WorldToTileX:y.GetWorldToTileXFunction(L),WorldToTileY:y.GetWorldToTileYFunction(L),TileToWorldXY:y.GetTileToWorldXYFunction(L),TileToWorldX:y.GetTileToWorldXFunction(L),TileToWorldY:y.GetTileToWorldYFunction(L),GetTileCorners:y.GetTileCornersFunction(L)}},setRenderOrder:function(w){var R=["right-down","left-down","right-up","left-up"];return typeof w=="number"&&(w=R[w]),R.indexOf(w)>-1&&(this.renderOrder=w),this},addTilesetImage:function(w,R,A,L,F,G,I,B){if(w===void 0)return null;R==null&&(R=w);var k=this.scene.sys.textures;if(!k.exists(R))return console.warn('Texture key "%s" not found',R),null;var U=k.get(R),H=this.getTilesetIndex(w);if(H===null&&this.format===h.TILED_JSON)return console.warn('Tilemap has no tileset "%s". Its tilesets are %o',w,this.tilesets),null;var X=this.tilesets[H];return X?((A||L)&&X.setTileSize(A,L),(F||G)&&X.setSpacing(F,G),X.setImage(U),X):(A===void 0&&(A=this.tileWidth),L===void 0&&(L=this.tileHeight),F===void 0&&(F=0),G===void 0&&(G=0),I===void 0&&(I=0),B===void 0&&(B={x:0,y:0}),X=new b(w,I,A,L,F,G,void 0,void 0,B),X.setImage(U),this.tilesets.push(X),this.tiles=o(this),X)},copy:function(w,R,A,L,F,G,I,B){return B=this.getLayer(B),B!==null?(y.Copy(w,R,A,L,F,G,I,B),this):null},createBlankLayer:function(w,R,A,L,F,G,I,B){A===void 0&&(A=0),L===void 0&&(L=0),F===void 0&&(F=this.width),G===void 0&&(G=this.height),I===void 0&&(I=this.tileWidth),B===void 0&&(B=this.tileHeight);var k=this.getLayerIndex(w);if(k!==null)return console.warn("Invalid Tilemap Layer ID: "+w),null;for(var U=new a({name:w,tileWidth:I,tileHeight:B,width:F,height:G,orientation:this.orientation,hexSideLength:this.hexSideLength}),H,X=0;X<G;X++){H=[];for(var j=0;j<F;j++)H.push(new m(U,-1,j,X,I,B,this.tileWidth,this.tileHeight));U.data.push(H)}this.layers.push(U),this.currentLayerIndex=this.layers.length-1;var J=new C(this.scene,this,this.currentLayerIndex,R,A,L);return J.setRenderOrder(this.renderOrder),this.scene.sys.displayList.add(J),J},createLayer:function(w,R,A,L){var F=this.getLayerIndex(w);if(F===null)return console.warn("Invalid Tilemap Layer ID: "+w),typeof w=="string"&&console.warn("Valid tilelayer names: %o",this.getTileLayerNames()),null;var G=this.layers[F];if(G.tilemapLayer)return console.warn("Tilemap Layer ID already exists:"+w),null;this.currentLayerIndex=F,A===void 0&&(A=G.x),L===void 0&&(L=G.y);var I=new C(this.scene,this,F,R,A,L);return I.setRenderOrder(this.renderOrder),this.scene.sys.displayList.add(I),I},createFromObjects:function(w,R,A){A===void 0&&(A=!0);var L=[],F=this.getObjectLayer(w);if(!F)return console.warn("createFromObjects: Invalid objectLayerName given: "+w),L;var G=new f(A?this.tilesets:void 0);Array.isArray(R)||(R=[R]);for(var I=F.objects,B=0;B<R.length;B++){var k=R[B],U=l(k,"id",null),H=l(k,"gid",null),X=l(k,"name",null),j=l(k,"type",null);G.enabled=!l(k,"ignoreTileset",null);for(var J,Y=[],$=0;$<I.length;$++)J=I[$],(U===null&&H===null&&X===null&&j===null||U!==null&&J.id===U||H!==null&&J.gid===H||X!==null&&J.name===X||j!==null&&G.getTypeIncludingTile(J)===j)&&Y.push(J);for(var z=l(k,"classType",g),V=l(k,"scene",this.scene),K=l(k,"container",null),Q=l(k,"key",null),_=l(k,"frame",null),tt=0;tt<Y.length;tt++){J=Y[tt];var rt=new z(V);if(rt.setName(J.name),rt.setPosition(J.x,J.y),G.setTextureAndFrame(rt,Q,_,J),J.width&&(rt.displayWidth=J.width),J.height&&(rt.displayHeight=J.height),this.orientation===c.ISOMETRIC){var ot=this.tileWidth/this.tileHeight,ft={x:rt.x-rt.y,y:(rt.x+rt.y)/ot};rt.x=ft.x,rt.y=ft.y}var ct={x:rt.originX*J.width,y:(rt.originY-(J.gid?1:0))*J.height};if(J.rotation){var gt=d(J.rotation);u(ct,gt),rt.rotation=gt}rt.x+=ct.x,rt.y+=ct.y,(J.flippedHorizontal!==void 0||J.flippedVertical!==void 0)&&rt.setFlip(J.flippedHorizontal,J.flippedVertical),J.visible||(rt.visible=!1),G.setPropertiesFromTiledObject(rt,J),K?K.add(rt):V.add.existing(rt),L.push(rt)}}return L},createFromTiles:function(w,R,A,L,F,G){return G=this.getLayer(G),G===null?null:y.CreateFromTiles(w,R,A,L,F,G)},fill:function(w,R,A,L,F,G,I){return G===void 0&&(G=!0),I=this.getLayer(I),I===null?null:(y.Fill(w,R,A,L,F,G,I),this)},filterObjects:function(w,R,A){if(typeof w=="string"){var L=w;if(w=this.getObjectLayer(w),!w)return console.warn("No object layer found with the name: "+L),null}return w.objects.filter(R,A)},filterTiles:function(w,R,A,L,F,G,I,B){return B=this.getLayer(B),B===null?null:y.FilterTiles(w,R,A,L,F,G,I,B)},findByIndex:function(w,R,A,L){return L=this.getLayer(L),L===null?null:y.FindByIndex(w,R,A,L)},findObject:function(w,R,A){if(typeof w=="string"){var L=w;if(w=this.getObjectLayer(w),!w)return console.warn("No object layer found with the name: "+L),null}return w.objects.find(R,A)||null},findTile:function(w,R,A,L,F,G,I,B){return B=this.getLayer(B),B===null?null:y.FindTile(w,R,A,L,F,G,I,B)},forEachTile:function(w,R,A,L,F,G,I,B){return B=this.getLayer(B),B===null?null:(y.ForEachTile(w,R,A,L,F,G,I,B),this)},getImageIndex:function(w){return this.getIndex(this.images,w)},getImageLayerNames:function(){return!this.images||!Array.isArray(this.images)?[]:this.images.map(function(w){return w.name})},getIndex:function(w,R){for(var A=0;A<w.length;A++)if(w[A].name===R)return A;return null},getLayer:function(w){var R=this.getLayerIndex(w);return R!==null?this.layers[R]:null},getObjectLayer:function(w){var R=this.getIndex(this.objects,w);return R!==null?this.objects[R]:null},getObjectLayerNames:function(){return!this.objects||!Array.isArray(this.objects)?[]:this.objects.map(function(w){return w.name})},getLayerIndex:function(w){return w===void 0?this.currentLayerIndex:typeof w=="string"?this.getLayerIndexByName(w):typeof w=="number"&&w<this.layers.length?w:w instanceof C&&w.tilemap===this?w.layerIndex:null},getLayerIndexByName:function(w){return this.getIndex(this.layers,w)},getTileAt:function(w,R,A,L){return L=this.getLayer(L),L===null?null:y.GetTileAt(w,R,A,L)},getTileAtWorldXY:function(w,R,A,L,F){return F=this.getLayer(F),F===null?null:y.GetTileAtWorldXY(w,R,A,L,F)},getTileLayerNames:function(){return!this.layers||!Array.isArray(this.layers)?[]:this.layers.map(function(w){return w.name})},getTilesWithin:function(w,R,A,L,F,G){return G=this.getLayer(G),G===null?null:y.GetTilesWithin(w,R,A,L,F,G)},getTilesWithinShape:function(w,R,A,L){return L=this.getLayer(L),L===null?null:y.GetTilesWithinShape(w,R,A,L)},getTilesWithinWorldXY:function(w,R,A,L,F,G,I){return I=this.getLayer(I),I===null?null:y.GetTilesWithinWorldXY(w,R,A,L,F,G,I)},getTileset:function(w){var R=this.getIndex(this.tilesets,w);return R!==null?this.tilesets[R]:null},getTilesetIndex:function(w){return this.getIndex(this.tilesets,w)},hasTileAt:function(w,R,A){return A=this.getLayer(A),A===null?null:y.HasTileAt(w,R,A)},hasTileAtWorldXY:function(w,R,A,L){return L=this.getLayer(L),L===null?null:y.HasTileAtWorldXY(w,R,A,L)},layer:{get:function(){return this.layers[this.currentLayerIndex]},set:function(w){this.setLayer(w)}},putTileAt:function(w,R,A,L,F){return L===void 0&&(L=!0),F=this.getLayer(F),F===null?null:y.PutTileAt(w,R,A,L,F)},putTileAtWorldXY:function(w,R,A,L,F,G){return L===void 0&&(L=!0),G=this.getLayer(G),G===null?null:y.PutTileAtWorldXY(w,R,A,L,F,G)},putTilesAt:function(w,R,A,L,F){return L===void 0&&(L=!0),F=this.getLayer(F),F===null?null:(y.PutTilesAt(w,R,A,L,F),this)},randomize:function(w,R,A,L,F,G){return G=this.getLayer(G),G===null?null:(y.Randomize(w,R,A,L,F,G),this)},calculateFacesAt:function(w,R,A){return A=this.getLayer(A),A===null?null:(y.CalculateFacesAt(w,R,A),this)},calculateFacesWithin:function(w,R,A,L,F){return F=this.getLayer(F),F===null?null:(y.CalculateFacesWithin(w,R,A,L,F),this)},removeLayer:function(w){var R=this.getLayerIndex(w);if(R!==null){v(this.layers,R);for(var A=R;A<this.layers.length;A++)this.layers[A].tilemapLayer&&this.layers[A].tilemapLayer.layerIndex--;return this.currentLayerIndex===R&&(this.currentLayerIndex=0),this}else return null},destroyLayer:function(w){var R=this.getLayerIndex(w);return R!==null?(w=this.layers[R],w.tilemapLayer.destroy(),v(this.layers,R),this.currentLayerIndex===R&&(this.currentLayerIndex=0),this):null},removeAllLayers:function(){for(var w=this.layers,R=0;R<w.length;R++)w[R].tilemapLayer&&w[R].tilemapLayer.destroy(!1);return w.length=0,this.currentLayerIndex=0,this},removeTile:function(w,R,A){R===void 0&&(R=-1),A===void 0&&(A=!0);var L=[];Array.isArray(w)||(w=[w]);for(var F=0;F<w.length;F++){var G=w[F];L.push(this.removeTileAt(G.x,G.y,!0,A,G.tilemapLayer)),R>-1&&this.putTileAt(R,G.x,G.y,A,G.tilemapLayer)}return L},removeTileAt:function(w,R,A,L,F){return A===void 0&&(A=!0),L===void 0&&(L=!0),F=this.getLayer(F),F===null?null:y.RemoveTileAt(w,R,A,L,F)},removeTileAtWorldXY:function(w,R,A,L,F,G){return A===void 0&&(A=!0),L===void 0&&(L=!0),G=this.getLayer(G),G===null?null:y.RemoveTileAtWorldXY(w,R,A,L,F,G)},renderDebug:function(w,R,A){return A=this.getLayer(A),A===null?null:(this.orientation===c.ORTHOGONAL&&y.RenderDebug(w,R,A),this)},renderDebugFull:function(w,R){for(var A=this.layers,L=0;L<A.length;L++)y.RenderDebug(w,R,A[L]);return this},replaceByIndex:function(w,R,A,L,F,G,I){return I=this.getLayer(I),I===null?null:(y.ReplaceByIndex(w,R,A,L,F,G,I),this)},setCollision:function(w,R,A,L,F){return R===void 0&&(R=!0),A===void 0&&(A=!0),F===void 0&&(F=!0),L=this.getLayer(L),L===null?null:(y.SetCollision(w,R,A,L,F),this)},setCollisionBetween:function(w,R,A,L,F){return A===void 0&&(A=!0),L===void 0&&(L=!0),F=this.getLayer(F),F===null?null:(y.SetCollisionBetween(w,R,A,L,F),this)},setCollisionByProperty:function(w,R,A,L){return R===void 0&&(R=!0),A===void 0&&(A=!0),L=this.getLayer(L),L===null?null:(y.SetCollisionByProperty(w,R,A,L),this)},setCollisionByExclusion:function(w,R,A,L){return R===void 0&&(R=!0),A===void 0&&(A=!0),L=this.getLayer(L),L===null?null:(y.SetCollisionByExclusion(w,R,A,L),this)},setCollisionFromCollisionGroup:function(w,R,A){return w===void 0&&(w=!0),R===void 0&&(R=!0),A=this.getLayer(A),A===null?null:(y.SetCollisionFromCollisionGroup(w,R,A),this)},setTileIndexCallback:function(w,R,A,L){return L=this.getLayer(L),L===null?null:(y.SetTileIndexCallback(w,R,A,L),this)},setTileLocationCallback:function(w,R,A,L,F,G,I){return I=this.getLayer(I),I===null?null:(y.SetTileLocationCallback(w,R,A,L,F,G,I),this)},setLayer:function(w){var R=this.getLayerIndex(w);return R!==null&&(this.currentLayerIndex=R),this},setBaseTileSize:function(w,R){this.tileWidth=w,this.tileHeight=R,this.widthInPixels=this.width*w,this.heightInPixels=this.height*R;for(var A=0;A<this.layers.length;A++){this.layers[A].baseTileWidth=w,this.layers[A].baseTileHeight=R;for(var L=this.layers[A].data,F=this.layers[A].width,G=this.layers[A].height,I=0;I<G;I++)for(var B=0;B<F;B++){var k=L[I][B];k!==null&&k.setSize(void 0,void 0,w,R)}}return this},setLayerTileSize:function(w,R,A){if(A=this.getLayer(A),A===null)return this;A.tileWidth=w,A.tileHeight=R;for(var L=A.data,F=A.width,G=A.height,I=0;I<G;I++)for(var B=0;B<F;B++){var k=L[I][B];k!==null&&k.setSize(w,R)}return this},shuffle:function(w,R,A,L,F){return F=this.getLayer(F),F===null?null:(y.Shuffle(w,R,A,L,F),this)},swapByIndex:function(w,R,A,L,F,G,I){return I=this.getLayer(I),I===null?null:(y.SwapByIndex(w,R,A,L,F,G,I),this)},tileToWorldX:function(w,R,A){return A=this.getLayer(A),A===null?null:this._convert.TileToWorldX(w,R,A)},tileToWorldY:function(w,R,A){return A=this.getLayer(A),A===null?null:this._convert.TileToWorldY(w,R,A)},tileToWorldXY:function(w,R,A,L,F){return F=this.getLayer(F),F===null?null:this._convert.TileToWorldXY(w,R,A,L,F)},getTileCorners:function(w,R,A,L){return L=this.getLayer(L),L===null?null:this._convert.GetTileCorners(w,R,A,L)},weightedRandomize:function(w,R,A,L,F,G){return G=this.getLayer(G),G===null?null:(y.WeightedRandomize(R,A,L,F,w,G),this)},worldToTileX:function(w,R,A,L){return L=this.getLayer(L),L===null?null:this._convert.WorldToTileX(w,R,A,L)},worldToTileY:function(w,R,A,L){return L=this.getLayer(L),L===null?null:this._convert.WorldToTileY(w,R,A,L)},worldToTileXY:function(w,R,A,L,F,G){return G=this.getLayer(G),G===null?null:this._convert.WorldToTileXY(w,R,A,L,F,G)},destroy:function(){this.removeAllLayers(),this.tiles.length=0,this.tilesets.length=0,this.objects.length=0,this.scene=null}});n.exports=M},45939:(n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(44603),x=r(31989);o.register("tilemap",function(d){var h=d!==void 0?d:{};return x(this.scene,h.key,h.tileWidth,h.tileHeight,h.width,h.height,h.data,h.insertNull)})},46029:(n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(39429),x=r(31989);o.register("tilemap",function(d,h,l,a,f,c,u){return d===null&&(d=void 0),h===null&&(h=void 0),l===null&&(l=void 0),a===null&&(a=void 0),f===null&&(f=void 0),x(this.scene,d,h,l,a,f,c,u)})},20442:(n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(83419),x=r(78389),d=r(31401),h=r(95643),l=r(81086),a=r(19218),f=r(26099),c=new o({Extends:h,Mixins:[d.Alpha,d.BlendMode,d.ComputedSize,d.Depth,d.Flip,d.GetBounds,d.Mask,d.Origin,d.Pipeline,d.PostPipeline,d.Transform,d.Visible,d.ScrollFactor,x,a],initialize:function(v,g,m,y,C,b){h.call(this,v,"TilemapLayer"),this.isTilemap=!0,this.tilemap=g,this.layerIndex=m,this.layer=g.layers[m],this.layer.tilemapLayer=this,this.tileset=[],this.tilesDrawn=0,this.tilesTotal=this.layer.width*this.layer.height,this.culledTiles=[],this.skipCull=!1,this.cullPaddingX=1,this.cullPaddingY=1,this.cullCallback=l.GetCullTilesFunction(this.layer.orientation),this._renderOrder=0,this.gidMap=[],this.tempVec=new f,this.collisionCategory=1,this.collisionMask=1,this.setTilesets(y),this.setAlpha(this.layer.alpha),this.setPosition(C,b),this.setOrigin(0,0),this.setSize(g.tileWidth*this.layer.width,g.tileHeight*this.layer.height),this.initPipeline(),this.initPostPipeline(!1)},setTilesets:function(u){var v=[],g=[],m=this.tilemap;Array.isArray(u)||(u=[u]);for(var y=0;y<u.length;y++){var C=u[y];if(typeof C=="string"&&(C=m.getTileset(C)),C){g.push(C);for(var b=C.firstgid,M=0;M<C.total;M++)v[b+M]=C}}this.gidMap=v,this.tileset=g},setRenderOrder:function(u){var v=["right-down","left-down","right-up","left-up"];return typeof u=="string"&&(u=v.indexOf(u)),u>=0&&u<4&&(this._renderOrder=u),this},calculateFacesAt:function(u,v){return l.CalculateFacesAt(u,v,this.layer),this},calculateFacesWithin:function(u,v,g,m){return l.CalculateFacesWithin(u,v,g,m,this.layer),this},createFromTiles:function(u,v,g,m,y){return l.CreateFromTiles(u,v,g,m,y,this.layer)},cull:function(u){return this.cullCallback(this.layer,u,this.culledTiles,this._renderOrder)},copy:function(u,v,g,m,y,C,b){return l.Copy(u,v,g,m,y,C,b,this.layer),this},fill:function(u,v,g,m,y,C){return l.Fill(u,v,g,m,y,C,this.layer),this},filterTiles:function(u,v,g,m,y,C,b){return l.FilterTiles(u,v,g,m,y,C,b,this.layer)},findByIndex:function(u,v,g){return l.FindByIndex(u,v,g,this.layer)},findTile:function(u,v,g,m,y,C,b){return l.FindTile(u,v,g,m,y,C,b,this.layer)},forEachTile:function(u,v,g,m,y,C,b){return l.ForEachTile(u,v,g,m,y,C,b,this.layer),this},setTint:function(u,v,g,m,y,C){u===void 0&&(u=16777215);var b=function(M){M.tint=u,M.tintFill=!1};return this.forEachTile(b,this,v,g,m,y,C)},setTintFill:function(u,v,g,m,y,C){u===void 0&&(u=16777215);var b=function(M){M.tint=u,M.tintFill=!0};return this.forEachTile(b,this,v,g,m,y,C)},getTileAt:function(u,v,g){return l.GetTileAt(u,v,g,this.layer)},getTileAtWorldXY:function(u,v,g,m){return l.GetTileAtWorldXY(u,v,g,m,this.layer)},getIsoTileAtWorldXY:function(u,v,g,m,y){g===void 0&&(g=!0);var C=this.tempVec;return l.IsometricWorldToTileXY(u,v,!0,C,y,this.layer,g),this.getTileAt(C.x,C.y,m)},getTilesWithin:function(u,v,g,m,y){return l.GetTilesWithin(u,v,g,m,y,this.layer)},getTilesWithinShape:function(u,v,g){return l.GetTilesWithinShape(u,v,g,this.layer)},getTilesWithinWorldXY:function(u,v,g,m,y,C){return l.GetTilesWithinWorldXY(u,v,g,m,y,C,this.layer)},hasTileAt:function(u,v){return l.HasTileAt(u,v,this.layer)},hasTileAtWorldXY:function(u,v,g){return l.HasTileAtWorldXY(u,v,g,this.layer)},putTileAt:function(u,v,g,m){return l.PutTileAt(u,v,g,m,this.layer)},putTileAtWorldXY:function(u,v,g,m,y){return l.PutTileAtWorldXY(u,v,g,m,y,this.layer)},putTilesAt:function(u,v,g,m){return l.PutTilesAt(u,v,g,m,this.layer),this},randomize:function(u,v,g,m,y){return l.Randomize(u,v,g,m,y,this.layer),this},removeTileAt:function(u,v,g,m){return l.RemoveTileAt(u,v,g,m,this.layer)},removeTileAtWorldXY:function(u,v,g,m,y){return l.RemoveTileAtWorldXY(u,v,g,m,y,this.layer)},renderDebug:function(u,v){return l.RenderDebug(u,v,this.layer),this},replaceByIndex:function(u,v,g,m,y,C){return l.ReplaceByIndex(u,v,g,m,y,C,this.layer),this},setSkipCull:function(u){return u===void 0&&(u=!0),this.skipCull=u,this},setCullPadding:function(u,v){return u===void 0&&(u=1),v===void 0&&(v=1),this.cullPaddingX=u,this.cullPaddingY=v,this},setCollision:function(u,v,g,m){return l.SetCollision(u,v,g,this.layer,m),this},setCollisionBetween:function(u,v,g,m){return l.SetCollisionBetween(u,v,g,m,this.layer),this},setCollisionByProperty:function(u,v,g){return l.SetCollisionByProperty(u,v,g,this.layer),this},setCollisionByExclusion:function(u,v,g){return l.SetCollisionByExclusion(u,v,g,this.layer),this},setCollisionFromCollisionGroup:function(u,v){return l.SetCollisionFromCollisionGroup(u,v,this.layer),this},setTileIndexCallback:function(u,v,g){return l.SetTileIndexCallback(u,v,g,this.layer),this},setTileLocationCallback:function(u,v,g,m,y,C){return l.SetTileLocationCallback(u,v,g,m,y,C,this.layer),this},shuffle:function(u,v,g,m){return l.Shuffle(u,v,g,m,this.layer),this},swapByIndex:function(u,v,g,m,y,C){return l.SwapByIndex(u,v,g,m,y,C,this.layer),this},tileToWorldX:function(u,v){return this.tilemap.tileToWorldX(u,v,this)},tileToWorldY:function(u,v){return this.tilemap.tileToWorldY(u,v,this)},tileToWorldXY:function(u,v,g,m){return this.tilemap.tileToWorldXY(u,v,g,m,this)},getTileCorners:function(u,v,g){return this.tilemap.getTileCorners(u,v,g,this)},weightedRandomize:function(u,v,g,m,y){return l.WeightedRandomize(v,g,m,y,u,this.layer),this},worldToTileX:function(u,v,g){return this.tilemap.worldToTileX(u,v,g,this)},worldToTileY:function(u,v,g){return this.tilemap.worldToTileY(u,v,g,this)},worldToTileXY:function(u,v,g,m,y){return this.tilemap.worldToTileXY(u,v,g,m,y,this)},destroy:function(u){u===void 0&&(u=!0),this.tilemap&&(this.layer.tilemapLayer===this&&(this.layer.tilemapLayer=void 0),u&&this.tilemap.removeLayer(this),this.tilemap=void 0,this.layer=void 0,this.culledTiles.length=0,this.cullCallback=null,this.gidMap=[],this.tileset=[],h.prototype.destroy.call(this))}});n.exports=c},16153:(n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(61340),x=new o,d=new o,h=new o,l=function(a,f,c,u){var v=f.cull(c),g=v.length,m=c.alpha*f.alpha;if(!(g===0||m<=0)){var y=x,C=d,b=h;C.applyITRS(f.x,f.y,f.rotation,f.scaleX,f.scaleY),y.copyFrom(c.matrix);var M=a.currentContext,w=f.gidMap;M.save(),u?(y.multiplyWithOffset(u,-c.scrollX*f.scrollFactorX,-c.scrollY*f.scrollFactorY),C.e=f.x,C.f=f.y,y.multiply(C,b),b.copyToContext(M)):(C.e-=c.scrollX*f.scrollFactorX,C.f-=c.scrollY*f.scrollFactorY,C.copyToContext(M)),(!a.antialias||f.scaleX>1||f.scaleY>1)&&(M.imageSmoothingEnabled=!1);for(var R=0;R<g;R++){var A=v[R],L=w[A.index];if(L){var F=L.image.getSourceImage(),G=L.getTileTextureCoordinates(A.index),I=L.tileWidth,B=L.tileHeight;if(!(G===null||I===0||B===0)){var k=I*.5,U=B*.5;G.x+=L.tileOffset.x,G.y+=L.tileOffset.y,M.save(),M.translate(A.pixelX+k,A.pixelY+U),A.rotation!==0&&M.rotate(A.rotation),(A.flipX||A.flipY)&&M.scale(A.flipX?-1:1,A.flipY?-1:1),M.globalAlpha=m*A.alpha,M.drawImage(F,G.x,G.y,I,B,-k,-U,I,B),M.restore()}}}M.restore()}};n.exports=l},19218:(n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(29747),x=o,d=o;x=r(99558),d=r(16153),n.exports={renderWebGL:x,renderCanvas:d}},99558:(n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(70554),x=function(d,h,l){var a=h.cull(l),f=a.length,c=l.alpha*h.alpha;if(!(f===0||c<=0)){var u=h.gidMap,v=d.pipelines.set(h.pipeline,h),g=o.getTintAppendFloatAlpha,m=h.scrollFactorX,y=h.scrollFactorY,C=h.x,b=h.y,M=h.scaleX,w=h.scaleY;d.pipelines.preBatch(h);for(var R=0;R<f;R++){var A=a[R],L=u[A.index];if(L){var F=L.getTileTextureCoordinates(A.index),G=L.tileWidth,I=L.tileHeight;if(!(!F||G===0||I===0)){var B=G*.5,k=I*.5,U=L.glTexture,H=v.setTexture2D(U,h),X=G,j=I,J=F.x,Y=F.y,$=L.tileOffset.x,z=L.tileOffset.y,V=g(A.tint,c*A.alpha);v.batchTexture(h,U,U.width,U.height,C+A.pixelX*M+(B*M-$),b+A.pixelY*w+(k*w-z),G,I,M,w,A.rotation,A.flipX,A.flipY,m,y,B,k,J,Y,X,j,V,V,V,V,A.tintFill,0,0,l,null,!0,H,!0)}}}d.pipelines.postBatch(h)}};n.exports=x},33629:(n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(83419),x=r(26099),d=new o({initialize:function(l,a,f,c,u,v,g,m,y){(f===void 0||f<=0)&&(f=32),(c===void 0||c<=0)&&(c=32),u===void 0&&(u=0),v===void 0&&(v=0),g===void 0&&(g={}),m===void 0&&(m={}),this.name=l,this.firstgid=a,this.tileWidth=f,this.tileHeight=c,this.tileMargin=u,this.tileSpacing=v,this.tileProperties=g,this.tileData=m,this.tileOffset=new x,y!==void 0&&this.tileOffset.set(y.x,y.y),this.image=null,this.glTexture=null,this.rows=0,this.columns=0,this.total=0,this.texCoordinates=[]},getTileProperties:function(h){return this.containsTileIndex(h)?this.tileProperties[h-this.firstgid]:null},getTileData:function(h){return this.containsTileIndex(h)?this.tileData[h-this.firstgid]:null},getTileCollisionGroup:function(h){var l=this.getTileData(h);return l&&l.objectgroup?l.objectgroup:null},containsTileIndex:function(h){return h>=this.firstgid&&h<this.firstgid+this.total},getTileTextureCoordinates:function(h){return this.containsTileIndex(h)?this.texCoordinates[h-this.firstgid]:null},setImage:function(h){this.image=h;var l=h.get(),a=h.getFrameBounds();return this.glTexture=l.source.glTexture,l.width>a.width||l.height>a.height?this.updateTileData(l.width,l.height):this.updateTileData(a.width,a.height,a.x,a.y),this},setTileSize:function(h,l){return h!==void 0&&(this.tileWidth=h),l!==void 0&&(this.tileHeight=l),this.image&&this.updateTileData(this.image.source[0].width,this.image.source[0].height),this},setSpacing:function(h,l){return h!==void 0&&(this.tileMargin=h),l!==void 0&&(this.tileSpacing=l),this.image&&this.updateTileData(this.image.source[0].width,this.image.source[0].height),this},updateTileData:function(h,l,a,f){a===void 0&&(a=0),f===void 0&&(f=0);var c=(l-this.tileMargin*2+this.tileSpacing)/(this.tileHeight+this.tileSpacing),u=(h-this.tileMargin*2+this.tileSpacing)/(this.tileWidth+this.tileSpacing);(c%1!==0||u%1!==0)&&console.warn("Image tile area not tile size multiple in: "+this.name),c=Math.floor(c),u=Math.floor(u),this.rows=c,this.columns=u,this.total=c*u,this.texCoordinates.length=0;for(var v=this.tileMargin+a,g=this.tileMargin+f,m=0;m<this.rows;m++){for(var y=0;y<this.columns;y++)this.texCoordinates.push({x:v,y:g}),v+=this.tileWidth+this.tileSpacing;v=this.tileMargin+a,g+=this.tileHeight+this.tileSpacing}return this}});n.exports=d},72023:(n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(7423),x=function(d,h,l){var a=o(d,h,!0,l),f=o(d,h-1,!0,l),c=o(d,h+1,!0,l),u=o(d-1,h,!0,l),v=o(d+1,h,!0,l),g=a&&a.collides;return g&&(a.faceTop=!0,a.faceBottom=!0,a.faceLeft=!0,a.faceRight=!0),f&&f.collides&&(g&&(a.faceTop=!1),f.faceBottom=!g),c&&c.collides&&(g&&(a.faceBottom=!1),c.faceTop=!g),u&&u.collides&&(g&&(a.faceLeft=!1),u.faceRight=!g),v&&v.collides&&(g&&(a.faceRight=!1),v.faceLeft=!g),a&&!a.collides&&a.resetFaces(),a};n.exports=x},42573:(n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(7423),x=r(7386),d=function(h,l,a,f,c){for(var u=null,v=null,g=null,m=null,y=x(h,l,a,f,null,c),C=0;C<y.length;C++){var b=y[C];b&&(b.collides?(u=o(b.x,b.y-1,!0,c),v=o(b.x,b.y+1,!0,c),g=o(b.x-1,b.y,!0,c),m=o(b.x+1,b.y,!0,c),b.faceTop=!(u&&u.collides),b.faceBottom=!(v&&v.collides),b.faceLeft=!(g&&g.collides),b.faceRight=!(m&&m.collides)):b.resetFaces())}};n.exports=d},33528:(n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(26099),x=new o,d=function(h,l,a,f){var c=a.tilemapLayer,u=c.cullPaddingX,v=c.cullPaddingY,g=c.tilemap.tileToWorldXY(h,l,x,f,c);return g.x>f.worldView.x+c.scaleX*a.tileWidth*(-u-.5)&&g.x<f.worldView.right+c.scaleX*a.tileWidth*(u-.5)&&g.y>f.worldView.y+c.scaleY*a.tileHeight*(-v-1)&&g.y<f.worldView.bottom+c.scaleY*a.tileHeight*(v-.5)};n.exports=d},1785:(n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(42573),x=r(7386),d=r(62991),h=r(23029),l=function(a,f,c,u,v,g,m,y){m===void 0&&(m=!0);var C=x(a,f,c,u,null,y),b=[];C.forEach(function(G){var I=new h(G.layer,G.index,G.x,G.y,G.width,G.height,G.baseWidth,G.baseHeight);I.copy(G),b.push(I)});for(var M=v-a,w=g-f,R=0;R<b.length;R++){var A=b[R],L=A.x+M,F=A.y+w;d(L,F,y)&&y.data[F][L]&&(A.x=L,A.y=F,A.updatePixelXY(),y.data[F][L]=A)}m&&o(v-1,g-1,c+2,u+2,y),C.length=0,b.length=0};n.exports=l},78419:(n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(62644),x=r(7386),d=r(27987),h=function(l,a,f,c,u,v){f||(f={}),Array.isArray(l)||(l=[l]);var g=v.tilemapLayer;c||(c=g.scene),u||(u=c.cameras.main);var m=v.width,y=v.height,C=x(0,0,m,y,null,v),b=[],M,w=function(F,G,I){for(var B=0;B<I.length;B++){var k=I[B];F.hasOwnProperty(k)||(F[k]=G[k])}};for(M=0;M<C.length;M++){var R=C[M],A=o(f);if(l.indexOf(R.index)!==-1){var L=g.tileToWorldXY(R.x,R.y,void 0,u,v);A.x=L.x,A.y=L.y,w(A,R,["rotation","flipX","flipY","alpha","visible","tint"]),A.hasOwnProperty("origin")||(A.x+=R.width*.5,A.y+=R.height*.5),A.hasOwnProperty("useSpriteSheet")&&(A.key=R.tileset.image,A.frame=R.index-1),b.push(c.make.sprite(A))}}if(Array.isArray(a))for(M=0;M<l.length;M++)d(l[M],a[M],0,0,m,y,v);else if(a!==null)for(M=0;M<l.length;M++)d(l[M],a,0,0,m,y,v);return b};n.exports=h},19545:(n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(87841),x=r(63448),d=r(56583),h=new o,l=function(a,f){var c=a.tilemapLayer.tilemap,u=a.tilemapLayer,v=Math.floor(c.tileWidth*u.scaleX),g=Math.floor(c.tileHeight*u.scaleY),m=d(f.worldView.x-u.x,v,0,!0)-u.cullPaddingX,y=x(f.worldView.right-u.x,v,0,!0)+u.cullPaddingX,C=d(f.worldView.y-u.y,g,0,!0)-u.cullPaddingY,b=x(f.worldView.bottom-u.y,g,0,!0)+u.cullPaddingY;return h.setTo(m,C,y-m,b-C)};n.exports=l},30003:(n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(19545),x=r(32483),d=function(h,l,a,f){a===void 0&&(a=[]),f===void 0&&(f=0),a.length=0;var c=h.tilemapLayer,u=o(h,l);return(c.skipCull||c.scrollFactorX!==1||c.scrollFactorY!==1)&&(u.left=0,u.right=h.width,u.top=0,u.bottom=h.height),x(h,u,f,a),a};n.exports=d},35137:(n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(7386),x=r(42573),d=r(20576),h=function(l,a,f,c,u,v,g){for(var m=g.collideIndexes.indexOf(l)!==-1,y=o(a,f,c,u,null,g),C=0;C<y.length;C++)y[C].index=l,d(y[C],m);v&&x(a-1,f-1,c+2,u+2,g)};n.exports=h},40253:(n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(7386),x=function(d,h,l,a,f,c,u,v){var g=o(l,a,f,c,u,v);return g.filter(d,h)};n.exports=x},52692:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(r,o,x,d){o===void 0&&(o=0),x===void 0&&(x=!1);var h=0,l,a,f;if(x){for(a=d.height-1;a>=0;a--)for(l=d.width-1;l>=0;l--)if(f=d.data[a][l],f&&f.index===r){if(h===o)return f;h+=1}}else for(a=0;a<d.height;a++)for(l=0;l<d.width;l++)if(f=d.data[a][l],f&&f.index===r){if(h===o)return f;h+=1}return null};n.exports=T},66151:(n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(7386),x=function(d,h,l,a,f,c,u,v){var g=o(l,a,f,c,u,v);return g.find(d,h)||null};n.exports=x},97560:(n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(7386),x=function(d,h,l,a,f,c,u,v){var g=o(l,a,f,c,u,v);g.forEach(d,h)};n.exports=x},43305:(n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(91907),x=r(30003),d=r(9474),h=r(14018),l=r(29747),a=r(54503),f=function(c){return c===o.ORTHOGONAL?x:c===o.HEXAGONAL?d:c===o.STAGGERED?a:c===o.ISOMETRIC?h:l};n.exports=f},7423:(n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(62991),x=function(d,h,l,a){if(o(d,h,a)){var f=a.data[h][d]||null;return f?f.index===-1?l?f:null:f:null}else return null};n.exports=x},60540:(n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(7423),x=r(26099),d=new x,h=function(l,a,f,c,u){return u.tilemapLayer.worldToTileXY(l,a,!0,d,c),o(d.x,d.y,f,u)};n.exports=h},55826:(n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(26099),x=function(d,h,l,a){var f=a.baseTileWidth,c=a.baseTileHeight,u=a.tilemapLayer,v=0,g=0;u&&(l||(l=u.scene.cameras.main),v=u.x+l.scrollX*(1-u.scrollFactorX),g=u.y+l.scrollY*(1-u.scrollFactorY),f*=u.scaleX,c*=u.scaleY);var m=v+d*f,y=g+h*c;return[new o(m,y),new o(m+f,y),new o(m+f,y+c),new o(m,y+c)]};n.exports=x},11758:(n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(91907),x=r(27229),d=r(29747),h=r(55826),l=function(a){return a===o.ORTHOGONAL?h:a===o.ISOMETRIC?d:a===o.HEXAGONAL?x:(a===o.STAGGERED,d)};n.exports=l},39167:(n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(91907),x=r(29747),d=r(97281),h=function(l){return l===o.ORTHOGONAL?d:x};n.exports=h},62e3:(n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(91907),x=r(19951),d=r(14127),h=r(29747),l=r(97202),a=r(70326),f=function(c){return c===o.ORTHOGONAL?a:c===o.ISOMETRIC?d:c===o.HEXAGONAL?x:c===o.STAGGERED?l:h};n.exports=f},5984:(n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(91907),x=r(29747),d=r(28054),h=r(29650),l=function(a){return a===o.ORTHOGONAL?h:a===o.STAGGERED?d:x};n.exports=l},7386:(n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(95540),x=function(d,h,l,a,f,c){d===void 0&&(d=0),h===void 0&&(h=0),l===void 0&&(l=c.width),a===void 0&&(a=c.height),f||(f={});var u=o(f,"isNotEmpty",!1),v=o(f,"isColliding",!1),g=o(f,"hasInterestingFace",!1);d<0&&(l+=d,d=0),h<0&&(a+=h,h=0),d+l>c.width&&(l=Math.max(c.width-d,0)),h+a>c.height&&(a=Math.max(c.height-h,0));for(var m=[],y=h;y<h+a;y++)for(var C=d;C<d+l;C++){var b=c.data[y][C];if(b!==null){if(u&&b.index===-1||v&&!b.collides||g&&!b.hasInterestingFace)continue;m.push(b)}}return m};n.exports=x},91141:(n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(55738),x=r(7386),d=r(91865),h=r(29747),l=r(26099),a=r(91907),f=function(m,y){return d.RectangleToTriangle(y,m)},c=new l,u=new l,v=new l,g=function(m,y,C,b){if(b.orientation!==a.ORTHOGONAL)return console.warn("GetTilesWithinShape only works with orthogonal tilemaps"),[];if(m===void 0)return[];var M=h;m instanceof o.Circle?M=d.CircleToRectangle:m instanceof o.Rectangle?M=d.RectangleToRectangle:m instanceof o.Triangle?M=f:m instanceof o.Line&&(M=d.LineToRectangle),b.tilemapLayer.worldToTileXY(m.left,m.top,!0,u,C);var w=u.x,R=u.y;b.tilemapLayer.worldToTileXY(m.right,m.bottom,!1,v,C);var A=Math.ceil(v.x),L=Math.ceil(v.y),F=Math.max(A-w,1),G=Math.max(L-R,1),I=x(w,R,F,G,y,b),B=b.tileWidth,k=b.tileHeight;b.tilemapLayer&&(B*=b.tilemapLayer.scaleX,k*=b.tilemapLayer.scaleY);for(var U=[],H=new o.Rectangle(0,0,B,k),X=0;X<I.length;X++){var j=I[X];b.tilemapLayer.tileToWorldXY(j.x,j.y,c,C),H.x=c.x,H.y=c.y,M(m,H)&&U.push(j)}return U};n.exports=g},96523:(n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(7386),x=r(26099),d=new x,h=new x,l=function(a,f,c,u,v,g,m){var y=m.tilemapLayer.tilemap._convert.WorldToTileXY;y(a,f,!0,d,g,m);var C=d.x,b=d.y;y(a+c,f+u,!1,h,g,m);var M=Math.ceil(h.x),w=Math.ceil(h.y);return o(C,b,M-C,w-b,v,m)};n.exports=l},96113:(n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(91907),x=r(20242),d=r(10095),h=function(l){return l===o.ORTHOGONAL?d:x};n.exports=h},16926:(n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(91907),x=r(86625),d=r(96897),h=r(29747),l=r(15108),a=r(85896),f=function(c){return c===o.ORTHOGONAL?a:c===o.ISOMETRIC?d:c===o.HEXAGONAL?x:c===o.STAGGERED?l:h};n.exports=f},55762:(n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(91907),x=r(20242),d=r(51900),h=r(63288),l=function(a){return a===o.ORTHOGONAL?h:a===o.STAGGERED?d:x};n.exports=l},45091:(n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(62991),x=function(d,h,l){if(o(d,h,l)){var a=l.data[h][d];return a!==null&&a.index>-1}else return!1};n.exports=x},24152:(n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(45091),x=r(26099),d=new x,h=function(l,a,f,c){c.tilemapLayer.worldToTileXY(l,a,!0,d,f);var u=d.x,v=d.y;return o(u,v,c)};n.exports=h},90454:(n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(63448),x=r(56583),d=function(h,l){var a=h.tilemapLayer.tilemap,f=h.tilemapLayer,c=Math.floor(a.tileWidth*f.scaleX),u=Math.floor(a.tileHeight*f.scaleY),v=h.hexSideLength,g,m,y,C;if(h.staggerAxis==="y"){var b=(u-v)/2+v;g=x(l.worldView.x-f.x,c,0,!0)-f.cullPaddingX,m=o(l.worldView.right-f.x,c,0,!0)+f.cullPaddingX,y=x(l.worldView.y-f.y,b,0,!0)-f.cullPaddingY,C=o(l.worldView.bottom-f.y,b,0,!0)+f.cullPaddingY}else{var M=(c-v)/2+v;g=x(l.worldView.x-f.x,M,0,!0)-f.cullPaddingX,m=o(l.worldView.right-f.x,M,0,!0)+f.cullPaddingX,y=x(l.worldView.y-f.y,u,0,!0)-f.cullPaddingY,C=o(l.worldView.bottom-f.y,u,0,!0)+f.cullPaddingY}return{left:g,right:m,top:y,bottom:C}};n.exports=d},9474:(n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(90454),x=r(32483),d=function(h,l,a,f){a===void 0&&(a=[]),f===void 0&&(f=0),a.length=0;var c=h.tilemapLayer,u=o(h,l);return c.skipCull&&c.scrollFactorX===1&&c.scrollFactorY===1&&(u.left=0,u.right=h.width,u.top=0,u.bottom=h.height),x(h,u,f,a),a};n.exports=d},27229:(n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(19951),x=r(26099),d=new x,h=function(l,a,f,c){var u=c.baseTileWidth,v=c.baseTileHeight,g=c.tilemapLayer;g&&(u*=g.scaleX,v*=g.scaleY);var m=o(l,a,d,f,c),y=[],C=.5773502691896257,b,M;c.staggerAxis==="y"?(b=C*u,M=v/2):(b=u/2,M=C*v);for(var w=0;w<6;w++){var R=2*Math.PI*(.5-w)/6;y.push(new x(m.x+b*Math.cos(R),m.y+M*Math.sin(R)))}return y};n.exports=h},19951:(n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(26099),x=function(d,h,l,a,f){l||(l=new o);var c=f.baseTileWidth,u=f.baseTileHeight,v=f.tilemapLayer,g=0,m=0;v&&(a||(a=v.scene.cameras.main),g=v.x+a.scrollX*(1-v.scrollFactorX),m=v.y+a.scrollY*(1-v.scrollFactorY),c*=v.scaleX,u*=v.scaleY);var y=c/2,C=u/2,b,M,w=f.staggerAxis,R=f.staggerIndex;return w==="y"?(b=g+c*d+c,M=m+1.5*h*C+C,h%2===0&&(R==="odd"?b-=y:b+=y)):w==="x"&&R==="odd"&&(b=g+1.5*d*y+y,M=m+u*d+u,d%2===0&&(R==="odd"?M-=C:M+=C)),l.set(b,M)};n.exports=x},86625:(n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(26099),x=function(d,h,l,a,f,c){a||(a=new o);var u=c.baseTileWidth,v=c.baseTileHeight,g=c.tilemapLayer;g&&(f||(f=g.scene.cameras.main),d=d-(g.x+f.scrollX*(1-g.scrollFactorX)),h=h-(g.y+f.scrollY*(1-g.scrollFactorY)),u*=g.scaleX,v*=g.scaleY);var m=.5773502691896257,y=-.3333333333333333,C=0,b=.6666666666666666,M=u/2,w=v/2,R,A,L,F,G;c.staggerAxis==="y"?(R=(d-M)/(m*u),A=(h-w)/w,L=m*R+y*A,F=C*R+b*A):(R=(d-M)/M,A=(h-w)/(m*v),L=y*R+m*A,F=b*R+C*A),G=-L-F;var I=Math.round(L),B=Math.round(F),k=Math.round(G),U=Math.abs(I-L),H=Math.abs(B-F),X=Math.abs(k-G);U>H&&U>X?I=-B-k:H>X&&(B=-I-k);var j,J=B;return c.staggerIndex==="odd"?j=J%2===0?B/2+I:B/2+I-.5:j=J%2===0?B/2+I:B/2+I+.5,a.set(j,J)};n.exports=x},62991:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(r,o,x){return r>=0&&r<x.width&&o>=0&&o<x.height};n.exports=T},14018:(n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(33528),x=function(d,h,l,a){l===void 0&&(l=[]),a===void 0&&(a=0),l.length=0;var f=d.tilemapLayer,c=d.data,u=d.width,v=d.height,g=f.skipCull,m=0,y=u,C=0,b=v,M,w,R;if(a===0)for(w=C;w<b;w++)for(M=m;M<y;M++)R=c[w][M],!(!R||R.index===-1||!R.visible||R.alpha===0)&&(!g&&!o(M,w,d,h)||l.push(R));else if(a===1)for(w=C;w<b;w++)for(M=y;M>=m;M--)R=c[w][M],!(!R||R.index===-1||!R.visible||R.alpha===0)&&(!g&&!o(M,w,d,h)||l.push(R));else if(a===2)for(w=b;w>=C;w--)for(M=m;M<y;M++)R=c[w][M],!(!R||R.index===-1||!R.visible||R.alpha===0)&&(!g&&!o(M,w,d,h)||l.push(R));else if(a===3)for(w=b;w>=C;w--)for(M=y;M>=m;M--)R=c[w][M],!(!R||R.index===-1||!R.visible||R.alpha===0)&&(!g&&!o(M,w,d,h)||l.push(R));return f.tilesDrawn=l.length,f.tilesTotal=u*v,l};n.exports=x},14127:(n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(26099),x=function(d,h,l,a,f){l||(l=new o);var c=f.baseTileWidth,u=f.baseTileHeight,v=f.tilemapLayer,g=0,m=0;v&&(a||(a=v.scene.cameras.main),g=v.x+a.scrollX*(1-v.scrollFactorX),c*=v.scaleX,m=v.y+a.scrollY*(1-v.scrollFactorY),u*=v.scaleY);var y=g+(d-h)*(c/2),C=m+(d+h)*(u/2);return l.set(y,C)};n.exports=x},96897:(n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(26099),x=function(d,h,l,a,f,c,u){a||(a=new o);var v=c.baseTileWidth,g=c.baseTileHeight,m=c.tilemapLayer;m&&(f||(f=m.scene.cameras.main),h=h-(m.y+f.scrollY*(1-m.scrollFactorY)),g*=m.scaleY,d=d-(m.x+f.scrollX*(1-m.scrollFactorX)),v*=m.scaleX);var y=v/2,C=g/2;d=d-y,u||(h=h-g);var b=.5*(d/y+h/C),M=.5*(-d/y+h/C);return l&&(b=Math.floor(b),M=Math.floor(M)),a.set(b,M)};n.exports=x},71558:(n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(23029),x=r(62991),d=r(72023),h=r(20576),l=function(a,f,c,u,v){if(u===void 0&&(u=!0),!x(f,c,v))return null;var g,m=v.data[c][f],y=m&&m.collides;a instanceof o?(v.data[c][f]===null&&(v.data[c][f]=new o(v,a.index,f,c,v.tileWidth,v.tileHeight)),v.data[c][f].copy(a)):(g=a,v.data[c][f]===null?v.data[c][f]=new o(v,g,f,c,v.tileWidth,v.tileHeight):v.data[c][f].index=g);var C=v.data[c][f],b=v.collideIndexes.indexOf(C.index)!==-1;if(g=a instanceof o?a.index:a,g===-1)C.width=v.tileWidth,C.height=v.tileHeight;else{var M=v.tilemapLayer.tilemap,w=M.tiles,R=w[g][2],A=M.tilesets[R];C.width=A.tileWidth,C.height=A.tileHeight}return h(C,b),u&&y!==C.collides&&d(f,c,v),C};n.exports=l},26303:(n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(71558),x=r(26099),d=new x,h=function(l,a,f,c,u,v){return v.tilemapLayer.worldToTileXY(a,f,!0,d,u,v),o(l,d.x,d.y,c,v)};n.exports=h},14051:(n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(42573),x=r(71558),d=function(h,l,a,f,c){if(f===void 0&&(f=!0),!Array.isArray(h))return null;Array.isArray(h[0])||(h=[h]);for(var u=h.length,v=h[0].length,g=0;g<u;g++)for(var m=0;m<v;m++){var y=h[g][m];x(y,l+m,a+g,!1,c)}f&&o(l-1,a-1,v+2,u+2,c)};n.exports=d},77389:(n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(7386),x=r(26546),d=function(h,l,a,f,c,u){var v,g=o(h,l,a,f,{},u);if(!c)for(c=[],v=0;v<g.length;v++)c.indexOf(g[v].index)===-1&&c.push(g[v].index);for(v=0;v<g.length;v++)g[v].index=x(c)};n.exports=d},63557:(n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(23029),x=r(62991),d=r(72023),h=function(l,a,f,c,u){if(f===void 0&&(f=!0),c===void 0&&(c=!0),!x(l,a,u))return null;var v=u.data[a][l];if(v)u.data[a][l]=f?null:new o(u,-1,l,a,u.tileWidth,u.tileHeight);else return null;return c&&v&&v.collides&&d(l,a,u),v};n.exports=h},94178:(n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(63557),x=r(26099),d=new x,h=function(l,a,f,c,u,v){return v.tilemapLayer.worldToTileXY(l,a,!0,d,u,v),o(d.x,d.y,f,c,v)};n.exports=h},15533:(n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(7386),x=r(3956),d=new x(105,210,231,150),h=new x(243,134,48,200),l=new x(40,39,37,150),a=function(f,c,u){c===void 0&&(c={});var v=c.tileColor!==void 0?c.tileColor:d,g=c.collidingTileColor!==void 0?c.collidingTileColor:h,m=c.faceColor!==void 0?c.faceColor:l,y=o(0,0,u.width,u.height,null,u);f.translateCanvas(u.tilemapLayer.x,u.tilemapLayer.y),f.scaleCanvas(u.tilemapLayer.scaleX,u.tilemapLayer.scaleY);for(var C=0;C<y.length;C++){var b=y[C],M=b.tileset?b.tileset.tileOffset:{x:0,y:0},w=b.width,R=b.height,A=b.pixelX-M.x,L=b.pixelY-M.y,F=b.collides?g:v;F!==null&&(f.fillStyle(F.color,F.alpha/255),f.fillRect(A,L,w,R)),A+=1,L+=1,w-=2,R-=2,m!==null&&(f.lineStyle(1,m.color,m.alpha/255),b.faceTop&&f.lineBetween(A,L,A+w,L),b.faceRight&&f.lineBetween(A+w,L,A+w,L+R),b.faceBottom&&f.lineBetween(A,L+R,A+w,L+R),b.faceLeft&&f.lineBetween(A,L,A,L+R))}};n.exports=a},27987:(n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(7386),x=function(d,h,l,a,f,c,u){for(var v=o(l,a,f,c,null,u),g=0;g<v.length;g++)v[g]&&v[g].index===d&&(v[g].index=h)};n.exports=x},32483:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(r,o,x,d){var h=r.data,l=r.width,a=r.height,f=r.tilemapLayer,c=Math.max(0,o.left),u=Math.min(l,o.right),v=Math.max(0,o.top),g=Math.min(a,o.bottom),m,y,C;if(x===0)for(y=v;y<g;y++)for(m=c;h[y]&&m<u;m++)C=h[y][m],!(!C||C.index===-1||!C.visible||C.alpha===0)&&d.push(C);else if(x===1)for(y=v;y<g;y++)for(m=u;h[y]&&m>=c;m--)C=h[y][m],!(!C||C.index===-1||!C.visible||C.alpha===0)&&d.push(C);else if(x===2)for(y=g;y>=v;y--)for(m=c;h[y]&&m<u;m++)C=h[y][m],!(!C||C.index===-1||!C.visible||C.alpha===0)&&d.push(C);else if(x===3)for(y=g;y>=v;y--)for(m=u;h[y]&&m>=c;m--)C=h[y][m],!(!C||C.index===-1||!C.visible||C.alpha===0)&&d.push(C);return f.tilesDrawn=d.length,f.tilesTotal=l*a,d};n.exports=T},57068:(n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(20576),x=r(42573),d=r(9589),h=function(l,a,f,c,u){a===void 0&&(a=!0),f===void 0&&(f=!0),u===void 0&&(u=!0),Array.isArray(l)||(l=[l]);for(var v=0;v<l.length;v++)d(l[v],a,c);if(u)for(var g=0;g<c.height;g++)for(var m=0;m<c.width;m++){var y=c.data[g][m];y&&l.indexOf(y.index)!==-1&&o(y,a)}f&&x(0,0,c.width,c.height,c)};n.exports=h},37266:(n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(20576),x=r(42573),d=r(9589),h=function(l,a,f,c,u,v){if(f===void 0&&(f=!0),c===void 0&&(c=!0),v===void 0&&(v=!0),!(l>a)){for(var g=l;g<=a;g++)d(g,f,u);if(v)for(var m=0;m<u.height;m++)for(var y=0;y<u.width;y++){var C=u.data[m][y];C&&C.index>=l&&C.index<=a&&o(C,f)}c&&x(0,0,u.width,u.height,u)}};n.exports=h},75661:(n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(20576),x=r(42573),d=r(9589),h=function(l,a,f,c){a===void 0&&(a=!0),f===void 0&&(f=!0),Array.isArray(l)||(l=[l]);for(var u=0;u<c.height;u++)for(var v=0;v<c.width;v++){var g=c.data[u][v];g&&l.indexOf(g.index)===-1&&(o(g,a),d(g.index,a,c))}f&&x(0,0,c.width,c.height,c)};n.exports=h},64740:(n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(20576),x=r(42573),d=r(97022),h=function(l,a,f,c){a===void 0&&(a=!0),f===void 0&&(f=!0);for(var u=0;u<c.height;u++)for(var v=0;v<c.width;v++){var g=c.data[u][v];if(g){for(var m in l)if(d(g.properties,m)){var y=l[m];Array.isArray(y)||(y=[y]);for(var C=0;C<y.length;C++)g.properties[m]===y[C]&&o(g,a)}}}f&&x(0,0,c.width,c.height,c)};n.exports=h},63307:(n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(20576),x=r(42573),d=function(h,l,a){h===void 0&&(h=!0),l===void 0&&(l=!0);for(var f=0;f<a.height;f++)for(var c=0;c<a.width;c++){var u=a.data[f][c];if(u){var v=u.getCollisionGroup();v&&v.objects&&v.objects.length>0&&o(u,h)}}l&&x(0,0,a.width,a.height,a)};n.exports=d},9589:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(r,o,x){var d=x.collideIndexes.indexOf(r);o&&d===-1?x.collideIndexes.push(r):!o&&d!==-1&&x.collideIndexes.splice(d,1)};n.exports=T},20576:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(r,o){o?r.setCollision(!0,!0,!0,!0,!1):r.resetCollision(!1)};n.exports=T},79583:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(r,o,x,d){if(typeof r=="number")d.callbacks[r]=o!==null?{callback:o,callbackContext:x}:void 0;else for(var h=0,l=r.length;h<l;h++)d.callbacks[r[h]]=o!==null?{callback:o,callbackContext:x}:void 0};n.exports=T},93254:(n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(7386),x=function(d,h,l,a,f,c,u){for(var v=o(d,h,l,a,null,u),g=0;g<v.length;g++)v[g].setCollisionCallback(f,c)};n.exports=x},32903:(n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(7386),x=r(33680),d=function(h,l,a,f,c){var u=o(h,l,a,f,null,c),v=u.map(function(m){return m.index});x(v);for(var g=0;g<u.length;g++)u[g].index=v[g]};n.exports=d},61325:(n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(63448),x=r(56583),d=function(h,l){var a=h.tilemapLayer.tilemap,f=h.tilemapLayer,c=Math.floor(a.tileWidth*f.scaleX),u=Math.floor(a.tileHeight*f.scaleY),v=x(l.worldView.x-f.x,c,0,!0)-f.cullPaddingX,g=o(l.worldView.right-f.x,c,0,!0)+f.cullPaddingX,m=x(l.worldView.y-f.y,u/2,0,!0)-f.cullPaddingY,y=o(l.worldView.bottom-f.y,u/2,0,!0)+f.cullPaddingY;return{left:v,right:g,top:m,bottom:y}};n.exports=d},54503:(n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(61325),x=r(32483),d=function(h,l,a,f){a===void 0&&(a=[]),f===void 0&&(f=0),a.length=0;var c=h.tilemapLayer,u=o(h,l);return c.skipCull&&c.scrollFactorX===1&&c.scrollFactorY===1&&(u.left=0,u.right=h.width,u.top=0,u.bottom=h.height),x(h,u,f,a),a};n.exports=d},97202:(n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(26099),x=function(d,h,l,a,f){l||(l=new o);var c=f.baseTileWidth,u=f.baseTileHeight,v=f.tilemapLayer,g=0,m=0;v&&(a||(a=v.scene.cameras.main),g=v.x+a.scrollX*(1-v.scrollFactorX),c*=v.scaleX,m=v.y+a.scrollY*(1-v.scrollFactorY),u*=v.scaleY);var y=g+d*c+h%2*(c/2),C=m+h*(u/2);return l.set(y,C)};n.exports=x},28054:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(r,o,x){var d=x.baseTileHeight,h=x.tilemapLayer,l=0;return h&&(o===void 0&&(o=h.scene.cameras.main),l=h.y+o.scrollY*(1-h.scrollFactorY),d*=h.scaleY),l+r*(d/2)+d};n.exports=T},15108:(n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(26099),x=function(d,h,l,a,f,c){a||(a=new o);var u=c.baseTileWidth,v=c.baseTileHeight,g=c.tilemapLayer;g&&(f||(f=g.scene.cameras.main),h=h-(g.y+f.scrollY*(1-g.scrollFactorY)),v*=g.scaleY,d=d-(g.x+f.scrollX*(1-g.scrollFactorX)),u*=g.scaleX);var m=l?Math.floor(h/(v/2)):h/(v/2),y=l?Math.floor((d+m%2*.5*u)/u):(d+m%2*.5*u)/u;return a.set(y,m)};n.exports=x},51900:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(r,o,x,d){var h=d.baseTileHeight,l=d.tilemapLayer;return l&&(x||(x=l.scene.cameras.main),r=r-(l.y+x.scrollY*(1-l.scrollFactorY)),h*=l.scaleY),o?Math.floor(r/(h/2)):r/(h/2)};n.exports=T},86560:(n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(7386),x=function(d,h,l,a,f,c,u){for(var v=o(l,a,f,c,null,u),g=0;g<v.length;g++)v[g]&&(v[g].index===d?v[g].index=h:v[g].index===h&&(v[g].index=d))};n.exports=x},97281:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(r,o,x){var d=x.baseTileWidth,h=x.tilemapLayer,l=0;return h&&(o||(o=h.scene.cameras.main),l=h.x+o.scrollX*(1-h.scrollFactorX),d*=h.scaleX),l+r*d};n.exports=T},70326:(n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(97281),x=r(29650),d=r(26099),h=function(l,a,f,c,u){return f||(f=new d(0,0)),f.x=o(l,c,u),f.y=x(a,c,u),f};n.exports=h},29650:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(r,o,x){var d=x.baseTileHeight,h=x.tilemapLayer,l=0;return h&&(o||(o=h.scene.cameras.main),l=h.y+o.scrollY*(1-h.scrollFactorY),d*=h.scaleY),l+r*d};n.exports=T},77366:(n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(7386),x=r(75508),d=function(h,l,a,f,c,u){if(c){var v,g=o(h,l,a,f,null,u),m=0;for(v=0;v<c.length;v++)m+=c[v].weight;if(!(m<=0))for(v=0;v<g.length;v++){for(var y=x.RND.frac()*m,C=0,b=-1,M=0;M<c.length;M++)if(C+=c[M].weight,y<=C){var w=c[M].index;b=Array.isArray(w)?w[Math.floor(x.RND.frac()*w.length)]:w;break}g[v].index=b}}};n.exports=d},10095:(n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(85896),x=r(26099),d=new x,h=function(l,a,f,c){return o(l,0,a,d,f,c),d.x};n.exports=h},85896:(n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(26099),x=function(d,h,l,a,f,c){l===void 0&&(l=!0),a||(a=new o);var u=c.baseTileWidth,v=c.baseTileHeight,g=c.tilemapLayer;g&&(f||(f=g.scene.cameras.main),d=d-(g.x+f.scrollX*(1-g.scrollFactorX)),h=h-(g.y+f.scrollY*(1-g.scrollFactorY)),u*=g.scaleX,v*=g.scaleY);var m=d/u,y=h/v;return l&&(m=Math.floor(m),y=Math.floor(y)),a.set(m,y)};n.exports=x},63288:(n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(85896),x=r(26099),d=new x,h=function(l,a,f,c){return o(0,l,a,d,f,c),d.y};n.exports=h},81086:(n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports={CalculateFacesAt:r(72023),CalculateFacesWithin:r(42573),CheckIsoBounds:r(33528),Copy:r(1785),CreateFromTiles:r(78419),CullBounds:r(19545),CullTiles:r(30003),Fill:r(35137),FilterTiles:r(40253),FindByIndex:r(52692),FindTile:r(66151),ForEachTile:r(97560),GetCullTilesFunction:r(43305),GetTileAt:r(7423),GetTileAtWorldXY:r(60540),GetTileCorners:r(55826),GetTileCornersFunction:r(11758),GetTilesWithin:r(7386),GetTilesWithinShape:r(91141),GetTilesWithinWorldXY:r(96523),GetTileToWorldXFunction:r(39167),GetTileToWorldXYFunction:r(62e3),GetTileToWorldYFunction:r(5984),GetWorldToTileXFunction:r(96113),GetWorldToTileXYFunction:r(16926),GetWorldToTileYFunction:r(55762),HasTileAt:r(45091),HasTileAtWorldXY:r(24152),HexagonalCullBounds:r(90454),HexagonalCullTiles:r(9474),HexagonalGetTileCorners:r(27229),HexagonalTileToWorldXY:r(19951),HexagonalWorldToTileXY:r(86625),IsInLayerBounds:r(62991),IsometricCullTiles:r(14018),IsometricTileToWorldXY:r(14127),IsometricWorldToTileXY:r(96897),PutTileAt:r(71558),PutTileAtWorldXY:r(26303),PutTilesAt:r(14051),Randomize:r(77389),RemoveTileAt:r(63557),RemoveTileAtWorldXY:r(94178),RenderDebug:r(15533),ReplaceByIndex:r(27987),RunCull:r(32483),SetCollision:r(57068),SetCollisionBetween:r(37266),SetCollisionByExclusion:r(75661),SetCollisionByProperty:r(64740),SetCollisionFromCollisionGroup:r(63307),SetLayerCollisionIndex:r(9589),SetTileCollision:r(20576),SetTileIndexCallback:r(79583),SetTileLocationCallback:r(93254),Shuffle:r(32903),StaggeredCullBounds:r(61325),StaggeredCullTiles:r(54503),StaggeredTileToWorldXY:r(97202),StaggeredTileToWorldY:r(28054),StaggeredWorldToTileXY:r(15108),StaggeredWorldToTileY:r(51900),SwapByIndex:r(86560),TileToWorldX:r(97281),TileToWorldXY:r(70326),TileToWorldY:r(29650),WeightedRandomize:r(77366),WorldToTileX:r(10095),WorldToTileXY:r(85896),WorldToTileY:r(63288)}},91907:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports={ORTHOGONAL:0,ISOMETRIC:1,STAGGERED:2,HEXAGONAL:3}},21829:(n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o={ORIENTATION:r(91907)};n.exports=o},62501:(n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(79291),x=r(21829),d={Components:r(81086),Parsers:r(57442),Formats:r(80341),ImageCollection:r(16536),ParseToTilemap:r(31989),Tile:r(23029),Tilemap:r(49075),TilemapCreator:r(45939),TilemapFactory:r(46029),Tileset:r(33629),TilemapLayer:r(20442),Orientation:r(91907),LayerData:r(14977),MapData:r(87010),ObjectLayer:r(48700)};d=o(!1,d,x.ORIENTATION),n.exports=d},14977:(n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(83419),x=r(91907),d=r(95540),h=new o({initialize:function(a){a===void 0&&(a={}),this.name=d(a,"name","layer"),this.id=d(a,"id",0),this.x=d(a,"x",0),this.y=d(a,"y",0),this.width=d(a,"width",0),this.height=d(a,"height",0),this.tileWidth=d(a,"tileWidth",0),this.tileHeight=d(a,"tileHeight",0),this.baseTileWidth=d(a,"baseTileWidth",this.tileWidth),this.baseTileHeight=d(a,"baseTileHeight",this.tileHeight),this.orientation=d(a,"orientation",x.ORTHOGONAL),this.widthInPixels=d(a,"widthInPixels",this.width*this.baseTileWidth),this.heightInPixels=d(a,"heightInPixels",this.height*this.baseTileHeight),this.alpha=d(a,"alpha",1),this.visible=d(a,"visible",!0),this.properties=d(a,"properties",[]),this.indexes=d(a,"indexes",[]),this.collideIndexes=d(a,"collideIndexes",[]),this.callbacks=d(a,"callbacks",[]),this.bodies=d(a,"bodies",[]),this.data=d(a,"data",[]),this.tilemapLayer=d(a,"tilemapLayer",null),this.hexSideLength=d(a,"hexSideLength",0),this.staggerAxis=d(a,"staggerAxis","y"),this.staggerIndex=d(a,"staggerIndex","odd")}});n.exports=h},87010:(n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(83419),x=r(91907),d=r(95540),h=new o({initialize:function(a){a===void 0&&(a={}),this.name=d(a,"name","map"),this.width=d(a,"width",0),this.height=d(a,"height",0),this.infinite=d(a,"infinite",!1),this.tileWidth=d(a,"tileWidth",0),this.tileHeight=d(a,"tileHeight",0),this.widthInPixels=d(a,"widthInPixels",this.width*this.tileWidth),this.heightInPixels=d(a,"heightInPixels",this.height*this.tileHeight),this.format=d(a,"format",null),this.orientation=d(a,"orientation",x.ORTHOGONAL),this.renderOrder=d(a,"renderOrder","right-down"),this.version=d(a,"version","1"),this.properties=d(a,"properties",{}),this.layers=d(a,"layers",[]),this.images=d(a,"images",[]),this.objects=d(a,"objects",[]),Array.isArray(this.objects)||(this.objects=[]),this.collision=d(a,"collision",{}),this.tilesets=d(a,"tilesets",[]),this.imageCollections=d(a,"imageCollections",[]),this.tiles=d(a,"tiles",[]),this.hexSideLength=d(a,"hexSideLength",0),this.staggerAxis=d(a,"staggerAxis","y"),this.staggerIndex=d(a,"staggerIndex","odd")}});n.exports=h},48700:(n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(83419),x=r(95540),d=new o({initialize:function(l){l===void 0&&(l={}),this.name=x(l,"name","object layer"),this.id=x(l,"id",0),this.opacity=x(l,"opacity",1),this.properties=x(l,"properties",{}),this.propertyTypes=x(l,"propertytypes",{}),this.type=x(l,"type","objectgroup"),this.visible=x(l,"visible",!0),this.objects=x(l,"objects",[]),Array.isArray(this.objects)||(this.objects=[])}});n.exports=d},6641:(n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(91907),x=function(d){return d=d.toLowerCase(),d==="isometric"?o.ISOMETRIC:d==="staggered"?o.STAGGERED:d==="hexagonal"?o.HEXAGONAL:o.ORTHOGONAL};n.exports=x},46177:(n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(80341),x=r(2342),d=r(82593),h=r(46594),l=r(87021),a=function(f,c,u,v,g,m){var y;switch(c){case o.ARRAY_2D:y=x(f,u,v,g,m);break;case o.CSV:y=d(f,u,v,g,m);break;case o.TILED_JSON:y=h(f,u,m);break;case o.WELTMEISTER:y=l(f,u,m);break;default:console.warn("Unrecognized tilemap data format: "+c),y=null}return y};n.exports=a},2342:(n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(80341),x=r(14977),d=r(87010),h=r(23029),l=function(a,f,c,u,v){for(var g=new x({tileWidth:c,tileHeight:u}),m=new d({name:a,tileWidth:c,tileHeight:u,format:o.ARRAY_2D,layers:[g]}),y=[],C=f.length,b=0,M=0;M<f.length;M++){y[M]=[];for(var w=f[M],R=0;R<w.length;R++){var A=parseInt(w[R],10);isNaN(A)||A===-1?y[M][R]=v?null:new h(g,-1,R,M,c,u):y[M][R]=new h(g,A,R,M,c,u)}b===0&&(b=w.length)}return m.width=g.width=b,m.height=g.height=C,m.widthInPixels=g.widthInPixels=b*c,m.heightInPixels=g.heightInPixels=C*u,g.data=y,m};n.exports=l},82593:(n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(80341),x=r(2342),d=function(h,l,a,f,c){var u=l.trim().split(`
`).map(function(g){return g.split(",")}),v=x(h,u,a,f,c);return v.format=o.CSV,v};n.exports=d},6656:(n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(14977),x=r(23029),d=function(h,l){for(var a=[],f=0;f<h.layer.length;f++){for(var c=h.layer[f],u=new o({name:c.name,width:c.width,height:c.height,tileWidth:c.tilesize,tileHeight:c.tilesize,visible:c.visible===1}),v=[],g=[],m=0;m<c.data.length;m++){for(var y=0;y<c.data[m].length;y++){var C=c.data[m][y]-1,b;C>-1?b=new x(u,C,y,m,c.tilesize,c.tilesize):b=l?null:new x(u,-1,y,m,c.tilesize,c.tilesize),v.push(b)}g.push(v),v=[]}u.data=g,a.push(u)}return a};n.exports=d},96483:(n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(33629),x=function(d){for(var h=[],l=[],a=0;a<d.layer.length;a++){var f=d.layer[a],c=f.tilesetName;c!==""&&l.indexOf(c)===-1&&(l.push(c),h.push(new o(c,0,f.tilesize,f.tilesize,0,0)))}return h};n.exports=x},87021:(n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(80341),x=r(87010),d=r(6656),h=r(96483),l=function(a,f,c){if(f.layer.length===0)return console.warn("No layers found in the Weltmeister map: "+a),null;for(var u=0,v=0,g=0;g<f.layer.length;g++)f.layer[g].width>u&&(u=f.layer[g].width),f.layer[g].height>v&&(v=f.layer[g].height);var m=new x({width:u,height:v,name:a,tileWidth:f.layer[0].tilesize,tileHeight:f.layer[0].tilesize,format:o.WELTMEISTER});return m.layers=d(f,c),m.tilesets=h(f),m};n.exports=l},52833:(n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports={ParseTileLayers:r(6656),ParseTilesets:r(96483),ParseWeltmeister:r(87021)}},57442:(n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports={FromOrientationString:r(6641),Parse:r(46177),Parse2DArray:r(2342),ParseCSV:r(82593),Impact:r(52833),Tiled:r(96761)}},51233:(n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(79291),x=function(d){for(var h,l,a,f,c,u=0;u<d.layers.length;u++){h=d.layers[u],f=null;for(var v=0;v<h.data.length;v++){c=h.data[v];for(var g=0;g<c.length;g++)l=c[g],!(l===null||l.index<0)&&(a=d.tiles[l.index][2],f=d.tilesets[a],l.width=f.tileWidth,l.height=f.tileHeight,f.tileProperties&&f.tileProperties[l.index-f.firstgid]&&(l.properties=o(l.properties,f.tileProperties[l.index-f.firstgid])))}}};n.exports=x},41868:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(r){for(var o=window.atob(r),x=o.length,d=new Array(x/4),h=0;h<x;h+=4)d[h/4]=(o.charCodeAt(h)|o.charCodeAt(h+1)<<8|o.charCodeAt(h+2)<<16|o.charCodeAt(h+3)<<24)>>>0;return d};n.exports=T},84101:(n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(33629),x=function(d){var h,l,a=[];for(h=0;h<d.imageCollections.length;h++)for(var f=d.imageCollections[h],c=f.images,u=0;u<c.length;u++){var v=c[u],g={x:0,y:v.height-d.tileHeight};l=new o(v.image,v.gid,v.width,v.height,0,0,null,null,g),l.updateTileData(v.width,v.height),d.tilesets.push(l)}for(h=0;h<d.tilesets.length;h++){l=d.tilesets[h];for(var m=l.tileMargin,y=l.tileMargin,C=0,b=0,M=0,w=l.firstgid;w<l.firstgid+l.total&&(a[w]=[m,y,h],m+=l.tileWidth+l.tileSpacing,C++,!(C===l.total||(b++,b===l.columns&&(m=l.tileMargin,y+=l.tileHeight+l.tileSpacing,b=0,M++,M===l.rows))));w++);}return a};n.exports=x},79677:(n,T,r)=>{/**
 * @author       Seth Berrier <berriers@uwstout.edu>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(95540),x=function(d,h,l){if(!h)return{i:0,layers:d.layers,name:"",opacity:1,visible:!0,x:0,y:0};var a=h.x+o(h,"startx",0)*d.tilewidth+o(h,"offsetx",0),f=h.y+o(h,"starty",0)*d.tileheight+o(h,"offsety",0);return{i:0,layers:h.layers,name:l.name+h.name+"/",opacity:l.opacity*h.opacity,visible:l.visible&&h.visible,x:l.x+a,y:l.y+f}};n.exports=x},29920:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=2147483648,r=1073741824,o=536870912,x=function(d){var h=!!(d&T),l=!!(d&r),a=!!(d&o);d=d&~(T|r|o);var f=0,c=!1;return h&&l&&a?(f=Math.PI/2,c=!0):h&&l&&!a?(f=Math.PI,c=!1):h&&!l&&a?(f=Math.PI/2,c=!1):h&&!l&&!a?(f=0,c=!0):!h&&l&&a?(f=3*Math.PI/2,c=!1):!h&&l&&!a?(f=Math.PI,c=!0):!h&&!l&&a?(f=3*Math.PI/2,c=!0):!h&&!l&&!a&&(f=0,c=!1),{gid:d,flippedHorizontal:h,flippedVertical:l,flippedAntiDiagonal:a,rotation:f,flipped:c}};n.exports=x},12635:(n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(95540),x=r(79677),d=function(h){for(var l=[],a=[],f=x(h);f.i<f.layers.length||a.length>0;){if(f.i>=f.layers.length){if(a.length<1){console.warn("TilemapParser.parseTiledJSON - Invalid layer group hierarchy");break}f=a.pop();continue}var c=f.layers[f.i];if(f.i++,c.type!=="imagelayer"){if(c.type==="group"){var u=x(h,c,f);a.push(f),f=u}continue}var v=o(c,"offsetx",0)+o(c,"startx",0),g=o(c,"offsety",0)+o(c,"starty",0);l.push({name:f.name+c.name,image:c.image,x:f.x+v+c.x,y:f.y+g+c.y,alpha:f.opacity*c.opacity,visible:f.visible&&c.visible,properties:o(c,"properties",{})})}return l};n.exports=d},46594:(n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(51233),x=r(84101),d=r(91907),h=r(62644),l=r(80341),a=r(6641),f=r(87010),c=r(12635),u=r(22611),v=r(28200),g=r(24619),m=function(y,C,b){var M=h(C),w=new f({width:M.width,height:M.height,name:y,tileWidth:M.tilewidth,tileHeight:M.tileheight,orientation:a(M.orientation),format:l.TILED_JSON,version:M.version,properties:M.properties,renderOrder:M.renderorder,infinite:M.infinite});if(w.orientation===d.HEXAGONAL)if(w.hexSideLength=M.hexsidelength,w.staggerAxis=M.staggeraxis,w.staggerIndex=M.staggerindex,w.staggerAxis==="y"){var R=(w.tileHeight-w.hexSideLength)/2;w.widthInPixels=w.tileWidth*(w.width+.5),w.heightInPixels=w.height*(w.hexSideLength+R)+R}else{var A=(w.tileWidth-w.hexSideLength)/2;w.widthInPixels=w.width*(w.hexSideLength+A)+A,w.heightInPixels=w.tileHeight*(w.height+.5)}w.layers=v(M,b),w.images=c(M);var L=g(M);return w.tilesets=L.tilesets,w.imageCollections=L.imageCollections,w.objects=u(M),w.tiles=x(w),o(w),w};n.exports=m},52205:(n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(18254),x=r(29920),d=function(a){return{x:a.x,y:a.y}},h=["id","name","type","rotation","properties","visible","x","y","width","height"],l=function(a,f,c){f===void 0&&(f=0),c===void 0&&(c=0);var u=o(a,h);if(u.x+=f,u.y+=c,a.gid){var v=x(a.gid);u.gid=v.gid,u.flippedHorizontal=v.flippedHorizontal,u.flippedVertical=v.flippedVertical,u.flippedAntiDiagonal=v.flippedAntiDiagonal}else a.polyline?u.polyline=a.polyline.map(d):a.polygon?u.polygon=a.polygon.map(d):a.ellipse?u.ellipse=a.ellipse:a.text?u.text=a.text:a.point?u.point=!0:u.rectangle=!0;return u};n.exports=l},22611:(n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(95540),x=r(52205),d=r(48700),h=r(79677),l=function(a){for(var f=[],c=[],u=h(a);u.i<u.layers.length||c.length>0;){if(u.i>=u.layers.length){if(c.length<1){console.warn("TilemapParser.parseTiledJSON - Invalid layer group hierarchy");break}u=c.pop();continue}var v=u.layers[u.i];if(u.i++,v.opacity*=u.opacity,v.visible=u.visible&&v.visible,v.type!=="objectgroup"){if(v.type==="group"){var g=h(a,v,u);c.push(u),u=g}continue}v.name=u.name+v.name;for(var m=u.x+o(v,"startx",0)+o(v,"offsetx",0),y=u.y+o(v,"starty",0)+o(v,"offsety",0),C=[],b=0;b<v.objects.length;b++){var M=x(v.objects[b],m,y);C.push(M)}var w=new d(v);w.objects=C,f.push(w)}return f};n.exports=l},28200:(n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(41868),x=r(91907),d=r(79677),h=r(6641),l=r(95540),a=r(14977),f=r(29920),c=r(23029),u=function(v,g){for(var m=l(v,"infinite",!1),y=[],C=[],b=d(v);b.i<b.layers.length||C.length>0;){if(b.i>=b.layers.length){if(C.length<1){console.warn("TilemapParser.parseTiledJSON - Invalid layer group hierarchy");break}b=C.pop();continue}var M=b.layers[b.i];if(b.i++,M.type!=="tilelayer"){if(M.type==="group"){var w=d(v,M,b);C.push(b),b=w}continue}if(M.compression){console.warn("TilemapParser.parseTiledJSON - Layer compression is unsupported, skipping layer '"+M.name+"'");continue}else if(M.encoding&&M.encoding==="base64"){if(M.chunks)for(var R=0;R<M.chunks.length;R++)M.chunks[R].data=o(M.chunks[R].data);M.data&&(M.data=o(M.data)),delete M.encoding}var A,L,F,G,I,B,k=[],U=0;if(m){var H=l(M,"startx",0)+M.x,X=l(M,"starty",0)+M.y;A=new a({name:b.name+M.name,id:M.id,x:b.x+l(M,"offsetx",0)+H*v.tilewidth,y:b.y+l(M,"offsety",0)+X*v.tileheight,width:M.width,height:M.height,tileWidth:v.tilewidth,tileHeight:v.tileheight,alpha:b.opacity*M.opacity,visible:b.visible&&M.visible,properties:l(M,"properties",[]),orientation:h(v.orientation)}),A.orientation===x.HEXAGONAL&&(A.hexSideLength=v.hexsidelength,A.staggerAxis=v.staggeraxis,A.staggerIndex=v.staggerindex,A.staggerAxis==="y"?(I=(A.tileHeight-A.hexSideLength)/2,A.widthInPixels=A.tileWidth*(A.width+.5),A.heightInPixels=A.height*(A.hexSideLength+I)+I):(B=(A.tileWidth-A.hexSideLength)/2,A.widthInPixels=A.width*(A.hexSideLength+B)+B,A.heightInPixels=A.tileHeight*(A.height+.5)));for(var j=0;j<M.height;j++){k[j]=[null];for(var J=0;J<M.width;J++)k[j][J]=null}for(j=0,ft=M.chunks.length;j<ft;j++)for(var Y=M.chunks[j],$=Y.x-H,z=Y.y-X,V=0,K=0,Q=Y.data.length;K<Q;K++){var _=U+$,tt=V+z;L=f(Y.data[K]),L.gid>0?(F=new c(A,L.gid,_,tt,v.tilewidth,v.tileheight),F.rotation=L.rotation,F.flipX=L.flipped,k[tt][_]=F):(G=g?null:new c(A,-1,_,tt,v.tilewidth,v.tileheight),k[tt][_]=G),U++,U===Y.width&&(V++,U=0)}}else{A=new a({name:b.name+M.name,id:M.id,x:b.x+l(M,"offsetx",0)+M.x,y:b.y+l(M,"offsety",0)+M.y,width:M.width,height:M.height,tileWidth:v.tilewidth,tileHeight:v.tileheight,alpha:b.opacity*M.opacity,visible:b.visible&&M.visible,properties:l(M,"properties",[]),orientation:h(v.orientation)}),A.orientation===x.HEXAGONAL&&(A.hexSideLength=v.hexsidelength,A.staggerAxis=v.staggeraxis,A.staggerIndex=v.staggerindex,A.staggerAxis==="y"?(I=(A.tileHeight-A.hexSideLength)/2,A.widthInPixels=A.tileWidth*(A.width+.5),A.heightInPixels=A.height*(A.hexSideLength+I)+I):(B=(A.tileWidth-A.hexSideLength)/2,A.widthInPixels=A.width*(A.hexSideLength+B)+B,A.heightInPixels=A.tileHeight*(A.height+.5)));for(var rt=[],ot=0,ft=M.data.length;ot<ft;ot++)L=f(M.data[ot]),L.gid>0?(F=new c(A,L.gid,U,k.length,v.tilewidth,v.tileheight),F.rotation=L.rotation,F.flipX=L.flipped,rt.push(F)):(G=g?null:new c(A,-1,U,k.length,v.tilewidth,v.tileheight),rt.push(G)),U++,U===M.width&&(k.push(rt),U=0,rt=[])}A.data=k,y.push(A)}return y};n.exports=u},24619:(n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(33629),x=r(16536),d=r(52205),h=r(57880),l=function(a){for(var f=[],c=[],u=null,v,g=0;g<a.tilesets.length;g++){var m=a.tilesets[g];if(m.source)console.warn("External tilesets unsupported. Use Embed Tileset and re-export");else if(m.image){var y=new o(m.name,m.firstgid,m.tilewidth,m.tileheight,m.margin,m.spacing,void 0,void 0,m.tileoffset);if(a.version>1){var C=void 0,b=void 0;if(Array.isArray(m.tiles)){C=C||{},b=b||{};for(var M=0;M<m.tiles.length;M++){var w=m.tiles[M];if(w.properties){var R={};w.properties.forEach(function(j){R[j.name]=j.value}),b[w.id]=R}if(w.objectgroup&&((C[w.id]||(C[w.id]={})).objectgroup=w.objectgroup,w.objectgroup.objects)){var A=w.objectgroup.objects.map(function(j){return d(j)});C[w.id].objectgroup.objects=A}w.animation&&((C[w.id]||(C[w.id]={})).animation=w.animation),w.type&&((C[w.id]||(C[w.id]={})).type=w.type)}}Array.isArray(m.wangsets)&&(C=C||{},b=b||{},h(m.wangsets,C)),C&&(y.tileData=C,y.tileProperties=b)}else if(m.tileproperties&&(y.tileProperties=m.tileproperties),m.tiles){y.tileData=m.tiles;for(v in y.tileData){var L=y.tileData[v].objectgroup;if(L&&L.objects){var F=L.objects.map(function(j){return d(j)});y.tileData[v].objectgroup.objects=F}}}y.updateTileData(m.imagewidth,m.imageheight),f.push(y)}else{var G=new x(m.name,m.firstgid,m.tilewidth,m.tileheight,m.margin,m.spacing,m.properties),I=0;for(M=0;M<m.tiles.length;M++){w=m.tiles[M];var B=w.image,k=parseInt(w.id,10),U=m.firstgid+k,H=w.imagewidth,X=w.imageheight;G.addImage(U,B,H,X),I=Math.max(k,I)}G.maxId=I,c.push(G)}u&&(u.lastgid=m.firstgid-1),u=m}return{tilesets:f,imageCollections:c}};n.exports=l},57880:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(r,o){for(var x=0;x<r.length;x++){var d=r[x],h=x;if(d.name&&d.name!==""&&(h=d.name),Array.isArray(d.wangtiles)&&d.wangtiles.length>0){var l={},a={},f,c,u;if(Array.isArray(d.edgecolors))for(f=0;f<d.edgecolors.length;f++)u=1+f,c=d.edgecolors[f],c.name!==""&&(l[u]=c.name);if(Array.isArray(d.cornercolors))for(f=0;f<d.cornercolors.length;f++)u=1+f,c=d.cornercolors[f],c.name!==""&&(a[u]=c.name);if(Array.isArray(d.colors))for(f=0;f<d.colors.length;f++)c=d.colors[f],u=1+f,c.name!==""&&(l[u]=a[u]=c.name);for(var v=[l,a,l,a,l,a,l,a],g=0;g<d.wangtiles.length;g++){var m=d.wangtiles[g],y=o[m.tileid]||(o[m.tileid]={});y=y.wangid||(y.wangid={});for(var C=[],b=0;b<Math.min(v.length,m.wangid.length);b++){if(c=m.wangid[b],c===0){C.push(void 0);continue}var M=v[b][c];if(M!==void 0){C.push(M);continue}C.push(c)}y[h]=C}}}};n.exports=T},96761:(n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports={AssignTileProperties:r(51233),Base64Decode:r(41868),BuildTilesetIndex:r(84101),CreateGroupLayer:r(79677),ParseGID:r(29920),ParseImageLayers:r(12635),ParseJSONTiled:r(46594),ParseObject:r(52205),ParseObjectLayers:r(22611),ParseTileLayers:r(28200),ParseTilesets:r(24619)}},33385:(n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(83419),x=r(37277),d=r(44594),h=r(94880),l=r(72905),a=new o({initialize:function(c){this.scene=c,this.systems=c.sys,this.now=0,this.startTime=0,this.timeScale=1,this.paused=!1,this._active=[],this._pendingInsertion=[],this._pendingRemoval=[],c.sys.events.once(d.BOOT,this.boot,this),c.sys.events.on(d.START,this.start,this)},boot:function(){this.now=this.systems.game.loop.time,this.systems.events.once(d.DESTROY,this.destroy,this)},start:function(){this.startTime=this.systems.game.loop.time;var f=this.systems.events;f.on(d.PRE_UPDATE,this.preUpdate,this),f.on(d.UPDATE,this.update,this),f.once(d.SHUTDOWN,this.shutdown,this)},addEvent:function(f){var c;if(f instanceof h){if(c=f,this.removeEvent(c),c.elapsed=c.startAt,c.hasDispatched=!1,c.repeatCount=c.repeat===-1||c.loop?999999999999:c.repeat,c.delay<=0&&c.repeatCount>0)throw new Error("TimerEvent infinite loop created via zero delay")}else c=new h(f);return this._pendingInsertion.push(c),c},delayedCall:function(f,c,u,v){return this.addEvent({delay:f,callback:c,args:u,callbackScope:v})},clearPendingEvents:function(){return this._pendingInsertion=[],this},removeEvent:function(f){Array.isArray(f)||(f=[f]);for(var c=0;c<f.length;c++){var u=f[c];l(this._pendingRemoval,u),l(this._pendingInsertion,u),l(this._active,u)}return this},removeAllEvents:function(){return this._pendingRemoval=this._pendingRemoval.concat(this._active),this},preUpdate:function(){var f=this._pendingRemoval.length,c=this._pendingInsertion.length;if(!(f===0&&c===0)){var u,v;for(u=0;u<f;u++){v=this._pendingRemoval[u];var g=this._active.indexOf(v);g>-1&&this._active.splice(g,1),v.destroy()}for(u=0;u<c;u++)v=this._pendingInsertion[u],this._active.push(v);this._pendingRemoval.length=0,this._pendingInsertion.length=0}},update:function(f,c){if(this.now=f,!this.paused){c*=this.timeScale;for(var u=0;u<this._active.length;u++){var v=this._active[u];if(!v.paused&&(v.elapsed+=c*v.timeScale,v.elapsed>=v.delay)){var g=v.elapsed-v.delay;if(v.elapsed=v.delay,!v.hasDispatched&&v.callback&&(v.hasDispatched=!0,v.callback.apply(v.callbackScope,v.args)),v.repeatCount>0){if(v.repeatCount--,g>=v.delay)for(;g>=v.delay&&v.repeatCount>0;)v.callback&&v.callback.apply(v.callbackScope,v.args),g-=v.delay,v.repeatCount--;v.elapsed=g,v.hasDispatched=!1}else v.hasDispatched&&this._pendingRemoval.push(v)}}}},shutdown:function(){var f;for(f=0;f<this._pendingInsertion.length;f++)this._pendingInsertion[f].destroy();for(f=0;f<this._active.length;f++)this._active[f].destroy();for(f=0;f<this._pendingRemoval.length;f++)this._pendingRemoval[f].destroy();this._active.length=0,this._pendingRemoval.length=0,this._pendingInsertion.length=0;var c=this.systems.events;c.off(d.PRE_UPDATE,this.preUpdate,this),c.off(d.UPDATE,this.update,this),c.off(d.SHUTDOWN,this.shutdown,this)},destroy:function(){this.shutdown(),this.scene.sys.events.off(d.START,this.start,this),this.scene=null,this.systems=null}});x.register("Clock",a,"time"),n.exports=a},96120:(n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(83419),x=r(50792),d=r(39429),h=r(95540),l=r(44594),a=r(89809),f=new o({Extends:x,initialize:function(u,v){x.call(this),this.scene=u,this.systems=u.sys,this.elapsed=0,this.timeScale=1,this.paused=!0,this.complete=!1,this.totalComplete=0,this.loop=0,this.iteration=0,this.events=[];var g=this.systems.events;g.on(l.PRE_UPDATE,this.preUpdate,this),g.on(l.UPDATE,this.update,this),g.once(l.SHUTDOWN,this.destroy,this),v&&this.add(v)},preUpdate:function(c,u){this.paused||(this.elapsed+=u*this.timeScale)},update:function(){if(!(this.paused||this.complete)){var c,u=this.events,v=!1,g=this.systems,m;for(c=0;c<u.length;c++){var y=u[c];if(!y.complete&&y.time<=this.elapsed){if(y.complete=!0,this.totalComplete++,m=y.target?y.target:this,y.if&&!y.if.call(m,y))continue;if(y.once&&(v=!0),y.set&&y.target)for(var C in y.set)y.target[C]=y.set[C];this.iteration&&y.repeat++,y.loop&&y.repeat&&y.loop.call(m),y.tween&&(y.tweenInstance=g.tweens.add(y.tween)),y.sound&&(typeof y.sound=="string"?g.sound.play(y.sound):g.sound.play(y.sound.key,y.sound.config)),y.event&&this.emit(y.event,m),y.run&&y.run.call(m),y.stop&&this.stop()}}if(v)for(c=0;c<u.length;c++)u[c].complete&&u[c].once&&(u.splice(c,1),c--);this.totalComplete>=u.length&&(this.loop!==0&&(this.loop===-1||this.loop>this.iteration)?(this.iteration++,this.reset(!0)):this.complete=!0),this.complete&&this.emit(a.COMPLETE,this)}},play:function(c){return c===void 0&&(c=!0),this.paused=!1,this.complete=!1,this.totalComplete=0,c&&this.reset(),this},pause:function(){this.paused=!0;for(var c=this.events,u=0;u<c.length;u++){var v=c[u];v.tweenInstance&&(v.tweenInstance.paused=!0)}return this},repeat:function(c){return(c===void 0||c===!0)&&(c=-1),c===!1&&(c=0),this.loop=c,this},resume:function(){this.paused=!1;for(var c=this.events,u=0;u<c.length;u++){var v=c[u];v.tweenInstance&&(v.tweenInstance.paused=!1)}return this},stop:function(){return this.paused=!0,this.complete=!0,this},reset:function(c){c===void 0&&(c=!1),this.elapsed=0,c||(this.iteration=0);for(var u=this.events,v=0;v<u.length;v++){var g=u[v];g.complete=!1,c||(g.repeat=0),g.tweenInstance&&g.tweenInstance.stop()}return this.play(!1)},add:function(c){Array.isArray(c)||(c=[c]);var u=this.events,v=0;u.length>0&&(v=u[u.length-1].time);for(var g=0;g<c.length;g++){var m=c[g],y=h(m,"at",0),C=h(m,"in",null);C!==null&&(y=this.elapsed+C);var b=h(m,"from",null);b!==null&&(y=v+b),u.push({complete:!1,time:y,repeat:0,if:h(m,"if",null),run:h(m,"run",null),loop:h(m,"loop",null),event:h(m,"event",null),target:h(m,"target",null),set:h(m,"set",null),tween:h(m,"tween",null),sound:h(m,"sound",null),once:h(m,"once",!1),stop:h(m,"stop",!1)}),v=y}return this.complete=!1,this},clear:function(){for(var c=this.events,u=0;u<c.length;u++){var v=c[u];v.tweenInstance&&v.tweenInstance.stop()}return c=[],this.elapsed=0,this.paused=!0,this},isPlaying:function(){return!this.paused&&!this.complete},getProgress:function(){var c=Math.min(this.totalComplete,this.events.length);return c/this.events.length},destroy:function(){var c=this.systems.events;c.off(l.PRE_UPDATE,this.preUpdate,this),c.off(l.UPDATE,this.update,this),c.off(l.SHUTDOWN,this.destroy,this),this.clear(),this.scene=null,this.systems=null}});d.register("timeline",function(c){return new f(this.scene,c)}),n.exports=f},94880:(n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(83419),x=r(95540),d=new o({initialize:function(l){this.delay=0,this.repeat=0,this.repeatCount=0,this.loop=!1,this.callback,this.callbackScope,this.args,this.timeScale=1,this.startAt=0,this.elapsed=0,this.paused=!1,this.hasDispatched=!1,this.reset(l)},reset:function(h){if(this.delay=x(h,"delay",0),this.repeat=x(h,"repeat",0),this.loop=x(h,"loop",!1),this.callback=x(h,"callback",void 0),this.callbackScope=x(h,"callbackScope",this),this.args=x(h,"args",[]),this.timeScale=x(h,"timeScale",1),this.startAt=x(h,"startAt",0),this.paused=x(h,"paused",!1),this.elapsed=this.startAt,this.hasDispatched=!1,this.repeatCount=this.repeat===-1||this.loop?999999999999:this.repeat,this.delay<=0&&this.repeatCount>0)throw new Error("TimerEvent infinite loop created via zero delay");return this},getProgress:function(){return this.elapsed/this.delay},getOverallProgress:function(){if(this.repeat>0){var h=this.delay+this.delay*this.repeat,l=this.elapsed+this.delay*(this.repeat-this.repeatCount);return l/h}else return this.getProgress()},getRepeatCount:function(){return this.repeatCount},getElapsed:function(){return this.elapsed},getElapsedSeconds:function(){return this.elapsed*.001},getRemaining:function(){return this.delay-this.elapsed},getRemainingSeconds:function(){return this.getRemaining()*.001},getOverallRemaining:function(){return this.delay*(1+this.repeatCount)-this.elapsed},getOverallRemainingSeconds:function(){return this.getOverallRemaining()*.001},remove:function(h){h===void 0&&(h=!1),this.elapsed=this.delay,this.hasDispatched=!h,this.repeatCount=0},destroy:function(){this.callback=void 0,this.callbackScope=void 0,this.args=[]}});n.exports=d},35945:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="complete"},89809:(n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports={COMPLETE:r(35945)}},90291:(n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports={Clock:r(33385),Events:r(89809),Timeline:r(96120),TimerEvent:r(94880)}},40382:(n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(72905),x=r(83419),d=r(43491),h=r(88032),l=r(37277),a=r(44594),f=r(93109),c=r(86081),u=r(8357),v=r(43960),g=r(26012),m=new x({initialize:function(C){this.scene=C,this.events=C.sys.events,this.timeScale=1,this.paused=!1,this.processing=!1,this.tweens=[],this.time=0,this.startTime=0,this.nextTime=0,this.prevTime=0,this.maxLag=500,this.lagSkip=33,this.gap=1e3/240,this.events.once(a.BOOT,this.boot,this),this.events.on(a.START,this.start,this)},boot:function(){this.events.once(a.DESTROY,this.destroy,this)},start:function(){this.timeScale=1,this.paused=!1,this.startTime=Date.now(),this.prevTime=this.startTime,this.nextTime=this.gap,this.events.on(a.UPDATE,this.update,this),this.events.once(a.SHUTDOWN,this.shutdown,this)},create:function(y){Array.isArray(y)||(y=[y]);for(var C=[],b=0;b<y.length;b++){var M=y[b];M instanceof c||M instanceof v?C.push(M):Array.isArray(M.tweens)?C.push(g(this,M)):C.push(u(this,M))}return C.length===1?C[0]:C},add:function(y){var C=y,b=this.tweens;return C instanceof c||C instanceof v||(Array.isArray(C.tweens)?C=g(this,C):C=u(this,C)),b.push(C.reset()),C},addMultiple:function(y){for(var C,b=[],M=this.tweens,w=0;w<y.length;w++)C=y[w],C instanceof c||C instanceof v||(Array.isArray(C.tweens)?C=g(this,C):C=u(this,C)),M.push(C.reset()),b.push(C);return b},chain:function(y){var C=g(this,y);return this.tweens.push(C.init()),C},getChainedTweens:function(y){return y.getChainedTweens()},has:function(y){return this.tweens.indexOf(y)>-1},existing:function(y){return this.has(y)||this.tweens.push(y.reset()),this},addCounter:function(y){var C=h(this,y);return this.tweens.push(C.reset()),C},stagger:function(y,C){return f(y,C)},setLagSmooth:function(y,C){return y===void 0&&(y=1/1e-8),C===void 0&&(C=0),this.maxLag=y,this.lagSkip=Math.min(C,this.maxLag),this},setFps:function(y){return y===void 0&&(y=240),this.gap=1e3/y,this.nextTime=this.time*1e3+this.gap,this},getDelta:function(y){var C=Date.now()-this.prevTime;C>this.maxLag&&(this.startTime+=C-this.lagSkip),this.prevTime+=C;var b=this.prevTime-this.startTime,M=b-this.nextTime,w=b-this.time*1e3;return M>0||y?(b/=1e3,this.time=b,this.nextTime+=M+(M>=this.gap?4:this.gap-M)):w=0,w},tick:function(){return this.step(!0),this},update:function(){this.paused||this.step(!1)},step:function(y){y===void 0&&(y=!1);var C=this.getDelta(y);if(!(C<=0)){this.processing=!0;var b,M,w=[],R=this.tweens;for(b=0;b<R.length;b++)M=R[b],M.update(C)&&w.push(M);var A=w.length;if(A&&R.length>0){for(b=0;b<A;b++){M=w[b];var L=R.indexOf(M);L>-1&&(M.isPendingRemove()||M.isDestroyed())&&(R.splice(L,1),M.destroy())}w.length=0}this.processing=!1}},remove:function(y){return this.processing?y.setPendingRemoveState():(o(this.tweens,y),y.setRemovedState()),this},reset:function(y){return this.existing(y),y.seek(),y.setActiveState(),this},makeActive:function(y){return this.existing(y),y.setActiveState(),this},each:function(y,C){var b,M=[null];for(b=1;b<arguments.length;b++)M.push(arguments[b]);return this.tweens.forEach(function(w){M[0]=w,y.apply(C,M)}),this},getTweens:function(){return this.tweens.slice()},getTweensOf:function(y){var C=[],b=this.tweens;Array.isArray(y)?y=d(y):y=[y];for(var M=y.length,w=0;w<b.length;w++)for(var R=b[w],A=0;A<M;A++)!R.isDestroyed()&&R.hasTarget(y[A])&&C.push(R);return C},getGlobalTimeScale:function(){return this.timeScale},setGlobalTimeScale:function(y){return this.timeScale=y,this},isTweening:function(y){for(var C=this.tweens,b,M=0;M<C.length;M++)if(b=C[M],b.isPlaying()&&b.hasTarget(y))return!0;return!1},killAll:function(){for(var y=this.processing?this.getTweens():this.tweens,C=0;C<y.length;C++)y[C].destroy();return this.processing||(y.length=0),this},killTweensOf:function(y){for(var C=this.getTweensOf(y),b=0;b<C.length;b++)C[b].destroy();return this},pauseAll:function(){return this.paused=!0,this},resumeAll:function(){return this.paused=!1,this},shutdown:function(){this.killAll(),this.tweens=[],this.events.off(a.UPDATE,this.update,this),this.events.off(a.SHUTDOWN,this.shutdown,this)},destroy:function(){this.shutdown(),this.events.off(a.START,this.start,this),this.scene=null,this.events=null}});l.register("TweenManager",m,"tweens"),n.exports=m},57355:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(r,o,x){return r&&r.hasOwnProperty(o)?r[o]:x};n.exports=T},6113:(n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(62640),x=r(35355),d=function(h,l){var a=o.Power0;if(typeof h=="string")if(o.hasOwnProperty(h))a=o[h];else{var f="";if(h.indexOf(".")){f=h.substring(h.indexOf(".")+1);var c=f.toLowerCase();c==="in"?f="easeIn":c==="out"?f="easeOut":c==="inout"&&(f="easeInOut")}h=x(h.substring(0,h.indexOf(".")+1)+f),o.hasOwnProperty(h)&&(a=o[h])}else typeof h=="function"&&(a=h);if(!l)return a;var u=l.slice(0);return u.unshift(0),function(v){return u[0]=v,a.apply(this,u)}};n.exports=d},91389:(n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(89318),x=r(77259),d=r(28392),h={bezier:o,catmull:x,catmullrom:x,linear:d},l=function(a){if(a===null)return null;var f=h.linear;return typeof a=="string"?h.hasOwnProperty(a)&&(f=h[a]):typeof a=="function"&&(f=a),f};n.exports=l},55292:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(r,o,x){var d;if(r.hasOwnProperty(o)){var h=typeof r[o];h==="function"?d=function(l,a,f,c,u,v){return r[o](l,a,f,c,u,v)}:d=function(){return r[o]}}else typeof x=="function"?d=x:d=function(){return x};return d};n.exports=T},82985:(n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(81076),x=function(d){var h,l=[];if(d.hasOwnProperty("props"))for(h in d.props)h.substring(0,1)!=="_"&&l.push({key:h,value:d.props[h]});else for(h in d)o.indexOf(h)===-1&&h.substring(0,1)!=="_"&&l.push({key:h,value:d[h]});return l};n.exports=x},62329:(n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(35154),x=function(d){var h=o(d,"targets",null);return h===null||(typeof h=="function"&&(h=h.call()),Array.isArray(h)||(h=[h])),h};n.exports=x},17777:(n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(30976),x=r(99472);function d(c){return!!c.getActive&&typeof c.getActive=="function"}function h(c){return!!c.getStart&&typeof c.getStart=="function"}function l(c){return!!c.getEnd&&typeof c.getEnd=="function"}function a(c){return h(c)||l(c)||d(c)}var f=function(c,u){var v,g=function(j,J,Y){return Y},m=function(j,J,Y){return Y},y=null,C=typeof u;if(C==="number")g=function(){return u};else if(Array.isArray(u))m=function(){return u[0]},g=function(){return u[u.length-1]};else if(C==="string"){var b=u.toLowerCase(),M=b.substring(0,6)==="random",w=b.substring(0,3)==="int";if(M||w){var R=b.indexOf("("),A=b.indexOf(")"),L=b.indexOf(",");if(R&&A&&L){var F=parseFloat(b.substring(R+1,L)),G=parseFloat(b.substring(L+1,A));M?g=function(){return x(F,G)}:g=function(){return o(F,G)}}else throw new Error("invalid random() format")}else{b=b[0];var I=parseFloat(u.substr(2));switch(b){case"+":g=function(j,J,Y){return Y+I};break;case"-":g=function(j,J,Y){return Y-I};break;case"*":g=function(j,J,Y){return Y*I};break;case"/":g=function(j,J,Y){return Y/I};break;default:g=function(){return parseFloat(u)}}}}else if(C==="function")g=u;else if(C==="object")if(a(u))d(u)&&(y=u.getActive),l(u)&&(g=u.getEnd),h(u)&&(m=u.getStart);else if(u.hasOwnProperty("value"))v=f(c,u.value);else{var B=u.hasOwnProperty("to"),k=u.hasOwnProperty("from"),U=u.hasOwnProperty("start");if(B&&(k||U)){if(v=f(c,u.to),U){var H=f(c,u.start);v.getActive=H.getEnd}if(k){var X=f(c,u.from);v.getStart=X.getEnd}}}return v||(v={getActive:y,getEnd:g,getStart:m}),v};n.exports=f},88032:(n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(70402),x=r(69902),d=r(23568),h=r(57355),l=r(6113),a=r(95540),f=r(55292),c=r(35154),u=r(17777),v=r(269),g=r(86081),m=function(y,C,b){if(C instanceof g)return C.parent=y,C;b===void 0?b=x:b=v(x,b);var M=a(C,"from",0),w=a(C,"to",1),R=[{value:M}],A=a(C,"delay",b.delay),L=a(C,"easeParams",b.easeParams),F=a(C,"ease",b.ease),G=u("value",w),I=new g(y,R),B=I.add(0,"value",G.getEnd,G.getStart,G.getActive,l(a(C,"ease",F),a(C,"easeParams",L)),f(C,"delay",A),a(C,"duration",b.duration),h(C,"yoyo",b.yoyo),a(C,"hold",b.hold),a(C,"repeat",b.repeat),a(C,"repeatDelay",b.repeatDelay),!1,!1);B.start=M,B.current=M,I.completeDelay=d(C,"completeDelay",0),I.loop=Math.round(d(C,"loop",0)),I.loopDelay=Math.round(d(C,"loopDelay",0)),I.paused=h(C,"paused",!1),I.persist=h(C,"persist",!1),I.isNumberTween=!0,I.callbackScope=c(C,"callbackScope",I);for(var k=o.TYPES,U=0;U<k.length;U++){var H=k[U],X=c(C,H,!1);if(X){var j=c(C,H+"Params",[]);I.setCallback(H,X,j)}}return I};n.exports=m},93109:(n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(6113),x=r(35154),d=r(36383),h=function(l,a){a===void 0&&(a={});var f,c=x(a,"start",0),u=x(a,"ease",null),v=x(a,"grid",null),g=x(a,"from",0),m=g==="first",y=g==="center",C=g==="last",b=typeof g=="number",M=Array.isArray(l),w=parseFloat(M?l[0]:l),R=M?parseFloat(l[1]):0,A=Math.max(w,R);if(M&&(c+=w),v){var L=v[0],F=v[1],G=0,I=0,B=0,k=0,U=[];C?(G=L-1,I=F-1):b?(G=g%L,I=Math.floor(g/L)):y&&(G=(L-1)/2,I=(F-1)/2);for(var H=d.MIN_SAFE_INTEGER,X=0;X<F;X++){U[X]=[];for(var j=0;j<L;j++){B=G-j,k=I-X;var J=Math.sqrt(B*B+k*k);J>H&&(H=J),U[X][j]=J}}}var Y=u?o(u):null;return v?f=function($,z,V,K){var Q=0,_=K%L,tt=Math.floor(K/L);_>=0&&_<L&&tt>=0&&tt<F&&(Q=U[tt][_]);var rt;if(M){var ot=R-w;Y?rt=Q/H*ot*Y(Q/H):rt=Q/H*ot}else Y?rt=Q*w*Y(Q/H):rt=Q*w;return rt+c}:f=function($,z,V,K,Q){Q--;var _;m?_=K:y?_=Math.abs(Q/2-K):C?_=Q-K:b&&(_=Math.abs(g-K));var tt;if(M){var rt;y?rt=(R-w)/Q*(_*2):rt=(R-w)/Q*_,Y?tt=rt*Y(_/Q):tt=rt}else Y?tt=Q*A*Y(_/Q):tt=_*w;return tt+c},f};n.exports=h},8357:(n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(70402),x=r(69902),d=r(23568),h=r(57355),l=r(6113),a=r(95540),f=r(91389),c=r(55292),u=r(82985),v=r(62329),g=r(35154),m=r(17777),y=r(269),C=r(86081),b=function(M,w,R){if(w instanceof C)return w.parent=M,w;R===void 0?R=x:R=y(x,R);var A=v(w);!A&&R.targets&&(A=R.targets);for(var L=u(w),F=a(w,"delay",R.delay),G=a(w,"duration",R.duration),I=a(w,"easeParams",R.easeParams),B=a(w,"ease",R.ease),k=a(w,"hold",R.hold),U=a(w,"repeat",R.repeat),H=a(w,"repeatDelay",R.repeatDelay),X=h(w,"yoyo",R.yoyo),j=h(w,"flipX",R.flipX),J=h(w,"flipY",R.flipY),Y=a(w,"interpolation",R.interpolation),$=function(gt,xt,Mt,Tt){if(Mt==="texture"){var Ht=Tt,Xt=void 0;Array.isArray(Tt)?(Ht=Tt[0],Xt=Tt[1]):Tt.hasOwnProperty("value")?(Ht=Tt.value,Array.isArray(Tt.value)?(Ht=Tt.value[0],Xt=Tt.value[1]):typeof Tt.value=="string"&&(Ht=Tt.value)):typeof Tt=="string"&&(Ht=Tt),gt.addFrame(xt,Ht,Xt,c(Tt,"delay",F),a(Tt,"duration",G),a(Tt,"hold",k),a(Tt,"repeat",U),a(Tt,"repeatDelay",H),h(Tt,"flipX",j),h(Tt,"flipY",J))}else{var Kt=m(Mt,Tt),bt=f(a(Tt,"interpolation",Y));gt.add(xt,Mt,Kt.getEnd,Kt.getStart,Kt.getActive,l(a(Tt,"ease",B),a(Tt,"easeParams",I)),c(Tt,"delay",F),a(Tt,"duration",G),h(Tt,"yoyo",X),a(Tt,"hold",k),a(Tt,"repeat",U),a(Tt,"repeatDelay",H),h(Tt,"flipX",j),h(Tt,"flipY",J),bt,bt?Tt:null)}},z=new C(M,A),V=0;V<L.length;V++)for(var K=L[V].key,Q=L[V].value,_=0;_<A.length;_++)K==="scale"&&!A[_].hasOwnProperty("scale")?($(z,_,"scaleX",Q),$(z,_,"scaleY",Q)):$(z,_,K,Q);z.completeDelay=d(w,"completeDelay",0),z.loop=Math.round(d(w,"loop",0)),z.loopDelay=Math.round(d(w,"loopDelay",0)),z.paused=h(w,"paused",!1),z.persist=h(w,"persist",!1),z.callbackScope=a(w,"callbackScope",z);for(var tt=o.TYPES,rt=0;rt<tt.length;rt++){var ot=tt[rt],ft=g(w,ot,!1);if(ft){var ct=g(w,ot+"Params",[]);z.setCallback(ot,ft,ct)}}return z};n.exports=b},26012:(n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(70402),x=r(23568),d=r(57355),h=r(62329),l=r(35154),a=r(8357),f=r(43960),c=function(u,v){if(v instanceof f)return v.parent=u,v;var g=new f(u);g.startDelay=l(v,"delay",0),g.completeDelay=x(v,"completeDelay",0),g.loop=Math.round(x(v,"loop",l(v,"repeat",0))),g.loopDelay=Math.round(x(v,"loopDelay",l(v,"repeatDelay",0))),g.paused=d(v,"paused",!1),g.persist=d(v,"persist",!1),g.callbackScope=l(v,"callbackScope",g);var m,y=o.TYPES;for(m=0;m<y.length;m++){var C=y[m],b=l(v,C,!1);if(b){var M=l(v,C+"Params",[]);g.setCallback(C,b,M)}}var w=l(v,"tweens",null);if(Array.isArray(w)){var R=[],A=h(v),L=void 0;for(A&&(L={targets:A}),m=0;m<w.length;m++)R.push(a(g,w[m],L));g.add(R)}return g};n.exports=c},30231:(n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports={GetBoolean:r(57355),GetEaseFunction:r(6113),GetInterpolationFunction:r(91389),GetNewValue:r(55292),GetProps:r(82985),GetTargets:r(62329),GetValueOp:r(17777),NumberTweenBuilder:r(88032),StaggerBuilder:r(93109),TweenBuilder:r(8357)}},73685:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="active"},98540:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="complete"},67233:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="loop"},2859:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="pause"},98336:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="repeat"},25764:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="resume"},32193:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="start"},84371:n=>{/**
 * @author       samme
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="stop"},70766:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="update"},55659:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="yoyo"},842:(n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports={TWEEN_ACTIVE:r(73685),TWEEN_COMPLETE:r(98540),TWEEN_LOOP:r(67233),TWEEN_PAUSE:r(2859),TWEEN_RESUME:r(25764),TWEEN_REPEAT:r(98336),TWEEN_START:r(32193),TWEEN_STOP:r(84371),TWEEN_UPDATE:r(70766),TWEEN_YOYO:r(55659)}},43066:(n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o={States:r(86353),Builders:r(30231),Events:r(842),TweenManager:r(40382),Tween:r(86081),TweenData:r(48177),TweenFrameData:r(42220),BaseTween:r(70402),TweenChain:r(43960)};n.exports=o},70402:(n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(83419),x=r(50792),d=r(842),h=r(86353),l=new o({Extends:x,initialize:function(f){x.call(this),this.parent=f,this.data=[],this.totalData=0,this.startDelay=0,this.hasStarted=!1,this.timeScale=1,this.loop=0,this.loopDelay=0,this.loopCounter=0,this.completeDelay=0,this.countdown=0,this.state=h.PENDING,this.paused=!1,this.callbacks={onActive:null,onComplete:null,onLoop:null,onPause:null,onRepeat:null,onResume:null,onStart:null,onStop:null,onUpdate:null,onYoyo:null},this.callbackScope,this.persist=!1},setTimeScale:function(a){return this.timeScale=a,this},getTimeScale:function(){return this.timeScale},isPlaying:function(){return!this.paused&&this.isActive()},isPaused:function(){return this.paused},pause:function(){return this.paused||(this.paused=!0,this.dispatchEvent(d.TWEEN_PAUSE,"onPause")),this},resume:function(){return this.paused&&(this.paused=!1,this.dispatchEvent(d.TWEEN_RESUME,"onResume")),this},makeActive:function(){this.parent.makeActive(this),this.dispatchEvent(d.TWEEN_ACTIVE,"onActive")},onCompleteHandler:function(){this.setPendingRemoveState(),this.dispatchEvent(d.TWEEN_COMPLETE,"onComplete")},complete:function(a){return a===void 0&&(a=0),a?(this.setCompleteDelayState(),this.countdown=a):this.onCompleteHandler(),this},completeAfterLoop:function(a){return a===void 0&&(a=0),this.loopCounter>a&&(this.loopCounter=a),this},remove:function(){return this.parent&&this.parent.remove(this),this},stop:function(){return this.parent&&!this.isRemoved()&&!this.isPendingRemove()&&!this.isDestroyed()&&(this.dispatchEvent(d.TWEEN_STOP,"onStop"),this.setPendingRemoveState()),this},updateLoopCountdown:function(a){this.countdown-=a,this.countdown<=0&&(this.setActiveState(),this.dispatchEvent(d.TWEEN_LOOP,"onLoop"))},updateStartCountdown:function(a){return this.countdown-=a,this.countdown<=0&&(this.hasStarted=!0,this.setActiveState(),this.dispatchEvent(d.TWEEN_START,"onStart"),a=0),a},updateCompleteDelay:function(a){this.countdown-=a,this.countdown<=0&&this.onCompleteHandler()},setCallback:function(a,f,c){return c===void 0&&(c=[]),this.callbacks.hasOwnProperty(a)&&(this.callbacks[a]={func:f,params:c}),this},setPendingState:function(){this.state=h.PENDING},setActiveState:function(){this.state=h.ACTIVE,this.hasStarted=!1},setLoopDelayState:function(){this.state=h.LOOP_DELAY},setCompleteDelayState:function(){this.state=h.COMPLETE_DELAY},setStartDelayState:function(){this.state=h.START_DELAY,this.countdown=this.startDelay,this.hasStarted=!1},setPendingRemoveState:function(){this.state=h.PENDING_REMOVE},setRemovedState:function(){this.state=h.REMOVED},setFinishedState:function(){this.state=h.FINISHED},setDestroyedState:function(){this.state=h.DESTROYED},isPending:function(){return this.state===h.PENDING},isActive:function(){return this.state===h.ACTIVE},isLoopDelayed:function(){return this.state===h.LOOP_DELAY},isCompleteDelayed:function(){return this.state===h.COMPLETE_DELAY},isStartDelayed:function(){return this.state===h.START_DELAY},isPendingRemove:function(){return this.state===h.PENDING_REMOVE},isRemoved:function(){return this.state===h.REMOVED},isFinished:function(){return this.state===h.FINISHED},isDestroyed:function(){return this.state===h.DESTROYED},destroy:function(){this.data&&this.data.forEach(function(a){a.destroy()}),this.removeAllListeners(),this.callbacks=null,this.data=null,this.parent=null,this.setDestroyedState()}});l.TYPES=["onActive","onComplete","onLoop","onPause","onRepeat","onResume","onStart","onStop","onUpdate","onYoyo"],n.exports=l},95042:(n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(83419),x=r(842),d=r(86353),h=new o({initialize:function(a,f,c,u,v,g,m,y,C,b){this.tween=a,this.targetIndex=f,this.duration=u<=0?.01:u,this.totalDuration=0,this.delay=0,this.getDelay=c,this.yoyo=v,this.hold=g,this.repeat=m,this.repeatDelay=y,this.repeatCounter=0,this.flipX=C,this.flipY=b,this.progress=0,this.elapsed=0,this.state=0,this.isCountdown=!1},getTarget:function(){return this.tween.targets[this.targetIndex]},setTargetValue:function(l){l===void 0&&(l=this.current),this.tween.targets[this.targetIndex][this.key]=l},setCreatedState:function(){this.state=d.CREATED,this.isCountdown=!1},setDelayState:function(){this.state=d.DELAY,this.isCountdown=!0},setPendingRenderState:function(){this.state=d.PENDING_RENDER,this.isCountdown=!1},setPlayingForwardState:function(){this.state=d.PLAYING_FORWARD,this.isCountdown=!1},setPlayingBackwardState:function(){this.state=d.PLAYING_BACKWARD,this.isCountdown=!1},setHoldState:function(){this.state=d.HOLD_DELAY,this.isCountdown=!0},setRepeatState:function(){this.state=d.REPEAT_DELAY,this.isCountdown=!0},setCompleteState:function(){this.state=d.COMPLETE,this.isCountdown=!1},isCreated:function(){return this.state===d.CREATED},isDelayed:function(){return this.state===d.DELAY},isPendingRender:function(){return this.state===d.PENDING_RENDER},isPlayingForward:function(){return this.state===d.PLAYING_FORWARD},isPlayingBackward:function(){return this.state===d.PLAYING_BACKWARD},isHolding:function(){return this.state===d.HOLD_DELAY},isRepeating:function(){return this.state===d.REPEAT_DELAY},isComplete:function(){return this.state===d.COMPLETE},setStateFromEnd:function(l){this.yoyo?this.onRepeat(l,!0,!0):this.repeatCounter>0?this.onRepeat(l,!0,!1):this.setCompleteState()},setStateFromStart:function(l){this.repeatCounter>0?this.onRepeat(l,!1):this.setCompleteState()},reset:function(){var l=this.tween,a=l.totalTargets,f=this.targetIndex,c=l.targets[f],u=this.key;this.progress=0,this.elapsed=0,this.delay=this.getDelay(c,u,0,f,a,l),this.repeatCounter=this.repeat===-1?d.MAX:this.repeat,this.setPendingRenderState();var v=this.duration+this.hold;this.yoyo&&(v+=this.duration);var g=v+this.repeatDelay;this.totalDuration=this.delay+v,this.repeat===-1?(this.totalDuration+=g*d.MAX,l.isInfinite=!0):this.repeat>0&&(this.totalDuration+=g*this.repeat),this.totalDuration>l.duration&&(l.duration=this.totalDuration),this.delay<l.startDelay&&(l.startDelay=this.delay),this.delay>0&&(this.elapsed=this.delay,this.setDelayState())},onRepeat:function(l,a,f){var c=this.tween,u=c.totalTargets,v=this.targetIndex,g=c.targets[v],m=this.key,y=m!=="texture";if(this.elapsed=l,this.progress=l/this.duration,this.flipX&&g.toggleFlipX(),this.flipY&&g.toggleFlipY(),y&&(a||f)&&(this.start=this.getStartValue(g,m,this.start,v,u,c)),f){this.setPlayingBackwardState(),this.dispatchEvent(x.TWEEN_YOYO,"onYoyo");return}this.repeatCounter--,y&&(this.end=this.getEndValue(g,m,this.start,v,u,c)),this.repeatDelay>0?(this.elapsed=this.repeatDelay-l,y&&(this.current=this.start,g[m]=this.current),this.setRepeatState()):(this.setPlayingForwardState(),this.dispatchEvent(x.TWEEN_REPEAT,"onRepeat"))},destroy:function(){this.tween=null,this.getDelay=null,this.setCompleteState()}});n.exports=h},69902:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T={targets:null,delay:0,duration:1e3,ease:"Power0",easeParams:null,hold:0,repeat:0,repeatDelay:0,yoyo:!1,flipX:!1,flipY:!1,persist:!1,interpolation:null};n.exports=T},81076:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports=["callbackScope","completeDelay","delay","duration","ease","easeParams","flipX","flipY","hold","interpolation","loop","loopDelay","onActive","onActiveParams","onComplete","onCompleteParams","onLoop","onLoopParams","onPause","onPauseParams","onRepeat","onRepeatParams","onResume","onResumeParams","onStart","onStartParams","onStop","onStopParams","onUpdate","onUpdateParams","onYoyo","onYoyoParams","paused","persist","props","repeat","repeatDelay","targets","yoyo"]},86081:(n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(70402),x=r(83419),d=r(842),h=r(44603),l=r(39429),a=r(36383),f=r(86353),c=r(48177),u=r(42220),v=new x({Extends:o,initialize:function(m,y){o.call(this,m),this.targets=y,this.totalTargets=y.length,this.isSeeking=!1,this.isInfinite=!1,this.elapsed=0,this.totalElapsed=0,this.duration=0,this.progress=0,this.totalDuration=0,this.totalProgress=0,this.isNumberTween=!1},add:function(g,m,y,C,b,M,w,R,A,L,F,G,I,B,k,U){var H=new c(this,g,m,y,C,b,M,w,R,A,L,F,G,I,B,k,U);return this.totalData=this.data.push(H),H},addFrame:function(g,m,y,C,b,M,w,R,A,L){var F=new u(this,g,m,y,C,b,M,w,R,A,L);return this.totalData=this.data.push(F),F},getValue:function(g){g===void 0&&(g=0);var m=null;return this.data&&(m=this.data[g].current),m},hasTarget:function(g){return this.targets&&this.targets.indexOf(g)!==-1},updateTo:function(g,m,y){if(y===void 0&&(y=!1),g!=="texture")for(var C=0;C<this.totalData;C++){var b=this.data[C];b.key===g&&(b.isPlayingForward()||b.isPlayingBackward())&&(b.end=m,y&&(b.start=b.current))}return this},restart:function(){switch(this.state){case f.REMOVED:case f.FINISHED:this.seek(),this.parent.makeActive(this);break;case f.PENDING:case f.PENDING_REMOVE:this.parent.reset(this);break;case f.DESTROYED:console.warn("Cannot restart destroyed Tween",this);break;default:this.seek();break}return this.paused=!1,this.hasStarted=!1,this},nextState:function(){if(this.loopCounter>0)this.elapsed=0,this.progress=0,this.loopCounter--,this.initTweenData(!0),this.loopDelay>0?(this.countdown=this.loopDelay,this.setLoopDelayState()):(this.setActiveState(),this.dispatchEvent(d.TWEEN_LOOP,"onLoop"));else if(this.completeDelay>0)this.countdown=this.completeDelay,this.setCompleteDelayState();else return this.onCompleteHandler(),!0;return!1},onCompleteHandler:function(){this.progress=1,this.totalProgress=1,o.prototype.onCompleteHandler.call(this)},play:function(){return this.isDestroyed()?(console.warn("Cannot play destroyed Tween",this),this):((this.isPendingRemove()||this.isFinished())&&this.seek(),this.paused=!1,this.setActiveState(),this)},seek:function(g,m,y){if(g===void 0&&(g=0),m===void 0&&(m=16.6),y===void 0&&(y=!1),this.isDestroyed())return console.warn("Cannot seek destroyed Tween",this),this;y||(this.isSeeking=!0),this.reset(!0),this.initTweenData(!0),this.setActiveState(),this.dispatchEvent(d.TWEEN_ACTIVE,"onActive");var C=this.paused;if(this.paused=!1,g>0){for(var b=Math.floor(g/m),M=g-b*m,w=0;w<b;w++)this.update(m);M>0&&this.update(M)}return this.paused=C,this.isSeeking=!1,this},initTweenData:function(g){g===void 0&&(g=!1),this.duration=0,this.startDelay=a.MAX_SAFE_INTEGER;for(var m=this.data,y=0;y<this.totalData;y++)m[y].reset(g);this.duration=Math.max(this.duration,.01);var C=this.duration,b=this.completeDelay,M=this.loopCounter,w=this.loopDelay;M>0?this.totalDuration=C+b+(C+w)*M:this.totalDuration=C+b},reset:function(g){return g===void 0&&(g=!1),this.elapsed=0,this.totalElapsed=0,this.progress=0,this.totalProgress=0,this.loopCounter=this.loop,this.loop===-1&&(this.isInfinite=!0,this.loopCounter=f.MAX),g||(this.initTweenData(),this.setActiveState(),this.dispatchEvent(d.TWEEN_ACTIVE,"onActive")),this},update:function(g){if(this.isPendingRemove()||this.isDestroyed())return this.persist?(this.setFinishedState(),!1):!0;if(this.paused||this.isFinished())return!1;if(g*=this.timeScale*this.parent.timeScale,this.isLoopDelayed())return this.updateLoopCountdown(g),!1;if(this.isCompleteDelayed())return this.updateCompleteDelay(g),!1;this.hasStarted||(this.startDelay-=g,this.startDelay<=0&&(this.hasStarted=!0,this.dispatchEvent(d.TWEEN_START,"onStart"),g=0));var m=!1;if(this.isActive())for(var y=this.data,C=0;C<this.totalData;C++)y[C].update(g)&&(m=!0);this.elapsed+=g,this.progress=Math.min(this.elapsed/this.duration,1),this.totalElapsed+=g,this.totalProgress=Math.min(this.totalElapsed/this.totalDuration,1),m||this.nextState();var b=this.isPendingRemove();return b&&this.persist&&(this.setFinishedState(),b=!1),b},forward:function(g){return this.update(g),this},rewind:function(g){return this.update(-g),this},dispatchEvent:function(g,m){if(!this.isSeeking){if(this.emit(g,this,this.targets),!this.callbacks)return;var y=this.callbacks[m];y&&y.func.apply(this.callbackScope,[this,this.targets].concat(y.params))}},destroy:function(){o.prototype.destroy.call(this),this.targets=null}});l.register("tween",function(g){return this.scene.sys.tweens.add(g)}),h.register("tween",function(g){return this.scene.sys.tweens.create(g)}),n.exports=v},43960:(n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(72905),x=r(70402),d=r(83419),h=r(842),l=r(44603),a=r(39429),f=r(86353),c=new d({Extends:x,initialize:function(v){x.call(this,v),this.currentTween=null,this.currentIndex=0},init:function(){return this.loopCounter=this.loop===-1?f.MAX:this.loop,this.setCurrentTween(0),this.startDelay>0&&!this.isStartDelayed()?this.setStartDelayState():this.setActiveState(),this},add:function(u){var v=this.parent.create(u);Array.isArray(v)||(v=[v]);for(var g=this.data,m=0;m<v.length;m++){var y=v[m];y.parent=this,g.push(y.reset())}return this.totalData=g.length,this},remove:function(u){return o(this.data,u),u.setRemovedState(),u===this.currentTween&&this.nextTween(),this.totalData=this.data.length,this},hasTarget:function(u){for(var v=this.data,g=0;g<this.totalData;g++)if(v[g].hasTarget(u))return!0;return!1},restart:function(){return this.isDestroyed()?(console.warn("Cannot restart destroyed TweenChain",this),this):(this.isRemoved()&&this.parent.makeActive(this),this.resetTweens(),this.paused=!1,this.init())},reset:function(u){return u.seek(),u.setActiveState(),this},makeActive:function(u){return u.reset(),u.setActiveState(),this},nextState:function(){if(this.loopCounter>0)this.loopCounter--,this.resetTweens(),this.loopDelay>0?(this.countdown=this.loopDelay,this.setLoopDelayState()):(this.setActiveState(),this.dispatchEvent(h.TWEEN_LOOP,"onLoop"));else if(this.completeDelay>0)this.countdown=this.completeDelay,this.setCompleteDelayState();else return this.onCompleteHandler(),!0;return!1},play:function(){return this.isDestroyed()?(console.warn("Cannot play destroyed TweenChain",this),this):((this.isPendingRemove()||this.isPending())&&this.resetTweens(),this.paused=!1,this.startDelay>0&&!this.isStartDelayed()?this.setStartDelayState():this.setActiveState(),this)},resetTweens:function(){for(var u=this.data,v=this.totalData,g=0;g<v;g++)u[g].reset(!1);this.setCurrentTween(0)},update:function(u){if(this.isPendingRemove()||this.isDestroyed())return!0;if(this.isFinished()||this.paused)return!1;if(u*=this.parent.timeScale,this.isLoopDelayed())return this.updateLoopCountdown(u),!1;if(this.isCompleteDelayed())return this.updateCompleteDelay(u),!1;this.hasStarted||(this.startDelay-=u,this.startDelay<=0&&(this.hasStarted=!0,this.dispatchEvent(h.TWEEN_START,"onStart"),u=0));var v=!1;return this.isActive()&&this.currentTween&&(this.currentTween.update(u)&&this.nextTween()&&this.nextState(),v=this.isPendingRemove(),v&&this.persist&&(this.setFinishedState(),v=!1)),v},nextTween:function(){return this.currentIndex++,this.currentIndex===this.totalData?!0:(this.setCurrentTween(this.currentIndex),!1)},setCurrentTween:function(u){this.currentIndex=u,this.currentTween=this.data[u],this.currentTween.setActiveState()},dispatchEvent:function(u,v){this.emit(u,this);var g=this.callbacks[v];g&&g.func.apply(this.callbackScope,[this].concat(g.params))},destroy:function(){x.prototype.destroy.call(this),this.currentTween=null}});a.register("tweenchain",function(u){return this.scene.sys.tweens.chain(u)}),l.register("tweenchain",function(u){return this.scene.sys.tweens.create(u)}),n.exports=c},48177:(n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(95042),x=r(45319),d=r(83419),h=r(842),l=new d({Extends:o,initialize:function(f,c,u,v,g,m,y,C,b,M,w,R,A,L,F,G,I){o.call(this,f,c,C,b,M,w,R,A,L,F),this.key=u,this.getActiveValue=m,this.getEndValue=v,this.getStartValue=g,this.ease=y,this.start=0,this.previous=0,this.current=0,this.end=0,this.interpolation=G,this.interpolationData=I},reset:function(a){o.prototype.reset.call(this);var f=this.tween.targets[this.targetIndex],c=this.key;a&&(f[c]=this.start),this.start=0,this.previous=0,this.current=0,this.end=0,this.getActiveValue&&(f[c]=this.getActiveValue(f,c,0))},update:function(a){var f=this.tween,c=f.totalTargets,u=this.targetIndex,v=f.targets[u],g=this.key;if(!v)return this.setCompleteState(),!1;if(this.isCountdown&&(this.elapsed-=a,this.elapsed<=0&&(this.elapsed=0,a=0,this.isDelayed()?this.setPendingRenderState():this.isRepeating()?(this.setPlayingForwardState(),this.dispatchEvent(h.TWEEN_REPEAT,"onRepeat")):this.isHolding()&&this.setStateFromEnd(0))),this.isPendingRender())return this.start=this.getStartValue(v,g,v[g],u,c,f),this.end=this.getEndValue(v,g,this.start,u,c,f),this.current=this.start,v[g]=this.start,this.setPlayingForwardState(),!0;var m=this.isPlayingForward(),y=this.isPlayingBackward();if(m||y){var C=this.elapsed,b=this.duration,M=0,w=!1;C+=a,C>=b?(M=C-b,C=b,w=!0):C<0&&(C=0);var R=x(C/b,0,1);this.elapsed=C,this.progress=R,this.previous=this.current,m||(R=1-R);var A=this.ease(R);this.interpolation?this.current=this.interpolation(this.interpolationData,A):this.current=this.start+(this.end-this.start)*A,v[g]=this.current,w&&(m?(f.isNumberTween&&(this.current=this.end,v[g]=this.current),this.hold>0?(this.elapsed=this.hold,this.setHoldState()):this.setStateFromEnd(M)):(f.isNumberTween&&(this.current=this.start,v[g]=this.current),this.setStateFromStart(M))),this.dispatchEvent(h.TWEEN_UPDATE,"onUpdate")}return!this.isComplete()},dispatchEvent:function(a,f){var c=this.tween;if(!c.isSeeking){var u=c.targets[this.targetIndex],v=this.key,g=this.current,m=this.previous;c.emit(a,c,v,u,g,m);var y=c.callbacks[f];y&&y.func.apply(c.callbackScope,[c,u,v,g,m].concat(y.params))}},destroy:function(){o.prototype.destroy.call(this),this.getActiveValue=null,this.getEndValue=null,this.getStartValue=null,this.ease=null}});n.exports=l},42220:(n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(95042),x=r(45319),d=r(83419),h=r(842),l=new d({Extends:o,initialize:function(f,c,u,v,g,m,y,C,b,M,w){o.call(this,f,c,g,m,!1,y,C,b,M,w),this.key="texture",this.startTexture=null,this.endTexture=u,this.startFrame=null,this.endFrame=v,this.yoyo=C!==0},reset:function(a){o.prototype.reset.call(this);var f=this.tween.targets[this.targetIndex];this.startTexture||(this.startTexture=f.texture.key,this.startFrame=f.frame.name),a&&f.setTexture(this.startTexture,this.startFrame)},update:function(a){var f=this.tween,c=this.targetIndex,u=f.targets[c];if(!u)return this.setCompleteState(),!1;if(this.isCountdown&&(this.elapsed-=a,this.elapsed<=0&&(this.elapsed=0,a=0,this.isDelayed()?this.setPendingRenderState():this.isRepeating()?(this.setPlayingForwardState(),this.dispatchEvent(h.TWEEN_REPEAT,"onRepeat")):this.isHolding()&&this.setStateFromEnd(0))),this.isPendingRender())return this.startTexture&&u.setTexture(this.startTexture,this.startFrame),this.setPlayingForwardState(),!0;var v=this.isPlayingForward(),g=this.isPlayingBackward();if(v||g){var m=this.elapsed,y=this.duration,C=0,b=!1;m+=a,m>=y?(C=m-y,m=y,b=!0):m<0&&(m=0);var M=x(m/y,0,1);this.elapsed=m,this.progress=M,b&&(v?(u.setTexture(this.endTexture,this.endFrame),this.hold>0?(this.elapsed=this.hold,this.setHoldState()):this.setStateFromEnd(C)):(u.setTexture(this.startTexture,this.startFrame),this.setStateFromStart(C))),this.dispatchEvent(h.TWEEN_UPDATE,"onUpdate")}return!this.isComplete()},dispatchEvent:function(a,f){var c=this.tween;if(!c.isSeeking){var u=c.targets[this.targetIndex],v=this.key;c.emit(a,c,v,u);var g=c.callbacks[f];g&&g.func.apply(c.callbackScope,[c,u,v].concat(g.params))}},destroy:function(){o.prototype.destroy.call(this),this.startTexture=null,this.endTexture=null,this.startFrame=null,this.endFrame=null}});n.exports=l},86353:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T={CREATED:0,DELAY:2,PENDING_RENDER:4,PLAYING_FORWARD:5,PLAYING_BACKWARD:6,HOLD_DELAY:7,REPEAT_DELAY:8,COMPLETE:9,PENDING:20,ACTIVE:21,LOOP_DELAY:22,COMPLETE_DELAY:23,START_DELAY:24,PENDING_REMOVE:25,REMOVED:26,FINISHED:27,DESTROYED:28,MAX:999999999999};n.exports=T},83419:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */function T(l){return!!l.get&&typeof l.get=="function"||!!l.set&&typeof l.set=="function"}function r(l,a,f){var c=f?l[a]:Object.getOwnPropertyDescriptor(l,a);return!f&&c.value&&typeof c.value=="object"&&(c=c.value),c&&T(c)?(typeof c.enumerable>"u"&&(c.enumerable=!0),typeof c.configurable>"u"&&(c.configurable=!0),c):!1}function o(l,a){var f=Object.getOwnPropertyDescriptor(l,a);return f?(f.value&&typeof f.value=="object"&&(f=f.value),f.configurable===!1):!1}function x(l,a,f,c){for(var u in a)if(a.hasOwnProperty(u)){var v=r(a,u,f);if(v!==!1){var g=c||l;if(o(g.prototype,u)){if(h.ignoreFinals)continue;throw new Error("cannot override final property '"+u+"', set Class.ignoreFinals = true to skip")}Object.defineProperty(l.prototype,u,v)}else l.prototype[u]=a[u]}}function d(l,a){if(a){Array.isArray(a)||(a=[a]);for(var f=0;f<a.length;f++)x(l,a[f].prototype||a[f])}}function h(l){l||(l={});var a,f;if(l.initialize){if(typeof l.initialize!="function")throw new Error("initialize must be a function");a=l.initialize,delete l.initialize}else if(l.Extends){var c=l.Extends;a=function(){c.apply(this,arguments)}}else a=function(){};l.Extends?(a.prototype=Object.create(l.Extends.prototype),a.prototype.constructor=a,f=l.Extends,delete l.Extends):a.prototype.constructor=a;var u=null;return l.Mixins&&(u=l.Mixins,delete l.Mixins),d(a,u),x(a,l,!0,f),a}h.extend=x,h.mixin=d,h.ignoreFinals=!1,n.exports=h},29747:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(){};n.exports=T},20242:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(){return null};n.exports=T},71146:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(r,o,x,d,h){if(h===void 0&&(h=r),x>0){var l=x-r.length;if(l<=0)return null}if(!Array.isArray(o))return r.indexOf(o)===-1?(r.push(o),d&&d.call(h,o),o):null;for(var a=o.length-1;a>=0;)r.indexOf(o[a])!==-1&&o.splice(a,1),a--;if(a=o.length,a===0)return null;x>0&&a>l&&(o.splice(l),a=l);for(var f=0;f<a;f++){var c=o[f];r.push(c),d&&d.call(h,c)}return o};n.exports=T},51067:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(r,o,x,d,h,l){if(x===void 0&&(x=0),l===void 0&&(l=r),d>0){var a=d-r.length;if(a<=0)return null}if(!Array.isArray(o))return r.indexOf(o)===-1?(r.splice(x,0,o),h&&h.call(l,o),o):null;for(var f=o.length-1;f>=0;)r.indexOf(o[f])!==-1&&o.pop(),f--;if(f=o.length,f===0)return null;d>0&&f>a&&(o.splice(a),f=a);for(var c=f-1;c>=0;c--){var u=o[c];r.splice(x,0,u),h&&h.call(l,u)}return o};n.exports=T},66905:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(r,o){var x=r.indexOf(o);return x!==-1&&x<r.length&&(r.splice(x,1),r.push(o)),o};n.exports=T},21612:(n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(82011),x=function(d,h,l,a,f){a===void 0&&(a=0),f===void 0&&(f=d.length);var c=0;if(o(d,a,f))for(var u=a;u<f;u++){var v=d[u];v[h]===l&&c++}return c};n.exports=x},95428:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(r,o,x){var d,h=[null];for(d=3;d<arguments.length;d++)h.push(arguments[d]);for(d=0;d<r.length;d++)h[0]=r[d],o.apply(x,h);return r};n.exports=T},36914:(n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(82011),x=function(d,h,l,a,f){if(a===void 0&&(a=0),f===void 0&&(f=d.length),o(d,a,f)){var c,u=[null];for(c=5;c<arguments.length;c++)u.push(arguments[c]);for(c=a;c<f;c++)u[0]=d[c],h.apply(l,u)}return d};n.exports=x},81957:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(r,o,x){if(o.length){if(o.length===1)return o[0]}else return NaN;var d=1,h,l;if(x){if(r<o[0][x])return o[0];for(;o[d][x]<r;)d++}else for(;o[d]<r;)d++;return d>o.length&&(d=o.length),x?(h=o[d-1][x],l=o[d][x],l-r<=r-h?o[d]:o[d-1]):(h=o[d-1],l=o[d],l-r<=r-h?l:h)};n.exports=T},43491:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(r,o){o===void 0&&(o=[]);for(var x=0;x<r.length;x++)Array.isArray(r[x])?T(r[x],o):o.push(r[x]);return o};n.exports=T},46710:(n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(82011),x=function(d,h,l,a,f){a===void 0&&(a=0),f===void 0&&(f=d.length);var c=[];if(o(d,a,f))for(var u=a;u<f;u++){var v=d[u];(!h||h&&l===void 0&&v.hasOwnProperty(h)||h&&l!==void 0&&v[h]===l)&&c.push(v)}return c};n.exports=x},58731:(n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(82011),x=function(d,h,l,a,f){if(a===void 0&&(a=0),f===void 0&&(f=d.length),a!==-1){if(o(d,a,f))for(var c=a;c<f;c++){var u=d[c];if(!h||h&&l===void 0&&u.hasOwnProperty(h)||h&&l!==void 0&&u[h]===l)return u}}else if(o(d,0,f))for(var c=f;c>=0;c--){var u=d[c];if(!h||h&&l===void 0&&u.hasOwnProperty(h)||h&&l!==void 0&&u[h]===l)return u}return null};n.exports=x},26546:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(r,o,x){o===void 0&&(o=0),x===void 0&&(x=r.length);var d=o+Math.floor(Math.random()*x);return r[d]===void 0?null:r[d]};n.exports=T},85835:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(r,o,x){if(o===x)return r;var d=r.indexOf(o),h=r.indexOf(x);if(d<0||h<0)throw new Error("Supplied items must be elements of the same array");return d>h||(r.splice(d,1),h=r.indexOf(x),r.splice(h+1,0,o)),r};n.exports=T},83371:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(r,o,x){if(o===x)return r;var d=r.indexOf(o),h=r.indexOf(x);if(d<0||h<0)throw new Error("Supplied items must be elements of the same array");return d<h||(r.splice(d,1),h===0?r.unshift(o):r.splice(h,0,o)),r};n.exports=T},70864:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(r,o){var x=r.indexOf(o);if(x>0){var d=r[x-1],h=r.indexOf(d);r[x]=d,r[h]=o}return r};n.exports=T},69693:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(r,o,x){var d=r.indexOf(o);if(d===-1||x<0||x>=r.length)throw new Error("Supplied index out of bounds");return d!==x&&(r.splice(d,1),r.splice(x,0,o)),o};n.exports=T},40853:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(r,o){var x=r.indexOf(o);if(x!==-1&&x<r.length-1){var d=r[x+1],h=r.indexOf(d);r[x]=d,r[h]=o}return r};n.exports=T},20283:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(r,o,x,d){var h=[],l,a=!1;if((x||d)&&(a=!0,x||(x=""),d||(d="")),o<r)for(l=r;l>=o;l--)a?h.push(x+l.toString()+d):h.push(l);else for(l=r;l<=o;l++)a?h.push(x+l.toString()+d):h.push(l);return h};n.exports=T},593:(n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(2284),x=function(d,h,l){d===void 0&&(d=0),h===void 0&&(h=null),l===void 0&&(l=1),h===null&&(h=d,d=0);for(var a=[],f=Math.max(o((h-d)/(l||1)),0),c=0;c<f;c++)a.push(d),d+=l;return a};n.exports=x},43886:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */function T(x,d,h){var l=x[d];x[d]=x[h],x[h]=l}function r(x,d){return x<d?-1:x>d?1:0}var o=function(x,d,h,l,a){for(h===void 0&&(h=0),l===void 0&&(l=x.length-1),a===void 0&&(a=r);l>h;){if(l-h>600){var f=l-h+1,c=d-h+1,u=Math.log(f),v=.5*Math.exp(2*u/3),g=.5*Math.sqrt(u*v*(f-v)/f)*(c-f/2<0?-1:1),m=Math.max(h,Math.floor(d-c*v/f+g)),y=Math.min(l,Math.floor(d+(f-c)*v/f+g));o(x,d,m,y,a)}var C=x[d],b=h,M=l;for(T(x,h,d),a(x[l],C)>0&&T(x,h,l);b<M;){for(T(x,b,M),b++,M--;a(x[b],C)<0;)b++;for(;a(x[M],C)>0;)M--}a(x[h],C)===0?T(x,h,M):(M++,T(x,M,l)),M<=d&&(h=M+1),d<=M&&(l=M-1)}};n.exports=o},88492:(n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(35154),x=r(33680),d=function(l,a,f){for(var c=[],u=0;u<l.length;u++)for(var v=0;v<a.length;v++)for(var g=0;g<f;g++)c.push({a:l[u],b:a[v]});return c},h=function(l,a,f){var c=o(f,"max",0),u=o(f,"qty",1),v=o(f,"random",!1),g=o(f,"randomB",!1),m=o(f,"repeat",0),y=o(f,"yoyo",!1),C=[];if(g&&x(a),m===-1)if(c===0)m=0;else{var b=l.length*a.length*u;y&&(b*=2),m=Math.ceil(c/b)}for(var M=0;M<=m;M++){var w=d(l,a,u);v&&x(w),C=C.concat(w),y&&(w.reverse(),C=C.concat(w))}return c&&C.splice(c),C};n.exports=h},72905:(n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(19133),x=function(d,h,l,a){a===void 0&&(a=d);var f;if(!Array.isArray(h))return f=d.indexOf(h),f!==-1?(o(d,f),l&&l.call(a,h),h):null;for(var c=h.length-1,u=[];c>=0;){var v=h[c];f=d.indexOf(v),f!==-1&&(o(d,f),u.push(v),l&&l.call(a,v)),c--}return u};n.exports=x},60248:(n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(19133),x=function(d,h,l,a){if(a===void 0&&(a=d),h<0||h>d.length-1)throw new Error("Index out of bounds");var f=o(d,h);return l&&l.call(a,f),f};n.exports=x},81409:(n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(82011),x=function(d,h,l,a,f){if(h===void 0&&(h=0),l===void 0&&(l=d.length),f===void 0&&(f=d),o(d,h,l)){var c=l-h,u=d.splice(h,c);if(a)for(var v=0;v<u.length;v++){var g=u[v];a.call(f,g)}return u}else return[]};n.exports=x},31856:(n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(19133),x=function(d,h,l){h===void 0&&(h=0),l===void 0&&(l=d.length);var a=h+Math.floor(Math.random()*l);return o(d,a)};n.exports=x},42169:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(r,o,x){var d=r.indexOf(o),h=r.indexOf(x);return d!==-1&&h===-1?(r[d]=x,!0):!1};n.exports=T},86003:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(r,o){o===void 0&&(o=1);for(var x=null,d=0;d<o;d++)x=r.shift(),r.push(x);return x};n.exports=T},49498:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(r,o){o===void 0&&(o=1);for(var x=null,d=0;d<o;d++)x=r.pop(),r.unshift(x);return x};n.exports=T},82011:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(r,o,x,d){var h=r.length;if(o<0||o>=h||o>=x||x>h){if(d)throw new Error("Range Error: Values outside acceptable range");return!1}else return!0};n.exports=T},89545:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(r,o){var x=r.indexOf(o);return x!==-1&&x>0&&(r.splice(x,1),r.unshift(o)),o};n.exports=T},17810:(n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(82011),x=function(d,h,l,a,f){if(a===void 0&&(a=0),f===void 0&&(f=d.length),o(d,a,f))for(var c=a;c<f;c++){var u=d[c];u.hasOwnProperty(h)&&(u[h]=l)}return d};n.exports=x},33680:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(r){for(var o=r.length-1;o>0;o--){var x=Math.floor(Math.random()*(o+1)),d=r[o];r[o]=r[x],r[x]=d}return r};n.exports=T},90126:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(r){var o=/\D/g;return r.sort(function(x,d){return parseInt(x.replace(o,""),10)-parseInt(d.replace(o,""),10)}),r};n.exports=T},19133:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(r,o){if(!(o>=r.length)){for(var x=r.length-1,d=r[o],h=o;h<x;h++)r[h]=r[h+1];return r.length=x,d}};n.exports=T},19186:(n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @author       Angry Bytes (and contributors)
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(82264);function x(a,f){return String(a).localeCompare(f)}function d(a,f){var c=a.length;if(c<=1)return a;for(var u=new Array(c),v=1;v<c;v*=2){h(a,f,v,u);var g=a;a=u,u=g}return a}function h(a,f,c,u){var v=a.length,g=0,m=c*2,y,C,b,M,w;for(y=0;y<v;y+=m)for(C=y+c,b=C+c,C>v&&(C=v),b>v&&(b=v),M=y,w=C;;)if(M<C&&w<b)f(a[M],a[w])<=0?u[g++]=a[M++]:u[g++]=a[w++];else if(M<C)u[g++]=a[M++];else if(w<b)u[g++]=a[w++];else break}var l=function(a,f){if(f===void 0&&(f=x),!a||a.length<2)return a;if(o.features.stableSort)return a.sort(f);var c=d(a,f);return c!==a&&h(c,null,a.length,a),a};n.exports=l},25630:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(r,o,x){if(o===x)return r;var d=r.indexOf(o),h=r.indexOf(x);if(d<0||h<0)throw new Error("Supplied items must be elements of the same array");return r[d]=x,r[h]=o,r};n.exports=T},37105:(n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports={Matrix:r(54915),Add:r(71146),AddAt:r(51067),BringToTop:r(66905),CountAllMatching:r(21612),Each:r(95428),EachInRange:r(36914),FindClosestInSorted:r(81957),Flatten:r(43491),GetAll:r(46710),GetFirst:r(58731),GetRandom:r(26546),MoveDown:r(70864),MoveTo:r(69693),MoveUp:r(40853),MoveAbove:r(85835),MoveBelow:r(83371),NumberArray:r(20283),NumberArrayStep:r(593),QuickSelect:r(43886),Range:r(88492),Remove:r(72905),RemoveAt:r(60248),RemoveBetween:r(81409),RemoveRandomElement:r(31856),Replace:r(42169),RotateLeft:r(86003),RotateRight:r(49498),SafeRange:r(82011),SendToBack:r(89545),SetAll:r(17810),Shuffle:r(33680),SortByDigits:r(90126),SpliceOne:r(19133),StableSort:r(19186),Swap:r(25630)}},86922:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(r){if(!Array.isArray(r)||!Array.isArray(r[0]))return!1;for(var o=r[0].length,x=1;x<r.length;x++)if(r[x].length!==o)return!1;return!0};n.exports=T},63362:(n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(41836),x=r(86922),d=function(h){var l="";if(!x(h))return l;for(var a=0;a<h.length;a++){for(var f=0;f<h[a].length;f++){var c=h[a][f].toString();c!=="undefined"?l+=o(c,2):l+="?",f<h[a].length-1&&(l+=" |")}if(a<h.length-1){l+=`
`;for(var u=0;u<h[a].length;u++)l+="---",u<h[a].length-1&&(l+="+");l+=`
`}}return l};n.exports=d},92598:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(r){return r.reverse()};n.exports=T},21224:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(r){for(var o=0;o<r.length;o++)r[o].reverse();return r};n.exports=T},98717:(n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(37829),x=function(d){return o(d,180)};n.exports=x},44657:(n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(37829),x=function(d,h){h===void 0&&(h=1);for(var l=0;l<h;l++)d=o(d,90);return d};n.exports=x},37829:(n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(86922),x=r(2429),d=function(h,l){if(l===void 0&&(l=90),!o(h))return null;if(typeof l!="string"&&(l=(l%360+360)%360),l===90||l===-270||l==="rotateLeft")h=x(h),h.reverse();else if(l===-90||l===270||l==="rotateRight")h.reverse(),h=x(h);else if(Math.abs(l)===180||l==="rotate180"){for(var a=0;a<h.length;a++)h[a].reverse();h.reverse()}return h};n.exports=d},92632:(n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(37829),x=function(d,h){h===void 0&&(h=1);for(var l=0;l<h;l++)d=o(d,-90);return d};n.exports=x},69512:(n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(86003),x=r(49498),d=function(h,l,a){if(l===void 0&&(l=0),a===void 0&&(a=0),a!==0&&(a<0?o(h,Math.abs(a)):x(h,a)),l!==0)for(var f=0;f<h.length;f++){var c=h[f];l<0?o(c,Math.abs(l)):x(c,l)}return h};n.exports=d},2429:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(r){for(var o=r.length,x=r[0].length,d=new Array(x),h=0;h<x;h++){d[h]=new Array(o);for(var l=o-1;l>-1;l--)d[h][l]=r[l][h]}return d};n.exports=T},54915:(n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports={CheckMatrix:r(86922),MatrixToString:r(63362),ReverseColumns:r(92598),ReverseRows:r(21224),Rotate180:r(98717),RotateLeft:r(44657),RotateMatrix:r(37829),RotateRight:r(92632),Translate:r(69512),TransposeMatrix:r(2429)}},71334:n=>{/**
 * @author       Niklas von Hertzen (https://github.com/niklasvh/base64-arraybuffer)
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",r=function(o,x){for(var d=new Uint8Array(o),h=d.length,l=x?"data:"+x+";base64,":"",a=0;a<h;a+=3)l+=T[d[a]>>2],l+=T[(d[a]&3)<<4|d[a+1]>>4],l+=T[(d[a+1]&15)<<2|d[a+2]>>6],l+=T[d[a+2]&63];return h%3===2?l=l.substring(0,l.length-1)+"=":h%3===1&&(l=l.substring(0,l.length-2)+"=="),l};n.exports=r},53134:n=>{/**
 * @author       Niklas von Hertzen (https://github.com/niklasvh/base64-arraybuffer)
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */for(var T="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",r=new Uint8Array(256),o=0;o<T.length;o++)r[T.charCodeAt(o)]=o;var x=function(d){d=d.substr(d.indexOf(",")+1);var h=d.length,l=h*.75,a=0,f,c,u,v;d[h-1]==="="&&(l--,d[h-2]==="="&&l--);for(var g=new ArrayBuffer(l),m=new Uint8Array(g),y=0;y<h;y+=4)f=r[d.charCodeAt(y)],c=r[d.charCodeAt(y+1)],u=r[d.charCodeAt(y+2)],v=r[d.charCodeAt(y+3)],m[a++]=f<<2|c>>4,m[a++]=(c&15)<<4|u>>2,m[a++]=(u&3)<<6|v&63;return g};n.exports=x},65839:(n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports={ArrayBufferToBase64:r(71334),Base64ToArrayBuffer:r(53134)}},91799:(n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports={Array:r(37105),Base64:r(65839),Objects:r(1183),String:r(31749),NOOP:r(29747),NULL:r(20242)}},41786:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(r){var o={};for(var x in r)Array.isArray(r[x])?o[x]=r[x].slice(0):o[x]=r[x];return o};n.exports=T},62644:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(r){var o,x,d;if(typeof r!="object"||r===null)return r;o=Array.isArray(r)?[]:{};for(d in r)x=r[d],o[d]=T(x);return o};n.exports=T},79291:(n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(41212),x=function(){var d,h,l,a,f,c,u=arguments[0]||{},v=1,g=arguments.length,m=!1;for(typeof u=="boolean"&&(m=u,u=arguments[1]||{},v=2),g===v&&(u=this,--v);v<g;v++)if((d=arguments[v])!=null)for(h in d)l=u[h],a=d[h],u!==a&&(m&&a&&(o(a)||(f=Array.isArray(a)))?(f?(f=!1,c=l&&Array.isArray(l)?l:[]):c=l&&o(l)?l:{},u[h]=x(m,c,a)):a!==void 0&&(u[h]=a));return u};n.exports=x},23568:(n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(75508),x=r(35154),d=function(h,l,a){var f=x(h,l,null);if(f===null)return a;if(Array.isArray(f))return o.RND.pick(f);if(typeof f=="object"){if(f.hasOwnProperty("randInt"))return o.RND.integerInRange(f.randInt[0],f.randInt[1]);if(f.hasOwnProperty("randFloat"))return o.RND.realInRange(f.randFloat[0],f.randFloat[1])}else if(typeof f=="function")return f(l);return f};n.exports=d},95540:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(r,o,x){var d=typeof r;return!r||d==="number"||d==="string"?x:r.hasOwnProperty(o)&&r[o]!==void 0?r[o]:x};n.exports=T},82840:(n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(35154),x=r(45319),d=function(h,l,a,f,c){c===void 0&&(c=a);var u=o(h,l,c);return x(u,a,f)};n.exports=d},35154:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(r,o,x,d){if(!r&&!d||typeof r=="number")return x;if(r&&r.hasOwnProperty(o))return r[o];if(d&&d.hasOwnProperty(o))return d[o];if(o.indexOf(".")!==-1){for(var h=o.split("."),l=r,a=d,f=x,c=x,u=!0,v=!0,g=0;g<h.length;g++)l&&l.hasOwnProperty(h[g])?(f=l[h[g]],l=l[h[g]]):u=!1,a&&a.hasOwnProperty(h[g])?(c=a[h[g]],a=a[h[g]]):v=!1;return u?f:v?c:x}else return x};n.exports=T},69036:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(r,o){for(var x=0;x<o.length;x++)if(!r.hasOwnProperty(o[x]))return!1;return!0};n.exports=T},1985:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(r,o){for(var x=0;x<o.length;x++)if(r.hasOwnProperty(o[x]))return!0;return!1};n.exports=T},97022:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(r,o){return r.hasOwnProperty(o)};n.exports=T},41212:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(r){if(!r||typeof r!="object"||r.nodeType||r===r.window)return!1;try{if(r.constructor&&!{}.hasOwnProperty.call(r.constructor.prototype,"isPrototypeOf"))return!1}catch{return!1}return!0};n.exports=T},46975:(n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(41786),x=function(d,h){var l=o(d);for(var a in h)l.hasOwnProperty(a)||(l[a]=h[a]);return l};n.exports=x},269:(n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(41786),x=function(d,h){var l=o(d);for(var a in h)l.hasOwnProperty(a)&&(l[a]=h[a]);return l};n.exports=x},18254:(n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var o=r(97022),x=function(d,h){for(var l={},a=0;a<h.length;a++){var f=h[a];o(d,f)&&(l[f]=d[f])}return l};n.exports=x},61622:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(r,o,x){if(!r||typeof r=="number")return!1;if(r.hasOwnProperty(o))return r[o]=x,!0;if(o.indexOf(".")!==-1){for(var d=o.split("."),h=r,l=r,a=0;a<d.length;a++)if(h.hasOwnProperty(d[a]))l=h,h=h[d[a]];else return!1;return l[d[d.length-1]]=x,!0}return!1};n.exports=T},1183:(n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports={Clone:r(41786),DeepCopy:r(62644),Extend:r(79291),GetAdvancedValue:r(23568),GetFastValue:r(95540),GetMinMaxValue:r(82840),GetValue:r(35154),HasAll:r(69036),HasAny:r(1985),HasValue:r(97022),IsPlainObject:r(41212),Merge:r(46975),MergeRight:r(269),Pick:r(18254),SetValue:r(61622)}},27902:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(r,o){return r.replace(/%([0-9]+)/g,function(x,d){return o[Number(d)-1]})};n.exports=T},41836:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(r,o,x,d){o===void 0&&(o=0),x===void 0&&(x=" "),d===void 0&&(d=3),r=r.toString();var h=0;if(o+1>=r.length)switch(d){case 1:r=new Array(o+1-r.length).join(x)+r;break;case 3:var l=Math.ceil((h=o-r.length)/2),a=h-l;r=new Array(a+1).join(x)+r+new Array(l+1).join(x);break;default:r=r+new Array(o+1-r.length).join(x);break}return r};n.exports=T},33628:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(r,o){return o===0?r.slice(1):r.slice(0,o)+r.slice(o+1)};n.exports=T},27671:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(r){return r.split("").reverse().join("")};n.exports=T},45650:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(r){var o=Math.random()*16|0,x=r==="x"?o:o&3|8;return x.toString(16)})};n.exports=T},35355:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(r){return r&&r[0].toUpperCase()+r.slice(1)};n.exports=T},31749:(n,T,r)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports={Format:r(27902),Pad:r(41836),RemoveAt:r(33628),Reverse:r(27671),UppercaseFirst:r(35355),UUID:r(45650)}}},s={};function p(n){var T=s[n];if(T!==void 0)return T.exports;var r=s[n]={exports:{}};return i[n](r,r.exports,p),r.exports}p.g=function(){if(typeof globalThis=="object")return globalThis;try{return this||new Function("return this")()}catch{if(typeof window=="object")return window}}();var E=p(85454);return E})())})(D4);var Jd=D4.exports;const cl=oM(Jd),GD=500,kr=class kr{};Gt(kr,"IS_DEV",!0),Gt(kr,"USE_MOCK_CONTROLLER",!0),Gt(kr,"API_URL","https://api.oracle-hut.ru"),Gt(kr,"CLIENT_URL"),Gt(kr,"APP_URL","https://t.me/OracleHutBot/oracle_hut"),Gt(kr,"PLATFORM","tg"),Gt(kr,"AMPLITUDE_TOKEN","12010e7e269f8f12db2919b81227ec7b"),Gt(kr,"APP_UUID","1cc6459d-27a9-489d-88f7-b77bf9363f67"),Gt(kr,"DEVICE_PIXEL_RATIO",window.devicePixelRatio||1),Gt(kr,"DISPLAY_WIDTH",window.innerWidth>GD?GD:window.innerWidth*kr.DEVICE_PIXEL_RATIO),Gt(kr,"DISPLAY_HEIGHT",window.innerHeight*kr.DEVICE_PIXEL_RATIO),Gt(kr,"BACKGROUND_COLOR","#ce8748"),Gt(kr,"BASE_WIDTH",1080),Gt(kr,"BASE_HEIGHT",1920),Gt(kr,"BASE_TIME_VIBRATE",100);let ur=kr;const r$="Boot",F4="Preloader",n$="Oracle",s$="Error",I4="merge:scene",B4="oracleBall",a$="gladeButton",G4="backButton",k4="shareStoryButton",N4="freeEssenceBtn",U4="balanceBoard",V4="freeBoard",z4="oracleBg",W4="oracleBgBlur",Y4="matchCell",X4="matchCellDark",o$="matchItem1",l$="matchItem2",h$="matchItem3",u$="matchItem4",f$="matchItem5",d$="matchItem6",H4="boilerItem",Ob=ur.DISPLAY_WIDTH*.15,c$=1.145,Ny=Ob*c$;function Mo(e,t,i){const s=i.value;i.value=async function(...p){const E=`${e.constructor.name}.${t}`;console.log(`Calling method: ${E}`),console.time(`time_${E}`);const n=await s.apply(this,p);return console.timeEnd(`time_${E}`),n}}function $4(e){return function(t){return function(i,s,p){const E=p.value;return p.value=function(...n){const T=E.apply(this,n),r=o=>{Array.isArray(o)?e.emit(t,...o):e.emit(t,o)};return T instanceof Promise?T.then(r):r(T),T},p}}}function v$(){return function(e){return class extends e{constructor(...t){super(...t);const i=this.__eventHandlers??[];for(const{eventName:s,methodName:p,eventBus:E}of i)E.on(s,this[p].bind(this))}}}}function K4(e){return function(t){return function(i,s){i.__eventHandlers||(i.__eventHandlers=[]),i.__eventHandlers.push({eventName:t,methodName:s,eventBus:e})}}}class p${}class g$ extends p${constructor(){super()}async getProfile(){return{id:"id",createdAt:new Date,updatedAt:new Date,lastFreeCrediting:new Date(Date.now()-86385e3).toISOString(),balance:1}}async getPrediction(){return{id:"id",text:"Скоро в вашу жизнь войдет нечто прекрасное. Будьте готовы!"}}async getFreeEssence(){await new Promise(t=>setTimeout(t,3e3))}async getStoryPath(t){return{url:"/assets/stories/01960fb0-4bbb-74dd-b1e9-4e8f65917e21.jpg",id:t}}setLastLogin(){return Promise.resolve()}}class m${}var Z4={},px={};(function(){var e={},t="";try{t=location.hash.toString()}catch{}var i=r(t),s=u("initParams");if(s)for(var p in s)typeof i[p]>"u"&&(i[p]=s[p]);c("initParams",i);var E=!1,n;try{if(E=window.parent!=null&&window!=window.parent,E){window.addEventListener("message",function(v){if(v.source===window.parent){try{var g=JSON.parse(v.data)}catch{return}if(!(!g||!g.eventType))if(g.eventType=="set_custom_style")v.origin==="https://web.telegram.org"&&(n.innerHTML=g.eventData);else if(g.eventType=="reload_iframe"){try{window.parent.postMessage(JSON.stringify({eventType:"iframe_will_reload"}),"*")}catch{}location.reload()}else h(g.eventType,g.eventData)}}),n=document.createElement("style"),document.head.appendChild(n);try{window.parent.postMessage(JSON.stringify({eventType:"iframe_ready",eventData:{reload_supported:!0}}),"*")}catch{}}}catch{}function T(v){try{return v=v.replace(/\+/g,"%20"),decodeURIComponent(v)}catch{return v}}function r(v){v=v.replace(/^#/,"");var g={};if(!v.length)return g;if(v.indexOf("=")<0&&v.indexOf("?")<0)return g._path=T(v),g;var m=v.indexOf("?");if(m>=0){var y=v.substr(0,m);g._path=T(y),v=v.substr(m+1)}var C=o(v);for(var b in C)g[b]=C[b];return g}function o(v){var g={};if(!v.length)return g;var m=v.split("&"),y,C,b,M;for(y=0;y<m.length;y++)C=m[y].split("="),b=T(C[0]),M=C[1]==null?null:T(C[1]),g[b]=M;return g}function x(v,g){var m=v.indexOf("#");if(m<0)return v+"#"+g;var y=v.substr(m+1);return y.indexOf("=")>=0||y.indexOf("?")>=0?v+"&"+g:y.length>0?v+"?"+g:v+g}function d(v,g,m){if(g||(g=function(){}),m===void 0&&(m=""),console.log("[Telegram.WebView] > postEvent",v,m),window.TelegramWebviewProxy!==void 0)TelegramWebviewProxy.postEvent(v,JSON.stringify(m)),g();else if(window.external&&"notify"in window.external)window.external.notify(JSON.stringify({eventType:v,eventData:m})),g();else if(E)try{var y="https://web.telegram.org";y="*",window.parent.postMessage(JSON.stringify({eventType:v,eventData:m}),y),g()}catch(C){g(C)}else g({notAvailable:!0})}function h(v,g){console.log("[Telegram.WebView] < receiveEvent",v,g),l(v,function(m){m(v,g)})}function l(v,g){var m=e[v];if(!(m===void 0||!m.length))for(var y=0;y<m.length;y++)try{g(m[y])}catch{}}function a(v,g){e[v]===void 0&&(e[v]=[]);var m=e[v].indexOf(g);m===-1&&e[v].push(g)}function f(v,g){if(e[v]!==void 0){var m=e[v].indexOf(g);m!==-1&&e[v].splice(m,1)}}function c(v,g){try{return window.sessionStorage.setItem("__telegram__"+v,JSON.stringify(g)),!0}catch{}return!1}function u(v){try{return JSON.parse(window.sessionStorage.getItem("__telegram__"+v))}catch{}return null}window.Telegram||(window.Telegram={}),window.Telegram.WebView={initParams:i,isIframe:E,onEvent:a,offEvent:f,postEvent:d,receiveEvent:h,callEventCallbacks:l},window.Telegram.Utils={urlSafeDecode:T,urlParseQueryString:o,urlParseHashParams:r,urlAppendHashParams:x,sessionStorageSet:c,sessionStorageGet:u},window.TelegramGameProxy_receiveEvent=h,window.TelegramGameProxy={receiveEvent:h}})();(function(){var e=window.Telegram.Utils,t=window.Telegram.WebView,i=t.initParams,s=t.isIframe,p={},E="",n={},T={},r="light",o="6.0",x="unknown",d=!0,h=!1,l=!1,a="bg_color",f="bg_color",c=null;if(i.tgWebAppData&&i.tgWebAppData.length){E=i.tgWebAppData,n=e.urlParseQueryString(E);for(var u in n){var v=n[u];try{(v.substr(0,1)=="{"&&v.substr(-1)=="}"||v.substr(0,1)=="["&&v.substr(-1)=="]")&&(n[u]=JSON.parse(v))}catch{}}}var g=e.sessionStorageGet("themeParams");if(i.tgWebAppThemeParams&&i.tgWebAppThemeParams.length){var m=i.tgWebAppThemeParams;try{var y=JSON.parse(m);y&&V(y)}catch{}}g&&V(g);var C=e.sessionStorageGet("defaultColors");if(i.tgWebAppDefaultColors&&i.tgWebAppDefaultColors.length){var b=i.tgWebAppDefaultColors;try{var M=JSON.parse(b);M&&K(M)}catch{}}C&&K(C),i.tgWebAppVersion&&(o=i.tgWebAppVersion),i.tgWebAppPlatform&&(x=i.tgWebAppPlatform);var w=e.sessionStorageGet("isFullscreen");i.tgWebAppFullscreen&&$(!0),w&&$(w=="yes");var R=e.sessionStorageGet("isOrientationLocked");R&&z(R=="yes");function A(st,lt){lt.theme_params&&(V(lt.theme_params),window.Telegram.WebApp.MainButton.setParams({}),window.Telegram.WebApp.SecondaryButton.setParams({}),Hi(),Ln(),oa(),X("themeChanged"))}var L=window.innerHeight;function F(st,lt){lt.height&&(window.removeEventListener("resize",G),ft(lt))}function G(st){L!=window.innerHeight&&(L=window.innerHeight,X("viewportChanged",{isStateStable:!0}))}function I(st,lt){lt&&gt(lt)}function B(st,lt){lt&&Mt(lt)}function k(st,lt){lt.is_visible?(d=!0,X("activated")):(d=!1,X("deactivated"))}function U(st){if(!(st.metaKey||st.ctrlKey)){for(var lt=st.target;lt.tagName!="A"&&lt.parentNode;)lt=lt.parentNode;lt.tagName=="A"&&lt.target!="_blank"&&(lt.protocol=="http:"||lt.protocol=="https:")&&lt.hostname=="t.me"&&(p.openTgLink(lt.href),st.preventDefault())}}function H(st){return st.toString().replace(/^\s+|\s+$/g,"")}function X(st){var lt=Array.prototype.slice.call(arguments);st=lt.shift(),t.callEventCallbacks("webview:"+st,function(dt){dt.apply(p,lt)})}function j(st,lt){t.onEvent("webview:"+st,lt)}function J(st,lt){t.offEvent("webview:"+st,lt)}function Y(st,lt){var dt=document.documentElement;dt&&dt.style&&dt.style.setProperty&&dt.style.setProperty("--tg-"+st,lt)}function $(st){h=!!st,e.sessionStorageSet("isFullscreen",h?"yes":"no")}function z(st){l=!!st,e.sessionStorageSet("isOrientationLocked",l?"yes":"no")}function V(st){st.bg_color=="#1c1c1d"&&st.bg_color==st.secondary_bg_color&&(st.secondary_bg_color="#2c2c2e");var lt;for(var dt in st)(lt=mn(st[dt]))&&(T[dt]=lt,dt=="bg_color"&&(r=Ka(lt)?"dark":"light",Y("color-scheme",r)),dt="theme-"+dt.split("_").join("-"),Y(dt,lt));e.sessionStorageSet("themeParams",T)}function K(st){r=="dark"?(st.bg_dark_color&&(a=st.bg_dark_color),st.header_dark_color&&(f=null,c=st.header_dark_color)):(st.bg_color&&(a=st.bg_color),st.header_color&&(f=null,c=st.header_color)),e.sessionStorageSet("defaultColors",st)}var Q={};function _(st){for(var lt=100;--lt;){for(var dt="",St="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789",wt=St.length,$t=0;$t<st;$t++)dt+=St[Math.floor(Math.random()*wt)];if(!Q[dt])return Q[dt]={},dt}throw Error("WebAppCallbackIdGenerateFailed")}var tt=!1,rt=!1,ot=!0;function ft(st){typeof st<"u"&&(ot=!!st.is_expanded,tt=st.height,st.is_state_stable&&(rt=st.height),X("viewportChanged",{isStateStable:!!st.is_state_stable}));var lt,dt;tt!==!1?lt=tt-de+"px":lt=de?"calc(100vh - "+de+"px)":"100vh",rt!==!1?dt=rt-de+"px":dt=de?"calc(100vh - "+de+"px)":"100vh",Y("viewport-height",lt),Y("viewport-stable-height",dt)}var ct={top:0,bottom:0,left:0,right:0};function gt(st){typeof st<"u"&&(typeof st.top<"u"&&(ct.top=st.top),typeof st.bottom<"u"&&(ct.bottom=st.bottom),typeof st.left<"u"&&(ct.left=st.left),typeof st.right<"u"&&(ct.right=st.right),X("safeAreaChanged")),Y("safe-area-inset-top",ct.top+"px"),Y("safe-area-inset-bottom",ct.bottom+"px"),Y("safe-area-inset-left",ct.left+"px"),Y("safe-area-inset-right",ct.right+"px")}var xt={top:0,bottom:0,left:0,right:0};function Mt(st){typeof st<"u"&&(typeof st.top<"u"&&(xt.top=st.top),typeof st.bottom<"u"&&(xt.bottom=st.bottom),typeof st.left<"u"&&(xt.left=st.left),typeof st.right<"u"&&(xt.right=st.right),X("contentSafeAreaChanged")),Y("content-safe-area-inset-top",xt.top+"px"),Y("content-safe-area-inset-bottom",xt.bottom+"px"),Y("content-safe-area-inset-left",xt.left+"px"),Y("content-safe-area-inset-right",xt.right+"px")}var Tt=!1;function Ht(st){if(!we("6.2")){console.warn("[Telegram.WebApp] Closing confirmation is not supported in version "+o);return}Tt=!!st,t.postEvent("web_app_setup_closing_behavior",!1,{need_confirmation:Tt})}var Xt=!0;function Kt(st){if(!we("7.7")){console.warn("[Telegram.WebApp] Changing swipes behavior is not supported in version "+o);return}Xt=!!st,t.postEvent("web_app_setup_swipe_behavior",!1,{allow_vertical_swipe:Xt})}function bt(st,lt){$(lt.is_fullscreen),X("fullscreenChanged")}function Ut(st,lt){lt.error=="ALREADY_FULLSCREEN"&&!h&&$(!0),X("fullscreenFailed",{error:lt.error})}function Vt(st){if(!we("8.0")){console.warn("[Telegram.WebApp] Orientation locking is not supported in version "+o);return}z(st),t.postEvent("web_app_toggle_orientation_lock",!1,{locked:l})}var ee=[];function Ee(st,lt){X("homeScreenAdded")}function Me(st,lt){var dt=lt.status||"unknown";if(ee.length>0){for(var St=0;St<ee.length;St++){var wt=ee[St];wt(dt)}ee=[]}X("homeScreenChecked",{status:dt})}var ve=!1;function Fe(st,lt){if(ve){var dt=ve;ve=!1,dt.callback&&dt.callback(!0),X("shareMessageSent")}}function ai(st,lt){if(ve){var dt=ve;ve=!1,dt.callback&&dt.callback(!1),X("shareMessageFailed",{error:lt.error})}}var kt=!1;function Wt(st,lt){if(kt){var dt=kt;kt=!1,dt.callback&&dt.callback(!0),X("emojiStatusSet")}}function fe(st,lt){if(kt){var dt=kt;kt=!1,dt.callback&&dt.callback(!1),X("emojiStatusFailed",{error:lt.error})}}var xe=!1;function Ie(st,lt){if(xe){var dt=xe;xe=!1,dt.callback&&dt.callback(lt.status=="allowed"),X("emojiStatusAccessRequested",{status:lt.status})}}var zr=!1;function Ri(){return f=="secondary_bg_color"?T.secondary_bg_color:f=="bg_color"?T.bg_color:c}function Ci(st){if(!we("6.1")){console.warn("[Telegram.WebApp] Header color is not supported in version "+o);return}we("6.9")||(T.bg_color&&T.bg_color==st?st="bg_color":T.secondary_bg_color&&T.secondary_bg_color==st&&(st="secondary_bg_color"));var lt=null,dt=null;if(st=="bg_color"||st=="secondary_bg_color")dt=st;else if(we("6.9")&&(lt=mn(st),!lt))throw console.error("[Telegram.WebApp] Header color format is invalid",st),Error("WebAppHeaderColorInvalid");if(!we("6.9")&&dt!="bg_color"&&dt!="secondary_bg_color")throw console.error("[Telegram.WebApp] Header color key should be one of Telegram.WebApp.themeParams.bg_color, Telegram.WebApp.themeParams.secondary_bg_color, 'bg_color', 'secondary_bg_color'",st),Error("WebAppHeaderColorKeyInvalid");f=dt,c=lt,Hi()}var Xi=null,ti=null;function Hi(){(Xi!=f||ti!=c)&&(Xi=f,ti=c,ti?t.postEvent("web_app_set_header_color",!1,{color:c}):t.postEvent("web_app_set_header_color",!1,{color_key:f}))}function Oi(){return a=="secondary_bg_color"?T.secondary_bg_color:a=="bg_color"?T.bg_color:a}function Fi(st){if(!we("6.1")){console.warn("[Telegram.WebApp] Background color is not supported in version "+o);return}var lt;if(st=="bg_color"||st=="secondary_bg_color")lt=st;else if(lt=mn(st),!lt)throw console.error("[Telegram.WebApp] Background color format is invalid",st),Error("WebAppBackgroundColorInvalid");a=lt,Ln()}var ns=null;function Ln(){var st=Oi();ns!=st&&(ns=st,t.postEvent("web_app_set_background_color",!1,{color:st}))}var ss="bottom_bar_bg_color";function Bs(){return ss=="bottom_bar_bg_color"?T.bottom_bar_bg_color||T.secondary_bg_color||"#ffffff":ss=="secondary_bg_color"?T.secondary_bg_color:ss=="bg_color"?T.bg_color:ss}function Fh(st){if(!we("7.10")){console.warn("[Telegram.WebApp] Bottom bar color is not supported in version "+o);return}var lt;if(st=="bg_color"||st=="secondary_bg_color"||st=="bottom_bar_bg_color")lt=st;else if(lt=mn(st),!lt)throw console.error("[Telegram.WebApp] Bottom bar color format is invalid",st),Error("WebAppBottomBarColorInvalid");ss=lt,oa(),window.Telegram.WebApp.SecondaryButton.setParams({})}var $a=null;function oa(){var st=Bs();$a!=st&&($a=st,t.postEvent("web_app_set_bottom_bar_color",!1,{color:st})),i.tgWebAppDebug&&Ve()}function mn(st){st+="";var lt;if(lt=/^\s*#([0-9a-f]{6})\s*$/i.exec(st))return"#"+lt[1].toLowerCase();if(lt=/^\s*#([0-9a-f])([0-9a-f])([0-9a-f])\s*$/i.exec(st))return("#"+lt[1]+lt[1]+lt[2]+lt[2]+lt[3]+lt[3]).toLowerCase();if(lt=/^\s*rgba?\((\d+),\s*(\d+),\s*(\d+)(?:,\s*(\d+\.{0,1}\d*))?\)\s*$/.exec(st)){var dt=parseInt(lt[1]),St=parseInt(lt[2]),wt=parseInt(lt[3]);return dt=(dt<16?"0":"")+dt.toString(16),St=(St<16?"0":"")+St.toString(16),wt=(wt<16?"0":"")+wt.toString(16),"#"+dt+St+wt}return!1}function Ka(st){st=st.replace(/[\s#]/g,""),st.length==3&&(st=st[0]+st[0]+st[1]+st[1]+st[2]+st[2]);var lt=parseInt(st.substr(0,2),16),dt=parseInt(st.substr(2,2),16),St=parseInt(st.substr(4,2),16),wt=Math.sqrt(.299*(lt*lt)+.587*(dt*dt)+.114*(St*St));return wt<120}function la(st,lt){typeof st!="string"&&(st=""),typeof lt!="string"&&(lt=""),st=st.replace(/^\s+|\s+$/g,"").split("."),lt=lt.replace(/^\s+|\s+$/g,"").split(".");var dt=Math.max(st.length,lt.length),St,wt,$t;for(St=0;St<dt;St++)if(wt=parseInt(st[St])||0,$t=parseInt(lt[St])||0,wt!=$t)return wt>$t?1:-1;return 0}function we(st){return la(o,st)>=0}function as(st){if(window.Blob)try{return new Blob([st]).size}catch{}for(var lt=st.length,dt=st.length-1;dt>=0;dt--){var St=st.charCodeAt(dt);St>127&&St<=2047?lt++:St>2047&&St<=65535&&(lt+=2),St>=56320&&St<=57343&&dt--}return lt}var ut=function(){var st=!1,lt={};Object.defineProperty(lt,"isVisible",{set:function(pe){Ze({is_visible:pe})},get:function(){return st},enumerable:!0});var dt=null;t.onEvent("back_button_pressed",St);function St(){X("backButtonClicked")}function wt(){return{is_visible:st}}function $t(pe){return typeof pe>"u"&&(pe=wt()),JSON.stringify(pe)}function he(){return we("6.1")?!0:(console.warn("[Telegram.WebApp] BackButton is not supported in version "+o),!1)}function se(){var pe=wt(),ie=$t(pe);dt!==ie&&(dt=ie,t.postEvent("web_app_setup_back_button",!1,pe))}function Ze(pe){return he()&&(typeof pe.is_visible<"u"&&(st=!!pe.is_visible),se()),lt}return lt.onClick=function(pe){return he()&&j("backButtonClicked",pe),lt},lt.offClick=function(pe){return he()&&J("backButtonClicked",pe),lt},lt.show=function(){return Ze({is_visible:!0})},lt.hide=function(){return Ze({is_visible:!1})},lt}(),Bt=null,Zt={},de=0;if(i.tgWebAppDebug){Bt=document.createElement("tg-bottom-bar");var _e={display:"flex",gap:"7px",font:"600 14px/18px sans-serif",width:"100%",background:Bs(),position:"fixed",left:"0",right:"0",bottom:"0",margin:"0",padding:"7px",textAlign:"center",boxSizing:"border-box",zIndex:"10000"};for(var Re in _e)Bt.style[Re]=_e[Re];document.addEventListener("DOMContentLoaded",function st(lt){document.removeEventListener("DOMContentLoaded",st),document.body.appendChild(Bt)});var Xe=document.createElement("style");Xe.innerHTML='tg-bottom-button.shine { position: relative; overflow: hidden; } tg-bottom-button.shine:before { content:""; position: absolute; top: 0; width: 100%; height: 100%; background: linear-gradient(120deg, transparent, rgba(255, 255, 255, .2), transparent); animation: tg-bottom-button-shine 5s ease-in-out infinite; } @-webkit-keyframes tg-bottom-button-shine { 0% {left: -100%;} 12%,100% {left: 100%}} @keyframes tg-bottom-button-shine { 0% {left: -100%;} 12%,100% {left: 100%}}',Bt.appendChild(Xe)}function Ve(){var st=Zt.main._bottomButton,lt=Zt.secondary._bottomButton;st.isVisible||lt.isVisible?(Bt.style.display="flex",de=58,st.isVisible&&lt.isVisible&&(lt.position=="top"?(Bt.style.flexDirection="column-reverse",de+=51):lt.position=="bottom"?(Bt.style.flexDirection="column",de+=51):lt.position=="left"?Bt.style.flexDirection="row-reverse":lt.position=="right"&&(Bt.style.flexDirection="row"))):(Bt.style.display="none",de=0),Bt.style.background=Bs(),document.documentElement&&(document.documentElement.style.boxSizing="border-box",document.documentElement.style.paddingBottom=de+"px"),ft()}var Ni=function(st){var lt=st=="main";if(lt)var dt="web_app_setup_main_button",St="main_button_pressed",wt="mainButtonClicked",$t="Continue",he=function(){return T.button_color||"#2481cc"},se=function(){return T.button_text_color||"#ffffff"};else var dt="web_app_setup_secondary_button",St="secondary_button_pressed",wt="secondaryButtonClicked",$t="Cancel",he=function(){return Bs()},se=function(){return T.button_color||"#2481cc"};var Ze=!1,pe=!0,ie=!1,hi=!1,ze=st,Ft=$t,oe=!1,ue=!1,Li="left",le={};Object.defineProperty(le,"type",{get:function(){return ze},enumerable:!0}),Object.defineProperty(le,"text",{set:function(Qt){le.setParams({text:Qt})},get:function(){return Ft},enumerable:!0}),Object.defineProperty(le,"color",{set:function(Qt){le.setParams({color:Qt})},get:function(){return oe||he()},enumerable:!0}),Object.defineProperty(le,"textColor",{set:function(Qt){le.setParams({text_color:Qt})},get:function(){return ue||se()},enumerable:!0}),Object.defineProperty(le,"isVisible",{set:function(Qt){le.setParams({is_visible:Qt})},get:function(){return Ze},enumerable:!0}),Object.defineProperty(le,"isProgressVisible",{get:function(){return hi},enumerable:!0}),Object.defineProperty(le,"isActive",{set:function(Qt){le.setParams({is_active:Qt})},get:function(){return pe},enumerable:!0}),Object.defineProperty(le,"hasShineEffect",{set:function(Qt){le.setParams({has_shine_effect:Qt})},get:function(){return ie},enumerable:!0}),lt||Object.defineProperty(le,"position",{set:function(Qt){le.setParams({position:Qt})},get:function(){return Li},enumerable:!0});var Vi=null;t.onEvent(St,yn);var Pe=null;if(i.tgWebAppDebug){Pe=document.createElement("tg-bottom-button");var $e={display:"none",width:"100%",height:"44px",borderRadius:"0",background:"no-repeat right center",padding:"13px 15px",textAlign:"center",boxSizing:"border-box"};for(var fs in $e)Pe.style[fs]=$e[fs];Bt.appendChild(Pe),Pe.addEventListener("click",yn,!1),Pe._bottomButton=le,Zt[st]=Pe}function yn(){pe&&X(wt)}function en(){var Qt=le.color,Wr=le.textColor;if(Ze){var fa={is_visible:!0,is_active:pe,is_progress_visible:hi,text:Ft,color:Qt,text_color:Wr,has_shine_effect:ie&&pe&&!hi};lt||(fa.position=Li)}else var fa={is_visible:!1};return fa}function ks(Qt){return typeof Qt>"u"&&(Qt=en()),JSON.stringify(Qt)}function Vh(){var Qt=en(),Wr=ks(Qt);Vi!==Wr&&(Vi=Wr,t.postEvent(dt,!1,Qt),i.tgWebAppDebug&&Ml(Qt))}function Ml(Qt){Qt.is_visible?(Pe.style.display="block",Pe.style.opacity=Qt.is_active?"1":"0.8",Pe.style.cursor=Qt.is_active?"pointer":"auto",Pe.disabled=!Qt.is_active,Pe.innerText=Qt.text,Pe.className=Qt.has_shine_effect?"shine":"",Pe.style.backgroundImage=Qt.is_progress_visible?"url('data:image/svg+xml,"+encodeURIComponent('<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" viewport="0 0 48 48" width="48px" height="48px"><circle cx="50%" cy="50%" stroke="'+Qt.text_color+'" stroke-width="2.25" stroke-linecap="round" fill="none" stroke-dashoffset="106" r="9" stroke-dasharray="56.52" rotate="-90"><animate attributeName="stroke-dashoffset" attributeType="XML" dur="360s" from="0" to="12500" repeatCount="indefinite"></animate><animateTransform attributeName="transform" attributeType="XML" type="rotate" dur="1s" from="-90 24 24" to="630 24 24" repeatCount="indefinite"></animateTransform></circle></svg>')+"')":"none",Pe.style.backgroundColor=Qt.color,Pe.style.color=Qt.text_color):Pe.style.display="none",Ve()}function Fo(Qt){if(typeof Qt.text<"u"){var Wr=H(Qt.text);if(!Wr.length)throw console.error("[Telegram.WebApp] Bottom button text is required",Qt.text),Error("WebAppBottomButtonParamInvalid");if(Wr.length>64)throw console.error("[Telegram.WebApp] Bottom button text is too long",Wr),Error("WebAppBottomButtonParamInvalid");Ft=Wr}if(typeof Qt.color<"u")if(Qt.color===!1||Qt.color===null)oe=!1;else{var fa=mn(Qt.color);if(!fa)throw console.error("[Telegram.WebApp] Bottom button color format is invalid",Qt.color),Error("WebAppBottomButtonParamInvalid");oe=fa}if(typeof Qt.text_color<"u")if(Qt.text_color===!1||Qt.text_color===null)ue=!1;else{var zh=mn(Qt.text_color);if(!zh)throw console.error("[Telegram.WebApp] Bottom button text color format is invalid",Qt.text_color),Error("WebAppBottomButtonParamInvalid");ue=zh}if(typeof Qt.is_visible<"u"){if(Qt.is_visible&&!le.text.length)throw console.error("[Telegram.WebApp] Bottom button text is required"),Error("WebAppBottomButtonParamInvalid");Ze=!!Qt.is_visible}if(typeof Qt.has_shine_effect<"u"&&(ie=!!Qt.has_shine_effect),!lt&&typeof Qt.position<"u"){if(Qt.position!="left"&&Qt.position!="right"&&Qt.position!="top"&&Qt.position!="bottom")throw console.error("[Telegram.WebApp] Bottom button posiition is invalid",Qt.position),Error("WebAppBottomButtonParamInvalid");Li=Qt.position}return typeof Qt.is_active<"u"&&(pe=!!Qt.is_active),Vh(),le}return le.setText=function(Qt){return le.setParams({text:Qt})},le.onClick=function(Qt){return j(wt,Qt),le},le.offClick=function(Qt){return J(wt,Qt),le},le.show=function(){return le.setParams({is_visible:!0})},le.hide=function(){return le.setParams({is_visible:!1})},le.enable=function(){return le.setParams({is_active:!0})},le.disable=function(){return le.setParams({is_active:!1})},le.showProgress=function(Qt){return pe=!!Qt,hi=!0,Vh(),le},le.hideProgress=function(){return le.isActive||(pe=!0),hi=!1,Vh(),le},le.setParams=Fo,le},Qe=Ni("main"),Ui=Ni("secondary"),Mr=function(){var st=!1,lt={};Object.defineProperty(lt,"isVisible",{set:function(pe){Ze({is_visible:pe})},get:function(){return st},enumerable:!0});var dt=null;t.onEvent("settings_button_pressed",St);function St(){X("settingsButtonClicked")}function wt(){return{is_visible:st}}function $t(pe){return typeof pe>"u"&&(pe=wt()),JSON.stringify(pe)}function he(){return we("6.10")?!0:(console.warn("[Telegram.WebApp] SettingsButton is not supported in version "+o),!1)}function se(){var pe=wt(),ie=$t(pe);dt!==ie&&(dt=ie,t.postEvent("web_app_setup_settings_button",!1,pe))}function Ze(pe){return he()&&(typeof pe.is_visible<"u"&&(st=!!pe.is_visible),se()),lt}return lt.onClick=function(pe){return he()&&j("settingsButtonClicked",pe),lt},lt.offClick=function(pe){return he()&&J("settingsButtonClicked",pe),lt},lt.show=function(){return Ze({is_visible:!0})},lt.hide=function(){return Ze({is_visible:!1})},lt}(),os=function(){var st={};function lt(dt){if(!we("6.1"))return console.warn("[Telegram.WebApp] HapticFeedback is not supported in version "+o),st;if(dt.type=="impact"){if(dt.impact_style!="light"&&dt.impact_style!="medium"&&dt.impact_style!="heavy"&&dt.impact_style!="rigid"&&dt.impact_style!="soft")throw console.error("[Telegram.WebApp] Haptic impact style is invalid",dt.impact_style),Error("WebAppHapticImpactStyleInvalid")}else if(dt.type=="notification"){if(dt.notification_type!="error"&&dt.notification_type!="success"&&dt.notification_type!="warning")throw console.error("[Telegram.WebApp] Haptic notification type is invalid",dt.notification_type),Error("WebAppHapticNotificationTypeInvalid")}else if(dt.type!="selection_change")throw console.error("[Telegram.WebApp] Haptic feedback type is invalid",dt.type),Error("WebAppHapticFeedbackTypeInvalid");return t.postEvent("web_app_trigger_haptic_feedback",!1,dt),st}return st.impactOccurred=function(dt){return lt({type:"impact",impact_style:dt})},st.notificationOccurred=function(dt){return lt({type:"notification",notification_type:dt})},st.selectionChanged=function(){return lt({type:"selection_change"})},st}(),ls=function(){var st={};function lt(dt,St,wt){if(!we("6.9"))throw console.error("[Telegram.WebApp] CloudStorage is not supported in version "+o),Error("WebAppMethodUnsupported");return Gs(dt,St,wt),st}return st.setItem=function(dt,St,wt){return lt("saveStorageValue",{key:dt,value:St},wt)},st.getItem=function(dt,St){return st.getItems([dt],St?function(wt,$t){wt?St(wt):St(null,$t[dt])}:null)},st.getItems=function(dt,St){return lt("getStorageValues",{keys:dt},St)},st.removeItem=function(dt,St){return st.removeItems([dt],St)},st.removeItems=function(dt,St){return lt("deleteStorageValues",{keys:dt},St)},st.getKeys=function(dt){return lt("getStorageKeys",{},dt)},st}(),gr=function(){var st=!1,lt=!1,dt="unknown",St=!1,wt=!1,$t=!1,he="",se={};Object.defineProperty(se,"isInited",{get:function(){return st},enumerable:!0}),Object.defineProperty(se,"isBiometricAvailable",{get:function(){return st&&lt},enumerable:!0}),Object.defineProperty(se,"biometricType",{get:function(){return dt||"unknown"},enumerable:!0}),Object.defineProperty(se,"isAccessRequested",{get:function(){return St},enumerable:!0}),Object.defineProperty(se,"isAccessGranted",{get:function(){return St&&wt},enumerable:!0}),Object.defineProperty(se,"isBiometricTokenSaved",{get:function(){return $t},enumerable:!0}),Object.defineProperty(se,"deviceId",{get:function(){return he||""},enumerable:!0});var Ze={callbacks:[]},pe=!1,ie=!1,hi=!1;t.onEvent("biometry_info_received",ze),t.onEvent("biometry_auth_requested",Ft),t.onEvent("biometry_token_updated",oe);function ze(le,Vi){if(st=!0,Vi.available?(lt=!0,dt=Vi.type||"unknown",Vi.access_requested?(St=!0,wt=!!Vi.access_granted,$t=!!Vi.token_saved):(St=!1,wt=!1,$t=!1)):(lt=!1,dt="unknown",St=!1,wt=!1,$t=!1),he=Vi.device_id||"",Ze.callbacks.length>0){for(var Pe=0;Pe<Ze.callbacks.length;Pe++){var $e=Ze.callbacks[Pe];$e()}Ze.callbacks=[]}if(pe){var fs=pe;pe=!1,fs.callback&&fs.callback(wt)}X("biometricManagerUpdated")}function Ft(le,Vi){var Pe=Vi.status=="authorized",$e=Vi.token||"";if(ie){var fs=ie;ie=!1,fs.callback&&fs.callback(Pe,Pe?$e:null)}X("biometricAuthRequested",Pe?{isAuthenticated:!0,biometricToken:$e}:{isAuthenticated:!1})}function oe(le,Vi){var Pe=!1;if(lt&&St&&(Vi.status=="updated"?($t=!0,Pe=!0):Vi.status=="removed"&&($t=!1,Pe=!0)),hi){var $e=hi;hi=!1,$e.callback&&$e.callback(Pe)}X("biometricTokenUpdated",{isUpdated:Pe})}function ue(){return we("7.2")?!0:(console.warn("[Telegram.WebApp] BiometricManager is not supported in version "+o),!1)}function Li(){if(!st)throw console.error("[Telegram.WebApp] BiometricManager should be inited before using."),Error("WebAppBiometricManagerNotInited");return!0}return se.init=function(le){return!ue()||st||(le&&Ze.callbacks.push(le),t.postEvent("web_app_biometry_get_info",!1)),se},se.requestAccess=function(le,Vi){if(!ue())return se;if(Li(),!lt)throw console.error("[Telegram.WebApp] Biometrics is not available on this device."),Error("WebAppBiometricManagerBiometricsNotAvailable");if(pe)throw console.error("[Telegram.WebApp] Access is already requested"),Error("WebAppBiometricManagerAccessRequested");var Pe={};if(typeof le.reason<"u"){var $e=H(le.reason);if($e.length>128)throw console.error("[Telegram.WebApp] Biometric reason is too long",$e),Error("WebAppBiometricRequestAccessParamInvalid");$e.length>0&&(Pe.reason=$e)}return pe={callback:Vi},t.postEvent("web_app_biometry_request_access",!1,Pe),se},se.authenticate=function(le,Vi){if(!ue())return se;if(Li(),!lt)throw console.error("[Telegram.WebApp] Biometrics is not available on this device."),Error("WebAppBiometricManagerBiometricsNotAvailable");if(!wt)throw console.error("[Telegram.WebApp] Biometric access was not granted by the user."),Error("WebAppBiometricManagerBiometricAccessNotGranted");if(ie)throw console.error("[Telegram.WebApp] Authentication request is already in progress."),Error("WebAppBiometricManagerAuthenticationRequested");var Pe={};if(typeof le.reason<"u"){var $e=H(le.reason);if($e.length>128)throw console.error("[Telegram.WebApp] Biometric reason is too long",$e),Error("WebAppBiometricRequestAccessParamInvalid");$e.length>0&&(Pe.reason=$e)}return ie={callback:Vi},t.postEvent("web_app_biometry_request_auth",!1,Pe),se},se.updateBiometricToken=function(le,Vi){if(!ue())return se;if(le=le||"",le.length>1024)throw console.error("[Telegram.WebApp] Token is too long",le),Error("WebAppBiometricManagerTokenInvalid");if(Li(),!lt)throw console.error("[Telegram.WebApp] Biometrics is not available on this device."),Error("WebAppBiometricManagerBiometricsNotAvailable");if(!wt)throw console.error("[Telegram.WebApp] Biometric access was not granted by the user."),Error("WebAppBiometricManagerBiometricAccessNotGranted");if(hi)throw console.error("[Telegram.WebApp] Token request is already in progress."),Error("WebAppBiometricManagerTokenUpdateRequested");return hi={callback:Vi},t.postEvent("web_app_biometry_update_token",!1,{token:le}),se},se.openSettings=function(){if(!ue())return se;if(Li(),!lt)throw console.error("[Telegram.WebApp] Biometrics is not available on this device."),Error("WebAppBiometricManagerBiometricsNotAvailable");if(!St)throw console.error("[Telegram.WebApp] Biometric access was not requested yet."),Error("WebAppBiometricManagerBiometricsAccessNotRequested");return wt?(console.warn("[Telegram.WebApp] Biometric access was granted by the user, no need to go to settings."),se):(t.postEvent("web_app_biometry_open_settings",!1),se)},se}(),Oo=function(){var st=!1,lt=!1,dt=!1,St=!1,wt={};Object.defineProperty(wt,"isInited",{get:function(){return st},enumerable:!0}),Object.defineProperty(wt,"isLocationAvailable",{get:function(){return st&&lt},enumerable:!0}),Object.defineProperty(wt,"isAccessRequested",{get:function(){return dt},enumerable:!0}),Object.defineProperty(wt,"isAccessGranted",{get:function(){return dt&&St},enumerable:!0});var $t={callbacks:[]},he={callbacks:[]};t.onEvent("location_checked",se),t.onEvent("location_requested",Ze);function se(ze,Ft){if(st=!0,Ft.available?(lt=!0,Ft.access_requested?(dt=!0,St=!!Ft.access_granted):(dt=!1,St=!1)):(lt=!1,dt=!1,St=!1),$t.callbacks.length>0){for(var oe=0;oe<$t.callbacks.length;oe++){var ue=$t.callbacks[oe];ue()}$t.callbacks=[]}X("locationManagerUpdated")}function Ze(ze,Ft){if(!Ft.available)oe=null;else{var oe={latitude:Ft.latitude,longitude:Ft.longitude,altitude:null,course:null,speed:null,horizontal_accuracy:null,vertical_accuracy:null,course_accuracy:null,speed_accuracy:null};typeof Ft.altitude<"u"&&Ft.altitude!==null&&(oe.altitude=Ft.altitude),typeof Ft.course<"u"&&Ft.course!==null&&(oe.course=Ft.course%360),typeof Ft.speed<"u"&&Ft.speed!==null&&(oe.speed=Ft.speed),typeof Ft.horizontal_accuracy<"u"&&Ft.horizontal_accuracy!==null&&(oe.horizontal_accuracy=Ft.horizontal_accuracy),typeof Ft.vertical_accuracy<"u"&&Ft.vertical_accuracy!==null&&(oe.vertical_accuracy=Ft.vertical_accuracy),typeof Ft.course_accuracy<"u"&&Ft.course_accuracy!==null&&(oe.course_accuracy=Ft.course_accuracy),typeof Ft.speed_accuracy<"u"&&Ft.speed_accuracy!==null&&(oe.speed_accuracy=Ft.speed_accuracy)}!Ft.available||!lt||!dt||!St?($t.callbacks.push(function(){pe(oe)}),t.postEvent("web_app_check_location",!1)):pe(oe)}function pe(ze){if(he.callbacks.length>0){for(var Ft=0;Ft<he.callbacks.length;Ft++){var oe=he.callbacks[Ft];oe(ze)}he.callbacks=[]}ze!==null&&X("locationRequested",{locationData:ze})}function ie(){return we("8.0")?!0:(console.warn("[Telegram.WebApp] LocationManager is not supported in version "+o),!1)}function hi(){if(!st)throw console.error("[Telegram.WebApp] LocationManager should be inited before using."),Error("WebAppLocationManagerNotInited");return!0}return wt.init=function(ze){return!ie()||st||(ze&&$t.callbacks.push(ze),t.postEvent("web_app_check_location",!1)),wt},wt.getLocation=function(ze){if(!ie())return wt;if(hi(),!lt)throw console.error("[Telegram.WebApp] Location is not available on this device."),Error("WebAppLocationManagerLocationNotAvailable");return he.callbacks.push(ze),t.postEvent("web_app_request_location"),wt},wt.openSettings=function(){if(!ie())return wt;if(hi(),!lt)throw console.error("[Telegram.WebApp] Location is not available on this device."),Error("WebAppLocationManagerLocationNotAvailable");if(!dt)throw console.error("[Telegram.WebApp] Location access was not requested yet."),Error("WebAppLocationManagerLocationAccessNotRequested");return St?(console.warn("[Telegram.WebApp] Location access was granted by the user, no need to go to settings."),wt):(t.postEvent("web_app_open_location_settings",!1),wt)},wt}(),Pl=function(){var st=!1,lt=null,dt=null,St=null,wt=[],$t=[],he={};Object.defineProperty(he,"isStarted",{get:function(){return st},enumerable:!0}),Object.defineProperty(he,"x",{get:function(){return lt},enumerable:!0}),Object.defineProperty(he,"y",{get:function(){return dt},enumerable:!0}),Object.defineProperty(he,"z",{get:function(){return St},enumerable:!0}),t.onEvent("accelerometer_started",se),t.onEvent("accelerometer_stopped",Ze),t.onEvent("accelerometer_changed",pe),t.onEvent("accelerometer_failed",ie);function se(ze,Ft){if(st=!0,wt.length>0){for(var oe=0;oe<wt.length;oe++){var ue=wt[oe];ue(!0)}wt=[]}X("accelerometerStarted")}function Ze(ze,Ft){if(st=!1,$t.length>0){for(var oe=0;oe<$t.length;oe++){var ue=$t[oe];ue(!0)}$t=[]}X("accelerometerStopped")}function pe(ze,Ft){lt=Ft.x,dt=Ft.y,St=Ft.z,X("accelerometerChanged")}function ie(ze,Ft){if(wt.length>0){for(var oe=0;oe<wt.length;oe++){var ue=wt[oe];ue(!1)}wt=[]}X("accelerometerFailed",{error:Ft.error})}function hi(){return we("8.0")?!0:(console.warn("[Telegram.WebApp] Accelerometer is not supported in version "+o),!1)}return he.start=function(ze,Ft){if(ze=ze||{},!hi())return he;var oe={},ue=parseInt(ze.refresh_rate||1e3);return isNaN(ue)||ue<20||ue>1e3?console.warn("[Telegram.WebApp] Accelerometer refresh_rate is invalid",ue):oe.refresh_rate=ue,Ft&&wt.push(Ft),t.postEvent("web_app_start_accelerometer",!1,oe),he},he.stop=function(ze){return hi()&&(ze&&$t.push(ze),t.postEvent("web_app_stop_accelerometer")),he},he}(),Ih=function(){var st=!1,lt=null,dt=null,St=null,wt=!1,$t=[],he=[],se={};Object.defineProperty(se,"isStarted",{get:function(){return st},enumerable:!0}),Object.defineProperty(se,"absolute",{get:function(){return wt},enumerable:!0}),Object.defineProperty(se,"alpha",{get:function(){return lt},enumerable:!0}),Object.defineProperty(se,"beta",{get:function(){return dt},enumerable:!0}),Object.defineProperty(se,"gamma",{get:function(){return St},enumerable:!0}),t.onEvent("device_orientation_started",Ze),t.onEvent("device_orientation_stopped",pe),t.onEvent("device_orientation_changed",ie),t.onEvent("device_orientation_failed",hi);function Ze(Ft,oe){if(st=!0,$t.length>0){for(var ue=0;ue<$t.length;ue++){var Li=$t[ue];Li(!0)}$t=[]}X("deviceOrientationStarted")}function pe(Ft,oe){if(st=!1,he.length>0){for(var ue=0;ue<he.length;ue++){var Li=he[ue];Li(!0)}he=[]}X("deviceOrientationStopped")}function ie(Ft,oe){wt=!!oe.absolute,lt=oe.alpha,dt=oe.beta,St=oe.gamma,X("deviceOrientationChanged")}function hi(Ft,oe){if($t.length>0){for(var ue=0;ue<$t.length;ue++){var Li=$t[ue];Li(!1)}$t=[]}X("deviceOrientationFailed",{error:oe.error})}function ze(){return we("8.0")?!0:(console.warn("[Telegram.WebApp] DeviceOrientation is not supported in version "+o),!1)}return se.start=function(Ft,oe){if(Ft=Ft||{},!ze())return se;var ue={},Li=parseInt(Ft.refresh_rate||1e3);return isNaN(Li)||Li<20||Li>1e3?console.warn("[Telegram.WebApp] DeviceOrientation refresh_rate is invalid",Li):ue.refresh_rate=Li,ue.need_absolute=!!Ft.need_absolute,oe&&$t.push(oe),t.postEvent("web_app_start_device_orientation",!1,ue),se},se.stop=function(Ft){return ze()&&(Ft&&he.push(Ft),t.postEvent("web_app_stop_device_orientation")),se},se}(),ha=function(){var st=!1,lt=null,dt=null,St=null,wt=[],$t=[],he={};Object.defineProperty(he,"isStarted",{get:function(){return st},enumerable:!0}),Object.defineProperty(he,"x",{get:function(){return lt},enumerable:!0}),Object.defineProperty(he,"y",{get:function(){return dt},enumerable:!0}),Object.defineProperty(he,"z",{get:function(){return St},enumerable:!0}),t.onEvent("gyroscope_started",se),t.onEvent("gyroscope_stopped",Ze),t.onEvent("gyroscope_changed",pe),t.onEvent("gyroscope_failed",ie);function se(ze,Ft){if(st=!0,wt.length>0){for(var oe=0;oe<wt.length;oe++){var ue=wt[oe];ue(!0)}wt=[]}X("gyroscopeStarted")}function Ze(ze,Ft){if(st=!1,$t.length>0){for(var oe=0;oe<$t.length;oe++){var ue=$t[oe];ue(!0)}$t=[]}X("gyroscopeStopped")}function pe(ze,Ft){lt=Ft.x,dt=Ft.y,St=Ft.z,X("gyroscopeChanged")}function ie(ze,Ft){if(wt.length>0){for(var oe=0;oe<wt.length;oe++){var ue=wt[oe];ue(!1)}wt=[]}X("gyroscopeFailed",{error:Ft.error})}function hi(){return we("8.0")?!0:(console.warn("[Telegram.WebApp] Gyroscope is not supported in version "+o),!1)}return he.start=function(ze,Ft){if(ze=ze||{},!hi())return he;var oe={},ue=parseInt(ze.refresh_rate||1e3);return isNaN(ue)||ue<20||ue>1e3?console.warn("[Telegram.WebApp] Gyroscope refresh_rate is invalid",ue):oe.refresh_rate=ue,Ft&&wt.push(Ft),t.postEvent("web_app_start_gyroscope",!1,oe),he},he.stop=function(ze){return hi()&&(ze&&$t.push(ze),t.postEvent("web_app_stop_gyroscope")),he},he}(),He={};function Lo(st,lt){if(lt.slug&&He[lt.slug]){var dt=He[lt.slug];delete He[lt.slug],dt.callback&&dt.callback(lt.status),X("invoiceClosed",{url:dt.url,status:lt.status})}}var zr=!1;function bl(st,lt){if(zr){var dt=zr;zr=!1;var St=null;typeof lt.button_id<"u"&&(St=lt.button_id),dt.callback&&dt.callback(St),X("popupClosed",{button_id:St})}}var hs=!1;function Bh(st,lt){if(hs){var dt=hs,St=null;typeof lt.data<"u"&&(St=lt.data),dt.callback&&dt.callback(St)&&(hs=!1,t.postEvent("web_app_close_scan_qr_popup",!1)),X("qrTextReceived",{data:St})}}function Gh(st,lt){hs=!1,X("scanQrPopupClosed")}function kh(st,lt){if(lt.req_id&&Q[lt.req_id]){var dt=Q[lt.req_id];delete Q[lt.req_id];var St=null;typeof lt.data<"u"&&(St=lt.data),dt.callback&&dt.callback(St),X("clipboardTextReceived",{data:St})}}var ua=!1;function Nh(st,lt){if(ua){var dt=ua;ua=!1,dt.callback&&dt.callback(lt.status=="allowed"),X("writeAccessRequested",{status:lt.status})}}function ef(st,lt){var dt,St,wt=0,$t=function(){Gs("getRequestedContact",{},function(se,Ze){Ze&&Ze.length?(clearTimeout(St),st(Ze)):(wt+=50,dt=setTimeout($t,wt))})},he=function(){clearTimeout(dt),st("")};St=setTimeout(he,lt),$t()}var Do=!1;function Uh(st,lt){if(Do){var dt=Do;Do=!1;var St=lt.status=="sent",wt={status:lt.status};St?ef(function($t){if($t&&$t.length){wt.response=$t,wt.responseUnsafe=e.urlParseQueryString($t);for(var he in wt.responseUnsafe){var se=wt.responseUnsafe[he];try{(se.substr(0,1)=="{"&&se.substr(-1)=="}"||se.substr(0,1)=="["&&se.substr(-1)=="]")&&(wt.responseUnsafe[he]=JSON.parse(se))}catch{}}}dt.callback&&dt.callback(St,wt),X("contactRequested",wt)},3e3):(dt.callback&&dt.callback(St,wt),X("contactRequested",wt))}}var us=!1;function Yn(st,lt){if(us){var dt=us;us=!1;var St=lt.status=="downloading";dt.callback&&dt.callback(St),X("fileDownloadRequested",{status:St?"downloading":"cancelled"})}}function Za(st,lt){if(lt.req_id&&Q[lt.req_id]){var dt=Q[lt.req_id];delete Q[lt.req_id];var St=null,wt=null;typeof lt.result<"u"&&(St=lt.result),typeof lt.error<"u"&&(wt=lt.error),dt.callback&&dt.callback(wt,St)}}function Gs(st,lt,dt){if(!we("6.9"))throw console.error("[Telegram.WebApp] Method invokeCustomMethod is not supported in version "+o),Error("WebAppMethodUnsupported");var St=_(16),wt={req_id:St,method:st,params:lt||{}};Q[St]={callback:dt},t.postEvent("web_app_invoke_custom_method",!1,wt)}window.Telegram||(window.Telegram={}),Object.defineProperty(p,"initData",{get:function(){return E},enumerable:!0}),Object.defineProperty(p,"initDataUnsafe",{get:function(){return n},enumerable:!0}),Object.defineProperty(p,"version",{get:function(){return o},enumerable:!0}),Object.defineProperty(p,"platform",{get:function(){return x},enumerable:!0}),Object.defineProperty(p,"colorScheme",{get:function(){return r},enumerable:!0}),Object.defineProperty(p,"themeParams",{get:function(){return T},enumerable:!0}),Object.defineProperty(p,"isExpanded",{get:function(){return ot},enumerable:!0}),Object.defineProperty(p,"viewportHeight",{get:function(){return(tt===!1?window.innerHeight:tt)-de},enumerable:!0}),Object.defineProperty(p,"viewportStableHeight",{get:function(){return(rt===!1?window.innerHeight:rt)-de},enumerable:!0}),Object.defineProperty(p,"safeAreaInset",{get:function(){return ct},enumerable:!0}),Object.defineProperty(p,"contentSafeAreaInset",{get:function(){return xt},enumerable:!0}),Object.defineProperty(p,"isClosingConfirmationEnabled",{set:function(st){Ht(st)},get:function(){return Tt},enumerable:!0}),Object.defineProperty(p,"isVerticalSwipesEnabled",{set:function(st){Kt(st)},get:function(){return Xt},enumerable:!0}),Object.defineProperty(p,"isFullscreen",{get:function(){return h},enumerable:!0}),Object.defineProperty(p,"isOrientationLocked",{set:function(st){Vt(st)},get:function(){return l},enumerable:!0}),Object.defineProperty(p,"isActive",{get:function(){return d},enumerable:!0}),Object.defineProperty(p,"headerColor",{set:function(st){Ci(st)},get:function(){return Ri()},enumerable:!0}),Object.defineProperty(p,"backgroundColor",{set:function(st){Fi(st)},get:function(){return Oi()},enumerable:!0}),Object.defineProperty(p,"bottomBarColor",{set:function(st){Fh(st)},get:function(){return Bs()},enumerable:!0}),Object.defineProperty(p,"BackButton",{value:ut,enumerable:!0}),Object.defineProperty(p,"MainButton",{value:Qe,enumerable:!0}),Object.defineProperty(p,"SecondaryButton",{value:Ui,enumerable:!0}),Object.defineProperty(p,"SettingsButton",{value:Mr,enumerable:!0}),Object.defineProperty(p,"HapticFeedback",{value:os,enumerable:!0}),Object.defineProperty(p,"CloudStorage",{value:ls,enumerable:!0}),Object.defineProperty(p,"BiometricManager",{value:gr,enumerable:!0}),Object.defineProperty(p,"Accelerometer",{value:Pl,enumerable:!0}),Object.defineProperty(p,"DeviceOrientation",{value:Ih,enumerable:!0}),Object.defineProperty(p,"Gyroscope",{value:ha,enumerable:!0}),Object.defineProperty(p,"LocationManager",{value:Oo,enumerable:!0}),p.isVersionAtLeast=function(st){return we(st)},p.setHeaderColor=function(st){p.headerColor=st},p.setBackgroundColor=function(st){p.backgroundColor=st},p.setBottomBarColor=function(st){p.bottomBarColor=st},p.enableClosingConfirmation=function(){p.isClosingConfirmationEnabled=!0},p.disableClosingConfirmation=function(){p.isClosingConfirmationEnabled=!1},p.enableVerticalSwipes=function(){p.isVerticalSwipesEnabled=!0},p.disableVerticalSwipes=function(){p.isVerticalSwipesEnabled=!1},p.lockOrientation=function(){p.isOrientationLocked=!0},p.unlockOrientation=function(){p.isOrientationLocked=!1},p.requestFullscreen=function(){if(!we("8.0"))throw console.error("[Telegram.WebApp] Method requestFullscreen is not supported in version "+o),Error("WebAppMethodUnsupported");t.postEvent("web_app_request_fullscreen")},p.exitFullscreen=function(){if(!we("8.0"))throw console.error("[Telegram.WebApp] Method exitFullscreen is not supported in version "+o),Error("WebAppMethodUnsupported");t.postEvent("web_app_exit_fullscreen")},p.addToHomeScreen=function(){if(!we("8.0"))throw console.error("[Telegram.WebApp] Method addToHomeScreen is not supported in version "+o),Error("WebAppMethodUnsupported");t.postEvent("web_app_add_to_home_screen")},p.checkHomeScreenStatus=function(st){if(!we("8.0"))throw console.error("[Telegram.WebApp] Method checkHomeScreenStatus is not supported in version "+o),Error("WebAppMethodUnsupported");st&&ee.push(st),t.postEvent("web_app_check_home_screen")},p.onEvent=function(st,lt){j(st,lt)},p.offEvent=function(st,lt){J(st,lt)},p.sendData=function(st){if(!st||!st.length)throw console.error("[Telegram.WebApp] Data is required",st),Error("WebAppDataInvalid");if(as(st)>4096)throw console.error("[Telegram.WebApp] Data is too long",st),Error("WebAppDataInvalid");t.postEvent("web_app_data_send",!1,{data:st})},p.switchInlineQuery=function(st,lt){if(!we("6.6"))throw console.error("[Telegram.WebApp] Method switchInlineQuery is not supported in version "+o),Error("WebAppMethodUnsupported");if(!i.tgWebAppBotInline)throw console.error("[Telegram.WebApp] Inline mode is disabled for this bot. Read more about inline mode: https://core.telegram.org/bots/inline"),Error("WebAppInlineModeDisabled");if(st=st||"",st.length>256)throw console.error("[Telegram.WebApp] Inline query is too long",st),Error("WebAppInlineQueryInvalid");var dt=[];if(lt){if(!Array.isArray(lt))throw console.error("[Telegram.WebApp] Choose chat types should be an array",lt),Error("WebAppInlineChooseChatTypesInvalid");for(var St={users:1,bots:1,groups:1,channels:1},wt=0;wt<lt.length;wt++){var $t=lt[wt];if(!St[$t])throw console.error("[Telegram.WebApp] Choose chat type is invalid",$t),Error("WebAppInlineChooseChatTypeInvalid");St[$t]!=2&&(St[$t]=2,dt.push($t))}}t.postEvent("web_app_switch_inline_query",!1,{query:st,chat_types:dt})},p.openLink=function(St,lt){var dt=document.createElement("A");if(dt.href=St,dt.protocol!="http:"&&dt.protocol!="https:")throw console.error("[Telegram.WebApp] Url protocol is not supported",St),Error("WebAppTgUrlInvalid");var St=dt.href;if(lt=lt||{},we("6.1")){var wt={url:St};we("6.4")&&lt.try_instant_view&&(wt.try_instant_view=!0),we("7.6")&&lt.try_browser&&(wt.try_browser=lt.try_browser),t.postEvent("web_app_open_link",!1,wt)}else window.open(St,"_blank")},p.openTelegramLink=function(st,lt){var dt=document.createElement("A");if(dt.href=st,dt.protocol!="http:"&&dt.protocol!="https:")throw console.error("[Telegram.WebApp] Url protocol is not supported",st),Error("WebAppTgUrlInvalid");if(dt.hostname!="t.me")throw console.error("[Telegram.WebApp] Url host is not supported",st),Error("WebAppTgUrlInvalid");var St=dt.pathname+dt.search;if(lt=lt||{},s||we("6.1")){var wt={path_full:St};lt.force_request&&(wt.force_request=!0),t.postEvent("web_app_open_tg_link",!1,wt)}else location.href="https://t.me"+St},p.openInvoice=function(st,lt){var dt=document.createElement("A"),St,wt;if(dt.href=st,dt.protocol!="http:"&&dt.protocol!="https:"||dt.hostname!="t.me"||!(St=dt.pathname.match(/^\/(\$|invoice\/)([A-Za-z0-9\-_=]+)$/))||!(wt=St[2]))throw console.error("[Telegram.WebApp] Invoice url is invalid",st),Error("WebAppInvoiceUrlInvalid");if(!we("6.1"))throw console.error("[Telegram.WebApp] Method openInvoice is not supported in version "+o),Error("WebAppMethodUnsupported");if(He[wt])throw console.error("[Telegram.WebApp] Invoice is already opened"),Error("WebAppInvoiceOpened");He[wt]={url:st,callback:lt},t.postEvent("web_app_open_invoice",!1,{slug:wt})},p.showPopup=function(st,lt){if(!we("6.2"))throw console.error("[Telegram.WebApp] Method showPopup is not supported in version "+o),Error("WebAppMethodUnsupported");if(zr)throw console.error("[Telegram.WebApp] Popup is already opened"),Error("WebAppPopupOpened");var dt="",St="",wt=[],$t={};if(typeof st.title<"u"){if(dt=H(st.title),dt.length>64)throw console.error("[Telegram.WebApp] Popup title is too long",dt),Error("WebAppPopupParamInvalid");dt.length>0&&($t.title=dt)}if(typeof st.message<"u"&&(St=H(st.message)),!St.length)throw console.error("[Telegram.WebApp] Popup message is required",st.message),Error("WebAppPopupParamInvalid");if(St.length>256)throw console.error("[Telegram.WebApp] Popup message is too long",St),Error("WebAppPopupParamInvalid");if($t.message=St,typeof st.buttons<"u"){if(!Array.isArray(st.buttons))throw console.error("[Telegram.WebApp] Popup buttons should be an array",st.buttons),Error("WebAppPopupParamInvalid");for(var he=0;he<st.buttons.length;he++){var se=st.buttons[he],Ze={},pe="";if(typeof se.id<"u"&&(pe=se.id.toString(),pe.length>64))throw console.error("[Telegram.WebApp] Popup button id is too long",pe),Error("WebAppPopupParamInvalid");Ze.id=pe;var ie=se.type;if(typeof ie>"u"&&(ie="default"),Ze.type=ie,!(ie=="ok"||ie=="close"||ie=="cancel"))if(ie=="default"||ie=="destructive"){var hi="";if(typeof se.text<"u"&&(hi=H(se.text)),!hi.length)throw console.error("[Telegram.WebApp] Popup button text is required for type "+ie,se.text),Error("WebAppPopupParamInvalid");if(hi.length>64)throw console.error("[Telegram.WebApp] Popup button text is too long",hi),Error("WebAppPopupParamInvalid");Ze.text=hi}else throw console.error("[Telegram.WebApp] Popup button type is invalid",ie),Error("WebAppPopupParamInvalid");wt.push(Ze)}}else wt.push({id:"",type:"close"});if(wt.length<1)throw console.error("[Telegram.WebApp] Popup should have at least one button"),Error("WebAppPopupParamInvalid");if(wt.length>3)throw console.error("[Telegram.WebApp] Popup should not have more than 3 buttons"),Error("WebAppPopupParamInvalid");$t.buttons=wt,zr={callback:lt},t.postEvent("web_app_open_popup",!1,$t)},p.showAlert=function(st,lt){p.showPopup({message:st},lt?function(){lt()}:null)},p.showConfirm=function(st,lt){p.showPopup({message:st,buttons:[{type:"ok",id:"ok"},{type:"cancel"}]},lt?function(dt){lt(dt=="ok")}:null)},p.showScanQrPopup=function(st,lt){if(!we("6.4"))throw console.error("[Telegram.WebApp] Method showScanQrPopup is not supported in version "+o),Error("WebAppMethodUnsupported");if(hs)throw console.error("[Telegram.WebApp] Popup is already opened"),Error("WebAppScanQrPopupOpened");var dt="",St={};if(typeof st.text<"u"){if(dt=H(st.text),dt.length>64)throw console.error("[Telegram.WebApp] Scan QR popup text is too long",dt),Error("WebAppScanQrPopupParamInvalid");dt.length>0&&(St.text=dt)}hs={callback:lt},t.postEvent("web_app_open_scan_qr_popup",!1,St)},p.closeScanQrPopup=function(){if(!we("6.4"))throw console.error("[Telegram.WebApp] Method closeScanQrPopup is not supported in version "+o),Error("WebAppMethodUnsupported");hs=!1,t.postEvent("web_app_close_scan_qr_popup",!1)},p.readTextFromClipboard=function(st){if(!we("6.4"))throw console.error("[Telegram.WebApp] Method readTextFromClipboard is not supported in version "+o),Error("WebAppMethodUnsupported");var lt=_(16),dt={req_id:lt};Q[lt]={callback:st},t.postEvent("web_app_read_text_from_clipboard",!1,dt)},p.requestWriteAccess=function(st){if(!we("6.9"))throw console.error("[Telegram.WebApp] Method requestWriteAccess is not supported in version "+o),Error("WebAppMethodUnsupported");if(ua)throw console.error("[Telegram.WebApp] Write access is already requested"),Error("WebAppWriteAccessRequested");ua={callback:st},t.postEvent("web_app_request_write_access")},p.requestContact=function(st){if(!we("6.9"))throw console.error("[Telegram.WebApp] Method requestContact is not supported in version "+o),Error("WebAppMethodUnsupported");if(Do)throw console.error("[Telegram.WebApp] Contact is already requested"),Error("WebAppContactRequested");Do={callback:st},t.postEvent("web_app_request_phone")},p.downloadFile=function(st,lt){if(!we("8.0"))throw console.error("[Telegram.WebApp] Method downloadFile is not supported in version "+o),Error("WebAppMethodUnsupported");if(us)throw console.error("[Telegram.WebApp] Popup is already opened"),Error("WebAppDownloadFilePopupOpened");var dt=document.createElement("A"),St={};if(!st||!st.url||!st.url.length)throw console.error("[Telegram.WebApp] Url is required"),Error("WebAppDownloadFileParamInvalid");if(dt.href=st.url,dt.protocol!="https:")throw console.error("[Telegram.WebApp] Url protocol is not supported",url),Error("WebAppDownloadFileParamInvalid");if(St.url=dt.href,!st||!st.file_name||!st.file_name.length)throw console.error("[Telegram.WebApp] File name is required"),Error("WebAppDownloadFileParamInvalid");St.file_name=st.file_name,us={callback:lt},t.postEvent("web_app_request_file_download",!1,St)},p.shareToStory=function(st,lt){if(lt=lt||{},!we("7.8"))throw console.error("[Telegram.WebApp] Method shareToStory is not supported in version "+o),Error("WebAppMethodUnsupported");var dt=document.createElement("A");if(dt.href=st,dt.protocol!="http:"&&dt.protocol!="https:")throw console.error("[Telegram.WebApp] Media url protocol is not supported",url),Error("WebAppMediaUrlInvalid");var St={};if(St.media_url=dt.href,typeof lt.text<"u"){var wt=H(lt.text);if(wt.length>2048)throw console.error("[Telegram.WebApp] Text is too long",wt),Error("WebAppShareToStoryParamInvalid");wt.length>0&&(St.text=wt)}if(typeof lt.widget_link<"u"){if(lt.widget_link=lt.widget_link||{},dt.href=lt.widget_link.url,dt.protocol!="http:"&&dt.protocol!="https:")throw console.error("[Telegram.WebApp] Link protocol is not supported",url),Error("WebAppShareToStoryParamInvalid");var $t={url:dt.href};if(typeof lt.widget_link.name<"u"){var he=H(lt.widget_link.name);if(he.length>48)throw console.error("[Telegram.WebApp] Link name is too long",he),Error("WebAppShareToStoryParamInvalid");he.length>0&&($t.name=he)}St.widget_link=$t}t.postEvent("web_app_share_to_story",!1,St)},p.shareMessage=function(st,lt){if(!we("8.0"))throw console.error("[Telegram.WebApp] Method shareMessage is not supported in version "+o),Error("WebAppMethodUnsupported");if(ve)throw console.error("[Telegram.WebApp] Share message is already opened"),Error("WebAppShareMessageOpened");ve={callback:lt},t.postEvent("web_app_send_prepared_message",!1,{id:st})},p.setEmojiStatus=function(st,lt,dt){if(lt=lt||{},!we("8.0"))throw console.error("[Telegram.WebApp] Method setEmojiStatus is not supported in version "+o),Error("WebAppMethodUnsupported");var St={};if(St.custom_emoji_id=st,typeof lt.duration<"u"&&(St.duration=lt.duration),kt)throw console.error("[Telegram.WebApp] Emoji status is already requested"),Error("WebAppEmojiStatusRequested");kt={callback:dt},t.postEvent("web_app_set_emoji_status",!1,St)},p.requestEmojiStatusAccess=function(st){if(!we("8.0"))throw console.error("[Telegram.WebApp] Method requestEmojiStatusAccess is not supported in version "+o),Error("WebAppMethodUnsupported");if(xe)throw console.error("[Telegram.WebApp] Emoji status permission is already requested"),Error("WebAppEmojiStatusAccessRequested");xe={callback:st},t.postEvent("web_app_request_emoji_status_access")},p.invokeCustomMethod=function(st,lt,dt){Gs(st,lt,dt)},p.ready=function(){t.postEvent("web_app_ready")},p.expand=function(){t.postEvent("web_app_expand")},p.close=function(st){st=st||{};var lt={};we("7.6")&&st.return_back&&(lt.return_back=!0),t.postEvent("web_app_close",!1,lt)},window.Telegram.WebApp=p,Hi(),Ln(),oa(),ft(),i.tgWebAppShowSettings&&Mr.show(),window.addEventListener("resize",G),s&&document.addEventListener("click",U),t.onEvent("theme_changed",A),t.onEvent("viewport_changed",F),t.onEvent("safe_area_changed",I),t.onEvent("content_safe_area_changed",B),t.onEvent("visibility_changed",k),t.onEvent("invoice_closed",Lo),t.onEvent("popup_closed",bl),t.onEvent("qr_text_received",Bh),t.onEvent("scan_qr_popup_closed",Gh),t.onEvent("clipboard_text_received",kh),t.onEvent("write_access_requested",Nh),t.onEvent("phone_requested",Uh),t.onEvent("file_download_requested",Yn),t.onEvent("custom_method_invoked",Za),t.onEvent("fullscreen_changed",bt),t.onEvent("fullscreen_failed",Ut),t.onEvent("home_screen_added",Ee),t.onEvent("home_screen_checked",Me),t.onEvent("prepared_message_sent",Fe),t.onEvent("prepared_message_failed",ai),t.onEvent("emoji_status_set",Wt),t.onEvent("emoji_status_failed",fe),t.onEvent("emoji_status_access_requested",Ie),t.postEvent("web_app_request_theme"),t.postEvent("web_app_request_viewport"),t.postEvent("web_app_request_safe_area"),t.postEvent("web_app_request_content_safe_area")})();Object.defineProperty(px,"__esModule",{value:!0});px.WebApp=void 0;var y$=window;px.WebApp=y$.Telegram.WebApp;Object.defineProperty(Z4,"__esModule",{value:!0});var x$=px,T$=Z4.default=x$.WebApp;class C$ extends m${constructor(){super(...arguments);Gt(this,"webApp",T$)}getAuthParams(){var i;return`?${(i=this.webApp)==null?void 0:i.initData}`}async shareToStory(i){this.webApp.shareToStory(i,{text:"Хижина провидца - заходи и получи свое предсказание!",widget_link:{name:"Получить предсказание 👆",url:ur.APP_URL}})}async vibrate(){var i,s;(s=(i=this.webApp)==null?void 0:i.HapticFeedback)!=null&&s.impactOccurred&&this.webApp.HapticFeedback.impactOccurred("rigid")}}const J4=new C$,Dd=new g$;var S$=Object.defineProperty,E$=Object.getOwnPropertyDescriptor,j4=(e,t,i,s)=>{for(var p=E$(t,i),E=e.length-1,n;E>=0;E--)(n=e[E])&&(p=n(t,i,p)||p);return p&&S$(t,i,p),p};class lM extends Jd.Scene{constructor(){super(r$)}preload(){this.load.image(W4,"assets/bg_blur.png"),Dd.setLastLogin()}create(){this.scene.start(F4)}}j4([Mo],lM.prototype,"preload");j4([Mo],lM.prototype,"create");function gx(e){return`${Math.round(e*ur.DEVICE_PIXEL_RATIO)}px`}function mx(e,t){throw new Error(`Value ${e} not supported`)}var Nr=(e=>(e.BACK_BUTTON_ON_POINTERDOWN="backButton:onPointerdown",e.FREE_ESSENCE_BUTTON_ON_POINTERDOWN="freeEssenceButton:onPointerdown",e.SHARE_STORY_BUTTON_ON_POINTERDOWN="shareStoryButton:onPointerdown",e.BG_RETURNED="bg:returned",e.BG_SCALED="bg:scaled",e.BALL_ON_POINTERDOWN="ball:onPointerdown",e.PREDICTION_RECEIVED="prediction:received",e.FREE_ESSENCE_RECEIVED="freeEssence:received",e))(Nr||{});const P$=gx(27),b$=gx(27);class hM{constructor(){Gt(this,"ball");Gt(this,"predictionText");Gt(this,"initialText");Gt(this,"circle");Gt(this,"prediction");Gt(this,"oracleBallDefaultScale");Gt(this,"animationShowPrediction");Gt(this,"animationClosePrediction");Gt(this,"animationPulse");Gt(this,"container");Gt(this,"containerDefaultScale")}static async create(t){const i=new hM;return await i.init(t),i}async init(t){this.initContainer(t),this.initBall(t),this.initCircle(t),this.initPredictionText(t),this.initInitialText(t),this.circle.on("pointerdown",async()=>{this.deactivateCircle(),this.circle.scene.events.emit(Nr.BALL_ON_POINTERDOWN)}),this.animationShowPrediction=this.createAnimationShowPrediction(),this.animationClosePrediction=this.createAnimationClosePrediction(),this.animationPulse=this.createAnimationPulse(),await this.asyncPlayAnimationInitBall(),this.animationPulse.play()}initContainer(t){const i=t.scale.width/2,s=t.scale.height/2;this.container=t.add.container(i,s,[]),this.container.setAlpha(0),this.containerDefaultScale=this.container.scale}initBall(t){const i=t.scale.width/ur.BASE_WIDTH,s=t.scale.height/ur.BASE_HEIGHT,p=Math.max(i,s),E=0,n=28*p;this.ball=t.add.image(E,n,B4),this.ball.setOrigin(.5),this.ball.setScale(p),this.oracleBallDefaultScale=p,this.container.add(this.ball)}initPredictionText(t){this.predictionText=t.add.text(0,0,"",{fontFamily:"MonotypeCorsiva",fontSize:P$,color:"#833414",align:"center",wordWrap:{width:this.ball.displayWidth+this.ball.displayWidth*.7}}),this.predictionText.setOrigin(.5,.5),this.predictionText.setVisible(!1),this.predictionText.setY(0-this.ball.displayHeight*.13),this.container.add(this.predictionText)}initInitialText(t){this.initialText=t.add.text(0,0,"Что ждёт тебя сегодня?",{fontFamily:"MonotypeCorsiva",fontSize:b$,color:"#833414",align:"center",wordWrap:{width:this.ball.displayWidth-100}}),this.initialText.setOrigin(.5,.5),this.initialText.setY(0-this.circle.displayHeight*.05),this.container.add(this.initialText)}initCircle(t){const i=t.scale.width/ur.BASE_WIDTH,s=t.scale.height/ur.BASE_HEIGHT,p=Math.max(i,s),E=this.ball.width*p/2;this.circle=t.add.circle(0,0,E,0,0),this.circle.setY(this.ball.y-this.ball.height*.065),this.activateCircle(),this.container.add(this.circle)}shakeEffect(){this.container.scene.tweens.add({targets:this.container,angle:{from:-7,to:7},duration:50,yoyo:!0,repeat:5,onComplete:()=>{this.container.angle=0}})}handleBallClick(t){this.initialText.setVisible(!1),this.prediction=t,this.animationPulse.stop(),this.container.scene.tweens.add({targets:this.container,alpha:1,scale:this.containerDefaultScale,duration:300,ease:"Sine.easeOut"}),this.animationShowPrediction.play()}asyncPlayAnimationInitBall(){return new Promise(t=>{this.container.scene.tweens.add({targets:this.container,alpha:1,duration:600,ease:"Sine.easeOut",onComplete:t})})}createAnimationShowPrediction(){return this.ball.scene.tweens.add({targets:this.ball,scale:this.oracleBallDefaultScale+this.oracleBallDefaultScale*.64,duration:2e3,ease:"Power2",paused:!0,onComplete:()=>{this.showPrediction(),this.animationClosePrediction=this.createAnimationClosePrediction()}})}createAnimationClosePrediction(){return this.ball.scene.tweens.add({targets:this.ball,scale:this.oracleBallDefaultScale,duration:750,ease:"Power2",paused:!0,onComplete:()=>{this.ball.setInteractive(),this.initialText.setVisible(!0),this.animationShowPrediction=this.createAnimationShowPrediction(),this.animationPulse=this.createAnimationPulse(),this.animationPulse.play(),this.activateCircle()}})}createAnimationPulse(){return this.container.scene.tweens.add({targets:this.container,alpha:{from:1,to:.9},scale:{from:1,to:.95},duration:1500,repeatDelay:300,yoyo:!0,repeat:-1,ease:"Sine.easeInOut",paused:!0})}showPrediction(){this.predictionText.setText(this.prediction),this.predictionText.setVisible(!0)}hidePrediction(){this.predictionText.setVisible(!1),this.predictionText.setText("")}deactivateCircle(){this.circle.disableInteractive()}activateCircle(){this.circle.setInteractive()}reset(){this.hidePrediction(),this.animationClosePrediction.play()}}const kD=24*60*60*1e3,M$=gx(11);class uM{constructor(t){Gt(this,"lastFreeCrediting",null);Gt(this,"text");Gt(this,"getButton");Gt(this,"board");Gt(this,"isBoardWithButtonVisible",!1);Gt(this,"isBoardWithTimerVisible",!1);Gt(this,"timerEvent");Gt(this,"container");Gt(this,"hidden",!1);this.lastFreeCrediting=t,console.log("constructor this.lastFreeCrediting",this.lastFreeCrediting)}static async create(t,i){const s=new uM(i);return await s.init(t),t.events.on(Nr.BG_RETURNED,()=>{s.show()}),s}async init(t){this.initBoard(t),this.initContainer(t),this.initGetButton(t),this.initText(t),this.setState(),this.getButton.on("pointerdown",()=>{this.hide(),t.events.emit(Nr.FREE_ESSENCE_BUTTON_ON_POINTERDOWN)})}initBoard(t){this.board=t.add.image(0,0,V4),this.board.setOrigin(0,0);const i=Ny/this.board.height;this.board.setScale(i)}initGetButton(t){const{displayWidth:i,displayHeight:s}=this.board;this.getButton=t.add.image(i/2,s/2,N4),this.getButton.setInteractive(),this.getButton.setOrigin(.5,.5);const{width:p,height:E}=this.getButton,{width:n,height:T}=t.cameras.main,r=n/p*.2,o=T/E*.2,x=Math.min(r,o);this.getButton.setScale(x),this.getButton.setVisible(!1),this.container.add(this.getButton)}initText(t){this.text=t.add.text(0,0,"",{fontSize:M$,color:"#fff",align:"center",wordWrap:{width:this.board.displayWidth}}),this.text.setOrigin(.5,.5),this.text.setX(this.board.displayWidth/2),this.text.setY(this.board.displayHeight/2),this.text.setVisible(!1),this.container.add(this.text)}initContainer(t){this.container=t.add.container(5,0-Ny,[this.board])}async showHandler(){return this.hidden?null:new Promise(t=>{this.container.scene.tweens.add({targets:this.container,y:0,duration:500,ease:"Power2",onComplete:()=>{t(null)}})})}async hideHandler(){return new Promise(t=>{this.container.scene.tweens.add({targets:this.container,y:0-Ny,duration:500,ease:"Power2",onComplete:()=>{t(null)}})})}async hideBoardWithTimer(){this.text.setVisible(!1),await this.hideHandler(),this.isBoardWithTimerVisible=!1}showBoardWithTimer(){this.isBoardWithButtonVisible?this.hideBoardWithButton().then(()=>{this.text.setVisible(!0),this.showHandler()}):(this.text.setVisible(!0),this.showHandler()),this.isBoardWithTimerVisible=!0}async hideBoardWithButton(){this.getButton.setVisible(!1),await this.hideHandler(),this.isBoardWithButtonVisible=!1}showBoardWithButton(){this.isBoardWithTimerVisible?this.hideBoardWithTimer().then(()=>{this.getButton.setVisible(!0),this.showHandler()}):(this.getButton.setVisible(!0),this.showHandler()),this.isBoardWithButtonVisible=!0}hide(){this.hidden=!0,this.hideHandler()}show(){this.hidden=!1,this.setState()}updateLastFreeCrediting(t){this.lastFreeCrediting!==t&&(this.lastFreeCrediting=t,this.setState())}setState(){const t=Date.now();kD-(t-(this.lastFreeCrediting||0))>0?this.runTimer():this.showBoardWithButton()}runTimer(){this.timerEvent=this.text.scene.time.addEvent({delay:1e3,callback:()=>this.updateTimer(),loop:!0})}stopTimer(){var t;(t=this.timerEvent)==null||t.remove()}updateTimer(){const t=Date.now(),i=kD-(t-(this.lastFreeCrediting||0));if(i>0){const s=Math.floor(i/36e5),p=Math.floor(i%(60*60*1e3)/(60*1e3)),E=Math.floor(i%(60*1e3)/1e3);this.text.setText(`Бесплатное предсказание 
через ${s}ч ${p}м ${E}с`),this.showBoardWithTimer()}else this.stopTimer(),this.showBoardWithButton()}}class fM extends cl.GameObjects.Image{constructor(i,s){const p=i.scale.width/2,E=i.scale.height/2;super(i,p,E,s?W4:z4);Gt(this,"bgDefaultScale");Gt(this,"blurEffect",null);const n=s?this.width:ur.BASE_WIDTH,T=s?this.height:ur.BASE_HEIGHT,r=i.scale.width/n,o=i.scale.height/T,x=Math.max(r,o);this.setOrigin(.5),this.setScale(x),this.setScrollFactor(0),this.bgDefaultScale=x,i.add.existing(this),s&&this.preFX&&(this.blurEffect=this.preFX.addBlur(2,2,2,1,16777215,4))}runScaleAnimation(){this.scene.tweens.add({targets:this,scale:this.bgDefaultScale+this.bgDefaultScale*.64,duration:2e3,ease:"Power2",onComplete:()=>{this.scene.events.emit(Nr.BG_SCALED)}})}runReturnScaleAnimation(){this.scene.tweens.add({targets:this,scale:this.bgDefaultScale,duration:750,ease:"Power2",onComplete:()=>{this.scene.events.emit(Nr.BG_RETURNED)}})}async cleanup(){if(this.blurEffect&&this.preFX)return new Promise(i=>{this.scene.tweens.add({targets:this.blurEffect,strength:0,duration:500,onComplete:()=>{var s;(s=this.preFX)==null||s.remove(this.blurEffect),this.blurEffect=null,i()}})})}}class w$ extends cl.GameObjects.Image{constructor(t){super(t,0,0,k4),this.setX(t.cameras.main.width/2),this.setY(t.cameras.main.height-75*ur.DEVICE_PIXEL_RATIO),this.setVisible(!1),this.setInteractive(),this.setOrigin(.5,.5),t.add.existing(this),this.startPulseAnimation(),this.on("pointerdown",()=>{this.setVisible(!1),setTimeout(()=>{this.setVisible(!0)},2e3),t.events.emit(Nr.SHARE_STORY_BUTTON_ON_POINTERDOWN)})}startPulseAnimation(){this.scene.tweens.add({targets:this,scale:this.scale*1.1,duration:800,ease:"Sine.easeInOut",yoyo:!0,repeat:-1})}onPointerdown(t){this.off("pointerdown"),this.on("pointerdown",t)}}class R$ extends cl.GameObjects.Image{constructor(t){super(t,0,0,G4);const i=t.scale.width/ur.BASE_WIDTH,s=t.scale.height/ur.BASE_HEIGHT,p=Math.max(i,s);this.setX(this.width+10*p),this.setY(this.width+10*p),this.setVisible(!1),this.setInteractive(),t.add.existing(this),this.onPointerdown(()=>{t.events.emit(Nr.BACK_BUTTON_ON_POINTERDOWN),this.setVisible(!1)})}onPointerdown(t){this.on("pointerdown",t)}}const Q4=new cl.Events.EventEmitter;function A$(e,t){return`${e}_${t}`}function q4(e){return A$("update_store",e)}var Ld=(e=>(e.PROFILE="profile",e))(Ld||{});class O${constructor(){Gt(this,"store",{})}set(t,i,s){this.store[t]=i,s!=null&&s.skipEmmit||Q4.emit(q4(t),i)}get(t){return this.store[t]}}const y0=new O$,L$=gx(15);class dM{constructor(){Gt(this,"text");Gt(this,"board");Gt(this,"container")}static async create(t,i){const s=new dM;return s.init(t,i),s}init(t,i){this.initBoard(t),this.initText(t),this.initContainer(t),this.updateBalance(i),this.show()}initBoard(t){this.board=t.add.image(0,0,U4),this.board.setOrigin(0,0);const i=Ob/this.board.height;this.board.setScale(i)}initText(t){this.text=t.add.text(0,0,"",{fontSize:L$,color:"#fff",wordWrap:{width:this.board.displayWidth}}),this.text.setOrigin(0,.5),this.text.setX(this.board.displayWidth/2),this.text.setY(this.board.displayHeight/2)}initContainer(t){this.container=t.add.container(t.cameras.main.width,Ny-Ob-4,[this.board,this.text]),this.container.setSize(this.board.width*this.board.scale,this.board.height*this.board.scale)}updateBalance(t){this.text.setText(String(t))}show(){this.container.scene.tweens.add({targets:this.container,x:this.container.scene.cameras.main.width-this.board.displayWidth-5,duration:500,ease:"Power2"})}hide(){this.container.scene.tweens.add({targets:this.container,x:this.container.scene.cameras.main.width+this.board.displayWidth+5,duration:500,ease:"Power2"})}}var Lb=function(e,t){return Lb=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,s){i.__proto__=s}||function(i,s){for(var p in s)Object.prototype.hasOwnProperty.call(s,p)&&(i[p]=s[p])},Lb(e,t)};function Ds(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");Lb(e,t);function i(){this.constructor=e}e.prototype=t===null?Object.create(t):(i.prototype=t.prototype,new i)}var Te=function(){return Te=Object.assign||function(t){for(var i,s=1,p=arguments.length;s<p;s++){i=arguments[s];for(var E in i)Object.prototype.hasOwnProperty.call(i,E)&&(t[E]=i[E])}return t},Te.apply(this,arguments)};function Db(e,t){var i={};for(var s in e)Object.prototype.hasOwnProperty.call(e,s)&&t.indexOf(s)<0&&(i[s]=e[s]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var p=0,s=Object.getOwnPropertySymbols(e);p<s.length;p++)t.indexOf(s[p])<0&&Object.prototype.propertyIsEnumerable.call(e,s[p])&&(i[s[p]]=e[s[p]]);return i}function ne(e,t,i,s){function p(E){return E instanceof i?E:new i(function(n){n(E)})}return new(i||(i=Promise))(function(E,n){function T(x){try{o(s.next(x))}catch(d){n(d)}}function r(x){try{o(s.throw(x))}catch(d){n(d)}}function o(x){x.done?E(x.value):p(x.value).then(T,r)}o((s=s.apply(e,t||[])).next())})}function qt(e,t){var i={label:0,sent:function(){if(E[0]&1)throw E[1];return E[1]},trys:[],ops:[]},s,p,E,n=Object.create((typeof Iterator=="function"?Iterator:Object).prototype);return n.next=T(0),n.throw=T(1),n.return=T(2),typeof Symbol=="function"&&(n[Symbol.iterator]=function(){return this}),n;function T(o){return function(x){return r([o,x])}}function r(o){if(s)throw new TypeError("Generator is already executing.");for(;n&&(n=0,o[0]&&(i=0)),i;)try{if(s=1,p&&(E=o[0]&2?p.return:o[0]?p.throw||((E=p.return)&&E.call(p),0):p.next)&&!(E=E.call(p,o[1])).done)return E;switch(p=0,E&&(o=[o[0]&2,E.value]),o[0]){case 0:case 1:E=o;break;case 4:return i.label++,{value:o[1],done:!1};case 5:i.label++,p=o[1],o=[0];continue;case 7:o=i.ops.pop(),i.trys.pop();continue;default:if(E=i.trys,!(E=E.length>0&&E[E.length-1])&&(o[0]===6||o[0]===2)){i=0;continue}if(o[0]===3&&(!E||o[1]>E[0]&&o[1]<E[3])){i.label=o[1];break}if(o[0]===6&&i.label<E[1]){i.label=E[1],E=o;break}if(E&&i.label<E[2]){i.label=E[2],i.ops.push(o);break}E[2]&&i.ops.pop(),i.trys.pop();continue}o=t.call(e,i)}catch(x){o=[6,x],p=0}finally{s=E=0}if(o[0]&5)throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}}function br(e){var t=typeof Symbol=="function"&&Symbol.iterator,i=t&&e[t],s=0;if(i)return i.call(e);if(e&&typeof e.length=="number")return{next:function(){return e&&s>=e.length&&(e=void 0),{value:e&&e[s++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function wi(e,t){var i=typeof Symbol=="function"&&e[Symbol.iterator];if(!i)return e;var s=i.call(e),p,E=[],n;try{for(;(t===void 0||t-- >0)&&!(p=s.next()).done;)E.push(p.value)}catch(T){n={error:T}}finally{try{p&&!p.done&&(i=s.return)&&i.call(s)}finally{if(n)throw n.error}}return E}function qr(e,t,i){if(i||arguments.length===2)for(var s=0,p=t.length,E;s<p;s++)(E||!(s in t))&&(E||(E=Array.prototype.slice.call(t,0,s)),E[s]=t[s]);return e.concat(E||Array.prototype.slice.call(t))}function Nd(e){return this instanceof Nd?(this.v=e,this):new Nd(e)}function D$(e,t,i){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var s=i.apply(e,t||[]),p,E=[];return p=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),T("next"),T("throw"),T("return",n),p[Symbol.asyncIterator]=function(){return this},p;function n(l){return function(a){return Promise.resolve(a).then(l,d)}}function T(l,a){s[l]&&(p[l]=function(f){return new Promise(function(c,u){E.push([l,f,c,u])>1||r(l,f)})},a&&(p[l]=a(p[l])))}function r(l,a){try{o(s[l](a))}catch(f){h(E[0][3],f)}}function o(l){l.value instanceof Nd?Promise.resolve(l.value.v).then(x,d):h(E[0][2],l)}function x(l){r("next",l)}function d(l){r("throw",l)}function h(l,a){l(a),E.shift(),E.length&&r(E[0][0],E[0][1])}}function F$(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t=e[Symbol.asyncIterator],i;return t?t.call(e):(e=typeof br=="function"?br(e):e[Symbol.iterator](),i={},s("next"),s("throw"),s("return"),i[Symbol.asyncIterator]=function(){return this},i);function s(E){i[E]=e[E]&&function(n){return new Promise(function(T,r){n=e[E](n),p(T,r,n.done,n.value)})}}function p(E,n,T,r){Promise.resolve(r).then(function(o){E({value:o,done:T})},n)}}var I$="Event tracked successfully",B$="Unexpected error occurred",G$="Event rejected due to exceeded retry count",k$="Event skipped due to optOut config",N$="Event rejected due to missing API key",U$="Invalid API key",V$="Client not initialized",Zr;(function(e){e.SET="$set",e.SET_ONCE="$setOnce",e.ADD="$add",e.APPEND="$append",e.PREPEND="$prepend",e.REMOVE="$remove",e.PREINSERT="$preInsert",e.POSTINSERT="$postInsert",e.UNSET="$unset",e.CLEAR_ALL="$clearAll"})(Zr||(Zr={}));var Gu;(function(e){e.REVENUE_PRODUCT_ID="$productId",e.REVENUE_QUANTITY="$quantity",e.REVENUE_PRICE="$price",e.REVENUE_TYPE="$revenueType",e.REVENUE="$revenue"})(Gu||(Gu={}));var Xd;(function(e){e.IDENTIFY="$identify",e.GROUP_IDENTIFY="$groupidentify",e.REVENUE="revenue_amount"})(Xd||(Xd={}));var Rs;(function(e){e[e.None=0]="None",e[e.Error=1]="Error",e[e.Warn=2]="Warn",e[e.Verbose=3]="Verbose",e[e.Debug=4]="Debug"})(Rs||(Rs={}));var qy;(function(e){e.US="US",e.EU="EU"})(qy||(qy={}));var hr;(function(e){e.Unknown="unknown",e.Skipped="skipped",e.Success="success",e.RateLimit="rate_limit",e.PayloadTooLarge="payload_too_large",e.Invalid="invalid",e.Failed="failed",e.Timeout="Timeout",e.SystemError="SystemError"})(hr||(hr={}));var z$=null,W$=["a","button","input","select","textarea","label","video","audio",'[contenteditable="true" i]',"[data-amp-default-track]",".amp-default-track"],Y$="data-amp-track-",X$=["div","span","h1","h2","h3","h4","h5","h6"],Ud=function(e,t,i){return t===void 0&&(t=0),i===void 0&&(i=hr.Unknown),{event:e,code:t,message:i}},jd=function(e){return e?(e^Math.random()*16>>e/4).toString(16):(String(1e7)+String(-1e3)+String(-4e3)+String(-8e3)+String(-1e11)).replace(/[018]/g,jd)},H$=function(){function e(t){this.client=t,this.queue=[],this.applying=!1,this.plugins=[]}return e.prototype.register=function(t,i){var s,p;return ne(this,void 0,void 0,function(){return qt(this,function(E){switch(E.label){case 0:return this.plugins.some(function(n){return n.name===t.name})?(i.loggerProvider.warn("Plugin with name ".concat(t.name," already exists, skipping registration")),[2]):(t.name===void 0&&(t.name=jd(),i.loggerProvider.warn(`Plugin name is undefined. 
      Generating a random UUID for plugin name: `.concat(t.name,`. 
      Set a name for the plugin to prevent it from being added multiple times.`))),t.type=(s=t.type)!==null&&s!==void 0?s:"enrichment",[4,(p=t.setup)===null||p===void 0?void 0:p.call(t,i,this.client)]);case 1:return E.sent(),this.plugins.push(t),[2]}})})},e.prototype.deregister=function(t,i){var s;return ne(this,void 0,void 0,function(){var p,E;return qt(this,function(n){switch(n.label){case 0:return p=this.plugins.findIndex(function(T){return T.name===t}),p===-1?(i.loggerProvider.warn("Plugin with name ".concat(t," does not exist, skipping deregistration")),[2]):(E=this.plugins[p],this.plugins.splice(p,1),[4,(s=E.teardown)===null||s===void 0?void 0:s.call(E)]);case 1:return n.sent(),[2]}})})},e.prototype.reset=function(t){this.applying=!1;var i=this.plugins;i.map(function(s){var p;return(p=s.teardown)===null||p===void 0?void 0:p.call(s)}),this.plugins=[],this.client=t},e.prototype.push=function(t){var i=this;return new Promise(function(s){i.queue.push([t,s]),i.scheduleApply(0)})},e.prototype.scheduleApply=function(t){var i=this;this.applying||(this.applying=!0,setTimeout(function(){i.apply(i.queue.shift()).then(function(){i.applying=!1,i.queue.length>0&&i.scheduleApply(0)})},t))},e.prototype.apply=function(t){return ne(this,void 0,void 0,function(){var i,s,p,E,n,T,r,l,a,o,x,d,h,l,a,f,c,u,v,g,m,y;return qt(this,function(C){switch(C.label){case 0:if(!t)return[2];i=wi(t,1),s=i[0],p=wi(t,2),E=p[1],n=this.plugins.filter(function(b){return b.type==="before"}),C.label=1;case 1:C.trys.push([1,6,7,8]),T=br(n),r=T.next(),C.label=2;case 2:return r.done?[3,5]:(l=r.value,l.execute?[4,l.execute(Te({},s))]:[3,4]);case 3:if(a=C.sent(),a===null)return E({event:s,code:0,message:""}),[2];s=a,C.label=4;case 4:return r=T.next(),[3,2];case 5:return[3,8];case 6:return o=C.sent(),v={error:o},[3,8];case 7:try{r&&!r.done&&(g=T.return)&&g.call(T)}finally{if(v)throw v.error}return[7];case 8:x=this.plugins.filter(function(b){return b.type==="enrichment"||b.type===void 0}),C.label=9;case 9:C.trys.push([9,14,15,16]),d=br(x),h=d.next(),C.label=10;case 10:return h.done?[3,13]:(l=h.value,l.execute?[4,l.execute(Te({},s))]:[3,12]);case 11:if(a=C.sent(),a===null)return E({event:s,code:0,message:""}),[2];s=a,C.label=12;case 12:return h=d.next(),[3,10];case 13:return[3,16];case 14:return f=C.sent(),m={error:f},[3,16];case 15:try{h&&!h.done&&(y=d.return)&&y.call(d)}finally{if(m)throw m.error}return[7];case 16:return c=this.plugins.filter(function(b){return b.type==="destination"}),u=c.map(function(b){var M=Te({},s);return b.execute(M).catch(function(w){return Ud(M,0,String(w))})}),Promise.all(u).then(function(b){var M=wi(b,1),w=M[0],R=w||Ud(s,100,"Event not tracked, no destination plugins on the instance");E(R)}),[2]}})})},e.prototype.flush=function(){return ne(this,void 0,void 0,function(){var t,i,s,p=this;return qt(this,function(E){switch(E.label){case 0:return t=this.queue,this.queue=[],[4,Promise.all(t.map(function(n){return p.apply(n)}))];case 1:return E.sent(),i=this.plugins.filter(function(n){return n.type==="destination"}),s=i.map(function(n){return n.flush&&n.flush()}),[4,Promise.all(s)];case 2:return E.sent(),[2]}})})},e}(),ND="-",yx="AMP",$$="".concat(yx,"_unsent"),_4="https://api2.amplitude.com/2/httpapi",K$="https://api.eu.amplitude.com/2/httpapi",Z$="https://api2.amplitude.com/batch",J$="https://api.eu.amplitude.com/batch",j$=1e3,Fb=function(e){if(Object.keys(e).length>j$)return!1;for(var t in e){var i=e[t];if(!t5(t,i))return!1}return!0},t5=function(e,t){var i,s;if(typeof e!="string")return!1;if(Array.isArray(t)){var p=!0;try{for(var E=br(t),n=E.next();!n.done;n=E.next()){var T=n.value;if(Array.isArray(T))return!1;if(typeof T=="object")p=p&&Fb(T);else if(!["number","string"].includes(typeof T))return!1;if(!p)return!1}}catch(r){i={error:r}}finally{try{n&&!n.done&&(s=E.return)&&s.call(E)}finally{if(i)throw i.error}}}else{if(t==null)return!1;if(typeof t=="object")return Fb(t);if(!["number","string","boolean"].includes(typeof t))return!1}return!0},Sp=function(){function e(){this._propertySet=new Set,this._properties={}}return e.prototype.getUserProperties=function(){return Te({},this._properties)},e.prototype.set=function(t,i){return this._safeSet(Zr.SET,t,i),this},e.prototype.setOnce=function(t,i){return this._safeSet(Zr.SET_ONCE,t,i),this},e.prototype.append=function(t,i){return this._safeSet(Zr.APPEND,t,i),this},e.prototype.prepend=function(t,i){return this._safeSet(Zr.PREPEND,t,i),this},e.prototype.postInsert=function(t,i){return this._safeSet(Zr.POSTINSERT,t,i),this},e.prototype.preInsert=function(t,i){return this._safeSet(Zr.PREINSERT,t,i),this},e.prototype.remove=function(t,i){return this._safeSet(Zr.REMOVE,t,i),this},e.prototype.add=function(t,i){return this._safeSet(Zr.ADD,t,i),this},e.prototype.unset=function(t){return this._safeSet(Zr.UNSET,t,ND),this},e.prototype.clearAll=function(){return this._properties={},this._properties[Zr.CLEAR_ALL]=ND,this},e.prototype._safeSet=function(t,i,s){if(this._validate(t,i,s)){var p=this._properties[t];return p===void 0&&(p={},this._properties[t]=p),p[i]=s,this._propertySet.add(i),!0}return!1},e.prototype._validate=function(t,i,s){return this._properties[Zr.CLEAR_ALL]!==void 0||this._propertySet.has(i)?!1:t===Zr.ADD?typeof s=="number":t!==Zr.UNSET&&t!==Zr.REMOVE?t5(i,s):!0},e}(),Q$=function(e,t,i){var s=typeof e=="string"?{event_type:e}:e;return Te(Te(Te({},s),i),t&&{event_properties:t})},e5=function(e,t){var i=Te(Te({},t),{event_type:Xd.IDENTIFY,user_properties:e.getUserProperties()});return i},q$=function(e,t,i,s){var p,E=Te(Te({},s),{event_type:Xd.GROUP_IDENTIFY,group_properties:i.getUserProperties(),groups:(p={},p[e]=t,p)});return E},_$=function(e,t,i){var s,p=new Sp;p.set(e,t);var E=Te(Te({},i),{event_type:Xd.IDENTIFY,user_properties:p.getUserProperties(),groups:(s={},s[e]=t,s)});return E},tK=function(e,t){return Te(Te({},t),{event_type:Xd.REVENUE,event_properties:e.getEventProperties()})},es=function(e){return{promise:e||Promise.resolve()}},eK=function(){function e(t){t===void 0&&(t="$default"),this.initializing=!1,this.isReady=!1,this.q=[],this.dispatchQ=[],this.logEvent=this.track.bind(this),this.timeline=new H$(this),this.name=t}return e.prototype._init=function(t){return ne(this,void 0,void 0,function(){return qt(this,function(i){switch(i.label){case 0:return this.config=t,this.timeline.reset(this),[4,this.runQueuedFunctions("q")];case 1:return i.sent(),this.isReady=!0,[2]}})})},e.prototype.runQueuedFunctions=function(t){return ne(this,void 0,void 0,function(){var i,s,p,E,n,T,r,o;return qt(this,function(x){switch(x.label){case 0:i=this[t],this[t]=[],x.label=1;case 1:x.trys.push([1,8,9,10]),s=br(i),p=s.next(),x.label=2;case 2:return p.done?[3,7]:(E=p.value,n=E(),n&&"promise"in n?[4,n.promise]:[3,4]);case 3:return x.sent(),[3,6];case 4:return[4,n];case 5:x.sent(),x.label=6;case 6:return p=s.next(),[3,2];case 7:return[3,10];case 8:return T=x.sent(),r={error:T},[3,10];case 9:try{p&&!p.done&&(o=s.return)&&o.call(s)}finally{if(r)throw r.error}return[7];case 10:return this[t].length?[4,this.runQueuedFunctions(t)]:[3,12];case 11:x.sent(),x.label=12;case 12:return[2]}})})},e.prototype.track=function(t,i,s){var p=Q$(t,i,s);return es(this.dispatch(p))},e.prototype.identify=function(t,i){var s=e5(t,i);return es(this.dispatch(s))},e.prototype.groupIdentify=function(t,i,s,p){var E=q$(t,i,s,p);return es(this.dispatch(E))},e.prototype.setGroup=function(t,i,s){var p=_$(t,i,s);return es(this.dispatch(p))},e.prototype.revenue=function(t,i){var s=tK(t,i);return es(this.dispatch(s))},e.prototype.add=function(t){return this.isReady?this._addPlugin(t):(this.q.push(this._addPlugin.bind(this,t)),es())},e.prototype._addPlugin=function(t){return es(this.timeline.register(t,this.config))},e.prototype.remove=function(t){return this.isReady?this._removePlugin(t):(this.q.push(this._removePlugin.bind(this,t)),es())},e.prototype._removePlugin=function(t){return es(this.timeline.deregister(t,this.config))},e.prototype.dispatchWithCallback=function(t,i){if(!this.isReady)return i(Ud(t,0,V$));this.process(t).then(i)},e.prototype.dispatch=function(t){return ne(this,void 0,void 0,function(){var i=this;return qt(this,function(s){return this.isReady?[2,this.process(t)]:[2,new Promise(function(p){i.dispatchQ.push(i.dispatchWithCallback.bind(i,t,p))})]})})},e.prototype.process=function(t){return ne(this,void 0,void 0,function(){var p,i,s,p;return qt(this,function(E){switch(E.label){case 0:return E.trys.push([0,2,,3]),this.config.optOut?[2,Ud(t,0,k$)]:[4,this.timeline.push(t)];case 1:return p=E.sent(),p.code===200?this.config.loggerProvider.log(p.message):p.code===100?this.config.loggerProvider.warn(p.message):this.config.loggerProvider.error(p.message),[2,p];case 2:return i=E.sent(),s=String(i),this.config.loggerProvider.error(s),p=Ud(t,0,s),[2,p];case 3:return[2]}})})},e.prototype.setOptOut=function(t){if(!this.isReady){this.q.push(this._setOptOut.bind(this,!!t));return}this._setOptOut(t)},e.prototype._setOptOut=function(t){this.config.optOut=!!t},e.prototype.flush=function(){return es(this.timeline.flush())},e}(),iK=function(){function e(){this.productId="",this.quantity=1,this.price=0}return e.prototype.setProductId=function(t){return this.productId=t,this},e.prototype.setQuantity=function(t){return t>0&&(this.quantity=t),this},e.prototype.setPrice=function(t){return this.price=t,this},e.prototype.setRevenueType=function(t){return this.revenueType=t,this},e.prototype.setRevenue=function(t){return this.revenue=t,this},e.prototype.setEventProperties=function(t){return Fb(t)&&(this.properties=t),this},e.prototype.getEventProperties=function(){var t=this.properties?Te({},this.properties):{};return t[Gu.REVENUE_PRODUCT_ID]=this.productId,t[Gu.REVENUE_QUANTITY]=this.quantity,t[Gu.REVENUE_PRICE]=this.price,t[Gu.REVENUE_TYPE]=this.revenueType,t[Gu.REVENUE]=this.revenue,t},e}(),rK=function(e,t){var i=Math.max(t,1);return e.reduce(function(s,p,E){var n=Math.floor(E/i);return s[n]||(s[n]=[]),s[n].push(p),s},[])},x0="Amplitude Logger ",i5=function(){function e(){this.logLevel=Rs.None}return e.prototype.disable=function(){this.logLevel=Rs.None},e.prototype.enable=function(t){t===void 0&&(t=Rs.Warn),this.logLevel=t},e.prototype.log=function(){for(var t=[],i=0;i<arguments.length;i++)t[i]=arguments[i];this.logLevel<Rs.Verbose||console.log("".concat(x0,"[Log]: ").concat(t.join(" ")))},e.prototype.warn=function(){for(var t=[],i=0;i<arguments.length;i++)t[i]=arguments[i];this.logLevel<Rs.Warn||console.warn("".concat(x0,"[Warn]: ").concat(t.join(" ")))},e.prototype.error=function(){for(var t=[],i=0;i<arguments.length;i++)t[i]=arguments[i];this.logLevel<Rs.Error||console.error("".concat(x0,"[Error]: ").concat(t.join(" ")))},e.prototype.debug=function(){for(var t=[],i=0;i<arguments.length;i++)t[i]=arguments[i];this.logLevel<Rs.Debug||console.log("".concat(x0,"[Debug]: ").concat(t.join(" ")))},e}(),Uy=function(){return{flushMaxRetries:12,flushQueueSize:200,flushIntervalMillis:1e4,instanceName:"$default_instance",logLevel:Rs.Warn,loggerProvider:new i5,offline:!1,optOut:!1,serverUrl:_4,serverZone:"US",useBatch:!1}},nK=function(){function e(t){var i,s,p,E;this._optOut=!1;var n=Uy();this.apiKey=t.apiKey,this.flushIntervalMillis=(i=t.flushIntervalMillis)!==null&&i!==void 0?i:n.flushIntervalMillis,this.flushMaxRetries=t.flushMaxRetries||n.flushMaxRetries,this.flushQueueSize=t.flushQueueSize||n.flushQueueSize,this.instanceName=t.instanceName||n.instanceName,this.loggerProvider=t.loggerProvider||n.loggerProvider,this.logLevel=(s=t.logLevel)!==null&&s!==void 0?s:n.logLevel,this.minIdLength=t.minIdLength,this.plan=t.plan,this.ingestionMetadata=t.ingestionMetadata,this.offline=t.offline!==void 0?t.offline:n.offline,this.optOut=(p=t.optOut)!==null&&p!==void 0?p:n.optOut,this.serverUrl=t.serverUrl,this.serverZone=t.serverZone||n.serverZone,this.storageProvider=t.storageProvider,this.transportProvider=t.transportProvider,this.useBatch=(E=t.useBatch)!==null&&E!==void 0?E:n.useBatch,this.loggerProvider.enable(this.logLevel);var T=r5(t.serverUrl,t.serverZone,t.useBatch);this.serverZone=T.serverZone,this.serverUrl=T.serverUrl}return Object.defineProperty(e.prototype,"optOut",{get:function(){return this._optOut},set:function(t){this._optOut=t},enumerable:!1,configurable:!0}),e}(),sK=function(e,t){return e==="EU"?t?J$:K$:t?Z$:_4},r5=function(e,t,i){if(e===void 0&&(e=""),t===void 0&&(t=Uy().serverZone),i===void 0&&(i=Uy().useBatch),e)return{serverUrl:e,serverZone:void 0};var s=["US","EU"].includes(t)?t:Uy().serverZone;return{serverZone:s,serverUrl:sK(s,i)}},n5=function(){function e(){this.sdk={metrics:{histogram:{}}}}return e.prototype.recordHistogram=function(t,i){this.sdk.metrics.histogram[t]=i},e}();function aK(e){return e instanceof Error?e.message:String(e)}function T0(e){var t="";try{"body"in e&&(t=JSON.stringify(e.body,null,2))}catch{}return t}var oK=function(){function e(){this.name="amplitude",this.type="destination",this.retryTimeout=1e3,this.throttleTimeout=3e4,this.storageKey="",this.scheduled=null,this.queue=[]}return e.prototype.setup=function(t){var i;return ne(this,void 0,void 0,function(){var s,p=this;return qt(this,function(E){switch(E.label){case 0:return this.config=t,this.storageKey="".concat($$,"_").concat(this.config.apiKey.substring(0,10)),[4,(i=this.config.storageProvider)===null||i===void 0?void 0:i.get(this.storageKey)];case 1:return s=E.sent(),s&&s.length>0&&Promise.all(s.map(function(n){return p.execute(n)})).catch(),[2,Promise.resolve(void 0)]}})})},e.prototype.execute=function(t){var i=this;return t.insert_id||(t.insert_id=jd()),new Promise(function(s){var p={event:t,attempts:0,callback:function(E){return s(E)},timeout:0};i.addToQueue(p)})},e.prototype.getTryableList=function(t){var i=this;return t.filter(function(s){return s.attempts<i.config.flushMaxRetries?(s.attempts+=1,!0):(i.fulfillRequest([s],500,G$),!1)})},e.prototype.scheduleTryable=function(t,i){var s=this;i===void 0&&(i=!1),t.forEach(function(p){if(i&&(s.queue=s.queue.concat(p)),p.timeout===0){s.schedule(s.config.flushIntervalMillis);return}setTimeout(function(){p.timeout=0,s.schedule(0)},p.timeout)})},e.prototype.addToQueue=function(){for(var t=[],i=0;i<arguments.length;i++)t[i]=arguments[i];var s=this.getTryableList(t);this.scheduleTryable(s,!0),this.saveEvents()},e.prototype.schedule=function(t){var i=this;this.scheduled||this.config.offline||(this.scheduled=setTimeout(function(){i.flush(!0).then(function(){i.queue.length>0&&i.schedule(t)})},t))},e.prototype.flush=function(t){return t===void 0&&(t=!1),ne(this,void 0,void 0,function(){var i,s,p,E=this;return qt(this,function(n){switch(n.label){case 0:return this.config.offline?(this.config.loggerProvider.debug("Skipping flush while offline."),[2]):(i=[],s=[],this.queue.forEach(function(T){return T.timeout===0?i.push(T):s.push(T)}),this.scheduled&&(clearTimeout(this.scheduled),this.scheduled=null),p=rK(i,this.config.flushQueueSize),[4,p.reduce(function(T,r){return ne(E,void 0,void 0,function(){return qt(this,function(o){switch(o.label){case 0:return[4,T];case 1:return o.sent(),[4,this.send(r,t)];case 2:return[2,o.sent()]}})})},Promise.resolve())]);case 1:return n.sent(),this.scheduleTryable(s),[2]}})})},e.prototype.send=function(t,i){return i===void 0&&(i=!0),ne(this,void 0,void 0,function(){var s,p,E,n,T;return qt(this,function(r){switch(r.label){case 0:if(!this.config.apiKey)return[2,this.fulfillRequest(t,400,N$)];s={api_key:this.config.apiKey,events:t.map(function(o){var x=o.event;x.extra;var d=Db(x,["extra"]);return d}),options:{min_id_length:this.config.minIdLength},client_upload_time:new Date().toISOString(),request_metadata:this.config.requestMetadata},this.config.requestMetadata=new n5,r.label=1;case 1:return r.trys.push([1,3,,4]),p=r5(this.config.serverUrl,this.config.serverZone,this.config.useBatch).serverUrl,[4,this.config.transportProvider.send(p,s)];case 2:return E=r.sent(),E===null?(this.fulfillRequest(t,0,B$),[2]):i?(this.handleResponse(E,t),[3,4]):("body"in E?this.fulfillRequest(t,E.statusCode,"".concat(E.status,": ").concat(T0(E))):this.fulfillRequest(t,E.statusCode,E.status),[2]);case 3:return n=r.sent(),T=aK(n),this.config.loggerProvider.error(T),this.handleResponse({status:hr.Failed,statusCode:0},t),[3,4];case 4:return[2]}})})},e.prototype.handleResponse=function(t,i){var s=t.status;switch(s){case hr.Success:{this.handleSuccessResponse(t,i);break}case hr.Invalid:{this.handleInvalidResponse(t,i);break}case hr.PayloadTooLarge:{this.handlePayloadTooLargeResponse(t,i);break}case hr.RateLimit:{this.handleRateLimitResponse(t,i);break}default:{this.config.loggerProvider.warn(`{code: 0, error: "Status '`.concat(s,"' provided for ").concat(i.length,' events"}')),this.handleOtherResponse(i);break}}},e.prototype.handleSuccessResponse=function(t,i){this.fulfillRequest(i,t.statusCode,I$)},e.prototype.handleInvalidResponse=function(t,i){var s=this;if(t.body.missingField||t.body.error.startsWith(U$)){this.fulfillRequest(i,t.statusCode,t.body.error);return}var p=qr(qr(qr(qr([],wi(Object.values(t.body.eventsWithInvalidFields)),!1),wi(Object.values(t.body.eventsWithMissingFields)),!1),wi(Object.values(t.body.eventsWithInvalidIdLengths)),!1),wi(t.body.silencedEvents),!1).flat(),E=new Set(p),n=i.filter(function(r,o){if(E.has(o)){s.fulfillRequest([r],t.statusCode,t.body.error);return}return!0});n.length>0&&this.config.loggerProvider.warn(T0(t));var T=this.getTryableList(n);this.scheduleTryable(T)},e.prototype.handlePayloadTooLargeResponse=function(t,i){if(i.length===1){this.fulfillRequest(i,t.statusCode,t.body.error);return}this.config.loggerProvider.warn(T0(t)),this.config.flushQueueSize/=2;var s=this.getTryableList(i);this.scheduleTryable(s)},e.prototype.handleRateLimitResponse=function(t,i){var s=this,p=Object.keys(t.body.exceededDailyQuotaUsers),E=Object.keys(t.body.exceededDailyQuotaDevices),n=t.body.throttledEvents,T=new Set(p),r=new Set(E),o=new Set(n),x=i.filter(function(h,l){if(h.event.user_id&&T.has(h.event.user_id)||h.event.device_id&&r.has(h.event.device_id)){s.fulfillRequest([h],t.statusCode,t.body.error);return}return o.has(l)&&(h.timeout=s.throttleTimeout),!0});x.length>0&&this.config.loggerProvider.warn(T0(t));var d=this.getTryableList(x);this.scheduleTryable(d)},e.prototype.handleOtherResponse=function(t){var i=this,s=t.map(function(E){return E.timeout=E.attempts*i.retryTimeout,E}),p=this.getTryableList(s);this.scheduleTryable(p)},e.prototype.fulfillRequest=function(t,i,s){this.removeEvents(t),t.forEach(function(p){return p.callback(Ud(p.event,i,s))})},e.prototype.saveEvents=function(){if(this.config.storageProvider){var t=this.queue.map(function(i){return i.event});this.config.storageProvider.set(this.storageKey,t)}},e.prototype.removeEvents=function(t){this.queue=this.queue.filter(function(i){return!t.some(function(s){return s.event.insert_id===i.event.insert_id})}),this.saveEvents()},e}(),lK=function(e){var t=new Error().stack||"";return t.split(`
`).slice(2+e).map(function(i){return i.trim()})},Tr=function(e){return function(){var t=Te({},e.config),i=t.loggerProvider,s=t.logLevel;return{logger:i,logLevel:s}}},hK=function(e,t){var i,s;t=t.replace(/\[(\w+)\]/g,".$1"),t=t.replace(/^\./,"");try{for(var p=br(t.split(".")),E=p.next();!E.done;E=p.next()){var n=E.value;if(n in e)e=e[n];else return}}catch(T){i={error:T}}finally{try{E&&!E.done&&(s=p.return)&&s.call(p)}finally{if(i)throw i.error}}return e},Cr=function(e,t){return function(){var i,s,p={};try{for(var E=br(t),n=E.next();!n.done;n=E.next()){var T=n.value;p[T]=hK(e,T)}}catch(r){i={error:r}}finally{try{n&&!n.done&&(s=E.return)&&s.call(E)}finally{if(i)throw i.error}}return p}},Sr=function(e,t,i,s,p){return p===void 0&&(p=null),function(){for(var E=[],n=0;n<arguments.length;n++)E[n]=arguments[n];var T=i(),r=T.logger,o=T.logLevel;if(o&&o<Rs.Debug||!o||!r)return e.apply(p,E);var x={type:"invoke public method",name:t,args:E,stacktrace:lK(1),time:{start:new Date().toISOString()},states:{}};s&&x.states&&(x.states.before=s());var d=e.apply(p,E);return d&&d.promise?d.promise.then(function(){s&&x.states&&(x.states.after=s()),x.time&&(x.time.end=new Date().toISOString()),r.debug(JSON.stringify(x,null,2))}):(s&&x.states&&(x.states.after=s()),x.time&&(x.time.end=new Date().toISOString()),r.debug(JSON.stringify(x,null,2))),d}},cM=function(){function e(){this.memoryStorage=new Map}return e.prototype.isEnabled=function(){return ne(this,void 0,void 0,function(){return qt(this,function(t){return[2,!0]})})},e.prototype.get=function(t){return ne(this,void 0,void 0,function(){return qt(this,function(i){return[2,this.memoryStorage.get(t)]})})},e.prototype.getRaw=function(t){return ne(this,void 0,void 0,function(){var i;return qt(this,function(s){switch(s.label){case 0:return[4,this.get(t)];case 1:return i=s.sent(),[2,i?JSON.stringify(i):void 0]}})})},e.prototype.set=function(t,i){return ne(this,void 0,void 0,function(){return qt(this,function(s){return this.memoryStorage.set(t,i),[2]})})},e.prototype.remove=function(t){return ne(this,void 0,void 0,function(){return qt(this,function(i){return this.memoryStorage.delete(t),[2]})})},e.prototype.reset=function(){return ne(this,void 0,void 0,function(){return qt(this,function(t){return this.memoryStorage.clear(),[2]})})},e}(),xx=function(){function e(){}return e.prototype.send=function(t,i){return Promise.resolve(null)},e.prototype.buildResponse=function(t){var i,s,p,E,n,T,r,o,x,d,h,l,a,f,c,u,v,g,m,y,C,b;if(typeof t!="object")return null;var M=t.code||0,w=this.buildStatus(M);switch(w){case hr.Success:return{status:w,statusCode:M,body:{eventsIngested:(i=t.events_ingested)!==null&&i!==void 0?i:0,payloadSizeBytes:(s=t.payload_size_bytes)!==null&&s!==void 0?s:0,serverUploadTime:(p=t.server_upload_time)!==null&&p!==void 0?p:0}};case hr.Invalid:return{status:w,statusCode:M,body:{error:(E=t.error)!==null&&E!==void 0?E:"",missingField:(n=t.missing_field)!==null&&n!==void 0?n:"",eventsWithInvalidFields:(T=t.events_with_invalid_fields)!==null&&T!==void 0?T:{},eventsWithMissingFields:(r=t.events_with_missing_fields)!==null&&r!==void 0?r:{},eventsWithInvalidIdLengths:(o=t.events_with_invalid_id_lengths)!==null&&o!==void 0?o:{},epsThreshold:(x=t.eps_threshold)!==null&&x!==void 0?x:0,exceededDailyQuotaDevices:(d=t.exceeded_daily_quota_devices)!==null&&d!==void 0?d:{},silencedDevices:(h=t.silenced_devices)!==null&&h!==void 0?h:[],silencedEvents:(l=t.silenced_events)!==null&&l!==void 0?l:[],throttledDevices:(a=t.throttled_devices)!==null&&a!==void 0?a:{},throttledEvents:(f=t.throttled_events)!==null&&f!==void 0?f:[]}};case hr.PayloadTooLarge:return{status:w,statusCode:M,body:{error:(c=t.error)!==null&&c!==void 0?c:""}};case hr.RateLimit:return{status:w,statusCode:M,body:{error:(u=t.error)!==null&&u!==void 0?u:"",epsThreshold:(v=t.eps_threshold)!==null&&v!==void 0?v:0,throttledDevices:(g=t.throttled_devices)!==null&&g!==void 0?g:{},throttledUsers:(m=t.throttled_users)!==null&&m!==void 0?m:{},exceededDailyQuotaDevices:(y=t.exceeded_daily_quota_devices)!==null&&y!==void 0?y:{},exceededDailyQuotaUsers:(C=t.exceeded_daily_quota_users)!==null&&C!==void 0?C:{},throttledEvents:(b=t.throttled_events)!==null&&b!==void 0?b:[]}};case hr.Timeout:default:return{status:w,statusCode:M}}},e.prototype.buildStatus=function(t){return t>=200&&t<300?hr.Success:t===429?hr.RateLimit:t===413?hr.PayloadTooLarge:t===408?hr.Timeout:t>=400&&t<500?hr.Invalid:t>=500?hr.Failed:hr.Unknown},e}(),ka=function(){var e="ampIntegrationContext";if(typeof globalThis<"u"&&typeof globalThis[e]<"u")return globalThis[e];if(typeof globalThis<"u")return globalThis;if(typeof window<"u")return window;if(typeof self<"u")return self;if(typeof global<"u")return global},_y=function(){var e,t=ka();if(!(!((e=t==null?void 0:t.location)===null||e===void 0)&&e.search))return{};var i=t.location.search.substring(1).split("&").filter(Boolean),s=i.reduce(function(p,E){var n=E.split("=",2),T=UD(n[0]),r=UD(n[1]);return r&&(p[T]=r),p},{});return s},UD=function(e){e===void 0&&(e="");try{return decodeURIComponent(e)}catch{return""}},uK="utm_campaign",fK="utm_content",dK="utm_id",cK="utm_medium",vK="utm_source",pK="utm_term",VD="dclid",zD="fbclid",WD="gbraid",YD="gclid",XD="ko_click_id",HD="li_fat_id",$D="msclkid",KD="rtd_cid",ZD="ttclid",JD="twclid",jD="wbraid",Tx={utm_campaign:void 0,utm_content:void 0,utm_id:void 0,utm_medium:void 0,utm_source:void 0,utm_term:void 0,referrer:void 0,referring_domain:void 0,dclid:void 0,gbraid:void 0,gclid:void 0,fbclid:void 0,ko_click_id:void 0,li_fat_id:void 0,msclkid:void 0,rtd_cid:void 0,ttclid:void 0,twclid:void 0,wbraid:void 0},s5=function(){function e(){}return e.prototype.parse=function(){return ne(this,void 0,void 0,function(){return qt(this,function(t){return[2,Te(Te(Te(Te({},Tx),this.getUtmParam()),this.getReferrer()),this.getClickIds())]})})},e.prototype.getUtmParam=function(){var t=_y(),i=t[uK],s=t[fK],p=t[dK],E=t[cK],n=t[vK],T=t[pK];return{utm_campaign:i,utm_content:s,utm_id:p,utm_medium:E,utm_source:n,utm_term:T}},e.prototype.getReferrer=function(){var t,i,s={referrer:void 0,referring_domain:void 0};try{s.referrer=document.referrer||void 0,s.referring_domain=(i=(t=s.referrer)===null||t===void 0?void 0:t.split("/")[2])!==null&&i!==void 0?i:void 0}catch{}return s},e.prototype.getClickIds=function(){var t,i=_y();return t={},t[VD]=i[VD],t[zD]=i[zD],t[WD]=i[WD],t[YD]=i[YD],t[XD]=i[XD],t[HD]=i[HD],t[$D]=i[$D],t[KD]=i[KD],t[ZD]=i[ZD],t[JD]=i[JD],t[jD]=i[jD],t},e}(),a5=function(e,t,i){return t===void 0&&(t=""),i===void 0&&(i=10),[yx,t,e.substring(0,i)].filter(Boolean).join("_")},gK=function(e){return"".concat(yx.toLowerCase(),"_").concat(e.substring(0,6))},QD=function(e){var t=e.split(".");return t.length<=2?e:t.slice(t.length-2,t.length).join(".")},mK=function(e){return Object.values(e).every(function(t){return!t})},yK=function(e,t,i,s,p){p===void 0&&(p=!0),e.referrer;var E=e.referring_domain,n=Db(e,["referrer","referring_domain"]),T=t||{};T.referrer;var r=T.referring_domain,o=Db(T,["referrer","referring_domain"]);if(xK(i.excludeReferrers,e.referring_domain))return s.debug("This is not a new campaign because ".concat(e.referring_domain," is in the exclude referrer list.")),!1;if(!p&&mK(e)&&t)return s.debug("This is not a new campaign because this is a direct traffic in the same session."),!1;var x=JSON.stringify(n)!==JSON.stringify(o),d=QD(E||"")!==QD(r||""),h=!t||x||d;return h?s.debug("This is a new campaign. An $identify event will be sent."):s.debug("This is not a new campaign because it's the same as the previous one."),h},xK=function(e,t){return e===void 0&&(e=[]),t===void 0&&(t=""),e.some(function(i){return i instanceof RegExp?i.test(t):i===t})},TK=function(e,t){var i=Te(Te({},Tx),e),s=Object.entries(i).reduce(function(p,E){var n,T=wi(E,2),r=T[0],o=T[1];return p.setOnce("initial_".concat(r),(n=o??t.initialEmptyValue)!==null&&n!==void 0?n:"EMPTY"),o?p.set(r,o):p.unset(r)},new Sp);return e5(s)},CK=function(e){var t=e;return t?(t.startsWith(".")&&(t=t.substring(1)),[new RegExp("".concat(t.replace(".","\\."),"$"))]):[]},SK=function(e,t,i){return i===void 0&&(i=10),[yx,t,e.substring(0,i)].filter(Boolean).join("_")},o5=function(e,t){t===void 0&&(t=Date.now());var i=Date.now(),s=i-t;return s>e},EK=function(){function e(t,i){var s;this.shouldTrackNewCampaign=!1,this.options=Te({initialEmptyValue:"EMPTY",resetSessionOnNewCampaign:!1,excludeReferrers:CK((s=i.cookieOptions)===null||s===void 0?void 0:s.domain)},t),this.storage=i.cookieStorage,this.storageKey=SK(i.apiKey,"MKTG"),this.currentCampaign=Tx,this.sessionTimeout=i.sessionTimeout,this.lastEventTime=i.lastEventTime,this.logger=i.loggerProvider,i.loggerProvider.log("Installing web attribution tracking.")}return e.prototype.init=function(){return ne(this,void 0,void 0,function(){var t,i;return qt(this,function(s){switch(s.label){case 0:return[4,this.fetchCampaign()];case 1:return i=wi.apply(void 0,[s.sent(),2]),this.currentCampaign=i[0],this.previousCampaign=i[1],t=this.lastEventTime?o5(this.sessionTimeout,this.lastEventTime):!0,yK(this.currentCampaign,this.previousCampaign,this.options,this.logger,t)?(this.shouldTrackNewCampaign=!0,[4,this.storage.set(this.storageKey,this.currentCampaign)]):[3,3];case 2:s.sent(),s.label=3;case 3:return[2]}})})},e.prototype.fetchCampaign=function(){return ne(this,void 0,void 0,function(){return qt(this,function(t){switch(t.label){case 0:return[4,Promise.all([new s5().parse(),this.storage.get(this.storageKey)])];case 1:return[2,t.sent()]}})})},e.prototype.generateCampaignEvent=function(t){this.shouldTrackNewCampaign=!1;var i=TK(this.currentCampaign,this.options);return t&&(i.event_id=t),i},e.prototype.shouldSetSessionIdOnNewCampaign=function(){return this.shouldTrackNewCampaign&&!!this.options.resetSessionOnNewCampaign},e}(),Ib=function(){function e(t){this.options=Te({},t)}return e.prototype.isEnabled=function(){return ne(this,void 0,void 0,function(){var t,i,s;return qt(this,function(p){switch(p.label){case 0:if(!ka())return[2,!1];e.testValue=String(Date.now()),t=new e(this.options),i="AMP_TEST",p.label=1;case 1:return p.trys.push([1,4,5,7]),[4,t.set(i,e.testValue)];case 2:return p.sent(),[4,t.get(i)];case 3:return s=p.sent(),[2,s===e.testValue];case 4:return p.sent(),[2,!1];case 5:return[4,t.remove(i)];case 6:return p.sent(),[7];case 7:return[2]}})})},e.prototype.get=function(t){var i;return ne(this,void 0,void 0,function(){var s,p;return qt(this,function(E){switch(E.label){case 0:return[4,this.getRaw(t)];case 1:if(s=E.sent(),!s)return[2,void 0];try{return p=(i=PK(s))!==null&&i!==void 0?i:bK(s),p===void 0?(console.error("Amplitude Logger [Error]: Failed to decode cookie value for key: ".concat(t,", value: ").concat(s)),[2,void 0]):[2,JSON.parse(p)]}catch{return console.error("Amplitude Logger [Error]: Failed to parse cookie value for key: ".concat(t,", value: ").concat(s)),[2,void 0]}return[2]}})})},e.prototype.getRaw=function(t){var i,s;return ne(this,void 0,void 0,function(){var p,E,n;return qt(this,function(T){return p=ka(),E=(s=(i=p==null?void 0:p.document)===null||i===void 0?void 0:i.cookie.split("; "))!==null&&s!==void 0?s:[],n=E.find(function(r){return r.indexOf(t+"=")===0}),n?[2,n.substring(t.length+1)]:[2,void 0]})})},e.prototype.set=function(t,i){var s;return ne(this,void 0,void 0,function(){var p,E,n,T,r,o,x;return qt(this,function(d){try{p=(s=this.options.expirationDays)!==null&&s!==void 0?s:0,E=i!==null?p:-1,n=void 0,E&&(T=new Date,T.setTime(T.getTime()+E*24*60*60*1e3),n=T),r="".concat(t,"=").concat(btoa(encodeURIComponent(JSON.stringify(i)))),n&&(r+="; expires=".concat(n.toUTCString())),r+="; path=/",this.options.domain&&(r+="; domain=".concat(this.options.domain)),this.options.secure&&(r+="; Secure"),this.options.sameSite&&(r+="; SameSite=".concat(this.options.sameSite)),o=ka(),o&&(o.document.cookie=r)}catch(h){x=h instanceof Error?h.message:String(h),console.error("Amplitude Logger [Error]: Failed to set cookie for key: ".concat(t,". Error: ").concat(x))}return[2]})})},e.prototype.remove=function(t){return ne(this,void 0,void 0,function(){return qt(this,function(i){switch(i.label){case 0:return[4,this.set(t,null)];case 1:return i.sent(),[2]}})})},e.prototype.reset=function(){return ne(this,void 0,void 0,function(){return qt(this,function(t){return[2]})})},e}(),PK=function(e){try{return decodeURIComponent(atob(e))}catch{return}},bK=function(e){try{return decodeURIComponent(atob(decodeURIComponent(e)))}catch{return}},MK=function(e){Ds(t,e);function t(){return e!==null&&e.apply(this,arguments)||this}return t.prototype.send=function(i,s){return ne(this,void 0,void 0,function(){var p,E,n;return qt(this,function(T){switch(T.label){case 0:if(typeof fetch>"u")throw new Error("FetchTransport is not supported");return p={headers:{"Content-Type":"application/json",Accept:"*/*"},body:JSON.stringify(s),method:"POST"},[4,fetch(i,p)];case 1:return E=T.sent(),[4,E.text()];case 2:n=T.sent();try{return[2,this.buildResponse(JSON.parse(n))]}catch{return[2,this.buildResponse({code:E.status})]}return[2]}})})},t}(xx),wK=function(){function e(){}return e.prototype.getApplicationContext=function(){return{versionName:this.versionName,language:RK(),platform:"Web",os:void 0,deviceModel:void 0}},e}(),RK=function(){return typeof navigator<"u"&&(navigator.languages&&navigator.languages[0]||navigator.language)||""},AK=function(){function e(){this.queue=[]}return e.prototype.logEvent=function(t){this.receiver?this.receiver(t):this.queue.length<512&&this.queue.push(t)},e.prototype.setEventReceiver=function(t){this.receiver=t,this.queue.length>0&&(this.queue.forEach(function(i){t(i)}),this.queue=[])},e}(),ch=function(){return ch=Object.assign||function(t){for(var i,s=1,p=arguments.length;s<p;s++){i=arguments[s];for(var E in i)Object.prototype.hasOwnProperty.call(i,E)&&(t[E]=i[E])}return t},ch.apply(this,arguments)};function Vy(e){var t=typeof Symbol=="function"&&Symbol.iterator,i=t&&e[t],s=0;if(i)return i.call(e);if(e&&typeof e.length=="number")return{next:function(){return e&&s>=e.length&&(e=void 0),{value:e&&e[s++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function qD(e,t){var i=typeof Symbol=="function"&&e[Symbol.iterator];if(!i)return e;var s=i.call(e),p,E=[],n;try{for(;(t===void 0||t-- >0)&&!(p=s.next()).done;)E.push(p.value)}catch(T){n={error:T}}finally{try{p&&!p.done&&(i=s.return)&&i.call(s)}finally{if(n)throw n.error}}return E}var zy=function(e,t){var i,s,p=["string","number","boolean","undefined"],E=typeof e,n=typeof t;if(E!==n)return!1;try{for(var T=Vy(p),r=T.next();!r.done;r=T.next()){var o=r.value;if(o===E)return e===t}}catch(c){i={error:c}}finally{try{r&&!r.done&&(s=T.return)&&s.call(T)}finally{if(i)throw i.error}}if(e==null&&t==null)return!0;if(e==null||t==null||e.length!==t.length)return!1;var x=Array.isArray(e),d=Array.isArray(t);if(x!==d)return!1;if(x&&d){for(var h=0;h<e.length;h++)if(!zy(e[h],t[h]))return!1}else{var l=Object.keys(e).sort(),a=Object.keys(t).sort();if(!zy(l,a))return!1;var f=!0;return Object.keys(e).forEach(function(c){zy(e[c],t[c])||(f=!1)}),f}return!0},OK="$set",LK="$unset",DK="$clearAll";Object.entries||(Object.entries=function(e){for(var t=Object.keys(e),i=t.length,s=new Array(i);i--;)s[i]=[t[i],e[t[i]]];return s});var FK=function(){function e(){this.identity={userProperties:{}},this.listeners=new Set}return e.prototype.editIdentity=function(){var t=this,i=ch({},this.identity.userProperties),s=ch(ch({},this.identity),{userProperties:i});return{setUserId:function(p){return s.userId=p,this},setDeviceId:function(p){return s.deviceId=p,this},setUserProperties:function(p){return s.userProperties=p,this},setOptOut:function(p){return s.optOut=p,this},updateUserProperties:function(p){var E,n,T,r,o,x,d=s.userProperties||{};try{for(var h=Vy(Object.entries(p)),l=h.next();!l.done;l=h.next()){var a=qD(l.value,2),f=a[0],c=a[1];switch(f){case OK:try{for(var u=(T=void 0,Vy(Object.entries(c))),v=u.next();!v.done;v=u.next()){var g=qD(v.value,2),m=g[0],y=g[1];d[m]=y}}catch(M){T={error:M}}finally{try{v&&!v.done&&(r=u.return)&&r.call(u)}finally{if(T)throw T.error}}break;case LK:try{for(var C=(o=void 0,Vy(Object.keys(c))),b=C.next();!b.done;b=C.next()){var m=b.value;delete d[m]}}catch(M){o={error:M}}finally{try{b&&!b.done&&(x=C.return)&&x.call(C)}finally{if(o)throw o.error}}break;case DK:d={};break}}}catch(M){E={error:M}}finally{try{l&&!l.done&&(n=h.return)&&n.call(h)}finally{if(E)throw E.error}}return s.userProperties=d,this},commit:function(){return t.setIdentity(s),this}}},e.prototype.getIdentity=function(){return ch({},this.identity)},e.prototype.setIdentity=function(t){var i=ch({},this.identity);this.identity=ch({},t),zy(i,this.identity)||this.listeners.forEach(function(s){s(t)})},e.prototype.addIdentityListener=function(t){this.listeners.add(t)},e.prototype.removeIdentityListener=function(t){this.listeners.delete(t)},e}(),Uv=typeof globalThis<"u"?globalThis:typeof global<"u"?global:self,IK=function(){function e(){this.identityStore=new FK,this.eventBridge=new AK,this.applicationContextProvider=new wK}return e.getInstance=function(t){return Uv.analyticsConnectorInstances||(Uv.analyticsConnectorInstances={}),Uv.analyticsConnectorInstances[t]||(Uv.analyticsConnectorInstances[t]=new e),Uv.analyticsConnectorInstances[t]},e}(),Ep=function(e){return e===void 0&&(e="$default_instance"),IK.getInstance(e)},BK=function(e,t){Ep(t).identityStore.editIdentity().setUserId(e).commit()},GK=function(e,t){Ep(t).identityStore.editIdentity().setDeviceId(e).commit()},kK=function(){function e(){this.name="identity",this.type="before",this.identityStore=Ep().identityStore}return e.prototype.execute=function(t){return ne(this,void 0,void 0,function(){var i;return qt(this,function(s){return i=t.user_properties,i&&this.identityStore.editIdentity().updateUserProperties(i).commit(),[2,t]})})},e.prototype.setup=function(t){return ne(this,void 0,void 0,function(){return qt(this,function(i){return t.instanceName&&(this.identityStore=Ep(t.instanceName).identityStore),[2]})})},e}(),NK=function(){var e,t,i,s;if(typeof navigator>"u")return"";var p=navigator.userLanguage;return(s=(i=(t=(e=navigator.languages)===null||e===void 0?void 0:e[0])!==null&&t!==void 0?t:navigator.language)!==null&&i!==void 0?i:p)!==null&&s!==void 0?s:""},Bp=function(e,t){return typeof e=="boolean"?e:(e==null?void 0:e[t])!==!1},l5=function(e){return Bp(e,"attribution")},UK=function(e){return Bp(e,"fileDownloads")},VK=function(e){return Bp(e,"formInteractions")},h5=function(e){return Bp(e,"pageViews")},_D=function(e){return Bp(e,"sessions")},u5=function(e){return typeof e=="boolean"?e:typeof e=="object"&&(e.elementInteractions===!0||typeof e.elementInteractions=="object")},zK=function(e){if(u5(e.autocapture)&&typeof e.autocapture=="object"&&typeof e.autocapture.elementInteractions=="object")return e.autocapture.elementInteractions},WK=function(e){var t=function(){return!1},i=void 0,s,p=e.pageCounter,E=h5(e.defaultTracking);return E&&(t=void 0,s=void 0,e.defaultTracking&&typeof e.defaultTracking=="object"&&e.defaultTracking.pageViews&&typeof e.defaultTracking.pageViews=="object"&&("trackOn"in e.defaultTracking.pageViews&&(t=e.defaultTracking.pageViews.trackOn),"trackHistoryChanges"in e.defaultTracking.pageViews&&(i=e.defaultTracking.pageViews.trackHistoryChanges),"eventType"in e.defaultTracking.pageViews&&e.defaultTracking.pageViews.eventType&&(s=e.defaultTracking.pageViews.eventType))),{trackOn:t,trackHistoryChanges:i,eventType:s,pageCounter:p}},YK=function(e){return l5(e.defaultTracking)&&e.defaultTracking&&typeof e.defaultTracking=="object"&&e.defaultTracking.attribution&&typeof e.defaultTracking.attribution=="object"?Te({},e.defaultTracking.attribution):{}},FE=function(e,t){for(var i=0;i<t.length;i++){var s=t[i],p=s.name,E=s.args,n=s.resolve,T=e&&e[p];if(typeof T=="function"){var r=T.apply(e,E);typeof n=="function"&&n(r==null?void 0:r.promise)}}return e},IE=function(e){var t=e;return t&&t._q!==void 0},XK="2.11.12",HK="amplitude-ts",$K="Web",KK="$remote",ZK=function(){function e(){this.name="@amplitude/plugin-context-browser",this.type="before",this.library="".concat(HK,"/").concat(XK),typeof navigator<"u"&&(this.userAgent=navigator.userAgent)}return e.prototype.setup=function(t){return this.config=t,Promise.resolve(void 0)},e.prototype.execute=function(t){var i,s;return ne(this,void 0,void 0,function(){var p,E,n,T;return qt(this,function(r){return p=new Date().getTime(),E=(i=this.config.lastEventId)!==null&&i!==void 0?i:-1,n=(s=t.event_id)!==null&&s!==void 0?s:E+1,this.config.lastEventId=n,t.time||(this.config.lastEventTime=p),T=Te(Te(Te(Te(Te(Te(Te(Te({user_id:this.config.userId,device_id:this.config.deviceId,session_id:this.config.sessionId,time:p},this.config.appVersion&&{app_version:this.config.appVersion}),this.config.trackingOptions.platform&&{platform:$K}),this.config.trackingOptions.language&&{language:NK()}),this.config.trackingOptions.ipAddress&&{ip:KK}),{insert_id:jd(),partner_id:this.config.partnerId,plan:this.config.plan}),this.config.ingestionMetadata&&{ingestion_metadata:{source_name:this.config.ingestionMetadata.sourceName,source_version:this.config.ingestionMetadata.sourceVersion}}),t),{event_id:n,library:this.library,user_agent:this.userAgent}),[2,T]})})},e}(),f5=function(){function e(t){this.storage=t}return e.prototype.isEnabled=function(){return ne(this,void 0,void 0,function(){var t,i,s,p;return qt(this,function(E){switch(E.label){case 0:if(!this.storage)return[2,!1];t=String(Date.now()),i=new e(this.storage),s="AMP_TEST",E.label=1;case 1:return E.trys.push([1,4,5,7]),[4,i.set(s,t)];case 2:return E.sent(),[4,i.get(s)];case 3:return p=E.sent(),[2,p===t];case 4:return E.sent(),[2,!1];case 5:return[4,i.remove(s)];case 6:return E.sent(),[7];case 7:return[2]}})})},e.prototype.get=function(t){return ne(this,void 0,void 0,function(){var i;return qt(this,function(s){switch(s.label){case 0:return s.trys.push([0,2,,3]),[4,this.getRaw(t)];case 1:return i=s.sent(),i?[2,JSON.parse(i)]:[2,void 0];case 2:return s.sent(),console.error("[Amplitude] Error: Could not get value from storage"),[2,void 0];case 3:return[2]}})})},e.prototype.getRaw=function(t){var i;return ne(this,void 0,void 0,function(){return qt(this,function(s){return[2,((i=this.storage)===null||i===void 0?void 0:i.getItem(t))||void 0]})})},e.prototype.set=function(t,i){var s;return ne(this,void 0,void 0,function(){return qt(this,function(p){try{(s=this.storage)===null||s===void 0||s.setItem(t,JSON.stringify(i))}catch{}return[2]})})},e.prototype.remove=function(t){var i;return ne(this,void 0,void 0,function(){return qt(this,function(s){try{(i=this.storage)===null||i===void 0||i.removeItem(t)}catch{}return[2]})})},e.prototype.reset=function(){var t;return ne(this,void 0,void 0,function(){return qt(this,function(i){try{(t=this.storage)===null||t===void 0||t.clear()}catch{}return[2]})})},e}(),C0=1e3,d5=function(e){Ds(t,e);function t(i){var s=this,p;return s=e.call(this,(p=ka())===null||p===void 0?void 0:p.localStorage)||this,s.loggerProvider=i==null?void 0:i.loggerProvider,s}return t.prototype.set=function(i,s){var p;return ne(this,void 0,void 0,function(){var E;return qt(this,function(n){switch(n.label){case 0:return Array.isArray(s)&&s.length>C0?(E=s.length-C0,[4,e.prototype.set.call(this,i,s.slice(0,C0))]):[3,2];case 1:return n.sent(),(p=this.loggerProvider)===null||p===void 0||p.error("Failed to save ".concat(E," events because the queue length exceeded ").concat(C0,".")),[3,4];case 2:return[4,e.prototype.set.call(this,i,s)];case 3:n.sent(),n.label=4;case 4:return[2]}})})},t}(f5),JK=function(e){Ds(t,e);function t(){var i;return e.call(this,(i=ka())===null||i===void 0?void 0:i.sessionStorage)||this}return t}(f5),jK=function(e){Ds(t,e);function t(){var i=e!==null&&e.apply(this,arguments)||this;return i.state={done:4},i}return t.prototype.send=function(i,s){return ne(this,void 0,void 0,function(){var p=this;return qt(this,function(E){return[2,new Promise(function(n,T){typeof XMLHttpRequest>"u"&&T(new Error("XHRTransport is not supported."));var r=new XMLHttpRequest;r.open("POST",i,!0),r.onreadystatechange=function(){if(r.readyState===p.state.done){var o=r.responseText;try{n(p.buildResponse(JSON.parse(o)))}catch{n(p.buildResponse({code:r.status}))}}},r.setRequestHeader("Content-Type","application/json"),r.setRequestHeader("Accept","*/*"),r.send(JSON.stringify(s))})]})})},t}(xx),QK=function(e){Ds(t,e);function t(){return e!==null&&e.apply(this,arguments)||this}return t.prototype.send=function(i,s){return ne(this,void 0,void 0,function(){var p=this;return qt(this,function(E){return[2,new Promise(function(n,T){var r=ka();if(!(r!=null&&r.navigator.sendBeacon))throw new Error("SendBeaconTransport is not supported");try{var o=JSON.stringify(s),x=r.navigator.sendBeacon(i,JSON.stringify(s));return n(x?p.buildResponse({code:200,events_ingested:s.events.length,payload_size_bytes:o.length,server_upload_time:Date.now()}):p.buildResponse({code:500}))}catch(d){T(d)}})]})})},t}(xx),qK=function(e,t,i){return i===void 0&&(i=!0),ne(void 0,void 0,void 0,function(){var s,p,E,n,T,r,o,x,d;return qt(this,function(h){switch(h.label){case 0:return s=gK(e),[4,t.getRaw(s)];case 1:return p=h.sent(),p?i?[4,t.remove(s)]:[3,3]:[2,{optOut:!1}];case 2:h.sent(),h.label=3;case 3:return E=wi(p.split("."),6),n=E[0],T=E[1],r=E[2],o=E[3],x=E[4],d=E[5],[2,{deviceId:n,userId:_K(T),sessionId:BE(o),lastEventId:BE(d),lastEventTime:BE(x),optOut:!!r}]}})})},BE=function(e){var t=parseInt(e,32);if(!isNaN(t))return t},_K=function(e){if(!(!atob||!escape||!e))try{return decodeURIComponent(escape(atob(e)))}catch{return}},Wa="[Amplitude]",tF="".concat(Wa," Form Started"),tZ="".concat(Wa," Form Submitted"),eZ="".concat(Wa," File Downloaded"),eF="session_start",iF="session_end",iZ="".concat(Wa," File Extension"),rZ="".concat(Wa," File Name"),nZ="".concat(Wa," Link ID"),sZ="".concat(Wa," Link Text"),aZ="".concat(Wa," Link URL"),GE="".concat(Wa," Form ID"),kE="".concat(Wa," Form Name"),NE="".concat(Wa," Form Destination"),tx="cookie",oZ="US",lZ=function(e){Ds(t,e);function t(i,s,p,E,n,T,r,o,x,d,h,l,a,f,c,u,v,g,m,y,C,b,M,w,R,A,L,F,G,I,B,k,U,H){p===void 0&&(p=new cM),E===void 0&&(E={domain:"",expiration:365,sameSite:"Lax",secure:!1,upgrade:!0}),o===void 0&&(o=1e3),x===void 0&&(x=5),d===void 0&&(d=30),h===void 0&&(h=tx),u===void 0&&(u=new i5),v===void 0&&(v=Rs.Warn),m===void 0&&(m=!1),y===void 0&&(y=!1),M===void 0&&(M=""),w===void 0&&(w=oZ),A===void 0&&(A=30*60*1e3),L===void 0&&(L=new d5({loggerProvider:u})),F===void 0&&(F={ipAddress:!0,language:!0,platform:!0}),G===void 0&&(G="fetch"),I===void 0&&(I=!1),B===void 0&&(B=!1);var X=e.call(this,{apiKey:i,storageProvider:L,transportProvider:c5(G)})||this;return X.apiKey=i,X.appVersion=s,X.cookieOptions=E,X.defaultTracking=n,X.autocapture=T,X.flushIntervalMillis=o,X.flushMaxRetries=x,X.flushQueueSize=d,X.identityStorage=h,X.ingestionMetadata=l,X.instanceName=a,X.loggerProvider=u,X.logLevel=v,X.minIdLength=g,X.offline=m,X.partnerId=C,X.plan=b,X.serverUrl=M,X.serverZone=w,X.sessionTimeout=A,X.storageProvider=L,X.trackingOptions=F,X.transport=G,X.useBatch=I,X.fetchRemoteConfig=B,X._optOut=!1,X._cookieStorage=p,X.deviceId=r,X.lastEventId=f,X.lastEventTime=c,X.optOut=y,X.sessionId=R,X.pageCounter=U,X.userId=k,X.debugLogsEnabled=H,X.loggerProvider.enable(H?Rs.Debug:X.logLevel),X}return Object.defineProperty(t.prototype,"cookieStorage",{get:function(){return this._cookieStorage},set:function(i){this._cookieStorage!==i&&(this._cookieStorage=i,this.updateStorage())},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"deviceId",{get:function(){return this._deviceId},set:function(i){this._deviceId!==i&&(this._deviceId=i,this.updateStorage())},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"userId",{get:function(){return this._userId},set:function(i){this._userId!==i&&(this._userId=i,this.updateStorage())},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"sessionId",{get:function(){return this._sessionId},set:function(i){this._sessionId!==i&&(this._sessionId=i,this.updateStorage())},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"optOut",{get:function(){return this._optOut},set:function(i){this._optOut!==i&&(this._optOut=i,this.updateStorage())},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"lastEventTime",{get:function(){return this._lastEventTime},set:function(i){this._lastEventTime!==i&&(this._lastEventTime=i,this.updateStorage())},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"lastEventId",{get:function(){return this._lastEventId},set:function(i){this._lastEventId!==i&&(this._lastEventId=i,this.updateStorage())},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"pageCounter",{get:function(){return this._pageCounter},set:function(i){this._pageCounter!==i&&(this._pageCounter=i,this.updateStorage())},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"debugLogsEnabled",{set:function(i){this._debugLogsEnabled!==i&&(this._debugLogsEnabled=i,this.updateStorage())},enumerable:!1,configurable:!0}),t.prototype.updateStorage=function(){var i={deviceId:this._deviceId,userId:this._userId,sessionId:this._sessionId,optOut:this._optOut,lastEventTime:this._lastEventTime,lastEventId:this._lastEventId,pageCounter:this._pageCounter,debugLogsEnabled:this._debugLogsEnabled};this.cookieStorage.set(a5(this.apiKey),i)},t}(nK),hZ=function(e,t,i){return t===void 0&&(t={}),ne(void 0,void 0,void 0,function(){var s,p,E,n,T,r,o,x,d,h,l,a,f,c,u,v,g,m,y,C,b,M,w,R,A,L,F,G,I,B,k,U,H,X,j,J,Y,$,z,V,K,Q,_;return qt(this,function(tt){switch(tt.label){case 0:return s=t.identityStorage||tx,y={},s===tx?[3,1]:(E="",[3,5]);case 1:return(b=(C=t.cookieOptions)===null||C===void 0?void 0:C.domain)!==null&&b!==void 0?(n=b,[3,4]):[3,2];case 2:return[4,fZ()];case 3:n=tt.sent(),tt.label=4;case 4:E=n,tt.label=5;case 5:return p=Te.apply(void 0,[(y.domain=E,y.expiration=365,y.sameSite="Lax",y.secure=!1,y.upgrade=!0,y),t.cookieOptions]),T=uZ(t.identityStorage,p),[4,qK(e,T,(w=(M=t.cookieOptions)===null||M===void 0?void 0:M.upgrade)!==null&&w!==void 0?w:!0)];case 6:return r=tt.sent(),[4,T.get(a5(e))];case 7:return o=tt.sent(),x=_y(),d=(G=(F=(L=(A=(R=t.deviceId)!==null&&R!==void 0?R:x.ampDeviceId)!==null&&A!==void 0?A:x.deviceId)!==null&&L!==void 0?L:o==null?void 0:o.deviceId)!==null&&F!==void 0?F:r.deviceId)!==null&&G!==void 0?G:jd(),h=(I=o==null?void 0:o.lastEventId)!==null&&I!==void 0?I:r.lastEventId,l=(B=o==null?void 0:o.lastEventTime)!==null&&B!==void 0?B:r.lastEventTime,a=(U=(k=t.optOut)!==null&&k!==void 0?k:o==null?void 0:o.optOut)!==null&&U!==void 0?U:r.optOut,f=(H=o==null?void 0:o.sessionId)!==null&&H!==void 0?H:r.sessionId,c=(j=(X=t.userId)!==null&&X!==void 0?X:o==null?void 0:o.userId)!==null&&j!==void 0?j:r.userId,i.previousSessionDeviceId=(J=o==null?void 0:o.deviceId)!==null&&J!==void 0?J:r.deviceId,i.previousSessionUserId=(Y=o==null?void 0:o.userId)!==null&&Y!==void 0?Y:r.userId,u={ipAddress:(z=($=t.trackingOptions)===null||$===void 0?void 0:$.ipAddress)!==null&&z!==void 0?z:!0,language:(K=(V=t.trackingOptions)===null||V===void 0?void 0:V.language)!==null&&K!==void 0?K:!0,platform:(_=(Q=t.trackingOptions)===null||Q===void 0?void 0:Q.platform)!==null&&_!==void 0?_:!0},v=o==null?void 0:o.pageCounter,g=o==null?void 0:o.debugLogsEnabled,t.autocapture!==void 0&&(t.defaultTracking=t.autocapture),m=new lZ(e,t.appVersion,T,p,t.defaultTracking,t.autocapture,d,t.flushIntervalMillis,t.flushMaxRetries,t.flushQueueSize,s,t.ingestionMetadata,t.instanceName,h,l,t.loggerProvider,t.logLevel,t.minIdLength,t.offline,a,t.partnerId,t.plan,t.serverUrl,t.serverZone,f,t.sessionTimeout,t.storageProvider,u,t.transport,t.useBatch,t.fetchRemoteConfig,c,v,g),[4,m.storageProvider.isEnabled()];case 8:return tt.sent()||(m.loggerProvider.warn("Storage provider ".concat(m.storageProvider.constructor.name," is not enabled. Falling back to MemoryStorage.")),m.storageProvider=new cM),[2,m]}})})},uZ=function(e,t){switch(e===void 0&&(e=tx),t===void 0&&(t={}),e){case"localStorage":return new d5;case"sessionStorage":return new JK;case"none":return new cM;case"cookie":default:return new Ib(Te(Te({},t),{expirationDays:t.expiration}))}},c5=function(e){return e==="xhr"?new jK:e==="beacon"?new QK:new MK},fZ=function(e){return ne(void 0,void 0,void 0,function(){var t,i,s,p,E,E,n,T,r,o;return qt(this,function(x){switch(x.label){case 0:return[4,new Ib().isEnabled()];case 1:if(!x.sent()||typeof location>"u"||!location.hostname)return[2,""];for(t=location.hostname,i=t.split("."),s=[],p="AMP_TLDTEST",E=i.length-2;E>=0;--E)s.push(i.slice(E).join("."));E=0,x.label=2;case 2:return E<s.length?(n=s[E],T={domain:"."+n},r=new Ib(T),[4,r.set(p,1)]):[3,7];case 3:return x.sent(),[4,r.get(p)];case 4:return o=x.sent(),o?[4,r.remove(p)]:[3,6];case 5:return x.sent(),[2,"."+n];case 6:return E++,[3,2];case 7:return[2,""]}})})},dZ=function(e){var t={};for(var i in e){var s=e[i];s&&(t[i]=s)}return t},cZ="[Amplitude] Page Viewed",vZ=function(e){e===void 0&&(e={});var t,i=ka(),s=void 0,p,E,n=e.trackOn,T=e.trackHistoryChanges,r=e.eventType,o=r===void 0?cZ:r,x=function(u){var v=u;try{v=decodeURI(u)}catch(g){s==null||s.error("Malformed URI sequence: ",g)}return v},d=function(){return ne(void 0,void 0,void 0,function(){var u,v,g;return qt(this,function(m){switch(m.label){case 0:return u=x(typeof location<"u"&&location.href||""),g={event_type:o},v=[{}],[4,pZ()];case 1:return[2,(g.event_properties=Te.apply(void 0,[Te.apply(void 0,v.concat([m.sent()])),{"[Amplitude] Page Domain":typeof location<"u"&&location.hostname||"","[Amplitude] Page Location":u,"[Amplitude] Page Path":typeof location<"u"&&x(location.pathname)||"","[Amplitude] Page Title":typeof document<"u"&&document.title||"","[Amplitude] Page URL":u.split("?")[0]}]),g)]}})})},h=function(){return typeof n>"u"||typeof n=="function"&&n()},l=typeof location<"u"?location.href:null,a=function(){return ne(void 0,void 0,void 0,function(){var u,v,g,m;return qt(this,function(y){switch(y.label){case 0:return u=location.href,v=mZ(T,u,l||"")&&h(),l=u,v?(s==null||s.log("Tracking page view event"),t!=null?[3,1]:[3,3]):[3,4];case 1:return m=(g=t).track,[4,d()];case 2:m.apply(g,[y.sent()]),y.label=3;case 3:y.label=4;case 4:return[2]}})})},f=function(){a()},c={name:"@amplitude/plugin-page-view-tracking-browser",type:"enrichment",setup:function(u,v){return ne(void 0,void 0,void 0,function(){var g,m;return qt(this,function(y){switch(y.label){case 0:return t=v,E=u,s=u.loggerProvider,s.log("Installing @amplitude/plugin-page-view-tracking-browser"),i&&(i.addEventListener("popstate",f),p=i.history.pushState,i.history.pushState=new Proxy(i.history.pushState,{apply:function(C,b,M){var w=wi(M,3),R=w[0],A=w[1],L=w[2];C.apply(b,[R,A,L]),a()}})),h()?(s.log("Tracking page view event"),m=(g=t).track,[4,d()]):[3,2];case 1:m.apply(g,[y.sent()]),y.label=2;case 2:return[2]}})})},execute:function(u){return ne(void 0,void 0,void 0,function(){var v;return qt(this,function(g){switch(g.label){case 0:return n==="attribution"&&gZ(u)?(s==null||s.log("Enriching campaign event to page view event with campaign parameters"),[4,d()]):[3,2];case 1:v=g.sent(),u.event_type=v.event_type,u.event_properties=Te(Te({},u.event_properties),v.event_properties),g.label=2;case 2:return E&&u.event_type===o&&(E.pageCounter=E.pageCounter?E.pageCounter+1:1,u.event_properties=Te(Te({},u.event_properties),{"[Amplitude] Page Counter":E.pageCounter})),[2,u]}})})},teardown:function(){return ne(void 0,void 0,void 0,function(){return qt(this,function(u){return i&&(i.removeEventListener("popstate",f),p&&(i.history.pushState=p)),[2]})})}};return c},pZ=function(){return ne(void 0,void 0,void 0,function(){var e;return qt(this,function(t){switch(t.label){case 0:return e=dZ,[4,new s5().parse()];case 1:return[2,e.apply(void 0,[t.sent()])]}})})},gZ=function(e){if(e.event_type==="$identify"&&e.user_properties){var t=e.user_properties,i=t[Zr.SET]||{},s=t[Zr.UNSET]||{},p=qr(qr([],wi(Object.keys(i)),!1),wi(Object.keys(s)),!1);return Object.keys(Tx).every(function(E){return p.includes(E)})}return!1},mZ=function(e,t,i){switch(e){case"pathOnly":{if(i=="")return!0;var s=new URL(t),p=new URL(i),E=s.origin+s.pathname,n=p.origin+p.pathname;return E!==n}default:return t!==i}},yZ=function(){var e,t=[],i=function(o,x,d){o.addEventListener(x,d),t.push({element:o,type:x,handler:d})},s=function(){t.forEach(function(o){var x=o.element,d=o.type,h=o.handler;x==null||x.removeEventListener(d,h)}),t=[]},p="@amplitude/plugin-form-interaction-tracking-browser",E="enrichment",n=function(o,x){return ne(void 0,void 0,void 0,function(){var d;return qt(this,function(h){return(d=ka())===null||d===void 0||d.addEventListener("load",function(){if(!x){o.loggerProvider.warn("Form interaction tracking requires a later version of @amplitude/analytics-browser. Form interaction events are not tracked.");return}if(!(typeof document>"u")){var l=function(f){var c=!1;i(f,"change",function(){var u,v=rF(f);c||x.track(tF,(u={},u[GE]=_f(f.id),u[kE]=_f(f.name),u[NE]=v,u)),c=!0}),i(f,"submit",function(){var u,v,g=rF(f);c||x.track(tF,(u={},u[GE]=_f(f.id),u[kE]=_f(f.name),u[NE]=g,u)),x.track(tZ,(v={},v[GE]=_f(f.id),v[kE]=_f(f.name),v[NE]=g,v)),c=!1})},a=Array.from(document.getElementsByTagName("form"));a.forEach(l),typeof MutationObserver<"u"&&(e=new MutationObserver(function(f){f.forEach(function(c){c.addedNodes.forEach(function(u){u.nodeName==="FORM"&&l(u),"querySelectorAll"in u&&typeof u.querySelectorAll=="function"&&Array.from(u.querySelectorAll("form")).map(l)})})}),e.observe(document.body,{subtree:!0,childList:!0}))}}),[2]})})},T=function(o){return ne(void 0,void 0,void 0,function(){return qt(this,function(x){return[2,o]})})},r=function(){return ne(void 0,void 0,void 0,function(){return qt(this,function(o){return e==null||e.disconnect(),s(),[2]})})};return{name:p,type:E,setup:n,execute:T,teardown:r}},_f=function(e){if(typeof e=="string")return e},rF=function(e){var t=e.getAttribute("action");try{t=new URL(encodeURI(t??""),window.location.href).href}catch{}return t},xZ=function(){var e,t=[],i=function(o,x,d){o.addEventListener(x,d),t.push({element:o,type:x,handler:d})},s=function(){t.forEach(function(o){var x=o.element,d=o.type,h=o.handler;x==null||x.removeEventListener(d,h)}),t=[]},p="@amplitude/plugin-file-download-tracking-browser",E="enrichment",n=function(o,x){return ne(void 0,void 0,void 0,function(){var d;return qt(this,function(h){return(d=ka())===null||d===void 0||d.addEventListener("load",function(){if(!x){o.loggerProvider.warn("File download tracking requires a later version of @amplitude/analytics-browser. File download events are not tracked.");return}if(!(typeof document>"u")){var l=function(c){var u;try{u=new URL(c.href,window.location.href)}catch{return}var v=a.exec(u.href),g=v==null?void 0:v[1];g&&i(c,"click",function(){var m;g&&x.track(eZ,(m={},m[iZ]=g,m[rZ]=u.pathname,m[nZ]=c.id,m[sZ]=c.text,m[aZ]=c.href,m))})},a=/\.(pdf|xlsx?|docx?|txt|rtf|csv|exe|key|pp(s|t|tx)|7z|pkg|rar|gz|zip|avi|mov|mp4|mpe?g|wmv|midi?|mp3|wav|wma)(\?.+)?$/,f=Array.from(document.getElementsByTagName("a"));f.forEach(l),typeof MutationObserver<"u"&&(e=new MutationObserver(function(c){c.forEach(function(u){u.addedNodes.forEach(function(v){v.nodeName==="A"&&l(v),"querySelectorAll"in v&&typeof v.querySelectorAll=="function"&&Array.from(v.querySelectorAll("a")).map(l)})})}),e.observe(document.body,{subtree:!0,childList:!0}))}}),[2]})})},T=function(o){return ne(void 0,void 0,void 0,function(){return qt(this,function(x){return[2,o]})})},r=function(){return ne(void 0,void 0,void 0,function(){return qt(this,function(o){return e==null||e.disconnect(),s(),[2]})})};return{name:p,type:E,setup:n,execute:T,teardown:r}},nF=!1,TZ=function(e){if(!(nF||e.defaultTracking!==void 0)){var t=`\`options.defaultTracking\` is set to undefined. This implicitly configures your Amplitude instance to track Page Views, Sessions, File Downloads, and Form Interactions. You can suppress this warning by explicitly setting a value to \`options.defaultTracking\`. The value must either be a boolean, to enable and disable all default events, or an object, for advanced configuration. For example:

amplitude.init(<YOUR_API_KEY>, {
  defaultTracking: true,
});

Visit https://www.docs.developers.amplitude.com/data/sdks/browser-2/#tracking-default-events for more details.`;e.loggerProvider.warn(t),nF=!0}},CZ=function(){var e="@amplitude/plugin-network-checker-browser",t="before",i=ka(),s=[],p=function(r,o){i&&(i.addEventListener(r,o),s.push({type:r,handler:o}))},E=function(){s.forEach(function(r){var o=r.type,x=r.handler;i&&i.removeEventListener(o,x)}),s=[]},n=function(r,o){return ne(void 0,void 0,void 0,function(){return qt(this,function(x){return typeof navigator>"u"?(r.loggerProvider.debug("Network connectivity checker plugin is disabled because navigator is not available."),r.offline=!1,[2]):(r.offline=!navigator.onLine,p("online",function(){r.loggerProvider.debug("Network connectivity changed to online."),r.offline=!1,setTimeout(function(){o.flush()},r.flushIntervalMillis)}),p("offline",function(){r.loggerProvider.debug("Network connectivity changed to offline."),r.offline=!0}),[2])})})},T=function(){return ne(void 0,void 0,void 0,function(){return qt(this,function(r){return E(),[2]})})};return{name:e,type:t,setup:n,teardown:T}},SZ="Network error occurred, remote config fetch failed",EZ="Remote config successfully fetched",PZ="Remote config fetch rejected due to exceeded retry count",sF="Remote config fetch rejected due to timeout after 5 seconds",aF="Unexpected error occurred",bZ="https://sr-client-cfg.amplitude.com/config",MZ="https://sr-client-cfg.stag2.amplitude.com/config",wZ="https://sr-client-cfg.eu.amplitude.com/config",RZ=function(){function e(t){var i=t.localConfig,s=t.configKeys,p=this;this.retryTimeout=1e3,this.attempts=0,this.sessionTargetingMatch=!1,this.metrics={},this.getRemoteConfig=function(E,n,T){return ne(p,void 0,void 0,function(){var r,o,x;return qt(this,function(d){switch(d.label){case 0:return r=Date.now(),[4,this.fetchWithTimeout(T)];case 1:return o=d.sent(),o&&(x=o.configs&&o.configs[E],x)?(this.metrics.fetchTimeAPISuccess=Date.now()-r,[2,x[n]]):(this.metrics.fetchTimeAPIFail=Date.now()-r,[2,void 0])}})})},this.fetchWithTimeout=function(E){return ne(p,void 0,void 0,function(){var n,T,r;return qt(this,function(o){switch(o.label){case 0:return n=new AbortController,T=setTimeout(function(){return n.abort()},5e3),[4,this.fetchRemoteConfig(n.signal,E)];case 1:return r=o.sent(),clearTimeout(T),[2,r]}})})},this.fetchRemoteConfig=function(E,n){return ne(p,void 0,void 0,function(){var T,r,o,x,d,h,l,a,f,c,u,v,g;return qt(this,function(m){switch(m.label){case 0:if(n===this.lastFetchedSessionId&&this.attempts>=this.localConfig.flushMaxRetries)return[2,this.completeRequest({err:PZ})];if(E.aborted)return[2,this.completeRequest({err:sF})];n!==this.lastFetchedSessionId&&(this.lastFetchedSessionId=n,this.attempts=0),m.label=1;case 1:m.trys.push([1,3,,4]),T=new URLSearchParams({api_key:this.localConfig.apiKey});try{for(r=br(this.configKeys),o=r.next();!o.done;o=r.next())x=o.value,T.append("config_keys",x)}catch(y){u={error:y}}finally{try{o&&!o.done&&(v=r.return)&&v.call(r)}finally{if(u)throw u.error}}return n&&T.set("session_id",String(n)),d={headers:{Accept:"*/*"},method:"GET"},h="".concat(this.getServerUrl(),"?").concat(T.toString()),this.attempts+=1,[4,fetch(h,Te(Te({},d),{signal:E}))];case 2:if(l=m.sent(),l===null)return[2,this.completeRequest({err:aF})];switch(a=new xx().buildStatus(l.status),a){case hr.Success:return this.attempts=0,[2,this.parseAndStoreConfig(l)];case hr.Failed:return[2,this.retryFetch(E,n)];default:return[2,this.completeRequest({err:SZ})]}case 3:return f=m.sent(),c=f,E.aborted?[2,this.completeRequest({err:sF})]:[2,this.completeRequest({err:(g=c.message)!==null&&g!==void 0?g:aF})];case 4:return[2]}})})},this.retryFetch=function(E,n){return ne(p,void 0,void 0,function(){var T=this;return qt(this,function(r){switch(r.label){case 0:return[4,new Promise(function(o){return setTimeout(o,T.attempts*T.retryTimeout)})];case 1:return r.sent(),[2,this.fetchRemoteConfig(E,n)]}})})},this.parseAndStoreConfig=function(E){return ne(p,void 0,void 0,function(){var n;return qt(this,function(T){switch(T.label){case 0:return[4,E.json()];case 1:return n=T.sent(),this.completeRequest({success:EZ}),[2,n]}})})},this.localConfig=i,this.configKeys=s}return e.prototype.getServerUrl=function(){return this.localConfig.serverZone===qy.STAGING?MZ:this.localConfig.serverZone===qy.EU?wZ:bZ},e.prototype.completeRequest=function(t){var i=t.err,s=t.success;if(i)throw new Error(i);s&&this.localConfig.loggerProvider.log(s)},e}(),AZ=function(e){var t=e.localConfig,i=e.configKeys;return ne(void 0,void 0,void 0,function(){return qt(this,function(s){return[2,new RZ({localConfig:t,configKeys:i})]})})},OZ=AZ,LZ=function(){function e(t){this.config=t,this.config.loggerProvider.debug("Local configuration before merging with remote config",JSON.stringify(this.config,null,2))}return e.prototype.initialize=function(){return ne(this,void 0,void 0,function(){var t;return qt(this,function(i){switch(i.label){case 0:return t=this,[4,OZ({localConfig:this.config,configKeys:["analyticsSDK"]})];case 1:return t.remoteConfigFetch=i.sent(),[2]}})})},e.prototype.generateJoinedConfig=function(){var t,i,s,p;return ne(this,void 0,void 0,function(){var E,n,T;return qt(this,function(r){switch(r.label){case 0:return r.trys.push([0,3,,4]),n=this.remoteConfigFetch,n?[4,this.remoteConfigFetch.getRemoteConfig("analyticsSDK","browserSDK",this.config.sessionId)]:[3,2];case 1:n=r.sent(),r.label=2;case 2:return E=n,this.config.loggerProvider.debug("Remote configuration:",JSON.stringify(E,null,2)),E&&"autocapture"in E&&(typeof E.autocapture=="boolean"&&(this.config.autocapture=E.autocapture),typeof E.autocapture=="object"&&(this.config.autocapture===void 0&&(this.config.autocapture=E.autocapture),typeof this.config.autocapture=="boolean"&&(this.config.autocapture=Te({attribution:this.config.autocapture,fileDownloads:this.config.autocapture,formInteractions:this.config.autocapture,pageViews:this.config.autocapture,sessions:this.config.autocapture,elementInteractions:this.config.autocapture},E.autocapture)),typeof this.config.autocapture=="object"&&(this.config.autocapture=Te(Te({},this.config.autocapture),E.autocapture))),this.config.defaultTracking=this.config.autocapture),this.config.loggerProvider.debug("Joined configuration: ",JSON.stringify(this.config,null,2)),(t=(p=this.config).requestMetadata)!==null&&t!==void 0||(p.requestMetadata=new n5),!((i=this.remoteConfigFetch)===null||i===void 0)&&i.metrics.fetchTimeAPISuccess&&this.config.requestMetadata.recordHistogram("remote_config_fetch_time_API_success",this.remoteConfigFetch.metrics.fetchTimeAPISuccess),!((s=this.remoteConfigFetch)===null||s===void 0)&&s.metrics.fetchTimeAPIFail&&this.config.requestMetadata.recordHistogram("remote_config_fetch_time_API_fail",this.remoteConfigFetch.metrics.fetchTimeAPIFail),[3,4];case 3:return T=r.sent(),this.config.loggerProvider.error("Failed to fetch remote configuration because of error: ",T),[3,4];case 4:return[2,this.config]}})})},e}(),DZ=function(e){return ne(void 0,void 0,void 0,function(){var t;return qt(this,function(i){switch(i.label){case 0:return t=new LZ(e),[4,t.initialize()];case 1:return i.sent(),[2,t]}})})},FZ="@amplitude/plugin-autocapture-browser",Bb="[Amplitude] Element Clicked",IZ="[Amplitude] Element Changed",BZ="[Amplitude] Element ID",GZ="[Amplitude] Element Class",v5="[Amplitude] Element Tag",p5="[Amplitude] Element Text",kZ="[Amplitude] Element Hierarchy",NZ="[Amplitude] Element Href",UZ="[Amplitude] Element Position Left",VZ="[Amplitude] Element Position Top",zZ="[Amplitude] Element Aria Label",WZ="[Amplitude] Element Attributes",g5="[Amplitude] Element Selector",YZ="[Amplitude] Element Parent Label",m5="[Amplitude] Page URL",XZ="[Amplitude] Page Title",HZ="[Amplitude] Viewport Height",$Z="[Amplitude] Viewport Width",Wy="https://app.amplitude.com",KZ="https://app.eu.amplitude.com",ZZ="https://apps.stag2.amplitude.com",JZ={US:Wy,EU:KZ,STAGING:ZZ},jZ="https://cdn.amplitude.com/libs/visual-tagging-selector-1.0.0-alpha.js.gz",Gb="amp-visual-tagging-selector-highlight";function Yi(e){return typeof e=="function"}function y5(e){var t=function(s){Error.call(s),s.stack=new Error().stack},i=e(t);return i.prototype=Object.create(Error.prototype),i.prototype.constructor=i,i}var UE=y5(function(e){return function(i){e(this),this.message=i?i.length+` errors occurred during unsubscription:
`+i.map(function(s,p){return p+1+") "+s.toString()}).join(`
  `):"",this.name="UnsubscriptionError",this.errors=i}});function kb(e,t){if(e){var i=e.indexOf(t);0<=i&&e.splice(i,1)}}var Cx=function(){function e(t){this.initialTeardown=t,this.closed=!1,this._parentage=null,this._finalizers=null}return e.prototype.unsubscribe=function(){var t,i,s,p,E;if(!this.closed){this.closed=!0;var n=this._parentage;if(n)if(this._parentage=null,Array.isArray(n))try{for(var T=br(n),r=T.next();!r.done;r=T.next()){var o=r.value;o.remove(this)}}catch(f){t={error:f}}finally{try{r&&!r.done&&(i=T.return)&&i.call(T)}finally{if(t)throw t.error}}else n.remove(this);var x=this.initialTeardown;if(Yi(x))try{x()}catch(f){E=f instanceof UE?f.errors:[f]}var d=this._finalizers;if(d){this._finalizers=null;try{for(var h=br(d),l=h.next();!l.done;l=h.next()){var a=l.value;try{oF(a)}catch(f){E=E??[],f instanceof UE?E=qr(qr([],wi(E)),wi(f.errors)):E.push(f)}}}catch(f){s={error:f}}finally{try{l&&!l.done&&(p=h.return)&&p.call(h)}finally{if(s)throw s.error}}}if(E)throw new UE(E)}},e.prototype.add=function(t){var i;if(t&&t!==this)if(this.closed)oF(t);else{if(t instanceof e){if(t.closed||t._hasParent(this))return;t._addParent(this)}(this._finalizers=(i=this._finalizers)!==null&&i!==void 0?i:[]).push(t)}},e.prototype._hasParent=function(t){var i=this._parentage;return i===t||Array.isArray(i)&&i.includes(t)},e.prototype._addParent=function(t){var i=this._parentage;this._parentage=Array.isArray(i)?(i.push(t),i):i?[i,t]:t},e.prototype._removeParent=function(t){var i=this._parentage;i===t?this._parentage=null:Array.isArray(i)&&kb(i,t)},e.prototype.remove=function(t){var i=this._finalizers;i&&kb(i,t),t instanceof e&&t._removeParent(this)},e.EMPTY=function(){var t=new e;return t.closed=!0,t}(),e}();Cx.EMPTY;function x5(e){return e instanceof Cx||e&&"closed"in e&&Yi(e.remove)&&Yi(e.add)&&Yi(e.unsubscribe)}function oF(e){Yi(e)?e():e.unsubscribe()}var QZ={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1},T5={setTimeout:function(e,t){for(var i=[],s=2;s<arguments.length;s++)i[s-2]=arguments[s];return setTimeout.apply(void 0,qr([e,t],wi(i)))},clearTimeout:function(e){var t=T5.delegate;return((t==null?void 0:t.clearTimeout)||clearTimeout)(e)},delegate:void 0};function C5(e){T5.setTimeout(function(){throw e})}function Nb(){}function qZ(e){e()}var vM=function(e){Ds(t,e);function t(i){var s=e.call(this)||this;return s.isStopped=!1,i?(s.destination=i,x5(i)&&i.add(s)):s.destination=eJ,s}return t.create=function(i,s,p){return new Ub(i,s,p)},t.prototype.next=function(i){this.isStopped||this._next(i)},t.prototype.error=function(i){this.isStopped||(this.isStopped=!0,this._error(i))},t.prototype.complete=function(){this.isStopped||(this.isStopped=!0,this._complete())},t.prototype.unsubscribe=function(){this.closed||(this.isStopped=!0,e.prototype.unsubscribe.call(this),this.destination=null)},t.prototype._next=function(i){this.destination.next(i)},t.prototype._error=function(i){try{this.destination.error(i)}finally{this.unsubscribe()}},t.prototype._complete=function(){try{this.destination.complete()}finally{this.unsubscribe()}},t}(Cx),_Z=function(){function e(t){this.partialObserver=t}return e.prototype.next=function(t){var i=this.partialObserver;if(i.next)try{i.next(t)}catch(s){S0(s)}},e.prototype.error=function(t){var i=this.partialObserver;if(i.error)try{i.error(t)}catch(s){S0(s)}else S0(t)},e.prototype.complete=function(){var t=this.partialObserver;if(t.complete)try{t.complete()}catch(i){S0(i)}},e}(),Ub=function(e){Ds(t,e);function t(i,s,p){var E=e.call(this)||this,n;return Yi(i)||!i?n={next:i??void 0,error:s??void 0,complete:p??void 0}:n=i,E.destination=new _Z(n),E}return t}(vM);function S0(e){C5(e)}function tJ(e){throw e}var eJ={closed:!0,next:Nb,error:tJ,complete:Nb},pM=function(){return typeof Symbol=="function"&&Symbol.observable||"@@observable"}();function S5(e){return e}function iJ(e){return e.length===0?S5:e.length===1?e[0]:function(i){return e.reduce(function(s,p){return p(s)},i)}}var Fs=function(){function e(t){t&&(this._subscribe=t)}return e.prototype.lift=function(t){var i=new e;return i.source=this,i.operator=t,i},e.prototype.subscribe=function(t,i,s){var p=this,E=nJ(t)?t:new Ub(t,i,s);return qZ(function(){var n=p,T=n.operator,r=n.source;E.add(T?T.call(E,r):r?p._subscribe(E):p._trySubscribe(E))}),E},e.prototype._trySubscribe=function(t){try{return this._subscribe(t)}catch(i){t.error(i)}},e.prototype.forEach=function(t,i){var s=this;return i=lF(i),new i(function(p,E){var n=new Ub({next:function(T){try{t(T)}catch(r){E(r),n.unsubscribe()}},error:E,complete:p});s.subscribe(n)})},e.prototype._subscribe=function(t){var i;return(i=this.source)===null||i===void 0?void 0:i.subscribe(t)},e.prototype[pM]=function(){return this},e.prototype.pipe=function(){for(var t=[],i=0;i<arguments.length;i++)t[i]=arguments[i];return iJ(t)(this)},e.prototype.toPromise=function(t){var i=this;return t=lF(t),new t(function(s,p){var E;i.subscribe(function(n){return E=n},function(n){return p(n)},function(){return s(E)})})},e.create=function(t){return new e(t)},e}();function lF(e){var t;return(t=e??QZ.Promise)!==null&&t!==void 0?t:Promise}function rJ(e){return e&&Yi(e.next)&&Yi(e.error)&&Yi(e.complete)}function nJ(e){return e&&e instanceof vM||rJ(e)&&x5(e)}function sJ(e){return Yi(e==null?void 0:e.lift)}function Ya(e){return function(t){if(sJ(t))return t.lift(function(i){try{return e(i,this)}catch(s){this.error(s)}});throw new TypeError("Unable to lift unknown Observable type")}}function Os(e,t,i,s,p){return new aJ(e,t,i,s,p)}var aJ=function(e){Ds(t,e);function t(i,s,p,E,n,T){var r=e.call(this,i)||this;return r.onFinalize=n,r.shouldUnsubscribe=T,r._next=s?function(o){try{s(o)}catch(x){i.error(x)}}:e.prototype._next,r._error=E?function(o){try{E(o)}catch(x){i.error(x)}finally{this.unsubscribe()}}:e.prototype._error,r._complete=p?function(){try{p()}catch(o){i.error(o)}finally{this.unsubscribe()}}:e.prototype._complete,r}return t.prototype.unsubscribe=function(){var i;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){var s=this.closed;e.prototype.unsubscribe.call(this),!s&&((i=this.onFinalize)===null||i===void 0||i.call(this))}},t}(vM),oJ={now:function(){return Date.now()},delegate:void 0},lJ=function(e){Ds(t,e);function t(i,s){return e.call(this)||this}return t.prototype.schedule=function(i,s){return this},t}(Cx),hF={setInterval:function(e,t){for(var i=[],s=2;s<arguments.length;s++)i[s-2]=arguments[s];return setInterval.apply(void 0,qr([e,t],wi(i)))},clearInterval:function(e){return clearInterval(e)},delegate:void 0},hJ=function(e){Ds(t,e);function t(i,s){var p=e.call(this,i,s)||this;return p.scheduler=i,p.work=s,p.pending=!1,p}return t.prototype.schedule=function(i,s){var p;if(s===void 0&&(s=0),this.closed)return this;this.state=i;var E=this.id,n=this.scheduler;return E!=null&&(this.id=this.recycleAsyncId(n,E,s)),this.pending=!0,this.delay=s,this.id=(p=this.id)!==null&&p!==void 0?p:this.requestAsyncId(n,this.id,s),this},t.prototype.requestAsyncId=function(i,s,p){return p===void 0&&(p=0),hF.setInterval(i.flush.bind(i,this),p)},t.prototype.recycleAsyncId=function(i,s,p){if(p===void 0&&(p=0),p!=null&&this.delay===p&&this.pending===!1)return s;s!=null&&hF.clearInterval(s)},t.prototype.execute=function(i,s){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;var p=this._execute(i,s);if(p)return p;this.pending===!1&&this.id!=null&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))},t.prototype._execute=function(i,s){var p=!1,E;try{this.work(i)}catch(n){p=!0,E=n||new Error("Scheduled action threw falsy error")}if(p)return this.unsubscribe(),E},t.prototype.unsubscribe=function(){if(!this.closed){var i=this,s=i.id,p=i.scheduler,E=p.actions;this.work=this.state=this.scheduler=null,this.pending=!1,kb(E,this),s!=null&&(this.id=this.recycleAsyncId(p,s,null)),this.delay=null,e.prototype.unsubscribe.call(this)}},t}(lJ),uF=function(){function e(t,i){i===void 0&&(i=e.now),this.schedulerActionCtor=t,this.now=i}return e.prototype.schedule=function(t,i,s){return i===void 0&&(i=0),new this.schedulerActionCtor(this,t).schedule(s,i)},e.now=oJ.now,e}(),uJ=function(e){Ds(t,e);function t(i,s){s===void 0&&(s=uF.now);var p=e.call(this,i,s)||this;return p.actions=[],p._active=!1,p}return t.prototype.flush=function(i){var s=this.actions;if(this._active){s.push(i);return}var p;this._active=!0;do if(p=i.execute(i.state,i.delay))break;while(i=s.shift());if(this._active=!1,p){for(;i=s.shift();)i.unsubscribe();throw p}},t}(uF),Sx=new uJ(hJ),fJ=Sx,gM=new Fs(function(e){return e.complete()});function E5(e){return e&&Yi(e.schedule)}function P5(e){return e[e.length-1]}function dJ(e){return E5(P5(e))?e.pop():void 0}function cJ(e,t){return typeof P5(e)=="number"?e.pop():t}var mM=function(e){return e&&typeof e.length=="number"&&typeof e!="function"};function b5(e){return Yi(e==null?void 0:e.then)}function M5(e){return Yi(e[pM])}function w5(e){return Symbol.asyncIterator&&Yi(e==null?void 0:e[Symbol.asyncIterator])}function R5(e){return new TypeError("You provided "+(e!==null&&typeof e=="object"?"an invalid object":"'"+e+"'")+" where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.")}function vJ(){return typeof Symbol!="function"||!Symbol.iterator?"@@iterator":Symbol.iterator}var A5=vJ();function O5(e){return Yi(e==null?void 0:e[A5])}function L5(e){return D$(this,arguments,function(){var i,s,p,E;return qt(this,function(n){switch(n.label){case 0:i=e.getReader(),n.label=1;case 1:n.trys.push([1,,9,10]),n.label=2;case 2:return[4,Nd(i.read())];case 3:return s=n.sent(),p=s.value,E=s.done,E?[4,Nd(void 0)]:[3,5];case 4:return[2,n.sent()];case 5:return[4,Nd(p)];case 6:return[4,n.sent()];case 7:return n.sent(),[3,2];case 8:return[3,10];case 9:return i.releaseLock(),[7];case 10:return[2]}})})}function D5(e){return Yi(e==null?void 0:e.getReader)}function Xa(e){if(e instanceof Fs)return e;if(e!=null){if(M5(e))return pJ(e);if(mM(e))return gJ(e);if(b5(e))return mJ(e);if(w5(e))return F5(e);if(O5(e))return yJ(e);if(D5(e))return xJ(e)}throw R5(e)}function pJ(e){return new Fs(function(t){var i=e[pM]();if(Yi(i.subscribe))return i.subscribe(t);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}function gJ(e){return new Fs(function(t){for(var i=0;i<e.length&&!t.closed;i++)t.next(e[i]);t.complete()})}function mJ(e){return new Fs(function(t){e.then(function(i){t.closed||(t.next(i),t.complete())},function(i){return t.error(i)}).then(null,C5)})}function yJ(e){return new Fs(function(t){var i,s;try{for(var p=br(e),E=p.next();!E.done;E=p.next()){var n=E.value;if(t.next(n),t.closed)return}}catch(T){i={error:T}}finally{try{E&&!E.done&&(s=p.return)&&s.call(p)}finally{if(i)throw i.error}}t.complete()})}function F5(e){return new Fs(function(t){TJ(e,t).catch(function(i){return t.error(i)})})}function xJ(e){return F5(L5(e))}function TJ(e,t){var i,s,p,E;return ne(this,void 0,void 0,function(){var n,T;return qt(this,function(r){switch(r.label){case 0:r.trys.push([0,5,6,11]),i=F$(e),r.label=1;case 1:return[4,i.next()];case 2:if(s=r.sent(),!!s.done)return[3,4];if(n=s.value,t.next(n),t.closed)return[2];r.label=3;case 3:return[3,1];case 4:return[3,11];case 5:return T=r.sent(),p={error:T},[3,11];case 6:return r.trys.push([6,,9,10]),s&&!s.done&&(E=i.return)?[4,E.call(i)]:[3,8];case 7:r.sent(),r.label=8;case 8:return[3,10];case 9:if(p)throw p.error;return[7];case 10:return[7];case 11:return t.complete(),[2]}})})}function Ch(e,t,i,s,p){s===void 0&&(s=0),p===void 0&&(p=!1);var E=t.schedule(function(){i(),p?e.add(this.schedule(null,s)):this.unsubscribe()},s);if(e.add(E),!p)return E}function I5(e,t){return t===void 0&&(t=0),Ya(function(i,s){i.subscribe(Os(s,function(p){return Ch(s,e,function(){return s.next(p)},t)},function(){return Ch(s,e,function(){return s.complete()},t)},function(p){return Ch(s,e,function(){return s.error(p)},t)}))})}function B5(e,t){return t===void 0&&(t=0),Ya(function(i,s){s.add(e.schedule(function(){return i.subscribe(s)},t))})}function CJ(e,t){return Xa(e).pipe(B5(t),I5(t))}function SJ(e,t){return Xa(e).pipe(B5(t),I5(t))}function EJ(e,t){return new Fs(function(i){var s=0;return t.schedule(function(){s===e.length?i.complete():(i.next(e[s++]),i.closed||this.schedule())})})}function PJ(e,t){return new Fs(function(i){var s;return Ch(i,t,function(){s=e[A5](),Ch(i,t,function(){var p,E,n;try{p=s.next(),E=p.value,n=p.done}catch(T){i.error(T);return}n?i.complete():i.next(E)},0,!0)}),function(){return Yi(s==null?void 0:s.return)&&s.return()}})}function G5(e,t){if(!e)throw new Error("Iterable cannot be null");return new Fs(function(i){Ch(i,t,function(){var s=e[Symbol.asyncIterator]();Ch(i,t,function(){s.next().then(function(p){p.done?i.complete():i.next(p.value)})},0,!0)})})}function bJ(e,t){return G5(L5(e),t)}function MJ(e,t){if(e!=null){if(M5(e))return CJ(e,t);if(mM(e))return EJ(e,t);if(b5(e))return SJ(e,t);if(w5(e))return G5(e,t);if(O5(e))return PJ(e,t);if(D5(e))return bJ(e,t)}throw R5(e)}function wJ(e,t){return t?MJ(e,t):Xa(e)}function k5(e){return e instanceof Date&&!isNaN(e)}var RJ=y5(function(e){return function(i){i===void 0&&(i=null),e(this),this.message="Timeout has occurred",this.name="TimeoutError",this.info=i}});function AJ(e,t){var i=k5(e)?{first:e}:typeof e=="number"?{each:e}:e,s=i.first,p=i.each,E=i.with,n=E===void 0?OJ:E,T=i.scheduler,r=T===void 0?Sx:T,o=i.meta,x=o===void 0?null:o;if(s==null&&p==null)throw new TypeError("No timeout provided.");return Ya(function(d,h){var l,a,f=null,c=0,u=function(v){a=Ch(h,r,function(){try{l.unsubscribe(),Xa(n({meta:x,lastValue:f,seen:c})).subscribe(h)}catch(g){h.error(g)}},v)};l=d.subscribe(Os(h,function(v){a==null||a.unsubscribe(),c++,h.next(f=v),p>0&&u(p)},void 0,void 0,function(){a!=null&&a.closed||a==null||a.unsubscribe(),f=null})),!c&&u(s!=null?typeof s=="number"?s:+s-r.now():p)})}function OJ(e){throw new RJ(e)}function To(e,t){return Ya(function(i,s){var p=0;i.subscribe(Os(s,function(E){s.next(e.call(t,E,p++))}))})}var LJ=Array.isArray;function DJ(e,t){return LJ(t)?e.apply(void 0,qr([],wi(t))):e(t)}function FJ(e){return To(function(t){return DJ(e,t)})}function IJ(e,t,i,s,p,E,n,T){var r=[],o=0,x=0,d=!1,h=function(){d&&!r.length&&!o&&t.complete()},l=function(f){return o<s?a(f):r.push(f)},a=function(f){o++;var c=!1;Xa(i(f,x++)).subscribe(Os(t,function(u){t.next(u)},function(){c=!0},void 0,function(){if(c)try{o--;for(var u=function(){var v=r.shift();n||a(v)};r.length&&o<s;)u();h()}catch(v){t.error(v)}}))};return e.subscribe(Os(t,l,function(){d=!0,h()})),function(){}}function Ex(e,t,i){return i===void 0&&(i=1/0),Yi(t)?Ex(function(s,p){return To(function(E,n){return t(s,E,p,n)})(Xa(e(s,p)))},i):(typeof t=="number"&&(i=t),Ya(function(s,p){return IJ(s,p,e,i)}))}function BJ(e){return e===void 0&&(e=1/0),Ex(S5,e)}var GJ=["addListener","removeListener"],kJ=["addEventListener","removeEventListener"],NJ=["on","off"];function yp(e,t,i,s){if(Yi(i)&&(s=i,i=void 0),s)return yp(e,t,i).pipe(FJ(s));var p=wi(zJ(e)?kJ.map(function(T){return function(r){return e[T](t,r,i)}}):UJ(e)?GJ.map(fF(e,t)):VJ(e)?NJ.map(fF(e,t)):[],2),E=p[0],n=p[1];if(!E&&mM(e))return Ex(function(T){return yp(T,t,i)})(Xa(e));if(!E)throw new TypeError("Invalid event target");return new Fs(function(T){var r=function(){for(var o=[],x=0;x<arguments.length;x++)o[x]=arguments[x];return T.next(1<o.length?o:o[0])};return E(r),function(){return n(r)}})}function fF(e,t){return function(i){return function(s){return e[i](t,s)}}}function UJ(e){return Yi(e.addListener)&&Yi(e.removeListener)}function VJ(e){return Yi(e.on)&&Yi(e.off)}function zJ(e){return Yi(e.addEventListener)&&Yi(e.removeEventListener)}function WJ(e,t,i){i===void 0&&(i=fJ);var s=-1;return t!=null&&(E5(t)?i=t:s=t),new Fs(function(p){var E=k5(e)?+e-i.now():e;E<0&&(E=0);var n=0;return i.schedule(function(){p.closed||(p.next(n++),0<=s?this.schedule(void 0,s):p.complete())},E)})}function N5(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var i=dJ(e),s=cJ(e,1/0),p=e;return p.length?p.length===1?Xa(p[0]):BJ(s)(wJ(p,i)):gM}function Sh(e,t){return Ya(function(i,s){var p=0;i.subscribe(Os(s,function(E){return e.call(t,E,p++)&&s.next(E)}))})}function YJ(e){return Ya(function(t,i){var s=[];return t.subscribe(Os(i,function(p){return s.push(p)},function(){i.next(s),i.complete()})),Xa(e).subscribe(Os(i,function(){var p=s;s=[],i.next(p)},Nb)),function(){s=null}})}function XJ(e,t){return t===void 0&&(t=Sx),Ya(function(i,s){var p=null,E=null,n=null,T=function(){if(p){p.unsubscribe(),p=null;var o=E;E=null,s.next(o)}};function r(){var o=n+e,x=t.now();if(x<o){p=this.schedule(void 0,o-x),s.add(p);return}T()}i.subscribe(Os(s,function(o){E=o,n=t.now(),p||(p=t.schedule(r,e),s.add(p))},function(){T(),s.complete()},void 0,function(){E=p=null}))})}function U5(e){return e<=0?function(){return gM}:Ya(function(t,i){var s=0;t.subscribe(Os(i,function(p){++s<=e&&(i.next(p),e<=s&&i.complete())}))})}function HJ(e){return To(function(){return e})}function $J(e,t){return Ex(function(i,s){return Xa(e(i,s)).pipe(U5(1),HJ(i))})}function KJ(e,t){t===void 0&&(t=Sx);var i=WJ(e,t);return $J(function(){return i})}function ZJ(){return Ya(function(e,t){var i,s=!1;e.subscribe(Os(t,function(p){var E=i;i=p,s&&t.next([E,p]),s=!0}))})}function JJ(e,t){return Ya(function(i,s){var p=null,E=0,n=!1,T=function(){return n&&!p&&s.complete()};i.subscribe(Os(s,function(r){p==null||p.unsubscribe();var o=0,x=E++;Xa(e(r,x)).subscribe(p=Os(s,function(d){return s.next(t?t(r,d,x,o++):d)},function(){p=null,T()}))},function(){n=!0,T()}))})}var So,yM;function jJ(e,t){if(e.nodeType!==Node.ELEMENT_NODE)throw new Error("Can't generate CSS selector for non-element node type.");if(e.tagName.toLowerCase()==="html")return"html";var i={root:document.body,idName:function(E){return!0},className:function(E){return!0},tagName:function(E){return!0},attr:function(E,n){return!1},seedMinLength:1,optimizedMinLength:2,threshold:1e3,maxNumberOfTries:1e4};So=Te(Te({},i),t),yM=QJ(So.root,i);var s=E0(e,"all",function(){return E0(e,"two",function(){return E0(e,"one",function(){return E0(e,"none")})})});if(s){var p=W5(Y5(s,e));return p.length>0&&(s=p[0]),Px(s)}else throw new Error("Selector was not found.")}function QJ(e,t){return e.nodeType===Node.DOCUMENT_NODE?e:e===t.root?e.ownerDocument:e}function E0(e,t,i){for(var s=null,p=[],E=e,n=0,T=function(){var o,x,d=b0(qJ(E))||b0.apply(void 0,qr([],wi(_J(E)),!1))||b0.apply(void 0,qr([],wi(tj(E)),!1))||b0(ej(E))||[vF()],h=ij(E);if(t=="all")h&&(d=d.concat(d.filter(VE).map(function(u){return P0(u,h)})));else if(t=="two")d=d.slice(0,1),h&&(d=d.concat(d.filter(VE).map(function(u){return P0(u,h)})));else if(t=="one"){var l=wi(d=d.slice(0,1),1),a=l[0];h&&VE(a)&&(d=[P0(a,h)])}else t=="none"&&(d=[vF()],h&&(d=[P0(d[0],h)]));try{for(var f=(o=void 0,br(d)),c=f.next();!c.done;c=f.next()){var a=c.value;a.level=n}}catch(u){o={error:u}}finally{try{c&&!c.done&&(x=f.return)&&x.call(f)}finally{if(o)throw o.error}}if(p.push(d),p.length>=So.seedMinLength&&(s=dF(p,i),s))return"break";E=E.parentElement,n++};E;){var r=T();if(r==="break")break}return s||(s=dF(p,i)),!s&&i?i():s}function dF(e,t){var i,s,p=e.reduce(function(o,x){return o*x.length},1);if(p>So.threshold)return t?t():null;var E=W5(z5(e));try{for(var n=br(E),T=n.next();!T.done;T=n.next()){var r=T.value;if(V5(r))return r}}catch(o){i={error:o}}finally{try{T&&!T.done&&(s=n.return)&&s.call(n)}finally{if(i)throw i.error}}return null}function Px(e){for(var t=e[0],i=t.name,s=1;s<e.length;s++){var p=e[s].level||0;t.level===p-1?i="".concat(e[s].name," > ").concat(i):i="".concat(e[s].name," ").concat(i),t=e[s]}return i}function cF(e){return e.map(function(t){return t.penalty}).reduce(function(t,i){return t+i},0)}function V5(e){var t=Px(e);switch(yM.querySelectorAll(t).length){case 0:throw new Error("Can't select any node with this selector: ".concat(t));case 1:return!0;default:return!1}}function qJ(e){var t=e.getAttribute("id");return t&&So.idName(t)?{name:"#"+CSS.escape(t),penalty:0}:null}function _J(e){var t=Array.from(e.attributes).filter(function(i){return So.attr(i.name,i.value)});return t.map(function(i){return{name:"[".concat(CSS.escape(i.name),'="').concat(CSS.escape(i.value),'"]'),penalty:.5}})}function tj(e){var t=Array.from(e.classList).filter(So.className);return t.map(function(i){return{name:"."+CSS.escape(i),penalty:1}})}function ej(e){var t=e.tagName.toLowerCase();return So.tagName(t)?{name:t,penalty:2}:null}function vF(){return{name:"*",penalty:3}}function ij(e){var t=e.parentNode;if(!t)return null;var i=t.firstChild;if(!i)return null;for(var s=0;i&&(i.nodeType===Node.ELEMENT_NODE&&s++,i!==e);)i=i.nextSibling;return s}function P0(e,t){return{name:e.name+":nth-child(".concat(t,")"),penalty:e.penalty+1}}function VE(e){return e.name!=="html"&&!e.name.startsWith("#")}function b0(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var i=e.filter(rj);return i.length>0?i:null}function rj(e){return e!=null}function z5(e,t){var i,s,p,E,n,T;return t===void 0&&(t=[]),qt(this,function(r){switch(r.label){case 0:if(!(e.length>0))return[3,9];r.label=1;case 1:r.trys.push([1,6,7,8]),i=br(e[0]),s=i.next(),r.label=2;case 2:return s.done?[3,5]:(p=s.value,[5,br(z5(e.slice(1,e.length),t.concat(p)))]);case 3:r.sent(),r.label=4;case 4:return s=i.next(),[3,2];case 5:return[3,8];case 6:return E=r.sent(),n={error:E},[3,8];case 7:try{s&&!s.done&&(T=i.return)&&T.call(i)}finally{if(n)throw n.error}return[7];case 8:return[3,11];case 9:return[4,t];case 10:r.sent(),r.label=11;case 11:return[2]}})}function W5(e){return qr([],wi(e),!1).sort(function(t,i){return cF(t)-cF(i)})}function Y5(e,t,i){var s,p,E;return i===void 0&&(i={counter:0,visited:new Map}),qt(this,function(n){switch(n.label){case 0:if(!(e.length>2&&e.length>So.optimizedMinLength))return[3,5];s=1,n.label=1;case 1:return s<e.length-1?i.counter>So.maxNumberOfTries?[2]:(i.counter+=1,p=qr([],wi(e),!1),p.splice(s,1),E=Px(p),i.visited.has(E)?[2]:V5(p)&&nj(p,t)?[4,p]:[3,4]):[3,5];case 2:return n.sent(),i.visited.set(E,!0),[5,br(Y5(p,t,i))];case 3:n.sent(),n.label=4;case 4:return s++,[3,1];case 5:return[2]}})}function nj(e,t){return yM.querySelector(Px(e))===t}var sj=["input","select","textarea"],zE=function(e,t){return function(i,s){var p,E,n,T=e.pageUrlAllowlist,r=e.shouldTrackEventResolver,o=(E=(p=s==null?void 0:s.tagName)===null||p===void 0?void 0:p.toLowerCase)===null||E===void 0?void 0:E.call(p);if(!o)return!1;if(r)return r(i,s);if(!oj(window.location.href,T))return!1;var x=String(s==null?void 0:s.getAttribute("type"))||"";if(typeof x=="string")switch(x.toLowerCase()){case"hidden":return!1;case"password":return!1}if(t){var d=t.some(function(l){var a;return!!(!((a=s==null?void 0:s.matches)===null||a===void 0)&&a.call(s,l))});if(!d)return!1}switch(o){case"input":case"select":case"textarea":return i==="change"||i==="click";default:{var h=(n=window==null?void 0:window.getComputedStyle)===null||n===void 0?void 0:n.call(window,s);return h&&h.getPropertyValue("cursor")==="pointer"&&i==="click"?!0:i==="click"}}}},X5=function(e){if(e==null)return!1;if(typeof e=="string"){var t=/^(?:(4[0-9]{12}(?:[0-9]{3})?)|(5[1-5][0-9]{14})|(6(?:011|5[0-9]{2})[0-9]{12})|(3[47][0-9]{13})|(3(?:0[0-5]|[68][0-9])[0-9]{11})|((?:2131|1800|35[0-9]{3})[0-9]{11}))$/;if(t.test((e||"").replace(/[- ]/g,"")))return!1;var i=/(^\d{3}-?\d{2}-?\d{4}$)/;if(i.test(e))return!1}return!0},aj=function(e){return!!e&&e.nodeType===3},H5=function(e){var t,i,s,p=(i=(t=e==null?void 0:e.tagName)===null||t===void 0?void 0:t.toLowerCase)===null||i===void 0?void 0:i.call(t),E=e instanceof HTMLElement?((s=e.getAttribute("contenteditable"))===null||s===void 0?void 0:s.toLowerCase())==="true":!1;return!sj.includes(p)&&!E},xM=function(e){var t="";return H5(e)&&e.childNodes&&e.childNodes.length&&e.childNodes.forEach(function(i){var s="";aj(i)?i.textContent&&(s=i.textContent):s=xM(i),t+=s.split(/(\s+)/).filter(X5).join("").replace(/[\r\n]/g," ").replace(/[ ]+/g," ").substring(0,255)}),t},$5=function(e,t){var i,s,p="";try{return p=jJ(e,{className:function(x){return x!==Gb},maxNumberOfTries:1e3}),p}catch(x){if(t){var E=x;t.warn("Failed to get selector with finder, use fallback strategy instead: ".concat(E.toString()))}}var n=(s=(i=e==null?void 0:e.tagName)===null||i===void 0?void 0:i.toLowerCase)===null||s===void 0?void 0:s.call(i);n&&(p=n);var T=e.getAttribute("id"),r=e.getAttribute("class");if(T)p="#".concat(T);else if(r){var o=r.split(" ").filter(function(x){return x!==Gb}).join(".");o&&(p="".concat(p,".").concat(o))}return p},oj=function(e,t){return!t||!t.length?!0:t.some(function(i){return typeof i=="string"?e===i:e.match(i)})},lj=function(e,t){return e.getAttributeNames().reduce(function(i,s){if(s.startsWith(t)){var p=s.replace(t,""),E=e.getAttribute(s);p&&(i[p]=E||"")}return i},{})},hj=function(e){return e==null||typeof e=="object"&&Object.keys(e).length===0||typeof e=="string"&&e.trim().length===0},K5=function(e){return Object.keys(e).reduce(function(t,i){var s=e[i];return hj(s)||(t[i]=s),t},{})},Z5=function(e){var t=e.parentElement;if(!t)return"";var i;try{i=t.querySelector(":scope>span,h1,h2,h3,h4,h5,h6")}catch{i=null}if(i){var s=i.textContent||"";return X5(s)?s:""}return Z5(t)},TM=function(e,t){return e?t.some(function(i){var s;return(s=e==null?void 0:e.matches)===null||s===void 0?void 0:s.call(e,i)})?e:TM(e==null?void 0:e.parentElement,t):null},uj=function(e,t){var i,s,p;if(!e)return{};var E=(p=(s=e==null?void 0:e.tagName)===null||s===void 0?void 0:s.toLowerCase)===null||p===void 0?void 0:p.call(s),n=$5(e,t),T=(i={},i[v5]=E,i[p5]=xM(e),i[g5]=n,i[m5]=window.location.href.split("?")[0],i);return K5(T)},fj=function(e){return new Promise(function(t,i){var s;try{var p=document.createElement("script");p.type="text/javascript",p.async=!0,p.src=e,p.addEventListener("load",function(){t({status:!0})},{once:!0}),p.addEventListener("error",function(){i({status:!1,message:"Failed to load the script ".concat(e)})}),(s=document.head)===null||s===void 0||s.appendChild(p)}catch(E){i(E)}})};function dj(){return"".concat(Date.now(),"-").concat(Math.random().toString(36).substr(2,9))}var CM=function(e){return!(e.event.target===null||!e.closestTrackedAncestor)},cj=function(){function e(t){var i=t===void 0?{}:t,s=i.origin,p=s===void 0?Wy:s,E=this;this.endpoint=Wy,this.requestCallbacks={},this.onSelect=function(n){E.notify({action:"element-selected",data:n})},this.onTrack=function(n,T){n==="selector-mode-changed"?E.notify({action:"track-selector-mode-changed",data:T}):n==="selector-moved"&&E.notify({action:"track-selector-moved",data:T})},this.endpoint=p}return e.prototype.notify=function(t){var i,s,p,E;(s=(i=this.logger)===null||i===void 0?void 0:i.debug)===null||s===void 0||s.call(i,"Message sent: ",JSON.stringify(t)),(E=(p=window.opener)===null||p===void 0?void 0:p.postMessage)===null||E===void 0||E.call(p,t,this.endpoint)},e.prototype.sendRequest=function(t,i,s){var p=this;s===void 0&&(s={timeout:15e3});var E=dj(),n={id:E,action:t,args:i},T=new Promise(function(r,o){p.requestCallbacks[E]={resolve:r,reject:o},p.notify(n),(s==null?void 0:s.timeout)>0&&setTimeout(function(){o(new Error("".concat(t," timed out (id: ").concat(E,")"))),delete p.requestCallbacks[E]},s.timeout)});return T},e.prototype.handleResponse=function(t){var i;if(!this.requestCallbacks[t.id]){(i=this.logger)===null||i===void 0||i.warn("No callback found for request id: ".concat(t.id));return}this.requestCallbacks[t.id].resolve(t.responseData),delete this.requestCallbacks[t.id]},e.prototype.setup=function(t){var i=this,s=t===void 0?{}:t,p=s.logger,E=s.endpoint,n=s.isElementSelectable,T=s.cssSelectorAllowlist,r=s.actionClickAllowlist;this.logger=p,E&&this.endpoint===Wy&&(this.endpoint=E);var o=null;window.addEventListener("message",function(x){var d,h,l,a,f;if((h=(d=i.logger)===null||d===void 0?void 0:d.debug)===null||h===void 0||h.call(d,"Message received: ",JSON.stringify(x)),i.endpoint===x.origin){var c=x==null?void 0:x.data,u=c==null?void 0:c.action;if(u)if("id"in c)(a=(l=i.logger)===null||l===void 0?void 0:l.debug)===null||a===void 0||a.call(l,"Received Response to previous request: ",JSON.stringify(x)),i.handleResponse(c);else if(u==="ping")i.notify({action:"pong"});else if(u==="initialize-visual-tagging-selector"){var v=c==null?void 0:c.data;fj(jZ).then(function(){var g;o=(g=window==null?void 0:window.amplitudeVisualTaggingSelector)===null||g===void 0?void 0:g.call(window,{getEventTagProps:uj,isElementSelectable:function(m){return n?n((v==null?void 0:v.actionType)||"click",m):!0},onTrack:i.onTrack,onSelect:i.onSelect,visualHighlightClass:Gb,messenger:i,cssSelectorAllowlist:T,actionClickAllowlist:r}),i.notify({action:"selector-loaded"})}).catch(function(){var g;(g=i.logger)===null||g===void 0||g.warn("Failed to initialize visual tagging selector")})}else u==="close-visual-tagging-selector"&&((f=o==null?void 0:o.close)===null||f===void 0||f.call(o))}}),this.notify({action:"page-loaded"})},e}(),vj=["id","class","style","value","onclick","onchange","oninput","onblur","onsubmit","onfocus","onkeydown","onkeyup","onkeypress","data-reactid","data-react-checksum","data-reactroot"],pj=["type"],gj=["svg","path","g"],mj=["password","hidden"],yj=128,xj=1024;function Tj(e){var t,i,s,p,E,n;if(e===null)return null;var T=String(e.tagName).toLowerCase(),r={tag:T},o=Array.from((p=(s=e.parentElement)===null||s===void 0?void 0:s.children)!==null&&p!==void 0?p:[]);o.length&&(r.index=o.indexOf(e),r.indexOfType=o.filter(function(m){return m.tagName===e.tagName}).indexOf(e));var x=(n=(E=e.previousElementSibling)===null||E===void 0?void 0:E.tagName)===null||n===void 0?void 0:n.toLowerCase();x&&(r.prevSib=String(x));var d=e.getAttribute("id");d&&(r.id=String(d));var h=Array.from(e.classList);h.length&&(r.classes=h);var l={},a=Array.from(e.attributes),f=a.filter(function(m){return!vj.includes(m.name)}),c=!H5(e);if(!mj.includes(String(e.getAttribute("type")))&&!gj.includes(T))try{for(var u=br(f),v=u.next();!v.done;v=u.next()){var g=v.value;c&&!pj.includes(g.name)||(l[g.name]=String(g.value).substring(0,yj))}}catch(m){t={error:m}}finally{try{v&&!v.done&&(i=u.return)&&i.call(u)}finally{if(t)throw t.error}}return Object.keys(l).length&&(r.attrs=l),r}function Cj(e){var t=[];if(!e)return t;t.push(e);for(var i=e.parentElement;i&&i.tagName!=="HTML";)t.push(i),i=i.parentElement;return t}var Sj=function(e){var t=[];if(!e)return[];var i=Cj(e);return t=Ej(i.map(function(s){return Tj(s)}),xj),t};function Ej(e,t){for(var i=0,s=0;s<e.length;s++){var p=e[s];if(p===null)i+=4;else{var E=Yy(p);i+=E?Array.from(E).length:4}if(i>t)return e.slice(0,s)}return e}function Yy(e,t){t===void 0&&(t=!1);try{if(e==null)return t?"None":null;if(typeof e=="string")return t?(e=e.replace(/\\/g,"\\\\").replace(/\n/g,"\\n").replace(/\t/g,"\\t").replace(/\r/g,"\\r"),e.includes('"')?"'".concat(e,"'"):e.includes("'")?'"'.concat(e.replace(/'/g,"\\'"),'"'):"'".concat(e,"'")):e;if(typeof e=="boolean")return e?"True":"False";if(Array.isArray(e)){var i=e.map(function(E){return Yy(E,!0)});return"[".concat(i.join(", "),"]")}else if(typeof e=="object"){var s=Object.entries(e).filter(function(E){var n=wi(E,1),T=n[0];return T!=null}).map(function(E){var n=wi(E,2),T=n[0],r=n[1];return"".concat(String(Yy(T,!0)),": ").concat(String(Yy(r,!0)))}),p="{".concat(s.join(", "),"}");return p.includes("\\'")&&(p=p.replace(/'/g,"'").replace(/'/g,"\\'")),p}return e.toString()}catch{return null}}var Pj=5;function bj(e){var t=e.amplitude,i=e.allObservables,s=e.options,p=e.shouldTrackEvent,E=i.clickObservable,n=E.pipe(ZJ(),Sh(function(x){var d=wi(x,2),h=d[0],l=d[1],a=h.event.target!==l.event.target,f=Math.abs(l.event.screenX-h.event.screenX)<=20&&Math.abs(l.event.screenY-h.event.screenY)<=20;return a&&!f})),T=E.pipe(XJ(s.debounceTime),To(function(){return"timeout"})),r=N5(n,T),o=E.pipe(KJ(0),Sh(CM),Sh(function(x){return p("click",x.closestTrackedAncestor)}),YJ(r));return o.subscribe(function(x){var d,h,l=(x.length>=Pj,Bb);try{for(var a=br(x),f=a.next();!f.done;f=a.next()){var c=f.value;t==null||t.track(l,c.targetElementProperties,{time:c.timestamp})}}catch(u){d={error:u}}finally{try{f&&!f.done&&(h=a.return)&&h.call(a)}finally{if(d)throw d.error}}})}function Mj(e){var t=e.amplitude,i=e.allObservables,s=e.getEventProperties,p=e.shouldTrackEvent,E=i.changeObservable,n=E.pipe(Sh(CM),Sh(function(T){return p("change",T.closestTrackedAncestor)}));return n.subscribe(function(T){t==null||t.track(IZ,s("change",T.closestTrackedAncestor))})}function wj(e){var t=e.amplitude,i=e.allObservables,s=e.options,p=e.getEventProperties,E=e.shouldTrackEvent,n=e.shouldTrackActionClick,T=i.clickObservable,r=i.mutationObservable,o=i.navigateObservable,x=T.pipe(Sh(function(a){return!E("click",a.closestTrackedAncestor)}),To(function(a){var f=TM(a.event.target,s.actionClickAllowlist);return a.closestTrackedAncestor=f,a.closestTrackedAncestor!==null&&(a.targetElementProperties=p(a.type,a.closestTrackedAncestor)),a}),Sh(CM),Sh(function(a){return n("click",a.closestTrackedAncestor)})),d=[r];o&&d.push(o);var h=N5.apply(void 0,qr([],wi(d),!1)),l=x.pipe(JJ(function(a){return h.pipe(U5(1),AJ({first:500,with:function(){return gM}}),To(function(){return a}))}));return l.subscribe(function(a){t==null||t.track(Bb,p("click",a.closestTrackedAncestor),{time:a.timestamp})})}var Fd;(function(e){e.ClickObservable="clickObservable",e.ChangeObservable="changeObservable",e.NavigateObservable="navigateObservable",e.MutationObservable="mutationObservable"})(Fd||(Fd={}));function Rj(e){return e.type==="click"||e.type==="change"}var Aj=function(e){var t,i,s;e===void 0&&(e={});var p=e.dataAttributePrefix,E=p===void 0?Y$:p,n=e.visualTaggingOptions,T=n===void 0?{enabled:!0,messenger:new cj}:n;e.cssSelectorAllowlist=(t=e.cssSelectorAllowlist)!==null&&t!==void 0?t:W$,e.actionClickAllowlist=(i=e.actionClickAllowlist)!==null&&i!==void 0?i:X$,e.debounceTime=(s=e.debounceTime)!==null&&s!==void 0?s:0;var r=FZ,o="enrichment",x=[],d=void 0,h=function(){var v,g=yp(document,"click",{capture:!0}).pipe(To(function(b){return a(b,"click")})),m=yp(document,"change",{capture:!0}).pipe(To(function(b){return a(b,"change")})),y;window.navigation&&(y=yp(window.navigation,"navigate").pipe(To(function(b){return a(b,"navigate")})));var C=new Fs(function(b){var M=new MutationObserver(function(w){b.next(w)});return M.observe(document.body,{childList:!0,attributes:!0,characterData:!0,subtree:!0}),function(){return M.disconnect()}}).pipe(To(function(b){return a(b,"mutation")}));return v={},v[Fd.ClickObservable]=g,v[Fd.ChangeObservable]=m,v[Fd.NavigateObservable]=y,v[Fd.MutationObservable]=C,v},l=function(v,g){var m,y,C,b=(C=(y=g==null?void 0:g.tagName)===null||y===void 0?void 0:y.toLowerCase)===null||C===void 0?void 0:C.call(y),M=typeof g.getBoundingClientRect=="function"?g.getBoundingClientRect():{left:null,top:null},w=g.getAttribute("aria-label"),R=lj(g,E),A=Z5(g),L=$5(g,d),F=(m={},m[BZ]=g.getAttribute("id")||"",m[GZ]=g.getAttribute("class"),m[kZ]=Sj(g),m[v5]=b,m[p5]=xM(g),m[UZ]=M.left==null?null:Math.round(M.left),m[VZ]=M.top==null?null:Math.round(M.top),m[zZ]=w,m[WZ]=R,m[g5]=L,m[YZ]=A,m[m5]=window.location.href.split("?")[0],m[XZ]=typeof document<"u"&&document.title||"",m[HZ]=window.innerHeight,m[$Z]=window.innerWidth,m);return b==="a"&&v==="click"&&g instanceof HTMLAnchorElement&&(F[NZ]=g.href),K5(F)},a=function(v,g){var m={event:v,timestamp:Date.now(),type:g};if(Rj(m)&&m.event.target!==null){var y=TM(m.event.target,e.cssSelectorAllowlist);return y&&(m.closestTrackedAncestor=y,m.targetElementProperties=l(m.type,y)),m}return m},f=function(v,g){return ne(void 0,void 0,void 0,function(){var m,y,C,b,M,w,R,A,L,F;return qt(this,function(G){return d=v.loggerProvider,typeof document>"u"?[2]:(m=zE(e,e.cssSelectorAllowlist),y=zE(e,e.actionClickAllowlist),C=h(),b=bj({allObservables:C,options:e,amplitude:g,shouldTrackEvent:m}),x.push(b),M=Mj({allObservables:C,getEventProperties:l,amplitude:g,shouldTrackEvent:m}),x.push(M),w=wj({allObservables:C,options:e,getEventProperties:l,amplitude:g,shouldTrackEvent:m,shouldTrackActionClick:y}),x.push(w),(L=v==null?void 0:v.loggerProvider)===null||L===void 0||L.log("".concat(r," has been successfully added.")),window.opener&&T.enabled&&(R=e.cssSelectorAllowlist,A=e.actionClickAllowlist,(F=T.messenger)===null||F===void 0||F.setup(Te(Te({logger:v==null?void 0:v.loggerProvider},(v==null?void 0:v.serverZone)&&{endpoint:JZ[v.serverZone]}),{isElementSelectable:zE(e,qr(qr([],wi(R),!1),wi(A),!1)),cssSelectorAllowlist:R,actionClickAllowlist:A}))),[2])})})},c=function(v){return ne(void 0,void 0,void 0,function(){return qt(this,function(g){return[2,v]})})},u=function(){return ne(void 0,void 0,void 0,function(){var v,g,m,y,C;return qt(this,function(b){try{for(v=br(x),g=v.next();!g.done;g=v.next())m=g.value,m.unsubscribe()}catch(M){y={error:M}}finally{try{g&&!g.done&&(C=v.return)&&C.call(v)}finally{if(y)throw y.error}}return[2]})})};return{name:r,type:o,setup:f,execute:c,teardown:u}},Oj=function(e){Ds(t,e);function t(){return e!==null&&e.apply(this,arguments)||this}return t.prototype.init=function(i,s,p){i===void 0&&(i="");var E,n;return arguments.length>2?(E=s,n=p):typeof s=="string"?(E=s,n=void 0):(E=s==null?void 0:s.userId,n=s),es(this._init(Te(Te({},n),{userId:E,apiKey:i})))},t.prototype._init=function(i){var s,p,E;return ne(this,void 0,void 0,function(){var n,T,r,o,x,d,h=this;return qt(this,function(l){switch(l.label){case 0:return this.initializing?[2]:(this.initializing=!0,[4,hZ(i.apiKey,i,this)]);case 1:return n=l.sent(),i.fetchRemoteConfig?[4,DZ(n)]:[3,4];case 2:return T=l.sent(),[4,T.generateJoinedConfig()];case 3:n=l.sent(),l.label=4;case 4:return[4,e.prototype._init.call(this,n)];case 5:return l.sent(),this.logBrowserOptions(n),l5(this.config.defaultTracking)?(r=YK(this.config),this.webAttribution=new EK(r,this.config),[4,this.webAttribution.init()]):[3,7];case 6:l.sent(),l.label=7;case 7:return o=_y(),x=Number.isNaN(Number(o.ampSessionId))?void 0:Number(o.ampSessionId),this.setSessionId((E=(p=(s=i.sessionId)!==null&&s!==void 0?s:x)!==null&&p!==void 0?p:this.config.sessionId)!==null&&E!==void 0?E:Date.now()),d=Ep(i.instanceName),d.identityStore.setIdentity({userId:this.config.userId,deviceId:this.config.deviceId}),this.config.offline===z$?[3,9]:[4,this.add(CZ()).promise];case 8:l.sent(),l.label=9;case 9:return[4,this.add(new oK).promise];case 10:return l.sent(),[4,this.add(new ZK).promise];case 11:return l.sent(),[4,this.add(new kK).promise];case 12:return l.sent(),TZ(this.config),UK(this.config.defaultTracking)?(this.config.loggerProvider.debug("Adding file download tracking plugin"),[4,this.add(xZ()).promise]):[3,14];case 13:l.sent(),l.label=14;case 14:return VK(this.config.defaultTracking)?(this.config.loggerProvider.debug("Adding form interaction plugin"),[4,this.add(yZ()).promise]):[3,16];case 15:l.sent(),l.label=16;case 16:return h5(this.config.defaultTracking)?(this.config.loggerProvider.debug("Adding page view tracking plugin"),[4,this.add(vZ(WK(this.config))).promise]):[3,18];case 17:l.sent(),l.label=18;case 18:return u5(this.config.autocapture)?(this.config.loggerProvider.debug("Adding user interactions plugin (autocapture plugin)"),[4,this.add(Aj(zK(this.config))).promise]):[3,20];case 19:l.sent(),l.label=20;case 20:return this.initializing=!1,[4,this.runQueuedFunctions("dispatchQ")];case 21:return l.sent(),d.eventBridge.setEventReceiver(function(a){h.track(a.eventType,a.eventProperties)}),[2]}})})},t.prototype.getUserId=function(){var i;return(i=this.config)===null||i===void 0?void 0:i.userId},t.prototype.setUserId=function(i){if(!this.config){this.q.push(this.setUserId.bind(this,i));return}this.config.loggerProvider.debug("function setUserId: ",i),(i!==this.config.userId||i===void 0)&&(this.config.userId=i,BK(i,this.config.instanceName))},t.prototype.getDeviceId=function(){var i;return(i=this.config)===null||i===void 0?void 0:i.deviceId},t.prototype.setDeviceId=function(i){if(!this.config){this.q.push(this.setDeviceId.bind(this,i));return}this.config.loggerProvider.debug("function setDeviceId: ",i),this.config.deviceId=i,GK(i,this.config.instanceName)},t.prototype.reset=function(){this.setDeviceId(jd()),this.setUserId(void 0)},t.prototype.getSessionId=function(){var i;return(i=this.config)===null||i===void 0?void 0:i.sessionId},t.prototype.setSessionId=function(i){var s,p=[];if(!this.config)return this.q.push(this.setSessionId.bind(this,i)),es(Promise.resolve());if(i===this.config.sessionId)return es(Promise.resolve());this.config.loggerProvider.debug("function setSessionId: ",i);var E=this.getSessionId(),n=this.config.lastEventTime,T=(s=this.config.lastEventId)!==null&&s!==void 0?s:-1;this.config.sessionId=i,this.config.lastEventTime=void 0,this.config.pageCounter=0,_D(this.config.defaultTracking)&&(E&&n&&p.push(this.track(iF,void 0,{device_id:this.previousSessionDeviceId,event_id:++T,session_id:E,time:n+1,user_id:this.previousSessionUserId}).promise),this.config.lastEventTime=this.config.sessionId);var r=this.trackCampaignEventIfNeeded(++T,p);return _D(this.config.defaultTracking)&&p.push(this.track(eF,void 0,{event_id:r?++T:T,session_id:this.config.sessionId,time:this.config.lastEventTime}).promise),this.previousSessionDeviceId=this.config.deviceId,this.previousSessionUserId=this.config.userId,es(Promise.all(p))},t.prototype.extendSession=function(){if(!this.config){this.q.push(this.extendSession.bind(this));return}this.config.lastEventTime=Date.now()},t.prototype.setTransport=function(i){if(!this.config){this.q.push(this.setTransport.bind(this,i));return}this.config.transportProvider=c5(i)},t.prototype.identify=function(i,s){if(IE(i)){var p=i._q;i._q=[],i=FE(new Sp,p)}return s!=null&&s.user_id&&this.setUserId(s.user_id),s!=null&&s.device_id&&this.setDeviceId(s.device_id),e.prototype.identify.call(this,i,s)},t.prototype.groupIdentify=function(i,s,p,E){if(IE(p)){var n=p._q;p._q=[],p=FE(new Sp,n)}return e.prototype.groupIdentify.call(this,i,s,p,E)},t.prototype.revenue=function(i,s){if(IE(i)){var p=i._q;i._q=[],i=FE(new iK,p)}return e.prototype.revenue.call(this,i,s)},t.prototype.trackCampaignEventIfNeeded=function(i,s){if(!this.webAttribution||!this.webAttribution.shouldTrackNewCampaign)return!1;var p=this.webAttribution.generateCampaignEvent(i);return s?s.push(this.track(p).promise):this.track(p),this.config.loggerProvider.log("Tracking attribution."),!0},t.prototype.process=function(i){return ne(this,void 0,void 0,function(){var s,p,E;return qt(this,function(n){return s=Date.now(),p=o5(this.config.sessionTimeout,this.config.lastEventTime),E=this.webAttribution&&this.webAttribution.shouldSetSessionIdOnNewCampaign(),i.event_type!==eF&&i.event_type!==iF&&(!i.session_id||i.session_id===this.getSessionId())&&(p||E?(this.setSessionId(s),E&&this.config.loggerProvider.log("Created a new session for new campaign.")):p||this.trackCampaignEventIfNeeded()),[2,e.prototype.process.call(this,i)]})})},t.prototype.logBrowserOptions=function(i){try{var s=Te(Te({},i),{apiKey:i.apiKey.substring(0,10)+"********"});this.config.loggerProvider.debug("Initialized Amplitude with BrowserConfig:",JSON.stringify(s))}catch(p){this.config.loggerProvider.error("Error logging browser config",p)}},t}(eK),Lj=function(){var e=new Oj;return{init:Sr(e.init.bind(e),"init",Tr(e),Cr(e,["config"])),add:Sr(e.add.bind(e),"add",Tr(e),Cr(e,["config.apiKey","timeline.plugins"])),remove:Sr(e.remove.bind(e),"remove",Tr(e),Cr(e,["config.apiKey","timeline.plugins"])),track:Sr(e.track.bind(e),"track",Tr(e),Cr(e,["config.apiKey","timeline.queue.length"])),logEvent:Sr(e.logEvent.bind(e),"logEvent",Tr(e),Cr(e,["config.apiKey","timeline.queue.length"])),identify:Sr(e.identify.bind(e),"identify",Tr(e),Cr(e,["config.apiKey","timeline.queue.length"])),groupIdentify:Sr(e.groupIdentify.bind(e),"groupIdentify",Tr(e),Cr(e,["config.apiKey","timeline.queue.length"])),setGroup:Sr(e.setGroup.bind(e),"setGroup",Tr(e),Cr(e,["config.apiKey","timeline.queue.length"])),revenue:Sr(e.revenue.bind(e),"revenue",Tr(e),Cr(e,["config.apiKey","timeline.queue.length"])),flush:Sr(e.flush.bind(e),"flush",Tr(e),Cr(e,["config.apiKey","timeline.queue.length"])),getUserId:Sr(e.getUserId.bind(e),"getUserId",Tr(e),Cr(e,["config","config.userId"])),setUserId:Sr(e.setUserId.bind(e),"setUserId",Tr(e),Cr(e,["config","config.userId"])),getDeviceId:Sr(e.getDeviceId.bind(e),"getDeviceId",Tr(e),Cr(e,["config","config.deviceId"])),setDeviceId:Sr(e.setDeviceId.bind(e),"setDeviceId",Tr(e),Cr(e,["config","config.deviceId"])),reset:Sr(e.reset.bind(e),"reset",Tr(e),Cr(e,["config","config.userId","config.deviceId"])),getSessionId:Sr(e.getSessionId.bind(e),"getSessionId",Tr(e),Cr(e,["config"])),setSessionId:Sr(e.setSessionId.bind(e),"setSessionId",Tr(e),Cr(e,["config"])),extendSession:Sr(e.extendSession.bind(e),"extendSession",Tr(e),Cr(e,["config"])),setOptOut:Sr(e.setOptOut.bind(e),"setOptOut",Tr(e),Cr(e,["config"])),setTransport:Sr(e.setTransport.bind(e),"setTransport",Tr(e),Cr(e,["config"]))}};const SM=Lj();var Dj=SM.identify,Fj=SM.init,Ij=SM.track;const pF={ORACLE_BALL:{button_name:"oracle_ball",page:"prediction"},SHARE_PREDICTION_TO_STORY:{button_name:"story_share",page:"view_prediction"},GET_FREE_ESSENCE:{button_name:"get_free_essence",page:"prediction"}};class Bj{constructor(){Fj(ur.AMPLITUDE_TOKEN,{autocapture:!0});const t=new Sp;t.set("platform",ur.PLATFORM),Dj(t)}clickButton(t){Ij("button_clicked",t)}}const gF=new Bj;var Gj=Object.defineProperty,kj=Object.getOwnPropertyDescriptor,J5=(e,t,i,s)=>{for(var p=kj(t,i),E=e.length-1,n;E>=0;E--)(n=e[E])&&(p=n(t,i,p)||p);return p&&Gj(t,i,p),p};const Nj=async e=>{const{url:t}=await Dd.getStoryPath(e.id);await J4.shareToStory(`${ur.API_URL}${t}`)};class EM extends cl.Scene{constructor(){super(n$);Gt(this,"bg");Gt(this,"oracleBallEntity");Gt(this,"freeEssenceEntity");Gt(this,"balanceEntity");Gt(this,"backButton");Gt(this,"shareStoryButton")}init(){this.bg=new fM(this)}async create(){const i=y0.get(Ld.PROFILE);this.backButton=new R$(this),this.shareStoryButton=new w$(this),this.balanceEntity=await dM.create(this,i.balance),this.oracleBallEntity=await hM.create(this),this.freeEssenceEntity=await uM.create(this,new Date(i.lastFreeCrediting).getTime()),this.events.on(Nr.BG_RETURNED,()=>{this.balanceEntity.show()}),this.events.on(Nr.BG_SCALED,async()=>{const s=await Dd.getProfile();y0.set(Ld.PROFILE,s),this.shareStoryButton.setVisible(!0),this.backButton.setVisible(!0)}),this.events.on(Nr.BACK_BUTTON_ON_POINTERDOWN,async()=>{this.shareStoryButton.setVisible(!1),this.oracleBallEntity.reset(),this.bg.runReturnScaleAnimation()}),this.events.on(Nr.BALL_ON_POINTERDOWN,async()=>{if(gF.clickButton(pF.ORACLE_BALL),y0.get(Ld.PROFILE).balance<=0){this.oracleBallEntity.shakeEffect(),await J4.vibrate();return}this.freeEssenceEntity.hide(),this.balanceEntity.hide();const p=await Dd.getPrediction();this.events.emit(Nr.PREDICTION_RECEIVED,p)}),this.events.on(Nr.PREDICTION_RECEIVED,async s=>{this.oracleBallEntity.handleBallClick(s.text),this.bg.runScaleAnimation();const p=()=>Nj(s);this.events.off(Nr.SHARE_STORY_BUTTON_ON_POINTERDOWN,p),this.events.once(Nr.SHARE_STORY_BUTTON_ON_POINTERDOWN,p)}),this.events.on(Nr.FREE_ESSENCE_BUTTON_ON_POINTERDOWN,async()=>{gF.clickButton(pF.GET_FREE_ESSENCE),await Dd.getFreeEssence(),this.events.emit(Nr.FREE_ESSENCE_RECEIVED)}),this.events.on(Nr.FREE_ESSENCE_RECEIVED,async()=>{const s=await Dd.getProfile();y0.set(Ld.PROFILE,s),this.freeEssenceEntity.updateLastFreeCrediting(new Date(s.lastFreeCrediting).getTime()),this.freeEssenceEntity.show()}),Q4.on(q4(Ld.PROFILE),s=>{this.balanceEntity.updateBalance(s.balance)})}}J5([Mo],EM.prototype,"init");J5([Mo],EM.prototype,"create");var Uj=Object.defineProperty,Vj=Object.getOwnPropertyDescriptor,PM=(e,t,i,s)=>{for(var p=Vj(t,i),E=e.length-1,n;E>=0;E--)(n=e[E])&&(p=n(t,i,p)||p);return p&&Uj(t,i,p),p};class bx extends Jd.Scene{constructor(){super(F4);Gt(this,"bg")}async init(){this.bg=new fM(this,!0);const i=this.scale.width,s=this.scale.height,E=i-16*2,n=32,T=i/2,r=s/2;this.add.rectangle(T,r,E,n).setStrokeStyle(1,16777215);const o=this.add.rectangle(T-E/2+2,r,4,n-4,16777215);this.load.on("progress",x=>{o.width=4+(E-8)*x})}preload(){this.load.setPath("assets"),this.load.font([{key:"MonotypeCorsiva",url:"./fonts/Monotype-Corsiva-Regular.ttf",format:"truetype",descriptors:{style:"normal",weight:"400"}},{key:"MonotypeCorsivaItalic",url:"./fonts/Monotype-Corsiva-Regular-Italic.ttf",format:"truetype",descriptors:{style:"italic",weight:"400"}},{key:"MonotypeCorsivaBold",url:"./fonts/Monotype-Corsiva-Bold.ttf",format:"truetype",descriptors:{style:"normal",weight:"700"}},{key:"MonotypeCorsivaBoldItalic",url:"./fonts/Monotype-Corsiva-Bold-Italic.ttf",format:"truetype",descriptors:{style:"italic",weight:"700"}}]),this.load.image(z4,"./bg.png"),this.load.image(a$,"./glade.png"),this.load.image(B4,"./oracle-ball.png"),this.load.image(N4,"./free-essence-btn.png"),this.load.image(U4,"./balance-board.png"),this.load.image(V4,"./free-board.png"),this.load.image(G4,"./back-button.png"),this.load.image(k4,"./share-story-button.png"),this.load.image(Y4,"./cell.png"),this.load.image(X4,"./cell_dark.png")}async create(){{this.scene.start(I4);return}}}PM([Mo],bx.prototype,"init");PM([Mo],bx.prototype,"preload");PM([Mo],bx.prototype,"create");var zj=Object.defineProperty,Wj=Object.getOwnPropertyDescriptor,Yj=(e,t,i,s)=>{for(var p=Wj(t,i),E=e.length-1,n;E>=0;E--)(n=e[E])&&(p=n(t,i,p)||p);return p&&zj(t,i,p),p};class j5 extends Jd.Scene{constructor(){super(s$)}async preload(){console.log("ERROR"),this.add.text(20,300,"Что-то пошло не так")}}Yj([Mo],j5.prototype,"preload");var bM={exports:{}},Vd=typeof Reflect=="object"?Reflect:null,mF=Vd&&typeof Vd.apply=="function"?Vd.apply:function(t,i,s){return Function.prototype.apply.call(t,i,s)},Xy;Vd&&typeof Vd.ownKeys=="function"?Xy=Vd.ownKeys:Object.getOwnPropertySymbols?Xy=function(t){return Object.getOwnPropertyNames(t).concat(Object.getOwnPropertySymbols(t))}:Xy=function(t){return Object.getOwnPropertyNames(t)};function Xj(e){console&&console.warn&&console.warn(e)}var Q5=Number.isNaN||function(t){return t!==t};function Di(){Di.init.call(this)}bM.exports=Di;bM.exports.once=Zj;Di.EventEmitter=Di;Di.prototype._events=void 0;Di.prototype._eventsCount=0;Di.prototype._maxListeners=void 0;var yF=10;function Mx(e){if(typeof e!="function")throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof e)}Object.defineProperty(Di,"defaultMaxListeners",{enumerable:!0,get:function(){return yF},set:function(e){if(typeof e!="number"||e<0||Q5(e))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+e+".");yF=e}});Di.init=function(){(this._events===void 0||this._events===Object.getPrototypeOf(this)._events)&&(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0};Di.prototype.setMaxListeners=function(t){if(typeof t!="number"||t<0||Q5(t))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+t+".");return this._maxListeners=t,this};function q5(e){return e._maxListeners===void 0?Di.defaultMaxListeners:e._maxListeners}Di.prototype.getMaxListeners=function(){return q5(this)};Di.prototype.emit=function(t){for(var i=[],s=1;s<arguments.length;s++)i.push(arguments[s]);var p=t==="error",E=this._events;if(E!==void 0)p=p&&E.error===void 0;else if(!p)return!1;if(p){var n;if(i.length>0&&(n=i[0]),n instanceof Error)throw n;var T=new Error("Unhandled error."+(n?" ("+n.message+")":""));throw T.context=n,T}var r=E[t];if(r===void 0)return!1;if(typeof r=="function")mF(r,this,i);else for(var o=r.length,x=r9(r,o),s=0;s<o;++s)mF(x[s],this,i);return!0};function _5(e,t,i,s){var p,E,n;if(Mx(i),E=e._events,E===void 0?(E=e._events=Object.create(null),e._eventsCount=0):(E.newListener!==void 0&&(e.emit("newListener",t,i.listener?i.listener:i),E=e._events),n=E[t]),n===void 0)n=E[t]=i,++e._eventsCount;else if(typeof n=="function"?n=E[t]=s?[i,n]:[n,i]:s?n.unshift(i):n.push(i),p=q5(e),p>0&&n.length>p&&!n.warned){n.warned=!0;var T=new Error("Possible EventEmitter memory leak detected. "+n.length+" "+String(t)+" listeners added. Use emitter.setMaxListeners() to increase limit");T.name="MaxListenersExceededWarning",T.emitter=e,T.type=t,T.count=n.length,Xj(T)}return e}Di.prototype.addListener=function(t,i){return _5(this,t,i,!1)};Di.prototype.on=Di.prototype.addListener;Di.prototype.prependListener=function(t,i){return _5(this,t,i,!0)};function Hj(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,arguments.length===0?this.listener.call(this.target):this.listener.apply(this.target,arguments)}function t9(e,t,i){var s={fired:!1,wrapFn:void 0,target:e,type:t,listener:i},p=Hj.bind(s);return p.listener=i,s.wrapFn=p,p}Di.prototype.once=function(t,i){return Mx(i),this.on(t,t9(this,t,i)),this};Di.prototype.prependOnceListener=function(t,i){return Mx(i),this.prependListener(t,t9(this,t,i)),this};Di.prototype.removeListener=function(t,i){var s,p,E,n,T;if(Mx(i),p=this._events,p===void 0)return this;if(s=p[t],s===void 0)return this;if(s===i||s.listener===i)--this._eventsCount===0?this._events=Object.create(null):(delete p[t],p.removeListener&&this.emit("removeListener",t,s.listener||i));else if(typeof s!="function"){for(E=-1,n=s.length-1;n>=0;n--)if(s[n]===i||s[n].listener===i){T=s[n].listener,E=n;break}if(E<0)return this;E===0?s.shift():$j(s,E),s.length===1&&(p[t]=s[0]),p.removeListener!==void 0&&this.emit("removeListener",t,T||i)}return this};Di.prototype.off=Di.prototype.removeListener;Di.prototype.removeAllListeners=function(t){var i,s,p;if(s=this._events,s===void 0)return this;if(s.removeListener===void 0)return arguments.length===0?(this._events=Object.create(null),this._eventsCount=0):s[t]!==void 0&&(--this._eventsCount===0?this._events=Object.create(null):delete s[t]),this;if(arguments.length===0){var E=Object.keys(s),n;for(p=0;p<E.length;++p)n=E[p],n!=="removeListener"&&this.removeAllListeners(n);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if(i=s[t],typeof i=="function")this.removeListener(t,i);else if(i!==void 0)for(p=i.length-1;p>=0;p--)this.removeListener(t,i[p]);return this};function e9(e,t,i){var s=e._events;if(s===void 0)return[];var p=s[t];return p===void 0?[]:typeof p=="function"?i?[p.listener||p]:[p]:i?Kj(p):r9(p,p.length)}Di.prototype.listeners=function(t){return e9(this,t,!0)};Di.prototype.rawListeners=function(t){return e9(this,t,!1)};Di.listenerCount=function(e,t){return typeof e.listenerCount=="function"?e.listenerCount(t):i9.call(e,t)};Di.prototype.listenerCount=i9;function i9(e){var t=this._events;if(t!==void 0){var i=t[e];if(typeof i=="function")return 1;if(i!==void 0)return i.length}return 0}Di.prototype.eventNames=function(){return this._eventsCount>0?Xy(this._events):[]};function r9(e,t){for(var i=new Array(t),s=0;s<t;++s)i[s]=e[s];return i}function $j(e,t){for(;t+1<e.length;t++)e[t]=e[t+1];e.pop()}function Kj(e){for(var t=new Array(e.length),i=0;i<t.length;++i)t[i]=e[i].listener||e[i];return t}function Zj(e,t){return new Promise(function(i,s){function p(n){e.removeListener(t,E),s(n)}function E(){typeof e.removeListener=="function"&&e.removeListener("error",p),i([].slice.call(arguments))}n9(e,t,E,{once:!0}),t!=="error"&&Jj(e,p,{once:!0})})}function Jj(e,t,i){typeof e.on=="function"&&n9(e,"error",t,i)}function n9(e,t,i,s){if(typeof e.on=="function")s.once?e.once(t,i):e.on(t,i);else if(typeof e.addEventListener=="function")e.addEventListener(t,function p(E){s.once&&e.removeEventListener(t,p),i(E)});else throw new TypeError('The "emitter" argument must be of type EventEmitter. Received type '+typeof e)}var s9=bM.exports;const a9=new s9.EventEmitter,Hu=$4(a9),Qd=K4(a9);var rs=(e=>(e["GENERATOR:CREATED_ELEMENT"]="generator:created_element",e["GRID:ITEM_MOVED"]="grid:item_moved",e["GRID:COMBINED"]="grid:combined",e["GRID:MOVE_CANCELLED"]="grid:move_cancelled",e["COMPLETE_TASK_USE_CASE:COMPLETED"]="complete_task_use_case:completed",e["BULLETIN_BOARD_USE_CASE:TASK_ADDED"]="bulletin_board_use_case:task_added",e["CHECK_READY_TASK_USE_CASE:COMPLETED"]="check_ready_task_use_case:completed",e))(rs||{});const o9=new s9.EventEmitter,MM=$4(o9),wM=K4(o9);var $u=(e=>(e["GENERATOR_VIEW:POINTERDOWN"]="generator_view:pointerdown",e["ITEM_VIEW:DRAG_END"]="item_view:drag_end",e["TASK_VIEW:POINTERDOWN"]="task_view:pointerdown",e))($u||{});class jj{constructor(t,i,s,p,E){Gt(this,"background");Gt(this,"content",null);Gt(this,"size");this.size=p;const n=E?X4:Y4;this.background=new cl.GameObjects.Image(t,i,s,n),this.background.setDisplaySize(p,p),t.add.existing(this.background)}clearContent(){this.content&&(this.content.destroy(),this.content=null)}setContent(t){if(this.content&&!t){this.content=null;return}if(this.content&&t&&this.content.id!==(t==null?void 0:t.id))throw new Error("Can't set the content");this.content=t,t.setToCell({x:this.background.x,y:this.background.y},this.size)}get x(){return this.background.x}get y(){return this.background.y}isEqualContent(t){return this.content&&this.content.id===t}hasContent(){return!!this.content}getContent(){return this.content}}class RM{constructor(t){Gt(this,"cells");this.scene=t}static create(t,i,s){const p=new RM(t);return p.initTable(t,i,s),p}initTable(t,i,s){this.cells=[];const T=((t.sys.game.scale.width>t.sys.game.scale.height?t.sys.game.scale.height:t.sys.game.scale.width)-2*20)/i,r=i*T,o=i*T,x=t.sys.game.scale.width/2-r/2,d=t.sys.game.scale.height/2-o/2;for(let h=0;h<s;h++){this.cells[h]=[];for(let l=0;l<i;l++){const a=x+l*T+T/2,f=d+h*T+T/2,c=(h+l)%2===0,u=new jj(t,a,f,T,c);this.cells[h][l]=u}}}setContent(t,i,s){var p,E;(E=(p=this.cells)==null?void 0:p[s])==null||E[i].setContent(t)}getCell(t,i){var s,p;return(p=(s=this.cells)==null?void 0:s[i])==null?void 0:p[t]}moveItemToEmpty(t,i){const s=this.getCell(t.x,t.y);this.getCell(i.x,i.y).setContent(s.getContent()),s==null||s.setContent(null)}combine(t,i,s){const p=this.getCell(t.x,t.y),E=this.getCell(i.x,i.y);p.clearContent(),E.clearContent(),E.setContent(s)}cleanItem(t){const i=this.findItemCell(t);if(!i)throw new Error(`Cell with item not found. item id ${t}`);i.clearContent()}findItemCell(t){for(let i=0;i<this.cells.length;i++)for(let s=0;s<this.cells[i].length;s++){const p=this.cells[i][s];if(p.isEqualContent(t))return p}return null}findClosestCellIndex(t,i){let s=Number.MAX_VALUE,p=null;for(let E=0;E<this.cells.length;E++)for(let n=0;n<this.cells[E].length;n++){const T=this.cells[E][n],r=Phaser.Math.Distance.Between(t,i,T.x,T.y);r<s&&(s=r,p=[n,E])}return s<=100?p:null}findItemCellIndex(t){for(let i=0;i<this.cells.length;i++)for(let s=0;s<this.cells[i].length;s++)if(this.cells[i][s].isEqualContent(t))return[s,i];return null}cancelMove(t){const i=this.findItemCell(t);if(!i)return;const s=i.getContent();i.setContent(s)}getTopY(){const p=(Math.min(this.scene.sys.game.scale.width,this.scene.sys.game.scale.height)-2*20)/this.cells[0].length,E=this.cells.length*p;return this.scene.sys.game.scale.height/2-E/2}}const qd={BOILER:"boiler"},ia={MUSHROOM:"mushroom"};function Qj(e){return Object.values(qd).includes(e)}function qj(e){return Object.values(ia).includes(e)}var _j=Object.defineProperty,tQ=Object.getOwnPropertyDescriptor,eQ=(e,t,i,s)=>{for(var p=tQ(t,i),E=e.length-1,n;E>=0;E--)(n=e[E])&&(p=n(t,i,p)||p);return p&&_j(t,i,p),p};const xF=1.2;class AM{constructor(t,i,s){Gt(this,"image");Gt(this,"scene");Gt(this,"scaleX",1);Gt(this,"scaleY",1);this.id=t,this.scene=i,this.image=i.add.image(0,0,s),this.image.setInteractive({draggable:!0}),this.image.on("drag",this.onDrag,this),this.image.on("dragend",this.onDragEnd,this)}setToCell(t,i){const s=this.image.frame;this.scaleX=i/s.width,this.scaleY=i/s.height,this.image.setPosition(t.x,t.y),this.image.setScale(this.scaleX,this.scaleY)}onDrag(t,i,s){this.image.setDepth(1),this.image.setScale(this.scaleX*xF,this.scaleY*xF),this.image.setDepth(1e3),this.image.x=i,this.image.y=s}onDragEnd(t){return this.image.setScale(this.scaleX,this.scaleY),this.image.setDepth(100),console.log("emit ITEM_VIEW:DRAG_END this.id",this.id),[t.x,t.y,this.id]}destroy(){this.image.destroy(!0)}getId(){return this.id}deactivate(){this.image.disableInteractive()}}eQ([MM($u["ITEM_VIEW:DRAG_END"])],AM.prototype,"onDragEnd");class iQ extends AM{}class rQ extends iQ{constructor(t,i,s){super(t,s,`matchItem${i}`),this.id=t,this.level=i}}class l9{static create(t,i){switch(i.type){case ia.MUSHROOM:return new rQ(i.id,i.level,t);default:return mx(i.type)}}}var nQ=Object.defineProperty,sQ=Object.getOwnPropertyDescriptor,aQ=(e,t,i,s)=>{for(var p=sQ(t,i),E=e.length-1,n;E>=0;E--)(n=e[E])&&(p=n(t,i,p)||p);return p&&nQ(t,i,p),p};class h9 extends AM{constructor(t,i,s){super(t,i,s),this.image.on("pointerdown",this.onPointerdownGenerator,this)}onPointerdownGenerator(){return this.getId()}}aQ([MM($u["GENERATOR_VIEW:POINTERDOWN"])],h9.prototype,"onPointerdownGenerator");class oQ extends h9{constructor(t,i,s){console.log("BoilerGeneratorView level",i),super(t,s,H4)}}class lQ{static create(t,i){switch(i.type){case qd.BOILER:return new oQ(i.id,i.level,t);default:return mx(i.type)}}}class u9{constructor(t,i,s){Gt(this,"id");Gt(this,"type");Gt(this,"level");this.type=i,this.level=s,this.id=t}canCombineWith(t){return this.id!==t.id&&this.type===t.type&&this.level===t.level}}class wx extends u9{constructor(i,s,p,E,n,T){super(i,s,p);Gt(this,"clickLimit");Gt(this,"clicksLeft");Gt(this,"refreshInterval");Gt(this,"timer",0);this.spawnItemSet=T,this.clickLimit=E,this.clicksLeft=E,this.refreshInterval=n}tick(i){this.clicksLeft!==this.clickLimit&&(this.timer+=i,this.timer>=this.refreshInterval&&(this.timer=0,this.clicksLeft=this.clickLimit))}getNewTargetConfig(){if(this.clicksLeft<=0)throw new Error("Click limit expired");return this.clicksLeft--,this.spawnItemSet.pick()}}class f9 extends u9{}class Vb{static create(t,i){if(i instanceof wx||Object.values(qd).includes(i.type))return lQ.create(t,i);if(i instanceof f9||Object.values(ia).includes(i.type))return l9.create(t,i);throw new Error(`Unknown domain type ${i.type}`)}}class OM{constructor(t){Gt(this,"background");Gt(this,"text");Gt(this,"icon");Gt(this,"container");Gt(this,"currentValue",0);this.scene=t}static create(t){const i=new OM(t),s=3,p=8*s,E=140*s,n=36*s,T=20*s,r=16*s,o=t.add.rectangle(0,0,E,n,2039583,.8).setStrokeStyle(2*s,16777215,.3).setOrigin(0);let x;t.textures.exists("xp-icon")?x=t.add.image(p,n/2,"xp-icon").setOrigin(0,.5).setDisplaySize(T,T):x=t.add.circle(p+T/2,n/2,T/2,16574826).setOrigin(.5);const d=t.add.text(p+T+p/2,n/2,"XP: 0",{fontSize:`${r}px`,color:"#fce96a",fontFamily:"Arial"}).setOrigin(0,.5),h=t.add.container(16,16,[o,x,d]).setScrollFactor(0);return i.background=o,i.text=d,i.icon=x,i.container=h,i}updateExperience(t){this.scene.tweens.addCounter({from:this.currentValue,to:this.currentValue+t,duration:400,onUpdate:s=>{const p=Math.floor(s.getValue());this.text.setText(`XP: ${p}`)},onComplete:()=>{this.currentValue=this.currentValue+t}})}setVisible(t){this.container.setVisible(t)}setPosition(t,i){this.container.setPosition(t,i)}destroy(){this.container.destroy(!0)}}class LM{constructor(t){Gt(this,"background");Gt(this,"text");Gt(this,"icon");Gt(this,"container");Gt(this,"currentValue",0);this.scene=t}static create(t){const i=new LM(t),s=3,p=8*s,E=140*s,n=36*s,T=20*s,r=16*s,o=t.scale.width,x=t.add.rectangle(0,0,E,n,2039583,.8).setStrokeStyle(2*s,16777215,.3).setOrigin(0,0);let d;const h=E-p-T;t.textures.exists("gold-icon")?d=t.add.image(h,n/2,"gold-icon").setOrigin(0,.5).setDisplaySize(T,T):d=t.add.circle(h+T/2,n/2,T/2,16766720).setOrigin(.5);const l=t.add.text(p,n/2,"$: 0",{fontSize:`${r}px`,color:"#ffd700",fontFamily:"Arial"}).setOrigin(0,.5),a=t.add.container(o-E-16,16,[x,d,l]).setScrollFactor(0);return i.background=x,i.text=l,i.icon=d,i.container=a,i}updateGold(t){this.scene.tweens.addCounter({from:this.currentValue,to:this.currentValue+t,duration:400,onUpdate:s=>{const p=Math.floor(s.getValue());this.text.setText(`$: ${p}`)},onComplete:()=>{this.currentValue=this.currentValue+t}})}setVisible(t){this.container.setVisible(t)}setPosition(t,i){this.container.setPosition(t,i)}destroy(){this.container.destroy(!0)}}var hQ=Object.defineProperty,uQ=Object.getOwnPropertyDescriptor,fQ=(e,t,i,s)=>{for(var p=uQ(t,i),E=e.length-1,n;E>=0;E--)(n=e[E])&&(p=n(t,i,p)||p);return p&&hQ(t,i,p),p},Ba;const d9=(Ba=class{constructor(t,i){Gt(this,"container");Gt(this,"background");Gt(this,"prizeTexts",[]);Gt(this,"targetViews",[]);Gt(this,"completeButton");Gt(this,"completeText");this.id=t,this.scene=i}static create(t,i,s){const p=i*(this.WIDTH+32),E=0,n=new Ba(s.id,t),T=t.add.rectangle(0,0,this.WIDTH,this.HEIGHT,2763306,.9).setStrokeStyle(2,16777215,.3).setOrigin(0),r=s.getPrize(),o=this.WIDTH-200,x=t.add.text(o,this.PADDING,"Награда:",{...this.FONT}),d=t.add.text(o,this.PADDING+36,`• ${r.gold} $`,this.FONT),h=t.add.text(o,this.PADDING+72,`• ${r.experience} XP`,this.FONT),l=[x,d,h],a=o-16,f=t.add.rectangle(a,0,2,this.HEIGHT,16777215,.2).setOrigin(0,0),c=[],u=[],v=s.getTargets(),g=a-this.PADDING,m=v.length*this.ITEM_SIZE+(v.length-1)*16,y=this.PADDING+(g-m)*5;v.forEach((R,A)=>{const F={id:`task-target-${s.id}-${A}`,type:R.type,level:R.level},G=Vb.create(t,F),I=y+A*(this.ITEM_SIZE+16),B=this.HEIGHT/2;if(G.setToCell({x:I,y:B},this.ITEM_SIZE),G.deactivate(),c.push(G),R.count>1){const k=t.add.text(I+this.ITEM_SIZE/2+30,B+this.ITEM_SIZE/2+20,`x${R.count}`,{...this.FONT}).setOrigin(1,1);u.push(k)}});const C=t.add.rectangle(this.WIDTH/2,this.HEIGHT,160,50,43520,1).setOrigin(.5,.5).setStrokeStyle(2,16777215,.4).setVisible(!1);C.setInteractive(),C.on("pointerdown",n.emitPointerdown.bind(n));const b=t.add.text(this.WIDTH/2,this.HEIGHT,"Завершить",{fontSize:"20px",fontFamily:"Arial",color:"#ffffff"}).setOrigin(.5).setVisible(!1),M=[T,f,...l,C,b,...u],w=t.add.container(p,E,M).setScrollFactor(0);return c.forEach(R=>w.add(R.image)),n.container=w,n.background=T,n.prizeTexts=l,n.targetViews=c,n.completeButton=C,n.completeText=b,n}destroy(){this.targetViews.forEach(t=>t.destroy()),this.container.destroy(!0)}showCompleteButton(){var t,i;(t=this.completeButton)==null||t.setVisible(!0),(i=this.completeText)==null||i.setVisible(!0)}hideCompleteButton(){var t,i;(t=this.completeButton)==null||t.setVisible(!1),(i=this.completeText)==null||i.setVisible(!1)}setPosition(t,i){this.container.setPosition(t,i)}emitPointerdown(){return this.id}},Gt(Ba,"WIDTH",300),Gt(Ba,"HEIGHT",180),Gt(Ba,"PADDING",16),Gt(Ba,"ITEM_SIZE",64),Gt(Ba,"FONT",{fontFamily:"Arial",color:"#ffffff",fontSize:"34px"}),Ba);fQ([MM($u["TASK_VIEW:POINTERDOWN"])],d9.prototype,"emitPointerdown");let zb=d9;class DM{constructor(t){Gt(this,"container");Gt(this,"maskShape");Gt(this,"taskViews",[]);Gt(this,"scrollOffset",0);Gt(this,"padding",18);Gt(this,"bgWidth");Gt(this,"bgHeight",250);Gt(this,"scrollSpeed",30);Gt(this,"spacing",32);Gt(this,"pointerDownX",null);Gt(this,"isDragging",!1);Gt(this,"bounds");this.scene=t,this.bgWidth=t.scale.width}static create(t,i){const s=new DM(t),p=t.add.graphics();p.fillStyle(16777215),p.fillRect(0,0,s.bgWidth-s.padding*2,s.bgHeight-s.padding*2);const E=p.createGeometryMask();p.setVisible(!1);const n=t.add.container(s.padding,s.padding).setMask(E).setScrollFactor(0),r=(t.scale.width-s.bgWidth)/2+s.padding,o=i+s.padding;return n.setPosition(r,o),n.setData("initialX",n.x),p.setPosition(r,o),s.container=n,s.maskShape=p,s.bounds=new cl.Geom.Rectangle(r,o,s.bgWidth-s.padding*2,s.bgHeight-s.padding*2),t.input.on("pointerdown",x=>{s.bounds.contains(x.x,x.y)&&(s.pointerDownX=x.x,s.isDragging=!0)}),t.input.on("pointermove",x=>{if(!s.isDragging||s.pointerDownX===null)return;const d=x.x-s.pointerDownX,h=cl.Math.Clamp(s.scrollOffset+d,Math.min(0,s.bgWidth-s.totalContentWidth()-s.padding),0);s.container.x=s.initialContainerX()+h}),t.input.on("pointerup",x=>{if(!s.isDragging||s.pointerDownX===null)return;const d=x.x-s.pointerDownX,h=cl.Math.Clamp(s.scrollOffset+d,Math.min(0,s.bgWidth-s.totalContentWidth()-s.padding),0);s.scrollOffset=h,s.container.x=s.initialContainerX()+s.scrollOffset,s.pointerDownX=null,s.isDragging=!1}),s}totalContentWidth(){return this.taskViews.length*(zb.WIDTH+this.spacing)}initialContainerX(){return this.scene.scale.width/2-this.bgWidth/2+this.padding}scrollLeft(){this.scrollOffset=Math.min(this.scrollOffset+this.scrollSpeed,0),this.container.x=this.initialContainerX()+this.scrollOffset}scrollRight(){const t=Math.min(0,this.bgWidth-this.totalContentWidth()-this.padding);this.scrollOffset=Math.max(this.scrollOffset-this.scrollSpeed,t),this.container.x=this.initialContainerX()+this.scrollOffset}setVisible(t){this.container.setVisible(t)}destroyTaskById(t){const i=this.taskViews.findIndex(p=>p.id===t);if(i===-1)return;this.taskViews[i].destroy(),this.taskViews.splice(i,1);for(let p=i;p<this.taskViews.length;p++){const E=this.taskViews[p],n=p*(zb.WIDTH+this.spacing);E.setPosition(n,0)}}destroy(){this.taskViews.forEach(t=>t.destroy()),this.container.destroy(!0),this.maskShape.destroy(!0)}addTaskView(t){this.container.add(t.container),this.taskViews.push(t)}showCompleteButtons(t){for(const i of this.taskViews){const s=i.id;t.includes(s)?i.showCompleteButton():i.hideCompleteButton()}}}var dQ=Object.defineProperty,cQ=Object.getOwnPropertyDescriptor,wo=(e,t,i,s)=>{for(var p=s>1?void 0:s?cQ(t,i):t,E=e.length-1,n;E>=0;E--)(n=e[E])&&(p=(s?n(t,i,p):n(p))||p);return s&&p&&dQ(t,i,p),p};let ra=class{constructor(e,t){Gt(this,"gridView");Gt(this,"goldView");Gt(this,"experienceView");Gt(this,"bulletinBoardView");this.scene=e,this.controller=t,this.initGridView(),this.initItemsView(),this.initExperienceView(),this.initGoldView(),this.initBulletinBoardView(),this.initTasksView()}initGridView(){const{width:e,height:t}=this.controller.getGridSize();this.gridView=RM.create(this.scene,e,t)}initItemsView(){this.controller.getAllItemsWithPosition().forEach(t=>{const i=Vb.create(this.scene,t.item);this.gridView.setContent(i,t.x,t.y)})}initExperienceView(){const e=this.controller.getExperience();this.experienceView=OM.create(this.scene),this.experienceView.updateExperience(e)}initGoldView(){const e=this.controller.getGoldBalance();this.goldView=LM.create(this.scene),this.goldView.updateGold(e)}initBulletinBoardView(){const e=this.gridView.getTopY();this.bulletinBoardView=DM.create(this.scene,e)}initTasksView(){const e=this.controller.getAllTasks();for(let t=0;t<e.length;t++){const i=zb.create(this.scene,t,e[t]);this.bulletinBoardView.addTaskView(i)}}update(e){this.controller.update(e)}handlerReadyTasks(e){this.bulletinBoardView.showCompleteButtons(e)}handleCompleteTask(e,t,i){for(const s of t)this.gridView.cleanItem(s.id);this.bulletinBoardView.destroyTaskById(e),this.goldView.updateGold(i.gold),this.experienceView.updateExperience(i.experience)}handlerItemMoved(e,t){this.gridView.moveItemToEmpty(e,t)}handlerMoveCancel(e){this.gridView.cancelMove(e)}handlerCombined(e,t,i){const s=Vb.create(this.scene,i);this.gridView.combine(e,t,s)}handlerGeneratorCreatedElement(e,t,i){const s=l9.create(this.scene,i);this.gridView.setContent(s,e,t)}handlerItemDragEnd(e,t,i){const s=this.gridView.findClosestCellIndex(e,t),p=this.gridView.findItemCellIndex(i);if(!s||!p)return;const E={x:p[0],y:p[1]},n={x:s[0],y:s[1]};this.controller.moveItemTo(E,n)}handlerGeneratorClick(e){this.controller.generateTarget(e)}handlerPointerdown(e){this.controller.completeTask(e)}};wo([Qd(rs["CHECK_READY_TASK_USE_CASE:COMPLETED"])],ra.prototype,"handlerReadyTasks",1);wo([Qd(rs["COMPLETE_TASK_USE_CASE:COMPLETED"])],ra.prototype,"handleCompleteTask",1);wo([Qd(rs["GRID:ITEM_MOVED"])],ra.prototype,"handlerItemMoved",1);wo([Qd(rs["GRID:MOVE_CANCELLED"])],ra.prototype,"handlerMoveCancel",1);wo([Qd(rs["GRID:COMBINED"])],ra.prototype,"handlerCombined",1);wo([Qd(rs["GENERATOR:CREATED_ELEMENT"])],ra.prototype,"handlerGeneratorCreatedElement",1);wo([wM($u["ITEM_VIEW:DRAG_END"])],ra.prototype,"handlerItemDragEnd",1);wo([wM($u["GENERATOR_VIEW:POINTERDOWN"])],ra.prototype,"handlerGeneratorClick",1);wo([wM($u["TASK_VIEW:POINTERDOWN"])],ra.prototype,"handlerPointerdown",1);ra=wo([v$()],ra);function vQ(e,t,i,s){const p=e-i,E=t-s;return Math.sqrt(p*p+E*E)}class FM{constructor(t,i){Gt(this,"items",new Map);this.width=t,this.height=i}static init(t,i){return new FM(t,i)}getSize(){return{width:this.width,height:this.height}}getAllItems(){const t=[];return this.items.forEach(i=>{i&&t.push(i)}),t}getAllItemsWithPosition(){const t=[];return this.items.forEach((i,s)=>{i&&t.push({item:i,...this.parseKey(s)})}),t}getItemById(t){let i=null;return this.items.forEach(s=>{(s==null?void 0:s.id)===t&&(i=s)}),i}getAllGenerators(){const t=[];return this.items.forEach(i=>{i instanceof wx&&t.push(i)}),t}setGeneratedItem(t,i){const s=this.getItemPositionById(t);if(!s)throw new Error("Generator not found");const p=this.findEmptyCellNear(s.x,s.y);if(!p)throw new Error("Empty position not found");return this.setItem(p.x,p.y,i),p}getItem(t,i){const s=this.getKey(t,i);return this.items.get(s)}setItem(t,i,s){const p=this.getKey(t,i);this.items.set(p,s)}cleanItem(t,i){this.items.delete(this.getKey(t,i))}cleanItemById(t){const i=this.getItemPositionById(t);if(!i)throw new Error(`Item not found with id ${t}`);this.cleanItem(i.x,i.y)}findEmptyCellNear(t,i){console.log("this.items findEmptyCellNear",this.items);let s=Number.MAX_VALUE,p=null;for(let E=0;E<this.height;E++)for(let n=0;n<this.width;n++){const T=this.getKey(n,E);if(!this.getItem(n,E)){const r=vQ(t,i,n,E);r<s&&(s=r,p=T)}}return p?this.parseKey(p):null}getKey(t,i){return this.validateCoordinates(t,i),`${t}-${i}`}parseKey(t){const[i,s]=t.split("-");return{x:Number(i),y:Number(s)}}getItemPositionById(t){let i=null;return this.items.forEach((s,p)=>{(s==null?void 0:s.id)===t&&(i=this.parseKey(p))}),i}validateCoordinates(t,i){if(t<0||t>=this.width||i<0||i>=this.height)throw new Error(`Invalid coordinates (${t}, ${i})`)}}class pQ{constructor(t){Gt(this,"items");this.validator(t),this.items=t}validator(t){const i=t.reduce((p,E)=>p+E.probability,0);if(i!==100)throw new Error(`SpawnItemSet: total probability must be 100, got ${i}`);const s=new Set;for(const p of t){if(s.has(p.probability))throw new Error(`SpawnItemSet: duplicate probability ${p.probability} found`);s.add(p.probability)}}pick(t=Math.random()){const i=Math.floor(t*100);let s=0;for(const p of this.items)if(s+=p.probability,i<s)return p;return this.items[this.items.length-1]}}class gQ extends wx{constructor(t,i){const E=new pQ([{type:ia.MUSHROOM,level:1,probability:100}]);super(t,qd.BOILER,i,20,2e4,E)}}class mQ{static create(t,i,s){switch(s){case qd.BOILER:return new gQ(t,i);default:return mx(s)}}}class yQ extends f9{constructor(t,i){super(t,ia.MUSHROOM,i)}}class c9{static create(t,i,s){switch(s){case ia.MUSHROOM:return new yQ(t,i);default:return mx(s)}}}class v9{static create(t,i,s){if(Qj(s))return mQ.create(t,i,s);if(qj(s))return c9.create(t,i,s);throw new Error(`Unknown item type ${s}`)}}class xQ{constructor(t,i,s){Gt(this,"completed",!1);this.id=t,this.targets=i,this.prize=s}complete(t){const i=this.matchItems(t);return i.success?i.matched:null}get isCompleted(){return this.completed}isComplete(t){return this.matchItems(t).success}getPrize(){return this.prize}matchItems(t){const i=[...t],s=[];for(const p of this.targets){let E=p.count;for(let n=0;n<i.length&&E>0;){const T=i[n];T.type===p.type&&T.level===p.level?(s.push(T),i.splice(n,1),E--):n++}if(E>0)return{success:!1,matched:[]}}return{success:!0,matched:s}}getTargets(){return this.targets}}class TQ{static create(t,i,s){return new xQ(t,i,s)}}class TF{static loadItem(t){return v9.create(t.id,t.level,t.type)}static loadTask(t){return TQ.create(t.id,t.targets,t.prize)}}class CQ{constructor(t,i,s,p,E,n,T){this.gameStateReader=t,this.moveItemUseCase=i,this.completeTaskUseCase=s,this.generatorTickUseCase=p,this.checkReadyTaskUseCase=E,this.generateElementUseCase=n,this.addTaskToBulletinBoardUseCase=T}update(t){this.generatorTickUseCase.execute(t),this.checkReadyTaskUseCase.execute()}getGoldBalance(){return this.gameStateReader.getGold()}getExperience(){return this.gameStateReader.getExperience()}getGridSize(){return this.gameStateReader.getGridSize()}getAllItemsWithPosition(){return this.gameStateReader.getAllItemsWithPosition()}getAllTasks(){return this.gameStateReader.getAllTasks()}moveItemTo(t,i){this.moveItemUseCase.execute(t,i)}completeTask(t){this.completeTaskUseCase.execute(t)}generateTarget(t){this.generateElementUseCase.execute(t)}}var SQ=Object.defineProperty,EQ=Object.getOwnPropertyDescriptor,IM=(e,t,i,s)=>{for(var p=EQ(t,i),E=e.length-1,n;E>=0;E--)(n=e[E])&&(p=n(t,i,p)||p);return p&&SQ(t,i,p),p};class Rx{constructor(t){this.grid=t}execute(t,i){const s=this.grid.getItem(t.x,t.y);if(!s)throw new Error("No item to move");const p=this.grid.getItem(i.x,i.y);if(!p){this.grid.cleanItem(t.x,t.y),this.grid.setItem(i.x,i.y,s),this.emitMove(t,i,s.id);return}if(s.canCombineWith(p)){const E=v9.create(crypto.randomUUID(),s.level+1,s.type);this.grid.cleanItem(t.x,t.y),this.grid.cleanItem(i.x,i.y),this.grid.setItem(i.x,i.y,E),this.emitCombine(t,i,E);return}this.emitCancel(s.id)}emitMove(t,i,s){return[t,i,s]}emitCombine(t,i,s){return[t,i,s]}emitCancel(t){return[t]}}IM([Hu(rs["GRID:ITEM_MOVED"])],Rx.prototype,"emitMove");IM([Hu(rs["GRID:COMBINED"])],Rx.prototype,"emitCombine");IM([Hu(rs["GRID:MOVE_CANCELLED"])],Rx.prototype,"emitCancel");var PQ=Object.defineProperty,bQ=Object.getOwnPropertyDescriptor,MQ=(e,t,i,s)=>{for(var p=bQ(t,i),E=e.length-1,n;E>=0;E--)(n=e[E])&&(p=n(t,i,p)||p);return p&&PQ(t,i,p),p};class p9{constructor(t){this.bulletinBoard=t}execute(t,i){this.bulletinBoard.addTask(t,i),this.emitAddedTask(t,i)}emitAddedTask(t,i){return[t,i]}}MQ([Hu(rs["BULLETIN_BOARD_USE_CASE:TASK_ADDED"])],p9.prototype,"emitAddedTask");class BM{constructor(){Gt(this,"tasks",new Map)}static init(){return new BM}getAllTasks(){return[...this.tasks.values()]}getTaskById(t){if(this.tasks.has(t))return this.tasks.get(t);throw new Error(`Task not found with id ${t}`)}addTask(t,i){this.tasks.set(t,i)}cleanTaskById(t){this.tasks.delete(t)}}var wQ=Object.defineProperty,RQ=Object.getOwnPropertyDescriptor,AQ=(e,t,i,s)=>{for(var p=RQ(t,i),E=e.length-1,n;E>=0;E--)(n=e[E])&&(p=n(t,i,p)||p);return p&&wQ(t,i,p),p};class g9{constructor(t){this.grid=t}execute(t){const i=this.grid.getItemById(t);if(!i)return null;if(!(i instanceof wx))throw new Error(`Item is not instance of BaseGeneratorDomain: ${JSON.stringify(i)}`);const s=i.getNewTargetConfig(),p=c9.create(crypto.randomUUID(),s.level,s.type),E=this.grid.setGeneratedItem(t,p);this.emitTargetItemGenerated(E,p)}emitTargetItemGenerated(t,i){return[t.x,t.y,i]}}AQ([Hu(rs["GENERATOR:CREATED_ELEMENT"])],g9.prototype,"emitTargetItemGenerated");var OQ=Object.defineProperty,LQ=Object.getOwnPropertyDescriptor,DQ=(e,t,i,s)=>{for(var p=LQ(t,i),E=e.length-1,n;E>=0;E--)(n=e[E])&&(p=n(t,i,p)||p);return p&&OQ(t,i,p),p};class m9{constructor(t,i,s,p){this.grid=t,this.experience=i,this.goldBalance=s,this.bulletinBoard=p}execute(t){const i=this.bulletinBoard.getTaskById(t),s=this.grid.getAllItems(),p=i.complete(s);if(!p)throw new Error("Unable to complete task");this.bulletinBoard.cleanTaskById(t);const E=i.getPrize();this.experience.up(E.experience),this.goldBalance.up(E.gold);for(const n of p)this.grid.cleanItemById(n.id);this.emitTaskCompleted(t,p,E)}emitTaskCompleted(t,i,s){return[t,i,s]}}DQ([Hu(rs["COMPLETE_TASK_USE_CASE:COMPLETED"])],m9.prototype,"emitTaskCompleted");class GM{constructor(t){this.value=t}static init(t){return new GM(t)}getValue(){return this.value}up(t){this.value=this.value+t}}class kM{constructor(t){this.value=t}static init(t){return new kM(t)}getValue(){return this.value}up(t){this.value=this.value+t}}class FQ{constructor(t,i,s,p){this.grid=t,this.experience=i,this.goldBalance=s,this.bulletinBoardDomain=p}getGold(){return this.goldBalance.getValue()}getExperience(){return this.experience.getValue()}getGridSize(){return this.grid.getSize()}getAllItemsWithPosition(){return this.grid.getAllItemsWithPosition()}getAllTasks(){return this.bulletinBoardDomain.getAllTasks()}}class IQ{constructor(t){this.grid=t}execute(t){const i=this.grid.getAllGenerators();for(const s of i)s.tick(t)}}var BQ=Object.defineProperty,GQ=Object.getOwnPropertyDescriptor,kQ=(e,t,i,s)=>{for(var p=GQ(t,i),E=e.length-1,n;E>=0;E--)(n=e[E])&&(p=n(t,i,p)||p);return p&&BQ(t,i,p),p};class y9{constructor(t,i){this.grid=t,this.bulletinBoard=i}execute(){const t=this.bulletinBoard.getAllTasks(),i=this.grid.getAllItems(),s=[];for(const p of t)p.isComplete(i)&&s.push(p.id);this.emitReadyTasks(s)}emitReadyTasks(t){return[t]}}kQ([Hu(rs["CHECK_READY_TASK_USE_CASE:COMPLETED"])],y9.prototype,"emitReadyTasks");class NQ{static bootstrap(t,i,s){const p=FM.init(t.width,t.height),E=BM.init(),n=GM.init(100),T=kM.init(200);for(const f of i){const c=TF.loadItem(f),[u,v]=t.items[f.id].split("-");p.setItem(Number(u),Number(v),c)}for(const f of s){const c=TF.loadTask(f);E.addTask(c.id,c)}const r=new Rx(p),o=new IQ(p),x=new g9(p),d=new y9(p,E),h=new p9(E),l=new m9(p,n,T,E),a=new FQ(p,n,T,E);return new CQ(a,r,l,o,d,x,h)}}var UQ=Object.defineProperty,VQ=Object.getOwnPropertyDescriptor,x9=(e,t,i,s)=>{for(var p=VQ(t,i),E=e.length-1,n;E>=0;E--)(n=e[E])&&(p=n(t,i,p)||p);return p&&UQ(t,i,p),p};class NM extends Jd.Scene{constructor(){super(I4);Gt(this,"adapter");Gt(this,"adapterIsRead",!1)}async preload(){new fM(this,!0),this.load.setPath("assets"),this.load.image(o$,"./item_1.png"),this.load.image(l$,"./item_2.png"),this.load.image(h$,"./item_3.png"),this.load.image(u$,"./item_4.png"),this.load.image(f$,"./item_5.png"),this.load.image(d$,"./item_6.png"),this.load.image(H4,"./boiler.png")}create(){const i=[{type:qd.BOILER,level:1,id:"gen-test-id"},{type:ia.MUSHROOM,level:1,id:"test-id"}],s={width:9,height:13,items:{"gen-test-id":"4-4","test-id":"1-1","test-id-2":"1-2","test-id-3":"1-3"}},p=[{id:"task-id-3",targets:[{type:ia.MUSHROOM,level:1,count:2}],prize:{gold:10,experience:20}},{id:"task-id-5",targets:[{type:ia.MUSHROOM,level:2,count:1}],prize:{gold:20,experience:30}},{id:"task-id-4",targets:[{type:ia.MUSHROOM,level:3,count:3}],prize:{gold:30,experience:40}},{id:"task-id-1",targets:[{type:ia.MUSHROOM,level:4,count:1}],prize:{gold:50,experience:70}},{id:"task-id-2",targets:[{type:ia.MUSHROOM,level:5,count:1}],prize:{gold:90,experience:150}}],E=NQ.bootstrap(s,i,p);this.adapter=new ra(this,E),this.adapterIsRead=!0}update(i,s){this.adapterIsRead&&this.adapter.update(s)}}x9([Mo],NM.prototype,"preload");x9([Mo],NM.prototype,"create");class It{constructor(t){this.scene=t,t.events.once("destroy",this.destroy,this)}destroy(){this.scene=null}static register(t,i){It.prototype[t]=i}}var zQ=function(e){return e===void 0&&(e=WQ),this.getFrameNameCallback=e,this},WQ=function(e,t,i){return i==="__BASE"?`${e},${t}`:`${i}:${e},${t}`};function tn(e){if(e===null||typeof e!="object")return e;if(Array.isArray(e))return e.map(i=>tn(i));if(e instanceof Date)return new Date(e);if(e instanceof RegExp)return new RegExp(e);if(Object.getPrototypeOf(e)!==Object.prototype)return e;const t={};for(let i in e)e.hasOwnProperty(i)&&(t[i]=tn(e[i]));return t}var YQ=function(e,t,i,s){Array.isArray(t)&&(s=i,i=t,t=void 0),t==null&&(t="__BASE"),typeof i=="number"&&arguments.length>=6?(i=[arguments[2],void 0,arguments[3]],s=[arguments[4],void 0,arguments[5]]):i===void 0&&s===void 0&&this.columns.data!==void 0&&this.rows.data!==void 0?(i=this.columns.data,s=this.rows.data):(i=tn(i),s=tn(s)),this.textureKey=e,this.baseFrameName=t,this.columns.data=i,this.columns.count=i?i.length:0,this.columns.stretch=0,this.columns.minWidth=0,this.columns.scale=1,this.rows.data=s,this.rows.count=s?s.length:0,this.rows.stretch=0,this.rows.minHeight=0,this.rows.scale=1;var p=this.scene.sys.textures.get(e);if(!p)return this.clear(),this;if(!i||!s)return this.clear(),this;for(var E=p.get(t),n=E.width,T=0,r=0,o=i.length;r<o;r++)i[r]===void 0?T++:typeof i[r]=="number"?n-=i[r]:n-=i[r].width;for(var x=T>0?n/T:0,d=E.height,h=0,r=0,o=s.length;r<o;r++)s[r]===void 0?h++:typeof s[r]=="number"?d-=s[r]:d-=s[r].width;for(var l=h?d/h:0,a,f,c,u,v,g=0,m=0,y=0,C=s.length;y<C;y++){s[y]===void 0&&(s[y]=l),typeof s[y]=="number"&&(s[y]={height:s[y],stretch:y%2}),a=s[y],c=a.height,this.rows.stretch+=a.stretch|0,this.rows.minHeight+=a.stretch>0?0:c,g=0;for(var r=0,b=i.length;r<b;r++){if(i[r]===void 0&&(i[r]=x),typeof i[r]=="number"&&(i[r]={width:i[r],stretch:r%2}),f=i[r],u=f.width,y===0&&(this.columns.stretch+=f.stretch|0,this.columns.minWidth+=f.stretch>0?0:u),u>=1&&c>=1){v=this.getFrameNameCallback(r,y,t);var M=typeof v;(M==="string"||M==="number")&&p.add(v,0,g+E.cutX,m+E.cutY,u,c)}g+=u}m+=c}return this.updateTexture(),this},XQ=function(){if(this.clear(),this.textureKey===void 0)return this;var e=this.scene.sys.textures.get(this.textureKey);if(!e)return this;var t=this.columns.minWidth*this.maxFixedPartScaleX,i=this.rows.minHeight*this.maxFixedPartScaleY,s=this.width-t,p=this.height-i,E=s>=0?this.maxFixedPartScaleX:this.width/t,n=p>=0?this.maxFixedPartScaleY:this.height/i;if(this.preserveRatio){var T=Math.min(E,n);if(E>T){var r=(E-T)*t;s>=0?s+=r:s=r,E=T}if(n>T){var o=(n-T)*i;p>=0?p+=o:p=o,n=T}}this.columns.scale=E,this.rows.scale=n;var x;s>0?x=this.columns.stretch>0?s/this.columns.stretch:0:x=0;var d;p>0?d=this.rows.stretch>0?p/this.rows.stretch:0:d=0;var h,l,a,f,c,u=0,v=0,g;this._beginDraw();for(var m=0,y=this.rows.count;m<y;m++){a=this.rows.data[m],c=a.stretch===0?a.height*n:d*a.stretch,u=0;for(var C=0,b=this.columns.count;C<b;C++)l=this.columns.data[C],f=l.stretch===0?l.width*E:x*l.stretch,h=this.getFrameNameCallback(C,m,this.baseFrameName),e.has(h)&&f>0&&c>0&&(a.stretch===0&&l.stretch===0||this.getStretchMode(C,m)===0?g=0:g=1,g===0?this._drawImage(this.textureKey,h,u,v,f,c):this._drawTileSprite(this.textureKey,h,u,v,f,c)),u+=f;v+=c}this._endDraw()};const HQ=Phaser.Utils.Objects.IsPlainObject,CF=Phaser.Utils.Objects.GetValue;var $Q=function(e){return HQ(e)?(this.stretchMode.edge=WE(CF(e,"edge",0)),this.stretchMode.internal=WE(CF(e,"internal",0))):(e=WE(e),this.stretchMode.edge=e,this.stretchMode.internal=e),this},WE=function(e){return typeof e=="string"&&(e=KQ[e]),e};const KQ={scale:0,repeat:1};var ZQ=function(e,t){return e===0||e===this.columns.count-1||t===0||t===this.rows.count-1},JQ=function(e,t){return ZQ.call(this,e,t)?this.stretchMode.edge:this.stretchMode.internal},jQ=function(e){return e==null&&(e=!0),this.preserveRatio=e,this},QQ=function(e,t){return t===void 0&&(t=e),this.maxFixedPartScaleX=e,this.maxFixedPartScaleY=t,this},Ur=function(){};const qQ={_beginDraw:Ur,_drawImage:Ur,_drawTileSprite:Ur,_endDraw:Ur,setGetFrameNameCallback:zQ,setBaseTexture:YQ,updateTexture:XQ,setStretchMode:$Q,getStretchMode:JQ,setPreserveRatio:jQ,setMaxFixedPartScale:QQ},Vv=Phaser.Utils.Objects.IsPlainObject,li=Phaser.Utils.Objects.GetValue;var T9=function(e,t){class i extends e{constructor(p,E,n,T,r,o,x,d,h,l){if(Vv(E)?(l=E,E=li(l,"x",0),n=li(l,"y",0),T=li(l,"width",1),r=li(l,"height",1),o=li(l,"key",void 0),x=li(l,"baseFrame",void 0),d=li(l,"columns",void 0),h=li(l,"rows",void 0)):Vv(T)?(l=T,T=li(l,"width",1),r=li(l,"height",1),o=li(l,"key",void 0),x=li(l,"baseFrame",void 0),d=li(l,"columns",void 0),h=li(l,"rows",void 0)):Vv(o)?(l=o,o=li(l,"key",void 0),x=li(l,"baseFrame",void 0),d=li(l,"columns",void 0),h=li(l,"rows",void 0)):Vv(x)?(l=x,x=li(l,"baseFrame",void 0),d=li(l,"columns",void 0),h=li(l,"rows",void 0)):Array.isArray(x)?(l=h,h=d,d=x,x=li(l,"baseFrame",void 0)):Vv(d)&&(l=d,d=li(l,"columns",void 0),h=li(l,"rows",void 0)),x===void 0&&(x=li(l,"frame",void 0)),d===void 0){var a=li(l,"leftWidth",void 0),f=li(l,"rightWidth",void 0);a!==void 0&&f!==void 0&&(d=[a,void 0,f])}if(h===void 0){var c=li(l,"topHeight",void 0),u=li(l,"bottomHeight",void 0);c!==void 0&&u!==void 0&&(h=[c,void 0,u])}super(p),this.type=t,this.setPosition(E,n).setSize(T,r).setOrigin(.5,.5),this.columns={},this.rows={},this.stretchMode={},this._tileSprite=void 0,this._image=void 0,this.setGetFrameNameCallback(li(l,"getFrameNameCallback",void 0)),this.setStretchMode(li(l,"stretchMode",0)),this.setPreserveRatio(li(l,"preserveRatio",!0));var v=li(l,"maxFixedPartScale",1),g=li(l,"maxFixedPartScaleX",v),m=li(l,"maxFixedPartScaleY",void 0);this.setMaxFixedPartScale(g,m),this.setBaseTexture(o,x,d,h)}get minWidth(){return this.columns.minWidth}get minHeight(){return this.rows.minHeight}get fixedPartScaleX(){return this.columns.scale}get fixedPartScaleY(){return this.rows.scale}resize(p,E){return this.width===p&&this.height===E?this:(super.resize?super.resize(p,E):super.setSize(p,E),this.updateTexture(),this)}get leftWidth(){return this.columns.data[0]}get rightWidth(){return this.columns.data[this.columns.count-1]}get topHeight(){return this.rows.data[0]}get bottomHeight(){return this.rows.data[this.rows.count-1]}}return Object.assign(i.prototype,qQ),i};const _Q=Phaser.Game;var SF=function(e){return e instanceof _Q};const tq=Phaser.Scene;var Vu=function(e){return e instanceof tq},Wu=function(e){if(e==null||typeof e!="object")return null;if(SF(e))return e;if(SF(e.game))return e.game;if(Vu(e))return e.sys.game;if(Vu(e.scene))return e.scene.sys.game};const eq=Phaser.GameObjects;var ql=void 0,C9=function(e,t){if(ql||(ql={},Wu(e).events.once("destroy",function(){for(var s in ql)ql[s].destroy();ql=void 0})),!ql.hasOwnProperty(t)){var i=Wu(e).scene.systemScene,e=new eq[t](i);e.setOrigin(0),ql[t]=e}return ql[t]},iq=function(e,t,i,s,p,E){var n=C9(this,"Image").setTexture(e,t).setDisplaySize(p,E);this.draw(n,i,s)},rq=function(e,t,i,s,p,E){var n=C9(this,"TileSprite").setTexture(e,t).setSize(p,E);this.draw(n,i,s)};const nq=Phaser.GameObjects.RenderTexture;let Ax=class extends T9(nq,"rexNinePatch"){};var sq={_drawImage:iq,_drawTileSprite:rq};Object.assign(Ax.prototype,sq);var S9=function(e){return e==null||e===""||e.length===0},aq=function(e,t,i){var s=e;if(!S9(t)){typeof t=="string"&&(t=t.split("."));for(var p,E=0,n=t.length;E<n;E++){if(p=t[E],s[p]==null||typeof s[p]!="object"){var T;E===n-1?T={}:T={},s[p]=T}s=s[p]}}return s},Lt=function(e,t,i,s){if(s===void 0&&(s="."),typeof e=="object"){if(S9(t)){if(i==null)return;typeof i=="object"&&(e=i)}else{typeof t=="string"&&(t=t.split(s));var p=t.pop(),E=aq(e,t);E[p]=i}return e}};It.register("ninePatch",function(e,t,i,s,p,E,n,T){var r=new Ax(this.scene,e,t,i,s,p,E,n,T);return this.scene.add.existing(r),r});Lt(window,"RexPlugins.UI.NinePatch",Ax);const oq=Phaser.GameObjects.GetCalcMatrix;var lq=function(e,t,i,s){var p=t.getRenderList();if(p.length!==0){i.addToRenderList(t);var E=e.pipelines.set(t.pipeline),n=t.frame.glTexture,T=E.setGameObject(t),r=i.roundPixels,o=oq(t,i,s),x=E.calcMatrix.copyFrom(o.calc),d=t._displayOriginX,h=t._displayOriginY,l=i.alpha*t.alpha;e.pipelines.preBatch(t);for(var a=0,f=p.length;a<f;a++)p[a].webglRender(E,x,l,d,h,n,T,r);e.pipelines.postBatch(t)}};const hq=Phaser.Renderer.Canvas.SetTransform;var uq=function(e,t,i,s){var p=e.currentContext,E=t.getRenderList();if(!(E.length===0||!hq(e,p,t,i,s))){i.addToRenderList(t);var n=i.roundPixels,T=-t._displayOriginX,r=-t._displayOriginY;p.translate(T,r);for(var o=0,x=E.length;o<x;o++)E[o].canvasRender(p,T,r,n);p.restore()}};const fq={renderWebGL:lq,renderCanvas:uq};var dq=function(e,t){return this.texture=this.scene.sys.textures.get(e),this.frame=this.texture.get(t),this},EF=function(e,t){if(this.width===e&&this.height===t)return this;this.width=e,this.height=t,this.updateDisplayOrigin();var i=this.input;return i&&!i.customHitArea&&(i.hitArea.width=e,i.hitArea.height=t),this},cq=function(e){return this.lastAppendedChildren.length=0,Array.isArray(e)?(this.children.add(e),this.lastAppendedChildren.push(...e)):(this.children.add(e),this.lastAppendedChildren.push(e)),this};const vq=Phaser.Utils.Array.Remove;var pq=function(e){return this.poolManager&&this.poolManager.free(e),vq(this.children.list,e),this.lastAppendedChildren.length=0,this.dirty=!0,this},PF=function(){return this.poolManager&&this.poolManager.freeMultiple(this.children.list),this.children.list.length=0,this.lastAppendedChildren.length=0,this.dirty=!0,this},gq=function(){return this.lastAppendedChildren},mq=function(){return this.children.list};const yq={setTint(e){return this.tint=e,this.tintFill=!1,this},setTintFill(e){return this.tint=e,this.tintFill=!0,this},clearTint(){return this.setTint(16777215),this}};var E9={setTexture:dq,resize:EF,setSize:EF,addChild:cq,removeChild:pq,removeChildren:PF,clear:PF,getLastAppendedChildren:gq,getChildren:mq};Object.assign(E9,yq);class Co{constructor(){this.items=[]}destroy(){this.clear(),this.items=void 0}pop(){return this.items.length>0?this.items.pop():null}push(t){return this.items.push(t),this}pushMultiple(t){return this.items.push.apply(this.items,t),t.length=0,this}clear(){return this.items.length=0,this}}const xq=Phaser.Utils.Objects.GetValue;var Tq={};let Cq=class{constructor(t){this.pools=xq(t,"pools",Tq)}destroy(){this.pools=void 0}free(t){if(!this.pools)return this;var i=t.type;return this.pools.hasOwnProperty(i)||(this.pools[i]=new Co),this.pools[i].push(t),t.onFree(),this}freeMultiple(t){if(!this.pools)return this;for(var i=0,s=t.length;i<s;i++)this.free(t[i]);return this}allocate(t){return!this.pools||!this.pools.hasOwnProperty(t)?null:this.pools[t].pop()}};const Sq=60;var bF=!1,Ox=function(e){if(!bF){e===void 0&&(e=Sq);var t=Phaser.VERSION.split("."),i=parseInt(t[0]);if(i===3){var s=parseInt(t[1]);s<e&&console.error(`Minimum supported version : ${i}.${s}`)}else console.error(`Can't supported version : ${i}`);bF=!0}};Ox();const Eq=Phaser.GameObjects.GameObject,Pq=Phaser.Utils.Objects.IsPlainObject,zv=Phaser.Utils.Objects.GetValue,bq=Phaser.Structs.List,Mq=Phaser.Utils.Array.StableSort;class P9 extends Eq{constructor(t,i,s,p,E,n){Pq(i)&&(n=i,i=zv(n,"x",0),s=zv(n,"y",0),p=zv(n,"texture"),E=zv(n,"frame")),i===void 0&&(i=0),s===void 0&&(s=0),super(t,"rexBlitter"),this.children=new bq,this.renderList=[],this.displayListDirty=!1,this.lastAppendedChildren=[];var T=zv(n,"reuseBob",!0);this.poolManager=T?new Cq(n):void 0,this.setTexture(p,E),this.setPosition(i,s),this.setOrigin(0,0),this.clearTint(),this.initPipeline(),this.initPostPipeline()}preDestroy(){this.removeChildren(),this.children.destroy(),this.renderList.length=0,this.poolManager&&this.poolManager.destroy()}getRenderList(){if(this.displayListDirty){this.renderList.length=0;for(var t=!1,i=this.children.list,s=0,p=i.length;s<p;s++){var E=i[s];wq(E)&&(this.renderList.push(E),t||(t=E.depth!==0))}t&&Mq(this.renderList,Rq),this.displayListDirty=!1}return this.renderList}}var wq=function(e){return e.active&&e.visible&&e.alpha>0},Rq=function(e,t){return e._depth-t._depth};const Hs=Phaser.GameObjects.Components;Phaser.Class.mixin(P9,[Hs.Alpha,Hs.BlendMode,Hs.ComputedSize,Hs.Depth,Hs.GetBounds,Hs.Mask,Hs.Origin,Hs.Pipeline,Hs.PostPipeline,Hs.ScrollFactor,Hs.Transform,Hs.Visible,fq,E9]);const b9="image";var Ti=function(e,t,i){if(!e||typeof e=="number")return i;if(typeof t=="string"){if(e.hasOwnProperty(t))return e[t];if(t.indexOf(".")!==-1)t=t.split(".");else return i}for(var s=t,p=e,E=i,n=0;n<s.length;n++)if(t=s[n],p.hasOwnProperty(t))E=p[t],p=E;else{E=i;break}return E},Eh=function(e){if(typeof e!="object"||e===null)return e;if(Array.isArray(e))e.length=0;else for(var t in e)delete e[t];return e};const Lx={enableData(){return this.data===void 0&&(this.data={}),this},setData(e,t){if(this.enableData(),arguments.length===1){var i=e;for(e in i)this.data[e]=i[e]}else this.data[e]=t;return this},getData(e,t){return this.enableData(),e===void 0?this.data:Ti(this.data,e,t)},incData(e,t,i){return i===void 0&&(i=0),this.enableData(),this.setData(e,this.getData(e,i)+t),this},mulData(e,t,i){return i===void 0&&(i=0),this.enableData(),this.setData(e,this.getData(e,i)*t),this},clearData(){return this.data&&Eh(this.data),this}};let M9=class{constructor(t,i){this.type=i,this.data=void 0,this.setParent(t).reset().setActive()}destroy(){this.parent&&this.parent.removeChild(this)}setParent(t){return this.parent=t,this}setDisplayListDirty(t){return t&&this.parent&&(this.parent.displayListDirty=!0),this}get active(){return this._active}set active(t){this.setDisplayListDirty(this._active!=t),this._active=t}setActive(t){return t===void 0&&(t=!0),this.active=t,this}modifyPorperties(t){return this}reset(){this.clearData()}onFree(){this.reset().setActive(!1).setParent()}};Object.assign(M9.prototype,Lx);const Aq=Phaser.Math.DegToRad,Oq=Phaser.Math.RadToDeg,td=Phaser.Utils.Objects.GetValue;let Lq=class extends M9{get visible(){return this._visible}set visible(t){this.setDisplayListDirty(this._visible!=t),this._visible=t}setVisible(t){return t===void 0&&(t=!0),this.visible=t,this}get alpha(){return this._alpha}set alpha(t){this.setDisplayListDirty(!!this._alpha!=!!t),this._alpha=t}setAlpha(t){return this.alpha=t,this}setX(t){return this.x=t,this}setY(t){return this.y=t,this}setPosition(t,i){return this.x=t,this.y=i,this}setRotation(t){return this.rotation=t,this}get angle(){return Oq(this.rotation)}set angle(t){this.rotation=Aq(t)}setAngle(t){return this.angle=t,this}setScaleX(t){return this.scaleX=t,this}get width(){return this._width}set width(t){this._width=t}setWidth(t,i){return i===void 0&&(i=!1),this.width=t,i&&(this.scaleY=this.scaleX),this}setScaleY(t){return this.scaleY=t,this}setScale(t,i){return i===void 0&&(i=t),this.scaleX=t,this.scaleY=i,this}get height(){return this._height}set height(t){this._height=t}setHeight(t,i){return i===void 0&&(i=!1),this.height=t,i&&(this.scaleX=this.scaleY),this}setScale(t,i){return i===void 0&&(i=t),this.scaleX=t,this.scaleY=i,this}get displayWidth(){return this._width*this.scaleX}set displayWidth(t){this.scaleX=t/this._width}setDisplayWidth(t,i){return i===void 0&&(i=!1),this.displayWidth=t,i&&(this.scaleY=this.scaleX),this}get displayHeight(){return this._height*this.scaleY}set displayHeight(t){this.scaleY=t/this._height}setDisplayHeight(t,i){return i===void 0&&(i=!1),this.displayHeight=t,i&&(this.scaleX=this.scaleY),this}setOriginX(t){return this.originX=t,this._displayOriginX=this.width*t,this}setOriginY(t){return this.originY=t,this._displayOriginY=this.height*t,this}setOrigin(t,i){return i===void 0&&(i=t),this.setOriginX(t).setOriginY(i),this}get depth(){return this._depth}set depth(t){this.setDisplayListDirty(this._depth!=t),this._depth=t}setDepth(t){return t===void 0&&(t=0),this.depth=t,this}modifyPorperties(t){if(!t)return this;t.hasOwnProperty("x")&&this.setX(t.x),t.hasOwnProperty("y")&&this.setY(t.y),t.hasOwnProperty("rotation")?this.setRotation(t.rotation):t.hasOwnProperty("angle")&&this.setAngle(t.angle),t.hasOwnProperty("alpha")&&this.setAlpha(t.alpha);var i=td(t,"width",void 0),s=td(t,"height",void 0),p=td(t,"scale",void 0),E=td(t,"scaleX",p),n=td(t,"scaleY",p);i!==void 0?s===void 0&&n===void 0?this.setWidth(i,!0):this.setWidth(i):E!==void 0?this.setScaleX(E):t.hasOwnProperty("displayWidth")&&this.setDisplayWidth(t.displayWidth),s!==void 0?i===void 0&&E===void 0?this.setHeight(s,!0):this.setHeight(s):n!==void 0?this.setScaleY(n):t.hasOwnProperty("displayHeight")&&this.setDisplayHeight(t.displayHeight);var T=td(t,"origin",void 0);return T!==void 0?this.setOrigin(T):(t.hasOwnProperty("originX")&&this.setOriginX(t.originX),t.hasOwnProperty("originY")&&this.setOriginY(t.originY)),t.hasOwnProperty("depth")&&this.setDepth(t.depth),this}reset(){return super.reset(),this.setVisible().setAlpha(1).setPosition(0,0).setRotation(0).setScale(1,1).setOrigin(0).setDepth(0),this}webglRender(t,i,s,p,E,n,T,r){}canvasRender(t,i,s,p){}};const Dq=Phaser.GameObjects.Components.TransformMatrix,Fq=Phaser.Renderer.WebGL.Utils.getTintAppendFloatAlpha;var M0=new Dq,Iq=function(e,t,i,s,p,E,n,T){var r=this.frame;if(r){var o=this._width,x=this._height,d=o*this.originX,h=x*this.originY,l=this.x-s,a=this.y-p,f,c,u,v,g,m,y,C;if(this.isCropped){var b=this._crop;(b.flipX!==this.flipX||b.flipY!==this.flipY)&&r.updateCropUVs(b,this.flipX,this.flipY),f=b.u0,c=b.v0,u=b.u1,v=b.v1,y=b.width,C=b.height,g=b.x,m=b.y}else f=this.frame.u0,c=this.frame.v0,u=this.frame.u1,v=this.frame.v1,y=o,C=x,g=0,m=0;var M=1,w=1;this.flipX&&(l+=o-d*2,M=-1),this.flipY&&(a+=x-h*2,w=-1),M0.applyITRS(l,a,this.rotation,this.scaleX*M,this.scaleY*w),t.multiply(M0,M0);var R=-d+g,A=-h+m,L=R+y,F=A+C,G=M0.setQuad(R,A,L,F,T),I=Fq(this.tint,this.alpha*i);e.batchQuad(this.parent,G[0],G[1],G[2],G[3],G[4],G[5],G[6],G[7],f,c,u,v,I,I,I,I,this.tintFill,E,n)}},Bq=function(e,t,i,s){var p=this.frame;if(p){e.save();var E=this._width,n=this._height,T=E*this.originX,r=n*this.originY,o=this.x-T,x=this.y-r,d,h,l,a;if(this.isCropped){var f=this._crop;(f.flipX!==this.flipX||f.flipY!==this.flipY)&&p.updateCropUVs(f,this.flipX,this.flipY),l=f.cw,a=f.ch,d=f.cx,h=f.cy}else l=p.cutWidth,a=p.cutHeight,d=p.cutX,h=p.cutY;var c=1,u=1;this.flipX&&(o+=E,c=-1),this.flipY&&(x+=n,u=-1);var v=p.source.resolution,g=l/v,m=a/v;s&&(o=Math.floor(o+.5),x=Math.floor(x+.5),g+=.5,m+=.5),e.translate(o,x),e.rotate(this.rotation),e.scale(this.scaleX*c,this.scaleY*u),e.drawImage(p.source.image,d,h,l,a,0,0,g,m),e.restore()}};const Gq=Phaser.Utils.Objects.IsPlainObject;let w9=class extends Lq{constructor(t,i){super(t,b9),this._crop=kq(),this.setFrame(i)}get width(){return this._width}set width(t){}get height(){return this._height}set height(t){}setFrame(t){return arguments.length>0&&!Gq(t)&&(t=this.parent.texture.get(t)),this.frame=t,t?(this._width=t.realWidth,this._height=t.realHeight):(this._width=0,this._height=0),this}setFlipX(t){return t===void 0&&(t=!0),this.flipX=t,this}setFlipY(t){return t===void 0&&(t=!0),this.flipY=t,this}resetFlip(){return this.flipX=!1,this.flipY=!1,this}get tint(){return this._tint===void 0?this.parent.tint:this._tint}set tint(t){this._tint=t}setTint(t){return this.tint=t,this.tintFill=!1,this}setTintFill(t){return this.tint=t,this.tintFill=!0,this}clearTint(){return this.setTint(16777215),this}resetTint(){return this.tint=void 0,this.tintFill=void 0,this}get tintFill(){return this._tintFill===void 0?this.parent.tintFill:this._tintFill}set tintFill(t){this._tintFill=t}setCrop(t,i,s,p){return t===void 0?(this.isCropped=!1,this):this.frame?t===0&&i===0&&s===this._width&&p===this._height?(this.isCropped=!1,this):(this.frame.setCropUVs(this._crop,t,i,s,p,this.flipX,this.flipY),this.isCropped=!0,this):this}reset(){return super.reset(),this.resetFlip().resetTint().setFrame().setCrop(),this}modifyPorperties(t){return t?(t.hasOwnProperty("width")&&(t.displayWidth=t.width,delete t.width),t.hasOwnProperty("height")&&(t.displayHeight=t.height,delete t.height),t.hasOwnProperty("frame")&&this.setFrame(t.frame),super.modifyPorperties(t),t.hasOwnProperty("flipX")&&this.setFlipX(t.flipX),t.hasOwnProperty("flipY")&&this.setFlipY(t.flipY),t.hasOwnProperty("tint")&&this.setTint(t.tint),t.hasOwnProperty("tintFill")&&this.setTintFill(t.tintFill),this):this}};var kq=function(e){return e===void 0&&(e={}),e.u0=0,e.v0=0,e.u1=0,e.v1=0,e.x=0,e.y=0,e.width=0,e.height=0,e.flipX=!1,e.flipY=!1,e.cx=0,e.cy=0,e.cw=0,e.ch=0,e},Nq={webglRender:Iq,canvasRender:Bq};Object.assign(w9.prototype,Nq);var R9=function(e,t){typeof t=="string"&&(t={frame:t});var i=e.poolManager?e.poolManager.allocate(b9):null;return i===null?i=new w9(e):i.setParent(e).setActive(),i.modifyPorperties(t),e.addChild(i),i},Uq=function(e,t,i,s,p,E){R9(this,{frame:t,x:i,y:s,width:p,height:E})},Vq=function(e,t,i,s,p,E){var n=this.texture.get(t),T=n.width,r=n.height,o=p%T,x=E%r;o===0&&(o=T),x===0&&(x=r);for(var d=Math.ceil(p/T),h=Math.ceil(E/r),l=d-1,a=h-1,f=0;f<d;f++)for(var c=0;c<h;c++){let g=R9(this,{frame:t,x:i+f*T,y:s+c*r});var u=f===l?o:T,v=c===a?x:r;(u!==T||v!==r)&&g.setCrop(0,0,u,v)}};const zq={_drawImage:Uq,_drawTileSprite:Vq};class UM extends T9(P9,"rexNinePatch2"){setBaseTexture(t,i,s,p){return this.setTexture(t,i),super.setBaseTexture(t,i,s,p),this}}Object.assign(UM.prototype,zq);It.register("ninePatch2",function(e,t,i,s,p,E,n,T){var r=new UM(this.scene,e,t,i,s,p,E,n,T);return this.scene.add.existing(r),r});Lt(window,"RexPlugins.UI.NinePatch2",UM);var Wq=Phaser.Renderer.WebGL.Utils,A9=function(e,t,i,s,p,E){for(var n=Wq.getTintAppendFloatAlpha(i.fillColor,i.fillAlpha*s),T=i.pathData,r=i.pathIndexes,o=0;o<r.length;o+=3){var x=r[o]*2,d=r[o+1]*2,h=r[o+2]*2,l=T[x+0]-p,a=T[x+1]-E,f=T[d+0]-p,c=T[d+1]-E,u=T[h+0]-p,v=T[h+1]-E,g=t.getX(l,a),m=t.getY(l,a),y=t.getX(f,c),C=t.getY(f,c),b=t.getX(u,v),M=t.getY(u,v);e.batchTri(i,g,m,y,C,b,M,0,0,1,1,n,n,n,2)}},Yq=Phaser.Renderer.WebGL.Utils,Dx=function(e,t,i,s,p){var E=e.strokeTint,n=Yq.getTintAppendFloatAlpha(t.strokeColor,t.strokeAlpha*i);E.TL=n,E.TR=n,E.BL=n,E.BR=n;var T=t.pathData,r=T.length-1,o=t.lineWidth,x=o/2,d=T[0]-s,h=T[1]-p;t.closePath||(r-=2);for(var l=2;l<r;l+=2){var a=T[l]-s,f=T[l+1]-p;e.batchLine(d,h,a,f,x,x,o,l-2,t.closePath?l===r-1:!1),d=a,h=f}};const Xq=Phaser.GameObjects.GetCalcMatrix;var Hq=function(e,t,i,s){t.dirty&&(t.updateData(),t.dirty=!1),i.addToRenderList(t);var p=e.pipelines.set(t.pipeline),E=Xq(t,i,s),n=p.calcMatrix.copyFrom(E.calc),T=t._displayOriginX,r=t._displayOriginY,o=i.alpha*t.alpha;e.pipelines.preBatch(t),t.isFilled&&A9(p,n,t,o,T,r),t.isStroked&&Dx(p,t,o,T,r),e.pipelines.postBatch(t)},Gp=function(e,t,i,s){var p=t.fillColor,E=t.fillAlpha,n=(p&16711680)>>>16,T=(p&65280)>>>8,r=p&255;e.fillStyle="rgba("+n+","+T+","+r+","+E+")"},kp=function(e,t,i,s){var p=t.strokeColor,E=t.strokeAlpha,n=(p&16711680)>>>16,T=(p&65280)>>>8,r=p&255;e.strokeStyle="rgba("+n+","+T+","+r+","+E+")",e.lineWidth=t.lineWidth};const $q=Phaser.Renderer.Canvas.SetTransform;var Kq=function(e,t,i,s){t.dirty&&(t.updateData(),t.dirty=!1),i.addToRenderList(t);var p=e.currentContext;if($q(e,p,t,i,s)){var E=t._displayOriginX,n=t._displayOriginY,T=t.pathData,r=T.length-1,o=T[0]-E,x=T[1]-n;p.beginPath(),p.moveTo(o,x),t.closePath||(r-=2);for(var d=2;d<r;d+=2){var h=T[d]-E,l=T[d+1]-n;p.lineTo(h,l)}p.closePath(),t.isFilled&&(Gp(p,t),p.fill()),t.isStroked&&(kp(p,t),p.stroke()),p.restore()}};const Zq={renderWebGL:Hq,renderCanvas:Kq},Jq=Phaser.GameObjects.Shape;class VM extends Jq{get fillColor(){return this._fillColor}set fillColor(t){this._fillColor=t,this.isFilled=t!=null&&this._fillAlpha>0}get fillAlpha(){return this._fillAlpha}set fillAlpha(t){this._fillAlpha=t,this.isFilled=t>0&&this._fillColor!=null}setFillStyle(t,i){return i===void 0&&(i=1),this.fillColor=t,this.fillAlpha=i,this}get strokeColor(){return this._strokeColor}set strokeColor(t){this._strokeColor=t,this.isStroked=t!=null&&this._strokeAlpha>0&&this._lineWidth>0}get strokeAlpha(){return this._strokeAlpha}set strokeAlpha(t){this._strokeAlpha=t,this.isStroked=t>0&&this._strokeColor!=null&&this._lineWidth>0}get lineWidth(){return this._lineWidth}set lineWidth(t){this._lineWidth=t,this.isStroked=t>0&&this._strokeColor!=null}setStrokeStyle(t,i,s){return s===void 0&&(s=1),this.lineWidth=t,this.strokeColor=i,this.strokeAlpha=s,this}updateData(){return this}get width(){return this.geom.width}set width(t){this.resize(t,this.height)}get height(){return this.geom.height}set height(t){this.resize(this.width,t)}setSize(t,i){var s=this.input;return s&&!s.customHitArea&&(s.hitArea.width=t,s.hitArea.height=i),this}resize(t,i){return this.setSize(t,i),this}}Object.assign(VM.prototype,Zq);const vh=Phaser.Utils.Objects.GetValue;let zM=class{constructor(t,i,s,p,E){t===void 0&&(t=0),i===void 0&&(i=t),s===void 0&&(s=0),p===void 0&&(p=0),E===void 0&&(E=0),this.cornerRadius={},this._width=0,this._height=0,this.setTo(t,i,s,p,E)}setTo(t,i,s,p,E){return this.setPosition(t,i),this.setRadius(E),this.setSize(s,p),this}setPosition(t,i){return this.x=t,this.y=i,this}setRadius(t){return t===void 0&&(t=0),this.radius=t,this}setSize(t,i){return this.width=t,this.height=i,this}get minWidth(){var t=this.cornerRadius;return Math.max(t.tl.x+t.tr.x,t.bl.x+t.br.x)}get minHeight(){var t=this.cornerRadius;return Math.max(t.tl.y+t.bl.y,t.tr.y+t.br.y)}get width(){return this._width}set width(t){t==null&&(t=0),this._width=Math.max(t,this.minWidth)}get height(){return this._height}set height(t){t==null&&(t=0),this._height=Math.max(t,this.minHeight)}get radius(){var t=this.cornerRadius;return Math.max(t.tl.x,t.tl.y,t.tr.x,t.tr.y,t.bl.x,t.bl.y,t.br.x,t.br.y)}set radius(t){var i,s;typeof t=="number"?(i=t,s=t):(i=vh(t,"x",0),s=vh(t,"y",0));var p=this.cornerRadius;p.tl=w0(vh(t,"tl",void 0),i,s),p.tr=w0(vh(t,"tr",void 0),i,s),p.bl=w0(vh(t,"bl",void 0),i,s),p.br=w0(vh(t,"br",void 0),i,s)}get radiusTL(){var t=this.cornerRadius.tl;return Math.max(t.x,t.y)}set radiusTL(t){R0(this.cornerRadius.tl,t)}get radiusTR(){var t=this.cornerRadius.tr;return Math.max(t.x,t.y)}set radiusTR(t){R0(this.cornerRadius.tr,t)}get radiusBL(){var t=this.cornerRadius.bl;return Math.max(t.x,t.y)}set radiusBL(t){R0(this.cornerRadius.bl,t)}get radiusBR(){var t=this.cornerRadius.br;return Math.max(t.x,t.y)}set radiusBR(t){R0(this.cornerRadius.br,t)}};var w0=function(e,t,i){return e===void 0?e={x:t,y:i}:typeof e=="number"&&(e={x:e,y:e}),O9(e),e},R0=function(e,t){typeof t=="number"?(e.x=t,e.y=t):(e.x=vh(t,"x",0),e.y=vh(t,"y",0)),O9(e)},O9=function(e){e.convex=e.x>=0||e.y>=0,e.x=Math.abs(e.x),e.y=Math.abs(e.y)},Ji=function(e){return e.x>0&&e.y>0},Jr=function(e,t,i){var s=i.length;if(s>=2){var p=i[s-2],E=i[s-1];if(e===p&&t===E)return i}return i.push(e,t),i};const MF=Phaser.Math.DegToRad;var jr=function(e,t,i,s,p,E,n,T,r){n&&E>p?E-=360:!n&&E<p&&(E+=360);var o=E-p,x=MF(o)/T;p=MF(p);for(var d=0;d<=T;d++){var h=p+x*d,l=e+i*Math.cos(h),a=t+s*Math.sin(h);Jr(l,a,r)}return r};const jq=Phaser.Utils.Objects.IsPlainObject,wF=Phaser.Utils.Objects.GetValue,Qq=Phaser.Geom.Polygon.Earcut;let Ku=class extends VM{constructor(t,i,s,p,E,n,T,r){var o,x,d,h;if(jq(i)){var l=i;i=l.x,s=l.y,p=l.width,E=l.height,n=l.radius,T=l.color,r=l.alpha,o=l.strokeColor,x=l.strokeAlpha,d=l.strokeWidth,h=l.shape}i===void 0&&(i=0),s===void 0&&(s=0),p===void 0&&(p=1),E===void 0&&(E=p),n===void 0&&(n=0),h===void 0&&(h=0);var a=new zM;if(super(t,"rexRoundRectangleShape",a),this.setShapeType(h),this.shapeType===0){var f=wF(n,"radius",n);a.setTo(0,0,p,E,f)}else{var f={x:p/2,y:E/2};a.setTo(0,0,p,E,f)}this.setIteration(wF(n,"iteration",void 0)),this.setPosition(i,s),this.setFillStyle(T,r),d===void 0&&(d=2),this.setStrokeStyle(d,o,x),this.updateDisplayOrigin(),this.dirty=!0}updateData(){var t=this.geom,i=this.pathData;i.length=0;var s=t.width,p=t.height,E=t.cornerRadius,n,T=this.iteration+1;if(n=E.tl,Ji(n))if(n.convex){var r=n.x,o=n.y;jr(r,o,n.x,n.y,180,270,!1,T,i)}else{var r=0,o=0;jr(r,o,n.x,n.y,90,0,!0,T,i)}else Jr(0,0,i);if(n=E.tr,Ji(n))if(n.convex){var r=s-n.x,o=n.y;jr(r,o,n.x,n.y,270,360,!1,T,i)}else{var r=s,o=0;jr(r,o,n.x,n.y,180,90,!0,T,i)}else Jr(s,0,i);if(n=E.br,Ji(n))if(n.convex){var r=s-n.x,o=p-n.y;jr(r,o,n.x,n.y,0,90,!1,T,i)}else{var r=s,o=p;jr(r,o,n.x,n.y,270,180,!0,T,i)}else Jr(s,p,i);if(n=E.bl,Ji(n))if(n.convex){var r=n.x,o=p-n.y;jr(r,o,n.x,n.y,90,180,!1,T,i)}else{var r=0,o=p;jr(r,o,n.x,n.y,360,270,!0,T,i)}else Jr(0,p,i);return i.push(i[0],i[1]),this.pathIndexes=Qq(i),this}setShapeType(t){return typeof t=="string"&&(t=qq[t]),this.shapeType=t,this}setSize(t,i){return i===void 0&&(i=t),this.geom.width===t&&this.geom.height===i?this:(this.geom.setSize(t,i),this.shapeType===1&&this.setRadius({x:t/2,y:i/2}),this.updateDisplayOrigin(),this.dirty=!0,super.setSize(t,i),this)}get radius(){return this.geom.radius}set radius(t){this.geom.setRadius(t),this.updateDisplayOrigin(),this.dirty=!0}get radiusTL(){return this.geom.radiusTL}set radiusTL(t){this.geom.radiusTL=t,this.dirty=!0}get radiusTR(){return this.geom.radiusTR}set radiusTR(t){this.geom.radiusTR=t,this.dirty=!0}get radiusBL(){return this.geom.radiusBL}set radiusBL(t){this.geom.radiusBL=t,this.dirty=!0}get radiusBR(){return this.geom.radiusBR}set radiusBR(t){this.geom.radiusBR=t,this.dirty=!0}setRadius(t){return t===void 0&&(t=0),this.radius=t,this}setRadiusTL(t){return t===void 0&&(t=0),this.radiusTL=t,this}setRadiusTR(t){return t===void 0&&(t=0),this.radiusTR=t,this}setRadiusBL(t){return t===void 0&&(t=0),this.radiusBL=t,this}setRadiusBR(t){return t===void 0&&(t=0),this.radiusBR=t,this}get cornerRadius(){return this.geom.cornerRadius}set cornerRadius(t){this.radius=t}setCornerRadius(t){return this.setRadius(t)}get iteration(){return this._iteration}set iteration(t){if(this._iteration===void 0){this._iteration=t;return}this._iteration!==t&&(this._iteration=t,this.dirty=!0)}setIteration(t){return t===void 0&&(t=6),this.iteration=t,this}};const qq={rectangle:0,circle:1};It.register("roundRectangle",function(e,t,i,s,p,E,n){var T=new Ku(this.scene,e,t,i,s,p,E,n);return this.scene.add.existing(T),T});Lt(window,"RexPlugins.UI.RoundRectangle",Ku);const _q=Phaser.Renderer.WebGL.Utils;var t_=function(e,t,i,s){if(t.dirty&&(t.updateTexture(),t.dirty=!1),!(t.width===0||t.height===0)){i.addToRenderList(t);var p=t.frame,E=p.width,n=p.height,T=_q.getTintAppendFloatAlpha,r=e.pipelines.set(t.pipeline,t),o=r.setTexture2D(p.glTexture,t);e.pipelines.preBatch(t),r.batchTexture(t,p.glTexture,E,n,t.x,t.y,E/t.resolution,n/t.resolution,t.scaleX,t.scaleY,t.rotation,t.flipX,t.flipY,t.scrollFactorX,t.scrollFactorY,t.displayOriginX,t.displayOriginY,0,0,E,n,T(t.tintTopLeft,i.alpha*t._alphaTL),T(t.tintTopRight,i.alpha*t._alphaTR),T(t.tintBottomLeft,i.alpha*t._alphaBL),T(t.tintBottomRight,i.alpha*t._alphaBR),t.tintFill,0,0,i,s,!1,o),e.pipelines.postBatch(t)}},e_=function(e,t,i,s){t.dirty&&(t.updateTexture(),t.dirty=!1),!(t.width===0||t.height===0)&&(i.addToRenderList(t),e.batchSprite(t,t.frame,i,s))};const i_={renderWebGL:t_,renderCanvas:e_},r_=Phaser.Display.Color,n_={clear(){return this.context.clearRect(0,0,this.canvas.width,this.canvas.height),this.dirty=!0,this},fill(e){return this.context.fillStyle=e,this.context.fillRect(0,0,this.canvas.width,this.canvas.height),this.dirty=!0,this},drawFrame(e,t,i,s,p,E,n,T,r,o){var x=this.scene.sys.textures.getFrame(e,t);if(!x)return this;var d=x.cutWidth,h=x.cutHeight;i===void 0&&(i=0),s===void 0&&(s=0),p===void 0&&(p=d),E===void 0&&(E=h),n===void 0&&(n=0),T===void 0&&(T=0),r===void 0&&(r=d),o===void 0&&(o=h);var l=x.cutX+n,a=x.cutY+T;return this.context.drawImage(x.source.image,l,a,r,o,i,s,p,E),this.dirty=!0,this},getDataURL(e,t){return this.canvas.toDataURL(e,t)},getPixel(e,t,i){i===void 0&&(i=new r_);var s=this.context.getImageData(e,t,1,1);return i.setTo(s.data[0],s.data[1],s.data[2],s.data[3]),i},setPixel(e,t,i,s,p,E){if(typeof i!="number"){var n=i;i=n.red,s=n.green,p=n.blue,E=n.alpha}E===void 0&&(E=i!==0||s!==0||p!==0?255:0);var T=this.context.createImageData(1,1);return T.data[0]=i,T.data[1]=s,T.data[2]=p,T.data[3]=E,this.context.putImageData(T,e,t),this.dirty=!0,this}};var L9=function(e,t,i,s,p,E,n){var T=e.sys.textures,r=e.renderer;s===void 0&&(s=0),p===void 0&&(p=0),E===void 0&&(E=t.width),n===void 0&&(n=t.height);var o;T.exists(i)?o=T.get(i):o=T.createCanvas(i,E,n);var x=o.getSourceImage();x.width!==E&&(x.width=E),x.height!==n&&(x.height=n);var d=x.getContext("2d",{willReadFrequently:!0});d.clearRect(0,0,E,n),d.drawImage(t,s,p,E,n),r.gl&&o&&r.canvasToTexture(x,o.source[0].glTexture,!0,0)};const s_={updateTexture(e,t){if(e){var i=this.resolution;i!==1&&(this.context.save(),this.context.scale(i,i)),t?e.call(t,this.canvas,this.context):e(this.canvas,this.context),i!==1&&this.context.restore()}(this.canvas.width!==this.frame.width||this.canvas.height!==this.frame.height)&&this.frame.setSize(this.canvas.width,this.canvas.height),this.renderer&&this.renderer.gl&&(this.frame.source.glTexture=this.renderer.canvasToTexture(this.canvas,this.frame.source.glTexture,!0),this.frame.glTexture.spectorMetadata={textureKey:"Canvas Game Object"}),this.dirty=!1;var s=this.input;return s&&!s.customHitArea&&(s.hitArea.width=this.width,s.hitArea.height=this.height),this},generateTexture(e,t,i,s,p){var E=this.canvas;return s===void 0?s=E.width:s*=this.resolution,p===void 0?p=E.height:p*=this.resolution,L9(this.scene,E,e,t,i,s,p),this},loadTexture(e,t){var i=this.scene.sys.textures.getFrame(e,t);return i?(this.width!==i.cutWidth||this.height!==i.cutHeight?this.setSize(i.cutWidth,i.cutHeight):this.clear(),this.drawFrame(e,t),this.dirty=!0,this):this}};Ox();const RF=Phaser.Display.Canvas.CanvasPool,a_=Phaser.GameObjects.GameObject,o_=Phaser.Utils.String.UUID;let Ah=class extends a_{constructor(t,i,s,p,E,n){i===void 0&&(i=0),s===void 0&&(s=0),p===void 0&&(p=1),E===void 0&&(E=1),n===void 0&&(n=1),super(t,"rexCanvas"),this.renderer=t.sys.game.renderer,this._width=p,this._height=E,this.resolution=n,p=Math.max(Math.ceil(p*this.resolution),1),E=Math.max(Math.ceil(E*this.resolution),1),this.canvas=RF.create(this,p,E),this.context=this.canvas.getContext("2d",{willReadFrequently:!0}),this.dirty=!1,this.setPosition(i,s),this.setOrigin(.5,.5),this.initPipeline(),this.initPostPipeline(!0),this._crop=this.resetCropObject(),this._textureKey=o_(),this.texture=t.sys.textures.addCanvas(this._textureKey,this.canvas),this.frame=this.texture.get(),this.frame.source.resolution=this.resolution,this.renderer&&this.renderer.gl&&(this.renderer.deleteTexture(this.frame.source.glTexture),this.frame.source.glTexture=null),this.dirty=!0}preDestroy(){RF.remove(this.canvas),this.canvas=null,this.context=null;var t=this.texture;t&&t.destroy()}setResolution(t){if(this.resolution===t)return this;this.resolution=t;var i=Math.max(Math.ceil(this.width*t),1),s=Math.max(Math.ceil(this.height*t),1);return this.canvas.width=i,this.canvas.height=s,this.frame.source.resolution=t,this.dirty=!0,this}get width(){return this._width}set width(t){this.setSize(t,this._height)}get height(){return this._height}set height(t){this.setSize(this._width,t)}setCanvasSize(t,i){return this._width===t&&this._height===i?this:(this._width=t,this._height=i,this.updateDisplayOrigin(),t=Math.max(Math.ceil(t*this.resolution),1),i=Math.max(Math.ceil(i*this.resolution),1),this.canvas.width=t,this.canvas.height=i,this.frame.setSize(t,i),this.dirty=!0,this)}setSize(t,i){return this.setCanvasSize(t,i),this}get displayWidth(){return this.scaleX*this._width}set displayWidth(t){this.scaleX=t/this._width}get displayHeight(){return this.scaleY*this._height}set displayHeight(t){this.scaleY=t/this._height}setDisplaySize(t,i){return this.displayWidth=t,this.displayHeight=i,this}getCanvas(t){return t||(this.dirty=!0),this.canvas}getContext(t){return t||(this.dirty=!0),this.context}needRedraw(){return this.dirty=!0,this}resize(t,i){return this.setSize(t,i),this}};const jn=Phaser.GameObjects.Components;Phaser.Class.mixin(Ah,[jn.Alpha,jn.BlendMode,jn.Crop,jn.Depth,jn.Flip,jn.GetBounds,jn.Mask,jn.Origin,jn.Pipeline,jn.PostPipeline,jn.ScrollFactor,jn.Tint,jn.Transform,jn.Visible,i_,n_,s_]);const l_=Phaser.Utils.String.Pad;var Ye=function(e,t,i){if(e==null)return e;switch(typeof e){case"string":return e;case"number":return`#${l_(Math.floor(e).toString(16),6,"0",1)}`;case"function":return e(t,i);case"object":return e.hasOwnProperty("r")?e.hasOwnProperty("a")?`rgba(${e.r},${e.g},${e.b},${e.a})`:`rgb(${e.r},${e.g},${e.b})`:e.hasOwnProperty("h")?e.hasOwnProperty("a")?`hsla(${e.h},${e.s},${e.l},${e.a})`:`hsl(${e.h},${e.s},${e.l})`:e;default:return e}};const AF=Phaser.Math.DegToRad;var D9=function(e,t,i,s,p,E,n){var T=new zM(t,i,s,p,E),r=T.minWidth,o=T.minHeight,x=s>=r?1:s/r,d=p>=o?1:p/o,h=T.cornerRadius,l,a,f,c,u,v,g;e.save(),e.beginPath(),e.translate(t,i),l=h.tl,O0(l)?(a=l.x*x,f=l.y*d,A0(l)?(c=a,u=f,_l(e,c,u,a,f,180,270,!1,n)):(c=0,u=0,_l(e,c,u,a,f,90,0,!0,n)),v=0,g=f):(e.lineTo(0,0),v=0,g=0),l=h.tr,O0(l)?(a=l.x*x,f=l.y*d,A0(l)?(c=s-a,u=f,_l(e,c,u,a,f,270,360,!1,n)):(c=s,u=0,_l(e,c,u,a,f,180,90,!0,n))):e.lineTo(s,0),l=h.br,O0(l)?(a=l.x*x,f=l.y*d,A0(l)?(c=s-a,u=p-f,_l(e,c,u,a,f,0,90,!1,n)):(c=s,u=p,_l(e,c,u,a,f,270,180,!0,n))):e.lineTo(s,p),l=h.bl,O0(l)?(a=l.x*x,f=l.y*d,A0(l)?(c=a,u=p-f,_l(e,c,u,a,f,90,180,!1,n)):(c=0,u=p,_l(e,c,u,a,f,360,270,!0,n))):e.lineTo(0,p),e.lineTo(v,g),e.closePath(),e.restore()},A0=function(e){return!e.hasOwnProperty("convex")||e.convex},O0=function(e){return e.x>0&&e.y>0},_l=function(e,t,i,s,p,E,n,T,r){if(T&&n>E?n-=360:!T&&n<E&&(n+=360),E=AF(E),n=AF(n),r==null)e.ellipse(t,i,s,p,0,E,n,T);else{r+=1;for(var o,x,d,h=(n-E)/r,l=0;l<=r;l++)d=E+h*l,o=t+s*Math.cos(d),x=i+p*Math.sin(d),e.lineTo(o,x)}},h_=function(e,t,i,s,p,E,n,T,r,o,x,d,h){if(D9(t,i,s,p,E,n,h),T!=null){if(x!=null){var l;d?l=t.createLinearGradient(0,0,p,0):l=t.createLinearGradient(0,0,0,E),l.addColorStop(0,T),l.addColorStop(1,x),T=l}t.fillStyle=T,t.fill()}r!=null&&o>0&&(t.strokeStyle=r,t.lineWidth=o,t.stroke())},WM=function(e,t,i,s,p,E,n,T){if(!(t==null&&i==null)){var r=e.canvas.width,o=e.canvas.height;i==null&&(s=0);var x=s/2;r=Math.max(1,r-s),o=Math.max(1,o-s),h_(e.canvas,e.context,x,x,r,o,p,t,i,s,E,n,T)}},u_=function(){WM(this,this.fillStyle,this.strokeStyle,this.lineWidth,this.radius,this.fillColor2,this.isHorizontalGradient,this.iteration)};const OF=Phaser.Utils.Objects.GetValue;let F9=class extends Ah{constructor(t,i,s,p,E,n,T,r,o,x,d,h){i===void 0&&(i=0),s===void 0&&(s=0),p===void 0&&(p=1),E===void 0&&(E=p),n===void 0&&(n=0),h===void 0&&(h=1),super(t,i,s,p,E,h),this.type="rexRoundRectangleCanvas";var l=OF(n,"radius",n),a=OF(n,"iteration",void 0);this.setRadius(l),this.setIteration(a),this.setFillStyle(T,x,d),this.setStrokeStyle(r,o)}get radius(){return this._radius}set radius(t){this.dirty|=this._radius!=t,this._radius=t}setRadius(t){return this.radius=t,this}get iteration(){return this._iteration}set iteration(t){this.dirty|=this._iteration!=t,this._iteration=t}setIteration(t){return this.iteration=t,this}get fillStyle(){return this._fillStyle}set fillStyle(t){t=Ye(t,this.canvas,this.context),this.dirty|=this._fillStyle!=t,this._fillStyle=t}get fillColor2(){return this._fillColor2}set fillColor2(t){t=Ye(t,this.canvas,this.context),this.dirty|=this._fillColor2!=t,this._fillColor2=t}get isHorizontalGradient(){return this._isHorizontalGradient}set isHorizontalGradient(t){this.dirty|=this._isHorizontalGradient!=t,this._isHorizontalGradient=t}setFillStyle(t,i,s){return s===void 0&&(s=!0),this.fillStyle=t,this.fillColor2=i,this.isHorizontalGradient=s,this}get strokeStyle(){return this._strokeStyle}set strokeStyle(t){t=Ye(t,this.canvas,this.context),this.dirty|=this._strokeStyle!=t,this._strokeStyle=t}get lineWidth(){return this._lineWidth}set lineWidth(t){this.dirty|=this._lineWidth!=t,this._lineWidth=t}setStrokeStyle(t,i){return this.strokeStyle=t,this.lineWidth=i,this}updateTexture(){return super.updateTexture(function(){this.clear(),u_.call(this)},this),this}};It.register("roundRectangleCanvas",function(e,t,i,s,p,E,n,T,r,o){var x=new F9(this.scene,e,t,i,s,p,E,n,T,r,o);return this.scene.add.existing(x),x});Lt(window,"RexPlugins.UI.RoundRectangleCanvas",F9);var gi=function(e,t){if(!e)return!1;if(e.hasOwnProperty(t))return!0;for(;e;){if(Object.getOwnPropertyDescriptor(e,t))return!0;e=e.__proto__}return!1},th=function(e,t,i){!t||gi(e,`${t}X`)||(Object.defineProperty(e,`${t}X`,{get:function(){return i.x},set:function(s){i.x=s,e.dirty=!0}}),Object.defineProperty(e,`${t}Y`,{get:function(){return i.y},set:function(s){i.y=s,e.dirty=!0}}),Object.defineProperty(e,`${t}T`,{get:function(){return i.t},set:function(s){i.t=s,e.dirty=!0}}))};const f_={setTLPosition(e,t){return this.geom.setTLPosition(e,t),this.dirty=!0,this},setTRPosition(e,t){return this.geom.setTRPosition(e,t),this.dirty=!0,this},setBLPosition(e,t){return this.geom.setBLPosition(e,t),this.dirty=!0,this},setBRPosition(e,t){return this.geom.setBRPosition(e,t),this.dirty=!0,this},resetCornerPosition(){return this.geom.resetCornerPosition(),this.dirty=!0,this},insertTopSidePoint(e,t,i,s){var p=this.geom.topSidePoints;if(Array.isArray(e))for(var p=e,E,n=0,T=p.length;n<T;n++)E=p[n],this.geom.insertTopSidePoint(E.t,E.x,E.y),th(this,E.key,p[p.length-1]);else this.geom.insertTopSidePoint(e,t,i),th(this,s,p[p.length-1]);return this.dirty=!0,this},insertRightSidePoint(e,t,i,s){var p=this.geom.rightSidePoints;if(Array.isArray(e))for(var p=e,E,n=0,T=p.length;n<T;n++)E=p[n],this.geom.insertRightSidePoint(E.t,E.x,E.y),th(this,E.key,p[p.length-1]);else this.geom.insertRightSidePoint(e,t,i),th(this,s,p[p.length-1]);return this.dirty=!0,this},insertBottomSidePoint(e,t,i,s){var p=this.geom.bottomSidePoints;if(Array.isArray(e))for(var p=e,E,n=0,T=p.length;n<T;n++)E=p[n],this.geom.insertBottomSidePoint(E.t,E.x,E.y),th(this,E.key,p[p.length-1]);else this.geom.insertBottomSidePoint(e,t,i),th(this,s,p[p.length-1]);return this.dirty=!0,this},insertLeftSidePoint(e,t,i,s){var p=this.geom.leftSidePoints;if(Array.isArray(e))for(var p=e,E,n=0,T=p.length;n<T;n++)E=p[n],this.geom.insertLeftSidePoint(E.t,E.x,E.y),th(this,E.key,p[p.length-1]);else this.geom.insertLeftSidePoint(e,t,i),th(this,s,p[p.length-1]);return this.dirty=!0,this},clearTopSidePoints(){return this.geom.clearTopSidePoints(),this.dirty=!0,this},clearRightSidePoints(){return this.geom.clearRightSidePoints(),this.dirty=!0,this},clearBottomSidePoints(){return this.geom.clearBottomSidePoints(),this.dirty=!0,this},clearLeftSidePoints(){return this.geom.clearLeftSidePoints(),this.dirty=!0,this},clearAllSidesPoints(){return this.geom.clearAllSidesPoints(),this.dirty=!0,this}};class d_{constructor(t,i,s,p){t===void 0&&(t=0),i===void 0&&(i=t),s===void 0&&(s=0),p===void 0&&(p=0),this.setTo(t,i,s,p),this.tlx=0,this.tly=0,this.trx=0,this.try=0,this.blx=0,this.bly=0,this.brx=0,this.bry=0,this.topSidePoints=[],this.rightSidePoints=[],this.bottomSidePoints=[],this.leftSidePoints=[]}setTo(t,i,s,p){return this.setPosition(t,i),this.setSize(s,p),this}setPosition(t,i){return this.x=t,this.y=i,this}setSize(t,i){return this.width=t,this.height=i,this}setTLPosition(t,i){return this.tlx=t,this.tly=i,this}setTRPosition(t,i){return this.trx=t,this.try=i,this}setBLPosition(t,i){return this.blx=t,this.bly=i,this}setBRPosition(t,i){return this.brx=t,this.bry=i,this}resetCornerPosition(){return this.setTLPosition(0,0).setTRPosition(0,0).setBLPosition(0,0).setBRPosition(0,0),this}insertTopSidePoint(t,i,s){return L0(this.topSidePoints,t,i,s),this}insertRightSidePoint(t,i,s){return L0(this.rightSidePoints,t,i,s),this}insertBottomSidePoint(t,i,s){return L0(this.bottomSidePoints,t,i,s),this}insertLeftSidePoint(t,i,s){return L0(this.leftSidePoints,t,i,s),this}clearTopSidePoints(){return this.topSidePoints.length=0,this}clearRightSidePoints(){return this.rightSidePoints.length=0,this}clearBottomSidePoints(){return this.bottomSidePoints.length=0,this}clearLeftSidePoints(){return this.leftSidePoints.length=0,this}clearAllSidesPoints(){return this.clearTopSidePoints().clearRightSidePoints().clearBottomSidePoints().clearLeftSidePoints(),this}}var L0=function(e,t,i,s){if(typeof t!="number"){var p=t;t=p.t,i=p.x,s=p.y}e.push({t,x:i,y:s})};const c_=Phaser.Utils.Objects.IsPlainObject,$s=Phaser.Utils.Objects.GetValue,eh=Phaser.Math.Linear,v_=Phaser.Geom.Polygon.Earcut;class YM extends VM{constructor(t,i,s,p,E,n,T){var r,o,x;if(c_(i)){var d=i;i=d.x,s=d.y,p=d.width,E=d.height,n=d.color,T=d.alpha,r=d.strokeColor,o=d.strokeAlpha,x=d.strokeWidth}i===void 0&&(i=0),s===void 0&&(s=0),p===void 0&&(p=1),E===void 0&&(E=p);var h=new d_;super(t,"rexQuadShape",h),h.setTo(0,0,p,E),this.setPosition(i,s),this.setFillStyle(n,T),r!==void 0&&x===void 0&&(x=2),this.setStrokeStyle(x,r,o),this.setTLPosition($s(d,"tlx",0),$s(d,"tly",0)).setTRPosition($s(d,"trx",0),$s(d,"try",0)).setBLPosition($s(d,"blx",0),$s(d,"bly",0)).setBRPosition($s(d,"brx",0),$s(d,"bry",0));var l=$s(d,"leftSidePoints");l&&this.insertLeftSidePoint(l);var a=$s(d,"topSidePoints");a&&this.insertTopSidePoint(a);var f=$s(d,"rightSidePoints");f&&this.insertRightSidePoint(f);var c=$s(d,"bottomSidePoints");c&&this.insertBottomSidePoint(c),this.updateDisplayOrigin(),this.dirty=!0}updateData(){var t=this.geom,i=this.pathData;i.length=0;var s=t.width,p=t.height,E=0+t.tlx,n=0+t.tly,T=s+t.trx,r=0+t.try,o=s+t.brx,x=p+t.bry,d=0+t.blx,h=p+t.bly,l=t.topSidePoints,a=t.rightSidePoints,f=t.bottomSidePoints,c=t.leftSidePoints;Jr(E,n,i),D0(l);for(var u=0,v=l.length;u<v;u++){var g=l[u],m=eh(E,T,g.t)+g.x,y=eh(n,r,g.t)+g.y;Jr(m,y,i)}Jr(T,r,i),D0(a);for(var u=0,v=a.length;u<v;u++){var g=a[u],m=eh(T,o,g.t)+g.x,y=eh(r,x,g.t)+g.y;Jr(m,y,i)}Jr(o,x,i),D0(f);for(var u=f.length-1;u>=0;u--){var g=f[u],m=eh(d,o,g.t)+g.x,y=eh(h,x,g.t)+g.y;Jr(m,y,i)}Jr(d,h,i),D0(c);for(var u=c.length-1;u>=0;u--){var g=c[u],m=eh(E,d,g.t)+g.x,y=eh(n,h,g.t)+g.y;Jr(m,y,i)}return i.push(i[0],i[1]),this.pathIndexes=v_(i),this}get tlx(){return this.geom.tlx}set tlx(t){this.geom.tlx=t,this.dirty=!0}get tly(){return this.geom.tly}set tly(t){this.geom.tly=t,this.dirty=!0}get trx(){return this.geom.trx}set trx(t){this.geom.trx=t,this.dirty=!0}get try(){return this.geom.try}set try(t){this.geom.try=t,this.dirty=!0}get blx(){return this.geom.blx}set blx(t){this.geom.blx=t,this.dirty=!0}get bly(){return this.geom.bly}set bly(t){this.geom.bly=t,this.dirty=!0}get brx(){return this.geom.brx}set brx(t){this.geom.brx=t,this.dirty=!0}get bry(){return this.geom.bry}set bry(t){this.geom.bry=t,this.dirty=!0}get leftSidePoints(){return this.geom.leftSidePoints}get topSidePoints(){return this.geom.topSidePoints}get bottomSidePoints(){return this.geom.bottomSidePoints}get rightSidePoints(){return this.geom.rightSidePoints}}var D0=function(e){e.length<=1||e.sort(function(t,i){return t.t-i.t})};Object.assign(YM.prototype,f_);It.register("QuadShape",function(e,t,i,s,p,E){var n=new YM(this.scene,e,t,i,s,p,E);return this.scene.add.existing(n),n});Lt(window,"RexPlugins.UI.QuadShape",YM);var p_=Phaser.Renderer.WebGL.Utils,g_=function(e,t,i,s){if(!(t.width===0||t.height===0)){i.addToRenderList(t);var p=t.frame,E=p.width,n=p.height,T=p_.getTintAppendFloatAlpha,r=e.pipelines.set(t.pipeline,t),o=r.setTexture2D(p.glTexture,t);e.pipelines.preBatch(t),r.batchTexture(t,p.glTexture,E,n,t.x,t.y,E/t.style.resolution,n/t.style.resolution,t.scaleX,t.scaleY,t.rotation,t.flipX,t.flipY,t.scrollFactorX,t.scrollFactorY,t.displayOriginX,t.displayOriginY,0,0,E,n,T(t.tintTopLeft,i.alpha*t._alphaTL),T(t.tintTopRight,i.alpha*t._alphaTR),T(t.tintBottomLeft,i.alpha*t._alphaBL),T(t.tintBottomRight,i.alpha*t._alphaBR),t.tintFill,0,0,i,s,!1,o),e.pipelines.postBatch(t)}},m_=function(e,t,i,s){t.width===0||t.height===0||(i.addToRenderList(t),e.batchSprite(t,t.frame,i,s))};const y_={renderWebGL:g_,renderCanvas:m_},YE=Phaser.Display.Canvas.CanvasPool;var x_=function(e,t,i){i===void 0&&(i={});var s=YE.create(this),p=s.getContext("2d",{willReadFrequently:!0});e.syncFont(s,p);var E=p.measureText(t),n=Math.ceil(E.width*e.baselineX),T=n,r=2*T;if(T=T*e.baselineY|0,s.width=n,s.height=r,p.fillStyle="#f00",p.fillRect(0,0,n,r),p.font=e._font,p.textBaseline="alphabetic",p.fillStyle="#000",p.fillText(e.testString,0,T),i.left=0,n===0||r===0||!p.getImageData(0,0,n,r))return YE.remove(s),i;for(var o=p.getImageData(0,0,n,r).data,x=!1,d=0;d<n;d++){for(var h=0;h<r;h++){var l=(h*n+d)*4;if(o[l]!==255){i.left=d,x=!0;break}}if(x)break}return YE.remove(s),i};Ox();const T_=Phaser.GameObjects.GameObject;class I9 extends T_{setStyle(t){return this.style.setStyle(t)}setFont(t){return this.style.setFont(t)}setFontFamily(t){return this.style.setFontFamily(t)}setFontSize(t){return this.style.setFontSize(t)}setFontStyle(t){return this.style.setFontStyle(t)}setTestString(t){return this.style.setTestString(t)}setFixedSize(t,i){return this.style.setFixedSize(t,i)}setBackgroundColor(t,i,s){return this.style.setBackgroundColor(t,i,s)}setBackgroundStrokeColor(t,i){return this.style.setBackgroundStrokeColor(t,i)}setBackgroundCornerRadius(t,i){return this.style.setBackgroundCornerRadius(t,i)}setFill(t){return this.style.setFill(t)}setColor(t){return this.style.setColor(t)}setStroke(t,i){return this.style.setStroke(t,i)}setShadow(t,i,s,p,E,n){return this.style.setShadow(t,i,s,p,E,n)}setShadowOffset(t,i){return this.style.setShadowOffset(t,i)}setShadowColor(t){return this.style.setShadowColor(t)}setShadowBlur(t){return this.style.setShadowBlur(t)}setShadowStroke(t){return this.style.setShadowStroke(t)}setShadowFill(t){return this.style.setShadowFill(t)}setUnderline(t,i,s){return this.style.setUnderline(t,i,s)}setUnderlineColor(t){return this.style.setUnderlineColor(t)}setUnderlineThickness(t){return this.style.setUnderlineThickness(t)}setUnderlineOffset(t){return this.style.setUnderlineOffset(t)}setStrikethrough(t,i,s){return this.style.setStrikethrough(t,i,s)}setStrikethroughColor(t){return this.style.setStrikethroughColor(t)}setStrikethroughThickness(t){return this.style.setStrikethroughThickness(t)}setStrikethroughOffset(t){return this.style.setStrikethroughOffset(t)}setWrapMode(t){return this.style.setWrapMode(t)}setWrapWidth(t){return this.style.setWrapWidth(t)}setWordWrapWidth(t){return this.style.setWrapWidth(t)}setAlign(t){return this.style.setHAlign(t)}setHAlign(t){return this.style.setHAlign(t)}setVAlign(t){return this.style.setVAlign(t)}get lineSpacing(){return this.style.lineSpacing}set lineSpacing(t){this.style.lineSpacing=t}setLineSpacing(t){return this.style.lineSpacing=t,this.updateText(!0),this}setXOffset(t){return this.style.setXOffset(t)}setMaxLines(t){return this.style.setMaxLines(t)}setResolution(t){return this.style.setResolution(t)}getTextMetrics(){return this.style.getTextMetrics()}setTextMetrics(t,i){return this.style.setTextMetrics(t,i)}measureTextMargins(t,i){return x_(this.style,t,i)}}const Un=Phaser.GameObjects.Components;Phaser.Class.mixin(I9,[Un.Alpha,Un.BlendMode,Un.ComputedSize,Un.Crop,Un.Depth,Un.Flip,Un.GetBounds,Un.Mask,Un.Origin,Un.Pipeline,Un.PostPipeline,Un.ScrollFactor,Un.Tint,Un.Transform,Un.Visible,y_]);var C_={backgroundColor:["backgroundColor",null,Ye],backgroundColor2:["backgroundColor2",null,Ye],backgroundHorizontalGradient:["backgroundHorizontalGradient",!0,null],backgroundStrokeColor:["backgroundStrokeColor",null,Ye],backgroundStrokeLineWidth:["backgroundStrokeLineWidth",2,null],backgroundCornerRadius:["backgroundCornerRadius",0,null],backgroundCornerIteration:["backgroundCornerIteration",null,null],fontFamily:["fontFamily","Courier",null],fontSize:["fontSize","16px",null],fontStyle:["fontStyle","",null],color:["color","#fff",Ye],stroke:["stroke","#fff",Ye],strokeThickness:["strokeThickness",0,null],shadowOffsetX:["shadow.offsetX",0,null],shadowOffsetY:["shadow.offsetY",0,null],shadowColor:["shadow.color","#000",Ye],shadowBlur:["shadow.blur",0,null],shadowStroke:["shadow.stroke",!1,null],shadowFill:["shadow.fill",!1,null],underlineColor:["underline.color","#000",Ye],underlineThickness:["underline.thickness",0,null],underlineOffset:["underline.offset",0,null],strikethroughColor:["strikethrough.color","#000",Ye],strikethroughThickness:["strikethrough.thickness",0,null],strikethroughOffset:["strikethrough.offset",0,null],halign:["halign","left",null],valign:["valign","top",null],maxLines:["maxLines",0,null],fixedWidth:["fixedWidth",0,null],fixedHeight:["fixedHeight",0,null],resolution:["resolution",0,null],lineSpacing:["lineSpacing",0,null],xOffset:["xOffset",0,null],rtl:["rtl",!1,null],testString:["testString","|MÃ‰qgy",null],baselineX:["baselineX",1.2,null],baselineY:["baselineY",1.4,null],wrapMode:["wrap.mode",0,null],wrapWidth:["wrap.width",0,null],wrapCallback:["wrap.callback",null],wrapCallbackScope:["wrap.callbackScope",null]};/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2018 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */const F0=Phaser.Display.Canvas.CanvasPool;var LF=function(e){var t=F0.create(this),i=t.getContext("2d",{willReadFrequently:!0});e.syncFont(t,i);var s=i.measureText(e.testString);if("actualBoundingBoxAscent"in s){var p=s.actualBoundingBoxAscent,E=s.actualBoundingBoxDescent,o={ascent:p,descent:E,fontSize:p+E};return F0.remove(t),o}var n=Math.ceil(s.width*e.baselineX),T=n,r=2*T;T=T*e.baselineY|0,t.width=n,t.height=r,i.fillStyle="#f00",i.fillRect(0,0,n,r),i.font=e._font,i.textBaseline="alphabetic",i.fillStyle="#000",i.fillText(e.testString,0,T);var o={ascent:0,descent:0,fontSize:0};if(!i.getImageData(0,0,n,r))return o.ascent=T,o.descent=T+6,o.fontSize=o.ascent+o.descent,F0.remove(t),o;var x=i.getImageData(0,0,n,r).data,d=x.length,h=n*4,l,a,f=0,c=!1;for(l=0;l<T;l++){for(a=0;a<h;a+=4)if(x[f+a]!==255){c=!0;break}if(!c)f+=h;else break}for(o.ascent=T-l,f=d-h,c=!1,l=r;l>T;l--){for(a=0;a<h;a+=4)if(x[f+a]!==255){c=!0;break}if(!c)f-=h;else break}return o.descent=l-T,o.fontSize=o.ascent+o.descent,F0.remove(t),o},pr={NO_NEWLINE:0,RAW_NEWLINE:1,WRAPPED_NEWLINE:2,NO_WRAP:0,WORD_WRAP:1,CHAR_WRAP:2,MIX_WRAP:3,SPLITREGEXP:/(?:\r\n|\r|\n)/};const ex={none:pr.NO_WRAP,word:pr.WORD_WRAP,char:pr.CHAR_WRAP,character:pr.CHAR_WRAP,mix:pr.MIX_WRAP},S_=Phaser.Utils.Objects.GetAdvancedValue,Ts=Phaser.Utils.Objects.GetValue;let XM=class{constructor(t,i,s){this.parent=t,s===void 0&&(s=C_),this.propertyMap=s,this.backgroundColor,this.backgroundColor2,this.backgroundHorizontalGradient,this.backgroundStrokeColor,this.backgroundStrokeLineWidth,this.backgroundCornerRadius,this.backgroundCornerIteration,this.fontFamily,this.fontSize,this.fontStyle,this.color,this.stroke,this.strokeThickness,this.shadowOffsetX,this.shadowOffsetY,this.shadowColor,this.shadowBlur,this.shadowStroke,this.shadowFill,this.underlineColor,this.underlineThickness,this.underlineOffset,this.strikethroughColor,this.strikethroughThickness,this.strikethroughOffset,this.halign,this.valign,this.maxLines,this.fixedWidth,this.fixedHeight,this.resolution,this.xOffset,this.rtl,this.testString,this.baselineX,this.baselineY,this.wrapMode,this.wrapWidth,this.wrapCallback,this.wrapCallbackScope,this._font,this.setStyle(i,!1,!0)}get isWrapFitMode(){return this.fixedWidth>0&&this.wrapMode!==pr.NO_WRAP&&this.wrapWidth===0}setStyle(t,i,s){if(i===void 0&&(i=!0),s===void 0&&(s=!1),t&&t.hasOwnProperty("wordWrap")){var p=t.wordWrap;p.hasOwnProperty("width")&&(t.wrap={mode:"word",width:p.width})}if(t&&t.hasOwnProperty("wrap")){var E=t.wrap;if(E.hasOwnProperty("mode")){var n=E.mode;typeof n=="string"&&(E.mode=ex[n])}else E.hasOwnProperty("width")&&(E.mode=1)}t&&t.rtl&&s&&!t.hasOwnProperty("halign")&&(t.halign="right"),t&&t.hasOwnProperty("fontSize")&&typeof t.fontSize=="number"&&(t.fontSize=t.fontSize.toString()+"px");var T=this.propertyMap;for(var r in T){var o=T[r],x=o[0],d=s?o[1]:this[r],h=o[2];if(r==="wrapCallback"||r==="wrapCallbackScope")this[r]=Ts(t,x,d);else{var l=S_(t,x,d);h&&(l=h(l)),this[r]=l}}var a=Ts(t,"font",null);a===null?this._font=this.fontStyle+" "+this.fontSize+" "+this.fontFamily:this._font=a;var f=Ts(t,"fill",null);f!==null&&(this.color=Ye(f));var c=Ts(t,"metrics",!1);return c?this.metrics={ascent:Ts(c,"ascent",0),descent:Ts(c,"descent",0),fontSize:Ts(c,"fontSize",0)}:(i||!this.metrics)&&(this.metrics=LF(this)),i?this.parent.updateText():this.parent}syncFont(t,i){i.font=this._font}syncStyle(t,i){i.textBaseline="alphabetic",i.fillStyle=this.color,i.strokeStyle=this.stroke,i.lineWidth=this.strokeThickness,i.lineCap="round",i.lineJoin="round"}syncShadow(t,i){i?(t.shadowOffsetX=this.shadowOffsetX,t.shadowOffsetY=this.shadowOffsetY,t.shadowColor=this.shadowColor,t.shadowBlur=this.shadowBlur):(t.shadowOffsetX=0,t.shadowOffsetY=0,t.shadowColor=0,t.shadowBlur=0)}update(t){return t&&(this._font=`${this.fontStyle} ${this.fontSize} ${this.fontFamily}`.trim(),this.metrics=LF(this)),this.parent.updateText(t)}buildFont(){var t=`${this.fontStyle} ${this.fontSize} ${this.fontFamily}`.trim();return t!==this._font&&(this._font=t),this}setFont(t){return typeof t=="string"?(this.fontFamily=t,this.fontSize="",this.fontStyle=""):(this.fontFamily=Ts(t,"fontFamily","Courier"),this.fontSize=Ts(t,"fontSize","16px"),this.fontStyle=Ts(t,"fontStyle","")),this.update(!0)}setFontFamily(t){return this.fontFamily=t,this.update(!0)}setFontStyle(t){return this.fontStyle=t,this.update(!0)}setFontSize(t){return typeof t=="number"&&(t=t.toString()+"px"),this.fontSize=t,this.update(!0)}setTestString(t){return this.testString=t,this.update(!0)}setFixedSize(t,i){return this.fixedWidth=t,this.fixedHeight=i,t&&(this.parent.width=t),i&&(this.parent.height=i),this.update(this.isWrapFitMode)}setResolution(t){return this.resolution=t,this.update(!1)}setXOffset(t){return this.xOffset=t,this.update(!1)}setBackgroundColor(t,i,s){return s===void 0&&(s=!0),this.backgroundColor=Ye(t,this.parent.canvas,this.parent.context),this.backgroundColor2=Ye(i,this.parent.canvas,this.parent.context),this.backgroundHorizontalGradient=s,this.update(!1)}setBackgroundStrokeColor(t,i){return this.backgroundStrokeColor=Ye(t,this.parent.canvas,this.parent.context),this.backgroundStrokeLineWidth=i,this.update(!1)}setBackgroundCornerRadius(t,i){return this.backgroundCornerRadius=t,this.backgroundCornerIteration=i,this.update(!1)}setFill(t){return this.color=Ye(t,this.parent.canvas,this.parent.context),this.update(!1)}setColor(t){return this.color=Ye(t,this.parent.canvas,this.parent.context),this.update(!1)}setStroke(t,i){return t===void 0?this.strokeThickness=0:(i===void 0&&(i=this.strokeThickness),this.stroke=Ye(t,this.parent.canvas,this.parent.context),this.strokeThickness=i),this.update(!0)}setShadow(t,i,s,p,E,n){return t===void 0&&(t=0),i===void 0&&(i=0),s===void 0&&(s="#000"),p===void 0&&(p=0),E===void 0&&(E=!1),n===void 0&&(n=!0),this.shadowOffsetX=t,this.shadowOffsetY=i,this.shadowColor=Ye(s,this.parent.canvas,this.parent.context),this.shadowBlur=p,this.shadowStroke=E,this.shadowFill=n,this.update(!1)}setShadowOffset(t,i){return t===void 0&&(t=0),i===void 0&&(i=t),this.shadowOffsetX=t,this.shadowOffsetY=i,this.update(!1)}setShadowColor(t){return t===void 0&&(t="#000"),this.shadowColor=Ye(t,this.parent.canvas,this.parent.context),this.update(!1)}setShadowBlur(t){return t===void 0&&(t=0),this.shadowBlur=t,this.update(!1)}setShadowStroke(t){return this.shadowStroke=t,this.update(!1)}setShadowFill(t){return this.shadowFill=t,this.update(!1)}setUnderline(t,i,s){return t===void 0&&(t="#000"),i===void 0&&(i=0),s===void 0&&(s=0),this.underlineColor=Ye(t,this.parent.canvas,this.parent.context),this.underlineThickness=i,this.underlineOffset=s,this.update(!1)}setUnderlineColor(t){return t===void 0&&(t="#000"),this.underlineColor=Ye(t,this.parent.canvas,this.parent.context),this.update(!1)}setUnderlineThickness(t){return t===void 0&&(t=0),this.underlineThickness=t,this.update(!1)}setUnderlineOffset(t){return t===void 0&&(t=0),this.underlineOffset=t,this.update(!1)}setStrikethrough(t,i,s){return t===void 0&&(t="#000"),i===void 0&&(i=0),s===void 0&&(s=0),this.strikethroughColor=Ye(t,this.parent.canvas,this.parent.context),this.strikethroughThickness=i,this.strikethroughOffset=s,this.update(!1)}setStrikethroughColor(t){return t===void 0&&(t="#000"),this.strikethroughColor=Ye(t,this.parent.canvas,this.parent.context),this.update(!1)}setStrikethroughThickness(t){return t===void 0&&(t=0),this.strikethroughThickness=t,this.update(!1)}setStrikethroughOffset(t){return t===void 0&&(t=0),this.strikethroughOffset=t,this.update(!1)}setWrapMode(t){return typeof t=="string"&&(t=ex[t.toLowerCase()]||0),this.wrapMode=t,this.update(!0)}setWrapWidth(t){return this.wrapWidth=t,this.update(!1)}setAlign(t,i){return t===void 0&&(t="left"),i===void 0&&(i="top"),this.halign=t,this.valign=i,this.update(!1)}setHAlign(t){return t===void 0&&(t="left"),this.halign=t,this.update(!1)}setVAlign(t){return t===void 0&&(t="top"),this.valign=t,this.update(!1)}setMaxLines(t){return t===void 0&&(t=0),this.maxLines=t,this.update(!1)}getTextMetrics(){var t=this.metrics;return{ascent:t.ascent,descent:t.descent,fontSize:t.fontSize}}setTextMetrics(t,i){return this.metrics.ascent=t.ascent,this.metrics.descent=t.descent,this.metrics.fontSize=t.fontSize,i&&(typeof i=="string"?(this.fontFamily=i,this.fontSize="",this.fontStyle=""):(this.fontFamily=Ts(i,"fontFamily",this.fontFamily),this.fontSize=Ts(i,"fontSize",this.fontSize),this.fontStyle=Ts(i,"fontStyle",this.fontStyle))),this.parent.updateText(!0)}get lineHeight(){return this.metrics.fontSize+this.parent.lineSpacing}toJSON(){var t={},i=this.propertyMap;for(var s in i)t[s]=this[s];return t.metrics=this.getTextMetrics(),t}destroy(){this.parent=void 0}};var zd=function(e){return e==null?e="":Array.isArray(e)?e=e.join(`
`):typeof e=="number"&&(e=e.toString()),e};const E_={draw(e,t,i,s){var p=this.penManager;this.hitAreaManager.clear();var E=this.context;E.save();var n=this.defaultStyle;this.clear(),WM(this,n.backgroundColor,n.backgroundStrokeColor,n.backgroundStrokeLineWidth,n.backgroundCornerRadius,n.backgroundColor2,n.backgroundHorizontalGradient,n.backgroundCornerIteration),e+=this.startXOffset,t+=this.startYOffset;var T=n.halign,r=n.valign,o,x=n.lineHeight,d=p.lines,h=d.length,l=n.maxLines,a,f,c;l>0&&h>l?(a=l,r==="center"?f=Math.floor((h-a)/2):r==="bottom"?f=h-a:f=0):(a=h,f=0),c=f+a;var u,v,g=this.rtl,m=g?this.parent.width:void 0;r==="center"?v=Math.max((s-a*x)/2,0):r==="bottom"?v=Math.max(s-a*x-2,0):v=0,v+=t;for(var y=f;y<c;y++)if(o=p.getLineWidth(y),o!==0){for(var C=d[y],b=C.length,M=T,w=0;w<b;w++){var R=C[w].prop.align;if(R!==void 0){M=R;break}}M==="center"?u=(i-o)/2:M==="right"?u=g?0:i-o:u=g?i-o:0,u+=e;for(var w=0;w<b;w++)this.drawPen(C[w],u,v,m)}E.restore()},drawPen(e,t,i,s){t+=e.x,i+=e.y+(e.prop.y||0),s!==void 0&&(t=s-t);var p=this.canvas,E=this.context;E.save();var n=this.parser.propToContextStyle(this.defaultStyle,e.prop);if(n.bgcolor!==null&&e.width>0){var T=this.defaultStyle.metrics,r=i-T.ascent,o=T.fontSize;this.drawRectangle(t,r,e.width,o,n.bgcolor,n)}if(n.underlineThickness>0&&e.width>0){var x=i+n.underlineOffset-n.underlineThickness/2;this.drawLine(t,x,e.width,n.underlineThickness,n.underlineColor,n)}if(e.isTextPen&&(n.buildFont(),n.syncFont(p,E),n.syncStyle(p,E),this.drawText(t,i,e.text,n)),e.isImagePen&&this.drawImage(t,i,e.prop.img,e.prop.color,n),n.strikethroughThickness>0&&e.width>0){var x=i+n.strikethroughOffset-n.strikethroughThickness/2;this.drawLine(t,x,e.width,n.strikethroughThickness,n.strikethroughColor,n)}if(E.restore(),e.hasAreaMarker&&e.width>0){var d,h=e.prop.area;if(h)d={key:h};else{var l=e.prop.url;d={key:`url:${l}`,url:l}}this.hitAreaManager.add(t,i-this.startYOffset,e.width,this.defaultStyle.lineHeight,d)}},clear(){var e=this.canvas;this.context.clearRect(0,0,e.width,e.height)},drawRectangle(e,t,i,s,p,E){this.autoRound&&(e=Math.round(e),t=Math.round(t));var n=this.context;n.fillStyle=p,n.fillRect(e,t,i,s)},drawLine(e,t,i,s,p,E){this.autoRound&&(e=Math.round(e),t=Math.round(t));var n=this.context;E.syncShadow(n,E.shadowStroke);var T=n.lineCap;n.lineCap="butt",n.strokeStyle=p,n.lineWidth=s,n.beginPath(),n.moveTo(e,t),n.lineTo(e+i,t),n.stroke(),n.lineCap=T},drawText(e,t,i,s){this.autoRound&&(e=Math.round(e),t=Math.round(t));var p=this.context;s.stroke&&s.stroke!=="none"&&s.strokeThickness>0&&(s.syncShadow(p,s.shadowStroke),p.strokeText(i,e,t)),s.color&&s.color!=="none"&&(s.syncShadow(p,s.shadowFill),p.fillText(i,e,t))},drawImage(e,t,i,s,p){t-=this.startYOffset,this.parent.imageManager.draw(i,this.context,e,t,s,this.autoRound)}},mu=Phaser.Utils.Objects.GetValue,P_=pr.NO_NEWLINE,DF=pr.RAW_NEWLINE;class b_{constructor(t){this.prop={},this.resetFromJSON(t)}resetFromJSON(t){this.text=mu(t,"text",""),this.x=mu(t,"x",0),this.y=mu(t,"y",0),this.width=mu(t,"width",0);var i=mu(t,"prop",null);i===null&&(i={}),this.prop=i,this.newLineMode=mu(t,"newLineMode",0),this.startIndex=mu(t,"startIndex",0)}get plainText(){var t=this.text;return this.newLineMode===DF&&(t+=`
`),t}get wrapText(){var t=this.text;return this.newLineMode!==P_&&(t+=`
`),t}get rawTextLength(){var t=this.text.length;return this.newLineMode===DF&&(t+=1),t}get endIndex(){return this.startIndex+this.rawTextLength}get lastX(){return this.x+this.width}get isTextPen(){return this.text!==""}get isImagePen(){return!!this.prop.img}get hasAreaMarker(){return!!this.prop.area||!!this.prop.url}}var Na=function(e,t){var i=Array.isArray(e);if(t===void 0?t=i?[]:{}:Eh(t),i){t.length=e.length;for(var s=0,p=e.length;s<p;s++)t[s]=e[s]}else for(var E in e)t[E]=e[E];return t};const FF=Phaser.Utils.Objects.GetFastValue,IF=pr.NO_NEWLINE,M_=pr.WRAPPED_NEWLINE;class HM{constructor(t){this.pens=[],this.lines=[],this.maxLinesWidth=void 0,this.pensPool=t.pensPool,this.linesPool=t.linesPool,this.tagToText=FF(t,"tagToText",Ur),this.tagToTextScope=FF(t,"tagToTextScope",void 0)}destroy(){this.clear(),this.tagToText=void 0,this.tagToTextScope=void 0}clear(){for(var t=0,i=this.lines.length;t<i;t++)this.lines[t].length=0;this.pensPool.pushMultiple(this.pens),this.linesPool.pushMultiple(this.lines),this.maxLinesWidth=void 0}addTextPen(t,i,s,p,E,n){var T=this.pensPool.pop();return T==null&&(T=new b_),yu.text=t,yu.x=i,yu.y=s,yu.width=p,yu.prop=E,yu.newLineMode=n,T.resetFromJSON(yu),this.addPen(T),this}addImagePen(t,i,s,p){return this.addTextPen("",t,i,s,p,IF),this}addNewLinePen(){var t=this.lastPen,i=t?t.lastX:0,s=t?t.y:0,p=t?Na(t.prop):null;return this.addTextPen("",i,s,0,p,M_),this}addPen(t){var i=this.lastPen;i==null?t.startIndex=0:t.startIndex=i.endIndex,this.pens.push(t);var s=this.lastLine;s==null&&(s=this.linesPool.pop()||[],this.lines.push(s)),s.push(t),t.newLineMode!==IF&&(s=this.linesPool.pop()||[],this.lines.push(s)),this.maxLinesWidth=void 0}clone(t){t==null&&(t=new HM),t.clear();for(var i=0,s=this.lines.length;i<s;i++)for(var p=this.lines[i],E=0,n=p.length;E<n;E++){var T=p[E];t.addPen(T.text,T.x,T.y,T.width,Na(T.prop),T.newLineMode)}return t}get lastPen(){return this.pens[this.pens.length-1]}get lastLine(){return this.lines[this.lines.length-1]}getLineStartIndex(t){if(t>=this.lines.length)return this.getLineEndIndex(t);var i=this.lines[t];return i&&i[0]?i[0].startIndex:0}getLineEndIndex(t){t>=this.lines.length&&(t=this.lines.length-1);var i,s=!1,p;for(i=t;i>=0&&(p=this.lines[i],s=p!=null&&p.length>0,!s);i--);if(!s)return 0;var E=p[p.length-1];return E.endIndex}getLineWidth(t){var i=this.lines[t];if(!i)return 0;var s=i[i.length-1];if(s==null)return 0;var p=s.lastX;return p}getMaxLineWidth(){if(this.maxLinesWidth!==void 0)return this.maxLinesWidth;for(var t,i=0,s=0,p=this.lines.length;s<p;s++)t=this.getLineWidth(s),t>i&&(i=t);return this.maxLinesWidth=i,i}getLineWidths(){for(var t=[],i=0,s=this.lines.length;i<s;i++)t.push(this.getLineWidth(i));return t}get linesCount(){return this.lines.length}get plainText(){for(var t="",i=this.pens,s=0,p=i.length;s<p;s++)t+=i[s].plainText;return t}get rawTextLength(){for(var t=0,i=this.pens,s=0,p=this.pens.length;s<p;s++)t+=i[s].rawTextLength;return t}getSliceTagText(t,i,s){var p=this.lastPen;if(p==null)return"";var E=p.endIndex;(t===void 0||t===0)&&(t=-1),(i===void 0||i===E)&&(i=E+1),s===void 0&&(s=!1);for(var n="",T,r,o,x,d,h,l,a=0,f=this.pens.length;a<f&&(T=this.pens[a],x=T.endIndex,!(!(x<=t)&&(T=this.pens[a],r=s?T.wrapText:T.plainText,h=T.prop,o=T.startIndex,d=o>=t&&x<=i,d||(r=r.substring(t-o,i-o)),this.tagToTextScope?n+=this.tagToText.call(this.tagToTextScope,r,h,l):n+=this.tagToText(r,h,l),l=h,x>=i)));a++);return n}get length(){return this.lines.length}set length(t){this.clear()}}var yu={};const w_=Phaser.Geom.Rectangle;var BF=new Co;class R_{constructor(){this.hitAreas=[]}destroy(){this.clear()}clear(){for(var t=0,i=this.hitAreas.length;t<i;t++)this.hitAreas[t].data=null;return BF.pushMultiple(this.hitAreas),this}add(t,i,s,p,E){E===void 0&&(E={});var n=BF.pop();return n===null?n=new w_(t,i,s,p):n.setTo(t,i,s,p),n.data=E,this.hitAreas.push(n),this}getFirst(t,i){for(var s=0,p=this.hitAreas.length;s<p;s++){var E=this.hitAreas[s];if(E.contains(t,i))return E}return null}getByKey(t){for(var i=0,s=this.hitAreas.length;i<s;i++){var p=this.hitAreas[i];if(p.data.key===t)return p}return null}drawBounds(t,i,s){i===void 0&&(i=16777215),s&&t.save().scaleCanvas(s.scaleX,s.scaleY).rotateCanvas(s.rotation).translateCanvas(s.x,s.y);for(var p=0,E=this.hitAreas.length;p<E;p++){var n=this.hitAreas[p];t.lineStyle(1,i).strokeRect(n.x,n.y,n.width,n.height)}return s&&t.restore(),this}}var A_=function(){this.parent.on("pointerdown",O_,this).on("pointerup",L_,this).on("pointermove",XE,this).on("pointerover",XE,this).on("pointerout",function(e,t){XE.call(this,e,null,null,t)},this)},O_=function(e,t,i,s){var p=this.hitAreaManager.getFirst(t,i);if(p!==null){var E=p.data.key;Wd.call(this,"areadown",E,e,t,i,s),p.data&&(p.data.isDown=!0)}},L_=function(e,t,i,s){var p=this.hitAreaManager.getFirst(t,i);if(p!==null){var E=p.data.key;if(Wd.call(this,"areaup",E,e,t,i,s),!!p.data){if(p.data.isDown){if(Wd.call(this,"areaclick",E,e,t,i,s),!p.data)return;var n=p.data.url;n&&window.open(n,"_blank")}p.data.isDown=!1}}},XE=function(e,t,i,s){if(t===null){if(this.lastHitAreaKey!==null){Wd.call(this,"areaout",this.lastHitAreaKey,e,t,i,s);var p=this.hitAreaManager.getByKey(this.lastHitAreaKey);p&&p.data&&(p.data.isDown=!1),this.lastHitAreaKey=null}return}var p=this.hitAreaManager.getFirst(t,i),E=p?p.data.key:null;if(this.lastHitAreaKey!==E){if(this.lastHitAreaKey!==null){Wd.call(this,"areaout",this.lastHitAreaKey,e,t,i,s);var n=this.hitAreaManager.getByKey(this.lastHitAreaKey);n&&(this.urlTagCursorStyle&&GF(this.scene,n,""),n.data.isDown=!1)}E!==null&&(Wd.call(this,"areaover",E,e,t,i,s),p.data&&this.urlTagCursorStyle&&GF(this.scene,p,this.urlTagCursorStyle)),this.lastHitAreaKey=E}},Wd=function(e,t,i,s,p,E){this.parent.emit(`${e}-${t}`,i,s,p,E),this.parent.emit(e,t,i,s,p,E)},GF=function(e,t,i){!t||!t.data||!t.data.url||(e.input.manager.canvas.style.cursor=i)},D_=/^[\x00-\x7F]+$/,Pp=function(e){return D_.test(e)};const F_=pr.NO_NEWLINE,I_=pr.RAW_NEWLINE,HE=pr.WRAPPED_NEWLINE,kF=pr.NO_WRAP,B_=pr.WORD_WRAP,B9=pr.CHAR_WRAP,G_=pr.SPLITREGEXP;var G9=function(e,t,i,s,p,E){s<=0&&(i=kF);var n=[];if(!e||!e.length)return n;for(var T=i===kF,r=e.split(G_),o,x,d,h=0,l=r.length;h<l;h++){if(o=r[h],d=h===l-1?F_:I_,T){var a=t.measureText(o).width;n.push(E.getLine(o,a,d));continue}if(x=h===0?s-p:s,o.length<=100){var a=t.measureText(o).width;if(a<=x){n.push(E.getLine(o,a,d));continue}}for(var f=k_(o,i),c,u,v="",g=0,m,y=0,C=f.length;y<C;y++){if(c=f[y],u=t.measureText(c).width,u>s&&N_(c)){v!==""?n.push(E.getLine(v,g,HE)):y===0&&p>0&&n.push(E.getLine("",0,HE)),n.push(...G9(c,t,B9,s,0,E));var b=n.pop();v=b.text,g=b.width,E.freeLine(b),v===" "&&(v="",g=0);continue}m=g+u,m>x?(n.push(E.getLine(v,g,HE)),v=c,g=u,x=s):(v+=c,g=m),y===C-1&&n.push(E.getLine(v,g,d))}}return n},k_=function(e,t){var i;switch(t){case B_:i=[],e=e.split(" ");for(var s=0,p=e.length;s<p;s++){var E=e[s];s<p-1?i.push(E+" "):E!==""&&i.push(E)}break;case B9:i=e.split("");break;default:i=[],e=e.split(" ");for(var s=0,p=e.length;s<p;s++){var E=e[s];s<p-1?Pp(E)?i.push(E+" "):(i.push(...E.split("")),i.push(" ")):E!==""&&(Pp(E)?i.push(E):i.push(...E.split("")))}break}return i},N_=function(e){switch(e.length){case 1:return!1;case 2:return e.charAt(1)!==" ";default:return!0}};const $E=Phaser.Utils.Objects.GetValue,U_=pr.NO_WRAP,NF=pr.NO_NEWLINE,V_=pr.WRAPPED_NEWLINE;class k9{constructor(t){this.parent=t.parent,this.scene=this.parent.scene,this.context=$E(t,"context",null),this.canvas=this.context.canvas,this.parser=$E(t,"parser",null),this.defaultStyle=$E(t,"style",null),this.autoRound=!0,this.pensPool=t.pensPool,this.linesPool=t.linesPool,this.wrapTextLinesPool=t.wrapTextLinesPool,this.penManager=this.newPenManager(),this._tmpPenManager=null,this.hitAreaManager=new R_,this.lastHitAreaKey=null,this.urlTagCursorStyle=null}destroy(){this.parent=void 0,this.scene=void 0,this.context=void 0,this.canvas=void 0,this.parser=void 0,this.defaultStyle=void 0,this.penManager&&(this.penManager.destroy(),this.penManager=void 0),this._tmpPenManager&&(this._tmpPenManager.destroy(),this._tmpPenManager=void 0),this.hitAreaManager&&(this.hitAreaManager.destroy(),this.hitAreaManager=void 0),this.pensPool=void 0,this.linesPool=void 0,this.wrapTextLinesPool=void 0}updatePenManager(t,i,s,p,E){if(E===void 0&&(E=this.penManager),E.clear(),t==="")return E;var n=this.parent.style;if(n.isWrapFitMode){var T=this.parent.padding;s=n.fixedWidth-T.left-T.right}for(var r=this.canvas,o=this.context,x=0,d=0,h=n.wrapCallback,l=n.wrapCallbackScope,a=!0,f,c,u,v=this.parser.splitText(t),g,m,y=this.wrapTextLinesPool,C=0,b=v.length;C<b;C++)if(g=this.parser.tagTextToProp(v[C],c),f=g.plainText,c=g.prop,c.img){var M=this.imageManager.getOuterWidth(c.img);s>0&&i!==U_&&s<x+M&&(E.addNewLinePen(),d+=p,x=0),E.addImagePen(x,d,M,Na(c)),x+=M}else if(f!==""){if(o.save(),u=this.parser.propToContextStyle(this.defaultStyle,c),u.buildFont(),u.syncFont(r,o),u.syncStyle(r,o),!h)m=G9(f,o,i,s,x,y);else{m=h.call(l,f,o,s,x),typeof m=="string"&&(m=m.split(`
`));for(var A,w=0,R=m.length;w<R;w++)A=m[w],typeof A=="string"?m[w]=y.getLine(A,o.measureText(A).width,w<R-1?V_:NF):a=!1}for(var A,w=0,R=m.length;w<R;w++)A=m[w],E.addTextPen(A.text,x,d,A.width,Na(c),A.newLineMode),A.newLineMode!==NF?(x=0,d+=p):x+=A.width;a&&y.freeLines(m),m=null,o.restore()}for(var C=0,b=this.lines.length;C<b;C++){var L=this.lines[C],F=L[L.length-1];F&&(F.width+=this.parser.getStrokeThinkness(this.defaultStyle,F.prop))}return E}get startXOffset(){return this.defaultStyle.xOffset}get startYOffset(){return this.defaultStyle.metrics.ascent}get lines(){return this.penManager.lines}get displayLinesCount(){var t=this.penManager.linesCount,i=this.defaultStyle.maxLines;return i>0&&t>i&&(t=i),t}get linesWidth(){return Math.ceil(this.penManager.getMaxLineWidth())}get linesHeight(){var t=this.displayLinesCount,i=this.defaultStyle.lineHeight*t;return t>0&&(i-=this.defaultStyle.lineSpacing),i}get imageManager(){return this.parent.imageManager}get rtl(){return this.parent.style.rtl}newPenManager(){return new HM({pensPool:this.pensPool,linesPool:this.linesPool,tagToText:this.parser.propToTagText,tagToTextScope:this.parser})}get tmpPenManager(){return this._tmpPenManager===null&&(this._tmpPenManager=this.newPenManager()),this._tmpPenManager}getPlainText(t,i,s){var p;if(t==null)p=this.penManager.plainText;else{var E=this.parser.splitText(t,1);p="";for(var n=0,T=E.length;n<T;n++)p+=E[n]}return(i!=null||s!=null)&&(i==null&&(i=0),s==null&&(s=p.length),p=p.substring(i,s)),p}getPenManager(t,i){if(t===void 0)return this.copyPenManager(i,this.penManager);i===void 0&&(i=this.newPenManager());var s=this.defaultStyle;return this.updatePenManager(t,s.wrapMode,s.wrapWidth,s.lineHeight,i),i}getText(t,i,s,p){if(t==null)return this.penManager.getSliceTagText(i,s,p);var E=this.tmpPenManager,n=this.defaultStyle;return this.updatePenManager(t,n.wrapMode,n.wrapWidth,n.lineHeight,E),E.getSliceTagText(i,s,p)}copyPenManager(t,i){return i===void 0&&(i=this.penManager),i.copy(t)}getTextWidth(t){return t===void 0&&(t=this.penManager),t.getMaxLineWidth()}getLastPen(t){return t===void 0&&(t=this.penManager),t.lastPen}}var z_={setInteractive:A_};Object.assign(k9.prototype,E_,z_);class UF extends Co{freeLine(t){if(t)return this.push(t),this}freeLines(t){if(t)return this.pushMultiple(t),this}getLine(t,i,s){var p=this.pop();return p===null&&(p={}),p.text=t,p.width=i,p.newLineMode=s,p}}const W_=Phaser.Utils.Objects.IsPlainObject,ed=Phaser.Utils.Objects.GetValue;var KE=function(e,t){W_(e)?(t=e,e=t.key):t===void 0&&(t={key:e}),t.hasOwnProperty("key")||(t.key=e);var i=t.key,s=t.frame,p=t.width,E=t.height;if(p===void 0||E===void 0){var n=this.textureManager.getFrame(i,s),T=n?n.cutWidth:0,r=n?n.cutHeight:0;p===void 0&&E===void 0?(p=T,E=r):p===void 0?p=T*(E/r):E===void 0&&(E=r*(p/T))}this.images[e]={key:i,frame:s,width:p,height:E,y:ed(t,"y",0),left:ed(t,"left",0),right:ed(t,"right",0),originX:ed(t,"originX",0),originY:ed(t,"originY",0),tintFill:ed(t,"tintFill",!1)}};const VF=Phaser.Display.Canvas.CanvasPool;var N9=function(e,t,i,s,p,E,n,T){i===void 0&&(i=0),s===void 0&&(s=0),p===void 0&&(p=e.cutWidth),E===void 0&&(E=e.cutHeight),T===void 0&&(T=!1),T&&(i=Math.round(i),s=Math.round(s));var r=t.getContext("2d",{willReadFrequently:!0});if(n){var o=VF.create(null,p,E,Phaser.CANVAS,!0),x=o.getContext("2d",{willReadFrequently:!0});x.drawImage(e.source.image,e.cutX,e.cutY,e.cutWidth,e.cutHeight,0,0,p,E),x.globalCompositeOperation="source-in",x.fillStyle=n,x.fillRect(0,0,p,E),r.drawImage(o,0,0,p,E,i,s,p,E),VF.remove(o)}else r.drawImage(e.source.image,e.cutX,e.cutY,e.cutWidth,e.cutHeight,i,s,p,E)},Y_=function(e,t,i,s,p,E){var n=this.get(e);if(n){var T=this.textureManager.getFrame(n.key,n.frame),r=n.width,o=n.height;i+=n.left-n.originX*r,s+=n.y-n.originY*o,n.tintFill||(p=void 0),N9(T,t.canvas,i,s,r,o,p,E)}};class $M{constructor(t){this.textureManager=t.sys.textures,this.images={}}destroy(){this.textureManager=void 0,this.images=void 0}add(t,i){if(typeof t=="string")KE.call(this,t,i);else if(Array.isArray(t))for(var s=t,p=0,E=s.length;p<E;p++)KE.call(this,s[p]);else{var s=t;for(var t in s)KE.call(this,t,s[t])}return this}has(t){return this.images.hasOwnProperty(t)}remove(t){return this.has(t)&&delete this.images[t],this}get(t){return this.has(t)||this.textureManager.exists(t)&&this.add(t),this.images[t]}getOuterWidth(t){var i=this.get(t);return i?i.width+i.left+i.right:0}getFrame(t){var i=this.get(t);return i?this.textureManager.getFrame(i.key,i.frame):void 0}hasTexture(t){return!!this.getFrame(t)}}var X_={draw:Y_};Object.assign($M.prototype,X_);var U9=function(e,t){!e&&e!==0&&(e=""),t===void 0&&(t=!0),Array.isArray(e)&&(e=e.join(`
`));var i;return t?i=`${this.text}
${e}`:i=`${this.text}${e}`,i!=this.text&&this.setText(i),this};const H_=Phaser.Utils.Objects.IsPlainObject,zF=Phaser.DOM.AddToDOM,WF=Phaser.Display.Canvas.CanvasPool,$_=Phaser.GameObjects.GameObject,Qn=Phaser.Utils.Objects.GetValue,K_=Phaser.DOM.RemoveFromDOM,Z_=pr.SPLITREGEXP,J_=Phaser.Utils.String.UUID;var id=null,ZE=null,JE=null;class KM extends I9{constructor(t,i,s,p,E,n,T){if(H_(i)){var r=i;i=Qn(r,"x",0),s=Qn(r,"y",0),p=Qn(r,"text",""),E=Qn(r,"style")}if(i===void 0&&(i=0),s===void 0&&(s=0),super(t,n),this.renderer=t.sys.game.renderer,this.setPosition(i,s),this.setOrigin(0,0),this.initPipeline(),this.initPostPipeline(!0),this.canvas=WF.create(this),this.context=this.canvas.getContext("2d",{willReadFrequently:!0}),this._imageManager=void 0,E){if(E.hasOwnProperty("align")){var o=E.align;delete E.align,E.halign=o}E.hasOwnProperty("stroke")&&!E.hasOwnProperty("strokeThickness")&&(E.strokeThickness=1)}this.style=new XM(this,E);var x=Qn(E,"images",void 0);x&&this.addImage(x),this.autoRound=!0,this._text=void 0,this.padding={left:0,right:0,top:0,bottom:0},this.width=1,this.height=1,this.dirty=!1,this.style.resolution===0&&(this.style.resolution=1),this._crop=this.resetCropObject(),this._textureKey=J_(),this.texture=t.sys.textures.addCanvas(this._textureKey,this.canvas),this.frame=this.texture.get(),this.frame.source.resolution=this.style.resolution,this.renderer&&this.renderer.gl&&(this.renderer.deleteTexture(this.frame.source.glTexture),this.frame.source.glTexture=null);var d=Qn(E,"sharedPool",!0),h,l,a;d?(id||(id={},ZE=new Co,JE=new UF,this.scene.game.events.once("destroy",function(){id=null,ZE=null,JE=null})),id.hasOwnProperty(n)||(id[n]=new Co),h=id[n],l=ZE,a=JE):(h=new Co,l=new Co,a=new UF),this.canvasText=new k9({parent:this,context:this.context,parser:T,style:this.style,pensPool:h,linesPool:l,wrapTextLinesPool:a}),this.parser=T,this.initRTL(),E&&E.padding&&this.setPadding(E.padding),this.setText(p),this.setUrlTagCursorStyle(Qn(E,"urlTagCursorStyle","pointer")),Qn(E,"interactive",!1)&&this.setInteractive()}preDestroy(){K_(this.canvas),this.canvasText.destroy(),this.canvasText=void 0,this._imageManager&&(this._imageManager.destroy(),this._imageManager=void 0),WF.remove(this.canvas);var t=this.texture;t&&t.destroy()}set text(t){this.setText(t)}get text(){return this._text}initRTL(){this.style.rtl&&(this.canvas.dir="rtl",this.context.direction="rtl",this.canvas.style.display="none",zF(this.canvas,this.scene.sys.canvas),this.originX=1)}setRTL(t){t===void 0&&(t=!0);var i=this.style;if(i.rtl===t)return this;if(i.rtl=t,t?(this.canvas.dir="rtl",this.context.direction="rtl",this.canvas.style.display="none",zF(this.canvas,this.scene.sys.canvas)):(this.canvas.dir="ltr",this.context.direction="ltr"),i.halign==="left"?i.halign="right":i.halign==="right"&&(i.halign="left"),this._imageManager){var s=this._imageManager.images;for(var p in s)s[p].originX=1-s[p].originX}return this}setText(t){return t=zd(t),t===this._text?this:(this._text=t,this.updateText(),this)}setPadding(t,i,s,p){if(typeof t=="object"){var E=t,n=Qn(E,"x",null);n!==null?(t=n,s=n):(t=Qn(E,"left",0),s=Qn(E,"right",t));var T=Qn(E,"y",null);T!==null?(i=T,p=T):(i=Qn(E,"top",0),p=Qn(E,"bottom",i))}else t===void 0&&(t=0),i===void 0&&(i=t),s===void 0&&(s=t),p===void 0&&(p=i);return this.padding.left=t,this.padding.top=i,this.padding.right=s,this.padding.bottom=p,this.updateText(!1)}updateText(t){t===void 0&&(t=!0);var i=this.canvasText,s=this.style;t&&i.updatePenManager(this._text,s.wrapMode,s.wrapWidth,s.lineHeight);var p=this.padding,E,n,T=Math.ceil(i.linesWidth);s.fixedWidth===0?(this.width=T+p.left+p.right,E=T):(this.width=s.fixedWidth,E=this.width-p.left-p.right,E<T&&(E=T)),s.fixedHeight===0?(this.height=i.linesHeight+p.top+p.bottom,n=i.linesHeight):(this.height=s.fixedHeight,n=this.height-p.top-p.bottom,n<i.linesHeight&&(n=i.linesHeight));var r=this.width,o=this.height;this.updateDisplayOrigin();var x=s.resolution;r*=x,o*=x,r=Math.max(Math.ceil(r),1),o=Math.max(Math.ceil(o),1);var d=this.canvas,h=this.context;d.width!==r||d.height!==o?(d.width=r,d.height=o,this.frame.setSize(r,o)):h.clearRect(0,0,r,o),h.save(),h.scale(x,x);var l=this.style.rtl?p.right:p.left,a=p.top;i.draw(l,a,E,n),h.restore(),this.renderer&&this.renderer.gl&&(this.frame.source.glTexture=this.renderer.canvasToTexture(d,this.frame.source.glTexture,!0),this.frame.glTexture.spectorMetadata={textureKey:"BBCodeText Game Object"}),this.dirty=!0;var f=this.input;return f&&!f.customHitArea&&(f.hitArea.width=this.width,f.hitArea.height=this.height),this}toJSON(){var t=Components.ToJSON(this),i={autoRound:this.autoRound,text:this._text,style:this.style.toJSON(),resolution:this.resolution,padding:{left:this.padding.left,right:this.padding.right,top:this.padding.top,bottom:this.padding.bottom}};return t.data=i,t}setInteractive(t,i,s){var p=!!this.input;return $_.prototype.setInteractive.call(this,t,i,s),p||this.canvasText.setInteractive(),this}setUrlTagCursorStyle(t){return this.urlTagCursorStyle=t,this}get urlTagCursorStyle(){return this.canvasText.urlTagCursorStyle}set urlTagCursorStyle(t){this.canvasText.urlTagCursorStyle=t}getWrappedText(t,i,s){return typeof t=="number"&&(s=i,i=t,t=void 0),t=this.canvasText.getText(t,i,s,!0),t.split(Z_)}getPlainText(t,i,s){return typeof t=="number"&&(s=i,i=t,t=void 0),this.canvasText.getPlainText(t,i,s)}getText(t,i,s,p){return typeof t=="number"&&(p=s,s=i,i=t,t=void 0),p===void 0&&(p=!1),this.canvasText.getText(t,i,s,p)}getSubString(t,i,s){return typeof t=="number"&&(s=i,i=t,t=void 0),this.getText(t,i,s)}copyPenManager(t){return this.canvasText.copyPenManager(t)}getPenManager(t,i){return this.canvasText.getPenManager(t,i)}setSize(t,i){return this.setFixedSize(t,i)}resize(t,i){return this.setFixedSize(t,i)}get imageManager(){return this._imageManager||(this._imageManager=new $M(this.scene)),this._imageManager}addImage(t,i){return this.imageManager.add(t,i),this}drawAreaBounds(t,i){return this.canvasText.hitAreaManager.drawBounds(t,i,this),this}generateTexture(t,i,s,p,E){var n=this.canvas;return p===void 0?p=n.width:p*=this.resolution,E===void 0?E=n.height:E*=this.resolution,L9(this.scene,n,t,i,s,p,E),this}}var j_={appendText:U9};Object.assign(KM.prototype,j_);var Q_=function(e,t){for(var i=this.tagRegex,s=[],p=0,E=!1,n=!1;;){var T=i.RE_SPLITTEXT.exec(e);if(!T)break;var r=T[0];if(n)if(i.RE_ESC_CLOSE.test(r))n=!1;else continue;else if(E)if(i.RE_RAW_CLOSE.test(r))E=!1;else continue;else i.RE_ESC_OPEN.test(r)?n=!0:i.RE_RAW_OPEN.test(r)&&(E=!0);var o=i.RE_SPLITTEXT.lastIndex,x=o-r.length;if(p<x){var d=e.substring(p,x);s.push(d)}t===void 0&&s.push(r),p=o}var h=e.length;return p<h&&s.push(e.substring(p,h)),s};const nr=!1,Zi=!0;var q_={plainText:null,prevProp:null},__=function(e,t){var i=this.tagRegex;t==null&&(t={});var s="";if(t.img&&We(t,nr,"img"),t.esc)i.RE_ESC_CLOSE.test(e)?We(t,nr,"esc"):s=e;else if(t.raw)i.RE_RAW_CLOSE.test(e)?We(t,nr,"raw"):s=e;else if(i.RE_ESC_OPEN.test(e))We(t,Zi,"esc",!0);else if(i.RE_ESC_CLOSE.test(e))We(t,nr,"esc");else if(i.RE_RAW_OPEN.test(e))We(t,Zi,"raw",!0);else if(i.RE_RAW_CLOSE.test(e))We(t,nr,"raw");else if(i.RE_BLOD_OPEN.test(e))We(t,Zi,"b",!0);else if(i.RE_BLOD_CLOSE.test(e))We(t,nr,"b");else if(i.RE_ITALICS_OPEN.test(e))We(t,Zi,"i",!0);else if(i.RE_ITALICS_CLOSE.test(e))We(t,nr,"i");else if(i.RE_WEIGHT_OPEN.test(e)){var p=e.match(i.RE_WEIGHT_OPEN);We(t,Zi,"weight",p[1])}else if(i.RE_WEIGHT_CLOSE.test(e))We(t,nr,"weight");else if(i.RE_SIZE_OPEN.test(e)){var p=e.match(i.RE_SIZE_OPEN);We(t,Zi,"size",`${p[1]}px`)}else if(i.RE_SIZE_CLOSE.test(e))We(t,nr,"size");else if(i.RE_FAMILY_OPEN.test(e)){var p=e.match(i.RE_FAMILY_OPEN);We(t,Zi,"family",p[1])}else if(i.RE_FAMILY_CLOSE.test(e))We(t,nr,"family");else if(i.RE_COLOR_OPEN.test(e)){var p=e.match(i.RE_COLOR_OPEN);We(t,Zi,"color",p[1])}else if(i.RE_COLOR_CLOSE.test(e))We(t,nr,"color");else if(i.RE_UNDERLINE_OPEN.test(e))We(t,Zi,"u",!0);else if(i.RE_UNDERLINE_OPENC.test(e)){var p=e.match(i.RE_UNDERLINE_OPENC);We(t,Zi,"u",p[1])}else if(i.RE_UNDERLINE_CLOSE.test(e))We(t,nr,"u");else if(i.RE_STRIKETHROUGH_OPEN.test(e))We(t,Zi,"s",!0);else if(i.RE_STRIKETHROUGH_OPENC.test(e)){var p=e.match(i.RE_STRIKETHROUGH_OPENC);We(t,Zi,"s",p[1])}else if(i.RE_STRIKETHROUGH_CLOSE.test(e))We(t,nr,"s");else if(i.RE_SHADOW_OPEN.test(e))We(t,Zi,"shadow",!0);else if(i.RE_SHADOW_OPENC.test(e)){var p=e.match(i.RE_SHADOW_OPENC);We(t,Zi,"shadow",p[1])}else if(i.RE_SHADOW_CLOSE.test(e))We(t,nr,"shadow");else if(i.RE_STROKE_OPEN.test(e))We(t,Zi,"stroke",!0);else if(i.RE_STROKE_OPENC.test(e)){var p=e.match(i.RE_STROKE_OPENC);We(t,Zi,"stroke",p[1])}else if(i.RE_STROKE_CLOSE.test(e))We(t,nr,"stroke");else if(i.RE_BGCOLOR_OPEN.test(e)){var p=e.match(i.RE_BGCOLOR_OPEN);We(t,Zi,"bgcolor",p[1])}else if(i.RE_BGCOLOR_CLOSE.test(e))We(t,nr,"bgcolor");else if(i.RE_OFFSETY_OPEN.test(e)){var p=e.match(i.RE_OFFSETY_OPEN);We(t,Zi,"y",parseFloat(p[1]))}else if(i.RE_OFFSETY_CLOSE.test(e))We(t,nr,"y");else if(i.RE_IMAGE_OPEN.test(e)){var p=e.match(i.RE_IMAGE_OPEN);We(t,Zi,"img",p[1])}else if(i.RE_IMAGE_CLOSE.test(e))We(t,nr,"img");else if(i.RE_AREA_OPEN.test(e)){var p=e.match(i.RE_AREA_OPEN);We(t,Zi,"area",p[1])}else if(i.RE_AREA_CLOSE.test(e))We(t,nr,"area");else if(i.RE_URL_OPEN.test(e)){var p=e.match(i.RE_URL_OPEN);We(t,Zi,"url",p[1])}else if(i.RE_URL_CLOSE.test(e))We(t,nr,"url");else if(i.RE_ALIGN_OPEN.test(e)){var p=e.match(i.RE_ALIGN_OPEN);We(t,Zi,"align",p[1])}else if(i.RE_ALIGN_CLOSE.test(e))We(t,nr,"align");else if(i.RE_ID_OPEN.test(e)){var p=e.match(i.RE_ID_OPEN);We(t,Zi,"id",p[1])}else i.RE_ID_CLOSE.test(e)?We(t,nr,"id"):s=e;var E=q_;return E.plainText=s,E.prop=t,E},We=function(e,t,i,s){return t===Zi?e[i]=s:e.hasOwnProperty(i)&&delete e[i],e},ttt=function(e,t){var i=itt;if(t.hasOwnProperty("img"))i.image=t.img;else{if(i.image=null,t.hasOwnProperty("family")?i.fontFamily=t.family:i.fontFamily=e.fontFamily,t.hasOwnProperty("size")){var s=t.size;typeof s=="number"&&(s=`${s}px`),i.fontSize=s}else i.fontSize=e.fontSize;i.fontStyle=ett(t),t.hasOwnProperty("color")?i.color=t.color:i.color=e.color,t.hasOwnProperty("stroke")?t.stroke===!0?(i.stroke=e.stroke,i.strokeThickness=e.strokeThickness):(i.stroke=t.stroke,i.strokeThickness=e.strokeThickness):(i.stroke=e.stroke,i.strokeThickness=0)}return t.hasOwnProperty("shadow")?t.shadow===!0?(i.shadowColor=e.shadowColor,i.shadowOffsetX=e.shadowOffsetX,i.shadowOffsetY=e.shadowOffsetY,i.shadowBlur=e.shadowBlur,i.shadowStroke=!0,i.shadowFill=!0):(i.shadowColor=t.shadow,i.shadowOffsetX=e.shadowOffsetX,i.shadowOffsetY=e.shadowOffsetY,i.shadowBlur=e.shadowBlur,i.shadowStroke=!0,i.shadowFill=!0):(i.shadowColor="#000",i.shadowOffsetX=0,i.shadowOffsetY=0,i.shadowBlur=0,i.shadowStroke=!1,i.shadowFill=!1),t.hasOwnProperty("u")?t.u===!0?(i.underlineColor=e.underlineColor,i.underlineThickness=e.underlineThickness,i.underlineOffset=e.underlineOffset):(i.underlineColor=t.u,i.underlineThickness=e.underlineThickness,i.underlineOffset=e.underlineOffset):(i.underlineColor="#000",i.underlineThickness=0,i.underlineOffset=0),t.hasOwnProperty("s")?t.s===!0?(i.strikethroughColor=e.strikethroughColor,i.strikethroughThickness=e.strikethroughThickness,i.strikethroughOffset=e.strikethroughOffset):(i.strikethroughColor=t.s,i.strikethroughThickness=e.strikethroughThickness,i.strikethroughOffset=e.strikethroughOffset):(i.strikethroughColor="#000",i.strikethroughThickness=0,i.strikethroughOffset=0),t.hasOwnProperty("bgcolor")?i.bgcolor=t.bgcolor:i.bgcolor=null,i},ett=function(e){var t=e.b,i=e.weight,s=e.i;return t||i||s?s?t?"bold italic":i?`${i} italic`:"italic":t?"bold":i.toString():""},itt=new XM,rtt=function(e,t,i){i==null&&(i=ntt);var s=this.delimiters[0],p=this.delimiters[1],E=[];for(var n in i)t.hasOwnProperty(n)||E.push(`${s}/${n}${p}`);for(var n in t){var T=t[n];if(n!=="img"){if(i[n]===T)continue}switch(n){case"size":E.push(`${s}size=${T.replace("px","")}${p}`);break;case"color":case"weight":case"family":case"stroke":case"bgcolor":case"y":case"img":case"area":case"url":case"align":case"id":E.push(`${s}${n}=${T}${p}`);break;case"u":case"s":T===!0?E.push(`${s}${n}${p}`):E.push(`${s}${n}=${T}${p}`);break;default:E.push(`${s}${n}${p}`);break}}return E.push(e),E.join("")},ntt={},Hd=function(e){return e.replace(stt,"\\$&").replace(att,"\\x2d")},stt=/[|\\{}()[\]^$+*?.]/g,att=/-/g,YF,XF,Ke={},qi=function(e,t,i,s){return s===void 0?`${e}${i}${t}`:`${e}${i}=(${s})${t}`},Br=function(e,t,i){return`${e}/${i}${t}`},ott=function(e){return`[^${e}]+`},jE="[-.0-9]+",ltt=["[a-zA-Z]+","#[0-9abcdef]+","rgba?\\(s*[.0-9]+s*(,s*[.0-9]+s*){2,3}\\)"],rd=ltt.join("|"),V9=function(e,t){if(t===void 0){var i=e;e=i[0],t=i[1]}if(YF===e&&XF===t)return!1;YF=e,XF=t,e=Hd(e),t=Hd(t);var s=ott(t),p="esc",E=qi(e,t,p),n=Br(e,t,p),T="raw",r=qi(e,t,T),o=Br(e,t,T),x="b",d=qi(e,t,x),h=Br(e,t,x),l="i",a=qi(e,t,l),f=Br(e,t,l),c="weight",u=qi(e,t,c,jE),v=Br(e,t,c),g="size",m=qi(e,t,g,jE),y=Br(e,t,g),C="family",b=qi(e,t,C,s),M=Br(e,t,C),w="color",R=qi(e,t,w,rd),A=Br(e,t,w),L="u",F=qi(e,t,L),G=qi(e,t,L,rd),I=Br(e,t,L),B="s",k=qi(e,t,B),U=qi(e,t,B,rd),H=Br(e,t,B),X="shadow",j=qi(e,t,X),J=qi(e,t,X,rd),Y=Br(e,t,X),$="stroke",z=qi(e,t,$),V=qi(e,t,$,rd),K=Br(e,t,$),Q="bgcolor",_=qi(e,t,Q,rd),tt=Br(e,t,Q),rt="y",ot=qi(e,t,rt,jE),ft=Br(e,t,rt),ct="img",gt=qi(e,t,ct,s),xt=Br(e,t,ct),Mt="area",Tt=qi(e,t,Mt,s),Ht=Br(e,t,Mt),Xt="url",Kt=qi(e,t,Xt,s),bt=Br(e,t,Xt),Ut="align",Vt=qi(e,t,Ut,s),ee=Br(e,t,Ut),Ee="id",Me=qi(e,t,Ee,s),ve=Br(e,t,Ee);return Ke.RE_ESC_OPEN=new RegExp(E,"i"),Ke.RE_ESC_CLOSE=new RegExp(n,"i"),Ke.RE_RAW_OPEN=new RegExp(r,"i"),Ke.RE_RAW_CLOSE=new RegExp(o,"i"),Ke.RE_BLOD_OPEN=new RegExp(d,"i"),Ke.RE_BLOD_CLOSE=new RegExp(h,"i"),Ke.RE_ITALICS_OPEN=new RegExp(a,"i"),Ke.RE_ITALICS_CLOSE=new RegExp(f,"i"),Ke.RE_WEIGHT_OPEN=new RegExp(u,"i"),Ke.RE_WEIGHT_CLOSE=new RegExp(v,"i"),Ke.RE_SIZE_OPEN=new RegExp(m,"i"),Ke.RE_SIZE_CLOSE=new RegExp(y,"i"),Ke.RE_FAMILY_OPEN=new RegExp(b,"i"),Ke.RE_FAMILY_CLOSE=new RegExp(M,"i"),Ke.RE_COLOR_OPEN=new RegExp(R,"i"),Ke.RE_COLOR_CLOSE=new RegExp(A,"i"),Ke.RE_UNDERLINE_OPEN=new RegExp(F,"i"),Ke.RE_UNDERLINE_OPENC=new RegExp(G,"i"),Ke.RE_UNDERLINE_CLOSE=new RegExp(I,"i"),Ke.RE_STRIKETHROUGH_OPEN=new RegExp(k,"i"),Ke.RE_STRIKETHROUGH_OPENC=new RegExp(U,"i"),Ke.RE_STRIKETHROUGH_CLOSE=new RegExp(H,"i"),Ke.RE_SHADOW_OPEN=new RegExp(j,"i"),Ke.RE_SHADOW_OPENC=new RegExp(J,"i"),Ke.RE_SHADOW_CLOSE=new RegExp(Y,"i"),Ke.RE_STROKE_OPEN=new RegExp(z,"i"),Ke.RE_STROKE_OPENC=new RegExp(V,"i"),Ke.RE_STROKE_CLOSE=new RegExp(K,"i"),Ke.RE_BGCOLOR_OPEN=new RegExp(_,"i"),Ke.RE_BGCOLOR_CLOSE=new RegExp(tt,"i"),Ke.RE_OFFSETY_OPEN=new RegExp(ot,"i"),Ke.RE_OFFSETY_CLOSE=new RegExp(ft,"i"),Ke.RE_IMAGE_OPEN=new RegExp(gt,"i"),Ke.RE_IMAGE_CLOSE=new RegExp(xt,"i"),Ke.RE_AREA_OPEN=new RegExp(Tt,"i"),Ke.RE_AREA_CLOSE=new RegExp(Ht,"i"),Ke.RE_URL_OPEN=new RegExp(Kt,"i"),Ke.RE_URL_CLOSE=new RegExp(bt,"i"),Ke.RE_ALIGN_OPEN=new RegExp(Vt,"i"),Ke.RE_ALIGN_CLOSE=new RegExp(ee,"i"),Ke.RE_ID_OPEN=new RegExp(Me,"i"),Ke.RE_ID_CLOSE=new RegExp(ve,"i"),Ke.RE_SPLITTEXT=new RegExp([r,o,E,n,d,h,a,f,u,v,m,y,b,M,R,A,F,G,I,k,U,H,j,J,Y,z,V,K,_,tt,ot,ft,gt,xt,Tt,Ht,Kt,bt,Vt,ee,Me,ve].join("|"),"ig"),!0},HF=function(e,t){return e!==void 0&&V9(e,t),Object.assign({},Ke)};const htt=Phaser.Utils.Objects.GetValue;let z9=class{constructor(t){var i=htt(t,"delimiters","[]");this.tagRegex=HF(i),this.delimiters=i}getStrokeThinkness(t,i){var s;return i.hasOwnProperty("stroke")?s=t.strokeThickness:s=0,s}setDelimiters(t,i){return V9(t,i)&&(this.tagRegex=HF()),this}};var utt={splitText:Q_,tagTextToProp:__,propToContextStyle:ttt,propToTagText:rtt};Object.assign(z9.prototype,utt);class ZM extends KM{constructor(t,i,s,p,E){var n=new z9(E);super(t,i,s,p,E,"rexBBCodeText",n)}setDelimiters(t,i){return this.parser.setDelimiters(t,i),this}}It.register("BBCodeText",function(e,t,i,s){var p=new ZM(this.scene,e,t,i,s);return this.scene.add.existing(p),p});Lt(window,"RexPlugins.UI.BBCodeText",ZM);var ftt={plainText:null,prevProp:null},dtt=new XM;let ctt=class{constructor(t){t===void 0&&(t={}),this.tags=t}addTag(t,i){this.tags[t]=i}getTag(t){return this.tags[t]}splitText(t,i){for(var s=[],p=0;;){var E=QE.exec(t);if(!E)break;var n=E[0],T=QE.lastIndex-n.length;if(p<T&&s.push(t.substring(p,T)),i===void 0)s.push(n);else if(i===1){if(KF.test(n)){var r=n.match(ZF);s.push(r[2])}else if(JF.test(n)){var r=n.match(jF);s.push(r[2])}}p=QE.lastIndex}var o=t.length;return p<o&&s.push(t.substring(p,o)),s}tagTextToProp(t,i){var s,p;if(KF.test(t)){var E=t.match(ZF);if(E!=null){var n=E[1],T=this.tags;T.hasOwnProperty(n)?p=T[n]:p={},p._class=n,s=E[2]}}else if(JF.test(t)){var E=t.match(jF);if(E!=null){var r=E[1];p=vtt(r),p._style=r,s=E[2]}}s==null&&(s=t),p==null&&(p={});var o=ftt;return o.plainText=s,o.prop=p,o}propToContextStyle(t,i){var s=dtt;if(i.hasOwnProperty("img"))s.image=i.img;else{if(s.image=null,i.hasOwnProperty("family")||i.hasOwnProperty("fontFamily")||i.hasOwnProperty("font-family")){var p=i.hasOwnProperty("family")?i.family:i.hasOwnProperty("fontFamily")?i.fontFamily:i["font-family"];s.fontFamily=p}else s.fontFamily=t.fontFamily;if(i.hasOwnProperty("size")||i.hasOwnProperty("fontSize")||i.hasOwnProperty("font-size")){var E=i.hasOwnProperty("size")?i.size:i.hasOwnProperty("fontSize")?i.fontSize:i["font-size"];typeof E=="number"&&(E=`${E}px`),s.fontSize=E}else s.fontSize=t.fontSize;if(i.hasOwnProperty("style")||i.hasOwnProperty("fontStyle")||i.hasOwnProperty("font-style")){var n=i.hasOwnProperty("style")?i.style:i.hasOwnProperty("fontStyle")?i.fontStyle:i["font-style"];s.fontStyle=n}else s.fontStyle=t.fontStyle;if(i.hasOwnProperty("color")||i.hasOwnProperty("font-color")){var T=i.hasOwnProperty("color")?i.color:i["font-color"];s.color=T}else s.color=t.color;if(i.hasOwnProperty("stroke")){var r=i.stroke;s.stroke=r.hasOwnProperty("color")?r.color:t.stroke,s.strokeThickness=r.hasOwnProperty("thickness")?r.thickness:t.strokeThickness}else s.stroke=t.stroke,s.strokeThickness=t.strokeThickness}if(i.hasOwnProperty("shadow")){var o=i.shadow;s.shadowColor=o.hasOwnProperty("color")?o.color:t.shadowColor,s.shadowOffsetX=o.hasOwnProperty("offsetX")?o.offsetX:t.shadowOffsetX,s.shadowOffsetY=o.hasOwnProperty("offsetY")?o.offsetY:t.shadowOffsetY,s.shadowBlur=o.hasOwnProperty("blur")?o.blur:t.shadowBlur,s.shadowStroke=!0,s.shadowFill=!0}else s.shadowColor=t.shadowColor,s.shadowOffsetX=t.shadowOffsetX,s.shadowOffsetY=t.shadowOffsetY,s.shadowBlur=t.shadowBlur,s.shadowStroke=t.shadowStroke,s.shadowFill=t.shadowFill;if(i.hasOwnProperty("u")||i.hasOwnProperty("underline")){var x=i.hasOwnProperty("u")?i.u:i.underline;s.underlineColor=x.hasOwnProperty("color")?x.color:t.underlineColor,s.underlineThickness=x.hasOwnProperty("thickness")?x.thickness:t.underlineThickness,s.underlineOffset=x.hasOwnProperty("offset")?x.offset:t.underlineOffset}else s.underlineColor=t.underlineColor,s.underlineThickness=t.underlineThickness,s.underlineOffset=t.underlineOffset;if(i.hasOwnProperty("s")||i.hasOwnProperty("strikethrough")){var d=i.hasOwnProperty("s")?i.s:i.strikethrough;s.strikethroughColor=d.hasOwnProperty("color")?d.color:t.strikethroughColor,s.strikethroughThickness=d.hasOwnProperty("thickness")?d.thickness:t.strikethroughThickness,s.strikethroughOffset=d.hasOwnProperty("offset")?d.offset:t.strikethroughOffset}else s.strikethroughColor=t.strikethroughColor,s.strikethroughThickness=t.strikethroughThickness,s.strikethroughOffset=t.strikethroughOffset;return s}getStrokeThinkness(t,i){var s;if(i.hasOwnProperty("stroke")){var p=i.stroke;s=p.hasOwnProperty("thickness")?p.thickness:t.strokeThickness}else s=t.strokeThickness;return s}propToTagText(t,i,s){return i.hasOwnProperty("_class")?t===""&&this.isTextTag(i._class)?"":`<class='${i._class}'>${t}</class>`:i.hasOwnProperty("_style")?`<style='${i._style}'>${t}</style>`:t}destroy(){this.tags=void 0}isTextTag(t){var i=this.tags[t];return i?i.img==null:!1}};var vtt=function(e){e=e.split(";");for(var t={},i,s,p,E=0,n=e.length;E<n;E++)if(i=e[E].split(":"),s=i[0],p=i[1],!($F(s)||$F(p))){switch(s){case"stroke":var T=p.split(" "),r=T.length;p={},r>=1&&(p.color=T[0]),r>=2&&(p.thickness=parseInt(T[1].replace("px","")));break;case"shadow":var T=p.split(" "),r=T.length;p={},r>=1&&(p.color=T[0]),r>=2&&(p.offsetX=parseInt(T[1].replace("px",""))),r>=3&&(p.offsetY=parseInt(T[2].replace("px",""))),r>=4&&(p.blur=parseInt(T[3].replace("px","")));break;case"u":case"underline":case"s":case"strikethrough":var T=p.split(" "),r=T.length;p={},r>=1&&(p.color=T[0]),r>=2&&(p.thickness=parseInt(T[1].replace("px",""))),r>=3&&(p.offset=parseInt(T[2].replace("px",""))),s==="underline"?s="u":s==="strikethrough"&&(s="s");break;case"y":p=parseFloat(p);break}t[s]=p}return t},$F=function(e){return e=e.replace(ptt,""),e.length===0},QE=/<\s*class=["|']([^"|']+)["|']\s*\>([\s\S]*?)<\s*\/class\s*\>|<\s*style=["|']([^"|']+)["|']\s*\>([\s\S]*?)<\s*\/style\s*\>/g,KF=/<\s*class=/i,ZF=/<\s*class=["|']([^"|']+)["|']\s*\>([\s\S]*?)<\s*\/class\s*\>/,JF=/<\s*style=/i,jF=/<\s*style=["|']([^"|']+)["|']\s*\>([\s\S]*?)<\s*\/style\s*\>/,ptt=/^\s+|\s+$/;const gtt=Phaser.Utils.Objects.GetValue;class W9 extends KM{constructor(t,i,s,p,E){var n=gtt(E,"tags",void 0),T=new ctt(n);super(t,i,s,p,E,"rexTagText",T)}addTag(t,i){return this.parser.addTag(t,i),this.updateText(!0)}addTags(t){for(var i in t)this.parser.addTag(i,t[i]);return this.updateText(!0)}getTag(t){return this.parser.getTag(t)}preDestroy(){super.preDestroy(),this.parser.destroy(),this.parser=void 0}}It.register("tagText",function(e,t,i,s){var p=new W9(this.scene,e,t,i,s);return this.scene.add.existing(p),p});Lt(window,"RexPlugins.UI.TagText",W9);const I0=Phaser.Utils.Objects.GetValue;var Hy=function(e,t){return t===void 0?e:e[t]},Ph=function(e,t,i){e===void 0&&(e={}),t===void 0&&(t=0);var s=typeof t;return s==="string"?e[t]=i:s==="number"?(e.left=t,e.right=t,e.top=t,e.bottom=t):(e.left=I0(t,"left",0),e.right=I0(t,"right",0),e.top=I0(t,"top",0),e.bottom=I0(t,"bottom",0)),e};let JM=class{constructor(t,i){this.setParent(t),this.type=i,this.renderable=!1,this.reset().setActive()}destroy(){this.parent.removeChild(this)}setParent(t){return this.parent=t,this}get scene(){return this.parent.scene}get canvas(){return this.parent?this.parent.canvas:null}get context(){return this.parent?this.parent.context:null}setDirty(t){return t&&this.parent&&(this.parent.dirty=!0),this}get active(){return this._active}set active(t){this.setDirty(this._active!=t),this._active=t}setActive(t){return t===void 0&&(t=!0),this.active=t,this}modifyPorperties(t){return this}onFree(){this.reset().setParent()}reset(){return this}render(){}contains(t,i){return!1}};Object.assign(JM.prototype,Lx);const mtt={renderContent(){},render(){if(!this.willRender)return this;var e=this.context;if(e.save(),e.globalAlpha=this.alpha,this.toLocalPosition){var t=this.drawX,i=this.drawY;this.autoRound&&(t=Math.round(t),i=Math.round(i)),e.translate(t,i),e.scale(this.scaleX,this.scaleY),e.rotate(this.rotation)}return this.drawBelowCallback&&this.drawBelowCallback(this),this.renderContent(),this.drawAboveCallback&&this.drawAboveCallback(this),e.restore(),this}},ytt=Phaser.Math.RotateAround;var xtt=function(e,t,i,s){return s===void 0?s={}:s===!0&&(qE===void 0&&(qE={}),s=qE),s.x=(e-i.drawX)/i.scaleX,s.y=(t-i.drawY)/i.scaleY,i.rotation!==0&&ytt(s,0,0,-i.rotation),s},qE;const Ttt=Phaser.Geom.Rectangle;var Ctt=function(e,t){if(this.width===0||this.height===0)return!1;var i=xtt(e,t,this,!0);return Stt(this).contains(i.x,i.y)},Stt=function(e){B0===void 0&&(B0=new Ttt);var t=e.drawTLX,i=e.drawTLY;return B0.setTo(t,i,e.drawTRX-t,e.drawBLY-i),B0},B0;const Ett=Phaser.Math.RotateAround;var Y9=function(e,t,i,s){return s===void 0?s={}:s===!0&&(_E===void 0&&(_E={}),s=_E),s.x=t,s.y=i,e.rotation!==0&&Ett(s,0,0,e.rotation),s.x=s.x*e.scaleX+e.drawX,s.y=s.y*e.scaleY+e.drawY,s},_E;const QF=Phaser.GameObjects.Components.TransformMatrix;var Ptt=function(e,t,i,s){s===void 0?s={}:s===!0&&(s=btt);var p=t-e.width*e.originX,E=i-e.height*e.originY;return Wv===void 0&&(Wv=new QF,qF=new QF),e.parentContainer?e.getWorldTransformMatrix(Wv,qF):Wv.applyITRS(e.x,e.y,e.rotation,e.scaleX,e.scaleY),Wv.transformPoint(p,E,s),s},Wv,qF,btt={},Mtt=function(e,t,i,s,p){var E=Y9(t,i,s,!0),n=Ptt(e,E.x,E.y,p);return n},X9=function(e,t,i,s,p){typeof i!="number"&&(p=i,i=0,s=0);var E=t.drawCenterX+i,n=t.drawCenterY+s;return Mtt(e,t,E,n,p)},wtt=function(e,t,i){return X9(this.parent,this,e,t,i)},H9={contains:Ctt,getWorldPosition:wtt};Object.assign(H9,mtt);const Rtt=Phaser.Math.DegToRad,Att=Phaser.Math.RadToDeg,G0=Phaser.Utils.Objects.GetValue;class Zu extends JM{constructor(t,i){super(t,i),this.renderable=!0,this.scrollFactorX=1,this.scrollFactorY=1,this.toLocalPosition=!0,this.originX=0,this.offsetX=0,this.offsetY=0}get visible(){return this._visible}set visible(t){this.setDirty(this._visible!=t),this._visible=t}setVisible(t){return t===void 0&&(t=!0),this.visible=t,this}get alpha(){return this._alpha}set alpha(t){this.setDirty(this._alpha!=t),this._alpha=t}setAlpha(t){return this.alpha=t,this}get x(){return this._x}set x(t){this.setDirty(this._x!=t),this._x=t}setX(t){return this.x=t,this}get y(){return this._y}set y(t){this.setDirty(this._y!=t),this._y=t}setY(t){return this.y=t,this}setPosition(t,i){return this.x=t,this.y=i,this}setInitialPosition(t,i){return this.x0=t,this.y0=i,this}setScrollFactorX(t){return this.scrollFactorX=t,this}setScrollFactorY(t){return this.scrollFactorY=t,this}setScrollFactor(t,i){return i===void 0&&(i=t),this.scrollFactorX=t,this.scrollFactorY=i,this}get rotation(){return this._rotation}set rotation(t){this.setDirty(this._rotation!=t),this._rotation=t}setRotation(t){return this.rotation=t,this}get angle(){return Att(this._rotation)}set angle(t){this.rotation=Rtt(t)}setAngle(t){return this.angle=t,this}get scaleX(){return this._scaleX}set scaleX(t){this.setDirty(this._scaleX!==t),this._scaleX=t}setScaleX(t){return this.scaleX=t,this}get width(){return 0}set width(t){}setWidth(t,i){return i===void 0&&(i=!1),this.width=t,i&&(this.scaleY=this.scaleX),this}get leftSpace(){return this._leftSpace}set leftSpace(t){this.setDirty(this._leftSpace!==t),this._leftSpace=t}setLeftSpace(t){return this.leftSpace=t,this}get rightSpace(){return this._rightSpace}set rightSpace(t){this.setDirty(this._rightSpace!==t),this._rightSpace=t}setRightSpace(t){return this.rightSpace=t,this}get outerWidth(){return this.width+this.leftSpace+this.rightSpace}get scaleY(){return this._scaleY}set scaleY(t){this.setDirty(this._scaleY!==t),this._scaleY=t}setScaleY(t){return this.scaleY=t,this}get height(){return 0}set height(t){}setHeight(t,i){return i===void 0&&(i=!1),this.height=t,i&&(this.scaleX=this.scaleY),this}setScale(t,i){return i===void 0&&(i=t),this.scaleX=t,this.scaleY=i,this}setOrigin(t){return this.originX=t,this}setAlign(t){return this.align=t,this}modifyPorperties(t){if(!t)return this;t.hasOwnProperty("x")&&this.setX(t.x),t.hasOwnProperty("y")&&this.setY(t.y),t.hasOwnProperty("rotation")?this.setRotation(t.rotation):t.hasOwnProperty("angle")&&this.setAngle(t.angle),t.hasOwnProperty("alpha")&&this.setAlpha(t.alpha);var i=G0(t,"width",void 0),s=G0(t,"height",void 0),p=G0(t,"scaleX",void 0),E=G0(t,"scaleY",void 0);return i!==void 0?s===void 0&&E===void 0?this.setWidth(i,!0):this.setWidth(i):p!==void 0&&this.setScaleX(p),s!==void 0?i===void 0&&p===void 0?this.setHeight(s,!0):this.setHeight(s):E!==void 0&&this.setScaleY(E),t.hasOwnProperty("leftSpace")&&this.setLeftSpace(t.leftSpace),t.hasOwnProperty("rightSpace")&&this.setRightSpace(t.rightSpace),t.hasOwnProperty("align")&&this.setAlign(t.align),this}setDrawBelowCallback(t){return this.drawBelowCallback=t,this}setDrawAboveCallback(t){return this.drawAboveCallback=t,this}reset(){return this.setVisible().setAlpha(1).setPosition(0,0).setRotation(0).setScale(1,1).setLeftSpace(0).setRightSpace(0).setOrigin(0).setAlign().setDrawBelowCallback().setDrawAboveCallback(),this}get willRender(){return this.visible&&this.alpha>0}get drawX(){var t=this.x+this.leftSpace+this.offsetX-this.originX*this.width;return this.parent._textOX*this.scrollFactorX+t}get drawY(){var t=this.y+this.offsetY;return this.parent._textOY*this.scrollFactorY+t}get drawTLX(){return 0}get drawTLY(){return 0}get drawBLX(){return 0}get drawBLY(){return 0}get drawTRX(){return 0}get drawTRY(){return 0}get drawBRX(){return 0}get drawBRY(){return 0}get drawCenterX(){return(this.drawTRX+this.drawTLX)/2}get drawCenterY(){return(this.drawBLY+this.drawTLY)/2}}Object.assign(Zu.prototype,H9);var Th=function(e,t,i){return t.hasOwnProperty(e)?t[e]:i[e]};const xu=Phaser.Utils.Objects.GetValue;class Ott extends Zu{constructor(t,i){super(t,"background"),this.setScrollFactor(0),this.setColor(xu(i,"color",null),xu(i,"color2",null),xu(i,"horizontalGradient",!0)),this.setStroke(xu(i,"stroke",null),xu(i,"strokeThickness",2)),this.setCornerRadius(xu(i,"cornerRadius",0),xu(i,"cornerIteration",null))}set color(t){t=Ye(t,this.canvas,this.context),this.setDirty(this._color!=t),this._color=t}get color(){return this._color}set color2(t){t=Ye(t,this.canvas,this.context),this.setDirty(this._color2!=t),this._color2=t}get color2(){return this._color2}set horizontalGradient(t){this.setDirty(this._horizontalGradient!=t),this._horizontalGradient=t}get horizontalGradient(){return this._horizontalGradient}setColor(t,i,s){return s===void 0&&(s=!0),this.color=t,this.color2=i,this.horizontalGradient=s,this}set stroke(t){t=Ye(t,this.canvas,this.context),this.setDirty(this._stroke!=t),this._stroke=t}get stroke(){return this._stroke}set strokeThickness(t){this.setDirty(this._strokeThickness!=t),this._strokeThickness=t}get strokeThickness(){return this._strokeThickness}setStroke(t,i){return t!=null&&i===void 0&&(i=2),this.stroke=t,this.strokeThickness=i,this}set cornerRadius(t){this.setDirty(this._cornerRadius!=t),this._cornerRadius=t}get cornerRadius(){return this._cornerRadius}set cornerIteration(t){this.setDirty(this._cornerIteration!=t),this._cornerIteration=t}get cornerIteration(){return this._cornerIteration}modifyStyle(t){return t.hasOwnProperty("color")&&this.setColor(t.color,Th("color2",t,this),Th("horizontalGradient",t,this)),t.hasOwnProperty("stroke")&&this.setStroke(t.stroke,Th("strokeThickness",t,this)),t.hasOwnProperty("cornerRadius")&&this.setCornerRadius(t.cornerRadius,Th("cornerIteration",t,this)),this}modifyPorperties(t){return super.modifyPorperties(t),this.modifyStyle(t),this}setCornerRadius(t,i){return this.cornerRadius=t,this.cornerIteration=i,this}renderContent(){WM(this.parent,this.color,this.stroke,this.strokeThickness,this.cornerRadius,this.color2,this.horizontalGradient,this.cornerIteration)}}const ih=Phaser.Utils.Objects.GetValue;class Ltt extends Zu{constructor(t,i){super(t,"innerbounds"),this.setScrollFactor(0),this.setColor(ih(i,"color",null),ih(i,"color2",null),ih(i,"horizontalGradient",!0)),this.setStroke(ih(i,"stroke",null),ih(i,"strokeThickness",2))}set color(t){t=Ye(t,this.canvas,this.context),this.setDirty(this._color!=t),this._color=t}get color(){return this._color}set color2(t){t=Ye(t,this.canvas,this.context),this.setDirty(this._color2!=t),this._color2=t}get color2(){return this._color2}set horizontalGradient(t){this.setDirty(this._horizontalGradient!=t),this._horizontalGradient=t}get horizontalGradient(){return this._horizontalGradient}setColor(t,i,s){return s===void 0&&(s=!0),this.color=t,this.color2=i,this.horizontalGradient=s,this}set stroke(t){t=Ye(t,this.canvas,this.context),this.setDirty(this._stroke!=t),this._stroke=t}get stroke(){return this._stroke}set strokeThickness(t){this.setDirty(this._strokeThickness!=t),this._strokeThickness=t}get strokeThickness(){return this._strokeThickness}setStroke(t,i){return t!=null&&i===void 0&&(i=2),this.stroke=t,this.strokeThickness=i,this}modifyPorperties(t){super.modifyPorperties(t),t.hasOwnProperty("color")&&this.setColor(t.color,ih(t,"color2",null),ih(t,"horizontalGradient",!0)),t.hasOwnProperty("stroke")&&this.setStroke(t.stroke,ih(t,"strokeThickness",2))}renderContent(){var t=this.parent.padding,i=t.left,s=t.top,p=this.parent.width-t.left-t.right,E=this.parent.height-t.top-t.bottom,n=this.context;if(this.color!=null){var T;if(this.color2!=null){var r;this.horizontalGradient?r=n.createLinearGradient(0,0,p,0):r=n.createLinearGradient(0,0,0,E),r.addColorStop(0,this.color),r.addColorStop(1,this.color2),T=r}else T=this.color;n.fillStyle=T,n.fillRect(i,s,p,E)}this.stroke!=null&&this.strokeThickness>0&&(n.strokeStyle=this.stroke,n.lineWidth=this.strokeThickness,n.strokeRect(i,s,p,E))}}const cr=Phaser.Utils.Objects.GetValue;class Fx{constructor(t,i){this.parent=t,this.set(i)}toJSON(){return{bold:this.bold,italic:this.italic,fontSize:this.fontSize,fontFamily:this.fontFamily,color:this.color,stroke:this.stroke,strokeThickness:this.strokeThickness,shaodwColor:this.shadowColor,shadowBlur:this.shadowBlur,shadowOffsetX:this.shadowOffsetX,shadowOffsetY:this.shadowOffsetY,offsetX:this.offsetX,offsetY:this.offsetY,leftSpace:this.leftSpace,rightSpace:this.rightSpace,backgroundHeight:this.backgroundHeight,backgroundBottomY:this.backgroundBottomY,align:this.align}}set(t){return this.setBold(cr(t,"bold",!1)),this.setItalic(cr(t,"italic",!1)),this.setFontSize(cr(t,"fontSize","16px")),this.setFontFamily(cr(t,"fontFamily","Courier")),this.setColor(cr(t,"color","#fff")),this.setStrokeStyle(cr(t,"stroke",null),cr(t,"strokeThickness",0)),this.setShadow(cr(t,"shadowColor",null),cr(t,"shadowOffsetX",0),cr(t,"shadowOffsetY",0),cr(t,"shadowBlur",0)),this.setOffset(cr(t,"offsetX",0),cr(t,"offsetY",0)),this.setSpace(cr(t,"leftSpace",0),cr(t,"rightSpace",0)),this.setAlign(cr(t,"align",void 0)),this.setBackgroundColor(cr(t,"backgroundColor",null)),this.setBackgroundHeight(cr(t,"backgroundHeight",void 0)),this.setBackgroundBottomY(cr(t,"backgroundBottomY",void 0)),this.setBackgroundLeftX(cr(t,"backgroundLeftX",0)),this.setBackgroundRightX(cr(t,"backgroundRightX",0)),this}modify(t){return t.hasOwnProperty("bold")&&this.setBold(t.bold),t.hasOwnProperty("italic")&&this.setItalic(t.italic),t.hasOwnProperty("fontSize")&&this.setFontSize(t.fontSize),t.hasOwnProperty("fontFamily")&&this.setFontFamily(t.fontFamily),t.hasOwnProperty("color")&&this.setColor(t.color),(t.hasOwnProperty("stroke")||t.hasOwnProperty("strokeThickness"))&&this.setStrokeStyle(Th("stroke",t,this),Th("strokeThickness",t,this)),t.hasOwnProperty("shadowColor")&&this.setShadowColor(t.shadowColor),(t.hasOwnProperty("shadowOffsetX")||t.hasOwnProperty("shadowOffsetY"))&&this.setShadowOffset(Th("shadowOffsetX",t,this),Th("shadowOffsetY",t,this)),t.hasOwnProperty("shadowBlur")&&this.setShadowBlur(t.shaodwBlur),t.hasOwnProperty("offsetX")&&this.setOffsetX(t.offsetX),t.hasOwnProperty("offsetY")&&this.setOffsetY(t.offsetY),t.hasOwnProperty("leftSpace")&&this.setLeftSpace(t.leftSpace),t.hasOwnProperty("rightSpace")&&this.setRightSpace(t.rightSpace),t.hasOwnProperty("align")&&this.setAlign(t.align),t.hasOwnProperty("backgroundColor")&&this.setBackgroundColor(t.backgroundColor),t.hasOwnProperty("backgroundHeight")&&this.setBackgroundHeight(t.backgroundHeight),t.hasOwnProperty("backgroundBottomY")&&this.setBackgroundBottomY(t.backgroundBottomY),t.hasOwnProperty("backgroundLeftX")&&this.setBackgroundLeftX(t.backgroundLeftX),t.hasOwnProperty("backgroundRightX")&&this.setBackgroundRightX(t.backgroundRightX),this}setUpdateTextFlag(){return this.parent&&(this.parent.updateTextFlag=!0),this}clone(){return new Fx(null,this.toJSON())}copyFrom(t){return this.set(t.toJSON()),this}copyTo(t){return t.set(this.toJSON()),this}setBold(t){return t===void 0&&(t=!0),this.bold=t,this.setUpdateTextFlag(),this}setItalic(t){return t===void 0&&(t=!0),this.italic=t,this.setUpdateTextFlag(),this}get fontStyle(){return this.bold&&this.italic?"bold italic":this.bold?"bold":this.italic?"italic":""}setFontSize(t){return typeof t=="number"&&(t=`${t}px`),this.fontSize=t,this.setUpdateTextFlag(),this}setFontFamily(t){return this.fontFamily=t,this.setUpdateTextFlag(),this}get font(){return`${this.fontStyle} ${this.fontSize} ${this.fontFamily}`}setColor(t){return this.color=Ye(t),this}get hasFill(){return this.color!=null}setStrokeStyle(t,i){return this.stroke=Ye(t),i!==void 0&&(this.strokeThickness=i),this}setStrokeThickness(t){return this.strokeThickness=t,this}get hasStroke(){return this.stroke!=null&&this.strokeThickness>0}setShadowColor(t){return this.shadowColor=Ye(t),this}setShadowOffset(t,i){return t===void 0&&(t=0),i===void 0&&(i=0),this.shadowOffsetX=t,this.shadowOffsetY=i,this}setShadowBlur(t){return t===void 0&&(t=0),this.shaodwBlur=t,this}setShadow(t,i,s,p){return this.setShadowColor(t).setShadowOffset(i,s).setShadowBlur(p),this}setBackgroundColor(t){return this.backgroundColor=Ye(t),this}get hasBackgroundColor(){return this.backgroundColor!=null}setBackgroundHeight(t){return this.backgroundHeight=t,this}setBackgroundBottomY(t){return this.backgroundBottomY=t,this}setBackgroundLeftX(t){return this.backgroundLeftX=t,this}setBackgroundRightX(t){return this.backgroundRightX=t,this}setOffsetX(t){return t===void 0&&(t=0),this.offsetX=t,this}setOffsetY(t){return t===void 0&&(t=0),this.offsetY=t,this}setOffset(t,i){return this.setOffsetX(t).setOffsetY(i),this}setLeftSpace(t){return t===void 0&&(t=0),this.leftSpace=t,this}setRightSpace(t){return t===void 0&&(t=0),this.rightSpace=t,this}setSpace(t,i){return this.setLeftSpace(t).setRightSpace(i),this}setAlign(t){return this.align=t,this}syncFont(t){return t.font=this.font,this}syncStyle(t){t.textBaseline="alphabetic";var i=this.hasFill,s=this.hasStroke;return t.fillStyle=i?this.color:"#000",t.strokeStyle=s?this.stroke:"#000",t.lineWidth=s?this.strokeThickness:0,t.lineCap="round",t.lineJoin="round",this}syncShadow(t){t.shadowColor!=null?(t.shadowColor=this.shadowColor,t.shadowOffsetX=this.shadowOffsetX,t.shadowOffsetY=this.shadowOffsetY,t.shadowBlur=this.shadowBlur):(t.shadowColor=0,t.shadowOffsetX=0,t.shadowOffsetY=0,t.shadowBlur=0)}getTextMetrics(t,i){return this.syncFont(t).syncStyle(t),t.measureText(i)}}var Dtt=function(e,t){return e===void 0&&(e=0),t===void 0&&(t=0),this.fixedWidth===e&&this.fixedHeight===t?this:(this.fixedWidth=e,this.fixedHeight=t,this.dirty=!0,this.setCanvasSize(e>0?e:this.width,t>0?t:this.height),this)},Ftt=function(e,t){var i=this.padding,s=i.left,p=i.right,E=i.top,n=i.bottom;return Ph(i,e,t),this.dirty=this.dirty||s!=i.left||p!=i.right||E!=i.top||n!=i.bottom,this},Itt=function(e){return Hy(this.padding,e)},Btt=function(e){return this.textStyle.modify(e),this},Gtt=function(e){return this.defaultTextStyle.modify(e),this},ktt=function(){return this.textStyle.copyFrom(this.defaultTextStyle),this},Ntt=function(e){return this.testString=e,this};const Utt=Phaser.Utils.Array.Remove;var Vtt=function(e){return this.poolManager.free(e),Utt(this.children,e),this.lastAppendedChildren.length=0,this.lastOverChild=null,this.dirty=!0,this},ztt=function(){return this.poolManager.freeMultiple(this.children),this.children.length=0,this.lastAppendedChildren.length=0,this.lastOverChild=null,this.dirty=!0,this};const Wtt=Phaser.Utils.Array.Remove;var Ytt=function(e){return Wtt(this.children,e),this.lastAppendedChildren.length=0,this.lastOverChild=null,this.dirty=!0,this},Xtt=function(){return this.setText(),this},Htt=function(e,t){var i=Array.isArray(e);return t===void 0||t===this.children.length?i?this.children.push(...e):this.children.push(e):i?this.children.splice(t,0,...e):this.children.splice(t,0,e),this.lastAppendedChildren.length=0,i?this.lastAppendedChildren.push(...e):this.lastAppendedChildren.push(e),this};const gl="text",$9="image",K9="drawer",Z9="space",jM="command";var J9=function(e){return e.type===gl&&e.text===`
`},j9=function(e){return e.type===gl&&e.text==="\f"},$tt=function(e){return e.type===gl&&e.text===" "},zu=function(e){return e.type===gl},Ktt=function(e){return e.type===jM};class Q9 extends Zu{constructor(t,i,s){super(t,gl),this.updateTextFlag=!1,this.style=new Fx(this,s),this.setText(i)}get autoRound(){return this.parent.autoRound}get offsetX(){return this.style.offsetX}set offsetX(t){this.style&&(this.style.offsetX=t)}get offsetY(){return this.style.offsetY}set offsetY(t){this.style&&(this.style.offsetY=t)}get leftSpace(){return this.style.leftSpace*this.scaleX}set leftSpace(t){this.style&&(this.style.leftSpace=t),super.leftSpace=t}get rightSpace(){return this.style.rightSpace*this.scaleX}set rightSpace(t){this.style&&(this.style.rightSpace=t),super.rightSpace=t}get align(){return this.style.align}set align(t){this.style&&(this.style.align=t)}modifyStyle(t){return this.setDirty(!0),this.style.modify(t),this.updateTextFlag&&this.updateTextSize(),this}modifyPorperties(t){return t?(this.modifyStyle(t),super.modifyPorperties(t),this):this}setText(t){return this.setDirty(this.text!=t),this.text=t,this.updateTextSize(),this}updateTextSize(){var t=this.text;if(t===`
`||t==="\f"||t==="")this.clearTextSize();else{var i=this.style.getTextMetrics(this.context,this.text);this.textWidth=i.width;var s,p;"actualBoundingBoxAscent"in i?(s=i.actualBoundingBoxAscent,p=i.actualBoundingBoxDescent):(s=0,p=0),this.textHeight=s+p,this.ascent=s,this.descent=p}return this.updateTextFlag=!1,this}clearTextSize(){return this.textWidth=0,this.textHeight=0,this.ascent=0,this.descent=0,this}copyTextSize(t){return this.textWidth=t.textWidth,this.textHeight=t.textHeight,this.ascent=t.ascent,this.descent=t.descent,this}get width(){return this.textWidth*this.scaleX}set width(t){this.textWidth>0?this.scaleX=t/this.textWidth:this.scaleX=1}get height(){return this.textHeight*this.scaleY}set height(t){this.textHeight>0?this.scaleY=t/this.textHeight:this.scaleY=1}get willRender(){return this.textWidth===0?!1:super.willRender}renderContent(){var t=this.context,i=this.style;if(i.hasBackgroundColor){t.fillStyle=i.backgroundColor;var s=this.drawTLX+i.backgroundLeftX,p=this.drawTRX+i.backgroundRightX,E=s,n=p-s+1;if(n>0){var T=i.backgroundBottomY;T==null&&(T=this.drawBLY);var r=i.backgroundHeight;r==null&&(r=T-this.drawTLY);var o=T-r;t.fillRect(E,o,n,r)}}var x=i.hasFill,d=i.hasStroke;!x&&!d||(i.syncFont(t).syncStyle(t),d&&(i.syncShadow(t),t.strokeText(this.text,0,0)),x&&(i.syncShadow(t),t.fillText(this.text,0,0)))}get drawTLX(){return-this.leftSpace}get drawTLY(){return-this.ascent}get drawBLX(){return-this.leftSpace}get drawBLY(){return this.descent}get drawTRX(){return this.textWidth+this.rightSpace}get drawTRY(){return-this.ascent}get drawBRX(){return this.textWidth+this.rightSpace}get drawBRY(){return this.descent}}var Ztt=function(e,t){t&&this.textStyle.modify(t);var i=this.poolManager.allocate(gl);return i===null?i=new Q9(this,e,this.textStyle):i.setParent(this).setActive().modifyStyle(this.textStyle).setText(e),i},Jtt=function(e,t){t&&this.textStyle.modify(t);for(var i=[],s=0,p=e.length;s<p;s++){var E=e.charAt(s),n=this.poolManager.allocate(gl);n===null?n=new Q9(this,E,this.textStyle):n.setParent(this).setActive().modifyStyle(this.textStyle).setText(E),i.push(n)}return i},Np=function(e,t){var i=this.createCharChildren(e,t);return this.addChild(i),this},jtt=function(e,t){return e===void 0&&(e=""),this.removeChildren(),Np.call(this,e,t),this.dirty=!0,this},Qtt=function(e,t,i){var s=this.createCharChildren(t,i);return e=this.getCharChildIndex(e,!0),this.addChild(s,e),this},qtt=function(e,t){t===void 0&&(t=1);for(var i=0;i<t;i++){var s=this.getCharChildIndex(e,!0);if(s===void 0)break;this.removeChild(this.children[s])}return this},_tt=function(e){var t="";return this.forEachCharChild(function(i){t+=i.text},void 0,e),t};Phaser.Display.Canvas.CanvasPool;class tet extends Zu{constructor(t,i,s){super(t,$9),this.setTexture(i,s),this.color=void 0}get frameWidth(){return this.frameObj?this.frameObj.cutWidth:0}get frameHeight(){return this.frameObj?this.frameObj.cutHeight:0}get offsetY(){return-this.height}set offsetY(t){}get key(){return this._key}set key(t){this.setDirty(this._key!=t),this._key=t}get frame(){return this._frame}set frame(t){this.setDirty(this._frame!=t),this._frame=t}setTexture(t,i){return this.key=t,this.frame=i,this.frameObj=this.scene.sys.textures.getFrame(t,i),this}get width(){return this.frameWidth*this.scaleX}set width(t){this.setDirty(this.width!==t),this.scaleX=t/this.frameWidth}get height(){return this.frameHeight*this.scaleY}set height(t){this.setDirty(this.height!==t),this.scaleY=t/this.frameHeight}setHeight(t,i){return i===void 0&&(i=!1),this.height=t,i&&(this.scaleX=this.scaleY),this}setColor(t){return this.color=t,this}modifyPorperties(t){return t.hasOwnProperty("color")&&this.setColor(t.color),super.modifyPorperties(t),this}renderContent(){N9(this.frameObj,this.canvas,0,0,this.frameWidth,this.frameHeight,this.color,!1)}get drawTLX(){return-this.leftSpace}get drawTLY(){return 0}get drawBLX(){return-this.leftSpace}get drawBLY(){return this.frameHeight}get drawTRX(){return this.frameWidth+this.rightSpace}get drawTRY(){return 0}get drawBRX(){return this.frameWidth+this.rightSpace}get drawBRY(){return this.frameHeight}}var eet=function(e,t,i){var s=this.poolManager.allocate($9);return s===null?s=new tet(this,e,t):s.setParent(this).setActive().setTexture(e,t),s.modifyPorperties(i),s},q9=function(e,t,i){var s=this.createImageChild(e,t,i);return this.addChild(s),this};class iet extends Zu{constructor(t,i,s,p){super(t,K9),this.setRenderCallback(i),this.setDrawerSize(s,p)}setRenderCallback(t){return t?this.renderContent=t.bind(this):delete this.renderContent,this}setDrawerSize(t,i){return t===!0?(this.toLocalPosition=!1,t=void 0,i=void 0):this.toLocalPosition=!0,t===void 0&&(t=0),i===void 0&&(i=t),this.drawerWidth=t,this.drawerHeight=i,this}onFree(){super.onFree(),this.setRenderCallback()}get width(){return this.drawerWidth*this.scaleX}set width(t){this.setDirty(this.width!==t),this.scaleX=this.drawerWidth>0?t/this.drawerWidth:1}get height(){return this.drawerHeight*this.scaleY}set height(t){this.setDirty(this.height!==t),this.scaleY=this.drawerHeight>0?t/this.drawerHeight:1}get offsetY(){return-this.height}set offsetY(t){}get drawTLX(){return-this.leftSpace}get drawTLY(){return 0}get drawBLX(){return-this.leftSpace}get drawBLY(){return this.drawerHeight}get drawTRX(){return this.drawerWidth+this.rightSpace}get drawTRY(){return 0}get drawBRX(){return this.drawerWidth+this.rightSpace}get drawBRY(){return this.drawerHeight}}var ret=function(e,t,i){var s=this.poolManager.allocate(K9);return s===null?s=new iet(this,e,t,i):s.setParent(this).setActive().setRenderCallback(e).setDrawerSize(t,i),s},net=function(e,t,i){var s=this.createDrawerChild(e,t,i);return this.addChild(s),this};let set=class extends Zu{constructor(t,i){super(t,Z9),this.setSpaceWidth(i)}get width(){return this.spaceWidth*this.scaleX}set width(t){this.spaceWidth>0?this.scaleX=t/this.spaceWidth:this.scaleX=1}setSpaceWidth(t){return this.spaceWidth=t,this}};var aet=function(e){var t=this.poolManager.allocate(Z9);return t===null?t=new set(this,e):t.setParent(this).setActive().setSpaceWidth(e),t},_9=function(e){var t=this.createSpaceChild(e);return this.addChild(t),this};class oet extends JM{constructor(t,i,s,p,E){super(t,jM),this.setName(i).setParameter(p).setCallback(s,E)}setName(t){return this.name=t,this}setParameter(t){return this.param=t,this}setCallback(t,i){return this.callback=t,this.scope=i,this}exec(){var t;return this.scope?t=this.callback.call(this.scope,this.param,this.name):t=this.callback(this.param,this.name),t}onFree(){super.onFree(),this.setName().setCallback().setParameter()}}var het=function(e,t,i,s){var p=this.poolManager.allocate(jM);return p===null?p=new oet(this,e,t,i,s):p.setParent(this).setActive().setName(e).setCallback(t,s).setParameter(i),p},Se=function(e,t,i,s){var p=this.createCommandChild(e,t,i,s);return this.addChild(p),this},uet=function(e){return e===void 0?e={}:typeof e=="object"&&(e=tn(e)),this.wrapConfig=e,this},tG=function(e){var t={callback:void 0,start:0,isLastPage:!1,maxLines:void 0,padding:void 0,letterSpacing:void 0,hAlign:void 0,vAlign:void 0,children:[],lines:[],maxLineWidth:0,linesHeight:0,lineHeight:void 0,maxLineHeight:0,linesWidth:0,lineWidth:void 0};return Object.assign(t,e)};const fet={none:0,word:1,char:2,character:2,mix:3};var det=function(e,t,i,s){s===void 0&&(s={word:[],width:0}),s.word.length=0;for(var p=i===2,E=i===3,n=!p&&!E,T=e.length,r=t,o=s.word,x=0,d=!1;r<T;){var h=e[r];if(!h.renderable){o.push(h),r++;continue}var l=h.type===gl?h.text:null;if(l===null||l===`
`||l==="\f"){r===t&&(o.push(h),x+=h.outerWidth);break}if(n){if(o.push(h),x+=h.outerWidth,l===" ")break;r++}else if(p){o.push(h),x+=h.outerWidth;break}else if(E)if(Pp(l)){if(o.push(h),x+=h.outerWidth,l===" ")break;r++,d=!0}else{if(d)break;o.push(h),x+=h.outerWidth;var a=e[r+1];a&&a.type===gl&&a.text===" "&&(o.push(a),x+=a.outerWidth);break}}return s.width=x,s},eG=function(e){for(var t=0,i=e.length;t<i;t++){var s=e[t];if(s.align!==void 0)return s.align}},iG=function(e,t,i){if(!(t===0&&i===0))for(var s=0,p=e.length;s<p;s++){var E=e[s];E.renderable&&(E.x+=t,E.y+=i)}},cet=function(e,t,i){for(var s=e.hAlign,p=e.vAlign,E=e.justifyPercentage,n=e.lines,T,r,o=0,x=n.length;o<x;o++){var d=n[o],h=d.width,l=d.children,a=eG(l);switch(a===void 0&&(a=s),a){case 0:case"left":T=0;break;case 1:case"center":var f=t-h;T=f/2;break;case 2:case"right":var f=t-h;T=f;break;case 3:case"justify":case"justify-left":var f=t-h,c=f/t;c<E&&tP(l,f),T=0;break;case 4:case"justify-center":var f=t-h,c=f/t;c<E?(tP(l,f),T=0):T=f/2;break;case 5:case"justify-right":var f=t-h,c=f/t;c<E?(tP(l,f),T=0):T=f;break;default:T=0;break}var u=e.linesHeight;switch(p){case 1:case"center":r=(i-u)/2;break;case 2:case"bottom":r=i-u;break;default:r=0;break}iG(l,T,r)}},tP=function(e,t){for(var i=t/e.length,s=0,p=e.length;s<p;s++){var E=e[s];E.renderable&&(E.x+=i*s)}},_F=function(){var e=this.defaultTextStyle.getTextMetrics(this.context,this.testString),t,i;return"actualBoundingBoxAscent"in e?(t=e.actualBoundingBoxAscent,i=e.actualBoundingBoxDescent):(t=0,i=0),k0.ascent=t,k0.descent=i,k0.height=t+i,k0},k0={};const Vn=Phaser.Utils.Objects.GetValue;var vet=function(e){var t=Vn(e,"start",0);Ph(this.wrapPadding,Vn(e,"padding",0));var i=this.padding.top+this.padding.bottom+this.wrapPadding.top+this.wrapPadding.bottom,s=this.padding.left+this.padding.right+this.wrapPadding.left+this.wrapPadding.right,p=Vn(e,"lineHeight"),E=Vn(e,"ascent",p),n;if(p===void 0){var T=Vn(e,"useDefaultTextHeight",!1);if(n=Vn(e,"maxLines",0),this.fixedHeight>0&&!T){var tt=this.fixedHeight-i;if(n>0)p=tt/n;else{var r=_F.call(this);p=r.height,E=r.ascent,n=Math.floor((tt-E)/p)}}else{var r=_F.call(this);p=r.height,E=r.ascent}}else if(this.fixedHeight>0){if(n=Vn(e,"maxLines"),n===void 0){var tt=this.fixedHeight-i;n=Math.floor(tt/p)}}else n=Vn(e,"maxLines",0);E===void 0&&(E=p);var o=n===0,x=Vn(e,"wrapMode");if(x===void 0){var d=Vn(e,"charWrap",!1);x=d?"char":"word"}typeof x=="string"&&(x=fet[x]);var h=Vn(e,"wrapWidth",void 0);h===void 0&&(this.fixedWidth>0?h=this.fixedWidth-s:(h=1/0,x=0));for(var l=Vn(e,"letterSpacing",0),a=Vn(e,"hAlign",0),f=Vn(e,"vAlign",0),c=Vn(e,"justifyPercentage",.25),u=tG({callback:"runWordWrap",start:t,padding:this.wrapPadding,letterSpacing:l,maxLines:n,hAlign:a,vAlign:f,justifyPercentage:c,ascent:E,lineHeight:p,wrapWidth:h,wrapMode:x}),v=this.children,g=0,m=v.length;g<m;g++)v[g].setActive(!1);h+=l;for(var y=this.padding.left+this.wrapPadding.left,C=this.padding.top+this.wrapPadding.top+E,b=y,M=C,w=h,R=t,A=v.length,L=u.children,F=u.lines,G=[],I=0,B=0,k,U=!1;R<A;){k=det(v,R,x,k);var H=k.word,X=H.length,j=k.width+X*l;R+=X;var J=J9(H[0]);U=j9(H[0]);var Y=J||U;if(w<j||Y){if(Y){var $=H[0];$.setActive().setPosition(b,M),L.push($),G.push($)}b=y,M+=p,w=h,F.push({children:G,width:I}),B=Math.max(B,I),I=0,G=[];var z=U||!o&&F.length===n;if(z)break;if(Y)continue}w-=j,I+=j;for(var g=0,m=H.length;g<m;g++){var V=H[g];V.setActive(),L.push(V),G.push(V),V.renderable&&(V.setPosition(b,M),b+=V.outerWidth+l)}}G.length>0&&(F.push({children:G,width:I}),B=Math.max(B,I)),u.start+=L.length,u.isLastPage=!U&&u.start===A,u.maxLineWidth=B,u.linesHeight=F.length*p;var K=this.fixedWidth>0?this.fixedWidth:u.maxLineWidth+s,Q=this.fixedHeight>0?this.fixedHeight:u.linesHeight+i,_=K-s,tt=Q-i;cet(u,_,tt),this.setCanvasSize(K,Q);for(var g=0,m=L.length;g<m;g++){var V=L[g];V.renderable&&(V.x0=V.x,V.y0=V.y)}return u};const pet=Phaser.Utils.Objects.Merge;var get=function(e){return e===void 0&&(e={}),vet.call(this,pet(e,this.wrapConfig))},met=function(e,t,i){var s=e.hAlign,p=e.vAlign,E,n,T=e.rtl,r=e.lines,o=e.lineWidth,x=e.linesWidth;switch(s){case 1:case"center":E=(t-x)/2;break;case 2:case"right":E=t-x;break;default:E=0;break}T&&(E+=o);for(var d=0,h=r.length;d<h;d++){var l=r[T?h-d-1:d],a=l.children,f=l.height,c=eG(a);switch(c===void 0&&(c=p),c){case 1:case"center":n=(i-f)/2;break;case 2:case"bottom":n=i-f;break;default:n=0;break}iG(a,E,n),E+=o}};const Cs=Phaser.Utils.Objects.GetValue;var yet=function(e){var t=Cs(e,"start",0);Ph(this.wrapPadding,Cs(e,"padding",0));var i=this.padding.top+this.padding.bottom+this.wrapPadding.top+this.wrapPadding.bottom,s=this.padding.left+this.padding.right+this.wrapPadding.left+this.wrapPadding.right,p=Cs(e,"lineWidth",void 0),E;if(p===void 0)if(E=Cs(e,"maxLines",0),this.fixedWidth>0){var J=this.fixedWidth-s;p=J/E}else p=0;else if(this.fixedWidth>0){if(E=Cs(e,"maxLines",void 0),E===void 0){var J=this.fixedWidth-s;E=Math.floor(J/p)+1}}else E=Cs(e,"maxLines",0);var n=E===0,T=Cs(e,"fixedCharacterHeight",void 0);if(T===void 0){var r=Cs(e,"charPerLine",void 0);if(r!==void 0){var Y=this.fixedHeight-i;T=Math.floor(Y/r)}}var o=Cs(e,"wrapHeight",void 0);o===void 0&&(this.fixedHeight>0?o=this.fixedHeight-i:o=1/0);for(var x=Cs(e,"letterSpacing",0),d=Cs(e,"rtl",!0),h=Cs(e,"hAlign",d?2:0),l=Cs(e,"vAlign",0),a=tG({callback:"runVerticalWrap",start:t,padding:this.wrapPadding,letterSpacing:x,maxLines:E,hAlign:h,vAlign:l,lineWidth:p,fixedCharacterHeight:T,wrapHeight:o,rtl:d}),f=this.children,c=0,u=f.length;c<u;c++)f[c].setActive(!1);o+=x;for(var v=this.padding.left+this.wrapPadding.left,g=this.padding.top+this.wrapPadding.top,m=v,y=g,C=o,b=t,M=f.length,w=a.children,R=a.lines,A=[],L=0,F=0;b<M;){var G=f[b];if(b++,!G.renderable){G.setActive(),w.push(G),A.push(G);continue}var I=(T!==void 0?T:G.height)+x,B=J9(G),k=j9(G),U=B||k;if(C<I||U){B&&(G.setActive().setPosition(m,y).setOrigin(.5),w.push(G),A.push(G)),m=v,y=g,C=o,R.push({children:A,height:L}),F=Math.max(F,L),L=0,A=[];var H=k||!n&&R.length===E;if(H)break;if(U)continue}C-=I,L+=I,G.setActive().setPosition(m,y).setOrigin(.5),w.push(G),A.push(G),y+=I}A.length>0&&(R.push({children:A,height:L}),F=Math.max(F,L)),a.start+=w.length,a.isLastPage=a.start===M,a.maxLineHeight=F,a.linesWidth=R.length*p;var X=this.fixedWidth>0?this.fixedWidth:a.linesWidth+s,j=this.fixedHeight>0?this.fixedHeight:a.maxLineHeight+i,J=X-s,Y=j-i;met(a,J,Y),this.setCanvasSize(X,j);for(var c=0,u=w.length;c<u;c++){var G=w[c];G.renderable&&(G.x0=G.x,G.y0=G.y)}return a};const xet=Phaser.Utils.Objects.Merge;var Tet=function(e){return e===void 0&&(e={}),yet.call(this,xet(e,this.wrapConfig))};const tI=Phaser.Utils.Objects.GetValue;var Cet=function(e){var t=tI(this.wrapConfig,"callback");return t||(t=tI(e,"callback",this.runWordWrap)),typeof t=="string"&&(t=this[t]),t.call(this,e)};const Eet={setVAlign(e){return this.wrapConfig.vAlign=e,this},setHAlign(e){return this.wrapConfig.hAlign=e,this}},Pet={setTextOX(e){return e===this._textOX?this:(this._textOX=e,this)},setTextOY(e){return e===this._textOY?this:(this._textOY=e,this)},setTextOXY(e,t){if(!(e===this._textOX&&t===this._textOY))return this._textOX=e,this._textOY=t,this},addTextOX(e){return this.setTextOX(this._textOX+e),this},addTextOY(e){return this.setTextOY(this._textOY+e),this},addTextOXY(e,t){return this.setTextOXY(this._textOX+e,this._textOY+t),this}};var bet=function(){this.clear(),this.setCanvasSize(this.width,this.height),this.background.active&&this.background.render();for(var e,t=0,i=this.children.length;t<i;t++)e=this.children[t],e.active&&e.render();this.innerBounds.active&&this.innerBounds.render()},Met=function(e,t,i){i===void 0&&(i=!0);for(var s=this.children.filter(function(r){return!(i&&!r.active)}),p=0,E=s.length;p<E;p++){var n=s[p],T;if(t?T=e.call(this,n,p,s):T=e(n,p,s),T)break}return this},wet=function(e,t,i){i===void 0&&(i=!0);for(var s=this.children.filter(function(r){return!(i&&!r.active||!r.renderable||r.removed)}),p=0,E=s.length;p<E;p++){var n=s[p],T;if(t?T=e.call(this,n,p,s):T=e(n,p,s),T)break}return this},Ret=function(e,t,i){i===void 0&&(i=!0);for(var s=this.children.filter(function(r){return!(i&&!r.active||!zu(r)||r.removed)}),p=0,E=s.length;p<E;p++){var n=s[p],T;if(t?T=e.call(this,n,p,s):T=e(n,p,s),T)break}return this},Aet=function(){return this.children};const Oet=Phaser.Utils.Array.GetAll;var Let=function(){return Oet(this.children,"active",!0)},Det=function(e,t){return t===void 0&&(t=[]),this.forEachCharChild(function(i){t.push(i)},void 0,e),t},Fet=function(){return this.lastAppendedChildren},Iet=function(e,t,i,s){typeof t!="number"&&(s=t,t=0,i=0);var p=e.drawCenterX+t,E=e.drawCenterY+i;return Y9(e,p,E,s)};const Bet=Phaser.Math.Distance.BetweenPointsSquared;var Get=function(e,t){var i={x:e,y:t},s=1/0,p=null;return this.forEachRenderableChild(function(E){var n=Bet(i,Iet(E,!0));s>n&&(s=n,p=E)}),p},ket=function(e,t,i,s){return typeof e=="number"&&(e=this.getCharChild(e,!0)),X9(this,e,t,i,s)},Net=function(){for(var e=this.children,t=0,i=0,s=0,p=e.length;s<p;s++){var E=e[s];if(!(!E.renderable||!E.active||!E.visible)){var n=E.x0!==void 0?E.x0:E.x,T=E.y0!==void 0?E.y0:E.y;t=Math.max(t,n),i=Math.max(i,T)}}var r=t+this.padding.left+this.padding.right+this.wrapPadding.left+this.wrapPadding.right,o=i+this.padding.top+this.padding.bottom+this.wrapPadding.top+this.wrapPadding.bottom;return(this.width!==r||this.height!==o)&&(this.dirty=!0,this.setCanvasSize(r,o)),this},Uet=function(e,t){t===void 0&&(t=!0);for(var i=this.children,s=0,p=i.length;s<p;s++){var E=i[s];if(!(t&&!E.active)&&zu(E)&&!E.removed){if(e===0)return s;e--}}},Vet=function(e,t){t===void 0&&(t=!0);for(var i=this.children,s=0,p=i.length;s<p;s++){var E=i[s];if(!(t&&!E.active)&&zu(E)&&!E.removed){if(e===0)return E;e--}}},zet=function(e,t){if(typeof e!="number"&&(e=this.children.indexOf(e),e<0))return null;t===void 0&&(t=!0);var i=this.children;e>=i.length&&(e=i.length);for(var s=0,p=0;p<e;p++){var E=i[p];t&&!E.active||zu(E)&&!E.removed&&s++}return s},Wet=function(e){return e===void 0&&(e=!0),this.childrenInteractiveEnable!==e&&(this.lastOverChild=null),this.childrenInteractiveEnable=e,this},QM=function(s,t,i){for(var s=s,p=0,E=s.length;p<E;p++){var n=s[p];if(!(!n.active||!n.renderable)&&n.contains(t,i))return n}return null},Yet=function(){return this.on("pointerdown",Xet,this).on("pointerdown",Het,this).on("pointermove",eP,this).on("pointerover",eP,this).on("pointerout",function(e,t){eP.call(this,e,null,null,t)},this),this},Xet=function(e,t,i,s){if(this.childrenInteractiveEnable){var p=QM(this.children,t,i);p&&this.emit("child.pointerdown",p,e,t,i,s)}},Het=function(e,t,i,s){if(this.childrenInteractiveEnable){var p=QM(this.children,t,i);p&&this.emit("child.pointerup",p,e,t,i,s)}},eP=function(e,t,i,s){if(this.childrenInteractiveEnable){if(t===null){this.lastOverChild!==null&&(this.emit("child.pointerout",this.lastOverChild,e,t,i,s),this.lastOverChild=null);return}var p=QM(this.children,t,i);p!==this.lastOverChild&&(this.lastOverChild!==null&&this.emit("child.pointerout",this.lastOverChild,e,t,i,s),p!==null&&this.emit("child.pointerover",p,e,t,i,s),this.lastOverChild=p)}};const $et=Phaser.GameObjects.GameObject;var Ket=function(e,t,i){var s=!!this.input;return $et.prototype.setInteractive.call(this,e,t,i),s||Yet.call(this),this};const Zet=Phaser.Utils.Array.BringToTop,Jet=Phaser.Utils.Array.SendToBack,jet=Phaser.Utils.Array.MoveUp,Qet=Phaser.Utils.Array.MoveDown,qet=Phaser.Utils.Array.MoveAbove,_et=Phaser.Utils.Array.MoveBelow,tit={moveChildToFist(e){return Jet(this.children,e),this},moveChildToLast(e){return Zet(this.children,e),this},movechildUp(e){return jet(this.children,e),this},movechildDown(e){return Qet(this.children,e),this},movechildAbove(e,t){return qet(this.children,e,t),this},movechildBelow(e,t){return _et(this.children,e,t),this}},eit={setBackgroundColor(e,t,i){return this.background.setColor(e,t,i),this},setBackgroundStroke(e,t){return this.background.setStroke(e,t),this},setBackgroundCornerRadius(e,t){return this.background.setCornerRadius(e,t),this}},iit={setInnerBoundsColor(e,t,i){return this.innerBounds.setColor(e,t,i),this},setInnerBoundsStroke(e,t){return this.innerBounds.setStroke(e,t),this}};var rG={setFixedSize:Dtt,setPadding:Ftt,getPadding:Itt,modifyTextStyle:Btt,modifyDefaultTextStyle:Gtt,resetTextStyle:ktt,setTestString:Ntt,removeChild:Vtt,removeChildren:ztt,popChild:Ytt,clearContent:Xtt,addChild:Htt,createCharChild:Ztt,createCharChildren:Jtt,setText:jtt,appendText:Np,insertText:Qtt,removeText:qtt,getText:_tt,createImageChild:eet,appendImage:q9,createDrawerChild:ret,appendDrawer:net,createSpaceChild:aet,appendSpace:_9,createCommandChild:het,appendCommand:Se,setWrapConfig:uet,runWordWrap:get,runVerticalWrap:Tet,runWrap:Cet,renderContent:bet,forEachChild:Met,forEachRenderableChild:wet,forEachCharChild:Ret,getChildren:Aet,getActiveChildren:Let,getCharChildren:Det,getLastAppendedChildren:Fet,getNearestChild:Get,getCharWorldPosition:ket,setToMinSize:Net,getCharChildIndex:Uet,getCharChild:Vet,getCharIndex:zet,setChildrenInteractiveEnable:Wet,setInteractive:Ket};Object.assign(rG,tit,eit,iit,Eet,Pet);const rit=Phaser.Utils.Objects.GetFastValue;var nit={};class sit{constructor(t){this.pools=rit(t,"pools",nit)}free(t){if(!this.pools)return this;var i=t.type;return this.pools.hasOwnProperty(i)||(this.pools[i]=new Co),this.pools[i].push(t),t.onFree(),this}freeMultiple(t){if(!this.pools)return this;for(var i=0,s=t.length;i<s;i++)this.free(t[i]);return this}allocate(t){return!this.pools||!this.pools.hasOwnProperty(t)?null:this.pools[t].pop()}}const iP=Phaser.Utils.Objects.IsPlainObject,dn=Phaser.Utils.Objects.GetValue;class _d extends Ah{constructor(t,i,s,p,E,n,T){iP(i)?(T=i,i=dn(T,"x",0),s=dn(T,"y",0),p=dn(T,"width",0),E=dn(T,"height",0),n=dn(T,"resolution",1)):iP(p)?(T=p,p=dn(T,"width",0),E=dn(T,"height",0),n=dn(T,"resolution",1)):iP(n)&&(T=n,n=dn(T,"resolution",1));var r=p===0?1:p,o=E===0?1:E;super(t,i,s,r,o,n),this.type="rexDynamicText",this.autoRound=!0,this.padding=Ph(),this.wrapPadding=Ph();var x=dn(T,"style",void 0);this.defaultTextStyle=new Fx(null,x),this.textStyle=this.defaultTextStyle.clone(),this.setTestString(dn(T,"testString","|MÉqgy")),this._textOX=0,this._textOY=0,this.background=new Ott(this,dn(T,"background",void 0)),this.innerBounds=new Ltt(this,dn(T,"innerBounds",void 0)),this.children=[],this.lastAppendedChildren=[],this.lastOverChild=null,this.poolManager=new sit(T),this.setFixedSize(p,E),this.setPadding(dn(T,"padding",0)),this.setWrapConfig(dn(T,"wrap",void 0)),this.setChildrenInteractiveEnable(dn(T,"childrenInteractive",!1));var d=dn(T,"text",void 0);d&&this.setText(d)}updateTexture(){return super.updateTexture(function(){this.renderContent()},this),this}get text(){return this.getText(!0)}set text(t){this.setText(t)}setSize(t,i){return this.setFixedSize(t,i),this}get textOX(){return this._textOX}set textOX(t){this.setTextOX(t)}get textOY(){return this._textOY}set textOY(t){this.setTextOY(t)}}Object.assign(_d.prototype,rG);It.register("dynamicText",function(e,t,i,s,p){var E=new _d(this.scene,e,t,i,s,p);return this.scene.add.existing(E),E});Lt(window,"RexPlugins.UI.DynamicText",_d);const Up={setEventEmitter(e,t){return t===void 0&&(t=Phaser.Events.EventEmitter),this._privateEE=e===!0||e===void 0,this._eventEmitter=this._privateEE?new t:e,this},destroyEventEmitter(){return this._eventEmitter&&this._privateEE&&this._eventEmitter.shutdown(),this},getEventEmitter(){return this._eventEmitter},on(){return this._eventEmitter&&this._eventEmitter.on.apply(this._eventEmitter,arguments),this},once(){return this._eventEmitter&&this._eventEmitter.once.apply(this._eventEmitter,arguments),this},off(){return this._eventEmitter&&this._eventEmitter.off.apply(this._eventEmitter,arguments),this},emit(e){return this._eventEmitter&&e&&this._eventEmitter.emit.apply(this._eventEmitter,arguments),this},addListener(){return this._eventEmitter&&this._eventEmitter.addListener.apply(this._eventEmitter,arguments),this},removeListener(){return this._eventEmitter&&this._eventEmitter.removeListener.apply(this._eventEmitter,arguments),this},removeAllListeners(){return this._eventEmitter&&this._eventEmitter.removeAllListeners.apply(this._eventEmitter,arguments),this},listenerCount(){return this._eventEmitter?this._eventEmitter.listenerCount.apply(this._eventEmitter,arguments):0},listeners(){return this._eventEmitter?this._eventEmitter.listeners.apply(this._eventEmitter,arguments):[]},eventNames(){return this._eventEmitter?this._eventEmitter.eventNames.apply(this._eventEmitter,arguments):[]}},ait={hasProperty(e){var t=this.gameObject;if(t.hasOwnProperty(e))return!0;var i=t[e];return i!==void 0},getProperty(e){return this.gameObject[e]},setProperty(e,t){return this.gameObject[e]=t,this},easeProperty(h){var t=h.property,i=h.value,s=h.duration,p=h.delay,E=h.ease,n=h.repeat,T=h.yoyo,r=h.from,o=h.complete,x=h.target;if(s===void 0&&(s=1e3),p===void 0&&(p=0),E===void 0&&(E="Linear"),n===void 0&&(n=0),T===void 0&&(T=!1),x===void 0&&(x=this.gameObject),r){var d=i;i=x[t],x[t]=d}var h={targets:x,duration:s,delay:p,ease:E,repeat:n,yoyo:T,onComplete:o};return h[t]=i,this.addTweenTask(t,h),this},addTweenTask(e,t){var i=this.tweens,s=i[e];s&&s.remove();var p=t.onComplete;return t.onComplete=function(){i[e].remove(),i[e]=null,p&&p(t.targets,e)},s=this.scene.tweens.add(t),s.timeScale=this.timeScale,i[e]=s,this},getTweenTask(e){return this.tweens[e]},freeTweens(){var e=this.tweens,t;for(var i in e)t=e[i],t&&t.remove(),e[i]=null;return this}},oit={hasMethod(e){return typeof this.gameObject[e]=="function"},call(e,...t){if(!this.hasMethod(e))return console.warn(`[GameObjectManager] Game object '${this.name}' does not have method '${e}'`),this;var i=this.gameObject;return i[e].apply(i,t),this}},lit={hasData(e){var t=this.gameObject;return t.data?t.data.has(e):!1},getData(e){return this.gameObject.getData(e)},setData(e,t){return this.gameObject.setData(e,t),this}};class qM{constructor(t,i,s){this.GOManager=t,this.tweens={},this.effects={},this.setGO(i,s)}get scene(){return this.GOManager.scene}get timeScale(){return this.GOManager.timeScale}destroy(){this.freeGO(),this.GOManager=void 0}freeGO(){return this.freeTweens(),this.gameObject.bob=void 0,this.gameObject.destroy(),this.gameObject=void 0,this}setGO(t,i){return t.goName=i,t.goType=this.GOManager.name,t.bob=this,this.gameObject=t,this.name=i,this.freeTweens(),this}setTimeScale(t){var i=this.tweens;for(var s in i){var p=i[s];p&&(p.timeScale=t)}return this}}Object.assign(qM.prototype,ait,oit,lit);var Vp=function(e){for(var t in e)return!1;return!0},Nu=function(e){return e&&e.charAt(0)!=="!"};const hit={has(e){return this.bobs.hasOwnProperty(e)},exists(e){return this.bobs.hasOwnProperty(e)},get(e,t){if(Nu(e))return this.bobs[e];t===void 0&&(t=[]),e&&(e=e.substring(1));for(var i in this.bobs)e&&i===e||t.push(this.bobs[i]);return t},getFitst(e){e&&e.charAt(0)==="!"&&(e=e.substring(1));for(var t in this.bobs)if(!(e&&e===t))return this.bobs[t];return null},getGO(e,t){var i=this.get(e);if(i)if(Array.isArray(i)){t===void 0&&(t=[]);var s=i;return s.forEach(function(p){t.push(p.gameObject)}),t}else return i.gameObject;else return null},forEachGO(e,t){for(var i in this.bobs){var s=this.bobs[i].gameObject,p;if(t?p=e.call(t,s,i,this):p=e(s,i,this),p)break}return this},getAllGO(e){e===void 0&&(e=[]);for(var t in this.bobs){var i=this.bobs[t].gameObject;e.push(i)}return e}};var bp=function(e){return e>>16&255},Mp=function(e){return e>>8&255},wp=function(e){return e&255},eI=function(e,t){return t===void 0&&(t={}),t.r=e>>16&255,t.g=e>>8&255,t.b=e&255,t};const uit=~(255<<16)&16777215,fit=16711935,dit=16776960;var cit=function(e,t){return(t&255)<<16|e&uit},vit=function(e,t){return(t&255)<<8|e&fit},pit=function(e,t){return t&255|e&dit},git=function(e,t,i,s){return(t&255)<<16|(i&255)<<8|s&255},mit=function(e,t){if(e.hasOwnProperty("tintR"))return e;t===void 0&&(t=16777215);var i=bp(t),s=Mp(t),p=wp(t);return Object.defineProperty(e,"tint",{get:function(){return t},set:function(E){E=Math.floor(E)&16777215,e.setTint&&e.setTint(E),t!==E&&(t=E,i=bp(t),s=Mp(t),p=wp(t))}}),Object.defineProperty(e,"tintR",{get:function(){return i},set:function(E){E=Math.floor(E)&255,i!==E&&(i=E,e.tint=cit(t,E))}}),Object.defineProperty(e,"tintG",{get:function(){return s},set:function(E){E=Math.floor(E)&255,s!==E&&(s=E,e.tint=vit(t,E))}}),Object.defineProperty(e,"tintB",{get:function(){return p},set:function(E){E=Math.floor(E)&255,p!==E&&(p=E,e.tint=pit(t,E))}}),Object.defineProperty(e,"tintGray",{get:function(){return Math.floor((i+s+p)/3)},set:function(E){E=Math.floor(E)&255,(i!==E||s!==E||p!==E)&&(i=E,s=E,p=E,e.tint=git(t,E,E,E))}}),e.tint=t,e};const yit=Phaser.Events.EventEmitter;var xit=function(e){if(e.events)return e;var t=new yit,i=e.x;Object.defineProperty(e,"x",{get:function(){return i},set:function(n){i!==n&&(i=n,t.emit("update",e))}});var s=e.y;Object.defineProperty(e,"y",{get:function(){return s},set:function(n){s!==n&&(s=n,t.emit("update",e))}});var p=e.width;Object.defineProperty(e,"width",{get:function(){return p},set:function(n){p!==n&&(p=n,t.emit("update",e))}});var E=e.height;return Object.defineProperty(e,"height",{get:function(){return E},set:function(n){E!==n&&(E=n,t.emit("update",e))}}),e.events=t,e},Tit=function(e,t,i,s,p,E){return E===void 0?E={}:E===!0&&(E=Cit),typeof i!="number"&&(i=0,s=0),E.x=p.x+p.width*e+i,E.y=p.y+p.height*t+s,E},Cit={},Sit=function(e,t,i,s,p,E,n){if(e.hasOwnProperty("vp"))return e;typeof i=="function"&&(n=i,i=void 0),typeof p=="function"&&(n=p,p=void 0),i===void 0&&(i=.5),s===void 0&&(s=.5),p===void 0&&(p=0),E===void 0&&(E=0),n===void 0&&(n=Tit),xit(t);var T=t.events;e.vp=t;var r=function(){n(i,s,p,E,t,e)};T.on("update",r),e.once("destroy",function(){T.off("update",r),e.vp=void 0}),Object.defineProperty(e,"vpx",{get:function(){return i},set:function(o){i!==o&&(i=o,r())}}),Object.defineProperty(e,"vpy",{get:function(){return s},set:function(o){s!==o&&(s=o,r())}}),Object.defineProperty(e,"vpxOffset",{get:function(){return p},set:function(o){p!==o&&(p=o,r())}}),Object.defineProperty(e,"vpyOffset",{get:function(){return E},set:function(o){E!==o&&(E=o,r())}}),r()},On=function(e){return e.preFX?e.preFX:e.postFX?e.postFX:null},fr=function(e,t){e._effectSwitchNames||(e._effectSwitchNames=[],e.clearAllEffects=function(){for(var i=e._effectSwitchNames,s=0,p=i.length;s<p;s++)e[i[s]]=null;return e},e.on("destroy",e.clearAllEffects,e)),e._effectSwitchNames.push(t)},Eit=function(e){if(gi(e,"barrel"))return e;var t=On(e);if(!t)return e;var i;return Object.defineProperty(e,"barrel",{get:function(){return i},set:function(s){i!==s&&(i=s,i===null||i===!1?e._barrelEffect&&(t.remove(e._barrelEffect),e._barrelEffect=void 0):(e._barrelEffect||(e._barrelEffect=t.addBarrel()),e._barrelEffect.amount=i))}}),e.barrel=null,fr(e,"barrel"),e},gn=function(e,t,i){if(gi(e,t))return e;var s=On(e);if(!s)return e;var p=`_${t}Effect`,E;return Object.defineProperty(e,t,{get:function(){return E},set:function(n){if(E!==n)if(E=n,E===null||E===!1)e[p]&&(s.remove(e[p]),e[p]=void 0);else{e[p]||(e[p]=s.addColorMatrix());var T=e[p];T[t](i===1?n:void 0)}}}),e[t]=null,fr(e,t),e},Pit=function(e){return gn(e,"blackWhite"),e},bit=function(e){if(gi(e,"bloomColor"))return e;var t=On(e);if(!t)return e;var i,s=1,p=1,E=1,n=1,T=4;return Object.defineProperty(e,"bloomColor",{get:function(){return i},set:function(r){i!==r&&(i=r,i===null||i===!1?e._bloom&&(t.remove(e._bloom),e._bloom=void 0,t.setPadding(0)):(e._bloom||(e._bloom=t.addBloom(i,s,p,E,n,T),t.setPadding(Math.max(s,p)+1)),e._bloom.color=i))}}),Object.defineProperty(e,"bloomOffsetX",{get:function(){return s},set:function(r){if(s!==r&&(s=r,e._bloom)){var o=Math.max(s,p);t.setPadding(o+1),e._bloom.offsetX=s}}}),Object.defineProperty(e,"bloomOffsetY",{get:function(){return p},set:function(r){if(p!==r&&(p=r,e._bloom)){var o=Math.max(s,p);t.setPadding(o+1),e._bloom.offsetY=p}}}),Object.defineProperty(e,"bloomBlurStrength",{get:function(){return E},set:function(r){E!==r&&(E=r,e._bloom&&(e._bloom.blurStrength=E))}}),Object.defineProperty(e,"bloomStrength",{get:function(){return n},set:function(r){n!==r&&(n=r,e._bloom&&(e._bloom.strength=n))}}),Object.defineProperty(e,"bloomSteps",{get:function(){return T},set:function(r){T!==r&&(T=r,e._bloom&&(e._bloom.steps=T))}}),e.bloomColor=null,fr(e,"bloomColor"),e},Mit=function(e){if(gi(e,"blurColor"))return e;var t=On(e);if(!t)return e;var i,s=0,p=1,E=1,n=1,T=4;return Object.defineProperty(e,"blurColor",{get:function(){return i},set:function(r){i!==r&&(i=r,i===null||i===!1?e._blur&&(t.remove(e._blur),e._blur=void 0,t.setPadding(0)):(e._blur||(e._blur=t.addBlur(s,p,E,n,i,T),t.setPadding(Math.max(p,E)+1)),e._blur.color=i))}}),Object.defineProperty(e,"blurQuality",{get:function(){return s},set:function(r){s!==r&&(s=r,e._blur&&(e._blur.quality=s))}}),Object.defineProperty(e,"blurX",{get:function(){return p},set:function(r){if(p!==r&&(p=r,e._blur)){var o=Math.max(p,E);t.setPadding(o+1),e._blur.x=p}}}),Object.defineProperty(e,"blurY",{get:function(){return E},set:function(r){if(E!==r&&(E=r,e._blur)){var o=Math.max(p,E);t.setPadding(o+1),e._blur.y=E}}}),Object.defineProperty(e,"blurStrength",{get:function(){return n},set:function(r){n!==r&&(n=r,e._blur&&(e._blur.strength=n))}}),Object.defineProperty(e,"blurSteps",{get:function(){return T},set:function(r){T!==r&&(T=r,e._blur&&(e._blur.steps=T))}}),e.blurColor=null,fr(e,"blurColor"),e},wit=function(e){if(gi(e,"bokehRadius"))return e;var t=On(e);if(!t)return e;var i,s=1,p=.2;return Object.defineProperty(e,"bokehRadius",{get:function(){return i},set:function(E){i!==E&&(i=E,i===null||i===!1?e._bokeh&&(t.remove(e._bokeh),e._bokeh=void 0):(e._bokeh||(e._bokeh=t.addBokeh(i,s,p)),e._bokeh.radius=i))}}),Object.defineProperty(e,"bokehAmount",{get:function(){return s},set:function(E){s!==E&&(s=E,e._bokeh&&(e._bokeh.amount=s))}}),Object.defineProperty(e,"bokehContrast",{get:function(){return p},set:function(E){p!==E&&(p=E,e._bokeh&&(e._bokeh.contrast=p))}}),e.bokehRadius=null,fr(e,"bokehRadius"),e},Rit=function(e){return gn(e,"brightness",1),e},Ait=function(e){return gn(e,"brown"),e},Oit=function(e){if(gi(e,"circleColor"))return e;var t=On(e);if(!t)return e;var i,s=8,p=0,E=.4,n=1,T=.005;return Object.defineProperty(e,"circleColor",{get:function(){return i},set:function(r){i!==r&&(i=r,i===null||i===!1?e._circle&&(t.remove(e._circle),e._circle=void 0):(e._circle||(e._circle=t.addCircle(s,i,p,n,T),e.circleBackgroundAlpha=E),e._circle.color=i))}}),Object.defineProperty(e,"circleThickness",{get:function(){return s},set:function(r){s!==r&&(s=r,e._circle&&(e._circle.thickness=s))}}),Object.defineProperty(e,"circleBackgroundColor",{get:function(){return p},set:function(r){p!==r&&(p=r,e._circle&&(e._circle.backgroundColor=p))}}),Object.defineProperty(e,"circleBackgroundAlpha",{get:function(){return E},set:function(r){E!==r&&(E=r,e._circle&&(e._circle.glcolor2[3]=E))}}),Object.defineProperty(e,"circleScale",{get:function(){return n},set:function(r){n!==r&&(n=r,e._circle&&(e._circle.scale=n))}}),Object.defineProperty(e,"circleFeather",{get:function(){return T},set:function(r){T!==r&&(T=r,e._circle&&(e._circle.feather=T))}}),e.circleColor=null,fr(e,"circleColor"),e},Lit=function(e){return gn(e,"contrast",1),e},Dit=function(e){return gn(e,"desaturate",1),e},Fit=function(e){return gn(e,"desaturateLuminance"),e},Iit=function(e){if(gi(e,"displacementKey"))return e;var t=On(e);if(!t)return e;var i,s=.005,p=.005;return Object.defineProperty(e,"displacementKey",{get:function(){return i},set:function(E){i!==E&&(i=E,i===null||i===!1?e._displacement&&(t.remove(e._displacement),e._displacement=void 0):(e._displacement||(e._displacement=t.addDisplacement(i,s,p)),e._displacement.setTexture(i)))}}),Object.defineProperty(e,"displacementX",{get:function(){return s},set:function(E){s!==E&&(s=E,e._displacement&&(e._displacement.x=s))}}),Object.defineProperty(e,"displacementY",{get:function(){return p},set:function(E){p!==E&&(p=E,e._displacement&&(e._displacement.y=p))}}),e.displacementKey=null,fr(e,"displacementKey"),e},Bit=function(e){if(gi(e,"glowColor"))return e;var t=On(e);if(!t)return e;var i,s=4,p=0;return Object.defineProperty(e,"glowColor",{get:function(){return i},set:function(E){i!==E&&(i=E,i===null||i===!1?e._glow&&(t.remove(e._glow),e._glow=void 0,t.setPadding(0)):(e._glow||(e._glow=t.addGlow(i,s,p),t.setPadding(s+1)),e._glow.color=i))}}),Object.defineProperty(e,"glowOuterStrength",{get:function(){return s},set:function(E){s!==E&&(s=E,e._glow&&(t.setPadding(s+1),e._glow.outerStrength=s))}}),Object.defineProperty(e,"glowInnerStrength",{get:function(){return p},set:function(E){p!==E&&(p=E,e._glow&&(e._glow.innerStrength=p))}}),e.glowColor=null,fr(e,"glowColor"),e},Git=function(e){if(gi(e,"gradientColor"))return e;var t=On(e);if(!t)return e;var i,s,p=.5,E=0,n=0,T=0,r=1,o=0;return Object.defineProperty(e,"gradientColor",{get:function(){return[i,s]},set:function(x){var d,h;x===null||x===!1?(d=null,h=null):(d=x[0],h=x[1]),!(i===d&&s===h)&&(i=d,s=h,i===null||i===!1?e._gradient&&(t.remove(e._gradient),e._gradient=void 0):(e._gradient||(e._gradient=t.addGradient(i,s,p,E,n,T,r,o)),e._gradient.color1=i,e._gradient.color2=s))}}),Object.defineProperty(e,"gradientColor1",{get:function(){return i},set:function(x){if(x===null||x===!1){e.gradientColor=x;return}i!==x&&(i=x,e._gradient&&(e._gradient.color1=i))}}),Object.defineProperty(e,"gradientColor2",{get:function(){return s},set:function(x){if(x===null||x===!1){e.gradientColor=x;return}s!==x&&(s=x,e._gradient&&(e._gradient.color2=s))}}),Object.defineProperty(e,"gradientAlpha",{get:function(){return p},set:function(x){p!==x&&(p=x,e._gradient&&(e._gradient.alpha=p))}}),Object.defineProperty(e,"gradientFromX",{get:function(){return E},set:function(x){E!==x&&(E=x,e._gradient&&(e._gradient.fromX=E))}}),Object.defineProperty(e,"gradientFromY",{get:function(){return n},set:function(x){n!==x&&(n=x,e._gradient&&(e._gradient.fromY=n))}}),Object.defineProperty(e,"gradientToX",{get:function(){return T},set:function(x){T!==x&&(T=x,e._gradient&&(e._gradient.toX=T))}}),Object.defineProperty(e,"gradientToY",{get:function(){return r},set:function(x){r!==x&&(r=x,e._gradient&&(e._gradient.toY=r))}}),Object.defineProperty(e,"gradientSize",{get:function(){return o},set:function(x){o!==x&&(o=x,e._gradient&&(e._gradient.size=o))}}),e.gradientColor=null,fr(e,"gradientColor"),e},kit=function(e){return gn(e,"grayscale",1),e},Nit=function(e){return gn(e,"hue",1),e},Uit=function(e){return gn(e,"kodachrome"),e},Vit=function(e){return gn(e,"lsd"),e},zit=function(e){return gn(e,"negative"),e},Wit=function(e){if(gi(e,"pixelate"))return e;var t=On(e);if(!t)return e;var i;return Object.defineProperty(e,"pixelate",{get:function(){return i},set:function(s){i!==s&&(i=s,i===null||i===!1?e._pixelateEffect&&(t.remove(e._pixelateEffect),e._pixelateEffect=void 0):(e._pixelateEffect||(e._pixelateEffect=t.addPixelate()),e._pixelateEffect.amount=i))}}),e.pixelate=null,fr(e,"pixelate"),e},Yit=function(e){return gn(e,"polaroid"),e},Xit=function(e){if(gi(e,"revealLeft"))return e;var t=On(e);if(!t)return e;var i,s,p,E,n=.1,T=function(){i=null,s=null,p=null,E=null},r=function(o){o._revealEffect&&(t.remove(o._revealEffect),o._revealEffect=void 0)};return Object.defineProperty(e,"revealLeft",{get:function(){return i},set:function(o){i!==o&&(T(),i=o,i===null||i===!1?r(e):(e._revealEffect||(e._revealEffect=t.addReveal(n,0,0)),e._revealEffect.direction=1,e._revealEffect.axis=0,e._revealEffect.progress=i))}}),Object.defineProperty(e,"revealRight",{get:function(){return s},set:function(o){s!==o&&(T(),s=o,s===null||s===!1?r(e):(e._revealEffect||(e._revealEffect=t.addReveal(n,0,0)),e._revealEffect.direction=0,e._revealEffect.axis=0,e._revealEffect.progress=s))}}),Object.defineProperty(e,"revealUp",{get:function(){return p},set:function(o){p!==o&&(T(),p=o,p===null||p===!1?r(e):(e._revealEffect||(e._revealEffect=t.addReveal(n,0,0)),e._revealEffect.direction=1,e._revealEffect.axis=1,e._revealEffect.progress=p))}}),Object.defineProperty(e,"revealDown",{get:function(){return E},set:function(o){E!==o&&(T(),E=o,E===null||E===!1?r(e):(e._revealEffect||(e._revealEffect=t.addReveal(n,0,0)),e._revealEffect.direction=0,e._revealEffect.axis=1,e._revealEffect.progress=E))}}),Object.defineProperty(e,"revealWidth",{get:function(){return n},set:function(o){n!==o&&(n=o,e._revealEffect&&(e._revealEffect.wipeWidth=n))}}),e.revealLeft=null,fr(e,"revealLeft"),fr(e,"revealRight"),fr(e,"revealUp"),fr(e,"revealDown"),e},Hit=function(e){return gn(e,"saturate",1),e},$it=function(e){return gn(e,"sepia"),e},Kit=function(e){if(gi(e,"shadowColor"))return e;var t=On(e);if(!t)return e;var i,s=0,p=0,E=.1,n=1,T=6,r=1;return Object.defineProperty(e,"shadowColor",{get:function(){return i},set:function(o){i!==o&&(i=o,i===null||i===!1?e._shadow&&(t.remove(e._shadow),e._shadow=void 0):(e._shadow||(e._shadow=t.addShadow(s,p,E,n,i,T,r)),e._shadow.color=i))}}),Object.defineProperty(e,"shadowX",{get:function(){return s},set:function(o){s!==o&&(s=o,e._shadow&&(e._shadow.x=s))}}),Object.defineProperty(e,"shadowY",{get:function(){return p},set:function(o){p!==o&&(p=o,e._shadow&&(e._shadow.y=p))}}),Object.defineProperty(e,"decay",{get:function(){return E},set:function(o){E!==o&&(E=o,e._shadow&&(e._shadow.decay=E))}}),Object.defineProperty(e,"shadowPower",{get:function(){return n},set:function(o){n!==o&&(n=o,e._shadow&&(e._shadow.power=n))}}),Object.defineProperty(e,"shadowSamples",{get:function(){return T},set:function(o){T!==o&&(T=o,e._shadow&&(e._shadow.samples=T))}}),Object.defineProperty(e,"shadowIntensity",{get:function(){return r},set:function(o){r!==o&&(r=o,e._shadow&&(e._shadow.intensity=r))}}),e.shadowColor=null,fr(e,"shadowColor"),e},Zit=function(e){return gn(e,"shiftToBGR"),e},Jit=function(e){if(gi(e,"shineSpeed"))return e;var t=On(e);if(!t)return e;var i,s=.5,p=3;return Object.defineProperty(e,"shineSpeed",{get:function(){return i},set:function(E){i!==E&&(i=E,i===null||i===!1?e._shine&&(t.remove(e._shine),e._shine=void 0):(e._shine||(e._shine=t.addShine(i,s,p)),e._shine.speed=i))}}),Object.defineProperty(e,"shineLineWidth",{get:function(){return s},set:function(E){s!==E&&(s=E,e._shine&&(e._shine.lineWidth=s))}}),Object.defineProperty(e,"shineGradient",{get:function(){return p},set:function(E){p!==E&&(p=E,e._shine&&(e._shine.gradient=p))}}),e.shineSpeed=null,fr(e,"shineSpeed"),e},jit=function(e){return gn(e,"technicolor"),e},Qit=function(e){if(gi(e,"tiltShiftRadius"))return e;var t=On(e);if(!t)return e;var i,s=1,p=.2,E=1,n=1,T=1;return Object.defineProperty(e,"tiltShiftRadius",{get:function(){return i},set:function(r){i!==r&&(i=r,i===null||i===!1?e._tiltShift&&(t.remove(e._tiltShift),e._tiltShift=void 0):(e._tiltShift||(e._tiltShift=t.addTiltShift(i,s,p,E,n,T)),e._tiltShift.radius=i))}}),Object.defineProperty(e,"tiltShiftAmount",{get:function(){return s},set:function(r){s!==r&&(s=r,e._tiltShift&&(e._tiltShift.amount=s))}}),Object.defineProperty(e,"tiltShiftContrast",{get:function(){return p},set:function(r){p!==r&&(p=r,e._tiltShift&&(e._tiltShift.contrast=p))}}),Object.defineProperty(e,"tiltShiftBlurX",{get:function(){return E},set:function(r){E!==r&&(E=r,e._tiltShift&&(e._tiltShift.blurX=E))}}),Object.defineProperty(e,"tiltShiftBlurY",{get:function(){return n},set:function(r){n!==r&&(n=r,e._tiltShift&&(e._tiltShift.blurY=n))}}),Object.defineProperty(e,"tiltShiftStrength",{get:function(){return T},set:function(r){T!==r&&(T=r,e._tiltShift&&(e._tiltShift.strength=T))}}),e.tiltShiftRadius=null,fr(e,"tiltShiftRadius"),e},qit=function(e){if(gi(e,"vignetteRadius"))return e;var t=On(e);if(!t)return e;var i,s=.5,p=.5,E=.5;return Object.defineProperty(e,"vignetteRadius",{get:function(){return i},set:function(n){i!==n&&(i=n,i===null||i===!1?e._vignette&&(t.remove(e._vignette),e._vignette=void 0):(e._vignette||(e._vignette=t.addVignette(s,p,i,E)),e._vignette.radius=i))}}),Object.defineProperty(e,"vignetteX",{get:function(){return s},set:function(n){s!==n&&(s=n,e._vignette&&(e._vignette.x=s))}}),Object.defineProperty(e,"vignetteY",{get:function(){return p},set:function(n){p!==n&&(p=n,e._vignette&&(e._vignette.y=p))}}),Object.defineProperty(e,"vignetteStrength",{get:function(){return E},set:function(n){E!==n&&(E=n,e._vignette&&(e._vignette.strength=E))}}),e.vignetteRadius=null,fr(e,"vignetteRadius"),e},_it=function(e){return gn(e,"vintagePinhole"),e},trt=function(e){if(gi(e,"wipeLeft"))return e;var t=On(e);if(!t)return e;var i,s,p,E,n=.1,T=function(){i=null,s=null,p=null,E=null},r=function(o){o._wipeEffect&&(t.remove(o._wipeEffect),o._wipeEffect=void 0)};return Object.defineProperty(e,"wipeLeft",{get:function(){return i},set:function(o){i!==o&&(T(),i=o,i===null||i===!1?r(e):(e._wipeEffect||(e._wipeEffect=t.addWipe(n,0,0)),e._wipeEffect.direction=1,e._wipeEffect.axis=0,e._wipeEffect.progress=i))}}),Object.defineProperty(e,"wipeRight",{get:function(){return s},set:function(o){s!==o&&(T(),s=o,s===null||s===!1?r(e):(e._wipeEffect||(e._wipeEffect=t.addWipe(n,0,0)),e._wipeEffect.direction=0,e._wipeEffect.axis=0,e._wipeEffect.progress=s))}}),Object.defineProperty(e,"wipeUp",{get:function(){return p},set:function(o){p!==o&&(T(),p=o,p===null||p===!1?r(e):(e._wipeEffect||(e._wipeEffect=t.addWipe(n,0,0)),e._wipeEffect.direction=1,e._wipeEffect.axis=1,e._wipeEffect.progress=p))}}),Object.defineProperty(e,"wipeDown",{get:function(){return E},set:function(o){E!==o&&(T(),E=o,E===null||E===!1?r(e):(e._wipeEffect||(e._wipeEffect=t.addWipe(n,0,0)),e._wipeEffect.direction=0,e._wipeEffect.axis=1,e._wipeEffect.progress=E))}}),Object.defineProperty(e,"wipeWidth",{get:function(){return n},set:function(o){n!==o&&(n=o,e._wipeEffect&&(e._wipeEffect.wipeWidth=n))}}),e.wipeLeft=null,fr(e,"wipeLeft"),fr(e,"wipeRight"),fr(e,"wipeUp"),fr(e,"wipeDown"),e};const N0={barrel:Eit,blackWhite:Pit,bloom:bit,blur:Mit,bokeh:wit,brightness:Rit,brown:Ait,circle:Oit,contrast:Lit,desaturate:Dit,desaturateLuminance:Fit,displacement:Iit,glow:Bit,gradient:Git,grayscale:kit,hue:Nit,kodachrome:Uit,lsd:Vit,negative:zit,pixelate:Wit,polaroid:Yit,reveal:Xit,saturate:Hit,sepia:$it,shadow:Kit,shiftToBGR:Zit,shine:Jit,technicolor:jit,tiltShift:Qit,vignette:qit,vintagePinhole:_it,wipe:trt};var tc=function(e,t){if(t===void 0)t=!0;else if(typeof t=="string")t={config:!0};else if(Array.isArray(t))for(var i=t,t={},s=0,p=i.length;s<p;s++)t[i[s]]=!0;if(t===!0)for(var E in N0)N0[E](e);else for(var E in t)t[E]&&N0[E]&&N0[E](e);return e};const ert=Phaser.Utils.Array.Remove,irt={addGO(e,t){this.remove(e,!0),this.useTintFadeEffect(t)&&mit(t),this.viewportCoordinateEnable&&Sit(t,this.viewport),this.effectPropertiesConfig&&tc(t,this.effectPropertiesConfig),t.setName(e).once("destroy",function(){ert(this.removedGOs,t),this.isEmpty&&this.emit("empty")},this);var i=new this.BobClass(this,t,e);return this.bobs[e]=i,this},add(e,...t){var i=this.createGameObjectCallback,s=this.createGameObjectScope,p=i.call(s,this.scene,...t);this.addGO(e,p),this.gameObjectDepth!=null&&p.setDepth(this.gameObjectDepth);var E=this.get(e);return this.fadeBob(E,0,1),this}},rrt={remove(e,t){var i=this.get(e);if(i)Array.isArray(i)||(i=[i]);else return this;var s=this;return i.forEach(function(p){delete s.bobs[p.name];var E=p.gameObject;s.removedGOs.push(E),E.setName(),t?p.destroy():s.fadeBob(p,void 0,0,function(){p.destroy()})}),this},removeAll(){var e=this.bobs;for(var t in e)this.remove(t);return this},clear(e){e===void 0&&(e=!0);var t=this.bobs;for(var i in t)e&&t[i].destroy(),delete t[i];return this.removedGOs.length=0,this}},nrt={hasProperty(e,t){var i=Nu(e)?this.get(e):this.getFitst(e);return i?i.hasProperty(t):!1},getProperty(e,t){var i=Nu(e)?this.get(e):this.getFitst(e);if(i)return i.getProperty(t)},isNumberProperty(e,t){var i=this.getProperty(e,t);return typeof i=="number"},setProperty(e,t,i){var s=this.get(e);if(s)Array.isArray(s)||(s=[s]);else return this;return this.symbols&&typeof i=="string"&&this.isNumberProperty(e,t)&&(i in this.symbols?i=this.symbols[i]:console.warn(`Can't find symbol ${i}`)),s.forEach(function(p){p.setProperty(t,i)}),this},easeProperty(e,t){var i=this.get(e);if(i)Array.isArray(i)||(i=[i]);else return this;var s=t.value,p=t.property;return this.symbols&&typeof s=="string"&&this.isNumberProperty(e,p)&&s in this.symbols&&(t.value=this.symbols[s]),i.forEach(function(E){E.easeProperty(t)}),this},hasTweenTask(e,t){var i=Nu(e)?this.get(e):this.getFitst(e);return i?i.tweens.hasOwnProperty(t):!1},getTweenTask(e,t){var i=Nu(e)?this.get(e):this.getFitst(e);return i&&i.tweens[t]||null}},srt={hasMethod(e,t){var i=Nu(e)?this.get(e):this.getFitst(e);return i?i.hasMethod(t):!1},call(e,t,...i){var s=this.get(e);if(s)Array.isArray(s)||(s=[s]);else return this;return s.forEach(function(p){p.call(t,...i)}),this}},art={hasData(e,t){var i=Nu(e)?this.get(e):this.getFitst(e);return i?i.hasData(t):!1},getData(e,t){if(this.has(e))return this.get(e).getData(t)},setData(e,t,i){var s=this.get(e);if(s)Array.isArray(s)||(s=[s]);else return this;return s.forEach(function(p){p.setData(t,i)}),this}},nG=0,sG=1,Wb=2,aG=3,oG=4,Yb=5,ort={tint:nG,alpha:sG,revealUp:Wb,revealDown:aG,revealLeft:oG,revealRight:Yb},lrt={setGOFadeMode(e){return typeof e=="string"&&(e=ort[e]),this.fadeMode=e,this},setGOFadeTime(e){return this.fadeTime=e,this},useTintFadeEffect(e){return(this.fadeMode===void 0||this.fadeMode===nG)&&this.fadeTime>0&&e.setTint!==void 0},useAlphaFadeEffect(e){return(this.fadeMode===void 0||this.fadeMode===sG)&&this.fadeTime>0&&e.setAlpha!==void 0},useRevealEffect(e){return this.fadeMode>=Wb&&this.fadeMode<=Yb&&this.fadeTime>0&&(e.preFX||e.postFX)},fadeBob(e,t,i,s){var p=e.gameObject;if(this.useTintFadeEffect(p))t!==void 0&&e.setProperty("tintGray",255*t),e.easeProperty({property:"tintGray",value:Math.floor(255*i),duration:this.fadeTime,delay:0,ease:"Linear",repeat:0,yoyo:!1,from:!1,complete:s});else if(this.useAlphaFadeEffect(p))t!==void 0&&e.setProperty("alpha",t),e.easeProperty({property:"alpha",value:i,duration:this.fadeTime,delay:0,ease:"Linear",repeat:0,yoyo:!1,from:!1,complete:s});else if(this.useRevealEffect(p)){tc(p,"reveal");var E;switch(this.fadeMode){case Wb:E="revealUp";break;case aG:E="revealDown";break;case oG:E="revealLeft";break;case Yb:E="revealRight";break}t===void 0&&(t=0),p[E]=t,e.easeProperty({property:E,value:i,duration:this.fadeTime,delay:0,ease:"Linear",repeat:0,yoyo:!1,from:!1,complete:s}),e.getTweenTask(E).once("complete",function(){p[E]=null})}else s&&s(p);return this}};var mi=function(e){return e.displayWidth!==void 0?e.displayWidth:e.width},yi=function(e){return e.displayHeight!==void 0?e.displayHeight:e.height};const iI=Phaser.Geom.Rectangle,Eo=Phaser.Math.Vector2,hrt=Phaser.Math.RotateAround,urt=Phaser.GameObjects.Container;var _M=function(e,t){if(t===void 0?t=new iI:t===!0&&(rP===void 0&&(rP=new iI),t=rP),e.getBounds&&!(e instanceof urt))return e.getBounds(t);var i,s,p,E,n,T,r,o;if(e.parentContainer){var x=e.parentContainer.getBoundsTransformMatrix();Uu(e,t),x.transformPoint(t.x,t.y,t),i=t.x,s=t.y,Rp(e,t),x.transformPoint(t.x,t.y,t),p=t.x,E=t.y,Ap(e,t),x.transformPoint(t.x,t.y,t),n=t.x,T=t.y,Xb(e,t),x.transformPoint(t.x,t.y,t),r=t.x,o=t.y}else Uu(e,t),i=t.x,s=t.y,Rp(e,t),p=t.x,E=t.y,Ap(e,t),n=t.x,T=t.y,Xb(e,t),r=t.x,o=t.y;return t.x=Math.min(i,p,n,r),t.y=Math.min(s,E,T,o),t.width=Math.max(i,p,n,r)-t.x,t.height=Math.max(s,E,T,o)-t.y,t},rP=void 0,Uu=function(e,t,i){return t===void 0?t=new Eo:t===!0&&(Wn===void 0&&(Wn=new Eo),t=Wn),e.getTopLeft?e.getTopLeft(t):(t.x=e.x-mi(e)*e.originX,t.y=e.y-yi(e)*e.originY,zp(e,t,i))},Rp=function(e,t,i){return t===void 0?t=new Eo:t===!0&&(Wn===void 0&&(Wn=new Eo),t=Wn),e.getTopRight?e.getTopRight(t):(t.x=e.x-mi(e)*e.originX+mi(e),t.y=e.y-yi(e)*e.originY,zp(e,t,i))},Ap=function(e,t,i){return t===void 0?t=new Eo:t===!0&&(Wn===void 0&&(Wn=new Eo),t=Wn),e.getBottomLeft?e.getBottomLeft(t):(t.x=e.x-mi(e)*e.originX,t.y=e.y-yi(e)*e.originY+yi(e),zp(e,t,i))},Xb=function(e,t,i){return t===void 0?t=new Eo:t===!0&&(Wn===void 0&&(Wn=new Eo),t=Wn),e.getBottomRight?e.getBottomRight(t):(t.x=e.x-mi(e)*e.originX+mi(e),t.y=e.y-yi(e)*e.originY+yi(e),zp(e,t,i))},rI=function(e,t,i){t===void 0?t=new Eo:t===!0&&(Wn===void 0&&(Wn=new Eo),t=Wn);var s=mi(e),p=yi(e);return t.x=e.x+s*(.5-e.originX),t.y=e.y+p*(.5-e.originY),zp(e,t,i)},Wn=void 0,zp=function(e,t,i){if(i===void 0&&(i=!1),e.rotation!==0&&hrt(t,e.x,e.y,e.rotation),i&&e.parentContainer){var s=e.parentContainer.getBoundsTransformMatrix();s.transformPoint(t.x,t.y,t)}return t};const Yv=Phaser.Utils.Objects.GetValue;var lG=function(e,t,i){var s,p,E,n,T;if(typeof i=="number"?s=i:(s=Yv(i,"color"),p=Yv(i,"lineWidth"),E=Yv(i,"fillColor"),n=Yv(i,"fillAlpha",1),T=Yv(i,"padding",0)),Array.isArray(e))for(var r=0,o=e.length;r<o;r++)nI(e[r],t,s,p,E,n,T);else nI(e,t,s,p,E,n,T)},nI=function(e,t,i,s,p,E,n){var T=e.getBounds||e.width!==void 0&&e.height!==void 0;if(T){i===void 0&&(i=16777215),s===void 0&&(s=1),p===void 0&&(p=null),E===void 0&&(E=1),n===void 0&&(n=0);var r=Uu(e,nd[0]);r.x-=n,r.y-=n;var o=Rp(e,nd[1]);o.x+=n,o.y-=n;var x=Xb(e,nd[2]);x.x+=n,x.y+=n;var d=Ap(e,nd[3]);d.x-=n,d.y+=n,p!==null&&t.fillStyle(p,E).fillPoints(nd,!0,!0),i!==null&&t.lineStyle(s,i).strokePoints(nd,!0,!0)}},nd=[{x:0,y:0},{x:0,y:0},{x:0,y:0},{x:0,y:0}],frt=function(e,t){return this.forEachGO(function(i){i.drawBounds?i.drawBounds(e,t):lG(i,e,t)}),this},hG=function(e,t){var i=e.cameras,s;if(t===void 0)s=i.main;else{var p=typeof t;switch(p){case"string":s=i.getCamera(t);break;case"number":s=i.cameras[t];break;default:s=t;break}}return s};const drt={setCamera(e,t){var i=this.get(e);if(!i)return this;var s=hG(this.scene,t);return s?(i.gameObject.cameraFilter=4294967295^s.id,i.camera=s,this):this},getCamera(e){var t=this.get(e);return t?t.camera:null}};var uG={drawGameObjectsBounds:frt};Object.assign(uG,hit,irt,rrt,nrt,srt,art,lrt,drt);const crt=Phaser.Cameras.Scene2D.BaseCamera;var vrt=function(e){return e instanceof crt};const fG=Phaser.Geom.Rectangle;var ec=function(e,t,i){return vrt(t)||(i=t,t=void 0),i===void 0?i=new fG:i===!0&&(i=prt),t?e.scale.getViewPort(t,i):e.scale.getViewPort(i)},prt=new fG;const qn=Phaser.Utils.Objects.GetValue;class $d{constructor(t,i){this.scene=t,this.BobClass=qn(i,"BobClass",qM),this.setCreateGameObjectCallback(qn(i,"createGameObject"),qn(i,"createGameObjectScope")),this.setEventEmitter(qn(i,"eventEmitter",void 0)),this.setGameObjectDepth(qn(i,"depth",void 0));var s=qn(i,"fade",500);typeof s=="number"?(this.setGOFadeMode(),this.setGOFadeTime(s)):(this.setGOFadeMode(qn(s,"mode")),this.setGOFadeTime(qn(s,"time",500)));var p=qn(i,"viewportCoordinate",!1);p!==!1?(this.setViewportCoordinateEnable(qn(i,"enable",!0)),this.setViewport(qn(p,"viewport"))):this.setViewportCoordinateEnable(!1);var E=qn(i,"effectProperties",!1);this.setEffectPropertiesConfig(E),this.setSymbols(qn(i,"symbols")),this.bobs={},this.removedGOs=[],this._timeScale=1,this.name=qn(i,"name")}destroy(t){this.clear(!t),this.createGameObjectCallback=void 0,this.viewport=void 0,this.scene=void 0}set timeScale(t){if(this._timeScale!==t){this._timeScale=t;var i=this.bobs;for(var s in i)i[s].setTimeScale(t)}}get timeScale(){return this._timeScale}setTimeScale(t){return this.timeScale=t,this}setCreateGameObjectCallback(t,i){return this.createGameObjectCallback=t,this.createGameObjectScope=i,this}setGameObjectDepth(t){return this.gameObjectDepth=t,this}setViewportCoordinateEnable(t){return t===void 0&&(t=!0),this.viewportCoordinateEnable=t,this}setEffectPropertiesConfig(t){return t===void 0&&(t=!0),this.effectPropertiesConfig=t,this}setViewport(t){return t===void 0&&(t=ec(this.scene,this.scene.cameras.main)),this.viewport=t,this}setSymbols(t){return this.symbols=t,this}get isEmpty(){return Vp(this.bobs)&&this.removedGOs.length===0}}Object.assign($d.prototype,Up,uG);const grt=Phaser.GameObjects.GameObject,mrt=Phaser.GameObjects.Layer;var is=function(e){return e instanceof grt||e instanceof mrt};const yrt=Phaser.GameObjects.Layer;var xp=function(e){return e instanceof yrt},dG=function(e){var t=e.displayList;return xp(t)?t:null},ea=function(e,t){if(e.length<=1)return e;t===void 0&&(t=!1);for(var i,s=0,p=e.length;s<p;s++){var E=e[s];if(E.displayList?i=E.displayList:E.parentContainer&&(i=E.parentContainer.list),i)break}return i||(i=E.scene.sys.displayList),i.depthSort&&(i.depthSort(),i=i.list),t?e.sort(function(n,T){return i.indexOf(T)-i.indexOf(n)}):e.sort(function(n,T){return i.indexOf(n)-i.indexOf(T)}),e};const xrt={getLayer(e){return this.getGO(e)},getLayers(e){return e===void 0&&(e=[]),this.forEachGO(function(t){e.push(t)}),ea(e,!1),e},addToLayer(e,t){var i=this.getGO(e);if(!i){console.warn(`[LayerManager] Can't get layer "${e}"`);return}Array.isArray(t)||(t=[t]);for(var s=0,p=t.length;s<p;s++){var E=t[s];E.isRexContainerLite?E.addToLayer(i):i.add(E)}return i.scrollFactorX!==void 0&&E.setScrollFactor(i.scrollFactorX,i.scrollFactorY),this},addToBottomLayer(e){var t=this.getLayers()[0];return this.addToLayer(t.goName,e),this},addToTopLayer(e){var t=this.getLayers(),i=t[t.length-1];return this.addToLayer(i.goName,e),this},removeFromLayer(e,t,i){var s=this.getGO(e);if(!s){console.warn(`[LayerManager] Can't get layer "${e}"`);return}return i===void 0&&(i=!0),t.isRexContainerLite?t.removeFromLayer(s,i):(s.remove(t),i&&t.addToDisplayList()),this},clearLayer(e,t){t===void 0&&(t=!0);var i=this.getGO(e);if(!i){console.warn(`Can't get layer "${e}"`);return}if(t)for(var s=i.getAll(),p=0,E=s.length;p<E;p++)s[p].destroy();else i.removeAll();return this}},Trt={setScrollFactor(e,t,i){i===void 0&&(i=t);var s=this.getLayer(e);if(!s)return this;s.scrollFactorX=t,s.scrollFactorY=i;for(var p=s.getAll(),E=0,n=p.length;E<n;E++)p[E].setScrollFactor(t,i);return this}},Ix=Phaser.Utils.Array,Crt=function(){var e;return this.parentContainer?e=this.parentContainer.list:this.displayList&&(e=this.displayList.list),e?(Ix.BringToTop(e,this),this):this},Srt=function(){var e;return this.parentContainer?e=this.parentContainer.list:this.displayList&&(e=this.displayList.list),e?(Ix.SendToBack(e,this),this):this},cG=function(e){var t;return e.parentContainer?(t=e.parentContainer.list,t.indexOf(this)===-1&&e.parentContainer.add(this)):e.displayList&&(t=e.displayList.list,t.indexOf(this)===-1&&e.displayList.add(this)),t?(Ix.MoveBelow(t,this,e),this):this},vG=function(e){var t;return e.parentContainer?(t=e.parentContainer.list,t.indexOf(this)===-1&&(e.isRexContainerLite?e.addToContainer(e.parentContainer):e.parentContainer.add(e))):e.displayList&&(t=e.displayList.list,t.indexOf(this)===-1&&(e.isRexContainerLite?e.addToLayer(e.displayList):e.displayList.add(e))),t?(Ix.MoveAbove(t,this,e),this):this},U0={bringMeToTop:Crt,sendMeToBack:Srt,moveMyDepthBelow:cG,moveMyDepthAbove:vG},Ert={bringLayerToTop(e){var t=this.getLayer(e);return t?(U0.bringMeToTop.call(t),this):this},sendLayerToBack(e){var t=this.getLayer(e);return t?(U0.sendMeToBack.call(t),this):this},moveLayerBelow(e,t){if(e===t)return this;var i=this.getLayer(e),s=this.getLayer(t);return!i||!s?this:(U0.moveMyDepthBelow.call(i,s),this)},moveLayerAbove(e,t){if(e===t)return this;var i=this.getLayer(e),s=this.getLayer(t);return!i||!s?this:(U0.moveMyDepthAbove.call(i,s),this)}},Prt=$d.prototype.setCamera,brt={setCamera(e,t){var i=hG(this.scene,t);return i||(i=this.scene.cameras.add(void 0,void 0,void 0,void 0,!1,t)),Prt.call(this,e,i),this}};var pG={};Object.assign(pG,xrt,Trt,Ert,brt);const V0=Phaser.Utils.Objects.GetValue;class Bx extends $d{constructor(t,i){i===void 0?i={}:Array.isArray(i)&&(i={layers:i}),i.hasOwnProperty("fade")||(i.fade=0),i.viewportCoordinate=!1,super(t,i);var s=V0(i,"rootLayer");this.setRootLayer(s);var p=V0(i,"layers");if(p)for(var E=0,n=p.length;E<n;E++){var T=p[E];if(typeof T=="string")this.add(T);else{var r=T.name;this.add(r);var o=T.scrollFactor,x=V0(T,"scrollFactorX",o),d=V0(T,"scrollFactorY",o);x!==void 0&&this.setScrollFactor(r,x,d),this.setCamera(r,T.cameraName)}}}setCreateGameObjectCallback(t,i){return t||(t=Mrt),super.setCreateGameObjectCallback(t,i),this}setRootLayer(t){if(t===this.rootLayer)return this;var i=this.getAllGO();return t?t.add(i):this.scene.displayList.add(i),this.rootLayer=t,this}addGO(t,i){return super.addGO(t,i),i.name=t,this.rootLayer&&this.rootLayer.add(i),this}get(t,i){if(is(t)){var s=dG(t);if(!s||(t=s.name,!t))return}return super.get(t,i)}}var Mrt=function(e,t){var i=e.add.layer();return t!==void 0&&i.setDepth(t),i};Object.assign(Bx.prototype,pG);var wrt=function(e){return Vu(e)?e.sys.sound:e.sound},Rrt=function(e){return this.sound.game.cache.audio.has(e)},ic=function(e){return e==null||typeof e!="object"?null:Vu(e)?e:e.scene&&Vu(e.scene)?e.scene:e.parent&&e.parent.scene&&Vu(e.parent.scene)?e.parent.scene:null};const Art=Phaser.Utils.Objects.GetValue;class ji{constructor(t,i){this.setParent(t),this.isShutdown=!1,this.setEventEmitter(Art(i,"eventEmitter",!0)),this.parent&&(this.parent===this.scene?this.scene.sys.events.once("shutdown",this.onEnvDestroy,this):this.parent===this.game?this.game.events.once("shutdown",this.onEnvDestroy,this):this.parent.once&&this.parent.once("destroy",this.onParentDestroy,this))}shutdown(t){this.isShutdown||(this.parent&&(this.parent===this.scene?this.scene.sys.events.off("shutdown",this.onEnvDestroy,this):this.parent===this.game?this.game.events.off("shutdown",this.onEnvDestroy,this):this.parent.once&&this.parent.off("destroy",this.onParentDestroy,this)),this.destroyEventEmitter(),this.parent=void 0,this.scene=void 0,this.game=void 0,this.isShutdown=!0)}destroy(t){this.shutdown(t)}onEnvDestroy(){this.destroy(!0)}onParentDestroy(t,i){this.destroy(i)}setParent(t){return this.parent=t,this.scene=ic(t),this.game=Wu(t),this}}Object.assign(ji.prototype,Up);const Ort=Phaser.Utils.Objects.GetValue;class Gx extends ji{constructor(t,i){super(t,i),this._isRunning=!1,this.isPaused=!1,this.tickingState=!1,this.setTickingMode(Ort(i,"tickingMode",1))}boot(){this.tickingMode===2&&!this.tickingState&&this.startTicking()}shutdown(t){this.isShutdown||(this.stop(),this.tickingState&&this.stopTicking(),super.shutdown(t))}setTickingMode(t){typeof t=="string"&&(t=Lrt[t]),this.tickingMode=t}startTicking(){this.tickingState=!0}stopTicking(){this.tickingState=!1}get isRunning(){return this._isRunning}set isRunning(t){this._isRunning!==t&&(this._isRunning=t,this.tickingMode===1&&t!=this.tickingState&&(t?this.startTicking():this.stopTicking()))}start(){return this.isPaused=!1,this.isRunning=!0,this}pause(){return this.isRunning&&(this.isPaused=!0,this.isRunning=!1),this}resume(){return this.isPaused&&(this.isPaused=!1,this.isRunning=!0),this}stop(){return this.isPaused=!1,this.isRunning=!1,this}complete(){this.isPaused=!1,this.isRunning=!1,this.emit("complete",this.parent,this)}}const Lrt={no:0,lazy:1,always:2},Drt=Phaser.Utils.Objects.GetValue;class Frt extends Gx{constructor(t,i){super(t,i);var s=this.scene?"update":"step";this.tickEventName=Drt(i,"tickEventName",s),this.isSceneTicker=!Irt(this.tickEventName)}startTicking(){super.startTicking(),this.isSceneTicker?this.scene.sys.events.on(this.tickEventName,this.update,this):this.game.events.on(this.tickEventName,this.update,this)}stopTicking(){super.stopTicking(),this.isSceneTicker&&this.scene?this.scene.sys.events.off(this.tickEventName,this.update,this):this.game&&this.game.events.off(this.tickEventName,this.update,this)}}var Irt=function(e){return e==="step"||e==="poststep"};const nl=Phaser.Utils.Objects.GetValue,sI=Phaser.Math.Clamp;let gG=class{constructor(t){this.resetFromJSON(t)}resetFromJSON(t){this.state=nl(t,"state",Xv),this.timeScale=nl(t,"timeScale",1),this.delay=nl(t,"delay",0),this.repeat=nl(t,"repeat",0),this.repeatCounter=nl(t,"repeatCounter",0),this.repeatDelay=nl(t,"repeatDelay",0),this.duration=nl(t,"duration",0),this.nowTime=nl(t,"nowTime",0),this.justRestart=nl(t,"justRestart",!1)}toJSON(){return{state:this.state,timeScale:this.timeScale,delay:this.delay,repeat:this.repeat,repeatCounter:this.repeatCounter,repeatDelay:this.repeatDelay,duration:this.duration,nowTime:this.nowTime,justRestart:this.justRestart}}destroy(){}setTimeScale(t){return this.timeScale=t,this}setDelay(t){return t===void 0&&(t=0),this.delay=t,this}setDuration(t){return this.duration=t,this}setRepeat(t){return this.repeat=t,this}setRepeatInfinity(){return this.repeat=-1,this}setRepeatDelay(t){return this.repeatDelay=t,this}start(){return this.nowTime=this.delay>0?-this.delay:0,this.state=this.nowTime>=0?sd:Hv,this.repeatCounter=0,this}stop(){return this.state=Xv,this}update(t,i){this.state===Xv||this.state===z0||i===0||this.timeScale===0||(this.nowTime+=i*this.timeScale,this.justRestart=!1,this.nowTime>=this.duration?this.repeat===-1||this.repeatCounter<this.repeat?(this.repeatCounter++,this.justRestart=!0,this.nowTime-=this.duration,this.repeatDelay>0&&(this.nowTime-=this.repeatDelay,this.state=aI)):(this.nowTime=this.duration,this.state=z0):this.nowTime>=0&&(this.state=sd))}get t(){var t;switch(this.state){case Xv:case Hv:case aI:t=0;break;case sd:t=this.nowTime/this.duration;break;case z0:t=1;break}return sI(t,0,1)}set t(t){t=sI(t,-1,1),t<0?(this.state=Hv,this.nowTime=-this.delay*t):(this.state=sd,this.nowTime=this.duration*t,t===1&&this.repeat!==0&&this.repeatCounter++)}setT(t){return this.t=t,this}get isIdle(){return this.state===Xv}get isDelay(){return this.state===Hv}get isCountDown(){return this.state===sd}get isRunning(){return this.state===Hv||this.state===sd}get isDone(){return this.state===z0}get isOddIteration(){return(this.repeatCounter&1)===1}get isEvenIteration(){return(this.repeatCounter&1)===0}};const Xv=0,Hv=1,sd=2,aI=3,z0=-1;class Brt extends Frt{constructor(t,i){super(t,i),this.timer=new gG}shutdown(t){this.isShutdown||(super.shutdown(t),this.timer.destroy(),this.timer=void 0)}start(){return this.timer.start(),super.start(),this}stop(){return this.timer.stop(),super.stop(),this}complete(){return this.timer.stop(),super.complete(),this}}const $v=Phaser.Utils.Objects.GetValue,oI=Phaser.Utils.Objects.GetAdvancedValue,Grt=Phaser.Tweens.Builders.GetEaseFunction;class Ju extends Brt{resetFromJSON(t){return this.timer.resetFromJSON($v(t,"timer")),this.setEnable($v(t,"enable",!0)),this.setTarget($v(t,"target",this.parent)),this.setDelay(oI(t,"delay",0)),this.setDuration(oI(t,"duration",1e3)),this.setEase($v(t,"ease","Linear")),this.setRepeat($v(t,"repeat",0)),this}setEnable(t){return t==null&&(t=!0),this.enable=t,this}setTarget(t){return t===void 0&&(t=this.parent),this.target=t,this}setDelay(t){return this.delay=t,this}setDuration(t){return this.duration=t,this}setRepeat(t){return this.repeat=t,this}setRepeatDelay(t){return this.repeatDelay=t,this}setEase(t){return t===void 0&&(t="Linear"),this.ease=t,this.easeFn=Grt(t),this}start(){return this.timer.isRunning?this:(super.start(),this)}restart(){return this.timer.stop(),this.start.apply(this,arguments),this}stop(t){return t===void 0&&(t=!1),super.stop(),t&&(this.timer.setT(1),this.updateTarget(this.target,this.timer),this.complete()),this}update(t,i){if(!this.isRunning||!this.enable||this.parent.hasOwnProperty("active")&&!this.parent.active)return this;var s=this.target,p=this.timer;return p.update(t,i),p.isDelay||this.updateTarget(s,p),this.emit("update",s,this),p.isDone&&this.complete(),this}updateTarget(t,i){}}const krt=Phaser.Sound.BaseSound;var tw=function(e){return e instanceof krt};const lI=Phaser.Utils.Objects.GetValue,hI=Phaser.Utils.Objects.GetAdvancedValue,Nrt=Phaser.Math.Linear;let mG=class extends Ju{constructor(t,i,s){tw(t)&&(s=i,i=t,t=void 0),i.active=!0,i.scene=t,i.game=i.manager.game,super(i,s),this.volume={},this.resetFromJSON(s)}resetFromJSON(t){return super.resetFromJSON(t),this.setMode(lI(t,"mode",0)),this.setEnable(lI(t,"enable",!0)),this.setVolumeRange(hI(t,"volume.start",this.parent.volume),hI(t,"volume.end",0)),this}setMode(t){return typeof t=="string"&&(t=Urt[t]),this.mode=t,this}setVolumeRange(t,i){return this.volume.start=t,this.volume.end=i,this}start(){return this.timer.isRunning?this:(this.parent.setVolume(this.volume.start),this.timer.setDelay(this.delay).setDuration(this.duration),super.start(),this)}updateTarget(t,i){t.volume=Nrt(this.volume.start,this.volume.end,i.t)}complete(){switch(super.complete(),this.mode){case 1:this.parent.stop();break;case 2:this.parent.stop(),this.parent.destroy();break}return this}};const Urt={stop:1,destroy:2};var kx=function(e,t,i,s,p){tw(e)&&(p=s,s=i,i=t,t=e,e=void 0),s===void 0&&(s=1),p===void 0&&(p=0);var E={mode:0,volume:{start:p,end:s},duration:i};typeof t=="string"&&(t=e.sys.sound.add(t));var n;return t.hasOwnProperty("_fade")?(n=t._fade,n.stop().resetFromJSON(E)):(n=new mG(e,t,E),t._fade=n),n.start(),t.isPlaying||t.setVolume(p).play(),t},Kd=function(e,t,i,s){tw(e)&&(s=i,i=t,t=e,e=void 0),s===void 0&&(s=!0);var p={mode:s?2:1,volume:{start:t.volume,end:0},duration:i},E;return t.hasOwnProperty("_fade")?(E=t._fade,E.stop().resetFromJSON(p)):(E=new mG(e,t,p),t._fade=E),E.start(),t.isPlaying||t.play(),t};const Kv=Phaser.Utils.Objects.GetValue,Vrt={setBackgroundMusicLoop(e){return e===void 0&&(e=!0),this.backgroundMusicLoop=e,this},setBackgroundMusicFadeTime(e){return this.backgroundMusicFadeTime=e,this},getBackgroundMusic(){return this.backgroundMusic},setCurrentBackgroundMusic(e){return this.backgroundMusic=e,e&&(e.once("complete",function(){this.backgroundMusic===e&&(this.backgroundMusic.destroy(),this.backgroundMusic=void 0)},this).once("destroy",function(){this.backgroundMusic===e&&(this.backgroundMusic=void 0)},this),e.isPlaying||e.play()),this},playBackgroundMusic(e,t){if(!this.hasAudio(e))return console.error(`[Sound manager] Audio key'${e}' is not existed`),this;if(this.backgroundMusic&&this.backgroundMusic.key===e)return this;this.stopBackgroundMusic();var i=this.sound.add(e,{loop:Kv(t,"loop",this.backgroundMusicLoop),mute:Kv(t,"mute",this.backgroundMusicMute),volume:Kv(t,"volume",this.backgroundMusicVolume),detune:Kv(t,"detune",0),rate:Kv(t,"rate",1)});return this.setCurrentBackgroundMusic(i),this.backgroundMusicFadeTime>0&&this.fadeInBackgroundMusic(this.backgroundMusicFadeTime),this},pauseBackgroundMusic(){return this.backgroundMusic&&this.backgroundMusic.pause(),this},resumeBackgroundMusic(){return this.backgroundMusic&&this.backgroundMusic.resume(),this},stopBackgroundMusic(){return this.backgroundMusic&&(this.backgroundMusicFadeTime>0?this.fadeOutBackgroundMusic(this.backgroundMusicFadeTime,!0):(this.backgroundMusic.stop(),this.backgroundMusic.destroy(),this.backgroundMusic=void 0)),this},fadeInBackgroundMusic(e){return this.backgroundMusic&&kx(this.backgroundMusic,e,this.backgroundMusicVolume,0),this},fadeOutBackgroundMusic(e,t){return this.backgroundMusic&&Kd(this.backgroundMusic,e,t),this},crossFadeBackgroundMusic(e,t){if(!this.hasAudio(e))return console.error(`[Sound manager] Audio key'${e}' is not existed`),this;var i=this.backgroundMusicFadeTime;return this.backgroundMusicFadeTime=0,this.fadeOutBackgroundMusic(t,!0).playBackgroundMusic(e).fadeInBackgroundMusic(t),this.backgroundMusicFadeTime=i,this},setBackgroundMusicMute(e){return e===void 0&&(e=!0),this.backgroundMusicMute=e,this},setBackgroundMusicVolume(e){return this.backgroundMusicVolume=e,this},setBackgroundMusicRate(e){return this.backgroundMusic&&this.backgroundMusic.setRate(e),this},setBackgroundMusicDetune(e){return this.backgroundMusic&&this.backgroundMusic.setDetune(e),this}},Zv=Phaser.Utils.Objects.GetValue,zrt={setBackgroundMusic2Loop(e){return e===void 0&&(e=!0),this.backgroundMusic2Loop=e,this},setBackgroundMusic2FadeTime(e){return this.backgroundMusic2FadeTime=e,this},getBackgroundMusic2(){return this.backgroundMusic2},setCurrentBackgroundMusic2(e){return this.backgroundMusic2=e,e&&(e.once("complete",function(){this.backgroundMusic2===e&&(this.backgroundMusic2.destroy(),this.backgroundMusic2=void 0)},this).once("destroy",function(){this.backgroundMusic2===e&&(this.backgroundMusic2=void 0)},this),e.isPlaying||e.play()),this},playBackgroundMusic2(e,t){if(!this.hasAudio(e))return console.error(`[Sound manager] Audio key'${e}' is not existed`),this;if(this.backgroundMusic2&&this.backgroundMusic2.key===e)return this;this.stopBackgroundMusic2();var i=this.sound.add(e,{loop:Zv(t,"loop",this.backgroundMusicLoop),mute:Zv(t,"mute",this.backgroundMusic2Mute),volume:Zv(t,"volume",this.backgroundMusic2Volume),detune:Zv(t,"detune",0),rate:Zv(t,"rate",1)});return this.setCurrentBackgroundMusic2(i),this.backgroundMusic2FadeTime>0&&this.fadeInBackgroundMusic2(this.backgroundMusic2FadeTime),this},pauseBackgroundMusic2(){return this.backgroundMusic2&&this.backgroundMusic2.pause(),this},resumeBackgroundMusic2(){return this.backgroundMusic2&&this.backgroundMusic2.resume(),this},stopBackgroundMusic2(){return this.backgroundMusic2&&(this.backgroundMusic2FadeTime>0?this.fadeOutBackgroundMusic2(this.backgroundMusic2FadeTime,!0):(this.backgroundMusic2.stop(),this.backgroundMusic2.destroy(),this.backgroundMusic2=void 0)),this},fadeInBackgroundMusic2(e){return this.backgroundMusic2&&kx(this.backgroundMusic2,e,this.backgroundMusic2Volume,0),this},fadeOutBackgroundMusic2(e,t){return this.backgroundMusic2&&Kd(this.backgroundMusic2,e,t),this},crossFadeBackgroundMusic2(e,t){if(!this.hasAudio(e))return console.error(`[Sound manager] Audio key'${e}' is not existed`),this;var i=this.backgroundMusic2FadeTime;return this.backgroundMusic2FadeTime=0,this.fadeOutBackgroundMusic2(t,!0).playBackgroundMusic2(e).fadeInBackgroundMusic2(t),this.backgroundMusic2FadeTime=i,this},setBackgroundMusic2Mute(e){return e===void 0&&(e=!0),this.backgroundMusic2Mute=e,this},setBackgroundMusic2Volume(e){return this.backgroundMusic2Volume=e,this},setBackgroundMusic2Rate(e){return this.backgroundMusic2&&this.backgroundMusic2.setRate(e),this},setBackgroundMusic2Detune(e){return this.backgroundMusic2&&this.backgroundMusic2.setDetune(e),this}},uI=Phaser.Utils.Array.Remove,W0=Phaser.Utils.Objects.GetValue,Wrt={getSoundEffects(){return this.soundEffects},getLastSoundEffect(){return this.soundEffects[this.soundEffects.length-1]},playSoundEffect(e,t){if(!this.hasAudio(e))return console.error(`[Sound manager] Audio key'${e}' is not existed`),this;var i=this.sound.add(e,{mute:W0(t,"mute",this.soundEffectsMute),volume:W0(t,"volume",this.soundEffectsVolume),detune:W0(t,"detune",0),rate:W0(t,"rate",1)});return this.soundEffects.push(i),i.once("complete",function(){i.destroy(),this.sound&&uI(this.soundEffects,i)},this).once("destroy",function(){this.sound&&uI(this.soundEffects,i)},this).play(),this},stopAllSoundEffects(){for(var e=this.soundEffects.length-1;e>=0;e--){var t=this.soundEffects[e];t.stop(),t.destroy()}return this},fadeInSoundEffect(e){var t=this.getLastSoundEffect();return t&&kx(t,e,this.soundEffectsVolume,0),this},fadeOutSoundEffect(e,t){var i=this.getLastSoundEffect();return i&&Kd(i,e,t),this},fadeOutAllSoundEffects(e,t){for(var i=this.soundEffects.length-1;i>=0;i--)Kd(this.soundEffects[i],e,t);return this},setSoundEffectMute(e,t){if(e===void 0&&(e=!0),t===void 0&&(t=!1),t){var i=this.getLastSoundEffect();i&&i.setMute(e)}else this.soundEffectsMute=e;return this},setSoundEffectVolume(e,t){if(t===void 0&&(t=!1),t){var i=this.getLastSoundEffect();i&&i.setVolume(e)}else this.soundEffectsVolume=e;return this},setSoundEffectDetune(e,t){t===void 0&&(t=!1);var i;t?i=[this.getLastSoundEffect()]:i=this.soundEffects;for(var s=0,p=i.length;s<p;s++)i[s].setDetune(e);return this},setSoundEffectRate(e,t){t===void 0&&(t=!1);var i;t?i=[this.getLastSoundEffect()]:i=this.soundEffects;for(var s=0,p=i.length;s<p;s++)i[s].setRate(e);return this}},fI=Phaser.Utils.Array.Remove,Y0=Phaser.Utils.Objects.GetValue,Yrt={getSoundEffects2(){return this.soundEffects2},getLastSoundEffect2(){return this.soundEffects2[this.soundEffects2.length-1]},playSoundEffect2(e,t){if(!this.hasAudio(e))return console.error(`[Sound manager] Audio key'${e}' is not existed`),this;var i=this.sound.add(e,{mute:Y0(t,"mute",this.soundEffects2Mute),volume:Y0(t,"volume",this.soundEffects2Volume),detune:Y0(t,"detune",0),rate:Y0(t,"rate",1)});return this.soundEffects2.push(i),i.once("complete",function(){i.destroy(),this.sound&&fI(this.soundEffects2,i)},this).once("destroy",function(){this.sound&&fI(this.soundEffects2,i)},this).play(),this},stopAllSoundEffects2(){for(var e=this.soundEffects.length-1;e>=0;e--){var t=this.soundEffects[e];t.stop(),t.destroy()}return this},fadeInSoundEffect2(e){var t=this.getLastSoundEffect2();return t&&kx(t,e,this.soundEffects2Volume,0),this},fadeOutSoundEffect2(e,t){var i=this.getLastSoundEffect2();return i&&Kd(i,e,t),this},fadeOutAllSoundEffects2(e,t){for(var i=this.soundEffects2.length-1;i>=0;i--)Kd(this.soundEffects2[i],e,t);return this},setSoundEffect2Mute(e,t){if(e===void 0&&(e=!0),t===void 0&&(t=!1),t){var i=this.getLastSoundEffect2();i&&i.setMute(e)}else this.soundEffects2Mute=e;return this},setSoundEffect2Volume(e,t){if(t===void 0&&(t=!1),t){var i=this.getLastSoundEffect2();i&&i.setVolume(e)}else this.soundEffects2Volume=e;return this},setSoundEffect2Detune(e,t){t===void 0&&(t=!1);var i;t?i=[this.getLastSoundEffect2()]:i=this.soundEffects2;for(var s=0,p=i.length;s<p;s++)i[s].setDetune(e);return this},setSoundEffect2Rate(e,t){t===void 0&&(t=!1);var i;t?i=[this.getLastSoundEffect2()]:i=this.soundEffects2;for(var s=0,p=i.length;s<p;s++)i[s].setRate(e);return this}};var yG={hasAudio:Rrt};Object.assign(yG,Vrt,zrt,Wrt,Yrt);const Ks=Phaser.Utils.Objects.GetValue;class xG{constructor(t,i){this.sound=wrt(t),this.backgroundMusic=void 0,this._backgroundMusicVolume=Ks(i,"bgm.volume",1),this._backgroundMusicMute=Ks(i,"bgm.mute",!1),this.setBackgroundMusicLoop(Ks(i,"bgm.loop",!0)),this.setBackgroundMusicFadeTime(Ks(i,"bgm.fade",500)),this.backgroundMusic2=void 0,this._backgroundMusic2Volume=Ks(i,"bgm2.volume",1),this._backgroundMusic2Mute=Ks(i,"bgm2.mute",!1),this.setBackgroundMusic2Loop(Ks(i,"bgm2.loop",!0)),this.setBackgroundMusic2FadeTime(Ks(i,"bgm2.fade",500)),this.soundEffects=[],this._soundEffectsVolume=Ks(i,"soundEffect.volume",1),this.soundEffects2=[],this._soundEffects2Volume=Ks(i,"soundEffect2.volume",1);var s=Ks(i,"bgm.initial",void 0);s&&this.setCurrentBackgroundMusic(s);var p=Ks(i,"bgm2.initial",void 0);p&&this.setCurrentBackgroundMusic2(p)}destroy(){if(this.backgroundMusic&&this.backgroundMusic.destroy(),this.backgroundMusic=void 0,this.backgroundMusic2&&this.backgroundMusic2.destroy(),this.backgroundMusic2=void 0,this.soundEffects.length)for(var t=this.soundEffects.length-1;t>=0;t--)this.soundEffects[t].destroy();if(this.soundEffects.length=0,this.soundEffects2.length)for(var t=this.soundEffects2.length-1;t>=0;t--)this.soundEffects2[t].destroy();return this.soundEffects2.length=0,this.sound=void 0,this}get backgroundMusicMute(){return this._backgroundMusicMute}set backgroundMusicMute(t){this._backgroundMusicMute=t,this.backgroundMusic&&this.backgroundMusic.setMute(mute)}get backgroundMusicVolume(){return this._backgroundMusicVolume}set backgroundMusicVolume(t){this._backgroundMusicVolume=t,this.backgroundMusic&&this.backgroundMusic.setVolume(t)}get backgroundMusic2Mute(){return this._backgroundMusic2Mute}set backgroundMusic2Mute(t){this._backgroundMusic2Mute=t,this.backgroundMusic2&&this.backgroundMusic2.setMute(mute)}get backgroundMusic2Volume(){return this._backgroundMusic2Volume}set backgroundMusic2Volume(t){this._backgroundMusic2Volume=t,this.backgroundMusic2&&this.backgroundMusic2.setVolume(t)}get soundEffectsMute(){return this._soundEffectsMute}set soundEffectsMute(t){this._soundEffectsMute=t;for(var i=this.soundEffects,s=0,p=i.length;s<p;s++)i[s].setMute(t)}get soundEffectsVolume(){return this._soundEffectsVolume}set soundEffectsVolume(t){this._soundEffectsVolume=t;for(var i=this.soundEffects,s=0,p=i.length;s<p;s++)i[s].setVolume(t)}get soundEffects2Mute(){return this._soundEffects2Mute}set soundEffects2Mute(t){this._soundEffects2Mute=t;for(var i=this.soundEffects,s=0,p=soundEffects2.length;s<p;s++)i[s].setMute(t)}get soundEffects2Volume(){return this._soundEffects2Volume}set soundEffects2Volume(t){this._soundEffects2Volume=t;for(var i=this.soundEffects2,s=0,p=i.length;s<p;s++)i[s].setVolume(t)}}Object.assign(xG.prototype,yG);const nP=Phaser.Utils.Objects.GetValue;class Xrt extends Gx{constructor(t,i){super(t,i),this.resetFromJSON(i),this.boot()}resetFromJSON(t){return this.isRunning=nP(t,"isRunning",!1),this.timeScale=nP(t,"timeScale",1),this.now=nP(t,"now",0),this}toJSON(){return{isRunning:this.isRunning,timeScale:this.timeScale,now:this.now,tickingMode:this.tickingMode}}start(t){return t===void 0&&(t=0),this.delta=0,this.now=t,super.start(),this}seek(t){return this.now=t,this}setTimeScale(t){return this.timeScale=t,this}tick(t){return t*=this.timeScale,this.now+=t,this.delta=t,this.emit("update",this.now,this.delta),this}}class TG extends Xrt{startTicking(){super.startTicking(),this.scene.sys.events.on("update",this.update,this)}stopTicking(){super.stopTicking(),this.scene&&this.scene.sys.events.off("update",this.update,this)}update(t,i){return!this.isRunning||this.timeScale===0?this:(this.tick(i),this)}}var ki=function(e,t){return t===void 0&&(t=.5),e<=t?e=e/t:e=1-(e-t)/(1-t),e};const dI=Phaser.Math.Clamp;class Hrt{constructor(t,i){this.setTimeline(t).reset(i)}setTimeline(t){return this.timeline=t,this}setName(t){return this.name=t,this}setCallbacks(t,i,s,p){return this.target=t,this.onStart=i,this.onProgress=s,this.onComplete=p,this}setDuration(t,i){return i===void 0&&(i=!1),this.duration=t,this.remainder=t,this.t=0,this.yoyo=i,this}setPaused(t){return this.isPaused=t,this}pause(){return this.isPaused=!0,this}resume(){return this.isPaused=!1,this}setRemoved(t){return this.removed=t,this}remove(){return this.removed=!0,this}seek(t){return this.remainder=this.duration*(1-t),this}reset(t){return this.setName(t.name).setDuration(t.duration,t.yoyo).setCallbacks(t.target,t.onStart,t.onProgress,t.onComplete).setPaused(!1).setRemoved(!1),this}onFree(){this.setTimeline().setCallbacks()}getProgress(){var t=1-this.remainder/this.duration;return t=dI(t,0,1),this.yoyo&&(t=ki(t)),t}setProgress(t){t=dI(t,0,1),this.remainder=this.duration*(1-t)}runCallback(t){t&&t(this.target,this.t,this)}update(t,i){if(this.removed)return!0;if(this.isPaused)return!1;this.remainder-=i,this.t=this.getProgress(),this.runCallback(this.onProgress);var s=this.remainder<=0;return s&&this.runCallback(this.onComplete),s}}let $rt=class extends Co{allocate(){return this.pop()}free(t){t.onFree(),this.push(t)}freeMultiple(t){for(var i=0,s=t.length;i<s;i++)this.free(t[i]);return this}};const Krt=Phaser.Utils.Objects.GetValue,Zrt=new $rt;class Jrt extends TG{constructor(t,i){super(t,i),this.addedTimers=[],this.timers=[],this.timerPool=Krt(i,"pool",Zrt)}shutdown(){this.isShutdown||(this.timerPool.freeMultiple(this.addedTimers).freeMultiple(this.timers),this.timerPool=void 0,this.addedTimers=void 0,this.timers=void 0,super.shutdown())}addTimer(t){var i=this.timerPool.allocate();return i?i.setTimeline(this).reset(t):i=new Hrt(this,t),this.addedTimers.push(i),i.runCallback(i.onStart),this.isRunning||this.start(),i}delayCall(t,i,s,p){var E=this.addTimer({duration:t,onComplete:function(n,T,r){s===void 0&&(s=[]),s.push(r),i.apply(p,s)}});return E}delayEvent(t,i){this.removeDelayEvent(i);var s=this.delayCall(t,function(){this.removeDelayEvent(i),this.emit(i)},[],this);return this.once(`_remove.${i}`,function(){s.remove(),s=void 0}),this}removeDelayEvent(t){return this.emit(`_remove.${t}`),this}getTimers(t){for(var i=[],s=[this.addedTimers,this.timers],p=0,E=s.length;p<E;p++)for(var n=s[p],T=0,r=n.length;T<r;T++){var o=n[T];o.name===t&&i.push(o)}return i}update(t,i){if(super.update(t,i),!!this.isRunning){this.timers.push(...this.addedTimers),this.addedTimers.length=0;for(var s=[],p=0,E=this.timers.length;p<E;p++){var n=this.timers[p],T=n.update(this.now,this.delta);T?this.timerPool.free(n):s.push(n)}this.timers=s,this.timers.length===0&&this.addedTimers.length===0&&this.complete()}}}const jrt="_wait.complete",Qrt="_remove.wait";var qrt=function(e,t,i,s,p){var E=ic(e),n=E.time.delayedCall(t,function(){E.sys.events.once("preupdate",function(){i.call(s,p)})});return n};let CG=class{constructor(t){t||(this.setEventEmitter(!0),t=this),this.parent=t,this.waitId=0,this.waitCompleteEventName=jrt,this.removeWaitEventsEventName=Qrt}destroy(){this.removeWaitEvents(),this.clearWaitCompleteCallbacks(),this.parent=null}waitEvent(t,i,s){var p=this.getWaitCompleteTriggerCallback(s);return t.once(i,p,this),this.parent.once(this.removeWaitEventsEventName,function(){t.off(i,p,this)}),this.parent}getWaitCompleteTriggerCallback(t){t===void 0&&(t=!0);var i=this.waitId,s=this,p=function(){i<s.waitId||(s.waitId++,s.removeWaitEvents(),s.parent.emit(s.waitCompleteEventName))};if(t){var E=function(){qrt(s.parent,0,p)};return E}else return p}removeWaitEvents(){return this.parent.emit(this.removeWaitEventsEventName),this}addWaitCompleteCallback(t,i){return this.parent.on(this.waitCompleteEventName,t,i),this}clearWaitCompleteCallbacks(){return this.parent.off(this.waitCompleteEventName),this}};Object.assign(CG.prototype,Up);const _rt={waitTime(e){var t=this.parent.timeline;return t.delayEvent(e,"delay"),this.parent.once(this.removeWaitEventsEventName,function(){t.removeDelayEvent("delay")}),this.waitEvent(t,"delay")}};var tnt=function(e,t){var i=`(?<!\\\\)\\${t}`,s=`\\${t}`;return e.split(new RegExp(i,"g")).map(function(p){return p.replace(s,t)})};const ent={setClickTarget(e){return this.clickTarget=e,e?Vu(e)?this.touchEE=e.input:this.touchEE=e.setInteractive():this.touchEE=null,this},clearClickTarget(){return this.setClickTarget(),this},setClickShortcutKeys(e){return this.clickShortcutKeys=e,this},clearClickShortcutKeys(){return this.setClickShortcutKeys(),this},waitClick(){var e=this.touchEE,t=this.clickShortcutKeys;return e||t?(e&&this.waitEvent(e,"pointerdown"),t&&this.waitKeyDown(t)):this.waitTime(0),this},waitKeyDown(e){var t=this.scene.input.keyboard;if(typeof e=="string"){if(e.indexOf("|")===-1)return this.waitEvent(t,`keydown-${e.toUpperCase()}`);for(var i=tnt(e,"|"),s=0,p=i.length;s<p;s++)this.waitEvent(t,`keydown-${i[s].toUpperCase()}`);return this.parent}else return this.waitEvent(t,"keydown")}},int={waitGameObjectTweenComplete(e,t,i){var s=this.parent.getGameObjectTweenTask(e,t,i);return s?this.waitEvent(s,"complete"):this.waitTime(0)},waitGameObjectDataFlag(e,t,i,s){var p=this.parent.getGameObject(e,t);if(!p)return this.waitTime(0);if(p.getData(i)===s)return this.waitTime(0);var E=`changedata-${i}`,n=function(T,r,o){r=!!r,r===s&&T.emit("_dataFlagMatch")};return p.on(E,n),this.parent.once(this.removeWaitEventsEventName,function(){p.off(E,n)}),this.waitEvent(p,"_dataFlagMatch")},waitGameObjectDestroy(e,t){var i=this.parent.getGameObject(e,t);return i?this.waitEvent(i,"destroy"):this.waitTime(0)},waitGameObjectManagerEmpty(e){if(e){var t=this.parent.getGameObjectManager(e);return t?this.waitEvent(t,"empty"):this.waitTime(0)}else{var i=this.parent.gameObjectManagers,s=!1;for(var p in i)s=!0,this.waitEvent(i[p],"empty");return s?this.parent:this.waitTime(0)}}},rnt={setCameraTarget(e){return this.cameraTarget=e,this},clearCameraTarget(){return this.setCameraTarget(),this},waitCameraEffectComplete(e,t){var i;if(t?i=this.scene.cameras.getCamera(t):i=this.cameraTarget,!i)return this.waitTime(0);var s,p;switch(e){case"camera.fadein":s=i.fadeEffect,p="camerafadeincomplete";break;case"camera.fadeout":s=i.fadeEffect,p="camerafadeoutcomplete";break;case"camera.flash":s=i.flashEffect,p="cameraflashcomplete";break;case"camera.shake":s=i.shakeEffect,p="camerashakecomplete";break;case"camera.zoom":s=i.zoomEffect,p="camerazoomcomplete";break;case"camera.rotate":s=i.rotateToEffect,p="camerarotatecomplete";break;case"camera.scroll":s=i.panEffect,p="camerapancomplete";break}return s.isRunning?this.waitEvent(i,p):this.waitTime(0)}},nnt={waitSoundEffectComplete(){if(!this.parent.soundManager)return this.waitTime(0);var e=this.parent.soundManager.getLastSoundEffect();return e?this.waitEvent(e,"complete"):this.waitTime(0)},waitSoundEffect2Complete(){if(!this.parent.soundManager)return this.waitTime(0);var e=this.parent.soundManager.getLastSoundEffect2();return e?this.waitEvent(e,"complete"):this.waitTime(0)},waitBackgroundMusicComplete(){if(!this.parent.soundManager)return this.waitTime(0);var e=this.parent.soundManager.getBackgroundMusic();return e?this.waitEvent(e,"complete"):this.waitTime(0)},waitBackgroundMusic2Complete(){if(!this.parent.soundManager)return this.waitTime(0);var e=this.parent.soundManager.getBackgroundMusic2();return e?this.waitEvent(e,"complete"):this.waitTime(0)}};var snt=function(e){if(!e)return this.waitTime(0);var t=!1;for(var i in e)switch(i){case"time":t=!0,this.waitTime(e.time);break;case"click":t=!0,this.waitClick();break;case"key":t=!0,this.waitKeyDown(e.key);break;case"bgm":t=!0,this.waitBackgroundMusicComplete();break;case"bgm2":t=!0,this.waitBackgroundMusic2Complete();break;case"se":t=!0,this.waitSoundEffectComplete();break;case"se2":t=!0,this.waitSoundEffect2Complete();break;case"camera":t=!0,this.waitCameraEffectComplete(`camera.${e.camera.toLowerCase()}`,e.cameraName);break;default:var s=i.split(".");if(s.length===2){var p=s[0],E=s[1],n=this.parent.getGameObjectManager(void 0,p);if(!n)continue;if(E==="destroy")return this.waitGameObjectDestroy(void 0,p);var T=n.getProperty(p,E);if(typeof T=="number"){t=!0,this.waitGameObjectTweenComplete(void 0,p,E);continue}var r=E,o=r.startsWith("!");if(o&&(r=r.substring(1)),n.hasData(p,E)){t=!0,this.waitGameObjectDataFlag(void 0,p,r,!o);continue}this.waitEvent(gameObject,E);continue}else s.length;break}return t||this.waitTime(0),this.parent},SG={waitAny:snt};Object.assign(SG,_rt,ent,int,rnt,nnt);class EG extends CG{constructor(t,i){super(t),this.waitCompleteEventName=Ti(i,"completeEventName",this.waitCompleteEventName),this.setClickTarget(Ti(i,"clickTarget",this.scene)),this.setClickShortcutKeys(Ti(i,"clickShortcutKeys",void 0)),this.setCameraTarget(Ti(i,"camera",this.scene.cameras.main))}get clickTarget(){return this.parent.clickTarget}set clickTarget(t){this.parent.clickTarget=t}get clickShortcutKeys(){return this.parent.clickShortcutKeys}set clickShortcutKeys(t){this.parent.clickShortcutKeys=t}get cameraTarget(){return this.parent.cameraTarget}set cameraTarget(t){this.parent.cameraTarget=t}destroy(){this.clearClickTarget(),this.clearClickShortcutKeys(),this.clearCameraTarget(),super.destroy()}get scene(){return this.parent.managersScene}}Object.assign(EG.prototype,SG);const X0=Phaser.Utils.Objects.GetValue;var ant=function(e,t){this.clickTarget=void 0,this.clickShortcutKeys=void 0,this.cameraTarget=void 0,this.managersScene=e,this.gameObjectManagers={};var i=X0(t,"layers",!1);if(i!==!1){var s=new Bx(e,{name:"LAYER",layers:i,rootLayer:X0(t,"rootLayer",void 0),depth:X0(t,"layerDepth",void 0)});this.addGameObjectManager(s),this.layerManager=s}var p=X0(t,"sounds");return p!==!1&&(this.soundManager=new xG(e,p)),this.timeline=new Jrt(this),this.waitEventManager=new EG(this,t),this},ont=function(e){this.timeline.timeScale=e;for(var t in this.gameObjectManagers)this.gameObjectManagers[t].setTimeScale(e);return this},lnt=function(){return this.timeline.timeScale},hnt=function(e){this.waitEventManager.destroy(),this.waitEventManager=void 0,delete this.gameObjectManagers.layer;for(var t in this.gameObjectManagers)this.gameObjectManagers[t].destroy(e),delete this.gameObjectManagers[t];this.layerManager&&(this.layerManager.destroy(e),this.layerManager=void 0),this.soundManager&&(this.soundManager.destroy(),this.soundManager=void 0),this.timeline&&(this.timeline.destroy(),this.timeline=void 0),this.clickTarget=void 0,this.clickShortcutKeys=void 0,this.cameraTarget=void 0,this.managersScene=void 0};const PG={addGameObjectManager(e,t){var i;return e instanceof $d?i=e:typeof e=="string"?(i=t,i.name=e):(e===void 0&&(e={}),t===void 0&&(t=$d),e.createGameObjectScope||(e.createGameObjectScope=this),i=new t(this.managersScene,e)),this.gameObjectManagers[i.name]=i,this},getGameObjectManager(e,t){if(e){var i=this.gameObjectManagers[e];return i}else{t&&t.charAt(0)==="!"&&(t=t.substring(1));for(var e in this.gameObjectManagers){var i=this.gameObjectManagers[e];if(i.has(t))return i}}},getGameObjectManagerNames(){var e=[];for(var t in this.gameObjectManagers)e.push(t);return e},getGameObjectManagerName(e){var t=this.getGameObjectManager(void 0,e);if(t)return t.name},hasGameObjectMananger(e){return e in this.gameObjectManagers}},unt={createGameObject(e,t,...i){return this.getGameObjectManager(e,t).add(t,...i),this},destroyGameObject(e,t){var i=this.getGameObjectManager(e,t);return t===void 0?i.removeAll():i.remove(t),this},hasGameObject(e,t){return!!this.getGameObjectManager(e,t)},callGameObjectMethod(e,t,i,...s){return this.getGameObjectManager(e,t).call(t,i,...s),this},setGameObjectProperty(e,t,i,s){return this.getGameObjectManager(e,t).setProperty(t,i,s),this},easeGameObjectProperty(e,t,i){return this.getGameObjectManager(e,t).easeProperty(t,i),this},getGameObjectTweenTask(e,t,i){return this.getGameObjectManager(e,t).getTweenTask(t,i)},getGameObject(e,t,i){var s=this.getGameObjectManager(e,t);if(!s)return i;if(typeof t=="string")return s.getGO(t);i===void 0&&(i=[]);var p=t;p===void 0&&(p=Object.keys(s.bobs));for(var E=Array.isArray(i),n=0,T=p.length;n<T;n++){t=p[n];var r=s.getGO(t);r&&(E?i.push(r):i[t]=r)}return i},addGameObject(e,t,i){var s=this.getGameObjectManager(e,t);if(typeof t=="string")s.addGO(t,i);else{var p=t;for(t in p)s.addGO(t,p[t])}return this},drawGameObjectsBounds(e,t,i){e instanceof Phaser.GameObjects.Graphics&&(i=t,t=e,e=void 0),e===void 0&&(e=this.getGameObjectManagerNames()),Array.isArray(e)||(e=[e]);for(var s=0,p=e.length;s<p;s++)this.getGameObjectManager(e[s]).drawGameObjectsBounds(t,i);return this}};var fnt=function(e){class t extends e{}var i={initManagers:ant,setTimeScale:ont,getTimeScale:lnt,destroyManagers:hnt};return Object.assign(t.prototype,i,PG,unt),t},bG={exports:{}};(function(e){var t=Object.prototype.hasOwnProperty,i="~";function s(){}Object.create&&(s.prototype=Object.create(null),new s().__proto__||(i=!1));function p(r,o,x){this.fn=r,this.context=o,this.once=x||!1}function E(r,o,x,d,h){if(typeof x!="function")throw new TypeError("The listener must be a function");var l=new p(x,d||r,h),a=i?i+o:o;return r._events[a]?r._events[a].fn?r._events[a]=[r._events[a],l]:r._events[a].push(l):(r._events[a]=l,r._eventsCount++),r}function n(r,o){--r._eventsCount===0?r._events=new s:delete r._events[o]}function T(){this._events=new s,this._eventsCount=0}T.prototype.eventNames=function(){var o=[],x,d;if(this._eventsCount===0)return o;for(d in x=this._events)t.call(x,d)&&o.push(i?d.slice(1):d);return Object.getOwnPropertySymbols?o.concat(Object.getOwnPropertySymbols(x)):o},T.prototype.listeners=function(o){var x=i?i+o:o,d=this._events[x];if(!d)return[];if(d.fn)return[d.fn];for(var h=0,l=d.length,a=new Array(l);h<l;h++)a[h]=d[h].fn;return a},T.prototype.listenerCount=function(o){var x=i?i+o:o,d=this._events[x];return d?d.fn?1:d.length:0},T.prototype.emit=function(o,x,d,h,l,a){var f=i?i+o:o;if(!this._events[f])return!1;var c=this._events[f],u=arguments.length,v,g;if(c.fn){switch(c.once&&this.removeListener(o,c.fn,void 0,!0),u){case 1:return c.fn.call(c.context),!0;case 2:return c.fn.call(c.context,x),!0;case 3:return c.fn.call(c.context,x,d),!0;case 4:return c.fn.call(c.context,x,d,h),!0;case 5:return c.fn.call(c.context,x,d,h,l),!0;case 6:return c.fn.call(c.context,x,d,h,l,a),!0}for(g=1,v=new Array(u-1);g<u;g++)v[g-1]=arguments[g];c.fn.apply(c.context,v)}else{var m=c.length,y;for(g=0;g<m;g++)switch(c[g].once&&this.removeListener(o,c[g].fn,void 0,!0),u){case 1:c[g].fn.call(c[g].context);break;case 2:c[g].fn.call(c[g].context,x);break;case 3:c[g].fn.call(c[g].context,x,d);break;case 4:c[g].fn.call(c[g].context,x,d,h);break;default:if(!v)for(y=1,v=new Array(u-1);y<u;y++)v[y-1]=arguments[y];c[g].fn.apply(c[g].context,v)}}return!0},T.prototype.on=function(o,x,d){return E(this,o,x,d,!1)},T.prototype.once=function(o,x,d){return E(this,o,x,d,!0)},T.prototype.removeListener=function(o,x,d,h){var l=i?i+o:o;if(!this._events[l])return this;if(!x)return n(this,l),this;var a=this._events[l];if(a.fn)a.fn===x&&(!h||a.once)&&(!d||a.context===d)&&n(this,l);else{for(var f=0,c=[],u=a.length;f<u;f++)(a[f].fn!==x||h&&!a[f].once||d&&a[f].context!==d)&&c.push(a[f]);c.length?this._events[l]=c.length===1?c[0]:c:n(this,l)}return this},T.prototype.removeAllListeners=function(o){var x;return o?(x=i?i+o:o,this._events[x]&&n(this,x)):(this._events=new s,this._eventsCount=0),this},T.prototype.off=T.prototype.removeListener,T.prototype.addListener=T.prototype.on,T.prefixed=i,T.EventEmitter=T,e.exports=T})(bG);var dnt=bG.exports;const cnt=oM(dnt);class MG extends cnt{shutdown(){this.removeAllListeners()}destroy(){this.removeAllListeners()}}const wG={setEventEmitter(e,t){return t===void 0&&(t=MG),this._privateEE=e===!0||e===void 0,this._eventEmitter=this._privateEE?new t:e,this},destroyEventEmitter(){return this._eventEmitter&&this._privateEE&&this._eventEmitter.shutdown(),this},getEventEmitter(){return this._eventEmitter},on:function(){return this._eventEmitter&&this._eventEmitter.on.apply(this._eventEmitter,arguments),this},once:function(){return this._eventEmitter&&this._eventEmitter.once.apply(this._eventEmitter,arguments),this},off:function(){return this._eventEmitter&&this._eventEmitter.off.apply(this._eventEmitter,arguments),this},emit:function(e){return this._eventEmitter&&e&&this._eventEmitter.emit.apply(this._eventEmitter,arguments),this},addListener:function(){return this._eventEmitter&&this._eventEmitter.addListener.apply(this._eventEmitter,arguments),this},removeListener:function(){return this._eventEmitter&&this._eventEmitter.removeListener.apply(this._eventEmitter,arguments),this},removeAllListeners:function(){return this._eventEmitter&&this._eventEmitter.removeAllListeners.apply(this._eventEmitter,arguments),this},listenerCount:function(){return this._eventEmitter?this._eventEmitter.listenerCount.apply(this._eventEmitter,arguments):0},listeners:function(){return this._eventEmitter?this._eventEmitter.listeners.apply(this._eventEmitter,arguments):[]},eventNames:function(){return this._eventEmitter?this._eventEmitter.eventNames.apply(this._eventEmitter,arguments):[]}};var vnt=/^\s*-?(\d*\.?\d+|\d+\.?\d*)(e[-+]?\d+)?\s*$/i,pnt=/^0x[0-9A-F]+$/i,ew=function(e){if(typeof e!="string")return e;if(e==="")e=null;else if(vnt.test(e))e=parseFloat(e);else if(pnt.test(e))e=parseInt(e,16);else switch(e){case"false":e=!1;break;case"true":e=!0;break;case"null":e=null;break;case"undefined":e=void 0;break}return e};let RG=class{constructor(t){this.setEventEmitter(Ti(t,"eventEmitter",void 0)),this.setValueConverter(Ti(t,"valueConvert",!0)),this.setLoopEnable(Ti(t,"loop",!1)),this.setMultipleLinesTagEnable(Ti(t,"multipleLinesTag",!1));var i=Ti(t,"delimiters","<>");this.setDelimiters(i[0],i[1]),this.setTranslateTagNameCallback(Ti(t,"translateTagNameCallback")),this.isRunning=!1,this.isPaused=!1,this.skipEventFlag=!1,this.justCompleted=!1,this.lastTagStart=null,this.lastTagEnd=null,this.lastContent=null}shutdown(){this.destroyEventEmitter()}destroy(){this.shutdown()}setMultipleLinesTagEnable(t){return t===void 0&&(t=!0),this.multipleLinesTagEnable=t,this}setDelimiters(t,i){i===void 0&&(i=t[1],t=t[0]),this.delimiterLeft=t,this.delimiterRight=i,t=Hd(this.delimiterLeft),i=Hd(this.delimiterRight);var s=this.multipleLinesTagEnable?"gs":"gi";return this.reSplit=RegExp(`${t}(.+?)${i}`,s),this}setTranslateTagNameCallback(t){return this.translateTagNameCallback=t,this}setValueConverter(t){return t===!0?t=ew:t||(t=gnt),this.valueConverter=t,this}setLoopEnable(t){return t===void 0&&(t=!0),this.loopEnable=t,this}setSource(t){return this.source=t,this}resetIndex(t){return t===void 0&&(t=0),this.progressIndex=t,this.reSplit.lastIndex=t,this.lastTagStart=null,this.lastTagEnd=null,this.lastContent=null,this.justCompleted=!1,this.isRunning=!1,this}start(t){return this.setSource(t).restart(),this}restart(){this.resetIndex().next()}next(){if(this.isPaused&&this.onResume(),this.isRunning)return this;if(this.isRunning=!0,this.justCompleted)return this.isRunning=!1,this;this.reSplit.lastIndex===0&&this.onStart();var t=this.source,i=t.length;for(this.reSplit.lastIndex=this.progressIndex;;){var s=this.reSplit.exec(t);if(!s){if(this.progressIndex<i&&(this.onContent(t.substring(this.progressIndex,i)),this.isPaused)){this.progressIndex=i;break}this.onComplete(),this.isRunning=!1;return}var p=this.reSplit.lastIndex,E=p-s[0].length;if(this.progressIndex<E&&(this.onContent(t.substring(this.progressIndex,E)),this.isPaused)){this.progressIndex=E;break}if(this.lastTagSource=s[0],this.onTag(s[1]),this.lastTagSource=void 0,this.progressIndex=p,this.isPaused)break}return this.isRunning=!1,this}skipEvent(){return this.skipEventFlag=!0,this}pause(){return this.isPaused||this.onPause(),this}pauseUntilEvent(t,i){return this.isPaused?this:(this.pause(),t.once(i,function(){this.next()},this),this)}onContent(t){this.skipEventFlag=!1,this.emit("content",t),this.lastContent=t}onTag(t){}onStart(){this.isRunning=!0,this.emit("start",this)}onComplete(){this.isRunning=!1,this.justCompleted=!0,this.emit("complete",this),this.loopEnable&&this.resetIndex()}onPause(){this.isPaused=!0,this.emit("pause",this)}onResume(){this.isPaused=!1,this.emit("resume",this)}};const gnt=function(e){return e};Object.assign(RG.prototype,wG);var mnt=function(e,t,i){if(e==null)return[];t===void 0&&(t=ew),i===void 0&&(i=",");for(var s=e.split(i),p=0,E=s.length;p<E;p++)s[p]=t(s[p]);return s};class ynt extends RG{constructor(t){t===void 0&&(t={}),t.hasOwnProperty("multipleLinesTag")||(t.multipleLinesTag=!1),super(t),this.setTagExpression(Ti(t,"regex.tag",void 0)),this.setValueExpression(Ti(t,"regex.value",void 0));var i=Ti(t,"delimiters","<>");this.setDelimiters(i[0],i[1])}setTagExpression(t){return t||(t=H0),this.tagExpression=t,this}setValueExpression(t){return t||(t=H0),this.valueExpression=t,this}setDelimiters(t,i){super.setDelimiters(t,i);var s=`(${this.tagExpression})(=(${this.valueExpression}))?`;if(this.reTag=RegExp(s,"i"),this.tagExpression!==H0||this.valueExpression!==H0){var p=`${this.tagExpression}(=${this.valueExpression})?`,E=`/${this.tagExpression}`;t=Hd(this.delimiterLeft),i=Hd(this.delimiterRight);var n=this.multipleLinesTagEnable?"gs":"gi";this.reSplit=RegExp(`${t}((${p})|(${E}))${i}`,n)}return this}onTag(t){var i=t.match(this.reTag),s=i[1],p=s.charAt(0)==="/";if(p&&(s=s.substring(1,s.length)),this.translateTagNameCallback&&(s=this.translateTagNameCallback(s)),this.skipEventFlag=!1,p)this.emit(`-${s}`),this.skipEventFlag||this.emit("-",s),this.lastTagEnd=s;else{var E=mnt(i[3],this.valueConverter);this.emit(`+${s}`,...E),this.skipEventFlag||this.emit("+",s,...E),this.lastTagStart=s}}}const H0="[^=]+";var xnt=function(e,t,i){var s="color",p;t.on("start",function(){p=e.textStyle.color}).on(`+${s}`,function(E){e.textStyle.setColor(E),t.skipEvent()}).on(`-${s}`,function(){e.textStyle.setColor(p),t.skipEvent()}).on("complete",function(){e.textStyle.setColor(p)})},Tnt=function(e,t,i){var s="stroke",p;t.on("start",function(){p=e.textStyle.stroke,e.textStyle.setStrokeStyle(null)}).on(`+${s}`,function(E){E===void 0&&(E=p),e.textStyle.setStrokeStyle(E),t.skipEvent()}).on(`-${s}`,function(){e.textStyle.setStrokeStyle(null),t.skipEvent()}).on("complete",function(){e.textStyle.setStrokeStyle(p)})},Cnt=function(e,t,i){var s="b";t.on("start",function(){e.textStyle.setBold(!1)}).on(`+${s}`,function(){e.textStyle.setBold(!0),t.skipEvent()}).on(`-${s}`,function(){e.textStyle.setBold(!1),t.skipEvent()})},Snt=function(e,t,i){var s="i";t.on("start",function(){e.textStyle.setItalic(!1)}).on(`+${s}`,function(){e.textStyle.setItalic(!0),t.skipEvent()}).on(`-${s}`,function(){e.textStyle.setItalic(!1),t.skipEvent()})},Ent=function(e,t,i){var s="size",p;t.on("start",function(){p=e.textStyle.fontSize}).on(`+${s}`,function(E){e.textStyle.setFontSize(E),t.skipEvent()}).on(`-${s}`,function(){e.textStyle.setFontSize(p),t.skipEvent()}).on("complete",function(){e.textStyle.setFontSize(p)})},Pnt=function(e,t,i){var s="y",p;t.on("start",function(){p=e.textStyle.offsetY,e.textStyle.setOffsetY(0)}).on(`+${s}`,function(E){E===void 0&&(E=p),e.textStyle.setOffsetY(E),t.skipEvent()}).on(`-${s}`,function(){e.textStyle.setOffsetY(0),t.skipEvent()}).on("complete",function(){e.textStyle.setOffsetY(0)})},bnt=function(e,t,i){var s="x",p;t.on("start",function(){p=e.textStyle.offsetY,e.textStyle.setOffsetX(0)}).on(`+${s}`,function(E){E===void 0&&(E=p),e.textStyle.setOffsetX(E),t.skipEvent()}).on(`-${s}`,function(){e.textStyle.setOffsetX(0),t.skipEvent()}).on("complete",function(){e.textStyle.setOffsetX(0)})},Mnt=function(e,t,i){var s="left",p;t.on("start",function(){p=e.textStyle.leftSpace,e.textStyle.setLeftSpace(0)}).on(`+${s}`,function(E){E===void 0&&(E=p),e.textStyle.setLeftSpace(E),t.skipEvent()}).on(`-${s}`,function(){e.textStyle.setLeftSpace(0),t.skipEvent()}).on("complete",function(){e.textStyle.setLeftSpace(0)})},wnt=function(e,t,i){var s="right",p;t.on("start",function(){p=e.textStyle.rightSpace,e.textStyle.setRightSpace(0)}).on(`+${s}`,function(E){E===void 0&&(E=p),e.textStyle.setRightSpace(E),t.skipEvent()}).on(`-${s}`,function(){e.textStyle.setRightSpace(0),t.skipEvent()}).on("complete",function(){e.textStyle.setRightSpace(0)})},Rnt=function(e,t,i){var s="shadow",p;t.on("start",function(){p=e.textStyle.shadowColor,e.textStyle.setShadowColor(null)}).on(`+${s}`,function(E){E===void 0&&(E=p),e.textStyle.setShadowColor(E),t.skipEvent()}).on(`-${s}`,function(){e.textStyle.setShadowColor(null),t.skipEvent()}).on("complete",function(){e.textStyle.setShadowColor(p)})},Ant=function(e,t,i){var s="align";t.on(`+${s}`,function(p){e.textStyle.setAlign(p),t.skipEvent()}).on(`-${s}`,function(){e.textStyle.setAlign(),t.skipEvent()}).on("complete",function(){e.textStyle.setAlign()})},Ont=function(e,t,i){var s="img";t.on(`+${s}`,function(p){var E=e.imageManager.get(p);E&&q9.call(e,E.key,E.frame,{width:E.width,hieght:E.height,leftSpace:E.left,rightSpace:E.right,color:E.tintFill?e.textStyle.color:void 0}),t.skipEvent()}).on(`-${s}`,function(){t.skipEvent()})},Lnt=function(e,t,i){var s="space";t.on(`+${s}`,function(p){_9.call(e,p),t.skipEvent()}).on(`-${s}`,function(){t.skipEvent()})},Dnt=function(e,t,i){var s="speed";t.on(`+${s}`,function(p){cI(e,p),t.skipEvent()}).on(`-${s}`,function(){cI(e,void 0),t.skipEvent()})},Fnt=function(e){this.typeWriter.setTypingSpeed(e)},cI=function(e,t){Se.call(e,"speed",Fnt,t,e)},Int=function(e,t,i){var s="se";t.on(`+${s}`,function(p,E){Se.call(e,s,Bnt,[p,E],e),t.skipEvent()}).on(`-${s}`,function(){t.skipEvent()});var s="se2";t.on(`+${s}`,function(p,E){Se.call(e,s,Gnt,[p,E],e),t.skipEvent()}).on(`-${s}`,function(){t.skipEvent()})},Bnt=function(e){if(!this.skipSoundEffect){var t=e[0],i=e[1];this.soundManager.playSoundEffect(t),i&&this.soundManager.fadeInSoundEffect(i)}},Gnt=function(e){if(!this.skipSoundEffect){var t=e[0],i=e[1];this.soundManager.playSoundEffect2(t),i&&this.soundManager.fadeInSoundEffect2(i)}},knt=function(e,t,i){var s="se.fadein";t.on(`+${s}`,function(p){Se.call(e,s,Nnt,p,e),t.skipEvent()}).on(`-${s}`,function(){t.skipEvent()});var s="se2.fadein";t.on(`+${s}`,function(p){Se.call(e,s,Unt,p,e),t.skipEvent()}).on(`-${s}`,function(){t.skipEvent()})},Nnt=function(e){this.soundManager.fadeInSoundEffect(e)},Unt=function(e){this.soundManager.fadeInSoundEffect2(e)},Vnt=function(e,t,i){var s="se.fadeout";t.on(`+${s}`,function(p,E){E=E==="stop",Se.call(e,s,znt,[p,E],e),t.skipEvent()}).on(`-${s}`,function(){t.skipEvent()});var s="se2.fadeout";t.on(`+${s}`,function(p,E){E=E==="stop",Se.call(e,s,Wnt,[p,E],e),t.skipEvent()}).on(`-${s}`,function(){t.skipEvent()})},znt=function(e){this.soundManager.fadeOutSoundEffect(...e)},Wnt=function(e){this.soundManager.fadeOutSoundEffect2(...e)},Ynt=function(e,t,i){var s="se.volume";t.on(`+${s}`,function(p){Se.call(e,s,Xnt,p,e),t.skipEvent()}).on(`-${s}`,function(){t.skipEvent()});var s="se2.volume";t.on(`+${s}`,function(p){Se.call(e,s,Hnt,p,e),t.skipEvent()}).on(`-${s}`,function(){t.skipEvent()})},Xnt=function(e){this.soundManager.setSoundEffectVolume(e,!0)},Hnt=function(e){this.soundManager.setSoundEffectVolume2(e,!0)},$nt=function(e,t,i){var s="se.mute";t.on(`+${s}`,function(){Se.call(e,s,Knt,void 0,e),t.skipEvent()}).on(`-${s}`,function(){t.skipEvent()});var s="se2.mute";t.on(`+${s}`,function(){Se.call(e,s,Znt,void 0,e),t.skipEvent()}).on(`-${s}`,function(){t.skipEvent()});var s="se.unmute";t.on(`+${s}`,function(){Se.call(e,s,Jnt,void 0,e),t.skipEvent()}).on(`-${s}`,function(){t.skipEvent()});var s="se2.unmute";t.on(`+${s}`,function(){Se.call(e,s,jnt,void 0,e),t.skipEvent()}).on(`-${s}`,function(){t.skipEvent()})},Knt=function(){this.soundManager.setSoundEffectMute(!0)},Znt=function(){this.soundManager.setSoundEffect2Mute(!0)},Jnt=function(){this.soundManager.setSoundEffectMute(!1)},jnt=function(){this.soundManager.setSoundEffect2Mute(!1)},Qnt=function(e,t,i){var s="bgm";t.on(`+${s}`,function(p,E){Se.call(e,s,qnt,[p,E],e),t.skipEvent()}).on(`-${s}`,function(){Se.call(e,"bgm.stop",_nt,void 0,e),t.skipEvent()});var s="bgm2";t.on(`+${s}`,function(p,E){Se.call(e,s,tst,[p,E],e),t.skipEvent()}).on(`-${s}`,function(){Se.call(e,"bgm2.stop",est,void 0,e),t.skipEvent()})},qnt=function(e){var t=e[0],i=e[1];this.soundManager.playBackgroundMusic(t),i&&this.soundManager.fadeInBackgroundMusic(i)},_nt=function(){this.soundManager.stopBackgroundMusic()},tst=function(e){var t=e[0],i=e[1];this.soundManager.playBackgroundMusic2(t),i&&this.soundManager.fadeInBackgroundMusic2(i)},est=function(){this.soundManager.stopBackgroundMusic2()},ist=function(e,t,i){var s="bgm.fadein";t.on(`+${s}`,function(p){Se.call(e,s,rst,p,e),t.skipEvent()}).on(`-${s}`,function(){t.skipEvent()});var s="bgm2.fadein";t.on(`+${s}`,function(p){Se.call(e,s,nst,p,e),t.skipEvent()}).on(`-${s}`,function(){t.skipEvent()})},rst=function(e){this.soundManager.fadeInBackgroundMusic(e)},nst=function(e){this.soundManager.fadeInBackgroundMusic2(e)},sst=function(e,t,i){var s="bgm.fadeout";t.on(`+${s}`,function(p,E){E=E==="stop",Se.call(e,s,ast,[p,E],e),t.skipEvent()}).on(`-${s}`,function(){t.skipEvent()});var s="bgm2.fadeout";t.on(`+${s}`,function(p,E){E=E==="stop",Se.call(e,s,ost,[p,E],e),t.skipEvent()}).on(`-${s}`,function(){t.skipEvent()})},ast=function(e){this.soundManager.fadeOutBackgroundMusic(...e)},ost=function(e){this.soundManager.fadeOutBackgroundMusic2(...e)},lst=function(e,t,i){var s="bgm.cross";t.on(`+${s}`,function(p,E){Se.call(e,s,hst,[p,E],e),t.skipEvent()}).on(`-${s}`,function(){t.skipEvent()});var s="bgm2.cross";t.on(`+${s}`,function(p,E){Se.call(e,s,ust,[p,E],e),t.skipEvent()}).on(`-${s}`,function(){t.skipEvent()})},hst=function(e){this.soundManager.crossFadeBackgroundMusic(...e)},ust=function(e){this.soundManager.crossFadeBackgroundMusic2(...e)},fst=function(e,t,i){var s="bgm.pause";t.on(`+${s}`,function(){Se.call(e,s,dst,void 0,e),t.skipEvent()}).on(`-${s}`,function(){Se.call(e,"bgm.resume",cst,void 0,e),t.skipEvent()});var s="bgm2.pause";t.on(`+${s}`,function(){Se.call(e,s,vst,void 0,e),t.skipEvent()}).on(`-${s}`,function(){Se.call(e,"bgm2.resume",pst,void 0,e),t.skipEvent()})},dst=function(){this.soundManager.pauseBackgroundMusic()},cst=function(){this.soundManager.resumeBackgroundMusic()},vst=function(){this.soundManager.pauseBackgroundMusic2()},pst=function(){this.soundManager.resumeBackgroundMusic2()},gst=function(e,t,i){var s="bgm.volume";t.on(`+${s}`,function(p){Se.call(e,s,mst,p,e),t.skipEvent()}).on(`-${s}`,function(){t.skipEvent()});var s="bgm2.volume";t.on(`+${s}`,function(p){Se.call(e,s,yst,p,e),t.skipEvent()}).on(`-${s}`,function(){t.skipEvent()})},mst=function(e){this.soundManager.setBackgroundMusicVolume(e)},yst=function(e){this.soundManager.setBackgroundMusicVolume2(e)},xst=function(e,t,i){var s="bgm.mute";t.on(`+${s}`,function(){Se.call(e,s,Tst,void 0,e),t.skipEvent()}).on(`-${s}`,function(){t.skipEvent()});var s="bgm2.mute";t.on(`+${s}`,function(){Se.call(e,s,Cst,void 0,e),t.skipEvent()}).on(`-${s}`,function(){t.skipEvent()});var s="bgm.unmute";t.on(`+${s}`,function(){Se.call(e,s,Sst,void 0,e),t.skipEvent()}).on(`-${s}`,function(){t.skipEvent()});var s="bgm2.unmute";t.on(`+${s}`,function(){Se.call(e,s,Est,void 0,e),t.skipEvent()}).on(`-${s}`,function(){t.skipEvent()})},Tst=function(){this.soundManager.setBackgroundMusicMute(!0)},Cst=function(){this.soundManager.setBackgroundMusic2Mute(!0)},Sst=function(){this.soundManager.setBackgroundMusicMute(!1)},Est=function(){this.soundManager.setBackgroundMusic2Mute(!1)},Pst=function(e,t,i){var s="camera.fadein";t.on(`+${s}`,function(p,E,n,T){Se.call(e,s,bst,[p,E,n,T],e),t.skipEvent()})},bst=function(e){this.cameraTarget.fadeIn(...e)},Mst=function(e,t,i){var s="camera.fadeout";t.on(`+${s}`,function(p,E,n,T){Se.call(e,s,wst,[p,E,n,T],e),t.skipEvent()})},wst=function(e){this.cameraTarget.fadeOut(...e)},Rst=function(e,t,i){var s="camera.shake";t.on(`+${s}`,function(p,E){Se.call(e,s,Ast,[p,E],e),t.skipEvent()})},Ast=function(e){this.cameraTarget.shake(...e)},Ost=function(e,t,i){var s="camera.flash";t.on(`+${s}`,function(p,E,n,T){Se.call(e,s,Lst,[p,E,n,T],e),t.skipEvent()})},Lst=function(e){this.cameraTarget.flash(...e)},Dst=function(e,t,i){var s="camera.zoom";t.on(`+${s}`,function(p){Se.call(e,s,Fst,p,e),t.skipEvent()}).on(`+${s}.to`,function(p,E,n){Se.call(e,"camera.zoom.to",Ist,[p,E,n],e),t.skipEvent()})},Fst=function(e){this.cameraTarget.setZoom(e)},Ist=function(e){this.cameraTarget.zoomTo(...e)};const vI=Phaser.Math.DegToRad;var Bst=function(e,t,i){var s="camera.rotate";t.on(`+${s}`,function(p){p=vI(p),Se.call(e,s,Gst,p,e),t.skipEvent()}).on(`+${s}.to`,function(p,E,n){p=vI(p),Se.call(e,"camera.rotate.to",kst,[p,E,n],e),t.skipEvent()})},Gst=function(e){this.cameraTarget.setRotation(e)},kst=function(e){var t=e[0],i=e[1],s=e[2];this.cameraTarget.rotateTo(t,!1,i,s)},Nst=function(e,t,i){var s="camera.scroll";t.on(`+${s}`,function(p,E){Se.call(e,s,Ust,[p,E],e),t.skipEvent()}).on(`+${s}.to`,function(p,E,n,T){Se.call(e,"camera.scroll.to",Vst,[p,E,n,T],e),t.skipEvent()})},Ust=function(e){this.cameraTarget.setScroll(...e)},Vst=function(e){var t=e[0],i=e[1],s=e[2],p=e[3],E=this.cameraTarget,n=E.scrollX,T=E.scrollY;E.setScroll(t,i),t+=E.centerX,i+=E.centerY,E.setScroll(n,T),E.pan(t,i,s,p)},zst=function(e,t,i){var s="wait",p="click";t.on(`+${s}`,function(E){pI(e,E),t.skipEvent()}).on(`-${s}`,function(){t.skipEvent()}).on(`+${p}`,function(){pI(e,"click"),t.skipEvent()}).on(`-${p}`,function(){t.skipEvent()})},Wst=function(e){this.typeWriter.wait(e)},pI=function(e,t){Se.call(e,"wait",Wst,t,e)},Yst=function(e,t,i){var s="r";t.on(`+${s}`,function(){Np.call(e,`
`),t.skipEvent()}).on(`-${s}`,function(){t.skipEvent()})},Xst=function(e,t,i){for(var s=["pagebreak","pb"],p=0,E=s.length;p<E;p++){var n=s[p];t.on(`+${n}`,function(){Np.call(e,"\f"),t.skipEvent()}).on(`-${n}`,function(){t.skipEvent()})}},Hst=function(e,t,i){var s="content.off";t.on(`+${s}`,function(){t.setContentOutputEnable(!1),t.skipEvent()})},$st=function(e,t,i){var s="content.on";t.on(`+${s}`,function(){t.setContentOutputEnable(),t.skipEvent()})},Kst=function(e,t,i){t.on("content",function(s){if(t.contentOutputEnable)Np.call(e,s);else{var p=`+${t.lastTagStart}`;e.emit(`parser.${p}#content`,t,s)}})},Zst=function(e,t,i){t.on("start",function(){e.emit("parser.start",t)}).on("+",function(s,...p){if(!t.skipEventFlag){var E=`+${s}`,n=p;e.emit(`parser.${E}`,t,...p,n),gI(e,E,n)}}).on("-",function(s){if(!t.skipEventFlag){var p=`-${s}`,E=[];e.emit(`parser.${p}`,t,E),gI(e,p,E)}}).on("complete",function(){e.emit("parser.complete",t)})},Jst=function(e,t){var i=`tag.${t}`;e==null?this.emit(i):this.emit(i,...e)},gI=function(e,t,i){Se.call(e,t,Jst,i,e)};const mI=[xnt,Tnt,Cnt,Snt,Ent,Rnt,Ant,Pnt,bnt,Mnt,wnt,Ont,Lnt,Dnt,Int,knt,Vnt,Ynt,$nt,Qnt,ist,sst,lst,fst,gst,xst,Pst,Mst,Rst,Ost,Dst,Bst,Nst,zst,Yst,Xst,Hst,$st,Kst,Zst];var jst=function(e,t,i){for(var s=0,p=mI.length;s<p;s++)mI[s](e,t,i)},Qst=function(e,t){for(var i=e.commentLineStart,s=t.split(`
`),p=0,E=s.length;p<E;p++){var n=s[p];n===""||(n.trim().length===0||i&&n.startsWith(i))&&(s[p]="")}return s.join("")};const qst=Phaser.Utils.Objects.GetValue;class _st extends ynt{constructor(t,i){i===void 0&&(i={}),i.hasOwnProperty("delimiters")||(i.delimiters="[]"),super(i),jst(t,this,i),this.setCommentLineStartSymbol(qst(i,"comment","//")),this.setContentOutputEnable()}setCommentLineStartSymbol(t){return this.commentLineStart=t,this}setContentOutputEnable(t){return t===void 0&&(t=!0),this.contentOutputEnable=t,this}start(t){return super.start(Qst(this,t)),this}}const tat={setDefaultTypingSpeed(e){return this.defaultSpeed=e,this},setTypingSpeed(e){return e===void 0&&(e=this.defaultSpeed),this.speed=e,this}},ku="page.fadeout",Hb="_remove.play",yI=[ku,Hb];var eat=function(){if(!this.fadeOutPageCallback||!this.children)return this.emit(ku),this;var e=this.children.filter(function(s){return s.renderable}),t=this.fadeOutPageCallback(e,this.fadeOutPageDuration);if(!t)this.emit(ku);else if(t.once)t.once("complete",function(){this.emit(ku)},this);else if(t.then){var i=this;t.then(function(){i.emit(ku)})}else this.emit(ku);return this},Nx=function(e,t){return new Promise(function(i,s){e.once(t,function(){i()})})},vn=function(e){return Nx(e,"complete")},iat=function(e){return this.children=e,this.index=0,this.isPageTyping=!0,this.onTypeStart&&this.onTypeStart(e),this.typing(),vn(this)};const rat="delay",AG="anim";var OG=function(e){e===void 0&&(e=0);var t=0;for(this.inTypingProcessLoop=!0;this.inTypingProcessLoop;){var i=this.getNextChild();if(!i){this.timeline.isRunning?this.timeline.once("complete",function(){this.isPageTyping=!1,this.emit("complete")},this):(this.isPageTyping=!1,this.emit("complete"));break}if(i.renderable){var s=this.animationConfig;if(s.duration>0){var p=this.timeline.addTimer({name:AG,target:i,duration:s.duration,yoyo:s.yoyo,onStart:s.onStart,onProgress:s.onProgress,onComplete:s.onComplete});this.skipTypingAnimation&&p.seek(1)}else s.onStart&&s.onStart(i,0);this.minSizeEnable&&this.textPlayer.setToMinSize(),this.textPlayer.emit("typing",i);var E=this.nextChild;if(E&&!(this.skipSpaceEnable&&$tt(E))){if(t+=this.speed+e,e=0,t>0){this.typingTimer=this.timeline.addTimer({name:rat,target:this,duration:t,onComplete:function(n,T,r){n.typingTimer=void 0,OG.call(n,r.remainder)}});break}}}else Ktt(i)&&i.exec()}this.minSizeEnable&&this.textPlayer.setToMinSize(),this.inTypingProcessLoop=!1},nat=function(){return this.timeline.pause(),this},sat=function(){return this.timeline.resume(),this},aat=function(){return this.isTypingPaused?this:(this.typingTimer?(this.typingTimer.pause(),this.isTypingPaused=!0):this.inTypingProcessLoop&&(this.inTypingProcessLoop=!1,this.isTypingPaused=!0),this)},oat=function(e){return this.isTypingPaused?(e===void 0&&(e=0),this.typingTimer?(this.isTypingPaused=!1,this.typingTimer.resume(),this.typingTimer.remainder+=e):this.isTypingPaused&&(this.isTypingPaused=!1,this.typing(e)),this):this},lat=function(e){switch(e){case"camera.fadein":case"camera.fadeout":case"camera.flash":case"camera.shake":case"camera.zoom":case"camera.rotate":case"camera.scroll":return!0;default:return!1}},hat=function(e,t){var i=t.split(".");return e.gameObjectManagers.hasOwnProperty(i[0])},uat=function(e,t,i,s){var p=e.waitEventManager,E=t.split("."),n=E[0],T=e.getGameObjectManager(n),r=`wait.${n}`;switch(E.length){case 1:p.waitGameObjectManagerEmpty(n),e.emit(r);return;case 2:var o=E[1];p.waitGameObjectDestroy(n,o),e.emit(r,o);return;case 3:var o=E[1],x=E[2],d=T.getProperty(o,x);if(typeof d=="number"){p.waitGameObjectTweenComplete(n,o,x),e.emit(r,o,x);return}var h=x,l=h.startsWith("!");if(l&&(h=h.substring(1)),T.hasData(o,h)){p.waitGameObjectDataFlag(n,o,h,!l),e.emit(r,o,h);return}else{p.waitTime(0);return}}};const fat=Phaser.Input.Keyboard.KeyCodes;var LG=function(e,t,i,s){var p=e.waitEventManager;p.clearWaitCompleteCallbacks().addWaitCompleteCallback(i,s),typeof t=="string"&&t.length>1&&t.indexOf("|")!==-1?t=t.split("|"):t=[t];for(var E=0,n=t.length;E<n;E++){var T=t[E];if(T==null||T==="wait"){var r=e.waitEventManager.getWaitCompleteTriggerCallback();e.emit("wait",r)}else if(typeof T=="number"||!isNaN(T)){var o=parseFloat(T);p.waitTime(o),e.emit("wait.time",o)}else if(T==="click")p.waitClick(),e.emit("wait.click");else if(T==="se"){p.waitSoundEffectComplete();var x=e.soundManager.getLastSoundEffect();e.emit("wait.music",x)}else if(T==="se2"){p.waitSoundEffect2Complete();var x=e.soundManager.getLastSoundEffect2();e.emit("wait.music",x)}else if(T==="bgm"){p.waitBackgroundMusicComplete();var x=e.soundManager.getBackgroundMusic();e.emit("wait.music",x)}else if(T==="bgm2"){p.waitBackgroundMusic2Complete();var x=e.soundManager.getBackgroundMusic2();e.emit("wait.music",x)}else if(fat.hasOwnProperty(T.toUpperCase()))p.waitKeyDown(T),e.emit("wait.keydown",T);else if(lat(T))p.waitCameraEffectComplete(T),e.emit("wait.camera",T);else if(hat(e,T))uat(e,T);else{var r=e.waitEventManager.getWaitCompleteTriggerCallback();e.emit(`wait.${T}`,r)}}},dat=function(e){return this.ignoreWait?this:(this.pauseTyping(),LG(this.textPlayer,e,this.resumeTyping,this),this)},cat=function(e){return e===void 0&&(e=!0),this.ignoreWait=e,this},vat=function(e){return e===void 0&&(e=!0),this.skipSpaceEnable=e,this},pat=function(e){if(e===void 0&&(e=!0),this.skipTypingAnimation=e,e)for(var t=this.timeline.getTimers(AG),i=0,s=t.length;i<s;i++)t[i].seek(1);return this},gat=function(e){if(e===void 0&&(e=!0),this.skipSoundEffect=e,e){var t=this.textPlayer._soundManager;t&&t.fadeOutAllSoundEffects(100,!0)}return this},mat=function(){return this.typingTimer&&this.typingTimer.seek(1),this},DG={fadeOutPage:eat,start:iat,typing:OG,pause:nat,resume:sat,pauseTyping:aat,resumeTyping:oat,wait:dat,setIgnoreWait:cat,setSkipSpaceEnable:vat,setSkipTypingAnimation:pat,setSkipSoundEffect:gat,skipCurrentTypingDelay:mat};Object.assign(DG,tat);const ad=Phaser.Utils.Objects.GetValue;class FG{constructor(t,i){this.setEventEmitter(),this.textPlayer=t,this.isPageTyping=!1,this.typingTimer=void 0,this.pauseTypingTimer=void 0,this.inTypingProcessLoop=!1,this.isTypingPaused=!1,this.setIgnoreWait(!1),this.setSkipTypingAnimation(!1),this.setTypingStartCallback(ad(i,"onTypingStart",xat)),this.setDefaultTypingSpeed(ad(i,"speed",250)),this.setTypingSpeed(),this.setSkipSpaceEnable(ad(i,"skipSpace",!1)),this.setAnimationConfig(ad(i,"animation",void 0)),this.setMinSizeEnable(ad(i,"minSizeEnable",!1)),this.setFadeOutPageCallback(ad(i,"fadeOutPage"))}destroy(){this.destroyEventEmitter(),this.textPlayer=void 0,this.typingTimer=void 0,this.pauseTypingTimer=void 0,this.onTypeStart=void 0,this.animationConfig=void 0}get timeline(){return this.textPlayer.timeline}setTypingStartCallback(t){return this.onTypeStart=t,this}setAnimationConfig(t){return t||(t={}),t.hasOwnProperty("duration")||(t.duration=0),t.hasOwnProperty("onStart")||(t.onStart=yat),this.animationConfig=t,this}setFadeOutPageCallback(t){return this.fadeOutPageCallback=t,this}setMinSizeEnable(t){return t===void 0&&(t=!0),this.minSizeEnable=t,this}getNextChild(){var t=this.nextChild;return this.index=Math.min(this.index+1,this.children.length),this._nextChild=void 0,t}get nextChild(){return this._nextChild||(this._nextChild=this.children[this.index]),this._nextChild}}var yat=function(e){e.setVisible&&e.setVisible()},xat=function(e){for(var t=0,i=e.length;t<i;t++){var s=e[t];s.setVisible&&s.setVisible(!1)}};Object.assign(FG.prototype,Up,DG);class Tat extends qM{playAnimation(t){return this.gameObject.anims.timeScale=this.timeScale,this.gameObject.play(t),this}stopAnimation(){return this.gameObject.stop(),this}chainAnimation(t){return this.gameObject.chain(t),this}pauseAnimation(){return this.gameObject.anims.pause(),this}setTimeScale(t){return super.setTimeScale(t),this.gameObject.anims&&(this.gameObject.anims.timeScale=t),this}}const Cat={playAnimation(e,t){return this.has(e)||this.add(e),this.get(e).playAnimation(t),this},stopAnimation(e){return this.has(e)?(this.get(e).stopAnimation(),this):this},chainAnimation(e,t){return this.has(e)?(this.get(e).chainAnimation(t),this):this},pauseAnimation(e){return this.has(e)?(this.get(e).pauseAnimation(),this):this}};var IG={};Object.assign(IG,Cat);var BG=function(e){return!e||e==="sprite"?e=Sat:e==="image"&&(e=Eat),e},Sat=function(e,t,i){return typeof i!="string"&&typeof i!="number"&&(i=void 0),e.add.sprite(0,0,t,i)},Eat=function(e,t,i){return typeof i!="string"&&typeof i!="number"&&(i=void 0),e.add.image(0,0,t,i)};class GG extends $d{constructor(t,i){i===void 0&&(i={}),i.BobClass=Tat,super(t,i)}setCreateGameObjectCallback(t,i){return t=BG(t),super.setCreateGameObjectCallback(t,i),this}}Object.assign(GG.prototype,IG);var xI=function(e,t){return e.length===3&&e[0]===t&&e[2]==="play"},Pat=function(e,t){return e.length===3&&e[0]===t&&e[2]==="stop"},bat=function(e,t,i){var s=i.name;t.on("+",function(p,...E){if(!t.skipEventFlag){var n=p.split("."),T;if(xI(n,s))T=n[1];else return;Se.call(e,`${s}.play`,Mat,[s,T,E],e),t.skipEvent()}}).on("+",function(p){if(!t.skipEventFlag){var E=p.split("."),n;if(Pat(E,s))n=E[1];else return;Se.call(e,`${s}.stop`,TI,[s,n],e),t.skipEvent()}}).on("-",function(p){if(!t.skipEventFlag){var E=p.split("."),n;if(xI(E,s))n=E[1];else return;Se.call(e,`${s}.stop`,TI,[s,n],e),t.skipEvent()}})},Mat=function(e){var t,i,s;[t,i,s]=e;var p=s.shift(),E=this.getGameObjectManager(t);E.playAnimation(i,p),s.length>0&&E.chainAnimation(i,s)},TI=function(e){var t,i;[t,...i]=e;var s=this.getGameObjectManager(t);s.stopAnimation(...i)},wat=function(e,t){return e.length===3&&e[0]===t&&e[2]==="pause"},Rat=function(e,t,i){var s=i.name;t.on("+",function(p){if(!t.skipEventFlag){var E=p.split("."),n;if(wat(E,s))n=E[1];else return;Se.call(e,`${s}.pause`,Aat,[s,n],e),t.skipEvent()}})},Aat=function(e){var t,i;[t,...i]=e;var s=this.getGameObjectManager(t);s.pauseAnimation(...i)},Oat=function(e,t){return e.length===3&&e[0]===t&&e[2]==="chain"},Lat=function(e,t,i){var s=i.name;t.on("+",function(p){if(!t.skipEventFlag){var E=p.split("."),n;if(Oat(E,s))n=E[1];else return;var T=Array.prototype.slice.call(arguments,1);Se.call(e,`${s}.chain`,Dat,[s,n,T],e),t.skipEvent()}})},Dat=function(e){var t,i;[t,...i]=e;var s=this.getGameObjectManager(t);s.chainAnimation(...i)};const Fat=[bat,Rat,Lat];var Iat=function(e){e===void 0&&(e={}),e.name="sprite",e.parseCallbacks=Fat,e.createGameObject=BG(e.createGameObject),this.addGameObjectManager(e,GG)},CI=function(e,t){return e.length===2&&e[0]===t},Bat=function(e,t,i){var s=i.name;t.on("+",function(p,...E){if(!t.skipEventFlag){var n=p.split("."),T;if(CI(n,s))T=n[1];else return;Se.call(e,`${s}.add`,Gat,[s,T,...E],e),t.skipEvent()}}).on("-",function(p){if(!t.skipEventFlag){var E=p.split("."),n;if(CI(E,s))n=E[1];else return;Se.call(e,`${s}.remove`,kat,[s,n],e),t.skipEvent()}})},Gat=function(e){var t,i;[t,...i]=e;var s=this.getGameObjectManager(t);s.add(...i)},kat=function(e){var t,i;[t,...i]=e;var s=this.getGameObjectManager(t);s.remove(...i)},Nat=function(e,t,i){var s=i.name;t.on("-",function(p){t.skipEventFlag||p===s&&(Se.call(e,`${s}.removeall`,Uat,s,e),t.skipEvent())})},Uat=function(e){var t=this.getGameObjectManager(e);t.removeAll()},Vat=function(e,t){return e.length===3&&e[0]===t},zat=function(e,t,i){var s=i.name;t.on("+",function(p,...E){if(!t.skipEventFlag){var n=p.split("."),T,r;if(Vat(n,s))T=n[1],r=n[2];else return;Se.call(e,`${s}.call`,Wat,[s,T,r,...E],e),t.skipEvent()}})},Wat=function(e){var t,i,s,p;[t,i,s,...p]=e;var E=`${t}.${s}`;if(this.emit(E,i,...p),!(this.listenerCount(E)>0)){var n=this.getGameObjectManager(t);n.hasMethod(i,s)?n.call(i,s,...p):n.setProperty(i,s,p[0])}},Yat={to:!0,yoyo:!0,from:!0,toLeft:!0,toRight:!0,toUp:!0,toDown:!0,yoyoLeft:!0,yoyoRight:!0,yoyoUp:!0,yoyoDown:!0,fromLeft:!0,fromRight:!0,fromUp:!0,fromDown:!0},Xat=function(e,t){return e.length===4&&e[0]===t&&Yat[e[3]]},Hat=function(e,t,i){var s=i.name;e.getGameObjectManager(s),t.on("+",function(p,E,n,T,r){if(!t.skipEventFlag){var o=p.split("."),x,d,h;if(Xat(o,s))x=o[1],d=o[2],h=o[3];else return;typeof T=="number"&&(r=T,T=void 0),Se.call(e,`${s}.ease`,$at,[s,x,d,E,n,T,r,h],e),t.skipEvent()}})},$at=function(e){var t,i,s,p,E,n,T,r;[t,i,s,p,E,n,T,r]=e;var o=this.getGameObjectManager(t),x=o.getProperty(i,s);if(typeof x=="number"){r.endsWith("Left")||r.endsWith("Up")?r.startsWith("to")||r.startsWith("yoyo")?p=x-p:r.startsWith("from")&&(o.setProperty(i,s,x-p),p=x):r.endsWith("Right")||r.endsWith("Down")?r.startsWith("to")||r.startsWith("yoyo")?p=x+p:r.startsWith("from")&&(o.setProperty(i,s,x+p),p=x):r==="from"&&(o.setProperty(i,s,p),p=x);var d=r.startsWith("yoyo");o.easeProperty(i,{property:s,value:p,duration:E,ease:n,repeat:T,yoyo:d})}};const SI=[Bat,Nat,zat,Hat],Kat=PG.addGameObjectManager,Zat={addGameObjectManager(e,t){e=e?Na(e):{};var i=e.name;i||console.warn("[TextPlayer] Parameter 'name' is required in addGameObjectManager(config) method");var s=e.defaultLayer,p=e.createGameObject,E=this.layerManager;e.createGameObject=function(o,...x){var d=p.call(this,o,...x);return s&&E&&E.addToLayer(s,d),d},Kat.call(this,e,t);var n=e.parseCallbacks;n?n=[...n,...SI]:n=SI;for(var T=0,r=n.length;T<r;T++)n[T](this,this.parser,e);return this}};var Jat=function(e){return this.waitEventManager.setClickTarget(e),this},jat=function(e){return this.waitEventManager.setCameraTarget(e),this},Qat=function(e){var t=this;e?typeof e=="function"?this.nextPageInput=function(i,s){var p=t.waitEventManager;p.clearWaitCompleteCallbacks().addWaitCompleteCallback(i,s);var E=p.getWaitCompleteTriggerCallback();e.call(t,E)}:this.nextPageInput=function(i,s){LG(t,e,i,s)}:this.nextPageInput=null},qat=function(e,t){return this.imageManager.add(e,t),this};const _at={play(e){return this.isPlaying?this:(this.removeChildren(),this.parser.start(e),this.isPlaying=!0,this.once("complete",function(){this.isPlaying=!1},this),this.lastWrapResult=void 0,this.typingNextPage(),this)},playPromise(e){var t=vn(this);return this.play(e),t}};var $b=function(){return!this.isPlaying||this.isPageTyping?this:(this.typeWriter.once(ku,tot,this).fadeOutPage(),this)},tot=function(){var e=this.runWrap(this.lastWrapResult);this.lastWrapResult=e,this.emit("page.start");var t=function(){this.emit(Hb),e.isLastPage?this.emit("complete"):(this.emit("page.complete"),this.ignoreNextPageInput?$b.call(this):this.nextPageInput&&this.nextPageInput($b,this))};this.once(Hb,function(){this.typeWriter.off("complete",t,this)},this),this.typeWriter.once("complete",t,this).start(e.children)};const eot={pauseTyping(){return this.typeWriter.pauseTyping(),this},pause(){return this.pauseTyping(),this.timeline.pause(),this}},iot={resumeTyping(e){return this.typeWriter.resumeTyping(e),this},resume(){return this.resumeTyping(),this.timeline.resume(),this}};var rot=function(e){return this.typeWriter.wait(e),this};const not={setDefaultTypingSpeed(e){return this.defaultTypingSpeed=e,this},setTypingSpeed(e){return this.typingSpeed=e,this}};var sot=function(e){return this.typeWriter.setIgnoreWait(e),this},aot=function(e){return e===void 0&&(e=!0),this.ignoreNextPageInput=e,this},oot=function(){if(!this.isPlaying||!this.isPageTyping)return this;var e=this.typeWriter.speed,t=this.typeWriter.ignoreWait,i=this.typeWriter.skipTypingAnimation,s=this.typeWriter.skipSoundEffect;return this.typeWriter.once("complete",function(){this.typeWriter.setTypingSpeed(e).setIgnoreWait(t).setSkipTypingAnimation(i).setSkipSoundEffect(s)},this).setTypingSpeed(0).skipCurrentTypingDelay().setIgnoreWait(!0).setSkipTypingAnimation(!0).setSkipSoundEffect(!0),this};const lot={getSprite(e){return this.getGameObject("sprite",e)},addSprite(e,t){return this.addGameObject("sprite",e,t),this}},hot={setContentOutputEnable(e){return this.parser.setContentOutputEnable(e),this},setContentCallback(e,t){return this.contentCallback=e,this.contentCallbackScope=t,this}};var kG={setClickTarget:Jat,setCameraTarget:jat,setNextPageInput:Qat,addImage:qat,typingNextPage:$b,wait:rot,setIgnoreWait:sot,setIgnoreNextPageInput:aot,showPage:oot};Object.assign(kG,Zat,_at,eot,iot,not,lot,hot);var uot=function(e){for(var t=0,i=yI.length;t<i;t++)e.emit(yI[t])};const EI=Phaser.Utils.Objects.IsPlainObject,od=Phaser.Utils.Objects.GetValue;class iw extends fnt(_d){constructor(t,i,s,p,E,n){EI(i)?n=i:EI(p)&&(n=p),n===void 0&&(n={});var T=n.text;delete n.text,super(t,i,s,p,E,n),this.type="rexTextPlayer",this.initManagers(t,n),this.parser=new _st(this,od(n,"parser",void 0)),this.typeWriter=new FG(this,od(n,"typing",void 0)),this._imageManager=void 0;var r=od(n,"images",void 0);r&&this.addImage(r);var o=od(n,"sprites");o!==!1&&o!==null&&Iat.call(this,o),this.setIgnoreNextPageInput(od(n,"ignoreNextPageInput",!1)),this.setNextPageInput(od(n,"nextPageInput",null)),this.isPlaying=!1,T&&this.play(T)}get imageManager(){return this._imageManager===void 0&&(this._imageManager=new $M(this.scene)),this._imageManager}get spriteManager(){return this.getGameObjectManager("sprite")}destroy(t){!this.scene||this.ignoreDestroy||(uot(this),this.parser.destroy(),this.parser=void 0,this.typeWriter.destroy(t),this.typeWriter=void 0,this._imageManager&&this._imageManager.destroy(t),this._imageManager=void 0,this.destroyManagers(t),super.destroy(t))}get isPageTyping(){return this.typeWriter.isPageTyping}set defaultTypingSpeed(t){this.typeWriter.setDefaultTypingSpeed(t)}get defaultTypingSpeed(){return this.typeWriter.defaultTypingSpeed}set typingSpeed(t){this.typeWriter.setTypingSpeed(t)}get typingSpeed(){return this.typeWriter.speed}set timeScale(t){this.setTimeScale(t)}get timeScale(){return this.getTimeScale()}}Object.assign(iw.prototype,kG);It.register("textPlayer",function(e,t,i,s,p){var E=new iw(this.scene,e,t,i,s,p);return this.scene.add.existing(E),E});Lt(window,"RexPlugins.UI.TextPlayer",iw);const NG={maxLength:["maxLength",void 0],minLength:["minLength",void 0],readOnly:["readOnly",!1]},UG={direction:["direction",void 0]};var mh=function(e,t,i){if(typeof i=="string")e.hasOwnProperty(i)&&(t[i]=e[i]);else{var s=i;if(Array.isArray(s))for(var p=0,E=s.length;p<E;p++)mh(e,t,s[p]);else for(var i in s)mh(e,t,i)}},fot=function(e){e===void 0&&(e={});var t={};return mh(e,t,"inputType"),mh(e,t,"type"),mh(e,t,"style"),mh(e,t,UG),mh(e,t,NG),t},rw=function(e,t,i,s,p){if(t)return!(i&&!i(e,t)||!PI(e,t)||s&&!s(e,t));p===void 0&&(p=!1);for(var E=e.scene.input.manager,n=E.pointersTotal,T=E.pointers,t,r=0;r<n;r++)if(t=T[r],!(i&&!i(e,t))&&PI(e,t)&&!(s&&!s(e,t)))return p?t:!0;return!1},PI=function(e,t){for(var i=e.scene,s=i.input.cameras.getCamerasBelowPointer(t),p=i.input.manager,E=[e],n=0,T=s.length;n<T;n++)if(p.hitTest(t,E,s[n],$0),$0.length>0)return $0.length=0,!0;return $0.length=0,!1},$0=[],Id=void 0,dot=function(e){e!==Id&&(Id!==void 0&&Id.close(),Id=e)},cot=function(e){e===Id&&(Id=void 0)};const vot=Phaser.Utils.Objects.GetValue;var ix=function(e,t,i){i===void 0&&(i={});var s,p;for(var E in e)s=e[E],p=vot(t,E,s[1]),p!==void 0&&(i[s[0]]=p);return i},VG=function(e){e.addEventListener("touchstart",ld,!1),e.addEventListener("touchmove",ld,!1),e.addEventListener("touchend",ld,!1),e.addEventListener("mousedown",ld,!1),e.addEventListener("mouseup",ld,!1),e.addEventListener("mousemove",ld,!1)},ld=function(e){e.stopPropagation()},zG=function(){return this.close(),this.emit("keydown-ENTER",this.parent,this),this},pot=function(){this.isOpened=!0,this.initText(),this.enterCloseEnable&&this.scene.input.keyboard.once("keydown-ENTER",zG,this),this.scene.sys.events.on("postupdate",this.updateText,this),this.clickOutSideTarget?(vG.call(this.clickOutSideTarget,this.parent),cG.call(this.clickOutSideTarget,this.parent),this.clickOutSideTarget.setInteractive().on("pointerdown",this.onClickOutside,this)):this.scene.input.on("pointerdown",this.onClickOutside,this),this.onOpenCallback&&this.onOpenCallback(this.parent,this),this.emit("open",this)},got=function(e){if(e){var t=e.parentElement;t&&t.removeChild(e)}},mot=function(){this.isOpened=!1,this.updateText(),this.enterCloseEnable&&this.scene.input.keyboard.off("keydown-ENTER",zG,this),this.scene.sys.events.off("postupdate",this.updateText,this),this.clickOutSideTarget?this.clickOutSideTarget.disableInteractive().off("pointerdown",this.onClickOutside,this):this.scene.input.off("pointerdown",this.onClickOutside,this),this.onCloseCallback&&this.onCloseCallback(this.parent,this),got(this.node),this.node=void 0,this.emit("close",this)};const sP=Phaser.Utils.Objects.GetValue;var yot=function(e,t){var i,s=sP(t,"inputType",void 0);s===void 0&&(s=sP(t,"type","text")),s==="textarea"?(i=document.createElement("textarea"),i.style.resize="none"):(i=document.createElement("input"),i.type=s);var p=sP(t,"style",void 0),E=i.style;ix(UG,p,E),E.position="absolute",E.opacity=0,E.pointerEvents="none",E.zIndex=0,E.transform="scale(0)",ix(NG,t,i),VG(i);var n=e.scene.sys.scale,T=n.isFullscreen?n.fullscreenTarget:document.body;return T.appendChild(i),i.addEventListener("focus",function(r){pot.call(e)}),i.addEventListener("blur",function(r){mot.call(e)}),i},xot=function(){return this.isOpened?this:this.readOnly?this:(dot(this),this.node||(this.node=yot(this,this.nodeConfig)),this.setFocus(),this)},Tot=function(){return this.isOpened?(cot(this),this.setBlur(),this):this},Cot={open:xot,close:Tot};const sl=Phaser.Utils.Objects.GetValue;class nw extends ji{constructor(t,i){super(t);var s=sl(i,"inputType",void 0);s===void 0&&(s=sl(i,"type","text")),this.setEnterCloseEnable(sl(i,"enterClose",s!=="textarea"));var p=sl(i,"onOpen",void 0);p||(p=sl(i,"onFocus",void 0)),this.onOpenCallback=p,this.clickOutSideTarget=sl(i,"clickOutSideTarget",void 0);var E=sl(i,"onClose",void 0);E||(E=sl(i,"onBlur",void 0)),this.onCloseCallback=E,this.onUpdateCallback=sl(i,"onUpdate",void 0),this.isOpened=!1,t.on("pointerdown",function(){this.open()},this).setInteractive(),this.nodeConfig=fot(i),this.node=void 0}destroy(){this.close(),this.clickOutSideTarget&&this.clickOutSideTarget.destroy(),super.destroy()}onClickOutside(t){rw(this.parent,t)||this.close()}setEnterCloseEnable(t){return t===void 0&&(t=!0),this.enterCloseEnable=t,this}initText(){}updateText(){}get text(){return this.node?this.node.value:""}set text(t){this.node&&(this.node.value=t)}setText(t){return this.text=t,this}get maxLength(){return this.nodeConfig.maxLength}set maxLength(t){this.nodeConfig.maxLength=t,this.node&&(this.node.maxLength=t)}setMaxLength(t){return this.maxLength=t,this}get minLength(){return this.nodeConfig.minLength}set minLength(t){this.nodeConfig.minLength=t,this.node&&(this.node.minLength=t)}setMinLength(t){return this.minLength=t,this}get placeholder(){return this.node.placeholder}set placeholder(t){this.node&&(this.node.placeholder=t)}setPlaceholder(t){return this.placeholder=t,this}selectText(t,i){return this.node?(t===void 0?this.node.select():this.node.setSelectionRange(t,i),this):this}selectAll(){return this.selectText(),this}get selectionStart(){return this.node?this.node.selectionStart:0}get selectionEnd(){return this.node?this.node.selectionEnd:0}get selectedText(){if(!this.node)return"";var t=this.node;return t.value.substring(t.selectionStart,t.selectionEnd)}get cursorPosition(){return this.node?this.node.selectionStart:0}set cursorPosition(t){this.node&&this.node.setSelectionRange(t,t)}setCursorPosition(t){return t===void 0?t=this.text.length:t<0&&(t=this.text.length+t),this.cursorPosition=t,this}get tooltip(){return this.node?this.node.title:""}set tooltip(t){if(!this.node)return this;this.node.title=t}setTooltip(t){return this.tooltip=t,this}setTextChangedCallback(t){return this.onTextChanged=t,this}get readOnly(){return this.nodeConfig.readOnly}set readOnly(t){this.nodeConfig.readOnly=t,this.node&&(this.node.readOnly=t)}setReadOnly(t){return t===void 0&&(t=!0),this.readOnly=t,this}get spellCheck(){return this.node?this.node.spellcheck:""}set spellCheck(t){this.node&&(this.node.spellcheck=t)}setSpellCheck(t){return this.spellCheck=t,this}get fontColor(){if(this.node)return this.node.style.color}set fontColor(t){this.node&&(this.node.style.color=t)}setFontColor(t){return this.fontColor=t,this}setStyle(t,i){return this.node?(this.node.style[t]=i,this):this}getStyle(t){if(this.node)return this.node.style[t]}scrollToBottom(){return this.node?(this.node.scrollTop=this.node.scrollHeight,this):this}setEnabled(t){return this.node?(t===void 0&&(t=!0),this.node.disabled=!t,this):this}setBlur(){return this.node?(this.node.blur(),this):this}setFocus(){return this.node?(this.node.focus(),this):this}get isFocused(){return this.isOpened}}Object.assign(nw.prototype,Cot);var WG=function(e,t,i){e=e.replace(" ","");var s=i.previousText;if(e===s)return e;if(isNaN(e)){i.emit("nan",e,i),e=s;var p=i.cursorPosition-1;i.setText(e),i.setCursorPosition(p)}else i.previousText=e;return e},Sot=function(e){var t=e.parent,i=e.isOpened?e.selectionStart:null,s=e.isOpened?e.selectionEnd:null,p=e.prevSelectionStart,E=e.prevSelectionEnd;if(!(p===i&&E===s)){var n,T;p===null?(n=i,T=s):i===null?(n=p,T=E):(n=Math.min(p,i),T=Math.max(E,s));for(var r=n;r<T;r++){var o;p===null?o=!1:o=r>=p&&r<E;var x;if(i===null?x=!1:x=r>=i&&r<s,o!==x){var d=t.getCharChild(r);if(d){var h=o?"rangeout":"rangein";t.emit(h,d,r,t)}}}e.prevSelectionStart=i,e.prevSelectionEnd=s}},Eot=function(e){var t=e.parent,i=0,s=t.width,p=0,E=t.height,n=e.drawX,T=e.drawY,r=n+e.drawTLX,o=n+e.drawTRX,x=T+e.drawTLY,d=T+e.drawBLY,h;r<i?h=i-r:o>s?h=s-o:h=0;var l;x<p?l=p-x:d>E?l=E-d:l=0,t._textOX+=h,t._textOY+=l},Pot=function(e){var t=e.parent,i=t.text;e.requestCursorPosition!==null&&(e.setCursorPosition(e.requestCursorPosition),e.requestCursorPosition=null);var s=e.cursorPosition;if(e.prevCursorPosition!==s){if(e.prevCursorPosition!==null&&e.prevCursorPosition>i.length&&(e.prevCursorPosition=null),e.prevCursorPosition!==null){var p=t.getCharChild(e.prevCursorPosition);p&&(p.text===`
`&&p.clearTextSize(),t.emit("cursorout",p,e.prevCursorPosition,t))}if(s!=null){var p=t.getCharChild(s);p&&(p.text===`
`&&p.copyTextSize(t.lastInsertCursor),Eot(p),t.emit("cursorin",p,s,t))}t.emit("movecursor",s,e.prevCursorPosition,t),e.prevCursorPosition=s}},bI=function(e){var t=e.prevSelectionStart;if(t!==null){for(var i=e.prevSelectionEnd,s=e.parent,p=t;p<i;p++){var E=s.getCharChild(p);E&&s.emit("cursorout",E,p,s)}e.prevSelectionStart=null,e.prevSelectionEnd=null}},MI=function(e){var t=e.prevCursorPosition;if(t!==null){var i=e.parent,s=i.getCharChild(t);s&&i.emit("cursorout",s,t,i),e.prevCursorPosition=null}};const bot=Phaser.Utils.Objects.GetValue;let Mot=class extends nw{constructor(t,i){super(t,i),this.setSelectAllWhenFocusEnable(bot(i,"selectAll",!1)),this.cursorMoveStartIndex=null,this.prevCursorPosition=null,this.prevSelectionStart=null,this.prevSelectionEnd=null,this.firstClickAfterOpen=!1,this.requestCursorPosition=null,t.on("pointerdown",function(s,p,E,n){var T=t.getNearestChild(p,E),r=t.getCharIndex(T);(!this.selectAllWhenFocus||!this.firstClickAfterOpen)&&this.setCursorPosition(r),this.cursorMoveStartIndex=r,this.firstClickAfterOpen=!1},this).on("pointermove",function(s,p,E,n){if(s.isDown){var T=t.getNearestChild(p,E),r=t.getCharIndex(T);this.cursorMoveStartIndex<r?this.selectText(this.cursorMoveStartIndex,r+1):this.selectText(r,this.cursorMoveStartIndex+1)}},this),this.on("open",function(){this.selectAllWhenFocus&&this.selectAll(),this.firstClickAfterOpen=!0,t.emit("open")},this).on("close",function(){t.emit("close")}).on("keydown-ENTER",function(){t.emit("keydown-ENTER")})}initText(){var t=this.parent;return this.prevCursorPosition=null,this.setText(t.text),this}updateText(){var t=this.parent,i=this.text;if(this.onUpdateCallback){var s=this.onUpdateCallback(i,t,this);s!=null&&(i=s)}return t.text!==i&&t.setText(i),this.isOpened?this.selectionStart!==this.selectionEnd?(MI(this),Sot(this)):(bI(this),Pot(this)):(bI(this),MI(this)),this}setNumberInput(){return this.onUpdateCallback=WG,this}setSelectAllWhenFocusEnable(t){return t===void 0&&(t=!0),this.selectAllWhenFocus=t,this}setRequestCursorPosition(t){return this.isOpened?(this.requestCursorPosition=t,this):this}};const wot=Phaser.Utils.Objects.GetValue,Rot=["inputType","onOpen","clickOutSideTarget","onFocus","onClose","onBlur","onUpdate","enterClose","readOnly","maxLength","minLength","selectAll"];var Aot=function(e,t){var i=wot(t,"edit");return i===void 0&&(i={}),mh(t,i,Rot),new Mot(e,i)},fl=function(e,t){if(!e||typeof e=="number")return!1;if(e.hasOwnProperty(t))return!0;if(t.indexOf(".")!==-1){for(var i=t.split("."),s=e,p=0;p<i.length;p++)if(s.hasOwnProperty(i[p]))s=s[i[p]];else return!1;return!0}else return!1},Kb=function(e){if(e.parentContainer)return Kb(e.parentContainer);var t=dG(e);return t?Kb(t):e},Oot=function(e){for(var t=Kb(e).cameraFilter,i=e.scene.sys.cameras.cameras,s,p,E=0,n=i.length;E<n;E++)if(s=i[E],p=(t&s.id)>0,!p)return s;return null};class YG extends ji{constructor(t,i){super(t),this.targetCamera=void 0,this.boot()}boot(){this.scene.sys.events.on("prerender",this.resize,this)}destroy(){this.scene&&(this.scene.sys.events.off("prerender",this.resize,this),super.destroy())}resize(){var t=this.scene,i=this.parent,s=Oot(i);if(s){i.setScrollFactor(0).setOrigin(.5);var p=t.sys.scale.gameSize,E=p.width,n=p.height,T=1/s.zoom,r=E/2,o=n/2,x=E*T,d=n*T;(i.x!==r||i.y!==o)&&i.setPosition(r,o),(i.width!==x||i.height!==d)&&i.setSize(x,d)}}}const Lot=Phaser.GameObjects.Zone;let sw=class extends Lot{constructor(t){super(t,0,0,2,2),this.fullWindow=new YG(this)}};var Dot=function(e,t){var i=!t.textArea;if(!fl(t,"wrap.vAlign")){var s=i?"center":"top";Lt(t,"wrap.vAlign",s)}if(fl(t,"wrap.wrapMode")||Lt(t,"wrap.wrapMode","char"),!fl(t,"wrap.maxLines")){var s=i?1:void 0;Lt(t,"wrap.maxLines",s)}if(i&&Lt(t,"wrap.wrapWidth",1/0),fl(t,"wrap.useDefaultTextHeight")||Lt(t,"wrap.useDefaultTextHeight",!0),t.edit||(t.edit={}),!fl(t.edit,"inputType")){var s=i?"text":"textarea";Lt(t.edit,"inputType",s)}if(t.clickOutSideTarget===!0){var p=new sw(e);e.add.existing(p),t.clickOutSideTarget=p}return t},$y=function(e,t,i,s){if(i===void 0&&(i="."),s===void 0&&(s={}),!e)return s;if(t in e)return Object.assign(s,e[t]);t+=i;for(var p in e)p.startsWith(t)&&(s[p.replace(t,"")]=e[p]);return s},Fot=function(){var e=this.scene.input.keyboard;this.textEdit.on("open",function(){e.on("keydown-UP",this.cursorMoveUp,this).on("keydown-DOWN",this.cursorMoveDown,this)},this).on("close",function(){e.off("keydown-UP",this.cursorMoveUp,this).off("keydown-DOWN",this.cursorMoveDown,this)},this)},Ux=function(e,t,i){if(i===void 0&&(i={}),Array.isArray(t))for(var s,p=0,E=t.length;p<E;p++)s=t[p],i[s]=e[s];else for(var s in t)i[s]=e[s];return i},Wp=function(e,t){for(var i in e)if(!(i in t)||e[i]!==t[i])return!1;for(var i in t)if(!(i in e))return!1;return!0},Iot=function(e){Vp(e)||this.setCursorStyle(e).on("cursorin",function(t){var i=this.cursorStyle,s=Ux(t.style,i);Wp(i,s)||(t.styleSave=s,t.modifyStyle(i))},this).on("cursorout",function(t){t.styleSave&&(t.modifyStyle(t.styleSave),t.styleSave=void 0)},this)},Bot=function(e){Vp(e)||this.setRangeStyle(e).on("rangein",function(t){var i=this.rangeStyle,s=Ux(t.style,i);Wp(i,s)||(t.styleSave=s,t.modifyStyle(i))},this).on("rangeout",function(t){t.styleSave&&(t.modifyStyle(t.styleSave),t.styleSave=void 0)},this)},Got=function(e){Vp(e)||this.setFocusStyle(e).on("open",function(){var t=this.background,i=this.focusStyle,s=Ux(t,i);Wp(i,s)||(t.styleSave=s,t.modifyStyle(i))},this).on("close",function(){var t=this.background;t.styleSave&&(t.modifyStyle(t.styleSave),t.styleSave=void 0)},this)},kot=function(e){var t=e.createCharChild("|");return t.text="",t};function yl(){}yl.prototype={diff(e,t,i={}){let s=i.callback;typeof i=="function"&&(s=i,i={}),this.options=i;let p=this;function E(l){return s?(setTimeout(function(){s(void 0,l)},0),!0):l}e=this.castInput(e),t=this.castInput(t),e=this.removeEmpty(this.tokenize(e)),t=this.removeEmpty(this.tokenize(t));let n=t.length,T=e.length,r=1,o=n+T;i.maxEditLength&&(o=Math.min(o,i.maxEditLength));let x=[{newPos:-1,components:[]}],d=this.extractCommon(x[0],t,e,0);if(x[0].newPos+1>=n&&d+1>=T)return E([{value:this.join(t),count:t.length}]);function h(){for(let l=-1*r;l<=r;l+=2){let a,f=x[l-1],c=x[l+1],u=(c?c.newPos:0)-l;f&&(x[l-1]=void 0);let v=f&&f.newPos+1<n,g=c&&0<=u&&u<T;if(!v&&!g){x[l]=void 0;continue}if(!v||g&&f.newPos<c.newPos?(a=Uot(c),p.pushComponent(a.components,void 0,!0)):(a=f,a.newPos++,p.pushComponent(a.components,!0,void 0)),u=p.extractCommon(a,t,e,l),a.newPos+1>=n&&u+1>=T)return E(Not(p,a.components,t,e,p.useLongestToken));x[l]=a}r++}if(s)(function l(){setTimeout(function(){if(r>o)return s();h()||l()},0)})();else for(;r<=o;){let l=h();if(l)return l}},pushComponent(e,t,i){let s=e[e.length-1];s&&s.added===t&&s.removed===i?e[e.length-1]={count:s.count+1,added:t,removed:i}:e.push({count:1,added:t,removed:i})},extractCommon(e,t,i,s){let p=t.length,E=i.length,n=e.newPos,T=n-s,r=0;for(;n+1<p&&T+1<E&&this.equals(t[n+1],i[T+1]);)n++,T++,r++;return r&&e.components.push({count:r}),e.newPos=n,T},equals(e,t){return this.options.comparator?this.options.comparator(e,t):e===t||this.options.ignoreCase&&e.toLowerCase()===t.toLowerCase()},removeEmpty(e){let t=[];for(let i=0;i<e.length;i++)e[i]&&t.push(e[i]);return t},castInput(e){return e},tokenize(e){return e.split("")},join(e){return e.join("")}};function Not(e,t,i,s,p){let E=0,n=t.length,T=0,r=0;for(;E<n;E++){let x=t[E];if(x.removed){if(x.value=e.join(s.slice(r,r+x.count)),r+=x.count,E&&t[E-1].added){let d=t[E-1];t[E-1]=t[E],t[E]=d}}else{if(!x.added&&p){let d=i.slice(T,T+x.count);d=d.map(function(h,l){let a=s[r+l];return a.length>h.length?a:h}),x.value=e.join(d)}else x.value=e.join(i.slice(T,T+x.count));T+=x.count,x.added||(r+=x.count)}}let o=t[n-1];return n>1&&typeof o.value=="string"&&(o.added||o.removed)&&e.equals("",o.value)&&(t[n-2].value+=o.value,t.pop()),t}function Uot(e){return{newPos:e.newPos,components:e.components.slice(0)}}const Vot=new yl;function zot(e,t,i){return Vot.diff(e,t,i)}const wI=/^[a-zA-Z\u{C0}-\u{FF}\u{D8}-\u{F6}\u{F8}-\u{2C6}\u{2C8}-\u{2D7}\u{2DE}-\u{2FF}\u{1E00}-\u{1EFF}]+$/u,RI=/\S/,XG=new yl;XG.equals=function(e,t){return this.options.ignoreCase&&(e=e.toLowerCase(),t=t.toLowerCase()),e===t||this.options.ignoreWhitespace&&!RI.test(e)&&!RI.test(t)};XG.tokenize=function(e){let t=e.split(/([^\S\r\n]+|[()[\]{}'"\r\n]|\b)/);for(let i=0;i<t.length-1;i++)!t[i+1]&&t[i+2]&&wI.test(t[i])&&wI.test(t[i+2])&&(t[i]+=t[i+2],t.splice(i+1,2),i--);return t};const HG=new yl;HG.tokenize=function(e){let t=[],i=e.split(/(\n|\r\n)/);i[i.length-1]||i.pop();for(let s=0;s<i.length;s++){let p=i[s];s%2&&!this.options.newlineIsToken?t[t.length-1]+=p:(this.options.ignoreWhitespace&&(p=p.trim()),t.push(p))}return t};const Wot=new yl;Wot.tokenize=function(e){return e.split(/(\S.+?[.!?])(?=\s+|$)/)};const Yot=new yl;Yot.tokenize=function(e){return e.split(/([{}:;,]|\s+)/)};const Xot=Object.prototype.toString,Op=new yl;Op.useLongestToken=!0;Op.tokenize=HG.tokenize;Op.castInput=function(e){const{undefinedReplacement:t,stringifyReplacer:i=(s,p)=>typeof p>"u"?t:p}=this.options;return typeof e=="string"?e:JSON.stringify(Zb(e,null,null,i),i,"  ")};Op.equals=function(e,t){return yl.prototype.equals.call(Op,e.replace(/,([\r\n])/g,"$1"),t.replace(/,([\r\n])/g,"$1"))};function Zb(e,t,i,s,p){t=t||[],i=i||[],s&&(e=s(p,e));let E;for(E=0;E<t.length;E+=1)if(t[E]===e)return i[E];let n;if(Xot.call(e)==="[object Array]"){for(t.push(e),n=new Array(e.length),i.push(n),E=0;E<e.length;E+=1)n[E]=Zb(e[E],t,i,s,p);return t.pop(),i.pop(),n}if(e&&e.toJSON&&(e=e.toJSON()),typeof e=="object"&&e!==null){t.push(e),n={},i.push(n);let T=[],r;for(r in e)e.hasOwnProperty(r)&&T.push(r);for(T.sort(),E=0;E<T.length;E+=1)r=T[E],n[r]=Zb(e[r],t,i,s,r);t.pop(),i.pop()}else n=e;return n}const Jb=new yl;Jb.tokenize=function(e){return e.slice()};Jb.join=Jb.removeEmpty=function(e){return e};const Hot=Phaser.Utils.Array.Remove;var $ot=function(e,t){var i=e.text;if(t!==i){if(i==null&&(i=""),Hot(e.children,e.lastInsertCursor),t==="")e.removeChildren();else for(var s=zot(i,t),p=0,E=0,n=s.length;E<n;E++){var T=s[E];T.removed?e.removeText(p,T.count):(T.added&&e.insertText(p,T.value),p+=T.count)}e.children.push(e.lastInsertCursor),e.runWrap(),e.isOpened&&e.textEdit.setText(t),e.emit("textchange",t,e)}};const Kot={setTextOYByPercentage(e){return this.setTextOY(-this.textVisibleHeight*e),this},getTextOYPercentage(){var e=this.textVisibleHeight;return e===0?0:this._textOY/-e},setTextOXByPercentage(e){return this.setTextOX(-this.textVisibleWidth*e),this},getTextOXPercentage(){var e=this.textVisibleWidth;return e===0?0:this._textOX/-e}},K0=Phaser.Math.Clamp;var AI=function(e,t){var i={lineIndex:0,position:0};if(t<0)return i;for(var s=0,p=e.length;s<p;s++){var E=e[s];if(t<=E){i.lineIndex=s;break}t-=E}return i.position=t,i},OI=function(e,t){var i=0,s=t.lineIndex;if(s<0)return i;for(var p=0,E=e.length;p<E;p++){var n=e[p];if(s>p)i+=n;else if(s===p)i+=Math.min(t.position,n);else break}return i};const Zot={cursorMoveLeft(){if(!this.isOpened)return this;var e=K0(this.cursorPosition-1,0,this.inputText.length);return this.setCursorPosition(e),this},cursorMoveRight(){if(!this.isOpened)return this;var e=K0(this.cursorPosition+1,0,this.inputText.length);return this.setCursorPosition(e),this},cursorMoveUp(){if(!this.isOpened)return this;var e=AI(this.characterCountOfLines,this.cursorPosition);e.lineIndex-=1;var t=K0(OI(this.characterCountOfLines,e),0,this.inputText.length);return this.setCursorPosition(t),this},cursorMoveDown(){if(!this.isOpened)return this;var e=AI(this.characterCountOfLines,this.cursorPosition);e.lineIndex+=1;var t=K0(OI(this.characterCountOfLines,e),0,this.inputText.length);return this.setCursorPosition(t),this}},LI=Phaser.Utils.Objects.IsPlainObject;class Yp extends _d{constructor(t,i,s,p,E,n){LI(i)?n=i:LI(p)&&(n=p),n===void 0&&(n={}),Dot(t,n);var T=n.text;T&&delete n.text;var r=$y(n.background,"focus"),o=$y(n.style,"cursor"),x=$y(n.style,"range");super(t,i,s,p,E,n),this.type="rexCanvasInput",this.contentWidth=void 0,this.contentHeight=void 0,this.lineHeight=void 0,this.linesCount=void 0,this.characterCountOfLines=[],this._text,this.textEdit=Aot(this,n),Fot.call(this),n.focusStyle&&Object.assign(r,n.focusStyle),Got.call(this,r),n.cursorStyle&&Object.assign(o,n.cursorStyle),Iot.call(this,o),n.rangeStyle&&Object.assign(x,n.rangeStyle),Vp(x)&&Object.assign(x,o),Bot.call(this,x);var d=n.onAddChar;d&&this.on("addchar",d);var h=n.onCursorIn;h&&this.on("cursorin",h);var l=n.onCursorOut;l&&this.on("cursorout",l);var a=!n.onRangeIn&&!n.onRangeOut,f=a?n.onCursorIn:n.onRangeIn;f&&this.on("rangein",f);var c=a?n.onCursorOut:n.onRangeOut;c&&this.on("rangeout",c);var u=n.onMoveCursor;u&&this.on("movecursor",u),this.setParseTextCallback(n.parseTextCallback),this.lastInsertCursor=kot(this),T||(T=""),this.setText(T)}addChild(t,i){if(super.addChild(t,i),Array.isArray(t))for(var s=t,p=0,E=s.length;p<E;p++){var t=s[p];zu(t)&&this.emit("addchar",t,i+p,this)}else zu(t)&&this.emit("addchar",t,i,this);return this}get text(){return this._text}set text(t){t==null?t="":t=t.toString(),this._text!==t&&($ot(this,t),this._text=t)}setText(t){return this.text=t,this}appendText(t){return this.setText(this.text+t),this}runWrap(t){var i=super.runWrap(t);this.contentWidth=i.maxLineWidth,this.contentHeight=i.linesHeight,this.lineHeight=i.lineHeight,this.linesCount=i.lines.length,this.characterCountOfLines.length=0;for(var s=i.lines,p=0,E=s.length;p<E;p++){for(var n=s[p].children,T=0,r=0,o=n.length;r<o;r++){var x=n[r];x.active&&!x.removed&&zu(x)&&T++}this.characterCountOfLines.push(T)}return i}setSize(t,i){return this.width===t&&this.height===i?this:(super.setSize(t,i),this.runWrap(),this)}get displayText(){return this.text}set displayText(t){this.text=t}setDisplayText(t){return this.displayText=t,this}get inputText(){return this.textEdit.text}set inputText(t){this.textEdit.text=t}setInputText(t){return this.inputText=t,this}setParseTextCallback(t){return t||(t=Jot),this.parseTextCallback=t,this}get value(){return this.parseTextCallback(this.text)}set value(t){this.setText(t)}getValue(){return this.value}setValue(t){return this.value=t,this}get readOnly(){return this.textEdit.readOnly}set readOnly(t){this.textEdit.readOnly=t}setReadOnly(t){return this.textEdit.setReadOnly(t),this}open(t){return t&&this.textEdit.once("close",t),this.textEdit.open(),this}close(){return this.textEdit.close(),this}get isOpened(){return this.textEdit.isOpened}setFocusStyle(t){return this.focusStyle=t,this}setCursorStyle(t){return this.cursorStyle=t,this}setRangeStyle(t){return this.rangeStyle=t,this}setNumberInput(){return this.textEdit.setNumberInput().setSelectAllWhenFocusEnable(),this.parseTextCallback=Number,this}get maxLength(){return this.textEdit.maxLength}set maxLength(t){this.textEdit.maxLength=t}setMaxLength(t){return this.maxLength=t,this}get minLength(){return this.textEdit.minLength}set minLength(t){this.textEdit.minLength=t}setMinLength(t){return this.minLength=t,this}get cursorPosition(){return this.textEdit.cursorPosition}set cursorPosition(t){this.isOpened&&(this.textEdit.cursorPosition=t,this.textEdit.requestCursorPosition=t)}setCursorPosition(t){return this.cursorPosition=t,this}get topTextOY(){return 0}get bottomTextOY(){return-this.tableVisibleHeight}get leftTextOX(){return 0}get rightTextOX(){return-this.textVisibleWidth}get textVisibleHeight(){var t=this.contentHeight-this.height;return t<0&&(t=0),t}get textVisibleWidth(){var t=this.contentWidth-this.width;return t<0&&(t=0),t}set t(t){this.setTextOYByPercentage(t).updateTexture()}get t(){return this.getTextOYPercentage()}set s(t){this.setTextOXByPercentage(t).updateTexture()}get s(){return this.getTextOXPercentage()}}var Jot=function(e){return e};Object.assign(Yp.prototype,Kot,Zot);It.register("canvasInput",function(e,t,i,s,p){var E=new Yp(this.scene,e,t,i,s,p);return this.scene.add.existing(E),E});Lt(window,"RexPlugins.UI.CanvasInput",Yp);var aw=function(e){return Wu(e).loop.delta};const DI=Phaser.Utils.Objects.GetValue,jot=Phaser.Math.Wrap;class $G extends nw{constructor(t,i){i===void 0&&(i={}),i.onUpdate==="number"&&(i.onUpdate=WG),super(t,i),this.setCursor(DI(i,"cursor","|")),this.setCursorFlashDuration(DI(i,"cursorFlashDuration",1e3)),this.cursorFlashTimer=0}initText(){return this.cursorFlashTimer=0,this.prevCursorPosition=void 0,this.setText(this.parent.text),this.setCursorPosition(),this}updateText(){var t=this.parent,i=this.text;if(this.onUpdateCallback){var s=this.onUpdateCallback(i,t,this);s!=null&&(i=s)}if(this.isOpened&&this.hasCursor){var p=this.cursorPosition;i=i.substring(0,p)+this.cursor+i.substring(p),this.prevCursorPosition!==p&&(this.prevCursorPosition=p)}return t.text!==i&&(t.setText(i),this.emit("textchange",i,t,this)),this}setCursor(t){return this._cursor=t,this.hasCursor=t&&t!=="",t}setCursorFlashDuration(t){return this.cursorFlashDuration=t,this}get cursor(){if(!this._isFocused)return this._cursor;var t;this.cursorFlashTimer<this.cursorFlashDuration/2?t=this._cursor:t=" ";var i=this.cursorFlashTimer+aw(this.scene);return this.cursorFlashTimer=jot(i,0,this.cursorFlashDuration),t}}It.register("hiddenEdit",function(e,t){var i=new $G(e,t);return i});Lt(window,"RexPlugins.UI.HiddenEdit",$G);const Qot=Phaser.GameObjects.GetCalcMatrix;var qot=function(e,t,i,s){t.updateData(),i.addToRenderList(t);var p=e.pipelines.set(t.pipeline),E=Qot(t,i,s),n=p.calcMatrix.copyFrom(E.calc),T=t._displayOriginX,r=t._displayOriginY,o=i.alpha*t.alpha;e.pipelines.preBatch(t);for(var x=t.geom,d,h=0,l=x.length;h<l;h++)d=x[h],d.visible&&d.webglRender(p,n,o,T,r);e.pipelines.postBatch(t)};const _ot=Phaser.Renderer.Canvas.SetTransform;var tlt=function(e,t,i,s){t.updateData(),i.addToRenderList(t);var p=e.currentContext;if(_ot(e,p,t,i,s)){for(var E=t._displayOriginX,n=t._displayOriginY,T=t.geom,r,o=0,x=T.length;o<x;o++)r=T[o],r.visible&&r.canvasRender(p,E,n);p.restore()}};const elt={renderWebGL:qot,renderCanvas:tlt},ilt=Phaser.GameObjects.Shape,rlt=Phaser.Utils.Array.Remove;class xl extends ilt{constructor(t,i,s,p,E){i===void 0&&(i=0),s===void 0&&(s=0),p===void 0&&(p=2),E===void 0&&(E=p),super(t,"rexShapes",[]),this._width=-1,this._height=-1,this.dirty=!0,this.isSizeChanged=!0,this.shapes={},this.setPosition(i,s),this.setSize(p,E),this.updateDisplayOrigin()}get width(){return this._width}set width(t){this.setSize(t,this._height)}get height(){return this._height}set height(t){this.setSize(this._width,t)}setDirty(t){return t===void 0&&(t=!0),this.dirty=t,this}setSize(t,i){this.isSizeChanged=this.isSizeChanged||this._width!==t||this._height!==i,this.dirty=this.dirty||this.isSizeChanged,this._width=t,this._height=i,this.updateDisplayOrigin();var s=this.input;return s&&!s.customHitArea&&(s.hitArea.width=t,s.hitArea.height=i),this}resize(t,i){return this.setSize(t,i),this}get fillColor(){return this._fillColor}set fillColor(t){this.setFillStyle(t,this._fillAlpha)}get fillAlpha(){return this._fillAlpha}set fillAlpha(t){this.setFillStyle(this._fillColor,t)}setFillStyle(t,i){return i===void 0&&(i=1),this.dirty=this.dirty||this.fillColor!==t||this.fillAlpha!==i,this._fillColor=t,this._fillAlpha=i,this}get lineWidth(){return this._lineWidth}set lineWidth(t){this.setStrokeStyle(t,this._strokeColor,this._strokeAlpha)}get strokeColor(){return this._strokeColor}set strokeColor(t){this.setStrokeStyle(this._lineWidth,t,this._strokeAlpha)}get strokeAlpha(){return this._strokeAlpha}set strokeAlpha(t){this.setStrokeStyle(this._lineWidth,this._strokeColor,t)}setStrokeStyle(t,i,s){return s===void 0&&(s=1),this.dirty=this.dirty||this.lineWidth!==t||this.strokeColor!==i||this.strokeAlpha!==s,this._lineWidth=t,this._strokeColor=i,this._strokeAlpha=s,this}updateShapes(){}updateData(){if(!this.dirty)return this;this.updateShapes();for(var t=this.geom,i=0,s=t.length;i<s;i++){var p=t[i];p.dirty&&p.updateData()}return this.isSizeChanged=!1,this.dirty=!1,this}clear(){return this.geom.length=0,Eh(this.shapes),this.dirty=!0,this}getShape(t){return this.shapes[t]}getShapes(){return this.geom}addShape(t){this.geom.push(t);var i=t.name;return i&&(this.shapes[i]=t),this.dirty=!0,this}deleteShape(t){var i=this.getShape(t);return i&&(delete this.shapes[t],rlt(this.geom,i)),this}}Object.assign(xl.prototype,elt);const nlt={setBoxFillStyle(e,t){return t===void 0&&(t=1),this.dirty=this.dirty||this.boxFillColor!==e||this.boxFillAlpha!==t,this.boxFillColor=e,this.boxFillAlpha=t,this},setUncheckedBoxFillStyle(e,t){return t===void 0&&(t=1),this.dirty=this.dirty||this.uncheckedBoxFillColor!==e||this.uncheckedBoxFillAlpha!==t,this.uncheckedBoxFillColor=e,this.uncheckedBoxFillAlpha=t,this},setBoxStrokeStyle(e,t,i){return i===void 0&&(i=1),this.dirty=this.dirty||this.boxLineWidth!==e||this.boxStrokeColor!==t||this.boxStrokeAlpha!==i,this.boxLineWidth=e,this.boxStrokeColor=t,this.boxStrokeAlpha=i,this},setUncheckedBoxStrokeStyle(e,t,i){return i===void 0&&(i=1),this.dirty=this.dirty||this.uncheckedBoxLineWidth!==e||this.uncheckedBoxStrokeColor!==t||this.uncheckedBoxStrokeAlpha!==i,this.uncheckedBoxLineWidth=e,this.uncheckedBoxStrokeColor=t,this.uncheckedBoxStrokeAlpha=i,this},setCheckerStyle(e,t){return t===void 0&&(t=1),this.dirty=this.dirty||this.checkerColor!==e||this.checkAlpha!==t,this.checkerColor=e,this.checkAlpha=t,this},setBoxShape(e){return e===void 0&&(e=!1),this.isCircleShape===e?this:(this.isCircleShape=e,this.isSizeChanged=!0,this.dirty=!0,this)}},slt={setBoxSize(e){return this.dirty=this.dirty||this.boxSize!==e,this.boxSize=e,this},setCheckerSize(e){return this.dirty=this.dirty||this.checkerSize!==e,this.checkerSize=e,this}};var alt=function(e,t){return e==null?this.isFilled=!1:(t===void 0&&(t=1),this.isFilled=!0,this.fillColor=e,this.fillAlpha=t),this},olt=function(e,t,i){return e==null||t==null?this.isStroked=!1:(i===void 0&&(i=1),this.isStroked=!0,this.lineWidth=e,this.strokeColor=t,this.strokeAlpha=i),this};const llt={fillStyle:alt,lineStyle:olt};class Vx{constructor(){this.name=void 0,this.dirty=!0,this.visible=!0,this.data=void 0,this.isFilled=!1,this.fillColor=void 0,this.fillAlpha=1,this.isStroked=!1,this.lineWidth=1,this.strokeColor=void 0,this.strokeAlpha=1}setName(t){return this.name=t,this}setVisible(t){return t===void 0&&(t=!0),this.visible=t,this}reset(){return this.setVisible().fillStyle().lineStyle(),this}webglRender(t,i,s,p,E){}canvasRender(t,i,s){}updateData(){this.dirty=!1}}Object.assign(Vx.prototype,llt,Lx);const hlt=Phaser.Geom.Polygon.Earcut;class Xp extends Vx{constructor(){super(),this.pathData=[],this.pathIndexes=[],this.closePath=!1}updateData(){return this.pathIndexes=hlt(this.pathData),super.updateData(),this}webglRender(t,i,s,p,E){this.isFilled&&A9(t,i,this,s,p,E),this.isStroked&&Dx(t,this,s,p,E)}canvasRender(t,i,s){var p=this.pathData,E=p.length-1,n=p[0]-i,T=p[1]-s;t.beginPath(),t.moveTo(n,T),this.closePath||(E-=2);for(var r=2;r<E;r+=2){var o=p[r]-i,x=p[r+1]-s;t.lineTo(o,x)}this.closePath&&t.closePath(),this.isFilled&&(Gp(t,this),t.fill()),this.isStroked&&(kp(t,this),t.stroke())}}const FI=Phaser.Math.DegToRad;class rc extends Xp{constructor(t,i,s,p,E,n,T,r){t===void 0&&(t=0),i===void 0&&(i=0),s===void 0&&(s=0),p===void 0&&(p=0),E===void 0&&(E=0),n===void 0&&(n=360),T===void 0&&(T=!1),r===void 0&&(r=!1),super(),this.setCenterPosition(t,i),this.setRadius(s,p),this.setAngle(E,n,T),this.setPie(r),this.setIterations(32)}get x(){return this._x}set x(t){this.dirty=this.dirty||this._x!==t,this._x=t}get y(){return this._y}set y(t){this.dirty=this.dirty||this._y!==t,this._y=t}setCenterPosition(t,i){return i===void 0&&(i=t),this.x=t,this.y=i,this}get radiusX(){return this._radiusX}set radiusX(t){this.dirty=this.dirty||this._radiusX!==t,this._radiusX=t}get radiusY(){return this._radiusY}set radiusY(t){this.dirty=this.dirty||this._radiusY!==t,this._radiusY=t}setRadius(t,i){return i===void 0&&(i=t),this.radiusX=t,this.radiusY=i,this}get startAngle(){return this._startAngle}set startAngle(t){this.dirty=this.dirty||this._startAngle!==t,this._startAngle=t}get endAngle(){return this._endAngle}set endAngle(t){this.dirty=this.dirty||this._endAngle!==t,this._endAngle=t}get anticlockwise(){return this._anticlockwise}set anticlockwise(t){this.dirty=this.dirty||this._anticlockwise!==t,this._anticlockwise=t}setAngle(t,i,s){return s===void 0&&(s=!1),this.startAngle=t,this.endAngle=i,this.anticlockwise=s,this}get pie(){return this._pie}set pie(t){this.dirty=this.dirty||this._pie!==t,this._pie=t}setPie(t){return t===void 0&&(t=!0),this.pie=t,this}get iterations(){return this._iterations}set iterations(t){this.dirty=this.dirty||this._iterations!==t,this._iterations=t}setIterations(t){return this.iterations=t,this}updateData(){return this.pathData.length=0,this.pie&&this.pathData.push(this.x,this.y),jr(this.x,this.y,this.radiusX,this.radiusY,this.startAngle,this.endAngle,this.anticlockwise,this.iterations,this.pathData),this.pie&&this.pathData.push(this.x,this.y),this.pathData.push(this.pathData[0],this.pathData[1]),super.updateData(),this}canvasRender(t,i,s){t.beginPath();var p=this.x-i,E=this.y-s,n=FI(this.startAngle),T=FI(this.endAngle);this.pie&&(t.moveTo(p,E),t.lineTo(p+Math.cos(n)*this.radiusX,E+Math.sin(n)*this.radiusY)),t.ellipse(p,E,this.radiusX,this.radiusY,0,n,T,this.anticlockwise),this.pie&&t.lineTo(p,E),this.isFilled&&(Gp(t,this),t.fill()),this.isStroked&&(kp(t,this),t.stroke())}}class na extends rc{constructor(t,i,s){super(t,i,s,s,0,360)}}class ult extends Xp{constructor(t){super(),this.setCurve(t),this.setIterations(32)}get curve(){return this._curve}set curve(t){this.dirty=this.dirty||this._curve!==t,this._curve=t}setCurve(t){return this.curve=t,this}get iterations(){return this._iterations}set iterations(t){this.dirty=this.dirty||this._iterations!==t,this._iterations=t}setIterations(t){return this.iterations=t,this}updateData(){this.pathData.length=0;for(var t=this.curve.getPoints(this.iterations),i=0,s=t.length;i<s;i++)this.pathData.push(t[i].x,t[i].y);return this.pathData.push(t[0].x,t[0].y),super.updateData(),this}}class flt extends rc{constructor(t,i,s,p){super(t,i,s,p,0,360)}}class Mh extends Xp{constructor(t,i,s,p){t===void 0&&(t=0),i===void 0&&(i=0),s===void 0&&(s=0),p===void 0&&(p=0),super(),this.setP0(t,i),this.setP1(s,p)}get x0(){return this._x0}set x0(t){this.dirty=this.dirty||this._x0!==t,this._x0=t}get y0(){return this._y0}set y0(t){this.dirty=this.dirty||this._y0!==t,this._y0=t}setP0(t,i){return this.x0=t,this.y0=i,this}get x1(){return this._x1}set x1(t){this.dirty=this.dirty||this._x1!==t,this._x1=t}get y1(){return this._y1}set y1(t){this.dirty=this.dirty||this._y1!==t,this._y1=t}setP1(t,i){return this.x1=t,this.y1=i,this}updateData(){return this.pathData.length=0,this.pathData.push(this.x0,this.y0),this.pathData.push(this.x1,this.y1),this.pathData.push(this.x0,this.y0),super.updateData(),this}}var dlt=function(e,t,i){return i.length=0,e!=null&&i.push(e,t),i};const II=Phaser.Math.Interpolation.QuadraticBezier;var clt=function(e,t,i,s,p,E){for(var n=E.length,T=E[n-2],r=E[n-1],o=1,x=p-1;o<=x;o++){var d=o/x;E.push(II(d,T,e,i),II(d,r,t,s))}return E};const BI=Phaser.Math.Interpolation.CubicBezier;var vlt=function(e,t,i,s,p,E,n,T){for(var r=T.length,o=T[r-2],x=T[r-1],d=1,h=n-1;d<=h;d++){var l=d/h;T.push(BI(l,o,e,i,p),BI(l,x,t,s,E))}return T};const GI=Phaser.Math.Interpolation.CatmullRom;var plt=function(e,t,i){for(var s=i.length,p=i[s-2],E=i[s-1],n=[p],T=[E],r=0,o=e.length;r<o;r+=2)n.push(e[r]),T.push(e[r+1]);for(var r=1,x=t-1;r<=x;r++){var d=r/x;i.push(GI(n,d),GI(T,d))}return i},KG=function(e){var t=e.length;if(t<2)return e;var i=e[t-2],s=e[t-1];return e.push(i),e.push(s),e};const glt={clear(){return this.start(),this},start(){return this.startAt(),this},startAt(e,t){return this.restorePathData(),this.accumulationLengths=void 0,dlt(e,t,this.pathData),this.firstPointX=e,this.firstPointY=t,this.lastPointX=e,this.lastPointY=t,this},lineTo(e,t,i){return i===void 0&&(i=!1),i&&(e+=this.lastPointX,t+=this.lastPointY),Jr(e,t,this.pathData),this.lastPointX=e,this.lastPointY=t,this},verticalLineTo(e,t){return this.lineTo(e,this.lastPointY,t),this},horizontalLineTo(e,t){return this.lineTo(this.lastPointX,e,t),this},ellipticalArc(e,t,i,s,p,E,n){return n===void 0&&(n=!1),jr(e,t,i,s,p,E,n,this.iterations,this.pathData),this.lastPointX=this.pathData[this.pathData.length-2],this.lastPointY=this.pathData[this.pathData.length-1],this},arc(e,t,i,s,p,E){return this.ellipticalArc(e,t,i,i,s,p,E),this},quadraticBezierTo(e,t,i,s){return clt(e,t,i,s,this.iterations,this.pathData),this.lastPointX=i,this.lastPointY=s,this},cubicBezierTo(e,t,i,s,p,E){return vlt(e,t,i,s,p,E,this.iterations,this.pathData),this.lastPointX=p,this.lastPointY=E,this},catmullRomTo(...e){return plt(e,this.iterations,this.pathData),this.lastPointX=e[e.length-2],this.lastPointY=e[e.length-1],this},close(){var e=this.pathData[0],t=this.pathData[1];return(e!==this.lastPointX||t!==this.lastPointY)&&this.lineTo(e,t),this.closePath=!0,this},end(){return KG(this.pathData),this}},mlt=Phaser.Math.RotateAround;var ylt=function(e,t,i,s){for(var p={x:0,y:0},E=0,n=s.length-1;E<n;E+=2)p.x=s[E],p.y=s[E+1],mlt(p,e,t,i),s[E]=p.x,s[E+1]=p.y;return s},xlt=function(e,t,i,s,p){for(var E=0,n=p.length-1;E<n;E+=2){var T=p[E]-e,r=p[E+1]-t;T*=i,r*=s,p[E]=T+e,p[E+1]=r+t}return p},ZG=function(e,t,i){for(var s=0,p=i.length-1;s<p;s+=2)i[s]+=e,i[s+1]+=t;return i};const Tlt=Phaser.Math.DegToRad;Phaser.Math.RotateAround;const Clt={rotateAround(e,t,i){if(this.pathData.length===0)return this;i=Tlt(i),ylt(e,t,i,this.pathData);var s=this.pathData.length;return this.lastPointX=this.pathData[s-2],this.lastPointY=this.pathData[s-1],this},scale(e,t,i,s){return this.pathData.length===0?this:(xlt(e,t,i,s,this.pathData),this.lastPointX=this.pathData[pathDataCnt-2],this.lastPointY=this.pathData[pathDataCnt-1],this)},offset(e,t){return ZG(e,t,this.pathData),this}};var rx=function(e,t,i,s){i===void 0&&(i=0),s===void 0&&(s=t.length),e.length=s-i;for(var p=0,E=e.length;p<E;p++)e[p]=t[p+i];return e};const Slt={savePathData(){return this.pathDataSaved?this:(this.pathDataSave=[...this.pathData],this.pathData.length=0,this.pathDataSaved=!0,this)},restorePathData(){return this.pathDataSaved?(rx(this.pathData,this.pathDataSave),this.pathDataSave=void 0,this.pathDataSaved=!1,this):this}},Elt=Phaser.Math.Distance.Between,Plt=Phaser.Math.Wrap,blt=Phaser.Math.Linear;var kI=function(e,t,i,s,p){if(s===void 0&&(s=i,i=0),i=NI(i),s=NI(s),i!==s){var E=t[t.length-1],n=E*i,T=E*s;i<s?aP(e,t,n,T,p):(aP(e,t,n,E,p),aP(e,t,0,T,p)),KG(p)}},aP=function(e,t,i,s,p){for(var E=i>0,n=0,T=t.length;n<T;n++){var r=n*2,o=t[n];if(E){if(o<i)continue;if(o==i)E=!1;else{var x=o-t[n-1],d=1-(o-i)/x;p.push(Z0(e,r-2,r,d)),p.push(Z0(e,r-1,r+1,d)),E=!1}}if(o<=s){if(p.push(e[r]),p.push(e[r+1]),o===s)break}else{var x=o-t[n-1],d=1-(o-s)/x;p.push(Z0(e,r-2,r,d)),p.push(Z0(e,r-1,r+1,d));break}}},Z0=function(e,t,i,s){var p=e[t],E=e[i];return blt(p,E,s)},NI=function(e){return e===0?0:e%1===0?1:Plt(e,0,1)};const Mlt={updateAccumulationLengths(){if(this.accumulationLengths==null)this.accumulationLengths=[];else if(this.accumulationLengths.length===this.pathData.length/2)return this;for(var e=this.accumulationLengths,t=this.pathData,i,s,p,E,n,T=0,r=0,o=t.length;r<o;r+=2)p=t[r],E=t[r+1],n=i===void 0?0:Elt(i,s,p,E),T+=n,e.push(T),i=p,s=E;return this.totalPathLength=T,this},setDisplayPathSegment(e,t){return this.pathDataSaved||(this.updateAccumulationLengths(),this.savePathData()),this.pathData.length=0,kI(this.pathDataSave,this.accumulationLengths,e,t,this.pathData),this},appendFromPathSegment(e,t,i){return t===void 0?this.pathData.push(...e.pathData):(e.updateAccumulationLengths(),kI(e.pathData,e.accumulationLengths,t,i,this.pathData)),this.firstPointX=this.pathData[0],this.firstPointY=this.pathData[1],this.lastPointX=this.pathData[this.pathData.length-2],this.lastPointY=this.pathData[this.pathData.length-1],this}},wlt={draw(e,t,i){var s=this.toPoints();return t&&e.fillPoints(s,this.closePath,this.closePath),i&&e.strokePoints(s,this.closePath,this.closePath),this}};var Rlt=function(e,t){t===void 0&&(t=[]);for(var i=0,s=e.length-1;i<s;i+=2)t.push({x:e[i],y:e[i+1]});return t};const Alt=Phaser.Geom.Polygon;var Olt=function(e,t){return t===void 0&&(t=new Alt),t.setTo(e),t};class JG{constructor(t){t===void 0&&(t=[]),this.pathData=t,this.closePath=!1,this.setIterations(32),this.firstPointX=void 0,this.firstPointY=void 0,this.lastPointX=void 0,this.lastPointY=void 0,this.accumulationLengths=void 0}setIterations(t){return this.iterations=t,this}toPoints(){return Rlt(this.pathData)}toPolygon(t){return Olt(this.pathData,t)}}Object.assign(JG.prototype,glt,Clt,Slt,Mlt,wlt);class pn extends Xp{constructor(){super(),this.builder=new JG(this.pathData)}get iterations(){return this.builder.iterations}set iterations(t){this.dirty=this.dirty||this.builder.iterations!==t,this.builder.setIterations(t)}setIterations(t){return this.iterations=t,this}get lastPointX(){return this.builder.lastPointX}get lastPointY(){return this.builder.lastPointY}start(){return this.builder.start(),this.dirty=!0,this}startAt(t,i){return this.builder.startAt(t,i),this.dirty=!0,this}lineTo(t,i,s){return this.builder.lineTo(t,i,s),this.dirty=!0,this}verticalLineTo(t,i){return this.builder.verticalLineTo(t,i),this.dirty=!0,this}horizontalLineTo(t,i){return this.builder.horizontalLineTo(t,i),this.dirty=!0,this}ellipticalArc(t,i,s,p,E,n,T){return this.builder.ellipticalArc(t,i,s,p,E,n,T),this.dirty=!0,this}arc(t,i,s,p,E,n){return this.builder.arc(t,i,s,p,E,n),this.dirty=!0,this}quadraticBezierTo(t,i,s,p){return this.builder.quadraticBezierTo(t,i,s,p),this.dirty=!0,this}cubicBezierTo(t,i,s,p,E,n){return this.builder.cubicBezierTo(t,i,s,p,E,n),this.dirty=!0,this}catmullRomTo(...t){return this.builder.catmullRomTo(...t),this.dirty=!0,this}close(){return this.builder.close(),this.closePath=this.builder.closePath,this.dirty=!0,this}end(){return this.builder.end(),this.dirty=!0,this}rotateAround(t,i,s){return this.builder.rotateAround(t,i,s),this.dirty=!0,this}scale(t,i,s,p){return this.builder.scale(t,i,s,p),this.dirty=!0,this}offset(t,i){return this.builder.offset(t,i),this.dirty=!0,this}toPolygon(t){return this.builder.toPolygon(t)}appendPathFrom(t,i,s){return this.builder.appendFromPathSegment(t.builder,i,s),this}copyPathFrom(t,i,s){return this.builder.clear().appendFromPathSegment(t.builder,i,s),this}setDisplayPathSegment(t,i){return this.builder.setDisplayPathSegment(t,i),this}}const Llt=Phaser.Renderer.WebGL.Utils.getTintAppendFloatAlpha;let Dlt=class extends Vx{constructor(t,i,s,p){t===void 0&&(t=0),i===void 0&&(i=0),s===void 0&&(s=0),p===void 0&&(p=s),super(),this.pathData=[],this.closePath=!0,this.setTopLeftPosition(t,i),this.setSize(s,p)}get x(){return this._x}set x(t){this.dirty=this.dirty||this._x!==t,this._x=t}get y(){return this._y}set y(t){this.dirty=this.dirty||this._y!==t,this._y=t}setTopLeftPosition(t,i){return this.x=t,this.y=i,this}get width(){return this._width}set width(t){this.dirty=this.dirty||this._width!==t,this._width=t}get height(){return this._height}set height(t){this.dirty=this.dirty||this._height!==t,this._height=t}setSize(t,i){return this.width=t,this.height=i,this}get centerX(){return this.x+this.width/2}set centerX(t){this.x=t-this.width/2}get centerY(){return this.y+this.height/2}set centerY(t){this.y=t-this.height/2}setCenterPosition(t,i){return this.centerX=t,this.centerY=i,this}updateData(){this.pathData.length=0;var t=this.x,i=t+this.width,s=this.y,p=s+this.height;return this.pathData.push(t,s),this.pathData.push(i,s),this.pathData.push(i,p),this.pathData.push(t,p),this.pathData.push(t,s),super.updateData(),this}webglRender(t,i,s,p,E){if(this.isFilled){var n=t.fillTint,T=Llt(this.fillColor,this.fillAlpha*s);n.TL=T,n.TR=T,n.BL=T,n.BR=T,t.batchFillRect(-p+this.x,-E+this.y,this.width,this.height)}this.isStroked&&Dx(t,this,s,p,E)}canvasRender(t,i,s){this.isFilled&&(Gp(t,this),t.fillRect(-i,-s,this.width,this.height)),this.isStroked&&(kp(t,this),t.beginPath(),t.rect(-i,-s,this.width,this.height),t.stroke())}};const J0=Phaser.Utils.Objects.GetValue;class nx extends Xp{constructor(t,i,s,p,E,n){t===void 0&&(t=0),i===void 0&&(i=0),s===void 0&&(s=0),p===void 0&&(p=s),E===void 0&&(E=0),n===void 0&&(n=6),super(),this.setTopLeftPosition(t,i),this.setSize(s,p),this.setRadius(E),this.setIterations(n),this.closePath=!0}get x(){return this._x}set x(t){this.dirty=this.dirty||this._x!==t,this._x=t}get y(){return this._y}set y(t){this.dirty=this.dirty||this._y!==t,this._y=t}setTopLeftPosition(t,i){return this.x=t,this.y=i,this}get width(){return this._width}set width(t){this.dirty=this.dirty||this._width!==t,this._width=t}get height(){return this._height}set height(t){this.dirty=this.dirty||this._height!==t,this._height=t}setSize(t,i){return this.width=t,this.height=i,this}get centerX(){return this.x+this.width/2}set centerX(t){this.x=t-this.width/2}get centerY(){return this.y+this.height/2}set centerY(t){this.y=t-this.height/2}setCenterPosition(t,i){return this.centerX=t,this.centerY=i,this}get radiusTL(){return this._radiusTL}set radiusTL(t){var i=t>0;this.dirty=this.dirty||this._radiusTL!==t||this._convexTL!==i,this._convexTL=i,this._radiusTL=Math.abs(t)}get radiusTR(){return this._radiusTR}set radiusTR(t){var i=t>0;this.dirty=this.dirty||this._radiusTR!==t||this._convexTR!==i,this._convexTR=i,this._radiusTR=Math.abs(t)}get radiusBL(){return this._radiusBL}set radiusBL(t){var i=t>0;this.dirty=this.dirty||this._radiusBL!==t||this._convexBL!==i,this._convexBL=i,this._radiusBL=Math.abs(t)}get radiusBR(){return this._radiusBR}set radiusBR(t){var i=t>0;this.dirty=this.dirty||this._radiusBR!==t||this._convexBR!==i,this._convexBR=i,this._radiusBR=Math.abs(t)}get radius(){return Math.max(this.radiusTL,this.radiusTR,this.radiusBL,this.radiusBR)}set radius(t){typeof t=="number"?(this.radiusTL=t,this.radiusTR=t,this.radiusBL=t,this.radiusBR=t):(this.radiusTL=J0(t,"tl",0),this.radiusTR=J0(t,"tr",0),this.radiusBL=J0(t,"bl",0),this.radiusBR=J0(t,"br",0))}setRadius(t){return t===void 0&&(t=0),this.radius=t,this}get iterations(){return this._iterations}set iterations(t){this.dirty=this.dirty||this._iterations!==t,this._iterations=t}setIterations(t){return this.iterations=t,this}updateData(){var t=this.pathData;t.length=0;var i=this.width,s=this.height,p,E=this.iterations+1;if(p=this.radiusTL,p>0)if(this._convexTL){var n=p,T=p;jr(n,T,p,p,180,270,!1,E,t)}else{var n=0,T=0;jr(n,T,p,p,90,0,!0,E,t)}else Jr(0,0,t);if(p=this.radiusTR,p>0)if(this._convexTR){var n=i-p,T=p;jr(n,T,p,p,270,360,!1,E,t)}else{var n=i,T=0;jr(n,T,p,p,180,90,!0,E,t)}else Jr(i,0,t);if(p=this.radiusBR,p>0)if(this._convexBR){var n=i-p,T=s-p;jr(n,T,p,p,0,90,!1,E,t)}else{var n=i,T=s;jr(n,T,p,p,270,180,!0,E,t)}else Jr(i,s,t);if(p=this.radiusBL,p>0)if(this._convexBL){var n=p,T=s-p;jr(n,T,p,p,90,180,!1,E,t)}else{var n=0,T=s;jr(n,T,p,p,360,270,!0,E,t)}else Jr(0,s,t);return t.push(t[0],t[1]),ZG(this.x,this.y,t),super.updateData(),this}}const Flt=Phaser.Renderer.WebGL.Utils.getTintAppendFloatAlpha;let Ilt=class extends Vx{constructor(t,i,s,p,E,n){t===void 0&&(t=0),i===void 0&&(i=0),s===void 0&&(s=0),p===void 0&&(p=0),E===void 0&&(E=0),n===void 0&&(n=0),super(),this.pathData=[],this.closePath=!0,this.setP0(t,i),this.setP1(s,p),this.setP2(E,n)}get x0(){return this._x0}set x0(t){this.dirty=this.dirty||this._x0!==t,this._x0=t}get y0(){return this._y0}set y0(t){this.dirty=this.dirty||this._y0!==t,this._y0=t}setP0(t,i){return this.x0=t,this.y0=i,this}get x1(){return this._x1}set x1(t){this.dirty=this.dirty||this._x1!==t,this._x1=t}get y1(){return this._y1}set y1(t){this.dirty=this.dirty||this._y1!==t,this._y1=t}setP1(t,i){return this.x1=t,this.y1=i,this}get x2(){return this._x2}set x2(t){this.dirty=this.dirty||this._x2!==t,this._x2=t}get y2(){return this._y2}set y2(t){this.dirty=this.dirty||this._y2!==t,this._y2=t}setP2(t,i){return this.dirty=this.dirty||this.x2!==t||this.y2!==i,this.x2=t,this.y2=i,this}updateData(){return this.pathData.length=0,this.pathData.push(this.x0,this.y0),this.pathData.push(this.x1,this.y1),this.pathData.push(this.x2,this.y2),this.pathData.push(this.x0,this.y0),super.updateData(),this}webglRender(t,i,s,p,E){if(this.isFilled){var n=Flt(this.fillColor,this.fillAlpha*s),T=this.x0-p,r=this.y0-E,o=this.x1-p,x=this.y1-E,d=this.x2-p,h=this.y2-E,l=i.getX(T,r),a=i.getY(T,r),f=i.getX(o,x),c=i.getY(o,x),u=i.getX(d,h),v=i.getY(d,h);t.batchTri(l,a,f,c,u,v,n,n,n)}this.isStroked&&Dx(t,this,s,p,E)}canvasRender(t,i,s){var p=this.x1-i,E=this.y1-s,n=this.x2-i,T=this.y2-s,r=this.x3-i,o=this.y3-s;t.beginPath(),t.moveTo(p,E),t.lineTo(n,T),t.lineTo(r,o),t.closePath(),this.isFilled&&(Gp(t,this),t.fill()),this.isStroked&&(kp(t,this),t.stroke())}};const Blt={buildShapes(){this.addShape(new nx().setName("box")).addShape(new pn().setName("checker"))},updateShapes(){var e=this.width/2,t=this.height/2,i=Math.min(e,t),s=i*2,p=e-i,E=t-i,n=this.boxLineWidth,T=Math.max(s/10,2),r=this.getShape("box"),o=this.getShape("checker");if(this.isSizeChanged){var h=s*(1-this.boxSize)/2,x=n/2,d=s*this.boxSize-n;r.setTopLeftPosition(p+x+h,E+x+h).setSize(d,d),this.isCircleShape?r.setRadius(d/2):r.setRadius(0);var h=s*(1-this.checkerSize)/2,l=s*this.checkerSize/4,a=l*1,f=l*2,c=l*3;o.startAt(a,f).lineTo(f,c).lineTo(c,a).offset(p+h,E+h).end()}this.checked?(r.fillStyle(this.boxFillColor,this.boxFillAlpha).lineStyle(n,this.boxStrokeColor,this.boxStrokeAlpha),o.lineStyle(T,this.checkerColor)):(r.fillStyle(this.uncheckedBoxFillColor,this.uncheckedBoxFillAlpha).lineStyle(n,this.uncheckedBoxStrokeColor,this.uncheckedBoxStrokeAlpha),o.lineStyle()),this.checked&&o.setDisplayPathSegment(this.checkerAnimProgress)}},rh=Phaser.Utils.Objects.GetValue,Glt=Phaser.Math.Linear;class ml extends Ju{constructor(t,i){super(t,i),this.resetFromJSON(),this.boot()}start(t){if(this.timer.isRunning)return this;var i=this.target;this.propertyKey=rh(t,"key","value");var s=i[this.propertyKey];return this.fromValue=rh(t,"from",s),this.toValue=rh(t,"to",s),this.setEase(rh(t,"ease",this.ease)),this.setDuration(rh(t,"duration",this.duration)),this.setRepeat(rh(t,"repeat",0)),this.setDelay(rh(t,"delay",0)),this.setRepeatDelay(rh(t,"repeatDelay",0)),this.timer.setDuration(this.duration).setRepeat(this.repeat).setDelay(this.delay).setRepeatDelay(this.repeatDelay),i[this.propertyKey]=this.fromValue,super.start(),this}updateTarget(t,i){var s=i.t;s=this.easeFn(s),t[this.propertyKey]=Glt(this.fromValue,this.toValue,s)}}const klt={setCheckerAnimationDuration(e){return e===void 0&&(e=0),this.checkerAnimDuration=e,this},playCheckerAnimation(){return this.checkerAnimProgressTask===void 0&&(this.checkerAnimProgressTask=new ml(this,{eventEmitter:null})),this.checkerAnimProgressTask.restart({key:"checkerAnimProgress",from:0,to:1,duration:this.checkerAnimDuration}),this},stopCheckerAnimation(){return this.checkerAnimProgressTask===void 0?this:(this.checkerAnimProgressTask.stop(),this)}};var jG={};Object.assign(jG,nlt,slt,Blt,klt);const Tp=23730,Nlt=16777215,sr=Phaser.Utils.Objects.GetValue,UI=Phaser.Utils.Objects.IsPlainObject;class QG extends xl{constructor(t,i,s,p,E,n,T){UI(i)?(T=i,i=sr(T,"x",0),s=sr(T,"y",0),p=sr(T,"width",2),E=sr(T,"height",2),n=sr(T,"color",Tp)):UI(n)&&(T=n,n=sr(T,"color",Tp)),super(t,i,s,p,E),this.type="rexCheckbox",n===void 0&&(n=Tp),this.setBoxShape(sr(T,"circleBox",!1)),this.setBoxFillStyle(n,sr(T,"boxFillAlpha",1)),this.setUncheckedBoxFillStyle(sr(T,"uncheckedColor",null),sr(T,"uncheckedBoxFillAlpha",1)),this.setBoxStrokeStyle(sr(T,"boxLineWidth",4),sr(T,"boxStrokeColor",n),sr(T,"boxStrokeAlpha",1)),this.setUncheckedBoxStrokeStyle(this.boxLineWidth,sr(T,"uncheckedBoxStrokeColor",this.boxStrokeColor),sr(T,"uncheckedBoxStrokeAlpha",this.boxStrokeAlpha)),this.setCheckerStyle(sr(T,"checkerColor",Nlt),sr(T,"checkerAlpha",1)),this.setBoxSize(sr(T,"boxSize",1)),this.setCheckerSize(sr(T,"checkerSize",1)),this.setCheckerAnimationDuration(sr(T,"animationDuration",150)),this.buildShapes();var r=sr(T,"checked");r===void 0&&(r=sr(T,"value",!1)),this.setValue(r)}get value(){return this._value}set value(t){t=!!t,this._value!==t&&(this.dirty=!0,this._value=t,t?this.playCheckerAnimation():this.stopCheckerAnimation(),this.emit("valuechange",t))}setValue(t){return this.value=t,this}toggleValue(){return this.setValue(!this.value),this}get checked(){return this.value}set checked(t){this.value=t}setChecked(t){return t===void 0&&(t=!0),this.setValue(t),this}toggleChecked(){return this.toggleValue(),this}get checkerAnimProgress(){return this._checkerAnimProgress}set checkerAnimProgress(t){this._checkerAnimProgress!==t&&(this._checkerAnimProgress=t,this.dirty=!0)}}Object.assign(QG.prototype,jG);const Jv=Phaser.Utils.Objects.GetValue;class Tl extends ji{constructor(t,i){super(t,i),this._enable=void 0,t.setInteractive(Jv(i,"inputConfig",void 0)),this.resetFromJSON(i),this.boot()}resetFromJSON(t){return this.pointer=void 0,this.lastClickTime=void 0,this.isDown=!1,this.isOver=!1,this.setEnable(Jv(t,"enable",!0)),this.setMode(Jv(t,"mode",1)),this.setClickInterval(Jv(t,"clickInterval",100)),this.setDragThreshold(Jv(t,"threshold",void 0)),this}boot(){var t=this.parent;t.on("pointerdown",this.onPress,this),t.on("pointerup",this.onRelease,this),t.on("pointerout",this.onPointOut,this),t.on("pointermove",this.onMove,this),t.on("pointerover",this.onOver,this),t.on("pointerout",this.onOut,this)}shutdown(t){this.isShutdown||(this.pointer=null,super.shutdown(t))}get enable(){return this._enable}set enable(t){if(this._enable!==t){t||this.cancel(),this._enable=t;var i=t?"enable":"disable";this.emit(i,this,this.parent)}}setEnable(t){return t===void 0&&(t=!0),this.enable=t,this}toggleEnable(){return this.setEnable(!this.enable),this}setMode(t){return typeof t=="string"&&(t=Ult[t]),this.mode=t,this}setClickInterval(t){return this.clickInterval=t,this}setDragThreshold(t){return this.dragThreshold=t,this}onPress(t,i,s,p){this.pointer===void 0&&(this.pointer=t,this.isDown=!0,this.emit("down",this,this.parent,t,p),this.mode===0&&this.click(t.downTime,t,p))}onRelease(t,i,s,p){this.pointer===t&&(this.isDown=!1,this.emit("up",this,this.parent,t,p),this.mode===1&&this.click(t.upTime,t,p),this.pointer=void 0)}onPointOut(t,i){this.pointer===t&&this.cancel()}onMove(t,i,s,p){this.pointer===t&&this.dragThreshold!==void 0&&this.mode===1&&t.getDistance()>=this.dragThreshold&&this.cancel()}onOver(t,i,s,p){return this.enable?(this.isOver=!0,this.emit("over",this,this.parent,t,p),this):this}onOut(t,i){return this.enable?(this.isOver=!1,this.emit("out",this,this.parent,t,i),this):this}click(t,i,s){if(!this.enable)return this;if(t===void 0)return this.emit("click",this,this.parent,i,s),this;this.pointer=void 0;var p=this.lastClickTime;return p!==void 0&&t-p<=this.clickInterval?this:(this.lastClickTime=t,this.emit("click",this,this.parent,i,s),this)}cancel(){return this.pointer=void 0,this}}const Ult={press:0,pointerdown:0,release:1,pointerup:1},nh=Phaser.Utils.Objects.GetValue,VI=Phaser.Utils.Objects.IsPlainObject;class ow extends QG{constructor(t,i,s,p,E,n,T){VI(i)?(T=i,i=nh(T,"x",0),s=nh(T,"y",0),p=nh(T,"width",2),E=nh(T,"height",2),n=nh(T,"color",Tp)):VI(n)&&(T=n,n=nh(T,"color",Tp)),super(t,i,s,p,E,n,T),this._click=new Tl(this,nh(T,"click")),this._click.on("click",function(){this.toggleValue()},this),this.setReadOnly(nh(T,"readOnly",!1))}get readOnly(){return!this._click.enable}set readOnly(t){this._click.enable=!t}setReadOnly(t){return t===void 0&&(t=!0),this.readOnly=t,this}}It.register("checkbox",function(e,t,i,s,p,E){var n=new ow(this.scene,e,t,i,s,p,E);return this.scene.add.existing(n),n});Lt(window,"RexPlugins.UI.Checkbox",ow);const Vlt={setTrackFillStyle(e,t){return t===void 0&&(t=1),this.dirty=this.dirty||this.trackFillColor!==e||this.trackFillAlpha!==t,this.trackFillColor=e,this.trackFillAlpha=t,this},setFalseValueTrackFillStyle(e,t){return t===void 0&&(t=1),this.dirty=this.dirty||this.falseValueTrackColor!==e||this.uncheckedTrackFillAlpha!==t,this.falseValueTrackColor=e,this.falseValueTrackFillAlpha=t,this},setThumbStyle(e,t){return t===void 0&&(t=1),this.dirty=this.dirty||this.thumbColor!==e||this.checkAlpha!==t,this.thumbColor=e,this.thumbAlpha=t,this}},zlt={setTrackSize(e,t){return this.dirty=this.dirty||this.trackWidth!==e||this.trackHeight!==t,this.trackWidth=e,this.trackHeight=t,this},setTrackRadius(e){return this.dirty=this.dirty||this.trackRadius!==e,this.trackRadius=e,this},setThumbSize(e,t){return t===void 0&&(t=e),this.dirty=this.dirty||this.thumbWidth!==e||this.thumbHeight!==t,this.thumbWidth=e,this.thumbHeight=t,this},setThumbRadius(e){return this.dirty=this.dirty||this.thumbRadius!==e,this.thumbRadius=e,this}},Wlt={setThumbPosition(e,t){return t===void 0&&(t=1-e),this.thumbLeftX=e,this.thumbRightX=t,this},setRTL(e){return e===void 0&&(e=!0),this.rtl=e,this}};/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */var oP=function(e,t,i){return(t-e)*i+e},Ylt=function(e,t,i){var s=oP(bp(e),bp(t),i),p=oP(Mp(e),Mp(t),i),E=oP(wp(e),wp(t),i);return(s&255)<<16|(p&255)<<8|E&255};const zI=Phaser.Math.Linear,Xlt={buildShapes(){this.addShape(new nx().setName("track")).addShape(new nx().setName("thumb"))},updateShapes(){var e=this.width,t=this.height,i=this.value?this.toggleAnimProgress:1-this.toggleAnimProgress,s=this.getShape("track");if(this.isSizeChanged){var p=e*this.trackWidth,E=t*this.trackHeight,n=(e-p)/2,T=(t-E)/2,r=t*this.trackRadius;s.setTopLeftPosition(n,T).setSize(p,E).setRadius(r)}var o=Ylt(this.falseValueTrackColor,this.trackFillColor,i),x=zI(this.falseValueTrackFillAlpha,this.trackFillAlpha,i);s.fillStyle(o,x);var d=this.getShape("thumb");if(this.isSizeChanged){var h=e*this.thumbWidth,l=t*this.thumbHeight,a=t*this.thumbRadius;d.setSize(h,l).setRadius(a)}var f=zI(this.thumbLeftX,this.thumbRightX,i)*e;this.rtl&&(f=e-f);var c=t/2;d.setCenterPosition(f,c),d.fillStyle(this.thumbColor,this.thumbAlpha)}},Hlt={setToggleAnimationDuration(e){return e===void 0&&(e=0),this.toggleAnimDuration=e,this},playToggleAnimation(){return this.toggleAnimProgressTask===void 0&&(this.toggleAnimProgressTask=new ml(this,{eventEmitter:null})),this.toggleAnimProgressTask.restart({key:"toggleAnimProgress",from:0,to:1,duration:this.toggleAnimDuration}),this},stopToggleAnimation(){return this.toggleAnimProgressTask===void 0?this:(this.toggleAnimProgressTask.stop(),this)}};var qG={};Object.assign(qG,Vlt,zlt,Wlt,Xlt,Hlt);var $lt=function(e){var t=.3*bp(e)+.59*Mp(e)+.11*wp(e);return(t&255)<<16|(t&255)<<8|t&255};const ar=Phaser.Utils.Objects.GetValue,WI=Phaser.Utils.Objects.IsPlainObject,lP=23730,Klt=16777215;class _G extends xl{constructor(t,i,s,p,E,n,T){WI(i)?(T=i,i=ar(T,"x",0),s=ar(T,"y",0),p=ar(T,"width",2),E=ar(T,"height",2),n=ar(T,"color",lP)):WI(n)&&(T=n,n=ar(T,"color",lP)),super(t,i,s,p,E),this.type="rexToggleSwitch",n===void 0&&(n=lP),this.setTrackFillStyle(n,ar(T,"trackFillAlpha",1)),this.setFalseValueTrackFillStyle(ar(T,"falseValueTrackColor",$lt(n)),ar(T,"falseValueTrackFillAlpha",1)),this.setThumbStyle(ar(T,"thumbColor",Klt),ar(T,"thumbAlpha",1)),this.setTrackSize(ar(T,"trackWidth",.9),ar(T,"trackHeight",.5)),this.setTrackRadius(ar(T,"trackRadius",this.trackHeight*.5));var r=ar(T,"thumbHeight",void 0),o=ar(T,"thumbWidth",r);o===void 0&&(o=this.trackHeight*.9),this.setThumbSize(o,r),this.setThumbRadius(ar(T,"thumbRadius",this.thumbHeight*.5)),this.setThumbPosition(ar(T,"thumbLeft",.3),ar(T,"thumbRight",void 0)),this.setRTL(ar(T,"rtl",!1)),this.setToggleAnimationDuration(ar(T,"animationDuration",150)),this.buildShapes(),this.setValue(ar(T,"value",!1),0)}get value(){return this._value}set value(t){t=!!t,this._value!==t&&(this.dirty=!0,this._value=t,this.playToggleAnimation(),this.emit("valuechange",t))}setValue(t,i){i===void 0&&(i=this.toggleAnimDuration);var s=this.toggleAnimDuration;return this.toggleAnimDuration=i,this.value=t,this.toggleAnimDuration=s,this}toggleValue(t){return this.setValue(!this.value,t),this}get toggleAnimProgress(){return this._toggleAnimProgress}set toggleAnimProgress(t){this._toggleAnimProgress!==t&&(this._toggleAnimProgress=t,this.dirty=!0)}}Object.assign(_G.prototype,qG);const YI=Phaser.Utils.Objects.GetValue;class lw extends _G{constructor(t,i,s,p,E,n,T){super(t,i,s,p,E,n,T),this._click=new Tl(this,YI(T,"click")),this._click.on("click",function(){this.toggleValue()},this),this.setReadOnly(YI(T,"readOnly",!1))}get readOnly(){return!this._click.enable}set readOnly(t){this._click.enable=!t}setReadOnly(t){return t===void 0&&(t=!0),this.readOnly=t,this}}It.register("toggleSwitch",function(e,t,i,s,p,E){var n=new lw(this.scene,e,t,i,s,p,E);return this.scene.add.existing(n),n});Lt(window,"RexPlugins.UI.ToggleSwitch",lw);const Zlt={loadFromURL(e,t){var i=this,s=new Image;return s.onload=function(){i.width!==s.width||i.height!==s.height?i.resize(s.width,s.height):i.clear(),i.context.drawImage(s,0,0),i.updateTexture(),t&&t(),s.onload=null,s.src="",s.remove()},s.src=e,this},loadFromURLPromise(e){var t=this;return new Promise(function(i,s){t.loadFromURL(e,i)})},loadFromFile(e,t){var i=URL.createObjectURL(e);return this.loadFromURL(i,function(){URL.revokeObjectURL(i),t&&t()}),this},loadFromFilePromise(e){var t=this;return new Promise(function(i,s){t.loadFromFile(e,i)})}};class ju extends Ah{}Object.assign(ju.prototype,Zlt);It.register("canvas",function(e,t,i,s){var p=new ju(this.scene,e,t,i,s);return this.scene.add.existing(p),p});Lt(window,"RexPlugins.UI.Canvas",ju);const hd=Phaser.Utils.Objects.GetValue;class tk extends Ah{constructor(t,i,s,p,E,n){super(t,i,s),this.type="rexCircleMaskImage",this.setTexture(p,E,n)}setTexture(t,i,s){typeof i=="object"&&(s=i,i=void 0),typeof s=="string"&&(s={maskType:s});var p=hd(s,"maskType",0),E=hd(s,"backgroundColor",void 0),n=hd(s,"strokeColor",void 0),T=n!=null?10:0,r=hd(s,"strokeWidth",T);if(p===void 0?p=0:typeof p=="string"&&(p=Jlt[p]),this._textureKey=t,this._frameName=i,p===null)return this.loadTexture(t,i),this.dirty=!0,this;var o=this.scene.sys.textures.getFrame(t,i);if(!o)return this;o.cutWidth!==this.width||o.cutHeight!==this.height?this.setCanvasSize(o.cutWidth,o.cutHeight):this.clear();var x=this.canvas,d=this.context,h=x.width,l=x.height;E!=null&&(d.fillStyle=E,d.fillRect(0,0,h,l)),d.save(),d.beginPath();var a=r/2;switch(p){case 1:var g=Math.floor(h/2),m=Math.floor(l/2),f=g-a,c=m-a;d.ellipse(g,m,f,c,0,0,2*Math.PI);break;case 2:var u=hd(s,"radius",0),v=hd(s,"iteration",void 0);D9(d,a,a,h-r,l-r,u,v);break;default:var g=Math.floor(h/2),m=Math.floor(l/2),y=Math.min(g,m)-a;d.arc(g,m,y,0,2*Math.PI);break}return n!=null&&(d.strokeStyle=n,d.lineWidth=r,d.stroke()),d.clip(),this.loadTexture(t,i),d.restore(),this.dirty=!0,this}resize(t,i){return this.setDisplaySize(t,i),this}}const Jlt={circle:0,ellipse:1,roundRectangle:2};It.register("circleMaskImage",function(e,t,i,s,p){var E=new tk(this.scene,e,t,i,s,p);return this.scene.add.existing(E),E});Lt(window,"RexPlugins.UI.CircleMaskImage",tk);const jv=Phaser.Utils.Objects.GetValue;class ek extends Ah{constructor(t,i,s,p,E,n){super(t,i,s),this.type="rexAlphaMaskImage",this.maskFrame=null,this.setTexture(p,E,n)}setTexture(t,i,s){typeof i=="object"&&(s=i,i=void 0),typeof s=="string"&&(s={mask:{key:s}});var p=jv(s,"mask.key"),E=jv(s,"mask.frame"),n=jv(s,"mask.invertAlpha",!1),T=jv(s,"mask.scale"),r=jv(s,"backgroundColor");if(p){this._maskKey=p,this._maskFrame=E,this._maskScale=T;var o=p?this.scene.sys.textures.get(p):null;this.maskFrame=o?o.get(E):null}this._textureKey=t,this._frameName=i;var x=this.maskFrame;if(x===null)return this.loadTexture(t,i),this.dirty=!0,this;var d=r!=null;this.loadTexture(t,i);var h=this.canvas,l=this.context,a=h.width,f=h.height;l.save(),l.globalCompositeOperation=n?"destination-out":"destination-in";var c,u;this._maskScale!=null?(c=x.cutWidth*this._maskScale,u=x.cutHeight*this._maskScale):(c=a,u=f);var v=(a-c)/2,g=(f-u)/2;return this.drawFrame(this._maskKey,this._maskFrame,v,g,c,u),l.restore(),d&&(l.save(),l.globalCompositeOperation="destination-over",l.fillStyle=r,l.fillRect(0,0,a,f),l.restore()),this.dirty=!0,this}resize(t,i){return this.setDisplaySize(t,i),this}}It.register("alphaMaskImage",function(e,t,i,s,p){var E=new ek(this.scene,e,t,i,s,p);return this.scene.add.existing(E),E});Lt(window,"RexPlugins.UI.AlphaMaskImage",ek);const jlt=Phaser.Math.Linear,XI=Phaser.Math.Percent,Qlt={setValue(e,t,i){return e==null?this:(t!==void 0&&(e=XI(e,t,i)),this.value=e,this)},addValue(e,t,i){return t!==void 0&&(e=XI(e,t,i)),this.value+=e,this},getValue(e,t){var i=this.value;return e!==void 0&&t!==void 0&&(i=jlt(e,t,i)),i}},qlt=Phaser.Math.Percent,_lt={setEaseValuePropName(e){return this.easeValuePropName=e,this},setEaseValueDuration(e){return this.easeValueDuration=e,this},setEaseValueFunction(e){return this.easeFunction=e,this},stopEaseValue(){return this.easeValueTask&&this.easeValueTask.stop(),this},easeValueTo(e,t,i){return e==null?this:(t!==void 0&&(e=qlt(e,t,i)),this.easeValueTask===void 0&&(this.easeValueTask=new ml(this,{eventEmitter:null})),this.easeValueTask.restart({key:this.easeValuePropName,to:e,duration:this.easeValueDuration,ease:this.easeFunction}),this)},easeValueRepeat(e,t,i,s){return i===void 0&&(i=-1),s===void 0&&(s=0),this.easeValueTask===void 0&&(this.easeValueTask=new ml(this,{eventEmitter:null})),this.easeValueTask.restart({key:this.easeValuePropName,from:e,to:t,duration:this.easeValueDuration,ease:this.easeFunction,repeat:i,repeatDelay:s}),this}},Qv=Phaser.Utils.Objects.GetValue,tht=Phaser.Math.Clamp;function Oh(e){class t extends e{bootProgressBase(s){this.eventEmitter=Qv(s,"eventEmitter",this);var p=Qv(s,"valuechangeCallback",null);if(p!==null){var E=Qv(s,"valuechangeCallbackScope",void 0);this.eventEmitter.on("valuechange",p,E)}return this.setEaseValuePropName("value").setEaseValueDuration(Qv(s,"easeValue.duration",0)).setEaseValueFunction(Qv(s,"easeValue.ease","Linear")),this}get value(){return this._value}set value(s){s=tht(s,0,1);var p=this._value,E=p!=s;this.dirty=this.dirty||E,this._value=s,E&&this.eventEmitter.emit("valuechange",this._value,p,this.eventEmitter)}}return Object.assign(t.prototype,Qlt,_lt),t}const eht=Phaser.Math.RadToDeg,HI=Phaser.Math.DegToRad;var $I=function(e,t,i,s,p,E,n,T){var r=Math.abs(n-E)===360,o=HI(E),x=HI(n),d=Math.cos(o),h=Math.sin(o),l=Math.cos(x),a=Math.sin(x);return e.startAt(t+d*s,i+h*s),e.arc(t,i,s,E,n,T),r&&p===0||(e.lineTo(t+l*p,i+a*p),p>0&&e.arc(t,i,p,n,E,!T)),e.close(),e};const iht={buildShapes(){var e=this.iterations;this.addShape(new pn().setIterations(e).setName("track")).addShape(new pn().setIterations(e).setName("bar")).addShape(new na().setIterations(e).setName("center"))},updateShapes(){var e=this.radius,t=this.thickness*this.radius,i=this.radius,s=i-t,p=this.getShape("track");this.trackColor!=null&&this.thickness>0?(p.fillStyle(this.trackColor),$I(p,e,e,i,s,0,360,!1)):p.reset();var E=this.getShape("bar");if(this.barColor!=null&&this.thickness>0){var n,T,r;if(this.value===1)n=!1,T=0,r=360;else{n=this.anticlockwise,T=eht(this.startAngle);var o=360*(n?1-this.value:this.value);r=o+T}E.fillStyle(this.barColor),$I(E,e,e,i+1,s-1,T,r,!1)}else E.reset();var x=this.getShape("center");this.centerColor&&s>0?x.setCenterPosition(e,e).setRadius(s).fillStyle(this.centerColor):x.reset()}},Ma=Phaser.Utils.Objects.GetValue,rht=Phaser.Utils.Objects.IsPlainObject,nht=Phaser.Math.Clamp,sht=Phaser.Math.DegToRad(270);let hw=class extends Oh(xl){constructor(t,i,s,p,E,n,T){rht(i)&&(T=i,i=Ma(T,"x",0),s=Ma(T,"y",0),p=Ma(T,"radius",1),E=Ma(T,"barColor",void 0),n=Ma(T,"value",0)),p===void 0&&(p=1);var r=p*2;super(t,i,s,r,r),this.type="rexCircularProgress",this.bootProgressBase(T),this.setRadius(p),this.setTrackColor(Ma(T,"trackColor",void 0)),this.setBarColor(E),this.setCenterColor(Ma(T,"centerColor",void 0)),this.setThickness(Ma(T,"thickness",.2)),this.setStartAngle(Ma(T,"startAngle",sht)),this.setAnticlockwise(Ma(T,"anticlockwise",!1)),this.iterations=Ma(T,"iterations",128),this.buildShapes(),this.setValue(n)}resize(t,i){return t=Math.floor(Math.min(t,i)),t===this.width?this:(super.resize(t,t),this.setRadius(t/2),this)}get radius(){return this._radius}set radius(t){this.dirty=this.dirty||this._radius!=t,this._radius=t;var i=t*2;this.resize(i,i)}setRadius(t){return this.radius=t,this}get trackColor(){return this._trackColor}set trackColor(t){this.dirty=this.dirty||this._trackColor!=t,this._trackColor=t}setTrackColor(t){return this.trackColor=t,this}get barColor(){return this._barColor}set barColor(t){this.dirty=this.dirty||this._barColor!=t,this._barColor=t}setBarColor(t){return this.barColor=t,this}get startAngle(){return this._startAngle}set startAngle(t){this.dirty=this.dirty||this._startAngle!=t,this._startAngle=t}setStartAngle(t){return this.startAngle=t,this}get anticlockwise(){return this._anticlockwise}set anticlockwise(t){this.dirty=this.dirty||this._anticlockwise!=t,this._anticlockwise=t}setAnticlockwise(t){return t===void 0&&(t=!0),this.anticlockwise=t,this}get thickness(){return this._thickness}set thickness(t){t=nht(t,0,1),this.dirty=this.dirty||this._thickness!=t,this._thickness=t}setThickness(t){return this.thickness=t,this}get centerColor(){return this._centerColor}set centerColor(t){this.dirty=this.dirty||this._centerColor!=t,this._centerColor=t}setCenterColor(t){return this.centerColor=t,this}};Object.assign(hw.prototype,iht);It.register("circularProgress",function(e,t,i,s,p,E){var n=new hw(this.scene,e,t,i,s,p,E);return this.scene.add.existing(n),n});Lt(window,"RexPlugins.UI.CircularProgress",hw);var hP=function(e,t,i,s,p,E,n,T,r,o,x,d){o===void 0&&(o=0),x===void 0&&(x=2*Math.PI),d===void 0&&(d=!1),t.beginPath(),t.ellipse(i,s,p,E,0,o,x,d),n!=null&&(t.fillStyle=n,t.fill()),T!=null&&(t.strokeStyle=T,t.lineWidth=r,t.stroke())};const KI=["AliceBlue","AntiqueWhite","Aqua","Aquamarine","Azure","Beige","Bisque","Black","BlanchedAlmond","Blue","BlueViolet","Brown","BurlyWood","CadetBlue","Chartreuse","Chocolate","Coral","CornflowerBlue","Cornsilk","Crimson","Cyan","DarkBlue","DarkCyan","DarkGoldenRod","DarkGray","DarkGrey","DarkGreen","DarkKhaki","DarkMagenta","DarkOliveGreen","DarkOrange","DarkOrchid","DarkRed","DarkSalmon","DarkSeaGreen","DarkSlateBlue","DarkSlateGray","DarkSlateGrey","DarkTurquoise","DarkViolet","DeepPink","DeepSkyBlue","DimGray","DimGrey","DodgerBlue","FireBrick","FloralWhite","ForestGreen","Fuchsia","Gainsboro","GhostWhite","Gold","GoldenRod","Gray","Grey","Green","GreenYellow","HoneyDew","HotPink","IndianRed","Indigo","Ivory","Khaki","Lavender","LavenderBlush","LawnGreen","LemonChiffon","LightBlue","LightCoral","LightCyan","LightGoldenRodYellow","LightGray","LightGrey","LightGreen","LightPink","LightSalmon","LightSeaGreen","LightSkyBlue","LightSlateGray","LightSlateGrey","LightSteelBlue","LightYellow","Lime","LimeGreen","Linen","Magenta","Maroon","MediumAquaMarine","MediumBlue","MediumOrchid","MediumPurple","MediumSeaGreen","MediumSlateBlue","MediumSpringGreen","MediumTurquoise","MediumVioletRed","MidnightBlue","MintCream","MistyRose","Moccasin","NavajoWhite","Navy","OldLace","Olive","OliveDrab","Orange","OrangeRed","Orchid","PaleGoldenRod","PaleGreen","PaleTurquoise","PaleVioletRed","PapayaWhip","PeachPuff","Peru","Pink","Plum","PowderBlue","Purple","RebeccaPurple","Red","RosyBrown","RoyalBlue","SaddleBrown","Salmon","SandyBrown","SeaGreen","SeaShell","Sienna","Silver","SkyBlue","SlateBlue","SlateGray","SlateGrey","Snow","SpringGreen","SteelBlue","Tan","Teal","Thistle","Tomato","Turquoise","Violet","Wheat","White","WhiteSmoke","Yellow","YellowGreen"],aht=[15792383,16444375,65535,8388564,15794175,16119260,16770244,0,16772045,255,9055202,10824234,14596231,6266528,8388352,13789470,16744272,6591981,16775388,14423100,65535,139,35723,12092939,11119017,11119017,25600,12433259,9109643,5597999,16747520,10040012,9109504,15308410,9419919,4734347,3100495,3100495,52945,9699539,16716947,49151,6908265,6908265,2003199,11674146,16775920,2263842,16711935,14474460,16316671,16766720,14329120,8421504,8421504,32768,11403055,15794160,16738740,13458524,4915330,16777200,15787660,15132410,16773365,8190976,16775885,11393254,15761536,14745599,16448210,13882323,13882323,9498256,16758465,16752762,2142890,8900346,7833753,7833753,11584734,16777184,65280,3329330,16445670,16711935,8388608,6737322,205,12211667,9662683,3978097,8087790,64154,4772300,13047173,1644912,16121850,16770273,16770229,16768685,128,16643558,8421376,7048739,16753920,16729344,14315734,15657130,10025880,11529966,14381203,16773077,16767673,13468991,16761035,14524637,11591910,8388736,6697881,16711680,12357519,4286945,9127187,16416882,16032864,3050327,16774638,10506797,12632256,8900331,6970061,7372944,7372944,16775930,65407,4620980,13808780,32896,14204888,16737095,4251856,15631086,16113331,16777215,16119285,16776960,10145074];var jb={},ZI;for(var j0=0,oht=KI.length;j0<oht;j0++)ZI=KI[j0].toLowerCase(),jb[ZI]=aht[j0];var lht=function(e){return e=e.toLowerCase(),jb.hasOwnProperty(e)?jb[e]:null},Qb=function(e){return typeof e!="string"||(e.startsWith("#")?e=parseInt(e.substring(1),16):e.startsWith("0x")?e=parseInt(e.substring(2),16):e=lht(e)),e};const hht=Phaser.Math.DegToRad,uP=Phaser.Math.Linear;var uht=function(e,t,i,s,p,E,n,T,r,o,x,d,h){o===void 0&&(o=0),x===void 0&&(x=2*Math.PI),d===void 0&&(d=!1),h===void 0&&(h=2),n=Qb(n),T=Qb(T),qv=eI(n,qv),_v=eI(T,_v);var l=hht(h),a;d?a=o-x:a=x-o,a<0&&(a+=2*Math.PI);var f=Math.ceil(a/l),c=a/f;d&&(c=-c);for(var u=0;u<f;u++){var v=u/f,g=Math.round(uP(qv.r,_v.r,v)),m=Math.round(uP(qv.g,_v.g,v)),y=Math.round(uP(qv.b,_v.b,v)),C=o+u*c,b=C+c;u<f-1&&(b+=c/2),t.beginPath(),t.ellipse(i,s,p,E,0,C,b,d),t.strokeStyle=`rgb(${g},${m},${y})`,t.lineWidth=r,t.stroke()}},qv,_v,fht=function(e,t,i,s,p,E,n,T,r,o,x){r===void 0&&T!=null&&(r=2),t.font=E,t.textAlign=o,t.textBaseline=x,t.fillStyle=n,t.strokeStyle=T,t.lineWidth=r,t.lineCap="round",t.lineJoin="round",T!=null&&T!=="none"&&r>0&&t.strokeText(p,i,s),n!=null&&n!=="none"&&t.fillText(p,i,s)};const fP=Phaser.Math.PI2;var dht=function(){var e=this.radius,t=this.thickness*this.radius,i=this.radius-t/2,s=this.radius-t,p=this.canvas,E=this.context,n=this.anticlockwise,T=this.startAngle,r=this.endAngle,o=this._deltaAngle;if(this.trackColor&&t>0&&(E.save(),hP(p,E,e,e,i,i,void 0,this.trackColor,t,T,r,n),E.restore()),this.barColor&&i>0){var x;this.value>=1?x=r:n?x=(T-o*this.value+fP)%fP:x=(T+o*this.value)%fP,E.save(),this.barColor2?uht(p,E,e,e,i,i,this.barColor2,this.barColor,t,T,x,n):hP(p,E,e,e,i,i,void 0,this.barColor,t,T,x,n),E.restore()}if(this.centerColor&&s>0){var d;this.centerColor2?(d=this.context.createRadialGradient(e,e,0,e,e,s),d.addColorStop(0,this.centerColor),d.addColorStop(1,this.centerColor2)):d=this.centerColor,E.save(),hP(p,E,e,e,s,s,d),E.restore()}this.textFormatCallback&&(this.textColor||this.textStrokeColor)&&(E.save(),fht(p,E,e,e,this.getFormatText(),this.textFont,this.textColor,this.textStrokeColor,this.textStrokeThickness,"center","middle"),E.restore())};const _i=Phaser.Utils.Objects.GetValue,cht=Phaser.Utils.Objects.IsPlainObject,vht=Phaser.Math.Clamp,pht=Phaser.Math.DegToRad(270),sx=Phaser.Math.PI2;class zx extends Oh(Ah){constructor(t,i,s,p,E,n,T){cht(i)&&(T=i,i=_i(T,"x",0),s=_i(T,"y",0),p=_i(T,"radius",1),E=_i(T,"barColor",void 0),n=_i(T,"value",0));var r=p*2,o=_i(T,"resolution",1);super(t,i,s,r,r,o),this.type="rexCircularProgressCanvas",this.bootProgressBase(T),this.setRadius(p),this.setTrackColor(_i(T,"trackColor",void 0)),this.setBarColor(E),this.setBarColor2(_i(T,"barColor2",void 0)),this.setCenterColor(_i(T,"centerColor",void 0)),this.setThickness(_i(T,"thickness",.2)),this.setAnticlockwise(_i(T,"anticlockwise",!1)),this.setStartAngle(_i(T,"startAngle",pht));var x=_i(T,"endAngle");x===void 0&&(this.anticlockwise?x=this.startAngle-sx:x=this.startAngle+sx),this.setEndAngle(_i(T,"endAngle",x)),this.setTextColor(_i(T,"textColor",void 0)),this.setTextStrokeColor(_i(T,"textStrokeColor",void 0),_i(T,"textStrokeThickness",void 0));var d=_i(T,"textFont",void 0);d?this.setTextFont(d):this.setTextFont(_i(T,"textSize","16px"),_i(T,"textFamily","Courier"),_i(T,"textStyle","")),this.setTextFormatCallback(_i(T,"textFormatCallback",void 0),_i(T,"textFormatCallbackScope",void 0)),this.setValue(n)}resize(t,i){return t=Math.floor(Math.min(t,i)),t===this.width?this:(super.resize(t,t),this.setRadius(t/2),this)}get radius(){return this._radius}set radius(t){this.dirty=this.dirty||this._radius!=t,this._radius=t;var i=t*2;this.resize(i,i)}setRadius(t){return this.radius=t,this}get trackColor(){return this._trackColor}set trackColor(t){t=Ye(t,this.canvas,this.context),this.dirty=this.dirty||this._trackColor!=t,this._trackColor=t}setTrackColor(t){return this.trackColor=t,this}get barColor(){return this._barColor}set barColor(t){t=Ye(t,this.canvas,this.context),this.dirty=this.dirty||this._barColor!=t,this._barColor=t}setBarColor(t){return this.barColor=t,this}get barColor2(){return this._barColor2}set barColor2(t){t=Ye(t,this.canvas,this.context),this.dirty=this.dirty||this._barColor2!=t,this._barColor2=t}setBarColor2(t){return this.barColor2=t,this}get startAngle(){return this._startAngle}set startAngle(t){this.dirty=this.dirty||this._startAngle!=t,this._startAngle=t,this._deltaAngle=dP(this._startAngle,this._endAngle,this._anticlockwise)}setStartAngle(t){return this.startAngle=t,this}get endAngle(){return this._endAngle}set endAngle(t){this.dirty=this.dirty||this._endAngle!=t,this._endAngle=t,this._deltaAngle=dP(this._startAngle,this._endAngle,this._anticlockwise)}setEndAngle(t){return this.endAngle=t,this}get anticlockwise(){return this._anticlockwise}set anticlockwise(t){this.dirty=this.dirty||this._anticlockwise!=t,this._anticlockwise=t,this._deltaAngle=dP(this._startAngle,this._endAngle,this._anticlockwise)}setAnticlockwise(t){return t===void 0&&(t=!0),this.anticlockwise=t,this}get thickness(){return this._thickness}set thickness(t){t=vht(t,0,1),this.dirty=this.dirty||this._thickness!=t,this._thickness=t}setThickness(t){return this.thickness=t,this}get centerColor(){return this._centerColor}set centerColor(t){t=Ye(t,this.canvas,this.context),this.dirty=this.dirty||this._centerColor!=t,this._centerColor=t}get centerColor2(){return this._centerColor2}set centerColor2(t){t=Ye(t,this.canvas,this.context),this.dirty=this.dirty||this._centerColor2!=t,this._centerColor2=t}setCenterColor(t,i){return this.centerColor=t,this.centerColor2=i,this}get textColor(){return this._textColor}set textColor(t){t=Ye(t,this.canvas,this.context),this.dirty=this.dirty||this._textColor!=t,this._textColor=t}setTextColor(t){return this.textColor=t,this}get textStrokeColor(){return this._textStrokeColor}set textStrokeColor(t){t=Ye(t,this.canvas,this.context),this.dirty=this.dirty||this._textStrokeColor!=t,this._textStrokeColor=t}get textStrokeThickness(){return this._textStrokeThickness}set textStrokeThickness(t){this.dirty=this.dirty||this._textStrokeThickness!=t,this._textStrokeThickness=t}setTextStrokeColor(t,i){return i===void 0&&(i=2),this.textStrokeColor=t,this.textStrokeThickness=i,this}get textFont(){return this._textFont}set textFont(t){this.dirty=this.dirty||this._textFont!=t,this._textFont=t}setTextFont(t,i,s){var p;return i===void 0?p=t:p=s+" "+t+" "+i,this.textFont=p,this}setTextFormatCallback(t,i){return this.textFormatCallback=t,this.textFormatCallbackScope=i,this}updateTexture(){return super.updateTexture(function(){this.clear(),dht.call(this)},this),this}getFormatText(t){t===void 0&&(t=this.value);var i;return this.textFormatCallbackScope?i=this.textFormatCallback(t):i=this.textFormatCallback.call(this.textFormatCallbackScope,t),i}}var dP=function(e,t,i){return i?e<=t?sx+e-t:e-t:e>=t?sx+t-e:t-e};It.register("circularProgressCanvas",function(e,t,i,s,p,E){var n=new zx(this.scene,e,t,i,s,p,E);return this.scene.add.existing(n),n});Lt(window,"RexPlugins.UI.CircularProgressCanvas",zx);var ght=function(){var e=this.skewX,t=this.width-Math.abs(e),i=this.height,s=this.getShape("trackFill");s.fillStyle(this.trackColor),s.isFilled&&cP(s,0,0,t,i,e);var p=this.getShape("bar");if(p.fillStyle(this.barColor),p.isFilled){var E,n;this.rtl?(E=t*(1-this.value),n=t):(E=0,n=t*this.value),cP(p,E,0,n,i,e)}var T=this.getShape("trackStroke");T.lineStyle(this.trackStrokeThickness,this.trackStrokeColor),T.isStroked&&cP(T,0,0,t,i,e)},cP=function(e,t,i,s,p,E){var n=(t+s)/2;return E>=0?e.startAt(n+E,i).lineTo(s+E,i).lineTo(s,p).lineTo(t,p).lineTo(t+E,i).lineTo(n+E,i):e.startAt(n,i).lineTo(s,i).lineTo(s-E,p).lineTo(t-E,p).lineTo(t,i).lineTo(n,i),e.close(),e};const tp=Phaser.Utils.Objects.GetValue,vP=Phaser.Utils.Objects.IsPlainObject;let Wx=class extends Oh(xl){constructor(t,i,s,p,E,n,T,r){vP(i)?(r=i,i=r.x,s=r.y,p=r.width,E=r.height,n=r.barColor,T=r.value):vP(p)?(r=p,p=r.width,E=r.height,n=r.barColor,T=r.value):vP(n)&&(r=n,n=r.barColor,T=r.value),i===void 0&&(i=0),s===void 0&&(s=0),p===void 0&&(p=2),E===void 0&&(E=p),T===void 0&&(T=0),super(t,i,s,p,E,r),this.type="rexLineProgress",this.bootProgressBase(r),this.addShape(new pn().setName("trackFill")).addShape(new pn().setName("bar")).addShape(new pn().setName("trackStroke")),this.setTrackColor(tp(r,"trackColor",void 0)),this.setBarColor(n),this.setTrackStroke(tp(r,"trackStrokeThickness",2),tp(r,"trackStrokeColor",void 0)),this.setSkewX(tp(r,"skewX",0)),this.setRTL(tp(r,"rtl",!1)),this.setValue(T)}get trackColor(){return this._trackColor}set trackColor(t){this.dirty=this.dirty||this._trackColor!=t,this._trackColor=t}setTrackColor(t){return this.trackColor=t,this}get trackStrokeColor(){return this._trackStrokeColor}set trackStrokeColor(t){this.dirty=this.dirty||this._trackStrokeColor!=t,this._trackStrokeColor=t}get trackStrokeThickness(){return this._trackStrokeThickness}set trackStrokeThickness(t){this.dirty=this.dirty||this._trackStrokeThickness!=t,this._trackStrokeThickness=t}setTrackStroke(t,i){return this.trackStrokeThickness=t,this.trackStrokeColor=i,this}get barColor(){return this._barColor}set barColor(t){this.dirty=this.dirty||this._barColor!=t,this._barColor=t}setBarColor(t){return this.barColor=t,this}get skewX(){return this._skewX}set skewX(t){this.dirty=this.dirty||this._skewX!=t,this._skewX=t}setSkewX(t){return this.skewX=t,this}get rtl(){return this._rtl}set rtl(t){t=!!t,this.dirty=this.dirty||this._rtl!=t,this._rtl=t}setRTL(t){return t===void 0&&(t=!0),this.rtl=t,this}};var mht={updateShapes:ght};Object.assign(Wx.prototype,mht);It.register("lineProgress",function(e,t,i,s,p,E,n){var T=new Wx(this.scene,e,t,i,s,p,E,n);return this.scene.add.existing(T),T});Lt(window,"RexPlugins.UI.LineProgress",Wx);var qb=function(e,t,i,s,p){e.setIterations(p).start();var T=s.tl;if(Ji(T))if(T.convex){var E=T.x,n=T.y;e.ellipticalArc(E,n,T.x,T.y,180,270,!1)}else{var E=0,n=0;e.ellipticalArc(E,n,T.x,T.y,90,0,!0)}else e.lineTo(0,0);var T=s.tr;if(Ji(T))if(T.convex){var E=t-T.x,n=T.y;e.ellipticalArc(E,n,T.x,T.y,270,360,!1)}else{var E=t,n=0;e.ellipticalArc(E,n,T.x,T.y,180,90,!0)}else e.lineTo(t,0);var T=s.br;if(Ji(T))if(T.convex){var E=t-T.x,n=i-T.y;e.ellipticalArc(E,n,T.x,T.y,0,90,!1)}else{var E=t,n=i;e.ellipticalArc(E,n,T.x,T.y,270,180,!0)}else e.lineTo(t,i);var T=s.bl;if(Ji(T))if(T.convex){var E=T.x,n=i-T.y;e.ellipticalArc(E,n,T.x,T.y,90,180,!1)}else{var E=0,n=i;e.ellipticalArc(E,n,T.x,T.y,360,270,!0)}else e.lineTo(0,i);return e.close(),e},Q0=Phaser.Math.RadToDeg,yht=function(e,t,i,s,p){var E=t*p,o=s.tl;if(Ji(o)){var n;E>o.x?n=90:n=Q0(Math.acos((o.x-E)/o.x));var T=o.x,r=o.y;e.ellipticalArc(T,r,o.x,o.y,180,180+n,!1)}else e.lineTo(0,0);var o=s.tr;if(Ji(o)&&E>t-o.x){var n=90-Q0(Math.acos((E-(t-o.x))/o.x)),T=t-o.x,r=o.y;e.ellipticalArc(T,r,o.x,o.y,270,270+n,!1)}else e.lineTo(E,0);var o=s.br;if(Ji(o)&&E>t-o.x){var n=90-Q0(Math.acos((E-(t-o.x))/o.x)),T=t-o.x,r=i-o.y;e.ellipticalArc(T,r,o.x,o.y,90-n,90,!1)}else e.lineTo(E,i);var o=s.bl;if(Ji(o)){var n;E>o.x?n=90:n=Q0(Math.acos((o.x-E)/o.x));var T=o.x,r=i-o.y;e.ellipticalArc(T,r,o.x,o.y,180-n,180,!1)}else e.lineTo(0,i)},q0=Phaser.Math.RadToDeg,xht=function(e,t,i,s,p){var E=i*p,o=s.tl;if(Ji(o)){var n;E>o.y?n=90:n=q0(Math.acos((o.y-E)/o.y));var T=o.x,r=o.y;e.ellipticalArc(T,r,o.x,o.y,270-n,270,!1)}else e.lineTo(0,0);var o=s.tr;if(Ji(o)){var n;E>o.y?n=90:n=q0(Math.acos((o.y-E)/o.y));var T=t-o.x,r=o.y;e.ellipticalArc(T,r,o.x,o.y,270,270+n,!1)}else e.lineTo(t,0);var o=s.br;if(Ji(o)&&E>i-o.y){var n=90-q0(Math.acos((E-(i-o.y))/o.y)),T=t-o.x,r=i-o.y;e.ellipticalArc(T,r,o.x,o.y,0,0+n,!1)}else e.lineTo(t,E);var o=s.bl;if(Ji(o)&&E>i-o.y){var n=90-q0(Math.acos((E-(i-o.y))/o.y)),T=o.x,r=i-o.y;e.ellipticalArc(T,r,o.x,o.y,180-n,180,!1)}else e.lineTo(0,E)},_0=Phaser.Math.RadToDeg,Tht=function(e,t,i,s,p){var E=t*p,o=s.tr;if(Ji(o)){var n;E>o.x?n=90:n=_0(Math.acos((o.x-E)/o.x));var T=t-o.x,r=o.y;e.ellipticalArc(T,r,o.x,o.y,360-n,360,!1)}else e.lineTo(t,0);var o=s.br;if(Ji(o)){var n;E>o.x?n=90:n=_0(Math.acos((o.x-E)/o.x));var T=t-o.x,r=i-o.y;e.ellipticalArc(T,r,o.x,o.y,0,0+n,!1)}else e.lineTo(t,i);var o=s.bl;if(Ji(o)&&E>t-o.x){var n=90-_0(Math.acos((E-(t-o.x))/o.x)),T=o.x,r=i-o.y;e.ellipticalArc(T,r,o.x,o.y,90,90+n,!1)}else e.lineTo(t-E,i);var o=s.tl;if(Ji(o)&&E>t-o.x){var n=90-_0(Math.acos((E-(t-o.x))/o.x)),T=o.x,r=o.y;e.ellipticalArc(T,r,o.x,o.y,270-n,270,!1)}else e.lineTo(t-E,0)},ty=Phaser.Math.RadToDeg,Cht=function(e,t,i,s,p){var E=i*p,o=s.br;if(Ji(o)){E>o.y?r=90:r=ty(Math.acos((o.y-E)/o.y));var n=t-o.x,T=i-o.y;e.ellipticalArc(n,T,o.x,o.y,90-r,90,!1)}else e.lineTo(t,i);var o=s.bl;if(Ji(o)){E>o.y?r=90:r=ty(Math.acos((o.y-E)/o.y));var n=o.x,T=i-o.y;e.ellipticalArc(n,T,o.x,o.y,90,90+r,!1)}else e.lineTo(0,i);var o=s.tl;if(Ji(o)&&E>i-o.y){var r=90-ty(Math.acos((E-(i-o.y))/o.y)),n=o.x,T=o.y;e.ellipticalArc(n,T,o.x,o.y,180,180+r,!1)}else e.lineTo(0,i-E);var o=s.tr;if(Ji(o)&&E>i-o.y){var r=90-ty(Math.acos((E-(i-o.y))/o.y)),n=t-o.x,T=o.y;e.ellipticalArc(n,T,o.x,o.y,360-r,360,!1)}else e.lineTo(t,i-E)},Sht=function(e,t,i,s,p,E,n,T){if(e.setIterations(T).start(),p===0)return e;if(p===1)return qb(e,t,i,s,T);var r;return E===0?r=n?Tht:yht:r=n?Cht:xht,r(e,t,i,s,p),e.close(),e},Eht=function(){var e=this.width,t=this.height,i=this.rrGeom.cornerRadius,s=this.value,p=this.orientation,E=this.rtl,n=this.iteration+1,T=this.getShape("trackFill");T.fillStyle(this.trackColor),T.isFilled&&qb(T,e,t,i,n);var r=this.getShape("bar");r.fillStyle(this.barColor),r.isFilled&&Sht(r,e,t,i,s,p,E,n);var o=this.getShape("trackStroke");o.lineStyle(this.trackStrokeThickness,this.trackStrokeColor),o.isStroked&&qb(o,e,t,i,n)},Pht={x:0,h:0,horizontal:0,"left-to-right":0,y:1,v:1,vertical:1,"top-to-bottom":1},Qu=function(e){return typeof e=="string"&&(e=Pht[e]),e};const ud=Phaser.Utils.Objects.GetValue,pP=Phaser.Utils.Objects.IsPlainObject;class uw extends Oh(xl){constructor(t,i,s,p,E,n,T,r,o){pP(i)?(o=i,i=o.x,s=o.y,p=o.width,E=o.height,n=o.radius,T=o.barColor,r=o.value):pP(p)?(o=p,p=o.width,E=o.height,n=o.radius,T=o.barColor,r=o.value):pP(n)&&(o=n,n=o.radius,T=o.barColor,r=o.value),i===void 0&&(i=0),s===void 0&&(s=0),p===void 0&&(p=1),E===void 0&&(E=p),n===void 0&&(n=0),r===void 0&&(r=0),super(t,i,s,p,E,o),this.type="rexRoundRectangleProgress",this.rrGeom=new zM,this.bootProgressBase(o),this.addShape(new pn().setName("trackFill")).addShape(new pn().setName("bar")).addShape(new pn().setName("trackStroke")),this.setTrackColor(ud(o,"trackColor",void 0)),this.setBarColor(T),this.setTrackStroke(ud(o,"trackStrokeThickness",2),ud(o,"trackStrokeColor",void 0)),this.setOrientation(ud(o,"orientation",0)),this.setRTL(ud(o,"rtl",!1)),this.setRadius(n),this.setIteration(ud(n,"iteration",void 0)),this.setValue(r)}get trackColor(){return this._trackColor}set trackColor(t){this.dirty=this.dirty||this._trackColor!=t,this._trackColor=t}setTrackColor(t){return this.trackColor=t,this}get trackStrokeColor(){return this._trackStrokeColor}set trackStrokeColor(t){this.dirty=this.dirty||this._trackStrokeColor!=t,this._trackStrokeColor=t}get trackStrokeThickness(){return this._trackStrokeThickness}set trackStrokeThickness(t){this.dirty=this.dirty||this._trackStrokeThickness!=t,this._trackStrokeThickness=t}setTrackStroke(t,i){return this.trackStrokeThickness=t,this.trackStrokeColor=i,this}get barColor(){return this._barColor}set barColor(t){this.dirty=this.dirty||this._barColor!=t,this._barColor=t}setBarColor(t){return this.barColor=t,this}get orientation(){return this._orientation}set orientation(t){t=Qu(t),this.dirty=this.dirty||this._orientation!=t,this._orientation=t}setOrientation(t){return this.orientation=t,this}get rtl(){return this._rtl}set rtl(t){t=!!t,this.dirty=this.dirty||this._rtl!=t,this._rtl=t}setRTL(t){return t===void 0&&(t=!0),this.rtl=t,this}get radius(){return this.rrGeom.radius}set radius(t){this.rrGeom.setRadius(t),this.dirty=!0}get radiusTL(){return this.rrGeom.radiusTL}set radiusTL(t){this.rrGeom.radiusTL=t,this.dirty=!0}get radiusTR(){return this.rrGeom.radiusTR}set radiusTR(t){this.rrGeom.radiusTR=t,this.dirty=!0}get radiusBL(){return this.rrGeom.radiusBL}set radiusBL(t){this.rrGeom.radiusBL=t,this.dirty=!0}get radiusBR(){return this.rrGeom.radiusBR}set radiusBR(t){this.rrGeom.radiusBR=t,this.dirty=!0}setRadius(t){return t===void 0&&(t=0),this.radius=t,this}setRadiusTL(t){return t===void 0&&(t=0),this.radiusTL=t,this}setRadiusTR(t){return t===void 0&&(t=0),this.radiusTR=t,this}setRadiusBL(t){return t===void 0&&(t=0),this.radiusBL=t,this}setRadiusBR(t){return t===void 0&&(t=0),this.radiusBR=t,this}get cornerRadius(){return this.rrGeom.cornerRadius}set cornerRadius(t){this.radius=t}setCornerRadius(t){return this.setRadius(t)}get iteration(){return this._iteration}set iteration(t){if(this._iteration===void 0){this._iteration=t;return}this._iteration!==t&&(this._iteration=t,this.dirty=!0)}setIteration(t){return t===void 0&&(t=6),this.iteration=t,this}}var bht={updateShapes:Eht};Object.assign(uw.prototype,bht);It.register("roundRectanleProgress",function(e,t,i,s,p,E,n,T){var r=new uw(this.scene,e,t,i,s,p,E,n,T);return this.scene.add.existing(r),r});Lt(window,"RexPlugins.UI.RoundRectangleProgress",uw);var Mht=function(e,t){e.save(),e.beginPath();var i=t[0];e.moveTo(i.x,i.y);for(var s=1,p=t.length;s<p;s++)i=t[s],e.lineTo(i.x,i.y);e.closePath(),e.restore()},gP=function(e,t,i,s,p,E,n){n===void 0&&(n="round"),Mht(t,i),t.lineJoin=n,s!=null&&(t.fillStyle=s,t.fill()),p!=null&&(t.strokeStyle=p,t.lineWidth=E,t.stroke())},wht=function(){var e=this.skewX,t=this.width-Math.abs(e),i=this.height,s=this.canvas,p=this.context;(this.trackColor||this.trackStrokeColor)&&JI(0,0,t,i,e,this.trackPoints);var E,n;if(this.barColor&&(this.rtl?(E=t*(1-this.value),n=t):(E=0,n=t*this.value),JI(E,0,n,i,e,this.barPoints)),this.trackColor&&(p.save(),gP(s,p,this.trackPoints,this.trackColor),p.restore()),this.barColor){p.save();var T;if(this.barColor2){var r;if(this.isHorizontalGradient){var o=i/2;r=p.createLinearGradient(E,o,n,o)}else{var x=t/2;r=p.createLinearGradient(x,0,x,i)}r.addColorStop(0,this.rtl?this.barColor:this.barColor2),r.addColorStop(1,this.rtl?this.barColor2:this.barColor),T=r}else T=this.barColor;gP(s,p,this.barPoints,T),p.restore()}this.trackStrokeColor&&this.trackStrokeThickness>0&&(p.save(),gP(s,p,this.trackPoints,void 0,this.trackStrokeColor,this.trackStrokeThickness),p.restore())},JI=function(e,t,i,s,p,E){E===void 0&&(E=[]),E.length=4;for(var n=0;n<4;n++)E[n]||(E[n]={});var T;return p>=0?(T=E[0],T.x=e+p,T.y=t,T=E[1],T.x=i+p,T.y=t,T=E[2],T.x=i,T.y=s,T=E[3],T.x=e,T.y=s):(T=E[0],T.x=e,T.y=t,T=E[1],T.x=i,T.y=t,T=E[2],T.x=i-p,T.y=s,T=E[3],T.x=e-p,T.y=s),E};const Er=Phaser.Utils.Objects.GetValue,mP=Phaser.Utils.Objects.IsPlainObject;class fw extends Oh(Ah){constructor(t,i,s,p,E,n,T,r){mP(i)?(r=i,i=Er(r,"x",0),s=Er(r,"y",0),p=Er(r,"width",2),E=Er(r,"height",2),n=Er(r,"barColor",void 0),T=Er(r,"value",0)):mP(p)?(r=p,p=Er(r,"width",2),E=Er(r,"height",2),n=Er(r,"barColor",void 0),T=Er(r,"value",0)):mP(n)&&(r=n,n=Er(r,"barColor",void 0),T=Er(r,"value",0));var o=Er(r,"resolution",1);super(t,i,s,p,E,o),this.type="rexLineProgressCanvas",this.trackPoints=[],this.barPoints=[],this.bootProgressBase(r),this.setTrackColor(Er(r,"trackColor",void 0)),this.setBarColor(n,Er(r,"barColor2",void 0),Er(r,"isHorizontalGradient",void 0)),this.setTrackStroke(Er(r,"trackStrokeThickness",2),Er(r,"trackStrokeColor",void 0)),this.setSkewX(Er(r,"skewX",0)),this.setRTL(Er(r,"rtl",!1)),this.setValue(T)}get trackColor(){return this._trackColor}set trackColor(t){t=Ye(t,this.canvas,this.context),this.dirty=this.dirty||this._trackColor!=t,this._trackColor=t}setTrackColor(t){return this.trackColor=t,this}get trackStrokeColor(){return this._trackStrokeColor}set trackStrokeColor(t){t=Ye(t,this.canvas,this.context),this.dirty=this.dirty||this._trackStrokeColor!=t,this._trackStrokeColor=t}get trackStrokeThickness(){return this._trackStrokeThickness}set trackStrokeThickness(t){this.dirty=this.dirty||this._trackStrokeThickness!=t,this._trackStrokeThickness=t}setTrackStroke(t,i){return this.trackStrokeThickness=t,this.trackStrokeColor=i,this}get barColor(){return this._barColor}set barColor(t){t=Ye(t,this.canvas,this.context),this.dirty=this.dirty||this._barColor!=t,this._barColor=t}get barColor2(){return this._barColor2}set barColor2(t){t=Ye(t,this.canvas,this.context),this.dirty=this.dirty||this._barColor2!=t,this._barColor2=t}get isHorizontalGradient(){return this._isHorizontalGradient}set isHorizontalGradient(t){this.dirty|=this._isHorizontalGradient!=t,this._isHorizontalGradient=t}setBarColor(t,i,s){return s===void 0&&(s=!0),this.barColor=t,this.barColor2=i,this.isHorizontalGradient=s,this}get skewX(){return this._skewX}set skewX(t){this.dirty=this.dirty||this._skewX!=t,this._skewX=t}setSkewX(t){return this.skewX=t,this}get rtl(){return this._rtl}set rtl(t){t=!!t,this.dirty=this.dirty||this._rtl!=t,this._rtl=t}setRTL(t){return t===void 0&&(t=!0),this.rtl=t,this}updateTexture(){return super.updateTexture(function(){this.clear(),wht.call(this)},this),this}}It.register("circularProgressCanvas",function(e,t,i,s,p,E,n){var T=new fw(this.scene,e,t,i,s,p,E,n);return this.scene.add.existing(T),T});Lt(window,"RexPlugins.UI.LineProgressCanvas",fw);Phaser.Math.Wrap;const fd=Phaser.Math.Linear;var Rht=function(){var e=this.getShape("triangle"),t=this.padding,i=this.width-t.right,s=0+t.left,p=this.height-t.bottom,E=0+t.top,n=(s+i)/2,T=(E+p)/2,r={0:{a:{x:s,y:E},b:{x:i,y:T},c:{x:s,y:p}},1:{a:{x:s,y:E},b:{x:n,y:p},c:{x:i,y:E}},2:{a:{x:i,y:E},b:{x:s,y:T},c:{x:i,y:p}},3:{a:{x:s,y:p},b:{x:n,y:E},c:{x:i,y:p}}},o,x,d,h,l,a;if(this.previousDirection===void 0){var f=r[this.direction],c=f.a,u=f.b,v=f.c;o=c.x,x=c.y,d=u.x,h=u.y,l=v.x,a=v.y}else{var g=r[this.previousDirection],m=r[this.direction],y=this.easeDirectionProgress;o=fd(g.a.x,m.a.x,y),x=fd(g.a.y,m.a.y,y),d=fd(g.b.x,m.b.x,y),h=fd(g.b.y,m.b.y,y),l=fd(g.c.x,m.c.x,y),a=fd(g.c.y,m.c.y,y)}e.startAt(o,x).lineTo(d,h).lineTo(l,a),this.arrowOnly?e.end():e.close()};const Aht=Phaser.Math.DegToRad,ey=Aht(120);var Oht=function(t){var t=this.getShape("triangle"),i=this.width/2,s=this.height/2,p=Math.min(i,s)*this.radius,E=this.verticeRotation;t.startAt(i+p*Math.cos(E+ey),s+p*Math.sin(E+ey)).lineTo(i+p*Math.cos(E),s+p*Math.sin(E)).lineTo(i+p*Math.cos(E-ey),s+p*Math.sin(E-ey)),this.arrowOnly?t.end():t.close()};const Lht={buildShapes(){this.addShape(new pn().setName("triangle"))},updateShapes(){var e=this.getShape("triangle");this.arrowOnly?e.fillStyle().lineStyle(this.lineWidth,this.strokeColor,this.strokeAlpha):e.fillStyle(this.fillColor,this.fillAlpha).lineStyle(this.lineWidth,this.strokeColor,this.strokeAlpha),this.shapeMode===0?Rht.call(this):Oht.call(this)}},Dht={setEaseDuration(e){return e===void 0&&(e=0),this.easeDuration=e,this},playEaseDirectionation(){return this.easeDirectionProgressTask===void 0&&(this.easeDirectionProgressTask=new ml(this,{eventEmitter:null})),this.easeDirectionProgressTask.restart({key:"easeDirectionProgress",from:0,to:1,duration:this.easeDuration}),this},stopEaseDirection(){return this.easeDirectionProgressTask===void 0?this:(this.easeDirectionProgressTask.stop(),this)}},dd=Phaser.Utils.Objects.GetValue,Fht=Phaser.Utils.Objects.IsPlainObject,Iht=Phaser.Math.DegToRad,Bht=Phaser.Math.RadToDeg;class Hp extends xl{constructor(t,i,s,p,E,n,T){var r,o,x,d,h,l,a,f;if(Fht(i)){var c=i;i=c.x,s=c.y,p=c.width,E=c.height,n=c.color,T=c.alpha,r=c.strokeColor,o=c.strokeAlpha,x=c.strokeWidth,d=c.arrowOnly,h=c.direction,l=c.easeDuration,a=c.padding,f=c.radius}i===void 0&&(i=0),s===void 0&&(s=0),p===void 0&&(p=1),E===void 0&&(E=p),d===void 0&&(d=!1),h===void 0&&(h=0),l===void 0&&(l=0),a===void 0&&(a=0),f===void 0&&(f=void 0),super(t,i,s,p,E),this.type="rexTriangle",this.setFillStyle(n,T),r!==void 0&&x===void 0&&(x=2),this.setStrokeStyle(x,r,o),this.setArrowOnly(d),this.setDirection(h,l),this.setPadding(a),this.setRadius(f),this.buildShapes()}get arrowOnly(){return this._arrowOnly}set arrowOnly(t){this.dirty=this.dirty||this._arrowOnly!=t,this._arrowOnly=t}setArrowOnly(t){return t===void 0&&(t=!0),this.arrowOnly=t,this}get direction(){return this._direction}set direction(t){t=kht(t),this._direction!==t&&(this.easeDuration>0&&this._direction!==void 0?this.previousDirection=this._direction:this.previousDirection=void 0,this._direction=t,this.verticeAngle=t*90,this.dirty=!0,this.previousDirection!==void 0?this.playEaseDirectionation():this.stopEaseDirection())}setDirection(t,i){return i!==void 0&&this.setEaseDuration(i),this.direction=t,this}toggleDirection(t){return this.setDirection(this.direction+2,t),this}get easeDirectionProgress(){return this._easeDirectionProgress}set easeDirectionProgress(t){this._easeDirectionProgress!==t&&(this._easeDirectionProgress=t,this.dirty=!0)}setPadding(t,i,s,p){if(typeof t=="object"){var E=t,n=dd(E,"x",null);n!==null?(t=n,s=n):(t=dd(E,"left",0),s=dd(E,"right",t));var T=dd(E,"y",null);T!==null?(i=T,p=T):(i=dd(E,"top",0),p=dd(E,"bottom",i))}else t===void 0&&(t=0),i===void 0&&(i=t),s===void 0&&(s=t),p===void 0&&(p=i);return this.padding===void 0&&(this.padding={}),this.dirty=this.dirty||this.padding.left!=t||this.padding.top!=i||this.padding.right!=s||this.padding.bottom!=p,this.padding.left=t,this.padding.top=i,this.padding.right=s,this.padding.bottom=p,this.setRadius(),this}get radius(){return this._radius}set radius(t){this.dirty=this.dirty||this._radius!=t,this._radius=t}setRadius(t){return this.radius=t,this.shapeMode=t==null?0:1,this}get verticeRotation(){return this._verticeRotation}set verticeRotation(t){this.dirty=this.dirty||this._verticeRotation!=t,this._verticeRotation=t}setVerticeRotation(t){return this.verticeRotation=t,this}get verticeAngle(){return Bht(this.verticeRotation)}set verticeAngle(t){this.verticeRotation=Iht(t)}setVerticeAngle(t){return this.verticeAngle=t,this}}const Ght={right:0,down:1,left:2,up:3};var kht=function(e){return typeof e=="string"&&(e=Ght[e]),e=e%4,e};Object.assign(Hp.prototype,Lht,Dht);It.register("triangle",function(e,t,i,s,p,E){var n=new Hp(this.scene,e,t,i,s,p,E);return this.scene.add.existing(n),n});Lt(window,"RexPlugins.UI.Triangle",Hp);Ox();const Nht=Phaser.GameObjects.Zone,Uht=Phaser.Utils.Array.Add,Vht=Phaser.Utils.Array.Remove;let $p=class extends Nht{constructor(t,i,s,p,E){i===void 0&&(i=0),s===void 0&&(s=0),p===void 0&&(p=1),E===void 0&&(E=1),super(t,i,s,p,E),this.children=[]}destroy(t){if(!(!this.scene||this.ignoreDestroy)){if(t)for(var i,s=this.children.length-1;s>=0;s--)i=this.children[s],!i.parentContainer&&!i.displayList&&i.destroy(t);this.clear(!t),super.destroy(t)}}contains(t){return this.children.indexOf(t)!==-1}add(t){var i=this;return Uht(this.children,t,0,function(s){s.once("destroy",i.onChildDestroy,i)},this),this}remove(t,i){var s=this;return Vht(this.children,t,function(p){p.off("destroy",s.onChildDestroy,s),i&&p.destroy()}),this}onChildDestroy(t,i){this.remove(t,!1)}clear(t){for(var i=this,s,p=0,E=this.children.length;p<E;p++)s=this.children[p],s.off("destroy",i.onChildDestroy,i),t&&s.destroy();return this.children.length=0,this}};const jI=Phaser.GameObjects.Components;Phaser.Class.mixin($p,[jI.Alpha,jI.Flip]);var Ls=function(e,t){var i;if(t===void 0)e.hasOwnProperty("rexContainer")&&(i=e.rexContainer.parent);else for(i=Ls(e);i&&i.name!==t;)i=Ls(i);return i},ik=function(e){for(var t=Ls(e);t;)e=t,t=Ls(t);return e};const zht=Phaser.Math.DegToRad,Wht=Phaser.Math.RadToDeg;var je=function(e){if(!e.hasOwnProperty("rexContainer")){var t={parent:null,self:null,layer:null,x:0,y:0,syncPosition:!0,rotation:0,syncRotation:!0,scaleX:0,scaleY:0,syncScale:!0,alpha:0,syncAlpha:!0,syncScrollFactor:!0,syncCameraFilter:!0,syncDisplayList:!0,visible:!0,active:!0};Object.defineProperty(t,"angle",{get:function(){return Wht(this.rotation)},set:function(i){this.rotation=zht(i)}}),Object.defineProperty(t,"displayWidth",{get:function(){return e.width*this.scaleX},set:function(i){this.scaleX=i/e.width}}),Object.defineProperty(t,"displayHeight",{get:function(){return e.height*this.scaleY},set:function(i){this.scaleY=i/e.height}}),e.rexContainer=t}return e.rexContainer};const Yht={setParent(e,t){t===void 0&&(t=this);var i=je(e);return t?(i.parent=t,i.self=e):(i.parent=null,i.self=null),this},getParent(e,t){return typeof e=="string"&&(t=e,e=void 0),e===void 0&&(e=this),Ls(e,t)},getTopmostParent(e){return e===void 0&&(e=this),ik(e)}},Tu=Phaser.Utils.Objects.GetValue,rk=$p.prototype.add;var QI=function(e,t){this.setParent(e);var i=je(e);return nk(i,t),this.resetChildState(e).updateChildVisible(e).updateChildActive(e).updateChildScrollFactor(e).updateChildMask(e).updateCameraFilter(e),rk.call(this,e),sk.call(this,e,i),this},yP=function(e,t){this.setParent(e);var i=je(e);return nk(i,t),i.x=e.x,i.y=e.y,i.rotation=e.rotation,i.scaleX=e.scaleX,i.scaleY=e.scaleY,i.alpha=e.alpha,i.visible=e.visible,i.active=e.active,this.updateChildPosition(e).updateChildAlpha(e).updateChildVisible(e).updateChildActive(e).updateChildScrollFactor(e).updateChildMask(e),rk.call(this,e),sk.call(this,e,i),this},nk=function(e,t){t===void 0&&(t=!0),typeof t=="boolean"?(e.syncPosition=t,e.syncRotation=t,e.syncScale=t,e.syncAlpha=t,e.syncScrollFactor=t,e.syncCameraFilter=t,e.syncDisplayList=t):(e.syncPosition=Tu(t,"syncPosition",!0),e.syncRotation=Tu(t,"syncRotation",!0),e.syncScale=Tu(t,"syncScale",!0),e.syncAlpha=Tu(t,"syncAlpha",!0),e.syncScrollFactor=Tu(t,"syncScrollFactor",!0),e.syncCameraFilter=Tu(t,"syncCameraFilter",!0),e.syncDisplayList=Tu(t,"syncDisplayList",!0))},sk=function(e,t){this.addToParentContainer(e),t.syncDisplayList&&this.addToPatentLayer(e),this.addToRenderLayer(e)};const Xht={add(e){return Array.isArray(e)?this.addMultiple(e):QI.call(this,e),this},pin(e,t){return Array.isArray(e)?this.addMultiple(e,t):QI.call(this,e,t),this},addMultiple(e){for(var t=Array.from(arguments),i=0,s=e.length;i<s;i++)t[0]=e[i],this.add.apply(this,t);return this},addLocal(e){return Array.isArray(e)?this.addMultiple(e):yP.call(this,e),this},pinLocal(e,t){return Array.isArray(e)?this.addMultiple(e,t):yP.call(this,e,t),this},addLocalMultiple(e){for(var t=0,i=e.length;t<i;t++)yP.call(this,e[t]);return this}},qI=$p.prototype.remove,Hht=$p.prototype.clear,$ht={remove(e,t){return Ls(e)!==this?this:(this.setParent(e,null),t||this.removeFromRenderLayer(e),qI.call(this,e,t),this)},unpin(e,t){return Ls(e)!==this?this:(this.setParent(e,null),t||this.removeFromRenderLayer(e),qI.call(this,e,t),this)},clear(e){for(var t=this.children,i=0,s=t.length;i<s;i++){var p=t[i];this.setParent(p,null),e||this.removeFromRenderLayer(p)}return Hht.call(this,e),this}},Kht={getLocalState(e){return je(e)},resetChildState(e){return this.resetChildPositionState(e).resetChildVisibleState(e).resetChildAlphaState(e).resetChildActiveState(e),this},resetChildrenState(e){for(var t=0,i=e.length;t<i;t++)this.resetChildState(e[t]);return this},syncProperties(){return this.syncPosition().syncVisible().syncAlpha().syncActive().syncScrollFactor().syncMask(),this}},Zht={worldToLocal(e){e.x-=this.x,e.y-=this.y;var t=Math.cos(-this.rotation),i=Math.sin(-this.rotation),s=e.x,p=e.y;return e.x=s*t-p*i,e.y=s*i+p*t,e.x/=this.scaleX,e.y/=this.scaleY,e},localToWorld(e){e.x*=this.scaleX,e.y*=this.scaleY;var t=Math.cos(this.rotation),i=Math.sin(this.rotation),s=e.x,p=e.y;return e.x=s*t-p*i,e.y=s*i+p*t,e.x+=this.x,e.y+=this.y,e}};var Lp=function(e,t){return e===t?1:e/t};const Jht={updateChildPosition(e){e.isRexContainerLite&&(e.syncChildrenEnable=!1);var t=je(e),i=t.parent;return t.syncPosition&&(e.x=t.x,e.y=t.y,i.localToWorld(e)),t.syncRotation&&(e.rotation=t.rotation+i.rotation),t.syncScale&&(e.scaleX=t.scaleX*i.scaleX,e.scaleY=t.scaleY*i.scaleY),e.isRexContainerLite&&(e.syncChildrenEnable=!0,e.syncPosition()),this},syncPosition(){return this.syncChildrenEnable&&this.children.forEach(this.updateChildPosition,this),this},resetChildPositionState(e){var t=je(e),i=t.parent;return t.x=e.x,t.y=e.y,i.worldToLocal(t),t.scaleX=Lp(e.scaleX,i.scaleX),t.scaleY=Lp(e.scaleY,i.scaleY),t.rotation=e.rotation-i.rotation,this},setChildPosition(e,t,i){return e.x=t,e.y=i,this.resetChildPositionState(e),this},setChildLocalPosition(e,t,i){var s=je(e);return s.x=t,s.y=i,this.updateChildPosition(e),this},resetLocalPositionState(){var e=je(this).parent;return e&&e.resetChildPositionState(this),this},getChildLocalX(e){var t=je(e);return t.x},getChildLocalY(e){var t=je(e);return t.y}},jht=Phaser.Math.DegToRad,Qht={updateChildRotation(e){var t=je(e),i=t.parent;return t.syncRotation&&(e.rotation=i.rotation+t.rotation),this},syncRotation(){return this.syncChildrenEnable&&this.children.forEach(this.updateChildRotation,this),this},resetChildRotationState(e){var t=je(e),i=t.parent;return t.rotation=e.rotation-i.rotation,this},setChildRotation(e,t){return e.rotation=t,this.resetChildRotationState(e),this},setChildAngle(e,t){return e.angle=t,this.resetChildRotationState(e),this},setChildLocalRotation(e,t){var i=je(e);return i.rotation=t,this.updateChildRotation(e),this},setChildLocalAngle(e,t){var i=je(e);return i.rotation=jht(t),this.updateChildRotation(e),this},resetLocalRotationState(){var e=je(this).parent;return e&&e.resetChildRotationState(this),this},getChildLocalRotation(e){var t=je(e);return t.rotation}},qht={updateChildScale(e){var t=je(e),i=t.parent;return t.syncScale&&(e.scaleX=i.scaleX*t.scaleX,e.scaleY=i.scaleY*t.scaleY),this},syncScale(){return this.syncChildrenEnable&&this.children.forEach(this.updateChildScale,this),this},resetChildScaleState(e){var t=je(e),i=t.parent;return t.scaleX=Lp(e.scaleX,i.scaleX),t.scaleY=Lp(e.scaleY,i.scaleY),this},setChildScale(e,t,i){return i===void 0&&(i=t),e.scaleX=t,e.scaleY=i,this.resetChildScaleState(e),this},setChildLocalScale(e,t,i){i===void 0&&(i=t);var s=je(e);return s.scaleX=t,s.scaleY=i,this.updateChildScale(e),this},setChildDisplaySize(e,t,i){return e.setDisplaySize(t,i),this.resetChildScaleState(e),this},resetLocalScaleState(){var e=je(this).parent;return e&&e.resetChildScaleState(this),this},getChildLocalScaleX(e){var t=je(e);return t.scaleX},getChildLocalScaleY(e){var t=je(e);return t.scaleY}},_ht={updateChildVisible(e){var t=je(e),i=t.parent,s=t.hasOwnProperty("maskVisible")?t.maskVisible:!0,p=i?i.visible:!0;return e.visible=p&&t.visible&&s,this},syncVisible(){return this.syncChildrenEnable&&this.children.forEach(this.updateChildVisible,this),this},resetChildVisibleState(e){var t=je(e);return t.hasOwnProperty("maskVisible")&&delete t.maskVisible,t.visible=e.visible,this},setChildVisible(e,t){return this.setChildLocalVisible(e,t),this},setChildLocalVisible(e,t){t===void 0&&(t=!0);var i=je(e);return i.visible=t,this.updateChildVisible(e),this},setChildMaskVisible(e,t){t===void 0&&(t=!0);var i=je(e);return i.maskVisible=t,this.updateChildVisible(e),this},resetLocalVisibleState(){var e=je(this).parent;return e&&e.resetChildVisibleState(this),this},getChildLocalVisible(e){var t=je(e);return t.visible}},tut={updateChildAlpha(e){var t=je(e),i=t.parent;return t.syncAlpha&&(e.alpha=i.alpha*t.alpha),this},syncAlpha(){return this.syncChildrenEnable&&this.children.forEach(this.updateChildAlpha,this),this},resetChildAlphaState(e){var t=je(e),i=t.parent;return t.alpha=Lp(e.alpha,i.alpha),this},setChildAlpha(e,t){return e.alpha=t,this.resetChildAlphaState(e),this},setChildLocalAlpha(e,t){var i=je(e);return i.alpha=t,this.updateChildAlpha(e),this},resetLocalAlphaState(){var e=je(this).parent;return e&&e.resetChildAlphaState(this),this},getChildLocalAlpha(e){var t=je(e);return t.alpha}},eut={updateChildActive(e){var t=je(e),i=t.parent;return e.active=i.active&&t.active,this},syncActive(){return this.syncChildrenEnable&&this.children.forEach(this.updateChildActive,this),this},resetChildActiveState(e){var t=je(e);return t.active=e.active,this},setChildActive(e,t){return e.active=t,this.resetChildActiveState(e),this},setChildLocalActive(e,t){t===void 0&&(t=!0);var i=je(e);return i.active=t,this.updateChildActive(e),this},resetLocalActiveState(){var e=je(this).parent;return e&&e.resetChildActiveState(this),this},getChildLocalActive(e){var t=je(e);return t.active}},iut={updateChildScrollFactor(e){var t=je(e),i=t.parent;return t.syncScrollFactor&&(e.scrollFactorX=i.scrollFactorX,e.scrollFactorY=i.scrollFactorY),this},syncScrollFactor(){return this.syncChildrenEnable&&this.children.forEach(this.updateChildScrollFactor,this),this}},rut={updateCameraFilter(e){var t=je(e),i=t.parent;return t.syncCameraFilter&&(e.cameraFilter=i.cameraFilter),this},syncCameraFilter(){return this.syncChildrenEnable&&this.children.forEach(this.updateCameraFilter,this),this}},nut={updateChildMask(e){if(this.mask==null)return this;var t=this.mask.hasOwnProperty("geometryMask")?this.mask.geometryMask:this.mask.bitmapMask;return t!==e&&(e.mask=this.mask),this},syncMask(){return this.syncChildrenEnable&&this.children.forEach(this.updateChildMask,this),this},setMask(e){return this.mask=e,this},clearMask(e){e===void 0&&(e=!1);var t=this;return this._mask=null,this.setChildMaskVisible(this),this.children.forEach(function(i){i.clearMask&&i.clearMask(!1),i.hasOwnProperty("isRexContainerLite")||t.setChildMaskVisible(i)}),e&&this.mask&&this.mask.destroy(),this}};var iy=function(e){return e.filter(function(t){if(t.displayList)return!0;if(t.parentContainer)return!0})};const sut={setDepth(e,t){if(this.depth=e,!t&&this.children)for(var i=this.getAllChildren(),s=0,p=i.length;s<p;s++)i[s].depth=e;return this},swapDepth(e){var t=this.depth,i=e.depth;return this.setDepth(i),e.setDepth(t),this},incDepth(e){if(this.depth+=e,this.children)for(var t=this.getAllChildren(),i=0,s=t.length;i<s;i++)t[i].depth+=e;return this},bringToTop(){var e=this.displayList;if(!e)return this;var t=this.getAllChildren([this]);ea(t,!1);for(var i=0,s=t.length;i<s;i++){var p=t[i];e.exists(p)&&e.bringToTop(p)}return this},bringMeToTop(){return this.bringToTop()},sendToBack(){var e=this.displayList;if(!e)return this;var t=this.getAllChildren([this]);ea(t,!0);for(var i=0,s=t.length;i<s;i++){var p=t[i];e.exists(p)&&e.sendToBack(p)}return this},sendMeToBack(){return this.sendToBack()},moveDepthBelow(e){var t=this.displayList;if(!t)return this;if(e.displayList!==t)return this;var i=this.getAllChildren([this]);ea(i,!1);for(var s=0,p=i.length;s<p;s++){var E=i[s];if(t.exists(E)){t.moveBelow(e,E);break}}return this},moveMyDepthBelow(e){return this.moveDepthBelow(e)},moveDepthAbove(e){var t=this.displayList;if(!t)return this;if(e.displayList!==t)return this;var i=this.getAllChildren([this]);ea(i,!0);for(var s=0,p=i.length;s<p;s++){var E=i[s];if(t.exists(E)){t.moveAbove(e,E);break}}return this},moveMyDepthAbove(e){return this.moveDepthAbove(e)},bringChildToTop(e){var t;e!==this&&e.isRexContainerLite?(t=e.getAllChildren([e]),t=iy(t),t=ea(t,!1)):t=[e];var i=this.getAllChildren([this]);i=iy(i),i=ea(i,!1);for(var s=i[i.length-1],p=0,E=t.length;p<E;p++){var n=t[p];s!==n&&(n!==this&&s.displayList!==n.displayList||(s.displayList.moveAbove(n,s),s=n))}return this},sendChildToBack(e){var t;e!==this&&e.isRexContainerLite?(t=e.getAllChildren([e]),t=iy(t),t=ea(t,!1)):t=[e];var i=this.getAllChildren([this]);i=iy(i),i=ea(i,!1);for(var s=i[0],p=t.length-1;p>=0;p--){var E=t[p];s!==E&&(E!==this&&s.displayList!==E.displayList||(s.displayList.moveBelow(E,s),s=E))}return this}};var ak=function(e,t){var i=t(e);if(!i&&e.isRexContainerLite)for(var s=e.children,p=0,E=s.length;p<E;p++)ak(s[p],t)},xP=function(e,t){for(var i=[e];i.length>0;){var s=i.shift(),p=t(s);!p&&s.isRexContainerLite&&i.push(...s.children)}};const Cu=Phaser.Utils.Array,aut={getChildren(e){if(!e)e=this.children;else for(var t=0,i=this.children.length;t<i;t++)e.push(this.children[t]);return e},getAllChildren(e){e===void 0&&(e=[]);var t=this;return xP(t,function(i){i!==t&&e.push(i)}),e},getAllVisibleChildren(e){e===void 0&&(e=[]);var t=this;return xP(t,function(i){if(i!==t){if(!i.visible)return!0;e.push(i)}}),e},bfs(e,t){return t===void 0&&(t=this),xP(t,e),this},dfs(e,t){return t===void 0&&(t=this),ak(t,e),this},contains(e){var t=Ls(e);return t?t===this?!0:this.contains(t):!1},getByName(e,t){if(t){for(var i=[this],s,p;i.length;){s=i.shift();for(var E=0,n=s.children.length;E<n;E++){if(p=s.children[E],p.name===e)return p;p.isRexContainerLite&&i.push(p)}}return null}else return Cu.GetFirst(this.children,"name",e)},getRandom(e,t){return Cu.GetRandom(this.children,e,t)},getFirst(e,t,i,s){return Cu.GetFirstElement(this.children,e,t,i,s)},getAll(e,t,i,s){return Cu.GetAll(this.children,e,t,i,s)},count(e,t,i,s){return Cu.CountAllMatching(this.children,e,t,i,s)},swap(e,t){return Cu.Swap(this.children,e,t),this},setAll(e,t,i,s){return Cu.SetAll(this.children,e,t,i,s),this}};var _I=function(e){for(var t=[],i=0,s=e.length;i<s;i++){var p=e[i];p.hasOwnProperty("rexContainer")&&t.push(p.rexContainer)}return t},out=function(e){for(var t=0,i=e.length;t<i;t++){var s=e[t].scene;if(s)return s}return null},t3=function(e,t,i){if(!i.parent){e.remove();return}var s=i.parent,p=i.self;switch(t){case"x":case"y":s.updateChildPosition(p);break;case"angle":case"rotation":s.updateChildRotation(p);break;case"scaleX":case"scaleY":case"displayWidth":case"displayHeight":s.updateChildScale(p);break;case"alpha":s.updateChildAlpha(p);break;default:s.updateChildPosition(p),s.updateChildRotation(p),s.updateChildScale(p),s.updateChildAlpha(p);break}};const lut={tweenChild(e){var t=e.targets;Array.isArray(t)||(t=[t]);var i=this.scene||out(t);if(i){e.targets=_I(t);var s=i.tweens.add(e);return s.on("update",t3),s}},tweenSelf(e){return e.targets=[this],this.tweenChild(e)},createTweenChildConfig(e){var t=e.targets;t&&(Array.isArray(t)||(t=[t]),e.targets=_I(t));var i=e.onUpdate;return e.onUpdate=function(s,p){i&&i(s,p),t3(s,void 0,p)},e},tween(e){var t=this.scene;return e.targets||(e.targets=this),t.tweens.add(e)}},hut=Phaser.GameObjects.Container;var uut=function(e){return e instanceof hut},ok=function(e){var t=e.getAllChildren([e]);return t=t.filter(function(i){return!!i.displayList||!!i.parentContainer}),t},e3=function(e){var t=ok(this);t.indexOf(this)===-1&&t.push(this),ea(t),e.add(t)},i3=function(e,t,i){if(this.scene){var s=ok(this);ea(s,t),e.remove(s),i&&s.forEach(function(p){p.addToDisplayList()})}};const fut={addToContainer(e){return uut(e)?(this._setParentContainerFlag=!0,e3.call(this,e),this._setParentContainerFlag=!1,this):this},addToLayer(e){return xp(e)?(e3.call(this,e),this):this},removeFromContainer(){return this.parentContainer?(this._setParentContainerFlag=!0,i3.call(this,this.parentContainer,!0,!1),this._setParentContainerFlag=!1,this):this},removeFromLayer(e){return e===void 0&&(e=!0),xp(this.displayList)?(i3.call(this,this.displayList,!1,e),this):this},getParentContainer(){if(this.parentContainer)return this.parentContainer;for(var e=this.getParent();e;){var t=e.parentContainer;if(t)return t;e=e.getParent()}return null},addToParentContainer(e){if(!e.displayList)return this;var t=this.getParentContainer();return t?(e.isRexContainerLite?e.addToContainer(t):t.add(e),this):this},addToPatentLayer(e){if(!e.displayList)return this;var t=this.displayList;return t===e.displayList?this:(xp(t)&&(e.isRexContainerLite?e.addToLayer(t):t.add(e)),this)}},dut={hasLayer(){return!!this.privateRenderLayer},enableLayer(){if(this.hasLayer())return this;var e=this.scene.add.layer();return this.moveDepthBelow(e),this.addToLayer(e),this.privateRenderLayer=e,this},getLayer(){return this.hasLayer()||this.enableLayer(),this.privateRenderLayer},getRenderLayer(){if(this.hasLayer())return this.privateRenderLayer;for(var e=this.getParent();e;){var t=e.privateRenderLayer;if(t)return t;e=e.getParent()}return null},addToRenderLayer(e){if(!e.displayList)return this;var t=this.getRenderLayer();if(!t)return this;if(t===e.displayList)return this;e.isRexContainerLite?e.addToLayer(t):t.add(e);var i=je(e);return i.layer=t,this},removeFromRenderLayer(e){var t=je(e),i=t.layer;return i?(e.isRexContainerLite?e.removeFromLayer(!0):i.remove(e),t.layer=null,this):this}},r3=Phaser.Geom.Rectangle,cut=Phaser.Geom.Rectangle.Union;var vut=function(e,t){t===void 0?t=new r3:t===!0&&(TP===void 0&&(TP=new r3),t=TP),t.setTo(0,0,0,0);for(var i,s=!0,p=0,E=e.length;p<E;p++)if(i=e[p],!!i.getBounds){var n=_M(i,!0);s?(t.setTo(n.x,n.y,n.width,n.height),s=!1):cut(n,t,t)}return t},TP,Su=Phaser.Utils.Objects.GetValue,dw=function(e){if(e){var t=e.gameObjects,i=e.renderTexture,s=e.saveTexture,p=Su(e,"x",void 0),E=Su(e,"y",void 0),n=Su(e,"width",void 0),T=Su(e,"height",void 0),r=Su(e,"originX",0),o=Su(e,"originY",0),x=Su(e,"padding",0),d,h;if(n===void 0||T===void 0||p===void 0||E===void 0){var l=vut(t,!0),a=p!==void 0&&E!==void 0;a?(n=Math.max(p-l.left,l.right-p)*2,T=Math.max(E-l.top,l.bottom-E)*2,r=.5,o=.5):(p=l.x,E=l.y,n=l.width,T=l.height,r=0,o=0),d=l.x,h=l.y}else d=p+(0-r)*n,h=E+(0-o)*T;d-=x,h-=x,n+=x*2,T+=x*2;var f=t[0].scene,c=f.sys.textures;return s&&!i&&(i=c.addDynamicTexture(s,n,T)),i||(i=f.add.renderTexture(0,0,n,T)),i.setPosition&&i.setPosition(p,E),(i.width!==n||i.height!==T)&&i.setSize(n,T),i.setOrigin&&i.setOrigin(r,o),i.camera.setScroll(d,h),t=ea(Na(t)),i.draw(t),s&&(is(i)?i.saveTexture(s):i.key!==s&&c.renameTexture(i.key,key)),i}};const put={snapshot(e){var t=this.scaleX,i=this.scaleY,s=t===1&&i===1;s||this.setScale(1),e===void 0&&(e={}),e.gameObjects=this.getAllVisibleChildren(),e.x=this.x,e.y=this.y,e.originX=this.originX,e.originY=this.originY;var p=dw(e),E=!!p.scene;return s||(this.setScale(t,i),E&&p.setScale(t,i)),E?p:this}},n3=Phaser.Utils.Objects.GetValue;var gut=function(e,t){var i=n3(t,"drawContainer",!0),s=n3(t,"children");return s===void 0&&(s=this.getAllVisibleChildren([this])),i||(s=s.filter(function(p){return!p.isRexContainerLite})),lG(s,e,t),this};const mut=Phaser.Math.RotateAround;var yut=function(e,t,i){i===void 0&&(i=t);var s={x:(t-e.originX)*e.displayWidth,y:(i-e.originY)*e.displayHeight};return mut(s,0,0,e.rotation),e.originX=t,e.originY=i,e.x=e.x+s.x,e.y=e.y+s.y,e},xut=function(e,t){this.syncChildrenEnable=!1,yut(this,e,t),this.syncChildrenEnable=!0;for(var i=this.getAllChildren(),s=0,p=i.length;s<p;s++)this.resetChildPositionState(i[s]);return this},lk={changeOrigin:xut,drawBounds:gut};Object.assign(lk,Yht,Xht,$ht,Kht,Zht,Jht,Qht,qht,_ht,tut,eut,iut,rut,nut,sut,aut,lut,fut,dut,put);class Is extends $p{constructor(t,i,s,p,E,n){Array.isArray(p)&&(n=p,p=void 0,E=void 0),super(t,i,s,p,E),this.type="rexContainerLite",this.isRexContainerLite=!0,this.syncChildrenEnable=!0,this._active=!0,this._mask=null,this._scrollFactorX=1,this._scrollFactorY=1,this._cameraFilter=0,this.privateRenderLayer=void 0,n&&this.add(n)}destroy(t){!this.scene||this.ignoreDestroy||(this.syncChildrenEnable=!1,super.destroy(t),this.privateRenderLayer&&this.privateRenderLayer.scene&&(this.privateRenderLayer.list.length=0,this.privateRenderLayer.destroy()))}resize(t,i){return this.setSize(t,i),this}get x(){return this._x}set x(t){this._x!==t&&(this._x=t,this.syncPosition())}get y(){return this._y}set y(t){this._y!==t&&(this._y=t,this.syncPosition())}get rotation(){return super.rotation}set rotation(t){this.rotation!==t&&(super.rotation=t,this.syncPosition())}get scaleX(){return super.scaleX}set scaleX(t){this.scaleX!==t&&(super.scaleX=t,this.syncPosition())}get scaleY(){return super.scaleY}set scaleY(t){this.scaleY!==t&&(super.scaleY=t,this.syncPosition())}get scale(){return super.scale}set scale(t){this.scale!==t&&(super.scale=t,this.syncPosition())}get visible(){return super.visible}set visible(t){super.visible!==t&&(super.visible=t,this.syncVisible())}get alpha(){return super.alpha}set alpha(t){super.alpha!==t&&(super.alpha=t,this.syncAlpha())}get active(){return this._active}set active(t){this._active!==t&&(this._active=t,this.syncActive())}get mask(){return this._mask}set mask(t){this._mask!==t&&(this._mask=t,this.syncMask())}get scrollFactorX(){return this._scrollFactorX}set scrollFactorX(t){this._scrollFactorX!==t&&(this._scrollFactorX=t,this.syncScrollFactor())}get scrollFactorY(){return this._scrollFactorY}set scrollFactorY(t){this._scrollFactorY!==t&&(this._scrollFactorY=t,this.syncScrollFactor())}get cameraFilter(){return this._cameraFilter}set cameraFilter(t){this._cameraFilter!==t&&(this._cameraFilter=t,this.syncCameraFilter())}get list(){return this.children}static GetParent(t){return Ls(t)}get parentContainer(){return this._parentContainer}set parentContainer(t){if(!this._parentContainer&&!t){this._parentContainer=t;return}if(this.setParentContainerFlag){this._parentContainer=t;return}this._parentContainer&&!t?(this.removeFromContainer(),this._parentContainer=t):t?(this._parentContainer=t,this.addToContainer(t)):this._parentContainer=t}get setParentContainerFlag(){if(this._setParentContainerFlag)return!0;var t=Ls(this);return t?t.setParentContainerFlag:!1}}Object.assign(Is.prototype,lk);var Yx=function(e){return e.hasOwnProperty("rexSizer")||(e.rexSizer={}),e.rexSizer};function Tut(e){return e===void 0&&(e=this),Yx(e)}var Cut=function(e){var t=Yx(e);return t.hasOwnProperty("prevState")||(t.prevState={}),t.prevState},Sut=function(e){return e===void 0&&(e=ec(this.scene)),this.left=Math.max(this.left,e.left),this.right=Math.min(this.right,e.right),this.top=Math.max(this.top,e.top),this.bottom=Math.min(this.bottom,e.bottom),this};const or=Phaser.Display.Align,nc={center:or.CENTER,left:or.LEFT_CENTER,right:or.RIGHT_CENTER,top:or.TOP_CENTER,bottom:or.BOTTOM_CENTER,"left-top":or.TOP_LEFT,"top-left":or.TOP_LEFT,"left-center":or.LEFT_CENTER,"center-left":or.LEFT_CENTER,"left-bottom":or.BOTTOM_LEFT,"bottom-left":or.BOTTOM_LEFT,"center-top":or.TOP_CENTER,"top-center":or.TOP_CENTER,"center-center":or.CENTER,"center-bottom":or.BOTTOM_CENTER,"bottom-center":or.BOTTOM_CENTER,"right-top":or.TOP_RIGHT,"top-right":or.TOP_RIGHT,"right-center":or.RIGHT_CENTER,"center-right":or.RIGHT_CENTER,"right-bottom":or.BOTTOM_RIGHT,"bottom-right":or.BOTTOM_RIGHT};var _b=new Phaser.GameObjects.Zone({sys:{queueDepthSort:Ur,events:{once:Ur}}},0,0,1,1);_b.setOrigin(0);var Cl={TOP_LEFT:0,TOP_CENTER:1,TOP_RIGHT:2,LEFT_TOP:3,LEFT_CENTER:4,LEFT_BOTTOM:5,CENTER:6,RIGHT_TOP:7,RIGHT_CENTER:8,RIGHT_BOTTOM:9,BOTTOM_LEFT:10,BOTTOM_CENTER:11,BOTTOM_RIGHT:12},cw=function(e){var t=yi(e);return e.y+t-t*e.originY},vw=function(e){var t=mi(e);return e.x-t*e.originX+t*.5},pw=function(e,t){var i=yi(e);return e.y=t-i+i*e.originY,e},gw=function(e,t){var i=mi(e),s=i*e.originX;return e.x=t+s-i*.5,e},Eut=function(e,t,i,s){return i===void 0&&(i=0),s===void 0&&(s=0),gw(e,vw(t)+i),pw(e,cw(t)+s),e},mw=function(e){var t=mi(e);return e.x-t*e.originX},yw=function(e,t){var i=mi(e);return e.x=t+i*e.originX,e},Put=function(e,t,i,s){return i===void 0&&(i=0),s===void 0&&(s=0),yw(e,mw(t)-i),pw(e,cw(t)+s),e},xw=function(e){var t=mi(e);return e.x+t-t*e.originX},Tw=function(e,t){var i=mi(e);return e.x=t-i+i*e.originX,e},but=function(e,t,i,s){return i===void 0&&(i=0),s===void 0&&(s=0),Tw(e,xw(t)+i),pw(e,cw(t)+s),e},Cw=function(e,t){var i=yi(e),s=i*e.originY;return e.y=t+s-i*.5,e},Mut=function(e,t,i){return gw(e,t),Cw(e,i)},Sw=function(e){var t=yi(e);return e.y-t*e.originY+t*.5},wut=function(e,t,i,s){return i===void 0&&(i=0),s===void 0&&(s=0),Mut(e,vw(t)+i,Sw(t)+s),e},Rut=function(e,t,i,s){return i===void 0&&(i=0),s===void 0&&(s=0),yw(e,mw(t)-i),Cw(e,Sw(t)+s),e},Aut=function(e,t,i,s){return i===void 0&&(i=0),s===void 0&&(s=0),Tw(e,xw(t)+i),Cw(e,Sw(t)+s),e},Ew=function(e){var t=yi(e);return e.y-t*e.originY},Pw=function(e,t){var i=yi(e);return e.y=t+i*e.originY,e},Out=function(e,t,i,s){return i===void 0&&(i=0),s===void 0&&(s=0),gw(e,vw(t)+i),Pw(e,Ew(t)-s),e},Lut=function(e,t,i,s){return i===void 0&&(i=0),s===void 0&&(s=0),yw(e,mw(t)-i),Pw(e,Ew(t)-s),e},Dut=function(e,t,i,s){return i===void 0&&(i=0),s===void 0&&(s=0),Tw(e,xw(t)+i),Pw(e,Ew(t)-s),e},Ro=[];Ro[Cl.BOTTOM_CENTER]=Eut;Ro[Cl.BOTTOM_LEFT]=Put;Ro[Cl.BOTTOM_RIGHT]=but;Ro[Cl.CENTER]=wut;Ro[Cl.LEFT_CENTER]=Rut;Ro[Cl.RIGHT_CENTER]=Aut;Ro[Cl.TOP_CENTER]=Out;Ro[Cl.TOP_LEFT]=Lut;Ro[Cl.TOP_RIGHT]=Dut;var hk=function(e,t,i,s,p){return Ro[i](e,t,s,p)},Kp=function(e,t,i,s,p,E){_b.setPosition(t,i).setSize(s,p),hk(e,_b,E)};const cd=Phaser.Utils.Objects.GetValue,Fut=Phaser.GameObjects.Group,Iut=Phaser.GameObjects.Container;var But=function(e,t){var i=e.scene,s,p,E,n,T;if(typeof t=="number")s=t;else{s=cd(t,"color"),p=cd(t,"lineWidth");var r=cd(t,"name",!1);r&&(E=cd(r,"createTextCallback",Gut),n=cd(r,"createTextCallbackScope",void 0),T=cd(r,"align","left-top"),typeof T=="string"&&(T=nc[T]))}if(s===void 0&&(s=16777215),p===void 0&&(p=1),E&&!e.children){e.children=new Fut(i),e.once("destroy",function(f,c){f.children.destroy(!c),f.children=void 0});var o=e.clear.bind(e);e.clear=function(){o(),e.children.clear(!1,!0)}}var x=this.getAllShownChildren([this]);uk(x,x);for(var d,h,l=0,a=x.length;l<a;l++){if(d=x[l],d.getBounds||d.width!==void 0&&d.height!==void 0)Eu=_M(d,Eu);else continue;s!=null&&e.lineStyle(p,s).strokeRectShape(Eu),d.name&&E&&(n?h=E.call(n,i):h=E(i),h&&(h.setText(d.name),e.children.add(h),Kp(h,Eu.x,Eu.y,Eu.width,Eu.height,T)))}return this},Gut=function(e,t,i){return e.add.text(0,0,"")},uk=function(e,t){Array.isArray(e)||(e=[e]),t===void 0&&(t=[]);for(var i=0,s=e.length;i<s;i++){var p=e[i];p instanceof Iut&&(t.push(...p.list),uk(p.list,t))}return t},Eu=void 0;const ry=Phaser.Utils.Objects.GetValue;var qu=function(e,t){return e===void 0&&(e=0),t===void 0&&(t={}),typeof e=="number"?(t.left=e,t.right=e,t.top=e,t.bottom=e):(t.left=ry(e,"left",0),t.right=ry(e,"right",0),t.top=ry(e,"top",0),t.bottom=ry(e,"bottom",0)),t};const kut=Is.prototype.add;var Zp=function(e){return kut.call(this,e),this.sizerEventsEnable&&(e.emit("sizer.add",e,this),this.emit("add",e,this)),this};const Nut={addBackground(e,t,i){this.backgroundChildren===void 0&&(this.backgroundChildren=[]),typeof t=="string"&&(i=t,t=void 0),t===void 0&&(t=0),Zp.call(this,e),this.backgroundChildren.push(e);var s=this.getSizerConfig(e);return s.padding=qu(t),i!==void 0&&this.addChildrenMap(i,e),this},isBackground(e){return this.backgroundChildren===void 0?!1:this.backgroundChildren.indexOf(e)!==-1}};var bh=function(e,t){var i=null;if(t===void 0)e.hasOwnProperty("rexContainer")&&(i=e.rexContainer.parent,i?i.isRexSizer||(i=bh(i)):i=null);else for(i=bh(e);i&&i.name!==t;)i=bh(i);return i},Uut=function(e){for(var t=bh(e);t;)e=t,t=bh(t);return e};const sc={getParentSizer(e,t){return typeof e=="string"&&(t=e,e=void 0),e===void 0&&(e=this),bh(e,t)},getTopmostSizer(e){return e===void 0&&(e=this),Uut(e)},hasParentSizer(e,t){t===void 0&&(t=this);for(var i=bh(t);i;){if(i===e)return!0;i=bh(i)}return!1},hasChild(e,t){return t===void 0&&(t=this),this.hasParentSizer(t,e)}},Vut=Phaser.Utils.Array.Remove,zut=Is.prototype.remove,s3=sc.getParentSizer;var Jp=function(e,t){for(var i=s3(e);i;)i.removeChildCallback&&i.removeChildCallback(e,t),i=s3(i);return this.isBackground(e)&&Vut(this.backgroundChildren,e),zut.call(this,e,t),!t&&this.sizerEventsEnable&&(e.emit("sizer.remove",e,this),this.emit("remove",e,this)),this};const Wut=Phaser.Utils.Array.Remove,Yut=sc.getParentSizer,Xut={removeFromParentSizer(){var e=Yut(gameObject);return e&&e.remove(this),this},removeBackground(e,t){return this.backgroundChildren===void 0?this:this.getParentSizer(e)!==this?this:(Wut(this.backgroundChildren,e),Jp.call(this,e,t),this)},removeAllBackgrounds(e){if(this.backgroundChildren===void 0)return this;for(var t=this.backgroundChildren.length-1;t>=0;t--)this.remove(this.backgroundChildren[t],e);return this}};var a3=function(e,t){if(typeof e=="string")this.childrenMap[e]=t;else{var i=e;for(e in i)this.childrenMap[e]=i[e]}return this},Hut=function(e){if(typeof e=="object"){var t=e;for(var e in this.childrenMap)if(this.childrenMap[e]===t)return delete this.childrenMap[e],this}return delete this.childrenMap[e],this},$ut=function(e,t){if(typeof e=="string"&&(e=e.split(".")),e.length!==0){t===void 0&&(t=!1);var i=e.shift(),s=null;if(i.charAt(0)==="#")i=i.substring(1),s=this.getByName(i,t);else if(e.length===0&&t){var p=this.childrenMap;if(p)for(var E=[p],n;E.length;){p=E.shift();for(var T in p)if(n=p[T],T===i){s=n;break}else n&&typeof n=="object"&&n.childrenMap&&E.push(n.childrenMap);if(s)break}}else if(i.indexOf("[")===-1)this.childrenMap&&(s=this.childrenMap[i]);else{var r=i.match(Kut);if(r!=null&&this.childrenMap){var o=this.childrenMap[r[1]];o&&(s=o[r[2]])}}return e.length===0?s:s&&s.childrenMap?s.getElement(e):null}};const Kut=/(\S+)\[(\d+)\]/i;var Zut=function(e){if(Array.isArray(this.sizerChildren)){var t=this.sizerChildren.indexOf(e);return t===-1&&(t=null),t}else{if(this.getParentSizer(e)!==this)return null;for(var i in this.sizerChildren)if(this.sizerChildre[i]===e)return i;return null}};const Jut={getInnerPadding(e){return Hy(this.space,e)},setInnerPadding(e,t){return Ph(this.space,e,t),this},getOuterPadding(e){return Hy(this.getSizerConfig(this).padding,e)},setOuterPadding(e,t){return Ph(this.getSizerConfig(this).padding,e,t),this},getChildOuterPadding(e,t){return typeof e=="string"&&(e=this.getElement(e)),Hy(this.getSizerConfig(e).padding,t)},setChildOuterPadding(e,t,i){return typeof e=="string"&&(e=this.getElement(e)),Ph(this.getSizerConfig(e).padding,t,i),this}};var bw=function(e){var t=this.childrenWidth;if(t!==void 0){var i=this.minWidth!==void 0?this.minWidth*this.scaleX:0;return e===void 0?(e=Math.max(i,t),this.layoutWarnEnable&&i>0&&t>i&&console.warn(`Layout width warn: ${this.constructor.name}'s minWidth (${i}) < childrenWidth (${t})`)):this.layoutWarnEnable&&(i>e||t>e)&&console.warn(`Layout width warn: ${this.constructor.name}'s minWidth (${i}) or childrenWidth (${t} > targetWidth ${e})`),e}},Mw=function(){var e;for(var t in this.sizerChildren)if(e=this.sizerChildren[t],!(!e||e.isRexSizer&&e.ignoreLayout||!e.runWidthWrap)&&(!e.hasWidthWrap||e.hasWidthWrap()))return!0;return!1},jut=function(e){var t,i,s;for(var p in this.sizerChildren)t=this.sizerChildren[p],t&&t.isRexSizer&&!t.ignoreLayout&&(i=this.getExpandedChildWidth(t,e),s=t.resolveWidth(i),s===void 0&&(s=i),t.resolveChildrenWidth(s))},ww=function(e){var t,i,s;for(var p in this.sizerChildren)t=this.sizerChildren[p],!(!t||t.isRexSizer&&t.ignoreLayout||!t.runWidthWrap)&&(i=this.getExpandedChildWidth(t,e),t.isRexSizer?(s=t.resolveWidth(i),s===void 0&&(s=i)):s=i,t.runWidthWrap(s));return this},Rw=function(e){var t=this.childrenHeight;if(t!==void 0){var i=this.minHeight!==void 0?this.minHeight*this.scaleY:0;return e===void 0?(e=Math.max(i,t),this.layoutWarnEnable&&i>0&&t>i&&console.warn(`Layout height warn: ${this.constructor.name}'s minHeight (${i}) < childrenHeight (${t})`)):this.layoutWarnEnable&&(i>e||t>e)&&console.warn(`Layout height warn: ${this.constructor.name}'s minHeight (${i}) or childrenHeight (${t}) > targetHeight (${e})`),e}},Aw=function(){var e;for(var t in this.sizerChildren)if(e=this.sizerChildren[t],!(!e||e.isRexSizer&&e.ignoreLayout||!e.runHeightWrap)&&(!e.hasHeightWrap||e.hasHeightWrap()))return!0;return!1},Qut=function(e){var t,i,s;for(var p in this.sizerChildren)t=this.sizerChildren[p],t&&t.isRexSizer&&!t.ignoreLayout&&(i=this.getExpandedChildHeight(t,e),s=t.resolveHeight(i),s===void 0&&(s=i),t.resolveChildrenHeight(s))},Ow=function(e){var t,i,s;for(var p in this.sizerChildren)t=this.sizerChildren[p],!(!t||t.isRexSizer&&t.ignoreLayout||!t.runHeightWrap)&&(i=this.getExpandedChildHeight(t,e),t.isRexSizer?(s=t.resolveHeight(i),s===void 0&&(s=i)):s=i,t.runHeightWrap(s));return this},qut=function(e){var t;if(e.isRexSizer){var i=e.childrenWidth;if(i==null)return;var s=e.minWidth*e.scaleX;t=Math.max(s,i)}else e.minWidth!==void 0?t=e.minWidth:e._minWidth!==void 0?t=e._minWidth:t=mi(e);return t},_ut=function(e){var t;if(e.isRexSizer){var i=e.childrenHeight;if(i===void 0)return;var s=e.minHeight*e.scaleY;t=Math.max(s,i)}else e.minHeight!==void 0?t=e.minHeight:e._minHeight!==void 0?t=e._minHeight:t=yi(e);return t},tft=function(e,t){return t},eft=function(e,t){return t},ift=function(){return 0},rft=function(){return 0},nft=function(e){e===void 0&&(e=[]);for(var t=e.length,i=this.getChildrenSizers(e),s=e.length,p=t;p<s;p++)i[p].getAllChildrenSizers(e);return e},sft=function(e){return e===void 0&&(e=[]),e};const aft={getShownChildren(e){e===void 0&&(e=[]);for(var t=this.children,i,s=0,p=t.length;s<p;s++)i=t[s],!(i.rexSizer&&i.rexSizer.hidden)&&e.push(i);return e},getAllShownChildren(e){e===void 0&&(e=[]);for(var t=[this];t.length>0;){var i=t.shift();i.rexSizer&&i.rexSizer.hidden||(i!==this&&e.push(i),i.isRexContainerLite&&t.push(...i.children))}return e}};var jp=function(){this._childrenWidth=void 0,this._childrenHeight=void 0;for(var e=this.getChildrenSizers(),t,i=0,s=e.length;i<s;i++)t=e[i],!t.ignoreLayout&&t.preLayout()},oft=function(){return this.runLayout(),this},lft=function(e){if(e.resize)return!0;if(!e.setSize)return!1;for(var t=0,i=o3.length;t<i;t++){var s=o3[t];if(s&&e instanceof s)return!1}return!0},o3=[Phaser.GameObjects.Image,Phaser.GameObjects.Sprite,Phaser.GameObjects.Mesh,Phaser.GameObjects.Shader,Phaser.GameObjects.Video],hft=function(e){if(e.displayWidth===void 0)return!1;for(var t=0,i=l3.length;t<i;t++){var s=l3[t];if(s&&e instanceof s)return!1}return!0},l3=[Phaser.GameObjects.BitmapText],wn=function(e,t,i){if(!(!e||t===void 0&&i===void 0))if(lft(e)){var s,p;t===void 0?s=e.width:s=t/e.scaleX,i===void 0?p=e.height:p=i/e.scaleY,e.resize?e.resize(s,p):e.setSize(s,p)}else{var E=hft(e);t!==void 0&&(E?e.displayWidth=t:e.scaleX=t/e.width),i!==void 0&&(E?e.displayHeight=i:e.scaleY=i/e.height)}},uft=function(e,t,i){if(this.ignoreLayout)return this;var s=!e;s&&this.preLayout();var p,E;s||e.runChildrenWrapFlag?(p=this.hasWidthWrap(),E=this.hasHeightWrap()):(p=!1,E=!1);var n=fft(this,t,i,p,E);n||console.error("Can't resolve size of ",this);var T=n.width,r=n.height;return wn(this,T,r),this.sizerEventsEnable&&this.layoutedChildren===void 0&&(this.layoutedChildren=[]),this.layoutChildren(),this.layoutBackgrounds(),this.sizerEventsEnable&&(this.emit("postlayout",this.layoutedChildren,this),this.layoutedChildren.length=0),this.postLayout(e,T,r),s&&this._anchor&&this._anchor.updatePosition(),this},fft=function(e,t,i,s,p){var E=h3(e,t,s),n=dft(e,i,p);return E===void 0&&(E=h3(e,t,s)),E!==void 0&&n!==void 0?{width:E,height:n}:!1},h3=function(e,s,i){var s=e.resolveWidth(s);return s!==void 0&&i&&(e.resolveChildrenWidth(s),e.runWidthWrap(s)),s},dft=function(e,s,i){var s=e.resolveHeight(s);return s!==void 0&&i&&(e.resolveChildrenHeight(s),e.runHeightWrap(s)),s},cft=function(){},vft=function(e,t,i){return this},pft=function(e,t,i,s){wn(i,e,t)};const ny=Phaser.Utils.Objects.GetValue;class Lw extends ji{constructor(t,i){super(t,{eventEmitter:!1}),this.viewport=void 0,this.resetFromJSON(i)}shutdown(t){this.isShutdown||(this.autoAnchor(!1),this.viewport=void 0,this.onUpdateViewportCallback=void 0,this.onUpdateViewportCallbackScope=void 0,this.onResizeCallback=void 0,this.onResizeCallbackScope=void 0,super.shutdown(t))}resetFromJSON(t){t===void 0&&(t={});var i,s;t.x!==void 0?(i=null,s=t.x):t.left!==void 0?(i=0,s=t.left):t.right!==void 0?(i=1,s=t.right):t.centerX!==void 0&&(i=.5,s=t.centerX);var p,E;t.y!==void 0?(p=null,E=t.y):t.top!==void 0?(p=0,E=t.top):t.bottom!==void 0?(p=1,E=t.bottom):t.centerY!==void 0&&(p=.5,E=t.centerY);var n,T;s!==void 0&&(s=s.replace("left","0%").replace("right","100%").replace("center","50%").split("%"),n=parseFloat(s[0])/100,T=s[1]===""?0:parseFloat(s[1]));var r,o;E!==void 0&&(E=E.replace("top","0%").replace("bottom","100%").replace("center","50%").split("%"),r=parseFloat(E[0])/100,o=E[1]===""?0:parseFloat(E[1]));var x=t.width,d,h;x!==void 0&&(x=x.split("%"),d=parseFloat(x[0])/100,h=x[1]===""?0:parseFloat(x[1]));var l=t.height,a,f;l!==void 0&&(l=l.split("%"),a=parseFloat(l[0])/100,f=l[1]===""?0:parseFloat(l[1])),this.setAlign(i,p),this.setPercentage(n,r),this.setOffset(T,o),this.setSizePercentage(d,a),this.setSizePadding(h,f);var c=ny(t,"onResizeCallback",pft),u=ny(t,"onResizeCallbackScope");this.setResizeCallback(c,u);var v=ny(t,"onUpdateViewportCallback"),g=ny(t,"onUpdateViewportCallbackScope");return this.setUpdateViewportCallback(v,g),this.autoAnchor(t.enable),this}autoAnchor(t){return t===void 0&&(t=!0),t=!!t,this.autoAnchorEnable===t?this:(t?(this.scene.sys.scale.on("resize",this.anchor,this),this.anchor()):this.scene.sys.scale.off("resize",this.anchor,this),this.autoAnchorEnable=t,this)}setAlign(t,i){return this.alignX=t,this.alignY=i,this}setPercentage(t,i){return this.percentageX=t,this.percentageY=i,this}setOffset(t,i){return this.offsetX=t,this.offsetY=i,this}setSizePercentage(t,i){return this.percentageWidth=t,this.percentageHeight=i,this}setSizePadding(t,i){return this.paddingWidth=t,this.paddingHeight=i,this}setResizeCallback(t,i){return this.onResizeCallback=t,this.onResizeCallbackScope=i,this}setUpdateViewportCallback(t,i){return this.onUpdateViewportCallback=t,this.onUpdateViewportCallbackScope=i,this}anchor(){return this.updateViewport(),this.updateSize(),this.updatePosition(),this}updateSize(){var t=this.onResizeCallback,i=this.onResizeCallbackScope,s=this.anchorWidth,p=this.anchorHeight;if(!(s===void 0&&p===void 0||!t)){var E=this.parent;s===void 0&&(s=E.width),p===void 0&&(p=E.height),i?t.call(i,s,p,E,this):t(s,p,E,this)}}updatePosition(){var t=this.parent;return this.alignX===null?t.x=this.anchorX:this.alignX!==void 0&&(t.x=this.anchorX+t.displayWidth*(t.originX-this.alignX)),this.alignY===null?t.y=this.anchorY:this.alignY!==void 0&&(t.y=this.anchorY+t.displayHeight*(t.originY-this.alignY)),this}get anchorX(){return this.viewport.x+this.viewport.width*this.percentageX+this.offsetX}get anchorY(){return this.viewport.y+this.viewport.height*this.percentageY+this.offsetY}get anchorWidth(){if(this.percentageWidth!==void 0)return this.viewport.width*this.percentageWidth+this.paddingWidth}get anchorHeight(){if(this.percentageHeight!==void 0)return this.viewport.height*this.percentageHeight+this.paddingHeight}updateViewport(){var t=this.parent.scene.cameras.main;this.viewport=ec(this.scene,t,this.viewport);var i=this.viewport,s=this.onUpdateViewportCallback,p=this.onUpdateViewportCallbackScope;s&&(p?s.call(p,i,this.parent,this):s(i,this.parent,this))}}var gft=function(e){e===void 0&&(e={});var t=e.hasOwnProperty("width"),i=e.hasOwnProperty("height"),s=e.hasOwnProperty("onResizeCallback");return(t||i)&&!s&&(e.onResizeCallback=function(p,E,n){t&&n.setMinWidth(p),i&&n.setMinHeight(E),n.layout()}),this._anchor===void 0?this._anchor=new Lw(this,e):this._anchor.resetFromJSON(e),this};const mft=Phaser.Utils.Objects.GetValue,vd=Phaser.Utils.Objects.GetAdvancedValue,u3=Phaser.Math.Linear;class Dp extends Ju{constructor(t,i){super(t,i),this.scaleStart={},this.scaleEnd={},this.resetFromJSON(i),this.boot()}resetFromJSON(t){return super.resetFromJSON(t),this.setMode(mft(t,"mode",0)),this.setScaleRange(vd(t,"start",void 0),vd(t,"end",0)),this}setMode(t){return typeof t=="string"&&(t=yft[t]),this.mode=t,this}setScaleRange(t,i){return typeof t=="number"?(this.startX=t,this.startY=t):(this.startX=vd(t,"x",this.parent.scaleX),this.startY=vd(t,"y",this.parent.scaleY)),typeof i=="number"?(this.endX=i,this.endY=i):(this.endX=vd(i,"x",void 0),this.endY=vd(i,"y",void 0)),this.hasScaleX=this.startX!==void 0&&this.endX!==void 0,this.hasScaleY=this.startY!==void 0&&this.endY!==void 0,this}start(){if(this.timer.isRunning)return this;var t=this.parent;this.hasScaleX&&(t.scaleX=this.startX),this.hasScaleY&&(t.scaleY=this.startY);var i=this.repeat;return this.mode===2&&i!==-1&&(i=(i+1)*2-1),this.timer.setDelay(this.delay).setDuration(this.duration).setRepeat(i),super.start(),this}updateTarget(t,i){var s=i.t;i.isOddIteration&&(s=1-s),s=this.easeFn(s),this.hasScaleX&&(t.scaleX=u3(this.startX,this.endX,s)),this.hasScaleY&&(t.scaleY=u3(this.startY,this.endY,s))}complete(){return super.complete(),this.mode===1&&this.parent.destroy(),this}}const yft={stop:0,destroy:1,yoyo:2};var Dw=function(e,t,i,s,p){s===void 0&&(s="Cubic");var E,n;switch(i){case 0:case"x":E={x:0},n={x:e.scaleX};break;case 1:case"y":E={y:0},n={y:e.scaleY};break;default:E=0,n=e.scale;break}var T={mode:0,start:E,end:n,duration:t,ease:s};return p===void 0?p=new Dp(e,T):p.resetFromJSON(T),p.restart(),p},fk=function(e,t,i,s,p,E){s===void 0&&(s="Linear"),p instanceof Dp&&(E=p,p=void 0),p===void 0&&(p=!0);var n={};switch(n.mode=p?1:0,i){case 0:case"x":n.end={x:0};break;case 1:case"y":n.end={y:0};break;default:n.end=0;break}return n.duration=t,n.ease=s,E===void 0?E=new Dp(e,n):E.resetFromJSON(n),E.restart(),E},xft=function(e,t,i,s,p,E,n){i===void 0&&(i=1.2),s===void 0&&(s=0),E===void 0&&(E="Cubic");var T,r;switch(p){case 0:case"x":T={x:e.scaleX},r={x:i};break;case 1:case"y":T={y:e.scaleX},r={y:i};break;default:T=e.scaleX,r=i;break}var o={mode:2,start:T,end:r,duration:t/2,ease:E,repeat:s};return n===void 0?n=new Dp(e,o):n.resetFromJSON(o),n.restart(),n};const CP=Phaser.Utils.Objects.IsPlainObject,dk={onInitScale(){var e=this,t=this._scaleBehavior;t.completeEventName=void 0,t.on("complete",function(){t.completeEventName&&(e.emit(t.completeEventName,e),t.completeEventName=void 0)})},popUp(e,t,i){if(CP(e)){var s=e;e=s.duration,t=s.orientation,i=s.ease}var p=this._scaleBehavior===void 0;return this._scaleBehavior=Dw(this,e,t,i,this._scaleBehavior),p&&this.onInitScale(),this._scaleBehavior.completeEventName="popup.complete",this},popUpPromise(e,t,i){return this.popUp(e,t,i),vn(this._scaleBehavior)},isRunningPopUp(){return this._scaleBehavior&&this._scaleBehavior.completeEventName==="popup.complete"},scaleDownDestroy(e,t,i,s){if(CP(e)){var p=e;e=p.duration,t=p.orientation,i=p.ease,s=p.destroy}var E=this._scaleBehavior===void 0;return this._scaleBehavior=fk(this,e,t,i,s,this._scaleBehavior),E&&this.onInitScale(),this._scaleBehavior.completeEventName="scaledown.complete",this},scaleDownDestroyPromise(e,t,i,s){return this.scaleDownDestroy(e,t,i,s),vn(this._scaleBehavior)},scaleDown(e,t,i){return this.scaleDownDestroy(e,t,i,!1),this},scaleDownPromise(e,t,i){return this.scaleDown(e,t,i),vn(this._scaleBehavior)},isRunningScaleDown(){return this._scaleBehavior&&this._scaleBehavior.completeEventName==="scaledown.complete"},scaleYoyo(e,t,i,s,p){if(CP(e)){var E=e;e=E.duration,t=E.peakValue,i=E.repeat,s=E.orientation,p=E.ease}var n=this._scaleBehavior===void 0;return this._scaleBehavior=xft(this,e,t,i,s,p,this._scaleBehavior),n&&this.onInitScale(),this._scaleBehavior.completeEventName="scaleyoyo.complete",this},scaleYoyoPromise(e,t,i,s,p){return this.scaleYoyo(e,t,i,s,p),vn(this._scaleBehavior)},isRunningScaleYoyo(){return this._scaleBehavior&&(this._scaleBehavior.completeEventName="scaleyoyo.complete")},isRunningEaseScale(){return this.isRunningPopUp()||this.isRunningScaleDown()||this.isRunningScaleYoyo()}};var dl={};Object.assign(dl,dk);dl.onInitScale=function(){dk.onInitScale.call(this);var e=this,t=this._scaleBehavior;t.on("update",function(){var i=sc.getParentSizer(e);i&&i.resetChildPositionState(e)})};const Tft=Phaser.Utils.Objects.GetValue,f3=Phaser.Utils.Objects.GetAdvancedValue,Cft=Phaser.Math.Linear;let tM=class extends Ju{constructor(t,i){super(t,i),this.resetFromJSON(i),this.boot()}resetFromJSON(t){return super.resetFromJSON(t),this.setMode(Tft(t,"mode",0)),this.setAlphaRange(f3(t,"start",this.parent.alpha),f3(t,"end",0)),this}setMode(t){return typeof t=="string"&&(t=Sft[t]),this.mode=t,this}setAlphaRange(t,i){return this.alphaStart=t,this.alphaEnd=i,this}start(){if(this.timer.isRunning)return this;var t=this.parent;return t.setAlpha(this.alphaStart),this.timer.setDelay(this.delay).setDuration(this.duration).setRepeat(this.mode===2?-1:0),super.start(),this}updateTarget(t,i){var s=i.t;i.isOddIteration&&(s=1-s),t.alpha=Cft(this.alphaStart,this.alphaEnd,s)}complete(){return super.complete(),this.mode===1&&this.parent.destroy(),this}};const Sft={stop:0,destroy:1,yoyo:2},Eft=Phaser.Utils.Objects.IsPlainObject;var Xx=function(e,t,i,s){var p,E;Eft(i)?(p=i.start,E=i.end):E=i,p===void 0&&(p=0),E===void 0&&(E=1);var n={mode:0,start:p,end:E,duration:t};return s===void 0?s=new tM(e,n):s.resetFromJSON(n),s.restart(),s},Hx=function(e,t,i,s){i instanceof tM&&(s=i,i=void 0),i===void 0&&(i=!0);var p={mode:i?1:0,end:0,duration:t};return s===void 0?s=new tM(e,p):s.resetFromJSON(p),s.restart(),s};const d3=Phaser.Utils.Objects.IsPlainObject,ck={onInitFade(){var e=this,t=this._fade;t.completeEventName=void 0,t.on("complete",function(){t.completeEventName&&(e.emit(t.completeEventName,e),t.completeEventName=void 0)})},fadeIn(e,t){if(d3(e)){var i=e;e=i.duration,t=i.alpha}var s=this._fade===void 0;return this._fade=Xx(this,e,t,this._fade),s&&this.onInitFade(),this._fade.completeEventName="fadein.complete",this},fadeInPromise(e,t){return this.fadeIn(e,t),vn(this._fade)},isRunningFadeIn(){return this._fade&&this._fade.completeEventName==="fadein.complete"},fadeOutDestroy(e,t){if(d3(e)){var i=e;e=i.duration,t=i.destroy}var s=this._fade===void 0;return this._fade=Hx(this,e,t,this._fade),s&&this.onInitFade(),this._fade.completeEventName="fadeout.complete",this},fadeOutDestroyPromise(e,t){return this.fadeOutDestroy(e,t),vn(this._fade)},fadeOut(e){return this.fadeOutDestroy(e,!1),this},fadeOutPromise(e){return this.fadeOut(e),vn(this._fade)},isRunningFadeOut(){return this._fade&&this._fade.completeEventName==="fadeout.complete"},isRunningEaseFade(){return this.isRunningFadeIn()||this.isRunningFadeOut()}};var Fp={};Object.assign(Fp,ck);Fp.onInitFade=function(){ck.onInitFade.call(this);var e=this,t=this._fade;t.on("update",function(){var i=sc.getParentSizer(e);i&&i.resetChildAlphaState(e)})};const Pft=Phaser.Utils.Objects.GetValue,pd=Phaser.Utils.Objects.GetAdvancedValue,c3=Phaser.Math.Linear;class ax extends Ju{constructor(t,i){super(t,i),this.resetFromJSON(i),this.boot()}resetFromJSON(t){if(super.resetFromJSON(t),this.setMode(Pft(t,"mode",0)),t&&(t.hasOwnProperty("x")||t.hasOwnProperty("y"))){var i=pd(t,"x",void 0),s=pd(t,"y",void 0);this.setTargetPosition(i,s)}else this.setTargetPosition(t);return this}setMode(t){return typeof t=="string"&&(t=bft[t]),this.mode=t,this}setTargetPosition(t,i){if(typeof t=="number"||typeof i=="number")this.startX=this.parent.x,this.startY=this.parent.y,this.endX=t,this.endY=i;else{var s=t;this.startX=pd(s,"startX",void 0),this.startY=pd(s,"startY",void 0),this.endX=pd(s,"endX",void 0),this.endY=pd(s,"endY",void 0)}return this.hasMoveX=this.startX!==void 0&&this.endX!==void 0,this.hasMoveY=this.startY!==void 0&&this.endY!==void 0,this}start(){if(this.timer.isRunning)return this;var t=this.parent;return this.hasMoveX&&(t.x=this.startX),this.hasMoveY&&(t.y=this.startY),this.timer.setDelay(this.delay).setDuration(this.duration).setRepeat(this.mode===2?-1:0),super.start(),this}updateTarget(t,i){var s=i.t;i.isOddIteration&&(s=1-s),s=this.easeFn(s),this.hasMoveX&&(t.x=c3(this.startX,this.endX,s)),this.hasMoveY&&(t.y=c3(this.startY,this.endY,s))}complete(){return super.complete(),this.mode===1&&this.parent.destroy(),this}}const bft={stop:0,destroy:1,yoyo:2};var ox=function(e,t){if(typeof e=="number")return e;var i=e[0],s=parseFloat(e.substr(2));switch(i){case"+":return t+s;case"-":return t-s;case"*":return t*s;case"/":return t/s}},vk=function(e,t,i,s,p,E,n){E instanceof ax&&(n=E,E=void 0),E===void 0&&(E=!1);var T={};return T.mode=E?1:0,i!==void 0&&(T.startX=e.x,T.endX=ox(i,e.x)),s!==void 0&&(T.startY=e.y,T.endY=ox(s,e.y)),T.duration=t,T.ease=p===void 0?"Linear":p,n===void 0?n=new ax(e,T):n.resetFromJSON(T),n.restart(),n},pk=function(e,t,i,s,p,E,n){E instanceof ax&&(n=E,E=void 0),E===void 0&&(E=!1);var T={};return T.mode=E?1:0,i!==void 0&&(T.startX=ox(i,e.x),T.endX=e.x),s!==void 0&&(T.startY=ox(s,e.y),T.endY=e.y),T.duration=t,T.ease=p===void 0?"Linear":p,n===void 0?n=new ax(e,T):n.resetFromJSON(T),n.restart(),n};const v3=Phaser.Utils.Objects.IsPlainObject,p3=Phaser.Math.Distance.Between,gk={onInitEaseMove(){var e=this,t=this._easeMove;t.completeEventName=void 0,t.on("complete",function(){t.completeEventName&&(e.emit(t.completeEventName,e),t.completeEventName=void 0)})},moveFrom(e,t,i,s,p){if(v3(e)){var E=e;t=E.x,i=E.y,E.hasOwnProperty("speed")?e=p3(t,i,this.x,this.y)*1e3/E.speed:e=E.duration,s=E.ease}var n=this._easeMove===void 0;return this._easeMove=pk(this,e,t,i,s,p,this._easeMove),n&&this.onInitEaseMove(),this._easeMove.completeEventName="movefrom.complete",this},moveFromPromise(e,t,i,s,p){return this.moveFrom(e,t,i,s,p),vn(this._easeMove)},moveFromDestroy(e,t,i,s){return this.moveFrom(e,t,i,s,!0),this},moveFromDestroyPromise(e,t,i,s){return this.moveFromDestroy(e,t,i,s),vn(this._easeMove)},isRunningMoveFrom(){return this._easeMove&&(this._easeMove.completeEventName="movefrom.complete")},moveTo(e,t,i,s,p){if(v3(e)){var E=e;t=E.x,i=E.y,E.hasOwnProperty("speed")?e=p3(t,i,this.x,this.y)*1e3/E.speed:e=E.duration,s=E.ease}var n=this._easeMove===void 0;return this._easeMove=vk(this,e,t,i,s,p,this._easeMove),n&&this.onInitEaseMove(),this._easeMove.completeEventName,this},moveToPromise(e,t,i,s,p){return this.moveTo(e,t,i,s,p),vn(this._easeMove)},moveToDestroy(e,t,i,s){return this.moveTo(e,t,i,s,!0),this},moveToDestroyPromise(e,t,i,s){return this.moveToDestroy(e,t,i,s,!0),vn(this._easeMove)},isRunningMoveTo(){return this._easeMove&&this._easeMove.completeEventName==="moveto.complete"},isRunningEaseMove(){return this.isRunningMoveFrom()||this.isRunningMoveTo()},moveStop(e){return this._easeMove?(this._easeMove.stop(e),this):this}};var $x={};Object.assign($x,gk);$x.onInitEaseMove=function(){gk.onInitEaseMove.call(this);var e=this,t=this._easeMove;t.on("update",function(){var i=sc.getParentSizer(e);i&&i.resetChildPositionState(e)})};const Zs=Phaser.Utils.Objects.GetValue;class Fw extends Gx{constructor(t,i){super(t,i),this.timer=new gG,this.resetFromJSON(i),this.boot()}resetFromJSON(t){return this.timer.resetFromJSON(Zs(t,"timer")),this.setEnable(Zs(t,"enable",!0)),this.setMode(Zs(t,"mode",1)),this.isRunning=Zs(t,"isRunning",!1),this.setMagnitudeMode(Zs(t,"magnitudeMode",1)),this.setAxisMode(Zs(t,"axis",0)),this.setDuration(Zs(t,"duration",500)),this.setMagnitude(Zs(t,"magnitude",10)),this.ox=Zs(t,"ox",void 0),this.oy=Zs(t,"oy",void 0),this}toJSON(){return{timer:this.timer.toJSON(),enable:this.enable,mode:this.mode,isRunning:this.isRunning,magnitudeMode,duration:this.duration,magnitude:this.magnitude,ox:this.ox,oy:this.oy}}shutdown(t){this.isShutdown||(super.shutdown(t),this.timer.destroy(),this.timer=void 0)}startTicking(){super.startTicking(),this.mode===0?(this.scene.game.events.on("poststep",this.update,this),this.scene.game.events.on("prestep",this.backToOrigin,this)):this.scene.sys.events.on("preupdate",this.update,this)}stopTicking(){super.stopTicking(),this.scene&&(this.mode===0?(this.scene.game.events.off("poststep",this.update,this),this.scene.game.events.off("prestep",this.backToOrigin,this)):this.scene.sys.events.off("preupdate",this.update,this))}setEnable(t){return t==null&&(t=!0),this.enable=t,this}setMode(t){return typeof t=="string"&&(t=Mft[t]),this.mode=t,this}setMagnitudeMode(t){return typeof t=="string"&&(t=Rft[t]),this.magnitudeMode=t,this}setAxisMode(t){return typeof t=="string"&&(t=wft[t]),this.axisMode=t,this}setDuration(t){return this.duration=t,this}setMagnitude(t){return this.magnitude=t,this}start(t,i){if(typeof t!="number"){var s=t;i=Zs(s,"magnitude",void 0),t=Zs(s,"duration",void 0)}return i!==void 0&&this.setMagnitude(i),t!==void 0&&this.setDuration(t),this.timer.setDuration(this.duration).start(),super.start(),this}shake(t,i){return this.start(t,i),this}update(t,i){if(!this.isRunning||!this.enable)return this;var s=this.parent;if(!s.active)return this;if(this.timer.update(t,i),this.timer.isDone)this.backToOrigin(),this.complete();else{this.ox===void 0&&(this.ox=s.x,this.oy=s.y);var p=this.magnitude;this.magnitudeMode===1&&(p*=1-this.timer.t);var E=Math.random()*Math.PI*2,n=this.ox+Math.cos(E)*p,T=this.oy+Math.sin(E)*p;switch(this.axisMode){case 1:s.x=n;break;case 2:s.y=T;break;default:s.x=n,s.y=T;break}}return this}backToOrigin(){if(!this.isRunning||!this.enable)return this;if(this.ox===void 0)return this;var t=this.parent;switch(this.axisMode){case 1:t.x=this.ox;break;case 2:t.y=this.oy;break;default:t.x=this.ox,t.y=this.oy;break}return this.ox=void 0,this.oy=void 0,this}}const Mft={effect:0,behavior:1},wft={both:0,"h&v":0,"x&y":0,horizontal:1,h:1,x:1,vertical:2,v:2,y:2},Rft={constant:0,decay:1},Aft=Phaser.Utils.Objects.IsPlainObject;var Oft=function(e,t){t.on("complete",function(){e.emit("shake.complete",e)})};const Lft={shake(e,t,i){if(Aft(e)){var s=e;e=s.duration,t=s.magnitude,i=s.magnitudeMode}return this._shake===void 0&&(this._shake=new Fw(this,{mode:0,magnitudeMode:1}),Oft(this,this._shake)),e!==void 0&&this._shake.setDuration(e),t!==void 0&&this._shake.setMagnitude(t),i!==void 0&&this._shake.setMagnitudeMode(i),this._shake.shake(),this},shakePromise(e,t){return this.shake(e,t),vn(this._shake)}},g3=Phaser.Utils.Objects.IsPlainObject;class Dft extends ji{constructor(t,i){super(t,i),this.parent.setDataEnabled(),this.easeTasks={}}complete(t){this.emit(`complete-${t}`,this.parent,this),this.emit("complete",t,this.parent,this)}getEaseTask(t){var i=this.easeTasks[t];return i===void 0&&(i=new ml(this.parent),this.easeTasks[t]=i,i.setTarget(this.parent.data.values).on("complete",function(){this.complete(t)},this)),i}easeTo(t,i,s,p){if(g3(t)){var E=t;t=E.key,i=E.value,s=E.duration,p=E.ease;var n=E.speed;s===void 0&&n!==void 0&&(s=Math.abs(i-this.parent.data.values[t])/n*1e3)}s===void 0&&(s=1e3),p===void 0&&(p="Linear");var T=this.getEaseTask(t);return T.restart({key:t,to:i,duration:s,ease:p}),this}easeFrom(t,i,s,p){if(g3(t)){var E=t;t=E.key,i=E.value,s=E.duration,p=E.ease;var n=E.speed;s===void 0&&n!==void 0&&(s=Math.abs(i-this.parent.data.values[t])/n*1e3)}s===void 0&&(s=1e3),p===void 0&&(p="Linear");var T=this.getEaseTask(t);return T.restart({key:t,from:i,duration:s,ease:p}),this}stopEase(t,i){i===void 0&&(i=!0);var s=this.easeTasks[t];return s&&s.stop(i),this}stopAll(t){t===void 0&&(t=!0);for(var i in this.easeTasks)this.stopEase(i,t);return this}}var Fft=function(e,t){t.on("complete",function(i){e.emit(`easedata.${i}.complete`,e),e.emit("easedata.complete",i,e)})};const Ift={easeDataTo(e,t,i,s){return this._easeData||(this._easeData=new Dft(this),Fft(this,this._easeData)),this._easeData.easeTo(e,t,i,s),this},easeDataToPromise(e,t,i,s){return this.easeDataTo(e,t,i,s),Nx(this._easeData,`complete-${e}`)},stopEaseData(e,t){return this._easeData?(this._easeData.stopEase(e,t),this):this},stopAllEaseData(e){return this._easeData?(this._easeData.stopAll(e),this):this}};var Bft=Phaser.Utils.Array.Remove,Gft=function(e){e._delayCallTimers=[],e.once("destroy",function(){for(var t=e._delayCallTimers,i=0,s=t.length;i<s;i++)t[i].remove();e._delayCallTimers=void 0})};const mk={delayCall(e,t,i){var s=this._delayCallTimers;s===void 0&&Gft(this);var p,E=this,n=function(){Bft(E._delayCallTimers,p),i?t.call(i):t()};return p=this.scene.time.delayedCall(e,n),this._delayCallTimers.push(p),this}};var yh=function(e){yk(e,!1)},xh=function(e){yk(e,!0)},Iw=function(e){if(!e)return!1;var t=Yx(e);return!t.hidden},yk=function(e,t){if(e){var i=Yx(e);i.hidden=t;var s=Ls(e);s?s.setChildVisible(e,!t):e.setVisible(!t)}};const kft={show(e){return e===void 0&&(e=this),yh(e),this},hide(e){return e===void 0&&(e=this),xh(e),this},isShow(e){return e===void 0&&(e=this),Iw(e)}},Nft=["next","exit","enter"];let xk=class{constructor(t){var i=Ti(t,"states",void 0);i&&this.addStates(i);var s=Ti(t,"extend",void 0);if(s)for(var p in s)(!this.hasOwnProperty(p)||this[p]===void 0)&&(this[p]=s[p]);var E=Ti(t,"eventEmitter",void 0),n=Ti(t,"EventEmitterClass",void 0);this.setEventEmitter(E,n),this._stateLock=!1,this.resetFromJSON(t)}shutdown(){this.destroyEventEmitter()}destroy(){this.shutdown()}resetFromJSON(t){this.setEnable(Ti(t,"enable",!0)),this.start(Ti(t,"start",void 0));var i=Ti(t,"init",void 0);return i&&i.call(this),this}toJSON(){return{curState:this.state,prevState:this.prevState,enable:this.enable,start:this._start}}setEnable(t){return t===void 0&&(t=!0),this.enable=t,this}toggleEnable(){return this.setEnable(!this.enable),this}set state(t){if(!(!this.enable||this._stateLock)&&this._state!==t){if(this._prevState=this._state,this._state=t,this._stateLock=!0,this.emit("statechange",this),this._prevState!=null){var i="exit_"+this._prevState,s=this[i];s&&s.call(this),this.emit(i,this)}if(this._stateLock=!1,this._state!=null){var p="enter_"+this._state,E=this[p];E&&E.call(this),this.emit(p,this)}}}get state(){return this._state}get prevState(){return this._prevState}start(t){return this._start=t,this._prevState=void 0,this._state=t,this}goto(t){return t!=null&&(this.state=t),this}next(){var t,i=this["next_"+this.state];return i&&(typeof i=="string"?t=i:t=i.call(this)),this.goto(t),this}get stateProperties(){return Nft}addState(t,i){typeof t!="string"&&(i=t,t=i.name);for(var s=this.stateProperties,p=0,E=s.length;p<E;p++){var n=s[p],T=i[n];T&&(this[`${n}_${t}`]=T)}return this}addStates(t){if(Array.isArray(t))for(var i=0,s=t.length;i<s;i++)this.addState(t[i]);else for(var p in t)this.addState(p,t[p]);return this}runMethod(t,i,s,p,E,n){var T=this[t+"_"+this.state];if(T){var r=arguments.length;switch(r){case 1:return T.call(this);case 2:return T.call(this,i);case 3:return T.call(this,i,s);case 4:return T.call(this,i,s,p);case 5:return T.call(this,i,s,p,E);case 6:return T.call(this,i,s,p,E,n)}for(var o=new Array(r-1),x=1;x<r;x++)o[x-1]=arguments[x];return T.apply(this,o)}}};Object.assign(xk.prototype,wG);var SP=function(e,t,i,s,p){p===void 0&&(p=!1);var E=e._events[t];if(!E)return!1;for(var n=0,T=E.length;n<T;n++){var r=E[n];if(r.fn===i&&r.context===s&&r.once===p)return!0}return!1};const Uft=["next","exit","enter","update","preupdate","postupdate"];class Sl extends xk{shutdown(){this.stopUpdate(),this.stopPreUpdate(),this.stopPostUpdate(),this._scene=void 0,super.shutdown()}resetFromJSON(t){return super.resetFromJSON(t),this._scene=Ti(t,"scene",void 0),this}get stateProperties(){return Uft}update(t,i){this.runMethod("update",t,i)}preupdate(t,i){this.runMethod("preupdate",t,i)}postupdate(t,i){this.runMethod("postupdate",t,i)}startUpdate(t){t||(t=this._scene);var i=t.sys.events;return SP(i,"update",this.update,this)?this:(this._scene=t,i.on("update",this.update,this),this)}stopUpdate(){return this._scene?(this._scene.sys.events.off("update",this.update,this),this):this}startPreUpdate(t){t||(t=this._scene);var i=t.sys.events;return SP(i,"preupdate",this.preupdate,this)?this:(this._scene=t,i.on("preupdate",this.preupdate,this),this)}stopPreUpdate(){return this._scene?(this._scene.sys.events.off("preupdate",this.preupdate,this),this):this}startPostUpdate(t){t||(t=this._scene);var i=t.sys.events;return SP(i,"postupdate",this.postupdate,this)?this:(this._scene=t,i.on("postupdate",this.postupdate,this),this)}stopPostUpdate(){return this._scene?(this._scene.sys.events.off("postupdate",this.postupdate,this),this):this}}let Vft=class extends Sl{constructor(t,i){super(i),this.parent=t;var s=i.initState||"IDLE";this.start(s)}init(){this.start("IDLE")}next_IDLE(){return"TRANS_OPNE"}next_TRANS_OPNE(){return"OPEN"}enter_TRANS_OPNE(){var t=this.parent;if(t.transitInTime>0){var i=t.runTransitionInCallback();t.delayCall(i,this.next,this)}else this.next()}exit_TRANS_OPNE(){var t=this.parent;t.removeDelayCall()}next_OPEN(){return"TRANS_CLOSE"}enter_OPEN(){var t=this.parent;t.onOpen()}exit_OPEN(){var t=this.parent;t.removeDelayCall()}next_TRANS_CLOSE(){return"CLOSE"}enter_TRANS_CLOSE(){var t=this.parent;if(t.transitOutTime>0){var i=t.runTransitionOutCallback();t.delayCall(i,this.next,this)}else this.next()}exit_TRANS_CLOSE(){var t=this.parent;t.removeDelayCall()}next_CLOSE(){return"TRANS_OPNE"}enter_CLOSE(){var t=this.parent;t.onClose()}exit_CLOSE(){}canOpen(){return this.state==="IDLE"||this.state==="CLOSE"}canClose(){return this.state==="IDLE"||this.state==="OPEN"}};var zft=function(e,t,i,s,p){var E=ic(e),n=E.time.delayedCall(t,function(){E.game.events.once("poststep",function(){i.call(s,p)})});return n};const Wft={delayCall(e,t,i){return this.delayCallTimer=zft(this,e,t,i),this},removeDelayCall(){return this.delayCallTimer&&(this.delayCallTimer.remove(!1),this.delayCallTimer=void 0),this}},Yft={setTransitInTime(e){return this.transitInTime=e,this},setTransitOutTime(e){return this.transitOutTime=e,this},setTransitInCallback(e){return e||(e=Ur),this.transitInCallback=e,this},setTransitOutCallback(e){return e||(e=Ur),this.transitOutCallback=e,this}},Xft={runTransitionInCallback(){return this.transitInCallback(this.parent,this.transitInTime),this.transitInTime},onOpen(){},requestOpen(e,t){if(!this._state.canOpen())return this;this.openEventData=arguments.length>0?e:this.parent;var i=this.transitInTime;return t!==void 0&&(this.transitInTime=t),this._state.goto("TRANS_OPNE"),this.transitInTime=i,this}},Hft={runTransitionOutCallback(){return this.transitOutCallback(this.parent,this.transitOutTime),this.transitOutTime},onClose(){this.oneShotMode&&this.parent.destroy()},requestClose(e,t){if(!this._state.canClose)return this;this.closeEventData=arguments.length>0?e:this.parent;var i=this.transitOutTime;return t!==void 0&&(this.transitOutTime=t),this._state.goto("TRANS_CLOSE"),this.transitOutTime=i,this}};var Tk={};Object.assign(Tk,Wft,Yft,Xft,Hft);const gd=Phaser.Utils.Objects.GetValue;class Kx extends ji{constructor(t,i){super(t,i),this.setTransitInTime(gd(i,"duration.in",200)),this.setTransitOutTime(gd(i,"duration.out",200)),this.setTransitInCallback(gd(i,"transitIn")),this.setTransitOutCallback(gd(i,"transitOut")),this.oneShotMode=gd(i,"destroy",!1),this.delayCallTimer=void 0,this._state=new Vft(this,{eventEmitter:!1,initState:gd(i,"initState","IDLE")}),this.openEventData=void 0,this.closeEventData=void 0}get state(){return this._state.state}shutdown(t){this.isShutdown||(this.transitInCallback=void 0,this.transitOutCallback=void 0,this.openEventData=void 0,this.closeEventData=void 0,this.removeDelayCall(),super.shutdown(t))}}Object.assign(Kx.prototype,Tk);const $ft=Phaser.GameObjects.Rectangle;class Bw extends $ft{constructor(t,i,s){super(t,0,0,2,2,i,1),this.fullWindow=new YG(this),this.setAlpha(s)}get tint(){return this.fillColor}set tint(t){this.setFillStyle(t,this.fillAlpha)}}const EP=Phaser.Utils.Objects.GetValue;class Zx extends ji{constructor(t,i){super(t,{eventEmitter:!1}),this.resetFromJSON(i),this.boot()}resetFromJSON(t){return this.setHitAreaMode(EP(t,"hitAreaMode",0)),this.setEnable(EP(t,"enable",!0)),this.setStopMode(EP(t,"stopAllLevels",!0)),this}boot(){this.parent.on("pointerdown",function(t,i,s,p){this.stopAllLevels&&p.stopPropagation()},this).on("pointerup",function(t,i,s,p){this.stopAllLevels&&p.stopPropagation()},this).on("pointermove",function(t,i,s,p){this.stopAllLevels&&p.stopPropagation()},this).on("pointerover",function(t,i,s,p){this.stopAllLevels&&p.stopPropagation()},this).on("pointerout",function(t,i){this.stopAllLevels&&i.stopPropagation()},this)}setHitAreaMode(t){typeof t=="string"&&(t=Kft[t]);var i=this.parent;return i.input&&i.removeInteractive(),t===0?i.setInteractive():i.setInteractive({hitArea:{},hitAreaCallback:function(){return!0}}),this}setEnable(t){return t===void 0&&(t=!0),t?this.parent.setInteractive():this.parent.disableInteractive(),this.enable=t,this}setStopMode(t){return t===void 0&&(t=!0),this.stopAllLevels=t,this}toggleEnable(){return this.setEnable(!this.enable),this}}var Kft={default:0,fullWindow:1};const m3=Phaser.Utils.Objects.GetValue;class Gw extends Bw{constructor(t,i){var s=m3(i,"color",0),p=m3(i,"alpha",.8);super(t,s,p),this.touchEventStop=new Zx(this,{hitAreaMode:1})}}var Zft=function(e,t){var i=e.scene,s=new Gw(i,t);return i.add.existing(s),e.isRexContainerLite?(e.pin(s,{syncPosition:!1,syncRotation:!1,syncScale:!1,syncAlpha:!1,syncScrollFactor:!1}),e.moveDepthBelow(s)):i.children.moveBelow(s,e),s};const sy={popUp(e,t){e._modalScaleSave!==void 0?(e.scaleX=e._modalScaleSave,e.scaleY=e._modalScaleSave):e._modalScaleSave=e.scaleX,Dw(e,t)},scaleDown(e,t){fk(e,t,void 0,void 0,!1)},fadeIn(e,t){e._modalAlphaSave!==void 0?e.alpha=e._modalAlphaSave:e._modalAlphaSave=e.alpha,Xx(e,t)},fadeOut(e,t){Hx(e,t,!1)}};var Jft=function(e,t){e._modalAlphaSave!==void 0?e.alpha=e._modalAlphaSave:e._modalAlphaSave=e.alpha,Xx(e,t,e.alpha)},jft=function(e,t){Hx(e,t,!1)},Jx=function(e,t,i,s,p){if(!e||s&&!s(e,t,i))return!1;var E=_M(e,!0);return!(!E.contains(t,i)||p&&!p(e,t,i))};const lo=Phaser.Utils.Objects.GetValue;let Qft=class extends Kx{constructor(t,i){i===void 0&&(i={}),i.transitIn==null&&(i.transitIn=sh.popUp),i.transitOut==null&&(i.transitOut=sh.scaleDown),i.destroy=lo(i,"destroy",!0),super(t,i);var s=lo(i,"cover");this.cover=s!==!1?Zft(t,s):void 0,this.cover&&(this.setCoverTransitInCallback(lo(s,"transitIn",Jft)),this.setCoverTransitOutCallback(lo(s,"transitOut",jft)));var p=lo(i,"touchOutsideClose",!1),E=lo(i,"duration.hold",-1),n=lo(i,"timeOutClose",E>=0),T=lo(i,"anyTouchClose",!1),r=lo(i,"manualClose",!1);r&&(p=!1,T=!1,n=!1),T&&(p=!1),n?this.setDisplayTime(E):this.setDisplayTime(-1),T?this.once("open",this.anyTouchClose,this):p&&this.once("open",this.touchOutsideClose,this),lo(i,"openOnStart",!0)&&this.delayCall(0,this.requestOpen,this)}shutdown(t){this.isShutdown||(this.cover||this.scene.input.off("pointerup",this.touchCloseCallback,this),this.cover&&!t&&(this.cover.destroy(),this.cover=void 0),super.shutdown(t))}touchOutsideClose(){return this.cover?this.cover.on("pointerup",this.touchCloseCallback,this):this.scene.input.on("pointerup",this.touchCloseCallback,this),this.clickOutsideTest=!0,this}anyTouchClose(){return this.cover?this.cover.once("pointerup",this.touchCloseCallback,this):this.scene.input.once("pointerup",this.touchCloseCallback,this),this}touchCloseCallback(t){this.clickOutsideTest&&Jx(this.parent,t.worldX,t.worldY)||this.requestClose()}runTransitionInCallback(){var t=super.runTransitionInCallback(),i=this.cover;return i&&this.coverTransitInCallback&&this.coverTransitInCallback(i,t),t}runTransitionOutCallback(){var t=super.runTransitionOutCallback(),i=this.cover;return i&&this.coverTransitOutCallback&&this.coverTransitOutCallback(i,t),t}onOpen(){var t=this.displayTime;t>=0&&this.delayCall(t,this.requestClose,this),this.emit("open",this.parent,this),super.onOpen()}onClose(){this.emit("close",this.closeEventData),super.onClose()}setDisplayTime(t){return this.displayTime=t,this}setTransitInCallback(t){switch(typeof t=="string"&&(t=sh[t]),t){case sh.popUp:t=sy.popUp;break;case sh.fadeIn:t=sy.fadeIn;break}return super.setTransitInCallback(t),this}setTransitOutCallback(t){switch(typeof t=="string"&&(t=sh[t]),t){case sh.scaleDown:t=sy.scaleDown;break;case sh.fadeOut:t=sy.fadeOut;break}return super.setTransitOutCallback(t),this}setCoverTransitInCallback(t){return this.coverTransitInCallback=t,this}setCoverTransitOutCallback(t){return this.coverTransitOutCallback=t,this}};const sh={popUp:0,fadeIn:1,scaleDown:0,fadeOut:1};var kw=function(e,t){var i=new Qft(e,t);return i.on("open",function(){e.emit("modal.open",i)}),i.on("close",function(s){e.emit("modal.close",s,i)}),e.on("modal.requestClose",i.requestClose,i),i},qft=function(e,t){var i=kw(e,t);return new Promise(function(s,p){i.once("close",function(E){s(E)})})},Ck=function(e,t){e.emit("modal.requestClose",t)},Ua=function(e){return e&&typeof e=="function"};const jx={modal(e,t){return Ua(e)&&(t=e,e=void 0),this._modalBehavior===void 0&&(this.onCreateModalBehavior&&this.onCreateModalBehavior(this,e),this._modalBehavior=kw(this,e)),t&&this._modalBehavior.once("close",t),this._modalBehavior.requestOpen(),this},modalPromise(e){var t=this;return new Promise(function(i,s){t.modal(e,i)})},modalClose(e){return Ck(this,e),this}};var _ft=function(e,t,i,s,p,E){return E===void 0&&(E=!1),t[E?"once":"on"](i,s,p),e.once("destroy",function(){t.off(i,s,p)}),e},al=function(e,t,i,s,p){Ua(t)&&(p=s,s=i,i=t,t=this);var E=this.scene.events;return this.bindEvent(t,E,e,i,s,p),this};const tdt={bindEvent(e,t,i,s,p,E){return typeof t=="string"&&(E=p,p=s,s=i,i=t,t=e,e=this),_ft(e,t,i,s,p,E),this},bindScenePreupdateEvent(e,t,i,s){return al.call(this,"preupdate",e,t,i,s),this},bindSceneUpdateEvent(e,t,i,s){return al.call(this,"update",e,t,i,s),this},bindScenePostupdateEvent(e,t,i,s){return al.call(this,"postupdate",e,t,i,s),this},bindSceneRenderEvent(e,t,i,s){return al.call(this,"render",e,t,i,s),this},bindScenePauseEvent(e,t,i,s){return al.call(this,"pause",e,t,i,s),this},bindSceneResumeEvent(e,t,i,s){return al.call(this,"resume",e,t,i,s),this},bindSceneSleepEvent(e,t,i,s){return al.call(this,"sleep",e,t,i,s),this},bindSceneWakeEvent(e,t,i,s){return al.call(this,"wake",e,t,i,s),this},bindSceneShutdownEvent(e,t,i,s){return al.call(this,"shutdown",e,t,i,s),this}};var lx=function(e,t,i){var s=e.camera;return s?(i===void 0?i={}:i===!0&&(i=edt),s===t?(i.x=e.worldX,i.y=e.worldY):s.getWorldPoint(e.x,e.y,i),i):null},edt={},idt=function(e,t,i,s,p){var E=e.scene.sys.cameras.main,n,T=e.scrollFactorX===0&&e.scrollFactorY===0;if(t)return T?i(e,t.x,t.y,s,p):(n=lx(t,E,!0),n?i(e,n.x,n.y,s,p):!1);for(var r=e.scene.input.manager,o=r.pointersTotal,x=r.pointers,d=0;d<o;d++)if(t=x[d],T){if(i(e,t.x,t.y,s,p))return!0}else{if(n=lx(t,E,!0),!n)continue;if(i(e,n.x,n.y,s,p))return!0}return!1},Po=function(e,t,i,s){return idt(e,t,Jx,i,s)},rdt=function(e,t){return(is(e)||typeof e=="string")&&(t=e,e=void 0),t===void 0?t=this:typeof t=="string"&&(t=this.getElement(t)),Po(t,e)},Va=function(e){return Object.prototype.toString.call(e)==="[object Array]"},Yu=function(e,t,i,s,p){return Jx(e,t,i,ndt(s),p)},y3=function(e){var t=e.rexSizer&&e.rexSizer.hidden;return!t},ndt=function(e){return e?function(t,i,s){return y3(t)?(e(t,i,s),!0):!1}:y3},sdt=function(e,t,i,s,p){if(Ua(i)||(p=i,i=void 0,s=void 0),p===void 0&&(this.sizerChildren?p=this.sizerChildren:p=this.children),Va(p)){for(var E,n=0,T=p.length;n<T;n++)if(E=p[n],Yu(E,e,t,i,s))return E}else{var E;for(var r in p)if(E=p[r],Yu(E,e,t,i,s))return E}return null},adt=function(e,t){return t===void 0?t={}:t===!0&&(t=odt),t.x=e.x,t.y=e.y,t.scaleX=e.scaleX,t.scaleY=e.scaleY,t.width=e.width,t.height=e.height,t.displayWidth=e.displayWidth,t.displayHeight=e.displayHeight,t},odt={},Qp=function(e){this.sizerEventsEnable&&(adt(e,this.getChildPrevState(e)),this.layoutedChildren.push(e))},qp=function(e,t,i,s,p,E,n,T){n===void 0&&(n=0),T===void 0&&(T=0),Kp(e,t,i,s,p,E),e.x+=n,e.y+=T,this.resetChildPositionState(e),this.sizerEventsEnable&&e.emit("sizer.postlayout",e,this)};const ldt=Phaser.Display.Align.CENTER;var hdt=function(){if(this.backgroundChildren!==void 0)for(var e=this.backgroundChildren,t=this.left,i=this.top,s=this.width*this.scaleX,p=this.height*this.scaleY,E,n,T,r,o,x,d,h=0,l=e.length;h<l;h++)E=e[h],n=E.rexSizer,!n.hidden&&(T=n.padding,Qp.call(this,E),r=t+T.left*this.scaleX,o=i+T.top*this.scaleY,x=s-(T.left+T.right)*this.scaleX,d=p-(T.top+T.bottom)*this.scaleY,wn(E,x,d),qp.call(this,E,r,o,x,d,ldt,0,0))};const udt=Phaser.Utils.Objects.IsPlainObject;var fdt=function(e,t,i){if(udt(e)){var s=e;e=s.sensor,i=s.target,t=s.draggable}else typeof t!="boolean"&&(i=t,t=void 0);var p=typeof e;if(p==="string"){var E=e;if(e=this.getElement(E),!e)return console.error(`Can get element '${E}'`),this}else(e===void 0||p!="object")&&(t=e,e=this);return t===void 0&&(t=!0),e.input&&e.input._rexUIDragSizer?e.input.draggable=t:t&&(e.setInteractive(),e.scene.input.setDraggable(e),e.on("drag",function(n,T,r){var o=i===void 0?this.getTopmostSizer():i;o.x+=T-e.x,o.y+=r-e.y,o.emit("sizer.drag",n,T,r)},this).on("dragstart",function(n,T,r){var o=i===void 0?this.getTopmostSizer():i;o.emit("sizer.dragstart",n,T,r)},this).on("dragend",function(n,T,r,o){var x=i===void 0?this.getTopmostSizer():i;x.emit("sizer.dragend",n,T,r,o)},this).on("drop",function(n,T){var r=i===void 0?this.getTopmostSizer():i;r.emit("sizer.drop",n,T)}),e.input._rexUIDragSizer=!0),this};const Nw={onClick(e,t,i,s){return e?(typeof e=="function"&&(s=i,i=t,t=e,e=this),e._click===void 0&&(e._click=new Tl(e,s)),e._click.on("click",t,i),this):this},offClick(e,t,i){return typeof e=="function"&&(i=t,t=e,e=this),e._click===void 0?this:(e._click.off("click",t,i),this)},enableClick(e,t){return typeof e=="boolean"&&(t=e,e=void 0),e===void 0&&(e=this),e._click===void 0?this:(e._click.setEnable(t),this)},disableClick(e){return e===void 0&&(e=this),e._click===void 0?this:(e._click.setEnable(!1),this)}},ep=Phaser.Utils.Objects.GetValue;class Uw extends ji{constructor(t,i){super(t,i),this._enable=void 0;var s=ep(i,"inputConfig",void 0);s&&t.setInteractive(s),this.resetFromJSON(i),this.boot()}resetFromJSON(t){return this.pointer=void 0,this.lastClickTime=void 0,this.setEnable(ep(t,"enable",!0)),this.setMode(ep(t,"mode",1)),this.setClickInterval(ep(t,"clickInterval",100)),this.setDragThreshold(ep(t,"threshold",void 0)),this}boot(){var t=this.parent.scene;t.input.on("pointerdown",this.onPress,this),t.input.on("pointerup",this.onRelease,this),t.input.on("pointermove",this.onMove,this)}shutdown(t){if(!this.isShutdown){var i=this.parent.scene;i.input.off("pointerdown",this.onPress,this),i.input.off("pointerup",this.onRelease,this),i.input.off("pointermove",this.onMove,this),this.pointer=null,super.shutdown(t)}}get enable(){return this._enable}set enable(t){if(this._enable!==t){t||this.cancel(),this._enable=t;var i=t?"enable":"disable";this.emit(i,this,this.parent)}}setEnable(t){return t===void 0&&(t=!0),this.enable=t,this}toggleEnable(){return this.setEnable(!this.enable),this}setMode(t){return typeof t=="string"&&(t=ddt[t]),this.mode=t,this}setClickInterval(t){return this.clickInterval=t,this}setDragThreshold(t){return this.dragThreshold=t,this}isPointerInside(t){var i=this.parent,s=i.input?rw:Po;return s(i,t)}onPress(t){this.parent.willRender(t.camera)&&this.pointer===void 0&&(this.isPointerInside(t)||(this.pointer=t,this.mode===0&&(this.isPointerInside(t)||this.click(t.downTime,t))))}onRelease(t){this.parent.willRender(t.camera)&&this.pointer===t&&(this.mode===1&&(this.isPointerInside(t)||this.click(t.upTime,t)),this.pointer=void 0)}onMove(t,i,s,p){this.pointer===t&&this.dragThreshold!==void 0&&this.mode===1&&(t.getDistance()>=this.dragThreshold||this.isPointerInside(t))&&this.cancel()}click(t,i){if(!this.enable)return this;if(t===void 0)return this.emit("clickoutside",this,this.parent,i),this;this.pointer=void 0;var s=this.lastClickTime;return s!==void 0&&t-s<=this.clickInterval?this:(this.lastClickTime=t,this.emit("clickoutside",this,this.parent,i),this)}cancel(){return this.pointer=void 0,this}}const ddt={press:0,pointerdown:0,release:1,pointerup:1},cdt={onClickOutside(e,t,i,s){return e?(typeof e=="function"&&(s=i,i=t,t=e,e=this),e._clickOutside===void 0&&(e._clickOutside=new Uw(e,s)),e._clickOutside.on("clickoutside",t,i),this):this},offClickOutside(e,t,i){return typeof e=="function"&&(i=t,t=e,e=this),e._clickOutside===void 0?this:(e._clickOutside.off("clickoutside",t,i),this)},enableClickOutside(e,t){return typeof e=="boolean"&&(t=e,e=void 0),e===void 0&&(e=this),e._clickOutside===void 0?this:(e._clickOutside.setEnable(t),this)},disableClickOutside(e){return e===void 0&&(e=this),e._clickOutside===void 0?this:(e._clickOutside.setEnable(!1),this)}};class vdt extends Sl{constructor(){super({eventEmitter:!1}),this.goto("IDLE")}setCooldownTime(t){return this.cooldownTime=t,this.cooldownMode=t!==void 0,this}request(){return this.runMethod("request")}update_IDLE(){this.compensationTime=0}request_IDLE(){return this.next(),!0}next_IDLE(){if(this.cooldownMode)return"COOLDOWN"}enter_COOLDOWN(){this.remainderTime=this.cooldownTime+this.compensationTime}update_COOLDOWN(t,i){this.remainderTime-=i,this.remainderTime<0&&(this.compensationTime=this.cooldownTime>i?-this.remainderTime:0,this.goto("IDLE"))}request_COOLDOWN(){return!1}}const PP=Phaser.Utils.Objects.GetValue;class Zd extends ji{constructor(t,i){super(t,i),this._enable=void 0,this.cooldown=new vdt,this.parent.setInteractive(PP(i,"inputConfig",void 0)),this.resetFromJSON(i),this.boot()}resetFromJSON(t){return this.pointer=void 0,this.prevIsInTouch=!1,this.isInTouching=!1,this.setEnable(PP(t,"enable",!0)),this.setCooldown(PP(t,"cooldown",void 0)),this}boot(){var t=this.parent;t.on("pointerdown",this.onPointIn,this),t.on("pointerover",this.onPointIn,this),t.on("pointerup",this.onPointOut,this),t.on("pointerout",this.onPointOut,this),this.scene.sys.events.on("preupdate",this.preupdate,this)}shutdown(t){this.isShutdown||(this.scene.sys.events.off("preupdate",this.preupdate,this),this.pointer=void 0,super.shutdown(t))}get enable(){return this._enable}set enable(t){if(this._enable!==t)return t||(this.prevIsInTouch=!1,this.isInTouching=!1,this.pointer=void 0),this._enable=t,this}setEnable(t){return t===void 0&&(t=!0),this.enable=t,this}get cooldownTime(){return this.cooldown.cooldownTime}set cooldownTime(t){this.cooldown.setCooldownTime(t)}setCooldown(t){return this.cooldownTime=t,this}toggleEnable(){return this.setEnable(!this.enable),this}onPointIn(t,i,s){!this.enable||!t.isDown||this.pointer!==void 0||(this.pointer=t,this.isInTouching=!0)}onPointOut(t){!this.enable||this.pointer!==t||(this.pointer=void 0,this.isInTouching=!1)}preupdate(t,i){this.cooldown.update(t,i),!this.prevIsInTouch&&this.isInTouching&&this.emit("touchstart",this,this.parent),this.isInTouching&&this.cooldown.request()&&this.emit("intouch",this,this.parent,this.pointer),this.prevIsInTouch&&!this.isInTouching&&this.emit("touchend",this,this.parent),this.prevIsInTouch=this.isInTouching}}const pdt={isPointerInBounds(e){return e===void 0?e=this:typeof e=="string"&&(e=this.getElement(e)),e?Po(e):!1},onTouching(e,t,i,s){return e?(typeof e=="function"&&(s=i,i=t,t=e,e=this),e._inTouching===void 0&&(e._inTouching=new Zd(e,s)),e._inTouching.on("intouch",t,i),this):this},offTouching(e,t,i){return typeof e=="function"&&(i=t,t=e,e=this),e._inTouching===void 0?this:(e._inTouching.off("intouch",t,i),this)},onTouchingEnd(e,t,i,s){return e?(typeof e=="function"&&(s=i,i=t,t=e,e=this),e._inTouching===void 0&&(e._inTouching=new Zd(e,s)),e._inTouching.on("touchend",t,i),this):this},offTouchingEnd(e,t,i){return typeof e=="function"&&(i=t,t=e,e=this),e._inTouching===void 0?this:(e._inTouching.off("touchend",t,i),this)},enableTouching(e,t){return typeof e=="boolean"&&(t=e,e=void 0),e===void 0&&(e=this),e._inTouching===void 0?this:(e._inTouching.setEnable(t),this)},disableTouching(e){return e===void 0&&(e=this),e._inTouching===void 0?this:(e._inTouching.setEnable(!1),this)}},gdt={onOver(e,t,i){return e?(typeof e=="function"&&(i=t,t=e,e=this),e.setInteractive().on("pointerover",t,i),this):this},onOut(e,t,i){return e?(typeof e=="function"&&(i=t,t=e,e=this),e.setInteractive().on("pointerout",t,i),this):this}};var Sk=function(e,t,i,s){if(e==="parent"){for(var p,E=0,n=t.length;E<n;E++)if(p=t[E],!!Yu(p,i,s))return p.pointToChild(i,s)}else for(var E=0,n=t.length;E<n;E++){var T=t[E];if(Yu(T,i,s))return T}return null},sa=function(e,t,i,s,p,E,n,T){var r;if(E===void 0)r=p;else{var o=i[0];if(!o)return;var x=n.camera,d=p+x.scrollX*(o.scrollFactorX-1),h=E+x.scrollY*(o.scrollFactorY-1);r=Sk(s,i,d,h)}r&&e.emit(t,r,n,T)};const mdt=Phaser.Utils.Objects.GetValue;var ydt=function(e){var t=mdt(e,"down",void 0);t!==!1&&(t===!0&&(t=void 0),this.on("pointerdown",xdt,this))},xdt=function(e,t,i,s){var p=this._childrenInteractive;sa(p.eventEmitter,`${p.eventNamePrefix}down`,p.targetSizers,p.targetMode,e.worldX,e.worldY,e,s)};const Tdt=Phaser.Utils.Objects.GetValue;var Cdt=function(e){var t=Tdt(e,"up",void 0);t!==!1&&(t===!0&&(t=void 0),this.on("pointerup",Sdt,this))},Sdt=function(e,t,i,s){var p=this._childrenInteractive;sa(p.eventEmitter,`${p.eventNamePrefix}up`,p.targetSizers,p.targetMode,e.worldX,e.worldY,e,s)};const Edt=Phaser.Utils.Objects.GetValue;var Pdt=function(e){var t=Edt(e,"over",void 0);t!==!1&&(t===!0&&(t=void 0),this.on("pointermove",x3,this).on("pointerover",x3,this).on("pointerout",bdt,this))},x3=function(e,t,i,s){var p=this._childrenInteractive,E=p.targetSizers[0];if(E){var n=e.camera,T=e.worldX+n.scrollX*(E.scrollFactorX-1),r=e.worldY+n.scrollY*(E.scrollFactorY-1),o=Sk(p.targetMode,p.targetSizers,T,r),x=p.lastOverChild;o&&x&&o===x||(p.lastOverChild=o,sa(p.eventEmitter,`${p.eventNamePrefix}out`,p.targetSizers,p.targetMode,x,void 0,e,s),sa(p.eventEmitter,`${p.eventNamePrefix}over`,p.targetSizers,p.targetMode,o,void 0,e,s))}},bdt=function(e,t){var i=this._childrenInteractive,s=i.lastOverChild;i.lastOverChild=null,sa(i.eventEmitter,`${i.eventNamePrefix}out`,i.targetSizers,i.targetMode,s,void 0,e,t)};const Mdt=Phaser.Utils.Objects.GetValue;var wdt=function(e){var t=Mdt(e,"click",void 0);if(t!==!1){t===!0&&(t=void 0),t===void 0&&(t={}),t.hasOwnProperty("threshold")||(t.threshold=10);var i=this._childrenInteractive;this._click=new Tl(this,t),this._click.on("click",function(s,p,E,n){sa(i.eventEmitter,`${i.eventNamePrefix}click`,i.targetSizers,i.targetMode,E.worldX,E.worldY,E,n)},this)}};const bP=Phaser.Utils.Objects.GetValue;class Qx extends Gx{constructor(t,i){var s=ic(t);s===t&&(t=void 0),super(s,i),this.gameObject=t,t&&t.setInteractive(bP(i,"inputConfig",void 0)),this._enable=void 0,this.resetFromJSON(i),this.boot()}resetFromJSON(t){return this.setEnable(bP(t,"enable",!0)),this.setDetectBounds(),this.gameObject===void 0?this.setDetectBounds(bP(t,"bounds",void 0)):this.setDetectBounds(),this.tracerState=MP,this.pointer=void 0,this.lastPointer=void 0,this.movedState=!1,this.isTouchingAnyObject=!1,this}boot(){super.boot(),this.gameObject?this.gameObject.on("pointerdown",this.onPointerDown,this):this.scene.input.on("pointerdown",this.onPointerDown,this),this.scene.input.on("pointerup",this.onPointerUp,this),this.scene.input.on("gameout",this.dragCancel,this),this.scene.input.on("pointermove",this.onPointerMove,this),this.scene.sys.events.once("shutdown",this.destroy,this)}shutdown(t){this.scene&&(this.gameObject||this.scene.input.off("pointerdown",this.onPointerDown,this),this.scene.input.off("pointerup",this.onPointerUp,this),this.scene.input.off("gameout",this.dragCancel,this),this.scene.input.off("pointermove",this.onPointerMove,this),this.scene.sys.events.off("shutdown",this.destroy,this),this.gameObject=void 0,this.bounds=void 0,this.pointer=void 0,this.lastPointer=void 0,this.movedState=!1,super.shutdown(t))}get enable(){return this._enable}set enable(t){if(this._enable!==t)return t||this.dragCancel(),this._enable=t,this}setEnable(t){return t===void 0&&(t=!0),this.enable=t,this}setDetectBounds(t){return this.bounds=t,this}toggleEnable(){return this.setEnable(!this.enable),this}onPointerDown(t,i){if(this.enable&&this.pointer===void 0){var s=this.bounds?this.bounds.contains(t.x,t.y):!0;s&&this.pointer!==t&&(this.pointer=t,this.pointerCamera=t.camera,this.lastPointer=t,this.movedState=!1,this.tracerState=T3,this.gameObject===void 0&&(this.isTouchingAnyObject=i.length>0),this.onDragStart())}}onPointerUp(t){if(this.enable){var i=this.bounds?this.bounds.contains(t.x,t.y):!0;i&&this.pointer===t&&(this.pointer=void 0,this.pointerCamera=void 0,this.movedState=!1,this.tracerState=MP,this.onDragEnd())}}onPointerMove(t){if(this.enable&&t.isDown){var i=this.bounds?this.bounds.contains(t.x,t.y):!0,s=this.pointer===t;!s&&i||(s&&!i?this.onPointerUp(t):(this.movedState||(this.movedState=t.x!==t.downX||t.y!==t.downY),this.movedState&&this.onDrag()))}}dragCancel(){return this.tracerState===T3&&this.onDragEnd(),this.pointer=void 0,this.tracerState=MP,this}onDragStart(){this.emit("dragstart",this)}onDragEnd(){this.emit("dragend",this)}onDrag(){this.emit("drag",this)}preUpdate(t,i){}postUpdate(t,i){}startTicking(){super.startTicking(),this.scene.sys.events.on("preupdate",this.preUpdate,this),this.scene.sys.events.on("postupdate",this.postUpdate,this)}stopTicking(){super.stopTicking(),this.scene&&(this.scene.sys.events.off("preupdate",this.preUpdate,this),this.scene.sys.events.off("postupdate",this.postUpdate,this))}setRecongizedStateObject(t){return this.recongizedState=t,this}get state(){return this.recongizedState.state}set state(t){this.recongizedState.state=t}cancel(){return this.state=Rdt,this}isPointerInGameObject(t,i,s){var p=this.lastPointer;return p?Po(t,p,i,s):!1}}const MP=0,T3=1,Rdt="IDLE",Pu=Phaser.Utils.Objects.GetValue,Adt=Phaser.Math.Distance.Between;class qx extends Qx{constructor(t,i){super(t,i);var s=this,p={states:{IDLE:{enter:function(){s.stop(),s.tapsCount=0,s.x=0,s.y=0,s.worldX=0,s.worldY=0,s.lastPointer=void 0},exit:function(){var E=s.lastPointer;s.x=E.x,s.y=E.y,s.worldX=E.worldX,s.worldY=E.worldY}},BEGIN:{enter:function(){s.start(),s.tapsCount=0,s.emit("tappingstart",s,s.gameObject,s.lastPointer)}},RECOGNIZED:{enter:function(){s.start(),s.emit("tap",s,s.gameObject,s.lastPointer),s.emit(`${s.tapsCount}tap`,s,s.gameObject,s.lastPointer)}}},init:function(){this.state=bu},eventEmitter:!1};this.setRecongizedStateObject(new Sl(p))}resetFromJSON(t){super.resetFromJSON(t),this.setHoldTime(Pu(t,"time",250)),this.setTapInterval(Pu(t,"tapInterval",200)),this.setDragThreshold(Pu(t,"threshold",9)),this.setTapOffset(Pu(t,"tapOffset",10));var i=Pu(t,"taps",void 0);return i!==void 0?this.setTaps(i):(this.setMaxTaps(Pu(t,"maxTaps",void 0)),this.setMinTaps(Pu(t,"minTaps",void 0))),this}onDragStart(){switch(this.state){case bu:this.state=md;break;case md:var t=this.lastPointer,i=Adt(t.upX,t.upY,t.x,t.y);i>this.tapOffset&&(this.state=yd,this.state=md);break;case yd:this.state=md;break}}onDragEnd(){this.state===md&&(this.tapsCount++,this.emit("tapping",this,this.gameObject,this.lastPointer),this.maxTaps!==void 0&&this.tapsCount===this.maxTaps&&(this.state=yd))}onDrag(){this.state!==bu&&this.pointer.getDistance()>this.dragThreshold&&(this.state=bu)}preUpdate(t,i){if(!(!this.isRunning||!this.enable)&&this.state===md){var s=this.lastPointer;if(s.isDown){var p=t-s.downTime;p>this.holdTime&&(this.state=bu)}else{var E=t-s.upTime;E>this.tapInterval&&(this.minTaps===void 0||this.tapsCount>=this.minTaps?this.state=yd:this.state=bu)}}}postUpdate(t,i){!this.isRunning||!this.enable||this.state===yd&&(this.state=bu)}get isTapped(){return this.state===yd}setHoldTime(t){return this.holdTime=t,this}setTapInterval(t){return this.tapInterval=t,this}setDragThreshold(t){return this.dragThreshold=t,this}setTapOffset(t){return this.tapOffset=t,this}setMaxTaps(t){return this.maxTaps=t,this}setMinTaps(t){return this.minTaps=t,this}setTaps(t,i){return i===void 0&&(i=t),this.setMinTaps(t).setMaxTaps(i),this}}const bu="IDLE",md="BEGIN",yd="RECOGNIZED",C3=Phaser.Utils.Objects.GetValue;class _x extends Qx{constructor(t,i){super(t,i);var s=this,p={states:{IDLE:{enter:function(){s.x=0,s.y=0,s.worldX=0,s.worldY=0,s.lastPointer=void 0},exit:function(){var E=s.lastPointer;s.x=E.x,s.y=E.y,s.worldX=E.worldX,s.worldY=E.worldY}},BEGIN:{enter:function(){s.start()},exit:function(){s.stop()}},RECOGNIZED:{enter:function(){s.emit("pressstart",s,s.gameObject,s.lastPointer)},exit:function(){s.emit("pressend",s,s.gameObject,s.lastPointer)}}},init:function(){this.state=ay},eventEmitter:!1};this.setRecongizedStateObject(new Sl(p))}resetFromJSON(t){return super.resetFromJSON(t),this.setDragThreshold(C3(t,"threshold",9)),this.setHoldTime(C3(t,"time",251)),this}onDragStart(){this.state=S3,this.holdTime===0&&(this.state=wP)}onDragEnd(){this.state=ay}onDrag(){this.state!==ay&&this.pointer.getDistance()>this.dragThreshold&&(this.state=ay)}preUpdate(t,i){if(!(!this.isRunning||!this.enable)&&this.state===S3){var s=t-this.pointer.downTime;s>=this.holdTime&&(this.state=wP)}}get isPressed(){return this.state===wP}setHoldTime(t){return this.holdTime=t,this}setDragThreshold(t){return this.dragThreshold=t,this}}const ay="IDLE",S3="BEGIN",wP="RECOGNIZED",Odt=Phaser.Utils.Objects.GetValue;class Ek extends Qx{constructor(t,i){super(t,i);var s=this,p={states:{IDLE:{},BEGIN:{enter:function(){var E=s.pointer;s.startX=E.x,s.startY=E.y,s.startWorldX=E.worldX,s.startWorldY=E.worldY}},RECOGNIZED:{enter:function(){s.emit("panstart",s,s.gameObject,s.lastPointer)},exit:function(){var E=s.lastPointer;s.endX=E.x,s.endY=E.y;var n=lx(E,s.pointerCamera,!0);s.endWorldX=n.x,s.endWorldY=n.y,s.emit("panend",s,s.gameObject,s.lastPointer)}}},init:function(){this.state=E3},eventEmitter:!1};this.setRecongizedStateObject(new Sl(p))}resetFromJSON(t){return super.resetFromJSON(t),this.setDragThreshold(Odt(t,"threshold",10)),this}onDragStart(){this.state=P3,this.dragThreshold===0&&(this.state=oy)}onDragEnd(){this.state=E3}onDrag(){switch(this.state){case P3:if(this.pointer.getDistance()>=this.dragThreshold){this.state=oy,this.dx=0,this.dy=0,this.dWorldX=0,this.dWorldY=0;var p=this.pointer;this.x=p.x,this.y=p.y,this.worldX=p.worldX,this.worldY=p.worldY}break;case oy:var t=this.pointerCamera,i=this.pointer.position,s=this.pointer.prevPosition;this.dx=i.x-s.x,this.dy=i.y-s.y,this.dWorldX=this.dx/t.zoom,this.dWorldY=this.dy/t.zoom;var p=this.pointer;this.x=p.x,this.y=p.y;var E=lx(p,t,!0);this.worldX=E.x,this.worldY=E.y,this.emit("pan",this,this.gameObject,this.lastPointer);break}}get isPanned(){return this.state===oy}setDragThreshold(t){return this.dragThreshold=t,this}}const E3="IDLE",P3="BEGIN",oy="RECOGNIZED",Ldt=Phaser.Math.Distance.Between,Ddt=Phaser.Math.Angle.Between,Fdt={getDt:function(){var e=aw(this.scene);return e},getVelocity:function(){var e=this.pointer.position,t=this.pointer.prevPosition,i=Ldt(t.x,t.y,e.x,e.y),s=i/(this.getDt()*.001);return s},getVelocityX:function(){var e=this.pointer.position,t=this.pointer.prevPosition,i=Math.abs(e.x-t.x),s=i/(this.getDt()*.001);return s},getVelocityY:function(){var e=this.pointer.position,t=this.pointer.prevPosition,i=Math.abs(e.y-t.y),s=i/(this.getDt()*.001);return s},getVelocityAngle:function(){var e=this.pointer.position,t=this.pointer.prevPosition,i=Ddt(t.x,t.y,e.x,e.y);return i}},Idt={"up&down":0,"left&right":1,"4dir":2,"8dir":3};var Bdt=function(e,t,i){switch(i===void 0?i={}:i===!0&&(i=Gdt),i.left=!1,i.right=!1,i.up=!1,i.down=!1,e=(e+360)%360,t){case 0:e<180?i.down=!0:i.up=!0;break;case 1:e>90&&e<=270?i.left=!0:i.right=!0;break;case 2:e>45&&e<=135?i.down=!0:e>135&&e<=225?i.left=!0:e>225&&e<=315?i.up=!0:i.right=!0;break;case 3:e>22.5&&e<=67.5?(i.down=!0,i.right=!0):e>67.5&&e<=112.5?i.down=!0:e>112.5&&e<=157.5?(i.down=!0,i.left=!0):e>157.5&&e<=202.5?i.left=!0:e>202.5&&e<=247.5?(i.left=!0,i.up=!0):e>247.5&&e<=292.5?i.up=!0:(e>292.5&&e<=337.5&&(i.up=!0),i.right=!0);break}return i},Gdt={};const RP=Phaser.Utils.Objects.GetValue,kdt=Phaser.Math.RadToDeg;class _p extends Qx{constructor(t,i){super(t,i);var s=this,p={states:{IDLE:{enter:function(){s.x=0,s.y=0,s.worldX=0,s.worldY=0},exit:function(){var E=s.lastPointer;s.x=E.x,s.y=E.y,s.worldX=E.worldX,s.worldY=E.worldY}},BEGIN:{enter:function(){s.validDrag=!1}},RECOGNIZED:{enter:function(){s.start(),s.updateDirectionStates(),s.emit("swipe",s,s.gameObject,s.lastPointer)},exit:function(){s.stop(),s.clearDirectionStates()}}},init:function(){this.state=AP},eventEmitter:!1};this.setRecongizedStateObject(new Sl(p)),this.clearDirectionStates()}resetFromJSON(t){return super.resetFromJSON(t),this.setDragThreshold(RP(t,"threshold",10)),this.setVelocityThreshold(RP(t,"velocityThreshold",1e3)),this.setDirectionMode(RP(t,"dir","8dir")),this}onDragStart(){this.state=b3}onDragEnd(){this.state=AP}onDrag(){this.state===b3&&(this.validDrag||(this.validDrag=this.dragThreshold===0||this.pointer.getDistance()>=this.dragThreshold),this.validDrag&&this.dragVelocity>this.velocityThreshold&&(this.state=OP))}postUpdate(t,i){!this.isRunning||!this.enable||this.state===OP&&(this.state=AP)}get isSwiped(){return this.state===OP}get dragVelocity(){var t;switch(this.dirMode){case 0:t=this.getVelocityY();break;case 1:t=this.getVelocityX();break;default:t=this.getVelocity();break}return t}setDragThreshold(t){return this.dragThreshold=t,this}setVelocityThreshold(t){return this.velocityThreshold=t,this}setDirectionMode(t){return typeof t=="string"&&(t=Idt[t]),this.dirMode=t,this}updateDirectionStates(){var t=kdt(this.getVelocityAngle());return Bdt(t,this.dirMode,this),this}clearDirectionStates(){return this.left=!1,this.right=!1,this.up=!1,this.down=!1,this}}Object.assign(_p.prototype,Fdt);const AP="IDLE",b3="BEGIN",OP="RECOGNIZED",ly=Phaser.Utils.Objects.GetValue,Ndt=Phaser.Utils.Array.SpliceOne,Udt=Phaser.Math.Distance.Between,Vdt=Phaser.Math.Angle.Between;class Vw{constructor(t,i){var s=ic(t);s===t&&(t=void 0);var p=s.input.manager.pointersTotal-1;p<2&&s.input.addPointer(2-p),this.scene=s,this.gameObject=t,t&&t.setInteractive(ly(i,"inputConfig",void 0)),this.setEventEmitter(ly(i,"eventEmitter",void 0)),this._enable=void 0,this.pointers=[],this.movedState={},this.resetFromJSON(i),this.boot()}resetFromJSON(t){return this.setEnable(ly(t,"enable",!0)),this.bounds=ly(t,"bounds",void 0),this.tracerState=hy,this.pointers.length=0,Eh(this.movedState),this}boot(){this.gameObject?this.gameObject.on("pointerdown",this.onPointerDown,this):this.scene.input.on("pointerdown",this.onPointerDown,this),this.scene.input.on("pointerup",this.onPointerUp,this),this.scene.input.on("gameout",this.dragCancel,this),this.scene.input.on("pointermove",this.onPointerMove,this),this.scene.sys.events.once("shutdown",this.destroy,this)}shutdown(){this.scene&&(this.destroyEventEmitter(),this.pointers.length=0,Eh(this.movedState),this.gameObject||this.scene.input.off("pointerdown",this.onPointerDown,this),this.scene.input.off("pointerup",this.onPointerUp,this),this.scene.input.off("gameout",this.dragCancel,this),this.scene.input.off("pointermove",this.onPointerMove,this),this.scene.sys.events.off("shutdown",this.destroy,this),this.scene=void 0,this.gameObject=void 0)}destroy(){this.shutdown()}get enable(){return this._enable}set enable(t){if(this._enable!==t)return t||this.dragCancel(),this._enable=t,this}setEnable(t){return t===void 0&&(t=!0),this.enable=t,this}toggleEnable(){return this.setEnable(!this.enable),this}onPointerDown(t){if(this.enable&&this.pointers.length!==2){var i=this.bounds?this.bounds.contains(t.x,t.y):!0;if(i){var s=this.pointers.indexOf(t);if(s===-1)switch(this.movedState[t.id]=!1,this.pointers.push(t),this.pointerCamera=t.camera,this.tracerState){case hy:this.tracerState=rp,this.onDrag1Start();break;case rp:this.tracerState=ho,this.onDrag2Start();break}}}}onPointerUp(t){if(this.enable){var i=this.bounds?this.bounds.contains(t.x,t.y):!0;if(i){var s=this.pointers.indexOf(t);if(s!==-1)switch(delete this.movedState[t.id],Ndt(this.pointers,s),this.tracerState){case rp:this.tracerState=hy,this.onDrag1End();break;case ho:this.tracerState=rp,this.onDrag2End(),this.onDrag1Start();break}}}}onPointerMove(t){if(this.enable&&t.isDown){var i=this.bounds?this.bounds.contains(t.x,t.y):!0,s=this.pointers.indexOf(t)!==-1;if(!(!s&&i)){if(s&&!i)this.onPointerUp(t);else if(this.movedState[t.id]||(this.movedState[t.id]=t.x!==t.downX||t.y!==t.downY),this.movedState[t.id])switch(this.tracerState){case rp:this.onDrag1();break;case ho:this.onDrag2();break}}}}dragCancel(){return this.tracerState===ho&&this.onDrag2End(),this.pointers.length=0,Eh(this.movedState),this.tracerState=hy,this}onDrag1Start(){this.emit("drag1start",this)}onDrag1End(){this.emit("drag1end",this)}onDrag1(){this.emit("drag1",this)}onDrag2Start(){this.emit("drag2start",this)}onDrag2End(){this.emit("drag2end",this)}onDrag2(){this.emit("drag2",this)}get distanceBetween(){if(this.tracerState!==ho)return 0;var t=this.pointers[0],i=this.pointers[1];return Udt(t.x,t.y,i.x,i.y)}get angleBetween(){if(this.tracerState!==ho)return 0;var t=this.pointers[0],i=this.pointers[1];return Vdt(t.x,t.y,i.x,i.y)}get drag1Vector(){var t=this.pointers[0];if(t&&this.movedState[t.id]){var i=t.position,s=t.prevPosition;ip.x=i.x-s.x,ip.y=i.y-s.y}else ip.x=0,ip.y=0;return ip}get centerX(){if(this.tracerState!==ho)return 0;var t=this.pointers[0].position,i=this.pointers[1].position;return(t.x+i.x)/2}get centerY(){if(this.tracerState!==ho)return 0;var t=this.pointers[0].position,i=this.pointers[1].position;return(t.y+i.y)/2}get prevCenterX(){if(this.tracerState!==ho)return 0;var t=this.movedState[this.pointers[0].id]?this.pointers[0].prevPosition:this.pointers[0].position,i=this.movedState[this.pointers[1].id]?this.pointers[1].prevPosition:this.pointers[1].position;return(t.x+i.x)/2}get prevCenterY(){if(this.tracerState!==ho)return 0;var t=this.movedState[this.pointers[0].id]?this.pointers[0].prevPosition:this.pointers[0].position,i=this.movedState[this.pointers[1].id]?this.pointers[1].prevPosition:this.pointers[1].position;return(t.y+i.y)/2}get movementCenterX(){return this.centerX-this.prevCenterX}get movementCenterY(){return this.centerY-this.prevCenterY}setRecongizedStateObject(t){return this.recongizedState=t,this}get state(){return this.recongizedState.state}set state(t){this.recongizedState.state=t}cancel(){return this.state=zdt,this}isPointer0InGameObject(t,i,s){var p=this.pointers[0];return p?Po(t,p,i,s):!1}isPointer1InGameObject(t,i,s){var p=this.pointers[1];return p?Po(t,p,i,s):!1}}Object.assign(Vw.prototype,Up);var ip={};const hy=0,rp=1,ho=2,zdt="IDLE",Wdt=Phaser.Utils.Objects.GetValue;class Pk extends Vw{constructor(t,i){super(t,i);var s=this,p={states:{IDLE:{enter:function(){s.prevDistance=void 0,s.scaleFactor=1}},BEGIN:{},RECOGNIZED:{enter:function(){s.emit("pinchstart",s)},exit:function(){s.emit("pinchend",s)}}},init:function(){this.state=M3},eventEmitter:!1};this.setRecongizedStateObject(new Sl(p))}resetFromJSON(t){return super.resetFromJSON(t),this.setDragThreshold(Wdt(t,"threshold",0)),this}onDrag2Start(){this.scaleFactor=1,this.prevDistance=this.distanceBetween,this.state=w3,this.dragThreshold===0&&(this.state=uy)}onDrag2End(){this.state=M3}onDrag2(){switch(this.state){case w3:if(this.pointers[0].getDistance()>=this.dragThreshold&&this.pointers[1].getDistance()>=this.dragThreshold){var t=this.distanceBetween;this.scaleFactor=t/this.prevDistance,this.prevDistance=t,this.state=uy}break;case uy:var t=this.distanceBetween;this.scaleFactor=t/this.prevDistance,this.emit("pinch",this),this.prevDistance=t;break}}get isPinched(){return this.state===uy}setDragThreshold(t){return this.dragThreshold=t,this}}const M3="IDLE",w3="BEGIN",uy="RECOGNIZED",Ydt=Phaser.Math.RotateAround;var R3=function(e,t,i,s){return Ydt(e,t,i,s),e.rotation+=s,e},Xdt=function(e,t,i,s){return s===void 0?s={}:s===!0&&(s=Hdt),i.getWorldPoint(e,t,s),s},Hdt={},$dt=function(e,t){if(!this.isRotation)return this;t===void 0&&(t=this.pointers[0].camera);var i=this.movementCenterX,s=this.movementCenterY,p=Xdt(this.centerX,this.centerY,t,!0),E=p.x,n=p.y,T=this.rotation;if(Array.isArray(e))for(var r=e,o=0,x=r.length;o<x;o++)e=r[o],e.x+=i,e.y+=s,R3(e,E,n,T);else e.x+=i,e.y+=s,R3(e,E,n,T);return this};const Kdt=Phaser.Utils.Objects.GetValue,LP=Phaser.Math.Angle.WrapDegrees,A3=Phaser.Math.Angle.ShortestBetween,DP=Phaser.Math.RadToDeg,Zdt=Phaser.Math.DegToRad;class zw extends Vw{constructor(t,i){super(t,i);var s=this,p={states:{IDLE:{enter:function(){s.prevAngle=void 0,s.angle=0}},BEGIN:{},RECOGNIZED:{enter:function(){s.emit("rotatestart",s)},exit:function(){s.emit("rotateend",s)}}},init:function(){this.state=O3},eventEmitter:!1};this.setRecongizedStateObject(new Sl(p))}resetFromJSON(t){return super.resetFromJSON(t),this.setDragThreshold(Kdt(t,"threshold",0)),this}onDrag2Start(){this.prevAngle=LP(DP(this.angleBetween)),this.state=L3,this.dragThreshold===0&&(this.state=fy)}onDrag2End(){this.state=O3}onDrag2(){switch(this.state){case L3:if(this.pointers[0].getDistance()>=this.dragThreshold&&this.pointers[1].getDistance()>=this.dragThreshold){var t=LP(DP(this.angleBetween));this.angle=A3(this.prevAngle,t),this.prevAngle=t,this.state=fy}break;case fy:var t=LP(DP(this.angleBetween));this.angle=A3(this.prevAngle,t),this.prevAngle=t,this.emit("rotate",this);break}}get isRotated(){return this.state===fy}get rotation(){return Zdt(this.angle)}setDragThreshold(t){return this.dragThreshold=t,this}}var Jdt={spinObject:$dt};Object.assign(zw.prototype,Jdt);const O3="IDLE",L3="BEGIN",fy="RECOGNIZED",jdt=Phaser.Utils.Objects.GetValue;var Qdt=function(e){var t=jdt(e,"tap",void 0);if(t!==!1){t===!0&&(t=void 0);var i=this._childrenInteractive;this._tap=new qx(this,t),this._tap.on("tap",function(s,p,E){sa(i.eventEmitter,`${i.eventNamePrefix}${s.tapsCount}tap`,i.targetSizers,i.targetMode,s.worldX,s.worldY,E,s),sa(i.eventEmitter,`${i.eventNamePrefix}tap`,i.targetSizers,i.targetMode,s.worldX,s.worldY,E,s)},this)}};const qdt=Phaser.Utils.Objects.GetValue;var _dt=function(e){var t=qdt(e,"press",void 0);if(t!==!1){t===!0&&(t=void 0);var i=this._childrenInteractive;this._press=new _x(this,t),this._press.on("pressstart",function(s,p,E){sa(i.eventEmitter,`${i.eventNamePrefix}pressstart`,i.targetSizers,i.targetMode,s.worldX,s.worldY,E,s)},this).on("pressend",function(s,p,E){sa(i.eventEmitter,`${i.eventNamePrefix}pressend`,i.targetSizers,i.targetMode,s.worldX,s.worldY,E,s)},this)}};const tct=Phaser.Utils.Objects.GetValue;var ect=function(e){var t=tct(e,"swipe",void 0);if(t!==!1){t===!0&&(t=void 0),t===void 0&&(t={}),t.hasOwnProperty("dir")||(t.dir="4dir");var i=this._childrenInteractive;this._swipe=new _p(this,t),this._swipe.on("swipe",function(s,p,E){var n=s.left?"left":s.right?"right":s.up?"up":"down";sa(i.eventEmitter,`${i.eventNamePrefix}swipe${n}`,i.targetSizers,i.targetMode,s.worldX,s.worldY,E,s),sa(i.eventEmitter,`${i.eventNamePrefix}swipe`,i.targetSizers,i.targetMode,s.worldX,s.worldY,E,s)},this)}};const np=Phaser.Utils.Objects.GetValue;var tT=function(e,t){return e.setInteractive(),np(t,"dropZone",!1)&&(e.input.dropZone=!0),e._childrenInteractive={targetSizers:np(t,"targets",[e]),targetMode:np(t,"targetMode","parent"),eventEmitter:np(t,"eventEmitter",e),eventNamePrefix:np(t,"inputEventPrefix","child.")},ydt.call(e,t),Cdt.call(e,t),Pdt.call(e,t),wdt.call(e,t),Qdt.call(e,t),_dt.call(e,t),ect.call(e,t),e},ict=function(e){return tT(this,e),this},rct=function(){for(var e=this.getAllChildren([this]),t=0,i=e.length;t<i;t++){var s=e[t];s.emit.apply(s,arguments)}return this},bk={getSizerConfig:Tut,getChildPrevState:Cut,pushIntoBounds:Sut,drawBounds:But,resolveWidth:bw,hasWidthWrap:Mw,resolveChildrenWidth:jut,runWidthWrap:ww,resolveHeight:Rw,hasHeightWrap:Aw,resolveChildrenHeight:Qut,runHeightWrap:Ow,getChildWidth:qut,getChildHeight:_ut,getExpandedChildWidth:tft,getExpandedChildHeight:eft,getChildrenWidth:ift,getChildrenHeight:rft,addChildrenMap:a3,addElement:a3,removeChildrenMap:Hut,getElement:$ut,getChildIndex:Zut,getAllChildrenSizers:nft,getChildrenSizers:sft,preLayout:jp,layout:oft,runLayout:uft,layoutChildren:cft,layoutBackgrounds:hdt,postLayout:vft,setAnchor:gft,isInTouching:rdt,pointToChild:sdt,setDraggable:fdt,setChildrenInteractive:ict,broadcastEvent:rct};Object.assign(bk,Jut,Nut,Xut,sc,dl,Fp,$x,Lft,Ift,mk,Nw,cdt,pdt,gdt,kft,jx,aft,tdt);const ol=Phaser.Utils.Objects.GetValue;let _u=class extends Is{constructor(t,i,s,p,E,n){super(t,i,s,1,1),this.isRexSizer=!0;var T=ol(n,"origin",.5),r=ol(n,"originX",T),o=ol(n,"originY",T);this.setOrigin(r,o),this.setMinSize(p,E),this.setName(ol(n,"name","")),this.rexSizer={},this.space={},this.backgroundChildren=void 0,this.sizerChildren=void 0,this.childrenMap={},this.layoutedChildren=void 0,this.runChildrenWrapFlag=!1,this.enableLayoutWarn(!1);var x=ol(n,"anchor",void 0);x&&this.setAnchor(x),this.setInnerPadding(ol(n,"space",0));var d=ol(n,"draggable",!1);d&&this.setDraggable(d),this.setSizerEventsEnable(ol(n,"sizerEvents",!1)),this.setDirty(!0),ol(n,"enableLayer",!1)&&this.enableLayer()}destroy(t){if(!(!this.scene||this.ignoreDestroy)){if(t)for(var i=this.getAllChildrenSizers([this]),s=0,p=i.length;s<p;s++)i[s].sizerEventsEnable=!1;super.destroy(t),Eh(this.backgroundChildren),Eh(this.sizerChildren),this.childrenMap=void 0,this.space=void 0,this.rexSizer=void 0,this.layoutedChildren=void 0}}setMinSize(t,i){return this.setMinWidth(t).setMinHeight(i),this}setMinWidth(t){return t==null&&(t=0),this.minWidth=t,this}setMinHeight(t){return t==null&&(t=0),this.minHeight=t,this}setDirty(t){return t===void 0&&(t=!0),this.dirty=t,this}setSizerEventsEnable(t){return t===void 0&&(t=!0),this.sizerEventsEnable=t,this}enableLayoutWarn(t){return t===void 0&&(t=!0),this.layoutWarnEnable=t,this}get ignoreLayout(){return this.rexSizer.hidden||!this.dirty}get childrenWidth(){return this._childrenWidth===void 0&&(this._childrenWidth=this.getChildrenWidth()),this._childrenWidth}get childrenHeight(){return this._childrenHeight===void 0&&(this._childrenHeight=this.getChildrenHeight()),this._childrenHeight}get left(){return this.x-mi(this)*this.originX}set left(t){this.x+=t-this.left}alignLeft(t){return this.left=t,this}get right(){return this.left+mi(this)}set right(t){this.x+=t-this.right}alignRight(t){return this.right=t,this}get centerX(){return this.left+mi(this)/2}set centerX(t){this.x+=t-this.centerX}alignCenterX(t){return this.centerX=t,this}get top(){return this.y-yi(this)*this.originY}set top(t){this.y+=t-this.top}alignTop(t){return this.top=t,this}get bottom(){return this.top+yi(this)}set bottom(t){this.y+=t-this.bottom}alignBottom(t){return this.bottom=t,this}get centerY(){return this.top+yi(this)/2}set centerY(t){this.y+=t-this.centerY}alignCenterY(t){return this.centerY=t,this}get innerLeft(){return this.left+this.space.left*this.scaleX}get innerRight(){return this.right-this.space.right*this.scaleX}get innerTop(){return this.top+this.space.top*this.scaleY}get innerBottom(){return this.bottom-this.space.bottom*this.scaleY}get innerWidth(){return(this.width-this.space.left-this.space.right)*this.scaleX}get innerHeight(){return(this.height-this.space.top-this.space.bottom)*this.scaleY}get minInnerWidth(){var t=(this.minWidth-this.space.left-this.space.right)*this.scaleX;return Math.max(t,0)}get minInnerHeight(){var t=(this.minHeight-this.space.top-this.space.bottom)*this.scaleY;return Math.max(t,0)}};Object.assign(_u.prototype,bk);var nct=function(){if(this.rexSizer.hidden)return 0;var e=0,t=this.sizerChildren,i,s,p,E=!1;for(var n in t)i=t[n],p=this.getChildWidth(i),p===void 0&&(E=!0),!E&&(s=i.rexSizer.padding,p+=(s.left+s.right)*this.scaleX,e=Math.max(p,e));if(!E)return e+(this.space.left+this.space.right)*this.scaleX},sct=function(){if(this.rexSizer.hidden)return 0;var e=0,t=this.sizerChildren,i,s,p,E=!1;for(var n in t)i=t[n],p=this.getChildHeight(i),p===void 0&&(E=!0),!E&&(s=i.rexSizer.padding,p+=(s.top+s.bottom)*this.scaleY,e=Math.max(p,e));if(!E)return e+(this.space.top+this.space.bottom)*this.scaleY},act=function(e,t){t===void 0&&(t=this.width*this.scaleX);var i,s=e.rexSizer;if(s.expandWidth){var p=t-(this.space.left+this.space.right)*this.scaleX,E=s.padding;i=p-(E.left+E.right)*this.scaleX}return i},oct=function(e,t){t===void 0&&(t=this.height);var i,s=e.rexSizer;if(s.expandHeight){var p=t-(this.space.top+this.space.bottom)*this.scaleY,E=s.padding;i=p-(E.top+E.bottom)*this.scaleY}return i},lct=function(e){e===void 0&&(e=[]);var t=this.sizerChildren,i;for(var s in t)i=t[s],i.isRexSizer&&e.push(i);return e},Ww=function(e,t,i,s){if(i===void 0)i=0;else{var p=typeof i;p==="boolean"?(s=i,i=0):p==="string"&&(i=hct[i])}s===void 0?s={}:s===!0&&(s=uct);var E=t.width/e.width,n=t.height/e.height,T=i?Math.max(E,n):Math.min(E,n);return s.width=e.width*T,s.height=e.height*T,s};const hct={fit:0,FIT:0,envelop:1,ENVELOP:1};var uct={},Yw=function(e,t){e.layoutWarnEnable&&(e.width<e.childrenWidth&&console.warn(`Layout width error: Parent=${t.constructor.name}, Child=${e.constructor.name}`),e.height<e.childrenHeight&&console.warn(`Layout height error: Parent=${t.constructor.name}, Child=${e.constructor.name}`))},fct=function(){var e,t,i,s=this.innerLeft,p=this.innerTop,E=this.innerWidth,n=this.innerHeight,T,r,o,x,d,h,l,a,f,c=this.sizerChildren;for(var u in c)e=c[u],!e.rexSizer.hidden&&(t=e.rexSizer,i=t.padding,Qp.call(this,e),l=this.getExpandedChildWidth(e),a=this.getExpandedChildHeight(e),t.aspectRatio>0&&(FP.width=t.aspectRatio,FP.height=1,IP.width=l,IP.height=a,f=Ww(FP,IP,"FIT",!0),l=f.width,a=f.height),e.isRexSizer?(e.runLayout(this,l,a),Yw(e,this)):wn(e,l,a),T=s+i.left*this.scaleX,o=E-(i.left+i.right)*this.scaleX,r=p+i.top*this.scaleY,x=n-(i.top+i.bottom)*this.scaleY,l===void 0&&(l=mi(e)),a===void 0&&(a=yi(e)),d=(t.alignOffsetX+t.alignOffsetOriginX*l)*this.scaleX,h=(t.alignOffsetY+t.alignOffsetOriginY*a)*this.scaleY,qp.call(this,e,T,r,o,x,t.align,d,h))},FP={},IP={};const D3=Phaser.Utils.Objects.IsPlainObject,Ss=Phaser.Utils.Objects.GetValue,F3=Phaser.Display.Align.CENTER,dct=Phaser.Utils.String.UUID;var cct=function(e,t,i,s,p,E,n,T,r,o){var x,d;if(Zp.call(this,e),D3(t)){var l=t;t=Ss(l,"key",void 0),i=Ss(l,"align",F3),s=Ss(l,"padding",0),p=Ss(l,"expand",!0),e.isRexSizer||(E=Ss(l,"minWidth",e._minWidth),n=Ss(l,"minHeight",e._minHeighted)),T=Ss(l,"offsetX",0),r=Ss(l,"offsetY",0),x=Ss(l,"offsetOriginX",0),d=Ss(l,"offsetOriginY",0),o=Ss(l,"aspectRatio",0)}var h=t!==void 0;h||(t=dct()),typeof i=="string"&&(i=nc[i]),i===void 0&&(i=F3),s===void 0&&(s=0),p===void 0&&(p=!0),e.isRexSizer||(E===void 0&&(E=e._minWidth),n===void 0&&(n=e._minHeight)),T===void 0&&(T=0),r===void 0&&(r=0),x===void 0&&(x=0),d===void 0&&(d=0),o===void 0?o=0:o===!0&&(o=mi(e)/yi(e)),o>0&&(p=!0,E===void 0&&(E=0),n===void 0&&(n=0));var l=this.getSizerConfig(e);return l.align=i,l.padding=qu(s),D3(p)?(l.expandWidth=Ss(p,"width",!1),l.expandHeight=Ss(p,"height",!1)):(l.expandWidth=p,l.expandHeight=p),e.isRexSizer||(l.expandWidth&&(e.minWidth=E===void 0?mi(e):E),l.expandHeight&&(e.minHeight=n===void 0?yi(e):n)),l.alignOffsetX=T,l.alignOffsetY=r,l.alignOffsetOriginX=x,l.alignOffsetOriginY=d,l.aspectRatio=o,this.sizerChildren.hasOwnProperty(t)&&this.sizerChildren[t].destroy(),this.sizerChildren[t]=e,h&&this.addChildrenMap(t,e),this};const vct={add:cct},pct=Is.prototype.clear;var eT=function(e){this.backgroundChildren&&(this.backgroundChildren.length=0);var t=!e&&this.sizerEventsEnable,i;if(t&&(i=this.getChildren([])),pct.call(this,e),t)for(var s,p=0,E=i.length;p<E;p++)s=i[p],s.emit("sizer.remove",s,this),this.emit("remove",s,this);return this};const gct={remove(e,t){var i;if(typeof e=="string"){if(i=e,e=this.sizerChildren[i],!e)return this}else{if(this.getParentSizer(e)!==this)return this;i=this.childToKey(e)}return i&&(delete this.sizerChildren[i],this.childrenMap.hasOwnProperty(i)&&delete this.childrenMap[i]),Jp.call(this,e,t),this},removeAll(e){for(var t in this.sizerChildren)this.remove(t,e);return this},clear(e){for(var t in this.sizerChildren)delete this.sizerChildren[t],this.childrenMap.hasOwnProperty(t)&&delete this.childrenMap[t];return eT.call(this,e),this}};var Mk={getChildrenWidth:nct,getChildrenHeight:sct,getExpandedChildWidth:act,getExpandedChildHeight:oct,getChildrenSizers:lct,layoutChildren:fct};Object.assign(Mk,vct,gct);var iT=function(e,t){if(Array.isArray(e))return e.indexOf(t);for(var i in e)if(e[i]===t)return i;return null};const I3=Phaser.Utils.Objects.IsPlainObject,xd=Phaser.Utils.Objects.GetValue;class aa extends _u{constructor(t,i,s,p,E,n){I3(i)?(n=i,i=xd(n,"x",0),s=xd(n,"y",0),p=xd(n,"width",void 0),E=xd(n,"height",void 0)):I3(p)&&(n=p,p=xd(n,"width",void 0),E=xd(n,"height",void 0)),super(t,i,s,p,E,n),this.type="rexOverlapSizer",this.sizerChildren={},this.addChildrenMap("items",this.sizerChildren)}childToKey(t){if(typeof t=="string"){var i=t;if(this.sizerChildren.hasOwnPropery(i))return i}else return iT(this.sizerChildren,t);return null}}Object.assign(aa.prototype,Mk);var mct=Phaser.Math.Distance.Between,hx=function(e,t,i){var s=e.width/2;return mct(s,s,t,i)<=s};const yct=Phaser.Math.Angle.Between,xct=Phaser.Math.Angle.Normalize;var B3=function(e,t,i){if(this.enable&&e.isDown){var s=this.sizerChildren.knob;if(hx(s,t,i)){var p=s.width/2,E=s.startAngle,n=yct(p,p,t,i),T=s.anticlockwise?E-n:n-E,r=xct(T)/(2*Math.PI);this.stopEaseValue(),this.easeValueDuration===0||Math.abs(this.value-r)<.1?this.value=r:this.easeValueTo(r)}}},Tct=function(){var e=this.sizerChildren.knob;e.on("pointerdown",B3,this).on("pointermove",B3,this).setInteractive()};const G3=Phaser.Math.Angle.Between,Cct=Phaser.Math.Angle.Wrap;var Sct=function(e,t,i){if(!(!this.enable||this.panPointer)){var s=this.sizerChildren.knob;hx(s,t,i)&&wk.call(this,e)}},Ect=function(e,t,i){if(this.enable&&e.isDown){var s=this.sizerChildren.knob;switch(this.panState){case Xw:hx(s,t,i)&&wk.call(this,e);break;case Ak:hx(s,t,i)?bct.call(this):Rk.call(this);break}}},Pct=function(e,t,i){!this.enable||this.panPointer!==e||Rk.call(this)},wk=function(e){this.panPointer=e,this.panState=Ak},Rk=function(){this.panPointer=void 0,this.panState=Xw},bct=function(){var e=this.panPointer.prevPosition,t=this.panPointer.position,i=this.sizerChildren.knob,s=G3(i.x,i.y,e.x,e.y),p=G3(i.x,i.y,t.x,t.y),E=i.anticlockwise?s-p:p-s,n=Cct(E)/(Math.PI*2);this.stopEaseValue(),this.value+=n};const Xw=0,Ak=1;var Mct=function(){var e=this.sizerChildren.knob;e.on("pointerdown",Sct,this).on("pointermove",Ect,this).on("pointerup",Pct,this).setInteractive(),this.panPointer=void 0,this.panState=Xw},wct=function(e,t){return this.textFormatCallback=e,this.textFormatCallbackScope=t,this},Ok=function(e){e===void 0&&(e=this.value);var t;return this.textFormatCallbackScope?t=this.textFormatCallback(e):t=this.textFormatCallback.call(this.textFormatCallbackScope,e),t},Rct=function(e){var t=this.sizerChildren.text;return t&&this.textFormatCallback&&(t.setText(Ok.call(this,e)),t.layout&&t.layout()),this};const Act={setTextFormatCallback:wct,getFormatText:Ok,updateText:Rct},wa=Phaser.Utils.Objects.GetValue,Oct=Phaser.Math.Snap.To;class Hw extends Oh(aa){constructor(t,i){i===void 0&&(i={}),super(t,i),this.type="rexKnob",this.bootProgressBase(i);var s=wa(i,"background",void 0),p=wa(i,"text",void 0);s&&this.addBackground(s),p&&(i.textColor=void 0,i.textStrokeColor=void 0,this.setTextFormatCallback(wa(i,"textFormatCallback",void 0),wa(i,"textFormatCallbackScope",void 0)),i.textFormatCallback=void 0,i.textFormatCallbackScope=void 0);var E=new zx(t,i);E.setDepth(wa(i,"knobDepth",0)),E._value=-1,t.add.existing(E),this.add(E,"knob"),p&&(this.add(p,"text","center",0,!1),t.children.moveBelow(E,p)),this.addChildrenMap("background",s),this.addChildrenMap("knob",E),this.addChildrenMap("text",p),this.setEnable(wa(i,"enable",void 0)),this.setGap(wa(i,"gap",void 0)),this.setValue(wa(i,"value",0),wa(i,"min",void 0),wa(i,"max",void 0));var n=wa(i,"input",0);switch(typeof n=="string"&&(n=Lct[n]),n){case 0:Mct.call(this);break;case 1:Tct.call(this);break}}setEnable(t){return t===void 0&&(t=!0),this.enable=t,this}setGap(t){return this.gap=t,this}get value(){return this.sizerChildren.knob.value}set value(t){this.gap!==void 0&&(t=Oct(t,this.gap));var i=this.value;this.sizerChildren.knob.value=t;var s=this.value;i!==s&&(this.updateText(),this.eventEmitter.emit("valuechange",s,i,this.eventEmitter))}}const Lct={pan:0,drag:0,click:1,none:-1};Object.assign(Hw.prototype,Act);It.register("knob",function(e){var t=new Hw(this.scene,e);return this.scene.add.existing(t),t});Lt(window,"RexPlugins.UI.Knob",Hw);const Dct={arc:rc,circle:na,curve:ult,ellipse:flt,line:Mh,lines:pn,rectangle:Dlt,roundRectangle:nx,triangle:Ilt},k3=Phaser.Utils.Objects.GetValue,Fct=Phaser.Utils.Objects.IsPlainObject,Ict=function(){for(var e=this.getShapes(),t=0,i=e.length;t<i;t++)e[t].lineStyle().fillStyle()},Bct={createShape(e,t){var i=Dct[e],s=new i;return t&&s.setName(t),s},buildShapes(e){var t=k3(e,"create",void 0);if(Fct(t)){var i=t;for(var s in i){var p=i[s];switch(typeof p){case"number":for(var E=0;E<p;E++)this.addShape(this.createShape(s));break;case"string":this.addShape(this.createShape(s,p));break;default:for(var n=p,E=0,T=n.length;E<T;E++)this.addShape(this.createShape(s,n[E]));break}}}else if(Array.isArray(t))for(var i=t,E=0,T=i.length;E<T;E++){var r=i[E];this.addShape(this.createShape(r.type,r.name))}else typeof t=="function"&&t.call(this);this.setUpdateShapesCallback(k3(e,"update"))},setUpdateShapesCallback(e){return e===void 0&&(e=Ict),this.dirty=this.dirty||this.updateCallback!==e,this.updateCallback=e,this},updateShapes(){this.updateCallback.call(this)}},N3=Phaser.GameObjects.Components.TransformMatrix,Gct=Phaser.Math.TransformXY;var kct=function(e,t,i,s,p){s===void 0&&(s=e.scene.cameras.main),p===void 0?p={}:p===!0&&(p=Nct);var E=s.scrollX,n=s.scrollY,T=t+E*e.scrollFactorX-E,r=i+n*e.scrollFactorY-n;return e.parentContainer?(dy===void 0&&(dy=new N3,U3=new N3),e.getWorldTransformMatrix(dy,U3),dy.applyInverse(T,r,p)):Gct(T,r,e.x,e.y,e.rotation,e.scaleX,e.scaleY,p),p.x+=e.displayOriginX,p.y+=e.displayOriginY,p},dy,U3,Nct={};const sp=Phaser.Utils.Objects.GetValue,Uct=Phaser.Utils.Objects.IsPlainObject;class rT extends xl{constructor(t,i,s,p,E,n){Uct(i)&&(n=i,i=sp(n,"x",0),s=sp(n,"y",0),p=sp(n,"width",2),E=sp(n,"height",2)),super(t,i,s,p,E),this.type=sp(n,"type","rexCustomShapes"),this.buildShapes(n)}get centerX(){return this.width/2}get centerY(){return this.height/2}worldToLocalXY(t,i,s,p){return typeof s=="boolean"&&(p=s,s=void 0),kct(this,t,i,s,p)}}Object.assign(rT.prototype,Bct);It.register("customShapes",function(e,t,i,s,p){var E=new rT(this.scene,e,t,i,s,p);return this.scene.add.existing(E),E});Lt(window,"RexPlugins.UI.CustomShapes",rT);const ap=Phaser.Utils.Objects.GetValue,Vct=Phaser.Utils.Objects.IsPlainObject;class Ao extends Oh(rT){constructor(t,i,s,p,E,n){Vct(i)&&(n=i,i=ap(n,"x",0),s=ap(n,"y",0),p=ap(n,"width",2),E=ap(n,"height",2)),n===void 0&&(n={}),n.type||(n.type="rexCustomProgress"),super(t,i,s,p,E,n),this.bootProgressBase(n),this.setValue(ap(n,"value",0))}get centerX(){return this.width/2}get centerY(){return this.height/2}get radius(){return Math.min(this.centerX,this.centerY)}}It.register("customProgress",function(e,t,i,s,p){var E=new Ao(this.scene,e,t,i,s,p);return this.scene.add.existing(E),E});Lt(window,"RexPlugins.UI.CustomProgress",Ao);var zct=function(e){return this.easeValueTask||(this.easeValueTask=new ml(this,{eventEmitter:null})),e!==void 0&&(this.duration=e,this.easeValueTask.stop()),this.easeValueTask.isRunning?this:(this.easeValueTask.restart({key:"value",from:0,to:1,duration:this.duration,ease:this.ease,repeat:-1,delay:this.delay,repeatDelay:this.repeatDelay}),this.setDirty(),this)},Wct=function(){return this.easeValueTask?(this.easeValueTask.stop(),this.setDirty(),this):this},Yct=function(){return this.easeValueTask?(this.easeValueTask.pause(),this.setDirty(),this):this},Xct=function(){return this.easeValueTask?(this.easeValueTask.pause(),this.setDirty(),this):this};const Hct={start:zct,stop:Wct,pause:Yct,resume:Xct},Ra=Phaser.Utils.Objects.GetValue;class Lk extends xl{constructor(t,i){var s=Ra(i,"x",0),p=Ra(i,"y",0),E=Ra(i,"width",64),n=Ra(i,"height",64);super(t,s,p,E,n),this.resetFromConfig(i,!0),this.buildShapes(i),Ra(i,"start",!0)&&this.start()}resetFromConfig(t,i){i===void 0&&(i=!1);var s;return s=i?1e3:this.duration,this.setDuration(Ra(t,"duration",s)),s=i?"Linear":this.ease,this.setEase(Ra(t,"ease",s)),s=i?0:this.delay,this.setDelay(Ra(t,"delay",s)),s=i?0:this.repeatDelay,this.setRepeatDelay(Ra(t,"repeatDelay",s)),s=i?16777215:this.color,this.setColor(Ra(t,"color",s)),s=i?0:this.value,this.setValue(Ra(t,"value",s)),this}buildShapes(){}get centerX(){return this.width/2}get centerY(){return this.height/2}get radius(){return Math.min(this.centerX,this.centerY)}get color(){return this._color}set color(t){this.isColorChanged=this.isColorChanged||this._color!==t,this.dirty=this.dirty||this.isColorChanged,this._color=t,this.setShapesColor(t)}setColor(t){return this.color=t,this}setShapesColor(t){}get value(){return this._value}set value(t){t=Phaser.Math.Clamp(t,0,1),this.dirty=this.dirty||this._value!=t,this._value=t}setValue(t){return this.value=t,this}setDuration(t){return this.duration=t,this}setDelay(t){return this.delay=t,this}setRepeatDelay(t){return this.repeatDelay=t,this}setEase(t){return this.ease=t,this}get isRunning(){return this.tweenTask?this.tweenTask.isRunning:!1}}Object.assign(Lk.prototype,Hct);const ah=Phaser.Math.DegToRad,$ct=Phaser.Math.Linear,Kct=Phaser.Math.Easing.Expo.In,Zct={right:0,down:1,left:2,up:3};var Jct=function(e,t,i,s,p,E,n,T,r,o,x){var d=Td(t,0,s,p,E,n,T,r,o,x);e.startAt(d.x,d.y);var h=Td(i,0,s,p,E,n,T,r,o,x);e.lineTo(h.x,h.y);var l=Td(i,i,s,p,E,n,T,r,o,x);e.lineTo(l.x,l.y);var a=Td(0,i,s,p,E,n,T,r,o,x);e.lineTo(a.x,a.y);var f=Td(0,t,s,p,E,n,T,r,o,x);e.lineTo(f.x,f.y);var c=Td(t,t,s,p,E,n,T,r,o,x);e.lineTo(c.x,c.y),e.close()},BP={},Td=function(e,t,i,s,p,E,n,T,r,o){var x=e*i,d=t*s;return BP.x=n*x+T*d+p,BP.y=r*x+o*d+E,BP};const cy={setDirection(e){return typeof e=="string"&&(e=Zct[e]),this.direction=e,this},buildShapes(){for(var e=0;e<3;e++)this.addShape(new pn)},updateShapes(){var e,t,i,s,p,E;switch(this.direction){case 1:e=this.centerX,t=this.centerY-this.radius;var n=ah(315);i=Math.cos(n),s=Math.sin(n);var T=ah(45);p=Math.cos(T),E=Math.sin(T);break;case 3:e=this.centerX,t=this.centerY+this.radius;var n=ah(135);i=Math.cos(n),s=Math.sin(n);var T=ah(225);p=Math.cos(T),E=Math.sin(T);break;case 2:e=this.centerX+this.radius,t=this.centerY;var n=ah(225);i=Math.cos(n),s=Math.sin(n);var T=ah(315);p=Math.cos(T),E=Math.sin(T);break;default:e=this.centerX-this.radius,t=this.centerY;var n=ah(45);i=Math.cos(n),s=Math.sin(n);var T=ah(135);p=Math.cos(T),E=Math.sin(T);break}for(var r=this.radius/7,o=this.getShapes(),x=0,d=o.length;x<d;x++){var h=o[x],l=(this.value+(d-x)*.1)%1;l=Kct(ki(l));var a=$ct(.25,1,l);h.fillStyle(this.color,a);var f=x*3+1,c=f+2;Jct(h,f,c,r,r,e,t,i,s,p,E)}}},jct=Phaser.Math.Linear,Qct={buildShapes(){for(var e=0;e<4;e++)this.addShape(new Mh);this.prevValue=void 0},updateShapes(){var e=this.centerX,t=this.centerY,i=this.radius,s=e-i,p=t+i,E=i*2,n=this.getShapes(),T=n.length,r=i*2/T,o=r*.7;if(this.prevValue===void 0||this.prevValue>this.value)for(var x=0;x<T;x++){var d=n[x],h=this.prevValue===void 0?Math.random():d.getData("to");d.setData("from",h).setData("to",Math.random())}this.prevValue=this.value;for(var x=0;x<T;x++){var d=n[x],h=d.getData("from"),l=d.getData("to"),a=jct(h,l,this.value),f=a*E,c=s+r*(x+.5);d.lineStyle(o,this.color,1).setP0(c,p).setP1(c,p-f)}}},qct=Phaser.Math.Linear,_ct={buildShapes(){for(var e=0;e<3;e++)this.addShape(new na)},updateShapes(){for(var e=this.centerX,t=this.centerY,i=this.radius,s=i*.1,p=Math.ceil(s*.25),E=1-ki(this.value),n=qct(.3,.9,E)*i,T=this.getShapes(),r=0,o=T.length;r<o;r++){var x=T[r],E=(this.value+r/o)%1,d=Math.PI*2*E;x.lineStyle(p,this.color).setRadius(s).setCenterPosition(e+Math.cos(d)*n,t+Math.sin(d)*n)}}},tvt=Phaser.Math.Linear,evt=Phaser.Math.Easing.Expo.In,ivt={buildShapes(){for(var e=5,t=0;t<e;t++){var i=new Mh;this.addShape(i);var s=ki(t/(e-1))/2;i.setData("offset",s)}},updateShapes(){for(var e=this.centerX,t=this.centerY,i=this.radius,s=e-i,p=i*2,E=this.getShapes(),n=E.length,T=i*2/n,r=T*.7,o=0;o<n;o++){var x=E[o],d=(this.value+x.getData("offset"))%1;d=evt(ki(d));var h=tvt(.4,1,d)*p,l=s+T*(o+.5);x.lineStyle(r,this.color,1).setP0(l,t-h/2).setP1(l,t+h/2)}}},rvt={buildShapes(){this.addShape(new pn().setName("border")),this.addShape(new pn().setName("fill"))},updateShapes(){var e=this.centerX,t=this.centerY,i=this.radius,s=i*.7,p=e-s,E=t-s,n=s*2;if(this.getShape("border").lineStyle(2,this.color,1).startAt(p,E).lineTo(n,0,!0).lineTo(0,n,!0).lineTo(-n,0,!0).lineTo(0,-n,!0).close(),this.value<.5){var T=(.5-this.value)*2,r=n*T;this.getShape("fill").fillStyle(this.color,1).startAt(p,E).lineTo(n,0,!0).lineTo(0,r,!0).lineTo(-n,0,!0).lineTo(0,-r,!0).close()}else{var T=(this.value-.5)*2,o=180*T;this.getShape("border").rotateAround(e,t,o),this.getShape("fill").fillStyle().lineStyle()}}},V3=Phaser.Math.RadToDeg,z3=Phaser.Math.Angle.WrapDegrees,nvt=Phaser.Math.Angle.Wrap,svt=Phaser.Math.Angle.ShortestBetween,avt=Phaser.Math.DegToRad,W3=Phaser.Math.DegToRad(270),ovt={buildShapes(){this.addShape(new na().setName("border")),this.addShape(new Mh().setName("minuteHand")),this.addShape(new Mh().setName("hourHand")),this.minuteHandAngle=0,this.hourHandAngle=0},updateShapes(){var e=this.centerX,t=this.centerY,i=this.radius,s=Math.ceil(i/25),p=i-s/2,E=i*.8,n=i*.5,T=this.minuteHandAngle;this.minuteHandAngle=Math.PI*2*this.value;var r=z3(V3(T)),o=z3(V3(this.minuteHandAngle)),x=svt(r,o);this.hourHandAngle=nvt(this.hourHandAngle+avt(x)/12),this.getShape("border").lineStyle(s,this.color).setRadius(p).setCenterPosition(e,t);var d=this.minuteHandAngle+W3;this.getShape("minuteHand").lineStyle(s,this.color).setP0(e,t).setP1(e+Math.cos(d)*E,t+Math.sin(d)*E);var d=this.hourHandAngle+W3;this.getShape("hourHand").lineStyle(s,this.color).setP0(e,t).setP1(e+Math.cos(d)*n,t+Math.sin(d)*n)}},Y3=Phaser.Math.Linear,lvt=Phaser.Math.Easing.Expo.In,GP=2,kP=2,hvt={buildShapes(){for(var e=GP*kP,t=0;t<e;t++){var i=new Mh;this.addShape(i)}},updateShapes(){for(var e=this.centerX,t=this.centerY,i=this.radius,s=e-i,p=t-i,E=i*2/kP,n=i*2/GP,T=this.getShapes(),r=T.length,o=0;o<r;o++){var x=o%kP,d=Math.floor(o/GP),h=s+E*(x+.5),l=p+n*(d+.5),a=T[o],f=(this.value+(r-o)*.1)%1;f=lvt(ki(f));var c=(r-o)/r,u=Y3(.7,1,f)*n,v=Y3(.7,1,f)*E;a.lineStyle(v,this.color,c).setP0(h-u/2,l).setP1(h+u/2,l)}}},X3=Phaser.Math.Linear,uvt={buildShapes(){for(var e=3,t=0;t<e;t++){var i=new na;this.addShape(i);var s=ki(t/(e-1))/2;i.setData("offset",s)}},updateShapes(){for(var e=this.centerX,t=this.centerY,i=this.radius,s=e-i,p=this.getShapes(),E=p.length,n=i*2/E,T=n/2,r=0;r<E;r++){var o=p[r],x=(this.value+o.getData("offset"))%1;x=ki(x);var d=X3(.25,1,x),h=X3(.5,1,x)*T;o.fillStyle(this.color,d).setRadius(h).setCenterPosition(s+n*(r+.5),t)}}},H3=Phaser.Math.Linear,fvt=Phaser.Math.Easing.Expo.In,dvt={buildShapes(){for(var e=0;e<3;e++){var t=new Mh;this.addShape(t)}},updateShapes(){for(var e=this.centerX,t=this.centerY,i=this.radius,s=e-i,p=this.getShapes(),E=p.length,n=i*2/E,T=i*2,r=0;r<E;r++){var o=p[r],x=(this.value+(E-r)*.1)%1;x=fvt(ki(x));var d=(r+1)/E,h=H3(.7,1,x)*T,l=H3(.7,1,x)*n,a=s+n*(r+.5);o.lineStyle(l,this.color,d).setP0(a,t-h/2).setP1(a,t+h/2)}}},cvt=Phaser.Math.Linear,NP=3,UP=3,vvt={buildShapes(){for(var e=NP*UP,t=0;t<e;t++){var i=new na;this.addShape(i),i.setData("offset",Math.random())}this.isInitialize=!0},updateShapes(){for(var e=this.centerX,t=this.centerY,i=this.radius,s=this.isInitialize||this.isSizeChanged,p=e-i,E=t-i,n=i*2/UP,T=i*2/NP,r=Math.min(n,T)/2*.8,o=this.getShapes(),x=0,d=o.length;x<d;x++){var h=x%UP,l=Math.floor(x/NP),a=p+n*(h+.5),f=E+T*(l+.5),c=o[x],u=(this.value+c.getData("offset"))%1;u=ki(u),c.fillStyle(this.color,cvt(.25,1,u)),s&&c.setRadius(r).setCenterPosition(a,f)}this.isInitialize=!1}},pvt={buildShapes(){for(var e=0;e<2;e++)this.addShape(new pn)},updateShapes(){for(var e=this.centerX,t=this.centerY,i=this.radius,s=Math.ceil(i/25),p=i-s,E=p*.6,n=p*.7,T=p*1.2,r=this.getShapes(),o=0,x=r.length;o<x;o++){var d=r[o],h=(this.value+o/x)%1,l=ki(h),a=e,f=t-15*h,c=p*h,u=E*h,v=n*h,g=T*h;d.lineStyle(s,this.color,l).startAt(a,f).cubicBezierTo(a,f-u,a-c,f-u,a-c,f).cubicBezierTo(a-c,f+u,a,f+v,a,f+g).cubicBezierTo(a,f+v,a+c,f+u,a+c,f).cubicBezierTo(a+c,f-u,a,f-u,a,f).close()}}},gvt=Phaser.Math.Linear,mvt={buildShapes(){for(var e=0;e<12;e++)this.addShape(new Mh);this.isInitialize=!0},updateShapes(){for(var e=this.centerX,t=this.centerY,i=this.isInitialize||this.isSizeChanged,s=this.radius,p=s/2,E=Math.ceil(s/20),n=this.getShapes(),T=0,r=n.length;T<r;T++){var o=n[T],x=T/r,d=Math.PI*2*x,h=gvt(.25,1,(1-this.value+x)%1);o.lineStyle(E,this.color,h),i&&o.setP0(e+Math.cos(d)*p,t+Math.sin(d)*p).setP1(e+Math.cos(d)*s,t+Math.sin(d)*s)}this.isInitialize=!1}},yvt={buildShapes(){this.addShape(new na().setName("track")),this.addShape(new na().setName("thumb"))},updateShapes(){var e=this.centerX,t=this.centerY,i=this.radius,s=i*.9,p=Math.ceil(s/25),E=i*.1,n=Math.PI*2*this.value;this.getShape("track").lineStyle(p,this.color,.7).setRadius(s).setCenterPosition(e,t),this.getShape("thumb").fillStyle(this.color).setRadius(E).setCenterPosition(e+Math.cos(n)*s,t+Math.sin(n)*s)}},xvt={buildShapes(){this.addShape(new na().setName("track")),this.addShape(new rc().setName("arc"))},updateShapes(){var e=this.centerX,t=this.centerY,i=this.radius,s=Math.ceil(i/25),p=i-s/2;this.getShape("track").lineStyle(s,this.color,.5).setRadius(p).setCenterPosition(e,t);var E=this.value*360,n=E+60;this.getShape("arc").lineStyle(s,this.color,1).setRadius(p).setCenterPosition(e,t).setAngle(E,n)}},Tvt=Phaser.Math.Linear,Cvt={buildShapes(){for(var e=0;e<4;e++){var t=new rc().setPie();this.addShape(t),t.setData("speed",Tvt(180,360,Math.random()))}this.prevValue=void 0},updateShapes(){var e=this.centerX,t=this.centerY,i=this.radius,s;this.prevValue!==void 0&&(s=this.value-this.prevValue,this.prevValue>this.value&&(s+=1));for(var p=this.getShapes(),E=0,n=p.length;E<n;E++){var T=p[E],r=(E+1)/n;if(this.prevValue===void 0){var o=E/n*360,x=o+90;T.fillStyle(this.color,r).setRadius(i).setCenterPosition(e,t).setAngle(o,x).setData("angle",o)}else{var o=T.getData("angle")+T.getData("speed")*s;o=o%360;var x=o+90;T.fillStyle(this.color,r).setRadius(i).setCenterPosition(e,t).setAngle(o,x).setData("angle",o)}}this.prevValue=this.value}},Svt={buildShapes(){this.addShape(new na)},updateShapes(){var e=this.centerX,t=this.centerY,i=this.radius,s=i*this.value,p=Math.ceil(i/25),E=ki(this.value);this.getShapes()[0].lineStyle(p,this.color,E).setRadius(s).setCenterPosition(e,t)}},Evt=Phaser.Math.Linear,Pvt=Phaser.Math.Easing.Expo.In,bvt={buildShapes(){this.addShape(new na().setName("center")),this.addShape(new pn().setName("arc0")),this.addShape(new pn().setName("arc1")),this.isInitialize=!0},updateShapes(){for(var e=this.centerX,t=this.centerY,i=this.radius,s=this.isInitialize||this.isSizeChanged,p=i*2/6,E=e-i+p,n=t+i-p,T=this.getShapes(),r=0,o=T.length;r<o;r++){var x=T[r],d=(this.value+(o-r)*.1)%1;d=Pvt(ki(d));var h=Evt(.25,1,d);switch(x.name){case"center":x.fillStyle(this.color,h),s&&x.setRadius(p).setCenterPosition(E,n);break;case"arc0":if(x.fillStyle(this.color,h),s){var l=p*2,a=p*3;x.startAt(E,n-l).lineTo(E,n-a).setIterations(8).arc(E,n,a,270,360).lineTo(E+l,n).setIterations(6).arc(E,n,l,360,270,!0).close()}break;case"arc1":if(x.fillStyle(this.color,h),s){var l=p*4,a=p*5;x.startAt(E,n-l).lineTo(E,n-a).setIterations(8).arc(E,n,a,270,360).lineTo(E+l,n).setIterations(6).arc(E,n,l,360,270,!0).close()}break}}this.isInitialize=!1}},Mvt={buildShapes(){for(var e=0;e<2;e++)this.addShape(new na)},updateShapes(){for(var e=this.centerX,t=this.centerY,i=this.radius,s=Math.ceil(i/25),p=i-s,E=this.getShapes(),n=0,T=E.length;n<T;n++){var r=E[n],o=(this.value+n/T)%1,x=ki(o);r.lineStyle(s,this.color,x).setRadius(o*p).setCenterPosition(e,t)}}},wvt={buildShapes(){this.addShape(new rc().setName("arc"))},updateShapes(){var e=this.centerX,t=this.centerY,i=this.radius,s=Math.ceil(i/10),p=i-s,E=this.value*720,n=ki(this.value)*180,T=E-n;this.getShape("arc").lineStyle(s,this.color,1).setRadius(p).setCenterPosition(e,t).setAngle(T+315,E+315)}};Phaser.Utils.Objects.GetValue;const eM={leftArrow:cy,rightArrow:cy,upArrow:cy,downArrow:cy,audio:Qct,ball:_ct,bars:ivt,box:rvt,clock:ovt,cube:hvt,dots:uvt,facebook:dvt,grid:vvt,hearts:pvt,ios:mvt,oribit:yvt,oval:xvt,pie:Cvt,puff:Svt,radio:bvt,rings:Mvt,spinner:wvt},iM=[];for(var Rvt in eM)iM.push(Rvt);const $3=Phaser.Utils.Array.GetRandom,Avt={setAnimationMode(e,t){eM.hasOwnProperty(e)||(e=$3(iM)),this.animationMode=e;var i=eM[e];switch(t&&this.resetFromConfig(t),e){case"leftArrow":i.setDirection.call(this,"left");break;case"rightArrow":i.setDirection.call(this,"right");break;case"upArrow":i.setDirection.call(this,"up");break;case"downArrow":i.setDirection.call(this,"down");break}return this.clear(),i.buildShapes.call(this),this.updateShapes=i.updateShapes.bind(this),this.stop().start(),this},setRandomAnimationMode(e){var t=$3(iM);return this.setAnimationMode(t,e),this}},Ovt=Phaser.Utils.Objects.GetValue;class $w extends Lk{constructor(t,i){super(t,i),this.type="rexSpinnerAIO",this.setAnimationMode(Ovt(i,"animationMode"))}}Object.assign($w.prototype,Avt);It.register("aioSpinner",function(e){var t=new $w(this.scene,e);return this.scene.add.existing(t),t});Lt(window,"RexPlugins.UI.AIOSpinner",$w);const Lvt={setTransitionStartCallback(e,t){return this.onStartCallback=e,this.onStartCallbackScope=t,this},setTransitionProgressCallback(e,t){return this.onProgressCallback=e,this.onProgressCallbackScope=t,this},setTransitionCompleteCallback(e,t){return this.onCompleteCallback=e,this.onCompleteCallbackScope=t,this}};var Dk=function(){for(var e=this.scaleMode-1,t=0,i=this.images.length;t<i;t++){var s=this.images[t],p=Ww(s,this,e,!0),E=p.width/s.width;this.setChildLocalScale(s,E),s.biasScale=E}},Ky=function(e){this.scaleMode===0?this.resize(e.width,e.height):Dk.call(this)};const K3=Phaser.Utils.Objects.IsPlainObject,VP=Phaser.Utils.Objects.GetValue,Dvt=Phaser.Utils.Array.GetRandom;var Fvt={out:0,in:1},uo=function(e,t,...i){for(var s=0,p=i.length;s<p;s++){var E=i[s];if(E&&E.hasOwnProperty(e))return E[e]}return t};const Ivt={setTransitionDirection(e){return typeof e=="string"&&(e=Fvt[e]),this.dir=e,this},setDuration(e){return this.duration=e,this},setEaseFunction(e){return this.easeFunction=e,this},setNextTexture(e,t){return this.nextImage.setTexture(e,t),Ky.call(this,this.nextImage),this},transit(e,t,i){if(this.isRunning&&(this.ignoreCompleteEvent=!0,this.stop(),this.ignoreCompleteEvent=!1),i!==void 0&&(e={key:e,frame:t,mode:i}),this.currentTransitionMode=void 0,K3(e)){var s=e;e=VP(s,"key",void 0),t=VP(s,"frame",void 0),i=VP(s,"mode"),Array.isArray(i)&&(i=Dvt(i));var p;this.transitionModes&&this.transitionModes.hasOwnProperty(i)&&(p=this.transitionModes[i],this.currentTransitionMode=i),this.setDuration(uo("duration",this.duration,s,p)).setEaseFunction(uo("ease",this.easeFunction,s,p)).setTransitionDirection(uo("dir",this.dir,s,p));var E=uo("mask",void 0,s,p);E&&this.setMaskGameObject(E),this.setMaskEnable(E===!0);var n=uo("onStart",void 0,s,p),T=uo("onProgress",void 0,s,p),r=uo("onComplete",void 0,s,p);(n!==void 0||T!==void 0||r!==void 0)&&this.setTransitionStartCallback(n,uo("onStartScope",void 0,s,p)).setTransitionProgressCallback(T,uo("onProgressScope",void 0,s,p)).setTransitionCompleteCallback(r,uo("onCompleteScope",void 0,s,p))}return this.setNextTexture(e,t),this.start(),this},addTransitionMode(e,t){return this.transitionModes===void 0&&(this.transitionModes={}),K3(e)&&(t=e,e=t.name,delete t.name),this.transitionModes[e]=t,this},start(){return this.easeValueTask===void 0&&(this.easeValueTask=new ml(this,{eventEmitter:null})),this.easeValueTask.restart({key:"t",from:0,to:1,duration:this.duration,ease:this.easeFunction}),this},pause(){return this.easeValueTask&&this.easeValueTask.pause(),this},resume(){return this.easeValueTask&&this.easeValueTask.resume(),this},stop(){return this.easeValueTask&&this.easeValueTask.stop(),this.setT(1),this}},Bvt=Phaser.GameObjects.Graphics.prototype.setPosition;var Gvt=function(e,t){var i=this.parent;return e===void 0&&(e=i.x),t===void 0&&(t=i.y),Bvt.call(this,e,t),this};const Z3=Phaser.Geom.Rectangle,J3=Phaser.Geom.Circle;var kvt=function(e,t,i,s,p,E,n){switch(e){case 1:s=s.left;var T=-t*(p-.5),r=-i*(E-.5),o=Math.min(t,i)/2+s;(n===void 0||!(n instanceof J3))&&(n=new J3),n.setTo(T,r,o);break;default:var x=-(t*p)-s.left,d=-(i*E)-s.top,h=t+s.left+s.right,l=i+s.top+s.bottom;(n===void 0||!(n instanceof Z3))&&(n=new Z3),n.setTo(x,d,h,l);break}return n},Fk=function(e,t,i,s,p){switch(this.geom=kvt(this.shapeType,e,t,i,s,p,this.geom),this.clear().fillStyle(16777215),this.shapeType){case 1:this.fillCircleShape(this.geom);break;default:this.fillRectShape(this.geom);break}},Nvt=function(e,t,i){var s=this.parent;e===void 0&&(e=s.width),t===void 0&&(t=s.height),i===void 0?i=this.padding:typeof i=="number"&&(i=GetBoundsConfig(i));var p=this.width!==e||this.height!==t,E=this.padding!==i&&!Wp(this.padding,i);return!p&&!E?this:(this.width=e,this.height=t,E&&Na(i,this.padding),this.originX=s.originX,this.originY=s.originY,Fk.call(this,e,t,i,s.originX,s.originY),this)},Uvt=function(e,t){t===void 0&&(t=e);var i=this.parent;return e===void 0&&(e=i.originX),t===void 0&&(t=i.originY),this.originX===e&&this.originY===t?this:(this.originX=e,this.originY=t,Fk.call(this,this.width,this.height,this.padding,e,t),this)},Vvt=function(e,t){return e-=this.x,t-=this.y,this.geom.contains(e,t)},zvt={setPosition:Gvt,resize:Nvt,setOrigin:Uvt,contains:Vvt};const Wvt=Phaser.GameObjects.Graphics;class ux extends Wvt{constructor(t,i,s){i===void 0&&(i=0),typeof i=="string"&&(i=Yvt[i]),super(t.scene),this.parent=t,this.shapeType=i,this.padding=qu(s),this.setPosition().resize().setVisible(!1)}destroy(){return this.parent=void 0,super.destroy(),this}}const Yvt={rectangle:0,circle:1};Object.assign(ux.prototype,zvt);const Xvt={setMaskGameObject(e){if(!e)return this.removeMaskGameObject(),this;if(this.maskGameObject){if(e===!0&&this.maskGameObject instanceof ux)return this;if(this.maskGameObject===e)return this;this.removeMaskGameObject()}return e===!0&&(e=new ux(this)),e.resize(this.width,this.height).setOrigin(this.originX,this.originY).setPosition(0,0).setScale(1).setVisible(!1),this.addLocal(e),this.maskGameObject=e,e._maskObject||(e._maskObject=e.createGeometryMask(),e.once("destroy",function(){e._maskObject.destroy(),e._maskObject=void 0})),this.childrenMask=e._maskObject,this},removeMaskGameObject(e){return e===void 0&&(e=!0),this.backImage.clearMask(),this.frontImage.clearMask(),this.childrenMask=void 0,this.remove(this.maskGameObject,e),this.maskGameObject=void 0,this},setImageMaskEnable(e,t,i){return t===void 0&&(t=!0),i===void 0&&(i=!1),t?(this.childrenMask||this.setMaskGameObject(!0),e.setMask(this.childrenMask),this.childrenMask.setInvertAlpha(i)):e.clearMask(),this},setCurrentImageMaskEnable(e,t){return this.setImageMaskEnable(this.currentImage,e,t),this},setNextImageMaskEnable(e,t){return this.setImageMaskEnable(this.nextImage,e,t),this},setCellImagesMaskEnable(e,t){for(var i=this.getCellImages(),s=0,p=i.length;s<p;s++)this.setImageMaskEnable(i[s],e,t);return this},setMaskEnable(e,t){return this.setImageMaskEnable(this.backImage,e,t),this.setImageMaskEnable(this.frontImage,e,t),this.setCellImagesMaskEnable(e,t),this}};var Hvt=function(e,t){typeof e=="object"&&(e=e.name),t===void 0&&(t=",");var i;return e==="__BASE"?i=function(s,p){return`${s}${t}${p}`}:i=function(s,p){return`${e}_${s}${t}${p}`},i},$vt=function(e,t,i,s,p,E){i==null&&(i="__BASE"),E||(E=Hvt(i,E));for(var n=e.sys.textures.get(t),T=typeof i=="object"?i:n.get(i),r=T.width,o=T.height,x,d,h,l=r/s,a=o/p,f=T.cutX,c=T.cutY,u=0,v=0,g=0;g<p;g++){u=0;for(var m=0;m<s;m++)h=E(m,g),x=u+f,d=v+c,n.add(h,0,x,d,l,a),u+=l;v+=a}return{getFrameNameCallback:E,cellWidth:l,cellHeight:a,columns:s,rows:p}};const ll=Phaser.Utils.Objects.GetValue,Kvt=Phaser.GameObjects.Image,Zvt=Phaser.Utils.Objects.IsPlainObject,Jvt=Phaser.Math.RotateAround;var jvt=function(e,t,i,s){Zvt(t)&&(s=t,t=ll(s,"columns",1),i=ll(s,"rows",1));var p=ll(s,"createImageCallback");if(!p){var E=ll(s,"ImageClass",Kvt);p=function(k,U,H){return new E(k,0,0,U,H)}}for(var n=ll(s,"originX",.5),T=ll(s,"originY",.5),r=ll(s,"add",!0),o=ll(s,"align",r),x=ll(s,"objectPool",void 0),d=e.scene,h=e.texture,l=e.frame,a=$vt(d,h,l,t,i),f=a.getFrameNameCallback,c=e.scaleX,u=e.scaleY,v=e.rotation,g=e.getTopLeft(),m=g.x,y=g.y,C=[],b=a.cellWidth*c,M=a.cellHeight*u,w=0;w<i;w++)for(var R=0;R<t;R++){var A,L=f(R,w);if(x&&x.length>0?A=x.pop().setTexture(h,L):A=p(d,h,L),r&&d.add.existing(A),o){var F=m+b*R,G=y+M*w,I=F+n*b,B=G+T*M;A.setOrigin(n,T).setPosition(I,B).setScale(c,u).setRotation(v),Jvt(A,m,y,v)}C.push(A)}return C};const Qvt={gridCutImage(e,t,i,s){s===void 0&&(s={}),s.objectPool=this.imagesPool;for(var p=jvt(e,t,i,s),E,n=0,T=p.length;n<T;n++)E=p[n],E.setVisible(!0),this.add(E);return this.cellImages=p,this.setChildLocalVisible(e,!1),p},gridCutCurrentImage(e,t,i){return this.gridCutImage(this.currentImage,e,t,i)},gridCutNextImage(e,t,i){return this.gridCutImage(this.nextImage,e,t,i)},getCellImages(){return this.cellImages},freeCellImages(){if(this.cellImages.length===0)return this;for(var e=this.cellImages[0].texture,t=this.cellImages,i,s,p=0,E=t.length;p<E;p++)i=t[p],this.setChildLocalAlpha(i,1).setChildLocalScale(i,1).setChildLocalVisible(i,!1),i.clearMask(),s=i.frame.name,i.setTexture(),e.remove(s);return this.imagesPool.push(...t),t.length=0,this}},Ik={setFlipX(e){return this.flipX=e,this},setFlipY(e){return this.flipY=e,this},toggleFlipX(){return this.flipX=!this.flipX,this},toggleFlipY(){return this.flipY=!this.flipY,this},setFlip(e,t){return this.flipX=e,this.flipY=t,this},resetFlip(){return this.flipX=!1,this.flipY=!1,this}};var Bk={};Object.assign(Bk,Lvt,Ivt,Xvt,Qvt,Ik);var qvt=function(e,t,i,s){},_vt=function(e,t,i,s){e.setChildLocalAlpha(t,1-s).setChildLocalAlpha(i,s)},tpt=function(e,t,i,s){e.setChildLocalAlpha(t,1)};const j3=Phaser.Utils.Objects.IsPlainObject,Gr=Phaser.Utils.Objects.GetValue,ept=Phaser.Math.Clamp;class nT extends Is{constructor(t,i,s,p,E,n){j3(i)?(n=i,i=Gr(n,"x",0),s=Gr(n,"y",0),p=Gr(n,"key",void 0),E=Gr(n,"frame",void 0)):j3(E)&&(n=E,E=void 0);var T=Gr(n,"back",void 0),r=Gr(n,"front",void 0);T||(T=t.add.image(i,s,p,E)),r||(r=t.add.image(i,s,p,E));var o=Gr(n,"width",void 0),x=Gr(n,"height",void 0),d=o!==void 0&&x!==void 0?1:0;o===void 0&&(o=r.width),x===void 0&&(x=r.height),super(t,i,s,o,x),this.type="rexTransitionImage",this._flipX=!1,this._flipY=!1,d=Gr(n,"scaleMode",d),typeof d=="string"&&(d=ipt[d]),this.scaleMode=d,T.setVisible(!1),this.addMultiple([T,r]),this.backImage=T,this.frontImage=r,this.images=[this.backImage,this.frontImage],this.maskGameObject=void 0,this.cellImages=[],this.imagesPool=[],this.transitionModes=void 0,this.currentTransitionMode=void 0;var h=Gr(n,"onStart",void 0),l=Gr(n,"onProgress",void 0),a=Gr(n,"onComplete",void 0),f=Gr(n,"dir",0);h===void 0&&l===void 0&&a===void 0&&(h=qvt,l=_vt,a=tpt,f=0),this.setTransitionStartCallback(h,Gr(n,"onStartScope",void 0)).setTransitionProgressCallback(l,Gr(n,"onProgressScope",void 0)).setTransitionCompleteCallback(a,Gr(n,"onCompleteScope",void 0)).setTransitionDirection(f).setDuration(Gr(n,"duration",1e3)).setEaseFunction(Gr(n,"ease","Linear"));var c=Gr(n,"mask",void 0);c&&this.setMaskGameObject(c),this.setMaskEnable(!1),this.ignoreCompleteEvent=!1,Ky.call(this,this.frontImage)}destroy(t){!this.scene||this.ignoreDestroy||(this.childrenMask&&(this.childrenMask.destroy(),this.childrenMask=void 0),this.backImage=void 0,this.frontImage=void 0,this.images.length=0,this.maskGameObject=void 0,this.cellImages.length=0,this.imagesPool.length=0,this.transitionModes=void 0,super.destroy(t),this.onStartCallback=void 0,this.onStartCallbackScope=void 0,this.onProgressCallback=void 0,this.onProgressCallbackScope=void 0,this.onCompleteCallback=void 0,this.onCompleteCallbackScope=void 0,this.easeValueTask=void 0)}get currentImage(){return this.dir===0?this.frontImage:this.backImage}get nextImage(){return this.dir===0?this.backImage:this.frontImage}get texture(){return this.nextImage.texture}get frame(){return this.nextImage.frame}get tint(){return this._tint}set tint(t){this._tint!==t&&(this._tint=t,this.backImage.setTint(t),this.frontImage.setTint(t))}setTint(t){return this.tint=t,this}get flipX(){return this._flipX}set flipX(t){this._flipX!==t&&(this._flipX=t,this.backImage.setFlipX(t),this.frontImage.setFlipX(t))}setFlipX(t){return this.flipX=t,this}toggleFlipX(){return this.flipX=!this.flipX,this}get flipY(){return this._flipY}set flipY(t){this._flipY!==t&&(this._flipY=t,this.backImage.setFlipY(t),this.frontImage.setFlipY(t))}setFlipY(t){return this.flipY=t,this}toggleFlipY(){return this.flipY=!this.flipY,this}setFlip(t,i){return this.flipX=t,this.flipY=i,this}get t(){return this._t}set t(t){if(t=ept(t,0,1),this._t!==t){this._t=t;var i=this.currentImage,s=this.nextImage;if(t===0&&(this.setChildVisible(this.frontImage,!0).setChildVisible(this.backImage,!0),zP.call(this,this.onStartCallback,this.onStartCallbackScope,this,i,s,t)),zP.call(this,this.onProgressCallback,this.onProgressCallbackScope,this,i,s,t),t===1){zP.call(this,this.onCompleteCallback,this.onCompleteCallbackScope,this,i,s,t);var p=s.texture.key,E=s.frame.name;this.frontImage.setTexture(p,E),this.backImage.setTexture(p,E),Ky.call(this,s),this.setChildVisible(this.frontImage,!0).setChildVisible(this.backImage,!1).setMaskEnable(!1).freeCellImages()}t===1&&!this.ignoreCompleteEvent&&this.emit("complete")}}setT(t){return this.t=t,this}get isRunning(){return this.easeValueTask?this.easeValueTask.isRunning:!1}setOrigin(t,i){return super.setOrigin(t,i),this.backImage.setOrigin(t,i),this.frontImage.setOrigin(t,i),this.maskGameObject&&this.maskGameObject.setOrigin(t,i),this}setTexture(t,i){return this.frontImage.setTexture(t,i),this.backImage.setTexture(t,i).setVisible(!1),Ky.call(this,this.frontImage),this}setSize(t,i){return super.setSize(t,i),this.scaleMode&&Dk.call(this),this}}var zP=function(e,t,i,s,p,E){if(e){if(this.scaleMode){var n;s.biasScale>0&&(n=this.getChildLocalScaleX(s),n=n/s.biasScale,this.setChildLocalScale(s,n)),p.biasScale&&(n=this.getChildLocalScaleX(p),n=n/p.biasScale,this.setChildLocalScale(p,n))}if(t?e.call(t,i,s,p,E):e(i,s,p,E),this.scaleMode){var n;s.biasScale>0&&(n=this.getChildLocalScaleX(s),n=n*s.biasScale,this.setChildLocalScale(s,n)),p.biasScale&&(n=this.getChildLocalScaleX(p),n=n*p.biasScale,this.setChildLocalScale(p,n))}}};Object.assign(nT.prototype,Bk);const ipt={fit:1,FIT:1,envelop:2,ENVELOP:2};It.register("transitionImage",function(e,t,i,s,p){var E=new nT(this.scene,e,t,i,s,p);return this.scene.add.existing(E),E});Lt(window,"RexPlugins.UI.TransitionImage",nT);const rpt="slideLeft",npt="slideRight",spt="slideUp",apt="slideDown",opt="slideAwayLeft",lpt="slideAwayRight",hpt="slideAwayUp",upt="slideAwayDown",fpt="pushLeft",dpt="pushRight",cpt="pushUp",vpt="pushDown",ppt="zoomOut",gpt="zoomIn",mpt="zoomInOut",ypt="fade",xpt="crossFade",Tpt="wipeLeft",Cpt="wipeRight",Spt="wipeUp",Ept="wipeDown",Ppt="irisOut",bpt="irisIn",Mpt="irisInOut",wpt="pieOut",Rpt="pieIn",Apt="pieInOut",Opt="blinds",Lpt="squares",Dpt="diamonds",Fpt="circles",Ipt="curtain",Bpt="pixellate",Gpt="dissolve",kpt="revealLeft",Npt="revealRight",Upt="revealUp",Vpt="revealDown";var zpt=function(e){e.addTransitionMode(lpt,{ease:"Linear",dir:"out",mask:!0,onStart:function(t,i,s,p){},onProgress:function(t,i,s,p){var E=i.width*p;t.setChildLocalPosition(i,E,0)},onComplete:function(t,i,s,p){t.setChildLocalPosition(i,0,0)}}).addTransitionMode(opt,{ease:"Linear",dir:"out",mask:!0,onStart:function(t,i,s,p){},onProgress:function(t,i,s,p){var E=i.width*-p;t.setChildLocalPosition(i,E,0)},onComplete:function(t,i,s,p){t.setChildLocalPosition(i,0,0)}}).addTransitionMode(upt,{ease:"Linear",dir:"out",mask:!0,onStart:function(t,i,s,p){},onProgress:function(t,i,s,p){var E=i.height*p;t.setChildLocalPosition(i,0,E)},onComplete:function(t,i,s,p){t.setChildLocalPosition(i,0,0)}}).addTransitionMode(hpt,{ease:"Linear",dir:"out",mask:!0,onStart:function(t,i,s,p){},onProgress:function(t,i,s,p){var E=i.height*-p;t.setChildLocalPosition(i,0,E)},onComplete:function(t,i,s,p){t.setChildLocalPosition(i,0,0)}})},Wpt=function(e){e.addTransitionMode(npt,{ease:"Linear",dir:"in",mask:!0,onStart:function(t,i,s,p){},onProgress:function(t,i,s,p){var E=s.width*(p-1);t.setChildLocalPosition(s,E,0)},onComplete:function(t,i,s,p){t.setChildLocalPosition(s,0,0)}}).addTransitionMode(rpt,{ease:"Linear",dir:"in",mask:!0,onStart:function(t,i,s,p){},onProgress:function(t,i,s,p){var E=s.width*(1-p);t.setChildLocalPosition(s,E,0)},onComplete:function(t,i,s,p){t.setChildLocalPosition(s,0,0)}}).addTransitionMode(apt,{ease:"Linear",dir:"in",mask:!0,onStart:function(t,i,s,p){},onProgress:function(t,i,s,p){var E=s.height*(p-1);t.setChildLocalPosition(s,0,E)},onComplete:function(t,i,s,p){t.setChildLocalPosition(s,0,0)}}).addTransitionMode(spt,{ease:"Linear",dir:"in",mask:!0,onStart:function(t,i,s,p){},onProgress:function(t,i,s,p){var E=s.height*(1-p);t.setChildLocalPosition(s,0,E)},onComplete:function(t,i,s,p){t.setChildLocalPosition(s,0,0)}})},Ypt=function(e){e.addTransitionMode(dpt,{ease:"Linear",dir:"out",mask:!0,onStart:function(t,i,s,p){},onProgress:function(t,i,s,p){var E=i.width*p;t.setChildLocalPosition(i,E,0);var E=s.width*(p-1);t.setChildLocalPosition(s,E,0)},onComplete:function(t,i,s,p){t.setChildLocalPosition(i,0,0),t.setChildLocalPosition(s,0,0)}}).addTransitionMode(fpt,{ease:"Linear",dir:"out",mask:!0,onStart:function(t,i,s,p){},onProgress:function(t,i,s,p){var E=i.width*-p;t.setChildLocalPosition(i,E,0);var E=s.width*(1-p);t.setChildLocalPosition(s,E,0)},onComplete:function(t,i,s,p){t.setChildLocalPosition(i,0,0),t.setChildLocalPosition(s,0,0)}}).addTransitionMode(vpt,{ease:"Linear",dir:"out",mask:!0,onStart:function(t,i,s,p){},onProgress:function(t,i,s,p){var E=i.height*p;t.setChildLocalPosition(i,0,E);var E=s.height*(p-1);t.setChildLocalPosition(s,0,E)},onComplete:function(t,i,s,p){t.setChildLocalPosition(i,0,0),t.setChildLocalPosition(s,0,0)}}).addTransitionMode(cpt,{ease:"Linear",dir:"out",mask:!0,onStart:function(t,i,s,p){},onProgress:function(t,i,s,p){var E=i.height*-p;t.setChildLocalPosition(i,0,E);var E=s.height*(1-p);t.setChildLocalPosition(s,0,E)},onComplete:function(t,i,s,p){t.setChildLocalPosition(i,0,0),t.setChildLocalPosition(s,0,0)}})},Xpt=function(e){e.addTransitionMode(ppt,{ease:"Linear",dir:"out",mask:!1,onStart:function(t,i,s,p){},onProgress:function(t,i,s,p){var E=1-p;t.setChildLocalScale(i,E,E)},onComplete:function(t,i,s,p){t.setChildLocalScale(i,1,1)}}).addTransitionMode(gpt,{ease:"Linear",dir:"in",mask:!1,onStart:function(t,i,s,p){},onProgress:function(t,i,s,p){var E=p;t.setChildLocalScale(s,E,E)},onComplete:function(t,i,s,p){t.setChildLocalScale(s,1,1)}}).addTransitionMode(mpt,{ease:"Linear",dir:"out",mask:!1,onStart:function(t,i,s,p){s.tint=0},onProgress:function(t,i,s,p){var E;p<.5?(E=1-ki(p),t.setChildLocalScale(i,E,E)):(i.visible&&t.setChildVisible(i,!1),E=1-ki(p),t.setChildLocalScale(s,E,E))},onComplete:function(t,i,s,p){t.setChildLocalScale(i,1,1),t.setChildVisible(i,!0),i.tint=16777215,t.setChildLocalScale(s,1,1),t.setChildVisible(s,!0),s.tint=16777215}})},Hpt=function(e){e.addTransitionMode(ypt,{ease:"Linear",dir:"out",mask:!1,onStart:function(t,i,s,p){s.tint=0},onProgress:function(t,i,s,p){var E;p<.5?(p=ki(p),E=Math.floor(255*(1-p)),i.tint=(E<<16)+(E<<8)+E):(i.visible&&t.setChildVisible(i,!1),p=ki(p),E=Math.floor(255*(1-p)),s.tint=(E<<16)+(E<<8)+E)},onComplete:function(t,i,s,p){t.setChildVisible(i,!0),i.tint=16777215,t.setChildVisible(s,!0),s.tint=16777215}}).addTransitionMode(xpt,{ease:"Linear",dir:"out",mask:!1,onStart:function(t,i,s,p){},onProgress:function(t,i,s,p){t.setChildLocalAlpha(i,1-p),t.setChildLocalAlpha(s,p)},onComplete:function(t,i,s,p){t.setChildLocalAlpha(i,1)}})},$pt=function(e){var t=new Ao(e,{type:"Graphics",create:[{name:"rect",type:"rectangle"}],update:function(){var i=this.getShape("rect").fillStyle(16777215),s=1-this.value;switch(this.wipeMode){case"right":i.setSize(this.width*s,this.height).setTopLeftPosition(this.width-i.width,0);break;case"left":i.setSize(this.width*s,this.height).setTopLeftPosition(0,0);break;case"down":i.setSize(this.width,this.height*s).setTopLeftPosition(0,this.height-i.height);break;case"up":i.setSize(this.width,this.height*s).setTopLeftPosition(0,0);break}}});return t},Kpt=function(e){var t=$pt(e.scene);e.once("destroy",function(){t.destroy()}).addTransitionMode(Cpt,{ease:"Linear",dir:"out",mask:t,onStart:function(i,s,p,E){i.setCurrentImageMaskEnable(!0),i.maskGameObject.wipeMode="right"},onProgress:function(i,s,p,E){i.maskGameObject.setValue(E)},onComplete:function(i,s,p,E){i.removeMaskGameObject(!1)}}).addTransitionMode(Tpt,{ease:"Linear",dir:"out",mask:t,onStart:function(i,s,p,E){i.setCurrentImageMaskEnable(!0),i.maskGameObject.wipeMode="left"},onProgress:function(i,s,p,E){i.maskGameObject.setValue(E)},onComplete:function(i,s,p,E){i.removeMaskGameObject(!1)}}).addTransitionMode(Ept,{ease:"Linear",dir:"out",mask:t,onStart:function(i,s,p,E){i.setCurrentImageMaskEnable(!0),i.maskGameObject.wipeMode="down"},onProgress:function(i,s,p,E){i.maskGameObject.setValue(E)},onComplete:function(i,s,p,E){i.removeMaskGameObject(!1)}}).addTransitionMode(Spt,{ease:"Linear",dir:"out",mask:t,onStart:function(i,s,p,E){i.setCurrentImageMaskEnable(!0),i.maskGameObject.wipeMode="up"},onProgress:function(i,s,p,E){i.maskGameObject.setValue(E)},onComplete:function(i,s,p,E){i.removeMaskGameObject(!1)}})},Zpt=function(e){var t=new Ao(e,{type:"Graphics",create:[{name:"rect",type:"rectangle"}],update:function(){this.getShape("rect").fillStyle(16777215).setSize(this.width*this.value,this.height*this.value).setCenterPosition(this.centerX,this.centerY)}});return t},Jpt=function(e){var t=Zpt(e.scene);e.once("destroy",function(){t.destroy()}).addTransitionMode(Ppt,{ease:"Linear",dir:"out",mask:t,onStart:function(i,s,p,E){i.setCurrentImageMaskEnable(!0,!0)},onProgress:function(i,s,p,E){i.maskGameObject.setValue(E)},onComplete:function(i,s,p,E){i.removeMaskGameObject(!1)}}).addTransitionMode(bpt,{ease:"Linear",dir:"in",mask:t,onStart:function(i,s,p,E){i.setNextImageMaskEnable(!0,!0)},onProgress:function(i,s,p,E){i.maskGameObject.setValue(1-E)},onComplete:function(i,s,p,E){i.removeMaskGameObject(!1)}}).addTransitionMode(Mpt,{ease:"Linear",dir:"out",mask:t,onStart:function(i,s,p,E){p.tint=0,i.setCurrentImageMaskEnable(!0),i.setNextImageMaskEnable(!0)},onProgress:function(i,s,p,E){var n;E<.5?(E=ki(E),n=Math.floor(255*(1-E)),i.maskGameObject.setValue(1-E),s.tint=(n<<16)+(n<<8)+n):(s.visible&&i.setChildVisible(s,!1),E=ki(E),n=Math.floor(255*(1-E)),i.maskGameObject.setValue(1-E),p.tint=(n<<16)+(n<<8)+n)},onComplete:function(i,s,p,E){i.removeMaskGameObject(!1),i.setChildVisible(s,!0),s.tint=16777215,i.setChildVisible(p,!0),p.tint=16777215}})},jpt=function(e){var t=new Ao(e,{type:"Graphics",create:[{name:"pie",type:"arc"}],update:function(){var i=Math.max(this.width,this.height)*2,s=90*this.value;this.getShape("pie").fillStyle(16777215).setCenterPosition(this.centerX,0).setRadius(i).setAngle(90-s,90+s).setPie()}});return t},Qpt=function(e){var t=jpt(e.scene);e.once("destroy",function(){t.destroy()}).addTransitionMode(wpt,{ease:"Linear",dir:"out",mask:t,onStart:function(i,s,p,E){i.setCurrentImageMaskEnable(!0,!0)},onProgress:function(i,s,p,E){i.maskGameObject.setValue(E)},onComplete:function(i,s,p,E){i.removeMaskGameObject(!1)}}).addTransitionMode(Rpt,{ease:"Linear",dir:"in",mask:t,onStart:function(i,s,p,E){i.setNextImageMaskEnable(!0,!0)},onProgress:function(i,s,p,E){i.maskGameObject.setValue(1-E)},onComplete:function(i,s,p,E){i.removeMaskGameObject(!1)}}).addTransitionMode(Apt,{ease:"Linear",dir:"out",mask:t,onStart:function(i,s,p,E){p.tint=0,i.setCurrentImageMaskEnable(!0),i.setNextImageMaskEnable(!0)},onProgress:function(i,s,p,E){var n;E<.5?(E=ki(E),n=Math.floor(255*(1-E)),i.maskGameObject.setValue(1-E),s.tint=(n<<16)+(n<<8)+n):(s.visible&&i.setChildVisible(s,!1),E=ki(E),n=Math.floor(255*(1-E)),i.maskGameObject.setValue(1-E),p.tint=(n<<16)+(n<<8)+n)},onComplete:function(i,s,p,E){i.removeMaskGameObject(!1),i.setChildVisible(s,!0),s.tint=16777215,i.setChildVisible(p,!0),p.tint=16777215}})},qpt=function(e,t){var i=new Ao(e,{type:"Graphics",create:{rectangle:t},update:function(){for(var s=this.getShapes(),p=this.width/t,E=0;E<t;E++)s[E].fillStyle(16777215).setSize(p*this.value,this.height).setTopLeftPosition(p*E,0)}});return i},_pt=function(e){var t=qpt(e.scene,10);e.once("destroy",function(){t.destroy()}).addTransitionMode(Opt,{ease:"Linear",dir:"out",mask:t,onStart:function(i,s,p,E){i.setCurrentImageMaskEnable(!0,!0)},onProgress:function(i,s,p,E){i.maskGameObject.setValue(E)},onComplete:function(i,s,p,E){i.removeMaskGameObject(!1)}})},tgt=function(e,t,i){var s=new Ao(e,{type:"Graphics",create:{rectangle:t*i},update:function(){for(var p=this.getShapes(),E=this.width/t,n=this.height/i,T=0;T<i;T++)for(var r=0;r<t;r++)p[r*i+T].fillStyle(16777215).setSize(E*this.value,n*this.value).setCenterPosition(E*(r+.5),n*(T+.5))}});return s},egt=function(e){var t=tgt(e.scene,Math.ceil(e.width/40),Math.ceil(e.height/40));e.once("destroy",function(){t.destroy()}).addTransitionMode(Lpt,{ease:"Linear",dir:"out",mask:t,onStart:function(i,s,p,E){i.setCurrentImageMaskEnable(!0,!0)},onProgress:function(i,s,p,E){i.maskGameObject.setValue(E)},onComplete:function(i,s,p,E){i.removeMaskGameObject(!1)}})},igt=function(e,t,i){var s=new Ao(e,{type:"Graphics",create:{lines:t*i},update:function(){for(var p=this.getShapes(),E=this.width/(t-1),n=this.height/i,T=n*2,r=E*this.value,o=n*this.value,x=0;x<i;x++)for(var d=0;d<t;d++){var h=d*E,l=x*T+d%2*n;p[d*i+x].fillStyle(16777215).start(h+r,l).lineTo(h,l+o).lineTo(h-r,l).lineTo(h,l-o).lineTo(h+r,l).close()}}});return s},rgt=function(e){var t=igt(e.scene,Math.ceil(e.width/60),Math.ceil(e.height/60));e.once("destroy",function(){t.destroy()}).addTransitionMode(Dpt,{ease:"Linear",dir:"out",mask:t,onStart:function(i,s,p,E){i.setCurrentImageMaskEnable(!0,!0)},onProgress:function(i,s,p,E){i.maskGameObject.setValue(E)},onComplete:function(i,s,p,E){i.removeMaskGameObject(!1)}})},ngt=function(e,t,i){var s=new Ao(e,{type:"Graphics",create:{circle:t*i},update:function(){for(var p=this.getShapes(),E=this.width/(t-1),n=this.height/i,T=n*2,r=Math.max(E,n)*this.value,o=0;o<i;o++)for(var x=0;x<t;x++){var d=x*E,h=o*T+x%2*n;p[x*i+o].fillStyle(16777215).setCenterPosition(d,h).setRadius(r)}}});return s},sgt=function(e){var t=ngt(e.scene,Math.ceil(e.width/60),Math.ceil(e.height/60));e.once("destroy",function(){t.destroy()}).addTransitionMode(Fpt,{ease:"Linear",dir:"out",mask:t,onStart:function(i,s,p,E){i.setCurrentImageMaskEnable(!0,!0)},onProgress:function(i,s,p,E){i.maskGameObject.setValue(E)},onComplete:function(i,s,p,E){i.removeMaskGameObject(!1)}})},agt=function(e,t){var i=new Ao(e,{type:"Graphics",create:{lines:t},update:function(){for(var s=this.getShapes(),p=this.width/t,E=p/2,n=0;n<t;n++){var T=p*n,r=this.height*this.value,o=T+E;s[n].fillStyle(16777215).start(T,0).horizontalLineTo(r).arc(o,r,E,180,0,!0).horizontalLineTo(-r).lineTo(T,0).close()}}});return i},ogt=function(e){var t=agt(e.scene,10);e.once("destroy",function(){t.destroy()}).addTransitionMode(Ipt,{ease:"Linear",dir:"out",mask:t,onStart:function(i,s,p,E){p.tint=0,i.setCurrentImageMaskEnable(!0,!0),i.setNextImageMaskEnable(!0,!0)},onProgress:function(i,s,p,E){var n;E<.5?(E=ki(E),n=Math.floor(255*(1-E)),i.maskGameObject.setValue(E),s.tint=(n<<16)+(n<<8)+n):(s.visible&&i.setChildVisible(s,!1),E=ki(E),n=Math.floor(255*(1-E)),i.maskGameObject.setValue(E),p.tint=(n<<16)+(n<<8)+n)},onComplete:function(i,s,p,E){i.removeMaskGameObject(!1),i.setChildVisible(s,!0),s.tint=16777215,i.setChildVisible(p,!0),p.tint=16777215}})},lgt=function(e){e.addTransitionMode(Bpt,{ease:"Linear",dir:"out",mask:!0,onStart:function(t,i,s,p){t.setChildVisible(s,!1),i.effect=i.preFX.addPixelate(0),s.effect=s.preFX.addPixelate(0)},onProgress:function(t,i,s,p){if(p<.5){p=ki(p);var E=Math.min(i.width,i.height)/5;i.effect.amount=Math.ceil(E*p)}else{i.visible&&t.setChildVisible(i,!1),s.visible||t.setChildVisible(s,!0),p=ki(p);var E=Math.min(s.width,s.height)/5;s.effect.amount=Math.ceil(E*p)}},onComplete:function(t,i,s,p){i.preFX.remove(i.effect),delete i.effect,t.setChildVisible(i,!0),s.preFX.remove(s.effect),delete s.effect}})};const hgt=`vec3 mod289(vec3 x) { return x - floor(x * (1.0 / 289.0)) * 289.0; }
vec4 mod289(vec4 x) { return x - floor(x * (1.0 / 289.0)) * 289.0; }
vec4 permute(vec4 x) { return mod289(((x*34.0)+1.0)*x); }
vec4 taylorInvSqrt(vec4 r) { return 1.79284291400159 - 0.85373472095314 * r; }
vec3 fade(vec3 t) { return t*t*t*(t*(t*6.0-15.0)+10.0); }
float Perlin(vec3 P) {
    vec3 i0 = mod289(floor(P)), i1 = mod289(i0 + vec3(1.0));
    vec3 f0 = fract(P), f1 = f0 - vec3(1.0), f = fade(f0);
    vec4 ix = vec4(i0.x, i1.x, i0.x, i1.x), iy = vec4(i0.yy, i1.yy);
    vec4 iz0 = i0.zzzz, iz1 = i1.zzzz;
    vec4 ixy = permute(permute(ix) + iy), ixy0 = permute(ixy + iz0), ixy1 = permute(ixy + iz1);
    vec4 gx0 = ixy0 * (1.0 / 7.0), gy0 = fract(floor(gx0) * (1.0 / 7.0)) - 0.5;
    vec4 gx1 = ixy1 * (1.0 / 7.0), gy1 = fract(floor(gx1) * (1.0 / 7.0)) - 0.5;
    gx0 = fract(gx0); gx1 = fract(gx1);
    vec4 gz0 = vec4(0.5) - abs(gx0) - abs(gy0), sz0 = step(gz0, vec4(0.0));
    vec4 gz1 = vec4(0.5) - abs(gx1) - abs(gy1), sz1 = step(gz1, vec4(0.0));
    gx0 -= sz0 * (step(0.0, gx0) - 0.5); gy0 -= sz0 * (step(0.0, gy0) - 0.5);
    gx1 -= sz1 * (step(0.0, gx1) - 0.5); gy1 -= sz1 * (step(0.0, gy1) - 0.5);
    vec3 g0 = vec3(gx0.x,gy0.x,gz0.x), g1 = vec3(gx0.y,gy0.y,gz0.y),
        g2 = vec3(gx0.z,gy0.z,gz0.z), g3 = vec3(gx0.w,gy0.w,gz0.w),
        g4 = vec3(gx1.x,gy1.x,gz1.x), g5 = vec3(gx1.y,gy1.y,gz1.y),
        g6 = vec3(gx1.z,gy1.z,gz1.z), g7 = vec3(gx1.w,gy1.w,gz1.w);
    vec4 norm0 = taylorInvSqrt(vec4(dot(g0,g0), dot(g2,g2), dot(g1,g1), dot(g3,g3)));
    vec4 norm1 = taylorInvSqrt(vec4(dot(g4,g4), dot(g6,g6), dot(g5,g5), dot(g7,g7)));
    g0 *= norm0.x; g2 *= norm0.y; g1 *= norm0.z; g3 *= norm0.w;
    g4 *= norm1.x; g6 *= norm1.y; g5 *= norm1.z; g7 *= norm1.w;
    vec4 nz = mix(vec4(dot(g0, vec3(f0.x, f0.y, f0.z)), dot(g1, vec3(f1.x, f0.y, f0.z)),
        dot(g2, vec3(f0.x, f1.y, f0.z)), dot(g3, vec3(f1.x, f1.y, f0.z))),
        vec4(dot(g4, vec3(f0.x, f0.y, f1.z)), dot(g5, vec3(f1.x, f0.y, f1.z)),
            dot(g6, vec3(f0.x, f1.y, f1.z)), dot(g7, vec3(f1.x, f1.y, f1.z))), f.z);
    return 2.2 * mix(mix(nz.x,nz.z,f.y), mix(nz.y,nz.w,f.y), f.x);
}
float Perlin(vec2 P) { return Perlin(vec3(P, 0.0)); }
`,ugt=`#ifdef GL_FRAGMENT_PRECISION_HIGH
#define highmedp highp
#else
#define highmedp mediump
#endif
precision highmedp float;
// Scene buffer
uniform sampler2D uMainSampler;
uniform sampler2D uMainSampler2;

uniform int resizeMode;
uniform float progress;
uniform float fromRatio;
uniform float toRatio;
varying vec2 outFragCoord;
// Effect parameters
uniform float noiseX;
uniform float noiseY;
uniform float noiseZ;
uniform float fromEdgeStart;
uniform float fromEdgeWidth;
uniform float toEdgeStart;
uniform float toEdgeWidth;

${hgt}

vec4 getFromColor (vec2 uv) {
  return texture2D(uMainSampler, uv);
}

vec4 getToColor (vec2 uv) {
  if (resizeMode == 2) {
    //  cover
    return texture2D(uMainSampler2, 0.5 + (vec2(uv.x, 1.0 - uv.y) - 0.5) * vec2(min(fromRatio / toRatio, 1.0), min((toRatio / fromRatio), 1.0)));
  } else if (resizeMode == 1) {
    //  contain
    return texture2D(uMainSampler2, 0.5 + (vec2(uv.x, 1.0 - uv.y) - 0.5) * vec2(max(fromRatio / toRatio, 1.0), max((toRatio / fromRatio), 1.0)));
  } else {
    //  stretch
    return texture2D(uMainSampler2, vec2(uv.x, 1.0 - uv.y));
  }
}

vec4 transition (vec2 uv) {    
  vec4 colorFront = getFromColor(uv);
  vec4 colorTo = getToColor(uv);

  float noise = (Perlin(vec3(uv.x * noiseX, uv.y * noiseY, noiseZ)) + 1.0) / 2.0
    * (1.0 - (fromEdgeStart + fromEdgeWidth + toEdgeStart + toEdgeWidth))
    + (fromEdgeStart + fromEdgeWidth + toEdgeStart + toEdgeWidth) * 0.5;
  vec4 colorResult = colorFront * smoothstep(progress - (fromEdgeStart + fromEdgeWidth), progress - fromEdgeStart, noise)
    + colorTo * smoothstep((1.0 - progress) - (toEdgeStart + toEdgeWidth), (1.0 - progress) - toEdgeStart, (1.0 - noise));
  return colorResult;
}

void main () {
  vec2 uv = outFragCoord;
  gl_FragColor = transition(uv);
}
`,fgt=Phaser.Renderer.WebGL.Pipelines.PostFXPipeline,Aa=Phaser.Utils.Objects.GetValue,dgt=Phaser.Math.Clamp;class WP extends fgt{constructor(t){super({name:"rexDissolvePostFx",game:t,renderTarget:!0,fragShader:ugt}),this._progress=0,this.toFrame=null,this.targetTexture=null,this.resizeMode=1,this.toRatio=1,this.noiseX=0,this.noiseY=0,this.noiseZ=0,this.fromEdgeStart=.01,this.fromEdgeWidth=.05,this.toEdgeStart=.01,this.toEdgeWidth=.05}resetFromJSON(t){return this.setProgress(Aa(t,"progress",0)),this.setTransitionTargetTexture(Aa(t,"toTexture","__DEFAULT"),Aa(t,"toFrame",void 0),Aa(t,"resizeMode",1)),this.setNoise(Aa(t,"noiseX",void 0),Aa(t,"noiseY",void 0),Aa(t,"noiseZ",void 0)),this.setFromEdge(Aa(t,"fromEdgeStart",.01),Aa(t,"fromEdgeWidth",.05)),this.setToEdge(Aa(t,"toEdgeStart",.01),Aa(t,"toEdgeWidth",.05)),this}onBoot(){}onPreRender(){this.set1f("progress",this.progress),this.set1i("resizeMode",this.resizeMode),this.set1f("noiseX",this.noiseX),this.set1f("noiseY",this.noiseY),this.set1f("noiseZ",this.noiseZ),this.set1f("fromEdgeStart",this.fromEdgeStart),this.set1f("fromEdgeWidth",this.fromEdgeWidth),this.set1f("toEdgeStart",this.toEdgeStart),this.set1f("toEdgeWidth",this.toEdgeWidth)}onDraw(t){this.set1f("fromRatio",t.width/t.height),this.set1f("toRatio",this.toRatio),this.set1i("uMainSampler2",1),this.bindTexture(this.targetTexture,1),this.bindAndDraw(t)}get progress(){return this._progress}set progress(t){this._progress=dgt(t,0,1)}setProgress(t){return this.progress=t,this}setTransitionTargetTexture(t,i,s){t===void 0&&(t="__DEFAULT");var p=this.game.textures.getFrame(t,i);return p||(p=this.game.textures.getFrame("__DEFAULT")),this.toRatio=p.width/p.height,this.toFrame=p,this.targetTexture=p.glTexture,s!==void 0&&(this.resizeMode=s),this}setResizeMode(t){return typeof t=="string"&&(t=cgt[t]),this.resizeMode=t,this}setNoise(t,i,s){return t===void 0&&(t=4+Math.random()*6),i===void 0&&(i=4+Math.random()*6),s===void 0&&(s=Math.random()*10),this.noiseX=t,this.noiseY=i,this.noiseZ=s,this}setFromEdge(t,i){return this.fromEdgeStart=t,this.fromEdgeWidth=i,this}setToEdge(t,i){return this.toEdgeStart=t,this.toEdgeWidth=i,this}}var cgt={stretch:0,contain:1,cover:2},vgt=function(e,t,i){Wu(e).renderer.pipelines.addPostPipeline(t,i)},pgt=function(e,t,i){i===void 0&&(i={}),e.setPostPipeline(t);var s=e.postPipelines[e.postPipelines.length-1];return s.resetFromJSON(i),i.name&&(s.name=i.name),s};const ggt=Phaser.Utils.Array.SpliceOne;var mgt=function(e,t,i){for(var s,p,E,s=e.postPipelines,p=s.length-1;p>=0;p--){var E=s[p];E instanceof t&&(E.destroy(),ggt(s,p))}e.hasPostPipeline=e.postPipelines.length>0},ygt=function(e){vgt(e.scene.game,"rexDissolvePostFx",WP),e.addTransitionMode(Gpt,{ease:"Linear",dir:"out",mask:!1,onStart:function(t,i,s,p){i.effect=pgt(i,WP)},onProgress:function(t,i,s,p){i.effect.setProgress(p)},onComplete:function(t,i,s,p){mgt(i,WP),delete i.effect}})};const vy=.1,xgt=0,Tgt=0,Cgt=1,Sgt=1,Q3=0,q3=1;var Egt=function(e){e.addTransitionMode(Npt,{ease:"Linear",dir:"in",mask:!1,onStart:function(t,i,s,p){s.effect=s.preFX.addReveal(vy,xgt,Q3)},onProgress:function(t,i,s,p){s.effect.progress=p},onComplete:function(t,i,s,p){s.preFX.remove(s.effect),delete s.effect}}).addTransitionMode(kpt,{ease:"Linear",dir:"in",mask:!1,onStart:function(t,i,s,p){s.effect=s.preFX.addReveal(vy,Cgt,Q3)},onProgress:function(t,i,s,p){s.effect.progress=p},onComplete:function(t,i,s,p){s.preFX.remove(s.effect),delete s.effect}}).addTransitionMode(Vpt,{ease:"Linear",dir:"in",mask:!1,onStart:function(t,i,s,p){s.effect=s.preFX.addReveal(vy,Tgt,q3)},onProgress:function(t,i,s,p){s.effect.progress=p},onComplete:function(t,i,s,p){s.preFX.remove(s.effect),delete s.effect}}).addTransitionMode(Upt,{ease:"Linear",dir:"in",mask:!1,onStart:function(t,i,s,p){s.effect=s.preFX.addReveal(vy,Sgt,q3)},onProgress:function(t,i,s,p){s.effect.progress=p},onComplete:function(t,i,s,p){s.preFX.remove(s.effect),delete s.effect}})};const _3=[zpt,Wpt,Ypt,Xpt,Hpt,Jpt,Qpt,Kpt,_pt,egt,rgt,sgt,ogt,lgt,ygt,Egt];class Gk extends nT{constructor(t,i,s,p,E,n){super(t,i,s,p,E,n);for(var T=0,r=_3.length;T<r;T++)_3[T](this)}}It.register("transitionImagePack",function(e,t,i,s,p){var E=new Gk(this.scene,e,t,i,s,p);return this.scene.add.existing(E),E});Lt(window,"RexPlugins.UI.TransitionImagePack",Gk);var Pgt=function(){var e=this.image;if(!this.scaleUp&&e.width<=this.width&&e.height<=this.height)return this;var t=Ww(e,this,"FIT",!0);return e.setDisplaySize(t.width,t.height),this.resetChildScaleState(e),this},kk={scaleImage:Pgt};Object.assign(kk,Ik);var bgt=function(){var e=this.background;return e?(e.setOrigin(this.originX,this.originY),e.setPosition(this.x,this.y),wn(e,this.displayWidth,this.displayHeight),this.resetChildScaleState(e),this):this};const tB=Phaser.Utils.Objects.IsPlainObject,hl=Phaser.Utils.Objects.GetValue;class sT extends Is{constructor(t,i,s,p,E,n){tB(i)?(n=i,i=hl(n,"x",0),s=hl(n,"y",0),p=hl(n,"key",void 0),E=hl(n,"frame",void 0)):tB(E)&&(n=E,E=void 0);var T=hl(n,"image");T?T.setPosition(i,s).setOrigin(.5):(T=t.add.image(i,s,p,E),p===void 0&&T.setVisible(!1)),super(t,i,s,1,1),this.type="rexImageBox";var r=hl(n,"background");r&&this.add(r),this.background=r,this.add(T),this.image=T,this.scaleUp=hl(n,"scaleUp",!1);var o=hl(n,"width",T.width),x=hl(n,"height",T.height);this.resize(o,x)}get texture(){return this.image.texture}get frame(){return this.image.frame}get flipX(){return this._flipX}set flipX(t){this._flipX!==t&&(this._flipX=t,this.image.setFlipX(t))}get flipY(){return this._flipY}set flipY(t){this._flipY!==t&&(this._flipY=t,this.image.setFlipY(t))}resize(t,i){return super.resize(t,i),bgt.call(this),this.scaleImage(),this}setTexture(t,i){var s=this.image;return s.setTexture(t,i),t!==null?(this.setChildVisible(s,!0),this.scaleImage()):this.setChildVisible(s,!1),this}}Object.assign(sT.prototype,kk);It.register("imageBox",function(e,t,i,s,p){var E=new sT(this.scene,e,t,i,s,p);return this.scene.add.existing(E),E});Lt(window,"RexPlugins.UI.ImageBox",sT);It.register("fullWindowRectangle",function(e,t){var i=new Bw(this.scene,e,t);return this.scene.add.existing(i),i});Lt(window,"RexPlugins.UI.FullWindowRectangle",Bw);It.register("fullWindowZone",function(){var e=new sw(this.scene);return this.scene.add.existing(e),e});Lt(window,"RexPlugins.UI.FullWindowZone",sw);It.register("cover",function(e){var t=new Gw(this.scene,e);return this.scene.add.existing(t),t});Lt(window,"RexPlugins.UI.Cover",Gw);var Kw=function(e,t){if(this.scene.sys.scale.autoRound&&(e=Math.floor(e),t=Math.floor(t)),this.width===e&&this.height===t)return this;var i=this.node.style;return i.width=`${e}px`,i.height=`${t}px`,this.updateSize(),this};const eB={id:["id",void 0],text:["value",void 0],maxLength:["maxLength",void 0],minLength:["minLength",void 0],placeholder:["placeholder",void 0],tooltip:["title",void 0],readOnly:["readOnly",!1],spellCheck:["spellcheck",!1],autoComplete:["autocomplete","off"],autoCapitalize:["autocapitalize","off"]},iB={align:["textAlign",void 0],paddingLeft:["padding-left",void 0],paddingRight:["padding-right",void 0],paddingTop:["padding-top",void 0],paddingBottom:["padding-bottom",void 0],fontFamily:["fontFamily",void 0],fontSize:["font-size",void 0],color:["color","#ffffff"],backgroundColor:["backgroundColor","transparent"],border:["border",0],borderColor:["borderColor","transparent"],borderRadius:["border-radius",void 0],outline:["outline","none"],direction:["direction",void 0]},Mgt={input:"textchange",click:"click",dblclick:"dblclick",mousedown:"pointerdown",mousemove:"pointermove",mouseup:"pointerup",touchstart:"pointerdown",touchmove:"pointermove",touchend:"pointerup",keydown:"keydown",keyup:"keyup",keypress:"keypress",compositionstart:"compositionStart",compositionend:"compositionEnd",compositionupdate:"compositionUpdate",focus:"focus",blur:"blur",select:"select"},rB=Phaser.Utils.Objects.GetValue;var Nk=function(e,t,i,s){var p=rB(s,"preventDefault",!1),E=rB(s,"preTest");for(let n in i)t.addEventListener(n,function(T){(!E||E(e,n))&&e.emit(i[n],e,T),p&&T.preventDefault()})};const wgt=Phaser.GameObjects.DOMElement,nB=Phaser.Utils.Objects.IsPlainObject,fo=Phaser.Utils.Objects.GetValue;class aT extends wgt{constructor(t,i,s,p,E,n){nB(i)?(n=i,i=fo(n,"x",0),s=fo(n,"y",0),p=fo(n,"width",0),E=fo(n,"height",0)):nB(p)&&(n=p,p=fo(n,"width",0),E=fo(n,"height",0)),n===void 0&&(n={});var T,r=fo(n,"inputType",void 0);r===void 0&&(r=fo(n,"type","text")),r==="textarea"?(T=document.createElement("textarea"),T.style.resize="none"):(T=document.createElement("input"),T.type=r),ix(eB,n,T);var o=fo(n,"style",void 0);o=ix(iB,n,o);var x=T.style;for(var d in n)if(!(d in eB||d in iB)){if(d in x)o[d]=n[d];else if(d in T){if(d==="type")continue;T[d]=n[d]}}o["box-sizing"]="border-box",super(t,i,s,T,o),this.type="rexInputText",this.resize(p,E),Nk(this,T,Mgt),VG(T),fo(n,"selectAll",!1)&&this.selectAll(),this._isFocused=!1,this.on("focus",function(){this._isFocused=!0},this).on("blur",function(){this._isFocused=!1},this)}get inputType(){return this.node.tagName.toLowerCase()==="textarea"?"textarea":this.node.type}get text(){return this.node.value}set text(t){this.node.value=t}setText(t){return this.text=t,this}get maxLength(){return this.node.maxLength}set maxLength(t){this.node.maxLength=t}setMaxLength(t){return this.maxLength=t,this}get minLength(){return this.node.minLength}set minLength(t){this.node.minLength=t}setMinLength(t){return this.minLength=t,this}get placeholder(){return this.node.placeholder}set placeholder(t){this.node.placeholder=t}setPlaceholder(t){return this.placeholder=t,this}selectText(t,i){return t===void 0?this.node.select():this.node.setSelectionRange(t,i),this}selectAll(){return this.selectText(),this}get selectionStart(){return this.node.selectionStart}get selectionEnd(){return this.node.selectionEnd}get selectedText(){var t=this.node;return t.value.substring(t.selectionStart,t.selectionEnd)}get cursorPosition(){return this.node.selectionStart}set cursorPosition(t){this.node.setSelectionRange(t,t)}setCursorPosition(t){return t===void 0?t=this.text.length:t<0&&(t=this.text.length+t),this.cursorPosition=t,this}get tooltip(){return this.node.title}set tooltip(t){this.node.title=t}setTooltip(t){return this.tooltip=t,this}setTextChangedCallback(t){return this.onTextChanged=t,this}get readOnly(){return this.node.readOnly}set readOnly(t){this.node.readOnly=t}setReadOnly(t){return t===void 0&&(t=!0),this.readOnly=t,this}get spellCheck(){return this.node.spellcheck}set spellCheck(t){this.node.spellcheck=t}setSpellCheck(t){return this.spellCheck=t,this}get fontColor(){return this.node.style.color}set fontColor(t){this.node.style.color=t}setFontColor(t){return this.fontColor=t,this}setStyle(t,i){return this.node.style[t]=i,this}getStyle(t){return this.node.style[t]}scrollToBottom(){return this.node.scrollTop=this.node.scrollHeight,this}setEnabled(t){return t===void 0&&(t=!0),this.node.disabled=!t,this}setBlur(){return this.node.blur(),this}setFocus(){return this.node.focus(),this}get isFocused(){return this._isFocused}}var Rgt={resize:Kw};Object.assign(aT.prototype,Rgt);It.register("inputText",function(e){var t=new aT(this.scene,e);return this.scene.add.existing(t),t});Lt(window,"RexPlugins.UI.InputText",aT);const sB=Phaser.Utils.Objects.GetValue;var Agt=function(e,t){var i=document.createElement("input");i.type="file";var s=sB(t,"accept",""),p=sB(t,"multiple",!1);return i.setAttribute("accept",s),p?i.setAttribute("multiple",""):i.removeAttribute("multiple"),i},Uk=function(e,t){return e===void 0&&(e=0),new Promise(function(i,s){setTimeout(function(){i(t)},e)})},Vk=function({game:e,fileInput:t,closeDelay:i}){return Nx(Wu(e).events,"focus").then(function(){return Uk(i)}).then(function(){var s={files:t.files};return Promise.resolve(s)})};const Ogt=Phaser.Utils.Objects.GetValue,Lgt=Phaser.DOM.RemoveFromDOM;var zk=function(e,t){var i=Ogt(t,"closeDelay",200),s=Agt(e,t);return s.click(),Vk({game:e,fileInput:s,closeDelay:i}).then(function(p){return Lgt(s),s.remove(),Promise.resolve(p)})},Wk=function(e){return this.setOrigin(e.originX,e.originY),this.setPosition(e.x,e.y),this.resize(e.displayWidth,e.displayHeight),this},Dgt=function(e,t,i){if(i===void 0)switch(t){case"image":case"svg":i="textures";break;case"animation":i="json";break;case"tilemapTiledJSON":case"tilemapCSV":i="tilemap";break;case"glsl":i="shader";break;default:i=t;break}e=Wu(e);var s;return i==="textures"?s=e.textures:s=e.cache[i],s},Yk=function(e,t,i,s,p,E){if(!(p===null||p===!1))if(Ua(p))p();else{var n=Dgt(e,i,p);n.exists(s)&&n.remove(s)}var T=e.load;if(E&&T.once(`filecomplete-${i}-${s}`,function(o,x,d){E(d)}),Ua(t))t();else{var r=window.URL.createObjectURL(t);T[i](s,r)}T.start()},Fgt=function(e,t,i,s,p){var E=this.scene;return Yk(E,e,t,i,s,p),this},Igt=function(e,t,i,s){var p=this.scene;return new Promise(function(E,n){var T=function(r){E(r)};Yk(p,e,t,i,s,T)})};const Xk={loadFile:Fgt,loadFilePromise:Igt},Bgt=Phaser.GameObjects.DOMElement,aB=Phaser.Utils.Objects.IsPlainObject,co=Phaser.Utils.Objects.GetValue;class tg extends Bgt{constructor(t,i,s,p,E,n){aB(i)?(n=i,i=co(n,"x",0),s=co(n,"y",0),p=co(n,"width",0),E=co(n,"height",0)):aB(p)&&(n=p,p=co(n,"width",0),E=co(n,"height",0));var T=document.createElement("input");T.type="file";var r=T.style;r.display="none";var o=document.createElement("label");o.appendChild(T);var x=co(n,"style",void 0);super(t,i,s,o,x),this.type="rexFileChooser",this.resetFromJSON(n),this.resize(p,E);var d=this;T.onchange=function(){d.emit("change",d)},this.setCloseDelay(co(n,"closeDelay",200)),T.onclick=function(){Vk({game:t,fileInput:T,closeDelay:d.closeDelay}).then(function(){d.emit("select",d)})}}resetFromJSON(t){return this.setAccept(co(t,"accept","")),this.setMultiple(co(t,"multiple",!1)),this}setAccept(t){return t===void 0&&(t=""),this.fileInput.setAttribute("accept",t),this}setMultiple(t){return t===void 0&&(t=!0),t?this.fileInput.setAttribute("multiple",""):this.fileInput.removeAttribute("multiple"),this}setCloseDelay(t){return t===void 0&&(t=200),this.closeDelay=t,this}get fileInput(){return this.node.children[0]}open(){return this.fileInput.click(),this}get files(){return this.fileInput.files}setOpenEnable(t){return t===void 0&&(t=!0),this.fileInput.disabled=!t,this}}var Ggt={resize:Kw,syncTo:Wk};Object.assign(tg.prototype,Ggt,Xk);It.register("fileChooser",function(e){var t=new tg(this.scene,e);return this.scene.add.existing(t),t});Lt(window,"RexPlugins.UI.FileChooser",tg);const kgt={setDropEnable(e){return e===void 0&&(e=!0),this.dropEnable=e,this},toggleDropEnable(){return this.dropEnable=!this.dropEnable,this}},Ngt={addFilter(e,t){return this.filters||(this.filters={}),this.filters[e]=t,this},addFilters(e){this.filters||(this.filters={});for(var t in e)this.filters[t]=e[t];return this}};var Hk={resize:Kw,syncTo:Wk};Object.assign(Hk,kgt,Ngt,Xk);const Ugt={dragenter:"dragenter",dragleave:"dragleave",dragover:"dragover",drop:"drop"},Vgt=Phaser.GameObjects.DOMElement,oB=Phaser.Utils.Objects.IsPlainObject,ul=Phaser.Utils.Objects.GetValue;class Zw extends Vgt{constructor(t,i,s,p,E,n){oB(i)?(n=i,i=ul(n,"x",0),s=ul(n,"y",0),p=ul(n,"width",0),E=ul(n,"height",0)):oB(p)&&(n=p,p=ul(n,"width",0),E=ul(n,"height",0)),n===void 0&&(n={});var T=document.createElement("div"),r=ul(n,"style",void 0);super(t,i,s,T,r),this.type="rexFileDropZone",this.resize(p,E),this._files=[],this.setDropEnable(ul(n,"dropEnable",!0));var o=ul(n,"filters");o&&this.addFilters(o),Nk(this,T,Ugt,{preventDefault:!0,preTest(x){return x.dropEnable}}),this.on("drop",function(x,d){this._files=d.dataTransfer.files;var h=this._files;if(h&&this.filters)for(var l in this.filters){for(var a=this.filters[l],f=[],c=0,u=h.length;c<u;c++){var v=h[c];a(v,h)&&f.push(v)}f.length>0&&this.emit(`drop.${l}`,f)}},this)}get files(){return this._files}}Object.assign(Zw.prototype,Hk);It.register("fileDropZone",function(e){var t=new Zw(this.scene,e);return this.scene.add.existing(t),t});Lt(window,"RexPlugins.UI.FileDropZone",Zw);var zgt=function(e){if(this.rexSizer.hidden)return 0;e===void 0&&(e=!0);var t=0,i=this.sizerChildren,s,p,E,n,T,r=!1;if(this.childrenProportion,this.orientation===0)for(var o=!0,x=0,d=i.length;x<d;x++)s=i[x],s.hasOwnProperty("rexSizer")&&(p=s.rexSizer,!p.hidden&&(E=p.proportion,E===0||e?(T=this.getChildWidth(s),p.fitRatio>0&&!p.resolved&&(T=void 0),T===void 0&&(E!==0&&!this.hasProportion0Child?T=0:r=!0)):T=0,!r&&(n=s.rexSizer.padding,T+=(n.left+n.right)*this.scaleX,o?o=!1:T+=this.space.item*this.scaleX,t+=T)));else for(var x=0,d=i.length;x<d;x++)s=i[x],s.hasOwnProperty("rexSizer")&&(p=s.rexSizer,!p.hidden&&(T=this.getChildWidth(s),T===void 0&&(r=!0),!r&&(n=p.padding,T+=(n.left+n.right)*this.scaleX,t=Math.max(T,t))));if(!r)return t+(this.space.left+this.space.right)*this.scaleX},Wgt=function(e){if(this.rexSizer.hidden)return 0;e===void 0&&(e=!0);var t=0,i=this.sizerChildren,s,p,E,n,T,r=!1;if(this.childrenProportion,this.orientation===0)for(var o=0,x=i.length;o<x;o++)s=i[o],s.hasOwnProperty("rexSizer")&&(p=s.rexSizer,!p.hidden&&(T=this.getChildHeight(s),T===void 0&&(r=!0),!r&&(n=p.padding,T+=(n.top+n.bottom)*this.scaleY,t=Math.max(T,t))));else for(var d=!0,o=0,x=i.length;o<x;o++)s=i[o],s.hasOwnProperty("rexSizer")&&(p=s.rexSizer,!p.hidden&&(E=p.proportion,E===0||e?(T=this.getChildHeight(s),p.fitRatio>0&&!p.resolved&&(T=void 0),T===void 0&&(E!==0&&!this.hasProportion0Child?T=0:r=!0)):T=0,!r&&(n=p.padding,T+=(n.top+n.bottom)*this.scaleY,d?d=!1:T+=this.space.item*this.scaleY,t+=T)));if(!r)return t+(this.space.top+this.space.bottom)*this.scaleY},Ygt=function(e,t){t===void 0&&(t=this.width*this.scaleX);var i,s=e.rexSizer;if(this.orientation===0)s.proportion>0&&this.proportionLength>0&&(i=s.proportion*this.proportionLength);else if(s.expand){var p=this.space,E=t-(p.left+p.right)*this.scaleX,n=s.padding;i=E-(n.left+n.right)*this.scaleX}return i},Xgt=function(e,t){t===void 0&&(t=this.height);var i,s=e.rexSizer;if(this.orientation===0){if(s.expand){var p=this.space,E=t-(p.top+p.bottom)*this.scaleY,n=s.padding;i=E-(n.top+n.bottom)*this.scaleY}}else s.proportion>0&&this.proportionLength>0&&(i=s.proportion*this.proportionLength);return i},Hgt=function(e){e===void 0&&(e=[]);for(var t=this.sizerChildren,i,s=0,p=t.length;s<p;s++)i=t[s],i.isRexSizer&&e.push(i);return e},$gt=function(){this.hasRatioFitChild=!1;for(var e,t,i=this.sizerChildren,s=0,p=i.length;s<p;s++)e=i[s],t=e.rexSizer,!t.hidden&&t.fitRatio>0&&(wn(e,0,0),t.resolved=!1,this.hasRatioFitChild=!0);return this._childrenProportion=void 0,this.hasProportion0Child=!1,this.proportionLength=void 0,jp.call(this),this};const Kgt=Phaser.Math.Wrap;var Zgt=function(){for(var e=this.sizerChildren,t,i,s,p=this.innerLeft,E=this.innerTop,n=this.innerWidth,T=this.innerHeight,r=p,o=E,x,d,h,l,a,f,c,u,v,g=this.startChildIndex,m=0,y=e.length;m<y;m++)g===0?v=m:v=Kgt(m+g,0,y),this.rtl&&(v=y-v-1),t=e[v],!t.rexSizer.hidden&&(i=t.rexSizer,s=i.padding,Qp.call(this,t),t.isRexSpace?(c=0,u=0):(c=this.getExpandedChildWidth(t),u=this.getExpandedChildHeight(t)),t.isRexSizer?(t.runLayout(this,c,u),Yw(t,this)):wn(t,c,u),c===void 0&&(c=mi(t)),u===void 0&&(u=yi(t)),this.orientation===0?(x=r+s.left*this.scaleX,i.proportion===0||this.proportionLength===0?h=c:h=i.proportion*this.proportionLength,d=o+s.top*this.scaleY,l=T-(s.top+s.bottom)*this.scaleY):(x=r+s.left*this.scaleX,h=n-(s.left+s.right)*this.scaleX,d=o+s.top*this.scaleY,i.proportion===0||this.proportionLength===0?l=u:l=i.proportion*this.proportionLength),c===void 0&&(c=mi(t)),u===void 0&&(u=yi(t)),a=(i.alignOffsetX+i.alignOffsetOriginX*c)*this.scaleX,f=(i.alignOffsetY+i.alignOffsetOriginY*u)*this.scaleY,qp.call(this,t,x,d,h,l,i.align,a,f),this.orientation===0?r+=h+(s.left+s.right)*this.scaleX+this.space.item*this.scaleX:o+=l+(s.top+s.bottom)*this.scaleY+this.space.item*this.scaleY)},Jgt=function(t){var t=bw.call(this,t);if(t!==void 0&&this.orientation===0&&this.proportionLength===void 0){var i=t-this.childrenWidth;i>0?(i=t-this.getChildrenWidth(!1),this.proportionLength=i/this.childrenProportion):this.proportionLength=0}return t},jgt=function(t){var t=Rw.call(this,t);if(t!==void 0&&this.orientation===1&&this.proportionLength===void 0){var i=t-this.childrenHeight;i>0?(i=t-this.getChildrenHeight(!1),this.proportionLength=i/this.childrenProportion):this.proportionLength=0}return t},Qgt=function(){return this.hasRatioFitChild&&this.orientation===1?!0:Mw.call(this)},$k=function(e,t){if(this.hasRatioFitChild){var i;this.orientation===0?i=t-(this.getInnerPadding("top")+this.getInnerPadding("bottom"))*this.scaleY:e-(this.getInnerPadding("left")+this.getInnerPadding("right"))*this.scaleX;for(var s,p,E,n,T=this.sizerChildren,r=0,o=T.length;r<o;r++){var s=T[r],p=s.rexSizer;if(!p.hidden){var x=p.fitRatio;x&&(this.orientation===0?(n=i-(this.getChildOuterPadding(s,"top")+this.getChildOuterPadding(s,"bottom"))*this.scaleY,E=n*x):(E=i-(this.getChildOuterPadding(s,"top")+this.getChildOuterPadding(s,"bottom"))*this.scaleX,n=E/x),wn(s,E,n),s.isRexSizer&&s.setMinSize(E,n),p.resolved=!0)}}}},qgt=function(e){this.wrapResult||(this.orientation===1&&$k.call(this,e,void 0),ww.call(this,e))},_gt=function(){return this.hasRatioFitChild&&this.orientation===0?!0:Aw.call(this)},tmt=function(e){this.wrapResult||(this.orientation===0&&$k.call(this,void 0,e),Ow.call(this,e))};const emt=Phaser.GameObjects.Zone;class Jw extends emt{constructor(t){super(t,0,0,1,1),this.isRexSpace=!0}}var imt=function(e,t){var i=this.sizerChildren;if(i.length===0)return-1;for(var s=-1,p=1/0,E=0,n=i.length;E<n;E++){var T=i[E],r;this.orientation===0?r=Math.abs(T.left-e):r=Math.abs(T.top-t),p>r&&(p=r,s=E)}var T=i[i.length-1],r;return this.orientation===0?r=Math.abs(T.right-e):r=Math.abs(T.bottom-t),p>r&&(p=r,s=E+1),s};const Kk=Phaser.Utils.Objects.IsPlainObject,Es=Phaser.Utils.Objects.GetValue,lB=Phaser.Display.Align.CENTER,rmt={min:0,full:-1};var YP=function(e,t,i,s,p,E,n,T,r,o){var x,d,h,l;Zp.call(this,e);var a=e.isRexSpace,f=typeof t;if(t===null)return this;if(f!=="number"){if(f==="string")t=rmt[t];else if(Kk(t)){var c=t;t=Es(c,"proportion",void 0),i=Es(c,"align",lB),s=Es(c,"padding",0),p=Es(c,"expand",!1),E=Es(c,"key",void 0),n=Es(c,"index",void 0),e.isRexSizer||(T=Es(c,"minWidth",void 0),r=Es(c,"minHeight",void 0)),o=Es(c,"fitRatio",0),x=Es(c,"offsetX",0),d=Es(c,"offsetY",0),h=Es(c,"offsetOriginX",0),l=Es(c,"offsetOriginY",0)}}typeof i=="string"&&(i=nc[i]),t===void 0&&(t=a?1:0),i===void 0&&(i=lB),s===void 0&&(s=0),p===void 0&&(p=!1),T===void 0&&(a?T=0:e.isRexSizer||(T=e._minWidth)),r===void 0&&(a?r=0:e.isRexSizer||(r=e._minHeight)),o===void 0||o===!1?o=0:o===!0&&(o=mi(e)/yi(e)),x===void 0&&(x=0),d===void 0&&(d=0),h===void 0&&(h=0),l===void 0&&(l=0);var c=this.getSizerConfig(e);return c.proportion=t,c.align=i,c.padding=qu(s),c.expand=p,c.fitRatio=t===0?o:0,c.alignOffsetX=x,c.alignOffsetY=d,c.alignOffsetOriginX=h,c.alignOffsetOriginY=l,n===void 0||n>=this.sizerChildren.length?this.sizerChildren.push(e):this.sizerChildren.splice(n,0,e),e.isRexSizer||(t>0&&(this.orientation===0?e.minWidth=T===void 0?mi(e):T:e.minHeight=r===void 0?yi(e):r),p&&(this.orientation===0?e.minHeight=r:e.minWidth=T)),E!==void 0&&this.addChildrenMap(E,e),this};const nmt={add:YP,addSpace(e){return this.insertSpace(void 0,e),this},insertSpace(e,t){return t===void 0&&(t=1),YP.call(this,new Jw(this.scene),{proportion:t,minWidth:0,minHeight:0,index:e}),this},insert(e,t,i,s,p,E,n,T){return Kk(i)&&(i.index=e),YP.call(this,t,i,s,p,E,n,e,T),this},insertAtPosition(e,t,i,s,p,E,n,T,r){var o=imt.call(this,e,t);return o===-1&&(o=void 0),this.insert(o,i,s,p,E,n,T,r),this}},smt=Phaser.Utils.Array.Remove,amt={remove(e,t){return this.getParentSizer(e)!==this?this:(smt(this.sizerChildren,e),Jp.call(this,e,t),this)},removeAll(e){for(var t=this.sizerChildren.length-1;t>=0;t--)this.remove(this.sizerChildren[t],e);return this},clear(e){return this.sizerChildren.length=0,eT.call(this,e),this}},omt={getChildAlign(e){return this.getSizerConfig(e).align},setChildAlign(e,t){return typeof t=="string"&&(t=nc[t]),this.getSizerConfig(e).align=t,this}},lmt={getChildProportion(e){return this.getSizerConfig(e).proportion},setChildProportion(e,t){return this.getSizerConfig(e).proportion=t,this}},hmt={getChildExpand(e){return this.getSizerConfig(e).expand},setChildExpand(e,t){return this.getSizerConfig(e).expand=t,this}};var umt=function(e){e===void 0&&(e="left");var t=this.sizerChildren,i=t[0],s=i&&i.isRexSpace;e==="right"||e==="bottom"||e==="center"?s||this.insertSpace(0):s&&this.remove(i,!0);var p=t.length-1,E=t[p],n=E&&E.isRexSpace;return e==="center"?n||this.insertSpace(p+1):n&&this.remove(E,!0),this};const jw={sortChildren(e){return this.sizerChildren.sort(e),this},sortChildrenByData(e,t){return this.sizerChildren.sort(function(i,s){var p=i.getData(e),E=s.getData(e);return t?E-p:p-E}),this},sortChildrenByProperty(e,t){return this.sizerChildren.sort(function(i,s){var p=i[e],E=s[e];return t?E-p:p-E}),this}};var Zk={getChildrenWidth:zgt,getChildrenHeight:Wgt,getExpandedChildWidth:Ygt,getExpandedChildHeight:Xgt,getChildrenSizers:Hgt,preLayout:$gt,layoutChildren:Zgt,resolveWidth:Jgt,resolveHeight:jgt,hasWidthWrap:Qgt,runWidthWrap:qgt,hasHeightWrap:_gt,runHeightWrap:tmt,setChildrenAlignMode:umt};Object.assign(Zk,nmt,amt,omt,lmt,hmt,jw);var fmt=function(){for(var e=0,t=this.sizerChildren,i,s,p=0,E=t.length;p<E;p++)i=t[p],!i.rexSizer.hidden&&(s=i.rexSizer.proportion,s>0?e+=s:s===0&&(this.hasProportion0Child=!0));return e};const XP=Phaser.Utils.Objects.IsPlainObject,Js=Phaser.Utils.Objects.GetValue;class qe extends _u{constructor(t,i,s,p,E,n,T){XP(i)?(T=i,i=Js(T,"x",0),s=Js(T,"y",0),p=Js(T,"width",void 0),E=Js(T,"height",void 0),n=Js(T,"orientation",0)):XP(p)?(T=p,p=Js(T,"width",void 0),E=Js(T,"height",void 0),n=Js(T,"orientation",0)):XP(n)&&(T=n,n=Js(T,"orientation",0)),n===void 0&&(n=0),super(t,i,s,p,E,T),this.type="rexSizer",this.sizerChildren=[],this.setOrientation(n),this.setItemSpacing(Js(T,"space.item",0)),this.setStartChildIndex(Js(T,"startChildIndex",0)),this.setRTL(Js(T,"rtl",!1)),this.addChildrenMap("items",this.sizerChildren)}setOrientation(t){return this.orientation=Qu(t),this}setItemSpacing(t){return this.space.item=t,this}setStartChildIndex(t){return this.startChildIndex=t,this}setRTL(t){return t===void 0&&(t=!0),this.rtl=t,this}get childrenProportion(){return this._childrenProportion===void 0&&(this._childrenProportion=fmt.call(this)),this._childrenProportion}}Object.assign(qe.prototype,Zk);var py=function(e,t,i){if(e){var s=t==null,p=i==null;return s&&p||(s||(e.displayWidth=t),p||(e.displayHeight=i),s&&(e.scaleX=e.scaleY),p&&(e.scaleY=e.scaleX)),e}},dmt=function(e){e===void 0?e={}:typeof e=="string"&&(e={text:e});var t=e.text||"";this.setText(t);var i=this.childrenMap.icon;if(i){e.icon?this.show(i):this.hide(i);var s=e.iconSize;s&&(this.setChildDisplaySize(i,s,s),this.iconWidth!==void 0&&this.setIconSize(s)),e.icon!==!0&&this.setIconTexture(e.icon,e.iconFrame)}var p=this.childrenMap.action;if(p){e.action?this.show(p):this.hide(p);var E=e.actionSize;E&&(this.setChildDisplaySize(p,E,E),this.actionWidth!==void 0&&this.setActionSize(E)),e.action!==!0&&this.setActionTexture(e.action,e.actionFrame)}return this},cmt={appendText:U9,resetDisplayContent:dmt};class Qw extends qe{get text(){var t=this.childrenMap.text;return t?t.text:""}set text(t){var i=this.childrenMap.text;i&&i.setText(t)}setText(t){return this.text=t,this}setIconTexture(t,i){var s=this.childrenMap.icon;return!s||!s.setTexture?this:(s.setTexture(t,i),this.iconWidth!==void 0&&this.iconHeight!==void 0&&(py(s,this.iconWidth,this.iconHeight),this.resetChildScaleState(s)),this)}setTexture(t,i){return this.setIconTexture(t,i),this}setIconSize(t,i){return i===void 0&&(i=t),this.iconWidth=t,this.iconHeight=i,this}get texture(){var t=this.childrenMap.icon;if(t)return t.texture}get frame(){var t=this.childrenMap.icon;if(t)return t.frame}setActionTexture(t,i){var s=this.childrenMap.action;return!s||!s.setTexture?this:(s.setTexture(t,i),this.actionWidth!==void 0&&this.actionHeight!==void 0&&(py(s,this.actionWidth,this.actionHeight),this.resetChildScaleState(s)),this)}get actionTexture(){var t=this.childrenMap.action;if(t)return t.texture}get actionFrame(){var t=this.childrenMap.action;if(t)return t.frame}setActionSize(t,i){return i===void 0&&(i=t),this.actionWidth=t,this.actionHeight=i,this}preLayout(){var t=this.childrenMap.icon;t&&this.iconWidth!==void 0&&this.iconHeight!==void 0&&py(t,this.iconWidth,this.iconHeight);var i=this.childrenMap.action;i&&this.actionWidth!==void 0&&this.actionHeight!==void 0&&py(i,this.actionWidth,this.actionHeight),super.preLayout()}postLayout(t,i,s){var p=this.childrenMap.iconMask;p&&(p.setPosition(),this.resetChildPositionState(p));var E=this.childrenMap.actionMask;return E&&(E.setPosition(),this.resetChildPositionState(E)),super.postLayout(t,i,s),this}resize(t,i){super.resize(t,i);var s=this.childrenMap.iconMask;s&&s.resize();var p=this.childrenMap.actionMask;return p&&p.resize(),this}}Object.assign(Qw.prototype,cmt);var za=function(e,t,i,s){var p=new ux(t,i,s);if(e&&!e.isRexSizer){var E=p.createGeometryMask();e.setMask(E),this.once("destroy",function(){e.setMask(),E.destroy()})}return this.pin(p),p};const vmt=Phaser.GameObjects.Text;var qw=function(e){return e instanceof vmt};const pmt=Phaser.GameObjects.BitmapText;var Jk=function(e){return e instanceof pmt};const Rn=0,An=1,As=2;var Lh=function(e){var t;return Jk(e)?t=As:qw(e)?t=Rn:t=An,t},gmt=function(e,t){for(var i=[],s=e.split(`
`),p=t.style,E=p.wordWrapWidth,n=p.hasOwnProperty("wrapMode")?p.wrapMode:3,T=t.context,r=0,o=s.length;r<o;r++)ymt(T,s[r],E,n,i);return i},mmt=function(e,t){var i;if(t===2)i=e.split("");else{i=[];for(var s=e.split(" "),p,E=0,n=s.length;E<n;E++)p=s[E],E<n-1?Pp(p)?i.push(p+" "):(i.push(...p.split("")),i.push(" ")):p!==""&&(Pp(p)?i.push(p):i.push(...p.split("")))}return i},ymt=function(e,t,i,s,p){if(t.length<=100){var E=e.measureText(t).width;if(E<=i)return p.push(t),p}for(var n=mmt(t,s),T,r,o=[],x=i,d=0,h=n.length;d<h;d++)T=n[d],r=e.measureText(T).width,x-=r,x<0&&(p.push(o.join("")),o.length=0,x=i-r),o.push(T);return o.length>0&&p.push(o.join("")),p},rM=function(e,t){var i=Lh(e);switch(i){case Rn:switch(typeof t=="string"&&(t=ex[t]||0),e.style.wrapMode=t,t){case 2:case 3:e.style.wordWrapCallback=gmt;break;case 1:default:e.style.wordWrapCallback=null;break}break;case An:typeof t=="string"&&(t=ex[t]||0),e.style.wrapMode=t;break}},xmt=function(e){var t=function(i){var s=e.padding,p=i-(s.left+s.right)*e.scaleX,E=e.style;return qw(e)?(E.wordWrapWidth=p,E.maxLines=0):(E.wrapMode===0&&(E.wrapMode=1),E.wrapWidth=p,E.maxLines=0),E.fixedWidth=i,E.fixedHeight=0,e.updateText(),e.minHeight=e.height,e};return t},Tmt=function(e){var t=function(i){return e.setFixedSize(i,0).runWordWrap(),e.minHeight=e.height,e};return t},Cmt=function(e){var t=function(i){return e.setMaxWidth(i),e.minHeight=e.height,e};return t},Smt=function(e){return e instanceof _d},fx=function(e,t){return t===void 0&&(t=0),e._minWidth=t,e.runWidthWrap=Smt(e)?Tmt(e):Jk(e)?Cmt(e):xmt(e),e};const HP=65535;var dx=function(e,t,i){if(t==null)return e;if(t===0)return $P(e,0,i),e;var s=e.text.length;if(s===0)return $P(e,t,i),e;var p=Math.floor(t*1.5/s);i!==void 0&&p>i&&(p=Math.floor(i));for(var E={},n=uB(e,p,t,i,E),T=0;T<=HP&&n!==0;T++){if(p+=n,p<0){p=0;break}n=uB(e,p,t,i,E)}return T===HP&&console.warn(`FontSizeFit: Test count exceeds ${HP}`),e.setFontSize(p),$P(e,t,i),e},hB=function(e,t,i){return i[t]===void 0&&(e.setFontSize(t),i[t]={width:e.width,height:e.height}),i[t]},uB=function(e,t,i,s,p){var E=hB(e,t,p),n=hB(e,t+1,p),T;if(s!==void 0)if(E.height<=s&&n.height>s)T=0;else{if(E.height>s)return-1;T=Math.floor(s-E.height)}var r;if(E.width<=i&&n.width>i)return 0;if(E.width>i)return-1;var r=Math.floor(i-E.width);return T===void 0?r:Math.min(r,T)},$P=function(e,t,i){var s=e.style;s&&(s.fixedWidth=t,s.parent.width=t,i!==void 0&&(s.fixedHeight=i,s.parent.height=i),s.update(!1))};const KP=Phaser.Utils.Objects.GetValue;var cx=function(e,t){typeof t=="number"&&(t={minWidth:t});var i=KP(t,"minWidth",0),s=KP(t,"minHeight",0),p=KP(t,"fitHeight",!1);return e._minWidth=i,e._minHeight=s,p?(e.runWidthWrap=function(E){return e.setFixedSize&&e.setFixedSize(0,0),e.setFontSize(1),e},e.resize=function(E,n){return dx(e,E,n),e}):(e.runWidthWrap=function(E){return e.setFixedSize&&e.setFixedSize(0,0),dx(e,E,void 0),e},e.resize=function(E,n){return e.width===E&&e.height===n||e.setFixedSize(E,n),e}),e};const di=Phaser.Utils.Objects.GetValue;class El extends Qw{constructor(t,i){i===void 0&&(i={}),super(t,i),this.type="rexLabel";var s=di(i,"background",void 0),p=di(i,"icon",void 0),E=di(i,"iconMask",void 0),n=di(i,"text",void 0),T=di(i,"action",void 0),r=di(i,"actionMask",void 0),o=di(i,"align",void 0);if(s&&this.addBackground(s),p){var x;this.orientation===0?(n||T)&&(x={right:di(i,"space.icon",0),top:di(i,"space.iconTop",0),bottom:di(i,"space.iconBottom",0),left:di(i,"space.iconLeft",0)}):(n||T)&&(x={bottom:di(i,"space.icon",0),left:di(i,"space.iconLeft",0),right:di(i,"space.iconRight",0),top:di(i,"space.iconTop",0)});var d=di(i,"squareFitIcon",!1)?1:0;if(this.add(p,{proportion:0,padding:x,fitRatio:d}),E&&(E=za.call(this,p,p,1)),!d){var h=di(i,"iconSize",void 0);this.setIconSize(di(i,"iconWidth",h),di(i,"iconHeight",h))}}if(n){var l=di(i,"wrapText",!1),a=di(i,"adjustTextFontSize",!1);l?(l===!0&&(l="word"),rM(n,l),i.expandTextWidth=!0,fx(n)):a&&(i.expandTextWidth=!0,i.expandTextHeight=!0,cx(n,{fitHeight:!0}));var f=di(i,"space.text",0),c=di(i,"expandTextWidth",!1),u=di(i,"expandTextHeight",!1),v,x,g;this.orientation===0?(v=c?1:0,T&&(x={right:f}),g=u):(v=u?1:0,T&&(x={bottom:f}),g=c),this.add(n,{proportion:v,expand:g,padding:x})}if(T){var x;this.orientation===0?x={top:di(i,"space.actionTop",0),bottom:di(i,"space.actionBottom",0),right:di(i,"space.actionRight",0)}:x={left:di(i,"space.actionLeft",0),right:di(i,"space.actionRight",0),bottom:di(i,"space.actionBottom",0)};var d=di(i,"squareFitAction",!1)?1:0;if(this.add(T,{proportion:0,padding:x,fitRatio:d}),r&&(r=za.call(this,T,T,1)),!d){var m=di(i,"actionSize");this.setActionSize(di(i,"actionWidth",m),di(i,"actionHeight",m))}}this.setChildrenAlignMode(o),this.addChildrenMap("background",s),this.addChildrenMap("icon",p),this.addChildrenMap("iconMask",E),this.addChildrenMap("text",n),this.addChildrenMap("action",T),this.addChildrenMap("actionMask",r)}}const ph=Phaser.Utils.Objects.GetValue;var Emt=function(e,t){var i=ph(t,"canvas"),s=ph(i,"width",128),p=ph(i,"height",128),E=new ju(e,0,0,s,p);e.add.existing(E);var n=ph(i,"key"),T=ph(i,"frame"),r=ph(i,"fill");return r!==void 0?E.fill(r):n!==void 0&&E.loadTexture(n,T),E.setTexture=E.loadTexture.bind(E),E},Pmt=function(e,t){var i=new sT(e,{scaleUp:ph(t,"scaleUpIcon",!1),background:ph(t,"iconBackground"),image:Emt(e,t)});return e.add.existing(i),i};const bmt=Phaser.Utils.Objects.GetValue;var jk=function(e,t){var i=bmt(t,"clickTarget",this);return typeof i=="string"&&(i=e.getElement(i)),i};const Mmt=Phaser.Utils.Objects.GetValue;var wmt=function(e,t){var i=jk(e,t);if(i){var s=Mmt(t,"click"),p=new Tl(i,s);return p.on("click",e.open,e),p}};const Qk={accept:"image/*",multiple:!1};var qk=function(e,t){if(t.length!==0){var i=e.childrenMap.icon,s=i.image,p=t[0];return s.loadFromFilePromise(p).then(function(){return i.scaleImage(),e.emit("select",p,e),Promise.resolve(p)})}},Rmt=function(e,t){var i=e.scene,s=new tg(i,Qk);return i.add.existing(s),e.pin(s),s.on("change",function(){qk(e,s.files)}),s};const Amt={async openPromise(){var e=this;return zk(this.scene.game,Qk).then(function(t){return qk(e,t.files)})},open(){return this.openPromise(),this},setClickOpenEnable(e){return e===void 0&&(e=!0),this.clickBehavior&&this.clickBehavior.setEnable(e),this.fileChooser&&this.fileChooser.setOpenEnable(e),this}};var Omt=function(e){if(!e)return null;var t=e.name;return t.substr(0,t.lastIndexOf("."))},Lmt=function(e){var t=this.childrenMap.canvas;return t.generateTexture(e),this},_k={getFileName:Omt,saveTexture:Lmt};Object.assign(_k,Amt);const Dmt=Phaser.Utils.Objects.GetValue;class _w extends El{constructor(t,i){var s=Pmt(t,i);i.icon=s,super(t,i),this.type="rexImageFileInputLabel";var p=this.iconWidth,E=this.iconWidth;p!==void 0&&E!==void 0&&s.resize(p,E),this.clickTarget=jk(this,i),this.clickTarget&&(Dmt(i,"domButton",!0)?this.fileChooser=Rmt(this):this.clickBehavior=wmt(this,i)),this.addChildrenMap("canvas",s.image),this.addChildrenMap("iconBackground",s.background),this.addChildrenMap("fileChooser",this.fileChooser)}postLayout(t,i,s){this.fileChooser&&(this.fileChooser.syncTo(this.clickTarget),this.resetChildState(this.fileChooser)),super.postLayout(t,i,s)}}Object.assign(_w.prototype,_k);It.register("imageInputLabel",function(e){var t=new _w(this.scene,e);return this.scene.add.existing(t),t});Lt(window,"RexPlugins.UI.ImageInputLabel",_w);let Fmt=class extends ji{constructor(t,i){return super(t),new Proxy(this,this)}get(t,i){if(gi(t,i))return t[i];var s=t.parent;if(gi(s,i))return s[i]}set(t,i,s){return gi(t,i)?t[i]=s:gi(t.parent,i)&&(t.parent[i]=s),!0}get key(){return this.parent.texture.key}set key(t){this.parent.setTexture(t,this.frame)}get frame(){return this.parent.frame.name}set frame(t){this.parent.setFrame(t)}get scale(){return this.parent.scaleX}set scale(t){this.parent.setScale(t)}};const ZP=Phaser.Utils.Objects.GetValue;class Imt extends ji{constructor(t,i){super(t,i),this.style=ZP(i,"style",this);var s=ZP(i,"propertiesMap");this.activeStyle=JP(i,"active",s),this.hoverStyle=JP(i,"hover",s),this.disableStyle=JP(i,"disable",s),this.onModifyStyle=ZP(i,"onModifyStyle")}getStyle(t){return Ux(this.style,t)}modifyStyle(t){for(var i in t)this.style[i]=t[i];return this.onModifyStyle&&this.onModifyStyle(this.parent,t),this}applyStyle(t){if(t){var i=this.getStyle(t);if(!Wp(i,t))return this.modifyStyle(t),i}}setActiveState(t){return jP.call(this,"active",t),this}setHoverState(t){return jP.call(this,"hover",t),this}setDisableState(t){return jP.call(this,"disable",t),this}}var JP=function(e,t,i){var s=$y(e,t);if(i)for(var p in s)i.hasOwnProperty(p)&&(s[i[p]]=s[p],delete s[p]);return s},jP=function(e,t){t===void 0&&(t=!0);var i=`${e}State`,s=`${e}Style`,p=`${e}StyleSave`;this[i]!==t&&(this[i]=t,t?this[p]=this.applyStyle(this[s]):(this.applyStyle(this[p]),this[p]=void 0))};const tf={addStyleManager(e){return this.styleManager=new Imt(this,e),this},setActiveState(e){return this.styleManager.setActiveState(e),this},setHoverState(e){return this.styleManager.setHoverState(e),this},setDisableState(e){return this.styleManager.setDisableState(e),this}},Bmt=Phaser.GameObjects.Image,op=Phaser.Utils.Objects.GetValue;class eg extends Bmt{constructor(t,i){i===void 0&&(i={});var s=op(i,"x",0),p=op(i,"y",0),E=op(i,"key",""),n=op(i,"frame",void 0);super(t,s,p,E,n),this.type="rexStatesImage";var T=op(i,"effects",!0);T&&tc(this,T),this.style=new Fmt(this,i),i.style=this.style,this.addStyleManager(i),delete i.style}}Object.assign(eg.prototype,tf);It.register("statesImage",function(e){var t=new eg(this.scene,e);return this.scene.add.existing(t),t});Lt(window,"RexPlugins.UI.StatesImage",eg);class ig extends Ku{constructor(t,i){i===void 0&&(i={}),super(t,i),this.type="rexStatesRoundRectangleShape",i.style=this,i.propertiesMap=Gmt,this.addStyleManager(i),delete i.style,delete i.propertiesMap}}const Gmt={color:"fillColor",alpha:"fillAlpha",strokeWidth:"lineWidth"};Object.assign(ig.prototype,tf);It.register("statesRoundRectangle",function(e){var t=new ig(this.scene,e);return this.scene.add.existing(t),t});Lt(window,"RexPlugins.UI.StatesRoundRectangle",ig);let kmt=class extends ji{constructor(t,i){return super(t),new Proxy(this,this)}get(t,i){if(gi(t,i))return t[i];var s=t.parent;if(gi(s,i))return s[i]}set(t,i,s){return gi(t,i)?t[i]=s:gi(t.parent,i)&&(t.parent[i]=s),!0}get key(){return this.parent.texture.key}set key(t){this.key!==t&&this.parent.setTexture(t,this.frame)}get frame(){return this.parent.frame.name}set frame(t){this.frame!==t&&this.parent.setFrame(t)}};const Nmt=Phaser.GameObjects.NineSlice,Oa=Phaser.Utils.Objects.GetValue;class rg extends Nmt{constructor(t,i){i===void 0&&(i={});var s=Oa(i,"x",0),p=Oa(i,"y",0),E=Oa(i,"key",null),n=Oa(i,"frame",null),T=Oa(i,"width",0),r=Oa(i,"height",0),o=Oa(i,"leftWidth",0),x=Oa(i,"rightWidth",0),d=Oa(i,"topHeight",0),h=Oa(i,"bottomHeight",0);super(t,s,p,E,n,T,r,o,x,d,h),this.type="rexStatesNineSlice";var l=Oa(i,"effects",!0);l&&tc(this,l),this.style=new kmt(this,i),i.style=this.style,this.addStyleManager(i),delete i.style}}Object.assign(rg.prototype,tf);It.register("statesNineSlice",function(e){var t=new rg(this.scene,e);return this.scene.add.existing(t),t});Lt(window,"RexPlugins.UI.StatesNineSlice",rg);let Umt=class extends ji{constructor(t,i){return super(t),new Proxy(this,this)}get(t,i){if(gi(t,i))return t[i];var s=t.parent;if(gi(s,i))return s[i]}set(t,i,s){return gi(t,i)?t[i]=s:gi(t.parent,i)&&(t.parent[i]=s),!0}get key(){return this.parent.textureKey}set key(t){this.key!==t&&this.parent.setBaseTexture(t,this.baseFrameName)}get frame(){return this.parent.baseFrameName}set frame(t){this.frame!==t&&this.parent.setBaseTexture(this.parent.textureKey,t)}};const Vmt=Phaser.Utils.Objects.GetValue;class ng extends Ax{constructor(t,i){i===void 0&&(i={}),super(t,i),this.type="rexStatesNinePatch";var s=Vmt(i,"effects",!0);s&&tc(this,s),this.style=new Umt(this,i),i.style=this.style,this.addStyleManager(i),delete i.style}}Object.assign(ng.prototype,tf);It.register("statesNinePatch",function(e){var t=new ng(this.scene,e);return this.scene.add.existing(t),t});Lt(window,"RexPlugins.UI.StatesNinePatch",ng);const zmt=Phaser.GameObjects.Text,QP=Phaser.Utils.Objects.GetValue;class oT extends zmt{constructor(t,i){i===void 0&&(i={});var s=QP(i,"x",0),p=QP(i,"y",0),E=QP(i,"text","");super(t,s,p,E,i),this.type="rexStatesText",i.style=this.style,i.onModifyStyle=function(n,T){var r=T.hasOwnProperty("fontStyle")||T.hasOwnProperty("fontSize")||T.hasOwnProperty("fontFamily");n.style.update(r)},this.addStyleManager(i),delete i.style}}Object.assign(oT.prototype,tf);It.register("statesText",function(e){var t=new oT(this.scene,e);return this.scene.add.existing(t),t});Lt(window,"RexPlugins.UI.StatesText",oT);class Wmt extends ji{constructor(t,i){return super(t),new Proxy(this,this)}get(t,i){if(gi(t,i))return t[i];var s=t.parent;if(gi(s,i))return s[i]}set(t,i,s){return gi(t,i)?t[i]=s:gi(t.parent,i)&&(t.parent[i]=s),!0}get key(){return this.parent.texture.key}set key(t){this.parent.setTexture(t,this.frame)}get fontSize(){return this.parent.fontSize}set fontSize(t){this.parent.setFontSize(t)}get tint(){return this.parent.tintTopLeft}set tint(t){this.parent.setTint(t)}get letterSpacing(){return this.parent.letterSpacing}set letterSpacing(t){this.parent.setLetterSpacing(t)}get lineSpacing(){return this.parent.lineSpacing}set lineSpacing(t){this.parent.setLineSpacing(t)}}const Ymt=Phaser.GameObjects.BitmapText,Mu=Phaser.Utils.Objects.GetValue;class lT extends Ymt{constructor(t,i){i===void 0&&(i={});var s=Mu(i,"x",0),p=Mu(i,"y",0),E=Mu(i,"font",""),n=Mu(i,"fontSize",!1),T=Mu(i,"align",0),r=Mu(i,"tint");super(t,s,p,E,"",n,T),this.type="rexStatesBitmapText",r!==void 0&&this.setTint(r);var o=Mu(i,"effects",!0);o&&tc(this,o),this.style=new Wmt(this,i),i.style=this.style,this.addStyleManager(i),delete i.style}}Object.assign(lT.prototype,tf);It.register("statesBitmapText",function(e){var t=new lT(this.scene,e);return this.scene.add.existing(t),t});Lt(window,"RexPlugins.UI.StatesBitmapText",lT);class hT extends Wx{constructor(t,i){i===void 0&&(i={}),i.hasOwnProperty("value")||(i.value=0),i.hasOwnProperty("hover.bar")||(i["hover.bar"]=!0),i.hasOwnProperty("easeDuration")||(i.easeDuration=200),i.hasOwnProperty("ease")||(i.ease="Quad"),Lt(i,"easeValue.duration",i.easeDuration),Lt(i,"easeValue.ease",i.ease),super(t,i),this.type="rexStatesBarRectangleShape",this.barState=!1,i.style=this,i.propertiesMap=Xmt,this.addStyleManager(i),delete i.style,delete i.propertiesMap}get bar(){return this.barState}set bar(t){t=!!t,this.barState!==t&&(this.barState=t,this.easeValueTo(this.barState?1:0))}}const Xmt={color:"trackColor",strokeColor:"trackStrokeColor",strokeWidth:"trackStrokeThickness"};Object.assign(hT.prototype,tf);It.register("statesBarRectangle",function(e){var t=new hT(this.scene,e);return this.scene.add.existing(t),t});Lt(window,"RexPlugins.UI.StatesBarRectangle",hT);var Hmt=function(e){if(!window.Chart){var t=`Can not find chartjs! Load chartjs in preload stage.
scene.load.script('chartjs', 'https://cdnjs.cloudflare.com/ajax/libs/Chart.js/3.8.0/Chart.min.js');`;return console.error(t),this}return this.chart&&this.chart.destroy(),this.chart=new Chart(this.context,$mt(this,e)),this},$mt=function(e,t){t===void 0&&(t={}),t.options===void 0&&(t.options={});var i=t.options;i.responsive=!1,i.maintainAspectRatio=!1,i.hasOwnProperty("devicePixelRatio")||(i.devicePixelRatio=1);var s=!1;i.animation===void 0?i.animation={}:i.animation===!1&&(s=!0,i.animation={});var p=i.animation;s&&(p.duration=0);var E=p.onProgress;p.onProgress=function(T){E&&E(T),e.needRedraw()};var n=p.onComplete;return p.onComplete=function(T){n&&n(T),e.needRedraw()},t},Kmt=function(e){if(this.chart!==void 0)if(typeof e=="string"){for(var t=this.chart.data.datasets,i,s=0,p=t.length;s<p;s++)if(i=t[s],i.label===e)return i}else return this.chart.data.datasets[e]},Zmt=function(e,t){var i=this.getChartDataset(e);if(i!==void 0){if(typeof t=="string"){var s=this.chart.data.labels;if(t=s.indexOf(t),t===-1)return}return i.data[t]}},Jmt=function(e,t,i){if(this.chart===void 0)return this;var s=this.getChartDataset(e);if(typeof t=="string"){var p=this.chart.data.labels;if(t=p.indexOf(t),t===-1)return this}return s.data[t]=i,this},jmt=function(){return this.chart===void 0?this:(this.chart.update(),this)};let tR=class extends ju{constructor(t,i,s,p,E,n){super(t,i,s,p,E),this.type="rexChart",this.chart=void 0,n!==void 0&&this.setChart(n)}destroy(t){this.scene&&(this.chart&&(this.chart.destroy(),this.chart=void 0),super.destroy(t))}resize(t,i){if(t===this.width&&i===this.height)return this;if(super.resize(t,i),this.chart){var s=this.chart;s.height=this.canvas.height,s.width=this.canvas.width,s.aspectRatio=s.height?s.width/s.height:null,s.update()}return this}};var Qmt={setChart:Hmt,getChartDataset:Kmt,getChartData:Zmt,setChartData:Jmt,updateChart:jmt};Object.assign(tR.prototype,Qmt);It.register("chart",function(e,t,i,s,p){var E=new tR(this.scene,e,t,i,s,p);return this.scene.add.existing(E),E});Lt(window,"RexPlugins.UI.Chart",tR);It.register("container",function(e,t,i,s,p){var E=new Is(this.scene,e,t,i,s,p);return this.scene.add.existing(E),E});Lt(window,"RexPlugins.UI.Container",Is);It.register("sizer",function(e,t,i,s,p,E){var n=new qe(this.scene,e,t,i,s,p,E);return this.scene.add.existing(n),n});Lt(window,"RexPlugins.UI.Sizer",qe);var t8=function(){return Array.prototype.reduce.call(arguments,qmt,0)},qmt=function(e,t){return e+t},_mt=function(e){if(this.rexSizer.hidden)return 0;e===void 0&&(e=!0);var t=0,i,s=this.sizerChildren,p,E,n,T,r=!1;this.totalColumnProportions;for(var o=0;o<this.columnCount;o++){if(T=this.columnProportions[o],i=0,T===0||e){for(var x=0;x<this.rowCount;x++)p=s[x*this.columnCount+o],p&&(p.rexSizer.hidden||(n=this.getChildWidth(p),n===void 0&&(T!==0&&!this.hasColumnProportion0Child?n=0:r=!0),!r&&(E=p.rexSizer.padding,n+=(E.left+E.right)*this.scaleX,i=Math.max(i,n))));r||(t+=i)}r||e&&(this.columnWidth[o]=i)}if(!r){var d=Math.max(this.space.indentLeftOdd,this.space.indentLeftEven),h=t8(this.space.left,d,...this.space.column,this.space.right);return t+h*this.scaleX}},t0t=function(e){if(this.rexSizer.hidden)return 0;e===void 0&&(e=!0);var t=0,i,s=this.sizerChildren,p,E,n,T,r=!1;this.totalRowProportions;for(var o=0;o<this.rowCount;o++){if(T=this.rowProportions[o],i=0,T===0||e){for(var x=0;x<this.columnCount;x++)p=s[o*this.columnCount+x],p&&(p.rexSizer.hidden||(n=this.getChildHeight(p),n===void 0&&(T!==0&&!this.hasRowProportion0Child?n=0:r=!0),!r&&(E=p.rexSizer.padding,n+=(E.top+E.bottom)*this.scaleY,i=Math.max(i,n))));r||(t+=i)}r||e&&(this.rowHeight[o]=i)}if(!r){var d=Math.max(this.space.indentTopOdd,this.space.indentTopEven),h=t8(this.space.top,d,...this.space.row,this.space.bottom);return t+h*this.scaleY}},e0t=function(e,t){var i,s=e.rexSizer;if(s.expandWidth){var p=s.padding;i=t-(p.left+p.right)*this.scaleX}return i},i0t=function(e,t){var i,s=e.rexSizer;if(s.expandHeight){var p=s.padding;i=t-(p.top+p.bottom)*this.scaleY}return i},r0t=function(e){e===void 0&&(e=[]);for(var t=this.sizerChildren,i,s=0,p=t.length;s<p;s++)i=t[s],i&&i.isRexSizer&&e.push(i);return e},n0t=function(){return this._totalColumnProportions=void 0,this._totalRowProportions=void 0,this.hasColumnProportion0Child=!1,this.hasRowProportion0Child=!1,this.proportionWidthLength=void 0,this.proportionHeightLength=void 0,jp.call(this),this},s0t=function(){for(var e,t,i,s=this.innerLeft,p=this.innerTop,E,n=p,T,r,o,x,d,h,l,a,f,c,u,v,g=0;g<this.rowCount;g++){c=this.getRowHeight(g),u=g%2?this.space.indentLeftEven:this.space.indentLeftOdd,E=s+u*this.scaleX;for(var m=0;m<this.columnCount;m++){if(f=this.getColumnWidth(m),e=this.getChildAt(m,g),!e||e.rexSizer.hidden){E+=f+this.space.column[m]*this.scaleX;continue}Qp.call(this,e),l=this.getExpandedChildWidth(e,f),a=this.getExpandedChildHeight(e,c),e.isRexSizer?(e.runLayout(this,l,a),Yw(e,this)):wn(e,l,a),t=e.rexSizer,i=t.padding,T=E+i.left*this.scaleX,o=f-(i.left+i.right)*this.scaleX,v=m%2?this.space.indentTopEven:this.space.indentTopOdd,r=n+v*this.scaleY+i.top*this.scaleY,x=c-(i.top+i.bottom)*this.scaleY,l===void 0&&(l=mi(e)),a===void 0&&(a=yi(e)),d=(t.alignOffsetX+t.alignOffsetOriginX*l)*this.scaleX,h=(t.alignOffsetY+t.alignOffsetOriginY*a)*this.scaleY,qp.call(this,e,T,r,o,x,t.align,d,h),E+=f+this.space.column[m]*this.scaleX}n+=c+this.space.row[g]*this.scaleY}},a0t=function(t){var t=bw.call(this,t);if(t!==void 0&&this.proportionWidthLength===void 0){var i=this.totalColumnProportions;if(i>0){var s=t-this.getChildrenWidth(!1);s>=0&&(this.proportionWidthLength=s/i)}else this.proportionWidthLength=0}return t},o0t=function(t){var t=Rw.call(this,t);if(t!==void 0&&this.proportionHeightLength===void 0){var i=this.totalRowProportions;if(i>0){var s=t-this.getChildrenHeight(!1);s>=0&&(this.proportionHeightLength=s/i)}else this.proportionHeightLength=0}return t},l0t=function(e){var t,i,s,p;for(var E in this.sizerChildren)t=this.sizerChildren[E],t&&t.isRexSizer&&!t.ignoreLayout&&(p=this.getColumnWidth(parseInt(E)%this.columnCount),i=this.getExpandedChildWidth(t,p),s=t.resolveWidth(i),s===void 0&&(s=i),t.resolveChildrenWidth(s))},h0t=function(e){var t,i,s,p;for(var E in this.sizerChildren)t=this.sizerChildren[E],t&&t.isRexSizer&&!t.ignoreLayout&&(p=this.getRowHeight(Math.floor(parseInt(E)/this.rowCount)),i=this.getExpandedChildHeight(t,p),s=t.resolveHeight(i),s===void 0&&(s=i),t.resolveChildrenHeight(s))},u0t=function(e){var t,i,s,p;for(var E in this.sizerChildren)t=this.sizerChildren[E],!(!t||t.isRexSizer&&t.ignoreLayout||!t.runWidthWrap)&&(p=this.getColumnWidth(parseInt(E)%this.columnCount),i=this.getExpandedChildWidth(t,p),t.isRexSizer&&(s=t.resolveWidth(i),s===void 0&&(s=i)),t.runWidthWrap(s));return this},f0t=function(e){var t,i,s,p;for(var E in this.sizerChildren)t=this.sizerChildren[E],!(!t||t.isRexSizer&&t.ignoreLayout||!t.runHeightWrap)&&(p=this.getRowHeight(Math.floor(parseInt(E)/this.rowCount)),i=this.getExpandedChildHeight(t,p),t.isRexSizer&&(s=t.resolveHeight(i),s===void 0&&(s=i)),t.runHeightWrap(s));return this};const fB=Phaser.Utils.Objects.IsPlainObject,js=Phaser.Utils.Objects.GetValue,dB=Phaser.Display.Align.CENTER;var cB=function(e,t,i,s,p){if(typeof e=="number"||typeof t=="number")if(e===void 0){for(var E,n=0;n<s;n++)if(E=t*s+n,!i[E])return E}else if(t===void 0){for(var E,n=0;n<p;n++)if(E=n*s+e,!i[E])return E}else{var E=t*s+e;if(!i[E])return E}else if(t===!0){for(var E,n=0;n<s;n++)for(var T=0;T<p;T++)if(E=T*s+n,!i[E])return E}else for(var n=0,r=i.length;n<r;n++)if(!i[n])return n;return null},d0t=function(e,t,i,s,p,E,n){var T,r,o,x;if(Zp.call(this,e),fB(t)){var h=t;t=js(h,"column",void 0),i=js(h,"row",void 0),s=js(h,"align",dB),p=js(h,"padding",0),E=js(h,"expand",!1),n=js(h,"key",void 0),T=js(h,"offsetX",0),r=js(h,"offsetY",0),o=js(h,"offsetOriginX",0),x=js(h,"offsetOriginY",0)}var d=cB(t,i,this.sizerChildren,this.columnCount,this.rowCount);if(d===null){if(typeof t=="number"&&typeof i=="number")return this;i===!0||typeof i=="number"?this.addEmptyColumn():this.addEmptyRow(),d=cB(t,i,this.sizerChildren,this.columnCount,this.rowCount)}typeof s=="string"&&(s=nc[s]),s===void 0&&(s=dB),p===void 0&&(p=0),E===void 0&&(E=!0),T===void 0&&(T=0),r===void 0&&(r=0),o===void 0&&(o=0),x===void 0&&(x=0);var h=this.getSizerConfig(e);return h.align=s,h.padding=qu(p),fB(E)?(h.expandWidth=js(E,"width",!1),h.expandHeight=js(E,"height",!1)):(h.expandWidth=E,h.expandHeight=E),h.alignOffsetX=T,h.alignOffsetY=r,h.alignOffsetOriginX=o,h.alignOffsetOriginY=x,this.sizerChildren[d]=e,n!==void 0&&this.addChildrenMap(n,e),this};const c0t={add:d0t};var Yd=function(e,t,i,s){i===void 0&&(i=0),s===void 0&&(s=e.length-1);for(var p=i;p<=s;p++)e[p]=t;return e};const v0t={remove(e,t){if(this.getParentSizer(e)!==this)return this;var i=this.sizerChildren.indexOf(e);return i!==-1&&(this.sizerChildren[i]=null),Jp.call(this,e,t),this},removeAt(e,t,i){var s=this.getChildAt(e,t);return s&&this.remove(s,i),this},removeAll(e){for(var t=this.sizerChildren.length-1;t>=0;t--){var i=this.sizerChildren[t];i&&this.remove(i,e)}return this},clear(e){return Yd(this.sizerChildren,null),eT.call(this,e),this}},p0t={setColumnSpace(e){if(this.space.column||(this.space.column=[]),this.space.column.length=this.columnCount-1,typeof e=="number")this.space.column0=e,Yd(this.space.column,e);else{this.space.column0=e[0];for(var t=0,i=this.columnCount-1;t<i;t++)this.space.column[t]=e[t]||0}return this},setRowSpace(e){if(this.space.row||(this.space.row=[]),this.space.row.length=this.rowCount-1,typeof e=="number")this.space.row0=e,Yd(this.space.row,e);else{this.space.row0=e[t];for(var t=0,i=this.rowCount-1;t<i;t++)this.space.row[t]=e[t]||0}return this},setIndentLeft(e,t){return this.space.indentLeftOdd=e,this.space.indentLeftEven=t,this},setIndentTop(e,t){return this.space.indentTopOdd=e,this.space.indentTopEven=t,this}},vB=Phaser.Utils.Objects.GetValue;var g0t=function(e,t,i,s,p){if(e===void 0&&(e=0),t===void 0&&(t=0),i===void 0&&(i=0),s===void 0&&(s=0),this.columnCount=e,this.rowCount=t,this.gridCount=e*t,this.removeAll(),this.sizerChildren.length=e*t,Yd(this.sizerChildren,null),this.columnProportions=[],this.columnProportions.length=e,typeof i=="number")Yd(this.columnProportions,i);else for(var E=0;E<e;E++)this.columnProportions[E]=i[E]||0;if(this.rowProportions=[],this.rowProportions.length=t,typeof s=="number")Yd(this.rowProportions,s);else for(var E=0;E<t;E++)this.rowProportions[E]=s[E]||0;this.columnWidth=[],this.columnWidth.length=e,this.rowHeight=[],this.rowHeight.length=t,this.setColumnSpace(vB(p,"column",0)),this.setRowSpace(vB(p,"row",0));var n=this.scene,T=this.createCellContainerCallback;if(T)for(var r=0,o=this.rowCount;r<o;r++)for(var x=0,d=this.columnCount;x<d;x++){var h={column:x,row:r},l=T(n,x,r,h);l&&this.add(l,h)}return this},e8=function(e,t,i){t===void 0&&(t=this.rowProportions[0]||0),i===void 0&&(i=this.space.row0||0),this.rowCount+=1,this.gridCount+=this.columnCount;for(var s=[e*this.columnCount,0],p=0;p<this.columnCount;p++)s.push(null);return this.sizerChildren.splice.apply(this.sizerChildren,s),this.rowProportions.push(t),this.rowHeight.length+=1,this.space.row.splice(e,0,i),this},m0t=function(e,t){return e8.call(this,this.rowCount,e,t),this},i8=function(e,t,i){t===void 0&&(t=this.columnProportions[0]||0),i===void 0&&(i=this.space.column0||0),this.columnCount+=1,this.gridCount+=this.rowCount;for(var s=this.rowCount-1;s>=0;s--){var p=s*this.columnCount+e;this.sizerChildren.splice(p,0,null)}return this.columnProportions.push(t),this.columnWidth.length+=1,this.space.column.splice(e,0,i),this},y0t=function(e,t){return i8.call(this,this.columnCount,e,t),this},r8={getChildrenWidth:_mt,getChildrenHeight:t0t,getExpandedChildWidth:e0t,getExpandedChildHeight:i0t,getChildrenSizers:r0t,preLayout:n0t,layoutChildren:s0t,resolveWidth:a0t,resolveHeight:o0t,resolveChildrenWidth:l0t,resolveChildrenHeight:h0t,runWidthWrap:u0t,runHeightWrap:f0t,resetGrid:g0t,insertEmptyRow:e8,addEmptyRow:m0t,insertEmptyColumn:i8,addEmptyColumn:y0t};Object.assign(r8,c0t,v0t,p0t,jw);var x0t=function(){for(var e=0,t,i=0;i<this.columnCount;i++)t=this.columnProportions[i],t>0?e+=t:t===0&&(this.hasColumnProportion0Child=!0);return e},T0t=function(){for(var e=0,t,i=0;i<this.rowCount;i++)t=this.rowProportions[i],t>0?e+=t:t===0&&(this.hasRowProportion0Child=!0);return e};const gy=Phaser.Utils.Objects.IsPlainObject,Wi=Phaser.Utils.Objects.GetValue;class Ha extends _u{constructor(t,i,s,p,E,n,T,r,o,x){gy(i)?(x=i,i=Wi(x,"x",0),s=Wi(x,"y",0),p=Wi(x,"width",void 0),E=Wi(x,"height",void 0),n=Wi(x,"column",x.col||0),T=Wi(x,"row",0),r=Wi(x,"columnProportions",0),o=Wi(x,"rowProportions",0)):gy(p)?(x=p,p=Wi(x,"width",void 0),E=Wi(x,"height",void 0),n=Wi(x,"column",x.col||0),T=Wi(x,"row",0),r=Wi(x,"columnProportions",0),o=Wi(x,"rowProportions",0)):gy(n)?(x=n,n=Wi(x,"column",x.col||0),T=Wi(x,"row",0),r=Wi(x,"columnProportions",0),o=Wi(x,"rowProportions",0)):gy(r)&&(x=r,r=Wi(x,"columnProportions",0),o=Wi(x,"rowProportions",0)),super(t,i,s,p,E,x),this.type="rexGridSizer",this.sizerChildren=[],this.addChildrenMap("items",this.sizerChildren),this.setCreateCellContainerCallback(Wi(x,"createCellContainerCallback")),this.setIndentLeft(Wi(x,"space.indentLeftOdd",0),Wi(x,"space.indentLeftEven",0)),this.setIndentTop(Wi(x,"space.indentTopOdd",0),Wi(x,"space.indentTopEven",0)),this.resetGrid(n,T,r,o,Wi(x,"space",void 0))}destroy(t){!this.scene||this.ignoreDestroy||(super.destroy(t),this.columnProportions=void 0,this.rowProportions=void 0,this.columnWidth=void 0,this.rowHeight=void 0,this.createCellContainerCallback=void 0)}setColumnProportion(t,i){return t>=this.columnProportions.length?this:(this.columnProportions[t]=i,this)}setRowProportion(t,i){return t>=this.rowProportions.length?this:(this.rowProportions[t]=i,this)}get totalColumnProportions(){return this._totalColumnProportions===void 0&&(this._totalColumnProportions=x0t.call(this)),this._totalColumnProportions}get totalRowProportions(){return this._totalRowProportions===void 0&&(this._totalRowProportions=T0t.call(this)),this._totalRowProportions}getChildAt(t,i){return this.sizerChildren[i*this.columnCount+t]}childToGridIndex(t,i){if(!t)return null;var s=this.sizerChildren.indexOf(t);return s===-1?null:(i===void 0&&(i={}),i.x=s%this.columnCount,i.y=Math.floor(s/this.columnCount),i)}getColumnWidth(t){var i=this.columnProportions[t],s=i===0?this.columnWidth[t]:i*this.proportionWidthLength;return s}getRowHeight(t){var i=this.rowProportions[t],s=i===0?this.rowHeight[t]:i*this.proportionHeightLength;return s}setCreateCellContainerCallback(t){return this.createCellContainerCallback=t,this}}Object.assign(Ha.prototype,r8);It.register("gridSizer",function(e,t,i,s,p,E,n,T,r){var o=new Ha(this.scene,e,t,i,s,p,E,n,T,r);return this.scene.add.existing(o),o});Lt(window,"RexPlugins.UI.GridSizer",Ha);var C0t=function(e){if(this.rexSizer.hidden)return 0;e===void 0&&(e=!0);var t;if(this.orientation===0?e?t=this.maxChildWidth:t=this.rexSizer.resolved?this.wrapResult.width:void 0:t=this.rexSizer.resolved?this.wrapResult.width:void 0,t!==void 0)return t+(this.space.left+this.space.right)*this.scaleX},S0t=function(e){if(this.rexSizer.hidden)return 0;e===void 0&&(e=!0);var t;if(this.orientation===1?e?t=this.maxChildHeight:t=this.rexSizer.resolved?this.wrapResult.height:void 0:t=this.rexSizer.resolved?this.wrapResult.height:void 0,t!==void 0)return t+(this.space.top+this.space.bottom)*this.scaleY},E0t=function(e){e===void 0&&(e=[]);for(var t=this.sizerChildren,i,s=0,p=t.length;s<p;s++)i=t[s],i!==`
`&&i.isRexSizer&&e.push(i);return e},P0t=function(){return this._maxChildWidth=void 0,this._maxChildHeight=void 0,this.wrapResult=void 0,this.rexSizer.resolved=!1,jp.call(this),this},b0t=function(){for(var e=this.orientation===0,t=e?this.innerWidth:this.innerHeight,i,s,p,E=0,n,T,r=this.innerLeft,o=this.innerTop,x,d,h,l,a,f,c=this.wrapResult.lines,u,v,g,m=r,y=o,C=0,b=c.length;C<b;C++){switch(u=c[C],v=u.children,this.rtl&&v.reverse(),e?(n=C%2?this.space.indentLeftEven:this.space.indentLeftOdd,m=r+n*this.scaleX):(T=C%2?this.space.indentTopEven:this.space.indentTopOdd,y=o+T*this.scaleY),g=t-(e?u.width:u.height),this.align){case 0:break;case 1:e?m+=g:y+=g;break;case 2:e?m+=g/2:y+=g/2;break;case 3:E=qP(t,g,this.justifyPercentage,v.length);break;case 4:E=qP(t,g,this.justifyPercentage,v.length),E===0&&(e?m+=g:y+=g);break;case 5:E=qP(t,g,this.justifyPercentage,v.length),E===0&&(e?m+=g/2:y+=g/2);break}for(var M=!0,w=0,R=v.length;w<R;w++)i=v[w],!i.rexSizer.hidden&&(s=i.rexSizer,p=s.padding,Qp.call(this,i),e?x=m+p.left*this.scaleX:d=y+p.top*this.scaleY,M?M=!1:e?x+=this.space.item*this.scaleX:d+=this.space.item*this.scaleY,h=mi(i),l=yi(i),e?(T=w%2?this.space.indentTopEven:this.space.indentTopOdd,d=y+T*this.scaleY+p.top*this.scaleY,m=x+h+p.right*this.scaleX+E):(n=w%2?this.space.indentLeftEven:this.space.indentLeftOdd,x=m+n*this.scaleX+p.left*this.scaleX,y=d+l+p.top*this.scaleY+E),a=(s.alignOffsetX+s.alignOffsetOriginX*h)*this.scaleX,f=(s.alignOffsetY+s.alignOffsetOriginY*l)*this.scaleY,qp.call(this,i,x,d,h,l,s.align,a,f));e?y+=u.height+this.space.line*this.scaleY:m+=u.width+this.space.line*this.scaleX}},qP=function(e,t,i,s){return t/e<=i?t/(s-1):0},M0t=function(){return this.orientation===0?!0:Mw.call(this)},n8=function(e){var t={lines:[],width:0,height:0},i=this.sizerChildren,s,p,E,n,T=0,r,o,x=t.lines,d=void 0,h;if(this.orientation===0){for(var l=0,a=i.length;l<a;l++){if(s=i[l],s===`
`)s=void 0,E=0,h=!0;else{if(s.rexSizer.hidden)continue;s.isRexSizer&&s.runLayout(this),E=this.getChildWidth(s),p=s.rexSizer.padding,E+=(p.left+p.right)*this.scaleX,h=T<E||d===void 0}h&&(d&&(d.width=e-(T+this.space.item*this.scaleX),t.width=Math.max(t.width,d.width),t.height+=d.height+this.space.line*this.scaleY),d={children:[],width:0,height:0},x.push(d),r=x.length%2?this.space.indentLeftOdd:this.space.indentLeftEven,T=e-r*this.scaleX),T-=E+this.space.item*this.scaleX,s&&(d.children.push(s),n=this.getChildHeight(s),p=s.rexSizer.padding,n+=(p.top+p.bottom)*this.scaleY,d.height=Math.max(d.height,n))}d&&(d.width=e-(T+this.space.item*this.scaleX),t.width=Math.max(t.width,d.width),t.height+=d.height),t.height+=Math.max(this.space.indentTopOdd,this.space.indentTopEven)*this.scaleY}else{for(var f=e,l=0,a=i.length;l<a;l++){if(s=i[l],s===`
`)s=void 0,E=0,h=!0;else{if(s.rexSizer.hidden)continue;s.isRexSizer&&s.layout(),n=this.getChildHeight(s),p=s.rexSizer.padding,n+=(p.top+p.bottom)*this.scaleY,h=T<n||d===void 0}h&&(d&&(d.height=f-(T+this.space.item*this.scaleY),t.height=Math.max(t.height,d.height),t.width+=d.width+this.space.line*this.scaleX),d={children:[],width:0,height:0},x.push(d),o=x.length%2?this.space.indentTopOdd:this.space.indentTopEven,T=f-o*this.scaleY),T-=n+this.space.item*this.scaleY,s&&(d.children.push(s),E=this.getChildWidth(s),p=s.rexSizer.padding,E+=(p.left+p.right)*this.scaleX,d.width=Math.max(d.width,E))}d&&(d.height=f-(T+this.space.item*this.scaleY),t.height=Math.max(t.height,d.height),t.width+=d.width),t.width+=Math.max(this.space.indentLeftOdd,this.space.indentLeftEven)*this.scaleX}return t},w0t=function(e){if(!this.wrapResult&&this.orientation===0){var t=e-(this.space.left+this.space.right)*this.scaleX;this.wrapResult=n8.call(this,t),this.rexSizer.resolved=!0,ww.call(this,e)}},R0t=function(){return this.orientation===1?!0:Aw.call(this)},A0t=function(e){if(!this.wrapResult&&this.orientation===1){var t=e-(this.space.top+this.space.bottom)*this.scaleY;this.wrapResult=n8.call(this,t),this.rexSizer.resolved=!0,Ow.call(this,e)}},O0t=function(e,t){},L0t=function(e,t){};const pB=Phaser.Math.Distance.Between;var D0t=function(e,t){var i=this.sizerChildren;if(i.length===0)return-1;for(var s=-1,p=1/0,E=0,n=i.length;E<n;E++){var T=i[E];if(!(Math.abs(T.centerY-t)>T.height/2)){var o=pB(T.left,T.centerY,e,t);p>o&&(p=o,s=E);var r=i[E+1];if(!(r&&r.y===T.y)){var o=pB(T.right,T.centerY,e,t);p>o&&(p=o,s=E+1)}}}return s};const F0t=Phaser.Utils.Objects.IsPlainObject,wu=Phaser.Utils.Objects.GetValue,I0t=Phaser.Display.Align.CENTER;var _P=function(e,t,i,s){if(e===`
`)return this.addNewLine(),this;var p,E,n,T;if(Zp.call(this,e),F0t(t)){var r=t;t=wu(r,"padding",0),i=wu(r,"key",void 0),s=wu(r,"index",void 0),p=wu(r,"offsetX",0),E=wu(r,"offsetY",0),n=wu(r,"offsetOriginX",0),T=wu(r,"offsetOriginY",0)}t===void 0&&(t=0),p===void 0&&(p=0),E===void 0&&(E=0),n===void 0&&(n=0),T===void 0&&(T=0);var r=this.getSizerConfig(e);return r.align=I0t,r.padding=qu(t),r.alignOffsetX=p,r.alignOffsetY=E,r.alignOffsetOriginX=n,r.alignOffsetOriginY=T,s===void 0||s>=this.sizerChildren.length?this.sizerChildren.push(e):this.sizerChildren.splice(s,0,e),i!==void 0&&this.addChildrenMap(i,e),this};const B0t={add(e,t,i){if(Va(e))for(var s=e,p=0,E=s.length;p<E;p++)_P.call(this,s[p],t);else _P.call(this,e,t,i);return this},addNewLine(){return this.sizerChildren.push(`
`),this},insert(e,t,i,s){return _P.call(this,t,i,s,e),this},insertAtPosition(e,t,i,s,p){var E=D0t.call(this,e,t);return E===-1&&(E=void 0),this.insert(E,i,s,p),this}},G0t=Phaser.Utils.Array.Remove,k0t={remove(e,t){return this.getParentSizer(e)!==this?this:(G0t(this.sizerChildren,e),Jp.call(this,e,t),this)},removeAll(e){for(var t=this.sizerChildren.length-1;t>=0;t--)this.remove(this.sizerChildren[t],e);return this},clear(e){return this.sizerChildren.length=0,eT.call(this,e),this}};var s8={getChildrenWidth:C0t,getChildrenHeight:S0t,getChildrenSizers:E0t,preLayout:P0t,layoutChildren:b0t,hasWidthWrap:M0t,runWidthWrap:w0t,hasHeightWrap:R0t,runHeightWrap:A0t,getExpandedChildWidth:O0t,getExpandedChildHeight:L0t};Object.assign(s8,B0t,k0t,jw);var N0t=function(e){e===void 0&&(e=this.sizerChildren);for(var t=0,i,s,p=!1,E=0,n=e.length;E<n;E++)i=e[E],i!==`
`&&(s=this.getChildWidth(i),s===void 0&&(p=!0),!p&&(t=Math.max(s,t)));if(!p)return t},U0t=function(e){e===void 0&&(e=this.sizerChildren);for(var t=0,i,s,p=!1,E=0,n=e.length;E<n;E++)i=e[E],i!==`
`&&(s=this.getChildHeight(i),s===void 0&&(p=!0),!p&&(t=Math.max(s,t)));if(!p)return t};const gB=Phaser.Utils.Objects.IsPlainObject,bn=Phaser.Utils.Objects.GetValue;class Dh extends _u{constructor(t,i,s,p,E,n){gB(i)?(n=i,i=bn(n,"x",0),s=bn(n,"y",0),p=bn(n,"width",void 0),E=bn(n,"height",void 0)):gB(p)&&(n=p,p=bn(n,"width",void 0),E=bn(n,"height",void 0)),super(t,i,s,p,E,n),this.type="rexFixWidthSizer",this.sizerChildren=[],this.runChildrenWrapFlag=!0,this.setOrientation(bn(n,"orientation",0)),this.setItemSpacing(bn(n,"space.item",0)),this.setLineSpacing(bn(n,"space.line",0)),this.setIntentLeft(bn(n,"space.indentLeftOdd",0),bn(n,"space.indentLeftEven",0)),this.setIntentTop(bn(n,"space.indentTopOdd",0),bn(n,"space.indentTopEven",0)),this.setAlign(bn(n,"align",0)),this.setJustifyPercentage(bn(n,"justifyPercentage",.25)),this.setRTL(bn(n,"rtl",!1)),this.wrapResult=void 0,this.addChildrenMap("items",this.sizerChildren)}setOrientation(t){return this.orientation=Qu(t),this}setItemSpacing(t){return this.space.item=t,this}setLineSpacing(t){return this.space.line=t,this}setIntentLeft(t,i){return this.space.indentLeftOdd=t,this.space.indentLeftEven=i,this}setIntentTop(t,i){return this.space.indentTopOdd=t,this.space.indentTopEven=i,this}setAlign(t){return typeof t=="string"&&(t=V0t[t]),this.align=t,this}setJustifyPercentage(t){return this.justifyPercentage=t,this}setRTL(t){return t===void 0&&(t=!0),this.rtl=t,this}get maxChildWidth(){return this._maxChildWidth===void 0&&(this._maxChildWidth=N0t.call(this)),this._maxChildWidth}get maxChildHeight(){return this._maxChildHeight===void 0&&(this._maxChildHeight=U0t.call(this)),this._maxChildHeight}}const V0t={left:0,top:0,right:1,bottom:1,center:2,justify:3,"justify-left":3,"justify-top":3,"justify-right":4,"justify-bottom":4,"justify-center":5};Object.assign(Dh.prototype,s8);It.register("fixWidthSizer",function(e,t,i,s,p){var E=new Dh(this.scene,e,t,i,s,p);return this.scene.add.existing(E),E});Lt(window,"RexPlugins.UI.FixWidthSizer",Dh);It.register("overlapSizer",function(e,t,i,s,p){var E=new aa(this.scene,e,t,i,s,p);return this.scene.add.existing(E),E});Lt(window,"RexPlugins.UI.OverlapSizer",aa);It.register("space",function(){var e=new Jw(this.scene);return e});Lt(window,"RexPlugins.UI.Space",Jw);It.register("label",function(e){var t=new El(this.scene,e);return this.scene.add.existing(t),t});Lt(window,"RexPlugins.UI.Label",El);const mB=["alpha","tint","flipX","flipY"];var eR=function(e,t){if(!t)return e;for(var i=0,s=mB.length;i<s;i++){var p=mB[i];p in t&&p in e&&(e[p]=t[p])}if("origin"in t&&"originX"in e)e.setOrigin(t.origin);else{var E,n;"originX"in t&&"originX"in e&&(E=t.originX),"originY"in t&&"originY"in e&&(n=t.originY),E!==void 0&&n!==void 0&&e.setOrigin(E,n)}return e},Vr=function(e,t){var i;t&&(t.hasOwnProperty("$type")?i=t.$type:t.hasOwnProperty("barColor")?i="bar":t.hasOwnProperty("leftWidth")?i="nineSlice":t.hasOwnProperty("key")&&(i="image"));var s;switch(i){case"bar":s=new hT(e,t);break;case"image":s=new eg(e,t);break;case"nineSlice":t.hasOwnProperty("stretchMode")?s=new ng(e,t):s=new rg(e,t);break;default:s=new ig(e,t);break}return eR(s,t),e.add.existing(s),s},z0t=function(){switch(this.scrollMode){case 0:case 1:tb.call(this),this.updateController(),eb.call(this),ib.call(this);break;default:tb.call(this,"y"),tb.call(this,"x"),this.updateController(),eb.call(this,"y"),eb.call(this,"x"),ib.call(this,"y"),ib.call(this,"x");break}return this},tb=function(e){var t,i,s,p;switch(this.scrollMode){case 0:case 1:t=this.topChildOY,i=this.bottomChildOY,s=this.childrenMap.scroller,p=this.childrenMap.slider,e=this.scrollMode===0?"Y":"X";break;default:e=e.toUpperCase(),e==="Y"?(t=this.topChildOY,i=this.bottomChildOY):(t=this.leftChildOX,i=this.rightChildOX),s=this.childrenMap[`scroller${e}`],p=this.childrenMap[`slider${e}`]}var E=e==="Y"?this.scaleY:this.scaleX;i*=E,s&&s.setBounds(t,i),p&&(p.setEnable(t!==i),p.tickLength&&p.setTick(p.tickLength,t,i))},eb=function(e){switch(this.scrollMode){case 0:case 1:var i=this.childrenMap.slider;i&&this.hideUnscrollableSlider&&this.setChildVisible(i,this.isOverflow);var p=this.childrenMap.scroller;p&&this.disableUnscrollableDrag&&p.setEnable(this.isOverflow);break;default:e=e.toUpperCase();var t=this[`isOverflow${e}`],i=this.childrenMap[`slider${e}`],s=this[`hideUnscrollableSlider${e}`];i&&s&&this.setChildVisible(i,t);var p=this.childrenMap.scroller,E=this[`disableUnscrollableDrag${e}`];p&&E&&p.setEnable(t);break}},ib=function(e){switch(this.scrollMode){case 0:case 1:if(!this.adaptThumbSizeMode)return;var E=this.childrenMap.slider;if(!E)return;var t=Math.min(this.childVisibleHeight/this.childHeight,1),n=E.childrenMap.track,T=E.childrenMap.thumb,r=this.minThumbSize;if(this.scrollMode===0){var i=n.displayHeight*t;r!==void 0&&i<r&&(i=r),wn(T,void 0,i)}else{var s=n.displayWidth*t;r!==void 0&&s<r&&(s=r),wn(T,s,void 0)}yB(E);break;default:e=e.toUpperCase();var p=this[`adaptThumb${e}SizeMode`];if(!p)return;var E=this.childrenMap[`slider${e}`];if(!E)return;var n=E.childrenMap.track,T=E.childrenMap.thumb,r=this[`minThumb${e}Size`];if(e==="Y"){var t=Math.min(this.childVisibleHeight/this.childHeight,1),i=n.displayHeight*t;r!==void 0&&i<r&&(i=r),wn(T,void 0,i)}else{var t=Math.min(this.childVisibleWidth/this.childWidth,1),s=n.displayWidth*t;r!==void 0&&s<r&&(s=r),wn(T,s,void 0)}yB(E);break}},yB=function(e){var t=e.minWidth,i=e.minHeight;e.minWidth=e.width,e.minHeight=e.height,e.layout(),e.minWidth=t,e.minHeight=i},W0t=function(){switch(this.scrollMode){case 0:case 1:var e=this.childrenMap.scroller,t=this.childrenMap.slider;e&&e.setValue(this.childOY),t&&t.setValue(this.t);break;default:var i=this.childrenMap.scrollerY,s=this.childrenMap.sliderY,p=this.childrenMap.scrollerX,E=this.childrenMap.sliderX;i&&i.setValue(this.childOY),s&&s.setValue(this.t),p&&p.setValue(this.childOX),E&&E.setValue(this.s);break}};const my=Phaser.Math.Clamp,Y0t={setChildOY(e,t){return t===void 0&&(t=!1),t&&(e=my(e,this.bottomChildOY,this.topChildOY)),this.childOY=e,this},addChildOY(e,t){return this.setChildOY(this.childOY+e,t),this},setT(e,t){return t===void 0&&(t=!1),t&&(e=my(e,0,1)),this.t=e,this},addT(e,t){return this.setT(this.t+e,t),this},scrollToTop(){return this.t=0,this},scrollToBottom(){if(this.t=1,this.t===0)return this;do this.t=1;while(this.t!==1);return this},setChildOX(e,t){return t===void 0&&(t=!1),t&&(e=my(e,this.leftChildOX,this.rightChildOX)),this.childOX=e,this},addChildOX(e,t){return this.setChildOX(this.childOX+e,t),this},setS(e,t){return t===void 0&&(t=!1),t&&(e=my(e,0,1)),this.s=e,this},addS(e,t){return this.setS(this.s+e,t),this},scrollToLeft(){return this.s=0,this},scrollToRight(){if(this.s=1,this.s===0)return this;do this.s=1;while(this.s!==1);return this}};var a8={resizeController:z0t,updateController:W0t};Object.assign(a8,Y0t);const o8={v:0,vertical:0,y:0,h:1,horizontal:1,x:1,xy:2,vh:2};var iR=function(e,t){t===void 0&&(t="scrollMode"),e.hasOwnProperty(t)||(e[t]=X0t(e));var i=e[t];return typeof i=="string"&&(i=o8[i]),i},X0t=function(e){var t=!!e.sliderY||!!e.scrollerY,i=!!e.sliderX||!!e.scrollerX,s;return t&&i?s=2:t?s=0:i?s=1:s=0,s};const Kr=Phaser.Utils.Objects.GetValue;var H0t=function(e,t,i){var s=Kr(i,"child"),p=Kr(s,"gameObject",void 0);if(p){var E=Kr(i,"space.child",0);e.childMargin={};var n=e.childMargin,T={};if(typeof E=="number")switch(e.scrollMode){case 0:case 1:n.top=0,n.bottom=0,n.left=0,n.right=0;break;default:n.top=E,n.bottom=E,n.left=E,n.right=E;break}else switch(e.scrollMode){case 0:n.top=Kr(E,"top",0),n.bottom=Kr(E,"bottom",0),T.left=Kr(E,"left",0),T.right=Kr(E,"right",0);break;case 1:n.top=Kr(E,"left",0),n.bottom=Kr(E,"right",0),T.top=Kr(E,"top",0),T.bottom=Kr(E,"bottom",0);break;default:n.top=Kr(E,"top",0),n.bottom=Kr(E,"bottom",0),n.left=Kr(E,"left",0),n.right=Kr(E,"right",0);break}t.add(p,{column:1,row:1,align:Kr(s,"align","center"),padding:T,expand:{width:Kr(s,"expandWidth",!0),height:Kr(s,"expandHeight",!0)}})}e.addChildrenMap("child",p)};const xB=Phaser.Math.Percent;var $0t=function(e,t,i){var s;return e.y===t.y?s=xB(i.x,e.x,t.x):e.x===t.x&&(s=xB(i.y,e.y,t.y)),s},l8=function(e,t){rb.x=e,rb.y=t;var i,s;this.reverseAxis?(i=this.getEndPoint(),s=this.getStartPoint()):(i=this.getStartPoint(),s=this.getEndPoint());var p=$0t(i,s,rb);return p},rb={},K0t=function(e,t,i){!this.enable||!this.inputActive||(this.value=l8.call(this,t,i))},nb=function(e){if(!(!this.enable||!this.inputActive)&&e.isDown){var t=l8.call(this,e.worldX,e.worldY);this.stopEaseValue(),this.easeValueDuration===0||Math.abs(this.value-t)<.1?this.value=t:this.easeValueTo(t)}};const Z0t=Phaser.Utils.Objects.GetValue;var J0t=function(e){this.inputActive=!1;var t=Z0t(e,"input",0);typeof t=="string"&&(t=j0t[t]);var i=this.childrenMap.thumb;switch(t){case 0:i&&(i.setInteractive(),this.scene.input.setDraggable(i),i.on("dragstart",function(p){this.inputActive=!0,this.eventEmitter.emit("inputstart",p)},this).on("dragend",function(p){this.inputActive=!1,this.eventEmitter.emit("inputend",p)},this).on("drag",K0t,this));break;case 1:this.setInteractive().on("pointerdown",function(p){this.inputActive=!0,this.eventEmitter.emit("inputstart",p)},this).on("pointerdown",nb,this);var s=function(p){this.inputActive&&(this.inputActive=!1,this.eventEmitter.emit("inputend",p))};this.scene.input.on("pointerup",s,this).on("pointermove",nb,this),this.once("destroy",function(){this.scene.input.on("pointerup",s,this).off("pointermove",nb,this)},this);break}};const j0t={pan:0,drag:0,click:1,none:-1};var h8=function(e,t){t===void 0&&(t=Q0t);var i=this.childrenMap.thumb,s=i.x,p=i.y;return Kp(i,this.innerLeft,this.innerTop,this.innerWidth,this.innerHeight,e),t.x=i.x,t.y=i.y,i.x=s,i.y=p,t},Q0t={};const q0t=Phaser.Display.Align.LEFT_CENTER,_0t=Phaser.Display.Align.TOP_CENTER;var tyt=function(e){if(e===void 0&&(e=eyt),this.childrenMap.thumb){var t=this.orientation===0?q0t:_0t;h8.call(this,t,e)}else this.orientation===0?(e.x=this.innerLeft+1,e.y=this.centerY):(e.x=this.centerX,e.y=this.innerTop+1);return e},eyt={};const iyt=Phaser.Display.Align.RIGHT_CENTER,ryt=Phaser.Display.Align.BOTTOM_CENTER;var nyt=function(e){if(e===void 0&&(e=syt),this.childrenMap.thumb){var t=this.orientation===0?iyt:ryt;h8.call(this,t,e)}else this.orientation===0?(e.x=this.innerRight-1,e.y=this.centerY):(e.x=this.centerX,e.y=this.innerBottom-1);return e},syt={};const TB=Phaser.Math.Linear;var ayt=function(e,t,i,s){return s===void 0&&(s=oyt),s.x=TB(t.x,i.x,e),s.y=TB(t.y,i.y,e),s},oyt={},lyt=function(e){var t=this.childrenMap.thumb;if(t===void 0)return this;e===void 0&&(e=this.value);var i,s;return this.reverseAxis?(i=this.getEndPoint(),s=this.getStartPoint()):(i=this.getStartPoint(),s=this.getEndPoint()),ayt(e,i,s,t),t.x+=this.thumbOffsetX,t.y+=this.thumbOffsetY,this.resetChildPositionState(t),this};const hyt=Phaser.Display.Align.LEFT_CENTER,uyt=Phaser.Display.Align.TOP_CENTER,fyt=Phaser.Display.Align.RIGHT_CENTER,dyt=Phaser.Display.Align.BOTTOM_CENTER;var cyt=function(e){var t=this.childrenMap.indicator;if(t===void 0)return this;e===void 0&&(e=this.value);var i=this.reverseAxis,s,p,E=this.childrenMap.thumb;if(E)if(this.orientation===0){var n=mi(E);if(i){var T=E.x-n*E.originX;s=this.right-T}else{var T=E.x-n*E.originX,r=T+n;s=r-this.left}}else{var o=yi(E);if(i){var x=E.y-o*E.originY;p=this.bottom-x}else{var x=E.y-o*E.originY,d=x+o;p=d-this.top}}else this.orientation===0?s=this.width*e:p=this.height*e;wn(t,s,p);var h;i?h=this.orientation===0?fyt:dyt:h=this.orientation===0?hyt:uyt,hk(t,this,h),this.resetChildPositionState(t)};const Ps=Phaser.Utils.Objects.GetValue,yy=Phaser.Utils.Objects.IsPlainObject,vyt=Phaser.Math.Clamp,pyt=Phaser.Math.Snap.To;class ac extends Oh(qe){constructor(t,i){super(t,i),this.type="rexSlider",this.bootProgressBase(i),this.reverseAxis=Ps(i,"reverseAxis",!1);var s=Ps(i,"background",void 0),p=Ps(i,"track",void 0),E=Ps(i,"indicator",void 0),n=Ps(i,"thumb",void 0);if(s&&(yy(s)&&(s=Vr(t,s)),this.addBackground(s)),p&&(yy(p)&&(p=Vr(t,p)),this.add(p,{proportion:1,expand:!0,minWidth:this.orientation===0?0:void 0,minHeight:this.orientation===1?0:void 0})),E&&(yy(E)&&(E=Vr(t,E)),this.pin(E)),n){yy(n)&&(n=Vr(t,n)),this.pin(n);var T=Ps(i,"thumbOffsetX",0),r=Ps(i,"thumbOffsetY",0);this.setThumbOffset(T,r)}this.addChildrenMap("background",s),this.addChildrenMap("track",p),this.addChildrenMap("indicator",E),this.addChildrenMap("thumb",n),this.setEnable(Ps(i,"enable",void 0));var o=Ps(i,"tick",void 0);o===void 0&&(o=Ps(i,"gap",void 0)),this.setGap(o),J0t.call(this,i),this.setValue(Ps(i,"value",0),Ps(i,"min",void 0),Ps(i,"max",void 0))}setEnable(t){return t===void 0&&(t=!0),this.enable=t,this}setGap(t,i,s){return t&&i!==void 0&&(t=t/(s-i)),this.gap=t,this}setTick(t,i,s){return this.setGap(t,i,s),this}get tick(){return this.gap}set tick(t){this.gap=t}setThumbOffset(t,i){return this.thumbOffsetX=t,this.thumbOffsetY=i,this}get value(){return this._value}set value(t){this.gap!==void 0&&(t=pyt(t,this.gap));var i=this._value;this._value=vyt(t,0,1),i!==this._value&&(this.updateThumb(this._value),this.updateIndicator(this._value),this.eventEmitter.emit("valuechange",this._value,i,this.eventEmitter))}postLayout(t,i,s){return this.updateThumb(),this.updateIndicator(),super.postLayout(t,i,s),this}}var gyt={getStartPoint:tyt,getEndPoint:nyt,updateThumb:lyt,updateIndicator:cyt};Object.assign(ac.prototype,gyt);const _n=Phaser.Utils.Objects.GetValue;class rR extends qe{constructor(t,i){super(t,i),this.type="rexScrollBar";var s=_n(i,"background",void 0),p=_n(i,"buttons",void 0),E=_n(p,"top",_n(p,"left",void 0)),n=_n(p,"bottom",_n(p,"right",void 0)),T,r=_n(i,"slider",void 0);if(s&&this.addBackground(s),E){this.add(E);var o=new Zd(E);o.on("intouch",function(){if(this.enable){var c=T.reverseAxis?this.scrollStep:-this.scrollStep;this.value+=c}},this)}if(r){r.orientation=this.orientation,r.eventEmitter=this,r.value=null;var x;if(this.orientation===0){var d=_n(r,"width",void 0);x=d===void 0?1:0}else{var h=_n(r,"height",void 0);x=h===void 0?1:0}T=new ac(t,r),t.add.existing(T),this.add(T,{proportion:x})}if(n){this.add(n);var o=new Zd(n);o.on("intouch",function(){if(this.enable){var u=T.reverseAxis?-this.scrollStep:this.scrollStep;this.value+=u}},this)}var l=[E,n];this.addChildrenMap("background",s),this.addChildrenMap("slider",T),this.addChildrenMap("buttons",l);var a=_n(i,"valuechangeCallback",null);if(a!==null){var f=_n(i,"valuechangeCallbackScope",void 0);this.on("valuechange",a,f)}this.setEnable(_n(i,"enable",void 0)),this.setValue(_n(i,"value",0)),this.setScrollStep(_n(p,"step",.01))}setScrollStep(t){return this.scrollStep=t,this}get enable(){return this.childrenMap.slider?this.childrenMap.slider.enable:!1}set enable(t){this.childrenMap.slider&&this.childrenMap.slider.setEnable(t)}setEnable(t){return t===void 0&&(t=!0),this.enable=t,this}get value(){return this.childrenMap.slider?this.childrenMap.slider.value:0}set value(t){this.childrenMap.slider&&(this.childrenMap.slider.value=t)}setValue(t,i,s){return this.childrenMap.slider&&this.childrenMap.slider.setValue(t,i,s),this}addValue(t,i,s){return this.childrenMap.slider&&this.childrenMap.slider.addValue(t,i,s),this}getValue(t,i){return this.childrenMap.slider?this.childrenMap.slider.getValue(t,i):0}easeValueTo(t,i,s){return this.childrenMap.slider&&this.childrenMap.slider.easeValueTo(t,i,s),this}stopEaseValue(){return this.childrenMap.slider&&this.childrenMap.slider.stopEaseValue(),this}setEaseValueDuration(t){return this.childrenMap.slider&&this.childrenMap.slider.setEaseValueDuration(t),this}setEaseValueFunction(t){return this.childrenMap.slider&&this.childrenMap.slider.setEaseValueFunction(t),this}setGap(t,i,s){return this.childrenMap.slider&&this.childrenMap.slider.setGap(t,i,s),this}get gap(){if(this.childrenMap.slider)return this.childrenMap.slider.gap}set gap(t){this.childrenMap.slider&&(this.childrenMap.slider.gap=t)}setTick(t,i,s){return this.setGap(t,i,s),this}get tick(){if(this.childrenMap.slider)return this.childrenMap.slider.tick}set tick(t){this.childrenMap.slider&&(this.childrenMap.slider.tick=t)}}var myt=function(e,t){t===void 0&&(t={});var i=Na(t);t={slider:i},t.orientation=i.orientation,delete i.orientation,t.background=i.background,delete i.background,t.buttons=i.buttons,delete i.buttons,t.value=null;var s=new rR(e,t);e.add.existing(s);var p=s.childrenMap.slider;return s.addChildrenMap("track",p.childrenMap.track),s.addChildrenMap("indicator",p.childrenMap.indicator),s.addChildrenMap("thumb",p.childrenMap.thumb),s};const yyt=Phaser.Math.Snap.To;Phaser.Math.Clamp;var xyt=function(){this.emit("dragstart")},Tyt=function(){this.emit("dragend")},Cyt=function(){this.value+=this.dragDelta},Syt=function(){var e=this.value,t=this.dragSpeed,i=this.snapStep,s=!!i;if(s){var E=e,n=t===0?0:t*t/(2*this.slidingDeceleration);if(E+=t>0?n:-n,E=yyt(E,i,this.minValue),n=Math.abs(E-e),n>0){var p;t===0?(p=this.backDeceleration,t=Math.sqrt(2*p*n)):(p=t*t/(2*n),p*=.99),this._slowDown.init(e,void 0,t,p,E)}else this._slowDown.stop(),this._state.next()}else if(t===0)this._slowDown.stop(),this._state.next();else{var p=this.slidingDeceleration;this._slowDown.init(e,t>0,t,p)}},Eyt=function(e,t){t*=.001;var i=this._slowDown.update(t).value;this.overMax(i)?(this.value=this.maxValue,this._slowDown.stop()):this.overMin(i)?(this.value=this.minValue,this._slowDown.stop()):this.value=i},Pyt=function(){var e=this.value,t=this.outOfMinBound?this.minValue:this.maxValue,i=Math.abs(t-e),s=this.backDeceleration,p=Math.sqrt(2*s*i);this._slowDown.init(e,void 0,p,s,t)},byt=function(e,t){t*=.001,this.value=this._slowDown.update(t).value,this._slowDown.isMoving||this._state.next()},CB=function(){this._slowDown.stop()};class Myt extends Sl{constructor(t,i){super(i),this.parent=t,this.init()}init(){this.start("IDLE")}next_IDLE(){var t,i=this.parent,s=i.dragState;return s.isDown&&(t=i.dragThreshold===0?"DRAG":"DRAGBEGIN"),t}update_IDLE(t,i){this.next()}next_DRAGBEGIN(){var t,i=this.parent,s=i.dragState;return s.isDown?t=s.pointer.getDistance()>=i.dragThreshold?"DRAG":"DRAGBEGIN":t="IDLE",t}update_DRAGBEGIN(t,i){this.next()}next_DRAG(){var t,i=this.parent,s=i.dragState;return s.isUp&&(i.outOfBounds?t="BACK":i.slidingEnable?t="SLIDE":t="IDLE"),t}update_DRAG(t,i){var s=this.parent,p=s.dragState;p.justMoved&&Cyt.call(s),this.next()}enter_DRAG(){xyt.call(this.parent)}exit_DRAG(){Tyt.call(this.parent)}next_SLIDE(){var t,i=this.parent,s=i.dragState;return s.isDown?t="DRAG":i.isSliding||(t="IDLE"),t}enter_SLIDE(){Syt.call(this.parent)}exit_SLIDE(){CB.call(this.parent)}update_SLIDE(t,i){Eyt.call(this.parent,t,i),this.next()}next_BACK(){var t,i=this.parent,s=i.dragState;return s.isDown?t="DRAG":i.isPullBack||(t="IDLE"),t}enter_BACK(){Pyt.call(this.parent)}exit_BACK(){CB.call(this.parent)}update_BACK(t,i){byt.call(this.parent,t,i),this.next()}}const lp=Phaser.Utils.Objects.GetValue,wyt=Phaser.Math.Distance.Between;class Ryt extends ji{constructor(t,i){super(t,i),this._enable=void 0,this.rectBoundsInteractive=lp(i,"rectBoundsInteractive",!1),this.rectBoundsInteractive||t.setInteractive(lp(i,"inputConfig",void 0)),this.resetFromJSON(i),this.boot()}resetFromJSON(t){return this.pointer=void 0,this.isInTouched=!1,this.holdStartTime=void 0,this.x=void 0,this.y=void 0,this.preX=void 0,this.preY=void 0,this.localX=void 0,this.localY=void 0,this.justMoved=!1,this.setEnable(lp(t,"enable",!0)),this.holdThreshold=lp(t,"holdThreshold",50),this.pointerOutReleaseEnable=lp(t,"pointerOutRelease",!0),this}boot(){var t=this.scene,i=this.parent;this.rectBoundsInteractive?(t.input.on("pointerdown",this.onPointIn,this),t.input.on("pointerup",this.onPointOut,this),t.input.on("pointermove",this.onPointerMove,this)):(i.on("pointerdown",this.onPointIn,this),i.on("pointerup",this.onPointOut,this),this.pointerOutReleaseEnable&&i.on("pointerout",this.onPointOut,this),i.on("pointermove",this.onPointerMove,this)),t.sys.events.on("preupdate",this.preupdate,this)}shutdown(t){if(!this.isShutdown){var i=this.scene;this.parent,this.rectBoundsInteractive&&(i.input.off("pointerdown",this.onPointIn,this),i.input.off("pointerup",this.onPointOut,this),i.input.off("pointermove",this.onPointerMove,this)),i.sys.events.off("preupdate",this.preupdate,this),this.pointer=void 0,super.shutdown(t)}}get enable(){return this._enable}set enable(t){this._enable!==t&&(t||(this.isInTouched=!1,this.pointer=void 0),this._enable=t)}setEnable(t){return t===void 0&&(t=!0),this.enable=t,this}toggleEnable(){return this.setEnable(!this.enable),this}setPointerOutReleaseEnable(t){return t===void 0&&(t=!0),this.pointerOutReleaseEnable=t,this}get isDown(){return this.pointer&&this.pointer.isDown}get isUp(){return!this.isDown}get dx(){return this.x-this.preX}get dy(){return this.y-this.preY}get dt(){var t=aw(this.scene);return t}get speed(){if(this.x===this.preX&&this.y===this.preY)return 0;var t=wyt(this.preX,this.preY,this.x,this.y),i=t/(this.dt*.001);return i}get speedX(){return this.dx/(this.dt*.001)}get speedY(){return this.dy/(this.dt*.001)}onPointIn(t,i,s){!this.enable||!t.isDown||this.pointer!==void 0||this.rectBoundsInteractive&&!Po(this.parent,t)||(this.pointer=t,this.localX=i,this.localY=s)}onPointOut(t){!this.enable||this.pointer!==t||(this.pointer=void 0)}onPointerMove(t,i,s){if(!(!this.enable||!t.isDown||this.pointer!==t)){if(this.rectBoundsInteractive&&this.pointerOutReleaseEnable&&!Po(this.parent,t)){this.onPointOut(t);return}this.localX=i,this.localY=s}}preupdate(t,i){if(this.enable){var s=this.pointer;this.justMoved=!1,s&&!this.isInTouched?(this.x=s.worldX,this.y=s.worldY,this.preX=s.worldX,this.preY=s.worldY,this.isInTouched=!0,this.holdStartTime=void 0,this.emit("touchstart",s,this.localX,this.localY)):s&&this.isInTouched?this.x===s.x&&this.y===s.y?this.holdStartTime===void 0?this.holdStartTime=t:t-this.holdStartTime>this.holdThreshold&&(this.preX=this.x,this.preY=this.y):(this.preX=this.x,this.preY=this.y,this.x=s.worldX,this.y=s.worldY,this.holdStartTime=void 0,this.justMoved=!0,this.emit("touchmove",s,this.localX,this.localY)):!s&&this.isInTouched&&(this.isInTouched=!1,this.holdStartTime=void 0,this.emit("touchend",s))}}}const sb=Phaser.Utils.Objects.GetValue;class Ayt{constructor(t){this.resetFromJSON(t)}resetFromJSON(t){return this.setValue(sb(t,"value",0)),this.setSpeed(sb(t,"speed",0)),this.setAcceleration(sb(t,"acceleration",0)),this}reset(){this.setValue(0),this.setSpeed(0),this.setAcceleration(0)}setValue(t){return this.value=t,this}setSpeed(t){return this.speed=t,this}setAcceleration(t){return this.acceleration=t,this}updateSpeed(t){return this.acceleration!==0&&(this.speed+=this.acceleration*t,this.speed<0&&(this.speed=0)),this}getDeltaValue(t){return this.updateSpeed(t),this.speed<=0?0:this.speed*t}update(t){return this.updateSpeed(t),this.speed>0&&(this.value+=this.getDeltaValue(t)),this}get isMoving(){return this.speed>0}}class Oyt{constructor(){this.value,this.dir,this.movement=new Ayt}init(t,i,s,p,E){return this.value=t,this.end=E,E!==void 0?this.dir=t<E:this.dir=i,s=Math.abs(s),this.movement.setSpeed(s).setAcceleration(-p),this}stop(){this.movement.reset()}update(t){var i=this.movement.getDeltaValue(t);return this.dir||(i=-i),this.end===void 0?this.value+=i:i===0?this.value=this.end:(this.value+=i,this.dir?this.value>this.end&&(this.value=this.end):this.value<this.end&&(this.value=this.end)),this}get isMoving(){return this.movement.isMoving}}const lr=Phaser.Utils.Objects.GetValue,Lyt=Phaser.Math.Clamp;class Dyt extends ji{constructor(t,i){super(t,i);var s=lr(i,"enable",!0);this._state=new Myt(this,{enable:s,eventEmitter:!1});var p={rectBoundsInteractive:lr(i,"rectBoundsInteractive",!1),inputConfig:lr(i,"inputConfig",void 0),enable:s,pointerOutRelease:lr(i,"pointerOutRelease",!0),eventEmitter:!1};this.dragState=new Ryt(t,p),this._enable=void 0,this._value=void 0,this._slowDown=new Oyt,this.setSnapStep(lr(i,"snapStep",void 0));var E=lr(i,"valuechangeCallback",null);if(E!==null){var n=lr(i,"valuechangeCallbackScope",void 0);this.on("valuechange",E,n)}if(E=lr(i,"overmaxCallback",null),E!==null){var n=lr(i,"overmaxCallbackScope",void 0);this.on("overmax",E,n)}if(E=lr(i,"overminCallback",null),E!==null){var n=lr(i,"overminCallbackScope",void 0);this.on("overmin",E,n)}this.resetFromJSON(i),this.boot()}resetFromJSON(t){this.setOrientationMode(lr(t,"orientation",0)),this.setDragThreshold(lr(t,"threshold",10)),this.setSlidingDeceleration(lr(t,"slidingDeceleration",5e3)),this.setBackDeceleration(lr(t,"backDeceleration",2e3));var i=lr(t,"dragRate",1);i=i*(lr(t,"dragReverse",!1)?-1:1),this.setDragRate(i);var s=lr(t,"bounds",void 0);return s?this.setBounds(s):this.setBounds(lr(t,"max",0),lr(t,"min",0)),this.setValue(lr(t,"value",this.maxValue||0)),this.setEnable(lr(t,"enable",!0)),this}boot(){this.scene.sys.events.on("preupdate",this._state.update,this._state)}shutdown(t){this.isShutdown||(this.scene.sys.events.off("preupdate",this._state.update,this._state),this._state.destroy(t),this.dragState.destroy(t),this._state=void 0,this.dragState=void 0,super.shutdown(t))}get enable(){return this._enable}set enable(t){if(this._enable!==t)return this._enable=t,this._state.setEnable(t),this.dragState.setEnable(t),this}setEnable(t){return t===void 0&&(t=!0),this.enable=t,this}toggleEnable(){return this.setEnable(!this.enable),this}setOrientationMode(t){return typeof t=="string"&&(t=Fyt[t]),this.orientationMode=t,this}setDragThreshold(t){return this.dragThreshold=t,this}setSlidingDeceleration(t){return this.slidingDeceleration=t,this}setBackDeceleration(t){return this.backDeceleration=t,this}setDragRate(t){return this.dragRate=t,this}setBounds(t,i){if(Array.isArray(t)){var s=t;t=s[0],i=s[1]}return t<i?(this.minValue=t,this.maxValue=i):(this.minValue=i,this.maxValue=t),this}setSnapStep(t){return this.snapStep=t,this}get value(){return this._value}set value(t){if(t!==this._value){var i=this._value,s=this.overMax(t),p=this.overMin(t);s&&this.emit("overmax",t,i),p&&this.emit("overmin",t,i),this.backEnable||(s&&(t=this.maxValue),p&&(t=this.minValue)),this._value=t,this.emit("valuechange",t,i)}}setValue(t,i){return i===void 0&&(i=!1),i&&(t=Lyt(t,this.minValue,this.maxValue)),this.value=t,this}addValue(t,i){return this.setValue(this.value+t,i),this}get state(){return this._state.state}get isDragging(){return this.dragState.isInTouched}get outOfMaxBound(){return this.overMax(this.value)}get outOfMinBound(){return this.overMin(this.value)}get outOfBounds(){return this.outOfMinBound||this.outOfMaxBound}overMax(t){return this.maxValue!=null&&t>this.maxValue}overMin(t){return this.minValue!=null&&t<this.minValue}get backEnable(){return typeof this.backDeceleration=="number"}get isPullBack(){return this._slowDown.isMoving}get slidingEnable(){return typeof this.slidingDeceleration=="number"}get isSliding(){return this._slowDown.isMoving}get dragDelta(){var t;return this.orientationMode===0?t=this.dragState.dy:this.orientationMode===1?t=this.dragState.dx:t=0,t*=this.dragRate,t}get dragSpeed(){var t;return this.orientationMode===0?t=this.dragState.speedY:this.orientationMode===1?t=this.dragState.speedX:t=0,t*=this.dragRate,t}}const Fyt={y:0,v:0,vertical:0,x:1,h:1,horizontal:1},xy=Phaser.Utils.Objects.GetValue;class Iyt extends ji{constructor(t,i){switch(super(t,i),this.parent!==this.scene?this.focusMode=xy(i,"focus",!0):this.focusMode=!1,typeof this.focusMode=="boolean"&&(this.focusMode=this.focusMode?1:0),this.setSpeed(xy(i,"speed",.1)),this.setEnable(xy(i,"enable",!0)),this.focusMode){case 0:case 2:this.scene.input.on("wheel",this.onSceneScroll,this);break;default:t.setInteractive(xy(i,"inputConfig",void 0)).on("wheel",function(s,p,E,n,T){this.tryScroll(E)},this);break}}destroy(){switch(this.focusMode){case 0:case 2:this.scene.input.off("wheel",this.onSceneScroll,this);break}}onSceneScroll(t,i,s,p,E,n){this.focusMode===2&&!Po(this.parent,t)||this.tryScroll(p)}setEnable(t){return t===void 0&&(t=!0),this.enable=t,this}setSpeed(t){return this.speed=t,this}tryScroll(t){if(this.enable)return this.scroll(t),this}scroll(t){return t*=this.speed,this.emit("scroll",t,this.parent,this),this}}const tr=Phaser.Utils.Objects.GetValue,Byt=Phaser.Math.Snap.To;var Ty=function(e,t,i,s){i=i.toUpperCase();var p=i==="Y",E=e.scrollMode===2,n=e.childrenMap.child,T,r=`snapStep${i}`;if(E)T=tr(s,r,void 0);else{var T=tr(s,"snapStep",void 0);T===void 0&&(T=tr(s,r,void 0))}e[r]=T;var o,x,d=`slider${i}`;if(E||s.hasOwnProperty(d)?o=tr(s,d,void 0):o=tr(s,"slider",void 0),o){o===!0&&(o={}),o.orientation=p?1:0,x=myt(e.scene,o);var h,l,a,f=tr(o,"position",0);typeof f=="string"&&(f=Gyt[f]);var c=tr(s,`space.slider${i}`,void 0),u;c===void 0&&(c=tr(s,"space.slider",void 0),c===void 0&&(E?c=0:u=tr(s,"space.child",0)));var v;u===void 0?v=typeof c=="number":v=typeof u=="number",p?f===0?(h=2,l=1,u===void 0?a=v?{left:c}:c:a={left:tr(u,"right",u)}):(h=0,l=1,u===void 0?a=v?{right:c}:c:a={right:tr(u,"left",u)}):f===0?(h=1,l=2,u===void 0?a=v?{top:c}:c:a={top:tr(u,"bottom",u)}):(h=1,l=0,u===void 0?a=v?{bottom:c}:c:a={bottom:tr(u,"top",u)}),t.add(x,{column:h,row:l,align:"center",padding:a,expand:!0}),e[`hideUnscrollableSlider${i}`]=tr(o,"hideUnscrollableSlider",!1),e[`disableUnscrollableDrag${i}`]=tr(o,"disableUnscrollableDrag",!1),e[`adaptThumb${i}SizeMode`]=tr(o,"adaptThumbSize",!1),e[`minThumb${i}Size`]=tr(o,"minThumbSize",void 0)}else e[`hideUnscrollableSlider${i}`]=!1,e[`disableUnscrollableDrag${i}`]=!1,e[`adaptThumb${i}SizeMode`]=!1,e[`minThumb${i}Size`]=void 0;var g=tr(s,"scrollDetectionMode");typeof g=="string"&&(g=kyt[g]);var m,y,C=`scroller${i}`;E||s.hasOwnProperty(C)?m=tr(s,C,!0):m=tr(s,"scroller",!0),m&&n&&(m===!0&&(m={}),m.orientation=p?0:1,g!==void 0&&(m.rectBoundsInteractive=g===1),m.snapStep=T,y=new Dyt(n,m),n.isRexContainerLite&&n.sendChildToBack(n));var b=tr(s,E?`mouseWheelScroller${i}`:"mouseWheelScroller",!1),M;if(b&&n&&(g!==void 0&&(b.focus=g===1?2:0),M=new Iyt(n,b)),e.addChildrenMap(`slider${i}`,x),e.addChildrenMap(`scroller${i}`,y),e.addChildrenMap(`mouseWheelScroller${i}`,M),(!E||p)&&(e.hideUnscrollableSlider=e[`hideUnscrollableSlider${i}`],e.disableUnscrollableDrag=e[`disableUnscrollableDrag${i}`],e.adaptThumbSizeMode=e[`adaptThumb${i}SizeMode`],e.minThumbSize=e[`minThumb${i}Size`],e.addChildrenMap("slider",x),e.addChildrenMap("scroller",y),e.addChildrenMap("mouseWheelScroller",M)),x){var w,R;E?(w=p?"t":"s",R=`scroll${i}`):(w="t",R="scroll"),x.on("valuechange",function(F){e[w]=F,e.emit(R,e)}).on("inputend",function(){var F=e[`snapStep${i}`];if(F){var G=e[p?"topChildOY":"leftChildOX"],I=e[p?"bottomChildOY":"rightChildOX"],B=e[`childO${i}`],k=Byt(B,F,G),U=500*(Math.abs(k-B)/F);x.setEaseValueDuration(U).easeValueTo(k,G,I)}})}if(y){var A,R;E?(A=`childO${i}`,R=`scroll${i}`):(A="childOY",R="scroll"),y.on("valuechange",function(G){e[A]=G,e.emit(R,e)})}if(M){var L;E?L=`addChildO${i}`:L="addChildOY",M.on("scroll",function(F){var G=e[r];G&&(F=G),e[L](-F,!0)})}};const Gyt={right:0,left:1,bottom:0,top:1},kyt={gameObject:0,rectBounds:1},Cy=Phaser.Utils.Objects.GetValue;var Nyt=function(e,t){var i=e.scene,s=[0,1,0],p=[0,1,0],E=Cy(t,"width"),n=Cy(t,"height");if(!E){var T=Cy(t,"child.expandWidth",!0);T||(s[1]=0)}if(!n){var r=Cy(t,"child.expandHeight",!0);r||(p[1]=0)}var o=new Ha(i,{column:3,row:3,columnProportions:s,rowProportions:p});switch(H0t(e,o,t),e.scrollMode){case 0:Ty(e,o,"y",t);break;case 1:Ty(e,o,"x",t);break;default:Ty(e,o,"y",t),Ty(e,o,"x",t);break}return o};const vo=Phaser.Utils.Objects.GetValue;let sg=class extends qe{constructor(t,i){i===void 0&&(i={});var s=iR(i),p=s===1;i.orientation=p?0:1,super(t,i),this.type=vo(i,"type","rexScrollable"),this.scrollMode=s;var E=vo(i,"background",void 0);E&&this.addBackground(E);var n=vo(i,"header",void 0);if(n){var T=vo(i,"align.header","center"),r=vo(i,"space.header",0),o;p?o={right:r}:o={bottom:r},this.add(n,{proportion:0,align:T,padding:o,expand:vo(i,"expand.header",!0)})}var x=Nyt(this,i);x&&this.add(x,{proportion:1,align:"center",padding:0,expand:!0});var d=vo(i,"footer",void 0);if(d){var T=vo(i,"align.footer","center"),h=vo(i,"space.footer",0),o;p?o={left:h}:o={top:h},this.add(d,{proportion:0,align:T,padding:o,expand:vo(i,"expand.footer",!0)})}this.addChildrenMap("background",E),this.addChildrenMap("header",n),this.addChildrenMap("footer",d),this.runLayoutFlag=!1}postLayout(t,i,s){var p=0,E=0;return this.runLayoutFlag?(E=this.t,this.scrollMode===2&&(p=this.s)):this.runLayoutFlag=!0,this.resizeController(),this.setT(E),this.scrollMode===2&&this.setS(p),super.postLayout(t,i,s),this}set t(t){var i=this.childMargin;if(i.top!==0||i.bottom!==0){var s=this.childrenMap.child,p=s.topChildOY-s.bottomChildOY,E=p+i.top+i.bottom,n=E*t-i.top;t=p!==0?n/p:0}this.childrenMap.child.t=t,this.updateController()}get t(){var t=this.childrenMap.child.t,i=this.childMargin;if(i.top!==0||i.bottom!==0){var s=this.childrenMap.child,p=s.topChildOY-s.bottomChildOY,E=p+i.top+i.bottom,n=p*t+i.top;t=E!==0?n/E:0}return t}set s(t){var i=this.childMargin;if(i.left!==0||i.right!==0){var s=this.childrenMap.child,p=s.leftChildOX-s.rightChildOX,E=p+i.left+i.right,n=E*t-i.left;t=p!==0?n/p:0}this.childrenMap.child.s=t,this.updateController()}get s(){var t=this.childrenMap.child.s,i=this.childMargin;if(i.left!==0||i.right!==0){var s=this.childrenMap.child,p=s.leftChildOX-s.rightChildOX,E=p+i.left+i.right,n=p*t+i.left;t=E!==0?n/E:0}return t}set childOY(t){this.childrenMap.child.childOY=t,this.updateController()}get childOY(){return this.childrenMap.child.childOY}set childOX(t){this.childrenMap.child.childOX=t,this.updateController()}get childOX(){return this.childrenMap.child.childOX}get topChildOY(){return this.childrenMap.child.topChildOY+this.childMargin.top}get bottomChildOY(){return this.childrenMap.child.bottomChildOY-this.childMargin.bottom}get leftChildOX(){return this.childrenMap.child.leftChildOX+this.childMargin.left}get rightChildOX(){return this.childrenMap.child.rightChildOX-this.childMargin.right}get childVisibleHeight(){return this.childrenMap.child.childVisibleHeight}get childHeight(){return this.childrenMap.child.childHeight}get childVisibleWidth(){return this.childrenMap.child.childVisibleWidth}get childWidth(){return this.childrenMap.child.childWidth}get isOverflow(){var t=this.childrenMap.child;return t.topChildOY!==t.bottomChildOY}get isOverflowY(){return this.isOverflow}get isOverflowX(){var t=this.childrenMap.child;return t.leftChildOX!==t.rightChildOX}get sliderEnable(){var t=this.childrenMap.slider;return t?t.enable:!1}set sliderEnable(t){var i=this.childrenMap.slider;i&&i.setEnable(t)}setSliderEnable(t){return t===void 0&&(t=!0),this.sliderEnable=t,this}get sliderYEnable(){return this.sliderEnable}set sliderYEnable(t){this.sliderEnable=t}setSliderYEnable(t){return this.setSliderEnable(t),this}get sliderXEnable(){var t=this.childrenMap.sliderX;return t?t.enable:!1}set sliderXEnable(t){var i=this.childrenMap.sliderX;i&&i.setEnable(t)}setSliderXEnable(t){return t===void 0&&(t=!0),this.sliderXEnable=t,this}get scrollerEnable(){var t=this.childrenMap.scroller;return t?t.enable:!1}set scrollerEnable(t){var i=this.childrenMap.scroller;i&&i.setEnable(t)}setScrollerEnable(t){return t===void 0&&(t=!0),this.scrollerEnable=t,this}get scrollerYEnable(){return this.scrollerEnable}set scrollerYEnable(t){this.scrollerEnable=t}setScrollerYEnable(t){return this.setScrollerEnable(t),this}get scrollerXEnable(){var t=this.childrenMap.scrollerX;return t?t.enable:!1}set scrollerXEnable(t){var i=this.childrenMap.scrollerX;i&&i.setEnable(t)}setScrollerXEnable(t){return t===void 0&&(t=!0),this.scrollerXEnable=t,this}get scrollerXEnable(){var t=this.childrenMap.scrollerX;return t?t.enable:!1}set scrollerXEnable(t){var i=this.childrenMap.scrollerX;i&&i.setEnable(t)}setScrollerXEnable(t){return t===void 0&&(t=!0),this.scrollerXEnable=t,this}get mouseWheelScrollerEnable(){var t=this.childrenMap.mouseWheelScroller;return t?t.enable:!1}set mouseWheelScrollerEnable(t){var i=this.childrenMap.mouseWheelScroller;i&&i.setEnable(t)}setMouseWheelScrollerEnable(t){return t===void 0&&(t=!0),this.mouseWheelScrollerEnable=t,this}get mouseWheelScrollerYEnable(){return this.mouseWheelScrollerEnable}set mouseWheelScrollerYEnable(t){this.mouseWheelScrollerEnable=t}setMouseWheelScrollerYEnable(t){return this.setMouseWheelScrollerEnable(t),this}get mouseWheelScrollerXEnable(){var t=this.childrenMap.mouseWheelScrollerX;return t?t.enable:!1}set mouseWheelScrollerXEnable(t){var i=this.childrenMap.mouseWheelScrollerX;i&&i.setEnable(t)}setMouseWheelScrollerXEnable(t){return t===void 0&&(t=!0),this.mouseWheelScrollerXEnable=t,this}setDropZoneEnable(t){t===void 0&&(t=!0);var i=this.childrenMap.child;return i.setInteractive(),i.input.dropZone=t,this}};Object.assign(sg.prototype,a8);var nR=function(e,t,i){var s=Lh(e);switch(s){case Rn:i=e.getWrappedText(t);break;case An:i=e.getPenManager(t,i);break;case As:e.maxWidth>0?i=e.setText(t).getTextBounds().wrappedText.split(`
`):i=t.split(`
`);break}return i},Uyt=function(e){return e!==void 0&&(this.text=e),this.lines=nR(this.textObject,this.text,this.lines),this.linesCount=this.lines.length,this._textHeight=void 0,this._textVisibleHeight=void 0,this.updateTextObject(),this},u8=function(e){return(e-this.textLineSpacing)/(this.textLineHeight+this.textLineSpacing)},f8=function(e){return e*(this.textLineHeight+this.textLineSpacing)-this.textLineSpacing},Vyt=function(e){var t=e+this.visibleLinesCount+1,i;switch(this.textObjectType){case Rn:i=this.lines.slice(e,t).join(`
`);break;case An:var s=this.lines.getLineStartIndex(e),p=this.lines.getLineEndIndex(t-1);i=this.lines.getSliceTagText(s,p,!0);break;case As:i=this.lines.slice(e,t).join(`
`);break}return i},uT=function(e,t){var i=Lh(e);switch(i){case Rn:var E=e.style,s=E.wordWrapWidth,p=E.wordWrapCallback;E.wordWrapWidth=0,E.wordWrapCallback=void 0,e.setText(t),E.wordWrapWidth=s,E.wordWrapCallback=p;break;case An:var E=e.style,n=E.wrapMode;E.wrapMode=0,e.setText(t),E.wrapMode=n;break;case As:var T=e._maxWidth;e._maxWidth=0,e.setText(t),e._maxWidth=T;break}},d8=function(){var e=this.textObject.rexSizer;this.textObject.y+=e.offsetY-e.preOffsetY,e.preOffsetY=e.offsetY,this.resetChildPositionState(this.textObject),this.textCropEnable&&zyt.call(this)},zyt=function(){if(this.textObject.setCrop){var e=this.textObject.rexSizer.offsetY,t,i;e<=0?(t=-e,i=this.height):(t=0,i=this.height-e),this.textObject.setCrop(0,t,this.width,i)}},Wyt=function(){var e=Math.max(Math.floor(u8.call(this,-this.textOY)),0),t=f8.call(this,e)+this.textOY,i=Vyt.call(this,e);return uT(this.textObject,i),this.textObject.rexSizer.offsetY=t,d8.call(this),this},Yyt=function(){return this._textLineHeight=void 0,this._textLineSpacing=void 0,this._visibleLinesCount=void 0,this._textHeight=void 0,this._textVisibleHeight=void 0,jp.call(this),this},Xyt=function(e,t,i){if(i+=this.textLineHeight+this.textLineSpacing,!(this.textObjectWidth===t&&this._textObjectRealHeight===i)){switch(this.textObjectWidth=t,this._textObjectRealHeight=i,this.textObjectType){case Rn:case An:e.setFixedSize(t,i);var s=e.style,p=Math.max(t,0);this.textObjectType===Rn?s.wordWrapWidth=p:(s.wrapMode===0&&(s.wrapMode=1),s.wrapWidth=p);break;case As:e.setMaxWidth(t);break}this.setText()}},Hyt=function(){var e,t,i,s=this.left,p=this.top,E,n,T,r;e=this.textObject,e.rexSizer.hidden||(t=e.rexSizer,i=t.padding,E=s+i.left*this.scaleX,n=p+i.top*this.scaleY,T=this.width*this.scaleX-(i.left+i.right)*this.scaleX,r=this.height*this.scaleY-(i.top+i.bottom)*this.scaleY,Xyt.call(this,e,T,r),Kp(e,E,n,T,r,t.align),t.preOffsetY=0,d8.call(this),this.textMask&&(this.textMask.setPosition().resize(),this.resetChildPositionState(this.textMask)))};const $yt={setText:Uyt,updateTextObject:Wyt,preLayout:Yyt,layoutChildren:Hyt},SB=Phaser.Utils.Objects.IsPlainObject,bs=Phaser.Utils.Objects.GetValue,Kyt=Phaser.Display.Align.TOP_LEFT;class c8 extends _u{constructor(t,i,s,p,E,n){SB(i)?(n=i,i=bs(n,"x",0),s=bs(n,"y",0),p=bs(n,"width",void 0),E=bs(n,"height",void 0)):SB(p)&&(n=p,p=bs(n,"width",void 0),E=bs(n,"height",void 0)),super(t,i,s,p,E,n),this.type="rexTextBlock",this.textObject=void 0,this.linesCount=0,this.textMask=void 0,this.textObjectType=void 0,this._textLineHeight=void 0,this._textLineSpacing=void 0,this._visibleLinesCount=void 0,this._textHeight=void 0,this._textVisibleHeight=void 0,this._textObjectRealHeight=0,this.lines=void 0,this.text=bs(n,"content",""),this._textOY=0,this.execeedTopState=!1,this.execeedBottomState=!1,this.setClampMode(bs(n,"clampTextOY",!0)),this.alwaysScrollable=bs(n,"alwaysScrollable",!1);var T=bs(n,"background",void 0),r=bs(n,"text",void 0);r===void 0&&(r=Zyt(t)),this.textCropEnable=bs(n,"textCrop",!!r.setCrop);var o=bs(n,"textMask",!this.textCropEnable);T&&this.addBackground(T),this.add(r),this.sizerChildren=[r];var x=this.getSizerConfig(r);x.align=Kyt,x.padding=qu(0),x.expand=!0,this.textObject=r,this.textObjectType=Lh(r),x.preOffsetY=0,x.offsetY=0,o&&(this.textMask=za.call(this,this.textObject,this)),this.addChildrenMap("background",T),this.addChildrenMap("text",r)}destroy(t){if(!(!this.scene||this.ignoreDestroy)){if(this.textObject=void 0,this.textMask=void 0,this.lines){switch(this.textObjectType){case Rn:this.lines.length=0;break;case An:this.lines.destroy();break;case As:this.lines.length=0;break}this.lines=void 0}super.destroy(t)}}setClampMode(t){return t===void 0&&(t=!0),this.clampTextOY=t,this}get textLineHeight(){if(this._textLineHeight===void 0){var t;switch(this.textObjectType){case Rn:case An:var i=this.textObject.style;t=i.metrics.fontSize+i.strokeThickness;break;case As:var s=this.textObject.fontSize/this.textObject.fontData.size;t=this.textObject.fontData.lineHeight*s;break}this._textLineHeight=t}return this._textLineHeight}get textLineSpacing(){if(this._textLineSpacing===void 0){var t;switch(this.textObjectType){case Rn:case An:t=this.textObject.lineSpacing;break;case As:t=0;break}this._textLineSpacing=t}return this._textLineSpacing}get visibleLinesCount(){return this._visibleLinesCount===void 0&&(this._visibleLinesCount=Math.floor(u8.call(this,this._textObjectRealHeight))),this._visibleLinesCount}get topTextOY(){return 0}get bottomTextOY(){return-this.textVisibleHeight}get textHeight(){return this._textHeight===void 0&&(this._textHeight=f8.call(this,this.linesCount)),this._textHeight}get textObjectHeight(){return this._textObjectRealHeight-(this.textLineHeight+this.textLineSpacing)}get textVisibleHeight(){if(this._textVisibleHeight===void 0){var t=this.textHeight-this.textObjectHeight;!this.alwaysScrollable&&t<0&&(t=0),this._textVisibleHeight=t}return this._textVisibleHeight}textOYExceedTop(t){return t===void 0&&(t=this.textOY),t>this.topTextOY}textOYExeceedBottom(t){return t===void 0&&(t=this.textOY),t<this.bottomTextOY}get textOY(){return this._textOY}set textOY(t){var i=this.topTextOY,s=this.bottomTextOY,p=this.textOYExceedTop(t),E=this.textOYExeceedBottom(t);this.clampTextOY&&(this.visibleLinesCount>this.linesCount?t=0:p?t=i:E&&(t=s)),this._textOY!==t&&(this._textOY=t,this.updateTextObject()),p&&(this.execeedTopState||this.emit("execeedtop",this,t,i)),this.execeedTopState=p,E&&(this.execeedBottomState||this.emit("execeedbottom",this,t,s)),this.execeedBottomState=E}setTextOY(t){return this.textOY=t,this}set t(t){this.textOY=-this.textVisibleHeight*t}get t(){var t=this.textVisibleHeight;return t===0?0:this.textOY/-t}setTextOYByPercentage(t){return this.t=t,this}}var Zyt=function(e){return e.add.text(0,0,"")};Object.assign(c8.prototype,$yt);var Jyt=function(e){Object.defineProperty(e,"childOY",{configurable:!0,get:function(){return e.textOY},set:function(t){e.textOY=t}}),Object.defineProperty(e,"topChildOY",{get:function(){return e.topTextOY}}),Object.defineProperty(e,"bottomChildOY",{get:function(){return e.bottomTextOY}}),Object.defineProperty(e,"childVisibleHeight",{get:function(){return e.textObjectHeight}}),Object.defineProperty(e,"childHeight",{get:function(){return e.textHeight}})};const jyt={setText(e){var t=this.childrenMap.child;return t.setText(e),this.resizeController(),this},appendText(e){return this.setText(this.text+e),this}},Qyt={scrollToLine(e){return this.setChildOY(-this.lineHeight*e),this},scrollToNextLine(e){e===void 0&&(e=1);var t=this.lineIndex+e;return this.scrollToLine(t),this}},po=Phaser.Utils.Objects.GetValue;class ag extends sg{constructor(t,i){i===void 0&&(i={});var s=po(i,"text",void 0),p=po(i,"textWidth",void 0),E=po(i,"textHeight",void 0),n=po(i,"textCrop",!!s.setCrop),T=po(i,"textMask",!n),r=po(i,"content",""),o=new c8(t,{width:p,height:E,text:s,textMask:T,textCrop:n&&!T,content:r,clampTextOY:po(i,"clampChildOY",!1),alwaysScrollable:po(i,"alwaysScrollable",!1)});t.add.existing(o),Jyt(o),i.scrollMode=0,i.type="rexTextArea",i.child={gameObject:o,expandWidth:p===void 0,expandHeight:E===void 0};var x=po(i,"space",void 0);x&&(x.child=po(x,"text",0)),super(t,i),this.addChildrenMap("text",s)}get text(){return this.childrenMap.child.text}get lineHeight(){var t=this.childrenMap.child;return t.textLineHeight+t.textLineSpacing}get lineIndex(){return Math.floor(-this.childOY/this.lineHeight)}get linesCount(){var t=this.childrenMap.child;return t.linesCount}get contentHeight(){var t=this.childrenMap.child;return t.textHeight}}Object.assign(ag.prototype,jyt,Qyt);const Sy=Phaser.Utils.Objects.GetValue;var v8=function(e,t,i){t=t?tn(t):{};var s=Sy(i,"background",Vr),p=Sy(i,"text",sR),E=Sy(i,"track",Vr),n=Sy(i,"thumb",Vr);s?t.background=s(e,t.background):delete t.background,p?t.text=p(e,t.text):delete t.text;var T=t.slider;T!==!1&&T!==null&&(T===void 0&&(T={}),E?T.track=E(e,T.track):delete T.track,n?T.thumb=n(e,T.thumb):delete T.thumb,t.slider=T);var r=new ag(e,t);return e.add.existing(r),r},sR=function(e,t){var i;t&&(t.hasOwnProperty("$type")?i=t.$type:t.hasOwnProperty("key")&&(i="bitmaptext",t.font=t.key));var s;switch(i){case"bitmaptext":case"bitmap":s=new lT(e,t);break;case"bbcodetext":case"bbcode":s=new ZM(e,0,0,"",t);break;case"label":s=new og(e,t);break;case"textarea":s=v8(e,t);break;default:s=new oT(e,t);break}return eR(s,t),e.add.existing(s),s},EB=function(e,t){var i;t&&(t.hasOwnProperty("$type")?i=t.$type:t.hasOwnProperty("leftWidth")?i="nineSlice":(t.hasOwnProperty("color")||t.hasOwnProperty("strokeColor"))&&(i="roundRectangle"));var s;switch(i){case"nineSlice":t.hasOwnProperty("stretchMode")?s=new ng(e,t):s=new rg(e,t);break;case"roundRectangle":s=new ig(e,t);break;default:s=new eg(e,t);break}return eR(s,t),e.add.existing(s),s};const Ey=Phaser.Utils.Objects.GetValue;var fT=function(e,t,i){t=t?tn(t):{};var s=Ey(i,"background",Vr),p=Ey(i,"text",sR),E=Ey(i,"icon",EB),n=Ey(i,"action",EB);return t.background!==null&&s?t.background=s(e,t.background):delete t.background,t.text!==null&&p?t.text=p(e,t.text):delete t.text,t.icon!==null&&E?t.icon=E(e,t.icon):delete t.icon,t.action!==null&&n?t.action=n(e,t.action):delete t.action,t};class og extends El{constructor(t,i,s){i=fT(t,i,s),super(t,i),this.type="rexSimpleLabel"}setActiveState(t){return ab(this.getChildren(),"setActiveState",t),this}setHoverState(t){return ab(this.getChildren(),"setHoverState",t),this}setDisableState(t){return ab(this.getChildren(),"setDisableState",t),this}}var ab=function(e,t,i){for(var s=0,p=e.length;s<p;s++){var E=e[s];E&&E[t]&&E[t](i)}};It.register("simpleLabel",function(e,t){var i=new og(this.scene,e,t);return this.scene.add.existing(i),i});Lt(window,"RexPlugins.UI.SimpleLabel",og);const Ne=Phaser.Utils.Objects.GetValue;var qyt=function(e){var t=this.scene,i=Ne(e,"orientation",0);this.setOrientation(i);var s=Ne(e,"icon",void 0),p=Ne(e,"iconMask",void 0),E=Ne(e,"innerBackground",void 0),n=Ne(e,"title",void 0),T=Ne(e,"separator",void 0),r=Ne(e,"text",void 0),o=Ne(e,"action",void 0),x=Ne(e,"actionMask",void 0);if(s){var d=Ne(e,"align.icon","center"),C;this.orientation===0?C={right:Ne(e,"space.icon",0),top:Ne(e,"space.iconTop",0),bottom:Ne(e,"space.iconBottom",0),left:Ne(e,"space.iconLeft",0)}:C={bottom:Ne(e,"space.icon",0),left:Ne(e,"space.iconLeft",0),right:Ne(e,"space.iconRight",0),top:Ne(e,"space.iconTop",0)};var h=Ne(e,"squareFitIcon",!1)?1:0;if(this.add(s,{proportion:0,align:d,padding:C,fitRatio:h}),p&&(p=za.call(this,s,s,1)),!h){var l=Ne(e,"iconSize",void 0);this.setIconSize(Ne(e,"iconWidth",l),Ne(e,"iconHeight",l))}}var a=new qe(t,{orientation:1});E&&a.addBackground(E);var f=Ne(e,"space.separator",0);if(n){var d=Ne(e,"align.title","left"),c=Ne(e,"expandTitleWidth",!1),u=Ne(e,"expandTitleHeight",!1),v,C,g;v=u?1:0,g=c,C={bottom:!T&&r?Ne(e,"space.title",f):0,left:Ne(e,"space.titleLeft",0),right:Ne(e,"space.titleRight",0)},a.add(n,{proportion:v,expand:g,align:d,padding:C})}if(T){var C={top:n?f:0,bottom:r?f:0,left:Ne(e,"space.separatorLeft",0),right:Ne(e,"space.separatorRight",0)};a.add(T,{expand:!0,padding:C})}if(r){var d=Ne(e,"align.text","left"),m=Ne(e,"expandTextWidth",!1),y=Ne(e,"expandTextHeight",!1),v,C,g;v=y?1:0,g=m,C={left:Ne(e,"space.textLeft",0),right:Ne(e,"space.textRight",0)},a.add(r,{proportion:v,expand:g,align:d,padding:C})}var C=void 0;if(o&&(C={right:Ne(e,"space.text",0)}),this.add(a,{proportion:1,padding:C}),o){var d=Ne(e,"align.action","center"),C;this.orientation===0?C={top:Ne(e,"space.actionTop",0),bottom:Ne(e,"space.actionBottom",0),right:Ne(e,"space.actionRight",0)}:C={left:Ne(e,"space.actionLeft",0),right:Ne(e,"space.actionRight",0),bottom:Ne(e,"space.actionBottom",0)};var h=Ne(e,"squareFitAction",!1)?1:0;if(this.add(o,{proportion:0,align:d,padding:C,fitRatio:h}),x&&(x=za.call(this,o,o,1)),!h){var b=Ne(e,"actionSize");this.setActionSize(Ne(e,"actionWidth",b),Ne(e,"actionHeight",b))}}this.addChildrenMap("icon",s),this.addChildrenMap("iconMask",p),this.addChildrenMap("innerSizer",a),this.addChildrenMap("innerBackground",E),this.addChildrenMap("title",n),this.addChildrenMap("separator",T),this.addChildrenMap("text",r),this.addChildrenMap("action",o),this.addChildrenMap("actionMask",x)};const De=Phaser.Utils.Objects.GetValue;var _yt=function(e){this.setOrientation(1),this.setRTL(!1);var t=this.scene,i=De(e,"title",void 0),s=De(e,"separator",void 0),p=De(e,"innerBackground",void 0),E=De(e,"icon",void 0),n=De(e,"iconMask",void 0),T=De(e,"text",void 0),r=De(e,"action",void 0),o=De(e,"actionMask",void 0);if(i){var x=De(e,"align.title","left"),d=De(e,"expandTitleWidth",!1),h=De(e,"expandTitleHeight",!1),l,a,f;l=h?1:0,f=d,a={bottom:De(e,"space.title",0),left:De(e,"space.titleLeft",0),right:De(e,"space.titleRight",0)},this.add(i,{proportion:l,expand:f,align:x,padding:a})}if(s){var c=De(e,"space.separator",0),a={top:i?c:0,bottom:T?c:0,left:De(e,"space.separatorLeft",0),right:De(e,"space.separatorRight",0)};this.add(s,{proportion:0,expand:!0,padding:a})}var u=De(e,"orientation",0),v=new qe(t,{orientation:u,rtl:De(e,"rtl",!1),space:{left:De(e,"space.innerLeft",0),right:De(e,"space.innerRight",0),top:De(e,"space.innerTop",0),bottom:De(e,"space.innerBottom",0)}});if(p&&v.addBackground(p),this.add(v,{proportion:1,expand:!0}),E){var x=De(e,"align.icon","center"),a;v.orientation===0?a={right:De(e,"space.icon",0),top:De(e,"space.iconTop",0),bottom:De(e,"space.iconBottom",0),left:De(e,"space.iconLeft",0)}:a={bottom:De(e,"space.icon",0),left:De(e,"space.iconLeft",0),right:De(e,"space.iconRight",0),top:De(e,"space.iconTop",0)};var g=De(e,"squareFitIcon",!1)?1:0;if(v.add(E,{proportion:0,align:x,padding:a,fitRatio:g}),n&&(n=za.call(this,E,E,1)),!g){var m=De(e,"iconSize",void 0);this.setIconSize(De(e,"iconWidth",m),De(e,"iconHeight",m))}}if(T){var x=De(e,"align.text","left"),y=De(e,"space.text",0),C=De(e,"expandTextWidth",!1),b=De(e,"expandTextHeight",!1),l,a,f;v.orientation===0?(l=C?1:0,r&&(a={right:y}),f=b):(l=b?1:0,r&&(a={bottom:y}),f=C),v.add(T,{proportion:l,expand:f,align:x,padding:a})}if(r){var x=De(e,"align.action","center"),a;v.orientation===0?a={top:De(e,"space.actionTop",0),bottom:De(e,"space.actionBottom",0),right:De(e,"space.actionRight",0)}:a={left:De(e,"space.actionLeft",0),right:De(e,"space.actionRight",0),bottom:De(e,"space.actionBottom",0)};var g=De(e,"squareFitAction",!1)?1:0;if(v.add(r,{proportion:0,align:x,padding:a,fitRatio:g}),o&&(o=za.call(this,r,r,1)),!g){var M=De(e,"actionSize");this.setActionSize(De(e,"actionWidth",M),De(e,"actionHeight",M))}}this.addChildrenMap("title",i),this.addChildrenMap("separator",s),this.addChildrenMap("innerSizer",v),this.addChildrenMap("innerBackground",p),this.addChildrenMap("icon",E),this.addChildrenMap("iconMask",n),this.addChildrenMap("text",T),this.addChildrenMap("action",r),this.addChildrenMap("actionMask",o)};const oh=Phaser.Utils.Objects.GetValue,PB=[qyt,_yt];class dT extends Qw{constructor(t,i){i===void 0&&(i={}),super(t,i),this.type="rexTitleLabel";var s=oh(i,"background",void 0);s&&this.addBackground(s);var p=oh(i,"title",void 0),E=oh(i,"text",void 0);if(p){var n=oh(i,"wrapTitle",!1),T=oh(i,"adjustTitleFontSize",!1);n?(n===!0&&(n="word"),rM(p,n),i.expandTitleWidth=!0,fx(p)):T&&(i.expandTextWidth=!0,i.expandTextHeight=!0,cx(p,{fitHeight:!0}))}if(E){var r=oh(i,"wrapText",!1),o=oh(i,"adjustTextFontSize",!1);r?(r===!0&&(r="word"),rM(E,r),i.expandTextWidth=!0,fx(E)):o&&(i.expandTextWidth=!0,i.expandTextHeight=!0,cx(E,{fitHeight:!0}))}var x=oh(i,"layoutMode",0),d=PB[x]||PB[0];d.call(this,i),this.addChildrenMap("background",i.background)}get title(){var t=this.childrenMap.title;return t?t.title:""}set title(t){var i=this.childrenMap.title;i&&i.setText(t)}setTitle(t){return this.title=t,this}resetDisplayContent(t){t===void 0?t={}:typeof t=="string"&&(t={text:t}),super.resetDisplayContent(t);var i=this.childrenMap.title;return i&&(t.title===void 0||(t.title?(this.show(i),this.setTitle(t.title)):this.hide(i))),this}}It.register("titleLabel",function(e){var t=new dT(this.scene,e);return this.scene.add.existing(t),t});Lt(window,"RexPlugins.UI.TitleLabel",dT);const ob=Phaser.Utils.Objects.GetValue;var p8=function(e,t,i){var s=ob(i,"innerBackground",Vr),p=ob(i,"separator",Vr),E=ob(i,"title",sR),n,T;t.innerBackground!==null&&s&&(n=s(e,t.innerBackground)),t.separator!==null&&p&&(T=p(e,t.separator)),t=fT(e,t,i),n?t.innerBackground=n:delete t.innerBackground,T?t.separator=T:delete t.separator,t.title!==null&&E?t.title=E(e,t.title):delete t.title;var r=t.background;return r&&(n?e.children.moveBelow(r,n):T&&e.children.moveBelow(r,T)),t};class g8 extends dT{constructor(t,i,s){i=p8(t,i,s),super(t,i),this.type="rexSimpleTitleLabel"}setActiveState(t){return lb(this.getChildren(),"setActiveState",t),this}setHoverState(t){return lb(this.getChildren(),"setHoverState",t),this}setDisableState(t){return lb(this.getChildren(),"setDisableState",t),this}}var lb=function(e,t,i){for(var s=0,p=e.length;s<p;s++){var E=e[s];E&&E[t]&&E[t](i)}};It.register("simpleTitleLabel",function(e,t){var i=new g8(this.scene,e,t);return this.scene.add.existing(i),i});Lt(window,"RexPlugins.UI.SimpleTitleLabel",g8);const ci=Phaser.Utils.Objects.GetValue,txt=Phaser.Utils.Objects.IsPlainObject;var ext=function(e,t){var i=ci(t,"background",void 0),s=ci(t,"icon",void 0),p=ci(t,"iconMask",void 0),E=ci(t,"nameText",void 0),n=ci(t,"valueText",void 0),T=ci(t,"bar",void 0),r=ci(t,"action",void 0),o=ci(t,"actionMask",void 0),x=ci(t,"barShape","line")==="line";if(txt(T)){var d=x?fw:zx;T=new d(e,T),e.add.existing(T),E&&e.children.moveBelow(T,E),n&&e.children.moveBelow(T,n)}var h=E||n||T;if(i&&this.addBackground(i),s){var l=void 0;this.orientation===0?(h||r)&&(l={right:ci(t,"space.icon",0),top:ci(t,"space.iconTop",0),bottom:ci(t,"space.iconBottom",0)}):(h||r)&&(l={bottom:ci(t,"space.icon",0),left:ci(t,"space.iconLeft",0),right:ci(t,"space.iconRight",0)}),this.add(s,{proportion:0,padding:l}),p&&(p=za.call(this,s,s,1))}if(h){var a=new qe(e,{orientation:1}),f;if(E||n){if(f=new qe(e,{orientation:0}),E){E.text===""&&E.setText(" "),E.setOrigin(0,E.originY);var l={left:ci(t,"space.name",0)};f.add(E,{padding:l})}if(n){n.text===""&&n.setText(" "),n.setOrigin(1,n.originY),f.addSpace();var l={right:ci(t,"space.value",0)};f.add(n,{padding:l}),this.setValueTextFormatCallback(ci(t,"valueTextFormatCallback",ixt),ci(t,"valueTextFormatCallbackScope",void 0))}a.add(f,{expand:!0})}if(T)if(x){var c=f?ci(t,"space.bar"):0;c===void 0&&(c=ci(t,"space.barTop",0));var l={top:c,bottom:ci(t,"space.barBottom",0),left:ci(t,"space.barLeft",0),right:ci(t,"space.barRight",0)};a.add(T,{expand:!0,padding:l})}else{var l={top:ci(t,"space.barTop",0),bottom:ci(t,"space.barBottom",0),left:ci(t,"space.barLeft",0),right:ci(t,"space.barRight",0)};this.addBackground(T,l)}var l=void 0;r&&(l={right:ci(t,"space.text",0)});var u=ci(t,"align.text","bottom");this.add(a,{proportion:1,align:u,padding:l})}if(r){var l;this.orientation===0?l={top:ci(t,"space.actionTop",0),bottom:ci(t,"space.actionBottom",0)}:l={left:ci(t,"space.actionLeft",0),right:ci(t,"space.actionRight",0)},this.add(r,{proportion:0,padding:l}),o&&(o=za.call(this,r,r,1))}this.addChildrenMap("background",i),this.addChildrenMap("icon",s),this.addChildrenMap("iconMask",p),this.addChildrenMap("name",E),this.addChildrenMap("value",n),this.addChildrenMap("bar",T),this.addChildrenMap("action",r),this.addChildrenMap("actionMask",o)},ixt=function(e,t,i){return e.toString()};const rxt=Phaser.Math.Clamp,nxt={setValueTextFormatCallback(e,t){return this.valueTextFormatCallback=e,this.valueTextFormatCallbackScope=t,this},getFormatValueText(e,t,i){e===void 0&&(e=this.value),t===void 0&&(t=this.minValue),i===void 0&&(i=this.maxValue);var s;return this.valueTextFormatCallbackScope?s=this.valueTextFormatCallback(e,t,i):s=this.valueTextFormatCallback.call(this.valueTextFormatCallbackScope,e,t,i),s},updateValueText(e,t,i){var s=this.childrenMap.value;return s&&this.valueTextFormatCallback&&(s.setText(this.getFormatValueText(e,t,i)),s.layout&&s.layout()),this},setValue(e,t,i){return t===void 0?t=this.minValue:this.minValue=t,i===void 0?i=this.maxValue:this.maxValue=i,e=rxt(e,t,i),this.value=e,this.updateValueText(e,t,i),this.setBarValue(e,t,i),this},setEaseValueDuration(e){return this.easeValueDuration=e,this},easeValueTo(e,t,i){return t===void 0?t=this.minValue:this.minValue=t,i===void 0?i=this.maxValue:this.maxValue=i,this.easeValueTask===void 0&&(this.easeValueTask=new ml(this),this.easeValueTask.on("update",function(){this.setValue(this.value,this.minValue,this.maxValue)},this)),this.easeValueTask.restart({key:"value",to:e,duration:this.easeValueDuration}),this}};class cT extends qe{constructor(t,i){super(t,i),this.type="rexNameValueLabel",ext.call(this,t,i),this.setEaseValueDuration(1e3)}get nameText(){var t=this.childrenMap.name;return t===void 0?"":t.text}set nameText(t){var i=this.childrenMap.name;i!==void 0&&i.setText(t)}setNameText(t){return this.nameText=t,this}get valueText(){var t=this.childrenMap.value;return t===void 0?"":t.text}set valueText(t){var i=this.childrenMap.value;i!==void 0&&i.setText(t)}setValueText(t){return this.valueText=t,this}get barValue(){var t=this.childrenMap.bar;if(t!==void 0)return t.value}set barValue(t){var i=this.childrenMap.bar;i!==void 0&&i.setValue(t)}setBarValue(t,i,s){var p=this.childrenMap.bar;return p===void 0?this:(p.setValue(t,i,s),this)}easeBarValueTo(t,i,s){var p=this.childrenMap.bar;return p===void 0?this:(p.easeValueTo(t,i,s),this)}setTexture(t,i){var s=this.childrenMap.icon;if(s!==void 0)return s.setTexture(t,i),this}get texture(){var t=this.childrenMap.icon;if(t!==void 0)return t.texture}get frame(){var t=this.childrenMap.icon;if(t!==void 0)return t.frame}postLayout(t,i,s){var p=this.childrenMap.iconMask;p&&(p.setPosition(),this.resetChildPositionState(p));var E=this.childrenMap.actionMask;return E&&(E.setPosition(),this.resetChildPositionState(E)),super.postLayout(t,i,s),this}resize(t,i){super.resize(t,i);var s=this.childrenMap.iconMask;s&&s.resize();var p=this.childrenMap.actionMask;return p&&p.resize(),this}}Object.assign(cT.prototype,nxt);It.register("nameValueLabel",function(e){var t=new cT(this.scene,e);return this.scene.add.existing(t),t});Lt(window,"RexPlugins.UI.NameValueLabel",cT);class sxt extends MG{constructor(t){super(),this.setTable(Ti(t,"table")),this.setMaxLevel(Ti(t,"maxLevel"));var i=Ti(t,"exp",0),s=Ti(t,"level",void 0);s!==void 0&&!this.checkLevel(s,i)&&(console.error(`Level ${s} and Exp ${i} are mismatch`),s=void 0),this.resetExp(i,s)}setTable(t){return this.levelTable=t,this.isLevelMapFunction=Ua(t),this}setMaxLevel(t){t===void 0&&(Array.isArray(this.levelTable)?t=this.levelTable.length-1:t=-1);var i;return t!==-1?i=this.getExp(t):i=-1,this.hasMaxLevel=t!==-1,this.maxLevel=t,this.maxExp=i,this}resetExp(t,i){return this.hasMaxLevel&&t>this.maxExp&&(t=this.maxExp),i===void 0&&(i=this.getLevel(t)),this._exp=t,this._level=i,this._requiredExp=this.getRequiredExpToNextLevel(i,t),this}get exp(){return this._exp}set exp(t){if(this.hasMaxLevel&&t>this.maxExp&&(t=this.maxExp),t<this._exp){this.resetExp(t);return}if(t!==this._exp){for(var i=this.getLevel(t,this._level),s=this._level,p=this._exp,E;;){var n=this.getExp(s),T=this.getExp(s+1);if(E=Math.min(T,t),this.emit("levelup",s,p,E,n,T),s===i&&E===t)break;s++,p=T}this.resetExp(t,i)}}get level(){return this._level}set level(t){this.hasMaxLevel&&t>this.maxLevel?this.exp=this.maxExp:this.exp=this.getExp(t)}get requiredExp(){return this._requiredExp}getExp(t){return t===void 0?this._exp:this.isLevelMapFunction?this.levelTable(t):(this.hasMaxLevel&&t>this.maxLevel&&(t=this.maxLevel),this.levelTable[t])}getLevel(t,i){if(t===void 0)return this._level;for(i===void 0&&(i=0);;){var s=this.getExp(i+1);if(s>t||(i++,this.hasMaxLevel&&s===this.maxExp))break}return i}getRequiredExpToNextLevel(t,i){return t===void 0&&(t=this.level),i===void 0&&(i=this.exp),this.getExp(t+1)-i}checkLevel(t,i){return i>=this.getExp(t)&&i<this.getExp(t+1)}gainExp(t,i,s){return i&&this.on("levelup",i,s),this.exp+=t,i&&this.off("levelup",i,s),this}setExp(t,i,s){return i&&this.on("levelup",i,s),this.exp=t,i&&this.off("levelup",i,s),this}setLevel(t,i,s){return i&&this.on("levelup",i,s),this.level=t,i&&this.off("levelup",i,s),this}}var nM=function(e,t,i){var s=Ti(i,"reverse",!1),p;if(Va(e[0]))if(s)for(var n=e.length,E=n-1;E>=0;E--)p=nM(e[E],t,i);else for(var E=0,n=e.length;E<n;E++)p=nM(e[E],t,i);else p=axt(e,t,i);return p},axt=function(e,t,i){var s=Ti(i,"argsConvert",void 0),p=Ti(i,"argsConvertScope",void 0),E=e[0];if(lh=rx(lh,e,1),s){s===!0&&(s=ew,p=void 0);for(var n=0,T=lh.length;n<T;n++)p?lh[n]=s.call(p,lh[n],e):lh[n]=s(lh[n],e)}var r;typeof E=="string"?(r=t[E],r==null&&(r=Ti(t,E,null))):r=E;var o=r.apply(t,lh);return o},lh=[];const La=Phaser.Utils.Objects.GetValue;class m8 extends ji{constructor(t,i){super(t,i);var s=La(i,"clock",void 0);s||(s=new TG(t)),this.clock=s,this.clock.on("update",this.update,this),this.commands=[],this.resetFromJSON(i)}resetFromJSON(t){return this.clock.resetFromJSON(La(t,"clock",void 0)),this.state=La(t,"state",0),this.commands=La(t,"commands",[]),this.scope=La(t,"scope",void 0),this.setTimeUnit(La(t,"timeUnit",0)),this.setDtMode(La(t,"dtMode",0)),this.index=La(t,"index",0),this.nextTime=La(t,"nextTime",0),this}toJSON(){return{clock:this.clock.toJSON(),state:this.state,commands:this.commands,scope:this.scope,timeUnit:this.timeUnit,dtMode:this.dtMode,index:this.index,nextTime:this.nextTime}}shutdown(t){this.isShutdown||(this.clock.shutdown(t),this.commands=void 0,super.shutdown(t))}load(t,i,s){this.stop();var p=La(s,"timeUnit",void 0);p!==void 0&&this.setTimeUnit(p);var E=La(s,"dtMode",void 0);return E!==void 0&&this.setDtMode(E),t=t.filter(function(n){var T=n[0];return!isNaN(T)}).map(function(n){var T=n[0];return typeof T=="string"&&(n[0]=parseFloat(n[0])),n}),this.dtMode===0&&t.sort(function(n,T){var r=n[0],o=T[0];return r>o?1:r<o?-1:0}),rx(this.commands,t),this.scope=i,this}clear(){return this.commands.length=0,this}append(t,i,...s){var p;return Array.isArray(i)?p=i:p=[i,...s],this.commands.push([t,p]),this}start(t){return t===void 0&&(t=0),this.stop(),this.index=0,this.state=1,this.nextTime=this.getNextDt(0),this.clock.start(t),this.update(t),this.emit("start",this.parent,this),this}pause(){return this.clock.pause(),this.emit("pause",this.parent,this),this}resume(){return this.clock.resume(),this.emit("resume",this.parent,this),this}stop(){return this.clock.stop(),this.state=0,this.emit("stop",this.parent,this),this}seek(t){return this.clock.seek(t),this}seekToNext(){return this.seek(this.nextTime),this}get isPlaying(){return this.clock.isRunning}get completed(){return this.state===2}get timeScale(){return this.clock.timeScale}set timeScale(t){this.clock.timeScale=t}setTimeScale(t){return this.timeScale=t,this}get now(){return this.clock.now}update(t){if(this.nextTime>t)return this;for(var i=this.commands;;){var s=i[this.index],p=s[1];if(Va(p)||(p=rx(oxt,s,1)),nM(p,this.scope),this.emit("runcommand",p,this.scope),this.index>=i.length-1)return this.nextTime=0,this.complete(),this;if(this.index++,this.nextTime=this.getNextDt(this.nextTime),this.nextTime>t)return this}}complete(){this.clock.stop(),this.state=2,this.emit("complete",this.parent,this)}getNextDt(t){var i=this.commands[this.index][0];return this.timeUnit===1&&(i=i*1e3),this.dtMode===1&&(i+=t),i}setDtMode(t){return typeof t=="string"&&(t=hxt[t]),this.dtMode=t,this}setTimeUnit(t){return typeof t=="string"&&(t=lxt[t]),this.timeUnit=t,this}}var oxt=[];const lxt={ms:0,s:1,sec:1},hxt={abs:0,absolute:0,inc:1,increment:1};var uxt=function(e,t,i,s,p){var E=(i-t)/(p-s)*this.totalEaseDuration,n=i===p?e+1:e;this.player.append(0,this.setEaseValueDuration,E).append(0,this.easeValueTo,i,s,p).append(0,this.emit,"levelup.start",e,t,i,this).append(E,Ur).append(0,this.emit,"levelup.end",n,t,i,this),this.player.isPlaying||this.player.start()};const fxt={setExpTable(e){return this.levelCounter.setTable(e),this},resetExp(e){return this.levelCounter.resetExp(e),this.setValue(this.exp,this.getExp(this.level),this.getExp(this.level+1)),this},getExp(e){return this.levelCounter.getExp(e)},getLevel(e,t){return this.levelCounter.getLevel(e,t)},getRequiredExpToNextLevel(e,t){return this.levelCounter.getRequiredExpToNextLevel(e,t)},gainExp(e){return this.levelCounter.gainExp(e),this},setExp(e){return this.levelCounter.setExp(e),this},setLevel(e){return this.levelCounter.setLevel(e),this}},bB=Phaser.Utils.Objects.GetValue;class aR extends cT{constructor(t,i){super(t,i),this.type="rexExpBar",this.setTotalEaseDuration(bB(i,"easeDuration",1e3)),this.levelCounter=new sxt(bB(i,"levelCounter")),this.player=new m8(this,{scope:this,dtMode:1}),this.levelCounter.on("levelup",uxt,this),this.player.on("complete",function(){this.player.clear(),this.emit("levelup.complete",this.level,this)},this),this.setValue(this.exp,this.getExp(this.level),this.getExp(this.level+1))}destroy(t){!this.scene||this.ignoreDestroy||(this.levelCounter.destroy(),this.levelCounter=void 0,this.player.destroy(),this.player=void 0,super.destroy(t))}get exp(){return this.levelCounter.exp}set exp(t){this.levelCounter.exp=t}get level(){return this.levelCounter.level}set level(t){this.levelCounter.level=t}get requiredExp(){return this.levelCounter.requiredExp}setTotalEaseDuration(t){return this.totalEaseDuration=t,this}}Object.assign(aR.prototype,fxt);It.register("expBar",function(e){var t=new aR(this.scene,e);return this.scene.add.existing(t),t});Lt(window,"RexPlugins.UI.ExpBar",aR);const Py=qe.prototype.add,MB=qe.prototype.addSpace;var hb=function(e){var t=!e.isRexSpace,i=!t||this.buttonsExpand?1:0;if(this.sizerChildren.length===0)if(t){var s=!this.buttonsExpand&&(this.buttonsAlign==="right"||this.buttonsAlign==="center"||this.buttonsAlign==="bottom");s&&MB.call(this),Py.call(this,e,{proportion:i,expand:!0});var p=!this.buttonsExpand&&this.buttonsAlign==="center";p&&MB.call(this),this.hasTailSpace=p}else Py.call(this,e,{proportion:i,expand:!0}),this.hasTailSpace=!1;else if(this.hasTailSpace){var E=this.sizerChildren.length-1;Py.call(this,e,{index:E,proportion:i,expand:!0})}else Py.call(this,e,{proportion:i,expand:!0});return t&&this.buttonGroup.add(e),this};const dxt={addButton(e){if(Va(e))for(var t=e,i=0,s=t.length;i<s;i++)hb.call(this,t[i]);else hb.call(this,e);return this},addButtons(e){for(var t=0,i=e.length;t<i;t++)hb.call(this,e[t]);return this}},cxt=qe.prototype.remove,vxt=qe.prototype.clear;var ub=function(e,t){return this.getParentSizer(e)!==this?this:(this.buttonGroup.remove(e),cxt.call(this,e,t),this)};const pxt={remove(e,t){if(Va(e))for(var i=e,s=0,p=i.length;s<p;s++)ub.call(this,i[s],t);else ub.call(this,e,t);return this},clear(e){var t=this.buttonGroup.buttons;return t.length=0,vxt.call(this,e),this},removeButton(i,t){var i=this.getButton(i);return i?(this.remove(i,t),this):this},clearButtons(e){for(var t=this.buttonGroup.buttons,i=t.length-1;i>=0;i--)ub.call(this,t[i],e);return this}};var gxt=function(e,t,i){if(e){var s=this.setValueCallback,p=this.setValueCallbackScope;s&&(p?s.call(p,e,t,i):s(e,t,i)),this.fireEvent("button.statechange",e,t,i)}},mxt=function(e){var t=this;e._selected=void 0,Object.defineProperty(e,"selected",{get:function(){return e._selected},set:function(i){if(e._selected!==i){var s=e._selected;e._selected=i,gxt.call(t,e,i,s)}},enumerable:!0,configurable:!0}),e.selected=!1};const yxt={add(e){return this.buttons.push(e),e._click||(e._click=new Tl(e,this.clickConfig),e._click.on("click",function(t,i,s,p){this.fireEvent("button.click",i,s,p)},this).on("enable",function(t,i){this.fireEvent("button.enable",i)},this).on("disable",function(t,i){this.fireEvent("button.disable",i)},this).on("over",function(t,i,s,p){this.fireEvent("button.over",i,s,p)},this).on("out",function(t,i,s,p){this.fireEvent("button.out",i,s,p)},this).on("down",function(t,i,s,p){this.fireEvent("button.down",i,s,p)},this).on("up",function(t,i,s,p){this.fireEvent("button.up",i,s,p)},this),e.isRexContainerLite&&e.sendChildToBack(e)),this.buttonsType&&(e.name===void 0&&console.error(`${this.parent.constructor.name}: Option button miss value`),mxt.call(this,e)),this},addMultiple(e){for(var t=0,i=e.length;t<i;t++)this.add(e[t]);return this}},xxt=Phaser.Utils.Array.Remove,Txt={remove(e){return this.buttonsType&&delete e.selected,xxt(this.buttons,e),this},clear(){if(this.buttonsType)for(var e=this.buttons,t=0,i=e.length;t<i;t++)delete e[t].selected;return this.buttons.length=0,this}};var Cxt=function(e,t,...i){if(this.buttons){var s;if(typeof t=="number"){if(s=t,t=this.buttons[s],!t)return}else if(s=this.buttons.indexOf(t),s===-1)return;this.eventEmitter!==this.parent&&this.parent.emit(e,t,s,...i),this.groupName!==void 0?this.eventEmitter.emit(e,t,this.groupName,s,...i):this.eventEmitter.emit(e,t,s,...i)}};const hp=Phaser.Utils.Objects.GetValue,Sxt={setButtonsType(e){e===void 0&&(e={});var t=hp(e,"buttonsType",e.type);if(this.buttonsType=t,!this.buttonsType)return this;var i,s;switch(i=hp(e,"setValueCallback",void 0),s=hp(e,"setValueCallbackScope",void 0),i===void 0&&(i=hp(e,"setButtonStateCallback",void 0),s=hp(e,"setButtonStateCallbackScope",void 0)),this.setValueCallback=i,this.setValueCallbackScope=s,t){case"radio":this.setRadioType();break;case"checkboxes":this.setCheckboxesType();break}return this},setRadioType(){var e=this.parent,t=this.buttons;e._value=void 0;var i=void 0;return Object.defineProperty(e,"value",{get:function(){return e._value},set:function(s){if(e._value!==s){e._value=s;for(var p=0,E=t.length;p<E;p++){var n=t[p];n.rexSizer.hidden||(i===void 0?n.name===s?n.selected=!0:n.selected=!1:i===p?n.selected=!0:n.selected=!1)}}},enumerable:!0,configurable:!0}),e.on("button.click",function(s){i=this.buttons.indexOf(s),e.value=s.name,i=void 0},this),this},setCheckboxesType(){var e=this.parent;return e.on("button.click",function(t){t.selected=!t.selected}),this},clearAllButtonsState(){for(var e=this.buttons,t=0,i=e.length;t<i;t++){var s=e[t];s.selected=!1}return this},getAllButtonsState(){for(var e={},t=this.buttons,i=0,s=t.length;i<s;i++){var p=t[i];p.rexSizer.hidden||(e[p.name]=p.selected)}return e},setSelectedButtonName(e){return this.parent.value=e,this},getSelectedButtonName(){return this.parent.value},setButtonState(e,t){t===void 0&&(t=!0);for(var i=this.buttons,s=0,p=i.length;s<p;s++){var E=i[s];if(!E.rexSizer.hidden&&E.name===e){E.selected=t;break}}return this},getButtonState(e){for(var t=this.buttons,i=0,s=t.length;i<s;i++){var p=t[i];if(!p.rexSizer.hidden&&p.name===e)return p.selected}}};var Ext=function(e,t){if(e)if(Va(e)){for(var i,s=0,p=e.length;s<p;s++)if(i=wB(e[s],t),i)return i}else{var i;for(var E in e)if(i=wB(e[E],t),i)return i}else return null},wB=function(e,t){return e?e.hasOwnProperty("name")?e.name===t?e:null:GetElementByName(e,t):null};const vT={getButton(e){var t=this.buttons,i,s=typeof e;switch(s){case"number":i=t[e];break;case"string":i=Ext(t,e);break;default:i=e,t.indexOf(i)===-1&&(i=void 0);break}return i},getButtons(){return this.buttons},hasAnyButton(){return this.buttons.length>0},setButtonEnable(e,t){var i=this.buttons;if(e===void 0||typeof e=="boolean"){t=e;for(var s=0,p=i.length;s<p;s++)i[s]._click.setEnable(t)}else this.getButton(e)._click.setEnable(t);return this},toggleButtonEnable(e){var t=this.buttons;if(e===void 0||typeof e=="boolean")for(var i=0,s=t.length;i<s;i++)t[i]._click.toggleEnable();else this.getButton(e)._click.toggleEnable();return this},getButtonEnable(e){return e===void 0&&(e=0),this.getButton(e)._click.enable},emitButtonClick(e){var t=this.buttonGroup?this.buttonGroup:this;return t.fireEvent("button.click",e),this},emitButtonOver(e){for(var t=this.buttonGroup?this.buttonGroup:this,i=this.buttons,s=0,p=i.length;s<p;s++){var E=i[s];E._click.isOver&&(E._click.isOver=!1,t.fireEvent("button.out",E))}var E=this.getButton(e);return E&&(E._click.isOver=!0,t.fireEvent("button.over",E)),this},showButton(e){return yh(this.getButton(e)),this},hideButton(e){return xh(this.getButton(e)),this},isButtonShown(e){return Iw(this.getButton(e)),this},forEachButtton(e,t){for(var i=this.buttons,s=0,p=i.length;s<p;s++)t?e.call(t,i[s],s,i):e(i[s],s,i);return this}};class pT{constructor(t){this.parent=t.parent,this.eventEmitter=t.eventEmitter,this.groupName=t.groupName,this.clickConfig=t.clickConfig,this.buttonsType=void 0,this.buttons=[]}destroy(){this.parent=void 0,this.eventEmitter=void 0,this.clickConfig=void 0,this.buttons=void 0}}var Pxt={fireEvent:Cxt};Object.assign(pT.prototype,yxt,Txt,Sxt,vT,Pxt);const oR={clearAllButtonsState(){return this.buttonGroup.clearAllButtonsState(),this},getAllButtonsState(){return this.buttonGroup.getAllButtonsState()},setSelectedButtonName(e){return this.buttonGroup.setSelectedButtonName(e),this},getSelectedButtonName(){return this.buttonGroup.getSelectedButtonName()},setButtonState(e,t){return this.buttonGroup.setButtonState(e,t),this},getButtonState(e){return this.buttonGroup.getButtonState(e)}},Ru=Phaser.Utils.Objects.GetValue;let Qr=class extends qe{constructor(t,i){i===void 0&&(i={});var s=i.space;typeof s=="number"&&(i.space={item:s}),super(t,i),this.type="rexButtons",this.buttonGroup=new pT({parent:this,eventEmitter:Ru(i,"eventEmitter",this),groupName:Ru(i,"groupName",void 0),clickConfig:Ru(i,"click",void 0)}).setButtonsType(i);var p=Ru(i,"background",void 0),E=Ru(i,"buttons",void 0);this.buttonsExpand=Ru(i,"expand",!1),this.buttonsAlign=Ru(i,"align",void 0),p&&this.addBackground(p),E&&this.addButtons(E),this.addChildrenMap("background",p),this.addChildrenMap("buttons",this.buttonGroup.buttons)}destroy(t){!this.scene||this.ignoreDestroy||(super.destroy(t),this.buttonGroup.destroy(),this.buttonGroup=void 0)}get buttons(){return this.buttonGroup.buttons}get groupName(){return this.buttonGroup.groupName}set groupName(t){this.buttonGroup.groupName=t}get eventEmitter(){return this.buttonGroup.eventEmitter}};Object.assign(Qr.prototype,dxt,pxt,vT,oR);It.register("buttons",function(e){var t=new Qr(this.scene,e);return this.scene.add.existing(t),t});Lt(window,"RexPlugins.UI.Buttons",Qr);const bxt=Ha.prototype.add,Mxt={addButton(e,t,i){return bxt.call(this,e,t,i,void 0,0,this.buttonsExpand),this.buttonGroup.add(e),this},addButtons(e,t){for(var i=0,s=e;i<s;i++)this.addButton(e[i],void 0,t);return this}},wxt=Ha.prototype.remove,Rxt=Ha.prototype.clear;var fb=function(i,t){var i=this.getButton(i);return i?(this.buttonGroup.remove(i),wxt.call(this,i,t),this):this};const Axt={remove(e,t){if(Va(e))for(var i=e,s=0,p=i.length;s<p;s++)fb.call(this,i[s],t);else fb.call(this,e,t);return this},clear(e){var t=this.buttonGroup.buttons;return t.length=0,Rxt.call(this,e),this},removeButton(e,t){return this.remove(e,t),this},clearButtons(e){for(var t=this.buttonGroup.buttons,i=t.length-1;i>=0;i--)fb.call(this,t[i],e);return this}},go=Phaser.Utils.Objects.GetValue;class gT extends Ha{constructor(t,i){i===void 0&&(i={});var s=go(i,"row",0),p=go(i,"column",i.col||0),E=go(i,"createCellContainerCallback"),n=go(i,"buttons",void 0),T=go(i,"expand",!0),r=T?1:0;if(E&&(i.createCellContainerCallback=void 0),n!==void 0){s=Math.max(s,n.length);for(var o=0,x=n.length;o<x;o++)p=Math.max(p,n[o].length)}i.row=s,i.column=p,i.columnProportions=r,i.rowProportions=r,super(t,i),this.type="rexGridButtons",this.buttonGroup=new pT({parent:this,eventEmitter:go(i,"eventEmitter",this),groupName:go(i,"groupName",void 0),clickConfig:go(i,"click",void 0)}).setButtonsType(i);var d=go(i,"background",void 0);if(this.buttonsExpand=T,go(i,"space",void 0),d&&this.addBackground(d),n)for(var h,l,a=0,f=n.length;a<f;a++){h=n[a];for(var c=0,u=h.length;c<u;c++)l=h[c],l&&this.addButton(l,c,a)}else if(E)for(var v=0;v<s;v++)for(var g=0;g<p;g++){var l=E(t,g,v);l&&this.addButton(l,g,v)}this.addChildrenMap("background",d),this.addChildrenMap("buttons",this.buttonGroup.buttons)}destroy(t){!this.scene||this.ignoreDestroy||(super.destroy(t),this.buttonGroup.destroy(),this.buttonGroup=void 0)}get buttons(){return this.buttonGroup.buttons}get groupName(){return this.buttonGroup.groupName}set groupName(t){this.buttonGroup.groupName=t}get eventEmitter(){return this.buttonGroup.eventEmitter}}Object.assign(gT.prototype,Mxt,Axt,vT,oR);It.register("gridButtons",function(e){var t=new gT(this.scene,e);return this.scene.add.existing(t),t});Lt(window,"RexPlugins.UI.GridButtons",gT);const y8=Dh.prototype.add;var by=function(e){return y8.call(this,e),this.buttonGroup.add(e),this};const Oxt={addButton(e){if(Va(e))for(var t=e,i=0,s=t.length;i<s;i++)by.call(this,t[i]);else by.call(this,e);return this},addButtons(e){if(Va(e[0]))for(var t=e,i,s=0,p=t.length-1;s<=p;s++){i=t[s];for(var E=0,n=i.length;E<n;E++)by.call(this,i[E]);s>p&&y8.addNewLine(this)}else for(var E=0,n=e.length;E<n;E++)by.call(this,e[E]);return this}},Lxt=Dh.prototype.remove,Dxt=Dh.prototype.clear;var db=function(i,t){var i=this.getButton(i);return i?(this.buttonGroup.remove(i),Lxt.call(this,i,t),this):this};const Fxt={remove(e,t){if(Va(e))for(var i=e,s=0,p=i.length;s<p;s++)db.call(this,i[s],t);else db.call(this,e,t);return this},clear(e){var t=this.buttonGroup.buttons;return t.length=0,Dxt.call(this,e),this},removeButton(e,t){return this.remove(e,t),this},clearButtons(e){for(var t=this.buttonGroup.buttons,i=t.length-1;i>=0;i--)db.call(this,t[i],e);return this}},Cd=Phaser.Utils.Objects.GetValue;class wh extends Dh{constructor(t,i){i===void 0&&(i={});var s=i.space;typeof s=="number"&&(i.space={item:s,line:s}),super(t,i),this.type="rexFixWidthButtons",this.buttonGroup=new pT({parent:this,eventEmitter:Cd(i,"eventEmitter",this),groupName:Cd(i,"groupName",void 0),clickConfig:Cd(i,"click",void 0)}).setButtonsType(i);var p=Cd(i,"background",void 0),E=Cd(i,"buttons",void 0);this.buttonsAlign=Cd(i,"align",void 0),p&&this.addBackground(p),E&&this.addButtons(E),this.addChildrenMap("background",p),this.addChildrenMap("buttons",this.buttonGroup.buttons)}destroy(t){!this.scene||this.ignoreDestroy||(super.destroy(t),this.buttonGroup.destroy(),this.buttonGroup=void 0)}get buttons(){return this.buttonGroup.buttons}get groupName(){return this.buttonGroup.groupName}set groupName(t){this.buttonGroup.groupName=t}get eventEmitter(){return this.buttonGroup.eventEmitter}}Object.assign(wh.prototype,Oxt,Fxt,vT,oR);It.register("fixWidthButtons",function(e){var t=new wh(this.scene,e);return this.scene.add.existing(t),t});Lt(window,"RexPlugins.UI.FixWidthButtons",wh);const Ixt={setAccept(e){return this.childrenMap.fileChooser.setAccept(e),this},setMultiple(e){return this.childrenMap.fileChooser.setMultiple(e),this},loadFile(e,t,i,s,p){return this.childrenMap.fileChooser.loadFile(e,t,i,s,p),this},loadFilePromise(e,t,i,s){return this.childrenMap.fileChooser.loadFilePromise(e,t,i,s)}},RB=Phaser.Utils.Objects.GetValue;class lR extends El{constructor(t,i){super(t,i),this.type="rexFileSelectorButton";var s=new tg(t);t.add.existing(s),this.addBackground(s),this.addChildrenMap("fileChooser",s),this.setAccept(RB(i,"accept","")),this.setMultiple(RB(i,"multiple",!1)),s.on("change",function(p){var E=p.files;E.length!==0&&(E=Array.from(E),this.emit("select",E,this))},this)}get files(){return this.childrenMap.fileChooser.files}}Object.assign(lR.prototype,Ixt);It.register("fileSelectorButton",function(e){var t=new lR(this.scene,e);return this.scene.add.existing(t),t});Lt(window,"RexPlugins.UI.FileSelectorButton",lR);const Bxt={getChoice(e){var t=this.childrenMap.choicesSizer;if(t)return t.getButton(e)},getAction(e){return this.childrenMap.actionsSizer.getButton(e)},getToolbar(e){return this.childrenMap.toolbarSizer.getButton(e)},getLeftToolbar(e){return this.childrenMap.leftToolbarSizer.getButton(e)},setChoiceEnable(e,t){var i=this.childrenMap.choicesSizer;return i&&i.setButtonEnable(e,t),this},setActionEnable(e,t){return this.childrenMap.actionsSizer.setButtonEnable(e,t),this},setToolbarEnable(e,t){return this.childrenMap.toolbarSizer.setButtonEnable(e,t),this},setLeftToolbarEnable(e,t){return this.childrenMap.leftToolbarSizer.setButtonEnable(e,t),this},toggleChoiceEnable(e){var t=this.childrenMap.choicesSizer;return t&&t.toggleButtonEnable(e),this},toggleActionEnable(e){return this.childrenMap.actionsSizer.toggleButtonEnable(e),this},toggleToolbarEnable(e){return this.childrenMap.toolbarSizer.toggleButtonEnable(e),this},toggleLeftToolbarEnable(e){return this.childrenMap.leftToolbarSizer.toggleButtonEnable(e),this},getChoiceEnable(e){var t=this.childrenMap.choicesSizer;return t?t.getButtonEnable(e):!1},getActionEnable(e){return this.childrenMap.actionsSizer.getButtonEnable(e)},getToolbarEnable(e){return this.childrenMap.toolbarSizer.getButtonEnable(e)},getLeftToolbarEnable(e){return this.childrenMap.leftToolbarSizer.getButtonEnable(e)},emitChoiceClick(e){var t=this.childrenMap.choicesSizer;return t&&t.emitButtonClick(e),this},emitActionClick(e){return this.childrenMap.actionsSizer.emitButtonClick(e),this},emitToolbarClick(e){return this.childrenMap.toolbarSizer.emitButtonClick(e),this},emitLeftToolbarClick(e){return this.childrenMap.leftToolbarSizer.emitButtonClick(e),this},showChoice(e){var t=this.childrenMap.choicesSizer;return t&&t.showButton(e),this},showAction(e){return this.childrenMap.actionsSizer.showButton(e),this},showToolbar(e){return this.childrenMap.toolbarSizer.showButton(e),this},showLeftToolbar(e){return this.childrenMap.leftToolbarSizer.showButton(e),this},hideChoice(e){var t=this.childrenMap.choicesSizer;return t&&t.hideButton(e),this},hideAction(e){return this.childrenMap.actionsSizer.hideButton(e),this},hideToolbar(e){return this.childrenMap.toolbarSizer.hideButton(e),this},hideLeftToolbar(e){return this.childrenMap.leftToolbarSizer.hideButton(e),this},addChoice(e){var t=this.childrenMap.choicesSizer;return t&&t.addButton(e),this},addAction(e){return this.childrenMap.actionsSizer.addButton(e),this},addToolbar(e){return this.childrenMap.toolbarSizer.addButton(e),this},addLeftToolbar(e){return this.childrenMap.leftToolbarSizer.addButton(e),this},removeChoice(e,t){var i=this.childrenMap.choicesSizer;return i&&i.removeButton(e,t),this},removeAction(e,t){return this.childrenMap.actionsSizer.removeButton(e,t),this},removeToolbar(e,t){return this.childrenMap.toolbarSizer.removeButton(e,t),this},removeLeftToolbar(e,t){return this.childrenMap.leftToolbarSizer.removeButton(e,t),this},clearChoices(e){var t=this.childrenMap.choicesSizer;return t&&t.clearButtons(e),this},clearActions(e){return this.childrenMap.actionsSizer.clearButtons(e),this},clearToolbar(e){return this.childrenMap.toolbarSizer.clearButtons(e),this},clearLeftToolbar(e){return this.childrenMap.leftToolbarSizer.clearButtons(e),this},forEachChoice(e,t){var i=this.childrenMap.choicesSizer;return i&&i.forEachButtton(e,t),this},forEachAction(e,t){return this.childrenMap.actionsSizer.forEachButtton(e,t),this},forEachToolbar(e,t){return this.childrenMap.toolbarSizer.forEachButtton(e,t),this},forEachLeftToolbar(e,t){return this.childrenMap.leftToolbarSizer.forEachButtton(e,t),this},setAllButtonsEnable(e){return e===void 0&&(e=!0),this.childrenMap.toolbarSizer&&this.setToolbarEnable(e),this.childrenMap.leftToolbarSizer&&this.setLeftToolbarEnable(e),this.childrenMap.actionsSizer&&this.setActionEnable(e),this.childrenMap.choicesSizer&&this.setChoiceEnable(e),this},getChoicesButtonStates(){var e=this.childrenMap.choicesSizer;return e?e.getAllButtonsState():{}},getChoicesButtonState(e){var t=this.childrenMap.choicesSizer;return e===void 0?t?t.getAllButtonsState():{}:t?t.getButtonState(e):!1},setChoicesButtonState(e,t){var i=this.childrenMap.choicesSizer;return i&&i.setButtonState(e,t),this},clearChoicesButtonStates(){var e=this.childrenMap.choicesSizer;return e&&e.clearAllButtonsState(),this},getChoicesSelectedButtonName(){var e=this.childrenMap.choicesSizer;return e?e.getSelectedButtonName():""},setChoicesSelectedButtonName(e){var t=this.childrenMap.choicesSizer;return t&&t.setSelectedButtonName(e),this},hasAnyChoice(){var e=this.childrenMap.choicesSizer;return e?e.hasAnyButton():!1},hasAnyAction(){var e=this.childrenMap.actionsSizer;return e?e.hasAnyButton():!1},hasAnyToolbar(){var e=this.childrenMap.toolbarSizer;return e?e.hasAnyButton():!1},hasAnyLeftToolbar(){var e=this.childrenMap.leftToolbarSizer;return e?e.hasAnyButton():!1}},Gxt={onCreateModalBehavior(e){e.on("button.click",function(t,i,s,p,E){var n=!1;switch(i){case"actions":n=!0;break;case"choices":e.hasAnyAction()||(n=!0);break}if(n){var T={index:s,text:t.text,button:t,dialog:e};switch(e.buttonsType){case"radio":T.value=e.getChoicesSelectedButtonName();break;case"checkboxes":T.value=e.getChoicesButtonStates();break;default:T.value=void 0}e.modalClose(T)}})},modal(e,t){return e&&e.defaultBehavior===!1?this.onCreateModalBehavior=!1:delete this.onCreateModalBehavior,jx.modal.call(this,e,t),this}};var x8={};Object.assign(x8,Bxt,Gxt);const ye=Phaser.Utils.Objects.GetValue;class lg extends qe{constructor(t,i){i===void 0&&(i={}),i.orientation=1,super(t,i),this.type="rexDialog",this.eventEmitter=ye(i,"eventEmitter",this);var s=ye(i,"background",void 0),p=ye(i,"title",void 0),E=ye(i,"toolbar",void 0),n=ye(i,"toolbarBackground",void 0),T=ye(i,"leftToolbar",void 0),r=ye(i,"leftToolbarBackground",void 0),o=ye(i,"content",void 0),x=ye(i,"description",void 0),d,h=ye(i,"choices",void 0),l=ye(i,"choicesBackground",void 0),a,f=ye(i,"actions",void 0),c=ye(i,"actionsBackground",void 0),u=ye(i,"click",void 0);s&&this.addBackground(s);var v;E&&(v=new Qr(t,{groupName:"toolbar",background:n,buttons:E,orientation:0,space:{item:ye(i,"space.toolbarItem",0)},click:u,eventEmitter:this.eventEmitter}),t.add.existing(v));var g;if(T&&(g=new Qr(t,{groupName:"leftToolbar",background:r,buttons:T,orientation:0,space:{item:ye(i,"space.leftToolbarItem",0)},click:u,eventEmitter:this.eventEmitter}),t.add.existing(g)),p||E||T){var m=!!p&&ye(i,"expand.title",!0),y=ye(i,"align.title","center"),C=p&&!m&&y==="center"||!p&&(E||T),b=!C,M;b?M=new qe(t,{orientation:0}):M=new aa(t),t.add.existing(M);var w=b?!0:{height:!0};if(g&&M.add(g,{align:"left",expand:w}),p){b&&!m&&y==="right"&&M.addSpace();var R={left:ye(i,"space.titleLeft",0),right:ye(i,"space.titleRight",0)},A=m?1:0;M.add(p,{align:y,proportion:A,expand:w,padding:R}),b&&!m&&y==="left"&&M.addSpace()}v&&(b&&!p&&M.addSpace(),M.add(v,{align:"right",expand:w}));var R;(o||x||h||f)&&(R={bottom:ye(i,"space.title",0),top:ye(i,"space.titleTop",0)});var A=ye(i,"proportion.title",0);this.add(M,{padding:R,proportion:A,expand:!0})}if(o){var L=ye(i,"align.content","center"),F=ye(i,"space.content",0),R={left:ye(i,"space.contentLeft",0),right:ye(i,"space.contentRight",0),bottom:x||h||f?F:0},A=ye(i,"proportion.content",0),G=ye(i,"expand.content",!0);this.add(o,{align:L,padding:R,proportion:A,expand:G})}if(x){var L=ye(i,"align.description","center"),I=ye(i,"space.description",0),R={left:ye(i,"space.descriptionLeft",0),right:ye(i,"space.descriptionRight",0),bottom:h||f?I:0},A=ye(i,"proportion.description",0),G=ye(i,"expand.description",!0);this.add(x,{align:L,padding:R,proportion:A,expand:G})}if(h){var B=ye(i,"choicesType","").split("-"),k=up(B,"wrap")?wh:up(B,"grid")?gT:Qr,U=up(B,"radio")?"radio":up(B,"checkboxes")?"checkboxes":void 0,H={left:ye(i,"space.choicesBackgroundLeft",0),right:ye(i,"space.choicesBackgroundRight",0),top:ye(i,"space.choicesBackgroundTop",0),bottom:ye(i,"space.choicesBackgroundBottom",0)},X=ye(i,"space.choice",0);k===Qr?H.item=X:k===wh?(H.item=X,H.line=ye(i,"space.choiceLine",X)):(H.column=ye(i,"space.choiceColumn",X),H.row=ye(i,"space.choiceRow",X));var j={width:ye(i,"choicesWidth",void 0),height:ye(i,"choicesHeight",void 0),groupName:"choices",buttonsType:U,background:l,buttons:h,space:H,click:u,eventEmitter:this.eventEmitter,setValueCallback:ye(i,"choicesSetValueCallback",void 0),setValueCallbackScope:ye(i,"choicesSetValueCallbackScope",void 0)};k===Qr&&(j.orientation=up(B,"x")?0:1),d=new k(t,j),t.add.existing(d);var J=ye(i,"space.choices",0),R={left:ye(i,"space.choicesLeft",0),right:ye(i,"space.choicesRight",0),bottom:f?J:0},L=ye(i,"align.choices","center"),A=ye(i,"proportion.choices",0),G=ye(i,"expand.choices",!0);this.add(d,{align:L,padding:R,proportion:A,expand:G}),this.buttonsType=U}if(f){a=new Qr(t,{groupName:"actions",background:c,buttons:f,orientation:0,space:{item:ye(i,"space.action",0)},expand:ye(i,"expand.actions",!1),align:ye(i,"align.actions","center"),click:u,eventEmitter:this.eventEmitter}),t.add.existing(a);var R={left:ye(i,"space.actionsLeft",0),right:ye(i,"space.actionsRight",0),bottom:ye(i,"space.actionsBottom",0)},A=ye(i,"proportion.action",0);this.add(a,{align:"center",padding:R,proportion:A,expand:!0})}fp(this,"click"),fp(this,"over"),fp(this,"out"),fp(this,"enable"),fp(this,"disable"),this.addChildrenMap("background",s),this.addChildrenMap("title",p),this.addChildrenMap("toolbar",E),this.addChildrenMap("leftToolbar",T),this.addChildrenMap("content",o),this.addChildrenMap("description",x),this.addChildrenMap("choices",d?d.buttons:void 0),this.addChildrenMap("actions",a?a.buttons:void 0),this.addChildrenMap("choicesSizer",d),this.addChildrenMap("actionsSizer",a),this.addChildrenMap("toolbarSizer",v),this.addChildrenMap("leftToolbarSizer",g)}}var up=function(e,t){return e.indexOf(t)!==-1},AB={actions:"action",choices:"choice",toolbar:"toolbar",leftToolbar:"leftToolbar"},fp=function(e,t){e.on(`button.${t}`,function(i,s,p,E,n){AB.hasOwnProperty(s)&&e.emit(`${AB[s]}.${t}`,i,p,E,n)})};Object.assign(lg.prototype,x8);It.register("dialog",function(e){var t=new lg(this.scene,e);return this.scene.add.existing(t),t});Lt(window,"RexPlugins.UI.Dialog",lg);var _r=function(e,t,i){var s=new og(e,t,i);return e.add.existing(s),s},kxt=function(e){return e===void 0&&(e={}),Nxt.call(this,e),Uxt.call(this,e),Vxt.call(this,e),zxt.call(this,e),this},Nxt=function(e){var t=this.childrenMap.title;e=e.title,e===null?t.hide():(t.show(),t.resetDisplayContent(e))},Uxt=function(e){var t=this.childrenMap.content;if(e=e.content,e===null)t.hide();else if(t.show(),t.resetDisplayContent)t.resetDisplayContent(e);else{var i=e||"";t.setText(i)}},Vxt=function(e){var t=this.childrenMap.actions;if(t){var i=e.buttons;if(i){for(var E=this.scene,n=this.defaultActionConfig,T=this.defaultActionButtonCreator,r=0,o=i.length;r<o;r++){var x=i[r],d=t[r];d||(d=_r(E,n,T),this.addAction(d)),d.show().resetDisplayContent(x)}this.buttonMode=i.length;for(var r=i.length,o=t.length;r<o;r++)t[r].hide()}else{var s=t[0];s&&(e.buttonA===null?s.hide():(s.show(),s.resetDisplayContent(e.buttonA)));var p=t[1];p&&(e.buttonB===null?p.hide():(p.show(),p.resetDisplayContent(e.buttonB)))}}},zxt=function(e){var t=this.childrenMap.choices;if(t){var i=e.choices;i||(i=[]);for(var s=this.scene,p=this.defaultChoiceConfig,E=this.defaultActionButtonCreator,n=0,T=i.length;n<T;n++){var r=i[n];typeof r=="string"&&(r={text:r});var o=t[n];o||(o=_r(s,p,E),this.addChoice(o)),o.show().resetDisplayContent(r);var x;r.hasOwnProperty("value")?x=r.value:x=r.text,o.setName(x)}for(var n=i.length,T=t.length;n<T;n++)t[n].hide()}};const Wxt=Phaser.Utils.Objects.Merge;var Yxt=function(e,t){Ua(e)&&(t=e,e=void 0),e===void 0&&(e={}),e=Wxt(e,this.modalStyle);var i;this.buttonMode===0?this.hasAnyChoice()?i=!1:i=!0:i=!1,e.hasOwnProperty("anyTouchClose")||(e.anyTouchClose=i),e.hasOwnProperty("manualClose")||(e.manualClose=!i);var s=this,p=function(E){var n=E.index;n===s.confirmButtonIndex?s.emit("confirm",E):n===s.cancelButtonIndex&&s.emit("cancel",E),t&&t(E)};return jx.modal.call(this,e,p),this};const Xxt={setConfirmButtonIndex(e){return this.confirmButtonIndex=e,this},setCancelButtonIndex(e){return this.cancelButtonIndex=e,this}};var T8={resetDisplayContent:kxt,modal:Yxt};Object.assign(T8,Xxt);var Hxt=function(e){e.setHoverState&&e.setHoverState(!0)},$xt=function(e){e.setHoverState&&e.setHoverState(!1)},Kxt=function(e,t,i,s){e.setActiveState&&e.setActiveState(s)},Zxt=function(e){e.setDisableState&&e.setDisableState(!1)},Jxt=function(e){e.setDisableState&&e.setDisableState(!0)},C8=function(){this.on("button.over",Hxt).on("button.out",$xt).on("button.enable",Zxt).on("button.disable",Jxt).on("button.statechange",Kxt)};const jxt=Phaser.Utils.Objects.GetValue;var Qxt=function(e,t,i){var s=jxt(t,"$type");s===void 0&&t&&(t.hasOwnProperty("slider")||t.hasOwnProperty("scroller"))&&(s="textarea");var p;switch(s){case"textarea":p=new v8(e,t,i);break;default:p=new _r(e,t,i);break}return e.add.existing(p),p};const cb=Phaser.Utils.Objects.GetValue;class mT extends lg{constructor(t,i,s){i=i?tn(i):{},s===void 0&&(s={});var p=cb(s,"background",Vr);i.background=p(t,i.background),i.title=_r(t,i.title,s.title),i.content=Qxt(t,i.content,s.content),i.content instanceof ag&&fl(i,"height")&&!fl(i,"proportion.content")&&Lt(i,"proportion.content",1);var E=i.button,n=i.buttonA||E,T=i.buttonB||E,r=i.buttonMode;r===void 0&&(r=n&&T?2:n?1:0);var o=s.button,x=s.buttonA||o,d=s.buttonB||o;switch(r){case 2:i.actions=[_r(t,n,x),_r(t,T,d)];break;case 1:i.actions=[_r(t,n,x)];break;case 0:break;default:i.actions=[];break}var h=i.choice;h&&(i.choices=[]),super(t,i),this.type="rexConfirmDialog",this.buttonMode=r,this.defaultActionConfig=E,this.defaultActionButtonCreator=o,this.defaultChoiceConfig=h,this.defaultChoiceCreator=s.choice;var l=this.childrenMap.actions;this.addChildrenMap("buttonA",l?l[0]:null),this.addChildrenMap("buttonB",l?l[1]:null),C8.call(this),this.setConfirmButtonIndex(cb(i,"confirmButtonIndex",0)),this.setCancelButtonIndex(cb(i,"cancelButtonIndex",1)),this.modalStyle=i.modal||{}}}Object.assign(mT.prototype,T8);It.register("confirmDialog",function(e,t){var i=new mT(this.scene,e,t);return this.scene.add.existing(i),i});Lt(window,"RexPlugins.UI.ConfirmDialog",mT);const OB=Phaser.Utils.Objects.GetValue;var S8=function(e,t){var i=t.dialog,s=!i;if(s){var p=t.style;p.buttonMode=2,i=new mT(e,p,t.creators),e.add.existing(i)}i.setConfirmButtonIndex(OB(t,"confirmButtonIndex",0)).setCancelButtonIndex(OB(t,"cancelButtonIndex",1)).resetDisplayContent(t.content).layout(),s&&t.onCreateDialog&&t.onCreateDialog(i);var E=t.modal;E&&!E.hasOwnProperty("destroy")&&(E.destroy=s);var n=t.confirm,T=t.cancel,r=t.confirmScope,o=t.cancelScope;n&&i.once("confirm",n,r),T&&i.once("cancel",T,o);var x=function(d){i.off("confirm",n,r),i.off("cancel",T,o)};return i.modal(E,x),i};class E8 extends El{constructor(t,i){i===void 0&&(i={}),super(t,i),this.type="rexConfirmActionButton",this.setConfirmDialogEnable(),this.confirmActionConfig=Na(i.confirmDialog||{}),i.confirm&&this.setConfirmCallback(i.confirm,i.confirmScope),i.cancel&&this.setCancelCallback(i.cancel,i.cancelScope),this.onClickCallback=function(){if(this.confirmDialogEnable){if(this.confirmDialog)return;this.confirmDialog=S8(t,this.confirmActionConfig),this.confirmDialog.once("destroy",function(){this.confirmDialog=void 0},this)}else this.runConfirmCallback()},this.onClick(this.onClickCallback,this)}destroy(t){!this.scene||this.ignoreDestroy||(this.confirmDialog&&this.confirmDialog.destroy(),super.destroy(t),this.confirmActionConfig=void 0,this.onClickCallback=void 0,this.confirmDialog=void 0)}setConfirmCallback(t,i){return this.confirmActionConfig.confirm=t,this.confirmActionConfig.confirmScope=i,this}setCancelCallback(t,i){return this.confirmActionConfig.cancel=t,this.confirmActionConfig.cancelScope=i,this}setConfirmDialogContent(t){return this.confirmActionConfig.content=t,this}setConfitmDialogStyle(t){return this.confirmActionConfig.style=t,this}setConfitmDialogModalConfig(t){return this.confirmActionConfig.modal=t,this}setConfirmDialogEnable(t){return t===void 0&&(t=!0),this.confirmDialogEnable=t,this}runConfirmCallback(){var t=this.confirmActionConfig.confirm,i=this.confirmActionConfig.confirmScope;return t&&t.call(i),this}}It.register("confirmActionButton",function(e){var t=new E8(this.scene,e);return this.scene.add.existing(t),t});Lt(window,"RexPlugins.UI.ConfirmActionButton",E8);var qxt=function(e){return e===void 0&&(e={}),_xt.call(this,e),tTt.call(this,e),eTt.call(this,e),this},_xt=function(e){var t=this.childrenMap.title;e.title===null?this.hide(t):(this.show(t),t.resetDisplayContent(e.title))},tTt=function(e){var t=this.childrenMap.firstNameTitle;if(e.firstNameTitle===null)this.hide(t);else{this.show(t);var i=e.firstNameTitle||"";t.resetDisplayContent(i)}var s=this.childrenMap.firstNameInput;if(e.firstName===null)this.hide(s);else{this.show(s);var p=e.firstName||"";s.setText(p)}var E=this.childrenMap.lastNameTitle;if(e.lastNameTitle===null)this.hide(E);else{this.show(E);var n=e.lastNameTitle||"";E.resetDisplayContent(n)}var T=this.childrenMap.lastNameInput;if(e.lastName===null)this.hide(T);else{this.show(T);var r=e.lastName||"";T.setText(r)}},eTt=function(e){var t=this.childrenMap.actions[0];e.button===null?this.hide(t):(this.show(t),t.resetDisplayContent(e.button))};const iTt=Phaser.Utils.Objects.Merge;var rTt=function(e,t){Ua(e)&&(t=e,e=void 0),e===void 0&&(e={}),e=iTt(e,this.modalStyle),e.anyTouchClose=!1,e.manualClose=!1;var i=this,s=function(p){p.firstName=i.firstName,p.lastName=i.lastName,i.emit("confirm",p),t&&t(p)};return jx.modal.call(this,e,s),this},nTt={resetDisplayContent:qxt,modal:rTt},Rh=function(e,t,i){i===void 0&&(i=!0),i?t=t?tn(t):{}:t||(t={});var s=new Yp(e,t);return e.add.existing(s),s};const Qs=Phaser.Utils.Objects.GetValue;var sTt=function(e,t,i){var s=Qu(Qs(t,"layoutMode",0)),p=s===0,E=new qe(e,{orientation:s,space:{item:Qs(t,"space.firstName",0)}});e.add.existing(E);var n=new qe(e,{orientation:"x"});e.add.existing(n);var T=Qs(t,"firstNameTitle",t.nameTitle),r=_r(e,T,i.firstNameTitle||i.nameTitle);n.add(r,{expand:!0,proportion:Qs(t,"proportion.firstNameTitle",0),padding:{right:Qs(t,"space.firstNameTitle",0)}});var o=t.nameInput||{},x=Qs(t,"firstNameInput",o),d=Rh(e,x,i.firstNameInput||i.nameInput),h=!x.hasOwnProperty("width");n.add(d,{expand:!0,proportion:h?1:0});var l=new qe(e,{orientation:"x"});e.add.existing(l);var a=Qs(t,"lastNameTitle",t.nameTitle),f=_r(e,a,i.lastNameTitle||i.nameTitle);l.add(f,{expand:!0,proportion:Qs(t,"proportion.lastNameTitle",0),padding:{right:Qs(t,"space.lastNameTitle",0)}});var c=Qs(t,"firstNameInput",o),u=Rh(e,c,i.lastNameInput||i.nameInput),v=!c.hasOwnProperty("width");if(l.add(u,{expand:!0,proportion:v?1:0}),p){var g=h?1:0,m=Qs(t,"proportion.firstName",g);E.add(n,{expand:!0,proportion:m});var y=v?1:0,C=Qs(t,"proportion.lastName",y);E.add(l,{expand:!0,proportion:C})}else E.add(n,{expand:h,proportion:0}),E.add(l,{expand:v,proportion:0});return E.addChildrenMap("firstNameTitle",r),E.addChildrenMap("firstNameInput",d),E.addChildrenMap("lastNameTitle",f),E.addChildrenMap("lastNameInput",u),E};const aTt=Phaser.Utils.Objects.GetValue;class hR extends lg{constructor(t,i,s){i===void 0&&(i={}),s===void 0&&(s={}),i.orientation="y";var p=i.space;p&&(p.hasOwnProperty("names")&&(p.content=p.names),p.hasOwnProperty("namesLeft")&&(p.contentLeft=p.namesLeft),p.hasOwnProperty("namesRight")&&(p.contentRight=p.namesRight));var E=aTt(s,"background",Vr);i.background=E(t,i.background),i.title=_r(t,i.title,s.title),i.content=sTt(t,i,s),i.actions=[_r(t,i.button,s.button)],super(t,i),this.type="rexNameInputDialog";var n=i.content.childrenMap;this.addChildrenMap("firstNameTitle",n.firstNameTitle),this.addChildrenMap("firstNameInput",n.firstNameInput),this.addChildrenMap("lastNameTitle",n.lastNameTitle),this.addChildrenMap("lastNameInput",n.lastNameInput),this.addChildrenMap("button",i.actions[0]),C8.call(this),this.modalStyle=i.modal||{}}get firstName(){return this.childrenMap.firstNameInput.text}set firstName(t){this.childrenMap.firstNameInput.setText(t)}setFirstName(t){return this.firstName=t,this}get lastName(){return this.childrenMap.lastNameInput.text}set lastName(t){this.childrenMap.lastNameInput.setText(t)}setLastName(t){return this.lastName=t,this}}Object.assign(hR.prototype,nTt);It.register("nameInputDialog",function(e,t){var i=new hR(this.scene,e,t);return this.scene.add.existing(i),i});Lt(window,"RexPlugins.UI.NameInputDialog",hR);var Bu=function(e,t){if(e){var i=Ls(e);i&&i.remove(e,t)}};const My=Phaser.Utils.Objects.GetValue;var hg=function(e,t,i){var s=My(e,`proportion.${t}`,i.proportion),p=My(e,`align.${t}`,"center"),E=My(e,`space.${t}`,void 0);if(typeof E=="number"&&i.paddingKey){var n=E;E={},E[i.paddingKey]=n}var T=My(e,`expand.${t}`,!0);return{proportion:s,align:p,padding:E,expand:T}},yT=function(e){return hg(e,"header",{proportion:0,paddingKey:"bottom"})},xT=function(e){return hg(e,"leftSide",{proportion:0,paddingKey:"right"})},TT=function(e){return hg(e,"content",{proportion:1})},CT=function(e){return hg(e,"rightSide",{proportion:0,paddingKey:"left"})},ST=function(e){return hg(e,"footer",{proportion:0,paddingKey:"top"})},vl=function(e){return{proportion:1,align:"center",padding:0,expand:!0}},pl=function(e,t){var i=new qe(e,{orientation:t});return e.add.existing(i),i},oTt=function(e){var t=this.scene,i=e.header;i&&this.add(i,yT(e));var s=pl(t,0);this.add(s,vl());var p=e.leftSide;p&&s.add(p,xT(e));var E=e.content;E&&s.add(E,TT(e));var n=e.rightSide;n&&s.add(n,CT(e));var T=e.footer;T&&this.add(T,ST(e))},lTt=function(e){var t=this.scene,i=e.header;i&&this.add(i,yT(e));var s=pl(t,0);this.add(s,vl());var p=e.leftSide;p&&s.add(p,xT(e));var E=pl(t,1);s.add(E,vl());var n=pl(t,0);E.add(n,vl());var T=e.content;T&&n.add(T,TT(e));var r=e.rightSide;r&&n.add(r,CT(e));var o=e.footer;o&&E.add(o,ST(e))},hTt=function(e){var t=this.scene,i=e.header;i&&this.add(i,yT(e));var s=pl(t,0);this.add(s,vl());var p=pl(t,1);s.add(p,vl());var E=pl(t,0);p.add(E,vl());var n=e.leftSide;n&&E.add(n,xT(e));var T=e.content;T&&E.add(T,TT(e));var r=e.footer;r&&p.add(r,ST(e));var o=e.rightSide;o&&s.add(o,CT(e))},uTt=function(e){var t=this.scene,i=e.header;i&&this.add(i,yT(e));var s=pl(t,0);this.add(s,vl());var p=e.leftSide;p&&s.add(p,xT(e));var E=pl(t,1);s.add(E,vl());var n=e.content;n&&E.add(n,TT(e));var T=e.footer;T&&E.add(T,ST(e));var r=e.rightSide;r&&s.add(r,CT(e))};const fTt=Phaser.Utils.Objects.GetValue,LB=[oTt,lTt,hTt,uTt];var dTt=function(e){e===void 0&&(e={});var t=e.background,i=e.header,s=e.leftSide,p=e.content,E=e.rightSide,n=e.footer;Bu(t),Bu(i),Bu(s),Bu(p),Bu(E),Bu(n),this.clear(!0),t&&this.addBackground(t);var T=fTt(e,"layoutMode",0);typeof T=="string"&&(T=cTt[T.toUpperCase()]);var r=LB[T]||LB[0];return r.call(this,e),this.addChildrenMap("background",t),this.addChildrenMap("header",i),this.addChildrenMap("leftSide",s),this.addChildrenMap("content",p),this.addChildrenMap("rightSide",E),this.addChildrenMap("footer",n),this};const cTt={FFF:0,LFF:1,FFR:2,LFR:3};class uR extends qe{constructor(t,i){i===void 0&&(i={}),i.orientation=1,super(t,i),this.type="rexHolyGrail",this.build(i)}}var vTt={build:dTt};Object.assign(uR.prototype,vTt);It.register("holyGrail",function(e){var t=new uR(this.scene,e);return this.scene.add.existing(t),t});Lt(window,"RexPlugins.UI.HolyGrail",uR);const pTt={getButtonsSizer(e){return this.childrenMap[`${e}ButtonsSizer`]},getButton(e,t){var i=this.getButtonsSizer(e);return i?i.getButton(t):void 0},setButtonEnable(e,t,i){return this.getButtonsSizer(e).setButtonEnable(t,i),this},setLeftButtonEnable(e,t){return this.childrenMap.leftButtonsSizer.setButtonEnable(e,t),this},setRightButtonEnable(e,t){return this.childrenMap.rightButtonsSizer.setButtonEnable(e,t),this},setTopButtonEnable(e,t){return this.childrenMap.topButtonsSizer.setButtonEnable(e,t),this},setBottomButtonEnable(e,t){return this.childrenMap.bottomButtonsSizer.setButtonEnable(e,t),this},toggleButtonEnable(e,t){return this.getButtonsSizer(e).toggleButtonEnable(t),this},toggleLeftButtonEnable(e){return this.childrenMap.leftButtonsSizer.toggleButtonEnable(e),this},toggleRightButtonEnable(e){return this.childrenMap.rightButtonsSizer.toggleButtonEnable(e),this},toggleTopButtonEnable(e){return this.childrenMap.topButtonsSizer.toggleButtonEnable(e),this},toggleBottomButtonEnable(e){return this.childrenMap.bottomButtonsSizer.toggleButtonEnable(e),this},getButtonEnable(e,t){return this.getButtonsSizer(e).getButtonEnable(t)},getLeftButtonEnable(e){return this.childrenMap.leftButtonsSizer.getButtonEnable(e)},getRightButtonEnable(e){return this.childrenMap.rightButtonsSizer.getButtonEnable(e)},getTopButtonEnable(e){return this.childrenMap.topButtonsSizer.getButtonEnable(e)},getBottomButtonEnable(e){return this.childrenMap.bottomButtonsSizer.getButtonEnable(e)},emitButtonClick(e,t){var i=this.getButtonsSizer(e);return i?(i.emitButtonClick(t),this):this},emitLeftButtonClick(e){return this.childrenMap.leftButtonsSizer.emitButtonClick(e),this},emitRightButtonClick(e){return this.childrenMap.rightButtonsSizer.emitButtonClick(e),this},emitTopButtonClick(e){return this.childrenMap.topButtonsSizer.emitButtonClick(e),this},emitBottomButtonClick(e){return this.childrenMap.bottomButtonsSizer.emitButtonClick(e),this},getLeftButton(e){return this.childrenMap.leftButtonsSizer.getButton(e)},getRightButton(e){return this.childrenMap.rightButtonsSizer.getButton(e)},getTopButton(e){return this.childrenMap.topButtonsSizer.getButton(e)},getBottomButton(e){return this.childrenMap.bottomButtonsSizer.getButton(e)},showButton(e,t){return yh(this.getButton(e,t)),this},showLeftButton(e){return yh(this.getLeftButton(e)),this},showRightButton(e){return yh(this.getRightButton(e)),this},showTopButton(e){return yh(this.getTopButton(e)),this},showBottomButton(e){return yh(this.getBottomButton(e)),this},hideButton(e,t){return xh(this.getButton(e,t)),this},hideLeftButton(e){return xh(this.getLeftButton(e)),this},hideRightButton(e){return xh(this.getRightButton(e)),this},hideTopButton(e){return xh(this.getTopButton(e)),this},hideBottomButton(e){return xh(this.getBottomButton(e)),this},addButton(e,t){return this.getButtonsSizer(e).addButton(t),this},addLeftButton(e){return this.addButton("left",e),this},addRightButton(e){return this.addButton("right",e),this},addTopButton(e){return this.addButton("top",e),this},removeButton(e,t,i){return this.getButtonsSizer(e).removeButton(t,i),this},removeLeftButton(e,t){return this.removeButton("left",e,t),this},removeRightButton(e,t){return this.removeButton("right",e,t),this},removeTopButton(e,t){return this.removeButton("top",e,t),this},removeBottomButton(e,t){return this.removeButton("bottom",e,t),this},clearButtons(e,t){return this.getButtonsSizer(e).clearButtons(t),this},clearLeftButtons(e){return this.clearButtons("left",e),this},clearRightButtons(e){return this.clearButtons("right",e),this},clearTopButtons(e){return this.clearButtons("top",e),this},clearBottomButtonss(e){return this.clearButtons("bottom",e),this},forEachButton(e,t,i){return this.getButtonsSizer(e).forEachButtton(t,i),this},forEachLeftButton(e,t){return this.childrenMap.leftButtonsSizer.forEachButtton(e,t),this},forEachRightButton(e,t){return this.childrenMap.rightButtonsSizer.forEachButtton(e,t),this},forEachTopButton(e,t){return this.childrenMap.topButtonsSizer.forEachButtton(e,t),this},forEachBottomButton(e,t){return this.childrenMap.bottomButtonsSizer.forEachButtton(e,t),this}},Si=Phaser.Utils.Objects.GetValue;class fR extends Ha{constructor(t,i){i===void 0&&(i={}),i.column=3,i.row=3,i.columnProportions=[0,0,0],i.rowProportions=[0,0,0];var s=Si(i,"expand.panel",!1);s&&(i.columnProportions[1]=1,i.rowProportions[1]=1),super(t,i),this.type="rexTabs",this.eventEmitter=Si(i,"eventEmitter",this);var p=Si(i,"background",void 0),E=Si(i,"panel",void 0),n=Si(i,"leftButtons",void 0),T=Si(i,"leftButtonsBackground",void 0),r,o=Si(i,"rightButtons",void 0),x=Si(i,"rightButtonsBackground",void 0),d,h=Si(i,"topButtons",void 0),l=Si(i,"topButtonsBackground",void 0),a,f=Si(i,"bottomButtons",void 0),c=Si(i,"bottomButtonsBackground",void 0),u,v=Si(i,"click",void 0);if(p&&this.addBackground(p),E&&this.add(E,{column:1,row:1,expand:s}),n){var g=Si(i,"space.leftButtonsOffset",0),m=Si(i,"space.leftButton",0),y=Si(i,"expand.leftButtons",!1),C=Si(i,"align.leftButtons","top");r=new Qr(t,{groupName:"left",background:T,buttons:n,orientation:"y",space:{item:m},expand:y,click:v,eventEmitter:this.eventEmitter}),this.add(r,{column:0,row:1,align:C,padding:{top:g},expand:y})}if(o){var b=Si(i,"space.rightButtonsOffset",0),M=Si(i,"space.rightButton",0),w=Si(i,"expand.rightButtons",!1),R=Si(i,"align.rightButtons","top");d=new Qr(t,{groupName:"right",background:x,buttons:o,orientation:"y",space:{item:M},expand:w,click:v,eventEmitter:this.eventEmitter}),this.add(d,{column:2,row:1,align:R,padding:{top:b},expand:w})}if(h){var A=Si(i,"space.topButtonsOffset",0),L=Si(i,"space.topButton",0),F=Si(i,"expand.topButtons",!1),G=Si(i,"align.topButtons","left");a=new Qr(t,{groupName:"top",background:l,buttons:h,orientation:"x",space:{item:L},expand:F,align:Si(i,"align.topButtons",void 0),click:v,eventEmitter:this.eventEmitter}),this.add(a,{column:1,row:0,align:G,padding:{left:A},expand:F})}if(f){var I=Si(i,"space.bottomButtonsOffset",0),B=Si(i,"space.bottomButton",0),k=Si(i,"expand.bottomButtons",!1),U=Si(i,"align.bottomButtons","left");u=new Qr(t,{groupName:"bottom",background:c,buttons:f,orientation:"x",space:{item:B},expand:k,align:Si(i,"align.bottomButtons",void 0),click:v,eventEmitter:this.eventEmitter}),this.add(u,{column:1,row:2,align:U,padding:{left:I},expand:k})}this.addChildrenMap("background",p),this.addChildrenMap("panel",E),this.addChildrenMap("leftButtons",n),this.addChildrenMap("rightButtons",o),this.addChildrenMap("topButtons",h),this.addChildrenMap("bottomButtons",f),this.addChildrenMap("leftButtonsSizer",r),this.addChildrenMap("rightButtonsSizer",d),this.addChildrenMap("topButtonsSizer",a),this.addChildrenMap("bottomButtonsSizer",u)}}Object.assign(fR.prototype,pTt);It.register("tabs",function(e){var t=new fR(this.scene,e);return this.scene.add.existing(t),t});Lt(window,"RexPlugins.UI.Tabs",fR);It.register("slider",function(e){var t=new ac(this.scene,e);return this.scene.add.existing(t),t});Lt(window,"RexPlugins.UI.Slider",ac);class P8{constructor(t,i){this.container=null,this._deltaHeight=0,this.setParent(t)}setParent(t){this.parent=t,this.parentContainer=t.getParentContainer()}destroy(t){t===void 0&&(t=!1),t||this.destroyContainer(),this.deltaHeight=0,this.data=void 0,this.container=null,this.parent=void 0,this.parentContainer=void 0}get table(){return this.parent}get scrollMode(){return this.parentContainer.scrollMode}get colIndx(){return this.parent.cellIndxeToColIndex(this.index)}get rowIndx(){return this.parent.cellIndxeToRowIndex(this.index)}getContainer(){return this.container}setContainer(t){return t?(this.container&&this.container.destroy(),this.container=t,this.parentContainer.add(t),this):(this.destroyContainer(),this)}destroyContainer(){return this.container&&(this.container.destroy(),this.container=null),this}popContainer(){if(this.container){var t=this.container;return this.container=null,this.parentContainer.remove(t),t}else return null}setXY(t,i){return this.container&&this.parentContainer.setChildLocalPosition(this.container,t,i),this}setCellContainerAlign(t){return typeof t=="string"&&(t=nc[t]),this.cellContainerAlign=t,this}get deltaHeight(){return this._deltaHeight}set deltaHeight(t){t==null&&(t=0);var i=this.parent;this._deltaHeight===0&&t!==0?i.nonZeroDeltaHeightCount++:this._deltaHeight!==0&&t===0&&i.nonZeroDeltaHeightCount--;var s=this._deltaHeight!==t;if(this._deltaHeight=t,s){i.resetTotalRowsHeight();var p=this.scrollMode===0?"cellheightchange":"cellwidthchange";this.parentContainer.emit(p,this,this.container,this.parentContainer)}}get deltaWidth(){return this.deltaHeight}set deltaWidth(t){this.deltaHeight=t}setDeltaHeight(t){return this.deltaHeight=t,this}setDeltaWidth(t){return this.deltaHeight=t,this}get height(){return this.scrollMode===0?this.deltaHeight+this.parent.defaultCellHeight:this.parent.defaultCellWidth}set height(t){this.scrollMode!==1&&this.setDeltaHeight(t-this.parent.defaultCellHeight)}setHeight(t){return this.height=t,this}get width(){return this.scrollMode===0?this.parent.defaultCellWidth:this.deltaHeight+this.parent.defaultCellHeight}set width(t){this.scrollMode!==0&&this.setDeltaHeight(t-this.parent.defaultCellHeight)}setWidth(t){return this.width=t,this}get scene(){return this.parentContainer.scene}}Object.assign(P8.prototype,Lx);const DB=Phaser.Utils.Objects.GetValue,gTt=Phaser.Utils.Array.SpliceOne;class mTt{constructor(t,i){this.parent=t,this.cells=[],this.cellPool=new Co,this.resetFromJSON(i)}resetFromJSON(t){t===void 0&&(t={}),this.colCount=void 0,this.nonZeroDeltaHeightCount=0,this.resetTotalRowsHeight();var i=t.cellHeight;i===void 0&&(i=60);var s=t.cellWidth;return s===void 0&&(s=60),this.setDefaultCellHeight(i),this.setDefaultCellWidth(s),this.initCells(DB(t,"cellsCount",0)),this.setColumnCount(DB(t,"columns",1)),this}destroy(t){this.cellPool.destroy(),this.cells=void 0,this.parent=void 0}get defaultCellHeightMode(){return this.nonZeroDeltaHeightCount===0}setDefaultCellHeight(t){return this.defaultCellHeight=t,this}setDefaultCellWidth(t){return this.defaultCellWidth=t,this}initCells(t){var i=this.cells;i.length=t;for(var s=0;s<t;s++)i[s]=null;return this}insertNewCells(t,i){var s=this.cells;if(t===s.length){var p=t+i;s.legth=p;for(var E=t;E<p;E++)s[E]=null}else{var n=[];n.length=i;for(var E=0;E<i;E++)n[E]=null;this.cells.splice(t,0,...n)}return this.resetTotalRowsHeight(),this}removeCells(t,i){for(var s=t+i,p=t;p<s;p++)this.freeCell(p);return s===this.cells.length?this.cells.length=t:(i===1?gTt(this.cells,t):this.cells.splice(t,i),this.buildCellIndex(t)),this.resetTotalRowsHeight(),this}setColumnCount(t){this.colCount=t,this.resetTotalRowsHeight();var i=this.parent;if(i.expandCellSize){var s=i.scrollMode===0?i.width:i.height,p=s/t;this.setDefaultCellWidth(p)}return this}get rowCount(){return Math.ceil(this.cells.length/this.colCount)}get cellsCount(){return this.cells.length}isValidCellIdx(t){return t>=0&&t<this.cells.length}heightToRowIndex(t,i){if(i===void 0&&(i=0),t===0)return 0;if(this.defaultCellHeightMode){var T=t/this.defaultCellHeight;switch(i){case 1:T=Math.ceil(T);break;default:T=Math.floor(T);break}return T}for(var s=this.rowCount,p=t,E,n,T=0;;)if(n=this.getRowHeight(T),p-=n,E=T>=0&&T<s,p>0&&E)T+=1;else{if(p===0)return i===2&&(T+=1),T;if(i===1){var r=T;T+=1,E=T>=0&&T<s,E||(T=r)}return T}}widthToColIndex(t,i){if(t===0)return 0;var s=t/this.defaultCellWidth;return i?s=Math.ceil(s):s=Math.floor(s),s}colRowToCellIndex(t,i){return t>=this.colCount?null:i*this.colCount+t}rowIndexToHeight(t,i){if(this.defaultCellHeightMode)return(i-t+1)*this.defaultCellHeight;for(var s,p=0,E=t;E<=i;E++)s=this.getRowHeight(E),p+=s;return p}colIndexToWidth(t,i){return(i-t+1)*this.defaultCellWidth}getRowHeight(t){var i=this.colCount;if(i<=1)return this.getCellHeight(this.colRowToCellIndex(0,t));for(var s=0,p,E=0;E<i;E++)p=this.getCellHeight(this.colRowToCellIndex(E,t)),s<p&&(s=p);return s}getColWidth(t){return this.defaultCellWidth}getCellHeight(t){if(!this.isValidCellIdx(t))return 0;var i;if(this.defaultCellHeightMode)i=this.defaultCellHeight;else{var s=this.getCell(t,!1),p=s?s.deltaHeight:0;i=this.defaultCellHeight+p}return i}resetTotalRowsHeight(){this._totalRowsHeight=null}get totalRowsHeight(){return this._totalRowsHeight===null&&(this._totalRowsHeight=this.rowIndexToHeight(0,this.rowCount-1)),this._totalRowsHeight}get totalColumnWidth(){return this.colCount*this.defaultCellWidth}cellIndxeToColIndex(t){return t%this.colCount}cellIndxeToRowIndex(t){return Math.floor(t/this.colCount)}getCell(t,i){if(!this.isValidCellIdx(t))return null;if(i===void 0&&(i=!0),this.cells[t]===null&&i){var s=this.newCell(t);this.cells[t]=s}return this.cells[t]}newCell(t){var i=this.cellPool.pop();return i===null?i=new P8(this):i.setParent(this),i.index=t,i}buildCellIndex(t){t===void 0&&(t=0);for(var i=this.cells,s,p=t,E=i.length;p<E;p++)s=i[p],s&&(s.index=p);return this}getParentContainer(){return this.parent}freeCell(t){return typeof t=="number"&&(t=this.cells[t]),t?(t.destroy(),this.cellPool.push(t),this):this}}var yTt=function(e){var t=this.table,i=this.topTableOY,s=this.bottomTableOY,p=e>i,E=e<s;if(this.clampTableOXY){var n=t.rowCount,T=t.heightToRowIndex(this.instHeight,1);n<T?e=0:p?e=i:E&&(e=s)}return this._tableOY!==e&&(this._tableOY=e),p&&(this.execeedTopState||this.emit("execeedtop",this,e,i)),this.execeedTopState=p,E&&(this.execeedBottomState||this.emit("execeedbottom",this,e,s)),this.execeedBottomState=E,this},xTt=function(e){var t=this.table,i=this.leftTableOX,s=this.rightTableOX,p=e>this.leftTableOX,E=e<this.rightTableOX;if(this.clampTableOXY){var n=t.colCount,T=t.widthToColIndex(this.instWidth,!0);n<T?e=0:p?e=i:E&&(e=s)}return this._tableOX!==e&&(this._tableOX=e),p&&(this.execeedLeftState||this.emit("execeedleft",this,e,i)),this.execeedLeftState=p,E&&(this.execeedRightState||this.emit("execeedright",this,e,s)),this.execeedRightState=E,this},dR=function(e){return e.hasOwnProperty("geometryMask")?e.geometryMask:e.bitmapMask};const TTt=Phaser.Geom.Intersects.RectangleToRectangle,CTt=Phaser.Geom.Rectangle.Overlaps;var STt=function({parent:e,mask:t,children:i,onVisible:s,onInvisible:p,scope:E}){if(t){i===void 0&&(i=e.getAllChildren());for(var n=!!s||!!p,T=e.getBounds(),r=dR(t),o,x,d,h,l=0,a=i.length;l<a;l++)if(o=i[l],o!==r&&ETt(o)){if(h=o.visible,o.getBounds)switch(x=o.getBounds(x),d=PTt(T,x),d){case 4:bTt(e,o);break;case 0:TTt(T,x)||CTt(T,x)?vb(e,o,t):MTt(e,o);break;default:vb(e,o,t);break}else vb(e,o,t);if(n&&o.visible!==h){var f=o.visible?s:p;f&&(E?f.call(E,o,e):f(o,e))}}}},ETt=function(e){if(!e.displayList)return!1;for(;;){var t=e.rexContainer;if(t)if(t.visible){var i=t.parent;if(i){e=i;continue}else return!0}else return!1;else return e.visible}},PTt=function(e,t){var i=t.top,s=t.bottom,p=t.left,E=t.right,n=0;return n+=e.contains(p,i)?1:0,n+=e.contains(p,s)?1:0,n+=e.contains(E,i)?1:0,n+=e.contains(E,s)?1:0,n},bTt=function(e,t,i){t.hasOwnProperty("isRexContainerLite")?(t.syncChildrenEnable=!1,e.setChildMaskVisible(t,!0),t.syncChildrenEnable=!0):(t.clearMask&&t.clearMask(),e.setChildMaskVisible(t,!0))},vb=function(e,t,i){t.hasOwnProperty("isRexContainerLite")?(t.syncChildrenEnable=!1,e.setChildMaskVisible(t,!0),t.syncChildrenEnable=!0):(t.setMask&&t.setMask(i),e.setChildMaskVisible(t,!0))},MTt=function(e,t,i){t.hasOwnProperty("isRexContainerLite")?(t.syncChildrenEnable=!1,e.setChildMaskVisible(t,!1),t.syncChildrenEnable=!0):(t.clearMask&&t.clearMask(),e.setChildMaskVisible(t,!1))};const Sd=Phaser.Utils.Objects.GetValue,wTt={update:0,everyTick:1},b8={setupChildrenMask(e){return e===!1?this:(this.setMaskUpdateMode(Sd(e,"updateMode",0)),this.enableChildrenMask(Sd(e,"padding",0)),this.setMaskLayer(Sd(e,"layer",void 0)),this.onMaskGameObjectVisible=Sd(e,"onVisible"),this.onMaskGameObjectInvisible=Sd(e,"onInvisible"),this.maskGameObjectCallbackScope=Sd(e,"scope"),this.startMaskUpdate(),this)},destroyChildrenMask(){return this.childrenMask?(this.stopMaskUpdate(),this.childrenMask.destroy(),this.childrenMask=void 0,this.onMaskGameObjectVisible=null,this.onMaskGameObjectInvisible=null,this.maskGameObjectCallbackScope=null,this):this},setMaskUpdateMode(e){return typeof e=="string"&&(e=wTt[e]),this.maskUpdateMode=e,this},startMaskUpdate(){this.scene.game.events.on("poststep",this.maskChildren,this)},stopMaskUpdate(){this.scene.game.events.off("poststep",this.maskChildren,this)},enableChildrenMask(e){var t=za.call(this,null,this,0,e);return this.childrenMask=t.createGeometryMask(),this},setMaskChildrenFlag(e){return e===void 0&&(e=!0),this.maskChildrenFlag=e,this},setMaskLayer(e){return this.maskLayer=e,this},maskChildren(){return!this.childrenMask||!this.maskChildrenFlag||this.alpha===0||!this.visible?this:(this.privateRenderLayer?this.privateRenderLayer.setMask(this.childrenMask):this.maskLayer?(this.addToLayer(this.maskLayer),this.maskLayer.setMask(this.childrenMask)):STt({parent:this,mask:this.childrenMask,onVisible:this.onMaskGameObjectVisible,onInvisible:this.onMaskGameObjectInvisible,scope:this.maskGameObjectCallbackScope}),this.maskUpdateMode===0&&(this.maskChildrenFlag=!1),this)},layoutChildrenMask(){if(!this.childrenMask)return this;var e=dR(this.childrenMask);return e.setPosition().resize(),this.resetChildPositionState(e),this}};var RTt=function(){if(this.cellsCount!==0){var e=this.scaleX,t=this.scaleY,i=e===1&&t===1;i||this.setScale(1);var s=this.table,p=this.tableOYOffset,E=this.tableOY+p,n=this.tableOX;this.startRowIndex=Math.max(s.heightToRowIndex(-E,2),0);for(var T=this.startRowIndex,r=Math.max(s.widthToColIndex(-n),0),o=r,x=s.colRowToCellIndex(o,T),d=this.bottomBound,h=this.rightBound,l=s.cellsCount-1,a=s.colCount-1,f=this.getCellTLX(o),c=f,u=this.getCellTLY(T)+p,v=u;v<d&&x<=l;){if(this.table.isValidCellIdx(x)){var g=s.getCell(x,!0);this.visibleCells.set(g),this.preVisibleCells.contains(g)||this.showCell(g);var m,y;if(this.scrollMode===0?(m=c,y=v):(m=v,y=c),g.cellContainerAlign==null)g.setXY(m,y);else{var C=g.getContainer();Kp(C,m,y,g.width,g.height,g.cellContainerAlign),g.setXY(C.x,C.y)}}c<h&&o<a?(c+=s.getColWidth(o),o+=1):(c=f,v+=s.getRowHeight(T),o=r,T+=1),x=s.colRowToCellIndex(o,T)}i||this.setScale(e,t)}},M8=function(e){var t=null,i=e.getContainer();if(i?(t=i,e.popContainer()):this.cellContainersPool&&(t=this.cellContainersPool.getFirstDead(),t!==null&&t.setActive(!0).setVisible(!0)),this.emit("cellvisible",e,t,this),this.cellContainersPool){var i=e.getContainer();i?t===null?this.cellContainersPool.add(i):t!==i&&(this.cellContainersPool.add(i),this.cellContainersPool.killAndHide(t)):t!==null&&this.cellContainersPool.killAndHide(t)}},ATt=function(e){var t=this.scrollMode===0?this.topLeftX:this.topLeftY,i=this.tableOX+this.table.colIndexToWidth(0,e-1)+t;return i},OTt=function(e){var t=this.scrollMode===0?this.topLeftY:this.topLeftX,i=this.tableOY+this.table.rowIndexToHeight(0,e-1)+t;return i},LTt=function(){var e=this.preVisibleCells,t=this.visibleCells;e.iterate(function(i){t.contains(i)||this.hideCell(i)},this)},w8=function(e){if(this.emit("cellinvisible",e),this.cellContainersPool){var t=e.popContainer();t&&(t.setScale(1).setAlpha(1),this.cellContainersPool.killAndHide(t))}e.destroyContainer()},DTt=function(e,t){return e===void 0&&(e=!1),t===void 0&&(t=!1),e&&(FB.call(this),this.hideCells()),FB.call(this),this.showCells(),this.hideCells(),this.setMaskChildrenFlag(),t&&(this.layoutChildrenMask(),this.maskChildren()),this},FB=function(){var e=this.preVisibleCells;this.preVisibleCells=this.visibleCells,this.visibleCells=e,this.visibleCells.clear()},FTt=function(e){var t=this.table.getCell(e,!1);return t&&this.visibleCells.contains(t)},R8=function(e,t){t-=this.y+this.topLeftY,e-=this.x+this.topLeftX;var i=this.tableOY-(this.scrollMode===0?t:e),s=this.tableOX-(this.scrollMode===0?e:t),p=this.table,E=p.heightToRowIndex(-i,0),n=p.widthToColIndex(-s),T=p.colRowToCellIndex(n,E);return T===null||!this.isCellVisible(T)?null:T},ITt=function(e,t){var i=R8.call(this,e,t);if(i!==null)return this.getCellContainer(i)},BTt=function(e,t){return this.visibleCells.each(e,t),this},GTt=function(e,t){return this.visibleCells.iterate(e,t),this},kTt=function(e,t){return this.table.cells.slice().forEach(e,t),this},NTt=function(e,t){return this.table.cells.forEach(e,t),this},UTt=function(e){var t=this.cellsCount;return t===e?this:(t>e?this.removeCells(e,t-e):this.insertNewCells(t,e-t),this)};const VTt=Phaser.Math.Clamp;var zTt=function(e,t){return typeof e=="object"&&(e=e.index),t===void 0&&(t=1),t<=0?this:(e=VTt(e,0,this.cellsCount),this.table.insertNewCells(e,t),this)},WTt=function(e,t){if(typeof e=="object"&&(e=e.index),t===void 0&&(t=1),e<0&&(t+=e,e=0),t<=0)return this;if(e>this.cellsCount)return this;for(var i,s=e,p=e+t;s<p;s++)i=this.getCell(s,!1),i&&(this.visibleCells.contains(i)&&(w8.call(this,i),this.visibleCells.delete(i)),this.preVisibleCells.delete(i));return this.table.removeCells(e,t),this},YTt=function(e){return this.table.colCount===e?this:(this.table.setColumnCount(e),this)},XTt=function(e,t){return this.setCellsCount(e*t),this.table.setColumnCount(e),this},HTt=function(e){var t=this.table.getCell(e,!1);return!t||!t.container?this:(M8.call(this,t),this)},A8={setTableOY:yTt,setTableOX:xTt,showCells:RTt,showCell:M8,getCellTLX:ATt,getCellTLY:OTt,hideCells:LTt,hideCell:w8,updateTable:DTt,isCellVisible:FTt,pointToCellIndex:R8,pointToCellContainer:ITt,eachVisibleCell:BTt,iterateVisibleCell:GTt,eachCell:kTt,iterateCell:NTt,setCellsCount:UTt,insertNewCells:zTt,removeCells:WTt,setColumnCount:YTt,setGridSize:XTt,updateVisibleCell:HTt};Object.assign(A8,b8);const $Tt=Phaser.GameObjects.Group,IB=Phaser.Structs.Set,qs=Phaser.Utils.Objects.GetValue;let O8=class extends Is{constructor(t,i,s,p,E,n){n===void 0&&(n={}),super(t,i,s,p,E),this.type="rexGridTable",this._tableOX=0,this._tableOY=0,this.visibleCells=new IB,this.preVisibleCells=new IB,this.execeedTopState=!1,this.execeedBottomState=!1,this.execeedLeftState=!1,this.execeedRightState=!1;var T=qs(n,"reuseCellContainer",!1);T&&(this.cellContainersPool=new $Tt(t));var r=qs(n,"cellVisibleCallback",null);if(r!==null){var o=qs(n,"cellVisibleCallbackScope",void 0);this.on("cellvisible",r,o)}if(r=qs(n,"cellInvisibleCallback",null),r!==null){var o=qs(n,"cellInvisibleCallbackScope",void 0);this.on("cellinvisible",r,o)}qs(n,"enableLayer",!1)&&this.enableLayer(),this.setupChildrenMask(qs(n,"mask",void 0)),this.setScrollMode(qs(n,"scrollMode",0)),this.setClampMode(qs(n,"clampTableOXY",!0)),this.setStartFromBottomEnable(qs(n,"startFromBottom",!1));var x,d,h,l=this.scrollMode===0;if(l?(x=n.cellWidth,d=n.cellHeight,h=n.columns):(x=n.cellHeight,d=n.cellWidth,h=qs(n,"rows",n.columns)),this.fixedCellSize=qs(n,"fixedCellSize",!1),this.expandCellSize=!this.fixedCellSize&&x===void 0,h||(h=1),this.fixedCellSize)h=Math.max(Math.floor(this.instWidth/x),1);else if(this.expandCellSize){var p=l?this.width:this.height;x=p/h}n.cellWidth=x,n.cellHeight=d,n.columns=h,this.table=new mTt(this,n),this.updateTable()}destroy(t){!this.scene||this.ignoreDestroy||(this.destroyChildrenMask(),this.table.destroy(t),this.table=void 0,this.cellContainersPool&&(this.cellContainersPool.destroy(!0),this.cellContainersPool=void 0),super.destroy(t))}setScrollMode(t){return typeof t=="string"&&(t=KTt[t.toLowerCase()]),this.scrollMode=t,this}setClampMode(t){return t===void 0&&(t=!0),this.clampTableOXY=t,this}setStartFromBottomEnable(t){return t===void 0&&(t=!0),this.startFromBottomEnable=t,this}get tableOY(){return this._tableOY}get tableOX(){return this._tableOX}set tableOY(t){this.setTableOY(t).updateTable()}set tableOX(t){this.setTableOX(t).updateTable()}setTableOXY(t,i){return this.setTableOY(i).setTableOX(t),this}addTableOY(t){return this.setTableOY(this.tableOY+t),this}addTableOX(t){return this.setTableOX(this.tableOX+t),this}addTableOXY(t,i){return this.addTableOY(i).addTableOX(t),this}setTableOYByPercentage(t){return this.setTableOY(-this.tableVisibleHeight*t),this}getTableOYPercentage(){var t=this.tableVisibleHeight;return t===0?0:this.tableOY/-t}setTableOXByPercentage(t){return this.setTableOX(-this.tableVisibleWidth*t),this}getTableOXPercentage(){var t=this.tableVisibleWidth;return t===0?0:this.tableOX/-t}set t(t){this.setTableOYByPercentage(t).updateTable()}get t(){return this.getTableOYPercentage()}set s(t){this.setTableOXByPercentage(t).updateTable()}get s(){return this.getTableOXPercentage()}scrollToBottom(){if(this.t=1,this.t===0)return this;do this.t=1;while(this.t!==1);return this}scrollToRow(t){this.scrollToBottom();var i=this.table.rowIndexToHeight(0,t-1);return this.setTableOY(-i).updateTable(),this}scrollToNextRow(t){return t===void 0&&(t=1),this.scrollToRow(this.startRowIndex+t),this}getCell(t){return this.table.getCell(t,!0)}getCellContainer(t){var i=this.table.getCell(t,!1),s;return i&&(s=i.getContainer()),s}get cellsCount(){return this.table.cellsCount}get columnCount(){return this.table.colCount}setCellHeight(t,i){var s;return typeof t=="number"?s=this.table.getCell(t,!0):s=t,s.height=i,this}setCellWidth(t,i){var s;return typeof t=="number"?s=this.table.getCell(t,!0):s=t,s.width=i,this}resetAllCellsSize(t,i){if(this.scrollMode===1){var s=t;t=i,i=s}this.table.setDefaultCellHeight(i).setDefaultCellWidth(t);for(var p=this.table.cells,E=0,n=p.length;E<n;E++){var T=p[E];T&&(T.deltaHeight=0)}if(this.fixedCellSize){var r=Math.floor(this.instWidth/t);this.table.setColumnCount(r)}return this.updateTable(!0,!0),this}get instHeight(){return this.scrollMode===0?this.height:this.width}get instWidth(){return this.scrollMode===0?this.width:this.height}get tableHeight(){return this.table.totalRowsHeight}get tableWidth(){return this.table.totalColumnWidth}get tableOYOffset(){if(this.startFromBottomEnable){var t=this.tableHeight-this.instHeight;if(t<0)return-t}return 0}get topTableOY(){return 0}get bottomTableOY(){return-this.tableVisibleHeight}get leftTableOX(){return 0}get rightTableOX(){return-this.tableVisibleWidth}get tableVisibleHeight(){var t=this.tableHeight-this.instHeight;return t<0&&(t=0),t}get tableVisibleWidth(){var t=this.tableWidth-this.instWidth;return t<0&&(t=0),t}get bottomLeftY(){return-(this.displayHeight*this.originY)+this.displayHeight}get topRightX(){return-(this.displayWidth*this.originX)+this.displayWidth}get topLeftX(){return-(this.displayWidth*this.originX)}get topLeftY(){return-(this.displayHeight*this.originY)}get bottomBound(){return this.scrollMode===0?this.bottomLeftY:this.topRightX}get rightBound(){return this.scrollMode===0?this.topRightX:this.bottomLeftY}resize(t,i){if(this.width===t&&this.height===i)return this;if(super.resize(t,i),this.fixedCellSize){var s=Math.floor(this.instWidth/this.table.defaultCellWidth);this.table.setColumnCount(s)}else this.expandCellSize&&this.table.setDefaultCellWidth(this.instWidth/this.table.colCount);return this.updateTable(!0,!0),this}};Object.assign(O8.prototype,A8);const KTt={v:0,vertical:0,h:1,horizontal:1};var ZTt=function(e){Object.defineProperty(e,"childOY",{configurable:!0,get:function(){return e.tableOY},set:function(t){e.tableOY=t}}),Object.defineProperty(e,"childOX",{configurable:!0,get:function(){return e.tableOX},set:function(t){e.tableOX=t}}),Object.defineProperty(e,"topChildOY",{get:function(){return e.topTableOY}}),Object.defineProperty(e,"bottomChildOY",{get:function(){return e.bottomTableOY}}),Object.defineProperty(e,"leftChildOX",{get:function(){return e.leftTableOX}}),Object.defineProperty(e,"rightChildOX",{get:function(){return e.rightTableOX}}),Object.defineProperty(e,"childVisibleHeight",{get:function(){return e.instHeight}}),Object.defineProperty(e,"childHeight",{get:function(){return e.tableHeight}}),Object.defineProperty(e,"childVisibleWidth",{get:function(){return e.instWidth}}),Object.defineProperty(e,"childWidth",{get:function(){return e.tableWidth}})},JTt=function(e){e.on("cellvisible",function(t,n,s){var p=this.createCellContainerCallback,E=this.createCellContainerCallbackScope;t.item=this.items[t.index],t.items=this.items;var n;E?n=p.call(E,t,n,s):n=p(t,n,s),n&&(t.cellContainerAlign==null&&n.setOrigin&&n.setOrigin(0),n.isRexSizer&&n.layout()),t.item=void 0,t.items=void 0,t.setContainer(n)},this)},bo=function(e,t,i,s,p,E,n){var T;if(p===void 0)T=s;else{var r=E.camera,o=s+r.scrollX*(i.scrollFactorX-1),x=p+r.scrollY*(i.scrollFactorY-1);T=i.pointToCellIndex(o,x)}if(T!=null){var d=i.getCellContainer(T);d&&e.emit(t,d,T,E,n)}},jTt=function(e,t){e.on("pointerdown",function(i,s,p,E){bo(this.eventEmitter,"cell.down",e,i.worldX,i.worldY,i,E)},this).on("pointerup",function(i,s,p,E){bo(this.eventEmitter,"cell.up",e,i.worldX,i.worldY,i,E)},this)},QTt=function(e,t){e.on("pointermove",BB,this).on("pointerover",BB,this).on("pointerout",qTt,this)},BB=function(e,t,i,s){var p=this.childrenMap.child,E=e.camera,n=e.worldX+E.scrollX*(p.scrollFactorX-1),T=e.worldY+E.scrollY*(p.scrollFactorY-1),r=p.pointToCellIndex(n,T);if(r!==p.input.lastOverCellIndex){var o=p.input.lastOverCellIndex;p.input.lastOverCellIndex=r,bo(this.eventEmitter,"cell.out",p,o,void 0,e,s),bo(this.eventEmitter,"cell.over",p,r,void 0,e,s)}},qTt=function(e,t){var i=this.childrenMap.child,s=i.input.lastOverCellIndex;i.input.lastOverCellIndex=void 0,bo(this.eventEmitter,"cell.out",i,s,void 0,e,t)};const _Tt=Phaser.Utils.Objects.GetValue;var tCt=function(e,t){var i=_Tt(t,"click",void 0);i!==!1&&(i===void 0&&(i={}),i.threshold=10,e._click=new Tl(e,i),e._click.on("click",function(s,p,E,n){bo(this.eventEmitter,"cell.click",p,E.worldX,E.worldY,E,n)},this))};const eCt=Phaser.Utils.Objects.GetValue;var iCt=function(e,t){var i=eCt(t,"tap",void 0);i!==!1&&(e._tap=new qx(e,i),e._tap.on("tap",function(s,p,E){var n=`cell.${s.tapsCount}tap`;bo(this.eventEmitter,n,s.gameObject,s.worldX,s.worldY,E)},this))};const rCt=Phaser.Utils.Objects.GetValue;var nCt=function(e,t){var i=rCt(t,"press",void 0);i!==!1&&(e._press=new _x(e,i),e._press.on("pressstart",function(s,p,E){bo(this.eventEmitter,"cell.pressstart",e,s.worldX,s.worldY,E)},this).on("pressend",function(s,p,E){bo(this.eventEmitter,"cell.pressend",e,s.worldX,s.worldY,E)},this))};const sCt=Phaser.Utils.Objects.GetValue;var aCt=function(e,t){var i=sCt(t,"swipe",void 0);i!==!1&&(i===void 0&&(i={}),i.dir="4dir",e._swipe=new _p(e,i),e._swipe.on("swipe",function(s,p,E){var n=s.left?"left":s.right?"right":s.up?"up":"down";bo(this.eventEmitter,`cell.swipe${n}`,e,s.worldX,s.worldY,E)},this))},oCt=function(e,t){e.setInteractive(),jTt.call(this,e,t),QTt.call(this,e,t),tCt.call(this,e,t),iCt.call(this,e,t),nCt.call(this,e,t),aCt.call(this,e,t)},lCt=function(e,t){e===void 0?this.items=[]:this.items=e,t===void 0&&(t=!0);var i=this.childrenMap.child;return i.setCellsCount(this.items.length),t&&(i.updateTable(!0),this.resizeController()),this};const hCt={scrollToRow(e){var t=this.childrenMap.child;return t.scrollToRow(e),this},scrollToNextRow(e){var t=this.childrenMap.child;return t.scrollToNextRow(e),this}},Da=Phaser.Utils.Objects.GetValue;class cR extends sg{constructor(t,i){i===void 0&&(i={});var s=iR(i),p=Da(i,"table",void 0);p===void 0&&(p={}),p.scrollMode=s===2?0:s,p.clampTableOXY=Da(i,"clampChildOY",!1);var E=Da(p,"width",void 0),n=Da(p,"height",void 0),T=new O8(t,0,0,E,n,p);t.add.existing(T);var r,o;p.scrollMode===0?(r=E===void 0,o=n===void 0):(r=n===void 0,o=E===void 0),ZTt(T),T._minWidth=E===void 0?0:void 0,T._minHeight=n===void 0?0:void 0,i.type="rexGridTable",i.child={gameObject:T,expandWidth:r,expandHeight:o};var x=Da(i,"space",void 0);x&&(x.child=Da(x,"table",0)),super(t,i),this.addChildrenMap("table",T),this.addChildrenMap("tableLayer",T.maskLayer),this.eventEmitter=Da(i,"eventEmitter",this);var d=Da(i,"createCellContainerCallback",Ur),h=Da(i,"createCellContainerCallbackScope",void 0);this.setCreateCellContainerCallback(d,h),JTt.call(this,T),this.resizeControllerFlag=!1;var l=s===0?"cellheightchange":"cellwidthchange";T.on(l,function(){this.resizeControllerFlag=!0},this),Da(p,"interactive",!0)&&oCt.call(this,T,p),this.setItems(Da(i,"items",[]),!1),t.game.events.on("poststep",this.onPostStep,this)}destroy(t){!this.scene||this.ignoreDestroy||(this.scene.game.events.off("poststep",this.onPostStep,this),super.destroy(t))}setCreateCellContainerCallback(t,i){return this.createCellContainerCallback=t,this.createCellContainerCallbackScope=i,this}refresh(){return this.setItems(this.items),this}getCell(t){var i=this.childrenMap.child;return i.getCell(t)}getCellContainer(t){var i=this.childrenMap.child;return i.getCellContainer(t)}updateVisibleCell(t){var i=this.childrenMap.child;return i.updateVisibleCell(t)}resetAllCellsSize(t,i){var s=this.childrenMap.child;return s.resetAllCellsSize(t,i),this}onPostStep(){this.resizeControllerFlag&&(this.resizeController(),this.resizeControllerFlag=!1)}get startRowIndex(){var t=this.childrenMap.child;return t.startRowIndex}}var uCt={setItems:lCt};Object.assign(cR.prototype,hCt,uCt);It.register("gridTable",function(e){var t=new cR(this.scene,e);return this.scene.add.existing(t),t});Lt(window,"RexPlugins.UI.GridTable",cR);var vR=function(e,t){return e.sameOrientation?e.orientation=t.orientation:e.orientation=t.orientation===0?1:0,e},fCt=function(e,t){e.popUp(vR(e.root.easeIn,e))},dCt=function(e,t){e.scaleDown(vR(e.root.easeOut,e))};const cCt={setTransitInCallback(e){return e===void 0&&(e=fCt),this.transitInCallback=e,this},setTransitOutCallback(e){return e===void 0&&(e=dCt),this.transitOutCallback=e,this}};var vCt=function(e,t,i,s,p){var E=ic(e),n=E.time.delayedCall(t,function(){E.sys.events.once("postupdate",function(){i.call(s,p)})});return n};const pCt={delayCall(e,t,i){return this.timer=vCt(this,e,t,i),this},removeDelayCall(){return this.timer&&(this.timer.remove(!1),this.timer=void 0),this}};var gCt=function(e,t){var s=this.childrenMap.subMenu;if(s&&s.parentButton===e)return this;this.collapseSubMenu();var i;this.root.toggleOrientation?i=this.orientation===0?1:0:i=this.orientation;var s=new this.constructor(this.scene,{items:t,orientation:i,space:this.space,createBackgroundCallback:this.root.createBackgroundCallback,createBackgroundCallbackScope:this.root.createBackgroundCallbackScope,createButtonCallback:this.root.createButtonCallback,createButtonCallbackScope:this.root.createButtonCallbackScope,easeIn:this.root.easeIn,easeOut:this.root.easeOut,_rootMenu:this.root,_parentMenu:this,_parentButton:e});return this.pin(s),this.childrenMap.subMenu=s,this.root.emit("expand",s,e,this),this},mCt=function(){var e=this.root;e.emit("collapse",this,this.parentButton,e);var t=e.easeOut.duration;return e.transitOutCallback(this,t),this.collapseSubMenu(),this.delayCall(t,this.destroy,this),this},yCt=function(){var e=this.childrenMap.subMenu;return e===void 0?this:(this.childrenMap.subMenu=void 0,this.remove(e),e.collapse(),this)},L8={expandSubMenu:gCt,collapse:mCt,collapseSubMenu:yCt};Object.assign(L8,cCt,pCt);var xCt=function(e,t,i,s){var p;return i&&(t.scene=e,s?p=i.call(s,t):p=i(t),t.scene=void 0),p},TCt=function(e,t,i,s){var p,E=[],n;if(t&&i)for(var T=0,r=t.length;T<r;T++)p=t[T],p.scene=e,s?n=i.call(s,p,T,t):n=i(p,T,t),p.scene=void 0,E.push(n);return E},CCt=function(e){e.on(e.root.expandEventName,function(t,i){if(!this._isPassedEvent){var s=this.root.childrenKey,p=this.items[i][s];p&&this.expandSubMenu(t,p)}},e).on("button.click",function(t,i,s,p){this!==this.root&&(this.root._isPassedEvent=!0,this.root.emit("button.click",t,i,s,p),this.root._isPassedEvent=!1)},e).on("button.over",function(t,i,s,p){this!==this.root&&(this.root._isPassedEvent=!0,this.root.emit("button.over",t,i,s,p),this.root._isPassedEvent=!1)},e).on("button.out",function(t,i,s,p){this!==this.root&&(this.root._isPassedEvent=!0,this.root.emit("button.out",t,i,s,p),this.root._isPassedEvent=!1)},e)},GB=function(e,t){return typeof t=="number"&&(t={duration:t}),t.hasOwnProperty("orientation")&&t.orientation!==void 0?t.sameOrientation=Qu(t.orientation)===e.orientation:t.sameOrientation=!0,t.destroy=!1,t},SCt=function(){var e=this.root,t=e.easeIn.duration;e.transitInCallback(this,t),this!==this.root&&this.delayCall(t,function(){this.root.emit("popup.complete",this)},this)};const zn=Phaser.Utils.Objects.GetValue;class pR extends Qr{constructor(t,i){i===void 0&&(i={}),i.hasOwnProperty("orientation")||(i.orientation=1);var s=i._rootMenu,p=i._parentMenu,E=i._parentButton,n=zn(i,"popup",!0),T=zn(i,"items",void 0),r=zn(i,"createBackgroundCallback",void 0),o=zn(i,"createBackgroundCallbackScope",void 0);i.background=xCt(t,T,r,o);var x=zn(i,"createButtonCallback",void 0),d=zn(i,"createButtonCallbackScope",void 0);if(i.buttons=TCt(t,T,x,d),super(t,i),this.type="rexMenu",this.items=T,this.root=s===void 0?this:s,this.isRoot=this.root===this,this.parentMenu=p,this.parentButton=E,this.timer=void 0,this.isRoot){this.isPopUpMode=n;var h=i.bounds;h===void 0&&(h=ec(t)),this.bounds=h,this.subMenuSide=[this.y<h.centerY?aM:Jy,this.x<h.centerX?sM:Zy];var l=zn(i,"subMenuSide",void 0);l!==void 0&&(typeof l=="string"&&(l=ECt[l]),this.subMenuSide[this.orientation]=l),this.toggleOrientation=zn(i,"toggleOrientation",!1),this.expandEventName=zn(i,"expandEvent","button.click"),this.easeIn=GB(this,zn(i,"easeIn",0)),this.easeOut=GB(this,zn(i,"easeOut",0)),this.setTransitInCallback(zn(i,"transitIn")),this.setTransitOutCallback(zn(i,"transitOut")),this.createBackgroundCallback=r,this.createBackgroundCallbackScope=o,this.createButtonCallback=x,this.createButtonCallbackScope=d,this.childrenKey=zn(i,"childrenKey","children"),this._isPassedEvent=!1,this.pointerDownOutsideCollapsing=zn(i,"pointerDownOutsideCollapsing",!0),this.pointerDownOutsideCollapsing&&t.input.on("pointerdown",this.onPointerDownOutside,this)}var a=0,f=0;if(!this.root.easeIn.sameOrientation){var c=vR(this.root.easeIn,this).orientation,u=p?p.orientation:this.orientation,l=this.root.subMenuSide[u];c===0&&l===Zy&&(a=1),c===1&&l===Jy&&(f=1)}if(n&&this.setOrigin(a,f).layout(),!this.isRoot){this.setScale(this.root.scaleX,this.root.scaleY);var l=this.root.subMenuSide[p.orientation];switch(l){case Zy:this.alignTop(E.top).alignRight(E.left);break;case sM:this.alignTop(E.top).alignLeft(E.right);break;case Jy:this.alignLeft(E.left).alignBottom(E.top);break;case aM:this.alignLeft(E.left).alignTop(E.bottom);break}}CCt(this),n&&(this.pushIntoBounds(this.root.bounds),SCt.call(this))}destroy(t){!this.scene||this.ignoreDestroy||(this.isRoot&&this.pointerDownOutsideCollapsing&&this.scene.input.off("pointerdown",this.onPointerDownOutside,this),super.destroy(t),this.removeDelayCall())}isInTouching(t){return super.isInTouching(t)?!0:this.childrenMap.subMenu?this.childrenMap.subMenu.isInTouching(t):!1}onPointerDownOutside(t){this.isInTouching(t)||(this.isPopUpMode?this.collapse():this.collapseSubMenu())}}const Zy=2,sM=0,Jy=3,aM=1,ECt={up:Jy,down:aM,left:Zy,right:sM};Object.assign(pR.prototype,L8);It.register("menu",function(e){var t=new pR(this.scene,e);return this.scene.add.existing(t),t});Lt(window,"RexPlugins.UI.Menu",pR);var PCt={setWrapEnable(e){return e===void 0&&(e=!0),this.listWrapEnable=e,this},setCreateButtonCallback(e){return this.listCreateButtonCallback=e,this},setCreateListBackgroundCallback(e){return this.listCreateBackgroundCallback=e,this},setCreateListSliderTrackCallback(e){return this.listCreateSliderTrackCallback=e,this},setCreateListSliderThumbCallback(e){return this.listCreateSliderThumbCallback=e,this},setListSliderAdaptThumbSizeEnable(e){return e===void 0&&(e=!0),this.listSliderAdaptThumbSizeEnable=e,this},setListScrollerConfig(e){return e===void 0&&(e={}),this.listScrollerConfig=e,this},setListMouseWheelScrollerConfig(e){return this.listMouseWheelScrollerConfig=e,this},setButtonClickCallback(e){return this.listOnButtonClick=e,this},setButtonOverCallback(e){return this.listOnButtonOver=e,this},setButtonOutCallback(e){return this.listOnButtonOut=e,this},setListExpandDirection(e){return typeof e=="string"&&(e=bCt[e]),this.listExpandDirection=e,this},setListEaseInDuration(e){return e===void 0&&(e=0),this.listEaseInDuration=e,this},setListEaseOutDuration(e){return e===void 0&&(e=0),this.listEaseOutDuration=e,this},setListTransitInCallback(e){return this.listTransitInCallback=e,this},settListTransitOutCallback(e){return this.listTransitOutCallback=e,this},setListBounds(e){return this.listBounds=e,this},setListWidth(e){return this.listWidth=e,this},setListHeight(e){return this.listHeight=e,this},setListSize(e,t){return this.setListWidth(e).setListHeight(t),this},setListMaxHeight(e){return this.listMaxHeight=e,this},setListAlignmentMode(e){return this.listAlignMode=e,this},setListAlignmentSide(e){return e===void 0&&(e=""),this.listAlignSide=e,this},setListSpace(e){return e===void 0&&(e={}),this.listSpace=e,this},setListDraggable(e){return e===void 0&&(e=!0),this.listDraggable=e,this}};const bCt={down:0,up:1};var MCt=function(){if(this.rexSizer.hidden)return 0;var e,t=this.child,i=t.rexSizer,s=!1;if(i.hidden)e=0;else switch(this.scrollMode){case 0:e=this.getChildWidth(t),e===void 0&&(s=!0);break;case 1:e=0;break;default:e=0;break}if(!s)return e},wCt=function(){if(this.rexSizer.hidden)return 0;var e,t=this.child,i=t.rexSizer,s=!1;if(i.hidden)e=0;else switch(this.scrollMode){case 0:e=0;break;case 1:e=this.getChildHeight(t),e===void 0&&(s=!0);break;default:e=0;break}if(!s)return e},RCt=function(e){return e===void 0&&(e=[]),this.child&&this.child.isRexSizer&&e.push(this.child),e},ACt=function(){var e=this.left,t=this.top;switch(this.scrollMode){case 0:t+=this.childOY;break;case 1:e+=this.childOY;break;default:t+=this.childOY,e+=this.childOX;break}this.child.setPosition(e,t),this.resetChildPositionState(this.child),this.setMaskChildrenFlag()},OCt=function(){var e=this.child,t,i;if(!e.rexSizer.hidden){switch(this.scrollMode){case 0:t=this.width*this.scaleX;break;case 1:i=this.height*this.scaleY;break}e.isRexSizer?e.runLayout(this,t,i):wn(e,t,i),this.resetChildPosition(),this.layoutChildrenMask(),this.maskChildren()}},LCt=function(e,t){t||e.clearMask&&e.clearMask(!1)},D8={getChildrenWidth:MCt,getChildrenHeight:wCt,getChildrenSizers:RCt,resetChildPosition:ACt,layoutChildren:OCt,removeChildCallback:LCt};Object.assign(D8,b8);const kB=Phaser.Utils.Objects.IsPlainObject,_s=Phaser.Utils.Objects.GetValue,DCt=Phaser.Display.Align.TOP_LEFT;class F8 extends _u{constructor(t,i,s,p,E,n){kB(i)?(n=i,i=_s(n,"x",0),s=_s(n,"y",0),p=_s(n,"width",void 0),E=_s(n,"height",void 0)):kB(p)&&(n=p,p=_s(n,"width",void 0),E=_s(n,"height",void 0)),super(t,i,s,p,E,n),this.type="rexScrollableBlock",this.child=void 0,this.childrenMask=void 0,this._childOY=0,this._childOX=0,this.execeedTopState=!1,this.execeedBottomState=!1,this.execeedLeftState=!1,this.execeedRightState=!1,this.setScrollMode(_s(n,"scrollMode",0));var T=_s(n,"clampChildOY",!0),r=_s(n,"clampChildOX",T);this.setClampMode(T,r);var o=_s(n,"child",void 0),x=_s(n,"expand",!0);o.setOrigin&&o.setOrigin(0),this.add(o),this.sizerChildren=[o];var d=this.getSizerConfig(o);d.align=DCt,d.expand=x,this.child=o;var h=_s(n,"mask");this.setupChildrenMask(h),this.childrenMask&&(this.maskGameObject=dR(this.childrenMask))}destroy(t){!this.scene||this.ignoreDestroy||(this.destroyChildrenMask(),this.child=void 0,super.destroy(t))}setScrollMode(t){return typeof t=="string"&&(t=o8[t.toLowerCase()]),this.scrollMode=t,this}setClampMode(t,i){return this.clampChildOY=t,this.clampChildOX=i,this}get instHeight(){return this.scrollMode===0||this.scrollMode===2?this.displayHeight:this.displayWidth}get instWidth(){return this.scrollMode===0||this.scrollMode===2?this.displayWidth:this.displayHeight}get childHeight(){return this.scrollMode===0||this.scrollMode===2?yi(this.child):mi(this.child)}get childWidth(){return this.scrollMode===0||this.scrollMode===2?mi(this.child):yi(this.child)}get topChildOY(){return 0}get bottomChildOY(){return-this.visibleHeight}get leftChildOX(){return 0}get rightChildOX(){return-this.visibleWidth}get childVisibleHeight(){return this.instHeight}get childVisibleWidth(){return this.instWidth}get visibleHeight(){var t=this.childHeight-this.childVisibleHeight;return t<0&&(t=0),t}get visibleWidth(){var t=this.childWidth-this.childVisibleWidth;return t<0&&(t=0),t}childOYExceedTop(t){return t===void 0&&(t=this.childOY),t>this.topChildOY}childOYExeceedBottom(t){return t===void 0&&(t=this.childOY),t<this.bottomChildOY}childOXExceedLeft(t){return t===void 0&&(t=this.childOX),t>this.leftChildOX}childOXExeceedRight(t){return t===void 0&&(t=this.childOX),t<this.rightChildOX}get childOY(){return this._childOY}set childOY(t){var i=this.topChildOY,s=this.bottomChildOY,p=this.childOYExceedTop(t),E=this.childOYExeceedBottom(t);this.clampChildOY&&(this.childVisibleHeight>this.childHeight?t=0:p?t=i:E&&(t=s)),this._childOY!==t&&(this._childOY=t,this.resetChildPosition()),p&&(this.execeedTopState||this.emit("execeedtop",this,t,i)),this.execeedTopState=p,E&&(this.execeedBottomState||this.emit("execeedbottom",this,t,s)),this.execeedBottomState=E}get childOX(){return this._childOX}set childOX(t){var i=this.leftChildOX,s=this.rightChildOX,p=this.childOXExceedLeft(t),E=this.childOXExeceedRight(t);this.clampChildOX&&(this.childVisibleWidth>this.childWidth?t=0:p?t=i:E&&(t=s)),this._childOX!==t&&(this._childOX=t,this.resetChildPosition()),p&&(this.execeedLeftState||this.emit("execeedleft",this,t,i)),this.execeedLeftState=p,E&&(this.execeedRightState||this.emit("execeedright",this,t,s)),this.execeedRightState=E}setChildOY(t){return this.childOY=t,this}setChildOX(t){return this.childOX=t,this}set t(t){this.childOY=-this.visibleHeight*t}get t(){var t=this.visibleHeight;return t===0?0:this.childOY/-t}set s(t){this.childOX=-this.visibleWidth*t}get s(){var t=this.visibleWidth;return t===0?0:this.childOX/-t}setChildOYByPercentage(t){return this.t=t,this}setChildOXByPercentage(t){return this.s=t,this}}Object.assign(F8.prototype,D8);var FCt=function(e,t){if(!this.hasChild(e))return this;switch(this.scrollMode){case 0:wy.call(this,e,"y",t);break;case 1:wy.call(this,e,"x",t);break;default:wy.call(this,e,"y",t),wy.call(this,e,"x",t);break}return this};const NB=["top","bottom","centerY","center"],UB=["left","right","centerX","center"];var wy=function(e,t,i){t=t.toUpperCase();var s=t==="Y",p=this.childrenMap.child,E;if(s){if(i)for(var n=0,T=NB.length;n<T;n++){var r=NB[n];if(i.indexOf(r)!==-1){i=r;break}}switch(i){case"top":E=p.top-Uu(e).y;break;case"bottom":E=p.bottom-Ap(e).y;break;case"centerY":case"center":E=p.centerY-rI(e).y;break;default:var o=p.top-Uu(e).y,x=p.bottom-Ap(e).y;o<=0&&x>=0?E=0:E=Math.abs(o)<=Math.abs(x)?o:x;break}}else{if(i)for(var n=0,T=UB.length;n<T;n++){var r=UB[n];if(i.indexOf(r)!==-1){i=r;break}}switch(i){case"left":E=p.left-Uu(e).x;break;case"right":E=p.right-Rp(e).x;break;case"centerX":case"center":E=p.centerX-rI(e).x;break;default:var d=p.left-Uu(e).x,h=p.right-Rp(e).x;d<=0&&h>=0?E=0:E=Math.abs(d)<=Math.abs(h)?d:h;break}}switch(this.scrollMode){case 0:case 1:this.childOY+=E;break;default:this[`childO${t}`]+=E;break}};const hh=Phaser.Utils.Objects.GetValue;class ug extends sg{constructor(t,i){i===void 0&&(i={});var s=iR(i),p=hh(i,"panel",void 0);p===void 0&&(p={}),p.scrollMode=s,p.clampChildOY=hh(i,"clampChildOY",!1),p.clampChildOX=hh(i,"clampChildOX",!1);var E=new F8(t,p);t.add.existing(E);var n,T;switch(s){case 0:n=hh(i,"expand.panel",!0),T=!0;break;case 1:n=!0,T=hh(i,"expand.panel",!0);break;default:n=!0,T=!0}i.type="rexScrollablePanel",i.child={gameObject:E,expandWidth:n,expandHeight:T,align:hh(i,"align.panel","center")};var r=hh(i,"space",void 0);r&&(r.child=hh(r,"panel",0)),super(t,i),this.addChildrenMap("panel",E.child),this.addChildrenMap("panelLayer",E.maskLayer),this.addChildrenMap("mask",E.maskGameObject),this.addChildrenMap("scrollableBlock",E)}setChildrenInteractive(t){return t===void 0&&(t={}),t.hasOwnProperty("eventEmitter")||(t.eventEmitter=this),t.hasOwnProperty("targets")||(t.targets=[this.childrenMap.panel]),tT(this.childrenMap.child,t),this}}var ICt={scrollToChild:FCt};Object.assign(ug.prototype,ICt);const BCt=Phaser.Utils.Objects.GetValue;var GCt=function(){var e=this.scene,t,i=this.listCreateBackgroundCallback;i&&(t=i.call(this,e),e.add.existing(t));var d=[],s=this.listCreateButtonCallback;if(s)for(var p=this.options,E=0,n=p.length;E<n;E++){var T=s.call(this,e,p[E],E,p);T&&(e.add.existing(T),d.push(T))}var r=this.listWidth;r===void 0&&(this.listAlignMode==="text"?r=this.getElement("text").width:r=this.width);var o=this.listHeight,x={width:r,buttons:d,space:this.listSpace},d,h,l;if(this.listCreateSliderThumbCallback?l=o>0||this.listMaxHeight>0:l=!1,!l)x.height=o,d=VB(e,x,this.listWrapEnable),h=d;else{var d=VB(e,x,this.listWrapEnable);if(this.listMaxHeight>0&&(d.layout(),d.height<=this.listMaxHeight&&(h=d)),!h){o===0&&(o=this.listMaxHeight);var a=zB(e,this.listCreateSliderTrackCallback),f=zB(e,this.listCreateSliderThumbCallback);h=new ug(e,{height:o,scrollMode:0,panel:{child:d,mask:{padding:1}},slider:{track:a,thumb:f,adaptThumbSize:this.listSliderAdaptThumbSizeEnable},scrollDetectionMode:1,scroller:this.listScrollerConfig,mouseWheelScroller:this.listMouseWheelScrollerConfig,space:{panel:BCt(this.listSpace,"panel",0)}}),e.add.existing(h)}}return t&&h.addBackground(t,"background"),this.listDraggable&&h.setDraggable(!0),h!==d&&d.on("button.over",function(c,u,v,g){h.emit("button.over",c,u,v,g)}).on("button.out",function(c,u,v,g){h.emit("button.out",c,u,v,g)}).on("button.click",function(c,u,v,g){h.emit("button.click",c,u,v,g)}),h},VB=function(e,t,i){var s;return i?(t.orientation="x",s=new wh(e,t)):(t.orientation="y",s=new Qr(e,t)),e.add.existing(s),s},zB=function(e,t,i){var s;return t&&(s=t.call(i,e),e.add.existing(s)),s},kCt=function(e,t,i,s,p){var E={};switch(E.mode=0,i){case 0:case"x":E.end={x:0};break;case 1:case"y":E.end={y:0};break;default:E.end=0;break}return E.duration=t,E.ease=s,p===void 0?p=new Dp(e,E):p.resetFromJSON(E),p.restart(),p},NCt=function(e,t,i,s,p){return fl(e,t)?Ti(e,t):fl(e,i)?Ti(e,i):p};const Ed=Phaser.Utils.Objects.GetValue;var UCt=function(e,t){var i=Ed(t,"expandDirection",void 0);typeof i=="string"&&(i=VCt[i]);var s=NCt(t,"alignTarget","alignTargetX"),p=Ed(t,"alignTargetY",s),E=Ed(t,"alignOffsetX",0),n=Ed(t,"alignOffsetY",0),T=Ed(t,"alignSide",""),r=T.includes("right"),o=Ed(t,"bounds"),x=i===0,d=i===1,h=!x&&!d,l=r?1:0,a=x||h?0:1;e.setOrigin(l,a);var f,c;r?f=s.getTopRight().x:f=s.getTopLeft().x,c=p.getBottomLeft().y,e.setPosition(f+E,c+n);var u=o;u||(u=ec(e.scene)),h&&e.getBottomLeft().y>u.bottom&&(c=p.getTopLeft().y,e.setOrigin(0,1).setPosition(f+E,c+n))};const VCt={down:0,up:1},WB=Phaser.Utils.Objects.GetValue;class I8 extends Kx{constructor(t,i){i===void 0&&(i={}),i.transitIn==null&&(i.transitIn=function(E,n){Dw(E,n,"y","Cubic")}),i.transitOut==null&&(i.transitOut=function(E,n){kCt(E,n,"y","Linear")}),i.manualClose=!0,i.clickOutsideClose=!0,i.destroy=!0,super(t,i),UCt(t,i),t.isRexSizer&&t.layout();var s=WB(i,"touchOutsideClose",!1),p=WB(i,"anyTouchClose",!1);p&&(s=!1),p?this.once("open",this.anyTouchClose,this):s&&this.once("open",this.touchOutsideClose,this),this.requestOpen()}shutdown(t){this.isShutdown||(this.scene.input.off("pointerup",this.touchCloseCallback,this),super.shutdown(t))}touchOutsideClose(){return this.scene.input.on("pointerup",this.touchCloseCallback,this),this.clickOutsideTest=!0,this}anyTouchClose(){return this.scene.input.once("pointerup",this.touchCloseCallback,this),this}touchCloseCallback(t){this.clickOutsideTest&&Jx(this.parent,t.worldX,t.worldY)||this.requestClose()}onOpen(){this.emit("open",this.parent,this),super.onOpen()}onClose(){this.emit("close",this.parent,this),super.onClose()}}var zCt=function(){if(this.listPanel)return this;if(this.options.length===0)return this;var e=GCt.call(this);e.on("button.over",function(s,p,E,n){this.currentOverIndex=p,this.listOnButtonOver&&this.listOnButtonOver.call(this,s,p,E,n),this.emit("button.over",this,e,s,p,E,n)},this).on("button.out",function(s,p,E,n){this.currentOverIndex===p&&(this.currentOverIndex=void 0),this.listOnButtonOut&&this.listOnButtonOut.call(this,s,p,E,n),this.emit("button.out",this,e,s,p,E,n)},this);var t;!this.listAlignMode||this.listAlignMode==="label"?t=this:t=this.getElement(this.listAlignMode);var i=new I8(e,{duration:{in:this.listEaseInDuration,out:this.listEaseOutDuration},transitIn:this.listTransitInCallback,transitOut:this.listTransitOutCallback,expandDirection:this.listExpandDirection,alignTargetX:t,alignTargetY:this,alignSide:this.listAlignSide,bounds:this.listBounds}).on("open",function(){e.on("button.click",function(s,p,E,n){this.listOnButtonClick&&this.listOnButtonClick.call(this,s,p,E,n),this.emit("button.click",this,e,s,p,E,n),this.dropDownBehavior.requestClose()},this),this.emit("list.open",this,e)},this).on("close",function(){this.listPanel=void 0,this.dropDownBehavior=void 0,this.emit("list.close",this)},this);return e.onClickOutside(function(){i.requestClose()}),this.listPanel=e,this.dropDownBehavior=i,this.pin(e),this},WCt=function(){return this.dropDownBehavior?(this.dropDownBehavior.requestClose(),this.currentOverIndex=void 0,this):this},YCt=function(){return this.listPanel?this.closeListPanel():this.openListPanel(),this},XCt=function(e){if(e===void 0&&(e=this.currentOverIndex),e===void 0)return this;var t=this.listPanel,i=t?t.getButton(e):this.options[e];return this.listOnButtonClick&&this.listOnButtonClick.call(this,i,e),this.emit("button.click",this,t,i,e),this},HCt=function(e){var t=this.listPanel;return t?(t.emitButtonOver(e),this):this};const $Ct={focusNextButton(){if(!this.isOpened)return this;var e=this.currentOverIndex,t;if(e===void 0)t=0;else{var i=this.listPanel.getButtons().length;t=(e+1)%i}return this.emitButtonOver(t),this},focusPrevButton(){if(!this.isOpened)return this;var e=this.currentOverIndex,t;if(e===void 0)t=0;else{var i=this.listPanel.getButtons().length;t=(e-1+i)%i}return this.emitButtonOver(t),this}};var B8={openListPanel:zCt,closeListPanel:WCt,toggleListPanel:YCt,emitButtonClick:XCt,emitButtonOver:HCt};Object.assign(B8,PCt,$Ct);const Ai=Phaser.Utils.Objects.GetValue;class fg extends El{constructor(t,i){super(t,i),this.type="rexDropDownList",this.timer=void 0,this.listPanel=void 0,this.currentOverIndex=void 0,this.setOptions(Ai(i,"options"));var s=Ai(i,"list");this.setWrapEnable(Ai(s,"wrap",!1)),this.setCreateButtonCallback(Ai(s,"createButtonCallback")),this.setCreateListBackgroundCallback(Ai(s,"createBackgroundCallback")),this.setCreateListSliderTrackCallback(Ai(s,"createTrackCallback")),this.setCreateListSliderThumbCallback(Ai(s,"createThumbCallback")),this.setListSliderAdaptThumbSizeEnable(Ai(s,"sliderAdaptThumbSize",!1)),this.setListScrollerConfig(Ai(s,"scroller")),this.setListMouseWheelScrollerConfig(Ai(s,"mouseWheelScroller")),this.setButtonClickCallback(Ai(s,"onButtonClick")),this.setButtonOverCallback(Ai(s,"onButtonOver")),this.setButtonOutCallback(Ai(s,"onButtonOut")),this.setListExpandDirection(Ai(s,"expandDirection")),this.setListEaseInDuration(Ai(s,"easeIn",500)),this.setListEaseOutDuration(Ai(s,"easeOut",100)),this.setListTransitInCallback(Ai(s,"transitIn")),this.settListTransitOutCallback(Ai(s,"transitOut")),this.setListMaxHeight(Ai(s,"maxHeight",0)),this.setListSize(Ai(s,"width"),Ai(s,"height",0)),this.setListAlignmentMode(Ai(s,"alignParent","text")),this.setListAlignmentSide(Ai(s,"alignSide","")),this.setListBounds(Ai(s,"bounds")),this.setListSpace(Ai(s,"space")),this.setListDraggable(Ai(s,"draggable",!1)),this.setValueChangeCallback(Ai(i,"setValueCallback"),Ai(i,"setValueCallbackScope")),this.setValue(Ai(i,"value")),this.onClick(this.toggleListPanel,this)}destroy(t){!this.scene||this.ignoreDestroy||(this.listPanel&&(this.listPanel.destroy(t),this.listPanel=void 0),super.destroy(t))}get isOpened(){return!!this.listPanel}setOptions(t){return t===void 0&&(t=[]),this.options=t,this}setValueChangeCallback(t,i){return this.valueChangeCallback=t,this.valueChangeCallbackScope=i,this}setValue(t){return this.value=t,this}get value(){return this._value}set value(t){if(this._value!==t){var i=this._value;this._value=t;var s=this.valueChangeCallback,p=this.valueChangeCallbackScope;s&&(p?s.call(p,this,t,i):s(this,t,i)),this.emit("valuechange",this,t,i)}}}Object.assign(fg.prototype,B8);It.register("dropDownList",function(e){var t=new fg(this.scene,e);return this.scene.add.existing(t),t});Lt(window,"RexPlugins.UI.DropDownList",fg);var G8=function(e,t,i){t=t?tn(t):{},i===void 0&&(i={});var s=t.label||t.button,p=t.button||t.label;delete t.label,delete t.button;var E=i.label||i.button||i,n=i.button||i.label||i,T=fT(e,s,E);T.list=t.list||{},T.list.createButtonCallback=function(x,d){var h=_r(x,p,n).resetDisplayContent(d);return d.hasOwnProperty("value")&&(h.value=d.value),h};var r=t.track;r&&(T.list.createTrackCallback=function(x){return Vr(x,r)},delete t.track);var o=t.thumb;return o&&(T.list.createThumbCallback=function(x){return Vr(x,o)},delete t.thumb),T.list.onButtonOver=function(x,d,h,l){x.setHoverState&&x.setHoverState(!0)},T.list.onButtonOut=function(x,d,h,l){x.setHoverState&&x.setHoverState(!1)},T};class k8 extends fg{constructor(t,i,s){i=G8(t,i,s),super(t,i),this.type="rexSimpleDropDownList"}setOptions(t){t===void 0&&(t=[]);for(var i=0,s=t.length;i<s;i++){var p=t[i];typeof p=="string"&&(t[i]={text:p,value:p})}return super.setOptions(t),this}}It.register("simpleDropDownList",function(e,t){var i=new k8(this.scene,e,t);return this.scene.add.existing(i),i});Lt(window,"RexPlugins.UI.SimpleDropDownList",k8);var KCt=function(e){var t=Lh(e),i,s,p;switch(t){case Rn:case An:i=e.height-e.padding.top-e.padding.bottom,s=e.lineSpacing,p=e.style.metrics.fontSize+e.style.strokeThickness;break;case As:i=e.height,s=0;var E=e.fontSize/e.fontData.size;p=e.fontData.lineHeight*E;break}return(i-s)/(p+s)},ZCt=function(e,t){if(e===void 0&&(e=this.startLineIndex),t===void 0){var i=this.pageLinesCount;i>0?t=e+i:t=this.totalLinesCount}t>this.totalLinesCount&&(t=this.totalLinesCount);var s;switch(this.textObjectType){case Rn:case As:s=this.lines.slice(e,t).join(`
`);break;case An:var p=this.lines.getLineStartIndex(e),E=this.lines.getLineEndIndex(t-1);s=this.lines.getSliceTagText(p,E,!0);var n=(s.match(/\n/g)||[]).length;n>t-e-1&&(s=s.substring(0,s.length-1));break}return s};const JCt={clearText(){return this.sections.length=0,this.pageStartIndexes.length=0,this.lines.length=0,this},appendPage(i){var t=this.totalLinesCount;this.sections.push(zd(i));var i=this.sections.join(`
`);this.lines=nR(this.parent,i,this.lines);var s=this.totalLinesCount-t,p=this.pageLinesCount,E;p>0?E=Math.ceil(s/this.pageLinesCount):E=1;for(var n=0;n<E;n++)this.pageStartIndexes.push(t+n*this.pageLinesCount);return this},setText(e,t){t===void 0&&(t=!0),t&&this.resetIndex(),this.clearText();for(var i=zd(e).split(this.pageBreak),s=0,p=i.length;s<p;s++)this.appendPage(i[s]);return this},appendText(e){var t=this.content+zd(e);return this.setText(t,!1),this}},YB=Phaser.Math.Clamp,jCt={resetIndex(){return this.pageIndex=-1,this.startLineIndex=-1,this.endLineIndex=void 0,this},setPageIndex(e){return e=YB(e,0,this.lastPageIndex),this.pageIndex=e,this.startLineIndex=this.pageStartIndexes[e],this.endLineIndex=this.pageStartIndexes[e+1],this},getPage(e){return e===void 0&&(e=this.pageIndex),this.setPageIndex(e).getLines(this.startLineIndex,this.endLineIndex)},getNextPage(){return this.getPage(this.pageIndex+1)},getPreviousPage(){return this.getPage(this.pageIndex-1)},getFirstPage(){return this.getPage(0)},getLastPage(){return this.getPage(this.lastPageIndex)},setStartLineIndex(e){var t=Math.max(this.totalLinesCount-this.pageLinesCount,0);return e=YB(e,0,t),this.startLineIndex=e,this.endLineIndex=e+this.pageLinesCount,this},getPageByLineIndex(e){return this.setStartLineIndex(e).getLines(this.startLineIndex,this.endLineIndex)},getPageOfNextLine(){return this.getPageByLineIndex(this.startLineIndex+1)},getPageOfPreviousLine(){return this.getPageByLineIndex(this.startLineIndex-1)},getPageOfFirstLine(){return this.getPageByLineIndex(0)},getPageOfLastLine(){return this.getPageByLineIndex(this.totalLinesCount)}},QCt={showPage(e){return this.displayText(this.getPage(e)),this},showNextPage(){return this.displayText(this.getNextPage()),this},showPreviousPage(){return this.displayText(this.getPreviousPage()),this},showFirstPage(){return this.displayText(this.getFirstPage()),this},showLastPage(){return this.displayText(this.getLastPage()),this},show(){return this.displayText(this.getLines()),this},showPageByLineIndex(e){return this.displayText(this.getPageByLineIndex(e)),this},showNextLine(){return this.displayText(this.getPageOfNextLine()),this},showPreviousLine(){return this.displayText(this.getPageOfPreviousLine()),this},showFirstLine(){return this.displayText(this.getPageOfFirstLine()),this},showLastLine(){return this.displayText(this.getPageOfLastLine()),this},displayText(e){uT(this.parent,e)}};var N8={getLines:ZCt};Object.assign(N8,JCt,jCt,QCt);const Pd=Phaser.Utils.Objects.GetValue;Phaser.Math.Clamp;class ET extends ji{constructor(t,i){super(t,{eventEmitter:!1}),this.textObjectType=Lh(this.parent),this.pageStartIndexes=[],this.lines=nR(this.parent,""),this.sections=[],this.resetFromJSON(i)}resetFromJSON(t){this.setMaxLines(Pd(t,"maxLines",void 0)),this.setPageBreak(Pd(t,"pageBreak",`\f
`)),this.setText(Pd(t,"text","")),this.startLineIndex=Pd(t,"start",-1),this.endLineIndex=Pd(t,"end",void 0);var i=Pd(t,"page");return i===void 0?this.resetIndex():this.setPageIndex(i),this}toJSON(){return{maxLines:this.maxLines,text:this.content,start:this.startLineIndex,end:this.endLineIndex,page:this.pageIndex,pageBreak:this.pageBreak}}shutdown(t){if(!this.isShutdown){switch(this.textObjectType){case Rn:this.lines.length=0;break;case An:this.lines.destroy();break;case As:this.lines.length=0;break}this.pageStartIndexes.length=0,this.sections.length=0,this.lines=void 0,this.pageStartIndexes=void 0,this.sections=void 0,super.shutdown(t)}}setMaxLines(t){return this.maxLines=t,this}setPageBreak(t){return this.pageBreak=t,this}get pageCount(){return this.pageStartIndexes.length}get lastPageIndex(){return this.pageCount-1}get isFirstPage(){return this.pageIndex<=0}get isLastPage(){return this.pageIndex>=this.pageCount-1}get totalLinesCount(){return this.lines?this.lines.length:0}get pageLinesCount(){if(this.maxLines!==void 0)return this.maxLines;var t;switch(this.textObjectType){case Rn:case An:var i=this.parent.style.maxLines;i>0?t=i:t=Math.floor(KCt(this.parent));break;case As:t=this.totalLinesCount;break}return t}get isFirstLine(){return this.startLineIndex<=0}get isLastLine(){return this.endLineIndex===this.totalLinesCount}get content(){return this.sections.join(this.pageBreak)}}Object.assign(ET.prototype,N8);const qCt={setText(e){this.setTextCallback&&(this.setTextCallbackScope?e=this.setTextCallback.call(this.setTextCallbackScope,e,this.isLastChar,this.insertIndex):e=this.setTextCallback(e,this.isLastChar,this.insertIndex)),this.textWrapEnable?uT(this.parent,e):this.parent.setText(e)},appendText(e){var t=this.text.concat(zd(e));return this.isTyping?this.setTypingContent(t):this.start(t,void 0,this.textLength),this}};var _Ct=function(e,t,i,s){return e!==void 0&&this.setTypingContent(e),t!==void 0&&(this.speed=t),i===void 0&&(i=0),this.typingIndex=i+1,this.speed===0?this.stop(!0):(this.setText(""),this.startTimer(s)),this},U8=function(e,t){return e.getPlainText&&(t=e.getPlainText(t)),t},tSt=function(e,t,i,s,p){var E;if(t>0){s===void 0&&(s=0);var n=U8(this.parent,e);E=eSt(n,t)+s}return this.start(e,i,E,p)},eSt=function(e,t){for(var i=void 0,s=0;s<t&&(i=e.indexOf(`
`,i+1),i!==-1);s++);return i},dp=function(e,t,i,s){var p;return e.getSubString?p=e.getSubString(t,i,s):p=t.slice(i,s),p},V8=function(e,t,i,s){var p=this.parent,E;if(s===0){var n=0,T=t;this.insertIndex=T,E=dp(p,e,n,T)}else if(s===1){var T=i,n=T-t;this.insertIndex=0,E=dp(p,e,n,T)}else if(s===2){var r=i/2,n=Math.floor(r-t/2),T=n+t;this.insertIndex=t%2?t:0,E=dp(p,e,n,T)}else if(s===3){var o=Math.floor(t/2),x;if(o>0){var T=i,n=T-o;x=dp(p,e,n,T)}else x="";var d=t-o,h;if(d>0){var n=0,T=n+d;this.insertIndex=T,h=dp(p,e,n,T)}else h="",this.insertIndex=0;E=h+x}return this.insertChar=E.charAt(this.insertIndex-1),E},iSt=function(e){var t=this.getTimer();if(t&&this.freeTimer(),e){for(;!this.isLastChar;)V8.call(this,this.text,this.typingIndex,this.textLength,this.typeMode),this.emit("typechar",this.insertChar),this.typingIndex++;this.setText(this.text),this.emit("type"),this.emit("complete",this,this.parent)}return this},rSt=function(){var e=this.getTimer();return e&&(e.paused=!0),this},nSt=function(){var e=this.getTimer();return e&&(e.paused=!1),this},z8={start:_Ct,startFromLine:tSt,stop:iSt,pause:rSt,resumeTyping:nSt};Object.assign(z8,qCt);var sSt=function(e,t){var i=Lh(e);switch(i){case Rn:e.style.syncFont(e.canvas,e.context),t=e.runWordWrap(t);break;case An:t=e.getText(t,void 0,void 0,!0);break;case As:t=e.setText(t).getTextBounds().wrappedText;break}return t};const cp=Phaser.Utils.Objects.GetFastValue,pb=Phaser.Utils.Objects.GetValue;class PT extends ji{constructor(t,i){super(t,i),this.timer=null,this.resetFromJSON(i)}resetFromJSON(t){this.setTextWrapEnable(pb(t,"wrap",!1)),this.setTypeMode(pb(t,"typeMode",0)),this.setTypingSpeed(pb(t,"speed",333)),this.setTextCallback=cp(t,"setTextCallback",null),this.setTextCallbackScope=cp(t,"setTextCallbackScope",null),this.setTypingContent(cp(t,"text","")),this.typingIndex=cp(t,"typingIndex",0),this.insertIndex=null,this.insertChar=null;var i=cp(t,"elapsed",null);return i!==null&&this.start(void 0,void 0,this.typingIndex,i),this}shutdown(t){this.isShutdown||(this.freeTimer(),super.shutdown(t))}setTypeMode(t){return typeof t=="string"&&(t=aSt[t]),this.typeMode=t,this}setTypeSpeed(t){return this.speed=t,this}setTypingSpeed(t){return this.speed=t,this}setTextWrapEnable(t){return t===void 0&&(t=!0),this.textWrapEnable=t,this}set text(t){var i=zd(t);this.textWrapEnable&&(i=sSt(this.parent,i)),this._text=i}get text(){return this._text}get isTyping(){return this.getTimer()!==null}get isLastChar(){return this.typingIndex===this.textLength}setTypingContent(t){return this.text=t,this.textLength=U8(this.parent,this.text).length,this}onTyping(){var t=V8.call(this,this.text,this.typingIndex,this.textLength,this.typeMode);this.setText(t),this.emit("typechar",this.insertChar),this.emit("type"),this.isLastChar?(this.freeTimer(),this.scene.sys.events.once("preupdate",function(){this.emit("complete",this,this.parent)},this)):(this.timer.delay=this.speed,this.typingIndex++)}startTimer(t){this.timer&&this.freeTimer();var i;return t===void 0?i=0:(this.speed,i=t),this.timer=this.scene.time.addEvent({delay:1e-4,startAt:i,loop:!0,callback:this.onTyping,callbackScope:this}),this}getTimer(){return this.timer}freeTimer(){return this.timer&&(this.timer.remove(),this.timer=null),this}setText(t){this.setTextCallback&&(this.setTextCallbackScope?t=this.setTextCallback.call(this.setTextCallbackScope,t,this.isLastChar,this.insertIndex):t=this.setTextCallback(t,this.isLastChar,this.insertIndex)),this.textWrapEnable?uT(this.parent,t):this.parent.setText(t)}}const aSt={"left-to-right":0,"right-to-left":1,"middle-to-sides":2,"sides-to-middle":3};Object.assign(PT.prototype,z8);const vp=Phaser.Utils.Objects.GetValue;var oSt=function(e,t){t===void 0&&(t="rexTextBox");class i extends e{constructor(p,E){super(p,E),this.type=t,this.isRunning=!1,this._isPageEnd=!1;var n=this.childrenMap.text,T=vp(E,"expandTextWidth",!1),r=vp(E,"expandTextHeight",!1);if(T||r){var o=Lh(n);switch(o){case Rn:case An:if(n.resize=function(d,h){var l=T?d:0,a=r?h:0;n.setFixedSize(l,a),l>0&&n.setWordWrapWidth(l)},o===An){var x=n.style;x.wrapMode===0&&(x.wrapMode=1)}break}T&&(n._minWidth=0),r&&(n._minHeight=0)}this.setTypingMode(vp(E,"typingMode","page")),this.page=new ET(n,vp(E,"page",void 0)),this.typing=new PT(n,vp(E,"typing",E.type)),this.typing.on("complete",this.onTypingComplete,this).on("type",this.onType,this).on("typechar",this.onTypeChar,this),this.textWidthSave=n.width,this.textHeightSave=n.height}setTypingMode(p){return typeof p=="string"&&(p=lSt[p]),this.typingMode=p,this}start(p,E){return E!==void 0&&this.setTypingSpeed(E),this.isRunning=!0,this.page.setText(p),this.emit("start"),this.typingMode===0?this.typeNextPage():this.typeNextLine(),this}more(p,E){if(E!==void 0&&this.setTypingSpeed(E),this.isRunning)this.page.appendText(p),this.typing.appendText(p);else{if(this.isRunning=!0,this.page.appendText(p),this.emit("start"),this.typingMode===0){this._isPageEnd=!1;var n=this.page.getPage(),T=this.typing.textLength;this.typing.start(n,void 0,T)}return this}}typeNextPage(){if(!this.isRunning)return this;if(this.isLastPage)this.emit("complete");else{this._isPageEnd=!1;var p=this.page.getNextPage();this.typing.start(p)}return this}typeNextLine(){if(!this.isRunning)return this;if(this.isLastLine)this.isRunning=!1,this.emit("pageend"),this.emit("complete");else{var p=this.page.getPageOfNextLine(),E;this.isFirstLine?E=0:E=this.page.pageLinesCount-1,this.typing.startFromLine(p,E)}}pause(){return this.isRunning?(this.isTyping&&(this.typing.pause(),this.emit("pause")),this):this}resume(){return this.isRunning?(this.isTyping||(this.emit("resume"),this.typing.resume()),this):this}stop(p){return this.isRunning?(this.typing.stop(p),this):this}showLastPage(){return this.isRunning?(this.typing.stop(),this.typingMode===0?this.page.showLastPage():this.page.showLastLine(),this.emit("type"),this.onTypingComplete(),this):this}setTypeSpeed(p){return this.typing.setTypingSpeed(p),this}setTypingSpeed(p){return this.typing.setTypingSpeed(p),this}get isTyping(){return this.typing.isTyping}get isPageEnd(){return this._isPageEnd}get isLastPage(){return this.page.isLastPage}get isFirstPage(){return this.page.isFirstPage}get pageCount(){return this.page.pageCount}get pageIndex(){return this.page.pageIndex}get isLastLine(){return this.page.isLastLine}get isFirstLine(){return this.page.isFirstLine}get lineCound(){return this.page.totalLinesCount}get startLineIndex(){return this.page.startLineIndex}get endLineIndex(){return this.page.endLineIndex}get typingSpeed(){return this.typing.speed}onType(){var p=this.childrenMap.text;(this.textWidthSave!==p.width||this.textHeightSave!==p.height)&&(this.textWidthSave=p.width,this.textHeightSave=p.height,this.getTopmostSizer().layout()),this.emit("type")}onTypeChar(p){this.emit("typechar",p)}onTypingComplete(){if(this.typingMode===0){this._isPageEnd=!0;var p=this.isLastPage;this.isRunning=!p,this.emit("pageend"),p&&this.emit("complete")}else this.typeNextLine()}}return i};const lSt={page:0,line:1};class gR extends oSt(dT){constructor(t,i){i===void 0&&(i={}),i.hasOwnProperty("layoutMode")||(i.layoutMode=1),super(t,i)}}It.register("textBox",function(e){var t=new gR(this.scene,e);return this.scene.add.existing(t),t});Lt(window,"RexPlugins.UI.TextBox",gR);class W8 extends gR{constructor(t,i,s){i=p8(t,i,s),super(t,i)}}It.register("simpleTextBox",function(e){var t=new W8(this.scene,e);return this.scene.add.existing(t),t});Lt(window,"RexPlugins.UI.SimpleTextBox",W8);const Ms=Phaser.Utils.Objects.GetValue;class Y8 extends qe{constructor(t,i){super(t,i),this.type="rexNumberBar";var s=Ms(i,"background",void 0),p=Ms(i,"icon",void 0),E=Ms(i,"iconMask",void 0),n=Ms(i,"slider",void 0),T=Ms(i,"text",void 0),r=Ms(i,"space.icon",0),o=Ms(i,"space.slider",0);if(s&&this.addBackground(s),p){var x;this.orientation===0?(n||T)&&(x={right:r}):(n||T)&&(x={bottom:r}),this.add(p,{proportion:0,align:"center",padding:x}),E&&(E=za.call(this,p,p,1))}var d;if(n){n.orientation=this.orientation,n.eventEmitter=this,n.value=null,n.hasOwnProperty("input")||(n.input=-1),d=new ac(t,n),t.add.existing(d);var x;this.orientation===0?T&&(x={right:o}):T&&(x={bottom:o});var h;if(this.orientation===0){var l=Ms(n,"width",void 0);h=l===void 0?1:0}else{var a=Ms(n,"height",void 0);h=a===void 0?1:0}this.add(d,{proportion:h,align:"center",padding:x})}T&&this.add(T),this.addChildrenMap("background",s),this.addChildrenMap("icon",p),this.addChildrenMap("iconMask",E),this.addChildrenMap("slider",d),this.addChildrenMap("text",T);var f=Ms(i,"valuechangeCallback",null);if(f!==null){var c=Ms(i,"valuechangeCallbackScope",void 0);this.on("valuechange",f,c)}this.setEnable(Ms(i,"enable",void 0)),this.setValue(Ms(i,"value",0))}get enable(){return this.childrenMap.slider?this.childrenMap.slider.enable:!1}set enable(t){this.childrenMap.slider&&this.childrenMap.slider.setEnable(t)}setEnable(t){return t===void 0&&(t=!0),this.enable=t,this}get value(){return this.childrenMap.slider?this.childrenMap.slider.value:0}set value(t){this.childrenMap.slider&&(this.childrenMap.slider.value=t)}setValue(t,i,s){return this.childrenMap.slider&&this.childrenMap.slider.setValue(t,i,s),this}addValue(t,i,s){return this.childrenMap.slider&&this.childrenMap.slider.addValue(t,i,s),this}getValue(t,i){return this.childrenMap.slider?this.childrenMap.slider.getValue(t,i):0}easeValueTo(t,i,s){return this.childrenMap.slider&&this.childrenMap.slider.easeValueTo(t,i,s),this}stopEaseValue(){return this.childrenMap.slider&&this.childrenMap.slider.stopEaseValue(),this}setEaseValueDuration(t){return this.childrenMap.slider&&this.childrenMap.slider.setEaseValueDuration(t),this}setEaseValueFunction(t){return this.childrenMap.slider&&this.childrenMap.slider.setEaseValueFunction(t),this}get text(){var t=this.childrenMap.text;if(t===void 0)return"";var i;return t.text?i=t.text:i=t.getData("text"),i}set text(t){var i=this.childrenMap.text;i!==void 0&&(i.setText?i.setText(t):i.setData("text",t))}setText(t){return this.text=t,this}}It.register("numberBar",function(e){var t=new Y8(this.scene,e);return this.scene.add.existing(t),t});Lt(window,"RexPlugins.UI.NumberBar",Y8);It.register("scrollBar",function(e){var t=new rR(this.scene,e);return this.scene.add.existing(t),t});Lt(window,"RexPlugins.UI.ScrollBar",rR);const gb=Phaser.Utils.Objects.GetValue,XB={leftTop:"left-top",centerTop:"center-top",rightTop:"right-top",leftCenter:"left-center",center:"center",rightCenter:"right-center",leftBottom:"left-bottom",centerBottom:"center-bottom",rightBottom:"right-bottom"};class X8 extends aa{constructor(t,i){super(t,i),this.type="rexBadge";var s=gb(i,"background",void 0);s&&this.addBackground(s),this.addChildrenMap("background",s);var p=gb(i,"main",void 0);p&&this.add(p,{key:"main",align:"center",expand:!1}),this.addChildrenMap("main",p);for(var E in XB){var n=gb(i,E,void 0);n&&(this.add(n,{key:E,align:XB[E],expand:!1}),this.addChildrenMap(E,n))}}}It.register("badgeLabel",function(e){var t=new X8(this.scene,e);return this.scene.add.existing(t),t});Lt(window,"RexPlugins.UI.BadgeLabel",X8);const hSt=aa.prototype.add;var HB=function(e,t,i,s,p,E,n,T,r){return e.setVisible(!1),hSt.call(this,e,t,i,s,p,E,n,T,r),this};const uSt={add:HB,addPage:HB};var fSt=function(e){return e===void 0?null:this.sizerChildren.hasOwnProperty(e)?this.sizerChildren[e]:null};const $B=Is.prototype.setChildVisible;var dSt=function(e,t){this._previousKey=this._currentKey;var i=this.previousPage;i&&(this.swapMode===0?($B.call(this,i,!1),this.emit("pageinvisible",i,this._previousKey,this)):i.destroy()),e&&!this.sizerChildren.hasOwnProperty(e)&&this.emit("createpage",e,this),this._currentKey=e;var s=this.currentPage;return s&&($B.call(this,s,!0),this.emit("pagevisible",s,this._currentKey,this),t===void 0&&(t=this.fadeInDuration),t>0&&s.setAlpha(0).fadeIn(t,1)),this},cSt=function(e){return this.sizerChildren.hasOwnProperty(e)},H8={getPage:fSt,swapPage:dSt,hasPage:cSt};Object.assign(H8,uSt);const KB=Phaser.Utils.Objects.GetValue;class bT extends aa{constructor(t,i){super(t,i),this.type="rexPages",this.childrenMap=this.sizerChildren,this._previousKey=void 0,this._currentKey=void 0,this.setSwapMode(KB(i,"swapMode",0)),this.setFadeInDuration(KB(i,"fadeIn",0))}setSwapMode(t){return typeof t=="string"&&(t=vSt[t]),this.swapMode=t,this}setFadeInDuration(t){return this.fadeInDuration=t,this}get previousKey(){return this._previousKey}get currentKey(){return this._currentKey}set currentKey(t){this.swapPage(t)}get currentPage(){return this.getPage(this.currentKey)}get previousPage(){return this.getPage(this.previousKey)}get keys(){return Object.keys(this.sizerChildren)}}Object.assign(bT.prototype,H8);const vSt={invisible:0,destroy:1};It.register("pages",function(e){var t=new bT(this.scene,e);return this.scene.add.existing(t),t});Lt(window,"RexPlugins.UI.Pages",bT);const pSt=Phaser.GameObjects.Mesh;class $8 extends pSt{get tint(){return this.vertices.length===0?16777215:this.vertices[0].color}forceUpdate(){return this.dirtyCache[10]=1,this}}const K8=Phaser.Math.Vector3,gSt=Phaser.Math.Matrix4;var ZB=new K8,JB=new K8,jB=new gSt,mSt=function(e,t,i,s,p,E,n){t===void 0&&(t=0),i===void 0&&(i=0),s===void 0&&(s=0),p===void 0&&(p=0),E===void 0&&(E=0),n===void 0&&(n=0),ZB.set(t,i,s),JB.set(p,E,n),jB.fromRotationXYTranslation(JB,ZB,!0);for(var T=0,r=e.vertices.length;T<r;T++)e.vertices[T].transformMat4(jB)};const ySt=Phaser.Utils.Objects.IsPlainObject,Au=Phaser.Utils.Objects.GetValue,xSt=Phaser.Geom.Mesh.GenerateGridVerts,mb=Phaser.Math.RadToDeg,jy=Phaser.Math.DegToRad,Z8=45,TSt=1+1/Math.sin(jy(Z8));let J8=class extends $8{constructor(t,i,s,p,E,n){ySt(i)&&(n=i,i=Au(n,"x",0),s=Au(n,"y",0),p=Au(n,"key",null),E=Au(n,"frame",null)),super(t,i,s,p,E),this.type="rexPerspectiveImage",this.setSizeToFrame(),this.resetPerspective(),this.panZ(TSt),this.hideCCW=Au(n,"hideCCW",!0);var T=Au(n,"gridWidth",0),r=Au(n,"gridHeight",T);this.resetVerts(T,r),this.prevFrame=this.frame}preUpdate(t,i){this.prevFrame!==this.frame&&(this.prevFrame=this.frame,this.syncSize()),super.preUpdate(t,i)}get originX(){return .5}get originY(){return .5}resetPerspective(){return this.setPerspective(this.width,this.height,Z8),this}resetVerts(E,n){if(E!==void 0&&(this.gridWidth=E),n!==void 0&&(this.gridHeight=n),this.clear(),this.dirtyCache[9]=-1,this.width===0||this.height===0)return this;var s=this.frame.cutWidth,p=this.frame.cutHeight,E,n;this.gridWidth===0?E=Math.max(s/8,32):n=this.gridWidth,this.gridHeight===0?n=Math.max(p/8,32):n=this.gridHeight,xSt({mesh:this,width:s/this.height,height:p/this.height,widthSegments:Math.ceil(s/E),heightSegments:Math.ceil(p/n)});var T=this.transformInfo;return T&&this.transformVerts(T.x,T.y,T.z,T.rotateX,T.rotateY,T.rotateZ),this}syncSize(){return this.setSizeToFrame(),this.resetPerspective(),this.resetVerts(),this}get rotationX(){return this.modelRotation.x}set rotationX(t){this.modelRotation.x=t}get angleX(){return mb(this.rotationX)}set angleX(t){this.rotationX=jy(t)}get rotationY(){return this.modelRotation.y}set rotationY(t){this.modelRotation.y=t}get angleY(){return mb(this.rotationY)}set angleY(t){this.rotationY=jy(t)}get rotationZ(){return this.modelRotation.z}set rotationZ(t){this.modelRotation.z=t}get angleZ(){return mb(this.rotationZ)}set angleZ(t){this.rotationZ=jy(t)}transformVerts(t,i,s,p,E,n){return t===void 0&&(t=0),i===void 0&&(i=0),s===void 0&&(s=0),p===void 0&&(p=0),E===void 0&&(E=0),n===void 0&&(n=0),this.transformInfo||(this.transformInfo={}),this.transformInfo.x=t,this.transformInfo.y=i,this.transformInfo.rotateX=p,this.transformInfo.rotateY=E,this.transformInfo.rotateZ=n,mSt(this,t,i,s,p,E,n),this}};const CSt=Phaser.Textures.DynamicTexture;var j8=function(e,t,i){t===void 0&&(t=2),i===void 0&&(i=2);var s=new CSt(e.sys.textures,null,t,i);return s};const SSt=Phaser.Utils.Objects.IsPlainObject,Ry=Phaser.Utils.Objects.GetValue;class Q8 extends J8{constructor(t,i,s,p,E,n){SSt(i)&&(n=i,i=Ry(n,"x",0),s=Ry(n,"y",0),p=Ry(n,"width",32),E=Ry(n,"height",32));var T=j8(t,p,E);super(t,i,s,T,null,n),this.type="rexPerspectiveRenderTexture",this.rt=this.texture}destroy(t){!this.scene||this.ignoreDestroy||(super.destroy(t),this.rt.destroy(),this.rt=null)}snapshot(t,i){return i===void 0&&(i={}),i.gameObjects=t,i.renderTexture=this.rt,dw(i),(this.width!==this.frame.realWidth||this.height!==this.frame.realHeight)&&this.syncSize(),this}}Phaser.Animations.AnimationState;Phaser.Utils.Objects.IsPlainObject;Phaser.Utils.Objects.GetValue;var Ga=function(e,t,i,s){if(Array.isArray(e))for(var p=!1,E=0,n=e.length;E<n;E++){var T=e[E];if(!(s&&!T)&&(i?p=t.call(i,T,E,e):p=t(T,E,e),p))return}else{var p=!1;for(var r in e){var T=e[r];if(!(s&&!T)&&(i?p=t.call(i,T,r,e):p=t(T,r,e),p))return}}};const bd=Phaser.Math.RadToDeg,Md=Phaser.Math.DegToRad;class ESt extends Is{constructor(t,i,s,p,E,n){super(t,i,s,p,E),this.faces=n,Ga(n,function(T){T.setPosition(i,s),this.add(T)},this,!0)}get rotationX(){return 0}set rotationX(t){}get angleX(){return bd(this.rotationX)}set angleX(t){this.rotationX=Md(t)}get rotateX(){return bd(this.rotationX)}set rotateX(t){this.rotationX=Md(t)}get rotationY(){return 0}set rotationY(t){}get angleY(){return bd(this.rotationY)}set angleY(t){this.rotationY=Md(t)}get rotateY(){return bd(this.rotationY)}set rotateY(t){this.rotationY=Md(t)}get rotationZ(){return 0}set rotationZ(t){}get angleZ(){return bd(this.rotationZ)}set angleZ(t){this.rotationZ=Md(t)}get rotateZ(){return bd(this.rotationZ)}set rotateZ(t){this.rotationZ=Md(t)}setDebug(t,i){return Ga(this.faces,function(s){s.setDebug(t,i)},null,!0),this}panX(t){return Ga(this.faces,function(i){i.panX(t)},null,!0),this}panY(t){return Ga(this.faces,function(i){i.panY(t)},null,!0),this}panZ(t){return Ga(this.faces,function(i){i.panZ(t)},null,!0),this}transformVerts(t,i,s,p,E,n){return Ga(this.faces,function(T){T.transformVerts(t,i,s,p,E,n)},null,!0),this}forEachFace(t,i,s){return Ga(this.faces,t,i,s),this}}const PSt=Phaser.Utils.Objects.IsPlainObject,bSt={key:"__WHITE"},MSt={image:J8,rendertexture:Q8};var QB=function(e,t){t===void 0&&(t=bSt);var i;return PSt(t)?(t.hasOwnProperty("type")||(t.hasOwnProperty("key")?t.type="image":t.hasOwnProperty("width")&&(t.type="rendertexture")),i=new MSt[t.type](e,t),e.add.existing(i)):i=t,i},wSt=function(e,t,i){var s;if(i===void 0){s=[];for(var p,E,n=0,T=t.length;n<T;n++)E=t[n],E?p=QB(e,E):p=null,s.push(p)}else{s={};for(var p,r,n=0,T=i.length;n<T;n++)r=i[n],t.hasOwnProperty(r)?p=QB(e,t[r]):p=null,s[r]=p}return s};const RSt=Phaser.Math.DegToRad,qB=RSt(180);var ASt=function(e,t){var i=t.back;i&&(e.orientation===0?i.transformVerts(0,0,0,0,qB,0):i.transformVerts(0,0,0,qB,0,0))};const yb=Phaser.Utils.Objects.GetValue,OSt=Phaser.Math.Linear;let LSt=class extends Ju{constructor(t,i){super(t,i),this.resetFromJSON(i),this.boot()}resetFromJSON(t){return super.resetFromJSON(t),this.setEase(yb(t,"ease","Cubic")),this.setFrontToBackDirection(yb(t,"frontToBack",0)),this.setBackToFrontDirection(yb(t,"backToFront",1)),this}setFrontToBackDirection(t){return typeof t=="string"&&(t=_B[t]),this.endAngleFB=t===0?180:-180,this}setBackToFrontDirection(t){return typeof t=="string"&&(t=_B[t]),this.endAngleBF=t===0?-180:180,this}start(t,i){if(this.timer.isRunning)return this;this.timer.setDelay(this.delay).setDuration(t);var s=i+1,p=this.parent;return p.face===0?(this.startAngle=0,this.endAngle=this.endAngleFB*s):(this.startAngle=this.endAngleBF,this.endAngle=this.startAngle-this.endAngleBF*s),super.start(),this}flip(t,i){return this.isRunning?this:(t===void 0&&(t=this.duration),i===void 0&&(i=0),this.start(t,i),this.emit("start",this.parent,this),this.parent.currentFaceIndex=(this.parent.currentFaceIndex+i+1)%2,this)}flipRight(t,i){return this.parent.currentFaceIndex===0?this.setFrontToBackDirection(0):this.setBackToFrontDirection(0),this.flip(t,i),this}flipLeft(t,i){return this.parent.currentFaceIndex===0?this.setFrontToBackDirection(1):this.setBackToFrontDirection(1),this.flip(t,i),this}updateTarget(t,i){var s=this.easeFn(i.t),p=OSt(this.startAngle,this.endAngle,s);t.orientation===0?t.angleY=p:t.angleX=p}};const _B={right:0,"left-to-right":0,left:1,"right-to-left":1},DSt=Phaser.Utils.Objects.IsPlainObject,Ou=Phaser.Utils.Objects.GetValue,FSt=["back","front"];class ISt extends ESt{constructor(t,i,s,p){DSt(i)&&(p=i,i=Ou(p,"x",0),s=Ou(p,"y",0));var E=wSt(t,p,FSt),n=E.back,T=E.front,r=Ou(p,"width"),o=Ou(p,"height");if(r===void 0||o===void 0){if(r===void 0){var x=T?T.width:0,d=n?n.width:0;r=Math.max(x,d)}if(o===void 0){var h=T?T.height:0,l=n?n.height:0;o=Math.max(h,l)}}super(t,i,s,r,o,E),this.type="rexPerspectiveCard",this.frontFaceRotationX=0,this.frontFaceRotationY=0,this.frontFaceRotationZ=0,Ga(E,function(f,c){this[`${c}Face`]=f},this);var a=Ou(p,"flip",void 0);a!==!1&&(this.flip=new LSt(this,a)),this.setOrientation(Ou(p,"orientation",0)),ASt(this,E),this.setFace(Ou(p,"face",0))}get rotationX(){return this.frontFaceRotationX}set rotationX(t){this.frontFaceRotationX!==t&&(this.frontFaceRotationX=t,Ga(this.faces,function(i){i.rotationX=t},null,!0))}get rotationY(){return this.frontFaceRotationY}set rotationY(t){this.frontFaceRotationY!==t&&(this.frontFaceRotationY=t,Ga(this.faces,function(i){i.rotationY=t},null,!0))}get rotationZ(){return this.frontFaceRotationZ}set rotationZ(t){this.frontFaceRotationZ!==t&&(this.frontFaceRotationZ=t,Ga(this.faces,function(i){i.rotationZ=t},null,!0))}setOrientation(t){return typeof t=="string"&&(t=BSt[t]),this.orientation=t,this}get face(){return this.currentFaceIndex}set face(t){typeof t=="string"&&(t=GSt[t]),this.currentFaceIndex=t;var i=t===1,s=i?180:0;this.orientation===0?this.angleY=s:this.angleX=s}setFace(t){return this.face=t,this}toggleFace(){var t=this.face===0?1:0;return this.setFace(t),this}}const BSt={x:0,horizontal:0,h:0,y:1,vertical:1,v:1},GSt={front:0,back:1};Phaser.Utils.Objects.GetValue;Phaser.Math.RadToDeg;Phaser.Math.DegToRad;Phaser.Math.Angle.WrapDegrees;Phaser.Math.Angle.ShortestBetween;Phaser.Math.Wrap;Phaser.Math.Linear;Phaser.Utils.Objects.IsPlainObject;Phaser.Utils.Objects.GetValue;Phaser.Math.DegToRad;Phaser.Math.RadToDeg;Phaser.Math.Angle.WrapDegrees;Phaser.Math.Linear;Phaser.Math.Wrap;Phaser.Utils.Objects.IsPlainObject;Phaser.Utils.Objects.GetValue;Phaser.Math.Wrap;const kSt=Phaser.Utils.Objects.GetValue;var NSt=function(e,t,i){t.visibleSibling=[],t.isRunning=!1,t.useParentBounds=kSt(i,"useParentBounds",!1),t.setPosition(e.x,e.y).setVisible(!1),e.pin(t)},q8=function(e,t){if(!e)return!1;for(var i=t.visibleSibling,s=0,p=i.length;s<p;s++)e.setChildVisible(i[s],!0);return i.length=0,e.setChildVisible(t,!1),t.isRunning=!1,!0},USt=function(e,t){if(!e)return!1;q8(e,t);var i=t.useParentBounds;dw({gameObjects:e.getAllVisibleChildren(),renderTexture:t.rt,x:t.x,y:t.y,width:i?e.displayWidth:void 0,height:i?e.displayHeighth:void 0,originX:i?e.originX:void 0,originY:i?e.originY:void 0}),e.setChildVisible(t,!0);for(var s=t.visibleSibling,p=e.children,E=0,n=p.length;E<n;E++){var T=p[E];T.visible&&T!==t&&(e.setChildVisible(T,!1),s.push(T))}return t.isRunning=!0,!0},_8=function(e){return class extends e{constructor(i,s){var p=i.scene;super(p,0,0,1,1,s),p.add.existing(this),NSt(i,this,s)}destroy(i){!this.scene||this.ignoreDestroy||(this.exit(),super.destroy(i))}enter(){var i=USt(this.rexContainer.parent,this);return i&&this.syncSize(),this}exit(){return q8(this.rexContainer.parent,this),this}}};class tN extends _8(Q8){get perspectiveState(){return this.isRunning}}const VSt=Phaser.Utils.Objects.GetValue;var zSt=function(e){var t=this.scene;this.setSnapshotPadding(VSt(e,"snapshotPadding",0)),e=Na(e),delete e.width,delete e.height,e.front={width:1,height:1},e.back={width:1,height:1};var i=new ISt(t,e);t.add.existing(i);var s=i.flip;if(s){var p=this;s.on("start",function(){p.enterPerspectiveMode()}).on("complete",function(){p.exitPerspectiveMode()})}return i};const WSt=["front","back"],YSt={enterPerspectiveMode(){return this.isInPerspectiveMode?this:(this.setChildVisible(this.perspectiveCard,!0),this.snapshotFace(0),this.snapshotFace(1),this.setChildVisible(this.childrenMap.front,!1),this.setChildVisible(this.childrenMap.back,!1),this.perspectiveCard.setSize(this.width,this.height),this)},exitPerspectiveMode(){if(!this.isInPerspectiveMode)return this;this.setChildVisible(this.perspectiveCard,!1);var e=this.perspectiveCard.face===0;return this.setChildVisible(this.childrenMap.front,e),this.setChildVisible(this.childrenMap.back,!e),this},setSnapshotPadding(e){return this.snapshotPadding=e,this},snapshotFace(e){typeof e=="number"&&(e=WSt[e]);var t=this.perspectiveCard.faces[e],i=this.childrenMap[e];t.rt.clear();var s=i.visible;i.visible=!0;var p=i.isRexContainerLite?i.getAllVisibleChildren():i;return t.snapshot(p,{padding:this.snapshotPadding}),i.visible=s,this}},t4=Phaser.Utils.Objects.GetValue;class mR extends aa{constructor(t,i){super(t,i),this.type="rexPerspectiveCard";var s=i.back,p=t4(i,"expand.back",!0);this.add(s,{key:"back",expand:p});var E=i.front,n=t4(i,"expand.front",!0);this.add(E,{key:"front",expand:n}),this.perspectiveCard=zSt.call(this,i),this.pin(this.perspectiveCard),this.exitPerspectiveMode(!1)}get flip(){return this.perspectiveCard.flip}get face(){return this.perspectiveCard.face}set face(t){if(!(this.flip&&this.flip.isRunning)){this.perspectiveCard.face=t;var i=t===0,s=this.childrenMap.front,p=this.childrenMap.back;this.setChildVisible(s,i),this.setChildVisible(p,!i)}}setFace(t){return this.face=t,this}toggleFace(){var t=this.face===0?1:0;return this.setFace(t),this}get isInPerspectiveMode(){return this.perspectiveCard.visible}get rotationX(){return this.perspectiveCard.rotationX}set rotationX(t){this.enterPerspectiveMode(),this.perspectiveCard.rotationX=t}get angleX(){return this.perspectiveCard.angleX}set angleX(t){this.enterPerspectiveMode(),this.perspectiveCard.angleX=t}get rotationY(){return this.perspectiveCard.rotationY}set rotationY(t){this.enterPerspectiveMode(),this.perspectiveCard.rotationY=t}get angleY(){return this.perspectiveCard.angleY}set angleY(t){this.enterPerspectiveMode(),this.perspectiveCard.angleY=t}get rotationZ(){return this.perspectiveCard.rotationZ}set rotationZ(t){this.enterPerspectiveMode(),this.perspectiveCard.rotationZ=t}get angleZ(){return this.perspectiveCard.angleZ}set angleZ(t){this.enterPerspectiveMode(),this.perspectiveCard.angleZ=t}panX(t){return this.enterPerspectiveMode(),this.perspectiveCard.panX(t),this}panY(t){return this.enterPerspectiveMode(),this.perspectiveCard.panY(t),this}panZ(t){return this.enterPerspectiveMode(),this.perspectiveCard.panZ(t),this}transformVerts(t,i,s,p,E,n){return this.enterPerspectiveMode(),this.perspectiveCard.transformVerts(t,i,s,p,E,n),this}forEachFace(t,i,s){return this.enterPerspectiveMode(),this.perspectiveCard.forEachFace(t,i,s),this}}Object.assign(mR.prototype,YSt);It.register("perspectiveCard",function(e){var t=new mR(this.scene,e);return this.scene.add.existing(t),t});Lt(window,"RexPlugins.UI.PerspectiveCard",mR);var XSt=function(e){var t=this.getElement("tabs.buttons");if(!(e>=t.length))return t[e].name},HSt=function(e){for(var t=this.getElement("tabs.buttons"),i=0,s=t.length;i<s;i++)if(t[i].name===e)return i};const $St=Phaser.Utils.Objects.IsPlainObject,xb=Phaser.Utils.Objects.GetValue,KSt=Phaser.Utils.String.UUID;var ZSt=function(e,t,i){if($St(e)){var s=e;e=xb(s,"key"),t=xb(s,"tab"),i=xb(s,"page")}return e||(e=KSt()),t.name=e,this.childrenMap.tabs.addButton(t),this.childrenMap.pages.addPage(i,{key:e}),this},JSt=function(e,t){var i;if(typeof e=="number"?i=e:i=this.getPageIndex(e),i!=null){var s;t!==void 0&&(s=this.childrenMap.pages.fadeInDuration,this.childrenMap.pages.fadeInDuration=t),this.childrenMap.tabs.emitButtonClick(i),s!==void 0&&(this.childrenMap.pages.fadeInDuration=s)}return this},jSt=function(e){return this.swapPage(0,e),this},QSt=function(e){var t=this.getElement("tabs.buttons").length-1;return this.swapPage(t,e),this};const qSt={swapPage:JSt,swapFirstPage:jSt,swapLastPage:QSt},_St={removePage(e,t){typeof e=="number"&&(e=this.getPageKey(e));var i=this.childrenMap.tabs,s=i.getByName(e),p=this.childrenMap.pages,E=p.getElement(e);return!s||!E?this:(p.removeChildrenMap(e),i.removeButton(s,t),p.remove(E,t),this)},removeAllPages(e){for(var t=this.getElement("tabs.buttons"),i=t.length-1;i>=0;i--)this.removePage(t[i].name,e);return this}};var t1t=function(e){return typeof e=="number"&&(e=this.getPageKey(e)),this.childrenMap.pages.getPage(e)},e1t=function(e){var t;return typeof e=="number"?t=e:t=this.getPageIndex(e),this.getElement("tabs.buttons")[t]},i1t={top:1,left:3,right:5,bottom:7},e4={top:"bottom",left:"right",right:"left",bottom:"top"},r1t=function(e){var t=i1t[e];if(t===void 0)return this;var i=this.childrenMap.tabs,s=this.sizerChildren.indexOf(i);if(s===t)return this;this.sizerChildren[s]=null,this.sizerChildren[t]=i;var p=this.getSizerConfig(i).padding,E=e4[this.tabsPosition],n=e4[e];return p[n]=p[E],p[E]=0,this.tabsPosition=e,this};const n1t={setTabsPadding(e,t){var i=this.childrenMap.tabs;return i.setOuterPadding(e,t),this},getTabsPadding(e){var t=this.childrenMap.tabs;return t.getOuterPadding(e)}};var eN={getPageKey:XSt,getPageIndex:HSt,addPage:ZSt,getPage:t1t,getTab:e1t,setTabPosition:r1t};Object.assign(eN,qSt,_St,n1t);const Fa=Phaser.Utils.Objects.GetValue,i4=Ha.prototype.add;let MT=class extends Ha{constructor(t,i){i===void 0&&(i={}),i.column=3,i.row=3,i.columnProportions=[0,0,0],i.rowProportions=[0,0,0];var s=Fa(i,"expand.pages",!0);s&&(i.columnProportions[1]=1,i.rowProportions[1]=1),super(t,i),this.type="rexTabPages";var p=Fa(i,"background",void 0);p&&this.addBackground(p);var E=Fa(i,"pages"),n=new bT(t,E);t.add.existing(n);var T=Fa(i,"tabsPosition",void 0);T===void 0&&(T=Fa(i,"tabPosition","top"));var r=Fa(i,"wrapTabs",!1),o=r?wh:Qr,x=Fa(i,"tabs",void 0);x===void 0&&(x={}),x.orientation=T==="top"||T==="bottom"?"x":"y",x.buttonsType="radio",!r&&!x.hasOwnProperty("expand")&&(x.expand=Fa(i,"expand.tabs",!1));var d=new o(t,x);t.add.existing(d),i4.call(this,n,{column:1,row:1,expand:s});var h,l,a=Fa(i,"space.item",0);switch(T){case"top":h=1,l=0,a={bottom:a};break;case"bottom":h=1,l=2,a={top:a};break;case"left":h=0,l=1,a={right:a};break;case"right":h=2,l=1,a={left:a};break}i4.call(this,d,{column:h,row:l,padding:a,expand:r?!0:Fa(i,"expand.tabs",!1),align:Fa(i,"align.tabs","left")}),this.addChildrenMap("background",p),this.addChildrenMap("tabs",d),this.addChildrenMap("pages",n),this.tabsPosition=T,d.on("button.click",function(f){var c=f.name;n.hasPage(c)&&n.swapPage(c)}),d.on("button.statechange",function(f,c,u,v){var g=u?"tab.focus":"tab.blur";this.emit(g,f,f.name)},this),n.on("pagevisible",function(f,c,u){this.emit("page.focus",f,c)}),n.on("pageinvisible",function(f,c,u){this.emit("page.blur",f,c)})}get currentKey(){return this.getElement("pages").currentKey}set currentKey(t){this.showPage(t)}get keys(){return this.getElement("pages").keys}get currentPage(){return this.getElement("pages").currentPage}get previousPage(){return this.getElement("pages").previousPage}};Object.assign(MT.prototype,eN);It.register("tabPages",function(e){var t=new MT(this.scene,e);return this.scene.add.existing(t),t});Lt(window,"RexPlugins.UI.TabPages",MT);class s1t extends Kx{constructor(t,i){i===void 0&&(i={}),i.destroy=!1,super(t,i)}onOpen(){this.emit("open",this.parent,this),super.onOpen()}onClose(){this.emit("close",this.parent,this),super.onClose()}}const a1t={expand(e){if(this.expanded===!0)return this;e===void 0&&(e=this.transitionDuration),this.expanded=!0;var t=this.childrenMap.title,i=this.childrenMap.child;if(this.show(i),this.reLayoutEnable){var s=this.reLayoutTarget?this.reLayoutTarget:this.getTopmostSizer();s.layout()}return t.emit("folder.expand",e,this),i.emit("folder.expand",e,this),this.emit("expand.start",this),this.childTransition.once("open",function(){this.emit("expand.complete",this)},this).requestOpen(null,e),this},collapse(e){if(this.expanded===!1)return this;e===void 0&&(e=this.transitionDuration),this.expanded=!1;var t=this.childrenMap.title,i=this.childrenMap.child;return t.emit("folder.collapse",e,this),i.emit("folder.collapse",e,this),this.emit("collapse.start",this),this.childTransition.once("close",function(){if(this.setChildScale(i,1,1).hide(i),this.reLayoutEnable){var s=this.reLayoutTarget?this.reLayoutTarget:this.getTopmostSizer();s.layout()}this.emit("collapse.complete",this)},this).requestClose(null,e),this},toggle(e){return this.expanded?this.collapse(e):this.expand(e),this},setExpandedState(e){return this.reLayoutEnable=!1,e===void 0?this.expanded=void 0:e?this.expand(0):this.collapse(0),this.reLayoutEnable=!0,this}};var o1t=function(e,t){dl.popUp.call(e,t,this.expandDirection)},l1t=function(e,t){dl.scaleDown.call(e,t,this.expandDirection)};const h1t={setTransitionDuration(e){return this.transitionDuration=e,this.childTransition.setTransitInTime(e).setTransitOutTime(e),this},setExpandCallback(e){return e===void 0&&(e=o1t.bind(this)),this.childTransition.setTransitInCallback(e),this},setCollapseCallback(e){return e===void 0&&(e=l1t.bind(this)),this.childTransition.setTransitOutCallback(e),this}},vr=Phaser.Utils.Objects.GetValue;let dg=class extends qe{constructor(t,i){i===void 0&&(i={}),i.hasOwnProperty("orientation")||(i.orientation=1),super(t,i),this.type="rexFolder",this.reLayoutEnable=!0,this.expanded=void 0,this.expandDirection=this.orientation===1?"y":"x";var s=i.background,p=i.title,E=i.child;s&&this.addBackground(s);var n=vr(i,"space"),T=this.orientation===1?"left":"top",h=vr(i,"align.title",T),l=vr(i,"expand.title",!0);this.add(p,{proportion:0,align:h,expand:l,padding:{left:vr(n,"titleLeft",0),right:vr(n,"titleRight",0),top:vr(n,"titleTop",0),bottom:vr(n,"titleBottom",0)}});var r=vr(i,"toggleByTarget",void 0),o=vr(i,"toggleClickConfig");r===void 0&&(r=p),r&&Nw.onClick.call(r,function(){this.toggle()},this,o),this.childTransition=new s1t(E);var x=vr(i,"customChildOrigin",!1);if(!x){var d=this.rtl?1:0;E.setOrigin(d)}var h=vr(i,"align.child","left"),l=vr(i,"expand.child",!0),a=l?1:0;this.add(E,{proportion:a,align:h,expand:l,padding:{left:vr(n,"childLeft",0),right:vr(n,"childRight",0),top:vr(n,"childTop",0),bottom:vr(n,"childBottom",0)}}),this.addChildrenMap("title",p),this.addChildrenMap("child",E),this.addChildrenMap("background",s);var f=i.transition;this.setTransitionDuration(vr(f,"duration",200)),this.setExpandCallback(vr(f,"expandCallback",void 0)),this.setCollapseCallback(vr(f,"collapseCallback",void 0)),this.reLayoutTarget=vr(i,"reLayoutTarget",void 0);var c=i.onExpandStart;c&&this.on("expand.start",c);var u=i.onExpandComplete;u&&this.on("expand.complete",u);var v=i.onCollapseStart;v&&this.on("collapse.start",v);var g=i.onCollapseComplete;g&&this.on("collapse.complete",g);var m=vr(i,"expanded",void 0);m!==void 0&&this.setExpandedState(m)}};Object.assign(dg.prototype,a1t,h1t);It.register("folder",function(e){var t=new dg(this.scene,e);return this.scene.add.existing(t),t});Lt(window,"RexPlugins.UI.Folder",dg);var u1t=function(e,t,i,s){for(var p in this.treesMap){var E=this.treesMap[p];if(Yu(E.nodeBody,e,t,i,s))return E;var n=E.pointToChild(e,t,i,s);if(n)return n}return null},f1t=function(e){return e===void 0&&(e={}),e.targetMode="parent",e.targetSizers=[this],tT(this,e),this},iN=function(e){return class extends e{get isTree(){return!1}get isNode(){return!1}setText(i){return this.text=i,this}get text(){var i=this.nodeBody;return i.text}set text(i){var s=this.nodeBody;s.setText&&s.setText(i)}setTexture(i,s){var p=this.nodeBody;return p.setTexture&&p.setTexture(i,s),this}get texture(){var i=this.nodeBody;if(i)return i.texture}get frame(){var i=this.nodeBody;if(i)return i.frame}}},d1t=function(e,t,i,s){for(var p in this.nodesMap){var E=this.nodesMap[p];if(this.isTreeObject(E)){var n=E;if(Yu(n.nodeBody,e,t,i,s))return n;var T=n.pointToChild(e,t,i,s);if(T)return T}else if(Yu(E,e,t,i,s))return E}return null};const c1t={getTreePatent(e){if(e===void 0&&(e=this),!!e.rexSizer)return e.rexSizer.treeParent},getTreeRoot(e){e===void 0&&(e=this);for(var t;;){if(!e.rexSizer)return;if(t=e.rexSizer.treeParent,t===null)return e;e=t}},getTreesSizer(e){var t=this.getTreeRoot(e);return t?t.getParentSizer():null},isGrandsonNode(e){if(e===void 0||!e.rexSizer)return!1;for(var t;;){if(!e.rexSizer)return!1;if(t=e.rexSizer.treeParent,t===this)return!0;if(t===null)return!1;e=t}return!1}};var Ip=function(e,t,i,s,p=!1){var E;if(is(t))E=t,delete t[key];else if(Ua(t)){var n=t;E=n(e,i),E&&e.add.existing(E)}else(p||t)&&s&&(E=s(e,t,i));return E},yR=function(e,t,i){var s=Vr(e,t);return s},v1t=function(e,t,i){var s=new og(e,t);return e.add.existing(s),s.resetDisplayContent(""),s};const wd=Phaser.Utils.Objects.GetValue;let rN=class extends iN(qe){constructor(t,i,s){var p=i.space;super(t,{orientation:"x",space:{left:wd(p,"nodeLeft",0),right:wd(p,"nodeRight",0),top:wd(p,"nodeTop",0),bottom:wd(p,"nodeBottom",0)}}),this.type="rexTreeNode";var E=Ip(t,wd(i,"nodeBackground"),s,yR,!1),n=Ip(t,wd(i,"nodeBody"),s,v1t,!0);E&&this.addBackground(E),this.add(n,{proportion:1}),this.nodeBody=n,this.addChildrenMap("background",E),this.addChildrenMap("nodeBody",n)}get isNode(){return!0}getTreePatent(){return this.rexSizer.treeParent}getTreeRoot(){var t=this.rexSizer.treeParent;return t?t.getTreeRoot():null}getTreesSizer(){var t=this.getTreeRoot();return t?t.getParentSizer():null}};var nN=function(e,t){var i=e.parentContainer;if(i){t.isRexContainerLite?t.addToContainer(i):i.add(t);return}var s=e.displayList;if(xp(s)){t.isRexContainerLite?t.addToLayer(s):s.add(t);return}e.scene.add.existing(t)};const r4=Phaser.Utils.String.UUID,p1t={addTree(e,t){if(is(e)){var i=e;e={nodeBody:i,nodeKey:t}}return this.insertTree(void 0,e)},insertTree(e,t){var i;typeof t=="string"?(i=t,t=void 0):t&&(i=t.nodeKey,delete t.nodeKey),i===void 0&&(i=r4());var s=this.createTree(t);return nN(this,s),this.insertNode(e,s,{expand:!0}),s._postAddCallback(),s},addNode(e,t){return this.insertNode(void 0,e,t)},insertNode(e,t,i){var s;is(t)||(i=t,t=new rN(this.scene,this.configSave,{isLeaf:!0})),typeof i=="string"?(s=i,i=void 0):i&&(s=i.nodeKey,delete i.nodeKey),s===void 0&&(s=r4()),i===void 0&&(i={}),i.hasOwnProperty("expand")||(i.expand=!0),this.removeNode(t,!1),t.rexSizer.treeParent=this,this.nodesMap.hasOwnProperty(s)&&(console.error(`[Trees] Duplicate nodeKey '${s}'`),this.removeNode(this.nodesMap[s],!0)),t.nodeKey=s,this.nodesMap[s]=t;var p=this.childrenMap.child;return p.insert(e,t,i),t}},g1t={removeNode(e,t){if(typeof e=="string"&&(e=this.getTree(e)),!e)return this;var i=this.getTreePatent(e);if(!i)return this;delete i.nodesMap[e.nodeKey],e.nodeKey=null,e.rexSizer.treeParent=null;var s=i.childrenMap.child;return s.remove(e,t),this},removeAllNodes(e){var t=this.nodesMap;for(var i in t)this.removeNode(t[i],e);return this}},m1t={getNode(e){if(typeof e=="string"&&(e=e.split(".")),e.length!==0){var t=e.shift(),i=this.nodesMap[t];return e.length===0?i:i&&this.isTreeObject(i)?i.getNode(e):null}},getNodes(e){var t=this.nodesMap;if(!e)e=nodes;else for(var i in t)e.push(t[i]);return e},getAllNodes(e){}};var sN={pointToChild:d1t};Object.assign(sN,c1t,p1t,g1t,m1t);var y1t=function(e,t,i){var s=new Hp(e,t);return e.add.existing(s),s.on("expand.start",function(p){p.setDirection("down")}).on("collapse.complete",function(p){p.setDirection("right")}),s};const n4=Phaser.Utils.Objects.GetValue;var x1t=function(e,t){var i=new rN(e,t,{isLeaf:!1});e.add.existing(i);var s=Ip(e,n4(t,"toggleButton"),{isLeaf:!1},y1t,!0);return i.insert(0,s,{padding:{right:n4(t,"space.toggleButton",0)},fitRatio:1}),i.addChildrenMap("toggleButton",s),i};const s4=Phaser.Utils.Objects.GetValue;var T1t=function(e,t){var i=new qe(e,{orientation:s4(t,"childrenOrientation","y")});e.add.existing(i);var s=Ip(e,s4(t,"childrenBackground"),{isLeaf:!1},yR,!1);return s&&i.addBackground(s),i};const C1t=Phaser.Utils.Objects.Clone;var S1t=function(e,t){var i=e?C1t(e):{};if(!t)return i;for(var s in t)i[s]=t[s];return i};const uh=Phaser.Utils.Objects.GetValue;class Xu extends iN(dg){constructor(t,i){i===void 0&&(i={});var s=Ip(t,uh(i,"background"),{isLeaf:!1},yR,!1),p=T1t(t,i),E=p.childrenMap.items,n=x1t(t,i),T=n.childrenMap.toggleButton,r=n.childrenMap.nodeBody,o=Qu(uh(i,"orientation","y")),x=i.space;if(x){var d=uh(x,"indent",0);x.childLeft=uh(x,"indentLeft",o===1?d:0),x.childRight=uh(x,"indentRight",0),x.childTop=uh(x,"indentTop",o===0?d:0),x.childBottom=uh(x,"indentBottom",0)}var h={background:s,title:n,child:p,toggleByTarget:T,transition:i.transition,orientation:o,space:x,align:i.align,expand:i.expand};super(t,h),this.type="rexTree",this.rexSizer.treeParent=null,this.nodesMap={},this.configSave=i,this.nodeBody=r,this.addChildrenMap("toggleButton",T),this.addChildrenMap("nodeBody",r),this.addChildrenMap("childrenNodes",E),this.on("expand.start",function(){T.emit("expand.start",T),Ay(this,"expand.start")},this).on("expand.complete",function(){T.emit("expand.complete",T),Ay(this,"expand.complete")}).on("collapse.start",function(){T.emit("collapse.start",T),Ay(this,"collapse.start")}).on("collapse.complete",function(){T.emit("collapse.complete",T),Ay(this,"collapse.complete")});var l=this;l._postAddCallback=function(){var a=uh(i,"expanded",!0);a!==void 0&&l.setExpandedState(a),delete l._postAddCallback}}destroy(t){!this.scene||this.ignoreDestroy||(this.configSave=void 0,Clear(this.nodesMap),this.nodesMap=void 0,super.destroy(t))}get isTree(){return!0}createTree(t){return Xu.CreateTree(this.scene,this.configSave,t)}isTreeObject(t){return t&&t instanceof Xu}}Xu.CreateTree=function(e,t,i){return new Xu(e,S1t(t,i))};var Ay=function(e,t){var i=e.getTreesSizer();i&&i.emit(t,e)};Object.assign(Xu.prototype,sN);const E1t=Phaser.Utils.String.UUID,P1t={addTree(e){if(is(e)){var t=e;e={nodeBody:t,nodeKey}}return this.insertTree(void 0,e)},insertTree(e,t){var i;typeof t=="string"?(i=t,t=void 0):t&&(i=t.nodeKey,delete t.nodeKey),i===void 0&&(i=E1t());var s=Xu.CreateTree(this.scene,this.treeConfig,t);return nN(this,s),s.nodeKey=i,this.treesMap[i]=s,this.insert(e,s,{expand:!0}),s._postAddCallback(),s}},b1t={removeTree(e,t){return typeof e=="string"&&(e=this.getTree(e)),e?(delete this.treesMap[e.nodeKey],e.nodeKey=null,this.remove(e,t),this):this},removeAllNodes(e){var t=this.treesMap;for(var i in t)this.removeTree(t[i],e);return this}},M1t={getTree(e){return this.treesMap[e]},getTrees(e){e===void 0&&(e=[]);for(var t in this.treesMap)e.push(this.treesMap[t]);return e},getNode(e){var t=e.indexOf(".");if(t===-1)return this.getTree(e);var i=this.getTree(e.substring(0,t));if(i)return i.getNode(e.substring(t+1))}};var aN={pointToChild:u1t,setChildrenInteractive:f1t};Object.assign(aN,P1t,b1t,M1t);const w1t=Phaser.Utils.Objects.GetValue;class xR extends qe{constructor(t,i){i===void 0&&(i={}),i.hasOwnProperty("orientation")||(i.orientation="y"),super(t,i),this.type="rexTrees",this.treesMap={},this.treeConfig=w1t(i,"tree")}destroy(t){!this.scene||this.ignoreDestroy||(this.treeConfig=void 0,Clear(this.treesMap),this.treesMap=void 0,super.destroy(t))}}Object.assign(xR.prototype,aN);It.register("trees",function(e){var t=new xR(this.scene,e);return this.scene.add.existing(t),t});Lt(window,"RexPlugins.UI.Trees",xR);It.register("textArea",function(e){var t=new ag(this.scene,e);return this.scene.add.existing(t),t});Lt(window,"RexPlugins.UI.TextArea",ag);var R1t=function(e){Object.defineProperty(e,"childOY",{configurable:!0,get:function(){return e.textOY},set:function(t){e.textOY=t}}),Object.defineProperty(e,"topChildOY",{get:function(){return e.topTextOY}}),Object.defineProperty(e,"bottomChildOY",{get:function(){return e.bottomTextOY}}),Object.defineProperty(e,"childVisibleHeight",{get:function(){return e.textVisibleHeight}}),Object.defineProperty(e,"childHeight",{get:function(){return e.contentHeight}})};const A1t={setText(e){var t=this.childrenMap.child;return t.setText(e),this},appendText(e){return this.setText(this.text+e),this}},O1t={scrollToLine(e){return this.setChildOY(-this.lineHeight*e),this},scrollToNextLine(e){e===void 0&&(e=1);var t=this.lineIndex+e;return this.scrollToLine(t),this}},Oy=Phaser.Utils.Objects.GetValue;class wT extends sg{constructor(t,i){i===void 0&&(i={});var s=Oy(i,"text"),p;is(s)?p=s:(s===void 0&&(s={}),s.textArea=!0,p=new Yp(t,s),t.add.existing(p)),R1t(p);var E=s.width===void 0,n=s.height===void 0;E&&(p.minWidth=0),n&&(p.minHeight=0),i.scrollMode=0,i.type="rexTextAreaInput",i.child={gameObject:p,expandWidth:E,expandHeight:n};var T=Oy(i,"space",void 0);T&&(T.child=Oy(T,"text",0)),i.scroller=!1,super(t,i),this.addChildrenMap("text",p);var r,o;p.on("cursorin",function(){var d=p.textOY,h=p.contentHeight,l=r!==d,a=o!==h;r=d,o=h,a&&this.resizeController(),(l||a)&&(this.t=p.t)},this),p.on("textchange",function(d){this.emit("textchange",d,this)},this).on("close",function(){this.emit("close",this.text,this)},this);var x=Oy(i,"content",void 0);x&&this.setText(x)}get text(){return this.childrenMap.child.text}set text(t){t==null?t="":t=t.toString(),this.childrenMap.child.text!==t&&this.setText(t)}get lineHeight(){var t=this.childrenMap.child;return t.lineHeight}get lineIndex(){return Math.floor(-this.childOY/this.lineHeight)}get linesCount(){var t=this.childrenMap.child;return t.linesCount}get contentHeight(){var t=this.childrenMap.child;return t.contentHeight}get readOnly(){var t=this.childrenMap.child;return t.readOnly}set readOnly(t){var i=this.childrenMap.child;i.readOnly=t}setReadOnly(t){var i=this.childrenMap.child;return i.setReadOnly(t),this}get value(){return this.text}set value(t){this.text=t}}Object.assign(wT.prototype,A1t,O1t);It.register("textAreaInput",function(e){var t=new wT(this.scene,e);return this.scene.add.existing(t),t});Lt(window,"RexPlugins.UI.TextAreaInput",wT);It.register("scrollablePanel",function(e){var t=new ug(this.scene,e);return this.scene.add.existing(t),t});Lt(window,"RexPlugins.UI.ScrollablePanel",ug);const Ly={popUp:function(e,t){e.popUp(t)},scaleDown:function(e,t){e.scaleDown(t)},fadeIn:function(e,t){e.fadeIn(t)},fadeOut:function(e,t){e.fadeOut(t)}},gh={popUp:0,fadeIn:1,scaleDown:0,fadeOut:1},L1t={setDisplayTime(e){return this.displayTime=e,this},setTransitOutTime(e){return this.transitOutTime=e,this},setTransitInTime(e){return this.transitInTime=e,this},setTransitInCallback(e){switch(typeof e=="string"&&(e=gh[e]),e){case gh.popUp:e=Ly.popUp;break;case gh.fadeIn:e=Ly.fadeIn;break}return e||(e=Ur),this.transitInCallback=e,this},setTransitOutCallback(e){switch(typeof e=="string"&&(e=gh[e]),e){case gh.scaleDown:e=Ly.scaleDown;break;case gh.fadeOut:e=Ly.fadeOut;break}return e||(e=Ur),this.transitOutCallback=e,this}},D1t={showMessage(e){if(this.scaleX0===void 0&&(this.scaleX0=this.scaleX),this.scaleY0===void 0&&(this.scaleY0=this.scaleY),e===void 0){if(this.messages.length===0)return this;e=this.messages.shift()}if(this.player.isPlaying)return this.messages.push(e),this;this.setScale(this.scaleX0,this.scaleY0).setVisible(!0),typeof e=="string"?this.setText(e):e(this),this.layout();var t=[[0,[this.transitInCallback,this,this.transitInTime]],[0,[this.emit,"transitin",this,this.transitInTime]],[this.transitInTime,[Ur]],[this.displayTime,[this.transitOutCallback,this,this.transitOutTime]],[0,[this.emit,"transitout",this,this.transitOutTime]],[this.transitOutTime,[this.setVisible,!1]],[30,[Ur]]];return this.player.load(t,this).once("complete",function(){this.showMessage()},this).start(),this},removeAllMessages(){return this.messages.length=0,this}},pp=Phaser.Utils.Objects.GetValue;class TR extends El{constructor(t,i){i===void 0&&(i={text:createDefaultTextObject(t)}),super(t,i),this.type="rexToast",this.setTransitInTime(pp(i,"duration.in",200)),this.setDisplayTime(pp(i,"duration.hold",1200)),this.setTransitOutTime(pp(i,"duration.out",200)),this.setTransitInCallback(pp(i,"transitIn",gh.popUp)),this.setTransitOutCallback(pp(i,"transitOut",gh.scaleDown)),this.player=new m8(this,{dtMode:1}),this.messages=[],this.scaleX0=void 0,this.scaleY0=void 0,this.setVisible(!1)}destroy(t){!this.scene||this.ignoreDestroy||(this.player.destroy(),this.player=void 0,this.messages=void 0,super.destroy(t))}setScale(t,i){return i===void 0&&(i=t),this.scaleX0=t,this.scaleY0=i,super.setScale(t,i),this}get isShowingMessage(){return this.player.isPlaying}}Object.assign(TR.prototype,L1t,D1t);It.register("toast",function(e){var t=new TR(this.scene,e);return this.scene.add.existing(t),t});Lt(window,"RexPlugins.UI.Toast",TR);var F1t={"bottom-to-top":1,"top-to-bottom":0,"right-to-left":1,"left-to-right":0};const I1t={setQueueDirection(e){return typeof e=="string"&&(e=F1t[e]),this.rtl=e===0,this.orientation===1?e?this.queueDirection=0:this.queueDirection=1:e?this.queueDirection=2:this.queueDirection=3,this},setCreateMessageLabelCallback(e){return this.createMessageLabelCallback=e,this},setDisplayTime(e){return this.displayTime=e,this},setTransitOutTime(e){return this.transitOutTime=e,this},setTransitInTime(e){return this.transitInTime=e,this},setTransitInCallback(e){return e||(e=Ur),this.transitInCallback=e,this},setTransitOutCallback(e){return e||(e=Ur),this.transitOutCallback=e,this}},B1t=Nw.onClick,oN=mk.delayCall,G1t=$x.moveTo;var k1t=function(e,t,i){var s=t(e.scene,i,e);if(B1t.call(s,function(){e.removeMessage(s)}),e.displayTime){var p=e.transitInTime+e.displayTime+10;oN.call(s,p,function(){e.removeMessage(s)})}return s},lN=function(e){for(var t=e.childrenMap.items,i,s=[],p=0,E=t.length;p<E;p++)i=t[p],s.push({x:i.x,y:i.y});return s},N1t=function(e){for(var t=e.childrenMap.items,i,s=[],p=0,E=t.length;p<E;p++)i=t[p],s.push({x:i.scaleX,y:i.scaleY}),i.setScale(1);e.layout();for(var n=lN(e),p=0,E=t.length;p<E;p++){var T=s[p];t[p].setScale(T.x,T.y)}return n},U1t=function(e,t,i,s){for(var p=e.childrenMap.items,E=Math.min(t.length,i.length,p.length),n,T,r,o=e.queueDirection,x=0;x<E;x++){switch(n=p[x],T=t[x],r=i[x],n.setPosition(T.x,T.y),o){case 0:if(T.y<=r.y)continue;break;case 1:if(T.y>=r.y)continue;break;case 2:if(T.x<=r.x)continue;break;case 3:if(T.x>=r.x)continue;break}G1t.call(n,s,r.x,r.y)}},V1t=function(e,t,i){var s=lN(e);e.add(t);var p=N1t(e);U1t(e,s,p,i),e.transitInCallback(t,i,e)};const z1t={showMessage(e){var t=k1t(this,this.createMessageLabelCallback,e);return V1t(this,t,this.transitInTime),this},removeMessage(e){if(this.getParentSizer(e)!==this)return this;if(!e.__isDestroying){e.__isDestroying=!0;var t=this.transitOutTime;return this.transitOutCallback(e,t,this),oN.call(e,t+10,function(){delete e.__isDestroying,e.destroy()}),this}},removeAllMessages(){for(var e=this.childrenMap.items,t=0,i=e.length;t<i;t++)this.removeMessage(e[t]);return this}};var hN={};Object.assign(hN,I1t,z1t);const a4={transitIn(e,t,i){switch(i.queueDirection){case 0:e.setOrigin(.5,1),dl.popUp.call(e,t,"y");break;case 1:e.setOrigin(.5,0),dl.popUp.call(e,t,"y");break;case 2:e.setOrigin(1,.5),dl.popUp.call(e,t,"x");break;case 3:e.setOrigin(0,.5),dl.popUp.call(e,t,"x");break}Fp.fadeIn.call(e,t)},transitOut(e,t,i){Fp.fadeOut.call(e,t)}},Lu=Phaser.Utils.Objects.GetValue;class CR extends qe{constructor(t,i){i===void 0&&(i={}),i.hasOwnProperty("orientation")||(i.orientation=1),super(t,i),this.type="rexToastQueue",this.setCreateMessageLabelCallback(Lu(i,"createMessageLabelCallback")),this.setQueueDirection(Lu(i,"queueDirection",1)),this.setTransitInTime(Lu(i,"duration.in",200)),this.setDisplayTime(Lu(i,"duration.hold",2e3)),this.setTransitOutTime(Lu(i,"duration.out",200)),this.setTransitInCallback(Lu(i,"transitIn",a4.transitIn)),this.setTransitOutCallback(Lu(i,"transitOut",a4.transitOut))}}Object.assign(CR.prototype,hN);It.register("toastQueue",function(e){var t=new CR(this.scene,e);return this.scene.add.existing(t),t});Lt(window,"RexPlugins.UI.ToastQueue",CR);var W1t=function(e,t){if(t===!1)return null;if(is(t))return t;var i=new Ku(e,t);return e.add.existing(i),i};const Y1t=Phaser.Utils.String.Pad;var o4=function(e,t){t===void 0&&(t="0x");var i=e.toString(16).toUpperCase();return i=Y1t(i,6,0,1),i=t+i,i},X1t=function(e,t){e&&(e.setTint?e.setTint(t):e.setFillStyle&&e.setFillStyle(t))};const ta=Phaser.Utils.Objects.GetValue,H1t=Phaser.Utils.Objects.IsPlainObject,$1t=Phaser.Math.Clamp;let SR=class extends qe{constructor(t,i){i===void 0&&(i={}),i.orientation=0,super(t,i),this.type="rexColorInputLite";var s=ta(i,"background",void 0),p=ta(i,"swatch"),E;H1t(p)&&(E=ta(p,"size"));var n=W1t(t,ta(i,"swatch")),T=ta(i,"inputText",{}),r;if(T&&(r=Rh(t,T)),s&&this.addBackground(s),n){E=ta(i,"swatchSize",E);var o;E!==void 0?(wn(n,E,E),o=!1):o=ta(i,"squareExpandSwatch",!0);var x=o?1:0;this.add(n,{proportion:0,expand:!0,fitRatio:x})}if(r){var d=ta(T,"width")===void 0?1:0,h=ta(T,"height")===void 0;this.add(r,{proportion:d,expand:h})}this.addChildrenMap("background",s),this.addChildrenMap("swatch",n),this.addChildrenMap("inputText",r),r&&r.on("close",function(){this.setValue(r.value)},this);var l=ta(i,"valuechangeCallback",null);if(l!==null){var a=ta(i,"valuechangeCallbackScope",void 0);this.on("valuechange",l,a)}this.setValue(ta(i,"value",0))}get value(){return this._value}set value(t){if(typeof t=="string"){if(t=Qb(t),t==null){var s=this.childrenMap.inputText;s&&s.setText(o4(this._value));return}}else t=$1t(Math.floor(t),0,16777215);if(this._value!==t){this._value=t;var i=this.childrenMap.swatch;i&&X1t(i,t);var s=this.childrenMap.inputText;s&&s.setText(o4(t)),this.emit("valuechange",this._value)}}setValue(t){return this.value=t,this}get color(){return this._value}set color(t){this.value=t}setColor(t){return this.color=t,this}};var K1t={setCreateColorPickerBackgroundCallback(e){return this.colorPickerCreateBackgroundCallback=e,this},setColorPickerHPalettePosition(e){return this.colorPickerHPalettePosition=e,this},setColorPickerExpandDirection(e){return typeof e=="string"&&(e=Z1t[e]),this.colorPickerExpandDirection=e,this},setColorPickerEaseInDuration(e){return e===void 0&&(e=0),this.colorPickerEaseInDuration=e,this},setColorPickerEaseOutDuration(e){return e===void 0&&(e=0),this.colorPickerEaseOutDuration=e,this},setColorPickerTransitInCallback(e){return this.colorPickerTransitInCallback=e,this},setColorPickerTransitOutCallback(e){return this.colorPickerTransitOutCallback=e,this},setColorPickerBounds(e){return this.colorPickerBounds=e,this},setColorPickerWidth(e){return this.colorPickerWidth=e,this},setColorPickerHeight(e){return this.colorPickerHeight=e,this},setColorPickerSize(e,t){return this.setColorPickerWidth(e).setColorPickerHeight(t),this},setColorPickerSpace(e){return e===void 0&&(e={}),this.colorPickerSpace=e,this},setColorComponentsHeight(e){return this.colorComponentsHeight=e,this},setColorComponentsFormatLabelConfig(e){return this.colorComponentsFormatLabelConfig=e,this},setColorComponentsInputTextConfig(e){return this.colorComponentsInputTextConfig=e,this},setColorComponentsSpace(e){return e===void 0&&(e={}),this.colorComponentsSpace=e,this}};const Z1t={down:0,up:1},uN=Phaser.Display.Color,vx=Phaser.Math.Percent;var J1t=function(e,t,i){i===void 0&&(i=!1);var s=e.width,p=e.height,E=new uN;if(i)for(var n=0;n<p;n++){var T=vx(n,0,p);E.setFromHSV(T,1,1),t.fillStyle=E.rgba,t.fillRect(0,n,s,1)}else for(var r=0;r<s;r++){var T=vx(r,0,s);E.setFromHSV(T,1,1),t.fillStyle=E.rgba,t.fillRect(r,0,1,p)}},j1t=function(e,t,i){for(var s=e.width,p=e.height,E=t.getImageData(0,0,s,p),n=E.data,T=new uN,r=0;r<p;r++)for(var o=0;o<s;o++){var x=vx(o,0,s),d=1-vx(r,0,p);T.setFromHSV(i,x,d);var h=(r*s+o)*4;n[h]=T.red,n[h+1]=T.green,n[h+2]=T.blue,n[h+3]=255}t.putImageData(E,0,0)};const Q1t=Phaser.Display.Color,l4=Phaser.Math.Percent,q1t=Phaser.Display.Color.ColorToRGBA,_1t=Phaser.Display.Color.HSVToRGB;class tEt extends ju{constructor(t,i,s,p,E,n){i===void 0&&(i=0),s===void 0&&(s=0),p===void 0&&(p=2),E===void 0&&(E=2),super(t,i,s,p,E),this.type="rexColorPicker.HPaletteCanvas",this.colorObject=new Q1t,this.setOrientation(n),this.setSize(p,E)}setOrientation(t){return this.orientation=Qu(t),this}updateTexture(){return J1t(this.canvas,this.context,this.orientation),super.updateTexture(),this}get color(){return this.colorObject.color}get hue(){return this._hue}set hue(t){this._hue=t}getHue(t,i){return t===void 0?this.hue:(this.orientation===0?this.hue=l4(t,0,this.width):this.hue=l4(i,0,this.height),this.hue)}getColor(t,i){if(t===void 0)return this.color;var s=this.getHue(t,i);return this.colorObject.setFromRGB(_1t(s,1,1)),this.colorObject.color}setColor(t){return this.color===t?this:this}colorToLocalPosition(t,i){return i===void 0?i={}:i===!0&&(Tb===void 0&&(Tb={}),i=Tb),this.colorObject.setFromRGB(q1t(t)),this.orientation===0?(i.x=this.width*this.colorObject.h,i.y=this.height/2):(i.x=this.width/2,i.y=this.height*this.colorObject.h),i}}var Tb=void 0,eEt=Phaser.Math.RotateAround,fN=function(e,t,i,s){s===void 0?s={}:s===!0&&(Cb===void 0&&(Cb={}),s=Cb),t-=e.width*e.originX,i-=e.height*e.originY;var p={x:t*e.scaleX,y:i*e.scaleY};return eEt(p,0,0,-e.rotation),s.x=e.x+t,s.y=e.y+i,s},Cb;class iEt extends aa{constructor(t,i){i===void 0&&(i={}),super(t,i);var s=i.width!=null?1:0,p=new tEt(t).setOrientation(s);t.add.existing(p),this.type="rexColorPicker.HPalette",p.setInteractive().on("pointerdown",this.onPaletteCanvasPointerDown,this).on("pointermove",this.onPaletteCanvasPointerDown,this);var E=new Ku(t,{strokeColor:16777215,strokeWidth:2});t.add.existing(E),this.add(p,{key:"paletteCanvas",expand:!0}).add(E,{key:"marker",expand:!1})}resize(t,i){if(this.width===t&&this.height===i)return this;super.resize(t,i);var s=Math.min(t,i);return this.childrenMap.marker.setSize(s,s),this}onPaletteCanvasPointerDown(t,i,s,p){if(t.isDown){var E=this.childrenMap.paletteCanvas,n=E.getColor(i,s);this.setMarkerPosition(n),this.emit("input",n)}}get color(){return this.childrenMap.paletteCanvas.color}setColor(t){if(this.color===t)return this;var i=this.childrenMap.paletteCanvas;return i.setColor(t),this.setMarkerPosition(t),this}setMarkerPosition(t){var i=this.childrenMap.paletteCanvas,s=this.childrenMap.marker,p=i.colorToLocalPosition(t,!0);return fN(i,p.x,p.y,s),this.resetChildPositionState(s),this}getHue(t,i){var s=this.childrenMap.paletteCanvas;return s.getHue(t,i)}}const rEt=Phaser.Display.Color,h4=Phaser.Math.Percent,u4=Phaser.Display.Color.ColorToRGBA,nEt=Phaser.Display.Color.HSVToRGB;class sEt extends ju{constructor(t,i,s,p,E,n){i===void 0&&(i=0),s===void 0&&(s=0),p===void 0&&(p=2),E===void 0&&(E=2),super(t,i,s,p,E),this.type="rexColorPicker.SVPaletteCanvas",n===void 0&&(n=1),this.colorObject=new rEt,this.setHue(n),this.setSize(p,E)}get color(){return this.colorObject.color}get hue(){return this._hue}set hue(t){this._hue!==t&&(this._hue=t,this.colorObject.h=t,this.dirty=!0)}setHue(t){return this.hue=t,this}updateTexture(){return j1t(this.canvas,this.context,this.hue),super.updateTexture(),this}getColor(t,i){if(t===void 0)return this.colorObject.color;var s=h4(t,0,this.width),p=1-h4(i,0,this.height);return this.colorObject.setFromRGB(nEt(this.hue,s,p)),this.colorObject.color}setColor(t){return this.color===t?this:(this.colorObject.setFromRGB(u4(t)),this.setHue(this.colorObject.h),this)}colorToLocalPosition(t,i){return i===void 0?i={}:i===!0&&(Sb===void 0&&(Sb={}),i=Sb),this.colorObject.setFromRGB(u4(t)),i.x=this.width*this.colorObject.s,i.y=this.height*(1-this.colorObject.v),i}}var Sb=void 0;class aEt extends aa{constructor(t,i){super(t,i);var s=new sEt(t);t.add.existing(s),this.type="rexColorPicker.SVPalette",s.setInteractive().on("pointerdown",this.onPaletteCanvasPointerDown,this).on("pointermove",this.onPaletteCanvasPointerDown,this);var p=new Ku(t,{radius:5,strokeColor:16777215,strokeWidth:2});t.add.existing(p),this.add(s,{key:"paletteCanvas",expand:!0}).add(p,{key:"marker",expand:!1})}onPaletteCanvasPointerDown(t,i,s,p){if(t.isDown){var E=this.childrenMap.paletteCanvas,n=E.getColor(i,s);this.setMarkerPosition(n),this.emit("input",n)}}get color(){return this.childrenMap.paletteCanvas.color}setHue(t){var i=this.childrenMap.paletteCanvas;return i.setHue(t),this}setColor(t){if(this.color===t)return this;var i=this.childrenMap.paletteCanvas;return i.setColor(t),this.setMarkerPosition(t),this}setMarkerPosition(t){var i=this.childrenMap.paletteCanvas,s=this.childrenMap.marker,p=i.colorToLocalPosition(t,!0);return fN(i,p.x,p.y,s),this.resetChildPositionState(s),this}}const Ia=Phaser.Utils.Objects.GetValue;class ER extends qe{constructor(t,i){super(t,i),this.type="rexColorPicker",this.freezePalettes=!1;var s=Ia(i,"hPalette.position",0);typeof s=="string"&&(s=oEt[s]);var p=s===0||s===2?1:0;this.setOrientation(p);var E=Ia(i,"background",void 0),n,T;if(this.orientation===0){var n=Ia(i,"hPalette.width",void 0);n===void 0&&(n=Ia(i,"hPalette.size",10))}else T=Ia(i,"hPalette.height",void 0),T===void 0&&(T=Ia(i,"hPalette.size",10));var r=new iEt(t,{width:n,height:T});t.add.existing(r);var o=Ia(i,"svPalette.width",void 0),x=Ia(i,"svPalette.height",void 0),d=new aEt(t,{width:o,height:x});t.add.existing(d),E&&this.addBackground(E);var h={proportion:0,expand:!0},l,a;this.orientation===0?(l=o===void 0?1:0,a=x===void 0):(l=x===void 0?1:0,a=o===void 0);var f={proportion:l,expand:a};s===0||s===3?this.add(d,f).add(r,h):this.add(r,h).add(d,f),r.on("input",function(){d.setHue(r.getHue()),this.setValue(d.color,!0)},this),d.on("input",function(){this.setValue(d.color,!0)},this),this.addChildrenMap("background",E),this.addChildrenMap("hPalette",r),this.addChildrenMap("svPalette",d);var c=Ia(i,"valuechangeCallback",null);if(c!==null){var u=Ia(i,"valuechangeCallbackScope",void 0);this.on("valuechange",c,u)}this.setValue(Ia(i,"value",16777215))}get value(){return this._value}set value(t){if(this._value!==t){var i=this._value;this._value=t,this.freezePalettes||this.updatePalettes(),this.emit("valuechange",t,i,this)}}setValue(t,i){return this.freezePalettes=!!i,this.value=t,this.freezePalettes=!1,this}get color(){return this._value}set color(t){this.value=t}setColor(t){return this.color=t,this}updatePalettes(){return this.childrenMap.hPalette.setColor(this.color),this.childrenMap.svPalette.setColor(this.color),this}postLayout(t,i,s){return this.childrenMap.hPalette.setMarkerPosition(this.value),this.childrenMap.svPalette.setMarkerPosition(this.value),super.postLayout(t,i,s),this}}var oEt={bottom:0,left:1,top:2,right:3};const mo=Phaser.Utils.Objects.GetValue,lEt=Phaser.Display.Color,hEt=Phaser.Display.Color.ColorToRGBA,uEt=Phaser.Display.Color.HSVToRGB,Du=Phaser.Math.Clamp;class PR extends qe{constructor(t,i){i===void 0&&(i={}),i.orientation=0,super(t,i),this.type="rexColorComponents",this.colorObject=new lEt;var s=mo(i,"background",void 0),p=mo(i,"formatLabel",void 0);is(p)||(p=_r(t,p).resetDisplayContent());var E=[];if(i.inputText0&&i.inputText1&&i.inputText2)E.push(i.inputText0),E.push(i.inputText1),E.push(i.inputText2);else for(var n=mo(i,"inputText"),T=0;T<3;T++){var r=Rh(t,n).setMaxLength(3).setNumberInput();E.push(r)}s&&this.addBackground(s);var x=mo(i,"proportion.formatLabel",0),o=!!p.isRexContainerLite,d=mo(i,"expand.formatLabel",o);this.add(p,{proportion:x,expand:d});for(var x=mo(n,"width")===void 0?1:0,d=mo(n,"height")===void 0,T=0,h=E.length;T<h;T++)this.add(E[T],{proportion:x,expand:d});this.addChildrenMap("background",s),this.addChildrenMap("formatLabel",p),this.addChildrenMap("components",E),this.onClick(p,this.toggleColorFormat,this);for(var T=0,h=E.length;T<h;T++)E[T].on("close",function(){this.updateColorObject(),this.setValue(this.colorObject.color)},this);var l=mo(i,"valuechangeCallback",null);if(l!==null){var a=mo(i,"valuechangeCallbackScope",void 0);this.on("valuechange",l,a)}p.setText("RGB"),this.setValue(mo(i,"value",16777215))}get value(){return this._value}set value(t){t=Du(Math.floor(t),0,16777215),this._value!==t&&(this._value=t,this.colorObject.setFromRGB(hEt(t)),this.updateComponents(),this.emit("valuechange",this._value))}setValue(t){return this.value=t,this}get color(){return this._value}set color(t){this.value=t}setColor(t){return this.color=t,this}get colorFormat(){return this.childrenMap.formatLabel.text}set colorFormat(t){this.colorFormat!==t&&(this.childrenMap.formatLabel.setText(t),this.updateComponents())}setColorFormat(t){return this.colorFormat=t,this}toggleColorFormat(){return this.colorFormat=this.colorFormat==="RGB"?"HSV":"RGB",this}updateComponents(){var t=this.childrenMap.components,i,s,p;return this.colorFormat==="RGB"?(i=this.colorObject.red,s=this.colorObject.green,p=this.colorObject.blue):(i=Math.floor(this.colorObject.h*360),s=Math.floor(this.colorObject.s*100),p=Math.floor(this.colorObject.v*100)),t[0].setValue(i),t[1].setValue(s),t[2].setValue(p),this}updateColorObject(){var t=this.childrenMap.components;if(this.colorFormat==="RGB"){var i=Du(t[0].value,0,255),s=Du(t[1].value,0,255),p=Du(t[2].value,0,255);this.colorObject.setTo(i,s,p)}else{var E=Du(t[0].value,0,359)/360,n=Du(t[1].value,0,100)/100,T=Du(t[2].value,0,100)/100;this.colorObject.setFromRGB(uEt(E,n,T))}return this}}const Eb=Phaser.Utils.Objects.GetValue;class fEt extends qe{constructor(t,i){i===void 0&&(i={}),i.orientation=1,super(t,i),this.type="rexColorInput.ColorPickerPanel";var s=Eb(i,"background",void 0),p=new ER(t,{hPalette:i.hPalette||{},svPalette:i.svPalette||{},space:{item:Eb(i,"space.hPalette",8)}});t.add.existing(p);var E;i.colorComponents&&(E=new PR(t,i.colorComponents),t.add.existing(E)),s&&(this.addBackground(s),new Zx(s,{stopAllLevels:!1})),this.add(p,{proportion:1,expand:!0}),E&&this.add(E,{proportion:0,expand:!0}),this.addChildrenMap("background",s),this.addChildrenMap("colorPicker",p),this.addChildrenMap("colorComponents",E),p.on("valuechange",function(n){this.setValue(n)},this),E&&E.on("valuechange",function(n){this.setValue(n)},this),this.setValue(Eb(i,"value",16777215))}get value(){return this._value}set value(t){if(this._value!==t){this._value=t;var i=this.childrenMap.colorPicker;i.setValue(t);var s=this.childrenMap.colorComponents;s&&s.setValue(t),this.emit("valuechange",t)}}setValue(t){return this.value=t,this}}Phaser.Utils.Objects.GetValue;var dEt=function(t){var t=this.scene,i,s=this.colorPickerCreateBackgroundCallback;s&&(i=s.call(this,t),t.add.existing(i));var p=this.colorPickerWidth;p===void 0&&(p=this.width);var E=this.colorPickerHeight;E===void 0&&(E=p);var n;this.colorComponentsHeight>0?n={height:this.colorComponentsHeight,formatLabel:this.colorComponentsFormatLabelConfig,inputText:this.colorComponentsInputTextConfig,space:this.colorComponentsSpace}:n=!1;var T=new fEt(t,{width:p,height:E,background:i,space:this.colorPickerSpace,hPalette:{position:this.colorPickerHPalettePosition},colorComponents:n,value:this.value});return t.add.existing(T),T},cEt=function(){if(!this.colorPicker){var e=dEt.call(this).layout(),t=new I8(e,{duration:{in:this.colorPickerEaseInDuration,out:this.colorPickerEaseOutDuration},transitIn:this.colorPickerTransitInCallback,transitOut:this.colorPickerTransitOutCallback,expandDirection:this.colorPickerExpandDirection,alignTargetX:this,alignTargetY:this,bounds:this.colorPickerBounds,touchOutsideClose:!0}).on("open",function(){e.on("valuechange",function(i){this.setValue(i)},this)},this).on("close",function(){this.colorPicker=void 0,this.dropDownBehavior=void 0},this);return this.colorPicker=e,this.dropDownBehavior=t,this.pin(e),this}},dN={openColorPicker:cEt};Object.assign(dN,K1t);const cn=Phaser.Utils.Objects.GetValue;class RT extends SR{constructor(t,i){i===void 0&&(i={}),super(t,i),this.type="rexColorInput",i.hasOwnProperty("colorPicker")||(i.colorPicker={background:{color:0}});var s=i.colorPicker,p=s!==!1&&s!==null;if(p){this.setColorPickerSize(cn(s,"width",160),cn(s,"height",170));var E,n=cn(s,"background");n?E=function(l){return Vr(l,n)}:E=cn(s,"createBackgroundCallback"),this.setCreateColorPickerBackgroundCallback(E),this.setColorPickerHPalettePosition(cn(s,"hPalettePosition",0)),this.setColorPickerExpandDirection(cn(s,"expandDirection")),this.setColorPickerEaseInDuration(cn(s,"easeIn",200)),this.setColorPickerEaseOutDuration(cn(s,"easeOut",200)),this.setColorPickerTransitInCallback(cn(s,"transitIn")),this.setColorPickerTransitOutCallback(cn(s,"transitOut")),this.setColorPickerBounds(cn(s,"bounds"));var T=cn(s,"space");T===void 0&&(T={left:10,right:10,top:10,bottom:10,item:8}),this.setColorPickerSpace(T)}var r=i.colorComponents,o=r!==!1&&r!==null;if(p&&o){this.setColorComponentsHeight(cn(r,"height",30)),this.setColorComponentsFormatLabelConfig(cn(r,"formatLabel"));var x=cn(r,"inputText");x||(x=cn(i,"inputText")),this.setColorComponentsInputTextConfig(x);var d=cn(r,"space");d===void 0&&(d={item:8}),this.setColorComponentsSpace(d)}var h=this.childrenMap.swatch;h&&p&&this.onClick(h,this.openColorPicker,this)}}Object.assign(RT.prototype,dN);It.register("colorInput",function(e){var t=new RT(this.scene,e);return this.scene.add.existing(t),t});Lt(window,"RexPlugins.UI.ColorInput",RT);It.register("colorInputLite",function(e){var t=new SR(this.scene,e);return this.scene.add.existing(t),t});Lt(window,"RexPlugins.UI.ColorInputBase",SR);It.register("colorPicker",function(e){var t=new ER(this.scene,e);return this.scene.add.existing(t),t});Lt(window,"RexPlugins.UI.ColorPicker",ER);It.register("colorComponents",function(e){var t=new PR(this.scene,e);return this.scene.add.existing(t),t});Lt(window,"RexPlugins.UI.ColorComponents",PR);var cN=function(e){for(var t=e.scene.input,i=t.manager,s=i.pointersTotal,p=i.pointers,E,n=0;n<s;n++)if(E=p[n],!(!E.primaryDown||t.getDragState(E)!==0||!rw(e,E)))return t.setDragState(E,1),t._drag[E.id]=[e],t.dragDistanceThreshold===0||t.dragTimeThreshold===0?(t.setDragState(E,3),t.processDragStartList(E)):t.setDragState(E,2),!0;return!1};const Dy=Phaser.Utils.Objects.GetValue,f4=Phaser.Math.Distance.Between,d4=Phaser.Math.RotateAroundDistance;class bR extends ji{constructor(t,i){super(t,{eventEmitter:!1}),this._enable=void 0,t.setInteractive(Dy(i,"inputConfig",void 0)),this.resetFromJSON(i),this.boot()}resetFromJSON(t){return this.pointer=void 0,this.setEnable(Dy(t,"enable",!0)),this.setAxisMode(Dy(t,"axis",0)),this.setAxisRotation(Dy(t,"rotation",0)),this}toJSON(){return{enable:this.enable,axis:this.axisMode,rotation:this.axisRotation}}boot(){var t=this.parent;t.on("dragstart",this.onDragStart,this),t.on("drag",this.onDrag,this),t.on("dragend",this.onDragEnd,this)}shutdown(t){this.isShutdown||(this.pointer=void 0,super.shutdown(t))}get enable(){return this._enable}set enable(t){if(this._enable!==t)return t||this.dragend(),this._enable=t,this.scene.input.setDraggable(this.parent,t),this}setEnable(t){return t===void 0&&(t=!0),this.enable=t,this}toggleEnable(){return this.setEnable(!this.enable),this}setAxisMode(t){return typeof t=="string"&&(t=vEt[t]),this.axisMode=t,this}setAxisRotation(t){return this.axisRotation=t,this}drag(){return cN(this.parent),this}dragend(){if(this.isDragging)return this.scene.input.setDragState(this.pointer,5),this}onDragStart(t,i,s){this.isDragging||(this.pointer=t)}onDrag(t,i,s){if(this.pointer===t){var p=this.parent;if(this.axisMode===0)p.x=i,p.y=s;else if(this.axisRotation===0)this.axisMode===1?p.x=i:this.axisMode===2&&(p.y=s);else{var E,n={x:i,y:s};E=f4(n.x,n.y,p.x,p.y),n=d4(n,p.x,p.y,-this.axisRotation,E),this.axisMode===1?n.y=p.y:this.axisMode===2&&(n.x=p.x),E=f4(n.x,n.y,p.x,p.y),n=d4(n,p.x,p.y,this.axisRotation,E),p.x=n.x,p.y=n.y}}}onDragEnd(t,i,s,p){this.pointer===t&&(this.pointer=void 0)}get isDragging(){return this.pointer!==void 0}}const vEt={both:0,"h&v":0,"x&y":0,horizontal:1,h:1,x:1,vertical:2,v:2,y:2};var pEt=function(){var e=this.sizerChildren[0],t=this.sizerChildren[1],i=this.sizerChildren[2],s=this.getSizerConfig(e).padding,p=this.getSizerConfig(t).padding,E=this.getSizerConfig(i).padding;if(this.orientation===0){var n=this.innerLeft+s.left,T=this.innerRight-E.right,r=mi(t),o=t.x+r*(0-t.originX),x=t.x+r*(1-t.originX),d=o-p.left-this.space.item-s.right,h=x+p.right+this.space.item+E.left,l=d-n,a=T-h,f=l+a;this.minFirstChildSize>0&&l<this.minFirstChildSize&&(l=this.minFirstChildSize,a=f-l),this.minSecondChildSize>0&&a<this.minSecondChildSize&&(a=this.minSecondChildSize,l=f-a),this.setSplitRatio(l/f)}else{var c=this.innerTop+s.top,u=this.innerBottom-E.bottom,v=yi(t),g=t.y+v*(0-t.originY),m=t.y+v*(1-t.originY),y=g-p.top-this.space.item-s.bottom,C=m+p.bottom+this.space.item+E.top,b=y-c,M=u-C,w=b+M;this.minFirstChildSize>0&&b<this.minFirstChildSize&&(b=this.minFirstChildSize,M=w-b),this.minSecondChildSize>0&&M<this.minSecondChildSize&&(M=this.minSecondChildSize,b=w-M),this.setSplitRatio(b/w)}var R=this.minWidth,A=this.minHeight;this.setMinSize(this.width,this.height).layout().setMinSize(R,A)};const Pr=Phaser.Utils.Objects.GetValue,gEt=Phaser.Math.Clamp;class vN extends qe{constructor(t,i){i.hasOwnProperty("orientation")||(i.orientation=i.hasOwnProperty("leftPanel")?0:1),super(t,i),this.type="rexSplit";var s=Pr(i,"background",void 0),p,E,n,T;this.orientation===0?(p="leftPanel",E="rightPanel",n="minLeftPanelWidth",T="minRightPanelWidth"):(p="topPanel",E="bottomPanel",n="minTopPanelHeight",T="minBottomPanelHeight");var r=Pr(i,p,void 0),o=Pr(i,"splitter",void 0),x=Pr(i,E,void 0);s&&this.addBackground(s);var d=Pr(i,"space",void 0);this.add(r,{proportion:1,expand:!0,padding:{left:Pr(d,`${p}Left`,0),right:Pr(d,`${p}Right`,0),top:Pr(d,`${p}Top`,0),bottom:Pr(d,`${p}Bottom`,0)}}),this.add(o,{proportion:0,expand:!0,padding:{left:Pr(d,"splitterLeft",0),right:Pr(d,"splitterRight",0),top:Pr(d,"splitterTop",0),bottom:Pr(d,"splitterBottom",0)}}),this.add(x,{proportion:1,expand:!0,padding:{left:Pr(d,`${E}Left`,0),right:Pr(d,`${E}Right`,0),top:Pr(d,`${E}Top`,0),bottom:Pr(d,`${E}Bottom`,0)}}),this.addChildrenMap("background",s),this.addChildrenMap(p,r),this.addChildrenMap("splitter",o),this.addChildrenMap(E,x),this.minFirstChildSize=Pr(i,n,0),this.minSecondChildSize=Pr(i,T,0),this.setSplitRatio(Pr(i,"splitRatio",.5)),this.splitterDragBehavior=new bR(o,{axis:this.orientation===0?1:2}),o.on("dragstart",function(){this.emit("splitter.dragstart",o,this.splitRatio)},this).on("dragend",function(){this.emit("splitter.dragend",o,this.splitRatio)},this).on("drag",function(){pEt.call(this),this.emit("splitter.drag",o,this.splitRatio)},this).on("pointerover",function(){this.emit("splitter.over",o,this.splitRatio)},this).on("pointerout",function(){this.emit("splitter.out",o,this.splitRatio)},this)}get splitterEnable(){return this.splitterDragBehavior.enable}set splitterEnable(t){this.splitterDragBehavior.setEnable(t)}setSplitterEnable(t){return t===void 0&&(t=!0),this.splitterEnable=t,this}set minLeftPanelWidth(t){this.minFirstChildSize=t}get minLeftPanelWidth(){return this.minFirstChildSize}set minRightPanelWidth(t){this.minSecondChildSize=t}get minRightPanelWidth(){return this.minSecondChildSize}set minTopPanelHeight(t){this.minFirstChildSize=t}get minTopPanelHeight(){return this.minFirstChildSize}set minBottomPanelHeight(t){this.minSecondChildSize=t}get minBottomPanelHeight(){return this.minSecondChildSize}setMinLeftPanelWidth(t){return this.minLeftPanelWidth=t,this}setMinRightPanelWidth(t){return this.minRightPanelWidth=t,this}setMinTopPanelHeight(t){return this.minTopPanelHeight=t,this}setMinBottomPanelHeight(t){return this.minBottomPanelHeight=t,this}get splitRatio(){return this._splitRatio}set splitRatio(t){t=gEt(t,0,1),this._splitRatio!==t&&(this._splitRatio=t,this.getSizerConfig(this.sizerChildren[0]).proportion=t,this.getSizerConfig(this.sizerChildren[2]).proportion=1-t)}setSplitRatio(t){return this.splitRatio=t,this}}It.register("splitPanels",function(e){var t=new vN(this.scene,e);return this.scene.add.existing(t),t});Lt(window,"RexPlugins.UI.SplitPanels",vN);var mEt=function(){return function(e,t,i,s){t!=="panel"&&i.setChildVisible(e,!0)}},yEt=function(){return function(e,t,i,s){t!=="panel"&&i.setChildVisible(e,!1)}};const xEt={show:mEt,hide:yEt};var TEt=function(e,t){return t===void 0&&(t=1),function(i,s,p,E){s!=="panel"&&p.fadeChild(i,E?0:e,t)}},CEt=function(e,t){return t===void 0&&(t=0),function(i,s,p,E){s!=="panel"&&p.fadeChild(i,E?0:e,t)}};const SEt={show:TEt,hide:CEt};var c4=function(e,t){return function(i,s,p,E){s!=="panel"&&p.moveChild(i,E?0:e,t)}};const EEt={show:c4,hide:c4};var v4=function(e,t){return function(i,s,p,E){s==="panel"&&p.moveChild(i,E?0:e,t)}};const PEt={show:v4,hide:v4},Pb={visible:xEt,fade:SEt,move:EEt,"move-panel":PEt};var bEt=function(e){var t,i;[t,...i]=typeof e=="string"?[e]:e;var s,p;return Pb.hasOwnProperty(t)?(s=Pb[t].show.apply(null,i),p=Pb[t].hide.apply(null,i)):(s=Ur,p=Ur),{show:s,hide:p}};const MEt={showChild(e,t){var i=this.sizerChildren[e];return i&&(this.emit("showchild",i,e,this,t),this.resetChildState(i)),this},hideChild(e,t){var i=this.sizerChildren[e];return i&&(this.emit("hidechild",i,e,this,t),this.resetChildState(i)),this},swapChild(e,t){return this.currentChildKey===e||(this.currentChildKey==="panel"||e==="panel"?(this.previousChildKey=this.currentChildKey,this.currentChildKey=e,this.hideChild(this.previousChildKey,t),this.showChild(this.currentChildKey,t)):(this.swapChild("panel",t),this.swapChild(e,t))),this},showPanel(e){return this.swapChild("panel",e),this},showLeftSide(){return this.swapChild("leftSide"),this},showRightSide(){return this.swapChild("rightSide"),this},showTopSide(){return this.swapChild("topSide"),this},showBottomSide(){return this.swapChild("bottomSide"),this},hideLeftSide(){return this.currentChildKey=="leftSide"&&this.showPanel(),this},hideRightSide(){return this.currentChildKey=="rightSide"&&this.showPanel(),this},hideTopSide(){return this.currentChildKey=="topSide"&&this.showPanel(),this},hideBottomSide(){return this.currentChildKey=="bottomSide"&&this.showPanel(),this},toggleLeftSide(){var e=this.currentChildKey!=="panel"?"panel":"leftSide";return this.swapChild(e),this},toggleRightSide(){var e=this.currentChildKey!=="panel"?"panel":"rightSide";return this.swapChild(e),this},toggleTopSide(){var e=this.currentChildKey!=="panel"?"panel":"topSide";return this.swapChild(e),this},toggleBottomSide(){var e=this.currentChildKey!=="panel"?"panel":"bottomSide";return this.swapChild(e),this}},wEt=Is.prototype.setChildVisible,REt={setChildVisible(e,t){var i;if(typeof e=="string"){var i=e;e=this.sizerChildren[i]}else i=iT(this.sizerChildren,e);return t===void 0&&(t=this.currentChildKey===i),wEt.call(this,e,t),this}},AEt={fadeChild(e,t,i){var s;return typeof e=="string"?(s=e,e=this.sizerChildren[s]):s=iT(this.sizerChildren,e),t===void 0&&(t=500),i===void 0&&(i=this.currentChildKey===s?1:0),e.fadeIn(t,{start:e.alpha,end:i}),this},fadeChildPromise(e,t,i){return typeof e=="string"&&(e=this.sizerChildren[key]),this.fadeChild(e,t,i),e._fade?vn(e._fade):Promise.resolve()}},OEt={moveChild(e,t,i,s){var p;typeof e=="string"?(p=e,e=this.sizerChildren[p]):p=iT(this.sizerChildren,e),t===void 0&&(t=500);var E=this.currentChildKey===p;if(s===void 0)switch(p){case"leftSide":case"rightSide":s=mi(e);break;case"topSide":case"bottomSide":s=yi(e);break;default:if(E)switch(this.previousChildKey){case"leftSide":case"rightSide":s=mi(this.sizerChildren[this.previousChildKey]);break;case"topSide":case"bottomSide":s=yi(this.sizerChildren[this.previousChildKey]);break;default:s=0;break}else switch(this.currentChildKey){case"leftSide":case"rightSide":s=mi(this.sizerChildren[this.currentChildKey]);break;case"topSide":case"bottomSide":s=yi(this.sizerChildren[this.currentChildKey]);break;default:s=0;break}break}var n,T,r,o;if(E)switch(p){case"panel":switch(this.previousChildKey){case"leftSide":n=!0;break;case"rightSide":T=!0;break;case"topSide":r=!0;break;case"bottomSide":o=!0;break}break;case"leftSide":T=!0;break;case"rightSide":n=!0;break;case"topSide":o=!0;break;case"bottomSide":r=!0;break}else switch(p){case"panel":switch(this.currentChildKey){case"leftSide":T=!0;break;case"rightSide":n=!0;break;case"topSide":o=!0;break;case"bottomSide":r=!0;break}break;case"leftSide":n=!0;break;case"rightSide":T=!0;break;case"topSide":r=!0;break;case"bottomSide":o=!0;break}return n?e.moveTo(t,`-=${s}`,void 0,i):T?e.moveTo(t,`+=${s}`,void 0,i):r?e.moveTo(t,void 0,`-=${s}`,i):o?e.moveTo(t,void 0,`+=${s}`,i):e.moveTo(0),this},moveChildPromise(e,t,i,s){return typeof e=="string"&&(e=this.sizerChildren[key]),this.moveChild(e,t,i,s),e._easeMove?vn(e._easeMove):Promise.resolve()}};var pN={};Object.assign(pN,REt,AEt,OEt);const ts=Phaser.Utils.Objects.GetValue;class MR extends aa{constructor(t,i){super(t,i),this.type="rexSides",this.childrenMap=this.sizerChildren,this.previousChildKey=void 0,this.currentChildKey=void 0;var s=ts(i,"showChildCallback",void 0);if(s)if(Ua(s)){var p=ts(i,"showChildCallbackScope",void 0);this.on("showchild",s,p);var E=ts(i,"hideChildCallback",void 0),n=ts(i,"hideChildCallbackScope",void 0);this.on("hidechild",E,n)}else{var T=bEt(s);this.on("showchild",T.show),this.on("hidechild",T.hide)}var r=ts(i,"background",void 0),o=ts(i,"panel",void 0),x=ts(i,"leftSide",void 0),d=ts(i,"rightSide",void 0),h=ts(i,"topSide",void 0),l=ts(i,"bottomSide",void 0);if(r&&this.addBackground(r),o&&this.add(o,"panel","center",0,!0),x){var a=ts(i,"expand.left",!0);this.add(x,"leftSide","left-top",0,{height:a})}if(d){var a=ts(i,"expand.right",!0);this.add(d,"rightSide","right-top",0,{height:a})}if(h){var a=ts(i,"expand.top",!0);this.add(h,"topSide","left-top",0,{width:a})}if(l){var a=ts(i,"expand.bottom",!0);this.add(l,"bottomSide","left-bottom",0,{width:a})}}reset(){return this.previousChildKey=void 0,this.currentChildKey="panel",this.showChild("panel",!0),this.hideChild("leftSide",!0),this.hideChild("rightSide",!0),this.hideChild("topSide",!0),this.hideChild("bottomSide",!0),this}}Object.assign(MR.prototype,MEt,pN);It.register("sides",function(e){var t=new MR(this.scene,e);return this.scene.add.existing(t),t});Lt(window,"RexPlugins.UI.Sides",MR);var LEt=function(e){var t=!0;return e.hasOwnProperty("accept")||(t=!1,console.error(`[Tweaker] Can't register inputHandler '${e.name}', missing 'accept' callback.`)),e.hasOwnProperty("build")||(t=!1,console.error(`[Tweaker] Can't register inputHandler '${e.name}', missing 'build' callback.`)),t&&this.inputHandlers.unshift(e),this};const DEt=Phaser.Utils.Array.GetFirst,FEt=Phaser.Utils.Array.Remove;var IEt=function(e){var t=DEt(this.inputHandlers,"name",e);return t&&FEt(this.inputHandlers,t),this};class cg extends El{constructor(t,i){i=fT(t,i),super(t,i),this.type="rexTweaker.Title"}setTitle(t){return t=t?tn(t):{},t.hasOwnProperty("text")||(t.hasOwnProperty("title")?t.text=t.title:t.text=""),this.resetDisplayContent(t),this}}class BEt extends cg{constructor(t,i){i===void 0&&(i={}),super(t,i),this.type="rexTweaker.FolderTitle";var s=new Hp(t,i.expandedIcon);t.add.existing(s),this.addSpace().add(s,{proportion:0,expand:!1,padding:1,fitRatio:1}),this.addChildrenMap("expandedIcon",s)}setExpandedState(t){t===void 0&&(t=!0);var i=t?"down":"right",s=this.childrenMap.expandedIcon;return s.setDirection(i),this}}/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var gN=function(e,t){var i=Na(e);for(var s in t)i.hasOwnProperty(s)||(i[s]=t[s]);return i},Cp=function(e,t,i){return Vr(e,gN(t,i))};const GEt={setBindingTarget(e){var t=this.childrenMap.child;return t.setBindingTarget(e),this}},kEt={getMaxInputRowTitleWidth(){var e=this.childrenMap.child,t=e.getMaxInputRowTitleWidth();return t+this.getInnerPadding("left")},setInputRowTitleWidth(e){e-=this.getInnerPadding("left");var t=this.childrenMap.child;return t.setInputRowTitleWidth(e),this}};class mN extends dg{constructor(t,i){i===void 0&&(i={}),i.orientation=1,super(t,i),this.type="rexTweaker.Folder"}setTitle(t){var i=this.childrenMap.title;return i.setTitle(t),this}}Object.assign(mN.prototype,GEt,kEt);const Rd=Phaser.Utils.Objects.GetValue;var NEt=function(e,t,i){var s=e.scene,p=Rd(i,"title")||{},E=new BEt(s,p);s.add.existing(E),E.on("folder.expand",function(){E.setExpandedState(!0)}).on("folder.collapse",function(){E.setExpandedState(!1)});var n={root:Rd(i,"root"),styles:Rd(i,"tweaker"),space:Rd(i,"space")||{}},T=e.createTweaker(n),r=Rd(i,"background"),o=Cp(s,t,r),x=new mN(s,{title:E,child:T,background:o,transition:{duration:Rd(i,"transition.duration",200)}});return s.add.existing(x),x};const p4=Phaser.Utils.Objects.GetValue;var UEt=function(e){e===void 0&&(e={});var t=p4(this.styles,"folder")||{};t.tweaker=this.styles,t.root=this.root;var i=NEt(this,e,t);delete t.tweaker,delete t.root,this.add(i,{expand:!0}),i.setTitle(e);var s=p4(e,"expanded",!0);s!==void 0&&i.setExpandedState(s);var p=i.childrenMap.child;return e.key&&this.root.addChildrenMap(e.key,p),p};const VEt={setBindingTarget(e){for(var t=this.childrenMap.pages.children,i=0,s=t.length;i<s;i++)t[i].setBindingTarget(e);return this}},zEt={getMaxInputRowTitleWidth(){for(var e=0,t=this.childrenMap.pages.children,i=0,s=t.length;i<s;i++)e=Math.max(e,t[i].getMaxInputRowTitleWidth());return e+this.getInnerPadding("left")},setInputRowTitleWidth(e){e-=this.getInnerPadding("left");for(var t=this.childrenMap.pages.children,i=0,s=t.length;i<s;i++)t[i].setInputRowTitleWidth(e);return this}};class yN extends MT{constructor(t,i){super(t,i),this.type="rexTweaker.TabPages"}}Object.assign(yN.prototype,VEt,zEt);const Fy=Phaser.Utils.Objects.GetValue;var WEt=function(e,t,i){var s=e.scene,p=new yN(s,i);s.add.existing(p);for(var E=Fy(i,"tab"),n={root:Fy(i,"root"),styles:Fy(i,"tweaker")},T=Fy(t,"pages")||[],r=0,o=T.length;r<o;r++){var x=T[r];p.addPage({key:x.title,tab:_r(s,E).setActiveState(!1).resetDisplayContent({text:x.title}),page:e.createTweaker(n)})}return p.on("tab.focus",function(d,h){d.setActiveState(!0)}).on("tab.blur",function(d,h){d.setActiveState(!1)}),p};const g4=Phaser.Utils.Objects.GetValue;var YEt=function(e){e===void 0&&(e={});var t=g4(this.styles,"tab")||{};t.tweaker=this.styles,t.root=this.root;var i=WEt(this,e,t);delete t.tweaker,delete t.root,this.add(i,{expand:!0});for(var s=g4(e,"pages")||[],p=[],E=0,n=0,T=s.length;n<T;n++){var r=i.getPage(n),o=s[n].show;o&&(E=n);var x=s[n].key;x&&this.root.addChildrenMap(x,r),p.push(r)}return i.swapPage(E,0),p};const XEt={setBindingTarget(e){for(var t=this.childrenMap.columns,i=0,s=t.length;i<s;i++)t[i].setBindingTarget(e);return this}},HEt={getMaxInputRowTitleWidth(){for(var e=0,t=this.childrenMap.columns,i=0,s=t.length;i<s;i++)e=Math.max(e,t[i].getMaxInputRowTitleWidth());return e+this.getInnerPadding("left")},setInputRowTitleWidth(e){e-=this.getInnerPadding("left");for(var t=this.childrenMap.columns,i=0,s=t.length;i<s;i++)t[i].setInputRowTitleWidth(e);return this}},Ad=Phaser.Utils.Objects.GetValue;class xN extends qe{constructor(t,i){i===void 0&&(i={}),i.orientation="y",super(t,i),this.type="rexTweaker.Columns";var s=Ad(i,"background",void 0),p=Ad(i,"title",void 0);s&&this.addBackground(s),p&&this.add(p,{expand:!0,space:{bottom:Ad(i,"space.title",0)}});var E=new qe(t,{orientation:"x",space:{item:Ad(i,"space.column",0)}});t.add.existing(E);for(var n=Ad(i,"columns",void 0),T,r,o=0,x=n.length;o<x;o++)T=n[o],r=T.child,E.add(T.child,{proportion:r.minWidth===0?1:0,expand:Ad(T,"expand",!0)});this.add(E,{expand:!0}),this.addChildrenMap("title",p),this.addChildrenMap("columnsSizer",E),this.addChildrenMap("columns",E.childrenMap.items)}setTitle(t){var i=this.childrenMap.title;return t.title||t.icon?i.show().setTitle(t):i.hide(),this}getColumns(){return this.childrenMap.columns}getColumn(t){return this.childrenMap.columns[t]}}Object.assign(xN.prototype,XEt,HEt);const Fu=Phaser.Utils.Objects.GetValue;var $Et=function(e,t,i){var s=e.scene,p=Fu(i,"title")||{},E=new cg(s,p);s.add.existing(E);var n={root:Fu(i,"root"),styles:Fu(i,"tweaker")},T=Fu(i,"background");T&&!Array.isArray(T)&&(T=[T]);var r=Fu(t,"columns",2);if(typeof r=="number"){var o=r;r=[];for(var x=0,d=o;x<d;x++)r.push({})}for(var x=0,d=r.length;x<d;x++){var h=r[x];T&&(n.background=T[x%T.length]),n.width=Fu(h,"width",0);var l=e.createTweaker(n);h.child=l}var a=new xN(s,{title:E,columns:r,space:Fu(i,"space")});return s.add.existing(a),a};const m4=Phaser.Utils.Objects.GetValue;var KEt=function(e){e===void 0&&(e={}),typeof e=="number"&&(e={columns:e});var t=m4(this.styles,"columns")||{};t.tweaker=this.styles,t.root=this.root;var i=$Et(this,e,t);delete t.tweaker,delete t.root,this.add(i,{expand:!0}),i.setTitle(e);var s=m4(e,"columns",void 0);if(s&&Array.isArray(s))for(var p=0,E=s.length;p<E;p++){var n=s[p].key;n&&this.root.addChildrenMap(n,i.getColumn(p))}return i.getColumns()};const ZEt={setBindingTarget(e){for(var t=this.childrenMap.child,i=0,s=t.length;i<s;i++)t[i].setBindingTarget(e);return this}},JEt={getMaxInputRowTitleWidth(){return 0},setInputRowTitleWidth(e){return this}},Iy=Phaser.Utils.Objects.GetValue;class TN extends qe{constructor(t,i){i===void 0&&(i={}),i.orientation="y",super(t,i),this.type="rexTweaker.Wrap";var s=Iy(i,"background",void 0),p=Iy(i,"title",void 0);s&&this.addBackground(s),p&&this.add(p,{expand:!0,space:{bottom:Iy(i,"space.title",0)}});var E=Iy(i,"child",void 0);this.add(E,{expand:!0}),this.addChildrenMap("title",p),this.addChildrenMap("child",E)}setTitle(t){var i=this.childrenMap.title;return t.title||t.icon?i.show().setTitle(t):i.hide(),this}}Object.assign(TN.prototype,ZEt,JEt);const yo=Phaser.Utils.Objects.GetValue;var jEt=function(e,t,i){var s=e.scene,p=yo(i,"title")||{},E=new cg(s,p);s.add.existing(E);var n=yo(i,"itemWidth",0),T=yo(i,"itemHeight",0),r={root:yo(i,"root"),styles:yo(i,"tweaker"),space:yo(i,"space"),align:yo(i,"align",5),wrap:!0,itemWidth:yo(t,"itemWidth",n),itemHeight:yo(t,"itemHeight",T)};yo(i,"background");var o=e.createTweaker(r),x=new TN(s,{title:E,child:o});return s.add.existing(x),x};const QEt=Phaser.Utils.Objects.GetValue;var qEt=function(e){e===void 0&&(e={});var t=QEt(this.styles,"wrap")||{};t.tweaker=this.styles,t.root=this.root;var i=jEt(this,e,t);delete t.tweaker,delete t.root,this.add(i,{expand:!0}),i.setTitle(e);var s=i.childrenMap.child;return e.key&&this.root.addChildrenMap(e.key,s),s};const _Et={setBindingTarget(e){var t=this.childrenMap.panel;return t.setBindingTarget(e),this}},tPt={getMaxInputRowTitleWidth(){var e=this.childrenMap.panel,t=e.getMaxInputRowTitleWidth();return t+this.getInnerPadding("left")},setInputRowTitleWidth(e){e-=this.getInnerPadding("left");var t=this.childrenMap.panel;return t.setInputRowTitleWidth(e),this}};class CN extends ug{constructor(t,i){super(t,i),this.type="rexTweaker.Scrollable"}setTitle(t){var i=this.childrenMap.header;return t.title||t.icon?i.show().setTitle(t):i.hide(),this}}Object.assign(CN.prototype,_Et,tPt);const fh=Phaser.Utils.Objects.GetValue;var ePt=function(e,t,i){var s=e.scene,p=fh(i,"title")||{},E=new cg(s,p);s.add.existing(E);var n={root:fh(i,"root"),styles:fh(i,"tweaker"),space:fh(i,"space")||{}},T=e.createTweaker(n),r=fh(i,"slider");if(r){r=tn(r);var o=r.track;o&&(r.track=Cp(s,t,o));var x=r.thumb;x&&(r.thumb=Cp(s,t,x))}var d=fh(i,"background"),h=Cp(s,t,d),l=new CN(s,{scrollMode:0,header:E,panel:{child:T,mask:{padding:1}},slider:r,background:h,height:fh(t,"height",0),space:fh(i,"space",void 0)});return s.add.existing(l),l};const iPt=Phaser.Utils.Objects.GetValue;var rPt=function(e){e===void 0&&(e={});var t=iPt(this.styles,"scrollable")||{};t.tweaker=this.styles,t.root=this.root;var i=ePt(this,e,t);delete t.tweaker,delete t.root,this.add(i,{proportion:i.minWidth===0?1:0,expand:!0}),i.setTitle(e);var s=i.childrenMap.panel;return e.key&&this.root.addChildrenMap(e.key,s),s};const y4=Phaser.Utils.Objects.GetValue,nPt={setupBinding(){var e=this.childrenMap.inputField;return e.on("valuechange",function(t){this.autoUpdateEnable&&this.setTargetValue(t)},this),this},setAutoUpdateEnable(e){return e===void 0&&(e=!0),this.autoUpdateEnable=e,this},setBindingTarget(e,t){this.bindingTarget=e,t!==void 0&&this.setBindingTargetKey(t),this.syncTargetValue();var i=this.childrenMap.inputField;return i.onBindTarget&&i.onBindTarget(e,t),this},setBindingTargetKey(e){return this.bindTargetKey=e,this},setValueCallbacks(e){return this.onGetValue=y4(e,"onGetValue"),this.onSetValue=y4(e,"onSetValue"),this},getTargetValue(){if(this.bindingTarget){if(this.bindTargetKey!=null)return this.bindingTarget[this.bindTargetKey];if(this.onGetValue)return this.onGetValue(this.bindingTarget)}},setTargetValue(e){return this.bindingTarget?this.bindTargetKey!=null?(this.bindingTarget[this.bindTargetKey]=e,this):(this.onSetValue&&this.onSetValue(this.bindingTarget,e),this):this},syncTargetValue(){if(!this.bindingTarget)return this;var e=this.childrenMap.inputField;return e.syncValue&&e.syncValue(this.getTargetValue()),this}},sPt={startMonitorTarget(){return this.isMonitoring?this:(this.isMonitoring=!0,this.scene.events.on("postupdate",this.onMonitorTarget,this),this)},stopMonitorTarget(){return this.isMonitoring?(this.isMonitoring=!1,this.scene.events.off("postupdate",this.onMonitorTarget,this),this):this},onMonitorTarget(){if(this.bindingTarget){var e=this.getTargetValue(),t=this.childrenMap.inputField;t.value!==e&&t.syncValue(e)}}},aPt={getMinTitleWidth(){var e=this.childrenMap.title;if(!e||e.orientation!==0)return 0;var t=e.rexSizer.padding,i=this.getChildWidth(this.childrenMap.title)+(t.left+t.right)*e.scaleX;return i+this.getInnerPadding("left")},setMinTitleWidth(e){var t=this.childrenMap.title;if(!t||t.orientation!==0)return this;var i=t.rexSizer.padding;return e-=(i.left+i.right)*t.scaleX,t.minWidth=e,this}},bb=Phaser.Utils.Objects.GetValue;class wR extends qe{constructor(t,i){super(t,i),this.type="rexTweaker.InputRow",this.bindingTarget=void 0,this.bindTargetKey=void 0,this.autoUpdateEnable=!0;var s=i.inputTitle,p=i.inputField,E=i.background,o=bb(i,"proportion.title",0),n=bb(i,"space.title",0),T;this.orientation===0?T={right:n}:T={bottom:n},this.add(s,{proportion:o,expand:!0,padding:T});var r=p.defaultProportion;r===void 0&&(r=i.defaultExpandWidth?1:0);var o=bb(i,"proportion.inputField",r);this.add(p,{proportion:o,expand:!0}),E&&this.addBackground(E),this.addChildrenMap("title",s),this.addChildrenMap("inputField",p),this.addChildrenMap("background",E),this.setupBinding()}destroy(t){!this.scene||this.ignoreDestroy||(this.stopMonitorTarget(),super.destroy(t))}setTitle(t){var i=this.childrenMap.title;return i.setTitle(t),this}preLayout(){var t=this.childrenMap.title;t&&(t.minWidth=0),super.preLayout()}}Object.assign(wR.prototype,nPt,sPt,aPt);var SN=function(e,t,i){var s=new cg(e,i);return e.add.existing(s),s},oPt=function(e){e===void 0&&(e=qe);class t extends e{get bindingTarget(){var s=this.getParentSizer();return s.bindingTarget}get bindingKey(){var s=this.getParentSizer();return s.bindTargetKey}get value(){return this._value}get root(){var s=this.getParentSizer(),p=s.getParentSizer();return p.root}onBindTarget(s,p){this.onBindTargetCallback&&this.onBindTargetCallback(this,s,p)}validate(s){return this.syncValueFlag||!this.validateCallback?!0:this.validateCallback(s,this._value,this.bindingTarget,this.bindingKey)}getFotmatText(s){return this.textFormatCallback?s=this.textFormatCallback(s):s=s.toString(),s}set value(s){if(this._value!==s&&(this.validate(s)||(s=this._value),this.filterValueCallback&&(s=this.filterValueCallback(this,s)),this.displayValueCallback&&this.displayValueCallback(this,s),this._value!==s)){var p=this._value;if(this._value=s,!this.syncValueFlag){var E=this.bindingTarget,n=this.bindingKey;this.emit("valuechange",s,p,E,n),this.root.emit("valuechange",s,p,E,n)}}}getValue(){return this.value}setValue(s){return this.value=s,this}syncValue(s){return this.syncValueFlag=!0,this.value=s,this.syncValueFlag=!1,this}setup(s,p){return p===void 0&&(p=!1),(p||s.hasOwnProperty("format"))&&this.setTextFormatCallback(s.format),(p||s.hasOwnProperty("onValidate"))&&this.setValidateCallback(s.onValidate),this.setupCallback&&this.setupCallback(this,s,p),this}setSetupCallback(s){return this.setupCallback=s,this}setFilterValueCallback(s){return this.filterValueCallback=s,this}setDisplayValueCallback(s){return this.displayValueCallback=s,this}setOnBindTargetCallback(s){return this.onBindTargetCallback=s,this}setTextFormatCallback(s){return this.textFormatCallback=s,this}setValidateCallback(s){return this.validateCallback=s,this}}return t},lPt=function(e,t,i){for(var s,p=this.inputHandlers,E=0,n=p.length;E<n;E++){var T=p[E];if(T.accept(t)){var r=oPt(T.baseClass);s=new r(e),e.add.existing(s),s.setSetupCallback(T.setup).setFilterValueCallback(T.filterValue).setDisplayValueCallback(T.displayValue).setOnBindTargetCallback(T.onBindTarget),T.build(s,i);break}}return s&&s.setup(t,!0),s};const x4=Phaser.Utils.Objects.GetValue;var hPt=function(e,t,i){var s=lPt.call(this,e,t,i);if(!s)return null;var p=x4(i,"title")||{},E=SN(e,t,p),n=x4(i,"background")||{},T=Vr(e,n),r=new wR(e,{...i,...t,inputTitle:E,inputField:s,background:T});return e.add.existing(r),r.setTitle(t),r.setValueCallbacks(t),r},uPt=function(e,t,i){arguments.length===1?(i=e,e=i.bindingTarget,t=i.bindingKey):(i===void 0&&(i={}),i.bindingTarget=e,i.bindingKey=t),i.title||(i.title=t),i.bindingTarget&&i.bindingKey?i.value=i.bindingTarget[i.bindingKey]:i.value=void 0;var s=this.styles.inputRow||{};this.isWrapMode?s.defaultExpandWidth=!0:s.defaultExpandWidth=this.styles.orientation===1;var p=hPt.call(this,this.scene,i,s);if(!p)return console.error(`[Tweaker] Can't add Input
    title: ${i.title}
    view: ${i.view}
`),this;if(this.isWrapMode)p.setMinWidth(this.itemWidth),p.setMinHeight(this.itemHeight),this.add(p);else{var E;this.orientation===1?E=0:(E=this.itemWidth>0?0:1,p.minWidth===0&&p.setMinWidth(this.itemWidth)),p.minHeight===0&&p.setMinHeight(this.itemHeight),this.add(p,{proportion:E,expand:!0})}if(i.onValueChange){var n=p.childrenMap.inputField;n.on("valuechange",i.onValueChange)}return p.setAutoUpdateEnable(i.autoUpdate),p.setBindingTarget(e,t),i.monitor&&p.startMonitorTarget(),i.key&&this.root.addChildrenMap(i.key,p),this},fPt=function(e,t){var i=new Ku(e,t);return e.add.existing(i),i};const dPt=Phaser.Utils.Objects.GetValue;var cPt=function(e,t){var i=dPt(t,"wrap",!1),s=i?wh:Qr,p=new s(e,t);return e.add.existing(p),p};const By=Phaser.Utils.Objects.GetValue;var vPt=function(e,t,i){for(var s=By(i,"title")||{},p=SN(e,t,s),E=t.buttons,n=By(i,"button")||{},T=[],r=0,o=E.length;r<o;r++){var x=_r(e,n);T.push(x);var d=E[r];x.resetDisplayContent(d.label),x.callback=d.callback}var h=cPt(e,{buttons:T,expand:!0,wrap:By(t,"wrap",!1)});h.defaultProportion=1;var l=By(i,"background")||{},a=fPt(e,l),f=new wR(e,{...i,inputTitle:p,inputField:h,background:a});return e.add.existing(f),f.setTitle(t),h.on("button.click",function(c){c.callback(f.bindingTarget)}),f};const pPt=Phaser.Utils.Objects.GetValue;var gPt=function(e){e===void 0&&(e={});var t=this.scene,i=e.bindingTarget;delete e.bindingTarget;var s=pPt(this.styles,"inputRow")||{},p=vPt(t,e,s);return this.add(p,{expand:!0}),i&&p.setBindingTarget(i),e.key&&this.root.addChildrenMap(e.key,p),this},mPt=function(e){return e===void 0&&(e={}),e.buttons=[{label:e.label,callback:e.callback}],delete e.label,delete e.callback,this.addButtons(e),this},yPt=function(e,t,i){return Vr(e,gN(t,i))};const xPt=Phaser.Utils.Objects.GetValue;var TPt=function(e){e===void 0&&(e={});var t=this.scene,i=xPt(this.styles,"separator"),s=yPt(t,e,i);return this.add(s,{expand:!0}),this},CPt=function(e,t,i){return typeof t=="boolean"&&(i=t,t=void 0),i===void 0&&(i=!0),mp(this,tn(e),t,i),this},mp=function(e,t,i,s){if(t)for(var p=0,E=t.length;p<E;p++){var n=t[p];n.hasOwnProperty("$target")&&(i=n.$target,delete n.$target);var T=n.$type;switch(delete n.$type,T){case"folder":var r=e.addFolder(n);mp(r,n.$properties,i,s);break;case"tab":for(var o=e.addTab(n),x=0,d=o.length;x<d;x++)mp(o[x],n.pages[x].$properties,i,s);break;case"columns":for(var h=e.addColumns(n),x=0,d=h.length;x<d;x++)mp(h[x],n.columns[x].$properties,i,s);break;case"scrollable":var l=e.addScrollable(n);mp(l,n.$properties,i,s);break;case"separator":e.addSeparator();break;case"button":n.bindingTarget=i,e.addButton(n);break;case"buttons":n.bindingTarget=i,e.addButtons(n);break;default:var a=n.$key;if(delete n.$key,a.indexOf(".")===-1)n.bindingTarget=i,n.bindingKey=a;else{var f=a.split(".");n.bindingKey=f.pop();for(var c=i,u=0,v=f.length;u<v;u++)if(c=c[f[u]],!i){console.warn(`[Monitor] Key path '${a}' is invalid`);continue}n.bindingTarget=c}n.hasOwnProperty("monitor")||(n.monitor=s),e.addInput(n);break}}},SPt=function(e){for(var t=this.sizerChildren,i=0,s=t.length;i<s;i++){var p=t[i];p.setBindingTarget&&p.setBindingTarget(e)}return this},EPt=function(){for(var e=0,t=this.sizerChildren,i=0,s=t.length;i<s;i++){var p=t[i];p.rexSizer.hidden||(p.getMinTitleWidth?e=Math.max(e,p.getMinTitleWidth()):p.getMaxInputRowTitleWidth&&(e=Math.max(e,p.getMaxInputRowTitleWidth())))}return e+this.getInnerPadding("left")},PPt=function(e){this.isWrapMode||(e-=this.getInnerPadding("left"));for(var t=this.sizerChildren,i=0,s=t.length;i<s;i++){var p=t[i];p.rexSizer.hidden||(p.setMinTitleWidth?p.setMinTitleWidth(e):p.setInputRowTitleWidth&&p.setInputRowTitleWidth(e))}return this},bPt={registerInputHandler:LEt,removeInputHandler:IEt,addFolder:UEt,addTab:YEt,addColumns:KEt,addWrap:qEt,addScrollable:rPt,addInput:uPt,addButtons:gPt,addButton:mPt,addSeparator:TPt,addRows:CPt,setBindingTarget:SPt,getMaxInputRowTitleWidth:EPt,setInputRowTitleWidth:PPt};const dh=Phaser.Utils.Objects.GetValue;var EN=function(e){var t=dh(e,"wrap",!1),i=t?Dh:qe;class s extends i{constructor(E,n){n===void 0&&(n={}),n.orientation===void 0&&(n.orientation=t?0:1),super(E,n),this.type="rexTweakerShell",this.isWrapMode=t,n.root?(this.root=n.root,this.inputHandlers=this.root.inputHandlers):(this.root=this,this.inputHandlers=[]),this.styles=dh(n,"styles")||{},this.styles.orientation=this.orientation;var T=dh(n,"itemWidth");T===void 0&&(T=dh(this.styles,"itemWidth",0)),this.itemWidth=T;var r=dh(n,"itemHeight");if(r===void 0&&(r=dh(this.styles,"itemHeight",0)),this.itemHeight=r,t||this.root===this&&this.orientation===1){var o=dh(n,"inputRow.alignTitle");if(o===void 0){var x=dh(this.styles,"inputRow.proportion.title");o=!x}else o&&Lt(this.styles,"inputRow.proportion.title",0);this.alignInputRowTitleStartFlag=o}else this.alignInputRowTitleStartFlag=!1;var d=Cp(E,void 0,n.background);d&&this.addBackground(d)}preLayout(){super.preLayout(),this.alignInputRowTitleStartFlag&&this.setInputRowTitleWidth(this.getMaxInputRowTitleWidth())}createTweaker(E,n){n===void 0&&(n=!0);var T=EN(E),r=new T(this.scene,E);return n&&this.scene.add.existing(r),r}}return Object.assign(s.prototype,bPt),s},MPt=function(e,t){t===void 0&&(t=!0);var i=e.childrenMap.inputText;i.setReadOnly(t)};const wPt={name:"TextInput",accept(e){return e.hasOwnProperty("view")?e.view==="string":typeof e.value=="string"},build(e,t){var i=e.scene;e.type="rexTweaker.TextInput";var s=t.inputText,p=Rh(i,s);e.add(p,{proportion:1,expand:!0,key:"inputText"}),p.on("close",function(){e.setValue(p.value)})},setup(e,t,i){(i||t.hasOwnProperty("inputTextReadOnly"))&&MPt(e,!!t.inputTextReadOnly)},displayValue(e,t){var i=e.childrenMap.inputText;i.setText(e.getFotmatText(t))}};var RPt=function(e,t,i){i===void 0&&(i=!0),i?t=t?tn(t):{}:t||(t={});var s=new wT(e,t);return e.add.existing(s),s},APt=function(e,t){t===void 0&&(t=!0);var i=e.childrenMap.inputText;i.setReadOnly(t)};const OPt={name:"TextAreaInput",accept(e){return e.hasOwnProperty("view")?e.view==="textarea":!1},build(e,t){var i=e.scene;this.type="rexTweaker.TextAreaInput";var s=t.inputTextArea;s===void 0&&(s={}),s.hasOwnProperty("text")||(s.text=t.inputText),s.hasOwnProperty("slider")||(s.slider=t.slider);var p=RPt(i,s);e.add(p,{proportion:1,expand:!0,key:"inputText"}),p.on("close",function(){e.setValue(p.value)})},setup(e,t,i){(i||t.hasOwnProperty("inputTextReadOnly"))&&APt(e,!!t.inputTextReadOnly)},displayValue(e,t){var i=e.childrenMap.inputText;i.setText(e.getFotmatText(t))},onBindTarget(e){var t=e.childrenMap.inputText;t.scrollToTop()}};var LPt=function(e,t){t===void 0&&(t=!0);var i=e.childrenMap.inputText;i.setReadOnly(t)};const DPt={name:"NumberInput",accept(e){return e.hasOwnProperty("view")?e.view==="number":typeof e.value=="number"},build(e,t){var i=e.scene;e.type="rexTweaker.NumberInput";var s=t.inputNumber||t.inputText,p=Rh(i,s).setNumberInput();e.add(p,{proportion:1,expand:!0,key:"inputText"}),p.on("close",function(){e.setValue(p.value)})},setup(e,t,i){(i||t.hasOwnProperty("inputTextReadOnly"))&&LPt(e,!!t.inputTextReadOnly),e.isFloatType=!t.int},filterValue(e,t){return e.isFloatType?t:Math.floor(t)},displayValue(e,t){var i=e.childrenMap.inputText;i.setText(e.getFotmatText(t))}};var FPt=function(e,t){var i=new ac(e,t);return e.add.existing(i),i};const Mb=Phaser.Utils.Objects.GetValue,IPt=Phaser.Math.Linear,BPt=Phaser.Math.Snap.Floor;var GPt=function(e,t,i,s){e.minValue=t,e.maxValue=i,e.step=s;var p=e.childrenMap.slider;p.setGap(s,t,i)},kPt=function(e,t){t===void 0&&(t=!0);var i=e.childrenMap.inputText;i.setReadOnly(t)};const NPt={name:"RangeInput",accept(e){return e.hasOwnProperty("view")?e.view==="range":typeof e.value=="number"&&e.hasOwnProperty("min")&&e.hasOwnProperty("max")},build(e,t){var i=e.scene;e.type="rexTweaker.RangeInput";var s=t.slider,p=e.orientation===0?"track.height":"track.width",E=Mb(s,p),n=FPt(i,s),x=t.defaultExpandWidth?2:0,d=Mb(t,"proportion.range.slider",x),T=E===void 0;e.add(n,{proportion:d,expand:T,key:"slider"});var r=t.inputNumber||t.inputText,o=Rh(i,r).setNumberInput(),x=t.defaultExpandWidth?1:0,d=Mb(t,"proportion.range.inputText",x);e.add(o,{proportion:d,expand:!0,key:"inputText"}),o.on("close",function(){e.setValue(o.value)}),n.on("valuechange",function(){var h=IPt(e.minValue,e.maxValue,n.value);e.step&&(h=BPt(h,e.step,e.minValue)),e.setValue(h)})},setup(e,t,i){(i||t.hasOwnProperty("max"))&&GPt(e,t.min,t.max,t.step),(i||t.hasOwnProperty("inputTextReadOnly"))&&kPt(e,!!t.inputTextReadOnly)},displayValue(e,t){var i=e.childrenMap.slider;i.setValue(t,e.minValue,e.maxValue);var s=e.childrenMap.inputText;s.setText("").setText(e.getFotmatText(t))}};var PN=function(e,t){var i=new Qr(e,t);return e.add.existing(i),i};const UPt=Phaser.Utils.Objects.GetValue;var VPt=function(e,t){t===void 0&&(t=!0);var i=e.childrenMap.inputText;i.setReadOnly(t)};const zPt={name:"RangeInput",accept(e){return e.hasOwnProperty("view")?e.view==="incdec":!1},build(e,t){var i=e.scene;e.type="rexTweaker.IncDecInput";var s=UPt(t,"incDec")||{},p={text:null,action:null},E=PN(i,{expand:!1}),n=t.defaultExpandWidth?1:0;e.add(E,{proportion:n,expand:!0});var T=t.inputNumber||t.inputText,r=Rh(i,T).setNumberInput();r.on("close",function(){e.setValue(r.value)});var o=Object.assign(tn(p),s.incButton||{}),x=_r(i,o),d=Object.assign(tn(p),s.decButton||{}),h=_r(i,d);E.addButton(x),E.addButton(h);var l=s.inputTextIndex||0;E.insert(l,r,{proportion:1,expand:!0}),e.step=1,e.minValue=void 0,e.maxValue=void 0,E.on("button.click",function(a,f,c,u){var v=e.value;f===0?v+=e.step:v-=e.step,e.maxValue!==void 0&&v>e.maxValue&&(v=e.maxValue),e.minValue!==void 0&&v<e.minValue&&(v=e.minValue),e.setValue(v)}),e.addChildrenMap("incButton",x),e.addChildrenMap("decButton",h),e.addChildrenMap("inputText",r)},setup(e,t,i){(i||t.hasOwnProperty("inputTextReadOnly"))&&VPt(e,!!t.inputTextReadOnly),(i||t.hasOwnProperty("step"))&&(e.step=t.hasOwnProperty("step")?t.step:1),(i||t.hasOwnProperty("min"))&&(e.minValue=t.min),(i||t.hasOwnProperty("max"))&&(e.maxValue=t.max)},displayValue(e,t){var i=e.childrenMap.inputText;i.setText("").setText(e.getFotmatText(t))}};var WPt=function(e,t,i){i===void 0&&(i=!0),i?t=t?tn(t):{}:t||(t={});var s=new RT(e,t);return e.add.existing(s),s};const YPt={name:"ColorInput",accept(e){return e.hasOwnProperty("view")?e.view==="color":!1},build(e,t){var i=e.scene;e.type="rexTweaker.ColorInput";var s=t.colorInput;s===void 0&&(s={}),s.hasOwnProperty("inputText")||(s.inputText=t.inputText);var p=WPt(i,s);e.add(p,{proportion:1,expand:!0,key:"colorInput"}),p.on("valuechange",function(E){e.setValue(E)})},displayValue(e,t){var i=e.childrenMap.colorInput;i.setValue(t)}};var XPt=function(e,t){var i=new ow(e,t);return e.add.existing(i),i};const HPt={name:"CheckboxInput",accept(e){return e.hasOwnProperty("view")?e.view==="boolean":typeof e.value=="boolean"},build(e,t){var i=e.scene;e.type="rexTweaker.CheckboxInput";var s=t.checkbox,p=XPt(i,s),E=s.size;E!==void 0&&p.setSize(E,E);var n=E!==void 0?0:1;e.add(p,{proportion:0,expand:!1,fitRatio:n,key:"checkbox"}),p.on("valuechange",function(T){e.setValue(T)})},displayValue(e,t){var i=e.childrenMap.checkbox;i.setValue(t)}};var $Pt=function(e,t){var i=new lw(e,t);return e.add.existing(i),i};const KPt={name:"ToggleSwitchInput",accept(e){return e.hasOwnProperty("view")?e.view==="toggleSwitch":!1},build(e,t){var i=e.scene;e.type="rexTweaker.ToggleSwitchInput";var s=t.toggleSwitch,p=$Pt(i,s),E=s.size;E!==void 0&&p.setSize(E,E);var n=E!==void 0?0:1;e.addSpace().add(p,{proportion:0,expand:!1,fitRatio:n,key:"toggleSwitch"}),p.on("valuechange",function(T){e.setValue(T)})},displayValue(e,t){var i=e.childrenMap.toggleSwitch;i.setValue(t)}};var ZPt=function(e,t){t=G8(e,t);var i=new fg(e,t);return e.add.existing(i),i},bN=function(e,t){for(var i=0,s=e.length;i<s;i++){var p=e[i];if(p.value===t)return i}},JPt=function(e,t){var i=bN(e,t);if(i!=null)return e[i]},jPt=function(e,t){var i=e.childrenMap.list;i.setOptions(t)};const QPt={name:"ListInput",accept(e){return e.hasOwnProperty("view")?e.view==="list":e.hasOwnProperty("options")},build(e,t){var i=e.scene;e.type="rexTweaker.ListInput";var s=ZPt(i,t.list);e.add(s,{proportion:1,expand:!0,key:"list"}),s.on("button.click",function(p,E,n,T,r,o){e.setValue(n.value)})},setup(e,t,i){(i||t.hasOwnProperty("options"))&&jPt(e,t.options)},displayValue(e,t){var i=e.childrenMap.list,s=JPt(i.options,t);i.resetDisplayContent(s).setMinSize(i.width,i.height).layout().setMinSize(0,0)}};var qPt=function(e,t){for(var i=0,s=e.length;i<s;i++){var p=e[i];p&&p.setActiveState(i===t)}};const _Pt=Phaser.Utils.Objects.GetValue;var tbt=function(e,t){var i=e.childrenMap.list;i.options=t;var s=e.scene,p=i.buttonConfig;i.clearButtons(!0);for(var E=0,n=t.length;E<n;E++){var T=t[E],r=_r(s,p).setActiveState(!1).resetDisplayContent({text:T.text});i.addButton(r)}};const ebt={name:"ButtonsInput",accept(e){return e.hasOwnProperty("view")?e.view==="buttons":!1},build(e,t){var i=e.scene;e.type="rexTweaker.ButtonsInput";var s=t.button?tn(t.button):{},p=_Pt(s,"expand",!0);p&&(s.align="center"),delete s.expand;var E=PN(i,{expand:p});E.buttonConfig=s,e.add(E,{proportion:1,expand:!0,key:"list"}),E.on("button.click",function(n,T,r,o){var x=E.options[T];x&&(e._selectedIndex=T,e.setValue(x.value),e._selectedIndex=void 0)})},setup(e,t,i){(i||t.hasOwnProperty("options"))&&tbt(e,t.options)},displayValue(e,t){var i=e.childrenMap.list,s=e._selectedIndex;s===void 0&&(s=bN(i.options,t)),qPt(i.childrenMap.buttons,s)}};var ibt=function(){this.registerInputHandler(wPt).registerInputHandler(OPt).registerInputHandler(DPt).registerInputHandler(NPt).registerInputHandler(zPt).registerInputHandler(YPt).registerInputHandler(HPt).registerInputHandler(KPt).registerInputHandler(QPt).registerInputHandler(ebt)};class MN extends EN(){constructor(t,i){i===void 0&&(i={}),i.hasOwnProperty("style")&&(i.styles=i.style),i.styles===void 0&&(i.styles={}),i.background=i.styles.background||{},i.space=i.styles.space||{},super(t,i),this.type="rexTweaker",ibt.call(this)}destroy(t){!this.scene||this.ignoreDestroy||(super.destroy(t),this.inputHandlers=void 0)}}It.register("tweaker",function(e){var t=new MN(this.scene,e);return this.scene.add.existing(t),t});Lt(window,"RexPlugins.UI.Tweaker",MN);It.register("click",function(e,t){return new Tl(e,t)});Lt(window,"RexPlugins.UI.Click",Tl);It.register("clickOutside",function(e,t){return new Uw(e,t)});Lt(window,"RexPlugins.UI.ClickOutside",Uw);It.register("inTouching",function(e,t){return new Zd(e,t)});Lt(window,"RexPlugins.UI.InTouching",Zd);It.register("tap",function(e,t){return is(e)||(t=e,e=this.scene),new qx(e,t)});Lt(window,"RexPlugins.UI.Tap",qx);It.register("press",function(e,t){return is(e)||(t=e,e=this.scene),new _x(e,t)});Lt(window,"RexPlugins.UI.Press",_x);It.register("swipe",function(e,t){return is(e)||(t=e,e=this.scene),new _p(e,t)});Lt(window,"RexPlugins.UI.Swipe",_p);It.register("pan",function(e,t){return is(e)||(t=e,e=this.scene),new Ek(e,t)});Lt(window,"RexPlugins.UI.Pan",Ek);It.register("drag",function(e,t){return new bR(e,t)});Lt(window,"RexPlugins.UI.Drag",bR);It.register("pinch",function(e){return new Pk(this.scene,e)});Lt(window,"RexPlugins.UI.Pinch",Pk);It.register("rotate",function(e){return new zw(this.scene,e)});Lt(window,"RexPlugins.UI.Rotate",zw);const rbt=Phaser.Utils.Objects.IsPlainObject,T4=Phaser.Utils.Objects.GetValue;var C4=function(e,t,i){var s;if(e===void 0)e=i.texture.key,t=i.frame.name;else if(rbt(e)){var p=e;e=T4(p,"key",i.texture.key),t=T4(p,"frame",i.frame.name)}else typeof e=="string"||(s=e);return s===void 0&&(s=function(E){E.setTexture(e,t)}),s};const gp=Phaser.Utils.Objects.GetValue,nbt=Phaser.Utils.Objects.GetAdvancedValue,sbt=Phaser.Math.Linear;class wN extends Ju{constructor(t,i){super(t,i),this.resetFromJSON(i),this.boot()}resetFromJSON(t){return super.resetFromJSON(t),this.setDuration(nbt(t,"duration",500)),this.setEase(gp(t,"ease","Sine")),this.setOrientation(gp(t,"orientation",0)),this.setFrontFace(gp(t,"front",void 0)),this.setBackFace(gp(t,"back",void 0)),this.setFace(gp(t,"face",0)),this}setOrientation(t){return typeof t=="string"&&(t=abt[t]),this.orientation=t,this}get face(){return this._face}set face(t){typeof t=="string"&&(t=obt[t]),this._face=t,t===0&&this.frontFaceCallback?this.frontFaceCallback(this.parent):t===1&&this.backFaceCallback&&this.backFaceCallback(this.parent)}setFace(t){return this.face=t,this}toggleFace(){var t=this.face===0?1:0;return this.setFace(t),this}setFrontFace(t,i){return this.frontFaceCallback=C4(t,i,this.parent),this}setBackFace(t,i){return this.backFaceCallback=C4(t,i,this.parent),this}start(){if(this.timer.isRunning)return this;var t=this.parent;return this.orientation===0?this.scale0=t.scaleX:this.scale0=t.scaleY,this.timer.setDelay(this.delay).setDuration(this.duration/2).setRepeat(1),super.start(),this}flip(t){return this.isRunning?this:(t!==void 0&&this.setDuration(t),this.start(),this)}updateTarget(t,i){i.justRestart&&this.toggleFace();var s=i.t;i.isOddIteration&&(s=1-s),s=this.easeFn(s);var p=sbt(this.scale0,0,s);this.orientation===0?t.scaleX=p:t.scaleY=p}}const abt={x:0,horizontal:0,y:1,vertical:1},obt={front:0,back:1};It.register("flip",function(e,t){return new wN(e,t)});Lt(window,"RexPlugins.UI.Flip",wN);It.register("shake",function(e,t){return new Fw(e,t)});Lt(window,"RexPlugins.UI.Shake",Fw);It.register("touchEventStop",function(e,t){return new Zx(e,t)});Lt(window,"RexPlugins.UI.TouchEventStop",Zx);It.register("perspective",function(e,t){return new tN(e,t)});Lt(window,"RexPlugins.UI.Perspective",tN);const RN=Phaser.Math.RotateAround;var wb=function(e,t,i){var s=e.width/2,p=e.height/2;return Mn.x=t-s,Mn.y=i-p,RN(Mn,0,0,e.rotation),Mn.x*=e.scaleX,Mn.y*=e.scaleY,Mn.x+=e.x,Mn.y+=e.y,Mn},lbt=function(e,t,i){var s=e.width/2,p=e.height/2;return Mn.x=t-e.x,Mn.y=i-e.y,Mn.x/=e.scaleX,Mn.y/=e.scaleY,RN(Mn,0,0,-e.rotation),Mn.x+=s,Mn.y+=p,Mn},Mn={x:0,y:0};class hbt{constructor(t,i){this.parent=t,this.vertex=i,this._localX=void 0,this._localY=void 0}destroy(){this.parent=void 0,this.vertex=void 0}updateVertexPosition(t,i){var s=this.parent,p=s.height,E=s.frame.cutWidth/p/2,n=s.frame.cutHeight/p/2,T=t/p-E,r=i/p-n,o=this.vertex;return o.x=T,o.y=-r,s.forceUpdate(),this}get localX(){return this._localX}set localX(t){this.setLocalXY(t,this._localY)}get localY(){return this._localY}set localY(t){this.setLocalXY(this._localX,t)}get localXOrigin(){return this._localXOrigin}get localYOrigin(){return this._localYOrigin}resetLocalXY(t,i){return this._localXOrigin=t,this._localYOrigin=i,this._localX=t,this._localY=i,this}setLocalXY(t,i,s){return this._localX===t&&this._localY===i?this:(this._localX=t,this._localY=i,s||this.updateVertexPosition(t,i),this)}setWorldXY(t,i){if(this._worldX===t&&this._worldY===i)return this;var s=lbt(this.parent,t,i);return this.setLocalXY(s.x,s.y),this}setPosition(t,i){return this.setWorldXY(t,i),this}getWorldXY(){return wb(this.parent,this._localX,this._localY)}get x(){var t=wb(this.parent,this._localX,this._localY);return t.x}set x(t){this.setWorldXY(t,this.y)}get y(){var t=wb(this.parent,this._localX,this._localY);return t.y}set y(t){this.setWorldXY(this.x,t)}}const ubt=Phaser.Geom.Mesh.Vertex,fbt=Phaser.Geom.Mesh.Face;var dbt=function(e){for(var t=e.isNinePointMode,i=t?9:4,s=e.vertices,p=e.faces,E=e.controlPoints,n=0;n<i;n++){var T=new ubt;s.push(T),E.push(new hbt(e,T))}var r;t?r=pbt:e.fourPointsModeRTL?r=vbt:r=cbt;for(var n=0,o=r.length;n<o;n+=3){var x=s[r[n+0]],d=s[r[n+1]],h=s[r[n+2]];p.push(new fbt(x,d,h))}t?(e.topLeft=E[0],e.topCenter=E[1],e.topRight=E[2],e.centerLeft=E[3],e.center=E[4],e.centerRight=E[5],e.bottomLeft=E[6],e.bottomCenter=E[7],e.bottomRight=E[8]):(e.topLeft=E[0],e.topRight=E[1],e.bottomLeft=E[2],e.bottomRight=E[3])};const cbt=[0,2,3,0,3,1],vbt=[1,3,2,1,2,0],pbt=[0,3,4,0,4,1,1,4,2,4,5,2,3,6,4,6,7,4,4,7,8,4,8,5];var gbt=function(e){var t,i=0,s=e.height,p=0,E=e.width;if(e.isNinePointMode){var n=(p+E)/2,T=(i+s)/2;t=[p,i,n,i,E,i,p,T,n,T,E,T,p,s,n,s,E,s]}else t=[p,i,E,i,p,s,E,s];return t};const mbt=Phaser.Utils.Objects.IsPlainObject,Od=Phaser.Utils.Objects.GetValue;let ybt=class extends $8{constructor(t,i,s,p,E,n){mbt(i)&&(n=i,i=Od(n,"x",0),s=Od(n,"y",0),p=Od(n,"key",null),E=Od(n,"frame",null)),super(t,i,s,p,E),this.type="rexQuadImage",this.isNinePointMode=Od(n,"ninePointMode",!1),this.fourPointsModeRTL=Od(n,"rtl",!1),this.controlPoints=[],dbt(this),this.hideCCW=!1,this.syncSize()}destroy(t){if(!(!this.scene||this.ignoreDestroy)){super.destroy(t);for(var i=0,s=this.controlPoints.length;i<s;i++)this.controlPoints[i].destroy();this.controlPoints=void 0}}resetVerts(){this.dirtyCache[9]=-1;for(var t=gbt(this),i=this.width,s=this.height,p=this.frame.cutWidth/s/2,E=this.frame.cutHeight/s/2,n=this.frame.u0,T=this.frame.u1,r=this.frame.v0,o=this.frame.v1,x=T-n,d=o-r,h=this.controlPoints,l=0,a=t.length;l<a;l+=2){var f=t[l+0],c=t[l+1],u=l/2,v=f/s-p,g=c/s-E,m=n+x*(f/i),y=r+d*(c/s);this.vertices[u].set(v,-g,0).setUVs(m,y),h[u].resetLocalXY(f,c)}return this}syncSize(){return this.setSizeToFrame(),this.setOrtho(this.width/this.height,1),this.resetVerts(),this}};Phaser.Utils.Objects.IsPlainObject;Phaser.Utils.Objects.GetValue;var S4=function(e,t,i){t===void 0&&(t=0),i===void 0&&(i=0);for(var s=e.width,p=e.height,E=s*.5,n=p*.5,T=Math.tan(t)*n,r=Math.tan(i)*E,o=e.controlPoints,x=0,d=o.length;x<d;x++){var h=o[x],l=h.localXOrigin,a=h.localYOrigin;h.localX=l+(a>n?T:-T),h.localY=a+(l>E?r:-r)}};const xbt=Phaser.Utils.Objects.IsPlainObject,Gy=Phaser.Utils.Objects.GetValue,E4=Phaser.Math.DegToRad,P4=Phaser.Math.RadToDeg;class Tbt extends ybt{constructor(t,i,s,p,E){if(xbt(i)){var n=i;i=Gy(n,"x",0),s=Gy(n,"y",0),p=Gy(n,"key",null),E=Gy(n,"frame",null)}super(t,i,s,p,E),this.type="rexSkewmage",this._skewX=0,this._skewY=0}get skewX(){return this._skewX}set skewX(t){this._skewX=t,S4(this,this._skewX,this._skewY)}get skewXDeg(){return P4(this._skewX)}set skewXDeg(t){this.skewX=E4(t)}get skewY(){return this._skewY}set skewY(t){this._skewY=t,S4(this,this._skewX,this._skewY)}get skewYDeg(){return P4(this._skewY)}set skewYDeg(t){this.skewY=E4(t)}setSkewX(t){return this.skewX=t,this}setSkewY(t){return this.skewY=t,this}setSkew(t,i){return i===void 0&&(i=t),this.skewX=t,this.skewY=i,this}setSkewXDeg(t){return this.skewXDeg=t,this}setSkewYDeg(t){return this.skewYDeg=t,this}setSkewDeg(t,i){return i===void 0&&(i=t),this.skewXDeg=t,this.skewYDeg=i,this}}const Cbt=Phaser.Utils.Objects.IsPlainObject,ky=Phaser.Utils.Objects.GetValue;class Sbt extends Tbt{constructor(t,i,s,p,E){if(Cbt(i)){var n=i;i=ky(n,"x",0),s=ky(n,"y",0),p=ky(n,"width",32),E=ky(n,"height",32)}var T=j8(t,p,E);super(t,i,s,T,null),this.type="rexSkewRenderTexture",this.rt=this.texture}destroy(t){!this.scene||this.ignoreDestroy||(super.destroy(t),this.rt.destroy(),this.rt=null)}}class AN extends _8(Sbt){get skewState(){return this.isRunning}}It.register("skew",function(e,t){return new AN(e,t)});Lt(window,"RexPlugins.UI.Skew",AN);It.register("anchor",function(e,t){return new Lw(e,t)});Lt(window,"RexPlugins.UI.Anchor",Lw);It.register("textTyping",function(e,t){return new PT(e,t)});Lt(window,"RexPlugins.UI.TextTyping",PT);It.register("textPage",function(e,t){return new ET(e,t)});Lt(window,"RexPlugins.UI.TextPage",ET);var Bd=void 0,Ebt=function(e){e!==Bd&&(Bd!==void 0&&Bd.close(),Bd=e)},Pbt=function(e){e===Bd&&(Bd=void 0)};const xo=Phaser.Utils.Objects.GetValue,bbt=Phaser.Utils.Objects.Clone;var Mbt=function(e,t){t===void 0&&(t={}),t=bbt(t);var i=e.scene,s=e.style,p=xo(t,"backgroundColor",s.backgroundColor);p===null&&(p="transparent"),t.text=xo(t,"text",e.text),t.fontFamily=xo(t,"fontFamily",s.fontFamily),t.fontSize=xo(t,"fontSize",s.fontSize),t.color=xo(t,"color",s.color),t.backgroundColor=p,t.direction=xo(t,"rtl",s.rtl)?"rtl":"ltr",t.align=xo(t,"align",wbt(s)),t.direction==="rtl"&&qw(e)&&(t.align="right");var E=e.padding;E.left>0&&(t.paddingLeft=`${E.left}px`),E.right>0&&(t.paddingRight=`${E.right}px`),s.backgroundCornerRadius&&(t.borderRadius=xo(t,"borderRadius",`${s.backgroundCornerRadius}px`));var n=new aT(i,e.x,e.y,xo(t,"width",e.width),xo(t,"height",e.height),t);n.setScale(e.scaleX,e.scaleY).setOrigin(e.originX,e.originY).setScrollFactor(e.scrollFactorX,e.scrollFactorY);var T=e.parentContainer;return T?T.add(n):i.add.existing(n),n},wbt=function(e){return e.hasOwnProperty("align")?e.align:e.hasOwnProperty("halign")?e.halign:"left"},Rbt=function(e,t,i){return e.time.delayedCall(0,t,[],i)};const Iu=Phaser.Utils.Objects.GetValue,Abt=Phaser.Utils.Objects.Merge;var Obt=function(e,t){e===void 0&&(e={}),e=Abt(e,this.openConfig),Ebt(this),Ua(e)&&(t=e,e=void 0);var i=Iu(e,"inputType",void 0);i===void 0&&(i=Iu(e,"type","text")),t===void 0&&(t=Iu(e,"onClose",void 0));var s=Iu(e,"onCreate",void 0),p=Iu(e,"onOpen",void 0),E=Iu(e,"onTextChanged",void 0);return this.inputText=Mbt(this.parent,e),s&&s(this.parent,this.inputText),this.inputText.on("textchange",function(n){var T=n.text;E?E(this.parent,T):this.parent.text=T},this).setFocus(),this.parent.setVisible(!1),this.onClose=t,Iu(e,"enterClose",i!=="textarea")&&this.scene.input.keyboard.once("keydown-ENTER",this.close,this),this.delayCall=Rbt(this.scene,function(){this.scene.input.once("pointerdown",this.close,this),p&&p(this.parent,this.inputText),this.emit("open",this.parent,this.inputText)},this),this},Lbt=function(){return Pbt(this),this.parent.setVisible(!0),this.inputText&&(this.inputText.destroy(),this.inputText=void 0),this.delayCall&&(this.delayCall.remove(),this.delayCall=void 0),this.scene.input.keyboard.off("keydown-ENTER",this.close,this),this.scene.input.off("pointerdown",this.close,this),this.onClose&&this.onClose(this.parent),this.emit("close",this.parent),this},Dbt={open:Obt,close:Lbt};const Fbt=Phaser.Utils.Objects.GetValue;class AT extends ji{constructor(t,i){super(t),this.inputText=void 0,this.onClose=void 0,this.delayCall=void 0,this.setOpenConfig(i);var s=Fbt(i,"clickEnable",!0);s&&t.on("pointerdown",function(){this.open()},this).setInteractive()}shutdown(t){this.isShutdown||(this.close(),super.shutdown(t))}setOpenConfig(t){return t===void 0&&(t={}),this.openConfig=t,this}get isOpened(){return this.inputText!==void 0}get text(){return this.isOpened?this.inputText.text:this.parent.text}}Object.assign(AT.prototype,Dbt);var Ibt=function(e,t,i){return e._edit||(e._edit=new AT(e,{clickEnable:!1})),e._edit.open(t,i),e._edit};It.register("textEdit",function(e,t){return new AT(e,t)});Lt(window,"RexPlugins.UI.TextEdit",AT);It.register("layerManager",function(e){return new Bx(this.scene,e)});Lt(window,"RexPlugins.UI.LayerManager",Bx);class ON extends Phaser.Plugins.ScenePlugin{constructor(t,i){super(t,i),this.add=new It(t)}boot(){var t=this.scene.events;t.on("destroy",this.destroy,this)}destroy(){this.add.destroy(),super.destroy()}isInTouching(t,i,s,p){return t.visible?Po(t,i,s,p):!1}get viewport(){return ec(this.scene,this.scene.cameras.main,!0)}}var Bbt={getParentSizer:Ls,getTopmostSizer:ik,removeFromParent:Bu,hide:xh,show:yh,isShown:Iw,confirmAction:S8,edit:Ibt,wrapExpandText:fx,fontSizeExpandText:cx,fontSizeResize:dx,setFontSizeToFitWidth:dx,waitEvent:Nx,waitComplete:vn,delayPromise:Uk,setChildrenInteractive:tT,fadeIn:Xx,fadeOutDestroy:Hx,easeMoveTo:vk,easeMoveFrom:pk,modal:kw,modalPromise:qft,modalClose:Ck,requestDrag:cN,openFileChooser:zk};Object.assign(ON.prototype,Bbt);const Gbt={type:Phaser.AUTO,width:ur.DISPLAY_WIDTH,height:ur.DISPLAY_HEIGHT,parent:"game-container",backgroundColor:ur.BACKGROUND_COLOR,scale:{mode:Phaser.Scale.FIT,autoCenter:Phaser.Scale.CENTER_BOTH},plugins:{scene:[{key:"rexUI",plugin:ON,mapping:"rexUI"}]},scene:[lM,bx,EM,j5,NM]},kbt=e=>new Jd.Game({...Gbt,parent:e}),b4="game-container";function M4(){const e=Gd.useRef(null),t=Gd.useRef(null);return Gd.useLayoutEffect(()=>(t.current===null&&(t.current=kbt(b4)),()=>{t.current&&(t.current.destroy(!0),t.current=null)}),[]),kd.jsxDEV("div",{ref:e,id:b4},void 0,!1,{fileName:"/home/acheprasov/Projects/work/OracleHut/app/src/game/PhaserGame.tsx",lineNumber:25,columnNumber:5},this)}function Nbt(){return kd.jsxDEV("div",{id:"app",children:[location.pathname.includes("/build-dev-tg")&&kd.jsxDEV(M4,{},void 0,!1,{fileName:"/home/acheprasov/Projects/work/OracleHut/app/src/App.tsx",lineNumber:9,columnNumber:9},this),location.pathname.includes("/main")&&kd.jsxDEV(M4,{},void 0,!1,{fileName:"/home/acheprasov/Projects/work/OracleHut/app/src/App.tsx",lineNumber:12,columnNumber:9},this),!ur.IS_DEV]},void 0,!0,{fileName:"/home/acheprasov/Projects/work/OracleHut/app/src/App.tsx",lineNumber:7,columnNumber:5},this)}Ab.createRoot(document.getElementById("root")).render(kd.jsxDEV(t$.StrictMode,{children:kd.jsxDEV(Nbt,{},void 0,!1,{fileName:"/home/acheprasov/Projects/work/OracleHut/app/src/main.tsx",lineNumber:8,columnNumber:5},void 0)},void 0,!1,{fileName:"/home/acheprasov/Projects/work/OracleHut/app/src/main.tsx",lineNumber:7,columnNumber:3},void 0));QH(()=>import("./eruda-dXHdHuFA.js"),[],import.meta.url).then(()=>{console.log("VITE_APP_UUID",ur.APP_UUID)});export{oM as g};
