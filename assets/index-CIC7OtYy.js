var lV=Object.defineProperty;var uV=(e,t,r)=>t in e?lV(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r;var we=(e,t,r)=>uV(e,typeof t!="symbol"?t+"":t,r);(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const y of document.querySelectorAll('link[rel="modulepreload"]'))h(y);new MutationObserver(y=>{for(const P of y)if(P.type==="childList")for(const n of P.addedNodes)n.tagName==="LINK"&&n.rel==="modulepreload"&&h(n)}).observe(document,{childList:!0,subtree:!0});function r(y){const P={};return y.integrity&&(P.integrity=y.integrity),y.referrerPolicy&&(P.referrerPolicy=y.referrerPolicy),y.crossOrigin==="use-credentials"?P.credentials="include":y.crossOrigin==="anonymous"?P.credentials="omit":P.credentials="same-origin",P}function h(y){if(y.ep)return;y.ep=!0;const P=r(y);fetch(y.href,P)}})();const fV="modulepreload",dV=function(e,t){return new URL(e,t).href},cO={},cV=function(t,r,h){let y=Promise.resolve();if(r&&r.length>0){const n=document.getElementsByTagName("link"),T=document.querySelector("meta[property=csp-nonce]"),i=(T==null?void 0:T.nonce)||(T==null?void 0:T.getAttribute("nonce"));y=Promise.allSettled(r.map(a=>{if(a=dV(a,h),a in cO)return;cO[a]=!0;const x=a.endsWith(".css"),d=x?'[rel="stylesheet"]':"";if(!!h)for(let s=n.length-1;s>=0;s--){const f=n[s];if(f.href===a&&(!x||f.rel==="stylesheet"))return}else if(document.querySelector(`link[href="${a}"]${d}`))return;const o=document.createElement("link");if(o.rel=x?"stylesheet":fV,x||(o.as="script"),o.crossOrigin="",o.href=a,i&&o.setAttribute("nonce",i),document.head.appendChild(o),x)return new Promise((s,f)=>{o.addEventListener("load",s),o.addEventListener("error",()=>f(new Error(`Unable to preload CSS for ${a}`)))})}))}function P(n){const T=new Event("vite:preloadError",{cancelable:!0});if(T.payload=n,window.dispatchEvent(T),!T.defaultPrevented)throw n}return y.then(n=>{for(const T of n||[])T.status==="rejected"&&P(T.reason);return t().catch(P)})};var vV=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function cP(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var S3={exports:{}},HE={},T3={exports:{}},N0={exports:{}};N0.exports;(function(e,t){/**
 * @license React
 * react.development.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(){typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"&&typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.registerInternalModuleStart=="function"&&__REACT_DEVTOOLS_GLOBAL_HOOK__.registerInternalModuleStart(new Error);var r="18.3.1",h=Symbol.for("react.element"),y=Symbol.for("react.portal"),P=Symbol.for("react.fragment"),n=Symbol.for("react.strict_mode"),T=Symbol.for("react.profiler"),i=Symbol.for("react.provider"),a=Symbol.for("react.context"),x=Symbol.for("react.forward_ref"),d=Symbol.for("react.suspense"),l=Symbol.for("react.suspense_list"),o=Symbol.for("react.memo"),s=Symbol.for("react.lazy"),f=Symbol.for("react.offscreen"),c=Symbol.iterator,u="@@iterator";function v(it){if(it===null||typeof it!="object")return null;var lt=c&&it[c]||it[u];return typeof lt=="function"?lt:null}var p={current:null},m={transition:null},g={current:null,isBatchingLegacy:!1,didScheduleLegacyUpdate:!1},C={current:null},M={},b=null;function w(it){b=it}M.setExtraStackFrame=function(it){b=it},M.getCurrentStack=null,M.getStackAddendum=function(){var it="";b&&(it+=b);var lt=M.getCurrentStack;return lt&&(it+=lt()||""),it};var R=!1,A=!1,L=!1,D=!1,G=!1,B={ReactCurrentDispatcher:p,ReactCurrentBatchConfig:m,ReactCurrentOwner:C};B.ReactDebugCurrentFrame=M,B.ReactCurrentActQueue=g;function I(it){{for(var lt=arguments.length,Et=new Array(lt>1?lt-1:0),Rt=1;Rt<lt;Rt++)Et[Rt-1]=arguments[Rt];z("warn",it,Et)}}function k(it){{for(var lt=arguments.length,Et=new Array(lt>1?lt-1:0),Rt=1;Rt<lt;Rt++)Et[Rt-1]=arguments[Rt];z("error",it,Et)}}function z(it,lt,Et){{var Rt=B.ReactDebugCurrentFrame,Xt=Rt.getStackAddendum();Xt!==""&&(lt+="%s",Et=Et.concat([Xt]));var Ae=Et.map(function(pe){return String(pe)});Ae.unshift("Warning: "+lt),Function.prototype.apply.call(console[it],console,Ae)}}var X={};function H(it,lt){{var Et=it.constructor,Rt=Et&&(Et.displayName||Et.name)||"ReactClass",Xt=Rt+"."+lt;if(X[Xt])return;k("Can't call %s on a component that is not yet mounted. This is a no-op, but it might indicate a bug in your application. Instead, assign to `this.state` directly or define a `state = {};` class property with the desired state in the %s component.",lt,Rt),X[Xt]=!0}}var Q={isMounted:function(it){return!1},enqueueForceUpdate:function(it,lt,Et){H(it,"forceUpdate")},enqueueReplaceState:function(it,lt,Et,Rt){H(it,"replaceState")},enqueueSetState:function(it,lt,Et,Rt){H(it,"setState")}},J=Object.assign,Y={};Object.freeze(Y);function $(it,lt,Et){this.props=it,this.context=lt,this.refs=Y,this.updater=Et||Q}$.prototype.isReactComponent={},$.prototype.setState=function(it,lt){if(typeof it!="object"&&typeof it!="function"&&it!=null)throw new Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,it,lt,"setState")},$.prototype.forceUpdate=function(it){this.updater.enqueueForceUpdate(this,it,"forceUpdate")};{var V={isMounted:["isMounted","Instead, make sure to clean up subscriptions and pending requests in componentWillUnmount to prevent memory leaks."],replaceState:["replaceState","Refactor your code to use setState instead (see https://github.com/facebook/react/issues/3236)."]},U=function(it,lt){Object.defineProperty($.prototype,it,{get:function(){I("%s(...) is deprecated in plain JavaScript React classes. %s",lt[0],lt[1])}})};for(var K in V)V.hasOwnProperty(K)&&U(K,V[K])}function j(){}j.prototype=$.prototype;function _(it,lt,Et){this.props=it,this.context=lt,this.refs=Y,this.updater=Et||Q}var tt=_.prototype=new j;tt.constructor=_,J(tt,$.prototype),tt.isPureReactComponent=!0;function rt(){var it={current:null};return Object.seal(it),it}var ot=Array.isArray;function ft(it){return ot(it)}function ct(it){{var lt=typeof Symbol=="function"&&Symbol.toStringTag,Et=lt&&it[Symbol.toStringTag]||it.constructor.name||"Object";return Et}}function gt(it){try{return yt(it),!1}catch{return!0}}function yt(it){return""+it}function Mt(it){if(gt(it))return k("The provided key is an unsupported type %s. This value must be coerced to a string before before using it here.",ct(it)),yt(it)}function Ct(it,lt,Et){var Rt=it.displayName;if(Rt)return Rt;var Xt=lt.displayName||lt.name||"";return Xt!==""?Et+"("+Xt+")":Et}function Wt(it){return it.displayName||"Context"}function Yt(it){if(it==null)return null;if(typeof it.tag=="number"&&k("Received an unexpected object in getComponentNameFromType(). This is likely a bug in React. Please file an issue."),typeof it=="function")return it.displayName||it.name||null;if(typeof it=="string")return it;switch(it){case P:return"Fragment";case y:return"Portal";case T:return"Profiler";case n:return"StrictMode";case d:return"Suspense";case l:return"SuspenseList"}if(typeof it=="object")switch(it.$$typeof){case a:var lt=it;return Wt(lt)+".Consumer";case i:var Et=it;return Wt(Et._context)+".Provider";case x:return Ct(it,it.render,"ForwardRef");case o:var Rt=it.displayName||null;return Rt!==null?Rt:Yt(it.type)||"Memo";case s:{var Xt=it,Ae=Xt._payload,pe=Xt._init;try{return Yt(pe(Ae))}catch{return null}}}return null}var Ht=Object.prototype.hasOwnProperty,bt={key:!0,ref:!0,__self:!0,__source:!0},kt,zt,jt;jt={};function fe(it){if(Ht.call(it,"ref")){var lt=Object.getOwnPropertyDescriptor(it,"ref").get;if(lt&&lt.isReactWarning)return!1}return it.ref!==void 0}function xe(it){if(Ht.call(it,"key")){var lt=Object.getOwnPropertyDescriptor(it,"key").get;if(lt&&lt.isReactWarning)return!1}return it.key!==void 0}function le(it,lt){var Et=function(){kt||(kt=!0,k("%s: `key` is not a prop. Trying to access it will result in `undefined` being returned. If you need to access the same value within the child component, you should pass it as a different prop. (https://reactjs.org/link/special-props)",lt))};Et.isReactWarning=!0,Object.defineProperty(it,"key",{get:Et,configurable:!0})}function Ee(it,lt){var Et=function(){zt||(zt=!0,k("%s: `ref` is not a prop. Trying to access it will result in `undefined` being returned. If you need to access the same value within the child component, you should pass it as a different prop. (https://reactjs.org/link/special-props)",lt))};Et.isReactWarning=!0,Object.defineProperty(it,"ref",{get:Et,configurable:!0})}function Qe(it){if(typeof it.ref=="string"&&C.current&&it.__self&&C.current.stateNode!==it.__self){var lt=Yt(C.current.type);jt[lt]||(k('Component "%s" contains the string ref "%s". Support for string refs will be removed in a future major release. This case cannot be automatically converted to an arrow function. We ask you to manually fix this case by using useRef() or createRef() instead. Learn more about using refs safely here: https://reactjs.org/link/strict-mode-string-ref',lt,it.ref),jt[lt]=!0)}}var Bt=function(it,lt,Et,Rt,Xt,Ae,pe){var Fe={$$typeof:h,type:it,key:lt,ref:Et,props:pe,_owner:Ae};return Fe._store={},Object.defineProperty(Fe._store,"validated",{configurable:!1,enumerable:!1,writable:!0,value:!1}),Object.defineProperty(Fe,"_self",{configurable:!1,enumerable:!1,writable:!1,value:Rt}),Object.defineProperty(Fe,"_source",{configurable:!1,enumerable:!1,writable:!1,value:Xt}),Object.freeze&&(Object.freeze(Fe.props),Object.freeze(Fe)),Fe};function Ut(it,lt,Et){var Rt,Xt={},Ae=null,pe=null,Fe=null,ti=null;if(lt!=null){fe(lt)&&(pe=lt.ref,Qe(lt)),xe(lt)&&(Mt(lt.key),Ae=""+lt.key),Fe=lt.__self===void 0?null:lt.__self,ti=lt.__source===void 0?null:lt.__source;for(Rt in lt)Ht.call(lt,Rt)&&!bt.hasOwnProperty(Rt)&&(Xt[Rt]=lt[Rt])}var Ti=arguments.length-2;if(Ti===1)Xt.children=Et;else if(Ti>1){for(var Li=Array(Ti),Fi=0;Fi<Ti;Fi++)Li[Fi]=arguments[Fi+2];Object.freeze&&Object.freeze(Li),Xt.children=Li}if(it&&it.defaultProps){var Vi=it.defaultProps;for(Rt in Vi)Xt[Rt]===void 0&&(Xt[Rt]=Vi[Rt])}if(Ae||pe){var Qi=typeof it=="function"?it.displayName||it.name||"Unknown":it;Ae&&le(Xt,Qi),pe&&Ee(Xt,Qi)}return Bt(it,Ae,pe,Fe,ti,C.current,Xt)}function te(it,lt){var Et=Bt(it.type,lt,it.ref,it._self,it._source,it._owner,it.props);return Et}function ce(it,lt,Et){if(it==null)throw new Error("React.cloneElement(...): The argument must be a React element, but you passed "+it+".");var Rt,Xt=J({},it.props),Ae=it.key,pe=it.ref,Fe=it._self,ti=it._source,Ti=it._owner;if(lt!=null){fe(lt)&&(pe=lt.ref,Ti=C.current),xe(lt)&&(Mt(lt.key),Ae=""+lt.key);var Li;it.type&&it.type.defaultProps&&(Li=it.type.defaultProps);for(Rt in lt)Ht.call(lt,Rt)&&!bt.hasOwnProperty(Rt)&&(lt[Rt]===void 0&&Li!==void 0?Xt[Rt]=Li[Rt]:Xt[Rt]=lt[Rt])}var Fi=arguments.length-2;if(Fi===1)Xt.children=Et;else if(Fi>1){for(var Vi=Array(Fi),Qi=0;Qi<Fi;Qi++)Vi[Qi]=arguments[Qi+2];Xt.children=Vi}return Bt(it.type,Ae,pe,Fe,ti,Ti,Xt)}function Pe(it){return typeof it=="object"&&it!==null&&it.$$typeof===h}var yi=".",fi=":";function Ai(it){var lt=/[=:]/g,Et={"=":"=0",":":"=2"},Rt=it.replace(lt,function(Xt){return Et[Xt]});return"$"+Rt}var qe=!1,Ui=/\/+/g;function wi(it){return it.replace(Ui,"$&/")}function Oi(it,lt){return typeof it=="object"&&it!==null&&it.key!=null?(Mt(it.key),Ai(""+it.key)):lt.toString(36)}function Wn(it,lt,Et,Rt,Xt){var Ae=typeof it;(Ae==="undefined"||Ae==="boolean")&&(it=null);var pe=!1;if(it===null)pe=!0;else switch(Ae){case"string":case"number":pe=!0;break;case"object":switch(it.$$typeof){case h:case y:pe=!0}}if(pe){var Fe=it,ti=Xt(Fe),Ti=Rt===""?yi+Oi(Fe,0):Rt;if(ft(ti)){var Li="";Ti!=null&&(Li=wi(Ti)+"/"),Wn(ti,lt,Li,"",function(ry){return ry})}else ti!=null&&(Pe(ti)&&(ti.key&&(!Fe||Fe.key!==ti.key)&&Mt(ti.key),ti=te(ti,Et+(ti.key&&(!Fe||Fe.key!==ti.key)?wi(""+ti.key)+"/":"")+Ti)),lt.push(ti));return 1}var Fi,Vi,Qi=0,di=Rt===""?yi:Rt+fi;if(ft(it))for(var Qo=0;Qo<it.length;Qo++)Fi=it[Qo],Vi=di+Oi(Fi,Qo),Qi+=Wn(Fi,lt,Et,Vi,Xt);else{var Tu=v(it);if(typeof Tu=="function"){var dd=it;Tu===dd.entries&&(qe||I("Using Maps as children is not supported. Use an array of keyed ReactElements instead."),qe=!0);for(var iy=Tu.call(dd),ro,cd=0;!(ro=iy.next()).done;)Fi=ro.value,Vi=di+Oi(Fi,cd++),Qi+=Wn(Fi,lt,Et,Vi,Xt)}else if(Ae==="object"){var vd=String(it);throw new Error("Objects are not valid as a React child (found: "+(vd==="[object Object]"?"object with keys {"+Object.keys(it).join(", ")+"}":vd)+"). If you meant to render a collection of children, use an array instead.")}}return Qi}function mn(it,lt,Et){if(it==null)return it;var Rt=[],Xt=0;return Wn(it,Rt,"","",function(Ae){return lt.call(Et,Ae,Xt++)}),Rt}function Yn(it){var lt=0;return mn(it,function(){lt++}),lt}function ps(it,lt,Et){mn(it,function(){lt.apply(this,arguments)},Et)}function _h(it){return mn(it,function(lt){return lt})||[]}function ya(it){if(!Pe(it))throw new Error("React.Children.only expected to receive a single React element child.");return it}function zs(it){var lt={$$typeof:a,_currentValue:it,_currentValue2:it,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null};lt.Provider={$$typeof:i,_context:lt};var Et=!1,Rt=!1,Xt=!1;{var Ae={$$typeof:a,_context:lt};Object.defineProperties(Ae,{Provider:{get:function(){return Rt||(Rt=!0,k("Rendering <Context.Consumer.Provider> is not supported and will be removed in a future major release. Did you mean to render <Context.Provider> instead?")),lt.Provider},set:function(pe){lt.Provider=pe}},_currentValue:{get:function(){return lt._currentValue},set:function(pe){lt._currentValue=pe}},_currentValue2:{get:function(){return lt._currentValue2},set:function(pe){lt._currentValue2=pe}},_threadCount:{get:function(){return lt._threadCount},set:function(pe){lt._threadCount=pe}},Consumer:{get:function(){return Et||(Et=!0,k("Rendering <Context.Consumer.Consumer> is not supported and will be removed in a future major release. Did you mean to render <Context.Consumer> instead?")),lt.Consumer}},displayName:{get:function(){return lt.displayName},set:function(pe){Xt||(I("Setting `displayName` on Context.Consumer has no effect. You should set it directly on the context with Context.displayName = '%s'.",pe),Xt=!0)}}}),lt.Consumer=Ae}return lt._currentRenderer=null,lt._currentRenderer2=null,lt}var rn=-1,Ca=0,Us=1,Me=2;function Xn(it){if(it._status===rn){var lt=it._result,Et=lt();if(Et.then(function(Ae){if(it._status===Ca||it._status===rn){var pe=it;pe._status=Us,pe._result=Ae}},function(Ae){if(it._status===Ca||it._status===rn){var pe=it;pe._status=Me,pe._result=Ae}}),it._status===rn){var Rt=it;Rt._status=Ca,Rt._result=Et}}if(it._status===Us){var Xt=it._result;return Xt===void 0&&k(`lazy: Expected the result of a dynamic import() call. Instead received: %s

Your code should look like: 
  const MyComponent = lazy(() => import('./MyComponent'))

Did you accidentally put curly braces around the import?`,Xt),"default"in Xt||k(`lazy: Expected the result of a dynamic import() call. Instead received: %s

Your code should look like: 
  const MyComponent = lazy(() => import('./MyComponent'))`,Xt),Xt.default}else throw it._result}function ut(it){var lt={_status:rn,_result:it},Et={$$typeof:s,_payload:lt,_init:Xn};{var Rt,Xt;Object.defineProperties(Et,{defaultProps:{configurable:!0,get:function(){return Rt},set:function(Ae){k("React.lazy(...): It is not supported to assign `defaultProps` to a lazy component import. Either specify them where the component is defined, or create a wrapping component around it."),Rt=Ae,Object.defineProperty(Et,"defaultProps",{enumerable:!0})}},propTypes:{configurable:!0,get:function(){return Xt},set:function(Ae){k("React.lazy(...): It is not supported to assign `propTypes` to a lazy component import. Either specify them where the component is defined, or create a wrapping component around it."),Xt=Ae,Object.defineProperty(Et,"propTypes",{enumerable:!0})}}})}return Et}function Gt(it){it!=null&&it.$$typeof===o?k("forwardRef requires a render function but received a `memo` component. Instead of forwardRef(memo(...)), use memo(forwardRef(...))."):typeof it!="function"?k("forwardRef requires a render function but was given %s.",it===null?"null":typeof it):it.length!==0&&it.length!==2&&k("forwardRef render functions accept exactly two parameters: props and ref. %s",it.length===1?"Did you forget to use the ref parameter?":"Any additional parameter will be undefined."),it!=null&&(it.defaultProps!=null||it.propTypes!=null)&&k("forwardRef render functions do not support propTypes or defaultProps. Did you accidentally pass a React component?");var lt={$$typeof:x,render:it};{var Et;Object.defineProperty(lt,"displayName",{enumerable:!1,configurable:!0,get:function(){return Et},set:function(Rt){Et=Rt,!it.name&&!it.displayName&&(it.displayName=Rt)}})}return lt}var Kt;Kt=Symbol.for("react.module.reference");function ue(it){return!!(typeof it=="string"||typeof it=="function"||it===P||it===T||G||it===n||it===d||it===l||D||it===f||R||A||L||typeof it=="object"&&it!==null&&(it.$$typeof===s||it.$$typeof===o||it.$$typeof===i||it.$$typeof===a||it.$$typeof===x||it.$$typeof===Kt||it.getModuleId!==void 0))}function je(it,lt){ue(it)||k("memo: The first argument must be a component. Instead received: %s",it===null?"null":typeof it);var Et={$$typeof:o,type:it,compare:lt===void 0?null:lt};{var Rt;Object.defineProperty(Et,"displayName",{enumerable:!1,configurable:!0,get:function(){return Rt},set:function(Xt){Rt=Xt,!it.name&&!it.displayName&&(it.displayName=Xt)}})}return Et}function be(){var it=p.current;return it===null&&k(`Invalid hook call. Hooks can only be called inside of the body of a function component. This could happen for one of the following reasons:
1. You might have mismatching versions of React and the renderer (such as React DOM)
2. You might be breaking the Rules of Hooks
3. You might have more than one copy of React in the same app
See https://reactjs.org/link/invalid-hook-call for tips about how to debug and fix this problem.`),it}function Ve(it){var lt=be();if(it._context!==void 0){var Et=it._context;Et.Consumer===it?k("Calling useContext(Context.Consumer) is not supported, may cause bugs, and will be removed in a future major release. Did you mean to call useContext(Context) instead?"):Et.Provider===it&&k("Calling useContext(Context.Provider) is not supported. Did you mean to call useContext(Context) instead?")}return lt.useContext(it)}function ke(it){var lt=be();return lt.useState(it)}function Ii(it,lt,Et){var Rt=be();return Rt.useReducer(it,lt,Et)}function Ze(it){var lt=be();return lt.useRef(it)}function Gi(it,lt){var Et=be();return Et.useEffect(it,lt)}function pr(it,lt){var Et=be();return Et.useInsertionEffect(it,lt)}function Hn(it,lt){var Et=be();return Et.useLayoutEffect(it,lt)}function $n(it,lt){var Et=be();return Et.useCallback(it,lt)}function lr(it,lt){var Et=be();return Et.useMemo(it,lt)}function qa(it,lt,Et){var Rt=be();return Rt.useImperativeHandle(it,lt,Et)}function $o(it,lt){{var Et=be();return Et.useDebugValue(it,lt)}}function tl(){var it=be();return it.useTransition()}function Vs(it){var lt=be();return lt.useDeferredValue(it)}function We(){var it=be();return it.useId()}function _a(it,lt,Et){var Rt=be();return Rt.useSyncExternalStore(it,lt,Et)}var Ar=0,Ko,Kn,el,il,rl,Ws,nl;function yu(){}yu.__reactDisabledLog=!0;function to(){{if(Ar===0){Ko=console.log,Kn=console.info,el=console.warn,il=console.error,rl=console.group,Ws=console.groupCollapsed,nl=console.groupEnd;var it={configurable:!0,enumerable:!0,value:yu,writable:!0};Object.defineProperties(console,{info:it,log:it,warn:it,error:it,group:it,groupCollapsed:it,groupEnd:it})}Ar++}}function sl(){{if(Ar--,Ar===0){var it={configurable:!0,enumerable:!0,writable:!0};Object.defineProperties(console,{log:J({},it,{value:Ko}),info:J({},it,{value:Kn}),warn:J({},it,{value:el}),error:J({},it,{value:il}),group:J({},it,{value:rl}),groupCollapsed:J({},it,{value:Ws}),groupEnd:J({},it,{value:nl})})}Ar<0&&k("disabledDepth fell below zero. This is a bug in React. Please file an issue.")}}var Zn=B.ReactCurrentDispatcher,An;function Sa(it,lt,Et){{if(An===void 0)try{throw Error()}catch(Xt){var Rt=Xt.stack.trim().match(/\n( *(at )?)/);An=Rt&&Rt[1]||""}return`
`+An+it}}var gs=!1,st;{var ht=typeof WeakMap=="function"?WeakMap:Map;st=new ht}function dt(it,lt){if(!it||gs)return"";{var Et=st.get(it);if(Et!==void 0)return Et}var Rt;gs=!0;var Xt=Error.prepareStackTrace;Error.prepareStackTrace=void 0;var Ae;Ae=Zn.current,Zn.current=null,to();try{if(lt){var pe=function(){throw Error()};if(Object.defineProperty(pe.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(pe,[])}catch(di){Rt=di}Reflect.construct(it,[],pe)}else{try{pe.call()}catch(di){Rt=di}it.call(pe.prototype)}}else{try{throw Error()}catch(di){Rt=di}it()}}catch(di){if(di&&Rt&&typeof di.stack=="string"){for(var Fe=di.stack.split(`
`),ti=Rt.stack.split(`
`),Ti=Fe.length-1,Li=ti.length-1;Ti>=1&&Li>=0&&Fe[Ti]!==ti[Li];)Li--;for(;Ti>=1&&Li>=0;Ti--,Li--)if(Fe[Ti]!==ti[Li]){if(Ti!==1||Li!==1)do if(Ti--,Li--,Li<0||Fe[Ti]!==ti[Li]){var Fi=`
`+Fe[Ti].replace(" at new "," at ");return it.displayName&&Fi.includes("<anonymous>")&&(Fi=Fi.replace("<anonymous>",it.displayName)),typeof it=="function"&&st.set(it,Fi),Fi}while(Ti>=1&&Li>=0);break}}}finally{gs=!1,Zn.current=Ae,sl(),Error.prepareStackTrace=Xt}var Vi=it?it.displayName||it.name:"",Qi=Vi?Sa(Vi):"";return typeof it=="function"&&st.set(it,Qi),Qi}function Tt(it,lt,Et){return dt(it,!1)}function wt(it){var lt=it.prototype;return!!(lt&&lt.isReactComponent)}function $t(it,lt,Et){if(it==null)return"";if(typeof it=="function")return dt(it,wt(it));if(typeof it=="string")return Sa(it);switch(it){case d:return Sa("Suspense");case l:return Sa("SuspenseList")}if(typeof it=="object")switch(it.$$typeof){case x:return Tt(it.render);case o:return $t(it.type,lt,Et);case s:{var Rt=it,Xt=Rt._payload,Ae=Rt._init;try{return $t(Ae(Xt),lt,Et)}catch{}}}return""}var oe={},re=B.ReactDebugCurrentFrame;function He(it){if(it){var lt=it._owner,Et=$t(it.type,it._source,lt?lt.type:null);re.setExtraStackFrame(Et)}else re.setExtraStackFrame(null)}function ve(it,lt,Et,Rt,Xt){{var Ae=Function.call.bind(Ht);for(var pe in it)if(Ae(it,pe)){var Fe=void 0;try{if(typeof it[pe]!="function"){var ti=Error((Rt||"React class")+": "+Et+" type `"+pe+"` is invalid; it must be a function, usually from the `prop-types` package, but received `"+typeof it[pe]+"`.This often happens because of typos such as `PropTypes.function` instead of `PropTypes.func`.");throw ti.name="Invariant Violation",ti}Fe=it[pe](lt,pe,Rt,Et,null,"SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED")}catch(Ti){Fe=Ti}Fe&&!(Fe instanceof Error)&&(He(Xt),k("%s: type specification of %s `%s` is invalid; the type checker function must return `null` or an `Error` but returned a %s. You may have forgotten to pass an argument to the type checker creator (arrayOf, instanceOf, objectOf, oneOf, oneOfType, and shape all require an argument).",Rt||"React class",Et,pe,typeof Fe),He(null)),Fe instanceof Error&&!(Fe.message in oe)&&(oe[Fe.message]=!0,He(Xt),k("Failed %s type: %s",Et,Fe.message),He(null))}}}function ee(it){if(it){var lt=it._owner,Et=$t(it.type,it._source,lt?lt.type:null);w(Et)}else w(null)}var ai;ai=!1;function Ne(){if(C.current){var it=Yt(C.current.type);if(it)return`

Check the render method of \``+it+"`."}return""}function Dt(it){if(it!==void 0){var lt=it.fileName.replace(/^.*[\\\/]/,""),Et=it.lineNumber;return`

Check your code at `+lt+":"+Et+"."}return""}function se(it){return it!=null?Dt(it.__source):""}var he={};function Ri(it){var lt=Ne();if(!lt){var Et=typeof it=="string"?it:it.displayName||it.name;Et&&(lt=`

Check the top-level render call using <`+Et+">.")}return lt}function ae(it,lt){if(!(!it._store||it._store.validated||it.key!=null)){it._store.validated=!0;var Et=Ri(lt);if(!he[Et]){he[Et]=!0;var Rt="";it&&it._owner&&it._owner!==C.current&&(Rt=" It was passed a child from "+Yt(it._owner.type)+"."),ee(it),k('Each child in a list should have a unique "key" prop.%s%s See https://reactjs.org/link/warning-keys for more information.',Et,Rt),ee(null)}}}function ki(it,lt){if(typeof it=="object"){if(ft(it))for(var Et=0;Et<it.length;Et++){var Rt=it[Et];Pe(Rt)&&ae(Rt,lt)}else if(Pe(it))it._store&&(it._store.validated=!0);else if(it){var Xt=v(it);if(typeof Xt=="function"&&Xt!==it.entries)for(var Ae=Xt.call(it),pe;!(pe=Ae.next()).done;)Pe(pe.value)&&ae(pe.value,lt)}}}function Se(it){{var lt=it.type;if(lt==null||typeof lt=="string")return;var Et;if(typeof lt=="function")Et=lt.propTypes;else if(typeof lt=="object"&&(lt.$$typeof===x||lt.$$typeof===o))Et=lt.propTypes;else return;if(Et){var Rt=Yt(lt);ve(Et,it.props,"prop",Rt,it)}else if(lt.PropTypes!==void 0&&!ai){ai=!0;var Xt=Yt(lt);k("Component %s declared `PropTypes` instead of `propTypes`. Did you misspell the property assignment?",Xt||"Unknown")}typeof lt.getDefaultProps=="function"&&!lt.getDefaultProps.isReactClassApproved&&k("getDefaultProps is only used on classic React.createClass definitions. Use a static property named `defaultProps` instead.")}}function Ye(it){{for(var lt=Object.keys(it.props),Et=0;Et<lt.length;Et++){var Rt=lt[Et];if(Rt!=="children"&&Rt!=="key"){ee(it),k("Invalid prop `%s` supplied to `React.Fragment`. React.Fragment can only have `key` and `children` props.",Rt),ee(null);break}}it.ref!==null&&(ee(it),k("Invalid attribute `ref` supplied to `React.Fragment`."),ee(null))}}function Jn(it,lt,Et){var Rt=ue(it);if(!Rt){var Xt="";(it===void 0||typeof it=="object"&&it!==null&&Object.keys(it).length===0)&&(Xt+=" You likely forgot to export your component from the file it's defined in, or you might have mixed up default and named imports.");var Ae=se(lt);Ae?Xt+=Ae:Xt+=Ne();var pe;it===null?pe="null":ft(it)?pe="array":it!==void 0&&it.$$typeof===h?(pe="<"+(Yt(it.type)||"Unknown")+" />",Xt=" Did you accidentally export a JSX literal instead of a component?"):pe=typeof it,k("React.createElement: type is invalid -- expected a string (for built-in components) or a class/function (for composite components) but got: %s.%s",pe,Xt)}var Fe=Ut.apply(this,arguments);if(Fe==null)return Fe;if(Rt)for(var ti=2;ti<arguments.length;ti++)ki(arguments[ti],it);return it===P?Ye(Fe):Se(Fe),Fe}var nn=!1;function Vr(it){var lt=Jn.bind(null,it);return lt.type=it,nn||(nn=!0,I("React.createFactory() is deprecated and will be removed in a future major release. Consider using JSX or use React.createElement() directly instead.")),Object.defineProperty(lt,"type",{enumerable:!1,get:function(){return I("Factory.type is deprecated. Access the class directly before passing it to createFactory."),Object.defineProperty(this,"type",{value:it}),it}}),lt}function ms(it,lt,Et){for(var Rt=ce.apply(this,arguments),Xt=2;Xt<arguments.length;Xt++)ki(arguments[Xt],Rt.type);return Se(Rt),Rt}function al(it,lt){var Et=m.transition;m.transition={};var Rt=m.transition;m.transition._updatedFibers=new Set;try{it()}finally{if(m.transition=Et,Et===null&&Rt._updatedFibers){var Xt=Rt._updatedFibers.size;Xt>10&&I("Detected a large number of updates inside startTransition. If this is due to a subscription please re-write it to use React provided hooks. Otherwise concurrent mode guarantees are off the table."),Rt._updatedFibers.clear()}}}var Zo=!1,eo=null;function Qt(it){if(eo===null)try{var lt=("require"+Math.random()).slice(0,7),Et=e&&e[lt];eo=Et.call(e,"timers").setImmediate}catch{eo=function(Xt){Zo===!1&&(Zo=!0,typeof MessageChannel>"u"&&k("This browser does not have a MessageChannel implementation, so enqueuing tasks via await act(async () => ...) will fail. Please file an issue at https://github.com/facebook/react/issues if you encounter this warning."));var Ae=new MessageChannel;Ae.port1.onmessage=Xt,Ae.port2.postMessage(void 0)}}return eo(it)}var Or=0,Ys=!1;function ol(it){{var lt=Or;Or++,g.current===null&&(g.current=[]);var Et=g.isBatchingLegacy,Rt;try{if(g.isBatchingLegacy=!0,Rt=it(),!Et&&g.didScheduleLegacyUpdate){var Xt=g.current;Xt!==null&&(g.didScheduleLegacyUpdate=!1,Su(Xt))}}catch(Vi){throw io(lt),Vi}finally{g.isBatchingLegacy=Et}if(Rt!==null&&typeof Rt=="object"&&typeof Rt.then=="function"){var Ae=Rt,pe=!1,Fe={then:function(Vi,Qi){pe=!0,Ae.then(function(di){io(lt),Or===0?Cu(di,Vi,Qi):Vi(di)},function(di){io(lt),Qi(di)})}};return!Ys&&typeof Promise<"u"&&Promise.resolve().then(function(){}).then(function(){pe||(Ys=!0,k("You called act(async () => ...) without await. This could lead to unexpected testing behaviour, interleaving multiple act calls and mixing their scopes. You should - await act(async () => ...);"))}),Fe}else{var ti=Rt;if(io(lt),Or===0){var Ti=g.current;Ti!==null&&(Su(Ti),g.current=null);var Li={then:function(Vi,Qi){g.current===null?(g.current=[],Cu(ti,Vi,Qi)):Vi(ti)}};return Li}else{var Fi={then:function(Vi,Qi){Vi(ti)}};return Fi}}}}function io(it){it!==Or-1&&k("You seem to have overlapping act() calls, this is not supported. Be sure to await previous act() calls before making a new one. "),Or=it}function Cu(it,lt,Et){{var Rt=g.current;if(Rt!==null)try{Su(Rt),Qt(function(){Rt.length===0?(g.current=null,lt(it)):Cu(it,lt,Et)})}catch(Xt){Et(Xt)}else lt(it)}}var Jo=!1;function Su(it){if(!Jo){Jo=!0;var lt=0;try{for(;lt<it.length;lt++){var Et=it[lt];do Et=Et(!0);while(Et!==null)}it.length=0}catch(Rt){throw it=it.slice(lt+1),Rt}finally{Jo=!1}}}var gp=Jn,mp=ms,xp=Vr,yp={map:mn,forEach:ps,count:Yn,toArray:_h,only:ya};t.Children=yp,t.Component=$,t.Fragment=P,t.Profiler=T,t.PureComponent=_,t.StrictMode=n,t.Suspense=d,t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=B,t.act=ol,t.cloneElement=mp,t.createContext=zs,t.createElement=gp,t.createFactory=xp,t.createRef=rt,t.forwardRef=Gt,t.isValidElement=Pe,t.lazy=ut,t.memo=je,t.startTransition=al,t.unstable_act=ol,t.useCallback=$n,t.useContext=Ve,t.useDebugValue=$o,t.useDeferredValue=Vs,t.useEffect=Gi,t.useId=We,t.useImperativeHandle=qa,t.useInsertionEffect=pr,t.useLayoutEffect=Hn,t.useMemo=lr,t.useReducer=Ii,t.useRef=Ze,t.useState=ke,t.useSyncExternalStore=_a,t.useTransition=tl,t.version=r,typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"&&typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.registerInternalModuleStop=="function"&&__REACT_DEVTOOLS_GLOBAL_HOOK__.registerInternalModuleStop(new Error)})()})(N0,N0.exports);var pV=N0.exports;T3.exports=pV;var Qf=T3.exports;const gV=cP(Qf);/**
 * @license React
 * react-jsx-dev-runtime.development.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(){var e=Qf,t=Symbol.for("react.element"),r=Symbol.for("react.portal"),h=Symbol.for("react.fragment"),y=Symbol.for("react.strict_mode"),P=Symbol.for("react.profiler"),n=Symbol.for("react.provider"),T=Symbol.for("react.context"),i=Symbol.for("react.forward_ref"),a=Symbol.for("react.suspense"),x=Symbol.for("react.suspense_list"),d=Symbol.for("react.memo"),l=Symbol.for("react.lazy"),o=Symbol.for("react.offscreen"),s=Symbol.iterator,f="@@iterator";function c(ut){if(ut===null||typeof ut!="object")return null;var Gt=s&&ut[s]||ut[f];return typeof Gt=="function"?Gt:null}var u=e.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED;function v(ut){{for(var Gt=arguments.length,Kt=new Array(Gt>1?Gt-1:0),ue=1;ue<Gt;ue++)Kt[ue-1]=arguments[ue];p("error",ut,Kt)}}function p(ut,Gt,Kt){{var ue=u.ReactDebugCurrentFrame,je=ue.getStackAddendum();je!==""&&(Gt+="%s",Kt=Kt.concat([je]));var be=Kt.map(function(Ve){return String(Ve)});be.unshift("Warning: "+Gt),Function.prototype.apply.call(console[ut],console,be)}}var m=!1,g=!1,C=!1,M=!1,b=!1,w;w=Symbol.for("react.module.reference");function R(ut){return!!(typeof ut=="string"||typeof ut=="function"||ut===h||ut===P||b||ut===y||ut===a||ut===x||M||ut===o||m||g||C||typeof ut=="object"&&ut!==null&&(ut.$$typeof===l||ut.$$typeof===d||ut.$$typeof===n||ut.$$typeof===T||ut.$$typeof===i||ut.$$typeof===w||ut.getModuleId!==void 0))}function A(ut,Gt,Kt){var ue=ut.displayName;if(ue)return ue;var je=Gt.displayName||Gt.name||"";return je!==""?Kt+"("+je+")":Kt}function L(ut){return ut.displayName||"Context"}function D(ut){if(ut==null)return null;if(typeof ut.tag=="number"&&v("Received an unexpected object in getComponentNameFromType(). This is likely a bug in React. Please file an issue."),typeof ut=="function")return ut.displayName||ut.name||null;if(typeof ut=="string")return ut;switch(ut){case h:return"Fragment";case r:return"Portal";case P:return"Profiler";case y:return"StrictMode";case a:return"Suspense";case x:return"SuspenseList"}if(typeof ut=="object")switch(ut.$$typeof){case T:var Gt=ut;return L(Gt)+".Consumer";case n:var Kt=ut;return L(Kt._context)+".Provider";case i:return A(ut,ut.render,"ForwardRef");case d:var ue=ut.displayName||null;return ue!==null?ue:D(ut.type)||"Memo";case l:{var je=ut,be=je._payload,Ve=je._init;try{return D(Ve(be))}catch{return null}}}return null}var G=Object.assign,B=0,I,k,z,X,H,Q,J;function Y(){}Y.__reactDisabledLog=!0;function $(){{if(B===0){I=console.log,k=console.info,z=console.warn,X=console.error,H=console.group,Q=console.groupCollapsed,J=console.groupEnd;var ut={configurable:!0,enumerable:!0,value:Y,writable:!0};Object.defineProperties(console,{info:ut,log:ut,warn:ut,error:ut,group:ut,groupCollapsed:ut,groupEnd:ut})}B++}}function V(){{if(B--,B===0){var ut={configurable:!0,enumerable:!0,writable:!0};Object.defineProperties(console,{log:G({},ut,{value:I}),info:G({},ut,{value:k}),warn:G({},ut,{value:z}),error:G({},ut,{value:X}),group:G({},ut,{value:H}),groupCollapsed:G({},ut,{value:Q}),groupEnd:G({},ut,{value:J})})}B<0&&v("disabledDepth fell below zero. This is a bug in React. Please file an issue.")}}var U=u.ReactCurrentDispatcher,K;function j(ut,Gt,Kt){{if(K===void 0)try{throw Error()}catch(je){var ue=je.stack.trim().match(/\n( *(at )?)/);K=ue&&ue[1]||""}return`
`+K+ut}}var _=!1,tt;{var rt=typeof WeakMap=="function"?WeakMap:Map;tt=new rt}function ot(ut,Gt){if(!ut||_)return"";{var Kt=tt.get(ut);if(Kt!==void 0)return Kt}var ue;_=!0;var je=Error.prepareStackTrace;Error.prepareStackTrace=void 0;var be;be=U.current,U.current=null,$();try{if(Gt){var Ve=function(){throw Error()};if(Object.defineProperty(Ve.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(Ve,[])}catch(lr){ue=lr}Reflect.construct(ut,[],Ve)}else{try{Ve.call()}catch(lr){ue=lr}ut.call(Ve.prototype)}}else{try{throw Error()}catch(lr){ue=lr}ut()}}catch(lr){if(lr&&ue&&typeof lr.stack=="string"){for(var ke=lr.stack.split(`
`),Ii=ue.stack.split(`
`),Ze=ke.length-1,Gi=Ii.length-1;Ze>=1&&Gi>=0&&ke[Ze]!==Ii[Gi];)Gi--;for(;Ze>=1&&Gi>=0;Ze--,Gi--)if(ke[Ze]!==Ii[Gi]){if(Ze!==1||Gi!==1)do if(Ze--,Gi--,Gi<0||ke[Ze]!==Ii[Gi]){var pr=`
`+ke[Ze].replace(" at new "," at ");return ut.displayName&&pr.includes("<anonymous>")&&(pr=pr.replace("<anonymous>",ut.displayName)),typeof ut=="function"&&tt.set(ut,pr),pr}while(Ze>=1&&Gi>=0);break}}}finally{_=!1,U.current=be,V(),Error.prepareStackTrace=je}var Hn=ut?ut.displayName||ut.name:"",$n=Hn?j(Hn):"";return typeof ut=="function"&&tt.set(ut,$n),$n}function ft(ut,Gt,Kt){return ot(ut,!1)}function ct(ut){var Gt=ut.prototype;return!!(Gt&&Gt.isReactComponent)}function gt(ut,Gt,Kt){if(ut==null)return"";if(typeof ut=="function")return ot(ut,ct(ut));if(typeof ut=="string")return j(ut);switch(ut){case a:return j("Suspense");case x:return j("SuspenseList")}if(typeof ut=="object")switch(ut.$$typeof){case i:return ft(ut.render);case d:return gt(ut.type,Gt,Kt);case l:{var ue=ut,je=ue._payload,be=ue._init;try{return gt(be(je),Gt,Kt)}catch{}}}return""}var yt=Object.prototype.hasOwnProperty,Mt={},Ct=u.ReactDebugCurrentFrame;function Wt(ut){if(ut){var Gt=ut._owner,Kt=gt(ut.type,ut._source,Gt?Gt.type:null);Ct.setExtraStackFrame(Kt)}else Ct.setExtraStackFrame(null)}function Yt(ut,Gt,Kt,ue,je){{var be=Function.call.bind(yt);for(var Ve in ut)if(be(ut,Ve)){var ke=void 0;try{if(typeof ut[Ve]!="function"){var Ii=Error((ue||"React class")+": "+Kt+" type `"+Ve+"` is invalid; it must be a function, usually from the `prop-types` package, but received `"+typeof ut[Ve]+"`.This often happens because of typos such as `PropTypes.function` instead of `PropTypes.func`.");throw Ii.name="Invariant Violation",Ii}ke=ut[Ve](Gt,Ve,ue,Kt,null,"SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED")}catch(Ze){ke=Ze}ke&&!(ke instanceof Error)&&(Wt(je),v("%s: type specification of %s `%s` is invalid; the type checker function must return `null` or an `Error` but returned a %s. You may have forgotten to pass an argument to the type checker creator (arrayOf, instanceOf, objectOf, oneOf, oneOfType, and shape all require an argument).",ue||"React class",Kt,Ve,typeof ke),Wt(null)),ke instanceof Error&&!(ke.message in Mt)&&(Mt[ke.message]=!0,Wt(je),v("Failed %s type: %s",Kt,ke.message),Wt(null))}}}var Ht=Array.isArray;function bt(ut){return Ht(ut)}function kt(ut){{var Gt=typeof Symbol=="function"&&Symbol.toStringTag,Kt=Gt&&ut[Symbol.toStringTag]||ut.constructor.name||"Object";return Kt}}function zt(ut){try{return jt(ut),!1}catch{return!0}}function jt(ut){return""+ut}function fe(ut){if(zt(ut))return v("The provided key is an unsupported type %s. This value must be coerced to a string before before using it here.",kt(ut)),jt(ut)}var xe=u.ReactCurrentOwner,le={key:!0,ref:!0,__self:!0,__source:!0},Ee,Qe,Bt;Bt={};function Ut(ut){if(yt.call(ut,"ref")){var Gt=Object.getOwnPropertyDescriptor(ut,"ref").get;if(Gt&&Gt.isReactWarning)return!1}return ut.ref!==void 0}function te(ut){if(yt.call(ut,"key")){var Gt=Object.getOwnPropertyDescriptor(ut,"key").get;if(Gt&&Gt.isReactWarning)return!1}return ut.key!==void 0}function ce(ut,Gt){if(typeof ut.ref=="string"&&xe.current&&Gt&&xe.current.stateNode!==Gt){var Kt=D(xe.current.type);Bt[Kt]||(v('Component "%s" contains the string ref "%s". Support for string refs will be removed in a future major release. This case cannot be automatically converted to an arrow function. We ask you to manually fix this case by using useRef() or createRef() instead. Learn more about using refs safely here: https://reactjs.org/link/strict-mode-string-ref',D(xe.current.type),ut.ref),Bt[Kt]=!0)}}function Pe(ut,Gt){{var Kt=function(){Ee||(Ee=!0,v("%s: `key` is not a prop. Trying to access it will result in `undefined` being returned. If you need to access the same value within the child component, you should pass it as a different prop. (https://reactjs.org/link/special-props)",Gt))};Kt.isReactWarning=!0,Object.defineProperty(ut,"key",{get:Kt,configurable:!0})}}function yi(ut,Gt){{var Kt=function(){Qe||(Qe=!0,v("%s: `ref` is not a prop. Trying to access it will result in `undefined` being returned. If you need to access the same value within the child component, you should pass it as a different prop. (https://reactjs.org/link/special-props)",Gt))};Kt.isReactWarning=!0,Object.defineProperty(ut,"ref",{get:Kt,configurable:!0})}}var fi=function(ut,Gt,Kt,ue,je,be,Ve){var ke={$$typeof:t,type:ut,key:Gt,ref:Kt,props:Ve,_owner:be};return ke._store={},Object.defineProperty(ke._store,"validated",{configurable:!1,enumerable:!1,writable:!0,value:!1}),Object.defineProperty(ke,"_self",{configurable:!1,enumerable:!1,writable:!1,value:ue}),Object.defineProperty(ke,"_source",{configurable:!1,enumerable:!1,writable:!1,value:je}),Object.freeze&&(Object.freeze(ke.props),Object.freeze(ke)),ke};function Ai(ut,Gt,Kt,ue,je){{var be,Ve={},ke=null,Ii=null;Kt!==void 0&&(fe(Kt),ke=""+Kt),te(Gt)&&(fe(Gt.key),ke=""+Gt.key),Ut(Gt)&&(Ii=Gt.ref,ce(Gt,je));for(be in Gt)yt.call(Gt,be)&&!le.hasOwnProperty(be)&&(Ve[be]=Gt[be]);if(ut&&ut.defaultProps){var Ze=ut.defaultProps;for(be in Ze)Ve[be]===void 0&&(Ve[be]=Ze[be])}if(ke||Ii){var Gi=typeof ut=="function"?ut.displayName||ut.name||"Unknown":ut;ke&&Pe(Ve,Gi),Ii&&yi(Ve,Gi)}return fi(ut,ke,Ii,je,ue,xe.current,Ve)}}var qe=u.ReactCurrentOwner,Ui=u.ReactDebugCurrentFrame;function wi(ut){if(ut){var Gt=ut._owner,Kt=gt(ut.type,ut._source,Gt?Gt.type:null);Ui.setExtraStackFrame(Kt)}else Ui.setExtraStackFrame(null)}var Oi;Oi=!1;function Wn(ut){return typeof ut=="object"&&ut!==null&&ut.$$typeof===t}function mn(){{if(qe.current){var ut=D(qe.current.type);if(ut)return`

Check the render method of \``+ut+"`."}return""}}function Yn(ut){{if(ut!==void 0){var Gt=ut.fileName.replace(/^.*[\\\/]/,""),Kt=ut.lineNumber;return`

Check your code at `+Gt+":"+Kt+"."}return""}}var ps={};function _h(ut){{var Gt=mn();if(!Gt){var Kt=typeof ut=="string"?ut:ut.displayName||ut.name;Kt&&(Gt=`

Check the top-level render call using <`+Kt+">.")}return Gt}}function ya(ut,Gt){{if(!ut._store||ut._store.validated||ut.key!=null)return;ut._store.validated=!0;var Kt=_h(Gt);if(ps[Kt])return;ps[Kt]=!0;var ue="";ut&&ut._owner&&ut._owner!==qe.current&&(ue=" It was passed a child from "+D(ut._owner.type)+"."),wi(ut),v('Each child in a list should have a unique "key" prop.%s%s See https://reactjs.org/link/warning-keys for more information.',Kt,ue),wi(null)}}function zs(ut,Gt){{if(typeof ut!="object")return;if(bt(ut))for(var Kt=0;Kt<ut.length;Kt++){var ue=ut[Kt];Wn(ue)&&ya(ue,Gt)}else if(Wn(ut))ut._store&&(ut._store.validated=!0);else if(ut){var je=c(ut);if(typeof je=="function"&&je!==ut.entries)for(var be=je.call(ut),Ve;!(Ve=be.next()).done;)Wn(Ve.value)&&ya(Ve.value,Gt)}}}function rn(ut){{var Gt=ut.type;if(Gt==null||typeof Gt=="string")return;var Kt;if(typeof Gt=="function")Kt=Gt.propTypes;else if(typeof Gt=="object"&&(Gt.$$typeof===i||Gt.$$typeof===d))Kt=Gt.propTypes;else return;if(Kt){var ue=D(Gt);Yt(Kt,ut.props,"prop",ue,ut)}else if(Gt.PropTypes!==void 0&&!Oi){Oi=!0;var je=D(Gt);v("Component %s declared `PropTypes` instead of `propTypes`. Did you misspell the property assignment?",je||"Unknown")}typeof Gt.getDefaultProps=="function"&&!Gt.getDefaultProps.isReactClassApproved&&v("getDefaultProps is only used on classic React.createClass definitions. Use a static property named `defaultProps` instead.")}}function Ca(ut){{for(var Gt=Object.keys(ut.props),Kt=0;Kt<Gt.length;Kt++){var ue=Gt[Kt];if(ue!=="children"&&ue!=="key"){wi(ut),v("Invalid prop `%s` supplied to `React.Fragment`. React.Fragment can only have `key` and `children` props.",ue),wi(null);break}}ut.ref!==null&&(wi(ut),v("Invalid attribute `ref` supplied to `React.Fragment`."),wi(null))}}var Us={};function Me(ut,Gt,Kt,ue,je,be){{var Ve=R(ut);if(!Ve){var ke="";(ut===void 0||typeof ut=="object"&&ut!==null&&Object.keys(ut).length===0)&&(ke+=" You likely forgot to export your component from the file it's defined in, or you might have mixed up default and named imports.");var Ii=Yn(je);Ii?ke+=Ii:ke+=mn();var Ze;ut===null?Ze="null":bt(ut)?Ze="array":ut!==void 0&&ut.$$typeof===t?(Ze="<"+(D(ut.type)||"Unknown")+" />",ke=" Did you accidentally export a JSX literal instead of a component?"):Ze=typeof ut,v("React.jsx: type is invalid -- expected a string (for built-in components) or a class/function (for composite components) but got: %s.%s",Ze,ke)}var Gi=Ai(ut,Gt,Kt,je,be);if(Gi==null)return Gi;if(Ve){var pr=Gt.children;if(pr!==void 0)if(ue)if(bt(pr)){for(var Hn=0;Hn<pr.length;Hn++)zs(pr[Hn],ut);Object.freeze&&Object.freeze(pr)}else v("React.jsx: Static children should always be an array. You are likely explicitly calling React.jsxs or React.jsxDEV. Use the Babel transform instead.");else zs(pr,ut)}if(yt.call(Gt,"key")){var $n=D(ut),lr=Object.keys(Gt).filter(function(tl){return tl!=="key"}),qa=lr.length>0?"{key: someKey, "+lr.join(": ..., ")+": ...}":"{key: someKey}";if(!Us[$n+qa]){var $o=lr.length>0?"{"+lr.join(": ..., ")+": ...}":"{}";v(`A props object containing a "key" prop is being spread into JSX:
  let props = %s;
  <%s {...props} />
React keys must be passed directly to JSX without using spread:
  let props = %s;
  <%s key={someKey} {...props} />`,qa,$n,$o,$n),Us[$n+qa]=!0}}return ut===h?Ca(Gi):rn(Gi),Gi}}var Xn=Me;HE.Fragment=h,HE.jsxDEV=Xn})();S3.exports=HE;var Mv=S3.exports,$E={},E3={exports:{}},fs={},P3={exports:{}},M3={};(function(e){/**
 * @license React
 * scheduler.development.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(){typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"&&typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.registerInternalModuleStart=="function"&&__REACT_DEVTOOLS_GLOBAL_HOOK__.registerInternalModuleStart(new Error);var t=!1,r=!1,h=5;function y(Bt,Ut){var te=Bt.length;Bt.push(Ut),T(Bt,Ut,te)}function P(Bt){return Bt.length===0?null:Bt[0]}function n(Bt){if(Bt.length===0)return null;var Ut=Bt[0],te=Bt.pop();return te!==Ut&&(Bt[0]=te,i(Bt,te,0)),Ut}function T(Bt,Ut,te){for(var ce=te;ce>0;){var Pe=ce-1>>>1,yi=Bt[Pe];if(a(yi,Ut)>0)Bt[Pe]=Ut,Bt[ce]=yi,ce=Pe;else return}}function i(Bt,Ut,te){for(var ce=te,Pe=Bt.length,yi=Pe>>>1;ce<yi;){var fi=(ce+1)*2-1,Ai=Bt[fi],qe=fi+1,Ui=Bt[qe];if(a(Ai,Ut)<0)qe<Pe&&a(Ui,Ai)<0?(Bt[ce]=Ui,Bt[qe]=Ut,ce=qe):(Bt[ce]=Ai,Bt[fi]=Ut,ce=fi);else if(qe<Pe&&a(Ui,Ut)<0)Bt[ce]=Ui,Bt[qe]=Ut,ce=qe;else return}}function a(Bt,Ut){var te=Bt.sortIndex-Ut.sortIndex;return te!==0?te:Bt.id-Ut.id}var x=1,d=2,l=3,o=4,s=5;function f(Bt,Ut){}var c=typeof performance=="object"&&typeof performance.now=="function";if(c){var u=performance;e.unstable_now=function(){return u.now()}}else{var v=Date,p=v.now();e.unstable_now=function(){return v.now()-p}}var m=1073741823,g=-1,C=250,M=5e3,b=1e4,w=m,R=[],A=[],L=1,D=null,G=l,B=!1,I=!1,k=!1,z=typeof setTimeout=="function"?setTimeout:null,X=typeof clearTimeout=="function"?clearTimeout:null,H=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function Q(Bt){for(var Ut=P(A);Ut!==null;){if(Ut.callback===null)n(A);else if(Ut.startTime<=Bt)n(A),Ut.sortIndex=Ut.expirationTime,y(R,Ut);else return;Ut=P(A)}}function J(Bt){if(k=!1,Q(Bt),!I)if(P(R)!==null)I=!0,fe(Y);else{var Ut=P(A);Ut!==null&&xe(J,Ut.startTime-Bt)}}function Y(Bt,Ut){I=!1,k&&(k=!1,le()),B=!0;var te=G;try{var ce;if(!r)return $(Bt,Ut)}finally{D=null,G=te,B=!1}}function $(Bt,Ut){var te=Ut;for(Q(te),D=P(R);D!==null&&!t&&!(D.expirationTime>te&&(!Bt||Wt()));){var ce=D.callback;if(typeof ce=="function"){D.callback=null,G=D.priorityLevel;var Pe=D.expirationTime<=te,yi=ce(Pe);te=e.unstable_now(),typeof yi=="function"?D.callback=yi:D===P(R)&&n(R),Q(te)}else n(R);D=P(R)}if(D!==null)return!0;var fi=P(A);return fi!==null&&xe(J,fi.startTime-te),!1}function V(Bt,Ut){switch(Bt){case x:case d:case l:case o:case s:break;default:Bt=l}var te=G;G=Bt;try{return Ut()}finally{G=te}}function U(Bt){var Ut;switch(G){case x:case d:case l:Ut=l;break;default:Ut=G;break}var te=G;G=Ut;try{return Bt()}finally{G=te}}function K(Bt){var Ut=G;return function(){var te=G;G=Ut;try{return Bt.apply(this,arguments)}finally{G=te}}}function j(Bt,Ut,te){var ce=e.unstable_now(),Pe;if(typeof te=="object"&&te!==null){var yi=te.delay;typeof yi=="number"&&yi>0?Pe=ce+yi:Pe=ce}else Pe=ce;var fi;switch(Bt){case x:fi=g;break;case d:fi=C;break;case s:fi=w;break;case o:fi=b;break;case l:default:fi=M;break}var Ai=Pe+fi,qe={id:L++,callback:Ut,priorityLevel:Bt,startTime:Pe,expirationTime:Ai,sortIndex:-1};return Pe>ce?(qe.sortIndex=Pe,y(A,qe),P(R)===null&&qe===P(A)&&(k?le():k=!0,xe(J,Pe-ce))):(qe.sortIndex=Ai,y(R,qe),!I&&!B&&(I=!0,fe(Y))),qe}function _(){}function tt(){!I&&!B&&(I=!0,fe(Y))}function rt(){return P(R)}function ot(Bt){Bt.callback=null}function ft(){return G}var ct=!1,gt=null,yt=-1,Mt=h,Ct=-1;function Wt(){var Bt=e.unstable_now()-Ct;return!(Bt<Mt)}function Yt(){}function Ht(Bt){if(Bt<0||Bt>125){console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported");return}Bt>0?Mt=Math.floor(1e3/Bt):Mt=h}var bt=function(){if(gt!==null){var Bt=e.unstable_now();Ct=Bt;var Ut=!0,te=!0;try{te=gt(Ut,Bt)}finally{te?kt():(ct=!1,gt=null)}}else ct=!1},kt;if(typeof H=="function")kt=function(){H(bt)};else if(typeof MessageChannel<"u"){var zt=new MessageChannel,jt=zt.port2;zt.port1.onmessage=bt,kt=function(){jt.postMessage(null)}}else kt=function(){z(bt,0)};function fe(Bt){gt=Bt,ct||(ct=!0,kt())}function xe(Bt,Ut){yt=z(function(){Bt(e.unstable_now())},Ut)}function le(){X(yt),yt=-1}var Ee=Yt,Qe=null;e.unstable_IdlePriority=s,e.unstable_ImmediatePriority=x,e.unstable_LowPriority=o,e.unstable_NormalPriority=l,e.unstable_Profiling=Qe,e.unstable_UserBlockingPriority=d,e.unstable_cancelCallback=ot,e.unstable_continueExecution=tt,e.unstable_forceFrameRate=Ht,e.unstable_getCurrentPriorityLevel=ft,e.unstable_getFirstCallbackNode=rt,e.unstable_next=U,e.unstable_pauseExecution=_,e.unstable_requestPaint=Ee,e.unstable_runWithPriority=V,e.unstable_scheduleCallback=j,e.unstable_shouldYield=Wt,e.unstable_wrapCallback=K,typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"&&typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.registerInternalModuleStop=="function"&&__REACT_DEVTOOLS_GLOBAL_HOOK__.registerInternalModuleStop(new Error)})()})(M3);P3.exports=M3;var mV=P3.exports;/**
 * @license React
 * react-dom.development.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(){typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"&&typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.registerInternalModuleStart=="function"&&__REACT_DEVTOOLS_GLOBAL_HOOK__.registerInternalModuleStart(new Error);var e=Qf,t=mV,r=e.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,h=!1;function y(S){h=S}function P(S){if(!h){for(var E=arguments.length,O=new Array(E>1?E-1:0),F=1;F<E;F++)O[F-1]=arguments[F];T("warn",S,O)}}function n(S){if(!h){for(var E=arguments.length,O=new Array(E>1?E-1:0),F=1;F<E;F++)O[F-1]=arguments[F];T("error",S,O)}}function T(S,E,O){{var F=r.ReactDebugCurrentFrame,N=F.getStackAddendum();N!==""&&(E+="%s",O=O.concat([N]));var W=O.map(function(Z){return String(Z)});W.unshift("Warning: "+E),Function.prototype.apply.call(console[S],console,W)}}var i=0,a=1,x=2,d=3,l=4,o=5,s=6,f=7,c=8,u=9,v=10,p=11,m=12,g=13,C=14,M=15,b=16,w=17,R=18,A=19,L=21,D=22,G=23,B=24,I=25,k=!0,z=!1,X=!1,H=!1,Q=!1,J=!0,Y=!1,$=!0,V=!0,U=!0,K=!0,j=new Set,_={},tt={};function rt(S,E){ot(S,E),ot(S+"Capture",E)}function ot(S,E){_[S]&&n("EventRegistry: More than one plugin attempted to publish the same registration name, `%s`.",S),_[S]=E;{var O=S.toLowerCase();tt[O]=S,S==="onDoubleClick"&&(tt.ondblclick=S)}for(var F=0;F<E.length;F++)j.add(E[F])}var ft=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",ct=Object.prototype.hasOwnProperty;function gt(S){{var E=typeof Symbol=="function"&&Symbol.toStringTag,O=E&&S[Symbol.toStringTag]||S.constructor.name||"Object";return O}}function yt(S){try{return Mt(S),!1}catch{return!0}}function Mt(S){return""+S}function Ct(S,E){if(yt(S))return n("The provided `%s` attribute is an unsupported type %s. This value must be coerced to a string before before using it here.",E,gt(S)),Mt(S)}function Wt(S){if(yt(S))return n("The provided key is an unsupported type %s. This value must be coerced to a string before before using it here.",gt(S)),Mt(S)}function Yt(S,E){if(yt(S))return n("The provided `%s` prop is an unsupported type %s. This value must be coerced to a string before before using it here.",E,gt(S)),Mt(S)}function Ht(S,E){if(yt(S))return n("The provided `%s` CSS property is an unsupported type %s. This value must be coerced to a string before before using it here.",E,gt(S)),Mt(S)}function bt(S){if(yt(S))return n("The provided HTML markup uses a value of unsupported type %s. This value must be coerced to a string before before using it here.",gt(S)),Mt(S)}function kt(S){if(yt(S))return n("Form field values (value, checked, defaultValue, or defaultChecked props) must be strings, not %s. This value must be coerced to a string before before using it here.",gt(S)),Mt(S)}var zt=0,jt=1,fe=2,xe=3,le=4,Ee=5,Qe=6,Bt=":A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD",Ut=Bt+"\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040",te=new RegExp("^["+Bt+"]["+Ut+"]*$"),ce={},Pe={};function yi(S){return ct.call(Pe,S)?!0:ct.call(ce,S)?!1:te.test(S)?(Pe[S]=!0,!0):(ce[S]=!0,n("Invalid attribute name: `%s`",S),!1)}function fi(S,E,O){return E!==null?E.type===zt:O?!1:S.length>2&&(S[0]==="o"||S[0]==="O")&&(S[1]==="n"||S[1]==="N")}function Ai(S,E,O,F){if(O!==null&&O.type===zt)return!1;switch(typeof E){case"function":case"symbol":return!0;case"boolean":{if(F)return!1;if(O!==null)return!O.acceptsBooleans;var N=S.toLowerCase().slice(0,5);return N!=="data-"&&N!=="aria-"}default:return!1}}function qe(S,E,O,F){if(E===null||typeof E>"u"||Ai(S,E,O,F))return!0;if(F)return!1;if(O!==null)switch(O.type){case xe:return!E;case le:return E===!1;case Ee:return isNaN(E);case Qe:return isNaN(E)||E<1}return!1}function Ui(S){return Oi.hasOwnProperty(S)?Oi[S]:null}function wi(S,E,O,F,N,W,Z){this.acceptsBooleans=E===fe||E===xe||E===le,this.attributeName=F,this.attributeNamespace=N,this.mustUseProperty=O,this.propertyName=S,this.type=E,this.sanitizeURL=W,this.removeEmptyString=Z}var Oi={},Wn=["children","dangerouslySetInnerHTML","defaultValue","defaultChecked","innerHTML","suppressContentEditableWarning","suppressHydrationWarning","style"];Wn.forEach(function(S){Oi[S]=new wi(S,zt,!1,S,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(S){var E=S[0],O=S[1];Oi[E]=new wi(E,jt,!1,O,null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(S){Oi[S]=new wi(S,fe,!1,S.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(S){Oi[S]=new wi(S,fe,!1,S,null,!1,!1)}),["allowFullScreen","async","autoFocus","autoPlay","controls","default","defer","disabled","disablePictureInPicture","disableRemotePlayback","formNoValidate","hidden","loop","noModule","noValidate","open","playsInline","readOnly","required","reversed","scoped","seamless","itemScope"].forEach(function(S){Oi[S]=new wi(S,xe,!1,S.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(S){Oi[S]=new wi(S,xe,!0,S,null,!1,!1)}),["capture","download"].forEach(function(S){Oi[S]=new wi(S,le,!1,S,null,!1,!1)}),["cols","rows","size","span"].forEach(function(S){Oi[S]=new wi(S,Qe,!1,S,null,!1,!1)}),["rowSpan","start"].forEach(function(S){Oi[S]=new wi(S,Ee,!1,S.toLowerCase(),null,!1,!1)});var mn=/[\-\:]([a-z])/g,Yn=function(S){return S[1].toUpperCase()};["accent-height","alignment-baseline","arabic-form","baseline-shift","cap-height","clip-path","clip-rule","color-interpolation","color-interpolation-filters","color-profile","color-rendering","dominant-baseline","enable-background","fill-opacity","fill-rule","flood-color","flood-opacity","font-family","font-size","font-size-adjust","font-stretch","font-style","font-variant","font-weight","glyph-name","glyph-orientation-horizontal","glyph-orientation-vertical","horiz-adv-x","horiz-origin-x","image-rendering","letter-spacing","lighting-color","marker-end","marker-mid","marker-start","overline-position","overline-thickness","paint-order","panose-1","pointer-events","rendering-intent","shape-rendering","stop-color","stop-opacity","strikethrough-position","strikethrough-thickness","stroke-dasharray","stroke-dashoffset","stroke-linecap","stroke-linejoin","stroke-miterlimit","stroke-opacity","stroke-width","text-anchor","text-decoration","text-rendering","underline-position","underline-thickness","unicode-bidi","unicode-range","units-per-em","v-alphabetic","v-hanging","v-ideographic","v-mathematical","vector-effect","vert-adv-y","vert-origin-x","vert-origin-y","word-spacing","writing-mode","xmlns:xlink","x-height"].forEach(function(S){var E=S.replace(mn,Yn);Oi[E]=new wi(E,jt,!1,S,null,!1,!1)}),["xlink:actuate","xlink:arcrole","xlink:role","xlink:show","xlink:title","xlink:type"].forEach(function(S){var E=S.replace(mn,Yn);Oi[E]=new wi(E,jt,!1,S,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(S){var E=S.replace(mn,Yn);Oi[E]=new wi(E,jt,!1,S,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(S){Oi[S]=new wi(S,jt,!1,S.toLowerCase(),null,!1,!1)});var ps="xlinkHref";Oi[ps]=new wi("xlinkHref",jt,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(S){Oi[S]=new wi(S,jt,!1,S.toLowerCase(),null,!0,!0)});var _h=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*\:/i,ya=!1;function zs(S){!ya&&_h.test(S)&&(ya=!0,n("A future version of React will block javascript: URLs as a security precaution. Use event handlers instead if you can. If you need to generate unsafe HTML try using dangerouslySetInnerHTML instead. React was passed %s.",JSON.stringify(S)))}function rn(S,E,O,F){if(F.mustUseProperty){var N=F.propertyName;return S[N]}else{Ct(O,E),F.sanitizeURL&&zs(""+O);var W=F.attributeName,Z=null;if(F.type===le){if(S.hasAttribute(W)){var q=S.getAttribute(W);return q===""?!0:qe(E,O,F,!1)?q:q===""+O?O:q}}else if(S.hasAttribute(W)){if(qe(E,O,F,!1))return S.getAttribute(W);if(F.type===xe)return O;Z=S.getAttribute(W)}return qe(E,O,F,!1)?Z===null?O:Z:Z===""+O?O:Z}}function Ca(S,E,O,F){{if(!yi(E))return;if(!S.hasAttribute(E))return O===void 0?void 0:null;var N=S.getAttribute(E);return Ct(O,E),N===""+O?O:N}}function Us(S,E,O,F){var N=Ui(E);if(!fi(E,N,F)){if(qe(E,O,N,F)&&(O=null),F||N===null){if(yi(E)){var W=E;O===null?S.removeAttribute(W):(Ct(O,E),S.setAttribute(W,""+O))}return}var Z=N.mustUseProperty;if(Z){var q=N.propertyName;if(O===null){var et=N.type;S[q]=et===xe?!1:""}else S[q]=O;return}var nt=N.attributeName,at=N.attributeNamespace;if(O===null)S.removeAttribute(nt);else{var pt=N.type,vt;pt===xe||pt===le&&O===!0?vt="":(Ct(O,nt),vt=""+O,N.sanitizeURL&&zs(vt.toString())),at?S.setAttributeNS(at,nt,vt):S.setAttribute(nt,vt)}}}var Me=Symbol.for("react.element"),Xn=Symbol.for("react.portal"),ut=Symbol.for("react.fragment"),Gt=Symbol.for("react.strict_mode"),Kt=Symbol.for("react.profiler"),ue=Symbol.for("react.provider"),je=Symbol.for("react.context"),be=Symbol.for("react.forward_ref"),Ve=Symbol.for("react.suspense"),ke=Symbol.for("react.suspense_list"),Ii=Symbol.for("react.memo"),Ze=Symbol.for("react.lazy"),Gi=Symbol.for("react.scope"),pr=Symbol.for("react.debug_trace_mode"),Hn=Symbol.for("react.offscreen"),$n=Symbol.for("react.legacy_hidden"),lr=Symbol.for("react.cache"),qa=Symbol.for("react.tracing_marker"),$o=Symbol.iterator,tl="@@iterator";function Vs(S){if(S===null||typeof S!="object")return null;var E=$o&&S[$o]||S[tl];return typeof E=="function"?E:null}var We=Object.assign,_a=0,Ar,Ko,Kn,el,il,rl,Ws;function nl(){}nl.__reactDisabledLog=!0;function yu(){{if(_a===0){Ar=console.log,Ko=console.info,Kn=console.warn,el=console.error,il=console.group,rl=console.groupCollapsed,Ws=console.groupEnd;var S={configurable:!0,enumerable:!0,value:nl,writable:!0};Object.defineProperties(console,{info:S,log:S,warn:S,error:S,group:S,groupCollapsed:S,groupEnd:S})}_a++}}function to(){{if(_a--,_a===0){var S={configurable:!0,enumerable:!0,writable:!0};Object.defineProperties(console,{log:We({},S,{value:Ar}),info:We({},S,{value:Ko}),warn:We({},S,{value:Kn}),error:We({},S,{value:el}),group:We({},S,{value:il}),groupCollapsed:We({},S,{value:rl}),groupEnd:We({},S,{value:Ws})})}_a<0&&n("disabledDepth fell below zero. This is a bug in React. Please file an issue.")}}var sl=r.ReactCurrentDispatcher,Zn;function An(S,E,O){{if(Zn===void 0)try{throw Error()}catch(N){var F=N.stack.trim().match(/\n( *(at )?)/);Zn=F&&F[1]||""}return`
`+Zn+S}}var Sa=!1,gs;{var st=typeof WeakMap=="function"?WeakMap:Map;gs=new st}function ht(S,E){if(!S||Sa)return"";{var O=gs.get(S);if(O!==void 0)return O}var F;Sa=!0;var N=Error.prepareStackTrace;Error.prepareStackTrace=void 0;var W;W=sl.current,sl.current=null,yu();try{if(E){var Z=function(){throw Error()};if(Object.defineProperty(Z.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(Z,[])}catch(Pt){F=Pt}Reflect.construct(S,[],Z)}else{try{Z.call()}catch(Pt){F=Pt}S.call(Z.prototype)}}else{try{throw Error()}catch(Pt){F=Pt}S()}}catch(Pt){if(Pt&&F&&typeof Pt.stack=="string"){for(var q=Pt.stack.split(`
`),et=F.stack.split(`
`),nt=q.length-1,at=et.length-1;nt>=1&&at>=0&&q[nt]!==et[at];)at--;for(;nt>=1&&at>=0;nt--,at--)if(q[nt]!==et[at]){if(nt!==1||at!==1)do if(nt--,at--,at<0||q[nt]!==et[at]){var pt=`
`+q[nt].replace(" at new "," at ");return S.displayName&&pt.includes("<anonymous>")&&(pt=pt.replace("<anonymous>",S.displayName)),typeof S=="function"&&gs.set(S,pt),pt}while(nt>=1&&at>=0);break}}}finally{Sa=!1,sl.current=W,to(),Error.prepareStackTrace=N}var vt=S?S.displayName||S.name:"",St=vt?An(vt):"";return typeof S=="function"&&gs.set(S,St),St}function dt(S,E,O){return ht(S,!0)}function Tt(S,E,O){return ht(S,!1)}function wt(S){var E=S.prototype;return!!(E&&E.isReactComponent)}function $t(S,E,O){if(S==null)return"";if(typeof S=="function")return ht(S,wt(S));if(typeof S=="string")return An(S);switch(S){case Ve:return An("Suspense");case ke:return An("SuspenseList")}if(typeof S=="object")switch(S.$$typeof){case be:return Tt(S.render);case Ii:return $t(S.type,E,O);case Ze:{var F=S,N=F._payload,W=F._init;try{return $t(W(N),E,O)}catch{}}}return""}function oe(S){switch(S._debugOwner&&S._debugOwner.type,S._debugSource,S.tag){case o:return An(S.type);case b:return An("Lazy");case g:return An("Suspense");case A:return An("SuspenseList");case i:case x:case M:return Tt(S.type);case p:return Tt(S.type.render);case a:return dt(S.type);default:return""}}function re(S){try{var E="",O=S;do E+=oe(O),O=O.return;while(O);return E}catch(F){return`
Error generating stack: `+F.message+`
`+F.stack}}function He(S,E,O){var F=S.displayName;if(F)return F;var N=E.displayName||E.name||"";return N!==""?O+"("+N+")":O}function ve(S){return S.displayName||"Context"}function ee(S){if(S==null)return null;if(typeof S.tag=="number"&&n("Received an unexpected object in getComponentNameFromType(). This is likely a bug in React. Please file an issue."),typeof S=="function")return S.displayName||S.name||null;if(typeof S=="string")return S;switch(S){case ut:return"Fragment";case Xn:return"Portal";case Kt:return"Profiler";case Gt:return"StrictMode";case Ve:return"Suspense";case ke:return"SuspenseList"}if(typeof S=="object")switch(S.$$typeof){case je:var E=S;return ve(E)+".Consumer";case ue:var O=S;return ve(O._context)+".Provider";case be:return He(S,S.render,"ForwardRef");case Ii:var F=S.displayName||null;return F!==null?F:ee(S.type)||"Memo";case Ze:{var N=S,W=N._payload,Z=N._init;try{return ee(Z(W))}catch{return null}}}return null}function ai(S,E,O){var F=E.displayName||E.name||"";return S.displayName||(F!==""?O+"("+F+")":O)}function Ne(S){return S.displayName||"Context"}function Dt(S){var E=S.tag,O=S.type;switch(E){case B:return"Cache";case u:var F=O;return Ne(F)+".Consumer";case v:var N=O;return Ne(N._context)+".Provider";case R:return"DehydratedFragment";case p:return ai(O,O.render,"ForwardRef");case f:return"Fragment";case o:return O;case l:return"Portal";case d:return"Root";case s:return"Text";case b:return ee(O);case c:return O===Gt?"StrictMode":"Mode";case D:return"Offscreen";case m:return"Profiler";case L:return"Scope";case g:return"Suspense";case A:return"SuspenseList";case I:return"TracingMarker";case a:case i:case w:case x:case C:case M:if(typeof O=="function")return O.displayName||O.name||null;if(typeof O=="string")return O;break}return null}var se=r.ReactDebugCurrentFrame,he=null,Ri=!1;function ae(){{if(he===null)return null;var S=he._debugOwner;if(S!==null&&typeof S<"u")return Dt(S)}return null}function ki(){return he===null?"":re(he)}function Se(){se.getCurrentStack=null,he=null,Ri=!1}function Ye(S){se.getCurrentStack=S===null?null:ki,he=S,Ri=!1}function Jn(){return he}function nn(S){Ri=S}function Vr(S){return""+S}function ms(S){switch(typeof S){case"boolean":case"number":case"string":case"undefined":return S;case"object":return kt(S),S;default:return""}}var al={button:!0,checkbox:!0,image:!0,hidden:!0,radio:!0,reset:!0,submit:!0};function Zo(S,E){al[E.type]||E.onChange||E.onInput||E.readOnly||E.disabled||E.value==null||n("You provided a `value` prop to a form field without an `onChange` handler. This will render a read-only field. If the field should be mutable use `defaultValue`. Otherwise, set either `onChange` or `readOnly`."),E.onChange||E.readOnly||E.disabled||E.checked==null||n("You provided a `checked` prop to a form field without an `onChange` handler. This will render a read-only field. If the field should be mutable use `defaultChecked`. Otherwise, set either `onChange` or `readOnly`.")}function eo(S){var E=S.type,O=S.nodeName;return O&&O.toLowerCase()==="input"&&(E==="checkbox"||E==="radio")}function Qt(S){return S._valueTracker}function Or(S){S._valueTracker=null}function Ys(S){var E="";return S&&(eo(S)?E=S.checked?"true":"false":E=S.value),E}function ol(S){var E=eo(S)?"checked":"value",O=Object.getOwnPropertyDescriptor(S.constructor.prototype,E);kt(S[E]);var F=""+S[E];if(!(S.hasOwnProperty(E)||typeof O>"u"||typeof O.get!="function"||typeof O.set!="function")){var N=O.get,W=O.set;Object.defineProperty(S,E,{configurable:!0,get:function(){return N.call(this)},set:function(q){kt(q),F=""+q,W.call(this,q)}}),Object.defineProperty(S,E,{enumerable:O.enumerable});var Z={getValue:function(){return F},setValue:function(q){kt(q),F=""+q},stopTracking:function(){Or(S),delete S[E]}};return Z}}function io(S){Qt(S)||(S._valueTracker=ol(S))}function Cu(S){if(!S)return!1;var E=Qt(S);if(!E)return!0;var O=E.getValue(),F=Ys(S);return F!==O?(E.setValue(F),!0):!1}function Jo(S){if(S=S||(typeof document<"u"?document:void 0),typeof S>"u")return null;try{return S.activeElement||S.body}catch{return S.body}}var Su=!1,gp=!1,mp=!1,xp=!1;function yp(S){var E=S.type==="checkbox"||S.type==="radio";return E?S.checked!=null:S.value!=null}function it(S,E){var O=S,F=E.checked,N=We({},E,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:F??O._wrapperState.initialChecked});return N}function lt(S,E){Zo("input",E),E.checked!==void 0&&E.defaultChecked!==void 0&&!gp&&(n("%s contains an input of type %s with both checked and defaultChecked props. Input elements must be either controlled or uncontrolled (specify either the checked prop, or the defaultChecked prop, but not both). Decide between using a controlled or uncontrolled input element and remove one of these props. More info: https://reactjs.org/link/controlled-components",ae()||"A component",E.type),gp=!0),E.value!==void 0&&E.defaultValue!==void 0&&!Su&&(n("%s contains an input of type %s with both value and defaultValue props. Input elements must be either controlled or uncontrolled (specify either the value prop, or the defaultValue prop, but not both). Decide between using a controlled or uncontrolled input element and remove one of these props. More info: https://reactjs.org/link/controlled-components",ae()||"A component",E.type),Su=!0);var O=S,F=E.defaultValue==null?"":E.defaultValue;O._wrapperState={initialChecked:E.checked!=null?E.checked:E.defaultChecked,initialValue:ms(E.value!=null?E.value:F),controlled:yp(E)}}function Et(S,E){var O=S,F=E.checked;F!=null&&Us(O,"checked",F,!1)}function Rt(S,E){var O=S;{var F=yp(E);!O._wrapperState.controlled&&F&&!xp&&(n("A component is changing an uncontrolled input to be controlled. This is likely caused by the value changing from undefined to a defined value, which should not happen. Decide between using a controlled or uncontrolled input element for the lifetime of the component. More info: https://reactjs.org/link/controlled-components"),xp=!0),O._wrapperState.controlled&&!F&&!mp&&(n("A component is changing a controlled input to be uncontrolled. This is likely caused by the value changing from a defined to undefined, which should not happen. Decide between using a controlled or uncontrolled input element for the lifetime of the component. More info: https://reactjs.org/link/controlled-components"),mp=!0)}Et(S,E);var N=ms(E.value),W=E.type;if(N!=null)W==="number"?(N===0&&O.value===""||O.value!=N)&&(O.value=Vr(N)):O.value!==Vr(N)&&(O.value=Vr(N));else if(W==="submit"||W==="reset"){O.removeAttribute("value");return}E.hasOwnProperty("value")?Fe(O,E.type,N):E.hasOwnProperty("defaultValue")&&Fe(O,E.type,ms(E.defaultValue)),E.checked==null&&E.defaultChecked!=null&&(O.defaultChecked=!!E.defaultChecked)}function Xt(S,E,O){var F=S;if(E.hasOwnProperty("value")||E.hasOwnProperty("defaultValue")){var N=E.type,W=N==="submit"||N==="reset";if(W&&(E.value===void 0||E.value===null))return;var Z=Vr(F._wrapperState.initialValue);O||Z!==F.value&&(F.value=Z),F.defaultValue=Z}var q=F.name;q!==""&&(F.name=""),F.defaultChecked=!F.defaultChecked,F.defaultChecked=!!F._wrapperState.initialChecked,q!==""&&(F.name=q)}function Ae(S,E){var O=S;Rt(O,E),pe(O,E)}function pe(S,E){var O=E.name;if(E.type==="radio"&&O!=null){for(var F=S;F.parentNode;)F=F.parentNode;Ct(O,"name");for(var N=F.querySelectorAll("input[name="+JSON.stringify(""+O)+'][type="radio"]'),W=0;W<N.length;W++){var Z=N[W];if(!(Z===S||Z.form!==S.form)){var q=sg(Z);if(!q)throw new Error("ReactDOMInput: Mixing React and non-React radio inputs with the same `name` is not supported.");Cu(Z),Rt(Z,q)}}}}function Fe(S,E,O){(E!=="number"||Jo(S.ownerDocument)!==S)&&(O==null?S.defaultValue=Vr(S._wrapperState.initialValue):S.defaultValue!==Vr(O)&&(S.defaultValue=Vr(O)))}var ti=!1,Ti=!1,Li=!1;function Fi(S,E){E.value==null&&(typeof E.children=="object"&&E.children!==null?e.Children.forEach(E.children,function(O){O!=null&&(typeof O=="string"||typeof O=="number"||Ti||(Ti=!0,n("Cannot infer the option value of complex children. Pass a `value` prop or use a plain string as children to <option>.")))}):E.dangerouslySetInnerHTML!=null&&(Li||(Li=!0,n("Pass a `value` prop if you set dangerouslyInnerHTML so React knows which value should be selected.")))),E.selected!=null&&!ti&&(n("Use the `defaultValue` or `value` props on <select> instead of setting `selected` on <option>."),ti=!0)}function Vi(S,E){E.value!=null&&S.setAttribute("value",Vr(ms(E.value)))}var Qi=Array.isArray;function di(S){return Qi(S)}var Qo;Qo=!1;function Tu(){var S=ae();return S?`

Check the render method of \``+S+"`.":""}var dd=["value","defaultValue"];function iy(S){{Zo("select",S);for(var E=0;E<dd.length;E++){var O=dd[E];if(S[O]!=null){var F=di(S[O]);S.multiple&&!F?n("The `%s` prop supplied to <select> must be an array if `multiple` is true.%s",O,Tu()):!S.multiple&&F&&n("The `%s` prop supplied to <select> must be a scalar value if `multiple` is false.%s",O,Tu())}}}}function ro(S,E,O,F){var N=S.options;if(E){for(var W=O,Z={},q=0;q<W.length;q++)Z["$"+W[q]]=!0;for(var et=0;et<N.length;et++){var nt=Z.hasOwnProperty("$"+N[et].value);N[et].selected!==nt&&(N[et].selected=nt),nt&&F&&(N[et].defaultSelected=!0)}}else{for(var at=Vr(ms(O)),pt=null,vt=0;vt<N.length;vt++){if(N[vt].value===at){N[vt].selected=!0,F&&(N[vt].defaultSelected=!0);return}pt===null&&!N[vt].disabled&&(pt=N[vt])}pt!==null&&(pt.selected=!0)}}function cd(S,E){return We({},E,{value:void 0})}function vd(S,E){var O=S;iy(E),O._wrapperState={wasMultiple:!!E.multiple},E.value!==void 0&&E.defaultValue!==void 0&&!Qo&&(n("Select elements must be either controlled or uncontrolled (specify either the value prop, or the defaultValue prop, but not both). Decide between using a controlled or uncontrolled select element and remove one of these props. More info: https://reactjs.org/link/controlled-components"),Qo=!0)}function ry(S,E){var O=S;O.multiple=!!E.multiple;var F=E.value;F!=null?ro(O,!!E.multiple,F,!1):E.defaultValue!=null&&ro(O,!!E.multiple,E.defaultValue,!0)}function K5(S,E){var O=S,F=O._wrapperState.wasMultiple;O._wrapperState.wasMultiple=!!E.multiple;var N=E.value;N!=null?ro(O,!!E.multiple,N,!1):F!==!!E.multiple&&(E.defaultValue!=null?ro(O,!!E.multiple,E.defaultValue,!0):ro(O,!!E.multiple,E.multiple?[]:"",!1))}function Z5(S,E){var O=S,F=E.value;F!=null&&ro(O,!!E.multiple,F,!1)}var ab=!1;function ny(S,E){var O=S;if(E.dangerouslySetInnerHTML!=null)throw new Error("`dangerouslySetInnerHTML` does not make sense on <textarea>.");var F=We({},E,{value:void 0,defaultValue:void 0,children:Vr(O._wrapperState.initialValue)});return F}function ob(S,E){var O=S;Zo("textarea",E),E.value!==void 0&&E.defaultValue!==void 0&&!ab&&(n("%s contains a textarea with both value and defaultValue props. Textarea elements must be either controlled or uncontrolled (specify either the value prop, or the defaultValue prop, but not both). Decide between using a controlled or uncontrolled textarea and remove one of these props. More info: https://reactjs.org/link/controlled-components",ae()||"A component"),ab=!0);var F=E.value;if(F==null){var N=E.children,W=E.defaultValue;if(N!=null){n("Use the `defaultValue` or `value` props instead of setting children on <textarea>.");{if(W!=null)throw new Error("If you supply `defaultValue` on a <textarea>, do not pass children.");if(di(N)){if(N.length>1)throw new Error("<textarea> can only have at most one child.");N=N[0]}W=N}}W==null&&(W=""),F=W}O._wrapperState={initialValue:ms(F)}}function hb(S,E){var O=S,F=ms(E.value),N=ms(E.defaultValue);if(F!=null){var W=Vr(F);W!==O.value&&(O.value=W),E.defaultValue==null&&O.defaultValue!==W&&(O.defaultValue=W)}N!=null&&(O.defaultValue=Vr(N))}function lb(S,E){var O=S,F=O.textContent;F===O._wrapperState.initialValue&&F!==""&&F!==null&&(O.value=F)}function J5(S,E){hb(S,E)}var no="http://www.w3.org/1999/xhtml",Q5="http://www.w3.org/1998/Math/MathML",sy="http://www.w3.org/2000/svg";function ay(S){switch(S){case"svg":return sy;case"math":return Q5;default:return no}}function oy(S,E){return S==null||S===no?ay(E):S===sy&&E==="foreignObject"?no:S}var j5=function(S){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(E,O,F,N){MSApp.execUnsafeLocalFunction(function(){return S(E,O,F,N)})}:S},Cp,ub=j5(function(S,E){if(S.namespaceURI===sy&&!("innerHTML"in S)){Cp=Cp||document.createElement("div"),Cp.innerHTML="<svg>"+E.valueOf().toString()+"</svg>";for(var O=Cp.firstChild;S.firstChild;)S.removeChild(S.firstChild);for(;O.firstChild;)S.appendChild(O.firstChild);return}S.innerHTML=E}),On=1,so=3,ur=8,ao=9,hy=11,Sp=function(S,E){if(E){var O=S.firstChild;if(O&&O===S.lastChild&&O.nodeType===so){O.nodeValue=E;return}}S.textContent=E},q5={animation:["animationDelay","animationDirection","animationDuration","animationFillMode","animationIterationCount","animationName","animationPlayState","animationTimingFunction"],background:["backgroundAttachment","backgroundClip","backgroundColor","backgroundImage","backgroundOrigin","backgroundPositionX","backgroundPositionY","backgroundRepeat","backgroundSize"],backgroundPosition:["backgroundPositionX","backgroundPositionY"],border:["borderBottomColor","borderBottomStyle","borderBottomWidth","borderImageOutset","borderImageRepeat","borderImageSlice","borderImageSource","borderImageWidth","borderLeftColor","borderLeftStyle","borderLeftWidth","borderRightColor","borderRightStyle","borderRightWidth","borderTopColor","borderTopStyle","borderTopWidth"],borderBlockEnd:["borderBlockEndColor","borderBlockEndStyle","borderBlockEndWidth"],borderBlockStart:["borderBlockStartColor","borderBlockStartStyle","borderBlockStartWidth"],borderBottom:["borderBottomColor","borderBottomStyle","borderBottomWidth"],borderColor:["borderBottomColor","borderLeftColor","borderRightColor","borderTopColor"],borderImage:["borderImageOutset","borderImageRepeat","borderImageSlice","borderImageSource","borderImageWidth"],borderInlineEnd:["borderInlineEndColor","borderInlineEndStyle","borderInlineEndWidth"],borderInlineStart:["borderInlineStartColor","borderInlineStartStyle","borderInlineStartWidth"],borderLeft:["borderLeftColor","borderLeftStyle","borderLeftWidth"],borderRadius:["borderBottomLeftRadius","borderBottomRightRadius","borderTopLeftRadius","borderTopRightRadius"],borderRight:["borderRightColor","borderRightStyle","borderRightWidth"],borderStyle:["borderBottomStyle","borderLeftStyle","borderRightStyle","borderTopStyle"],borderTop:["borderTopColor","borderTopStyle","borderTopWidth"],borderWidth:["borderBottomWidth","borderLeftWidth","borderRightWidth","borderTopWidth"],columnRule:["columnRuleColor","columnRuleStyle","columnRuleWidth"],columns:["columnCount","columnWidth"],flex:["flexBasis","flexGrow","flexShrink"],flexFlow:["flexDirection","flexWrap"],font:["fontFamily","fontFeatureSettings","fontKerning","fontLanguageOverride","fontSize","fontSizeAdjust","fontStretch","fontStyle","fontVariant","fontVariantAlternates","fontVariantCaps","fontVariantEastAsian","fontVariantLigatures","fontVariantNumeric","fontVariantPosition","fontWeight","lineHeight"],fontVariant:["fontVariantAlternates","fontVariantCaps","fontVariantEastAsian","fontVariantLigatures","fontVariantNumeric","fontVariantPosition"],gap:["columnGap","rowGap"],grid:["gridAutoColumns","gridAutoFlow","gridAutoRows","gridTemplateAreas","gridTemplateColumns","gridTemplateRows"],gridArea:["gridColumnEnd","gridColumnStart","gridRowEnd","gridRowStart"],gridColumn:["gridColumnEnd","gridColumnStart"],gridColumnGap:["columnGap"],gridGap:["columnGap","rowGap"],gridRow:["gridRowEnd","gridRowStart"],gridRowGap:["rowGap"],gridTemplate:["gridTemplateAreas","gridTemplateColumns","gridTemplateRows"],listStyle:["listStyleImage","listStylePosition","listStyleType"],margin:["marginBottom","marginLeft","marginRight","marginTop"],marker:["markerEnd","markerMid","markerStart"],mask:["maskClip","maskComposite","maskImage","maskMode","maskOrigin","maskPositionX","maskPositionY","maskRepeat","maskSize"],maskPosition:["maskPositionX","maskPositionY"],outline:["outlineColor","outlineStyle","outlineWidth"],overflow:["overflowX","overflowY"],padding:["paddingBottom","paddingLeft","paddingRight","paddingTop"],placeContent:["alignContent","justifyContent"],placeItems:["alignItems","justifyItems"],placeSelf:["alignSelf","justifySelf"],textDecoration:["textDecorationColor","textDecorationLine","textDecorationStyle"],textEmphasis:["textEmphasisColor","textEmphasisStyle"],transition:["transitionDelay","transitionDuration","transitionProperty","transitionTimingFunction"],wordWrap:["overflowWrap"]},pd={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0};function _5(S,E){return S+E.charAt(0).toUpperCase()+E.substring(1)}var t9=["Webkit","ms","Moz","O"];Object.keys(pd).forEach(function(S){t9.forEach(function(E){pd[_5(E,S)]=pd[S]})});function ly(S,E,O){var F=E==null||typeof E=="boolean"||E==="";return F?"":!O&&typeof E=="number"&&E!==0&&!(pd.hasOwnProperty(S)&&pd[S])?E+"px":(Ht(E,S),(""+E).trim())}var e9=/([A-Z])/g,i9=/^ms-/;function r9(S){return S.replace(e9,"-$1").toLowerCase().replace(i9,"-ms-")}var fb=function(){};{var n9=/^(?:webkit|moz|o)[A-Z]/,s9=/^-ms-/,a9=/-(.)/g,db=/;\s*$/,Eu={},uy={},cb=!1,vb=!1,o9=function(S){return S.replace(a9,function(E,O){return O.toUpperCase()})},h9=function(S){Eu.hasOwnProperty(S)&&Eu[S]||(Eu[S]=!0,n("Unsupported style property %s. Did you mean %s?",S,o9(S.replace(s9,"ms-"))))},l9=function(S){Eu.hasOwnProperty(S)&&Eu[S]||(Eu[S]=!0,n("Unsupported vendor-prefixed style property %s. Did you mean %s?",S,S.charAt(0).toUpperCase()+S.slice(1)))},u9=function(S,E){uy.hasOwnProperty(E)&&uy[E]||(uy[E]=!0,n(`Style property values shouldn't contain a semicolon. Try "%s: %s" instead.`,S,E.replace(db,"")))},f9=function(S,E){cb||(cb=!0,n("`NaN` is an invalid value for the `%s` css style property.",S))},d9=function(S,E){vb||(vb=!0,n("`Infinity` is an invalid value for the `%s` css style property.",S))};fb=function(S,E){S.indexOf("-")>-1?h9(S):n9.test(S)?l9(S):db.test(E)&&u9(S,E),typeof E=="number"&&(isNaN(E)?f9(S,E):isFinite(E)||d9(S,E))}}var c9=fb;function v9(S){{var E="",O="";for(var F in S)if(S.hasOwnProperty(F)){var N=S[F];if(N!=null){var W=F.indexOf("--")===0;E+=O+(W?F:r9(F))+":",E+=ly(F,N,W),O=";"}}return E||null}}function pb(S,E){var O=S.style;for(var F in E)if(E.hasOwnProperty(F)){var N=F.indexOf("--")===0;N||c9(F,E[F]);var W=ly(F,E[F],N);F==="float"&&(F="cssFloat"),N?O.setProperty(F,W):O[F]=W}}function p9(S){return S==null||typeof S=="boolean"||S===""}function gb(S){var E={};for(var O in S)for(var F=q5[O]||[O],N=0;N<F.length;N++)E[F[N]]=O;return E}function g9(S,E){{if(!E)return;var O=gb(S),F=gb(E),N={};for(var W in O){var Z=O[W],q=F[W];if(q&&Z!==q){var et=Z+","+q;if(N[et])continue;N[et]=!0,n("%s a style property during rerender (%s) when a conflicting property is set (%s) can lead to styling bugs. To avoid this, don't mix shorthand and non-shorthand properties for the same value; instead, replace the shorthand with separate values.",p9(S[Z])?"Removing":"Updating",Z,q)}}}}var m9={area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0},x9=We({menuitem:!0},m9),y9="__html";function fy(S,E){if(E){if(x9[S]&&(E.children!=null||E.dangerouslySetInnerHTML!=null))throw new Error(S+" is a void element tag and must neither have `children` nor use `dangerouslySetInnerHTML`.");if(E.dangerouslySetInnerHTML!=null){if(E.children!=null)throw new Error("Can only set one of `children` or `props.dangerouslySetInnerHTML`.");if(typeof E.dangerouslySetInnerHTML!="object"||!(y9 in E.dangerouslySetInnerHTML))throw new Error("`props.dangerouslySetInnerHTML` must be in the form `{__html: ...}`. Please visit https://reactjs.org/link/dangerously-set-inner-html for more information.")}if(!E.suppressContentEditableWarning&&E.contentEditable&&E.children!=null&&n("A component is `contentEditable` and contains `children` managed by React. It is now your responsibility to guarantee that none of those nodes are unexpectedly modified or duplicated. This is probably not intentional."),E.style!=null&&typeof E.style!="object")throw new Error("The `style` prop expects a mapping from style properties to values, not a string. For example, style={{marginRight: spacing + 'em'}} when using JSX.")}}function hl(S,E){if(S.indexOf("-")===-1)return typeof E.is=="string";switch(S){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Tp={accept:"accept",acceptcharset:"acceptCharset","accept-charset":"acceptCharset",accesskey:"accessKey",action:"action",allowfullscreen:"allowFullScreen",alt:"alt",as:"as",async:"async",autocapitalize:"autoCapitalize",autocomplete:"autoComplete",autocorrect:"autoCorrect",autofocus:"autoFocus",autoplay:"autoPlay",autosave:"autoSave",capture:"capture",cellpadding:"cellPadding",cellspacing:"cellSpacing",challenge:"challenge",charset:"charSet",checked:"checked",children:"children",cite:"cite",class:"className",classid:"classID",classname:"className",cols:"cols",colspan:"colSpan",content:"content",contenteditable:"contentEditable",contextmenu:"contextMenu",controls:"controls",controlslist:"controlsList",coords:"coords",crossorigin:"crossOrigin",dangerouslysetinnerhtml:"dangerouslySetInnerHTML",data:"data",datetime:"dateTime",default:"default",defaultchecked:"defaultChecked",defaultvalue:"defaultValue",defer:"defer",dir:"dir",disabled:"disabled",disablepictureinpicture:"disablePictureInPicture",disableremoteplayback:"disableRemotePlayback",download:"download",draggable:"draggable",enctype:"encType",enterkeyhint:"enterKeyHint",for:"htmlFor",form:"form",formmethod:"formMethod",formaction:"formAction",formenctype:"formEncType",formnovalidate:"formNoValidate",formtarget:"formTarget",frameborder:"frameBorder",headers:"headers",height:"height",hidden:"hidden",high:"high",href:"href",hreflang:"hrefLang",htmlfor:"htmlFor",httpequiv:"httpEquiv","http-equiv":"httpEquiv",icon:"icon",id:"id",imagesizes:"imageSizes",imagesrcset:"imageSrcSet",innerhtml:"innerHTML",inputmode:"inputMode",integrity:"integrity",is:"is",itemid:"itemID",itemprop:"itemProp",itemref:"itemRef",itemscope:"itemScope",itemtype:"itemType",keyparams:"keyParams",keytype:"keyType",kind:"kind",label:"label",lang:"lang",list:"list",loop:"loop",low:"low",manifest:"manifest",marginwidth:"marginWidth",marginheight:"marginHeight",max:"max",maxlength:"maxLength",media:"media",mediagroup:"mediaGroup",method:"method",min:"min",minlength:"minLength",multiple:"multiple",muted:"muted",name:"name",nomodule:"noModule",nonce:"nonce",novalidate:"noValidate",open:"open",optimum:"optimum",pattern:"pattern",placeholder:"placeholder",playsinline:"playsInline",poster:"poster",preload:"preload",profile:"profile",radiogroup:"radioGroup",readonly:"readOnly",referrerpolicy:"referrerPolicy",rel:"rel",required:"required",reversed:"reversed",role:"role",rows:"rows",rowspan:"rowSpan",sandbox:"sandbox",scope:"scope",scoped:"scoped",scrolling:"scrolling",seamless:"seamless",selected:"selected",shape:"shape",size:"size",sizes:"sizes",span:"span",spellcheck:"spellCheck",src:"src",srcdoc:"srcDoc",srclang:"srcLang",srcset:"srcSet",start:"start",step:"step",style:"style",summary:"summary",tabindex:"tabIndex",target:"target",title:"title",type:"type",usemap:"useMap",value:"value",width:"width",wmode:"wmode",wrap:"wrap",about:"about",accentheight:"accentHeight","accent-height":"accentHeight",accumulate:"accumulate",additive:"additive",alignmentbaseline:"alignmentBaseline","alignment-baseline":"alignmentBaseline",allowreorder:"allowReorder",alphabetic:"alphabetic",amplitude:"amplitude",arabicform:"arabicForm","arabic-form":"arabicForm",ascent:"ascent",attributename:"attributeName",attributetype:"attributeType",autoreverse:"autoReverse",azimuth:"azimuth",basefrequency:"baseFrequency",baselineshift:"baselineShift","baseline-shift":"baselineShift",baseprofile:"baseProfile",bbox:"bbox",begin:"begin",bias:"bias",by:"by",calcmode:"calcMode",capheight:"capHeight","cap-height":"capHeight",clip:"clip",clippath:"clipPath","clip-path":"clipPath",clippathunits:"clipPathUnits",cliprule:"clipRule","clip-rule":"clipRule",color:"color",colorinterpolation:"colorInterpolation","color-interpolation":"colorInterpolation",colorinterpolationfilters:"colorInterpolationFilters","color-interpolation-filters":"colorInterpolationFilters",colorprofile:"colorProfile","color-profile":"colorProfile",colorrendering:"colorRendering","color-rendering":"colorRendering",contentscripttype:"contentScriptType",contentstyletype:"contentStyleType",cursor:"cursor",cx:"cx",cy:"cy",d:"d",datatype:"datatype",decelerate:"decelerate",descent:"descent",diffuseconstant:"diffuseConstant",direction:"direction",display:"display",divisor:"divisor",dominantbaseline:"dominantBaseline","dominant-baseline":"dominantBaseline",dur:"dur",dx:"dx",dy:"dy",edgemode:"edgeMode",elevation:"elevation",enablebackground:"enableBackground","enable-background":"enableBackground",end:"end",exponent:"exponent",externalresourcesrequired:"externalResourcesRequired",fill:"fill",fillopacity:"fillOpacity","fill-opacity":"fillOpacity",fillrule:"fillRule","fill-rule":"fillRule",filter:"filter",filterres:"filterRes",filterunits:"filterUnits",floodopacity:"floodOpacity","flood-opacity":"floodOpacity",floodcolor:"floodColor","flood-color":"floodColor",focusable:"focusable",fontfamily:"fontFamily","font-family":"fontFamily",fontsize:"fontSize","font-size":"fontSize",fontsizeadjust:"fontSizeAdjust","font-size-adjust":"fontSizeAdjust",fontstretch:"fontStretch","font-stretch":"fontStretch",fontstyle:"fontStyle","font-style":"fontStyle",fontvariant:"fontVariant","font-variant":"fontVariant",fontweight:"fontWeight","font-weight":"fontWeight",format:"format",from:"from",fx:"fx",fy:"fy",g1:"g1",g2:"g2",glyphname:"glyphName","glyph-name":"glyphName",glyphorientationhorizontal:"glyphOrientationHorizontal","glyph-orientation-horizontal":"glyphOrientationHorizontal",glyphorientationvertical:"glyphOrientationVertical","glyph-orientation-vertical":"glyphOrientationVertical",glyphref:"glyphRef",gradienttransform:"gradientTransform",gradientunits:"gradientUnits",hanging:"hanging",horizadvx:"horizAdvX","horiz-adv-x":"horizAdvX",horizoriginx:"horizOriginX","horiz-origin-x":"horizOriginX",ideographic:"ideographic",imagerendering:"imageRendering","image-rendering":"imageRendering",in2:"in2",in:"in",inlist:"inlist",intercept:"intercept",k1:"k1",k2:"k2",k3:"k3",k4:"k4",k:"k",kernelmatrix:"kernelMatrix",kernelunitlength:"kernelUnitLength",kerning:"kerning",keypoints:"keyPoints",keysplines:"keySplines",keytimes:"keyTimes",lengthadjust:"lengthAdjust",letterspacing:"letterSpacing","letter-spacing":"letterSpacing",lightingcolor:"lightingColor","lighting-color":"lightingColor",limitingconeangle:"limitingConeAngle",local:"local",markerend:"markerEnd","marker-end":"markerEnd",markerheight:"markerHeight",markermid:"markerMid","marker-mid":"markerMid",markerstart:"markerStart","marker-start":"markerStart",markerunits:"markerUnits",markerwidth:"markerWidth",mask:"mask",maskcontentunits:"maskContentUnits",maskunits:"maskUnits",mathematical:"mathematical",mode:"mode",numoctaves:"numOctaves",offset:"offset",opacity:"opacity",operator:"operator",order:"order",orient:"orient",orientation:"orientation",origin:"origin",overflow:"overflow",overlineposition:"overlinePosition","overline-position":"overlinePosition",overlinethickness:"overlineThickness","overline-thickness":"overlineThickness",paintorder:"paintOrder","paint-order":"paintOrder",panose1:"panose1","panose-1":"panose1",pathlength:"pathLength",patterncontentunits:"patternContentUnits",patterntransform:"patternTransform",patternunits:"patternUnits",pointerevents:"pointerEvents","pointer-events":"pointerEvents",points:"points",pointsatx:"pointsAtX",pointsaty:"pointsAtY",pointsatz:"pointsAtZ",prefix:"prefix",preservealpha:"preserveAlpha",preserveaspectratio:"preserveAspectRatio",primitiveunits:"primitiveUnits",property:"property",r:"r",radius:"radius",refx:"refX",refy:"refY",renderingintent:"renderingIntent","rendering-intent":"renderingIntent",repeatcount:"repeatCount",repeatdur:"repeatDur",requiredextensions:"requiredExtensions",requiredfeatures:"requiredFeatures",resource:"resource",restart:"restart",result:"result",results:"results",rotate:"rotate",rx:"rx",ry:"ry",scale:"scale",security:"security",seed:"seed",shaperendering:"shapeRendering","shape-rendering":"shapeRendering",slope:"slope",spacing:"spacing",specularconstant:"specularConstant",specularexponent:"specularExponent",speed:"speed",spreadmethod:"spreadMethod",startoffset:"startOffset",stddeviation:"stdDeviation",stemh:"stemh",stemv:"stemv",stitchtiles:"stitchTiles",stopcolor:"stopColor","stop-color":"stopColor",stopopacity:"stopOpacity","stop-opacity":"stopOpacity",strikethroughposition:"strikethroughPosition","strikethrough-position":"strikethroughPosition",strikethroughthickness:"strikethroughThickness","strikethrough-thickness":"strikethroughThickness",string:"string",stroke:"stroke",strokedasharray:"strokeDasharray","stroke-dasharray":"strokeDasharray",strokedashoffset:"strokeDashoffset","stroke-dashoffset":"strokeDashoffset",strokelinecap:"strokeLinecap","stroke-linecap":"strokeLinecap",strokelinejoin:"strokeLinejoin","stroke-linejoin":"strokeLinejoin",strokemiterlimit:"strokeMiterlimit","stroke-miterlimit":"strokeMiterlimit",strokewidth:"strokeWidth","stroke-width":"strokeWidth",strokeopacity:"strokeOpacity","stroke-opacity":"strokeOpacity",suppresscontenteditablewarning:"suppressContentEditableWarning",suppresshydrationwarning:"suppressHydrationWarning",surfacescale:"surfaceScale",systemlanguage:"systemLanguage",tablevalues:"tableValues",targetx:"targetX",targety:"targetY",textanchor:"textAnchor","text-anchor":"textAnchor",textdecoration:"textDecoration","text-decoration":"textDecoration",textlength:"textLength",textrendering:"textRendering","text-rendering":"textRendering",to:"to",transform:"transform",typeof:"typeof",u1:"u1",u2:"u2",underlineposition:"underlinePosition","underline-position":"underlinePosition",underlinethickness:"underlineThickness","underline-thickness":"underlineThickness",unicode:"unicode",unicodebidi:"unicodeBidi","unicode-bidi":"unicodeBidi",unicoderange:"unicodeRange","unicode-range":"unicodeRange",unitsperem:"unitsPerEm","units-per-em":"unitsPerEm",unselectable:"unselectable",valphabetic:"vAlphabetic","v-alphabetic":"vAlphabetic",values:"values",vectoreffect:"vectorEffect","vector-effect":"vectorEffect",version:"version",vertadvy:"vertAdvY","vert-adv-y":"vertAdvY",vertoriginx:"vertOriginX","vert-origin-x":"vertOriginX",vertoriginy:"vertOriginY","vert-origin-y":"vertOriginY",vhanging:"vHanging","v-hanging":"vHanging",videographic:"vIdeographic","v-ideographic":"vIdeographic",viewbox:"viewBox",viewtarget:"viewTarget",visibility:"visibility",vmathematical:"vMathematical","v-mathematical":"vMathematical",vocab:"vocab",widths:"widths",wordspacing:"wordSpacing","word-spacing":"wordSpacing",writingmode:"writingMode","writing-mode":"writingMode",x1:"x1",x2:"x2",x:"x",xchannelselector:"xChannelSelector",xheight:"xHeight","x-height":"xHeight",xlinkactuate:"xlinkActuate","xlink:actuate":"xlinkActuate",xlinkarcrole:"xlinkArcrole","xlink:arcrole":"xlinkArcrole",xlinkhref:"xlinkHref","xlink:href":"xlinkHref",xlinkrole:"xlinkRole","xlink:role":"xlinkRole",xlinkshow:"xlinkShow","xlink:show":"xlinkShow",xlinktitle:"xlinkTitle","xlink:title":"xlinkTitle",xlinktype:"xlinkType","xlink:type":"xlinkType",xmlbase:"xmlBase","xml:base":"xmlBase",xmllang:"xmlLang","xml:lang":"xmlLang",xmlns:"xmlns","xml:space":"xmlSpace",xmlnsxlink:"xmlnsXlink","xmlns:xlink":"xmlnsXlink",xmlspace:"xmlSpace",y1:"y1",y2:"y2",y:"y",ychannelselector:"yChannelSelector",z:"z",zoomandpan:"zoomAndPan"},mb={"aria-current":0,"aria-description":0,"aria-details":0,"aria-disabled":0,"aria-hidden":0,"aria-invalid":0,"aria-keyshortcuts":0,"aria-label":0,"aria-roledescription":0,"aria-autocomplete":0,"aria-checked":0,"aria-expanded":0,"aria-haspopup":0,"aria-level":0,"aria-modal":0,"aria-multiline":0,"aria-multiselectable":0,"aria-orientation":0,"aria-placeholder":0,"aria-pressed":0,"aria-readonly":0,"aria-required":0,"aria-selected":0,"aria-sort":0,"aria-valuemax":0,"aria-valuemin":0,"aria-valuenow":0,"aria-valuetext":0,"aria-atomic":0,"aria-busy":0,"aria-live":0,"aria-relevant":0,"aria-dropeffect":0,"aria-grabbed":0,"aria-activedescendant":0,"aria-colcount":0,"aria-colindex":0,"aria-colspan":0,"aria-controls":0,"aria-describedby":0,"aria-errormessage":0,"aria-flowto":0,"aria-labelledby":0,"aria-owns":0,"aria-posinset":0,"aria-rowcount":0,"aria-rowindex":0,"aria-rowspan":0,"aria-setsize":0},Pu={},C9=new RegExp("^(aria)-["+Ut+"]*$"),S9=new RegExp("^(aria)[A-Z]["+Ut+"]*$");function T9(S,E){{if(ct.call(Pu,E)&&Pu[E])return!0;if(S9.test(E)){var O="aria-"+E.slice(4).toLowerCase(),F=mb.hasOwnProperty(O)?O:null;if(F==null)return n("Invalid ARIA attribute `%s`. ARIA attributes follow the pattern aria-* and must be lowercase.",E),Pu[E]=!0,!0;if(E!==F)return n("Invalid ARIA attribute `%s`. Did you mean `%s`?",E,F),Pu[E]=!0,!0}if(C9.test(E)){var N=E.toLowerCase(),W=mb.hasOwnProperty(N)?N:null;if(W==null)return Pu[E]=!0,!1;if(E!==W)return n("Unknown ARIA attribute `%s`. Did you mean `%s`?",E,W),Pu[E]=!0,!0}}return!0}function E9(S,E){{var O=[];for(var F in E){var N=T9(S,F);N||O.push(F)}var W=O.map(function(Z){return"`"+Z+"`"}).join(", ");O.length===1?n("Invalid aria prop %s on <%s> tag. For details, see https://reactjs.org/link/invalid-aria-props",W,S):O.length>1&&n("Invalid aria props %s on <%s> tag. For details, see https://reactjs.org/link/invalid-aria-props",W,S)}}function P9(S,E){hl(S,E)||E9(S,E)}var xb=!1;function M9(S,E){{if(S!=="input"&&S!=="textarea"&&S!=="select")return;E!=null&&E.value===null&&!xb&&(xb=!0,S==="select"&&E.multiple?n("`value` prop on `%s` should not be null. Consider using an empty array when `multiple` is set to `true` to clear the component or `undefined` for uncontrolled components.",S):n("`value` prop on `%s` should not be null. Consider using an empty string to clear the component or `undefined` for uncontrolled components.",S))}}var yb=function(){};{var xn={},Cb=/^on./,b9=/^on[^A-Z]/,w9=new RegExp("^(aria)-["+Ut+"]*$"),R9=new RegExp("^(aria)[A-Z]["+Ut+"]*$");yb=function(S,E,O,F){if(ct.call(xn,E)&&xn[E])return!0;var N=E.toLowerCase();if(N==="onfocusin"||N==="onfocusout")return n("React uses onFocus and onBlur instead of onFocusIn and onFocusOut. All React events are normalized to bubble, so onFocusIn and onFocusOut are not needed/supported by React."),xn[E]=!0,!0;if(F!=null){var W=F.registrationNameDependencies,Z=F.possibleRegistrationNames;if(W.hasOwnProperty(E))return!0;var q=Z.hasOwnProperty(N)?Z[N]:null;if(q!=null)return n("Invalid event handler property `%s`. Did you mean `%s`?",E,q),xn[E]=!0,!0;if(Cb.test(E))return n("Unknown event handler property `%s`. It will be ignored.",E),xn[E]=!0,!0}else if(Cb.test(E))return b9.test(E)&&n("Invalid event handler property `%s`. React events use the camelCase naming convention, for example `onClick`.",E),xn[E]=!0,!0;if(w9.test(E)||R9.test(E))return!0;if(N==="innerhtml")return n("Directly setting property `innerHTML` is not permitted. For more information, lookup documentation on `dangerouslySetInnerHTML`."),xn[E]=!0,!0;if(N==="aria")return n("The `aria` attribute is reserved for future use in React. Pass individual `aria-` attributes instead."),xn[E]=!0,!0;if(N==="is"&&O!==null&&O!==void 0&&typeof O!="string")return n("Received a `%s` for a string attribute `is`. If this is expected, cast the value to a string.",typeof O),xn[E]=!0,!0;if(typeof O=="number"&&isNaN(O))return n("Received NaN for the `%s` attribute. If this is expected, cast the value to a string.",E),xn[E]=!0,!0;var et=Ui(E),nt=et!==null&&et.type===zt;if(Tp.hasOwnProperty(N)){var at=Tp[N];if(at!==E)return n("Invalid DOM property `%s`. Did you mean `%s`?",E,at),xn[E]=!0,!0}else if(!nt&&E!==N)return n("React does not recognize the `%s` prop on a DOM element. If you intentionally want it to appear in the DOM as a custom attribute, spell it as lowercase `%s` instead. If you accidentally passed it from a parent component, remove it from the DOM element.",E,N),xn[E]=!0,!0;return typeof O=="boolean"&&Ai(E,O,et,!1)?(O?n('Received `%s` for a non-boolean attribute `%s`.\n\nIf you want to write it to the DOM, pass a string instead: %s="%s" or %s={value.toString()}.',O,E,E,O,E):n('Received `%s` for a non-boolean attribute `%s`.\n\nIf you want to write it to the DOM, pass a string instead: %s="%s" or %s={value.toString()}.\n\nIf you used to conditionally omit it with %s={condition && value}, pass %s={condition ? value : undefined} instead.',O,E,E,O,E,E,E),xn[E]=!0,!0):nt?!0:Ai(E,O,et,!1)?(xn[E]=!0,!1):((O==="false"||O==="true")&&et!==null&&et.type===xe&&(n("Received the string `%s` for the boolean attribute `%s`. %s Did you mean %s={%s}?",O,E,O==="false"?"The browser will interpret it as a truthy value.":'Although this works, it will not work as expected if you pass the string "false".',E,O),xn[E]=!0),!0)}}var A9=function(S,E,O){{var F=[];for(var N in E){var W=yb(S,N,E[N],O);W||F.push(N)}var Z=F.map(function(q){return"`"+q+"`"}).join(", ");F.length===1?n("Invalid value for prop %s on <%s> tag. Either remove it from the element, or pass a string or number value to keep it in the DOM. For details, see https://reactjs.org/link/attribute-behavior ",Z,S):F.length>1&&n("Invalid values for props %s on <%s> tag. Either remove them from the element, or pass a string or number value to keep them in the DOM. For details, see https://reactjs.org/link/attribute-behavior ",Z,S)}};function O9(S,E,O){hl(S,E)||A9(S,E,O)}var Sb=1,dy=2,gd=4,L9=Sb|dy|gd,md=null;function F9(S){md!==null&&n("Expected currently replaying event to be null. This error is likely caused by a bug in React. Please file an issue."),md=S}function D9(){md===null&&n("Expected currently replaying event to not be null. This error is likely caused by a bug in React. Please file an issue."),md=null}function B9(S){return S===md}function cy(S){var E=S.target||S.srcElement||window;return E.correspondingUseElement&&(E=E.correspondingUseElement),E.nodeType===so?E.parentNode:E}var vy=null,Mu=null,bu=null;function Tb(S){var E=nh(S);if(E){if(typeof vy!="function")throw new Error("setRestoreImplementation() needs to be called to handle a target for controlled events. This error is likely caused by a bug in React. Please file an issue.");var O=E.stateNode;if(O){var F=sg(O);vy(E.stateNode,E.type,F)}}}function I9(S){vy=S}function Eb(S){Mu?bu?bu.push(S):bu=[S]:Mu=S}function G9(){return Mu!==null||bu!==null}function Pb(){if(Mu){var S=Mu,E=bu;if(Mu=null,bu=null,Tb(S),E)for(var O=0;O<E.length;O++)Tb(E[O])}}var Mb=function(S,E){return S(E)},bb=function(){},py=!1;function k9(){var S=G9();S&&(bb(),Pb())}function wb(S,E,O){if(py)return S(E,O);py=!0;try{return Mb(S,E,O)}finally{py=!1,k9()}}function N9(S,E,O){Mb=S,bb=O}function z9(S){return S==="button"||S==="input"||S==="select"||S==="textarea"}function U9(S,E,O){switch(S){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":return!!(O.disabled&&z9(E));default:return!1}}function xd(S,E){var O=S.stateNode;if(O===null)return null;var F=sg(O);if(F===null)return null;var N=F[E];if(U9(E,S.type,F))return null;if(N&&typeof N!="function")throw new Error("Expected `"+E+"` listener to be a function, instead got a value of `"+typeof N+"` type.");return N}var gy=!1;if(ft)try{var yd={};Object.defineProperty(yd,"passive",{get:function(){gy=!0}}),window.addEventListener("test",yd,yd),window.removeEventListener("test",yd,yd)}catch{gy=!1}function Rb(S,E,O,F,N,W,Z,q,et){var nt=Array.prototype.slice.call(arguments,3);try{E.apply(O,nt)}catch(at){this.onError(at)}}var Ab=Rb;if(typeof window<"u"&&typeof window.dispatchEvent=="function"&&typeof document<"u"&&typeof document.createEvent=="function"){var my=document.createElement("react");Ab=function(E,O,F,N,W,Z,q,et,nt){if(typeof document>"u"||document===null)throw new Error("The `document` global was defined when React was initialized, but is not defined anymore. This can happen in a test environment if a component schedules an update from an asynchronous callback, but the test has already finished running. To solve this, you can either unmount the component at the end of your test (and ensure that any asynchronous operations get canceled in `componentWillUnmount`), or you can change the test itself to be asynchronous.");var at=document.createEvent("Event"),pt=!1,vt=!0,St=window.event,Pt=Object.getOwnPropertyDescriptor(window,"event");function At(){my.removeEventListener(Ot,ye,!1),typeof window.event<"u"&&window.hasOwnProperty("event")&&(window.event=St)}var Jt=Array.prototype.slice.call(arguments,3);function ye(){pt=!0,At(),O.apply(F,Jt),vt=!1}var ge,ri=!1,_e=!1;function mt(xt){if(ge=xt.error,ri=!0,ge===null&&xt.colno===0&&xt.lineno===0&&(_e=!0),xt.defaultPrevented&&ge!=null&&typeof ge=="object")try{ge._suppressLogging=!0}catch{}}var Ot="react-"+(E||"invokeguardedcallback");if(window.addEventListener("error",mt),my.addEventListener(Ot,ye,!1),at.initEvent(Ot,!1,!1),my.dispatchEvent(at),Pt&&Object.defineProperty(window,"event",Pt),pt&&vt&&(ri?_e&&(ge=new Error("A cross-origin error was thrown. React doesn't have access to the actual error object in development. See https://reactjs.org/link/crossorigin-error for more information.")):ge=new Error(`An error was thrown inside one of your components, but React doesn't know what it was. This is likely due to browser flakiness. React does its best to preserve the "Pause on exceptions" behavior of the DevTools, which requires some DEV-mode only tricks. It's possible that these don't work in your browser. Try triggering the error in production mode, or switching to a modern browser. If you suspect that this is actually an issue with React, please file an issue.`),this.onError(ge)),window.removeEventListener("error",mt),!pt)return At(),Rb.apply(this,arguments)}}var V9=Ab,wu=!1,Ep=null,Pp=!1,xy=null,W9={onError:function(S){wu=!0,Ep=S}};function yy(S,E,O,F,N,W,Z,q,et){wu=!1,Ep=null,V9.apply(W9,arguments)}function Y9(S,E,O,F,N,W,Z,q,et){if(yy.apply(this,arguments),wu){var nt=Cy();Pp||(Pp=!0,xy=nt)}}function X9(){if(Pp){var S=xy;throw Pp=!1,xy=null,S}}function H9(){return wu}function Cy(){if(wu){var S=Ep;return wu=!1,Ep=null,S}else throw new Error("clearCaughtError was called but no error was captured. This error is likely caused by a bug in React. Please file an issue.")}function Ru(S){return S._reactInternals}function $9(S){return S._reactInternals!==void 0}function K9(S,E){S._reactInternals=E}var Re=0,Au=1,fr=2,ni=4,ll=16,Cd=32,Sy=64,ci=128,oo=256,jo=512,ul=1024,Xs=2048,ho=4096,fl=8192,Mp=16384,Z9=Xs|ni|Sy|jo|ul|Mp,J9=32767,Sd=32768,yn=65536,Ty=131072,Ob=1048576,Ey=2097152,dl=4194304,Py=8388608,lo=16777216,bp=33554432,My=ni|ul|0,by=fr|ni|ll|Cd|jo|ho|fl,Td=ni|Sy|jo|fl,Ou=Xs|ll,uo=dl|Py|Ey,Q9=r.ReactCurrentOwner;function cl(S){var E=S,O=S;if(S.alternate)for(;E.return;)E=E.return;else{var F=E;do E=F,(E.flags&(fr|ho))!==Re&&(O=E.return),F=E.return;while(F)}return E.tag===d?O:null}function Lb(S){if(S.tag===g){var E=S.memoizedState;if(E===null){var O=S.alternate;O!==null&&(E=O.memoizedState)}if(E!==null)return E.dehydrated}return null}function Fb(S){return S.tag===d?S.stateNode.containerInfo:null}function j9(S){return cl(S)===S}function q9(S){{var E=Q9.current;if(E!==null&&E.tag===a){var O=E,F=O.stateNode;F._warnedAboutRefsInRender||n("%s is accessing isMounted inside its render() function. render() should be a pure function of props and state. It should never access something that requires stale data from the previous render, such as refs. Move this logic to componentDidMount and componentDidUpdate instead.",Dt(O)||"A component"),F._warnedAboutRefsInRender=!0}}var N=Ru(S);return N?cl(N)===N:!1}function Db(S){if(cl(S)!==S)throw new Error("Unable to find node on an unmounted component.")}function Bb(S){var E=S.alternate;if(!E){var O=cl(S);if(O===null)throw new Error("Unable to find node on an unmounted component.");return O!==S?null:S}for(var F=S,N=E;;){var W=F.return;if(W===null)break;var Z=W.alternate;if(Z===null){var q=W.return;if(q!==null){F=N=q;continue}break}if(W.child===Z.child){for(var et=W.child;et;){if(et===F)return Db(W),S;if(et===N)return Db(W),E;et=et.sibling}throw new Error("Unable to find node on an unmounted component.")}if(F.return!==N.return)F=W,N=Z;else{for(var nt=!1,at=W.child;at;){if(at===F){nt=!0,F=W,N=Z;break}if(at===N){nt=!0,N=W,F=Z;break}at=at.sibling}if(!nt){for(at=Z.child;at;){if(at===F){nt=!0,F=Z,N=W;break}if(at===N){nt=!0,N=Z,F=W;break}at=at.sibling}if(!nt)throw new Error("Child was not found in either parent set. This indicates a bug in React related to the return pointer. Please file an issue.")}}if(F.alternate!==N)throw new Error("Return fibers should always be each others' alternates. This error is likely caused by a bug in React. Please file an issue.")}if(F.tag!==d)throw new Error("Unable to find node on an unmounted component.");return F.stateNode.current===F?S:E}function Ib(S){var E=Bb(S);return E!==null?Gb(E):null}function Gb(S){if(S.tag===o||S.tag===s)return S;for(var E=S.child;E!==null;){var O=Gb(E);if(O!==null)return O;E=E.sibling}return null}function _9(S){var E=Bb(S);return E!==null?kb(E):null}function kb(S){if(S.tag===o||S.tag===s)return S;for(var E=S.child;E!==null;){if(E.tag!==l){var O=kb(E);if(O!==null)return O}E=E.sibling}return null}var Nb=t.unstable_scheduleCallback,t8=t.unstable_cancelCallback,e8=t.unstable_shouldYield,i8=t.unstable_requestPaint,Lr=t.unstable_now,r8=t.unstable_getCurrentPriorityLevel,wp=t.unstable_ImmediatePriority,wy=t.unstable_UserBlockingPriority,vl=t.unstable_NormalPriority,n8=t.unstable_LowPriority,Ry=t.unstable_IdlePriority,s8=t.unstable_yieldValue,a8=t.unstable_setDisableYieldValue,Lu=null,sn=null,_t=null,Ta=!1,Hs=typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u";function o8(S){if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u")return!1;var E=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(E.isDisabled)return!0;if(!E.supportsFiber)return n("The installed version of React DevTools is too old and will not work with the current version of React. Please update React DevTools. https://reactjs.org/link/react-devtools"),!0;try{V&&(S=We({},S,{getLaneLabelMap:c8,injectProfilingHooks:d8})),Lu=E.inject(S),sn=E}catch(O){n("React instrumentation encountered an error: %s.",O)}return!!E.checkDCE}function h8(S,E){if(sn&&typeof sn.onScheduleFiberRoot=="function")try{sn.onScheduleFiberRoot(Lu,S,E)}catch(O){Ta||(Ta=!0,n("React instrumentation encountered an error: %s",O))}}function l8(S,E){if(sn&&typeof sn.onCommitFiberRoot=="function")try{var O=(S.current.flags&ci)===ci;if(U){var F;switch(E){case qn:F=wp;break;case co:F=wy;break;case vo:F=vl;break;case Bp:F=Ry;break;default:F=vl;break}sn.onCommitFiberRoot(Lu,S,F,O)}}catch(N){Ta||(Ta=!0,n("React instrumentation encountered an error: %s",N))}}function u8(S){if(sn&&typeof sn.onPostCommitFiberRoot=="function")try{sn.onPostCommitFiberRoot(Lu,S)}catch(E){Ta||(Ta=!0,n("React instrumentation encountered an error: %s",E))}}function f8(S){if(sn&&typeof sn.onCommitFiberUnmount=="function")try{sn.onCommitFiberUnmount(Lu,S)}catch(E){Ta||(Ta=!0,n("React instrumentation encountered an error: %s",E))}}function Fr(S){if(typeof s8=="function"&&(a8(S),y(S)),sn&&typeof sn.setStrictMode=="function")try{sn.setStrictMode(Lu,S)}catch(E){Ta||(Ta=!0,n("React instrumentation encountered an error: %s",E))}}function d8(S){_t=S}function c8(){{for(var S=new Map,E=1,O=0;O<Oy;O++){var F=D8(E);S.set(E,F),E*=2}return S}}function v8(S){_t!==null&&typeof _t.markCommitStarted=="function"&&_t.markCommitStarted(S)}function zb(){_t!==null&&typeof _t.markCommitStopped=="function"&&_t.markCommitStopped()}function Ed(S){_t!==null&&typeof _t.markComponentRenderStarted=="function"&&_t.markComponentRenderStarted(S)}function Fu(){_t!==null&&typeof _t.markComponentRenderStopped=="function"&&_t.markComponentRenderStopped()}function p8(S){_t!==null&&typeof _t.markComponentPassiveEffectMountStarted=="function"&&_t.markComponentPassiveEffectMountStarted(S)}function g8(){_t!==null&&typeof _t.markComponentPassiveEffectMountStopped=="function"&&_t.markComponentPassiveEffectMountStopped()}function m8(S){_t!==null&&typeof _t.markComponentPassiveEffectUnmountStarted=="function"&&_t.markComponentPassiveEffectUnmountStarted(S)}function x8(){_t!==null&&typeof _t.markComponentPassiveEffectUnmountStopped=="function"&&_t.markComponentPassiveEffectUnmountStopped()}function y8(S){_t!==null&&typeof _t.markComponentLayoutEffectMountStarted=="function"&&_t.markComponentLayoutEffectMountStarted(S)}function C8(){_t!==null&&typeof _t.markComponentLayoutEffectMountStopped=="function"&&_t.markComponentLayoutEffectMountStopped()}function Ub(S){_t!==null&&typeof _t.markComponentLayoutEffectUnmountStarted=="function"&&_t.markComponentLayoutEffectUnmountStarted(S)}function Vb(){_t!==null&&typeof _t.markComponentLayoutEffectUnmountStopped=="function"&&_t.markComponentLayoutEffectUnmountStopped()}function S8(S,E,O){_t!==null&&typeof _t.markComponentErrored=="function"&&_t.markComponentErrored(S,E,O)}function T8(S,E,O){_t!==null&&typeof _t.markComponentSuspended=="function"&&_t.markComponentSuspended(S,E,O)}function E8(S){_t!==null&&typeof _t.markLayoutEffectsStarted=="function"&&_t.markLayoutEffectsStarted(S)}function P8(){_t!==null&&typeof _t.markLayoutEffectsStopped=="function"&&_t.markLayoutEffectsStopped()}function M8(S){_t!==null&&typeof _t.markPassiveEffectsStarted=="function"&&_t.markPassiveEffectsStarted(S)}function b8(){_t!==null&&typeof _t.markPassiveEffectsStopped=="function"&&_t.markPassiveEffectsStopped()}function Wb(S){_t!==null&&typeof _t.markRenderStarted=="function"&&_t.markRenderStarted(S)}function w8(){_t!==null&&typeof _t.markRenderYielded=="function"&&_t.markRenderYielded()}function Yb(){_t!==null&&typeof _t.markRenderStopped=="function"&&_t.markRenderStopped()}function R8(S){_t!==null&&typeof _t.markRenderScheduled=="function"&&_t.markRenderScheduled(S)}function A8(S,E){_t!==null&&typeof _t.markForceUpdateScheduled=="function"&&_t.markForceUpdateScheduled(S,E)}function Ay(S,E){_t!==null&&typeof _t.markStateUpdateScheduled=="function"&&_t.markStateUpdateScheduled(S,E)}var Te=0,ei=1,Ei=2,ji=8,Ea=16,Xb=Math.clz32?Math.clz32:F8,O8=Math.log,L8=Math.LN2;function F8(S){var E=S>>>0;return E===0?32:31-(O8(E)/L8|0)|0}var Oy=31,Nt=0,Dr=0,De=1,Du=2,fo=4,pl=8,Pa=16,Pd=32,Bu=4194240,Md=64,Ly=128,Fy=256,Dy=512,By=1024,Iy=2048,Gy=4096,ky=8192,Ny=16384,zy=32768,Uy=65536,Vy=131072,Wy=262144,Yy=524288,Xy=1048576,Hy=2097152,Rp=130023424,Iu=4194304,$y=8388608,Ky=16777216,Zy=33554432,Jy=67108864,Hb=Iu,bd=134217728,$b=268435455,wd=268435456,gl=536870912,Qn=1073741824;function D8(S){{if(S&De)return"Sync";if(S&Du)return"InputContinuousHydration";if(S&fo)return"InputContinuous";if(S&pl)return"DefaultHydration";if(S&Pa)return"Default";if(S&Pd)return"TransitionHydration";if(S&Bu)return"Transition";if(S&Rp)return"Retry";if(S&bd)return"SelectiveHydration";if(S&wd)return"IdleHydration";if(S&gl)return"Idle";if(S&Qn)return"Offscreen"}}var Ni=-1,Ap=Md,Op=Iu;function Rd(S){switch(ml(S)){case De:return De;case Du:return Du;case fo:return fo;case pl:return pl;case Pa:return Pa;case Pd:return Pd;case Md:case Ly:case Fy:case Dy:case By:case Iy:case Gy:case ky:case Ny:case zy:case Uy:case Vy:case Wy:case Yy:case Xy:case Hy:return S&Bu;case Iu:case $y:case Ky:case Zy:case Jy:return S&Rp;case bd:return bd;case wd:return wd;case gl:return gl;case Qn:return Qn;default:return n("Should have found matching lanes. This is a bug in React."),S}}function Lp(S,E){var O=S.pendingLanes;if(O===Nt)return Nt;var F=Nt,N=S.suspendedLanes,W=S.pingedLanes,Z=O&$b;if(Z!==Nt){var q=Z&~N;if(q!==Nt)F=Rd(q);else{var et=Z&W;et!==Nt&&(F=Rd(et))}}else{var nt=O&~N;nt!==Nt?F=Rd(nt):W!==Nt&&(F=Rd(W))}if(F===Nt)return Nt;if(E!==Nt&&E!==F&&(E&N)===Nt){var at=ml(F),pt=ml(E);if(at>=pt||at===Pa&&(pt&Bu)!==Nt)return E}(F&fo)!==Nt&&(F|=O&Pa);var vt=S.entangledLanes;if(vt!==Nt)for(var St=S.entanglements,Pt=F&vt;Pt>0;){var At=xl(Pt),Jt=1<<At;F|=St[At],Pt&=~Jt}return F}function B8(S,E){for(var O=S.eventTimes,F=Ni;E>0;){var N=xl(E),W=1<<N,Z=O[N];Z>F&&(F=Z),E&=~W}return F}function I8(S,E){switch(S){case De:case Du:case fo:return E+250;case pl:case Pa:case Pd:case Md:case Ly:case Fy:case Dy:case By:case Iy:case Gy:case ky:case Ny:case zy:case Uy:case Vy:case Wy:case Yy:case Xy:case Hy:return E+5e3;case Iu:case $y:case Ky:case Zy:case Jy:return Ni;case bd:case wd:case gl:case Qn:return Ni;default:return n("Should have found matching lanes. This is a bug in React."),Ni}}function G8(S,E){for(var O=S.pendingLanes,F=S.suspendedLanes,N=S.pingedLanes,W=S.expirationTimes,Z=O;Z>0;){var q=xl(Z),et=1<<q,nt=W[q];nt===Ni?((et&F)===Nt||(et&N)!==Nt)&&(W[q]=I8(et,E)):nt<=E&&(S.expiredLanes|=et),Z&=~et}}function k8(S){return Rd(S.pendingLanes)}function Qy(S){var E=S.pendingLanes&~Qn;return E!==Nt?E:E&Qn?Qn:Nt}function N8(S){return(S&De)!==Nt}function jy(S){return(S&$b)!==Nt}function Kb(S){return(S&Rp)===S}function z8(S){var E=De|fo|Pa;return(S&E)===Nt}function U8(S){return(S&Bu)===S}function Fp(S,E){var O=Du|fo|pl|Pa;return(E&O)!==Nt}function V8(S,E){return(E&S.expiredLanes)!==Nt}function Zb(S){return(S&Bu)!==Nt}function Jb(){var S=Ap;return Ap<<=1,(Ap&Bu)===Nt&&(Ap=Md),S}function W8(){var S=Op;return Op<<=1,(Op&Rp)===Nt&&(Op=Iu),S}function ml(S){return S&-S}function Ad(S){return ml(S)}function xl(S){return 31-Xb(S)}function qy(S){return xl(S)}function jn(S,E){return(S&E)!==Nt}function Gu(S,E){return(S&E)===E}function $e(S,E){return S|E}function Dp(S,E){return S&~E}function Qb(S,E){return S&E}function Hmt(S){return S}function Y8(S,E){return S!==Dr&&S<E?S:E}function _y(S){for(var E=[],O=0;O<Oy;O++)E.push(S);return E}function Od(S,E,O){S.pendingLanes|=E,E!==gl&&(S.suspendedLanes=Nt,S.pingedLanes=Nt);var F=S.eventTimes,N=qy(E);F[N]=O}function X8(S,E){S.suspendedLanes|=E,S.pingedLanes&=~E;for(var O=S.expirationTimes,F=E;F>0;){var N=xl(F),W=1<<N;O[N]=Ni,F&=~W}}function jb(S,E,O){S.pingedLanes|=S.suspendedLanes&E}function H8(S,E){var O=S.pendingLanes&~E;S.pendingLanes=E,S.suspendedLanes=Nt,S.pingedLanes=Nt,S.expiredLanes&=E,S.mutableReadLanes&=E,S.entangledLanes&=E;for(var F=S.entanglements,N=S.eventTimes,W=S.expirationTimes,Z=O;Z>0;){var q=xl(Z),et=1<<q;F[q]=Nt,N[q]=Ni,W[q]=Ni,Z&=~et}}function tC(S,E){for(var O=S.entangledLanes|=E,F=S.entanglements,N=O;N;){var W=xl(N),Z=1<<W;Z&E|F[W]&E&&(F[W]|=E),N&=~Z}}function $8(S,E){var O=ml(E),F;switch(O){case fo:F=Du;break;case Pa:F=pl;break;case Md:case Ly:case Fy:case Dy:case By:case Iy:case Gy:case ky:case Ny:case zy:case Uy:case Vy:case Wy:case Yy:case Xy:case Hy:case Iu:case $y:case Ky:case Zy:case Jy:F=Pd;break;case gl:F=wd;break;default:F=Dr;break}return(F&(S.suspendedLanes|E))!==Dr?Dr:F}function qb(S,E,O){if(Hs)for(var F=S.pendingUpdatersLaneMap;O>0;){var N=qy(O),W=1<<N,Z=F[N];Z.add(E),O&=~W}}function _b(S,E){if(Hs)for(var O=S.pendingUpdatersLaneMap,F=S.memoizedUpdaters;E>0;){var N=qy(E),W=1<<N,Z=O[N];Z.size>0&&(Z.forEach(function(q){var et=q.alternate;(et===null||!F.has(et))&&F.add(q)}),Z.clear()),E&=~W}}function tw(S,E){return null}var qn=De,co=fo,vo=Pa,Bp=gl,Ld=Dr;function $s(){return Ld}function Br(S){Ld=S}function K8(S,E){var O=Ld;try{return Ld=S,E()}finally{Ld=O}}function Z8(S,E){return S!==0&&S<E?S:E}function J8(S,E){return S>E?S:E}function eC(S,E){return S!==0&&S<E}function ew(S){var E=ml(S);return eC(qn,E)?eC(co,E)?jy(E)?vo:Bp:co:qn}function Ip(S){var E=S.current.memoizedState;return E.isDehydrated}var iw;function Q8(S){iw=S}function j8(S){iw(S)}var iC;function q8(S){iC=S}var rw;function _8(S){rw=S}var nw;function tG(S){nw=S}var sw;function eG(S){sw=S}var rC=!1,Gp=[],qo=null,_o=null,th=null,Fd=new Map,Dd=new Map,eh=[],iG=["mousedown","mouseup","touchcancel","touchend","touchstart","auxclick","dblclick","pointercancel","pointerdown","pointerup","dragend","dragstart","drop","compositionend","compositionstart","keydown","keypress","keyup","input","textInput","copy","cut","paste","click","change","contextmenu","reset","submit"];function rG(S){return iG.indexOf(S)>-1}function nG(S,E,O,F,N){return{blockedOn:S,domEventName:E,eventSystemFlags:O,nativeEvent:N,targetContainers:[F]}}function aw(S,E){switch(S){case"focusin":case"focusout":qo=null;break;case"dragenter":case"dragleave":_o=null;break;case"mouseover":case"mouseout":th=null;break;case"pointerover":case"pointerout":{var O=E.pointerId;Fd.delete(O);break}case"gotpointercapture":case"lostpointercapture":{var F=E.pointerId;Dd.delete(F);break}}}function Bd(S,E,O,F,N,W){if(S===null||S.nativeEvent!==W){var Z=nG(E,O,F,N,W);if(E!==null){var q=nh(E);q!==null&&iC(q)}return Z}S.eventSystemFlags|=F;var et=S.targetContainers;return N!==null&&et.indexOf(N)===-1&&et.push(N),S}function sG(S,E,O,F,N){switch(E){case"focusin":{var W=N;return qo=Bd(qo,S,E,O,F,W),!0}case"dragenter":{var Z=N;return _o=Bd(_o,S,E,O,F,Z),!0}case"mouseover":{var q=N;return th=Bd(th,S,E,O,F,q),!0}case"pointerover":{var et=N,nt=et.pointerId;return Fd.set(nt,Bd(Fd.get(nt)||null,S,E,O,F,et)),!0}case"gotpointercapture":{var at=N,pt=at.pointerId;return Dd.set(pt,Bd(Dd.get(pt)||null,S,E,O,F,at)),!0}}return!1}function ow(S){var E=Sl(S.target);if(E!==null){var O=cl(E);if(O!==null){var F=O.tag;if(F===g){var N=Lb(O);if(N!==null){S.blockedOn=N,sw(S.priority,function(){rw(O)});return}}else if(F===d){var W=O.stateNode;if(Ip(W)){S.blockedOn=Fb(O);return}}}}S.blockedOn=null}function aG(S){for(var E=nw(),O={blockedOn:null,target:S,priority:E},F=0;F<eh.length&&eC(E,eh[F].priority);F++);eh.splice(F,0,O),F===0&&ow(O)}function kp(S){if(S.blockedOn!==null)return!1;for(var E=S.targetContainers;E.length>0;){var O=E[0],F=aC(S.domEventName,S.eventSystemFlags,O,S.nativeEvent);if(F===null){var N=S.nativeEvent,W=new N.constructor(N.type,N);F9(W),N.target.dispatchEvent(W),D9()}else{var Z=nh(F);return Z!==null&&iC(Z),S.blockedOn=F,!1}E.shift()}return!0}function hw(S,E,O){kp(S)&&O.delete(E)}function oG(){rC=!1,qo!==null&&kp(qo)&&(qo=null),_o!==null&&kp(_o)&&(_o=null),th!==null&&kp(th)&&(th=null),Fd.forEach(hw),Dd.forEach(hw)}function Id(S,E){S.blockedOn===E&&(S.blockedOn=null,rC||(rC=!0,t.unstable_scheduleCallback(t.unstable_NormalPriority,oG)))}function Gd(S){if(Gp.length>0){Id(Gp[0],S);for(var E=1;E<Gp.length;E++){var O=Gp[E];O.blockedOn===S&&(O.blockedOn=null)}}qo!==null&&Id(qo,S),_o!==null&&Id(_o,S),th!==null&&Id(th,S);var F=function(q){return Id(q,S)};Fd.forEach(F),Dd.forEach(F);for(var N=0;N<eh.length;N++){var W=eh[N];W.blockedOn===S&&(W.blockedOn=null)}for(;eh.length>0;){var Z=eh[0];if(Z.blockedOn!==null)break;ow(Z),Z.blockedOn===null&&eh.shift()}}var ku=r.ReactCurrentBatchConfig,nC=!0;function lw(S){nC=!!S}function hG(){return nC}function lG(S,E,O){var F=uw(E),N;switch(F){case qn:N=uG;break;case co:N=fG;break;case vo:default:N=sC;break}return N.bind(null,E,O,S)}function uG(S,E,O,F){var N=$s(),W=ku.transition;ku.transition=null;try{Br(qn),sC(S,E,O,F)}finally{Br(N),ku.transition=W}}function fG(S,E,O,F){var N=$s(),W=ku.transition;ku.transition=null;try{Br(co),sC(S,E,O,F)}finally{Br(N),ku.transition=W}}function sC(S,E,O,F){nC&&dG(S,E,O,F)}function dG(S,E,O,F){var N=aC(S,E,O,F);if(N===null){CC(S,E,F,Np,O),aw(S,F);return}if(sG(N,S,E,O,F)){F.stopPropagation();return}if(aw(S,F),E&gd&&rG(S)){for(;N!==null;){var W=nh(N);W!==null&&j8(W);var Z=aC(S,E,O,F);if(Z===null&&CC(S,E,F,Np,O),Z===N)break;N=Z}N!==null&&F.stopPropagation();return}CC(S,E,F,null,O)}var Np=null;function aC(S,E,O,F){Np=null;var N=cy(F),W=Sl(N);if(W!==null){var Z=cl(W);if(Z===null)W=null;else{var q=Z.tag;if(q===g){var et=Lb(Z);if(et!==null)return et;W=null}else if(q===d){var nt=Z.stateNode;if(Ip(nt))return Fb(Z);W=null}else Z!==W&&(W=null)}}return Np=W,null}function uw(S){switch(S){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return qn;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return co;case"message":{var E=r8();switch(E){case wp:return qn;case wy:return co;case vl:case n8:return vo;case Ry:return Bp;default:return vo}}default:return vo}}function cG(S,E,O){return S.addEventListener(E,O,!1),O}function vG(S,E,O){return S.addEventListener(E,O,!0),O}function pG(S,E,O,F){return S.addEventListener(E,O,{capture:!0,passive:F}),O}function gG(S,E,O,F){return S.addEventListener(E,O,{passive:F}),O}var kd=null,oC=null,Nd=null;function mG(S){return kd=S,oC=dw(),!0}function xG(){kd=null,oC=null,Nd=null}function fw(){if(Nd)return Nd;var S,E=oC,O=E.length,F,N=dw(),W=N.length;for(S=0;S<O&&E[S]===N[S];S++);var Z=O-S;for(F=1;F<=Z&&E[O-F]===N[W-F];F++);var q=F>1?1-F:void 0;return Nd=N.slice(S,q),Nd}function dw(){return"value"in kd?kd.value:kd.textContent}function zp(S){var E,O=S.keyCode;return"charCode"in S?(E=S.charCode,E===0&&O===13&&(E=13)):E=O,E===10&&(E=13),E>=32||E===13?E:0}function Up(){return!0}function cw(){return!1}function _n(S){function E(O,F,N,W,Z){this._reactName=O,this._targetInst=N,this.type=F,this.nativeEvent=W,this.target=Z,this.currentTarget=null;for(var q in S)if(S.hasOwnProperty(q)){var et=S[q];et?this[q]=et(W):this[q]=W[q]}var nt=W.defaultPrevented!=null?W.defaultPrevented:W.returnValue===!1;return nt?this.isDefaultPrevented=Up:this.isDefaultPrevented=cw,this.isPropagationStopped=cw,this}return We(E.prototype,{preventDefault:function(){this.defaultPrevented=!0;var O=this.nativeEvent;O&&(O.preventDefault?O.preventDefault():typeof O.returnValue!="unknown"&&(O.returnValue=!1),this.isDefaultPrevented=Up)},stopPropagation:function(){var O=this.nativeEvent;O&&(O.stopPropagation?O.stopPropagation():typeof O.cancelBubble!="unknown"&&(O.cancelBubble=!0),this.isPropagationStopped=Up)},persist:function(){},isPersistent:Up}),E}var Nu={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(S){return S.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},hC=_n(Nu),zd=We({},Nu,{view:0,detail:0}),yG=_n(zd),lC,uC,Ud;function CG(S){S!==Ud&&(Ud&&S.type==="mousemove"?(lC=S.screenX-Ud.screenX,uC=S.screenY-Ud.screenY):(lC=0,uC=0),Ud=S)}var Vp=We({},zd,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:dC,button:0,buttons:0,relatedTarget:function(S){return S.relatedTarget===void 0?S.fromElement===S.srcElement?S.toElement:S.fromElement:S.relatedTarget},movementX:function(S){return"movementX"in S?S.movementX:(CG(S),lC)},movementY:function(S){return"movementY"in S?S.movementY:uC}}),vw=_n(Vp),SG=We({},Vp,{dataTransfer:0}),TG=_n(SG),EG=We({},zd,{relatedTarget:0}),fC=_n(EG),PG=We({},Nu,{animationName:0,elapsedTime:0,pseudoElement:0}),MG=_n(PG),bG=We({},Nu,{clipboardData:function(S){return"clipboardData"in S?S.clipboardData:window.clipboardData}}),wG=_n(bG),RG=We({},Nu,{data:0}),pw=_n(RG),AG=pw,OG={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},LG={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"};function FG(S){if(S.key){var E=OG[S.key]||S.key;if(E!=="Unidentified")return E}if(S.type==="keypress"){var O=zp(S);return O===13?"Enter":String.fromCharCode(O)}return S.type==="keydown"||S.type==="keyup"?LG[S.keyCode]||"Unidentified":""}var DG={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function BG(S){var E=this,O=E.nativeEvent;if(O.getModifierState)return O.getModifierState(S);var F=DG[S];return F?!!O[F]:!1}function dC(S){return BG}var IG=We({},zd,{key:FG,code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:dC,charCode:function(S){return S.type==="keypress"?zp(S):0},keyCode:function(S){return S.type==="keydown"||S.type==="keyup"?S.keyCode:0},which:function(S){return S.type==="keypress"?zp(S):S.type==="keydown"||S.type==="keyup"?S.keyCode:0}}),GG=_n(IG),kG=We({},Vp,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),gw=_n(kG),NG=We({},zd,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:dC}),zG=_n(NG),UG=We({},Nu,{propertyName:0,elapsedTime:0,pseudoElement:0}),VG=_n(UG),WG=We({},Vp,{deltaX:function(S){return"deltaX"in S?S.deltaX:"wheelDeltaX"in S?-S.wheelDeltaX:0},deltaY:function(S){return"deltaY"in S?S.deltaY:"wheelDeltaY"in S?-S.wheelDeltaY:"wheelDelta"in S?-S.wheelDelta:0},deltaZ:0,deltaMode:0}),YG=_n(WG),XG=[9,13,27,32],mw=229,cC=ft&&"CompositionEvent"in window,Vd=null;ft&&"documentMode"in document&&(Vd=document.documentMode);var HG=ft&&"TextEvent"in window&&!Vd,xw=ft&&(!cC||Vd&&Vd>8&&Vd<=11),yw=32,Cw=String.fromCharCode(yw);function $G(){rt("onBeforeInput",["compositionend","keypress","textInput","paste"]),rt("onCompositionEnd",["compositionend","focusout","keydown","keypress","keyup","mousedown"]),rt("onCompositionStart",["compositionstart","focusout","keydown","keypress","keyup","mousedown"]),rt("onCompositionUpdate",["compositionupdate","focusout","keydown","keypress","keyup","mousedown"])}var Sw=!1;function KG(S){return(S.ctrlKey||S.altKey||S.metaKey)&&!(S.ctrlKey&&S.altKey)}function ZG(S){switch(S){case"compositionstart":return"onCompositionStart";case"compositionend":return"onCompositionEnd";case"compositionupdate":return"onCompositionUpdate"}}function JG(S,E){return S==="keydown"&&E.keyCode===mw}function Tw(S,E){switch(S){case"keyup":return XG.indexOf(E.keyCode)!==-1;case"keydown":return E.keyCode!==mw;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Ew(S){var E=S.detail;return typeof E=="object"&&"data"in E?E.data:null}function Pw(S){return S.locale==="ko"}var zu=!1;function QG(S,E,O,F,N){var W,Z;if(cC?W=ZG(E):zu?Tw(E,F)&&(W="onCompositionEnd"):JG(E,F)&&(W="onCompositionStart"),!W)return null;xw&&!Pw(F)&&(!zu&&W==="onCompositionStart"?zu=mG(N):W==="onCompositionEnd"&&zu&&(Z=fw()));var q=$p(O,W);if(q.length>0){var et=new pw(W,E,null,F,N);if(S.push({event:et,listeners:q}),Z)et.data=Z;else{var nt=Ew(F);nt!==null&&(et.data=nt)}}}function jG(S,E){switch(S){case"compositionend":return Ew(E);case"keypress":var O=E.which;return O!==yw?null:(Sw=!0,Cw);case"textInput":var F=E.data;return F===Cw&&Sw?null:F;default:return null}}function qG(S,E){if(zu){if(S==="compositionend"||!cC&&Tw(S,E)){var O=fw();return xG(),zu=!1,O}return null}switch(S){case"paste":return null;case"keypress":if(!KG(E)){if(E.char&&E.char.length>1)return E.char;if(E.which)return String.fromCharCode(E.which)}return null;case"compositionend":return xw&&!Pw(E)?null:E.data;default:return null}}function _G(S,E,O,F,N){var W;if(HG?W=jG(E,F):W=qG(E,F),!W)return null;var Z=$p(O,"onBeforeInput");if(Z.length>0){var q=new AG("onBeforeInput","beforeinput",null,F,N);S.push({event:q,listeners:Z}),q.data=W}}function t6(S,E,O,F,N,W,Z){QG(S,E,O,F,N),_G(S,E,O,F,N)}var e6={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Mw(S){var E=S&&S.nodeName&&S.nodeName.toLowerCase();return E==="input"?!!e6[S.type]:E==="textarea"}/**
 * Checks if an event is supported in the current execution environment.
 *
 * NOTE: This will not work correctly for non-generic events such as `change`,
 * `reset`, `load`, `error`, and `select`.
 *
 * Borrows from Modernizr.
 *
 * @param {string} eventNameSuffix Event name, e.g. "click".
 * @return {boolean} True if the event is supported.
 * @internal
 * @license Modernizr 3.0.0pre (Custom Build) | MIT
 */function i6(S){if(!ft)return!1;var E="on"+S,O=E in document;if(!O){var F=document.createElement("div");F.setAttribute(E,"return;"),O=typeof F[E]=="function"}return O}function r6(){rt("onChange",["change","click","focusin","focusout","input","keydown","keyup","selectionchange"])}function bw(S,E,O,F){Eb(F);var N=$p(E,"onChange");if(N.length>0){var W=new hC("onChange","change",null,O,F);S.push({event:W,listeners:N})}}var Wd=null,Yd=null;function n6(S){var E=S.nodeName&&S.nodeName.toLowerCase();return E==="select"||E==="input"&&S.type==="file"}function s6(S){var E=[];bw(E,Yd,S,cy(S)),wb(a6,E)}function a6(S){Xw(S,0)}function Wp(S){var E=Hu(S);if(Cu(E))return S}function o6(S,E){if(S==="change")return E}var ww=!1;ft&&(ww=i6("input")&&(!document.documentMode||document.documentMode>9));function h6(S,E){Wd=S,Yd=E,Wd.attachEvent("onpropertychange",Aw)}function Rw(){Wd&&(Wd.detachEvent("onpropertychange",Aw),Wd=null,Yd=null)}function Aw(S){S.propertyName==="value"&&Wp(Yd)&&s6(S)}function l6(S,E,O){S==="focusin"?(Rw(),h6(E,O)):S==="focusout"&&Rw()}function u6(S,E){if(S==="selectionchange"||S==="keyup"||S==="keydown")return Wp(Yd)}function f6(S){var E=S.nodeName;return E&&E.toLowerCase()==="input"&&(S.type==="checkbox"||S.type==="radio")}function d6(S,E){if(S==="click")return Wp(E)}function c6(S,E){if(S==="input"||S==="change")return Wp(E)}function v6(S){var E=S._wrapperState;!E||!E.controlled||S.type!=="number"||Fe(S,"number",S.value)}function p6(S,E,O,F,N,W,Z){var q=O?Hu(O):window,et,nt;if(n6(q)?et=o6:Mw(q)?ww?et=c6:(et=u6,nt=l6):f6(q)&&(et=d6),et){var at=et(E,O);if(at){bw(S,at,F,N);return}}nt&&nt(E,q,O),E==="focusout"&&v6(q)}function g6(){ot("onMouseEnter",["mouseout","mouseover"]),ot("onMouseLeave",["mouseout","mouseover"]),ot("onPointerEnter",["pointerout","pointerover"]),ot("onPointerLeave",["pointerout","pointerover"])}function m6(S,E,O,F,N,W,Z){var q=E==="mouseover"||E==="pointerover",et=E==="mouseout"||E==="pointerout";if(q&&!B9(F)){var nt=F.relatedTarget||F.fromElement;if(nt&&(Sl(nt)||nc(nt)))return}if(!(!et&&!q)){var at;if(N.window===N)at=N;else{var pt=N.ownerDocument;pt?at=pt.defaultView||pt.parentWindow:at=window}var vt,St;if(et){var Pt=F.relatedTarget||F.toElement;if(vt=O,St=Pt?Sl(Pt):null,St!==null){var At=cl(St);(St!==At||St.tag!==o&&St.tag!==s)&&(St=null)}}else vt=null,St=O;if(vt!==St){var Jt=vw,ye="onMouseLeave",ge="onMouseEnter",ri="mouse";(E==="pointerout"||E==="pointerover")&&(Jt=gw,ye="onPointerLeave",ge="onPointerEnter",ri="pointer");var _e=vt==null?at:Hu(vt),mt=St==null?at:Hu(St),Ot=new Jt(ye,ri+"leave",vt,F,N);Ot.target=_e,Ot.relatedTarget=mt;var xt=null,Vt=Sl(N);if(Vt===O){var ne=new Jt(ge,ri+"enter",St,F,N);ne.target=mt,ne.relatedTarget=_e,xt=ne}V6(S,Ot,xt,vt,St)}}}function x6(S,E){return S===E&&(S!==0||1/S===1/E)||S!==S&&E!==E}var ts=typeof Object.is=="function"?Object.is:x6;function Xd(S,E){if(ts(S,E))return!0;if(typeof S!="object"||S===null||typeof E!="object"||E===null)return!1;var O=Object.keys(S),F=Object.keys(E);if(O.length!==F.length)return!1;for(var N=0;N<O.length;N++){var W=O[N];if(!ct.call(E,W)||!ts(S[W],E[W]))return!1}return!0}function Ow(S){for(;S&&S.firstChild;)S=S.firstChild;return S}function y6(S){for(;S;){if(S.nextSibling)return S.nextSibling;S=S.parentNode}}function Lw(S,E){for(var O=Ow(S),F=0,N=0;O;){if(O.nodeType===so){if(N=F+O.textContent.length,F<=E&&N>=E)return{node:O,offset:E-F};F=N}O=Ow(y6(O))}}function C6(S){var E=S.ownerDocument,O=E&&E.defaultView||window,F=O.getSelection&&O.getSelection();if(!F||F.rangeCount===0)return null;var N=F.anchorNode,W=F.anchorOffset,Z=F.focusNode,q=F.focusOffset;try{N.nodeType,Z.nodeType}catch{return null}return S6(S,N,W,Z,q)}function S6(S,E,O,F,N){var W=0,Z=-1,q=-1,et=0,nt=0,at=S,pt=null;t:for(;;){for(var vt=null;at===E&&(O===0||at.nodeType===so)&&(Z=W+O),at===F&&(N===0||at.nodeType===so)&&(q=W+N),at.nodeType===so&&(W+=at.nodeValue.length),(vt=at.firstChild)!==null;)pt=at,at=vt;for(;;){if(at===S)break t;if(pt===E&&++et===O&&(Z=W),pt===F&&++nt===N&&(q=W),(vt=at.nextSibling)!==null)break;at=pt,pt=at.parentNode}at=vt}return Z===-1||q===-1?null:{start:Z,end:q}}function T6(S,E){var O=S.ownerDocument||document,F=O&&O.defaultView||window;if(F.getSelection){var N=F.getSelection(),W=S.textContent.length,Z=Math.min(E.start,W),q=E.end===void 0?Z:Math.min(E.end,W);if(!N.extend&&Z>q){var et=q;q=Z,Z=et}var nt=Lw(S,Z),at=Lw(S,q);if(nt&&at){if(N.rangeCount===1&&N.anchorNode===nt.node&&N.anchorOffset===nt.offset&&N.focusNode===at.node&&N.focusOffset===at.offset)return;var pt=O.createRange();pt.setStart(nt.node,nt.offset),N.removeAllRanges(),Z>q?(N.addRange(pt),N.extend(at.node,at.offset)):(pt.setEnd(at.node,at.offset),N.addRange(pt))}}}function Fw(S){return S&&S.nodeType===so}function Dw(S,E){return!S||!E?!1:S===E?!0:Fw(S)?!1:Fw(E)?Dw(S,E.parentNode):"contains"in S?S.contains(E):S.compareDocumentPosition?!!(S.compareDocumentPosition(E)&16):!1}function E6(S){return S&&S.ownerDocument&&Dw(S.ownerDocument.documentElement,S)}function P6(S){try{return typeof S.contentWindow.location.href=="string"}catch{return!1}}function Bw(){for(var S=window,E=Jo();E instanceof S.HTMLIFrameElement;){if(P6(E))S=E.contentWindow;else return E;E=Jo(S.document)}return E}function vC(S){var E=S&&S.nodeName&&S.nodeName.toLowerCase();return E&&(E==="input"&&(S.type==="text"||S.type==="search"||S.type==="tel"||S.type==="url"||S.type==="password")||E==="textarea"||S.contentEditable==="true")}function M6(){var S=Bw();return{focusedElem:S,selectionRange:vC(S)?w6(S):null}}function b6(S){var E=Bw(),O=S.focusedElem,F=S.selectionRange;if(E!==O&&E6(O)){F!==null&&vC(O)&&R6(O,F);for(var N=[],W=O;W=W.parentNode;)W.nodeType===On&&N.push({element:W,left:W.scrollLeft,top:W.scrollTop});typeof O.focus=="function"&&O.focus();for(var Z=0;Z<N.length;Z++){var q=N[Z];q.element.scrollLeft=q.left,q.element.scrollTop=q.top}}}function w6(S){var E;return"selectionStart"in S?E={start:S.selectionStart,end:S.selectionEnd}:E=C6(S),E||{start:0,end:0}}function R6(S,E){var O=E.start,F=E.end;F===void 0&&(F=O),"selectionStart"in S?(S.selectionStart=O,S.selectionEnd=Math.min(F,S.value.length)):T6(S,E)}var A6=ft&&"documentMode"in document&&document.documentMode<=11;function O6(){rt("onSelect",["focusout","contextmenu","dragend","focusin","keydown","keyup","mousedown","mouseup","selectionchange"])}var Uu=null,pC=null,Hd=null,gC=!1;function L6(S){if("selectionStart"in S&&vC(S))return{start:S.selectionStart,end:S.selectionEnd};var E=S.ownerDocument&&S.ownerDocument.defaultView||window,O=E.getSelection();return{anchorNode:O.anchorNode,anchorOffset:O.anchorOffset,focusNode:O.focusNode,focusOffset:O.focusOffset}}function F6(S){return S.window===S?S.document:S.nodeType===ao?S:S.ownerDocument}function Iw(S,E,O){var F=F6(O);if(!(gC||Uu==null||Uu!==Jo(F))){var N=L6(Uu);if(!Hd||!Xd(Hd,N)){Hd=N;var W=$p(pC,"onSelect");if(W.length>0){var Z=new hC("onSelect","select",null,E,O);S.push({event:Z,listeners:W}),Z.target=Uu}}}}function D6(S,E,O,F,N,W,Z){var q=O?Hu(O):window;switch(E){case"focusin":(Mw(q)||q.contentEditable==="true")&&(Uu=q,pC=O,Hd=null);break;case"focusout":Uu=null,pC=null,Hd=null;break;case"mousedown":gC=!0;break;case"contextmenu":case"mouseup":case"dragend":gC=!1,Iw(S,F,N);break;case"selectionchange":if(A6)break;case"keydown":case"keyup":Iw(S,F,N)}}function Yp(S,E){var O={};return O[S.toLowerCase()]=E.toLowerCase(),O["Webkit"+S]="webkit"+E,O["Moz"+S]="moz"+E,O}var Vu={animationend:Yp("Animation","AnimationEnd"),animationiteration:Yp("Animation","AnimationIteration"),animationstart:Yp("Animation","AnimationStart"),transitionend:Yp("Transition","TransitionEnd")},mC={},Gw={};ft&&(Gw=document.createElement("div").style,"AnimationEvent"in window||(delete Vu.animationend.animation,delete Vu.animationiteration.animation,delete Vu.animationstart.animation),"TransitionEvent"in window||delete Vu.transitionend.transition);function Xp(S){if(mC[S])return mC[S];if(!Vu[S])return S;var E=Vu[S];for(var O in E)if(E.hasOwnProperty(O)&&O in Gw)return mC[S]=E[O];return S}var kw=Xp("animationend"),Nw=Xp("animationiteration"),zw=Xp("animationstart"),Uw=Xp("transitionend"),Vw=new Map,Ww=["abort","auxClick","cancel","canPlay","canPlayThrough","click","close","contextMenu","copy","cut","drag","dragEnd","dragEnter","dragExit","dragLeave","dragOver","dragStart","drop","durationChange","emptied","encrypted","ended","error","gotPointerCapture","input","invalid","keyDown","keyPress","keyUp","load","loadedData","loadedMetadata","loadStart","lostPointerCapture","mouseDown","mouseMove","mouseOut","mouseOver","mouseUp","paste","pause","play","playing","pointerCancel","pointerDown","pointerMove","pointerOut","pointerOver","pointerUp","progress","rateChange","reset","resize","seeked","seeking","stalled","submit","suspend","timeUpdate","touchCancel","touchEnd","touchStart","volumeChange","scroll","toggle","touchMove","waiting","wheel"];function ih(S,E){Vw.set(S,E),rt(E,[S])}function B6(){for(var S=0;S<Ww.length;S++){var E=Ww[S],O=E.toLowerCase(),F=E[0].toUpperCase()+E.slice(1);ih(O,"on"+F)}ih(kw,"onAnimationEnd"),ih(Nw,"onAnimationIteration"),ih(zw,"onAnimationStart"),ih("dblclick","onDoubleClick"),ih("focusin","onFocus"),ih("focusout","onBlur"),ih(Uw,"onTransitionEnd")}function I6(S,E,O,F,N,W,Z){var q=Vw.get(E);if(q!==void 0){var et=hC,nt=E;switch(E){case"keypress":if(zp(F)===0)return;case"keydown":case"keyup":et=GG;break;case"focusin":nt="focus",et=fC;break;case"focusout":nt="blur",et=fC;break;case"beforeblur":case"afterblur":et=fC;break;case"click":if(F.button===2)return;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":et=vw;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":et=TG;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":et=zG;break;case kw:case Nw:case zw:et=MG;break;case Uw:et=VG;break;case"scroll":et=yG;break;case"wheel":et=YG;break;case"copy":case"cut":case"paste":et=wG;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":et=gw;break}var at=(W&gd)!==0;{var pt=!at&&E==="scroll",vt=z6(O,q,F.type,at,pt);if(vt.length>0){var St=new et(q,nt,null,F,N);S.push({event:St,listeners:vt})}}}}B6(),g6(),r6(),O6(),$G();function G6(S,E,O,F,N,W,Z){I6(S,E,O,F,N,W);var q=(W&L9)===0;q&&(m6(S,E,O,F,N),p6(S,E,O,F,N),D6(S,E,O,F,N),t6(S,E,O,F,N))}var $d=["abort","canplay","canplaythrough","durationchange","emptied","encrypted","ended","error","loadeddata","loadedmetadata","loadstart","pause","play","playing","progress","ratechange","resize","seeked","seeking","stalled","suspend","timeupdate","volumechange","waiting"],xC=new Set(["cancel","close","invalid","load","scroll","toggle"].concat($d));function Yw(S,E,O){var F=S.type||"unknown-event";S.currentTarget=O,Y9(F,E,void 0,S),S.currentTarget=null}function k6(S,E,O){var F;if(O)for(var N=E.length-1;N>=0;N--){var W=E[N],Z=W.instance,q=W.currentTarget,et=W.listener;if(Z!==F&&S.isPropagationStopped())return;Yw(S,et,q),F=Z}else for(var nt=0;nt<E.length;nt++){var at=E[nt],pt=at.instance,vt=at.currentTarget,St=at.listener;if(pt!==F&&S.isPropagationStopped())return;Yw(S,St,vt),F=pt}}function Xw(S,E){for(var O=(E&gd)!==0,F=0;F<S.length;F++){var N=S[F],W=N.event,Z=N.listeners;k6(W,Z,O)}X9()}function N6(S,E,O,F,N){var W=cy(O),Z=[];G6(Z,S,F,O,W,E),Xw(Z,E)}function Wi(S,E){xC.has(S)||n('Did not expect a listenToNonDelegatedEvent() call for "%s". This is a bug in React. Please file an issue.',S);var O=!1,F=v7(E),N=W6(S);F.has(N)||(Hw(E,S,dy,O),F.add(N))}function yC(S,E,O){xC.has(S)&&!E&&n('Did not expect a listenToNativeEvent() call for "%s" in the bubble phase. This is a bug in React. Please file an issue.',S);var F=0;E&&(F|=gd),Hw(O,S,F,E)}var Hp="_reactListening"+Math.random().toString(36).slice(2);function Kd(S){if(!S[Hp]){S[Hp]=!0,j.forEach(function(O){O!=="selectionchange"&&(xC.has(O)||yC(O,!1,S),yC(O,!0,S))});var E=S.nodeType===ao?S:S.ownerDocument;E!==null&&(E[Hp]||(E[Hp]=!0,yC("selectionchange",!1,E)))}}function Hw(S,E,O,F,N){var W=lG(S,E,O),Z=void 0;gy&&(E==="touchstart"||E==="touchmove"||E==="wheel")&&(Z=!0),S=S,F?Z!==void 0?pG(S,E,W,Z):vG(S,E,W):Z!==void 0?gG(S,E,W,Z):cG(S,E,W)}function $w(S,E){return S===E||S.nodeType===ur&&S.parentNode===E}function CC(S,E,O,F,N){var W=F;if(!(E&Sb)&&!(E&dy)){var Z=N;if(F!==null){var q=F;t:for(;;){if(q===null)return;var et=q.tag;if(et===d||et===l){var nt=q.stateNode.containerInfo;if($w(nt,Z))break;if(et===l)for(var at=q.return;at!==null;){var pt=at.tag;if(pt===d||pt===l){var vt=at.stateNode.containerInfo;if($w(vt,Z))return}at=at.return}for(;nt!==null;){var St=Sl(nt);if(St===null)return;var Pt=St.tag;if(Pt===o||Pt===s){q=W=St;continue t}nt=nt.parentNode}}q=q.return}}}wb(function(){return N6(S,E,O,W)})}function Zd(S,E,O){return{instance:S,listener:E,currentTarget:O}}function z6(S,E,O,F,N,W){for(var Z=E!==null?E+"Capture":null,q=F?Z:E,et=[],nt=S,at=null;nt!==null;){var pt=nt,vt=pt.stateNode,St=pt.tag;if(St===o&&vt!==null&&(at=vt,q!==null)){var Pt=xd(nt,q);Pt!=null&&et.push(Zd(nt,Pt,at))}if(N)break;nt=nt.return}return et}function $p(S,E){for(var O=E+"Capture",F=[],N=S;N!==null;){var W=N,Z=W.stateNode,q=W.tag;if(q===o&&Z!==null){var et=Z,nt=xd(N,O);nt!=null&&F.unshift(Zd(N,nt,et));var at=xd(N,E);at!=null&&F.push(Zd(N,at,et))}N=N.return}return F}function Wu(S){if(S===null)return null;do S=S.return;while(S&&S.tag!==o);return S||null}function U6(S,E){for(var O=S,F=E,N=0,W=O;W;W=Wu(W))N++;for(var Z=0,q=F;q;q=Wu(q))Z++;for(;N-Z>0;)O=Wu(O),N--;for(;Z-N>0;)F=Wu(F),Z--;for(var et=N;et--;){if(O===F||F!==null&&O===F.alternate)return O;O=Wu(O),F=Wu(F)}return null}function Kw(S,E,O,F,N){for(var W=E._reactName,Z=[],q=O;q!==null&&q!==F;){var et=q,nt=et.alternate,at=et.stateNode,pt=et.tag;if(nt!==null&&nt===F)break;if(pt===o&&at!==null){var vt=at;if(N){var St=xd(q,W);St!=null&&Z.unshift(Zd(q,St,vt))}else if(!N){var Pt=xd(q,W);Pt!=null&&Z.push(Zd(q,Pt,vt))}}q=q.return}Z.length!==0&&S.push({event:E,listeners:Z})}function V6(S,E,O,F,N){var W=F&&N?U6(F,N):null;F!==null&&Kw(S,E,F,W,!1),N!==null&&O!==null&&Kw(S,O,N,W,!0)}function W6(S,E){return S+"__bubble"}var Ln=!1,Jd="dangerouslySetInnerHTML",Kp="suppressContentEditableWarning",rh="suppressHydrationWarning",Zw="autoFocus",yl="children",Cl="style",Zp="__html",SC,Jp,Qd,Jw,Qp,Qw,jw;SC={dialog:!0,webview:!0},Jp=function(S,E){P9(S,E),M9(S,E),O9(S,E,{registrationNameDependencies:_,possibleRegistrationNames:tt})},Qw=ft&&!document.documentMode,Qd=function(S,E,O){if(!Ln){var F=jp(O),N=jp(E);N!==F&&(Ln=!0,n("Prop `%s` did not match. Server: %s Client: %s",S,JSON.stringify(N),JSON.stringify(F)))}},Jw=function(S){if(!Ln){Ln=!0;var E=[];S.forEach(function(O){E.push(O)}),n("Extra attributes from the server: %s",E)}},Qp=function(S,E){E===!1?n("Expected `%s` listener to be a function, instead got `false`.\n\nIf you used to conditionally omit it with %s={condition && value}, pass %s={condition ? value : undefined} instead.",S,S,S):n("Expected `%s` listener to be a function, instead got a value of `%s` type.",S,typeof E)},jw=function(S,E){var O=S.namespaceURI===no?S.ownerDocument.createElement(S.tagName):S.ownerDocument.createElementNS(S.namespaceURI,S.tagName);return O.innerHTML=E,O.innerHTML};var Y6=/\r\n?/g,X6=/\u0000|\uFFFD/g;function jp(S){bt(S);var E=typeof S=="string"?S:""+S;return E.replace(Y6,`
`).replace(X6,"")}function qp(S,E,O,F){var N=jp(E),W=jp(S);if(W!==N&&(F&&(Ln||(Ln=!0,n('Text content did not match. Server: "%s" Client: "%s"',W,N))),O&&k))throw new Error("Text content does not match server-rendered HTML.")}function qw(S){return S.nodeType===ao?S:S.ownerDocument}function H6(){}function _p(S){S.onclick=H6}function $6(S,E,O,F,N){for(var W in F)if(F.hasOwnProperty(W)){var Z=F[W];if(W===Cl)Z&&Object.freeze(Z),pb(E,Z);else if(W===Jd){var q=Z?Z[Zp]:void 0;q!=null&&ub(E,q)}else if(W===yl)if(typeof Z=="string"){var et=S!=="textarea"||Z!=="";et&&Sp(E,Z)}else typeof Z=="number"&&Sp(E,""+Z);else W===Kp||W===rh||W===Zw||(_.hasOwnProperty(W)?Z!=null&&(typeof Z!="function"&&Qp(W,Z),W==="onScroll"&&Wi("scroll",E)):Z!=null&&Us(E,W,Z,N))}}function K6(S,E,O,F){for(var N=0;N<E.length;N+=2){var W=E[N],Z=E[N+1];W===Cl?pb(S,Z):W===Jd?ub(S,Z):W===yl?Sp(S,Z):Us(S,W,Z,F)}}function Z6(S,E,O,F){var N,W=qw(O),Z,q=F;if(q===no&&(q=ay(S)),q===no){if(N=hl(S,E),!N&&S!==S.toLowerCase()&&n("<%s /> is using incorrect casing. Use PascalCase for React components, or lowercase for HTML elements.",S),S==="script"){var et=W.createElement("div");et.innerHTML="<script><\/script>";var nt=et.firstChild;Z=et.removeChild(nt)}else if(typeof E.is=="string")Z=W.createElement(S,{is:E.is});else if(Z=W.createElement(S),S==="select"){var at=Z;E.multiple?at.multiple=!0:E.size&&(at.size=E.size)}}else Z=W.createElementNS(q,S);return q===no&&!N&&Object.prototype.toString.call(Z)==="[object HTMLUnknownElement]"&&!ct.call(SC,S)&&(SC[S]=!0,n("The tag <%s> is unrecognized in this browser. If you meant to render a React component, start its name with an uppercase letter.",S)),Z}function J6(S,E){return qw(E).createTextNode(S)}function Q6(S,E,O,F){var N=hl(E,O);Jp(E,O);var W;switch(E){case"dialog":Wi("cancel",S),Wi("close",S),W=O;break;case"iframe":case"object":case"embed":Wi("load",S),W=O;break;case"video":case"audio":for(var Z=0;Z<$d.length;Z++)Wi($d[Z],S);W=O;break;case"source":Wi("error",S),W=O;break;case"img":case"image":case"link":Wi("error",S),Wi("load",S),W=O;break;case"details":Wi("toggle",S),W=O;break;case"input":lt(S,O),W=it(S,O),Wi("invalid",S);break;case"option":Fi(S,O),W=O;break;case"select":vd(S,O),W=cd(S,O),Wi("invalid",S);break;case"textarea":ob(S,O),W=ny(S,O),Wi("invalid",S);break;default:W=O}switch(fy(E,W),$6(E,S,F,W,N),E){case"input":io(S),Xt(S,O,!1);break;case"textarea":io(S),lb(S);break;case"option":Vi(S,O);break;case"select":ry(S,O);break;default:typeof W.onClick=="function"&&_p(S);break}}function j6(S,E,O,F,N){Jp(E,F);var W=null,Z,q;switch(E){case"input":Z=it(S,O),q=it(S,F),W=[];break;case"select":Z=cd(S,O),q=cd(S,F),W=[];break;case"textarea":Z=ny(S,O),q=ny(S,F),W=[];break;default:Z=O,q=F,typeof Z.onClick!="function"&&typeof q.onClick=="function"&&_p(S);break}fy(E,q);var et,nt,at=null;for(et in Z)if(!(q.hasOwnProperty(et)||!Z.hasOwnProperty(et)||Z[et]==null))if(et===Cl){var pt=Z[et];for(nt in pt)pt.hasOwnProperty(nt)&&(at||(at={}),at[nt]="")}else et===Jd||et===yl||et===Kp||et===rh||et===Zw||(_.hasOwnProperty(et)?W||(W=[]):(W=W||[]).push(et,null));for(et in q){var vt=q[et],St=Z!=null?Z[et]:void 0;if(!(!q.hasOwnProperty(et)||vt===St||vt==null&&St==null))if(et===Cl)if(vt&&Object.freeze(vt),St){for(nt in St)St.hasOwnProperty(nt)&&(!vt||!vt.hasOwnProperty(nt))&&(at||(at={}),at[nt]="");for(nt in vt)vt.hasOwnProperty(nt)&&St[nt]!==vt[nt]&&(at||(at={}),at[nt]=vt[nt])}else at||(W||(W=[]),W.push(et,at)),at=vt;else if(et===Jd){var Pt=vt?vt[Zp]:void 0,At=St?St[Zp]:void 0;Pt!=null&&At!==Pt&&(W=W||[]).push(et,Pt)}else et===yl?(typeof vt=="string"||typeof vt=="number")&&(W=W||[]).push(et,""+vt):et===Kp||et===rh||(_.hasOwnProperty(et)?(vt!=null&&(typeof vt!="function"&&Qp(et,vt),et==="onScroll"&&Wi("scroll",S)),!W&&St!==vt&&(W=[])):(W=W||[]).push(et,vt))}return at&&(g9(at,q[Cl]),(W=W||[]).push(Cl,at)),W}function q6(S,E,O,F,N){O==="input"&&N.type==="radio"&&N.name!=null&&Et(S,N);var W=hl(O,F),Z=hl(O,N);switch(K6(S,E,W,Z),O){case"input":Rt(S,N);break;case"textarea":hb(S,N);break;case"select":K5(S,N);break}}function _6(S){{var E=S.toLowerCase();return Tp.hasOwnProperty(E)&&Tp[E]||null}}function tk(S,E,O,F,N,W,Z){var q,et;switch(q=hl(E,O),Jp(E,O),E){case"dialog":Wi("cancel",S),Wi("close",S);break;case"iframe":case"object":case"embed":Wi("load",S);break;case"video":case"audio":for(var nt=0;nt<$d.length;nt++)Wi($d[nt],S);break;case"source":Wi("error",S);break;case"img":case"image":case"link":Wi("error",S),Wi("load",S);break;case"details":Wi("toggle",S);break;case"input":lt(S,O),Wi("invalid",S);break;case"option":Fi(S,O);break;case"select":vd(S,O),Wi("invalid",S);break;case"textarea":ob(S,O),Wi("invalid",S);break}fy(E,O);{et=new Set;for(var at=S.attributes,pt=0;pt<at.length;pt++){var vt=at[pt].name.toLowerCase();switch(vt){case"value":break;case"checked":break;case"selected":break;default:et.add(at[pt].name)}}}var St=null;for(var Pt in O)if(O.hasOwnProperty(Pt)){var At=O[Pt];if(Pt===yl)typeof At=="string"?S.textContent!==At&&(O[rh]!==!0&&qp(S.textContent,At,W,Z),St=[yl,At]):typeof At=="number"&&S.textContent!==""+At&&(O[rh]!==!0&&qp(S.textContent,At,W,Z),St=[yl,""+At]);else if(_.hasOwnProperty(Pt))At!=null&&(typeof At!="function"&&Qp(Pt,At),Pt==="onScroll"&&Wi("scroll",S));else if(Z&&typeof q=="boolean"){var Jt=void 0,ye=Ui(Pt);if(O[rh]!==!0){if(!(Pt===Kp||Pt===rh||Pt==="value"||Pt==="checked"||Pt==="selected")){if(Pt===Jd){var ge=S.innerHTML,ri=At?At[Zp]:void 0;if(ri!=null){var _e=jw(S,ri);_e!==ge&&Qd(Pt,ge,_e)}}else if(Pt===Cl){if(et.delete(Pt),Qw){var mt=v9(At);Jt=S.getAttribute("style"),mt!==Jt&&Qd(Pt,Jt,mt)}}else if(q&&!Y)et.delete(Pt.toLowerCase()),Jt=Ca(S,Pt,At),At!==Jt&&Qd(Pt,Jt,At);else if(!fi(Pt,ye,q)&&!qe(Pt,At,ye,q)){var Ot=!1;if(ye!==null)et.delete(ye.attributeName),Jt=rn(S,Pt,At,ye);else{var xt=F;if(xt===no&&(xt=ay(E)),xt===no)et.delete(Pt.toLowerCase());else{var Vt=_6(Pt);Vt!==null&&Vt!==Pt&&(Ot=!0,et.delete(Vt)),et.delete(Pt)}Jt=Ca(S,Pt,At)}var ne=Y;!ne&&At!==Jt&&!Ot&&Qd(Pt,Jt,At)}}}}}switch(Z&&et.size>0&&O[rh]!==!0&&Jw(et),E){case"input":io(S),Xt(S,O,!0);break;case"textarea":io(S),lb(S);break;case"select":case"option":break;default:typeof O.onClick=="function"&&_p(S);break}return St}function ek(S,E,O){var F=S.nodeValue!==E;return F}function TC(S,E){{if(Ln)return;Ln=!0,n("Did not expect server HTML to contain a <%s> in <%s>.",E.nodeName.toLowerCase(),S.nodeName.toLowerCase())}}function EC(S,E){{if(Ln)return;Ln=!0,n('Did not expect server HTML to contain the text node "%s" in <%s>.',E.nodeValue,S.nodeName.toLowerCase())}}function PC(S,E,O){{if(Ln)return;Ln=!0,n("Expected server HTML to contain a matching <%s> in <%s>.",E,S.nodeName.toLowerCase())}}function MC(S,E){{if(E===""||Ln)return;Ln=!0,n('Expected server HTML to contain a matching text node for "%s" in <%s>.',E,S.nodeName.toLowerCase())}}function ik(S,E,O){switch(E){case"input":Ae(S,O);return;case"textarea":J5(S,O);return;case"select":Z5(S,O);return}}var jd=function(){},qd=function(){};{var rk=["address","applet","area","article","aside","base","basefont","bgsound","blockquote","body","br","button","caption","center","col","colgroup","dd","details","dir","div","dl","dt","embed","fieldset","figcaption","figure","footer","form","frame","frameset","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","iframe","img","input","isindex","li","link","listing","main","marquee","menu","menuitem","meta","nav","noembed","noframes","noscript","object","ol","p","param","plaintext","pre","script","section","select","source","style","summary","table","tbody","td","template","textarea","tfoot","th","thead","title","tr","track","ul","wbr","xmp"],_w=["applet","caption","html","table","td","th","marquee","object","template","foreignObject","desc","title"],nk=_w.concat(["button"]),sk=["dd","dt","li","option","optgroup","p","rp","rt"],tR={current:null,formTag:null,aTagInScope:null,buttonTagInScope:null,nobrTagInScope:null,pTagInButtonScope:null,listItemTagAutoclosing:null,dlItemTagAutoclosing:null};qd=function(S,E){var O=We({},S||tR),F={tag:E};return _w.indexOf(E)!==-1&&(O.aTagInScope=null,O.buttonTagInScope=null,O.nobrTagInScope=null),nk.indexOf(E)!==-1&&(O.pTagInButtonScope=null),rk.indexOf(E)!==-1&&E!=="address"&&E!=="div"&&E!=="p"&&(O.listItemTagAutoclosing=null,O.dlItemTagAutoclosing=null),O.current=F,E==="form"&&(O.formTag=F),E==="a"&&(O.aTagInScope=F),E==="button"&&(O.buttonTagInScope=F),E==="nobr"&&(O.nobrTagInScope=F),E==="p"&&(O.pTagInButtonScope=F),E==="li"&&(O.listItemTagAutoclosing=F),(E==="dd"||E==="dt")&&(O.dlItemTagAutoclosing=F),O};var ak=function(S,E){switch(E){case"select":return S==="option"||S==="optgroup"||S==="#text";case"optgroup":return S==="option"||S==="#text";case"option":return S==="#text";case"tr":return S==="th"||S==="td"||S==="style"||S==="script"||S==="template";case"tbody":case"thead":case"tfoot":return S==="tr"||S==="style"||S==="script"||S==="template";case"colgroup":return S==="col"||S==="template";case"table":return S==="caption"||S==="colgroup"||S==="tbody"||S==="tfoot"||S==="thead"||S==="style"||S==="script"||S==="template";case"head":return S==="base"||S==="basefont"||S==="bgsound"||S==="link"||S==="meta"||S==="title"||S==="noscript"||S==="noframes"||S==="style"||S==="script"||S==="template";case"html":return S==="head"||S==="body"||S==="frameset";case"frameset":return S==="frame";case"#document":return S==="html"}switch(S){case"h1":case"h2":case"h3":case"h4":case"h5":case"h6":return E!=="h1"&&E!=="h2"&&E!=="h3"&&E!=="h4"&&E!=="h5"&&E!=="h6";case"rp":case"rt":return sk.indexOf(E)===-1;case"body":case"caption":case"col":case"colgroup":case"frameset":case"frame":case"head":case"html":case"tbody":case"td":case"tfoot":case"th":case"thead":case"tr":return E==null}return!0},ok=function(S,E){switch(S){case"address":case"article":case"aside":case"blockquote":case"center":case"details":case"dialog":case"dir":case"div":case"dl":case"fieldset":case"figcaption":case"figure":case"footer":case"header":case"hgroup":case"main":case"menu":case"nav":case"ol":case"p":case"section":case"summary":case"ul":case"pre":case"listing":case"table":case"hr":case"xmp":case"h1":case"h2":case"h3":case"h4":case"h5":case"h6":return E.pTagInButtonScope;case"form":return E.formTag||E.pTagInButtonScope;case"li":return E.listItemTagAutoclosing;case"dd":case"dt":return E.dlItemTagAutoclosing;case"button":return E.buttonTagInScope;case"a":return E.aTagInScope;case"nobr":return E.nobrTagInScope}return null},eR={};jd=function(S,E,O){O=O||tR;var F=O.current,N=F&&F.tag;E!=null&&(S!=null&&n("validateDOMNesting: when childText is passed, childTag should be null"),S="#text");var W=ak(S,N)?null:F,Z=W?null:ok(S,O),q=W||Z;if(q){var et=q.tag,nt=!!W+"|"+S+"|"+et;if(!eR[nt]){eR[nt]=!0;var at=S,pt="";if(S==="#text"?/\S/.test(E)?at="Text nodes":(at="Whitespace text nodes",pt=" Make sure you don't have any extra whitespace between tags on each line of your source code."):at="<"+S+">",W){var vt="";et==="table"&&S==="tr"&&(vt+=" Add a <tbody>, <thead> or <tfoot> to your code to match the DOM tree generated by the browser."),n("validateDOMNesting(...): %s cannot appear as a child of <%s>.%s%s",at,et,pt,vt)}else n("validateDOMNesting(...): %s cannot appear as a descendant of <%s>.",at,et)}}}}var tg="suppressHydrationWarning",eg="$",ig="/$",_d="$?",tc="$!",hk="style",bC=null,wC=null;function lk(S){var E,O,F=S.nodeType;switch(F){case ao:case hy:{E=F===ao?"#document":"#fragment";var N=S.documentElement;O=N?N.namespaceURI:oy(null,"");break}default:{var W=F===ur?S.parentNode:S,Z=W.namespaceURI||null;E=W.tagName,O=oy(Z,E);break}}{var q=E.toLowerCase(),et=qd(null,q);return{namespace:O,ancestorInfo:et}}}function uk(S,E,O){{var F=S,N=oy(F.namespace,E),W=qd(F.ancestorInfo,E);return{namespace:N,ancestorInfo:W}}}function $mt(S){return S}function fk(S){bC=hG(),wC=M6();var E=null;return lw(!1),E}function dk(S){b6(wC),lw(bC),bC=null,wC=null}function ck(S,E,O,F,N){var W;{var Z=F;if(jd(S,null,Z.ancestorInfo),typeof E.children=="string"||typeof E.children=="number"){var q=""+E.children,et=qd(Z.ancestorInfo,S);jd(null,q,et)}W=Z.namespace}var nt=Z6(S,E,O,W);return rc(N,nt),IC(nt,E),nt}function vk(S,E){S.appendChild(E)}function pk(S,E,O,F,N){switch(Q6(S,E,O,F),E){case"button":case"input":case"select":case"textarea":return!!O.autoFocus;case"img":return!0;default:return!1}}function gk(S,E,O,F,N,W){{var Z=W;if(typeof F.children!=typeof O.children&&(typeof F.children=="string"||typeof F.children=="number")){var q=""+F.children,et=qd(Z.ancestorInfo,E);jd(null,q,et)}}return j6(S,E,O,F)}function RC(S,E){return S==="textarea"||S==="noscript"||typeof E.children=="string"||typeof E.children=="number"||typeof E.dangerouslySetInnerHTML=="object"&&E.dangerouslySetInnerHTML!==null&&E.dangerouslySetInnerHTML.__html!=null}function mk(S,E,O,F){{var N=O;jd(null,S,N.ancestorInfo)}var W=J6(S,E);return rc(F,W),W}function xk(){var S=window.event;return S===void 0?vo:uw(S.type)}var AC=typeof setTimeout=="function"?setTimeout:void 0,yk=typeof clearTimeout=="function"?clearTimeout:void 0,OC=-1,iR=typeof Promise=="function"?Promise:void 0,Ck=typeof queueMicrotask=="function"?queueMicrotask:typeof iR<"u"?function(S){return iR.resolve(null).then(S).catch(Sk)}:AC;function Sk(S){setTimeout(function(){throw S})}function Tk(S,E,O,F){switch(E){case"button":case"input":case"select":case"textarea":O.autoFocus&&S.focus();return;case"img":{O.src&&(S.src=O.src);return}}}function Ek(S,E,O,F,N,W){q6(S,E,O,F,N),IC(S,N)}function rR(S){Sp(S,"")}function Pk(S,E,O){S.nodeValue=O}function Mk(S,E){S.appendChild(E)}function bk(S,E){var O;S.nodeType===ur?(O=S.parentNode,O.insertBefore(E,S)):(O=S,O.appendChild(E));var F=S._reactRootContainer;F==null&&O.onclick===null&&_p(O)}function wk(S,E,O){S.insertBefore(E,O)}function Rk(S,E,O){S.nodeType===ur?S.parentNode.insertBefore(E,O):S.insertBefore(E,O)}function Ak(S,E){S.removeChild(E)}function Ok(S,E){S.nodeType===ur?S.parentNode.removeChild(E):S.removeChild(E)}function LC(S,E){var O=E,F=0;do{var N=O.nextSibling;if(S.removeChild(O),N&&N.nodeType===ur){var W=N.data;if(W===ig)if(F===0){S.removeChild(N),Gd(E);return}else F--;else(W===eg||W===_d||W===tc)&&F++}O=N}while(O);Gd(E)}function Lk(S,E){S.nodeType===ur?LC(S.parentNode,E):S.nodeType===On&&LC(S,E),Gd(S)}function Fk(S){S=S;var E=S.style;typeof E.setProperty=="function"?E.setProperty("display","none","important"):E.display="none"}function Dk(S){S.nodeValue=""}function Bk(S,E){S=S;var O=E[hk],F=O!=null&&O.hasOwnProperty("display")?O.display:null;S.style.display=ly("display",F)}function Ik(S,E){S.nodeValue=E}function Gk(S){S.nodeType===On?S.textContent="":S.nodeType===ao&&S.documentElement&&S.removeChild(S.documentElement)}function kk(S,E,O){return S.nodeType!==On||E.toLowerCase()!==S.nodeName.toLowerCase()?null:S}function Nk(S,E){return E===""||S.nodeType!==so?null:S}function zk(S){return S.nodeType!==ur?null:S}function nR(S){return S.data===_d}function FC(S){return S.data===tc}function Uk(S){var E=S.nextSibling&&S.nextSibling.dataset,O,F,N;return E&&(O=E.dgst,F=E.msg,N=E.stck),{message:F,digest:O,stack:N}}function Vk(S,E){S._reactRetry=E}function rg(S){for(;S!=null;S=S.nextSibling){var E=S.nodeType;if(E===On||E===so)break;if(E===ur){var O=S.data;if(O===eg||O===tc||O===_d)break;if(O===ig)return null}}return S}function ec(S){return rg(S.nextSibling)}function Wk(S){return rg(S.firstChild)}function Yk(S){return rg(S.firstChild)}function Xk(S){return rg(S.nextSibling)}function Hk(S,E,O,F,N,W,Z){rc(W,S),IC(S,O);var q;{var et=N;q=et.namespace}var nt=(W.mode&ei)!==Te;return tk(S,E,O,q,F,nt,Z)}function $k(S,E,O,F){return rc(O,S),O.mode&ei,ek(S,E)}function Kk(S,E){rc(E,S)}function Zk(S){for(var E=S.nextSibling,O=0;E;){if(E.nodeType===ur){var F=E.data;if(F===ig){if(O===0)return ec(E);O--}else(F===eg||F===tc||F===_d)&&O++}E=E.nextSibling}return null}function sR(S){for(var E=S.previousSibling,O=0;E;){if(E.nodeType===ur){var F=E.data;if(F===eg||F===tc||F===_d){if(O===0)return E;O--}else F===ig&&O++}E=E.previousSibling}return null}function Jk(S){Gd(S)}function Qk(S){Gd(S)}function jk(S){return S!=="head"&&S!=="body"}function qk(S,E,O,F){var N=!0;qp(E.nodeValue,O,F,N)}function _k(S,E,O,F,N,W){if(E[tg]!==!0){var Z=!0;qp(F.nodeValue,N,W,Z)}}function t7(S,E){E.nodeType===On?TC(S,E):E.nodeType===ur||EC(S,E)}function e7(S,E){{var O=S.parentNode;O!==null&&(E.nodeType===On?TC(O,E):E.nodeType===ur||EC(O,E))}}function i7(S,E,O,F,N){(N||E[tg]!==!0)&&(F.nodeType===On?TC(O,F):F.nodeType===ur||EC(O,F))}function r7(S,E,O){PC(S,E)}function n7(S,E){MC(S,E)}function s7(S,E,O){{var F=S.parentNode;F!==null&&PC(F,E)}}function a7(S,E){{var O=S.parentNode;O!==null&&MC(O,E)}}function o7(S,E,O,F,N,W){(W||E[tg]!==!0)&&PC(O,F)}function h7(S,E,O,F,N){(N||E[tg]!==!0)&&MC(O,F)}function l7(S){n("An error occurred during hydration. The server HTML was replaced with client content in <%s>.",S.nodeName.toLowerCase())}function u7(S){Kd(S)}var Yu=Math.random().toString(36).slice(2),Xu="__reactFiber$"+Yu,DC="__reactProps$"+Yu,ic="__reactContainer$"+Yu,BC="__reactEvents$"+Yu,f7="__reactListeners$"+Yu,d7="__reactHandles$"+Yu;function c7(S){delete S[Xu],delete S[DC],delete S[BC],delete S[f7],delete S[d7]}function rc(S,E){E[Xu]=S}function ng(S,E){E[ic]=S}function aR(S){S[ic]=null}function nc(S){return!!S[ic]}function Sl(S){var E=S[Xu];if(E)return E;for(var O=S.parentNode;O;){if(E=O[ic]||O[Xu],E){var F=E.alternate;if(E.child!==null||F!==null&&F.child!==null)for(var N=sR(S);N!==null;){var W=N[Xu];if(W)return W;N=sR(N)}return E}S=O,O=S.parentNode}return null}function nh(S){var E=S[Xu]||S[ic];return E&&(E.tag===o||E.tag===s||E.tag===g||E.tag===d)?E:null}function Hu(S){if(S.tag===o||S.tag===s)return S.stateNode;throw new Error("getNodeFromInstance: Invalid argument.")}function sg(S){return S[DC]||null}function IC(S,E){S[DC]=E}function v7(S){var E=S[BC];return E===void 0&&(E=S[BC]=new Set),E}var oR={},hR=r.ReactDebugCurrentFrame;function ag(S){if(S){var E=S._owner,O=$t(S.type,S._source,E?E.type:null);hR.setExtraStackFrame(O)}else hR.setExtraStackFrame(null)}function Ks(S,E,O,F,N){{var W=Function.call.bind(ct);for(var Z in S)if(W(S,Z)){var q=void 0;try{if(typeof S[Z]!="function"){var et=Error((F||"React class")+": "+O+" type `"+Z+"` is invalid; it must be a function, usually from the `prop-types` package, but received `"+typeof S[Z]+"`.This often happens because of typos such as `PropTypes.function` instead of `PropTypes.func`.");throw et.name="Invariant Violation",et}q=S[Z](E,Z,F,O,null,"SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED")}catch(nt){q=nt}q&&!(q instanceof Error)&&(ag(N),n("%s: type specification of %s `%s` is invalid; the type checker function must return `null` or an `Error` but returned a %s. You may have forgotten to pass an argument to the type checker creator (arrayOf, instanceOf, objectOf, oneOf, oneOfType, and shape all require an argument).",F||"React class",O,Z,typeof q),ag(null)),q instanceof Error&&!(q.message in oR)&&(oR[q.message]=!0,ag(N),n("Failed %s type: %s",O,q.message),ag(null))}}}var GC=[],og;og=[];var po=-1;function sh(S){return{current:S}}function an(S,E){if(po<0){n("Unexpected pop.");return}E!==og[po]&&n("Unexpected Fiber popped."),S.current=GC[po],GC[po]=null,og[po]=null,po--}function on(S,E,O){po++,GC[po]=S.current,og[po]=O,S.current=E}var kC;kC={};var es={};Object.freeze(es);var go=sh(es),Ma=sh(!1),NC=es;function $u(S,E,O){return O&&ba(E)?NC:go.current}function lR(S,E,O){{var F=S.stateNode;F.__reactInternalMemoizedUnmaskedChildContext=E,F.__reactInternalMemoizedMaskedChildContext=O}}function Ku(S,E){{var O=S.type,F=O.contextTypes;if(!F)return es;var N=S.stateNode;if(N&&N.__reactInternalMemoizedUnmaskedChildContext===E)return N.__reactInternalMemoizedMaskedChildContext;var W={};for(var Z in F)W[Z]=E[Z];{var q=Dt(S)||"Unknown";Ks(F,W,"context",q)}return N&&lR(S,E,W),W}}function hg(){return Ma.current}function ba(S){{var E=S.childContextTypes;return E!=null}}function lg(S){an(Ma,S),an(go,S)}function zC(S){an(Ma,S),an(go,S)}function uR(S,E,O){{if(go.current!==es)throw new Error("Unexpected context found on stack. This error is likely caused by a bug in React. Please file an issue.");on(go,E,S),on(Ma,O,S)}}function fR(S,E,O){{var F=S.stateNode,N=E.childContextTypes;if(typeof F.getChildContext!="function"){{var W=Dt(S)||"Unknown";kC[W]||(kC[W]=!0,n("%s.childContextTypes is specified but there is no getChildContext() method on the instance. You can either define getChildContext() on %s or remove childContextTypes from it.",W,W))}return O}var Z=F.getChildContext();for(var q in Z)if(!(q in N))throw new Error((Dt(S)||"Unknown")+'.getChildContext(): key "'+q+'" is not defined in childContextTypes.');{var et=Dt(S)||"Unknown";Ks(N,Z,"child context",et)}return We({},O,Z)}}function ug(S){{var E=S.stateNode,O=E&&E.__reactInternalMemoizedMergedChildContext||es;return NC=go.current,on(go,O,S),on(Ma,Ma.current,S),!0}}function dR(S,E,O){{var F=S.stateNode;if(!F)throw new Error("Expected to have an instance by this point. This error is likely caused by a bug in React. Please file an issue.");if(O){var N=fR(S,E,NC);F.__reactInternalMemoizedMergedChildContext=N,an(Ma,S),an(go,S),on(go,N,S),on(Ma,O,S)}else an(Ma,S),on(Ma,O,S)}}function p7(S){{if(!j9(S)||S.tag!==a)throw new Error("Expected subtree parent to be a mounted class component. This error is likely caused by a bug in React. Please file an issue.");var E=S;do{switch(E.tag){case d:return E.stateNode.context;case a:{var O=E.type;if(ba(O))return E.stateNode.__reactInternalMemoizedMergedChildContext;break}}E=E.return}while(E!==null);throw new Error("Found unexpected detached subtree parent. This error is likely caused by a bug in React. Please file an issue.")}}var ah=0,fg=1,mo=null,UC=!1,VC=!1;function cR(S){mo===null?mo=[S]:mo.push(S)}function g7(S){UC=!0,cR(S)}function vR(){UC&&oh()}function oh(){if(!VC&&mo!==null){VC=!0;var S=0,E=$s();try{var O=!0,F=mo;for(Br(qn);S<F.length;S++){var N=F[S];do N=N(O);while(N!==null)}mo=null,UC=!1}catch(W){throw mo!==null&&(mo=mo.slice(S+1)),Nb(wp,oh),W}finally{Br(E),VC=!1}}return null}var Zu=[],Ju=0,dg=null,cg=0,xs=[],ys=0,Tl=null,xo=1,yo="";function m7(S){return Pl(),(S.flags&Ob)!==Re}function x7(S){return Pl(),cg}function y7(){var S=yo,E=xo,O=E&~C7(E);return O.toString(32)+S}function El(S,E){Pl(),Zu[Ju++]=cg,Zu[Ju++]=dg,dg=S,cg=E}function pR(S,E,O){Pl(),xs[ys++]=xo,xs[ys++]=yo,xs[ys++]=Tl,Tl=S;var F=xo,N=yo,W=vg(F)-1,Z=F&~(1<<W),q=O+1,et=vg(E)+W;if(et>30){var nt=W-W%5,at=(1<<nt)-1,pt=(Z&at).toString(32),vt=Z>>nt,St=W-nt,Pt=vg(E)+St,At=q<<St,Jt=At|vt,ye=pt+N;xo=1<<Pt|Jt,yo=ye}else{var ge=q<<W,ri=ge|Z,_e=N;xo=1<<et|ri,yo=_e}}function WC(S){Pl();var E=S.return;if(E!==null){var O=1,F=0;El(S,O),pR(S,O,F)}}function vg(S){return 32-Xb(S)}function C7(S){return 1<<vg(S)-1}function YC(S){for(;S===dg;)dg=Zu[--Ju],Zu[Ju]=null,cg=Zu[--Ju],Zu[Ju]=null;for(;S===Tl;)Tl=xs[--ys],xs[ys]=null,yo=xs[--ys],xs[ys]=null,xo=xs[--ys],xs[ys]=null}function S7(){return Pl(),Tl!==null?{id:xo,overflow:yo}:null}function T7(S,E){Pl(),xs[ys++]=xo,xs[ys++]=yo,xs[ys++]=Tl,xo=E.id,yo=E.overflow,Tl=S}function Pl(){Yr()||n("Expected to be hydrating. This is a bug in React. Please file an issue.")}var Wr=null,Cs=null,Zs=!1,Ml=!1,hh=null;function E7(){Zs&&n("We should not be hydrating here. This is a bug in React. Please file a bug.")}function gR(){Ml=!0}function P7(){return Ml}function M7(S){var E=S.stateNode.containerInfo;return Cs=Yk(E),Wr=S,Zs=!0,hh=null,Ml=!1,!0}function b7(S,E,O){return Cs=Xk(E),Wr=S,Zs=!0,hh=null,Ml=!1,O!==null&&T7(S,O),!0}function mR(S,E){switch(S.tag){case d:{t7(S.stateNode.containerInfo,E);break}case o:{var O=(S.mode&ei)!==Te;i7(S.type,S.memoizedProps,S.stateNode,E,O);break}case g:{var F=S.memoizedState;F.dehydrated!==null&&e7(F.dehydrated,E);break}}}function xR(S,E){mR(S,E);var O=OU();O.stateNode=E,O.return=S;var F=S.deletions;F===null?(S.deletions=[O],S.flags|=ll):F.push(O)}function XC(S,E){{if(Ml)return;switch(S.tag){case d:{var O=S.stateNode.containerInfo;switch(E.tag){case o:var F=E.type;E.pendingProps,r7(O,F);break;case s:var N=E.pendingProps;n7(O,N);break}break}case o:{var W=S.type,Z=S.memoizedProps,q=S.stateNode;switch(E.tag){case o:{var et=E.type,nt=E.pendingProps,at=(S.mode&ei)!==Te;o7(W,Z,q,et,nt,at);break}case s:{var pt=E.pendingProps,vt=(S.mode&ei)!==Te;h7(W,Z,q,pt,vt);break}}break}case g:{var St=S.memoizedState,Pt=St.dehydrated;if(Pt!==null)switch(E.tag){case o:var At=E.type;E.pendingProps,s7(Pt,At);break;case s:var Jt=E.pendingProps;a7(Pt,Jt);break}break}default:return}}}function yR(S,E){E.flags=E.flags&~ho|fr,XC(S,E)}function CR(S,E){switch(S.tag){case o:{var O=S.type;S.pendingProps;var F=kk(E,O);return F!==null?(S.stateNode=F,Wr=S,Cs=Wk(F),!0):!1}case s:{var N=S.pendingProps,W=Nk(E,N);return W!==null?(S.stateNode=W,Wr=S,Cs=null,!0):!1}case g:{var Z=zk(E);if(Z!==null){var q={dehydrated:Z,treeContext:S7(),retryLane:Qn};S.memoizedState=q;var et=LU(Z);return et.return=S,S.child=et,Wr=S,Cs=null,!0}return!1}default:return!1}}function HC(S){return(S.mode&ei)!==Te&&(S.flags&ci)===Re}function $C(S){throw new Error("Hydration failed because the initial UI does not match what was rendered on the server.")}function KC(S){if(Zs){var E=Cs;if(!E){HC(S)&&(XC(Wr,S),$C()),yR(Wr,S),Zs=!1,Wr=S;return}var O=E;if(!CR(S,E)){HC(S)&&(XC(Wr,S),$C()),E=ec(O);var F=Wr;if(!E||!CR(S,E)){yR(Wr,S),Zs=!1,Wr=S;return}xR(F,O)}}}function w7(S,E,O){var F=S.stateNode,N=!Ml,W=Hk(F,S.type,S.memoizedProps,E,O,S,N);return S.updateQueue=W,W!==null}function R7(S){var E=S.stateNode,O=S.memoizedProps,F=$k(E,O,S);if(F){var N=Wr;if(N!==null)switch(N.tag){case d:{var W=N.stateNode.containerInfo,Z=(N.mode&ei)!==Te;qk(W,E,O,Z);break}case o:{var q=N.type,et=N.memoizedProps,nt=N.stateNode,at=(N.mode&ei)!==Te;_k(q,et,nt,E,O,at);break}}}return F}function A7(S){var E=S.memoizedState,O=E!==null?E.dehydrated:null;if(!O)throw new Error("Expected to have a hydrated suspense instance. This error is likely caused by a bug in React. Please file an issue.");Kk(O,S)}function O7(S){var E=S.memoizedState,O=E!==null?E.dehydrated:null;if(!O)throw new Error("Expected to have a hydrated suspense instance. This error is likely caused by a bug in React. Please file an issue.");return Zk(O)}function SR(S){for(var E=S.return;E!==null&&E.tag!==o&&E.tag!==d&&E.tag!==g;)E=E.return;Wr=E}function pg(S){if(S!==Wr)return!1;if(!Zs)return SR(S),Zs=!0,!1;if(S.tag!==d&&(S.tag!==o||jk(S.type)&&!RC(S.type,S.memoizedProps))){var E=Cs;if(E)if(HC(S))TR(S),$C();else for(;E;)xR(S,E),E=ec(E)}return SR(S),S.tag===g?Cs=O7(S):Cs=Wr?ec(S.stateNode):null,!0}function L7(){return Zs&&Cs!==null}function TR(S){for(var E=Cs;E;)mR(S,E),E=ec(E)}function Qu(){Wr=null,Cs=null,Zs=!1,Ml=!1}function ER(){hh!==null&&(g2(hh),hh=null)}function Yr(){return Zs}function ZC(S){hh===null?hh=[S]:hh.push(S)}var F7=r.ReactCurrentBatchConfig,D7=null;function B7(){return F7.transition}var Js={recordUnsafeLifecycleWarnings:function(S,E){},flushPendingUnsafeLifecycleWarnings:function(){},recordLegacyContextWarning:function(S,E){},flushLegacyContextWarning:function(){},discardPendingWarnings:function(){}};{var I7=function(S){for(var E=null,O=S;O!==null;)O.mode&ji&&(E=O),O=O.return;return E},bl=function(S){var E=[];return S.forEach(function(O){E.push(O)}),E.sort().join(", ")},sc=[],ac=[],oc=[],hc=[],lc=[],uc=[],wl=new Set;Js.recordUnsafeLifecycleWarnings=function(S,E){wl.has(S.type)||(typeof E.componentWillMount=="function"&&E.componentWillMount.__suppressDeprecationWarning!==!0&&sc.push(S),S.mode&ji&&typeof E.UNSAFE_componentWillMount=="function"&&ac.push(S),typeof E.componentWillReceiveProps=="function"&&E.componentWillReceiveProps.__suppressDeprecationWarning!==!0&&oc.push(S),S.mode&ji&&typeof E.UNSAFE_componentWillReceiveProps=="function"&&hc.push(S),typeof E.componentWillUpdate=="function"&&E.componentWillUpdate.__suppressDeprecationWarning!==!0&&lc.push(S),S.mode&ji&&typeof E.UNSAFE_componentWillUpdate=="function"&&uc.push(S))},Js.flushPendingUnsafeLifecycleWarnings=function(){var S=new Set;sc.length>0&&(sc.forEach(function(vt){S.add(Dt(vt)||"Component"),wl.add(vt.type)}),sc=[]);var E=new Set;ac.length>0&&(ac.forEach(function(vt){E.add(Dt(vt)||"Component"),wl.add(vt.type)}),ac=[]);var O=new Set;oc.length>0&&(oc.forEach(function(vt){O.add(Dt(vt)||"Component"),wl.add(vt.type)}),oc=[]);var F=new Set;hc.length>0&&(hc.forEach(function(vt){F.add(Dt(vt)||"Component"),wl.add(vt.type)}),hc=[]);var N=new Set;lc.length>0&&(lc.forEach(function(vt){N.add(Dt(vt)||"Component"),wl.add(vt.type)}),lc=[]);var W=new Set;if(uc.length>0&&(uc.forEach(function(vt){W.add(Dt(vt)||"Component"),wl.add(vt.type)}),uc=[]),E.size>0){var Z=bl(E);n(`Using UNSAFE_componentWillMount in strict mode is not recommended and may indicate bugs in your code. See https://reactjs.org/link/unsafe-component-lifecycles for details.

* Move code with side effects to componentDidMount, and set initial state in the constructor.

Please update the following components: %s`,Z)}if(F.size>0){var q=bl(F);n(`Using UNSAFE_componentWillReceiveProps in strict mode is not recommended and may indicate bugs in your code. See https://reactjs.org/link/unsafe-component-lifecycles for details.

* Move data fetching code or side effects to componentDidUpdate.
* If you're updating state whenever props change, refactor your code to use memoization techniques or move it to static getDerivedStateFromProps. Learn more at: https://reactjs.org/link/derived-state

Please update the following components: %s`,q)}if(W.size>0){var et=bl(W);n(`Using UNSAFE_componentWillUpdate in strict mode is not recommended and may indicate bugs in your code. See https://reactjs.org/link/unsafe-component-lifecycles for details.

* Move data fetching code or side effects to componentDidUpdate.

Please update the following components: %s`,et)}if(S.size>0){var nt=bl(S);P(`componentWillMount has been renamed, and is not recommended for use. See https://reactjs.org/link/unsafe-component-lifecycles for details.

* Move code with side effects to componentDidMount, and set initial state in the constructor.
* Rename componentWillMount to UNSAFE_componentWillMount to suppress this warning in non-strict mode. In React 18.x, only the UNSAFE_ name will work. To rename all deprecated lifecycles to their new names, you can run \`npx react-codemod rename-unsafe-lifecycles\` in your project source folder.

Please update the following components: %s`,nt)}if(O.size>0){var at=bl(O);P(`componentWillReceiveProps has been renamed, and is not recommended for use. See https://reactjs.org/link/unsafe-component-lifecycles for details.

* Move data fetching code or side effects to componentDidUpdate.
* If you're updating state whenever props change, refactor your code to use memoization techniques or move it to static getDerivedStateFromProps. Learn more at: https://reactjs.org/link/derived-state
* Rename componentWillReceiveProps to UNSAFE_componentWillReceiveProps to suppress this warning in non-strict mode. In React 18.x, only the UNSAFE_ name will work. To rename all deprecated lifecycles to their new names, you can run \`npx react-codemod rename-unsafe-lifecycles\` in your project source folder.

Please update the following components: %s`,at)}if(N.size>0){var pt=bl(N);P(`componentWillUpdate has been renamed, and is not recommended for use. See https://reactjs.org/link/unsafe-component-lifecycles for details.

* Move data fetching code or side effects to componentDidUpdate.
* Rename componentWillUpdate to UNSAFE_componentWillUpdate to suppress this warning in non-strict mode. In React 18.x, only the UNSAFE_ name will work. To rename all deprecated lifecycles to their new names, you can run \`npx react-codemod rename-unsafe-lifecycles\` in your project source folder.

Please update the following components: %s`,pt)}};var gg=new Map,PR=new Set;Js.recordLegacyContextWarning=function(S,E){var O=I7(S);if(O===null){n("Expected to find a StrictMode component in a strict mode tree. This error is likely caused by a bug in React. Please file an issue.");return}if(!PR.has(S.type)){var F=gg.get(O);(S.type.contextTypes!=null||S.type.childContextTypes!=null||E!==null&&typeof E.getChildContext=="function")&&(F===void 0&&(F=[],gg.set(O,F)),F.push(S))}},Js.flushLegacyContextWarning=function(){gg.forEach(function(S,E){if(S.length!==0){var O=S[0],F=new Set;S.forEach(function(W){F.add(Dt(W)||"Component"),PR.add(W.type)});var N=bl(F);try{Ye(O),n(`Legacy context API has been detected within a strict-mode tree.

The old API will be supported in all 16.x releases, but applications using it should migrate to the new version.

Please update the following components: %s

Learn more about this warning here: https://reactjs.org/link/legacy-context`,N)}finally{Se()}}})},Js.discardPendingWarnings=function(){sc=[],ac=[],oc=[],hc=[],lc=[],uc=[],gg=new Map}}var JC,QC,jC,qC,_C,MR=function(S,E){};JC=!1,QC=!1,jC={},qC={},_C={},MR=function(S,E){if(!(S===null||typeof S!="object")&&!(!S._store||S._store.validated||S.key!=null)){if(typeof S._store!="object")throw new Error("React Component in warnForMissingKey should have a _store. This error is likely caused by a bug in React. Please file an issue.");S._store.validated=!0;var O=Dt(E)||"Component";qC[O]||(qC[O]=!0,n('Each child in a list should have a unique "key" prop. See https://reactjs.org/link/warning-keys for more information.'))}};function G7(S){return S.prototype&&S.prototype.isReactComponent}function fc(S,E,O){var F=O.ref;if(F!==null&&typeof F!="function"&&typeof F!="object"){if((S.mode&ji||$)&&!(O._owner&&O._self&&O._owner.stateNode!==O._self)&&!(O._owner&&O._owner.tag!==a)&&!(typeof O.type=="function"&&!G7(O.type))&&O._owner){var N=Dt(S)||"Component";jC[N]||(n('Component "%s" contains the string ref "%s". Support for string refs will be removed in a future major release. We recommend using useRef() or createRef() instead. Learn more about using refs safely here: https://reactjs.org/link/strict-mode-string-ref',N,F),jC[N]=!0)}if(O._owner){var W=O._owner,Z;if(W){var q=W;if(q.tag!==a)throw new Error("Function components cannot have string refs. We recommend using useRef() instead. Learn more about using refs safely here: https://reactjs.org/link/strict-mode-string-ref");Z=q.stateNode}if(!Z)throw new Error("Missing owner for string ref "+F+". This error is likely caused by a bug in React. Please file an issue.");var et=Z;Yt(F,"ref");var nt=""+F;if(E!==null&&E.ref!==null&&typeof E.ref=="function"&&E.ref._stringRef===nt)return E.ref;var at=function(pt){var vt=et.refs;pt===null?delete vt[nt]:vt[nt]=pt};return at._stringRef=nt,at}else{if(typeof F!="string")throw new Error("Expected ref to be a function, a string, an object returned by React.createRef(), or null.");if(!O._owner)throw new Error("Element ref was specified as a string ("+F+`) but no owner was set. This could happen for one of the following reasons:
1. You may be adding a ref to a function component
2. You may be adding a ref to a component that was not created inside a component's render method
3. You have multiple copies of React loaded
See https://reactjs.org/link/refs-must-have-owner for more information.`)}}return F}function mg(S,E){var O=Object.prototype.toString.call(E);throw new Error("Objects are not valid as a React child (found: "+(O==="[object Object]"?"object with keys {"+Object.keys(E).join(", ")+"}":O)+"). If you meant to render a collection of children, use an array instead.")}function xg(S){{var E=Dt(S)||"Component";if(_C[E])return;_C[E]=!0,n("Functions are not valid as a React child. This may happen if you return a Component instead of <Component /> from render. Or maybe you meant to call this function rather than return it.")}}function bR(S){var E=S._payload,O=S._init;return O(E)}function wR(S){function E(mt,Ot){if(S){var xt=mt.deletions;xt===null?(mt.deletions=[Ot],mt.flags|=ll):xt.push(Ot)}}function O(mt,Ot){if(!S)return null;for(var xt=Ot;xt!==null;)E(mt,xt),xt=xt.sibling;return null}function F(mt,Ot){for(var xt=new Map,Vt=Ot;Vt!==null;)Vt.key!==null?xt.set(Vt.key,Vt):xt.set(Vt.index,Vt),Vt=Vt.sibling;return xt}function N(mt,Ot){var xt=Gl(mt,Ot);return xt.index=0,xt.sibling=null,xt}function W(mt,Ot,xt){if(mt.index=xt,!S)return mt.flags|=Ob,Ot;var Vt=mt.alternate;if(Vt!==null){var ne=Vt.index;return ne<Ot?(mt.flags|=fr,Ot):ne}else return mt.flags|=fr,Ot}function Z(mt){return S&&mt.alternate===null&&(mt.flags|=fr),mt}function q(mt,Ot,xt,Vt){if(Ot===null||Ot.tag!==s){var ne=ZT(xt,mt.mode,Vt);return ne.return=mt,ne}else{var qt=N(Ot,xt);return qt.return=mt,qt}}function et(mt,Ot,xt,Vt){var ne=xt.type;if(ne===ut)return at(mt,Ot,xt.props.children,Vt,xt.key);if(Ot!==null&&(Ot.elementType===ne||F2(Ot,xt)||typeof ne=="object"&&ne!==null&&ne.$$typeof===Ze&&bR(ne)===Ot.type)){var qt=N(Ot,xt.props);return qt.ref=fc(mt,Ot,xt),qt.return=mt,qt._debugSource=xt._source,qt._debugOwner=xt._owner,qt}var Oe=KT(xt,mt.mode,Vt);return Oe.ref=fc(mt,Ot,xt),Oe.return=mt,Oe}function nt(mt,Ot,xt,Vt){if(Ot===null||Ot.tag!==l||Ot.stateNode.containerInfo!==xt.containerInfo||Ot.stateNode.implementation!==xt.implementation){var ne=JT(xt,mt.mode,Vt);return ne.return=mt,ne}else{var qt=N(Ot,xt.children||[]);return qt.return=mt,qt}}function at(mt,Ot,xt,Vt,ne){if(Ot===null||Ot.tag!==f){var qt=yh(xt,mt.mode,Vt,ne);return qt.return=mt,qt}else{var Oe=N(Ot,xt);return Oe.return=mt,Oe}}function pt(mt,Ot,xt){if(typeof Ot=="string"&&Ot!==""||typeof Ot=="number"){var Vt=ZT(""+Ot,mt.mode,xt);return Vt.return=mt,Vt}if(typeof Ot=="object"&&Ot!==null){switch(Ot.$$typeof){case Me:{var ne=KT(Ot,mt.mode,xt);return ne.ref=fc(mt,null,Ot),ne.return=mt,ne}case Xn:{var qt=JT(Ot,mt.mode,xt);return qt.return=mt,qt}case Ze:{var Oe=Ot._payload,Ge=Ot._init;return pt(mt,Ge(Oe),xt)}}if(di(Ot)||Vs(Ot)){var Mi=yh(Ot,mt.mode,xt,null);return Mi.return=mt,Mi}mg(mt,Ot)}return typeof Ot=="function"&&xg(mt),null}function vt(mt,Ot,xt,Vt){var ne=Ot!==null?Ot.key:null;if(typeof xt=="string"&&xt!==""||typeof xt=="number")return ne!==null?null:q(mt,Ot,""+xt,Vt);if(typeof xt=="object"&&xt!==null){switch(xt.$$typeof){case Me:return xt.key===ne?et(mt,Ot,xt,Vt):null;case Xn:return xt.key===ne?nt(mt,Ot,xt,Vt):null;case Ze:{var qt=xt._payload,Oe=xt._init;return vt(mt,Ot,Oe(qt),Vt)}}if(di(xt)||Vs(xt))return ne!==null?null:at(mt,Ot,xt,Vt,null);mg(mt,xt)}return typeof xt=="function"&&xg(mt),null}function St(mt,Ot,xt,Vt,ne){if(typeof Vt=="string"&&Vt!==""||typeof Vt=="number"){var qt=mt.get(xt)||null;return q(Ot,qt,""+Vt,ne)}if(typeof Vt=="object"&&Vt!==null){switch(Vt.$$typeof){case Me:{var Oe=mt.get(Vt.key===null?xt:Vt.key)||null;return et(Ot,Oe,Vt,ne)}case Xn:{var Ge=mt.get(Vt.key===null?xt:Vt.key)||null;return nt(Ot,Ge,Vt,ne)}case Ze:var Mi=Vt._payload,oi=Vt._init;return St(mt,Ot,xt,oi(Mi),ne)}if(di(Vt)||Vs(Vt)){var sr=mt.get(xt)||null;return at(Ot,sr,Vt,ne,null)}mg(Ot,Vt)}return typeof Vt=="function"&&xg(Ot),null}function Pt(mt,Ot,xt){{if(typeof mt!="object"||mt===null)return Ot;switch(mt.$$typeof){case Me:case Xn:MR(mt,xt);var Vt=mt.key;if(typeof Vt!="string")break;if(Ot===null){Ot=new Set,Ot.add(Vt);break}if(!Ot.has(Vt)){Ot.add(Vt);break}n("Encountered two children with the same key, `%s`. Keys should be unique so that components maintain their identity across updates. Non-unique keys may cause children to be duplicated and/or omitted — the behavior is unsupported and could change in a future version.",Vt);break;case Ze:var ne=mt._payload,qt=mt._init;Pt(qt(ne),Ot,xt);break}}return Ot}function At(mt,Ot,xt,Vt){for(var ne=null,qt=0;qt<xt.length;qt++){var Oe=xt[qt];ne=Pt(Oe,ne,mt)}for(var Ge=null,Mi=null,oi=Ot,sr=0,hi=0,qi=null;oi!==null&&hi<xt.length;hi++){oi.index>hi?(qi=oi,oi=null):qi=oi.sibling;var ln=vt(mt,oi,xt[hi],Vt);if(ln===null){oi===null&&(oi=qi);break}S&&oi&&ln.alternate===null&&E(mt,oi),sr=W(ln,sr,hi),Mi===null?Ge=ln:Mi.sibling=ln,Mi=ln,oi=qi}if(hi===xt.length){if(O(mt,oi),Yr()){var Qr=hi;El(mt,Qr)}return Ge}if(oi===null){for(;hi<xt.length;hi++){var rs=pt(mt,xt[hi],Vt);rs!==null&&(sr=W(rs,sr,hi),Mi===null?Ge=rs:Mi.sibling=rs,Mi=rs)}if(Yr()){var En=hi;El(mt,En)}return Ge}for(var Pn=F(mt,oi);hi<xt.length;hi++){var un=St(Pn,mt,hi,xt[hi],Vt);un!==null&&(S&&un.alternate!==null&&Pn.delete(un.key===null?hi:un.key),sr=W(un,sr,hi),Mi===null?Ge=un:Mi.sibling=un,Mi=un)}if(S&&Pn.forEach(function(gf){return E(mt,gf)}),Yr()){var bo=hi;El(mt,bo)}return Ge}function Jt(mt,Ot,xt,Vt){var ne=Vs(xt);if(typeof ne!="function")throw new Error("An object is not an iterable. This error is likely caused by a bug in React. Please file an issue.");{typeof Symbol=="function"&&xt[Symbol.toStringTag]==="Generator"&&(QC||n("Using Generators as children is unsupported and will likely yield unexpected results because enumerating a generator mutates it. You may convert it to an array with `Array.from()` or the `[...spread]` operator before rendering. Keep in mind you might need to polyfill these features for older browsers."),QC=!0),xt.entries===ne&&(JC||n("Using Maps as children is not supported. Use an array of keyed ReactElements instead."),JC=!0);var qt=ne.call(xt);if(qt)for(var Oe=null,Ge=qt.next();!Ge.done;Ge=qt.next()){var Mi=Ge.value;Oe=Pt(Mi,Oe,mt)}}var oi=ne.call(xt);if(oi==null)throw new Error("An iterable object provided no iterator.");for(var sr=null,hi=null,qi=Ot,ln=0,Qr=0,rs=null,En=oi.next();qi!==null&&!En.done;Qr++,En=oi.next()){qi.index>Qr?(rs=qi,qi=null):rs=qi.sibling;var Pn=vt(mt,qi,En.value,Vt);if(Pn===null){qi===null&&(qi=rs);break}S&&qi&&Pn.alternate===null&&E(mt,qi),ln=W(Pn,ln,Qr),hi===null?sr=Pn:hi.sibling=Pn,hi=Pn,qi=rs}if(En.done){if(O(mt,qi),Yr()){var un=Qr;El(mt,un)}return sr}if(qi===null){for(;!En.done;Qr++,En=oi.next()){var bo=pt(mt,En.value,Vt);bo!==null&&(ln=W(bo,ln,Qr),hi===null?sr=bo:hi.sibling=bo,hi=bo)}if(Yr()){var gf=Qr;El(mt,gf)}return sr}for(var Yc=F(mt,qi);!En.done;Qr++,En=oi.next()){var Ba=St(Yc,mt,Qr,En.value,Vt);Ba!==null&&(S&&Ba.alternate!==null&&Yc.delete(Ba.key===null?Qr:Ba.key),ln=W(Ba,ln,Qr),hi===null?sr=Ba:hi.sibling=Ba,hi=Ba)}if(S&&Yc.forEach(function(hV){return E(mt,hV)}),Yr()){var oV=Qr;El(mt,oV)}return sr}function ye(mt,Ot,xt,Vt){if(Ot!==null&&Ot.tag===s){O(mt,Ot.sibling);var ne=N(Ot,xt);return ne.return=mt,ne}O(mt,Ot);var qt=ZT(xt,mt.mode,Vt);return qt.return=mt,qt}function ge(mt,Ot,xt,Vt){for(var ne=xt.key,qt=Ot;qt!==null;){if(qt.key===ne){var Oe=xt.type;if(Oe===ut){if(qt.tag===f){O(mt,qt.sibling);var Ge=N(qt,xt.props.children);return Ge.return=mt,Ge._debugSource=xt._source,Ge._debugOwner=xt._owner,Ge}}else if(qt.elementType===Oe||F2(qt,xt)||typeof Oe=="object"&&Oe!==null&&Oe.$$typeof===Ze&&bR(Oe)===qt.type){O(mt,qt.sibling);var Mi=N(qt,xt.props);return Mi.ref=fc(mt,qt,xt),Mi.return=mt,Mi._debugSource=xt._source,Mi._debugOwner=xt._owner,Mi}O(mt,qt);break}else E(mt,qt);qt=qt.sibling}if(xt.type===ut){var oi=yh(xt.props.children,mt.mode,Vt,xt.key);return oi.return=mt,oi}else{var sr=KT(xt,mt.mode,Vt);return sr.ref=fc(mt,Ot,xt),sr.return=mt,sr}}function ri(mt,Ot,xt,Vt){for(var ne=xt.key,qt=Ot;qt!==null;){if(qt.key===ne)if(qt.tag===l&&qt.stateNode.containerInfo===xt.containerInfo&&qt.stateNode.implementation===xt.implementation){O(mt,qt.sibling);var Oe=N(qt,xt.children||[]);return Oe.return=mt,Oe}else{O(mt,qt);break}else E(mt,qt);qt=qt.sibling}var Ge=JT(xt,mt.mode,Vt);return Ge.return=mt,Ge}function _e(mt,Ot,xt,Vt){var ne=typeof xt=="object"&&xt!==null&&xt.type===ut&&xt.key===null;if(ne&&(xt=xt.props.children),typeof xt=="object"&&xt!==null){switch(xt.$$typeof){case Me:return Z(ge(mt,Ot,xt,Vt));case Xn:return Z(ri(mt,Ot,xt,Vt));case Ze:var qt=xt._payload,Oe=xt._init;return _e(mt,Ot,Oe(qt),Vt)}if(di(xt))return At(mt,Ot,xt,Vt);if(Vs(xt))return Jt(mt,Ot,xt,Vt);mg(mt,xt)}return typeof xt=="string"&&xt!==""||typeof xt=="number"?Z(ye(mt,Ot,""+xt,Vt)):(typeof xt=="function"&&xg(mt),O(mt,Ot))}return _e}var ju=wR(!0),RR=wR(!1);function k7(S,E){if(S!==null&&E.child!==S.child)throw new Error("Resuming work not yet implemented.");if(E.child!==null){var O=E.child,F=Gl(O,O.pendingProps);for(E.child=F,F.return=E;O.sibling!==null;)O=O.sibling,F=F.sibling=Gl(O,O.pendingProps),F.return=E;F.sibling=null}}function N7(S,E){for(var O=S.child;O!==null;)MU(O,E),O=O.sibling}var tS=sh(null),eS;eS={};var yg=null,qu=null,iS=null,Cg=!1;function Sg(){yg=null,qu=null,iS=null,Cg=!1}function AR(){Cg=!0}function OR(){Cg=!1}function LR(S,E,O){on(tS,E._currentValue,S),E._currentValue=O,E._currentRenderer!==void 0&&E._currentRenderer!==null&&E._currentRenderer!==eS&&n("Detected multiple renderers concurrently rendering the same context provider. This is currently unsupported."),E._currentRenderer=eS}function rS(S,E){var O=tS.current;an(tS,E),S._currentValue=O}function nS(S,E,O){for(var F=S;F!==null;){var N=F.alternate;if(Gu(F.childLanes,E)?N!==null&&!Gu(N.childLanes,E)&&(N.childLanes=$e(N.childLanes,E)):(F.childLanes=$e(F.childLanes,E),N!==null&&(N.childLanes=$e(N.childLanes,E))),F===O)break;F=F.return}F!==O&&n("Expected to find the propagation root when scheduling context work. This error is likely caused by a bug in React. Please file an issue.")}function z7(S,E,O){U7(S,E,O)}function U7(S,E,O){var F=S.child;for(F!==null&&(F.return=S);F!==null;){var N=void 0,W=F.dependencies;if(W!==null){N=F.child;for(var Z=W.firstContext;Z!==null;){if(Z.context===E){if(F.tag===a){var q=Ad(O),et=Co(Ni,q);et.tag=Eg;var nt=F.updateQueue;if(nt!==null){var at=nt.shared,pt=at.pending;pt===null?et.next=et:(et.next=pt.next,pt.next=et),at.pending=et}}F.lanes=$e(F.lanes,O);var vt=F.alternate;vt!==null&&(vt.lanes=$e(vt.lanes,O)),nS(F.return,O,S),W.lanes=$e(W.lanes,O);break}Z=Z.next}}else if(F.tag===v)N=F.type===S.type?null:F.child;else if(F.tag===R){var St=F.return;if(St===null)throw new Error("We just came from a parent so we must have had a parent. This is a bug in React.");St.lanes=$e(St.lanes,O);var Pt=St.alternate;Pt!==null&&(Pt.lanes=$e(Pt.lanes,O)),nS(St,O,S),N=F.sibling}else N=F.child;if(N!==null)N.return=F;else for(N=F;N!==null;){if(N===S){N=null;break}var At=N.sibling;if(At!==null){At.return=N.return,N=At;break}N=N.return}F=N}}function _u(S,E){yg=S,qu=null,iS=null;var O=S.dependencies;if(O!==null){var F=O.firstContext;F!==null&&(jn(O.lanes,E)&&bc(),O.firstContext=null)}}function dr(S){Cg&&n("Context can only be read while React is rendering. In classes, you can read it in the render method or getDerivedStateFromProps. In function components, you can read it directly in the function body, but not inside Hooks like useReducer() or useMemo().");var E=S._currentValue;if(iS!==S){var O={context:S,memoizedValue:E,next:null};if(qu===null){if(yg===null)throw new Error("Context can only be read while React is rendering. In classes, you can read it in the render method or getDerivedStateFromProps. In function components, you can read it directly in the function body, but not inside Hooks like useReducer() or useMemo().");qu=O,yg.dependencies={lanes:Nt,firstContext:O}}else qu=qu.next=O}return E}var Rl=null;function sS(S){Rl===null?Rl=[S]:Rl.push(S)}function V7(){if(Rl!==null){for(var S=0;S<Rl.length;S++){var E=Rl[S],O=E.interleaved;if(O!==null){E.interleaved=null;var F=O.next,N=E.pending;if(N!==null){var W=N.next;N.next=F,O.next=W}E.pending=O}}Rl=null}}function FR(S,E,O,F){var N=E.interleaved;return N===null?(O.next=O,sS(E)):(O.next=N.next,N.next=O),E.interleaved=O,Tg(S,F)}function W7(S,E,O,F){var N=E.interleaved;N===null?(O.next=O,sS(E)):(O.next=N.next,N.next=O),E.interleaved=O}function Y7(S,E,O,F){var N=E.interleaved;return N===null?(O.next=O,sS(E)):(O.next=N.next,N.next=O),E.interleaved=O,Tg(S,F)}function Fn(S,E){return Tg(S,E)}var X7=Tg;function Tg(S,E){S.lanes=$e(S.lanes,E);var O=S.alternate;O!==null&&(O.lanes=$e(O.lanes,E)),O===null&&(S.flags&(fr|ho))!==Re&&R2(S);for(var F=S,N=S.return;N!==null;)N.childLanes=$e(N.childLanes,E),O=N.alternate,O!==null?O.childLanes=$e(O.childLanes,E):(N.flags&(fr|ho))!==Re&&R2(S),F=N,N=N.return;if(F.tag===d){var W=F.stateNode;return W}else return null}var DR=0,BR=1,Eg=2,aS=3,Pg=!1,oS,Mg;oS=!1,Mg=null;function hS(S){var E={baseState:S.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:Nt},effects:null};S.updateQueue=E}function IR(S,E){var O=E.updateQueue,F=S.updateQueue;if(O===F){var N={baseState:F.baseState,firstBaseUpdate:F.firstBaseUpdate,lastBaseUpdate:F.lastBaseUpdate,shared:F.shared,effects:F.effects};E.updateQueue=N}}function Co(S,E){var O={eventTime:S,lane:E,tag:DR,payload:null,callback:null,next:null};return O}function lh(S,E,O){var F=S.updateQueue;if(F===null)return null;var N=F.shared;if(Mg===N&&!oS&&(n("An update (setState, replaceState, or forceUpdate) was scheduled from inside an update function. Update functions should be pure, with zero side-effects. Consider using componentDidUpdate or a callback."),oS=!0),Wz()){var W=N.pending;return W===null?E.next=E:(E.next=W.next,W.next=E),N.pending=E,X7(S,O)}else return Y7(S,N,E,O)}function bg(S,E,O){var F=E.updateQueue;if(F!==null){var N=F.shared;if(Zb(O)){var W=N.lanes;W=Qb(W,S.pendingLanes);var Z=$e(W,O);N.lanes=Z,tC(S,Z)}}}function lS(S,E){var O=S.updateQueue,F=S.alternate;if(F!==null){var N=F.updateQueue;if(O===N){var W=null,Z=null,q=O.firstBaseUpdate;if(q!==null){var et=q;do{var nt={eventTime:et.eventTime,lane:et.lane,tag:et.tag,payload:et.payload,callback:et.callback,next:null};Z===null?W=Z=nt:(Z.next=nt,Z=nt),et=et.next}while(et!==null);Z===null?W=Z=E:(Z.next=E,Z=E)}else W=Z=E;O={baseState:N.baseState,firstBaseUpdate:W,lastBaseUpdate:Z,shared:N.shared,effects:N.effects},S.updateQueue=O;return}}var at=O.lastBaseUpdate;at===null?O.firstBaseUpdate=E:at.next=E,O.lastBaseUpdate=E}function H7(S,E,O,F,N,W){switch(O.tag){case BR:{var Z=O.payload;if(typeof Z=="function"){AR();var q=Z.call(W,F,N);{if(S.mode&ji){Fr(!0);try{Z.call(W,F,N)}finally{Fr(!1)}}OR()}return q}return Z}case aS:S.flags=S.flags&~yn|ci;case DR:{var et=O.payload,nt;if(typeof et=="function"){AR(),nt=et.call(W,F,N);{if(S.mode&ji){Fr(!0);try{et.call(W,F,N)}finally{Fr(!1)}}OR()}}else nt=et;return nt==null?F:We({},F,nt)}case Eg:return Pg=!0,F}return F}function wg(S,E,O,F){var N=S.updateQueue;Pg=!1,Mg=N.shared;var W=N.firstBaseUpdate,Z=N.lastBaseUpdate,q=N.shared.pending;if(q!==null){N.shared.pending=null;var et=q,nt=et.next;et.next=null,Z===null?W=nt:Z.next=nt,Z=et;var at=S.alternate;if(at!==null){var pt=at.updateQueue,vt=pt.lastBaseUpdate;vt!==Z&&(vt===null?pt.firstBaseUpdate=nt:vt.next=nt,pt.lastBaseUpdate=et)}}if(W!==null){var St=N.baseState,Pt=Nt,At=null,Jt=null,ye=null,ge=W;do{var ri=ge.lane,_e=ge.eventTime;if(Gu(F,ri)){if(ye!==null){var Ot={eventTime:_e,lane:Dr,tag:ge.tag,payload:ge.payload,callback:ge.callback,next:null};ye=ye.next=Ot}St=H7(S,N,ge,St,E,O);var xt=ge.callback;if(xt!==null&&ge.lane!==Dr){S.flags|=Sy;var Vt=N.effects;Vt===null?N.effects=[ge]:Vt.push(ge)}}else{var mt={eventTime:_e,lane:ri,tag:ge.tag,payload:ge.payload,callback:ge.callback,next:null};ye===null?(Jt=ye=mt,At=St):ye=ye.next=mt,Pt=$e(Pt,ri)}if(ge=ge.next,ge===null){if(q=N.shared.pending,q===null)break;var ne=q,qt=ne.next;ne.next=null,ge=qt,N.lastBaseUpdate=ne,N.shared.pending=null}}while(!0);ye===null&&(At=St),N.baseState=At,N.firstBaseUpdate=Jt,N.lastBaseUpdate=ye;var Oe=N.shared.interleaved;if(Oe!==null){var Ge=Oe;do Pt=$e(Pt,Ge.lane),Ge=Ge.next;while(Ge!==Oe)}else W===null&&(N.shared.lanes=Nt);Nc(Pt),S.lanes=Pt,S.memoizedState=St}Mg=null}function $7(S,E){if(typeof S!="function")throw new Error("Invalid argument passed as callback. Expected a function. Instead "+("received: "+S));S.call(E)}function GR(){Pg=!1}function Rg(){return Pg}function kR(S,E,O){var F=E.effects;if(E.effects=null,F!==null)for(var N=0;N<F.length;N++){var W=F[N],Z=W.callback;Z!==null&&(W.callback=null,$7(Z,O))}}var dc={},uh=sh(dc),cc=sh(dc),Ag=sh(dc);function Og(S){if(S===dc)throw new Error("Expected host context to exist. This error is likely caused by a bug in React. Please file an issue.");return S}function NR(){var S=Og(Ag.current);return S}function uS(S,E){on(Ag,E,S),on(cc,S,S),on(uh,dc,S);var O=lk(E);an(uh,S),on(uh,O,S)}function tf(S){an(uh,S),an(cc,S),an(Ag,S)}function fS(){var S=Og(uh.current);return S}function zR(S){Og(Ag.current);var E=Og(uh.current),O=uk(E,S.type);E!==O&&(on(cc,S,S),on(uh,O,S))}function dS(S){cc.current===S&&(an(uh,S),an(cc,S))}var K7=0,UR=1,VR=1,vc=2,Qs=sh(K7);function cS(S,E){return(S&E)!==0}function ef(S){return S&UR}function vS(S,E){return S&UR|E}function Z7(S,E){return S|E}function fh(S,E){on(Qs,E,S)}function rf(S){an(Qs,S)}function J7(S,E){var O=S.memoizedState;return O!==null?O.dehydrated!==null:(S.memoizedProps,!0)}function Lg(S){for(var E=S;E!==null;){if(E.tag===g){var O=E.memoizedState;if(O!==null){var F=O.dehydrated;if(F===null||nR(F)||FC(F))return E}}else if(E.tag===A&&E.memoizedProps.revealOrder!==void 0){var N=(E.flags&ci)!==Re;if(N)return E}else if(E.child!==null){E.child.return=E,E=E.child;continue}if(E===S)return null;for(;E.sibling===null;){if(E.return===null||E.return===S)return null;E=E.return}E.sibling.return=E.return,E=E.sibling}return null}var Dn=0,gr=1,wa=2,mr=4,Xr=8,pS=[];function gS(){for(var S=0;S<pS.length;S++){var E=pS[S];E._workInProgressVersionPrimary=null}pS.length=0}function Q7(S,E){var O=E._getVersion,F=O(E._source);S.mutableSourceEagerHydrationData==null?S.mutableSourceEagerHydrationData=[E,F]:S.mutableSourceEagerHydrationData.push(E,F)}var ie=r.ReactCurrentDispatcher,pc=r.ReactCurrentBatchConfig,mS,nf;mS=new Set;var Al=Nt,Pi=null,xr=null,yr=null,Fg=!1,gc=!1,mc=0,j7=0,q7=25,Ft=null,Ss=null,dh=-1,xS=!1;function mi(){{var S=Ft;Ss===null?Ss=[S]:Ss.push(S)}}function Zt(){{var S=Ft;Ss!==null&&(dh++,Ss[dh]!==S&&_7(S))}}function sf(S){S!=null&&!di(S)&&n("%s received a final argument that is not an array (instead, received `%s`). When specified, the final argument must be an array.",Ft,typeof S)}function _7(S){{var E=Dt(Pi);if(!mS.has(E)&&(mS.add(E),Ss!==null)){for(var O="",F=30,N=0;N<=dh;N++){for(var W=Ss[N],Z=N===dh?S:W,q=N+1+". "+W;q.length<F;)q+=" ";q+=Z+`
`,O+=q}n(`React has detected a change in the order of Hooks called by %s. This will lead to bugs and errors if not fixed. For more information, read the Rules of Hooks: https://reactjs.org/link/rules-of-hooks

   Previous render            Next render
   ------------------------------------------------------
%s   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
`,E,O)}}}function hn(){throw new Error(`Invalid hook call. Hooks can only be called inside of the body of a function component. This could happen for one of the following reasons:
1. You might have mismatching versions of React and the renderer (such as React DOM)
2. You might be breaking the Rules of Hooks
3. You might have more than one copy of React in the same app
See https://reactjs.org/link/invalid-hook-call for tips about how to debug and fix this problem.`)}function yS(S,E){if(xS)return!1;if(E===null)return n("%s received a final argument during this render, but not during the previous render. Even though the final argument is optional, its type cannot change between renders.",Ft),!1;S.length!==E.length&&n(`The final argument passed to %s changed size between renders. The order and size of this array must remain constant.

Previous: %s
Incoming: %s`,Ft,"["+E.join(", ")+"]","["+S.join(", ")+"]");for(var O=0;O<E.length&&O<S.length;O++)if(!ts(S[O],E[O]))return!1;return!0}function af(S,E,O,F,N,W){Al=W,Pi=E,Ss=S!==null?S._debugHookTypes:null,dh=-1,xS=S!==null&&S.type!==E.type,E.memoizedState=null,E.updateQueue=null,E.lanes=Nt,S!==null&&S.memoizedState!==null?ie.current=lA:Ss!==null?ie.current=hA:ie.current=oA;var Z=O(F,N);if(gc){var q=0;do{if(gc=!1,mc=0,q>=q7)throw new Error("Too many re-renders. React limits the number of renders to prevent an infinite loop.");q+=1,xS=!1,xr=null,yr=null,E.updateQueue=null,dh=-1,ie.current=uA,Z=O(F,N)}while(gc)}ie.current=Hg,E._debugHookTypes=Ss;var et=xr!==null&&xr.next!==null;if(Al=Nt,Pi=null,xr=null,yr=null,Ft=null,Ss=null,dh=-1,S!==null&&(S.flags&uo)!==(E.flags&uo)&&(S.mode&ei)!==Te&&n("Internal React error: Expected static flag was missing. Please notify the React team."),Fg=!1,et)throw new Error("Rendered fewer hooks than expected. This may be caused by an accidental early return statement.");return Z}function of(){var S=mc!==0;return mc=0,S}function WR(S,E,O){E.updateQueue=S.updateQueue,(E.mode&Ea)!==Te?E.flags&=~(bp|lo|Xs|ni):E.flags&=~(Xs|ni),S.lanes=Dp(S.lanes,O)}function YR(){if(ie.current=Hg,Fg){for(var S=Pi.memoizedState;S!==null;){var E=S.queue;E!==null&&(E.pending=null),S=S.next}Fg=!1}Al=Nt,Pi=null,xr=null,yr=null,Ss=null,dh=-1,Ft=null,iA=!1,gc=!1,mc=0}function Ra(){var S={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return yr===null?Pi.memoizedState=yr=S:yr=yr.next=S,yr}function Ts(){var S;if(xr===null){var E=Pi.alternate;E!==null?S=E.memoizedState:S=null}else S=xr.next;var O;if(yr===null?O=Pi.memoizedState:O=yr.next,O!==null)yr=O,O=yr.next,xr=S;else{if(S===null)throw new Error("Rendered more hooks than during the previous render.");xr=S;var F={memoizedState:xr.memoizedState,baseState:xr.baseState,baseQueue:xr.baseQueue,queue:xr.queue,next:null};yr===null?Pi.memoizedState=yr=F:yr=yr.next=F}return yr}function XR(){return{lastEffect:null,stores:null}}function CS(S,E){return typeof E=="function"?E(S):E}function SS(S,E,O){var F=Ra(),N;O!==void 0?N=O(E):N=E,F.memoizedState=F.baseState=N;var W={pending:null,interleaved:null,lanes:Nt,dispatch:null,lastRenderedReducer:S,lastRenderedState:N};F.queue=W;var Z=W.dispatch=rN.bind(null,Pi,W);return[F.memoizedState,Z]}function TS(S,E,O){var F=Ts(),N=F.queue;if(N===null)throw new Error("Should have a queue. This is likely a bug in React. Please file an issue.");N.lastRenderedReducer=S;var W=xr,Z=W.baseQueue,q=N.pending;if(q!==null){if(Z!==null){var et=Z.next,nt=q.next;Z.next=nt,q.next=et}W.baseQueue!==Z&&n("Internal error: Expected work-in-progress queue to be a clone. This is a bug in React."),W.baseQueue=Z=q,N.pending=null}if(Z!==null){var at=Z.next,pt=W.baseState,vt=null,St=null,Pt=null,At=at;do{var Jt=At.lane;if(Gu(Al,Jt)){if(Pt!==null){var ge={lane:Dr,action:At.action,hasEagerState:At.hasEagerState,eagerState:At.eagerState,next:null};Pt=Pt.next=ge}if(At.hasEagerState)pt=At.eagerState;else{var ri=At.action;pt=S(pt,ri)}}else{var ye={lane:Jt,action:At.action,hasEagerState:At.hasEagerState,eagerState:At.eagerState,next:null};Pt===null?(St=Pt=ye,vt=pt):Pt=Pt.next=ye,Pi.lanes=$e(Pi.lanes,Jt),Nc(Jt)}At=At.next}while(At!==null&&At!==at);Pt===null?vt=pt:Pt.next=St,ts(pt,F.memoizedState)||bc(),F.memoizedState=pt,F.baseState=vt,F.baseQueue=Pt,N.lastRenderedState=pt}var _e=N.interleaved;if(_e!==null){var mt=_e;do{var Ot=mt.lane;Pi.lanes=$e(Pi.lanes,Ot),Nc(Ot),mt=mt.next}while(mt!==_e)}else Z===null&&(N.lanes=Nt);var xt=N.dispatch;return[F.memoizedState,xt]}function ES(S,E,O){var F=Ts(),N=F.queue;if(N===null)throw new Error("Should have a queue. This is likely a bug in React. Please file an issue.");N.lastRenderedReducer=S;var W=N.dispatch,Z=N.pending,q=F.memoizedState;if(Z!==null){N.pending=null;var et=Z.next,nt=et;do{var at=nt.action;q=S(q,at),nt=nt.next}while(nt!==et);ts(q,F.memoizedState)||bc(),F.memoizedState=q,F.baseQueue===null&&(F.baseState=q),N.lastRenderedState=q}return[q,W]}function Kmt(S,E,O){}function Zmt(S,E,O){}function PS(S,E,O){var F=Pi,N=Ra(),W,Z=Yr();if(Z){if(O===void 0)throw new Error("Missing getServerSnapshot, which is required for server-rendered content. Will revert to client rendering.");W=O(),nf||W!==O()&&(n("The result of getServerSnapshot should be cached to avoid an infinite loop"),nf=!0)}else{if(W=E(),!nf){var q=E();ts(W,q)||(n("The result of getSnapshot should be cached to avoid an infinite loop"),nf=!0)}var et=um();if(et===null)throw new Error("Expected a work-in-progress root. This is a bug in React. Please file an issue.");Fp(et,Al)||HR(F,E,W)}N.memoizedState=W;var nt={value:W,getSnapshot:E};return N.queue=nt,kg(KR.bind(null,F,nt,S),[S]),F.flags|=Xs,xc(gr|Xr,$R.bind(null,F,nt,W,E),void 0,null),W}function Dg(S,E,O){var F=Pi,N=Ts(),W=E();if(!nf){var Z=E();ts(W,Z)||(n("The result of getSnapshot should be cached to avoid an infinite loop"),nf=!0)}var q=N.memoizedState,et=!ts(q,W);et&&(N.memoizedState=W,bc());var nt=N.queue;if(Cc(KR.bind(null,F,nt,S),[S]),nt.getSnapshot!==E||et||yr!==null&&yr.memoizedState.tag&gr){F.flags|=Xs,xc(gr|Xr,$R.bind(null,F,nt,W,E),void 0,null);var at=um();if(at===null)throw new Error("Expected a work-in-progress root. This is a bug in React. Please file an issue.");Fp(at,Al)||HR(F,E,W)}return W}function HR(S,E,O){S.flags|=Mp;var F={getSnapshot:E,value:O},N=Pi.updateQueue;if(N===null)N=XR(),Pi.updateQueue=N,N.stores=[F];else{var W=N.stores;W===null?N.stores=[F]:W.push(F)}}function $R(S,E,O,F){E.value=O,E.getSnapshot=F,ZR(E)&&JR(S)}function KR(S,E,O){var F=function(){ZR(E)&&JR(S)};return O(F)}function ZR(S){var E=S.getSnapshot,O=S.value;try{var F=E();return!ts(O,F)}catch{return!0}}function JR(S){var E=Fn(S,De);E!==null&&Er(E,S,De,Ni)}function Bg(S){var E=Ra();typeof S=="function"&&(S=S()),E.memoizedState=E.baseState=S;var O={pending:null,interleaved:null,lanes:Nt,dispatch:null,lastRenderedReducer:CS,lastRenderedState:S};E.queue=O;var F=O.dispatch=nN.bind(null,Pi,O);return[E.memoizedState,F]}function MS(S){return TS(CS)}function bS(S){return ES(CS)}function xc(S,E,O,F){var N={tag:S,create:E,destroy:O,deps:F,next:null},W=Pi.updateQueue;if(W===null)W=XR(),Pi.updateQueue=W,W.lastEffect=N.next=N;else{var Z=W.lastEffect;if(Z===null)W.lastEffect=N.next=N;else{var q=Z.next;Z.next=N,N.next=q,W.lastEffect=N}}return N}function wS(S){var E=Ra();{var O={current:S};return E.memoizedState=O,O}}function Ig(S){var E=Ts();return E.memoizedState}function yc(S,E,O,F){var N=Ra(),W=F===void 0?null:F;Pi.flags|=S,N.memoizedState=xc(gr|E,O,void 0,W)}function Gg(S,E,O,F){var N=Ts(),W=F===void 0?null:F,Z=void 0;if(xr!==null){var q=xr.memoizedState;if(Z=q.destroy,W!==null){var et=q.deps;if(yS(W,et)){N.memoizedState=xc(E,O,Z,W);return}}}Pi.flags|=S,N.memoizedState=xc(gr|E,O,Z,W)}function kg(S,E){return(Pi.mode&Ea)!==Te?yc(bp|Xs|Py,Xr,S,E):yc(Xs|Py,Xr,S,E)}function Cc(S,E){return Gg(Xs,Xr,S,E)}function RS(S,E){return yc(ni,wa,S,E)}function Ng(S,E){return Gg(ni,wa,S,E)}function AS(S,E){var O=ni;return O|=dl,(Pi.mode&Ea)!==Te&&(O|=lo),yc(O,mr,S,E)}function zg(S,E){return Gg(ni,mr,S,E)}function QR(S,E){if(typeof E=="function"){var O=E,F=S();return O(F),function(){O(null)}}else if(E!=null){var N=E;N.hasOwnProperty("current")||n("Expected useImperativeHandle() first argument to either be a ref callback or React.createRef() object. Instead received: %s.","an object with keys {"+Object.keys(N).join(", ")+"}");var W=S();return N.current=W,function(){N.current=null}}}function OS(S,E,O){typeof E!="function"&&n("Expected useImperativeHandle() second argument to be a function that creates a handle. Instead received: %s.",E!==null?typeof E:"null");var F=O!=null?O.concat([S]):null,N=ni;return N|=dl,(Pi.mode&Ea)!==Te&&(N|=lo),yc(N,mr,QR.bind(null,E,S),F)}function Ug(S,E,O){typeof E!="function"&&n("Expected useImperativeHandle() second argument to be a function that creates a handle. Instead received: %s.",E!==null?typeof E:"null");var F=O!=null?O.concat([S]):null;return Gg(ni,mr,QR.bind(null,E,S),F)}function tN(S,E){}var Vg=tN;function LS(S,E){var O=Ra(),F=E===void 0?null:E;return O.memoizedState=[S,F],S}function Wg(S,E){var O=Ts(),F=E===void 0?null:E,N=O.memoizedState;if(N!==null&&F!==null){var W=N[1];if(yS(F,W))return N[0]}return O.memoizedState=[S,F],S}function FS(S,E){var O=Ra(),F=E===void 0?null:E,N=S();return O.memoizedState=[N,F],N}function Yg(S,E){var O=Ts(),F=E===void 0?null:E,N=O.memoizedState;if(N!==null&&F!==null){var W=N[1];if(yS(F,W))return N[0]}var Z=S();return O.memoizedState=[Z,F],Z}function DS(S){var E=Ra();return E.memoizedState=S,S}function jR(S){var E=Ts(),O=xr,F=O.memoizedState;return _R(E,F,S)}function qR(S){var E=Ts();if(xr===null)return E.memoizedState=S,S;var O=xr.memoizedState;return _R(E,O,S)}function _R(S,E,O){var F=!z8(Al);if(F){if(!ts(O,E)){var N=Jb();Pi.lanes=$e(Pi.lanes,N),Nc(N),S.baseState=!0}return E}else return S.baseState&&(S.baseState=!1,bc()),S.memoizedState=O,O}function eN(S,E,O){var F=$s();Br(Z8(F,co)),S(!0);var N=pc.transition;pc.transition={};var W=pc.transition;pc.transition._updatedFibers=new Set;try{S(!1),E()}finally{if(Br(F),pc.transition=N,N===null&&W._updatedFibers){var Z=W._updatedFibers.size;Z>10&&P("Detected a large number of updates inside startTransition. If this is due to a subscription please re-write it to use React provided hooks. Otherwise concurrent mode guarantees are off the table."),W._updatedFibers.clear()}}}function BS(){var S=Bg(!1),E=S[0],O=S[1],F=eN.bind(null,O),N=Ra();return N.memoizedState=F,[E,F]}function tA(){var S=MS(),E=S[0],O=Ts(),F=O.memoizedState;return[E,F]}function eA(){var S=bS(),E=S[0],O=Ts(),F=O.memoizedState;return[E,F]}var iA=!1;function iN(){return iA}function IS(){var S=Ra(),E=um(),O=E.identifierPrefix,F;if(Yr()){var N=y7();F=":"+O+"R"+N;var W=mc++;W>0&&(F+="H"+W.toString(32)),F+=":"}else{var Z=j7++;F=":"+O+"r"+Z.toString(32)+":"}return S.memoizedState=F,F}function Xg(){var S=Ts(),E=S.memoizedState;return E}function rN(S,E,O){typeof arguments[3]=="function"&&n("State updates from the useState() and useReducer() Hooks don't support the second callback argument. To execute a side effect after rendering, declare it in the component body with useEffect().");var F=mh(S),N={lane:F,action:O,hasEagerState:!1,eagerState:null,next:null};if(rA(S))nA(E,N);else{var W=FR(S,E,N,F);if(W!==null){var Z=Tn();Er(W,S,F,Z),sA(W,E,F)}}aA(S,F)}function nN(S,E,O){typeof arguments[3]=="function"&&n("State updates from the useState() and useReducer() Hooks don't support the second callback argument. To execute a side effect after rendering, declare it in the component body with useEffect().");var F=mh(S),N={lane:F,action:O,hasEagerState:!1,eagerState:null,next:null};if(rA(S))nA(E,N);else{var W=S.alternate;if(S.lanes===Nt&&(W===null||W.lanes===Nt)){var Z=E.lastRenderedReducer;if(Z!==null){var q;q=ie.current,ie.current=js;try{var et=E.lastRenderedState,nt=Z(et,O);if(N.hasEagerState=!0,N.eagerState=nt,ts(nt,et)){W7(S,E,N,F);return}}catch{}finally{ie.current=q}}}var at=FR(S,E,N,F);if(at!==null){var pt=Tn();Er(at,S,F,pt),sA(at,E,F)}}aA(S,F)}function rA(S){var E=S.alternate;return S===Pi||E!==null&&E===Pi}function nA(S,E){gc=Fg=!0;var O=S.pending;O===null?E.next=E:(E.next=O.next,O.next=E),S.pending=E}function sA(S,E,O){if(Zb(O)){var F=E.lanes;F=Qb(F,S.pendingLanes);var N=$e(F,O);E.lanes=N,tC(S,N)}}function aA(S,E,O){Ay(S,E)}var Hg={readContext:dr,useCallback:hn,useContext:hn,useEffect:hn,useImperativeHandle:hn,useInsertionEffect:hn,useLayoutEffect:hn,useMemo:hn,useReducer:hn,useRef:hn,useState:hn,useDebugValue:hn,useDeferredValue:hn,useTransition:hn,useMutableSource:hn,useSyncExternalStore:hn,useId:hn,unstable_isNewReconciler:z},oA=null,hA=null,lA=null,uA=null,Aa=null,js=null,$g=null;{var GS=function(){n("Context can only be read while React is rendering. In classes, you can read it in the render method or getDerivedStateFromProps. In function components, you can read it directly in the function body, but not inside Hooks like useReducer() or useMemo().")},Be=function(){n("Do not call Hooks inside useEffect(...), useMemo(...), or other built-in Hooks. You can only call Hooks at the top level of your React function. For more information, see https://reactjs.org/link/rules-of-hooks")};oA={readContext:function(S){return dr(S)},useCallback:function(S,E){return Ft="useCallback",mi(),sf(E),LS(S,E)},useContext:function(S){return Ft="useContext",mi(),dr(S)},useEffect:function(S,E){return Ft="useEffect",mi(),sf(E),kg(S,E)},useImperativeHandle:function(S,E,O){return Ft="useImperativeHandle",mi(),sf(O),OS(S,E,O)},useInsertionEffect:function(S,E){return Ft="useInsertionEffect",mi(),sf(E),RS(S,E)},useLayoutEffect:function(S,E){return Ft="useLayoutEffect",mi(),sf(E),AS(S,E)},useMemo:function(S,E){Ft="useMemo",mi(),sf(E);var O=ie.current;ie.current=Aa;try{return FS(S,E)}finally{ie.current=O}},useReducer:function(S,E,O){Ft="useReducer",mi();var F=ie.current;ie.current=Aa;try{return SS(S,E,O)}finally{ie.current=F}},useRef:function(S){return Ft="useRef",mi(),wS(S)},useState:function(S){Ft="useState",mi();var E=ie.current;ie.current=Aa;try{return Bg(S)}finally{ie.current=E}},useDebugValue:function(S,E){return Ft="useDebugValue",mi(),void 0},useDeferredValue:function(S){return Ft="useDeferredValue",mi(),DS(S)},useTransition:function(){return Ft="useTransition",mi(),BS()},useMutableSource:function(S,E,O){return Ft="useMutableSource",mi(),void 0},useSyncExternalStore:function(S,E,O){return Ft="useSyncExternalStore",mi(),PS(S,E,O)},useId:function(){return Ft="useId",mi(),IS()},unstable_isNewReconciler:z},hA={readContext:function(S){return dr(S)},useCallback:function(S,E){return Ft="useCallback",Zt(),LS(S,E)},useContext:function(S){return Ft="useContext",Zt(),dr(S)},useEffect:function(S,E){return Ft="useEffect",Zt(),kg(S,E)},useImperativeHandle:function(S,E,O){return Ft="useImperativeHandle",Zt(),OS(S,E,O)},useInsertionEffect:function(S,E){return Ft="useInsertionEffect",Zt(),RS(S,E)},useLayoutEffect:function(S,E){return Ft="useLayoutEffect",Zt(),AS(S,E)},useMemo:function(S,E){Ft="useMemo",Zt();var O=ie.current;ie.current=Aa;try{return FS(S,E)}finally{ie.current=O}},useReducer:function(S,E,O){Ft="useReducer",Zt();var F=ie.current;ie.current=Aa;try{return SS(S,E,O)}finally{ie.current=F}},useRef:function(S){return Ft="useRef",Zt(),wS(S)},useState:function(S){Ft="useState",Zt();var E=ie.current;ie.current=Aa;try{return Bg(S)}finally{ie.current=E}},useDebugValue:function(S,E){return Ft="useDebugValue",Zt(),void 0},useDeferredValue:function(S){return Ft="useDeferredValue",Zt(),DS(S)},useTransition:function(){return Ft="useTransition",Zt(),BS()},useMutableSource:function(S,E,O){return Ft="useMutableSource",Zt(),void 0},useSyncExternalStore:function(S,E,O){return Ft="useSyncExternalStore",Zt(),PS(S,E,O)},useId:function(){return Ft="useId",Zt(),IS()},unstable_isNewReconciler:z},lA={readContext:function(S){return dr(S)},useCallback:function(S,E){return Ft="useCallback",Zt(),Wg(S,E)},useContext:function(S){return Ft="useContext",Zt(),dr(S)},useEffect:function(S,E){return Ft="useEffect",Zt(),Cc(S,E)},useImperativeHandle:function(S,E,O){return Ft="useImperativeHandle",Zt(),Ug(S,E,O)},useInsertionEffect:function(S,E){return Ft="useInsertionEffect",Zt(),Ng(S,E)},useLayoutEffect:function(S,E){return Ft="useLayoutEffect",Zt(),zg(S,E)},useMemo:function(S,E){Ft="useMemo",Zt();var O=ie.current;ie.current=js;try{return Yg(S,E)}finally{ie.current=O}},useReducer:function(S,E,O){Ft="useReducer",Zt();var F=ie.current;ie.current=js;try{return TS(S,E,O)}finally{ie.current=F}},useRef:function(S){return Ft="useRef",Zt(),Ig()},useState:function(S){Ft="useState",Zt();var E=ie.current;ie.current=js;try{return MS(S)}finally{ie.current=E}},useDebugValue:function(S,E){return Ft="useDebugValue",Zt(),Vg()},useDeferredValue:function(S){return Ft="useDeferredValue",Zt(),jR(S)},useTransition:function(){return Ft="useTransition",Zt(),tA()},useMutableSource:function(S,E,O){return Ft="useMutableSource",Zt(),void 0},useSyncExternalStore:function(S,E,O){return Ft="useSyncExternalStore",Zt(),Dg(S,E)},useId:function(){return Ft="useId",Zt(),Xg()},unstable_isNewReconciler:z},uA={readContext:function(S){return dr(S)},useCallback:function(S,E){return Ft="useCallback",Zt(),Wg(S,E)},useContext:function(S){return Ft="useContext",Zt(),dr(S)},useEffect:function(S,E){return Ft="useEffect",Zt(),Cc(S,E)},useImperativeHandle:function(S,E,O){return Ft="useImperativeHandle",Zt(),Ug(S,E,O)},useInsertionEffect:function(S,E){return Ft="useInsertionEffect",Zt(),Ng(S,E)},useLayoutEffect:function(S,E){return Ft="useLayoutEffect",Zt(),zg(S,E)},useMemo:function(S,E){Ft="useMemo",Zt();var O=ie.current;ie.current=$g;try{return Yg(S,E)}finally{ie.current=O}},useReducer:function(S,E,O){Ft="useReducer",Zt();var F=ie.current;ie.current=$g;try{return ES(S,E,O)}finally{ie.current=F}},useRef:function(S){return Ft="useRef",Zt(),Ig()},useState:function(S){Ft="useState",Zt();var E=ie.current;ie.current=$g;try{return bS(S)}finally{ie.current=E}},useDebugValue:function(S,E){return Ft="useDebugValue",Zt(),Vg()},useDeferredValue:function(S){return Ft="useDeferredValue",Zt(),qR(S)},useTransition:function(){return Ft="useTransition",Zt(),eA()},useMutableSource:function(S,E,O){return Ft="useMutableSource",Zt(),void 0},useSyncExternalStore:function(S,E,O){return Ft="useSyncExternalStore",Zt(),Dg(S,E)},useId:function(){return Ft="useId",Zt(),Xg()},unstable_isNewReconciler:z},Aa={readContext:function(S){return GS(),dr(S)},useCallback:function(S,E){return Ft="useCallback",Be(),mi(),LS(S,E)},useContext:function(S){return Ft="useContext",Be(),mi(),dr(S)},useEffect:function(S,E){return Ft="useEffect",Be(),mi(),kg(S,E)},useImperativeHandle:function(S,E,O){return Ft="useImperativeHandle",Be(),mi(),OS(S,E,O)},useInsertionEffect:function(S,E){return Ft="useInsertionEffect",Be(),mi(),RS(S,E)},useLayoutEffect:function(S,E){return Ft="useLayoutEffect",Be(),mi(),AS(S,E)},useMemo:function(S,E){Ft="useMemo",Be(),mi();var O=ie.current;ie.current=Aa;try{return FS(S,E)}finally{ie.current=O}},useReducer:function(S,E,O){Ft="useReducer",Be(),mi();var F=ie.current;ie.current=Aa;try{return SS(S,E,O)}finally{ie.current=F}},useRef:function(S){return Ft="useRef",Be(),mi(),wS(S)},useState:function(S){Ft="useState",Be(),mi();var E=ie.current;ie.current=Aa;try{return Bg(S)}finally{ie.current=E}},useDebugValue:function(S,E){return Ft="useDebugValue",Be(),mi(),void 0},useDeferredValue:function(S){return Ft="useDeferredValue",Be(),mi(),DS(S)},useTransition:function(){return Ft="useTransition",Be(),mi(),BS()},useMutableSource:function(S,E,O){return Ft="useMutableSource",Be(),mi(),void 0},useSyncExternalStore:function(S,E,O){return Ft="useSyncExternalStore",Be(),mi(),PS(S,E,O)},useId:function(){return Ft="useId",Be(),mi(),IS()},unstable_isNewReconciler:z},js={readContext:function(S){return GS(),dr(S)},useCallback:function(S,E){return Ft="useCallback",Be(),Zt(),Wg(S,E)},useContext:function(S){return Ft="useContext",Be(),Zt(),dr(S)},useEffect:function(S,E){return Ft="useEffect",Be(),Zt(),Cc(S,E)},useImperativeHandle:function(S,E,O){return Ft="useImperativeHandle",Be(),Zt(),Ug(S,E,O)},useInsertionEffect:function(S,E){return Ft="useInsertionEffect",Be(),Zt(),Ng(S,E)},useLayoutEffect:function(S,E){return Ft="useLayoutEffect",Be(),Zt(),zg(S,E)},useMemo:function(S,E){Ft="useMemo",Be(),Zt();var O=ie.current;ie.current=js;try{return Yg(S,E)}finally{ie.current=O}},useReducer:function(S,E,O){Ft="useReducer",Be(),Zt();var F=ie.current;ie.current=js;try{return TS(S,E,O)}finally{ie.current=F}},useRef:function(S){return Ft="useRef",Be(),Zt(),Ig()},useState:function(S){Ft="useState",Be(),Zt();var E=ie.current;ie.current=js;try{return MS(S)}finally{ie.current=E}},useDebugValue:function(S,E){return Ft="useDebugValue",Be(),Zt(),Vg()},useDeferredValue:function(S){return Ft="useDeferredValue",Be(),Zt(),jR(S)},useTransition:function(){return Ft="useTransition",Be(),Zt(),tA()},useMutableSource:function(S,E,O){return Ft="useMutableSource",Be(),Zt(),void 0},useSyncExternalStore:function(S,E,O){return Ft="useSyncExternalStore",Be(),Zt(),Dg(S,E)},useId:function(){return Ft="useId",Be(),Zt(),Xg()},unstable_isNewReconciler:z},$g={readContext:function(S){return GS(),dr(S)},useCallback:function(S,E){return Ft="useCallback",Be(),Zt(),Wg(S,E)},useContext:function(S){return Ft="useContext",Be(),Zt(),dr(S)},useEffect:function(S,E){return Ft="useEffect",Be(),Zt(),Cc(S,E)},useImperativeHandle:function(S,E,O){return Ft="useImperativeHandle",Be(),Zt(),Ug(S,E,O)},useInsertionEffect:function(S,E){return Ft="useInsertionEffect",Be(),Zt(),Ng(S,E)},useLayoutEffect:function(S,E){return Ft="useLayoutEffect",Be(),Zt(),zg(S,E)},useMemo:function(S,E){Ft="useMemo",Be(),Zt();var O=ie.current;ie.current=js;try{return Yg(S,E)}finally{ie.current=O}},useReducer:function(S,E,O){Ft="useReducer",Be(),Zt();var F=ie.current;ie.current=js;try{return ES(S,E,O)}finally{ie.current=F}},useRef:function(S){return Ft="useRef",Be(),Zt(),Ig()},useState:function(S){Ft="useState",Be(),Zt();var E=ie.current;ie.current=js;try{return bS(S)}finally{ie.current=E}},useDebugValue:function(S,E){return Ft="useDebugValue",Be(),Zt(),Vg()},useDeferredValue:function(S){return Ft="useDeferredValue",Be(),Zt(),qR(S)},useTransition:function(){return Ft="useTransition",Be(),Zt(),eA()},useMutableSource:function(S,E,O){return Ft="useMutableSource",Be(),Zt(),void 0},useSyncExternalStore:function(S,E,O){return Ft="useSyncExternalStore",Be(),Zt(),Dg(S,E)},useId:function(){return Ft="useId",Be(),Zt(),Xg()},unstable_isNewReconciler:z}}var ch=t.unstable_now,fA=0,Kg=-1,Sc=-1,Zg=-1,kS=!1,Jg=!1;function dA(){return kS}function sN(){Jg=!0}function aN(){kS=!1,Jg=!1}function oN(){kS=Jg,Jg=!1}function cA(){return fA}function vA(){fA=ch()}function NS(S){Sc=ch(),S.actualStartTime<0&&(S.actualStartTime=ch())}function pA(S){Sc=-1}function Qg(S,E){if(Sc>=0){var O=ch()-Sc;S.actualDuration+=O,E&&(S.selfBaseDuration=O),Sc=-1}}function Oa(S){if(Kg>=0){var E=ch()-Kg;Kg=-1;for(var O=S.return;O!==null;){switch(O.tag){case d:var F=O.stateNode;F.effectDuration+=E;return;case m:var N=O.stateNode;N.effectDuration+=E;return}O=O.return}}}function zS(S){if(Zg>=0){var E=ch()-Zg;Zg=-1;for(var O=S.return;O!==null;){switch(O.tag){case d:var F=O.stateNode;F!==null&&(F.passiveEffectDuration+=E);return;case m:var N=O.stateNode;N!==null&&(N.passiveEffectDuration+=E);return}O=O.return}}}function La(){Kg=ch()}function US(){Zg=ch()}function VS(S){for(var E=S.child;E;)S.actualDuration+=E.actualDuration,E=E.sibling}function qs(S,E){if(S&&S.defaultProps){var O=We({},E),F=S.defaultProps;for(var N in F)O[N]===void 0&&(O[N]=F[N]);return O}return E}var WS={},YS,XS,HS,$S,KS,gA,jg,ZS,JS,QS,Tc;{YS=new Set,XS=new Set,HS=new Set,$S=new Set,ZS=new Set,KS=new Set,JS=new Set,QS=new Set,Tc=new Set;var mA=new Set;jg=function(S,E){if(!(S===null||typeof S=="function")){var O=E+"_"+S;mA.has(O)||(mA.add(O),n("%s(...): Expected the last optional `callback` argument to be a function. Instead received: %s.",E,S))}},gA=function(S,E){if(E===void 0){var O=ee(S)||"Component";KS.has(O)||(KS.add(O),n("%s.getDerivedStateFromProps(): A valid state object (or null) must be returned. You have returned undefined.",O))}},Object.defineProperty(WS,"_processChildContext",{enumerable:!1,value:function(){throw new Error("_processChildContext is not available in React 16+. This likely means you have multiple copies of React and are attempting to nest a React 15 tree inside a React 16 tree using unstable_renderSubtreeIntoContainer, which isn't supported. Try to make sure you have only one copy of React (and ideally, switch to ReactDOM.createPortal).")}}),Object.freeze(WS)}function jS(S,E,O,F){var N=S.memoizedState,W=O(F,N);{if(S.mode&ji){Fr(!0);try{W=O(F,N)}finally{Fr(!1)}}gA(E,W)}var Z=W==null?N:We({},N,W);if(S.memoizedState=Z,S.lanes===Nt){var q=S.updateQueue;q.baseState=Z}}var qS={isMounted:q9,enqueueSetState:function(S,E,O){var F=Ru(S),N=Tn(),W=mh(F),Z=Co(N,W);Z.payload=E,O!=null&&(jg(O,"setState"),Z.callback=O);var q=lh(F,Z,W);q!==null&&(Er(q,F,W,N),bg(q,F,W)),Ay(F,W)},enqueueReplaceState:function(S,E,O){var F=Ru(S),N=Tn(),W=mh(F),Z=Co(N,W);Z.tag=BR,Z.payload=E,O!=null&&(jg(O,"replaceState"),Z.callback=O);var q=lh(F,Z,W);q!==null&&(Er(q,F,W,N),bg(q,F,W)),Ay(F,W)},enqueueForceUpdate:function(S,E){var O=Ru(S),F=Tn(),N=mh(O),W=Co(F,N);W.tag=Eg,E!=null&&(jg(E,"forceUpdate"),W.callback=E);var Z=lh(O,W,N);Z!==null&&(Er(Z,O,N,F),bg(Z,O,N)),A8(O,N)}};function xA(S,E,O,F,N,W,Z){var q=S.stateNode;if(typeof q.shouldComponentUpdate=="function"){var et=q.shouldComponentUpdate(F,W,Z);{if(S.mode&ji){Fr(!0);try{et=q.shouldComponentUpdate(F,W,Z)}finally{Fr(!1)}}et===void 0&&n("%s.shouldComponentUpdate(): Returned undefined instead of a boolean value. Make sure to return true or false.",ee(E)||"Component")}return et}return E.prototype&&E.prototype.isPureReactComponent?!Xd(O,F)||!Xd(N,W):!0}function hN(S,E,O){var F=S.stateNode;{var N=ee(E)||"Component",W=F.render;W||(E.prototype&&typeof E.prototype.render=="function"?n("%s(...): No `render` method found on the returned component instance: did you accidentally return an object from the constructor?",N):n("%s(...): No `render` method found on the returned component instance: you may have forgotten to define `render`.",N)),F.getInitialState&&!F.getInitialState.isReactClassApproved&&!F.state&&n("getInitialState was defined on %s, a plain JavaScript class. This is only supported for classes created using React.createClass. Did you mean to define a state property instead?",N),F.getDefaultProps&&!F.getDefaultProps.isReactClassApproved&&n("getDefaultProps was defined on %s, a plain JavaScript class. This is only supported for classes created using React.createClass. Use a static property to define defaultProps instead.",N),F.propTypes&&n("propTypes was defined as an instance property on %s. Use a static property to define propTypes instead.",N),F.contextType&&n("contextType was defined as an instance property on %s. Use a static property to define contextType instead.",N),E.childContextTypes&&!Tc.has(E)&&(S.mode&ji)===Te&&(Tc.add(E),n(`%s uses the legacy childContextTypes API which is no longer supported and will be removed in the next major release. Use React.createContext() instead

.Learn more about this warning here: https://reactjs.org/link/legacy-context`,N)),E.contextTypes&&!Tc.has(E)&&(S.mode&ji)===Te&&(Tc.add(E),n(`%s uses the legacy contextTypes API which is no longer supported and will be removed in the next major release. Use React.createContext() with static contextType instead.

Learn more about this warning here: https://reactjs.org/link/legacy-context`,N)),F.contextTypes&&n("contextTypes was defined as an instance property on %s. Use a static property to define contextTypes instead.",N),E.contextType&&E.contextTypes&&!JS.has(E)&&(JS.add(E),n("%s declares both contextTypes and contextType static properties. The legacy contextTypes property will be ignored.",N)),typeof F.componentShouldUpdate=="function"&&n("%s has a method called componentShouldUpdate(). Did you mean shouldComponentUpdate()? The name is phrased as a question because the function is expected to return a value.",N),E.prototype&&E.prototype.isPureReactComponent&&typeof F.shouldComponentUpdate<"u"&&n("%s has a method called shouldComponentUpdate(). shouldComponentUpdate should not be used when extending React.PureComponent. Please extend React.Component if shouldComponentUpdate is used.",ee(E)||"A pure component"),typeof F.componentDidUnmount=="function"&&n("%s has a method called componentDidUnmount(). But there is no such lifecycle method. Did you mean componentWillUnmount()?",N),typeof F.componentDidReceiveProps=="function"&&n("%s has a method called componentDidReceiveProps(). But there is no such lifecycle method. If you meant to update the state in response to changing props, use componentWillReceiveProps(). If you meant to fetch data or run side-effects or mutations after React has updated the UI, use componentDidUpdate().",N),typeof F.componentWillRecieveProps=="function"&&n("%s has a method called componentWillRecieveProps(). Did you mean componentWillReceiveProps()?",N),typeof F.UNSAFE_componentWillRecieveProps=="function"&&n("%s has a method called UNSAFE_componentWillRecieveProps(). Did you mean UNSAFE_componentWillReceiveProps()?",N);var Z=F.props!==O;F.props!==void 0&&Z&&n("%s(...): When calling super() in `%s`, make sure to pass up the same props that your component's constructor was passed.",N,N),F.defaultProps&&n("Setting defaultProps as an instance property on %s is not supported and will be ignored. Instead, define defaultProps as a static property on %s.",N,N),typeof F.getSnapshotBeforeUpdate=="function"&&typeof F.componentDidUpdate!="function"&&!HS.has(E)&&(HS.add(E),n("%s: getSnapshotBeforeUpdate() should be used with componentDidUpdate(). This component defines getSnapshotBeforeUpdate() only.",ee(E))),typeof F.getDerivedStateFromProps=="function"&&n("%s: getDerivedStateFromProps() is defined as an instance method and will be ignored. Instead, declare it as a static method.",N),typeof F.getDerivedStateFromError=="function"&&n("%s: getDerivedStateFromError() is defined as an instance method and will be ignored. Instead, declare it as a static method.",N),typeof E.getSnapshotBeforeUpdate=="function"&&n("%s: getSnapshotBeforeUpdate() is defined as a static method and will be ignored. Instead, declare it as an instance method.",N);var q=F.state;q&&(typeof q!="object"||di(q))&&n("%s.state: must be set to an object or null",N),typeof F.getChildContext=="function"&&typeof E.childContextTypes!="object"&&n("%s.getChildContext(): childContextTypes must be defined in order to use getChildContext().",N)}}function yA(S,E){E.updater=qS,S.stateNode=E,K9(E,S),E._reactInternalInstance=WS}function CA(S,E,O){var F=!1,N=es,W=es,Z=E.contextType;if("contextType"in E){var q=Z===null||Z!==void 0&&Z.$$typeof===je&&Z._context===void 0;if(!q&&!QS.has(E)){QS.add(E);var et="";Z===void 0?et=" However, it is set to undefined. This can be caused by a typo or by mixing up named and default imports. This can also happen due to a circular dependency, so try moving the createContext() call to a separate file.":typeof Z!="object"?et=" However, it is set to a "+typeof Z+".":Z.$$typeof===ue?et=" Did you accidentally pass the Context.Provider instead?":Z._context!==void 0?et=" Did you accidentally pass the Context.Consumer instead?":et=" However, it is set to an object with keys {"+Object.keys(Z).join(", ")+"}.",n("%s defines an invalid contextType. contextType should point to the Context object returned by React.createContext().%s",ee(E)||"Component",et)}}if(typeof Z=="object"&&Z!==null)W=dr(Z);else{N=$u(S,E,!0);var nt=E.contextTypes;F=nt!=null,W=F?Ku(S,N):es}var at=new E(O,W);if(S.mode&ji){Fr(!0);try{at=new E(O,W)}finally{Fr(!1)}}var pt=S.memoizedState=at.state!==null&&at.state!==void 0?at.state:null;yA(S,at);{if(typeof E.getDerivedStateFromProps=="function"&&pt===null){var vt=ee(E)||"Component";XS.has(vt)||(XS.add(vt),n("`%s` uses `getDerivedStateFromProps` but its initial state is %s. This is not recommended. Instead, define the initial state by assigning an object to `this.state` in the constructor of `%s`. This ensures that `getDerivedStateFromProps` arguments have a consistent shape.",vt,at.state===null?"null":"undefined",vt))}if(typeof E.getDerivedStateFromProps=="function"||typeof at.getSnapshotBeforeUpdate=="function"){var St=null,Pt=null,At=null;if(typeof at.componentWillMount=="function"&&at.componentWillMount.__suppressDeprecationWarning!==!0?St="componentWillMount":typeof at.UNSAFE_componentWillMount=="function"&&(St="UNSAFE_componentWillMount"),typeof at.componentWillReceiveProps=="function"&&at.componentWillReceiveProps.__suppressDeprecationWarning!==!0?Pt="componentWillReceiveProps":typeof at.UNSAFE_componentWillReceiveProps=="function"&&(Pt="UNSAFE_componentWillReceiveProps"),typeof at.componentWillUpdate=="function"&&at.componentWillUpdate.__suppressDeprecationWarning!==!0?At="componentWillUpdate":typeof at.UNSAFE_componentWillUpdate=="function"&&(At="UNSAFE_componentWillUpdate"),St!==null||Pt!==null||At!==null){var Jt=ee(E)||"Component",ye=typeof E.getDerivedStateFromProps=="function"?"getDerivedStateFromProps()":"getSnapshotBeforeUpdate()";$S.has(Jt)||($S.add(Jt),n(`Unsafe legacy lifecycles will not be called for components using new component APIs.

%s uses %s but also contains the following legacy lifecycles:%s%s%s

The above lifecycles should be removed. Learn more about this warning here:
https://reactjs.org/link/unsafe-component-lifecycles`,Jt,ye,St!==null?`
  `+St:"",Pt!==null?`
  `+Pt:"",At!==null?`
  `+At:""))}}}return F&&lR(S,N,W),at}function lN(S,E){var O=E.state;typeof E.componentWillMount=="function"&&E.componentWillMount(),typeof E.UNSAFE_componentWillMount=="function"&&E.UNSAFE_componentWillMount(),O!==E.state&&(n("%s.componentWillMount(): Assigning directly to this.state is deprecated (except inside a component's constructor). Use setState instead.",Dt(S)||"Component"),qS.enqueueReplaceState(E,E.state,null))}function SA(S,E,O,F){var N=E.state;if(typeof E.componentWillReceiveProps=="function"&&E.componentWillReceiveProps(O,F),typeof E.UNSAFE_componentWillReceiveProps=="function"&&E.UNSAFE_componentWillReceiveProps(O,F),E.state!==N){{var W=Dt(S)||"Component";YS.has(W)||(YS.add(W),n("%s.componentWillReceiveProps(): Assigning directly to this.state is deprecated (except inside a component's constructor). Use setState instead.",W))}qS.enqueueReplaceState(E,E.state,null)}}function _S(S,E,O,F){hN(S,E,O);var N=S.stateNode;N.props=O,N.state=S.memoizedState,N.refs={},hS(S);var W=E.contextType;if(typeof W=="object"&&W!==null)N.context=dr(W);else{var Z=$u(S,E,!0);N.context=Ku(S,Z)}{if(N.state===O){var q=ee(E)||"Component";ZS.has(q)||(ZS.add(q),n("%s: It is not recommended to assign props directly to state because updates to props won't be reflected in state. In most cases, it is better to use props directly.",q))}S.mode&ji&&Js.recordLegacyContextWarning(S,N),Js.recordUnsafeLifecycleWarnings(S,N)}N.state=S.memoizedState;var et=E.getDerivedStateFromProps;if(typeof et=="function"&&(jS(S,E,et,O),N.state=S.memoizedState),typeof E.getDerivedStateFromProps!="function"&&typeof N.getSnapshotBeforeUpdate!="function"&&(typeof N.UNSAFE_componentWillMount=="function"||typeof N.componentWillMount=="function")&&(lN(S,N),wg(S,O,N,F),N.state=S.memoizedState),typeof N.componentDidMount=="function"){var nt=ni;nt|=dl,(S.mode&Ea)!==Te&&(nt|=lo),S.flags|=nt}}function uN(S,E,O,F){var N=S.stateNode,W=S.memoizedProps;N.props=W;var Z=N.context,q=E.contextType,et=es;if(typeof q=="object"&&q!==null)et=dr(q);else{var nt=$u(S,E,!0);et=Ku(S,nt)}var at=E.getDerivedStateFromProps,pt=typeof at=="function"||typeof N.getSnapshotBeforeUpdate=="function";!pt&&(typeof N.UNSAFE_componentWillReceiveProps=="function"||typeof N.componentWillReceiveProps=="function")&&(W!==O||Z!==et)&&SA(S,N,O,et),GR();var vt=S.memoizedState,St=N.state=vt;if(wg(S,O,N,F),St=S.memoizedState,W===O&&vt===St&&!hg()&&!Rg()){if(typeof N.componentDidMount=="function"){var Pt=ni;Pt|=dl,(S.mode&Ea)!==Te&&(Pt|=lo),S.flags|=Pt}return!1}typeof at=="function"&&(jS(S,E,at,O),St=S.memoizedState);var At=Rg()||xA(S,E,W,O,vt,St,et);if(At){if(!pt&&(typeof N.UNSAFE_componentWillMount=="function"||typeof N.componentWillMount=="function")&&(typeof N.componentWillMount=="function"&&N.componentWillMount(),typeof N.UNSAFE_componentWillMount=="function"&&N.UNSAFE_componentWillMount()),typeof N.componentDidMount=="function"){var Jt=ni;Jt|=dl,(S.mode&Ea)!==Te&&(Jt|=lo),S.flags|=Jt}}else{if(typeof N.componentDidMount=="function"){var ye=ni;ye|=dl,(S.mode&Ea)!==Te&&(ye|=lo),S.flags|=ye}S.memoizedProps=O,S.memoizedState=St}return N.props=O,N.state=St,N.context=et,At}function fN(S,E,O,F,N){var W=E.stateNode;IR(S,E);var Z=E.memoizedProps,q=E.type===E.elementType?Z:qs(E.type,Z);W.props=q;var et=E.pendingProps,nt=W.context,at=O.contextType,pt=es;if(typeof at=="object"&&at!==null)pt=dr(at);else{var vt=$u(E,O,!0);pt=Ku(E,vt)}var St=O.getDerivedStateFromProps,Pt=typeof St=="function"||typeof W.getSnapshotBeforeUpdate=="function";!Pt&&(typeof W.UNSAFE_componentWillReceiveProps=="function"||typeof W.componentWillReceiveProps=="function")&&(Z!==et||nt!==pt)&&SA(E,W,F,pt),GR();var At=E.memoizedState,Jt=W.state=At;if(wg(E,F,W,N),Jt=E.memoizedState,Z===et&&At===Jt&&!hg()&&!Rg()&&!X)return typeof W.componentDidUpdate=="function"&&(Z!==S.memoizedProps||At!==S.memoizedState)&&(E.flags|=ni),typeof W.getSnapshotBeforeUpdate=="function"&&(Z!==S.memoizedProps||At!==S.memoizedState)&&(E.flags|=ul),!1;typeof St=="function"&&(jS(E,O,St,F),Jt=E.memoizedState);var ye=Rg()||xA(E,O,q,F,At,Jt,pt)||X;return ye?(!Pt&&(typeof W.UNSAFE_componentWillUpdate=="function"||typeof W.componentWillUpdate=="function")&&(typeof W.componentWillUpdate=="function"&&W.componentWillUpdate(F,Jt,pt),typeof W.UNSAFE_componentWillUpdate=="function"&&W.UNSAFE_componentWillUpdate(F,Jt,pt)),typeof W.componentDidUpdate=="function"&&(E.flags|=ni),typeof W.getSnapshotBeforeUpdate=="function"&&(E.flags|=ul)):(typeof W.componentDidUpdate=="function"&&(Z!==S.memoizedProps||At!==S.memoizedState)&&(E.flags|=ni),typeof W.getSnapshotBeforeUpdate=="function"&&(Z!==S.memoizedProps||At!==S.memoizedState)&&(E.flags|=ul),E.memoizedProps=F,E.memoizedState=Jt),W.props=F,W.state=Jt,W.context=pt,ye}function Ol(S,E){return{value:S,source:E,stack:re(E),digest:null}}function tT(S,E,O){return{value:S,source:null,stack:O??null,digest:E??null}}function dN(S,E){return!0}function eT(S,E){try{var O=dN(S,E);if(O===!1)return;var F=E.value,N=E.source,W=E.stack,Z=W!==null?W:"";if(F!=null&&F._suppressLogging){if(S.tag===a)return;console.error(F)}var q=N?Dt(N):null,et=q?"The above error occurred in the <"+q+"> component:":"The above error occurred in one of your React components:",nt;if(S.tag===d)nt=`Consider adding an error boundary to your tree to customize error handling behavior.
Visit https://reactjs.org/link/error-boundaries to learn more about error boundaries.`;else{var at=Dt(S)||"Anonymous";nt="React will try to recreate this component tree from scratch "+("using the error boundary you provided, "+at+".")}var pt=et+`
`+Z+`

`+(""+nt);console.error(pt)}catch(vt){setTimeout(function(){throw vt})}}var cN=typeof WeakMap=="function"?WeakMap:Map;function TA(S,E,O){var F=Co(Ni,O);F.tag=aS,F.payload={element:null};var N=E.value;return F.callback=function(){sU(N),eT(S,E)},F}function iT(S,E,O){var F=Co(Ni,O);F.tag=aS;var N=S.type.getDerivedStateFromError;if(typeof N=="function"){var W=E.value;F.payload=function(){return N(W)},F.callback=function(){D2(S),eT(S,E)}}var Z=S.stateNode;return Z!==null&&typeof Z.componentDidCatch=="function"&&(F.callback=function(){D2(S),eT(S,E),typeof N!="function"&&rU(this);var et=E.value,nt=E.stack;this.componentDidCatch(et,{componentStack:nt!==null?nt:""}),typeof N!="function"&&(jn(S.lanes,De)||n("%s: Error boundaries should implement getDerivedStateFromError(). In that method, return a state update to display an error message or fallback UI.",Dt(S)||"Unknown"))}),F}function EA(S,E,O){var F=S.pingCache,N;if(F===null?(F=S.pingCache=new cN,N=new Set,F.set(E,N)):(N=F.get(E),N===void 0&&(N=new Set,F.set(E,N))),!N.has(O)){N.add(O);var W=aU.bind(null,S,E,O);Hs&&zc(S,O),E.then(W,W)}}function vN(S,E,O,F){var N=S.updateQueue;if(N===null){var W=new Set;W.add(O),S.updateQueue=W}else N.add(O)}function pN(S,E){var O=S.tag;if((S.mode&ei)===Te&&(O===i||O===p||O===M)){var F=S.alternate;F?(S.updateQueue=F.updateQueue,S.memoizedState=F.memoizedState,S.lanes=F.lanes):(S.updateQueue=null,S.memoizedState=null)}}function PA(S){var E=S;do{if(E.tag===g&&J7(E))return E;E=E.return}while(E!==null);return null}function MA(S,E,O,F,N){if((S.mode&ei)===Te){if(S===E)S.flags|=yn;else{if(S.flags|=ci,O.flags|=Ty,O.flags&=~(Z9|Sd),O.tag===a){var W=O.alternate;if(W===null)O.tag=w;else{var Z=Co(Ni,De);Z.tag=Eg,lh(O,Z,De)}}O.lanes=$e(O.lanes,De)}return S}return S.flags|=yn,S.lanes=N,S}function gN(S,E,O,F,N){if(O.flags|=Sd,Hs&&zc(S,N),F!==null&&typeof F=="object"&&typeof F.then=="function"){var W=F;pN(O),Yr()&&O.mode&ei&&gR();var Z=PA(E);if(Z!==null){Z.flags&=~oo,MA(Z,E,O,S,N),Z.mode&ei&&EA(S,W,N),vN(Z,S,W);return}else{if(!N8(N)){EA(S,W,N),IT();return}var q=new Error("A component suspended while responding to synchronous input. This will cause the UI to be replaced with a loading indicator. To fix, updates that suspend should be wrapped with startTransition.");F=q}}else if(Yr()&&O.mode&ei){gR();var et=PA(E);if(et!==null){(et.flags&yn)===Re&&(et.flags|=oo),MA(et,E,O,S,N),ZC(Ol(F,O));return}}F=Ol(F,O),Jz(F);var nt=E;do{switch(nt.tag){case d:{var at=F;nt.flags|=yn;var pt=Ad(N);nt.lanes=$e(nt.lanes,pt);var vt=TA(nt,at,pt);lS(nt,vt);return}case a:var St=F,Pt=nt.type,At=nt.stateNode;if((nt.flags&ci)===Re&&(typeof Pt.getDerivedStateFromError=="function"||At!==null&&typeof At.componentDidCatch=="function"&&!P2(At))){nt.flags|=yn;var Jt=Ad(N);nt.lanes=$e(nt.lanes,Jt);var ye=iT(nt,St,Jt);lS(nt,ye);return}break}nt=nt.return}while(nt!==null)}function mN(){return null}var Ec=r.ReactCurrentOwner,_s=!1,rT,Pc,nT,sT,aT,Ll,oT,qg,Mc;rT={},Pc={},nT={},sT={},aT={},Ll=!1,oT={},qg={},Mc={};function Cn(S,E,O,F){S===null?E.child=RR(E,null,O,F):E.child=ju(E,S.child,O,F)}function xN(S,E,O,F){E.child=ju(E,S.child,null,F),E.child=ju(E,null,O,F)}function bA(S,E,O,F,N){if(E.type!==E.elementType){var W=O.propTypes;W&&Ks(W,F,"prop",ee(O))}var Z=O.render,q=E.ref,et,nt;_u(E,N),Ed(E);{if(Ec.current=E,nn(!0),et=af(S,E,Z,F,q,N),nt=of(),E.mode&ji){Fr(!0);try{et=af(S,E,Z,F,q,N),nt=of()}finally{Fr(!1)}}nn(!1)}return Fu(),S!==null&&!_s?(WR(S,E,N),So(S,E,N)):(Yr()&&nt&&WC(E),E.flags|=Au,Cn(S,E,et,N),E.child)}function wA(S,E,O,F,N){if(S===null){var W=O.type;if(EU(W)&&O.compare===null&&O.defaultProps===void 0){var Z=W;return Z=pf(W),E.tag=M,E.type=Z,uT(E,W),RA(S,E,Z,F,N)}{var q=W.propTypes;if(q&&Ks(q,F,"prop",ee(W)),O.defaultProps!==void 0){var et=ee(W)||"Unknown";Mc[et]||(n("%s: Support for defaultProps will be removed from memo components in a future major release. Use JavaScript default parameters instead.",et),Mc[et]=!0)}}var nt=$T(O.type,null,F,E,E.mode,N);return nt.ref=E.ref,nt.return=E,E.child=nt,nt}{var at=O.type,pt=at.propTypes;pt&&Ks(pt,F,"prop",ee(at))}var vt=S.child,St=gT(S,N);if(!St){var Pt=vt.memoizedProps,At=O.compare;if(At=At!==null?At:Xd,At(Pt,F)&&S.ref===E.ref)return So(S,E,N)}E.flags|=Au;var Jt=Gl(vt,F);return Jt.ref=E.ref,Jt.return=E,E.child=Jt,Jt}function RA(S,E,O,F,N){if(E.type!==E.elementType){var W=E.elementType;if(W.$$typeof===Ze){var Z=W,q=Z._payload,et=Z._init;try{W=et(q)}catch{W=null}var nt=W&&W.propTypes;nt&&Ks(nt,F,"prop",ee(W))}}if(S!==null){var at=S.memoizedProps;if(Xd(at,F)&&S.ref===E.ref&&E.type===S.type)if(_s=!1,E.pendingProps=F=at,gT(S,N))(S.flags&Ty)!==Re&&(_s=!0);else return E.lanes=S.lanes,So(S,E,N)}return hT(S,E,O,F,N)}function AA(S,E,O){var F=E.pendingProps,N=F.children,W=S!==null?S.memoizedState:null;if(F.mode==="hidden"||H)if((E.mode&ei)===Te){var Z={baseLanes:Nt,cachePool:null,transitions:null};E.memoizedState=Z,fm(E,O)}else if(jn(O,Qn)){var pt={baseLanes:Nt,cachePool:null,transitions:null};E.memoizedState=pt;var vt=W!==null?W.baseLanes:O;fm(E,vt)}else{var q=null,et;if(W!==null){var nt=W.baseLanes;et=$e(nt,O)}else et=O;E.lanes=E.childLanes=Qn;var at={baseLanes:et,cachePool:q,transitions:null};return E.memoizedState=at,E.updateQueue=null,fm(E,et),null}else{var St;W!==null?(St=$e(W.baseLanes,O),E.memoizedState=null):St=O,fm(E,St)}return Cn(S,E,N,O),E.child}function yN(S,E,O){var F=E.pendingProps;return Cn(S,E,F,O),E.child}function CN(S,E,O){var F=E.pendingProps.children;return Cn(S,E,F,O),E.child}function SN(S,E,O){{E.flags|=ni;{var F=E.stateNode;F.effectDuration=0,F.passiveEffectDuration=0}}var N=E.pendingProps,W=N.children;return Cn(S,E,W,O),E.child}function OA(S,E){var O=E.ref;(S===null&&O!==null||S!==null&&S.ref!==O)&&(E.flags|=jo,E.flags|=Ey)}function hT(S,E,O,F,N){if(E.type!==E.elementType){var W=O.propTypes;W&&Ks(W,F,"prop",ee(O))}var Z;{var q=$u(E,O,!0);Z=Ku(E,q)}var et,nt;_u(E,N),Ed(E);{if(Ec.current=E,nn(!0),et=af(S,E,O,F,Z,N),nt=of(),E.mode&ji){Fr(!0);try{et=af(S,E,O,F,Z,N),nt=of()}finally{Fr(!1)}}nn(!1)}return Fu(),S!==null&&!_s?(WR(S,E,N),So(S,E,N)):(Yr()&&nt&&WC(E),E.flags|=Au,Cn(S,E,et,N),E.child)}function LA(S,E,O,F,N){{switch(NU(E)){case!1:{var W=E.stateNode,Z=E.type,q=new Z(E.memoizedProps,W.context),et=q.state;W.updater.enqueueSetState(W,et,null);break}case!0:{E.flags|=ci,E.flags|=yn;var nt=new Error("Simulated error coming from DevTools"),at=Ad(N);E.lanes=$e(E.lanes,at);var pt=iT(E,Ol(nt,E),at);lS(E,pt);break}}if(E.type!==E.elementType){var vt=O.propTypes;vt&&Ks(vt,F,"prop",ee(O))}}var St;ba(O)?(St=!0,ug(E)):St=!1,_u(E,N);var Pt=E.stateNode,At;Pt===null?(tm(S,E),CA(E,O,F),_S(E,O,F,N),At=!0):S===null?At=uN(E,O,F,N):At=fN(S,E,O,F,N);var Jt=lT(S,E,O,At,St,N);{var ye=E.stateNode;At&&ye.props!==F&&(Ll||n("It looks like %s is reassigning its own `this.props` while rendering. This is not supported and can lead to confusing bugs.",Dt(E)||"a component"),Ll=!0)}return Jt}function lT(S,E,O,F,N,W){OA(S,E);var Z=(E.flags&ci)!==Re;if(!F&&!Z)return N&&dR(E,O,!1),So(S,E,W);var q=E.stateNode;Ec.current=E;var et;if(Z&&typeof O.getDerivedStateFromError!="function")et=null,pA();else{Ed(E);{if(nn(!0),et=q.render(),E.mode&ji){Fr(!0);try{q.render()}finally{Fr(!1)}}nn(!1)}Fu()}return E.flags|=Au,S!==null&&Z?xN(S,E,et,W):Cn(S,E,et,W),E.memoizedState=q.state,N&&dR(E,O,!0),E.child}function FA(S){var E=S.stateNode;E.pendingContext?uR(S,E.pendingContext,E.pendingContext!==E.context):E.context&&uR(S,E.context,!1),uS(S,E.containerInfo)}function TN(S,E,O){if(FA(E),S===null)throw new Error("Should have a current fiber. This is a bug in React.");var F=E.pendingProps,N=E.memoizedState,W=N.element;IR(S,E),wg(E,F,null,O);var Z=E.memoizedState;E.stateNode;var q=Z.element;if(N.isDehydrated){var et={element:q,isDehydrated:!1,cache:Z.cache,pendingSuspenseBoundaries:Z.pendingSuspenseBoundaries,transitions:Z.transitions},nt=E.updateQueue;if(nt.baseState=et,E.memoizedState=et,E.flags&oo){var at=Ol(new Error("There was an error while hydrating. Because the error happened outside of a Suspense boundary, the entire root will switch to client rendering."),E);return DA(S,E,q,O,at)}else if(q!==W){var pt=Ol(new Error("This root received an early update, before anything was able hydrate. Switched the entire root to client rendering."),E);return DA(S,E,q,O,pt)}else{M7(E);var vt=RR(E,null,q,O);E.child=vt;for(var St=vt;St;)St.flags=St.flags&~fr|ho,St=St.sibling}}else{if(Qu(),q===W)return So(S,E,O);Cn(S,E,q,O)}return E.child}function DA(S,E,O,F,N){return Qu(),ZC(N),E.flags|=oo,Cn(S,E,O,F),E.child}function EN(S,E,O){zR(E),S===null&&KC(E);var F=E.type,N=E.pendingProps,W=S!==null?S.memoizedProps:null,Z=N.children,q=RC(F,N);return q?Z=null:W!==null&&RC(F,W)&&(E.flags|=Cd),OA(S,E),Cn(S,E,Z,O),E.child}function PN(S,E){return S===null&&KC(E),null}function MN(S,E,O,F){tm(S,E);var N=E.pendingProps,W=O,Z=W._payload,q=W._init,et=q(Z);E.type=et;var nt=E.tag=PU(et),at=qs(et,N),pt;switch(nt){case i:return uT(E,et),E.type=et=pf(et),pt=hT(null,E,et,at,F),pt;case a:return E.type=et=UT(et),pt=LA(null,E,et,at,F),pt;case p:return E.type=et=VT(et),pt=bA(null,E,et,at,F),pt;case C:{if(E.type!==E.elementType){var vt=et.propTypes;vt&&Ks(vt,at,"prop",ee(et))}return pt=wA(null,E,et,qs(et.type,at),F),pt}}var St="";throw et!==null&&typeof et=="object"&&et.$$typeof===Ze&&(St=" Did you wrap a component in React.lazy() more than once?"),new Error("Element type is invalid. Received a promise that resolves to: "+et+". "+("Lazy element type must resolve to a class or function."+St))}function bN(S,E,O,F,N){tm(S,E),E.tag=a;var W;return ba(O)?(W=!0,ug(E)):W=!1,_u(E,N),CA(E,O,F),_S(E,O,F,N),lT(null,E,O,!0,W,N)}function wN(S,E,O,F){tm(S,E);var N=E.pendingProps,W;{var Z=$u(E,O,!1);W=Ku(E,Z)}_u(E,F);var q,et;Ed(E);{if(O.prototype&&typeof O.prototype.render=="function"){var nt=ee(O)||"Unknown";rT[nt]||(n("The <%s /> component appears to have a render method, but doesn't extend React.Component. This is likely to cause errors. Change %s to extend React.Component instead.",nt,nt),rT[nt]=!0)}E.mode&ji&&Js.recordLegacyContextWarning(E,null),nn(!0),Ec.current=E,q=af(null,E,O,N,W,F),et=of(),nn(!1)}if(Fu(),E.flags|=Au,typeof q=="object"&&q!==null&&typeof q.render=="function"&&q.$$typeof===void 0){var at=ee(O)||"Unknown";Pc[at]||(n("The <%s /> component appears to be a function component that returns a class instance. Change %s to a class that extends React.Component instead. If you can't use a class try assigning the prototype on the function as a workaround. `%s.prototype = React.Component.prototype`. Don't use an arrow function since it cannot be called with `new` by React.",at,at,at),Pc[at]=!0)}if(typeof q=="object"&&q!==null&&typeof q.render=="function"&&q.$$typeof===void 0){{var pt=ee(O)||"Unknown";Pc[pt]||(n("The <%s /> component appears to be a function component that returns a class instance. Change %s to a class that extends React.Component instead. If you can't use a class try assigning the prototype on the function as a workaround. `%s.prototype = React.Component.prototype`. Don't use an arrow function since it cannot be called with `new` by React.",pt,pt,pt),Pc[pt]=!0)}E.tag=a,E.memoizedState=null,E.updateQueue=null;var vt=!1;return ba(O)?(vt=!0,ug(E)):vt=!1,E.memoizedState=q.state!==null&&q.state!==void 0?q.state:null,hS(E),yA(E,q),_S(E,O,N,F),lT(null,E,O,!0,vt,F)}else{if(E.tag=i,E.mode&ji){Fr(!0);try{q=af(null,E,O,N,W,F),et=of()}finally{Fr(!1)}}return Yr()&&et&&WC(E),Cn(null,E,q,F),uT(E,O),E.child}}function uT(S,E){{if(E&&E.childContextTypes&&n("%s(...): childContextTypes cannot be defined on a function component.",E.displayName||E.name||"Component"),S.ref!==null){var O="",F=ae();F&&(O+=`

Check the render method of \``+F+"`.");var N=F||"",W=S._debugSource;W&&(N=W.fileName+":"+W.lineNumber),aT[N]||(aT[N]=!0,n("Function components cannot be given refs. Attempts to access this ref will fail. Did you mean to use React.forwardRef()?%s",O))}if(E.defaultProps!==void 0){var Z=ee(E)||"Unknown";Mc[Z]||(n("%s: Support for defaultProps will be removed from function components in a future major release. Use JavaScript default parameters instead.",Z),Mc[Z]=!0)}if(typeof E.getDerivedStateFromProps=="function"){var q=ee(E)||"Unknown";sT[q]||(n("%s: Function components do not support getDerivedStateFromProps.",q),sT[q]=!0)}if(typeof E.contextType=="object"&&E.contextType!==null){var et=ee(E)||"Unknown";nT[et]||(n("%s: Function components do not support contextType.",et),nT[et]=!0)}}}var fT={dehydrated:null,treeContext:null,retryLane:Dr};function dT(S){return{baseLanes:S,cachePool:mN(),transitions:null}}function RN(S,E){var O=null;return{baseLanes:$e(S.baseLanes,E),cachePool:O,transitions:S.transitions}}function AN(S,E,O,F){if(E!==null){var N=E.memoizedState;if(N===null)return!1}return cS(S,vc)}function ON(S,E){return Dp(S.childLanes,E)}function BA(S,E,O){var F=E.pendingProps;zU(E)&&(E.flags|=ci);var N=Qs.current,W=!1,Z=(E.flags&ci)!==Re;if(Z||AN(N,S)?(W=!0,E.flags&=~ci):(S===null||S.memoizedState!==null)&&(N=Z7(N,VR)),N=ef(N),fh(E,N),S===null){KC(E);var q=E.memoizedState;if(q!==null){var et=q.dehydrated;if(et!==null)return IN(E,et)}var nt=F.children,at=F.fallback;if(W){var pt=LN(E,nt,at,O),vt=E.child;return vt.memoizedState=dT(O),E.memoizedState=fT,pt}else return cT(E,nt)}else{var St=S.memoizedState;if(St!==null){var Pt=St.dehydrated;if(Pt!==null)return GN(S,E,Z,F,Pt,St,O)}if(W){var At=F.fallback,Jt=F.children,ye=DN(S,E,Jt,At,O),ge=E.child,ri=S.child.memoizedState;return ge.memoizedState=ri===null?dT(O):RN(ri,O),ge.childLanes=ON(S,O),E.memoizedState=fT,ye}else{var _e=F.children,mt=FN(S,E,_e,O);return E.memoizedState=null,mt}}}function cT(S,E,O){var F=S.mode,N={mode:"visible",children:E},W=vT(N,F);return W.return=S,S.child=W,W}function LN(S,E,O,F){var N=S.mode,W=S.child,Z={mode:"hidden",children:E},q,et;return(N&ei)===Te&&W!==null?(q=W,q.childLanes=Nt,q.pendingProps=Z,S.mode&Ei&&(q.actualDuration=0,q.actualStartTime=-1,q.selfBaseDuration=0,q.treeBaseDuration=0),et=yh(O,N,F,null)):(q=vT(Z,N),et=yh(O,N,F,null)),q.return=S,et.return=S,q.sibling=et,S.child=q,et}function vT(S,E,O){return I2(S,E,Nt,null)}function IA(S,E){return Gl(S,E)}function FN(S,E,O,F){var N=S.child,W=N.sibling,Z=IA(N,{mode:"visible",children:O});if((E.mode&ei)===Te&&(Z.lanes=F),Z.return=E,Z.sibling=null,W!==null){var q=E.deletions;q===null?(E.deletions=[W],E.flags|=ll):q.push(W)}return E.child=Z,Z}function DN(S,E,O,F,N){var W=E.mode,Z=S.child,q=Z.sibling,et={mode:"hidden",children:O},nt;if((W&ei)===Te&&E.child!==Z){var at=E.child;nt=at,nt.childLanes=Nt,nt.pendingProps=et,E.mode&Ei&&(nt.actualDuration=0,nt.actualStartTime=-1,nt.selfBaseDuration=Z.selfBaseDuration,nt.treeBaseDuration=Z.treeBaseDuration),E.deletions=null}else nt=IA(Z,et),nt.subtreeFlags=Z.subtreeFlags&uo;var pt;return q!==null?pt=Gl(q,F):(pt=yh(F,W,N,null),pt.flags|=fr),pt.return=E,nt.return=E,nt.sibling=pt,E.child=nt,pt}function _g(S,E,O,F){F!==null&&ZC(F),ju(E,S.child,null,O);var N=E.pendingProps,W=N.children,Z=cT(E,W);return Z.flags|=fr,E.memoizedState=null,Z}function BN(S,E,O,F,N){var W=E.mode,Z={mode:"visible",children:O},q=vT(Z,W),et=yh(F,W,N,null);return et.flags|=fr,q.return=E,et.return=E,q.sibling=et,E.child=q,(E.mode&ei)!==Te&&ju(E,S.child,null,N),et}function IN(S,E,O){return(S.mode&ei)===Te?(n("Cannot hydrate Suspense in legacy mode. Switch from ReactDOM.hydrate(element, container) to ReactDOMClient.hydrateRoot(container, <App />).render(element) or remove the Suspense components from the server rendered components."),S.lanes=De):FC(E)?S.lanes=pl:S.lanes=Qn,null}function GN(S,E,O,F,N,W,Z){if(O)if(E.flags&oo){E.flags&=~oo;var mt=tT(new Error("There was an error while hydrating this Suspense boundary. Switched to client rendering."));return _g(S,E,Z,mt)}else{if(E.memoizedState!==null)return E.child=S.child,E.flags|=ci,null;var Ot=F.children,xt=F.fallback,Vt=BN(S,E,Ot,xt,Z),ne=E.child;return ne.memoizedState=dT(Z),E.memoizedState=fT,Vt}else{if(E7(),(E.mode&ei)===Te)return _g(S,E,Z,null);if(FC(N)){var q,et,nt;{var at=Uk(N);q=at.digest,et=at.message,nt=at.stack}var pt;et?pt=new Error(et):pt=new Error("The server could not finish this Suspense boundary, likely due to an error during server rendering. Switched to client rendering.");var vt=tT(pt,q,nt);return _g(S,E,Z,vt)}var St=jn(Z,S.childLanes);if(_s||St){var Pt=um();if(Pt!==null){var At=$8(Pt,Z);if(At!==Dr&&At!==W.retryLane){W.retryLane=At;var Jt=Ni;Fn(S,At),Er(Pt,S,At,Jt)}}IT();var ye=tT(new Error("This Suspense boundary received an update before it finished hydrating. This caused the boundary to switch to client rendering. The usual way to fix this is to wrap the original update in startTransition."));return _g(S,E,Z,ye)}else if(nR(N)){E.flags|=ci,E.child=S.child;var ge=oU.bind(null,S);return Vk(N,ge),null}else{b7(E,N,W.treeContext);var ri=F.children,_e=cT(E,ri);return _e.flags|=ho,_e}}}function GA(S,E,O){S.lanes=$e(S.lanes,E);var F=S.alternate;F!==null&&(F.lanes=$e(F.lanes,E)),nS(S.return,E,O)}function kN(S,E,O){for(var F=E;F!==null;){if(F.tag===g){var N=F.memoizedState;N!==null&&GA(F,O,S)}else if(F.tag===A)GA(F,O,S);else if(F.child!==null){F.child.return=F,F=F.child;continue}if(F===S)return;for(;F.sibling===null;){if(F.return===null||F.return===S)return;F=F.return}F.sibling.return=F.return,F=F.sibling}}function NN(S){for(var E=S,O=null;E!==null;){var F=E.alternate;F!==null&&Lg(F)===null&&(O=E),E=E.sibling}return O}function zN(S){if(S!==void 0&&S!=="forwards"&&S!=="backwards"&&S!=="together"&&!oT[S])if(oT[S]=!0,typeof S=="string")switch(S.toLowerCase()){case"together":case"forwards":case"backwards":{n('"%s" is not a valid value for revealOrder on <SuspenseList />. Use lowercase "%s" instead.',S,S.toLowerCase());break}case"forward":case"backward":{n('"%s" is not a valid value for revealOrder on <SuspenseList />. React uses the -s suffix in the spelling. Use "%ss" instead.',S,S.toLowerCase());break}default:n('"%s" is not a supported revealOrder on <SuspenseList />. Did you mean "together", "forwards" or "backwards"?',S);break}else n('%s is not a supported value for revealOrder on <SuspenseList />. Did you mean "together", "forwards" or "backwards"?',S)}function UN(S,E){S!==void 0&&!qg[S]&&(S!=="collapsed"&&S!=="hidden"?(qg[S]=!0,n('"%s" is not a supported value for tail on <SuspenseList />. Did you mean "collapsed" or "hidden"?',S)):E!=="forwards"&&E!=="backwards"&&(qg[S]=!0,n('<SuspenseList tail="%s" /> is only valid if revealOrder is "forwards" or "backwards". Did you mean to specify revealOrder="forwards"?',S)))}function kA(S,E){{var O=di(S),F=!O&&typeof Vs(S)=="function";if(O||F){var N=O?"array":"iterable";return n("A nested %s was passed to row #%s in <SuspenseList />. Wrap it in an additional SuspenseList to configure its revealOrder: <SuspenseList revealOrder=...> ... <SuspenseList revealOrder=...>{%s}</SuspenseList> ... </SuspenseList>",N,E,N),!1}}return!0}function VN(S,E){if((E==="forwards"||E==="backwards")&&S!==void 0&&S!==null&&S!==!1)if(di(S)){for(var O=0;O<S.length;O++)if(!kA(S[O],O))return}else{var F=Vs(S);if(typeof F=="function"){var N=F.call(S);if(N)for(var W=N.next(),Z=0;!W.done;W=N.next()){if(!kA(W.value,Z))return;Z++}}else n('A single row was passed to a <SuspenseList revealOrder="%s" />. This is not useful since it needs multiple rows. Did you mean to pass multiple children or an array?',E)}}function pT(S,E,O,F,N){var W=S.memoizedState;W===null?S.memoizedState={isBackwards:E,rendering:null,renderingStartTime:0,last:F,tail:O,tailMode:N}:(W.isBackwards=E,W.rendering=null,W.renderingStartTime=0,W.last=F,W.tail=O,W.tailMode=N)}function NA(S,E,O){var F=E.pendingProps,N=F.revealOrder,W=F.tail,Z=F.children;zN(N),UN(W,N),VN(Z,N),Cn(S,E,Z,O);var q=Qs.current,et=cS(q,vc);if(et)q=vS(q,vc),E.flags|=ci;else{var nt=S!==null&&(S.flags&ci)!==Re;nt&&kN(E,E.child,O),q=ef(q)}if(fh(E,q),(E.mode&ei)===Te)E.memoizedState=null;else switch(N){case"forwards":{var at=NN(E.child),pt;at===null?(pt=E.child,E.child=null):(pt=at.sibling,at.sibling=null),pT(E,!1,pt,at,W);break}case"backwards":{var vt=null,St=E.child;for(E.child=null;St!==null;){var Pt=St.alternate;if(Pt!==null&&Lg(Pt)===null){E.child=St;break}var At=St.sibling;St.sibling=vt,vt=St,St=At}pT(E,!0,vt,null,W);break}case"together":{pT(E,!1,null,null,void 0);break}default:E.memoizedState=null}return E.child}function WN(S,E,O){uS(E,E.stateNode.containerInfo);var F=E.pendingProps;return S===null?E.child=ju(E,null,F,O):Cn(S,E,F,O),E.child}var zA=!1;function YN(S,E,O){var F=E.type,N=F._context,W=E.pendingProps,Z=E.memoizedProps,q=W.value;{"value"in W||zA||(zA=!0,n("The `value` prop is required for the `<Context.Provider>`. Did you misspell it or forget to pass it?"));var et=E.type.propTypes;et&&Ks(et,W,"prop","Context.Provider")}if(LR(E,N,q),Z!==null){var nt=Z.value;if(ts(nt,q)){if(Z.children===W.children&&!hg())return So(S,E,O)}else z7(E,N,O)}var at=W.children;return Cn(S,E,at,O),E.child}var UA=!1;function XN(S,E,O){var F=E.type;F._context===void 0?F!==F.Consumer&&(UA||(UA=!0,n("Rendering <Context> directly is not supported and will be removed in a future major release. Did you mean to render <Context.Consumer> instead?"))):F=F._context;var N=E.pendingProps,W=N.children;typeof W!="function"&&n("A context consumer was rendered with multiple children, or a child that isn't a function. A context consumer expects a single child that is a function. If you did pass a function, make sure there is no trailing or leading whitespace around it."),_u(E,O);var Z=dr(F);Ed(E);var q;return Ec.current=E,nn(!0),q=W(Z),nn(!1),Fu(),E.flags|=Au,Cn(S,E,q,O),E.child}function bc(){_s=!0}function tm(S,E){(E.mode&ei)===Te&&S!==null&&(S.alternate=null,E.alternate=null,E.flags|=fr)}function So(S,E,O){return S!==null&&(E.dependencies=S.dependencies),pA(),Nc(E.lanes),jn(O,E.childLanes)?(k7(S,E),E.child):null}function HN(S,E,O){{var F=E.return;if(F===null)throw new Error("Cannot swap the root fiber.");if(S.alternate=null,E.alternate=null,O.index=E.index,O.sibling=E.sibling,O.return=E.return,O.ref=E.ref,E===F.child)F.child=O;else{var N=F.child;if(N===null)throw new Error("Expected parent to have a child.");for(;N.sibling!==E;)if(N=N.sibling,N===null)throw new Error("Expected to find the previous sibling.");N.sibling=O}var W=F.deletions;return W===null?(F.deletions=[S],F.flags|=ll):W.push(S),O.flags|=fr,O}}function gT(S,E){var O=S.lanes;return!!jn(O,E)}function $N(S,E,O){switch(E.tag){case d:FA(E),E.stateNode,Qu();break;case o:zR(E);break;case a:{var F=E.type;ba(F)&&ug(E);break}case l:uS(E,E.stateNode.containerInfo);break;case v:{var N=E.memoizedProps.value,W=E.type._context;LR(E,W,N);break}case m:{var Z=jn(O,E.childLanes);Z&&(E.flags|=ni);{var q=E.stateNode;q.effectDuration=0,q.passiveEffectDuration=0}}break;case g:{var et=E.memoizedState;if(et!==null){if(et.dehydrated!==null)return fh(E,ef(Qs.current)),E.flags|=ci,null;var nt=E.child,at=nt.childLanes;if(jn(O,at))return BA(S,E,O);fh(E,ef(Qs.current));var pt=So(S,E,O);return pt!==null?pt.sibling:null}else fh(E,ef(Qs.current));break}case A:{var vt=(S.flags&ci)!==Re,St=jn(O,E.childLanes);if(vt){if(St)return NA(S,E,O);E.flags|=ci}var Pt=E.memoizedState;if(Pt!==null&&(Pt.rendering=null,Pt.tail=null,Pt.lastEffect=null),fh(E,Qs.current),St)break;return null}case D:case G:return E.lanes=Nt,AA(S,E,O)}return So(S,E,O)}function VA(S,E,O){if(E._debugNeedsRemount&&S!==null)return HN(S,E,$T(E.type,E.key,E.pendingProps,E._debugOwner||null,E.mode,E.lanes));if(S!==null){var F=S.memoizedProps,N=E.pendingProps;if(F!==N||hg()||E.type!==S.type)_s=!0;else{var W=gT(S,O);if(!W&&(E.flags&ci)===Re)return _s=!1,$N(S,E,O);(S.flags&Ty)!==Re?_s=!0:_s=!1}}else if(_s=!1,Yr()&&m7(E)){var Z=E.index,q=x7();pR(E,q,Z)}switch(E.lanes=Nt,E.tag){case x:return wN(S,E,E.type,O);case b:{var et=E.elementType;return MN(S,E,et,O)}case i:{var nt=E.type,at=E.pendingProps,pt=E.elementType===nt?at:qs(nt,at);return hT(S,E,nt,pt,O)}case a:{var vt=E.type,St=E.pendingProps,Pt=E.elementType===vt?St:qs(vt,St);return LA(S,E,vt,Pt,O)}case d:return TN(S,E,O);case o:return EN(S,E,O);case s:return PN(S,E);case g:return BA(S,E,O);case l:return WN(S,E,O);case p:{var At=E.type,Jt=E.pendingProps,ye=E.elementType===At?Jt:qs(At,Jt);return bA(S,E,At,ye,O)}case f:return yN(S,E,O);case c:return CN(S,E,O);case m:return SN(S,E,O);case v:return YN(S,E,O);case u:return XN(S,E,O);case C:{var ge=E.type,ri=E.pendingProps,_e=qs(ge,ri);if(E.type!==E.elementType){var mt=ge.propTypes;mt&&Ks(mt,_e,"prop",ee(ge))}return _e=qs(ge.type,_e),wA(S,E,ge,_e,O)}case M:return RA(S,E,E.type,E.pendingProps,O);case w:{var Ot=E.type,xt=E.pendingProps,Vt=E.elementType===Ot?xt:qs(Ot,xt);return bN(S,E,Ot,Vt,O)}case A:return NA(S,E,O);case L:break;case D:return AA(S,E,O)}throw new Error("Unknown unit of work tag ("+E.tag+"). This error is likely caused by a bug in React. Please file an issue.")}function hf(S){S.flags|=ni}function WA(S){S.flags|=jo,S.flags|=Ey}var YA,mT,XA,HA;YA=function(S,E,O,F){for(var N=E.child;N!==null;){if(N.tag===o||N.tag===s)vk(S,N.stateNode);else if(N.tag!==l){if(N.child!==null){N.child.return=N,N=N.child;continue}}if(N===E)return;for(;N.sibling===null;){if(N.return===null||N.return===E)return;N=N.return}N.sibling.return=N.return,N=N.sibling}},mT=function(S,E){},XA=function(S,E,O,F,N){var W=S.memoizedProps;if(W!==F){var Z=E.stateNode,q=fS(),et=gk(Z,O,W,F,N,q);E.updateQueue=et,et&&hf(E)}},HA=function(S,E,O,F){O!==F&&hf(E)};function wc(S,E){if(!Yr())switch(S.tailMode){case"hidden":{for(var O=S.tail,F=null;O!==null;)O.alternate!==null&&(F=O),O=O.sibling;F===null?S.tail=null:F.sibling=null;break}case"collapsed":{for(var N=S.tail,W=null;N!==null;)N.alternate!==null&&(W=N),N=N.sibling;W===null?!E&&S.tail!==null?S.tail.sibling=null:S.tail=null:W.sibling=null;break}}}function Hr(S){var E=S.alternate!==null&&S.alternate.child===S.child,O=Nt,F=Re;if(E){if((S.mode&Ei)!==Te){for(var et=S.selfBaseDuration,nt=S.child;nt!==null;)O=$e(O,$e(nt.lanes,nt.childLanes)),F|=nt.subtreeFlags&uo,F|=nt.flags&uo,et+=nt.treeBaseDuration,nt=nt.sibling;S.treeBaseDuration=et}else for(var at=S.child;at!==null;)O=$e(O,$e(at.lanes,at.childLanes)),F|=at.subtreeFlags&uo,F|=at.flags&uo,at.return=S,at=at.sibling;S.subtreeFlags|=F}else{if((S.mode&Ei)!==Te){for(var N=S.actualDuration,W=S.selfBaseDuration,Z=S.child;Z!==null;)O=$e(O,$e(Z.lanes,Z.childLanes)),F|=Z.subtreeFlags,F|=Z.flags,N+=Z.actualDuration,W+=Z.treeBaseDuration,Z=Z.sibling;S.actualDuration=N,S.treeBaseDuration=W}else for(var q=S.child;q!==null;)O=$e(O,$e(q.lanes,q.childLanes)),F|=q.subtreeFlags,F|=q.flags,q.return=S,q=q.sibling;S.subtreeFlags|=F}return S.childLanes=O,E}function KN(S,E,O){if(L7()&&(E.mode&ei)!==Te&&(E.flags&ci)===Re)return TR(E),Qu(),E.flags|=oo|Sd|yn,!1;var F=pg(E);if(O!==null&&O.dehydrated!==null)if(S===null){if(!F)throw new Error("A dehydrated suspense component was completed without a hydrated node. This is probably a bug in React.");if(A7(E),Hr(E),(E.mode&Ei)!==Te){var N=O!==null;if(N){var W=E.child;W!==null&&(E.treeBaseDuration-=W.treeBaseDuration)}}return!1}else{if(Qu(),(E.flags&ci)===Re&&(E.memoizedState=null),E.flags|=ni,Hr(E),(E.mode&Ei)!==Te){var Z=O!==null;if(Z){var q=E.child;q!==null&&(E.treeBaseDuration-=q.treeBaseDuration)}}return!1}else return ER(),!0}function $A(S,E,O){var F=E.pendingProps;switch(YC(E),E.tag){case x:case b:case M:case i:case p:case f:case c:case m:case u:case C:return Hr(E),null;case a:{var N=E.type;return ba(N)&&lg(E),Hr(E),null}case d:{var W=E.stateNode;if(tf(E),zC(E),gS(),W.pendingContext&&(W.context=W.pendingContext,W.pendingContext=null),S===null||S.child===null){var Z=pg(E);if(Z)hf(E);else if(S!==null){var q=S.memoizedState;(!q.isDehydrated||(E.flags&oo)!==Re)&&(E.flags|=ul,ER())}}return mT(S,E),Hr(E),null}case o:{dS(E);var et=NR(),nt=E.type;if(S!==null&&E.stateNode!=null)XA(S,E,nt,F,et),S.ref!==E.ref&&WA(E);else{if(!F){if(E.stateNode===null)throw new Error("We must have new props for new mounts. This error is likely caused by a bug in React. Please file an issue.");return Hr(E),null}var at=fS(),pt=pg(E);if(pt)w7(E,et,at)&&hf(E);else{var vt=ck(nt,F,et,at,E);YA(vt,E,!1,!1),E.stateNode=vt,pk(vt,nt,F,et)&&hf(E)}E.ref!==null&&WA(E)}return Hr(E),null}case s:{var St=F;if(S&&E.stateNode!=null){var Pt=S.memoizedProps;HA(S,E,Pt,St)}else{if(typeof St!="string"&&E.stateNode===null)throw new Error("We must have new props for new mounts. This error is likely caused by a bug in React. Please file an issue.");var At=NR(),Jt=fS(),ye=pg(E);ye?R7(E)&&hf(E):E.stateNode=mk(St,At,Jt,E)}return Hr(E),null}case g:{rf(E);var ge=E.memoizedState;if(S===null||S.memoizedState!==null&&S.memoizedState.dehydrated!==null){var ri=KN(S,E,ge);if(!ri)return E.flags&yn?E:null}if((E.flags&ci)!==Re)return E.lanes=O,(E.mode&Ei)!==Te&&VS(E),E;var _e=ge!==null,mt=S!==null&&S.memoizedState!==null;if(_e!==mt&&_e){var Ot=E.child;if(Ot.flags|=fl,(E.mode&ei)!==Te){var xt=S===null&&(E.memoizedProps.unstable_avoidThisFallback!==!0||!Q);xt||cS(Qs.current,VR)?Zz():IT()}}var Vt=E.updateQueue;if(Vt!==null&&(E.flags|=ni),Hr(E),(E.mode&Ei)!==Te&&_e){var ne=E.child;ne!==null&&(E.treeBaseDuration-=ne.treeBaseDuration)}return null}case l:return tf(E),mT(S,E),S===null&&u7(E.stateNode.containerInfo),Hr(E),null;case v:var qt=E.type._context;return rS(qt,E),Hr(E),null;case w:{var Oe=E.type;return ba(Oe)&&lg(E),Hr(E),null}case A:{rf(E);var Ge=E.memoizedState;if(Ge===null)return Hr(E),null;var Mi=(E.flags&ci)!==Re,oi=Ge.rendering;if(oi===null)if(Mi)wc(Ge,!1);else{var sr=Qz()&&(S===null||(S.flags&ci)===Re);if(!sr)for(var hi=E.child;hi!==null;){var qi=Lg(hi);if(qi!==null){Mi=!0,E.flags|=ci,wc(Ge,!1);var ln=qi.updateQueue;return ln!==null&&(E.updateQueue=ln,E.flags|=ni),E.subtreeFlags=Re,N7(E,O),fh(E,vS(Qs.current,vc)),E.child}hi=hi.sibling}Ge.tail!==null&&Lr()>c2()&&(E.flags|=ci,Mi=!0,wc(Ge,!1),E.lanes=Hb)}else{if(!Mi){var Qr=Lg(oi);if(Qr!==null){E.flags|=ci,Mi=!0;var rs=Qr.updateQueue;if(rs!==null&&(E.updateQueue=rs,E.flags|=ni),wc(Ge,!0),Ge.tail===null&&Ge.tailMode==="hidden"&&!oi.alternate&&!Yr())return Hr(E),null}else Lr()*2-Ge.renderingStartTime>c2()&&O!==Qn&&(E.flags|=ci,Mi=!0,wc(Ge,!1),E.lanes=Hb)}if(Ge.isBackwards)oi.sibling=E.child,E.child=oi;else{var En=Ge.last;En!==null?En.sibling=oi:E.child=oi,Ge.last=oi}}if(Ge.tail!==null){var Pn=Ge.tail;Ge.rendering=Pn,Ge.tail=Pn.sibling,Ge.renderingStartTime=Lr(),Pn.sibling=null;var un=Qs.current;return Mi?un=vS(un,vc):un=ef(un),fh(E,un),Pn}return Hr(E),null}case L:break;case D:case G:{BT(E);var bo=E.memoizedState,gf=bo!==null;if(S!==null){var Yc=S.memoizedState,Ba=Yc!==null;Ba!==gf&&!H&&(E.flags|=fl)}return!gf||(E.mode&ei)===Te?Hr(E):jn(Da,Qn)&&(Hr(E),E.subtreeFlags&(fr|ni)&&(E.flags|=fl)),null}case B:return null;case I:return null}throw new Error("Unknown unit of work tag ("+E.tag+"). This error is likely caused by a bug in React. Please file an issue.")}function ZN(S,E,O){switch(YC(E),E.tag){case a:{var F=E.type;ba(F)&&lg(E);var N=E.flags;return N&yn?(E.flags=N&~yn|ci,(E.mode&Ei)!==Te&&VS(E),E):null}case d:{E.stateNode,tf(E),zC(E),gS();var W=E.flags;return(W&yn)!==Re&&(W&ci)===Re?(E.flags=W&~yn|ci,E):null}case o:return dS(E),null;case g:{rf(E);var Z=E.memoizedState;if(Z!==null&&Z.dehydrated!==null){if(E.alternate===null)throw new Error("Threw in newly mounted dehydrated component. This is likely a bug in React. Please file an issue.");Qu()}var q=E.flags;return q&yn?(E.flags=q&~yn|ci,(E.mode&Ei)!==Te&&VS(E),E):null}case A:return rf(E),null;case l:return tf(E),null;case v:var et=E.type._context;return rS(et,E),null;case D:case G:return BT(E),null;case B:return null;default:return null}}function KA(S,E,O){switch(YC(E),E.tag){case a:{var F=E.type.childContextTypes;F!=null&&lg(E);break}case d:{E.stateNode,tf(E),zC(E),gS();break}case o:{dS(E);break}case l:tf(E);break;case g:rf(E);break;case A:rf(E);break;case v:var N=E.type._context;rS(N,E);break;case D:case G:BT(E);break}}var ZA=null;ZA=new Set;var em=!1,$r=!1,JN=typeof WeakSet=="function"?WeakSet:Set,de=null,lf=null,uf=null;function QN(S){yy(null,function(){throw S}),Cy()}var jN=function(S,E){if(E.props=S.memoizedProps,E.state=S.memoizedState,S.mode&Ei)try{La(),E.componentWillUnmount()}finally{Oa(S)}else E.componentWillUnmount()};function JA(S,E){try{vh(mr,S)}catch(O){Di(S,E,O)}}function xT(S,E,O){try{jN(S,O)}catch(F){Di(S,E,F)}}function qN(S,E,O){try{O.componentDidMount()}catch(F){Di(S,E,F)}}function QA(S,E){try{qA(S)}catch(O){Di(S,E,O)}}function ff(S,E){var O=S.ref;if(O!==null)if(typeof O=="function"){var F;try{if(U&&K&&S.mode&Ei)try{La(),F=O(null)}finally{Oa(S)}else F=O(null)}catch(N){Di(S,E,N)}typeof F=="function"&&n("Unexpected return value from a callback ref in %s. A callback ref should not return a function.",Dt(S))}else O.current=null}function im(S,E,O){try{O()}catch(F){Di(S,E,F)}}var jA=!1;function _N(S,E){fk(S.containerInfo),de=E,tz();var O=jA;return jA=!1,O}function tz(){for(;de!==null;){var S=de,E=S.child;(S.subtreeFlags&My)!==Re&&E!==null?(E.return=S,de=E):ez()}}function ez(){for(;de!==null;){var S=de;Ye(S);try{iz(S)}catch(O){Di(S,S.return,O)}Se();var E=S.sibling;if(E!==null){E.return=S.return,de=E;return}de=S.return}}function iz(S){var E=S.alternate,O=S.flags;if((O&ul)!==Re){switch(Ye(S),S.tag){case i:case p:case M:break;case a:{if(E!==null){var F=E.memoizedProps,N=E.memoizedState,W=S.stateNode;S.type===S.elementType&&!Ll&&(W.props!==S.memoizedProps&&n("Expected %s props to match memoized props before getSnapshotBeforeUpdate. This might either be because of a bug in React, or because a component reassigns its own `this.props`. Please file an issue.",Dt(S)||"instance"),W.state!==S.memoizedState&&n("Expected %s state to match memoized state before getSnapshotBeforeUpdate. This might either be because of a bug in React, or because a component reassigns its own `this.state`. Please file an issue.",Dt(S)||"instance"));var Z=W.getSnapshotBeforeUpdate(S.elementType===S.type?F:qs(S.type,F),N);{var q=ZA;Z===void 0&&!q.has(S.type)&&(q.add(S.type),n("%s.getSnapshotBeforeUpdate(): A snapshot value (or null) must be returned. You have returned undefined.",Dt(S)))}W.__reactInternalSnapshotBeforeUpdate=Z}break}case d:{{var et=S.stateNode;Gk(et.containerInfo)}break}case o:case s:case l:case w:break;default:throw new Error("This unit of work tag should not have side-effects. This error is likely caused by a bug in React. Please file an issue.")}Se()}}function ta(S,E,O){var F=E.updateQueue,N=F!==null?F.lastEffect:null;if(N!==null){var W=N.next,Z=W;do{if((Z.tag&S)===S){var q=Z.destroy;Z.destroy=void 0,q!==void 0&&((S&Xr)!==Dn?m8(E):(S&mr)!==Dn&&Ub(E),(S&wa)!==Dn&&Uc(!0),im(E,O,q),(S&wa)!==Dn&&Uc(!1),(S&Xr)!==Dn?x8():(S&mr)!==Dn&&Vb())}Z=Z.next}while(Z!==W)}}function vh(S,E){var O=E.updateQueue,F=O!==null?O.lastEffect:null;if(F!==null){var N=F.next,W=N;do{if((W.tag&S)===S){(S&Xr)!==Dn?p8(E):(S&mr)!==Dn&&y8(E);var Z=W.create;(S&wa)!==Dn&&Uc(!0),W.destroy=Z(),(S&wa)!==Dn&&Uc(!1),(S&Xr)!==Dn?g8():(S&mr)!==Dn&&C8();{var q=W.destroy;if(q!==void 0&&typeof q!="function"){var et=void 0;(W.tag&mr)!==Re?et="useLayoutEffect":(W.tag&wa)!==Re?et="useInsertionEffect":et="useEffect";var nt=void 0;q===null?nt=" You returned null. If your effect does not require clean up, return undefined (or nothing).":typeof q.then=="function"?nt=`

It looks like you wrote `+et+`(async () => ...) or returned a Promise. Instead, write the async function inside your effect and call it immediately:

`+et+`(() => {
  async function fetchData() {
    // You can await here
    const response = await MyAPI.getData(someId);
    // ...
  }
  fetchData();
}, [someId]); // Or [] if effect doesn't need props or state

Learn more about data fetching with Hooks: https://reactjs.org/link/hooks-data-fetching`:nt=" You returned: "+q,n("%s must not return anything besides a function, which is used for clean-up.%s",et,nt)}}}W=W.next}while(W!==N)}}function rz(S,E){if((E.flags&ni)!==Re)switch(E.tag){case m:{var O=E.stateNode.passiveEffectDuration,F=E.memoizedProps,N=F.id,W=F.onPostCommit,Z=cA(),q=E.alternate===null?"mount":"update";dA()&&(q="nested-update"),typeof W=="function"&&W(N,q,O,Z);var et=E.return;t:for(;et!==null;){switch(et.tag){case d:var nt=et.stateNode;nt.passiveEffectDuration+=O;break t;case m:var at=et.stateNode;at.passiveEffectDuration+=O;break t}et=et.return}break}}}function nz(S,E,O,F){if((O.flags&Td)!==Re)switch(O.tag){case i:case p:case M:{if(!$r)if(O.mode&Ei)try{La(),vh(mr|gr,O)}finally{Oa(O)}else vh(mr|gr,O);break}case a:{var N=O.stateNode;if(O.flags&ni&&!$r)if(E===null)if(O.type===O.elementType&&!Ll&&(N.props!==O.memoizedProps&&n("Expected %s props to match memoized props before componentDidMount. This might either be because of a bug in React, or because a component reassigns its own `this.props`. Please file an issue.",Dt(O)||"instance"),N.state!==O.memoizedState&&n("Expected %s state to match memoized state before componentDidMount. This might either be because of a bug in React, or because a component reassigns its own `this.state`. Please file an issue.",Dt(O)||"instance")),O.mode&Ei)try{La(),N.componentDidMount()}finally{Oa(O)}else N.componentDidMount();else{var W=O.elementType===O.type?E.memoizedProps:qs(O.type,E.memoizedProps),Z=E.memoizedState;if(O.type===O.elementType&&!Ll&&(N.props!==O.memoizedProps&&n("Expected %s props to match memoized props before componentDidUpdate. This might either be because of a bug in React, or because a component reassigns its own `this.props`. Please file an issue.",Dt(O)||"instance"),N.state!==O.memoizedState&&n("Expected %s state to match memoized state before componentDidUpdate. This might either be because of a bug in React, or because a component reassigns its own `this.state`. Please file an issue.",Dt(O)||"instance")),O.mode&Ei)try{La(),N.componentDidUpdate(W,Z,N.__reactInternalSnapshotBeforeUpdate)}finally{Oa(O)}else N.componentDidUpdate(W,Z,N.__reactInternalSnapshotBeforeUpdate)}var q=O.updateQueue;q!==null&&(O.type===O.elementType&&!Ll&&(N.props!==O.memoizedProps&&n("Expected %s props to match memoized props before processing the update queue. This might either be because of a bug in React, or because a component reassigns its own `this.props`. Please file an issue.",Dt(O)||"instance"),N.state!==O.memoizedState&&n("Expected %s state to match memoized state before processing the update queue. This might either be because of a bug in React, or because a component reassigns its own `this.state`. Please file an issue.",Dt(O)||"instance")),kR(O,q,N));break}case d:{var et=O.updateQueue;if(et!==null){var nt=null;if(O.child!==null)switch(O.child.tag){case o:nt=O.child.stateNode;break;case a:nt=O.child.stateNode;break}kR(O,et,nt)}break}case o:{var at=O.stateNode;if(E===null&&O.flags&ni){var pt=O.type,vt=O.memoizedProps;Tk(at,pt,vt)}break}case s:break;case l:break;case m:{{var St=O.memoizedProps,Pt=St.onCommit,At=St.onRender,Jt=O.stateNode.effectDuration,ye=cA(),ge=E===null?"mount":"update";dA()&&(ge="nested-update"),typeof At=="function"&&At(O.memoizedProps.id,ge,O.actualDuration,O.treeBaseDuration,O.actualStartTime,ye);{typeof Pt=="function"&&Pt(O.memoizedProps.id,ge,Jt,ye),eU(O);var ri=O.return;t:for(;ri!==null;){switch(ri.tag){case d:var _e=ri.stateNode;_e.effectDuration+=Jt;break t;case m:var mt=ri.stateNode;mt.effectDuration+=Jt;break t}ri=ri.return}}}break}case g:{dz(S,O);break}case A:case w:case L:case D:case G:case I:break;default:throw new Error("This unit of work tag should not have side-effects. This error is likely caused by a bug in React. Please file an issue.")}$r||O.flags&jo&&qA(O)}function sz(S){switch(S.tag){case i:case p:case M:{if(S.mode&Ei)try{La(),JA(S,S.return)}finally{Oa(S)}else JA(S,S.return);break}case a:{var E=S.stateNode;typeof E.componentDidMount=="function"&&qN(S,S.return,E),QA(S,S.return);break}case o:{QA(S,S.return);break}}}function az(S,E){for(var O=null,F=S;;){if(F.tag===o){if(O===null){O=F;try{var N=F.stateNode;E?Fk(N):Bk(F.stateNode,F.memoizedProps)}catch(Z){Di(S,S.return,Z)}}}else if(F.tag===s){if(O===null)try{var W=F.stateNode;E?Dk(W):Ik(W,F.memoizedProps)}catch(Z){Di(S,S.return,Z)}}else if(!((F.tag===D||F.tag===G)&&F.memoizedState!==null&&F!==S)){if(F.child!==null){F.child.return=F,F=F.child;continue}}if(F===S)return;for(;F.sibling===null;){if(F.return===null||F.return===S)return;O===F&&(O=null),F=F.return}O===F&&(O=null),F.sibling.return=F.return,F=F.sibling}}function qA(S){var E=S.ref;if(E!==null){var O=S.stateNode,F;switch(S.tag){case o:F=O;break;default:F=O}if(typeof E=="function"){var N;if(S.mode&Ei)try{La(),N=E(F)}finally{Oa(S)}else N=E(F);typeof N=="function"&&n("Unexpected return value from a callback ref in %s. A callback ref should not return a function.",Dt(S))}else E.hasOwnProperty("current")||n("Unexpected ref object provided for %s. Use either a ref-setter function or React.createRef().",Dt(S)),E.current=F}}function oz(S){var E=S.alternate;E!==null&&(E.return=null),S.return=null}function _A(S){var E=S.alternate;E!==null&&(S.alternate=null,_A(E));{if(S.child=null,S.deletions=null,S.sibling=null,S.tag===o){var O=S.stateNode;O!==null&&c7(O)}S.stateNode=null,S._debugOwner=null,S.return=null,S.dependencies=null,S.memoizedProps=null,S.memoizedState=null,S.pendingProps=null,S.stateNode=null,S.updateQueue=null}}function hz(S){for(var E=S.return;E!==null;){if(t2(E))return E;E=E.return}throw new Error("Expected to find a host parent. This error is likely caused by a bug in React. Please file an issue.")}function t2(S){return S.tag===o||S.tag===d||S.tag===l}function e2(S){var E=S;t:for(;;){for(;E.sibling===null;){if(E.return===null||t2(E.return))return null;E=E.return}for(E.sibling.return=E.return,E=E.sibling;E.tag!==o&&E.tag!==s&&E.tag!==R;){if(E.flags&fr||E.child===null||E.tag===l)continue t;E.child.return=E,E=E.child}if(!(E.flags&fr))return E.stateNode}}function lz(S){var E=hz(S);switch(E.tag){case o:{var O=E.stateNode;E.flags&Cd&&(rR(O),E.flags&=~Cd);var F=e2(S);CT(S,F,O);break}case d:case l:{var N=E.stateNode.containerInfo,W=e2(S);yT(S,W,N);break}default:throw new Error("Invalid host parent fiber. This error is likely caused by a bug in React. Please file an issue.")}}function yT(S,E,O){var F=S.tag,N=F===o||F===s;if(N){var W=S.stateNode;E?Rk(O,W,E):bk(O,W)}else if(F!==l){var Z=S.child;if(Z!==null){yT(Z,E,O);for(var q=Z.sibling;q!==null;)yT(q,E,O),q=q.sibling}}}function CT(S,E,O){var F=S.tag,N=F===o||F===s;if(N){var W=S.stateNode;E?wk(O,W,E):Mk(O,W)}else if(F!==l){var Z=S.child;if(Z!==null){CT(Z,E,O);for(var q=Z.sibling;q!==null;)CT(q,E,O),q=q.sibling}}}var Kr=null,ea=!1;function uz(S,E,O){{var F=E;t:for(;F!==null;){switch(F.tag){case o:{Kr=F.stateNode,ea=!1;break t}case d:{Kr=F.stateNode.containerInfo,ea=!0;break t}case l:{Kr=F.stateNode.containerInfo,ea=!0;break t}}F=F.return}if(Kr===null)throw new Error("Expected to find a host parent. This error is likely caused by a bug in React. Please file an issue.");i2(S,E,O),Kr=null,ea=!1}oz(O)}function ph(S,E,O){for(var F=O.child;F!==null;)i2(S,E,F),F=F.sibling}function i2(S,E,O){switch(f8(O),O.tag){case o:$r||ff(O,E);case s:{{var F=Kr,N=ea;Kr=null,ph(S,E,O),Kr=F,ea=N,Kr!==null&&(ea?Ok(Kr,O.stateNode):Ak(Kr,O.stateNode))}return}case R:{Kr!==null&&(ea?Lk(Kr,O.stateNode):LC(Kr,O.stateNode));return}case l:{{var W=Kr,Z=ea;Kr=O.stateNode.containerInfo,ea=!0,ph(S,E,O),Kr=W,ea=Z}return}case i:case p:case C:case M:{if(!$r){var q=O.updateQueue;if(q!==null){var et=q.lastEffect;if(et!==null){var nt=et.next,at=nt;do{var pt=at,vt=pt.destroy,St=pt.tag;vt!==void 0&&((St&wa)!==Dn?im(O,E,vt):(St&mr)!==Dn&&(Ub(O),O.mode&Ei?(La(),im(O,E,vt),Oa(O)):im(O,E,vt),Vb())),at=at.next}while(at!==nt)}}}ph(S,E,O);return}case a:{if(!$r){ff(O,E);var Pt=O.stateNode;typeof Pt.componentWillUnmount=="function"&&xT(O,E,Pt)}ph(S,E,O);return}case L:{ph(S,E,O);return}case D:{if(O.mode&ei){var At=$r;$r=At||O.memoizedState!==null,ph(S,E,O),$r=At}else ph(S,E,O);break}default:{ph(S,E,O);return}}}function fz(S){S.memoizedState}function dz(S,E){var O=E.memoizedState;if(O===null){var F=E.alternate;if(F!==null){var N=F.memoizedState;if(N!==null){var W=N.dehydrated;W!==null&&Qk(W)}}}}function r2(S){var E=S.updateQueue;if(E!==null){S.updateQueue=null;var O=S.stateNode;O===null&&(O=S.stateNode=new JN),E.forEach(function(F){var N=hU.bind(null,S,F);if(!O.has(F)){if(O.add(F),Hs)if(lf!==null&&uf!==null)zc(uf,lf);else throw Error("Expected finished root and lanes to be set. This is a bug in React.");F.then(N,N)}})}}function cz(S,E,O){lf=O,uf=S,Ye(E),n2(E,S),Ye(E),lf=null,uf=null}function ia(S,E,O){var F=E.deletions;if(F!==null)for(var N=0;N<F.length;N++){var W=F[N];try{uz(S,E,W)}catch(et){Di(W,E,et)}}var Z=Jn();if(E.subtreeFlags&by)for(var q=E.child;q!==null;)Ye(q),n2(q,S),q=q.sibling;Ye(Z)}function n2(S,E,O){var F=S.alternate,N=S.flags;switch(S.tag){case i:case p:case C:case M:{if(ia(E,S),Fa(S),N&ni){try{ta(wa|gr,S,S.return),vh(wa|gr,S)}catch(Oe){Di(S,S.return,Oe)}if(S.mode&Ei){try{La(),ta(mr|gr,S,S.return)}catch(Oe){Di(S,S.return,Oe)}Oa(S)}else try{ta(mr|gr,S,S.return)}catch(Oe){Di(S,S.return,Oe)}}return}case a:{ia(E,S),Fa(S),N&jo&&F!==null&&ff(F,F.return);return}case o:{ia(E,S),Fa(S),N&jo&&F!==null&&ff(F,F.return);{if(S.flags&Cd){var W=S.stateNode;try{rR(W)}catch(Oe){Di(S,S.return,Oe)}}if(N&ni){var Z=S.stateNode;if(Z!=null){var q=S.memoizedProps,et=F!==null?F.memoizedProps:q,nt=S.type,at=S.updateQueue;if(S.updateQueue=null,at!==null)try{Ek(Z,at,nt,et,q,S)}catch(Oe){Di(S,S.return,Oe)}}}}return}case s:{if(ia(E,S),Fa(S),N&ni){if(S.stateNode===null)throw new Error("This should have a text node initialized. This error is likely caused by a bug in React. Please file an issue.");var pt=S.stateNode,vt=S.memoizedProps,St=F!==null?F.memoizedProps:vt;try{Pk(pt,St,vt)}catch(Oe){Di(S,S.return,Oe)}}return}case d:{if(ia(E,S),Fa(S),N&ni&&F!==null){var Pt=F.memoizedState;if(Pt.isDehydrated)try{Jk(E.containerInfo)}catch(Oe){Di(S,S.return,Oe)}}return}case l:{ia(E,S),Fa(S);return}case g:{ia(E,S),Fa(S);var At=S.child;if(At.flags&fl){var Jt=At.stateNode,ye=At.memoizedState,ge=ye!==null;if(Jt.isHidden=ge,ge){var ri=At.alternate!==null&&At.alternate.memoizedState!==null;ri||Kz()}}if(N&ni){try{fz(S)}catch(Oe){Di(S,S.return,Oe)}r2(S)}return}case D:{var _e=F!==null&&F.memoizedState!==null;if(S.mode&ei){var mt=$r;$r=mt||_e,ia(E,S),$r=mt}else ia(E,S);if(Fa(S),N&fl){var Ot=S.stateNode,xt=S.memoizedState,Vt=xt!==null,ne=S;if(Ot.isHidden=Vt,Vt&&!_e&&(ne.mode&ei)!==Te){de=ne;for(var qt=ne.child;qt!==null;)de=qt,pz(qt),qt=qt.sibling}az(ne,Vt)}return}case A:{ia(E,S),Fa(S),N&ni&&r2(S);return}case L:return;default:{ia(E,S),Fa(S);return}}}function Fa(S){var E=S.flags;if(E&fr){try{lz(S)}catch(O){Di(S,S.return,O)}S.flags&=~fr}E&ho&&(S.flags&=~ho)}function vz(S,E,O){lf=O,uf=E,de=S,s2(S,E,O),lf=null,uf=null}function s2(S,E,O){for(var F=(S.mode&ei)!==Te;de!==null;){var N=de,W=N.child;if(N.tag===D&&F){var Z=N.memoizedState!==null,q=Z||em;if(q){ST(S,E,O);continue}else{var et=N.alternate,nt=et!==null&&et.memoizedState!==null,at=nt||$r,pt=em,vt=$r;em=q,$r=at,$r&&!vt&&(de=N,gz(N));for(var St=W;St!==null;)de=St,s2(St,E,O),St=St.sibling;de=N,em=pt,$r=vt,ST(S,E,O);continue}}(N.subtreeFlags&Td)!==Re&&W!==null?(W.return=N,de=W):ST(S,E,O)}}function ST(S,E,O){for(;de!==null;){var F=de;if((F.flags&Td)!==Re){var N=F.alternate;Ye(F);try{nz(E,N,F,O)}catch(Z){Di(F,F.return,Z)}Se()}if(F===S){de=null;return}var W=F.sibling;if(W!==null){W.return=F.return,de=W;return}de=F.return}}function pz(S){for(;de!==null;){var E=de,O=E.child;switch(E.tag){case i:case p:case C:case M:{if(E.mode&Ei)try{La(),ta(mr,E,E.return)}finally{Oa(E)}else ta(mr,E,E.return);break}case a:{ff(E,E.return);var F=E.stateNode;typeof F.componentWillUnmount=="function"&&xT(E,E.return,F);break}case o:{ff(E,E.return);break}case D:{var N=E.memoizedState!==null;if(N){a2(S);continue}break}}O!==null?(O.return=E,de=O):a2(S)}}function a2(S){for(;de!==null;){var E=de;if(E===S){de=null;return}var O=E.sibling;if(O!==null){O.return=E.return,de=O;return}de=E.return}}function gz(S){for(;de!==null;){var E=de,O=E.child;if(E.tag===D){var F=E.memoizedState!==null;if(F){o2(S);continue}}O!==null?(O.return=E,de=O):o2(S)}}function o2(S){for(;de!==null;){var E=de;Ye(E);try{sz(E)}catch(F){Di(E,E.return,F)}if(Se(),E===S){de=null;return}var O=E.sibling;if(O!==null){O.return=E.return,de=O;return}de=E.return}}function mz(S,E,O,F){de=E,xz(E,S,O,F)}function xz(S,E,O,F){for(;de!==null;){var N=de,W=N.child;(N.subtreeFlags&Ou)!==Re&&W!==null?(W.return=N,de=W):yz(S,E,O,F)}}function yz(S,E,O,F){for(;de!==null;){var N=de;if((N.flags&Xs)!==Re){Ye(N);try{Cz(E,N,O,F)}catch(Z){Di(N,N.return,Z)}Se()}if(N===S){de=null;return}var W=N.sibling;if(W!==null){W.return=N.return,de=W;return}de=N.return}}function Cz(S,E,O,F){switch(E.tag){case i:case p:case M:{if(E.mode&Ei){US();try{vh(Xr|gr,E)}finally{zS(E)}}else vh(Xr|gr,E);break}}}function Sz(S){de=S,Tz()}function Tz(){for(;de!==null;){var S=de,E=S.child;if((de.flags&ll)!==Re){var O=S.deletions;if(O!==null){for(var F=0;F<O.length;F++){var N=O[F];de=N,Mz(N,S)}{var W=S.alternate;if(W!==null){var Z=W.child;if(Z!==null){W.child=null;do{var q=Z.sibling;Z.sibling=null,Z=q}while(Z!==null)}}}de=S}}(S.subtreeFlags&Ou)!==Re&&E!==null?(E.return=S,de=E):Ez()}}function Ez(){for(;de!==null;){var S=de;(S.flags&Xs)!==Re&&(Ye(S),Pz(S),Se());var E=S.sibling;if(E!==null){E.return=S.return,de=E;return}de=S.return}}function Pz(S){switch(S.tag){case i:case p:case M:{S.mode&Ei?(US(),ta(Xr|gr,S,S.return),zS(S)):ta(Xr|gr,S,S.return);break}}}function Mz(S,E){for(;de!==null;){var O=de;Ye(O),wz(O,E),Se();var F=O.child;F!==null?(F.return=O,de=F):bz(S)}}function bz(S){for(;de!==null;){var E=de,O=E.sibling,F=E.return;if(_A(E),E===S){de=null;return}if(O!==null){O.return=F,de=O;return}de=F}}function wz(S,E){switch(S.tag){case i:case p:case M:{S.mode&Ei?(US(),ta(Xr,S,E),zS(S)):ta(Xr,S,E);break}}}function Rz(S){switch(S.tag){case i:case p:case M:{try{vh(mr|gr,S)}catch(O){Di(S,S.return,O)}break}case a:{var E=S.stateNode;try{E.componentDidMount()}catch(O){Di(S,S.return,O)}break}}}function Az(S){switch(S.tag){case i:case p:case M:{try{vh(Xr|gr,S)}catch(E){Di(S,S.return,E)}break}}}function Oz(S){switch(S.tag){case i:case p:case M:{try{ta(mr|gr,S,S.return)}catch(O){Di(S,S.return,O)}break}case a:{var E=S.stateNode;typeof E.componentWillUnmount=="function"&&xT(S,S.return,E);break}}}function Lz(S){switch(S.tag){case i:case p:case M:try{ta(Xr|gr,S,S.return)}catch(E){Di(S,S.return,E)}}}if(typeof Symbol=="function"&&Symbol.for){var Rc=Symbol.for;Rc("selector.component"),Rc("selector.has_pseudo_class"),Rc("selector.role"),Rc("selector.test_id"),Rc("selector.text")}var Fz=[];function Dz(){Fz.forEach(function(S){return S()})}var Bz=r.ReactCurrentActQueue;function Iz(S){{var E=typeof IS_REACT_ACT_ENVIRONMENT<"u"?IS_REACT_ACT_ENVIRONMENT:void 0,O=typeof jest<"u";return O&&E!==!1}}function h2(){{var S=typeof IS_REACT_ACT_ENVIRONMENT<"u"?IS_REACT_ACT_ENVIRONMENT:void 0;return!S&&Bz.current!==null&&n("The current testing environment is not configured to support act(...)"),S}}var Gz=Math.ceil,TT=r.ReactCurrentDispatcher,ET=r.ReactCurrentOwner,Zr=r.ReactCurrentBatchConfig,ra=r.ReactCurrentActQueue,Cr=0,l2=1,Jr=2,Es=4,To=0,Ac=1,Fl=2,rm=3,Oc=4,u2=5,PT=6,ii=Cr,Sn=null,$i=null,Sr=Nt,Da=Nt,MT=sh(Nt),Tr=To,Lc=null,nm=Nt,Fc=Nt,sm=Nt,Dc=null,Bn=null,bT=0,f2=500,d2=1/0,kz=500,Eo=null;function Bc(){d2=Lr()+kz}function c2(){return d2}var am=!1,wT=null,df=null,Dl=!1,gh=null,Ic=Nt,RT=[],AT=null,Nz=50,Gc=0,OT=null,LT=!1,om=!1,zz=50,cf=0,hm=null,kc=Ni,lm=Nt,v2=!1;function um(){return Sn}function Tn(){return(ii&(Jr|Es))!==Cr?Lr():(kc!==Ni||(kc=Lr()),kc)}function mh(S){var E=S.mode;if((E&ei)===Te)return De;if((ii&Jr)!==Cr&&Sr!==Nt)return Ad(Sr);var O=B7()!==D7;if(O){if(Zr.transition!==null){var F=Zr.transition;F._updatedFibers||(F._updatedFibers=new Set),F._updatedFibers.add(S)}return lm===Dr&&(lm=Jb()),lm}var N=$s();if(N!==Dr)return N;var W=xk();return W}function Uz(S){var E=S.mode;return(E&ei)===Te?De:W8()}function Er(S,E,O,F){uU(),v2&&n("useInsertionEffect must not schedule updates."),LT&&(om=!0),Od(S,O,F),(ii&Jr)!==Nt&&S===Sn?cU(E):(Hs&&qb(S,E,O),vU(E),S===Sn&&((ii&Jr)===Cr&&(Fc=$e(Fc,O)),Tr===Oc&&xh(S,Sr)),In(S,F),O===De&&ii===Cr&&(E.mode&ei)===Te&&!ra.isBatchingLegacy&&(Bc(),vR()))}function Vz(S,E,O){var F=S.current;F.lanes=E,Od(S,E,O),In(S,O)}function Wz(S){return(ii&Jr)!==Cr}function In(S,E){var O=S.callbackNode;G8(S,E);var F=Lp(S,S===Sn?Sr:Nt);if(F===Nt){O!==null&&O2(O),S.callbackNode=null,S.callbackPriority=Dr;return}var N=ml(F),W=S.callbackPriority;if(W===N&&!(ra.current!==null&&O!==NT)){O==null&&W!==De&&n("Expected scheduled callback to exist. This error is likely caused by a bug in React. Please file an issue.");return}O!=null&&O2(O);var Z;if(N===De)S.tag===ah?(ra.isBatchingLegacy!==null&&(ra.didScheduleLegacyUpdate=!0),g7(m2.bind(null,S))):cR(m2.bind(null,S)),ra.current!==null?ra.current.push(oh):Ck(function(){(ii&(Jr|Es))===Cr&&oh()}),Z=null;else{var q;switch(ew(F)){case qn:q=wp;break;case co:q=wy;break;case vo:q=vl;break;case Bp:q=Ry;break;default:q=vl;break}Z=zT(q,p2.bind(null,S))}S.callbackPriority=N,S.callbackNode=Z}function p2(S,E){if(aN(),kc=Ni,lm=Nt,(ii&(Jr|Es))!==Cr)throw new Error("Should not already be working.");var O=S.callbackNode,F=Mo();if(F&&S.callbackNode!==O)return null;var N=Lp(S,S===Sn?Sr:Nt);if(N===Nt)return null;var W=!Fp(S,N)&&!V8(S,N)&&!E,Z=W?qz(S,N):dm(S,N);if(Z!==To){if(Z===Fl){var q=Qy(S);q!==Nt&&(N=q,Z=FT(S,q))}if(Z===Ac){var et=Lc;throw Bl(S,Nt),xh(S,N),In(S,Lr()),et}if(Z===PT)xh(S,N);else{var nt=!Fp(S,N),at=S.current.alternate;if(nt&&!Xz(at)){if(Z=dm(S,N),Z===Fl){var pt=Qy(S);pt!==Nt&&(N=pt,Z=FT(S,pt))}if(Z===Ac){var vt=Lc;throw Bl(S,Nt),xh(S,N),In(S,Lr()),vt}}S.finishedWork=at,S.finishedLanes=N,Yz(S,Z,N)}}return In(S,Lr()),S.callbackNode===O?p2.bind(null,S):null}function FT(S,E){var O=Dc;if(Ip(S)){var F=Bl(S,E);F.flags|=oo,l7(S.containerInfo)}var N=dm(S,E);if(N!==Fl){var W=Bn;Bn=O,W!==null&&g2(W)}return N}function g2(S){Bn===null?Bn=S:Bn.push.apply(Bn,S)}function Yz(S,E,O){switch(E){case To:case Ac:throw new Error("Root did not complete. This is a bug in React.");case Fl:{Il(S,Bn,Eo);break}case rm:{if(xh(S,O),Kb(O)&&!L2()){var F=bT+f2-Lr();if(F>10){var N=Lp(S,Nt);if(N!==Nt)break;var W=S.suspendedLanes;if(!Gu(W,O)){Tn(),jb(S,W);break}S.timeoutHandle=AC(Il.bind(null,S,Bn,Eo),F);break}}Il(S,Bn,Eo);break}case Oc:{if(xh(S,O),U8(O))break;if(!L2()){var Z=B8(S,O),q=Z,et=Lr()-q,nt=lU(et)-et;if(nt>10){S.timeoutHandle=AC(Il.bind(null,S,Bn,Eo),nt);break}}Il(S,Bn,Eo);break}case u2:{Il(S,Bn,Eo);break}default:throw new Error("Unknown root exit status.")}}function Xz(S){for(var E=S;;){if(E.flags&Mp){var O=E.updateQueue;if(O!==null){var F=O.stores;if(F!==null)for(var N=0;N<F.length;N++){var W=F[N],Z=W.getSnapshot,q=W.value;try{if(!ts(Z(),q))return!1}catch{return!1}}}}var et=E.child;if(E.subtreeFlags&Mp&&et!==null){et.return=E,E=et;continue}if(E===S)return!0;for(;E.sibling===null;){if(E.return===null||E.return===S)return!0;E=E.return}E.sibling.return=E.return,E=E.sibling}return!0}function xh(S,E){E=Dp(E,sm),E=Dp(E,Fc),X8(S,E)}function m2(S){if(oN(),(ii&(Jr|Es))!==Cr)throw new Error("Should not already be working.");Mo();var E=Lp(S,Nt);if(!jn(E,De))return In(S,Lr()),null;var O=dm(S,E);if(S.tag!==ah&&O===Fl){var F=Qy(S);F!==Nt&&(E=F,O=FT(S,F))}if(O===Ac){var N=Lc;throw Bl(S,Nt),xh(S,E),In(S,Lr()),N}if(O===PT)throw new Error("Root did not complete. This is a bug in React.");var W=S.current.alternate;return S.finishedWork=W,S.finishedLanes=E,Il(S,Bn,Eo),In(S,Lr()),null}function Hz(S,E){E!==Nt&&(tC(S,$e(E,De)),In(S,Lr()),(ii&(Jr|Es))===Cr&&(Bc(),oh()))}function DT(S,E){var O=ii;ii|=l2;try{return S(E)}finally{ii=O,ii===Cr&&!ra.isBatchingLegacy&&(Bc(),vR())}}function $z(S,E,O,F,N){var W=$s(),Z=Zr.transition;try{return Zr.transition=null,Br(qn),S(E,O,F,N)}finally{Br(W),Zr.transition=Z,ii===Cr&&Bc()}}function Po(S){gh!==null&&gh.tag===ah&&(ii&(Jr|Es))===Cr&&Mo();var E=ii;ii|=l2;var O=Zr.transition,F=$s();try{return Zr.transition=null,Br(qn),S?S():void 0}finally{Br(F),Zr.transition=O,ii=E,(ii&(Jr|Es))===Cr&&oh()}}function x2(){return(ii&(Jr|Es))!==Cr}function fm(S,E){on(MT,Da,S),Da=$e(Da,E)}function BT(S){Da=MT.current,an(MT,S)}function Bl(S,E){S.finishedWork=null,S.finishedLanes=Nt;var O=S.timeoutHandle;if(O!==OC&&(S.timeoutHandle=OC,yk(O)),$i!==null)for(var F=$i.return;F!==null;){var N=F.alternate;KA(N,F),F=F.return}Sn=S;var W=Gl(S.current,null);return $i=W,Sr=Da=E,Tr=To,Lc=null,nm=Nt,Fc=Nt,sm=Nt,Dc=null,Bn=null,V7(),Js.discardPendingWarnings(),W}function y2(S,E){do{var O=$i;try{if(Sg(),YR(),Se(),ET.current=null,O===null||O.return===null){Tr=Ac,Lc=E,$i=null;return}if(U&&O.mode&Ei&&Qg(O,!0),V)if(Fu(),E!==null&&typeof E=="object"&&typeof E.then=="function"){var F=E;T8(O,F,Sr)}else S8(O,E,Sr);gN(S,O.return,O,E,Sr),E2(O)}catch(N){E=N,$i===O&&O!==null?(O=O.return,$i=O):O=$i;continue}return}while(!0)}function C2(){var S=TT.current;return TT.current=Hg,S===null?Hg:S}function S2(S){TT.current=S}function Kz(){bT=Lr()}function Nc(S){nm=$e(S,nm)}function Zz(){Tr===To&&(Tr=rm)}function IT(){(Tr===To||Tr===rm||Tr===Fl)&&(Tr=Oc),Sn!==null&&(jy(nm)||jy(Fc))&&xh(Sn,Sr)}function Jz(S){Tr!==Oc&&(Tr=Fl),Dc===null?Dc=[S]:Dc.push(S)}function Qz(){return Tr===To}function dm(S,E){var O=ii;ii|=Jr;var F=C2();if(Sn!==S||Sr!==E){if(Hs){var N=S.memoizedUpdaters;N.size>0&&(zc(S,Sr),N.clear()),_b(S,E)}Eo=tw(),Bl(S,E)}Wb(E);do try{jz();break}catch(W){y2(S,W)}while(!0);if(Sg(),ii=O,S2(F),$i!==null)throw new Error("Cannot commit an incomplete root. This error is likely caused by a bug in React. Please file an issue.");return Yb(),Sn=null,Sr=Nt,Tr}function jz(){for(;$i!==null;)T2($i)}function qz(S,E){var O=ii;ii|=Jr;var F=C2();if(Sn!==S||Sr!==E){if(Hs){var N=S.memoizedUpdaters;N.size>0&&(zc(S,Sr),N.clear()),_b(S,E)}Eo=tw(),Bc(),Bl(S,E)}Wb(E);do try{_z();break}catch(W){y2(S,W)}while(!0);return Sg(),S2(F),ii=O,$i!==null?(w8(),To):(Yb(),Sn=null,Sr=Nt,Tr)}function _z(){for(;$i!==null&&!e8();)T2($i)}function T2(S){var E=S.alternate;Ye(S);var O;(S.mode&Ei)!==Te?(NS(S),O=GT(E,S,Da),Qg(S,!0)):O=GT(E,S,Da),Se(),S.memoizedProps=S.pendingProps,O===null?E2(S):$i=O,ET.current=null}function E2(S){var E=S;do{var O=E.alternate,F=E.return;if((E.flags&Sd)===Re){Ye(E);var N=void 0;if((E.mode&Ei)===Te?N=$A(O,E,Da):(NS(E),N=$A(O,E,Da),Qg(E,!1)),Se(),N!==null){$i=N;return}}else{var W=ZN(O,E);if(W!==null){W.flags&=J9,$i=W;return}if((E.mode&Ei)!==Te){Qg(E,!1);for(var Z=E.actualDuration,q=E.child;q!==null;)Z+=q.actualDuration,q=q.sibling;E.actualDuration=Z}if(F!==null)F.flags|=Sd,F.subtreeFlags=Re,F.deletions=null;else{Tr=PT,$i=null;return}}var et=E.sibling;if(et!==null){$i=et;return}E=F,$i=E}while(E!==null);Tr===To&&(Tr=u2)}function Il(S,E,O){var F=$s(),N=Zr.transition;try{Zr.transition=null,Br(qn),tU(S,E,O,F)}finally{Zr.transition=N,Br(F)}return null}function tU(S,E,O,F){do Mo();while(gh!==null);if(fU(),(ii&(Jr|Es))!==Cr)throw new Error("Should not already be working.");var N=S.finishedWork,W=S.finishedLanes;if(v8(W),N===null)return zb(),null;if(W===Nt&&n("root.finishedLanes should not be empty during a commit. This is a bug in React."),S.finishedWork=null,S.finishedLanes=Nt,N===S.current)throw new Error("Cannot commit the same tree as before. This error is likely caused by a bug in React. Please file an issue.");S.callbackNode=null,S.callbackPriority=Dr;var Z=$e(N.lanes,N.childLanes);H8(S,Z),S===Sn&&(Sn=null,$i=null,Sr=Nt),((N.subtreeFlags&Ou)!==Re||(N.flags&Ou)!==Re)&&(Dl||(Dl=!0,AT=O,zT(vl,function(){return Mo(),null})));var q=(N.subtreeFlags&(My|by|Td|Ou))!==Re,et=(N.flags&(My|by|Td|Ou))!==Re;if(q||et){var nt=Zr.transition;Zr.transition=null;var at=$s();Br(qn);var pt=ii;ii|=Es,ET.current=null,_N(S,N),vA(),cz(S,N,W),dk(S.containerInfo),S.current=N,E8(W),vz(N,S,W),P8(),i8(),ii=pt,Br(at),Zr.transition=nt}else S.current=N,vA();var vt=Dl;if(Dl?(Dl=!1,gh=S,Ic=W):(cf=0,hm=null),Z=S.pendingLanes,Z===Nt&&(df=null),vt||w2(S.current,!1),l8(N.stateNode,F),Hs&&S.memoizedUpdaters.clear(),Dz(),In(S,Lr()),E!==null)for(var St=S.onRecoverableError,Pt=0;Pt<E.length;Pt++){var At=E[Pt],Jt=At.stack,ye=At.digest;St(At.value,{componentStack:Jt,digest:ye})}if(am){am=!1;var ge=wT;throw wT=null,ge}return jn(Ic,De)&&S.tag!==ah&&Mo(),Z=S.pendingLanes,jn(Z,De)?(sN(),S===OT?Gc++:(Gc=0,OT=S)):Gc=0,oh(),zb(),null}function Mo(){if(gh!==null){var S=ew(Ic),E=J8(vo,S),O=Zr.transition,F=$s();try{return Zr.transition=null,Br(E),iU()}finally{Br(F),Zr.transition=O}}return!1}function eU(S){RT.push(S),Dl||(Dl=!0,zT(vl,function(){return Mo(),null}))}function iU(){if(gh===null)return!1;var S=AT;AT=null;var E=gh,O=Ic;if(gh=null,Ic=Nt,(ii&(Jr|Es))!==Cr)throw new Error("Cannot flush passive effects while already rendering.");LT=!0,om=!1,M8(O);var F=ii;ii|=Es,Sz(E.current),mz(E,E.current,O,S);{var N=RT;RT=[];for(var W=0;W<N.length;W++){var Z=N[W];rz(E,Z)}}b8(),w2(E.current,!0),ii=F,oh(),om?E===hm?cf++:(cf=0,hm=E):cf=0,LT=!1,om=!1,u8(E);{var q=E.current.stateNode;q.effectDuration=0,q.passiveEffectDuration=0}return!0}function P2(S){return df!==null&&df.has(S)}function rU(S){df===null?df=new Set([S]):df.add(S)}function nU(S){am||(am=!0,wT=S)}var sU=nU;function M2(S,E,O){var F=Ol(O,E),N=TA(S,F,De),W=lh(S,N,De),Z=Tn();W!==null&&(Od(W,De,Z),In(W,Z))}function Di(S,E,O){if(QN(O),Uc(!1),S.tag===d){M2(S,S,O);return}var F=null;for(F=E;F!==null;){if(F.tag===d){M2(F,S,O);return}else if(F.tag===a){var N=F.type,W=F.stateNode;if(typeof N.getDerivedStateFromError=="function"||typeof W.componentDidCatch=="function"&&!P2(W)){var Z=Ol(O,S),q=iT(F,Z,De),et=lh(F,q,De),nt=Tn();et!==null&&(Od(et,De,nt),In(et,nt));return}}F=F.return}n(`Internal React error: Attempted to capture a commit phase error inside a detached tree. This indicates a bug in React. Likely causes include deleting the same fiber more than once, committing an already-finished tree, or an inconsistent return pointer.

Error message:

%s`,O)}function aU(S,E,O){var F=S.pingCache;F!==null&&F.delete(E);var N=Tn();jb(S,O),pU(S),Sn===S&&Gu(Sr,O)&&(Tr===Oc||Tr===rm&&Kb(Sr)&&Lr()-bT<f2?Bl(S,Nt):sm=$e(sm,O)),In(S,N)}function b2(S,E){E===Dr&&(E=Uz(S));var O=Tn(),F=Fn(S,E);F!==null&&(Od(F,E,O),In(F,O))}function oU(S){var E=S.memoizedState,O=Dr;E!==null&&(O=E.retryLane),b2(S,O)}function hU(S,E){var O=Dr,F;switch(S.tag){case g:F=S.stateNode;var N=S.memoizedState;N!==null&&(O=N.retryLane);break;case A:F=S.stateNode;break;default:throw new Error("Pinged unknown suspense boundary type. This is probably a bug in React.")}F!==null&&F.delete(E),b2(S,O)}function lU(S){return S<120?120:S<480?480:S<1080?1080:S<1920?1920:S<3e3?3e3:S<4320?4320:Gz(S/1960)*1960}function uU(){if(Gc>Nz)throw Gc=0,OT=null,new Error("Maximum update depth exceeded. This can happen when a component repeatedly calls setState inside componentWillUpdate or componentDidUpdate. React limits the number of nested updates to prevent infinite loops.");cf>zz&&(cf=0,hm=null,n("Maximum update depth exceeded. This can happen when a component calls setState inside useEffect, but useEffect either doesn't have a dependency array, or one of the dependencies changes on every render."))}function fU(){Js.flushLegacyContextWarning(),Js.flushPendingUnsafeLifecycleWarnings()}function w2(S,E){Ye(S),cm(S,lo,Oz),E&&cm(S,bp,Lz),cm(S,lo,Rz),E&&cm(S,bp,Az),Se()}function cm(S,E,O){for(var F=S,N=null;F!==null;){var W=F.subtreeFlags&E;F!==N&&F.child!==null&&W!==Re?F=F.child:((F.flags&E)!==Re&&O(F),F.sibling!==null?F=F.sibling:F=N=F.return)}}var vm=null;function R2(S){{if((ii&Jr)!==Cr||!(S.mode&ei))return;var E=S.tag;if(E!==x&&E!==d&&E!==a&&E!==i&&E!==p&&E!==C&&E!==M)return;var O=Dt(S)||"ReactComponent";if(vm!==null){if(vm.has(O))return;vm.add(O)}else vm=new Set([O]);var F=he;try{Ye(S),n("Can't perform a React state update on a component that hasn't mounted yet. This indicates that you have a side-effect in your render function that asynchronously later calls tries to update the component. Move this work to useEffect instead.")}finally{F?Ye(S):Se()}}}var GT;{var dU=null;GT=function(S,E,O){var F=G2(dU,E);try{return VA(S,E,O)}catch(W){if(P7()||W!==null&&typeof W=="object"&&typeof W.then=="function")throw W;if(Sg(),YR(),KA(S,E),G2(E,F),E.mode&Ei&&NS(E),yy(null,VA,null,S,E,O),H9()){var N=Cy();typeof N=="object"&&N!==null&&N._suppressLogging&&typeof W=="object"&&W!==null&&!W._suppressLogging&&(W._suppressLogging=!0)}throw W}}}var A2=!1,kT;kT=new Set;function cU(S){if(Ri&&!iN())switch(S.tag){case i:case p:case M:{var E=$i&&Dt($i)||"Unknown",O=E;if(!kT.has(O)){kT.add(O);var F=Dt(S)||"Unknown";n("Cannot update a component (`%s`) while rendering a different component (`%s`). To locate the bad setState() call inside `%s`, follow the stack trace as described in https://reactjs.org/link/setstate-in-render",F,E,E)}break}case a:{A2||(n("Cannot update during an existing state transition (such as within `render`). Render methods should be a pure function of props and state."),A2=!0);break}}}function zc(S,E){if(Hs){var O=S.memoizedUpdaters;O.forEach(function(F){qb(S,F,E)})}}var NT={};function zT(S,E){{var O=ra.current;return O!==null?(O.push(E),NT):Nb(S,E)}}function O2(S){if(S!==NT)return t8(S)}function L2(){return ra.current!==null}function vU(S){{if(S.mode&ei){if(!h2())return}else if(!Iz()||ii!==Cr||S.tag!==i&&S.tag!==p&&S.tag!==M)return;if(ra.current===null){var E=he;try{Ye(S),n(`An update to %s inside a test was not wrapped in act(...).

When testing, code that causes React state updates should be wrapped into act(...):

act(() => {
  /* fire events that update state */
});
/* assert on the output */

This ensures that you're testing the behavior the user would see in the browser. Learn more at https://reactjs.org/link/wrap-tests-with-act`,Dt(S))}finally{E?Ye(S):Se()}}}}function pU(S){S.tag!==ah&&h2()&&ra.current===null&&n(`A suspended resource finished loading inside a test, but the event was not wrapped in act(...).

When testing, code that resolves suspended data should be wrapped into act(...):

act(() => {
  /* finish loading suspended data */
});
/* assert on the output */

This ensures that you're testing the behavior the user would see in the browser. Learn more at https://reactjs.org/link/wrap-tests-with-act`)}function Uc(S){v2=S}var Ps=null,vf=null,gU=function(S){Ps=S};function pf(S){{if(Ps===null)return S;var E=Ps(S);return E===void 0?S:E.current}}function UT(S){return pf(S)}function VT(S){{if(Ps===null)return S;var E=Ps(S);if(E===void 0){if(S!=null&&typeof S.render=="function"){var O=pf(S.render);if(S.render!==O){var F={$$typeof:be,render:O};return S.displayName!==void 0&&(F.displayName=S.displayName),F}}return S}return E.current}}function F2(S,E){{if(Ps===null)return!1;var O=S.elementType,F=E.type,N=!1,W=typeof F=="object"&&F!==null?F.$$typeof:null;switch(S.tag){case a:{typeof F=="function"&&(N=!0);break}case i:{(typeof F=="function"||W===Ze)&&(N=!0);break}case p:{(W===be||W===Ze)&&(N=!0);break}case C:case M:{(W===Ii||W===Ze)&&(N=!0);break}default:return!1}if(N){var Z=Ps(O);if(Z!==void 0&&Z===Ps(F))return!0}return!1}}function D2(S){{if(Ps===null||typeof WeakSet!="function")return;vf===null&&(vf=new WeakSet),vf.add(S)}}var mU=function(S,E){{if(Ps===null)return;var O=E.staleFamilies,F=E.updatedFamilies;Mo(),Po(function(){WT(S.current,F,O)})}},xU=function(S,E){{if(S.context!==es)return;Mo(),Po(function(){Vc(E,S,null,null)})}};function WT(S,E,O){{var F=S.alternate,N=S.child,W=S.sibling,Z=S.tag,q=S.type,et=null;switch(Z){case i:case M:case a:et=q;break;case p:et=q.render;break}if(Ps===null)throw new Error("Expected resolveFamily to be set during hot reload.");var nt=!1,at=!1;if(et!==null){var pt=Ps(et);pt!==void 0&&(O.has(pt)?at=!0:E.has(pt)&&(Z===a?at=!0:nt=!0))}if(vf!==null&&(vf.has(S)||F!==null&&vf.has(F))&&(at=!0),at&&(S._debugNeedsRemount=!0),at||nt){var vt=Fn(S,De);vt!==null&&Er(vt,S,De,Ni)}N!==null&&!at&&WT(N,E,O),W!==null&&WT(W,E,O)}}var yU=function(S,E){{var O=new Set,F=new Set(E.map(function(N){return N.current}));return YT(S.current,F,O),O}};function YT(S,E,O){{var F=S.child,N=S.sibling,W=S.tag,Z=S.type,q=null;switch(W){case i:case M:case a:q=Z;break;case p:q=Z.render;break}var et=!1;q!==null&&E.has(q)&&(et=!0),et?CU(S,O):F!==null&&YT(F,E,O),N!==null&&YT(N,E,O)}}function CU(S,E){{var O=SU(S,E);if(O)return;for(var F=S;;){switch(F.tag){case o:E.add(F.stateNode);return;case l:E.add(F.stateNode.containerInfo);return;case d:E.add(F.stateNode.containerInfo);return}if(F.return===null)throw new Error("Expected to reach root first.");F=F.return}}}function SU(S,E){for(var O=S,F=!1;;){if(O.tag===o)F=!0,E.add(O.stateNode);else if(O.child!==null){O.child.return=O,O=O.child;continue}if(O===S)return F;for(;O.sibling===null;){if(O.return===null||O.return===S)return F;O=O.return}O.sibling.return=O.return,O=O.sibling}return!1}var XT;{XT=!1;try{var B2=Object.preventExtensions({})}catch{XT=!0}}function TU(S,E,O,F){this.tag=S,this.key=O,this.elementType=null,this.type=null,this.stateNode=null,this.return=null,this.child=null,this.sibling=null,this.index=0,this.ref=null,this.pendingProps=E,this.memoizedProps=null,this.updateQueue=null,this.memoizedState=null,this.dependencies=null,this.mode=F,this.flags=Re,this.subtreeFlags=Re,this.deletions=null,this.lanes=Nt,this.childLanes=Nt,this.alternate=null,this.actualDuration=Number.NaN,this.actualStartTime=Number.NaN,this.selfBaseDuration=Number.NaN,this.treeBaseDuration=Number.NaN,this.actualDuration=0,this.actualStartTime=-1,this.selfBaseDuration=0,this.treeBaseDuration=0,this._debugSource=null,this._debugOwner=null,this._debugNeedsRemount=!1,this._debugHookTypes=null,!XT&&typeof Object.preventExtensions=="function"&&Object.preventExtensions(this)}var is=function(S,E,O,F){return new TU(S,E,O,F)};function HT(S){var E=S.prototype;return!!(E&&E.isReactComponent)}function EU(S){return typeof S=="function"&&!HT(S)&&S.defaultProps===void 0}function PU(S){if(typeof S=="function")return HT(S)?a:i;if(S!=null){var E=S.$$typeof;if(E===be)return p;if(E===Ii)return C}return x}function Gl(S,E){var O=S.alternate;O===null?(O=is(S.tag,E,S.key,S.mode),O.elementType=S.elementType,O.type=S.type,O.stateNode=S.stateNode,O._debugSource=S._debugSource,O._debugOwner=S._debugOwner,O._debugHookTypes=S._debugHookTypes,O.alternate=S,S.alternate=O):(O.pendingProps=E,O.type=S.type,O.flags=Re,O.subtreeFlags=Re,O.deletions=null,O.actualDuration=0,O.actualStartTime=-1),O.flags=S.flags&uo,O.childLanes=S.childLanes,O.lanes=S.lanes,O.child=S.child,O.memoizedProps=S.memoizedProps,O.memoizedState=S.memoizedState,O.updateQueue=S.updateQueue;var F=S.dependencies;switch(O.dependencies=F===null?null:{lanes:F.lanes,firstContext:F.firstContext},O.sibling=S.sibling,O.index=S.index,O.ref=S.ref,O.selfBaseDuration=S.selfBaseDuration,O.treeBaseDuration=S.treeBaseDuration,O._debugNeedsRemount=S._debugNeedsRemount,O.tag){case x:case i:case M:O.type=pf(S.type);break;case a:O.type=UT(S.type);break;case p:O.type=VT(S.type);break}return O}function MU(S,E){S.flags&=uo|fr;var O=S.alternate;if(O===null)S.childLanes=Nt,S.lanes=E,S.child=null,S.subtreeFlags=Re,S.memoizedProps=null,S.memoizedState=null,S.updateQueue=null,S.dependencies=null,S.stateNode=null,S.selfBaseDuration=0,S.treeBaseDuration=0;else{S.childLanes=O.childLanes,S.lanes=O.lanes,S.child=O.child,S.subtreeFlags=Re,S.deletions=null,S.memoizedProps=O.memoizedProps,S.memoizedState=O.memoizedState,S.updateQueue=O.updateQueue,S.type=O.type;var F=O.dependencies;S.dependencies=F===null?null:{lanes:F.lanes,firstContext:F.firstContext},S.selfBaseDuration=O.selfBaseDuration,S.treeBaseDuration=O.treeBaseDuration}return S}function bU(S,E,O){var F;return S===fg?(F=ei,E===!0&&(F|=ji,F|=Ea)):F=Te,Hs&&(F|=Ei),is(d,null,null,F)}function $T(S,E,O,F,N,W){var Z=x,q=S;if(typeof S=="function")HT(S)?(Z=a,q=UT(q)):q=pf(q);else if(typeof S=="string")Z=o;else t:switch(S){case ut:return yh(O.children,N,W,E);case Gt:Z=c,N|=ji,(N&ei)!==Te&&(N|=Ea);break;case Kt:return wU(O,N,W,E);case Ve:return RU(O,N,W,E);case ke:return AU(O,N,W,E);case Hn:return I2(O,N,W,E);case $n:case Gi:case lr:case qa:case pr:default:{if(typeof S=="object"&&S!==null)switch(S.$$typeof){case ue:Z=v;break t;case je:Z=u;break t;case be:Z=p,q=VT(q);break t;case Ii:Z=C;break t;case Ze:Z=b,q=null;break t}var et="";{(S===void 0||typeof S=="object"&&S!==null&&Object.keys(S).length===0)&&(et+=" You likely forgot to export your component from the file it's defined in, or you might have mixed up default and named imports.");var nt=F?Dt(F):null;nt&&(et+=`

Check the render method of \``+nt+"`.")}throw new Error("Element type is invalid: expected a string (for built-in components) or a class/function (for composite components) "+("but got: "+(S==null?S:typeof S)+"."+et))}}var at=is(Z,O,E,N);return at.elementType=S,at.type=q,at.lanes=W,at._debugOwner=F,at}function KT(S,E,O){var F=null;F=S._owner;var N=S.type,W=S.key,Z=S.props,q=$T(N,W,Z,F,E,O);return q._debugSource=S._source,q._debugOwner=S._owner,q}function yh(S,E,O,F){var N=is(f,S,F,E);return N.lanes=O,N}function wU(S,E,O,F){typeof S.id!="string"&&n('Profiler must specify an "id" of type `string` as a prop. Received the type `%s` instead.',typeof S.id);var N=is(m,S,F,E|Ei);return N.elementType=Kt,N.lanes=O,N.stateNode={effectDuration:0,passiveEffectDuration:0},N}function RU(S,E,O,F){var N=is(g,S,F,E);return N.elementType=Ve,N.lanes=O,N}function AU(S,E,O,F){var N=is(A,S,F,E);return N.elementType=ke,N.lanes=O,N}function I2(S,E,O,F){var N=is(D,S,F,E);N.elementType=Hn,N.lanes=O;var W={isHidden:!1};return N.stateNode=W,N}function ZT(S,E,O){var F=is(s,S,null,E);return F.lanes=O,F}function OU(){var S=is(o,null,null,Te);return S.elementType="DELETED",S}function LU(S){var E=is(R,null,null,Te);return E.stateNode=S,E}function JT(S,E,O){var F=S.children!==null?S.children:[],N=is(l,F,S.key,E);return N.lanes=O,N.stateNode={containerInfo:S.containerInfo,pendingChildren:null,implementation:S.implementation},N}function G2(S,E){return S===null&&(S=is(x,null,null,Te)),S.tag=E.tag,S.key=E.key,S.elementType=E.elementType,S.type=E.type,S.stateNode=E.stateNode,S.return=E.return,S.child=E.child,S.sibling=E.sibling,S.index=E.index,S.ref=E.ref,S.pendingProps=E.pendingProps,S.memoizedProps=E.memoizedProps,S.updateQueue=E.updateQueue,S.memoizedState=E.memoizedState,S.dependencies=E.dependencies,S.mode=E.mode,S.flags=E.flags,S.subtreeFlags=E.subtreeFlags,S.deletions=E.deletions,S.lanes=E.lanes,S.childLanes=E.childLanes,S.alternate=E.alternate,S.actualDuration=E.actualDuration,S.actualStartTime=E.actualStartTime,S.selfBaseDuration=E.selfBaseDuration,S.treeBaseDuration=E.treeBaseDuration,S._debugSource=E._debugSource,S._debugOwner=E._debugOwner,S._debugNeedsRemount=E._debugNeedsRemount,S._debugHookTypes=E._debugHookTypes,S}function FU(S,E,O,F,N){this.tag=E,this.containerInfo=S,this.pendingChildren=null,this.current=null,this.pingCache=null,this.finishedWork=null,this.timeoutHandle=OC,this.context=null,this.pendingContext=null,this.callbackNode=null,this.callbackPriority=Dr,this.eventTimes=_y(Nt),this.expirationTimes=_y(Ni),this.pendingLanes=Nt,this.suspendedLanes=Nt,this.pingedLanes=Nt,this.expiredLanes=Nt,this.mutableReadLanes=Nt,this.finishedLanes=Nt,this.entangledLanes=Nt,this.entanglements=_y(Nt),this.identifierPrefix=F,this.onRecoverableError=N,this.mutableSourceEagerHydrationData=null,this.effectDuration=0,this.passiveEffectDuration=0;{this.memoizedUpdaters=new Set;for(var W=this.pendingUpdatersLaneMap=[],Z=0;Z<Oy;Z++)W.push(new Set)}switch(E){case fg:this._debugRootType=O?"hydrateRoot()":"createRoot()";break;case ah:this._debugRootType=O?"hydrate()":"render()";break}}function k2(S,E,O,F,N,W,Z,q,et,nt){var at=new FU(S,E,O,q,et),pt=bU(E,W);at.current=pt,pt.stateNode=at;{var vt={element:F,isDehydrated:O,cache:null,transitions:null,pendingSuspenseBoundaries:null};pt.memoizedState=vt}return hS(pt),at}var QT="18.3.1";function DU(S,E,O){var F=arguments.length>3&&arguments[3]!==void 0?arguments[3]:null;return Wt(F),{$$typeof:Xn,key:F==null?null:""+F,children:S,containerInfo:E,implementation:O}}var jT,qT;jT=!1,qT={};function N2(S){if(!S)return es;var E=Ru(S),O=p7(E);if(E.tag===a){var F=E.type;if(ba(F))return fR(E,F,O)}return O}function BU(S,E){{var O=Ru(S);if(O===void 0){if(typeof S.render=="function")throw new Error("Unable to find node on an unmounted component.");var F=Object.keys(S).join(",");throw new Error("Argument appears to not be a ReactComponent. Keys: "+F)}var N=Ib(O);if(N===null)return null;if(N.mode&ji){var W=Dt(O)||"Component";if(!qT[W]){qT[W]=!0;var Z=he;try{Ye(N),O.mode&ji?n("%s is deprecated in StrictMode. %s was passed an instance of %s which is inside StrictMode. Instead, add a ref directly to the element you want to reference. Learn more about using refs safely here: https://reactjs.org/link/strict-mode-find-node",E,E,W):n("%s is deprecated in StrictMode. %s was passed an instance of %s which renders StrictMode children. Instead, add a ref directly to the element you want to reference. Learn more about using refs safely here: https://reactjs.org/link/strict-mode-find-node",E,E,W)}finally{Z?Ye(Z):Se()}}}return N.stateNode}}function z2(S,E,O,F,N,W,Z,q){var et=!1,nt=null;return k2(S,E,et,nt,O,F,N,W,Z)}function U2(S,E,O,F,N,W,Z,q,et,nt){var at=!0,pt=k2(O,F,at,S,N,W,Z,q,et);pt.context=N2(null);var vt=pt.current,St=Tn(),Pt=mh(vt),At=Co(St,Pt);return At.callback=E??null,lh(vt,At,Pt),Vz(pt,Pt,St),pt}function Vc(S,E,O,F){h8(E,S);var N=E.current,W=Tn(),Z=mh(N);R8(Z);var q=N2(O);E.context===null?E.context=q:E.pendingContext=q,Ri&&he!==null&&!jT&&(jT=!0,n(`Render methods should be a pure function of props and state; triggering nested component updates from render is not allowed. If necessary, trigger nested updates in componentDidUpdate.

Check the render method of %s.`,Dt(he)||"Unknown"));var et=Co(W,Z);et.payload={element:S},F=F===void 0?null:F,F!==null&&(typeof F!="function"&&n("render(...): Expected the last optional `callback` argument to be a function. Instead received: %s.",F),et.callback=F);var nt=lh(N,et,Z);return nt!==null&&(Er(nt,N,Z,W),bg(nt,N,Z)),Z}function pm(S){var E=S.current;if(!E.child)return null;switch(E.child.tag){case o:return E.child.stateNode;default:return E.child.stateNode}}function IU(S){switch(S.tag){case d:{var E=S.stateNode;if(Ip(E)){var O=k8(E);Hz(E,O)}break}case g:{Po(function(){var N=Fn(S,De);if(N!==null){var W=Tn();Er(N,S,De,W)}});var F=De;_T(S,F);break}}}function V2(S,E){var O=S.memoizedState;O!==null&&O.dehydrated!==null&&(O.retryLane=Y8(O.retryLane,E))}function _T(S,E){V2(S,E);var O=S.alternate;O&&V2(O,E)}function GU(S){if(S.tag===g){var E=bd,O=Fn(S,E);if(O!==null){var F=Tn();Er(O,S,E,F)}_T(S,E)}}function kU(S){if(S.tag===g){var E=mh(S),O=Fn(S,E);if(O!==null){var F=Tn();Er(O,S,E,F)}_T(S,E)}}function W2(S){var E=_9(S);return E===null?null:E.stateNode}var Y2=function(S){return null};function NU(S){return Y2(S)}var X2=function(S){return!1};function zU(S){return X2(S)}var H2=null,$2=null,K2=null,Z2=null,J2=null,Q2=null,j2=null,q2=null,_2=null;{var tO=function(S,E,O){var F=E[O],N=di(S)?S.slice():We({},S);return O+1===E.length?(di(N)?N.splice(F,1):delete N[F],N):(N[F]=tO(S[F],E,O+1),N)},eO=function(S,E){return tO(S,E,0)},iO=function(S,E,O,F){var N=E[F],W=di(S)?S.slice():We({},S);if(F+1===E.length){var Z=O[F];W[Z]=W[N],di(W)?W.splice(N,1):delete W[N]}else W[N]=iO(S[N],E,O,F+1);return W},rO=function(S,E,O){if(E.length!==O.length){P("copyWithRename() expects paths of the same length");return}else for(var F=0;F<O.length-1;F++)if(E[F]!==O[F]){P("copyWithRename() expects paths to be the same except for the deepest key");return}return iO(S,E,O,0)},nO=function(S,E,O,F){if(O>=E.length)return F;var N=E[O],W=di(S)?S.slice():We({},S);return W[N]=nO(S[N],E,O+1,F),W},sO=function(S,E,O){return nO(S,E,0,O)},t1=function(S,E){for(var O=S.memoizedState;O!==null&&E>0;)O=O.next,E--;return O};H2=function(S,E,O,F){var N=t1(S,E);if(N!==null){var W=sO(N.memoizedState,O,F);N.memoizedState=W,N.baseState=W,S.memoizedProps=We({},S.memoizedProps);var Z=Fn(S,De);Z!==null&&Er(Z,S,De,Ni)}},$2=function(S,E,O){var F=t1(S,E);if(F!==null){var N=eO(F.memoizedState,O);F.memoizedState=N,F.baseState=N,S.memoizedProps=We({},S.memoizedProps);var W=Fn(S,De);W!==null&&Er(W,S,De,Ni)}},K2=function(S,E,O,F){var N=t1(S,E);if(N!==null){var W=rO(N.memoizedState,O,F);N.memoizedState=W,N.baseState=W,S.memoizedProps=We({},S.memoizedProps);var Z=Fn(S,De);Z!==null&&Er(Z,S,De,Ni)}},Z2=function(S,E,O){S.pendingProps=sO(S.memoizedProps,E,O),S.alternate&&(S.alternate.pendingProps=S.pendingProps);var F=Fn(S,De);F!==null&&Er(F,S,De,Ni)},J2=function(S,E){S.pendingProps=eO(S.memoizedProps,E),S.alternate&&(S.alternate.pendingProps=S.pendingProps);var O=Fn(S,De);O!==null&&Er(O,S,De,Ni)},Q2=function(S,E,O){S.pendingProps=rO(S.memoizedProps,E,O),S.alternate&&(S.alternate.pendingProps=S.pendingProps);var F=Fn(S,De);F!==null&&Er(F,S,De,Ni)},j2=function(S){var E=Fn(S,De);E!==null&&Er(E,S,De,Ni)},q2=function(S){Y2=S},_2=function(S){X2=S}}function UU(S){var E=Ib(S);return E===null?null:E.stateNode}function VU(S){return null}function WU(){return he}function YU(S){var E=S.findFiberByHostInstance,O=r.ReactCurrentDispatcher;return o8({bundleType:S.bundleType,version:S.version,rendererPackageName:S.rendererPackageName,rendererConfig:S.rendererConfig,overrideHookState:H2,overrideHookStateDeletePath:$2,overrideHookStateRenamePath:K2,overrideProps:Z2,overridePropsDeletePath:J2,overridePropsRenamePath:Q2,setErrorHandler:q2,setSuspenseHandler:_2,scheduleUpdate:j2,currentDispatcherRef:O,findHostInstanceByFiber:UU,findFiberByHostInstance:E||VU,findHostInstancesForRefresh:yU,scheduleRefresh:mU,scheduleRoot:xU,setRefreshHandler:gU,getCurrentFiber:WU,reconcilerVersion:QT})}var aO=typeof reportError=="function"?reportError:function(S){console.error(S)};function e1(S){this._internalRoot=S}gm.prototype.render=e1.prototype.render=function(S){var E=this._internalRoot;if(E===null)throw new Error("Cannot update an unmounted root.");{typeof arguments[1]=="function"?n("render(...): does not support the second callback argument. To execute a side effect after rendering, declare it in a component body with useEffect()."):mm(arguments[1])?n("You passed a container to the second argument of root.render(...). You don't need to pass it again since you already passed it to create the root."):typeof arguments[1]<"u"&&n("You passed a second argument to root.render(...) but it only accepts one argument.");var O=E.containerInfo;if(O.nodeType!==ur){var F=W2(E.current);F&&F.parentNode!==O&&n("render(...): It looks like the React-rendered content of the root container was removed without using React. This is not supported and will cause errors. Instead, call root.unmount() to empty a root's container.")}}Vc(S,E,null,null)},gm.prototype.unmount=e1.prototype.unmount=function(){typeof arguments[0]=="function"&&n("unmount(...): does not support a callback argument. To execute a side effect after rendering, declare it in a component body with useEffect().");var S=this._internalRoot;if(S!==null){this._internalRoot=null;var E=S.containerInfo;x2()&&n("Attempted to synchronously unmount a root while React was already rendering. React cannot finish unmounting the root until the current render has completed, which may lead to a race condition."),Po(function(){Vc(null,S,null,null)}),aR(E)}};function XU(S,E){if(!mm(S))throw new Error("createRoot(...): Target container is not a DOM element.");oO(S);var O=!1,F=!1,N="",W=aO;E!=null&&(E.hydrate?P("hydrate through createRoot is deprecated. Use ReactDOMClient.hydrateRoot(container, <App />) instead."):typeof E=="object"&&E!==null&&E.$$typeof===Me&&n(`You passed a JSX element to createRoot. You probably meant to call root.render instead. Example usage:

  let root = createRoot(domContainer);
  root.render(<App />);`),E.unstable_strictMode===!0&&(O=!0),E.identifierPrefix!==void 0&&(N=E.identifierPrefix),E.onRecoverableError!==void 0&&(W=E.onRecoverableError),E.transitionCallbacks!==void 0&&E.transitionCallbacks);var Z=z2(S,fg,null,O,F,N,W);ng(Z.current,S);var q=S.nodeType===ur?S.parentNode:S;return Kd(q),new e1(Z)}function gm(S){this._internalRoot=S}function HU(S){S&&aG(S)}gm.prototype.unstable_scheduleHydration=HU;function $U(S,E,O){if(!mm(S))throw new Error("hydrateRoot(...): Target container is not a DOM element.");oO(S),E===void 0&&n("Must provide initial children as second argument to hydrateRoot. Example usage: hydrateRoot(domContainer, <App />)");var F=O??null,N=O!=null&&O.hydratedSources||null,W=!1,Z=!1,q="",et=aO;O!=null&&(O.unstable_strictMode===!0&&(W=!0),O.identifierPrefix!==void 0&&(q=O.identifierPrefix),O.onRecoverableError!==void 0&&(et=O.onRecoverableError));var nt=U2(E,null,S,fg,F,W,Z,q,et);if(ng(nt.current,S),Kd(S),N)for(var at=0;at<N.length;at++){var pt=N[at];Q7(nt,pt)}return new gm(nt)}function mm(S){return!!(S&&(S.nodeType===On||S.nodeType===ao||S.nodeType===hy||!J))}function Wc(S){return!!(S&&(S.nodeType===On||S.nodeType===ao||S.nodeType===hy||S.nodeType===ur&&S.nodeValue===" react-mount-point-unstable "))}function oO(S){S.nodeType===On&&S.tagName&&S.tagName.toUpperCase()==="BODY"&&n("createRoot(): Creating roots directly with document.body is discouraged, since its children are often manipulated by third-party scripts and browser extensions. This may lead to subtle reconciliation issues. Try using a container element created for your app."),nc(S)&&(S._reactRootContainer?n("You are calling ReactDOMClient.createRoot() on a container that was previously passed to ReactDOM.render(). This is not supported."):n("You are calling ReactDOMClient.createRoot() on a container that has already been passed to createRoot() before. Instead, call root.render() on the existing root instead if you want to update it."))}var KU=r.ReactCurrentOwner,hO;hO=function(S){if(S._reactRootContainer&&S.nodeType!==ur){var E=W2(S._reactRootContainer.current);E&&E.parentNode!==S&&n("render(...): It looks like the React-rendered content of this container was removed without using React. This is not supported and will cause errors. Instead, call ReactDOM.unmountComponentAtNode to empty a container.")}var O=!!S._reactRootContainer,F=i1(S),N=!!(F&&nh(F));N&&!O&&n("render(...): Replacing React-rendered children with a new root component. If you intended to update the children of this node, you should instead have the existing children update their state and render the new components instead of calling ReactDOM.render."),S.nodeType===On&&S.tagName&&S.tagName.toUpperCase()==="BODY"&&n("render(): Rendering components directly into document.body is discouraged, since its children are often manipulated by third-party scripts and browser extensions. This may lead to subtle reconciliation issues. Try rendering into a container element created for your app.")};function i1(S){return S?S.nodeType===ao?S.documentElement:S.firstChild:null}function lO(){}function ZU(S,E,O,F,N){if(N){if(typeof F=="function"){var W=F;F=function(){var vt=pm(Z);W.call(vt)}}var Z=U2(E,F,S,ah,null,!1,!1,"",lO);S._reactRootContainer=Z,ng(Z.current,S);var q=S.nodeType===ur?S.parentNode:S;return Kd(q),Po(),Z}else{for(var et;et=S.lastChild;)S.removeChild(et);if(typeof F=="function"){var nt=F;F=function(){var vt=pm(at);nt.call(vt)}}var at=z2(S,ah,null,!1,!1,"",lO);S._reactRootContainer=at,ng(at.current,S);var pt=S.nodeType===ur?S.parentNode:S;return Kd(pt),Po(function(){Vc(E,at,O,F)}),at}}function JU(S,E){S!==null&&typeof S!="function"&&n("%s(...): Expected the last optional `callback` argument to be a function. Instead received: %s.",E,S)}function xm(S,E,O,F,N){hO(O),JU(N===void 0?null:N,"render");var W=O._reactRootContainer,Z;if(!W)Z=ZU(O,E,S,N,F);else{if(Z=W,typeof N=="function"){var q=N;N=function(){var et=pm(Z);q.call(et)}}Vc(E,Z,S,N)}return pm(Z)}var uO=!1;function QU(S){{uO||(uO=!0,n("findDOMNode is deprecated and will be removed in the next major release. Instead, add a ref directly to the element you want to reference. Learn more about using refs safely here: https://reactjs.org/link/strict-mode-find-node"));var E=KU.current;if(E!==null&&E.stateNode!==null){var O=E.stateNode._warnedAboutRefsInRender;O||n("%s is accessing findDOMNode inside its render(). render() should be a pure function of props and state. It should never access something that requires stale data from the previous render, such as refs. Move this logic to componentDidMount and componentDidUpdate instead.",ee(E.type)||"A component"),E.stateNode._warnedAboutRefsInRender=!0}}return S==null?null:S.nodeType===On?S:BU(S,"findDOMNode")}function jU(S,E,O){if(n("ReactDOM.hydrate is no longer supported in React 18. Use hydrateRoot instead. Until you switch to the new API, your app will behave as if it's running React 17. Learn more: https://reactjs.org/link/switch-to-createroot"),!Wc(E))throw new Error("Target container is not a DOM element.");{var F=nc(E)&&E._reactRootContainer===void 0;F&&n("You are calling ReactDOM.hydrate() on a container that was previously passed to ReactDOMClient.createRoot(). This is not supported. Did you mean to call hydrateRoot(container, element)?")}return xm(null,S,E,!0,O)}function qU(S,E,O){if(n("ReactDOM.render is no longer supported in React 18. Use createRoot instead. Until you switch to the new API, your app will behave as if it's running React 17. Learn more: https://reactjs.org/link/switch-to-createroot"),!Wc(E))throw new Error("Target container is not a DOM element.");{var F=nc(E)&&E._reactRootContainer===void 0;F&&n("You are calling ReactDOM.render() on a container that was previously passed to ReactDOMClient.createRoot(). This is not supported. Did you mean to call root.render(element)?")}return xm(null,S,E,!1,O)}function _U(S,E,O,F){if(n("ReactDOM.unstable_renderSubtreeIntoContainer() is no longer supported in React 18. Consider using a portal instead. Until you switch to the createRoot API, your app will behave as if it's running React 17. Learn more: https://reactjs.org/link/switch-to-createroot"),!Wc(O))throw new Error("Target container is not a DOM element.");if(S==null||!$9(S))throw new Error("parentComponent must be a valid React Component");return xm(S,E,O,!1,F)}var fO=!1;function tV(S){if(fO||(fO=!0,n("unmountComponentAtNode is deprecated and will be removed in the next major release. Switch to the createRoot API. Learn more: https://reactjs.org/link/switch-to-createroot")),!Wc(S))throw new Error("unmountComponentAtNode(...): Target container is not a DOM element.");{var E=nc(S)&&S._reactRootContainer===void 0;E&&n("You are calling ReactDOM.unmountComponentAtNode() on a container that was previously passed to ReactDOMClient.createRoot(). This is not supported. Did you mean to call root.unmount()?")}if(S._reactRootContainer){{var O=i1(S),F=O&&!nh(O);F&&n("unmountComponentAtNode(): The node you're attempting to unmount was rendered by another copy of React.")}return Po(function(){xm(null,null,S,!1,function(){S._reactRootContainer=null,aR(S)})}),!0}else{{var N=i1(S),W=!!(N&&nh(N)),Z=S.nodeType===On&&Wc(S.parentNode)&&!!S.parentNode._reactRootContainer;W&&n("unmountComponentAtNode(): The node you're attempting to unmount was rendered by React and is not a top-level container. %s",Z?"You may have accidentally passed in a React root node instead of its container.":"Instead, have the parent component update its state and rerender in order to remove this component.")}return!1}}Q8(IU),q8(GU),_8(kU),tG($s),eG(K8),(typeof Map!="function"||Map.prototype==null||typeof Map.prototype.forEach!="function"||typeof Set!="function"||Set.prototype==null||typeof Set.prototype.clear!="function"||typeof Set.prototype.forEach!="function")&&n("React depends on Map and Set built-in types. Make sure that you load a polyfill in older browsers. https://reactjs.org/link/react-polyfills"),I9(ik),N9(DT,$z,Po);function eV(S,E){var O=arguments.length>2&&arguments[2]!==void 0?arguments[2]:null;if(!mm(E))throw new Error("Target container is not a DOM element.");return DU(S,E,null,O)}function iV(S,E,O,F){return _U(S,E,O,F)}var r1={usingClientEntryPoint:!1,Events:[nh,Hu,sg,Eb,Pb,DT]};function rV(S,E){return r1.usingClientEntryPoint||n('You are importing createRoot from "react-dom" which is not supported. You should instead import it from "react-dom/client".'),XU(S,E)}function nV(S,E,O){return r1.usingClientEntryPoint||n('You are importing hydrateRoot from "react-dom" which is not supported. You should instead import it from "react-dom/client".'),$U(S,E,O)}function sV(S){return x2()&&n("flushSync was called from inside a lifecycle method. React cannot flush when React is already rendering. Consider moving this call to a scheduler task or micro task."),Po(S)}var aV=YU({findFiberByHostInstance:Sl,bundleType:1,version:QT,rendererPackageName:"react-dom"});if(!aV&&ft&&window.top===window.self&&(navigator.userAgent.indexOf("Chrome")>-1&&navigator.userAgent.indexOf("Edge")===-1||navigator.userAgent.indexOf("Firefox")>-1)){var dO=window.location.protocol;/^(https?|file):$/.test(dO)&&console.info("%cDownload the React DevTools for a better development experience: https://reactjs.org/link/react-devtools"+(dO==="file:"?`
You might need to use a local HTTP server (instead of file://): https://reactjs.org/link/react-devtools-faq`:""),"font-weight:bold")}fs.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=r1,fs.createPortal=eV,fs.createRoot=rV,fs.findDOMNode=QU,fs.flushSync=sV,fs.hydrate=jU,fs.hydrateRoot=nV,fs.render=qU,fs.unmountComponentAtNode=tV,fs.unstable_batchedUpdates=DT,fs.unstable_renderSubtreeIntoContainer=iV,fs.version=QT,typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"&&typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.registerInternalModuleStop=="function"&&__REACT_DEVTOOLS_GLOBAL_HOOK__.registerInternalModuleStop(new Error)})();E3.exports=fs;var xV=E3.exports,n1=xV;{var ym=n1.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED;$E.createRoot=function(e,t){ym.usingClientEntryPoint=!0;try{return n1.createRoot(e,t)}finally{ym.usingClientEntryPoint=!1}},$E.hydrateRoot=function(e,t,r){ym.usingClientEntryPoint=!0;try{return n1.hydrateRoot(e,t,r)}finally{ym.usingClientEntryPoint=!1}}}var b3={exports:{}};(function(e,t){(function(h,y){e.exports=y()})(vV,()=>(()=>{var r={50792:n=>{var T=Object.prototype.hasOwnProperty,i="~";function a(){}Object.create&&(a.prototype=Object.create(null),new a().__proto__||(i=!1));function x(s,f,c){this.fn=s,this.context=f,this.once=c||!1}function d(s,f,c,u,v){if(typeof c!="function")throw new TypeError("The listener must be a function");var p=new x(c,u||s,v),m=i?i+f:f;return s._events[m]?s._events[m].fn?s._events[m]=[s._events[m],p]:s._events[m].push(p):(s._events[m]=p,s._eventsCount++),s}function l(s,f){--s._eventsCount===0?s._events=new a:delete s._events[f]}function o(){this._events=new a,this._eventsCount=0}o.prototype.eventNames=function(){var f=[],c,u;if(this._eventsCount===0)return f;for(u in c=this._events)T.call(c,u)&&f.push(i?u.slice(1):u);return Object.getOwnPropertySymbols?f.concat(Object.getOwnPropertySymbols(c)):f},o.prototype.listeners=function(f){var c=i?i+f:f,u=this._events[c];if(!u)return[];if(u.fn)return[u.fn];for(var v=0,p=u.length,m=new Array(p);v<p;v++)m[v]=u[v].fn;return m},o.prototype.listenerCount=function(f){var c=i?i+f:f,u=this._events[c];return u?u.fn?1:u.length:0},o.prototype.emit=function(f,c,u,v,p,m){var g=i?i+f:f;if(!this._events[g])return!1;var C=this._events[g],M=arguments.length,b,w;if(C.fn){switch(C.once&&this.removeListener(f,C.fn,void 0,!0),M){case 1:return C.fn.call(C.context),!0;case 2:return C.fn.call(C.context,c),!0;case 3:return C.fn.call(C.context,c,u),!0;case 4:return C.fn.call(C.context,c,u,v),!0;case 5:return C.fn.call(C.context,c,u,v,p),!0;case 6:return C.fn.call(C.context,c,u,v,p,m),!0}for(w=1,b=new Array(M-1);w<M;w++)b[w-1]=arguments[w];C.fn.apply(C.context,b)}else{var R=C.length,A;for(w=0;w<R;w++)switch(C[w].once&&this.removeListener(f,C[w].fn,void 0,!0),M){case 1:C[w].fn.call(C[w].context);break;case 2:C[w].fn.call(C[w].context,c);break;case 3:C[w].fn.call(C[w].context,c,u);break;case 4:C[w].fn.call(C[w].context,c,u,v);break;default:if(!b)for(A=1,b=new Array(M-1);A<M;A++)b[A-1]=arguments[A];C[w].fn.apply(C[w].context,b)}}return!0},o.prototype.on=function(f,c,u){return d(this,f,c,u,!1)},o.prototype.once=function(f,c,u){return d(this,f,c,u,!0)},o.prototype.removeListener=function(f,c,u,v){var p=i?i+f:f;if(!this._events[p])return this;if(!c)return l(this,p),this;var m=this._events[p];if(m.fn)m.fn===c&&(!v||m.once)&&(!u||m.context===u)&&l(this,p);else{for(var g=0,C=[],M=m.length;g<M;g++)(m[g].fn!==c||v&&!m[g].once||u&&m[g].context!==u)&&C.push(m[g]);C.length?this._events[p]=C.length===1?C[0]:C:l(this,p)}return this},o.prototype.removeAllListeners=function(f){var c;return f?(c=i?i+f:f,this._events[c]&&l(this,c)):(this._events=new a,this._eventsCount=0),this},o.prototype.off=o.prototype.removeListener,o.prototype.addListener=o.prototype.on,o.prefixed=i,o.EventEmitter=o,n.exports=o},11517:(n,T,i)=>{/**
 * @author       samme
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=i(38829),x=function(d,l,o,s){for(var f=d[0],c=1;c<d.length;c++){var u=d[c];a(u,f,l,o,s),f=u}return d};n.exports=x},80318:(n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=i(66979),x=function(d,l,o,s,f){return a(d,"angle",l,o,s,f)};n.exports=x},60757:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(i,a,x){for(var d=0;d<i.length;d++){var l=i[d];a.call(x,l)}return i};n.exports=T},69927:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(i,a,x){x===void 0&&(x=0);for(var d=x;d<i.length;d++){var l=i[d],o=!0;for(var s in a)l[s]!==a[s]&&(o=!1);if(o)return l}return null};n.exports=T},32265:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(i,a,x){x===void 0&&(x=0);for(var d=i.length-1;d>=x;d--){var l=i[d],o=!0;for(var s in a)l[s]!==a[s]&&(o=!1);if(o)return l}return null};n.exports=T},94420:(n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=i(11879),x=i(60461),d=i(95540),l=i(29747),o=i(41481),s=new o({sys:{queueDepthSort:l,events:{once:l}}},0,0,1,1).setOrigin(0,0),f=function(c,u){u===void 0&&(u={});var v=u.hasOwnProperty("width"),p=u.hasOwnProperty("height"),m=d(u,"width",-1),g=d(u,"height",-1),C=d(u,"cellWidth",1),M=d(u,"cellHeight",C),b=d(u,"position",x.TOP_LEFT),w=d(u,"x",0),R=d(u,"y",0),A=0,L=0,D=m*C,G=g*M;s.setPosition(w,R),s.setSize(C,M);for(var B=0;B<c.length;B++)if(a(c[B],s,b),v&&m===-1)s.x+=C;else if(p&&g===-1)s.y+=M;else if(p&&!v){if(L+=M,s.y+=M,L===G&&(L=0,A+=C,s.y=R,s.x+=C,A===D))break}else if(A+=C,s.x+=C,A===D&&(A=0,L+=M,s.x=w,s.y+=M,L===G))break;return c};n.exports=f},41721:(n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=i(66979),x=function(d,l,o,s,f){return a(d,"alpha",l,o,s,f)};n.exports=x},67285:(n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=i(66979),x=function(d,l,o,s,f){return a(d,"x",l,o,s,f)};n.exports=x},9074:(n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=i(66979),x=function(d,l,o,s,f,c,u){return o==null&&(o=l),a(d,"x",l,s,c,u),a(d,"y",o,f,c,u)};n.exports=x},75222:(n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=i(66979),x=function(d,l,o,s,f){return a(d,"y",l,o,s,f)};n.exports=x},22983:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(i,a,x,d){x===void 0&&(x=0),d===void 0&&(d=6.28);for(var l=x,o=(d-x)/i.length,s=a.x,f=a.y,c=a.radius,u=0;u<i.length;u++)i[u].x=s+c*Math.cos(l),i[u].y=f+c*Math.sin(l),l+=o;return i};n.exports=T},95253:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(i,a,x,d){x===void 0&&(x=0),d===void 0&&(d=6.28);for(var l=x,o=(d-x)/i.length,s=a.width/2,f=a.height/2,c=0;c<i.length;c++)i[c].x=a.x+s*Math.cos(l),i[c].y=a.y+f*Math.sin(l),l+=o;return i};n.exports=T},88505:(n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=i(15258),x=i(26708),d=function(l,o,s){var f;s?f=x(o,s,l.length):f=a(o,l.length);for(var c=0;c<l.length;c++){var u=l[c],v=f[c];u.x=v.x,u.y=v.y}return l};n.exports=d},41346:(n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=i(14649),x=i(86003),d=i(49498),l=function(o,s,f){f===void 0&&(f=0);var c=a(s,!1,o.length);f>0?x(c,f):f<0&&d(c,Math.abs(f));for(var u=0;u<o.length;u++)o[u].x=c[u].x,o[u].y=c[u].y;return o};n.exports=l},11575:(n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=i(84993),x=function(d,l,o){var s=a({x1:l.x1,y1:l.y1,x2:l.x2,y2:l.y2},o),f=a({x1:l.x2,y1:l.y2,x2:l.x3,y2:l.y3},o),c=a({x1:l.x3,y1:l.y3,x2:l.x1,y2:l.y1},o);s.pop(),f.pop(),c.pop(),s=s.concat(f,c);for(var u=s.length/d.length,v=0,p=0;p<d.length;p++){var m=d[p],g=s[Math.floor(v)];m.x=g.x,m.y=g.y,v+=u}return d};n.exports=x},29953:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(i,a,x){for(var d=0;d<i.length;d++){var l=i[d];l.anims&&l.anims.play(a,x)}return i};n.exports=T},66979:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(i,a,x,d,l,o){d===void 0&&(d=0),l===void 0&&(l=0),o===void 0&&(o=1);var s,f=0,c=i.length;if(o===1)for(s=l;s<c;s++)i[s][a]+=x+f*d,f++;else for(s=l;s>=0;s--)i[s][a]+=x+f*d,f++;return i};n.exports=T},43967:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(i,a,x,d,l,o){d===void 0&&(d=0),l===void 0&&(l=0),o===void 0&&(o=1);var s,f=0,c=i.length;if(o===1)for(s=l;s<c;s++)i[s][a]=x+f*d,f++;else for(s=l;s>=0;s--)i[s][a]=x+f*d,f++;return i};n.exports=T},88926:(n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=i(28176),x=function(d,l){for(var o=0;o<d.length;o++)a(l,d[o]);return d};n.exports=x},33286:(n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=i(24820),x=function(d,l){for(var o=0;o<d.length;o++)a(l,d[o]);return d};n.exports=x},96e3:(n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=i(65822),x=function(d,l){for(var o=0;o<d.length;o++)a(l,d[o]);return d};n.exports=x},28789:(n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=i(26597),x=function(d,l){for(var o=0;o<d.length;o++)a(l,d[o]);return d};n.exports=x},97154:(n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=i(90260),x=function(d,l){for(var o=0;o<d.length;o++)a(l,d[o]);return d};n.exports=x},20510:(n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=i(66979),x=function(d,l,o,s,f){return a(d,"rotation",l,o,s,f)};n.exports=x},91051:(n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=i(1163),x=i(20339),d=function(l,o,s){for(var f=o.x,c=o.y,u=0;u<l.length;u++){var v=l[u];a(v,f,c,s,Math.max(1,x(v.x,v.y,f,c)))}return l};n.exports=d},76332:(n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=i(1163),x=function(d,l,o,s){var f=l.x,c=l.y;if(s===0)return d;for(var u=0;u<d.length;u++)a(d[u],f,c,o,s);return d};n.exports=x},61619:(n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=i(66979),x=function(d,l,o,s,f){return a(d,"scaleX",l,o,s,f)};n.exports=x},94868:(n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=i(66979),x=function(d,l,o,s,f,c,u){return o==null&&(o=l),a(d,"scaleX",l,s,c,u),a(d,"scaleY",o,f,c,u)};n.exports=x},95532:(n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=i(66979),x=function(d,l,o,s,f){return a(d,"scaleY",l,o,s,f)};n.exports=x},8689:(n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=i(43967),x=function(d,l,o,s,f){return a(d,"alpha",l,o,s,f)};n.exports=x},2645:(n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=i(43967),x=function(d,l,o,s){return a(d,"blendMode",l,0,o,s)};n.exports=x},32372:(n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=i(43967),x=function(d,l,o,s,f){return a(d,"depth",l,o,s,f)};n.exports=x},85373:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(i,a,x){for(var d=0;d<i.length;d++)i[d].setInteractive(a,x);return i};n.exports=T},81583:(n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=i(43967),x=function(d,l,o,s,f,c,u){return o==null&&(o=l),a(d,"originX",l,s,c,u),a(d,"originY",o,f,c,u),d.forEach(function(v){v.updateDisplayOrigin()}),d};n.exports=x},79939:(n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=i(43967),x=function(d,l,o,s,f){return a(d,"rotation",l,o,s,f)};n.exports=x},2699:(n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=i(43967),x=function(d,l,o,s,f,c,u){return o==null&&(o=l),a(d,"scaleX",l,s,c,u),a(d,"scaleY",o,f,c,u)};n.exports=x},98739:(n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=i(43967),x=function(d,l,o,s,f){return a(d,"scaleX",l,o,s,f)};n.exports=x},98476:(n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=i(43967),x=function(d,l,o,s,f){return a(d,"scaleY",l,o,s,f)};n.exports=x},6207:(n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=i(43967),x=function(d,l,o,s,f,c,u){return o==null&&(o=l),a(d,"scrollFactorX",l,s,c,u),a(d,"scrollFactorY",o,f,c,u)};n.exports=x},6607:(n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=i(43967),x=function(d,l,o,s,f){return a(d,"scrollFactorX",l,o,s,f)};n.exports=x},72248:(n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=i(43967),x=function(d,l,o,s,f){return a(d,"scrollFactorY",l,o,s,f)};n.exports=x},14036:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(i,a,x,d,l){for(var o=0;o<i.length;o++)i[o].setTint(a,x,d,l);return i};n.exports=T},50159:(n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=i(43967),x=function(d,l,o,s){return a(d,"visible",l,0,o,s)};n.exports=x},77597:(n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=i(43967),x=function(d,l,o,s,f){return a(d,"x",l,o,s,f)};n.exports=x},83194:(n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=i(43967),x=function(d,l,o,s,f,c,u){return o==null&&(o=l),a(d,"x",l,s,c,u),a(d,"y",o,f,c,u)};n.exports=x},67678:(n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=i(43967),x=function(d,l,o,s,f){return a(d,"y",l,o,s,f)};n.exports=x},35850:(n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=i(26099),x=function(d,l,o,s,f){s===void 0&&(s=0),f===void 0&&(f=new a);var c,u,v=d.length;if(v===1)c=d[0].x,u=d[0].y,d[0].x=l,d[0].y=o;else{var p=1,m=0;s===0&&(m=v-1,p=v-2),c=d[m].x,u=d[m].y,d[m].x=l,d[m].y=o;for(var g=0;g<v;g++)if(!(p>=v||p===-1)){var C=d[p],M=C.x,b=C.y;C.x=c,C.y=u,c=M,u=b,s===0?p--:p++}}return f.x=c,f.y=u,f};n.exports=x},8628:(n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=i(33680),x=function(d){return a(d)};n.exports=x},21837:(n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=i(7602),x=function(d,l,o,s,f){f===void 0&&(f=!1);var c=Math.abs(s-o)/d.length,u;if(f)for(u=0;u<d.length;u++)d[u][l]+=a(u*c,o,s);else for(u=0;u<d.length;u++)d[u][l]=a(u*c,o,s);return d};n.exports=x},21910:(n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=i(54261),x=function(d,l,o,s,f){f===void 0&&(f=!1);var c=Math.abs(s-o)/d.length,u;if(f)for(u=0;u<d.length;u++)d[u][l]+=a(u*c,o,s);else for(u=0;u<d.length;u++)d[u][l]=a(u*c,o,s);return d};n.exports=x},62054:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(i,a,x,d,l){if(l===void 0&&(l=!1),i.length===0)return i;if(i.length===1)return l?i[0][a]+=(d+x)/2:i[0][a]=(d+x)/2,i;var o=Math.abs(d-x)/(i.length-1),s;if(l)for(s=0;s<i.length;s++)i[s][a]+=s*o+x;else for(s=0;s<i.length;s++)i[s][a]=s*o+x;return i};n.exports=T},79815:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(i){for(var a=0;a<i.length;a++)i[a].visible=!i[a].visible;return i};n.exports=T},39665:(n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @author       samme <samme.npm@gmail.com>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=i(15994),x=function(d,l,o){o===void 0&&(o=0);for(var s=0;s<d.length;s++){var f=d[s];f.x=a(f.x,l.left-o,l.right+o),f.y=a(f.y,l.top-o,l.bottom+o)}return d};n.exports=x},61061:(n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports={AlignTo:i(11517),Angle:i(80318),Call:i(60757),GetFirst:i(69927),GetLast:i(32265),GridAlign:i(94420),IncAlpha:i(41721),IncX:i(67285),IncXY:i(9074),IncY:i(75222),PlaceOnCircle:i(22983),PlaceOnEllipse:i(95253),PlaceOnLine:i(88505),PlaceOnRectangle:i(41346),PlaceOnTriangle:i(11575),PlayAnimation:i(29953),PropertyValueInc:i(66979),PropertyValueSet:i(43967),RandomCircle:i(88926),RandomEllipse:i(33286),RandomLine:i(96e3),RandomRectangle:i(28789),RandomTriangle:i(97154),Rotate:i(20510),RotateAround:i(91051),RotateAroundDistance:i(76332),ScaleX:i(61619),ScaleXY:i(94868),ScaleY:i(95532),SetAlpha:i(8689),SetBlendMode:i(2645),SetDepth:i(32372),SetHitArea:i(85373),SetOrigin:i(81583),SetRotation:i(79939),SetScale:i(2699),SetScaleX:i(98739),SetScaleY:i(98476),SetScrollFactor:i(6207),SetScrollFactorX:i(6607),SetScrollFactorY:i(72248),SetTint:i(14036),SetVisible:i(50159),SetX:i(77597),SetXY:i(83194),SetY:i(67678),ShiftPosition:i(35850),Shuffle:i(8628),SmootherStep:i(21910),SmoothStep:i(21837),Spread:i(62054),ToggleVisible:i(79815),WrapInRectangle:i(39665)}},42099:(n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=i(45319),x=i(83419),d=i(74943),l=i(81957),o=i(41138),s=i(35154),f=i(90126),c=new x({initialize:function(v,p,m){this.manager=v,this.key=p,this.type="frame",this.frames=this.getFrames(v.textureManager,s(m,"frames",[]),s(m,"defaultTextureKey",null),s(m,"sortFrames",!0)),this.frameRate=s(m,"frameRate",null),this.duration=s(m,"duration",null),this.msPerFrame,this.skipMissedFrames=s(m,"skipMissedFrames",!0),this.delay=s(m,"delay",0),this.repeat=s(m,"repeat",0),this.repeatDelay=s(m,"repeatDelay",0),this.yoyo=s(m,"yoyo",!1),this.showBeforeDelay=s(m,"showBeforeDelay",!1),this.showOnStart=s(m,"showOnStart",!1),this.hideOnComplete=s(m,"hideOnComplete",!1),this.randomFrame=s(m,"randomFrame",!1),this.paused=!1,this.calculateDuration(this,this.getTotalFrames(),this.duration,this.frameRate),this.manager.on&&(this.manager.on(d.PAUSE_ALL,this.pause,this),this.manager.on(d.RESUME_ALL,this.resume,this))},getTotalFrames:function(){return this.frames.length},calculateDuration:function(u,v,p,m){p===null&&m===null?(u.frameRate=24,u.duration=24/v*1e3):p&&m===null?(u.duration=p,u.frameRate=v/(p/1e3)):(u.frameRate=m,u.duration=v/m*1e3),u.msPerFrame=1e3/u.frameRate},addFrame:function(u){return this.addFrameAt(this.frames.length,u)},addFrameAt:function(u,v){var p=this.getFrames(this.manager.textureManager,v);if(p.length>0){if(u===0)this.frames=p.concat(this.frames);else if(u===this.frames.length)this.frames=this.frames.concat(p);else{var m=this.frames.slice(0,u),g=this.frames.slice(u);this.frames=m.concat(p,g)}this.updateFrameSequence()}return this},checkFrame:function(u){return u>=0&&u<this.frames.length},getFirstTick:function(u){u.accumulator=0,u.nextTick=u.msPerFrame||u.currentFrame.duration},getFrameAt:function(u){return this.frames[u]},getFrames:function(u,v,p,m){m===void 0&&(m=!0);var g=[],C,M,b=1,w,R;if(typeof v=="string"){if(R=v,!u.exists(R))return console.warn('Texture "%s" not found',R),g;var A=u.get(R),L=A.getFrameNames();m&&f(L),v=[],L.forEach(function(z){v.push({key:R,frame:z})})}if(!Array.isArray(v)||v.length===0)return g;for(w=0;w<v.length;w++){var D=v[w],G=s(D,"key",p);if(G){var B=s(D,"frame",0),I=u.getFrame(G,B);if(!I){console.warn('Texture "%s" not found',G);continue}M=new o(G,B,b,I),M.duration=s(D,"duration",0),M.isFirst=!C,C&&(C.nextFrame=M,M.prevFrame=C),g.push(M),C=M,b++}}if(g.length>0){M.isLast=!0,M.nextFrame=g[0],g[0].prevFrame=M;var k=1/(g.length-1);for(w=0;w<g.length;w++)g[w].progress=w*k}return g},getNextTick:function(u){u.accumulator-=u.nextTick,u.nextTick=u.msPerFrame||u.currentFrame.duration},getFrameByProgress:function(u){return u=a(u,0,1),l(u,this.frames,"progress")},nextFrame:function(u){var v=u.currentFrame;v.isLast?u.yoyo?this.handleYoyoFrame(u,!1):u.repeatCounter>0?u.inReverse&&u.forward?u.forward=!1:this.repeatAnimation(u):u.complete():this.updateAndGetNextTick(u,v.nextFrame)},handleYoyoFrame:function(u,v){if(v||(v=!1),u.inReverse===!v&&u.repeatCounter>0){(u.repeatDelay===0||u.pendingRepeat)&&(u.forward=v),this.repeatAnimation(u);return}if(u.inReverse!==v&&u.repeatCounter===0){u.complete();return}u.forward=v;var p=v?u.currentFrame.nextFrame:u.currentFrame.prevFrame;this.updateAndGetNextTick(u,p)},getLastFrame:function(){return this.frames[this.frames.length-1]},previousFrame:function(u){var v=u.currentFrame;v.isFirst?u.yoyo?this.handleYoyoFrame(u,!0):u.repeatCounter>0?u.inReverse&&!u.forward?this.repeatAnimation(u):(u.forward=!0,this.repeatAnimation(u)):u.complete():this.updateAndGetNextTick(u,v.prevFrame)},updateAndGetNextTick:function(u,v){u.setCurrentFrame(v),this.getNextTick(u)},removeFrame:function(u){var v=this.frames.indexOf(u);return v!==-1&&this.removeFrameAt(v),this},removeFrameAt:function(u){return this.frames.splice(u,1),this.updateFrameSequence(),this},repeatAnimation:function(u){if(u._pendingStop===2){if(u._pendingStopValue===0)return u.stop();u._pendingStopValue--}u.repeatDelay>0&&!u.pendingRepeat?(u.pendingRepeat=!0,u.accumulator-=u.nextTick,u.nextTick+=u.repeatDelay):(u.repeatCounter--,u.forward?u.setCurrentFrame(u.currentFrame.nextFrame):u.setCurrentFrame(u.currentFrame.prevFrame),u.isPlaying&&(this.getNextTick(u),u.handleRepeat()))},toJSON:function(){var u={key:this.key,type:this.type,frames:[],frameRate:this.frameRate,duration:this.duration,skipMissedFrames:this.skipMissedFrames,delay:this.delay,repeat:this.repeat,repeatDelay:this.repeatDelay,yoyo:this.yoyo,showBeforeDelay:this.showBeforeDelay,showOnStart:this.showOnStart,randomFrame:this.randomFrame,hideOnComplete:this.hideOnComplete};return this.frames.forEach(function(v){u.frames.push(v.toJSON())}),u},updateFrameSequence:function(){for(var u=this.frames.length,v=1/(u-1),p,m=0;m<u;m++)p=this.frames[m],p.index=m+1,p.isFirst=!1,p.isLast=!1,p.progress=m*v,m===0?(p.isFirst=!0,u===1?(p.isLast=!0,p.nextFrame=p,p.prevFrame=p):(p.isLast=!1,p.prevFrame=this.frames[u-1],p.nextFrame=this.frames[m+1])):m===u-1&&u>1?(p.isLast=!0,p.prevFrame=this.frames[u-2],p.nextFrame=this.frames[0]):u>1&&(p.prevFrame=this.frames[m-1],p.nextFrame=this.frames[m+1]);return this},pause:function(){return this.paused=!0,this},resume:function(){return this.paused=!1,this},destroy:function(){this.manager.off&&(this.manager.off(d.PAUSE_ALL,this.pause,this),this.manager.off(d.RESUME_ALL,this.resume,this)),this.manager.remove(this.key);for(var u=0;u<this.frames.length;u++)this.frames[u].destroy();this.frames=[],this.manager=null}});n.exports=c},41138:(n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=i(83419),x=new a({initialize:function(l,o,s,f,c){c===void 0&&(c=!1),this.textureKey=l,this.textureFrame=o,this.index=s,this.frame=f,this.isFirst=!1,this.isLast=!1,this.prevFrame=null,this.nextFrame=null,this.duration=0,this.progress=0,this.isKeyFrame=c},toJSON:function(){return{key:this.textureKey,frame:this.textureFrame,duration:this.duration,keyframe:this.isKeyFrame}},destroy:function(){this.frame=void 0}});n.exports=x},60848:(n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=i(42099),x=i(83419),d=i(90330),l=i(50792),o=i(74943),s=i(8443),f=i(95540),c=i(35154),u=i(36383),v=i(20283),p=i(41836),m=new x({Extends:l,initialize:function(C){l.call(this),this.game=C,this.textureManager=null,this.globalTimeScale=1,this.anims=new d,this.mixes=new d,this.paused=!1,this.name="AnimationManager",C.events.once(s.BOOT,this.boot,this)},boot:function(){this.textureManager=this.game.textures,this.game.events.once(s.DESTROY,this.destroy,this)},addMix:function(g,C,M){var b=this.anims,w=this.mixes,R=typeof g=="string"?g:g.key,A=typeof C=="string"?C:C.key;if(b.has(R)&&b.has(A)){var L=w.get(R);L||(L={}),L[A]=M,w.set(R,L)}return this},removeMix:function(g,C){var M=this.mixes,b=typeof g=="string"?g:g.key,w=M.get(b);if(w)if(C){var R=typeof C=="string"?C:C.key;w.hasOwnProperty(R)&&delete w[R]}else C||M.delete(b);return this},getMix:function(g,C){var M=this.mixes,b=typeof g=="string"?g:g.key,w=typeof C=="string"?C:C.key,R=M.get(b);return R&&R.hasOwnProperty(w)?R[w]:0},add:function(g,C){return this.anims.has(g)?(console.warn("Animation key exists: "+g),this):(C.key=g,this.anims.set(g,C),this.emit(o.ADD_ANIMATION,g,C),this)},exists:function(g){return this.anims.has(g)},createFromAseprite:function(g,C,M){var b=[],w=this.game.cache.json.get(g);if(!w)return console.warn("No Aseprite data found for: "+g),b;var R=this,A=c(w,"meta",null),L=c(w,"frames",null);if(A&&L){var D=c(A,"frameTags",[]);D.forEach(function(G){var B=[],I=f(G,"name",null),k=f(G,"from",0),z=f(G,"to",0),X=f(G,"direction","forward");if(I&&(!C||C&&C.indexOf(I)>-1)){for(var H=0,Q=k;Q<=z;Q++){var J=Q.toString(),Y=L[J];if(Y){var $=f(Y,"duration",u.MAX_SAFE_INTEGER);B.push({key:g,frame:J,duration:$}),H+=$}}X==="reverse"&&(B=B.reverse());var V={key:I,frames:B,duration:H,yoyo:X==="pingpong"},U;M?M.anims&&(U=M.anims.create(V)):U=R.create(V),U&&b.push(U)}})}return b},create:function(g){var C=g.key,M=!1;return C&&(M=this.get(C),M?console.warn("AnimationManager key already exists: "+C):(M=new a(this,C,g),this.anims.set(C,M),this.emit(o.ADD_ANIMATION,C,M))),M},fromJSON:function(g,C){C===void 0&&(C=!1),C&&this.anims.clear(),typeof g=="string"&&(g=JSON.parse(g));var M=[];if(g.hasOwnProperty("anims")&&Array.isArray(g.anims)){for(var b=0;b<g.anims.length;b++)M.push(this.create(g.anims[b]));g.hasOwnProperty("globalTimeScale")&&(this.globalTimeScale=g.globalTimeScale)}else g.hasOwnProperty("key")&&g.type==="frame"&&M.push(this.create(g));return M},generateFrameNames:function(g,C){var M=c(C,"prefix",""),b=c(C,"start",0),w=c(C,"end",0),R=c(C,"suffix",""),A=c(C,"zeroPad",0),L=c(C,"outputArray",[]),D=c(C,"frames",!1);if(!this.textureManager.exists(g))return console.warn('Texture "%s" not found',g),L;var G=this.textureManager.get(g);if(!G)return L;var B;if(C)for(D||(D=v(b,w)),B=0;B<D.length;B++){var I=M+p(D[B],A,"0",1)+R;G.has(I)?L.push({key:g,frame:I}):console.warn('Frame "%s" not found in texture "%s"',I,g)}else for(D=G.getFrameNames(),B=0;B<D.length;B++)L.push({key:g,frame:D[B]});return L},generateFrameNumbers:function(g,C){var M=c(C,"start",0),b=c(C,"end",-1),w=c(C,"first",!1),R=c(C,"outputArray",[]),A=c(C,"frames",!1);if(!this.textureManager.exists(g))return console.warn('Texture "%s" not found',g),R;var L=this.textureManager.get(g);if(!L)return R;w&&L.has(w)&&R.push({key:g,frame:w}),A||(b===-1&&(b=L.frameTotal-2),A=v(M,b));for(var D=0;D<A.length;D++){var G=A[D];L.has(G)?R.push({key:g,frame:G}):console.warn('Frame "%s" not found in texture "%s"',G,g)}return R},get:function(g){return this.anims.get(g)},getAnimsFromTexture:function(g){for(var C=this.textureManager.get(g),M=C.key,b=this.anims.getArray(),w=[],R=0;R<b.length;R++)for(var A=b[R],L=A.frames,D=0;D<L.length;D++)if(L[D].textureKey===M){w.push(A.key);break}return w},pauseAll:function(){return this.paused||(this.paused=!0,this.emit(o.PAUSE_ALL)),this},play:function(g,C){Array.isArray(C)||(C=[C]);for(var M=0;M<C.length;M++)C[M].anims.play(g);return this},staggerPlay:function(g,C,M,b){M===void 0&&(M=0),b===void 0&&(b=!0),Array.isArray(C)||(C=[C]);var w=C.length;b||w--;for(var R=0;R<C.length;R++){var A=M<0?Math.abs(M)*(w-R):M*R;C[R].anims.playAfterDelay(g,A)}return this},remove:function(g){var C=this.get(g);return C&&(this.emit(o.REMOVE_ANIMATION,g,C),this.anims.delete(g),this.removeMix(g)),C},resumeAll:function(){return this.paused&&(this.paused=!1,this.emit(o.RESUME_ALL)),this},toJSON:function(g){var C={anims:[],globalTimeScale:this.globalTimeScale};return g!==void 0&&g!==""?C.anims.push(this.anims.get(g).toJSON()):this.anims.each(function(M,b){C.anims.push(b.toJSON())}),C},destroy:function(){this.anims.clear(),this.mixes.clear(),this.textureManager=null,this.game=null}});n.exports=m},9674:(n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=i(42099),x=i(30976),d=i(83419),l=i(90330),o=i(74943),s=i(95540),f=new d({initialize:function(u){this.parent=u,this.animationManager=u.scene.sys.anims,this.animationManager.on(o.REMOVE_ANIMATION,this.globalRemove,this),this.textureManager=this.animationManager.textureManager,this.anims=null,this.isPlaying=!1,this.hasStarted=!1,this.currentAnim=null,this.currentFrame=null,this.nextAnim=null,this.nextAnimsQueue=[],this.timeScale=1,this.frameRate=0,this.duration=0,this.msPerFrame=0,this.skipMissedFrames=!0,this.randomFrame=!1,this.delay=0,this.repeat=0,this.repeatDelay=0,this.yoyo=!1,this.showBeforeDelay=!1,this.showOnStart=!1,this.hideOnComplete=!1,this.forward=!0,this.inReverse=!1,this.accumulator=0,this.nextTick=0,this.delayCounter=0,this.repeatCounter=0,this.pendingRepeat=!1,this._paused=!1,this._wasPlaying=!1,this._pendingStop=0,this._pendingStopValue},chain:function(c){var u=this.parent;if(c===void 0)return this.nextAnimsQueue.length=0,this.nextAnim=null,u;Array.isArray(c)||(c=[c]);for(var v=0;v<c.length;v++){var p=c[v];this.nextAnim?this.nextAnimsQueue.push(p):this.nextAnim=p}return this.parent},getName:function(){return this.currentAnim?this.currentAnim.key:""},getFrameName:function(){return this.currentFrame?this.currentFrame.textureFrame:""},load:function(c){this.isPlaying&&this.stop();var u=this.animationManager,v=typeof c=="string"?c:s(c,"key",null),p=this.exists(v)?this.get(v):u.get(v);if(!p)console.warn("Missing animation: "+v);else{this.currentAnim=p;var m=p.getTotalFrames(),g=s(c,"frameRate",p.frameRate),C=s(c,"duration",p.duration);p.calculateDuration(this,m,C,g),this.delay=s(c,"delay",p.delay),this.repeat=s(c,"repeat",p.repeat),this.repeatDelay=s(c,"repeatDelay",p.repeatDelay),this.yoyo=s(c,"yoyo",p.yoyo),this.showBeforeDelay=s(c,"showBeforeDelay",p.showBeforeDelay),this.showOnStart=s(c,"showOnStart",p.showOnStart),this.hideOnComplete=s(c,"hideOnComplete",p.hideOnComplete),this.skipMissedFrames=s(c,"skipMissedFrames",p.skipMissedFrames),this.randomFrame=s(c,"randomFrame",p.randomFrame),this.timeScale=s(c,"timeScale",this.timeScale);var M=s(c,"startFrame",0);M>m&&(M=0),this.randomFrame&&(M=x(0,m-1));var b=p.frames[M];M===0&&!this.forward&&(b=p.getLastFrame()),this.currentFrame=b}return this.parent},pause:function(c){return this._paused||(this._paused=!0,this._wasPlaying=this.isPlaying,this.isPlaying=!1),c!==void 0&&this.setCurrentFrame(c),this.parent},resume:function(c){return this._paused&&(this._paused=!1,this.isPlaying=this._wasPlaying),c!==void 0&&this.setCurrentFrame(c),this.parent},playAfterDelay:function(c,u){if(!this.isPlaying)this.delayCounter=u,this.play(c,!0);else{var v=this.nextAnim,p=this.nextAnimsQueue;v&&p.unshift(v),this.nextAnim=c,this._pendingStop=1,this._pendingStopValue=u}return this.parent},playAfterRepeat:function(c,u){if(u===void 0&&(u=1),!this.isPlaying)this.play(c);else{var v=this.nextAnim,p=this.nextAnimsQueue;v&&p.unshift(v),this.repeatCounter!==-1&&u>this.repeatCounter&&(u=this.repeatCounter),this.nextAnim=c,this._pendingStop=2,this._pendingStopValue=u}return this.parent},play:function(c,u){u===void 0&&(u=!1);var v=this.currentAnim,p=this.parent,m=typeof c=="string"?c:c.key;if(u&&this.isPlaying&&v.key===m)return p;if(v&&this.isPlaying){var g=this.animationManager.getMix(v.key,c);if(g>0)return this.playAfterDelay(c,g)}return this.forward=!0,this.inReverse=!1,this._paused=!1,this._wasPlaying=!0,this.startAnimation(c)},playReverse:function(c,u){u===void 0&&(u=!1);var v=typeof c=="string"?c:c.key;return u&&this.isPlaying&&this.currentAnim.key===v?this.parent:(this.forward=!1,this.inReverse=!0,this._paused=!1,this._wasPlaying=!0,this.startAnimation(c))},startAnimation:function(c){this.load(c);var u=this.currentAnim,v=this.parent;return u&&(this.repeatCounter=this.repeat===-1?Number.MAX_VALUE:this.repeat,u.getFirstTick(this),this.isPlaying=!0,this.pendingRepeat=!1,this.hasStarted=!1,this._pendingStop=0,this._pendingStopValue=0,this._paused=!1,this.delayCounter+=this.delay,this.delayCounter===0?this.handleStart():this.showBeforeDelay&&this.setCurrentFrame(this.currentFrame)),v},handleStart:function(){this.showOnStart&&this.parent.setVisible(!0),this.setCurrentFrame(this.currentFrame),this.hasStarted=!0,this.emitEvents(o.ANIMATION_START)},handleRepeat:function(){this.pendingRepeat=!1,this.emitEvents(o.ANIMATION_REPEAT)},handleStop:function(){this._pendingStop=0,this.isPlaying=!1,this.emitEvents(o.ANIMATION_STOP)},handleComplete:function(){this._pendingStop=0,this.isPlaying=!1,this.hideOnComplete&&this.parent.setVisible(!1),this.emitEvents(o.ANIMATION_COMPLETE,o.ANIMATION_COMPLETE_KEY)},emitEvents:function(c,u){var v=this.currentAnim;if(v){var p=this.currentFrame,m=this.parent,g=p.textureFrame;m.emit(c,v,p,m,g),u&&m.emit(u+v.key,v,p,m,g)}},reverse:function(){return this.isPlaying&&(this.inReverse=!this.inReverse,this.forward=!this.forward),this.parent},getProgress:function(){var c=this.currentFrame;if(!c)return 0;var u=c.progress;return this.inReverse&&(u*=-1),u},setProgress:function(c){return this.forward||(c=1-c),this.setCurrentFrame(this.currentAnim.getFrameByProgress(c)),this.parent},setRepeat:function(c){return this.repeatCounter=c===-1?Number.MAX_VALUE:c,this.parent},globalRemove:function(c,u){u===void 0&&(u=this.currentAnim),this.isPlaying&&u.key===this.currentAnim.key&&(this.stop(),this.setCurrentFrame(this.currentAnim.frames[0]))},restart:function(c,u){c===void 0&&(c=!1),u===void 0&&(u=!1);var v=this.currentAnim,p=this.parent;return v?(u&&(this.repeatCounter=this.repeat===-1?Number.MAX_VALUE:this.repeat),v.getFirstTick(this),this.emitEvents(o.ANIMATION_RESTART),this.isPlaying=!0,this.pendingRepeat=!1,this.hasStarted=!c,this._pendingStop=0,this._pendingStopValue=0,this._paused=!1,this.setCurrentFrame(v.frames[0]),this.parent):p},complete:function(){if(this._pendingStop=0,this.isPlaying=!1,this.currentAnim&&this.handleComplete(),this.nextAnim){var c=this.nextAnim;this.nextAnim=this.nextAnimsQueue.length>0?this.nextAnimsQueue.shift():null,this.play(c)}return this.parent},stop:function(){if(this._pendingStop=0,this.isPlaying=!1,this.delayCounter=0,this.currentAnim&&this.handleStop(),this.nextAnim){var c=this.nextAnim;this.nextAnim=this.nextAnimsQueue.shift(),this.play(c)}return this.parent},stopAfterDelay:function(c){return this._pendingStop=1,this._pendingStopValue=c,this.parent},stopAfterRepeat:function(c){return c===void 0&&(c=1),this.repeatCounter!==-1&&c>this.repeatCounter&&(c=this.repeatCounter),this._pendingStop=2,this._pendingStopValue=c,this.parent},stopOnFrame:function(c){return this._pendingStop=3,this._pendingStopValue=c,this.parent},getTotalFrames:function(){return this.currentAnim?this.currentAnim.getTotalFrames():0},update:function(c,u){var v=this.currentAnim;if(!(!this.isPlaying||!v||v.paused)){if(this.accumulator+=u*this.timeScale*this.animationManager.globalTimeScale,this._pendingStop===1&&(this._pendingStopValue-=u,this._pendingStopValue<=0))return this.stop();if(!this.hasStarted)this.accumulator>=this.delayCounter&&(this.accumulator-=this.delayCounter,this.handleStart());else if(this.accumulator>=this.nextTick&&(this.forward?v.nextFrame(this):v.previousFrame(this),this.isPlaying&&this._pendingStop===0&&this.skipMissedFrames&&this.accumulator>this.nextTick)){var p=0;do this.forward?v.nextFrame(this):v.previousFrame(this),p++;while(this.isPlaying&&this.accumulator>this.nextTick&&p<60)}}},setCurrentFrame:function(c){var u=this.parent;return this.currentFrame=c,u.texture=c.frame.texture,u.frame=c.frame,u.isCropped&&u.frame.updateCropUVs(u._crop,u.flipX,u.flipY),c.setAlpha&&(u.alpha=c.alpha),u.setSizeToFrame(),u._originComponent&&(c.frame.customPivot?u.setOrigin(c.frame.pivotX,c.frame.pivotY):u.updateDisplayOrigin()),this.isPlaying&&this.hasStarted&&(this.emitEvents(o.ANIMATION_UPDATE),this._pendingStop===3&&this._pendingStopValue===c&&this.stop()),u},nextFrame:function(){return this.currentAnim&&this.currentAnim.nextFrame(this),this.parent},previousFrame:function(){return this.currentAnim&&this.currentAnim.previousFrame(this),this.parent},get:function(c){return this.anims?this.anims.get(c):null},exists:function(c){return this.anims?this.anims.has(c):!1},create:function(c){var u=c.key,v=!1;return u&&(v=this.get(u),v?console.warn("Animation key already exists: "+u):(v=new a(this,u,c),this.anims||(this.anims=new l),this.anims.set(u,v))),v},createFromAseprite:function(c,u){return this.animationManager.createFromAseprite(c,u,this.parent)},generateFrameNames:function(c,u){return this.animationManager.generateFrameNames(c,u)},generateFrameNumbers:function(c,u){return this.animationManager.generateFrameNumbers(c,u)},remove:function(c){var u=this.get(c);return u&&(this.currentAnim===u&&this.stop(),this.anims.delete(c)),u},destroy:function(){this.animationManager.off(o.REMOVE_ANIMATION,this.globalRemove,this),this.anims&&this.anims.clear(),this.animationManager=null,this.parent=null,this.nextAnim=null,this.nextAnimsQueue.length=0,this.currentAnim=null,this.currentFrame=null},isPaused:{get:function(){return this._paused}}});n.exports=f},57090:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="add"},25312:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="animationcomplete"},89580:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="animationcomplete-"},52860:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="animationrepeat"},63850:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="animationrestart"},99085:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="animationstart"},28087:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="animationstop"},1794:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="animationupdate"},52562:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="pauseall"},57953:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="remove"},68339:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="resumeall"},74943:(n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports={ADD_ANIMATION:i(57090),ANIMATION_COMPLETE:i(25312),ANIMATION_COMPLETE_KEY:i(89580),ANIMATION_REPEAT:i(52860),ANIMATION_RESTART:i(63850),ANIMATION_START:i(99085),ANIMATION_STOP:i(28087),ANIMATION_UPDATE:i(1794),PAUSE_ALL:i(52562),REMOVE_ANIMATION:i(57953),RESUME_ALL:i(68339)}},60421:(n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports={Animation:i(42099),AnimationFrame:i(41138),AnimationManager:i(60848),AnimationState:i(9674),Events:i(74943)}},2161:(n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=i(83419),x=i(90330),d=i(50792),l=i(24736),o=new a({initialize:function(){this.entries=new x,this.events=new d},add:function(s,f){return this.entries.set(s,f),this.events.emit(l.ADD,this,s,f),this},has:function(s){return this.entries.has(s)},exists:function(s){return this.entries.has(s)},get:function(s){return this.entries.get(s)},remove:function(s){var f=this.get(s);return f&&(this.entries.delete(s),this.events.emit(l.REMOVE,this,s,f.data)),this},getKeys:function(){return this.entries.keys()},destroy:function(){this.entries.clear(),this.events.removeAllListeners(),this.entries=null,this.events=null}});n.exports=o},24047:(n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=i(2161),x=i(83419),d=i(8443),l=new x({initialize:function(s){this.game=s,this.binary=new a,this.bitmapFont=new a,this.json=new a,this.physics=new a,this.shader=new a,this.audio=new a,this.video=new a,this.text=new a,this.html=new a,this.obj=new a,this.tilemap=new a,this.xml=new a,this.custom={},this.game.events.once(d.DESTROY,this.destroy,this)},addCustom:function(o){return this.custom.hasOwnProperty(o)||(this.custom[o]=new a),this.custom[o]},destroy:function(){for(var o=["binary","bitmapFont","json","physics","shader","audio","video","text","html","obj","tilemap","xml"],s=0;s<o.length;s++)this[o[s]].destroy(),this[o[s]]=null;for(var f in this.custom)this.custom[f].destroy();this.custom=null,this.game=null}});n.exports=l},51464:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="add"},59261:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="remove"},24736:(n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports={ADD:i(51464),REMOVE:i(59261)}},83388:(n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports={BaseCache:i(2161),CacheManager:i(24047),Events:i(24736)}},71911:(n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=i(83419),x=i(31401),d=i(39506),l=i(50792),o=i(19715),s=i(87841),f=i(61340),c=i(80333),u=i(26099),v=new a({Extends:l,Mixins:[x.AlphaSingle,x.Visible],initialize:function(m,g,C,M){m===void 0&&(m=0),g===void 0&&(g=0),C===void 0&&(C=0),M===void 0&&(M=0),l.call(this),this.scene,this.sceneManager,this.scaleManager,this.cameraManager,this.id=0,this.name="",this.roundPixels=!1,this.useBounds=!1,this.worldView=new s,this.dirty=!0,this._x=m,this._y=g,this._width=C,this._height=M,this._bounds=new s,this._scrollX=0,this._scrollY=0,this._zoomX=1,this._zoomY=1,this._rotation=0,this.matrix=new f,this.transparent=!0,this.backgroundColor=c("rgba(0,0,0,0)"),this.disableCull=!1,this.culledObjects=[],this.midPoint=new u(C/2,M/2),this.originX=.5,this.originY=.5,this._customViewport=!1,this.mask=null,this._maskCamera=null,this.renderList=[],this.isSceneCamera=!0,this.renderRoundPixels=!0},addToRenderList:function(p){this.renderList.push(p)},setOrigin:function(p,m){return p===void 0&&(p=.5),m===void 0&&(m=p),this.originX=p,this.originY=m,this},getScroll:function(p,m,g){g===void 0&&(g=new u);var C=this.width*.5,M=this.height*.5;return g.x=p-C,g.y=m-M,this.useBounds&&(g.x=this.clampX(g.x),g.y=this.clampY(g.y)),g},centerOnX:function(p){var m=this.width*.5;return this.midPoint.x=p,this.scrollX=p-m,this.useBounds&&(this.scrollX=this.clampX(this.scrollX)),this},centerOnY:function(p){var m=this.height*.5;return this.midPoint.y=p,this.scrollY=p-m,this.useBounds&&(this.scrollY=this.clampY(this.scrollY)),this},centerOn:function(p,m){return this.centerOnX(p),this.centerOnY(m),this},centerToBounds:function(){if(this.useBounds){var p=this._bounds,m=this.width*.5,g=this.height*.5;this.midPoint.set(p.centerX,p.centerY),this.scrollX=p.centerX-m,this.scrollY=p.centerY-g}return this},centerToSize:function(){return this.scrollX=this.width*.5,this.scrollY=this.height*.5,this},cull:function(p){if(this.disableCull)return p;var m=this.matrix.matrix,g=m[0],C=m[1],M=m[2],b=m[3],w=g*b-C*M;if(!w)return p;var R=m[4],A=m[5],L=this.scrollX,D=this.scrollY,G=this.width,B=this.height,I=this.y,k=I+B,z=this.x,X=z+G,H=this.culledObjects,Q=p.length;w=1/w,H.length=0;for(var J=0;J<Q;++J){var Y=p[J];if(!Y.hasOwnProperty("width")||Y.parentContainer){H.push(Y);continue}var $=Y.width,V=Y.height,U=Y.x-L*Y.scrollFactorX-$*Y.originX,K=Y.y-D*Y.scrollFactorY-V*Y.originY,j=U*g+K*M+R,_=U*C+K*b+A,tt=(U+$)*g+(K+V)*M+R,rt=(U+$)*C+(K+V)*b+A;tt>z&&j<X&&rt>I&&_<k&&H.push(Y)}return H},getWorldPoint:function(p,m,g){g===void 0&&(g=new u);var C=this.matrix.matrix,M=C[0],b=C[1],w=C[2],R=C[3],A=C[4],L=C[5],D=M*R-b*w;if(!D)return g.x=p,g.y=m,g;D=1/D;var G=R*D,B=-b*D,I=-w*D,k=M*D,z=(w*L-R*A)*D,X=(b*A-M*L)*D,H=Math.cos(this.rotation),Q=Math.sin(this.rotation),J=this.zoomX,Y=this.zoomY,$=this.scrollX,V=this.scrollY,U=p+($*H-V*Q)*J,K=m+($*Q+V*H)*Y;return g.x=U*G+K*I+z,g.y=U*B+K*k+X,g},ignore:function(p){var m=this.id;Array.isArray(p)||(p=[p]);for(var g=0;g<p.length;g++){var C=p[g];Array.isArray(C)?this.ignore(C):C.isParent?this.ignore(C.getChildren()):C.cameraFilter|=m}return this},clampX:function(p){var m=this._bounds,g=this.displayWidth,C=m.x+(g-this.width)/2,M=Math.max(C,C+m.width-g);return p<C?p=C:p>M&&(p=M),p},clampY:function(p){var m=this._bounds,g=this.displayHeight,C=m.y+(g-this.height)/2,M=Math.max(C,C+m.height-g);return p<C?p=C:p>M&&(p=M),p},removeBounds:function(){return this.useBounds=!1,this.dirty=!0,this._bounds.setEmpty(),this},setAngle:function(p){return p===void 0&&(p=0),this.rotation=d(p),this},setBackgroundColor:function(p){return p===void 0&&(p="rgba(0,0,0,0)"),this.backgroundColor=c(p),this.transparent=this.backgroundColor.alpha===0,this},setBounds:function(p,m,g,C,M){return M===void 0&&(M=!1),this._bounds.setTo(p,m,g,C),this.dirty=!0,this.useBounds=!0,M?this.centerToBounds():(this.scrollX=this.clampX(this.scrollX),this.scrollY=this.clampY(this.scrollY)),this},getBounds:function(p){p===void 0&&(p=new s);var m=this._bounds;return p.setTo(m.x,m.y,m.width,m.height),p},setName:function(p){return p===void 0&&(p=""),this.name=p,this},setPosition:function(p,m){return m===void 0&&(m=p),this.x=p,this.y=m,this},setRotation:function(p){return p===void 0&&(p=0),this.rotation=p,this},setRoundPixels:function(p){return this.roundPixels=p,this},setScene:function(p,m){m===void 0&&(m=!0),this.scene&&this._customViewport&&this.sceneManager.customViewports--,this.scene=p,this.isSceneCamera=m;var g=p.sys;return this.sceneManager=g.game.scene,this.scaleManager=g.scale,this.cameraManager=g.cameras,this.updateSystem(),this},setScroll:function(p,m){return m===void 0&&(m=p),this.scrollX=p,this.scrollY=m,this},setSize:function(p,m){return m===void 0&&(m=p),this.width=p,this.height=m,this},setViewport:function(p,m,g,C){return this.x=p,this.y=m,this.width=g,this.height=C,this},setZoom:function(p,m){return p===void 0&&(p=1),m===void 0&&(m=p),p===0&&(p=.001),m===0&&(m=.001),this.zoomX=p,this.zoomY=m,this},setMask:function(p,m){return m===void 0&&(m=!0),this.mask=p,this._maskCamera=m?this.cameraManager.default:this,this},clearMask:function(p){return p===void 0&&(p=!1),p&&this.mask&&this.mask.destroy(),this.mask=null,this},toJSON:function(){var p={name:this.name,x:this.x,y:this.y,width:this.width,height:this.height,zoom:this.zoom,rotation:this.rotation,roundPixels:this.roundPixels,scrollX:this.scrollX,scrollY:this.scrollY,backgroundColor:this.backgroundColor.rgba};return this.useBounds&&(p.bounds={x:this._bounds.x,y:this._bounds.y,width:this._bounds.width,height:this._bounds.height}),p},update:function(){},setIsSceneCamera:function(p){return this.isSceneCamera=p,this},updateSystem:function(){if(!(!this.scaleManager||!this.isSceneCamera)){var p=this._x!==0||this._y!==0||this.scaleManager.width!==this._width||this.scaleManager.height!==this._height,m=this.sceneManager;p&&!this._customViewport?m.customViewports++:!p&&this._customViewport&&m.customViewports--,this.dirty=!0,this._customViewport=p}},destroy:function(){this.emit(o.DESTROY,this),this.removeAllListeners(),this.matrix.destroy(),this.culledObjects=[],this._customViewport&&this.sceneManager.customViewports--,this.renderList=[],this._bounds=null,this.scene=null,this.scaleManager=null,this.sceneManager=null,this.cameraManager=null},x:{get:function(){return this._x},set:function(p){this._x=p,this.updateSystem()}},y:{get:function(){return this._y},set:function(p){this._y=p,this.updateSystem()}},width:{get:function(){return this._width},set:function(p){this._width=p,this.updateSystem()}},height:{get:function(){return this._height},set:function(p){this._height=p,this.updateSystem()}},scrollX:{get:function(){return this._scrollX},set:function(p){p!==this._scrollX&&(this._scrollX=p,this.dirty=!0)}},scrollY:{get:function(){return this._scrollY},set:function(p){p!==this._scrollY&&(this._scrollY=p,this.dirty=!0)}},zoom:{get:function(){return(this._zoomX+this._zoomY)/2},set:function(p){this._zoomX=p,this._zoomY=p,this.dirty=!0}},zoomX:{get:function(){return this._zoomX},set:function(p){this._zoomX=p,this.dirty=!0}},zoomY:{get:function(){return this._zoomY},set:function(p){this._zoomY=p,this.dirty=!0}},rotation:{get:function(){return this._rotation},set:function(p){this._rotation=p,this.dirty=!0}},centerX:{get:function(){return this.x+.5*this.width}},centerY:{get:function(){return this.y+.5*this.height}},displayWidth:{get:function(){return this.width/this.zoomX}},displayHeight:{get:function(){return this.height/this.zoomY}}});n.exports=v},38058:(n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=i(71911),x=i(67502),d=i(45319),l=i(83419),o=i(31401),s=i(20052),f=i(19715),c=i(28915),u=i(87841),v=i(26099),p=new l({Extends:a,Mixins:[o.PostPipeline],initialize:function(g,C,M,b){a.call(this,g,C,M,b),this.initPostPipeline(),this.inputEnabled=!0,this.fadeEffect=new s.Fade(this),this.flashEffect=new s.Flash(this),this.shakeEffect=new s.Shake(this),this.panEffect=new s.Pan(this),this.rotateToEffect=new s.RotateTo(this),this.zoomEffect=new s.Zoom(this),this.lerp=new v(1,1),this.followOffset=new v,this.deadzone=null,this._follow=null},setDeadzone:function(m,g){if(m===void 0)this.deadzone=null;else{if(this.deadzone?(this.deadzone.width=m,this.deadzone.height=g):this.deadzone=new u(0,0,m,g),this._follow){var C=this.width/2,M=this.height/2,b=this._follow.x-this.followOffset.x,w=this._follow.y-this.followOffset.y;this.midPoint.set(b,w),this.scrollX=b-C,this.scrollY=w-M}x(this.deadzone,this.midPoint.x,this.midPoint.y)}return this},fadeIn:function(m,g,C,M,b,w){return this.fadeEffect.start(!1,m,g,C,M,!0,b,w)},fadeOut:function(m,g,C,M,b,w){return this.fadeEffect.start(!0,m,g,C,M,!0,b,w)},fadeFrom:function(m,g,C,M,b,w,R){return this.fadeEffect.start(!1,m,g,C,M,b,w,R)},fade:function(m,g,C,M,b,w,R){return this.fadeEffect.start(!0,m,g,C,M,b,w,R)},flash:function(m,g,C,M,b,w,R){return this.flashEffect.start(m,g,C,M,b,w,R)},shake:function(m,g,C,M,b){return this.shakeEffect.start(m,g,C,M,b)},pan:function(m,g,C,M,b,w,R){return this.panEffect.start(m,g,C,M,b,w,R)},rotateTo:function(m,g,C,M,b,w,R){return this.rotateToEffect.start(m,g,C,M,b,w,R)},zoomTo:function(m,g,C,M,b,w){return this.zoomEffect.start(m,g,C,M,b,w)},preRender:function(){this.renderList.length=0;var m=this.width,g=this.height,C=m*.5,M=g*.5,b=this.zoomX,w=this.zoomY,R=this.matrix;this.renderRoundPixels=this.roundPixels&&Number.isInteger(b)&&Number.isInteger(w);var A=m*this.originX,L=g*this.originY,D=this._follow,G=this.deadzone,B=this.scrollX,I=this.scrollY;G&&x(G,this.midPoint.x,this.midPoint.y);var k=!1;if(D&&!this.panEffect.isRunning){var z=this.lerp,X=D.x-this.followOffset.x,H=D.y-this.followOffset.y;G?(X<G.x?B=c(B,B-(G.x-X),z.x):X>G.right&&(B=c(B,B+(X-G.right),z.x)),H<G.y?I=c(I,I-(G.y-H),z.y):H>G.bottom&&(I=c(I,I+(H-G.bottom),z.y))):(B=c(B,X-A,z.x),I=c(I,H-L,z.y)),k=!0}this.roundPixels&&(B=Math.floor(B),I=Math.floor(I)),this.useBounds&&(B=this.clampX(B),I=this.clampY(I)),this.scrollX=B,this.scrollY=I;var Q=B+C,J=I+M;this.midPoint.set(Q,J);var Y=Math.floor(m/b+.5),$=Math.floor(g/w+.5),V=Math.floor(Q-Y/2+.5),U=Math.floor(J-$/2+.5);this.worldView.setTo(V,U,Y,$),R.applyITRS(Math.floor(this.x+A+.5),Math.floor(this.y+L+.5),this.rotation,b,w),R.translate(-A,-L),this.shakeEffect.preRender(),k&&this.emit(f.FOLLOW_UPDATE,this,D)},setLerp:function(m,g){return m===void 0&&(m=1),g===void 0&&(g=m),this.lerp.set(m,g),this},setFollowOffset:function(m,g){return m===void 0&&(m=0),g===void 0&&(g=0),this.followOffset.set(m,g),this},startFollow:function(m,g,C,M,b,w){g===void 0&&(g=!1),C===void 0&&(C=1),M===void 0&&(M=C),b===void 0&&(b=0),w===void 0&&(w=b),this._follow=m,this.roundPixels=g,C=d(C,0,1),M=d(M,0,1),this.lerp.set(C,M),this.followOffset.set(b,w);var R=this.width/2,A=this.height/2,L=m.x-b,D=m.y-w;return this.midPoint.set(L,D),this.scrollX=L-R,this.scrollY=D-A,this.useBounds&&(this.scrollX=this.clampX(this.scrollX),this.scrollY=this.clampY(this.scrollY)),this},stopFollow:function(){return this._follow=null,this},resetFX:function(){return this.rotateToEffect.reset(),this.panEffect.reset(),this.shakeEffect.reset(),this.flashEffect.reset(),this.fadeEffect.reset(),this},update:function(m,g){this.visible&&(this.rotateToEffect.update(m,g),this.panEffect.update(m,g),this.zoomEffect.update(m,g),this.shakeEffect.update(m,g),this.flashEffect.update(m,g),this.fadeEffect.update(m,g))},destroy:function(){this.resetFX(),a.prototype.destroy.call(this),this._follow=null,this.deadzone=null}});n.exports=p},32743:(n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=i(38058),x=i(83419),d=i(95540),l=i(37277),o=i(37303),s=i(97480),f=i(44594),c=new x({initialize:function(v){this.scene=v,this.systems=v.sys,this.roundPixels=v.sys.game.config.roundPixels,this.cameras=[],this.main,this.default,v.sys.events.once(f.BOOT,this.boot,this),v.sys.events.on(f.START,this.start,this)},boot:function(){var u=this.systems;u.settings.cameras?this.fromJSON(u.settings.cameras):this.add(),this.main=this.cameras[0],this.default=new a(0,0,u.scale.width,u.scale.height).setScene(this.scene),u.game.scale.on(s.RESIZE,this.onResize,this),this.systems.events.once(f.DESTROY,this.destroy,this)},start:function(){if(!this.main){var u=this.systems;u.settings.cameras?this.fromJSON(u.settings.cameras):this.add(),this.main=this.cameras[0]}var v=this.systems.events;v.on(f.UPDATE,this.update,this),v.once(f.SHUTDOWN,this.shutdown,this)},add:function(u,v,p,m,g,C){u===void 0&&(u=0),v===void 0&&(v=0),p===void 0&&(p=this.scene.sys.scale.width),m===void 0&&(m=this.scene.sys.scale.height),g===void 0&&(g=!1),C===void 0&&(C="");var M=new a(u,v,p,m);return M.setName(C),M.setScene(this.scene),M.setRoundPixels(this.roundPixels),M.id=this.getNextID(),this.cameras.push(M),g&&(this.main=M),M},addExisting:function(u,v){v===void 0&&(v=!1);var p=this.cameras.indexOf(u);return p===-1?(u.id=this.getNextID(),u.setRoundPixels(this.roundPixels),this.cameras.push(u),v&&(this.main=u),u):null},getNextID:function(){for(var u=this.cameras,v=1,p=0;p<32;p++){for(var m=!1,g=0;g<u.length;g++){var C=u[g];if(C&&C.id===v){m=!0;continue}}if(m)v=v<<1;else return v}return 0},getTotal:function(u){u===void 0&&(u=!1);for(var v=0,p=this.cameras,m=0;m<p.length;m++){var g=p[m];(!u||u&&g.visible)&&v++}return v},fromJSON:function(u){Array.isArray(u)||(u=[u]);for(var v=this.scene.sys.scale.width,p=this.scene.sys.scale.height,m=0;m<u.length;m++){var g=u[m],C=d(g,"x",0),M=d(g,"y",0),b=d(g,"width",v),w=d(g,"height",p),R=this.add(C,M,b,w);R.name=d(g,"name",""),R.zoom=d(g,"zoom",1),R.rotation=d(g,"rotation",0),R.scrollX=d(g,"scrollX",0),R.scrollY=d(g,"scrollY",0),R.roundPixels=d(g,"roundPixels",!1),R.visible=d(g,"visible",!0);var A=d(g,"backgroundColor",!1);A&&R.setBackgroundColor(A);var L=d(g,"bounds",null);if(L){var D=d(L,"x",0),G=d(L,"y",0),B=d(L,"width",v),I=d(L,"height",p);R.setBounds(D,G,B,I)}}return this},getCamera:function(u){for(var v=this.cameras,p=0;p<v.length;p++)if(v[p].name===u)return v[p];return null},getCamerasBelowPointer:function(u){for(var v=this.cameras,p=u.x,m=u.y,g=[],C=0;C<v.length;C++){var M=v[C];M.visible&&M.inputEnabled&&o(M,p,m)&&g.unshift(M)}return g},remove:function(u,v){v===void 0&&(v=!0),Array.isArray(u)||(u=[u]);for(var p=0,m=this.cameras,g=0;g<u.length;g++){var C=m.indexOf(u[g]);C!==-1&&(v?m[C].destroy():m[C].renderList=[],m.splice(C,1),p++)}return!this.main&&m[0]&&(this.main=m[0]),p},render:function(u,v){for(var p=this.scene,m=this.cameras,g=0;g<m.length;g++){var C=m[g];if(C.visible&&C.alpha>0){C.preRender();var M=this.getVisibleChildren(v.getChildren(),C);u.render(p,M,C)}}},getVisibleChildren:function(u,v){return u.filter(function(p){return p.willRender(v)})},resetAll:function(){for(var u=0;u<this.cameras.length;u++)this.cameras[u].destroy();return this.cameras=[],this.main=this.add(),this.main},update:function(u,v){for(var p=0;p<this.cameras.length;p++)this.cameras[p].update(u,v)},onResize:function(u,v,p,m,g){for(var C=0;C<this.cameras.length;C++){var M=this.cameras[C];M._x===0&&M._y===0&&M._width===m&&M._height===g&&M.setSize(v.width,v.height)}},resize:function(u,v){for(var p=0;p<this.cameras.length;p++)this.cameras[p].setSize(u,v)},shutdown:function(){this.main=void 0;for(var u=0;u<this.cameras.length;u++)this.cameras[u].destroy();this.cameras=[];var v=this.systems.events;v.off(f.UPDATE,this.update,this),v.off(f.SHUTDOWN,this.shutdown,this)},destroy:function(){this.shutdown(),this.default.destroy(),this.systems.events.off(f.START,this.start,this),this.systems.events.off(f.DESTROY,this.destroy,this),this.systems.game.scale.off(s.RESIZE,this.onResize,this),this.scene=null,this.systems=null}});l.register("CameraManager",c,"cameras"),n.exports=c},5020:(n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=i(45319),x=i(83419),d=i(19715),l=new x({initialize:function(s){this.camera=s,this.isRunning=!1,this.isComplete=!1,this.direction=!0,this.duration=0,this.red=0,this.green=0,this.blue=0,this.alpha=0,this.progress=0,this._elapsed=0,this._onUpdate,this._onUpdateScope},start:function(o,s,f,c,u,v,p,m){if(o===void 0&&(o=!0),s===void 0&&(s=1e3),f===void 0&&(f=0),c===void 0&&(c=0),u===void 0&&(u=0),v===void 0&&(v=!1),p===void 0&&(p=null),m===void 0&&(m=this.camera.scene),!v&&this.isRunning)return this.camera;this.isRunning=!0,this.isComplete=!1,this.duration=s,this.direction=o,this.progress=0,this.red=f,this.green=c,this.blue=u,this.alpha=o?Number.MIN_VALUE:1,this._elapsed=0,this._onUpdate=p,this._onUpdateScope=m;var g=o?d.FADE_OUT_START:d.FADE_IN_START;return this.camera.emit(g,this.camera,this,s,f,c,u),this.camera},update:function(o,s){this.isRunning&&(this._elapsed+=s,this.progress=a(this._elapsed/this.duration,0,1),this._onUpdate&&this._onUpdate.call(this._onUpdateScope,this.camera,this.progress),this._elapsed<this.duration?this.alpha=this.direction?this.progress:1-this.progress:(this.alpha=this.direction?1:0,this.effectComplete()))},postRenderCanvas:function(o){if(!this.isRunning&&!this.isComplete)return!1;var s=this.camera;return o.fillStyle="rgba("+this.red+","+this.green+","+this.blue+","+this.alpha+")",o.fillRect(s.x,s.y,s.width,s.height),!0},postRenderWebGL:function(o,s){if(!this.isRunning&&!this.isComplete)return!1;var f=this.camera,c=this.red/255,u=this.green/255,v=this.blue/255;return o.drawFillRect(f.x,f.y,f.width,f.height,s(v,u,c,1),this.alpha),!0},effectComplete:function(){this._onUpdate=null,this._onUpdateScope=null,this.isRunning=!1,this.isComplete=!0;var o=this.direction?d.FADE_OUT_COMPLETE:d.FADE_IN_COMPLETE;this.camera.emit(o,this.camera,this)},reset:function(){this.isRunning=!1,this.isComplete=!1,this._onUpdate=null,this._onUpdateScope=null},destroy:function(){this.reset(),this.camera=null}});n.exports=l},10662:(n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=i(45319),x=i(83419),d=i(19715),l=new x({initialize:function(s){this.camera=s,this.isRunning=!1,this.duration=0,this.red=0,this.green=0,this.blue=0,this.alpha=1,this.progress=0,this._elapsed=0,this._alpha,this._onUpdate,this._onUpdateScope},start:function(o,s,f,c,u,v,p){return o===void 0&&(o=250),s===void 0&&(s=255),f===void 0&&(f=255),c===void 0&&(c=255),u===void 0&&(u=!1),v===void 0&&(v=null),p===void 0&&(p=this.camera.scene),!u&&this.isRunning?this.camera:(this.isRunning=!0,this.duration=o,this.progress=0,this.red=s,this.green=f,this.blue=c,this._alpha=this.alpha,this._elapsed=0,this._onUpdate=v,this._onUpdateScope=p,this.camera.emit(d.FLASH_START,this.camera,this,o,s,f,c),this.camera)},update:function(o,s){this.isRunning&&(this._elapsed+=s,this.progress=a(this._elapsed/this.duration,0,1),this._onUpdate&&this._onUpdate.call(this._onUpdateScope,this.camera,this.progress),this._elapsed<this.duration?this.alpha=this._alpha*(1-this.progress):this.effectComplete())},postRenderCanvas:function(o){if(!this.isRunning)return!1;var s=this.camera;return o.fillStyle="rgba("+this.red+","+this.green+","+this.blue+","+this.alpha+")",o.fillRect(s.x,s.y,s.width,s.height),!0},postRenderWebGL:function(o,s){if(!this.isRunning)return!1;var f=this.camera,c=this.red/255,u=this.green/255,v=this.blue/255;return o.drawFillRect(f.x,f.y,f.width,f.height,s(v,u,c,1),this.alpha),!0},effectComplete:function(){this.alpha=this._alpha,this._onUpdate=null,this._onUpdateScope=null,this.isRunning=!1,this.camera.emit(d.FLASH_COMPLETE,this.camera,this)},reset:function(){this.isRunning=!1,this._onUpdate=null,this._onUpdateScope=null},destroy:function(){this.reset(),this.camera=null}});n.exports=l},20359:(n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=i(45319),x=i(83419),d=i(62640),l=i(19715),o=i(26099),s=new x({initialize:function(c){this.camera=c,this.isRunning=!1,this.duration=0,this.source=new o,this.current=new o,this.destination=new o,this.ease,this.progress=0,this._elapsed=0,this._onUpdate,this._onUpdateScope},start:function(f,c,u,v,p,m,g){u===void 0&&(u=1e3),v===void 0&&(v=d.Linear),p===void 0&&(p=!1),m===void 0&&(m=null),g===void 0&&(g=this.camera.scene);var C=this.camera;return!p&&this.isRunning||(this.isRunning=!0,this.duration=u,this.progress=0,this.source.set(C.scrollX,C.scrollY),this.destination.set(f,c),C.getScroll(f,c,this.current),typeof v=="string"&&d.hasOwnProperty(v)?this.ease=d[v]:typeof v=="function"&&(this.ease=v),this._elapsed=0,this._onUpdate=m,this._onUpdateScope=g,this.camera.emit(l.PAN_START,this.camera,this,u,f,c)),C},update:function(f,c){if(this.isRunning){this._elapsed+=c;var u=a(this._elapsed/this.duration,0,1);this.progress=u;var v=this.camera;if(this._elapsed<this.duration){var p=this.ease(u);v.getScroll(this.destination.x,this.destination.y,this.current);var m=this.source.x+(this.current.x-this.source.x)*p,g=this.source.y+(this.current.y-this.source.y)*p;v.setScroll(m,g),this._onUpdate&&this._onUpdate.call(this._onUpdateScope,v,u,m,g)}else v.centerOn(this.destination.x,this.destination.y),this._onUpdate&&this._onUpdate.call(this._onUpdateScope,v,u,v.scrollX,v.scrollY),this.effectComplete()}},effectComplete:function(){this._onUpdate=null,this._onUpdateScope=null,this.isRunning=!1,this.camera.emit(l.PAN_COMPLETE,this.camera,this)},reset:function(){this.isRunning=!1,this._onUpdate=null,this._onUpdateScope=null},destroy:function(){this.reset(),this.camera=null,this.source=null,this.destination=null}});n.exports=s},34208:(n,T,i)=>{/**
 * @author       Jason Nicholls <nicholls.jason@gmail.com>
 * @copyright    2018 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */var a=i(45319),x=i(83419),d=i(19715),l=i(62640),o=new x({initialize:function(f){this.camera=f,this.isRunning=!1,this.duration=0,this.source=0,this.current=0,this.destination=0,this.ease,this.progress=0,this._elapsed=0,this._onUpdate,this._onUpdateScope,this.clockwise=!0,this.shortestPath=!1},start:function(s,f,c,u,v,p,m){c===void 0&&(c=1e3),u===void 0&&(u=l.Linear),v===void 0&&(v=!1),p===void 0&&(p=null),m===void 0&&(m=this.camera.scene),f===void 0&&(f=!1),this.shortestPath=f;var g=s;s<0?(g=-1*s,this.clockwise=!1):this.clockwise=!0;var C=360*Math.PI/180;g=g-Math.floor(g/C)*C;var M=this.camera;if(!v&&this.isRunning)return M;if(this.isRunning=!0,this.duration=c,this.progress=0,this.source=M.rotation,this.destination=g,typeof u=="string"&&l.hasOwnProperty(u)?this.ease=l[u]:typeof u=="function"&&(this.ease=u),this._elapsed=0,this._onUpdate=p,this._onUpdateScope=m,this.shortestPath){var b=0,w=0;this.destination>this.source?b=Math.abs(this.destination-this.source):b=Math.abs(this.destination+C)-this.source,this.source>this.destination?w=Math.abs(this.source-this.destination):w=Math.abs(this.source+C)-this.destination,b<w?this.clockwise=!0:b>w&&(this.clockwise=!1)}return this.camera.emit(d.ROTATE_START,this.camera,this,c,g),M},update:function(s,f){if(this.isRunning){this._elapsed+=f;var c=a(this._elapsed/this.duration,0,1);this.progress=c;var u=this.camera;if(this._elapsed<this.duration){var v=this.ease(c);this.current=u.rotation;var p=0,m=360*Math.PI/180,g=this.destination,C=this.current;this.clockwise===!1&&(g=this.current,C=this.destination),g>=C?p=Math.abs(g-C):p=Math.abs(g+m)-C;var M=0;this.clockwise?M=u.rotation+p*v:M=u.rotation-p*v,u.rotation=M,this._onUpdate&&this._onUpdate.call(this._onUpdateScope,u,c,M)}else u.rotation=this.destination,this._onUpdate&&this._onUpdate.call(this._onUpdateScope,u,c,this.destination),this.effectComplete()}},effectComplete:function(){this._onUpdate=null,this._onUpdateScope=null,this.isRunning=!1,this.camera.emit(d.ROTATE_COMPLETE,this.camera,this)},reset:function(){this.isRunning=!1,this._onUpdate=null,this._onUpdateScope=null},destroy:function(){this.reset(),this.camera=null,this.source=null,this.destination=null}});n.exports=o},30330:(n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=i(45319),x=i(83419),d=i(19715),l=i(26099),o=new x({initialize:function(f){this.camera=f,this.isRunning=!1,this.duration=0,this.intensity=new l,this.progress=0,this._elapsed=0,this._offsetX=0,this._offsetY=0,this._onUpdate,this._onUpdateScope},start:function(s,f,c,u,v){return s===void 0&&(s=100),f===void 0&&(f=.05),c===void 0&&(c=!1),u===void 0&&(u=null),v===void 0&&(v=this.camera.scene),!c&&this.isRunning?this.camera:(this.isRunning=!0,this.duration=s,this.progress=0,typeof f=="number"?this.intensity.set(f):this.intensity.set(f.x,f.y),this._elapsed=0,this._offsetX=0,this._offsetY=0,this._onUpdate=u,this._onUpdateScope=v,this.camera.emit(d.SHAKE_START,this.camera,this,s,f),this.camera)},preRender:function(){this.isRunning&&this.camera.matrix.translate(this._offsetX,this._offsetY)},update:function(s,f){if(this.isRunning)if(this._elapsed+=f,this.progress=a(this._elapsed/this.duration,0,1),this._onUpdate&&this._onUpdate.call(this._onUpdateScope,this.camera,this.progress),this._elapsed<this.duration){var c=this.intensity,u=this.camera.width,v=this.camera.height,p=this.camera.zoom;this._offsetX=(Math.random()*c.x*u*2-c.x*u)*p,this._offsetY=(Math.random()*c.y*v*2-c.y*v)*p,this.camera.roundPixels&&(this._offsetX=Math.round(this._offsetX),this._offsetY=Math.round(this._offsetY))}else this.effectComplete()},effectComplete:function(){this._offsetX=0,this._offsetY=0,this._onUpdate=null,this._onUpdateScope=null,this.isRunning=!1,this.camera.emit(d.SHAKE_COMPLETE,this.camera,this)},reset:function(){this.isRunning=!1,this._offsetX=0,this._offsetY=0,this._onUpdate=null,this._onUpdateScope=null},destroy:function(){this.reset(),this.camera=null,this.intensity=null}});n.exports=o},45641:(n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=i(45319),x=i(83419),d=i(62640),l=i(19715),o=new x({initialize:function(f){this.camera=f,this.isRunning=!1,this.duration=0,this.source=1,this.destination=1,this.ease,this.progress=0,this._elapsed=0,this._onUpdate,this._onUpdateScope},start:function(s,f,c,u,v,p){f===void 0&&(f=1e3),c===void 0&&(c=d.Linear),u===void 0&&(u=!1),v===void 0&&(v=null),p===void 0&&(p=this.camera.scene);var m=this.camera;return!u&&this.isRunning||(this.isRunning=!0,this.duration=f,this.progress=0,this.source=m.zoom,this.destination=s,typeof c=="string"&&d.hasOwnProperty(c)?this.ease=d[c]:typeof c=="function"&&(this.ease=c),this._elapsed=0,this._onUpdate=v,this._onUpdateScope=p,this.camera.emit(l.ZOOM_START,this.camera,this,f,s)),m},update:function(s,f){this.isRunning&&(this._elapsed+=f,this.progress=a(this._elapsed/this.duration,0,1),this._elapsed<this.duration?(this.camera.zoom=this.source+(this.destination-this.source)*this.ease(this.progress),this._onUpdate&&this._onUpdate.call(this._onUpdateScope,this.camera,this.progress,this.camera.zoom)):(this.camera.zoom=this.destination,this._onUpdate&&this._onUpdate.call(this._onUpdateScope,this.camera,this.progress,this.destination),this.effectComplete()))},effectComplete:function(){this._onUpdate=null,this._onUpdateScope=null,this.isRunning=!1,this.camera.emit(l.ZOOM_COMPLETE,this.camera,this)},reset:function(){this.isRunning=!1,this._onUpdate=null,this._onUpdateScope=null},destroy:function(){this.reset(),this.camera=null}});n.exports=o},20052:(n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports={Fade:i(5020),Flash:i(10662),Pan:i(20359),Shake:i(30330),RotateTo:i(34208),Zoom:i(45641)}},16438:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="cameradestroy"},32726:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="camerafadeincomplete"},87807:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="camerafadeinstart"},45917:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="camerafadeoutcomplete"},95666:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="camerafadeoutstart"},47056:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="cameraflashcomplete"},91261:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="cameraflashstart"},45047:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="followupdate"},81927:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="camerapancomplete"},74264:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="camerapanstart"},54419:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="postrender"},79330:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="prerender"},93183:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="camerarotatecomplete"},80112:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="camerarotatestart"},62252:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="camerashakecomplete"},86017:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="camerashakestart"},539:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="camerazoomcomplete"},51892:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="camerazoomstart"},19715:(n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports={DESTROY:i(16438),FADE_IN_COMPLETE:i(32726),FADE_IN_START:i(87807),FADE_OUT_COMPLETE:i(45917),FADE_OUT_START:i(95666),FLASH_COMPLETE:i(47056),FLASH_START:i(91261),FOLLOW_UPDATE:i(45047),PAN_COMPLETE:i(81927),PAN_START:i(74264),POST_RENDER:i(54419),PRE_RENDER:i(79330),ROTATE_COMPLETE:i(93183),ROTATE_START:i(80112),SHAKE_COMPLETE:i(62252),SHAKE_START:i(86017),ZOOM_COMPLETE:i(539),ZOOM_START:i(51892)}},87969:(n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports={Camera:i(38058),BaseCamera:i(71911),CameraManager:i(32743),Effects:i(20052),Events:i(19715)}},63091:(n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=i(83419),x=i(35154),d=new a({initialize:function(o){this.camera=x(o,"camera",null),this.left=x(o,"left",null),this.right=x(o,"right",null),this.up=x(o,"up",null),this.down=x(o,"down",null),this.zoomIn=x(o,"zoomIn",null),this.zoomOut=x(o,"zoomOut",null),this.zoomSpeed=x(o,"zoomSpeed",.01),this.minZoom=x(o,"minZoom",.001),this.maxZoom=x(o,"maxZoom",1e3),this.speedX=0,this.speedY=0;var s=x(o,"speed",null);typeof s=="number"?(this.speedX=s,this.speedY=s):(this.speedX=x(o,"speed.x",0),this.speedY=x(o,"speed.y",0)),this._zoom=0,this.active=this.camera!==null},start:function(){return this.active=this.camera!==null,this},stop:function(){return this.active=!1,this},setCamera:function(l){return this.camera=l,this},update:function(l){if(this.active){l===void 0&&(l=1);var o=this.camera;this.up&&this.up.isDown?o.scrollY-=this.speedY*l|0:this.down&&this.down.isDown&&(o.scrollY+=this.speedY*l|0),this.left&&this.left.isDown?o.scrollX-=this.speedX*l|0:this.right&&this.right.isDown&&(o.scrollX+=this.speedX*l|0),this.zoomIn&&this.zoomIn.isDown?(o.zoom-=this.zoomSpeed,o.zoom<this.minZoom&&(o.zoom=this.minZoom)):this.zoomOut&&this.zoomOut.isDown&&(o.zoom+=this.zoomSpeed,o.zoom>this.maxZoom&&(o.zoom=this.maxZoom))}},destroy:function(){this.camera=null,this.left=null,this.right=null,this.up=null,this.down=null,this.zoomIn=null,this.zoomOut=null}});n.exports=d},58818:(n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=i(83419),x=i(35154),d=new a({initialize:function(o){this.camera=x(o,"camera",null),this.left=x(o,"left",null),this.right=x(o,"right",null),this.up=x(o,"up",null),this.down=x(o,"down",null),this.zoomIn=x(o,"zoomIn",null),this.zoomOut=x(o,"zoomOut",null),this.zoomSpeed=x(o,"zoomSpeed",.01),this.minZoom=x(o,"minZoom",.001),this.maxZoom=x(o,"maxZoom",1e3),this.accelX=0,this.accelY=0;var s=x(o,"acceleration",null);typeof s=="number"?(this.accelX=s,this.accelY=s):(this.accelX=x(o,"acceleration.x",0),this.accelY=x(o,"acceleration.y",0)),this.dragX=0,this.dragY=0;var f=x(o,"drag",null);typeof f=="number"?(this.dragX=f,this.dragY=f):(this.dragX=x(o,"drag.x",0),this.dragY=x(o,"drag.y",0)),this.maxSpeedX=0,this.maxSpeedY=0;var c=x(o,"maxSpeed",null);typeof c=="number"?(this.maxSpeedX=c,this.maxSpeedY=c):(this.maxSpeedX=x(o,"maxSpeed.x",0),this.maxSpeedY=x(o,"maxSpeed.y",0)),this._speedX=0,this._speedY=0,this._zoom=0,this.active=this.camera!==null},start:function(){return this.active=this.camera!==null,this},stop:function(){return this.active=!1,this},setCamera:function(l){return this.camera=l,this},update:function(l){if(this.active){l===void 0&&(l=1);var o=this.camera;this._speedX>0?(this._speedX-=this.dragX*l,this._speedX<0&&(this._speedX=0)):this._speedX<0&&(this._speedX+=this.dragX*l,this._speedX>0&&(this._speedX=0)),this._speedY>0?(this._speedY-=this.dragY*l,this._speedY<0&&(this._speedY=0)):this._speedY<0&&(this._speedY+=this.dragY*l,this._speedY>0&&(this._speedY=0)),this.up&&this.up.isDown?(this._speedY+=this.accelY,this._speedY>this.maxSpeedY&&(this._speedY=this.maxSpeedY)):this.down&&this.down.isDown&&(this._speedY-=this.accelY,this._speedY<-this.maxSpeedY&&(this._speedY=-this.maxSpeedY)),this.left&&this.left.isDown?(this._speedX+=this.accelX,this._speedX>this.maxSpeedX&&(this._speedX=this.maxSpeedX)):this.right&&this.right.isDown&&(this._speedX-=this.accelX,this._speedX<-this.maxSpeedX&&(this._speedX=-this.maxSpeedX)),this.zoomIn&&this.zoomIn.isDown?this._zoom=-this.zoomSpeed:this.zoomOut&&this.zoomOut.isDown?this._zoom=this.zoomSpeed:this._zoom=0,this._speedX!==0&&(o.scrollX-=this._speedX*l|0),this._speedY!==0&&(o.scrollY-=this._speedY*l|0),this._zoom!==0&&(o.zoom+=this._zoom,o.zoom<this.minZoom?o.zoom=this.minZoom:o.zoom>this.maxZoom&&(o.zoom=this.maxZoom))}},destroy:function(){this.camera=null,this.left=null,this.right=null,this.up=null,this.down=null,this.zoomIn=null,this.zoomOut=null}});n.exports=d},38865:(n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports={FixedKeyControl:i(63091),SmoothedKeyControl:i(58818)}},26638:(n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports={Controls:i(38865),Scene2D:i(87969)}},8054:(n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a={VERSION:"3.88.2",LOG_VERSION:"v388",BlendModes:i(10312),ScaleModes:i(29795),AUTO:0,CANVAS:1,WEBGL:2,HEADLESS:3,FOREVER:-1,NONE:4,UP:5,DOWN:6,LEFT:7,RIGHT:8};n.exports=a},69547:(n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=i(83419),x=i(8054),d=i(42363),l=i(82264),o=i(95540),s=i(35154),f=i(41212),c=i(29747),u=i(75508),v=i(36060),p=i(80333),m=new a({initialize:function(C){C===void 0&&(C={});var M=["#ff0000","#ffff00","#00ff00","#00ffff","#000000"],b="#ffffff",w=s(C,"scale",null);this.width=s(w,"width",1024,C),this.height=s(w,"height",768,C),this.zoom=s(w,"zoom",1,C),this.parent=s(w,"parent",void 0,C),this.scaleMode=s(w,w?"mode":"scaleMode",0,C),this.expandParent=s(w,"expandParent",!0,C),this.autoRound=s(w,"autoRound",!1,C),this.autoCenter=s(w,"autoCenter",0,C),this.resizeInterval=s(w,"resizeInterval",500,C),this.fullscreenTarget=s(w,"fullscreenTarget",null,C),this.minWidth=s(w,"min.width",0,C),this.maxWidth=s(w,"max.width",0,C),this.minHeight=s(w,"min.height",0,C),this.maxHeight=s(w,"max.height",0,C),this.snapWidth=s(w,"snap.width",0,C),this.snapHeight=s(w,"snap.height",0,C),this.renderType=s(C,"type",x.AUTO),this.canvas=s(C,"canvas",null),this.context=s(C,"context",null),this.canvasStyle=s(C,"canvasStyle",null),this.customEnvironment=s(C,"customEnvironment",!1),this.sceneConfig=s(C,"scene",null),this.seed=s(C,"seed",[(Date.now()*Math.random()).toString()]),u.RND=new u.RandomDataGenerator(this.seed),this.gameTitle=s(C,"title",""),this.gameURL=s(C,"url","https://phaser.io/"+x.LOG_VERSION),this.gameVersion=s(C,"version",""),this.autoFocus=s(C,"autoFocus",!0),this.stableSort=s(C,"stableSort",-1),this.stableSort===-1&&(this.stableSort=l.browser.es2019?1:0),l.features.stableSort=this.stableSort,this.domCreateContainer=s(C,"dom.createContainer",!1),this.domPointerEvents=s(C,"dom.pointerEvents","none"),this.inputKeyboard=s(C,"input.keyboard",!0),this.inputKeyboardEventTarget=s(C,"input.keyboard.target",window),this.inputKeyboardCapture=s(C,"input.keyboard.capture",[]),this.inputMouse=s(C,"input.mouse",!0),this.inputMouseEventTarget=s(C,"input.mouse.target",null),this.inputMousePreventDefaultDown=s(C,"input.mouse.preventDefaultDown",!0),this.inputMousePreventDefaultUp=s(C,"input.mouse.preventDefaultUp",!0),this.inputMousePreventDefaultMove=s(C,"input.mouse.preventDefaultMove",!0),this.inputMousePreventDefaultWheel=s(C,"input.mouse.preventDefaultWheel",!0),this.inputTouch=s(C,"input.touch",l.input.touch),this.inputTouchEventTarget=s(C,"input.touch.target",null),this.inputTouchCapture=s(C,"input.touch.capture",!0),this.inputActivePointers=s(C,"input.activePointers",1),this.inputSmoothFactor=s(C,"input.smoothFactor",0),this.inputWindowEvents=s(C,"input.windowEvents",!0),this.inputGamepad=s(C,"input.gamepad",!1),this.inputGamepadEventTarget=s(C,"input.gamepad.target",window),this.disableContextMenu=s(C,"disableContextMenu",!1),this.audio=s(C,"audio",{}),this.hideBanner=s(C,"banner",null)===!1,this.hidePhaser=s(C,"banner.hidePhaser",!1),this.bannerTextColor=s(C,"banner.text",b),this.bannerBackgroundColor=s(C,"banner.background",M),this.gameTitle===""&&this.hidePhaser&&(this.hideBanner=!0),this.fps=s(C,"fps",null),this.disablePreFX=s(C,"disablePreFX",!1),this.disablePostFX=s(C,"disablePostFX",!1);var R=s(C,"render",null);this.pipeline=s(R,"pipeline",null,C),this.autoMobilePipeline=s(R,"autoMobilePipeline",!0,C),this.defaultPipeline=s(R,"defaultPipeline",v.MULTI_PIPELINE,C),this.antialias=s(R,"antialias",!0,C),this.antialiasGL=s(R,"antialiasGL",!0,C),this.mipmapFilter=s(R,"mipmapFilter","",C),this.desynchronized=s(R,"desynchronized",!1,C),this.roundPixels=s(R,"roundPixels",!1,C),this.pixelArt=s(R,"pixelArt",this.zoom!==1,C),this.pixelArt&&(this.antialias=!1,this.antialiasGL=!1,this.roundPixels=!0),this.transparent=s(R,"transparent",!1,C),this.clearBeforeRender=s(R,"clearBeforeRender",!0,C),this.preserveDrawingBuffer=s(R,"preserveDrawingBuffer",!1,C),this.premultipliedAlpha=s(R,"premultipliedAlpha",!0,C),this.failIfMajorPerformanceCaveat=s(R,"failIfMajorPerformanceCaveat",!1,C),this.powerPreference=s(R,"powerPreference","default",C),this.batchSize=s(R,"batchSize",4096,C),this.maxTextures=s(R,"maxTextures",-1,C),this.maxLights=s(R,"maxLights",10,C);var A=s(C,"backgroundColor",0);this.backgroundColor=p(A),this.transparent&&(this.backgroundColor=p(0),this.backgroundColor.alpha=0),this.preBoot=s(C,"callbacks.preBoot",c),this.postBoot=s(C,"callbacks.postBoot",c),this.physics=s(C,"physics",{}),this.defaultPhysicsSystem=s(this.physics,"default",!1),this.loaderBaseURL=s(C,"loader.baseURL",""),this.loaderPath=s(C,"loader.path",""),this.loaderMaxParallelDownloads=s(C,"loader.maxParallelDownloads",l.os.android?6:32),this.loaderCrossOrigin=s(C,"loader.crossOrigin",void 0),this.loaderResponseType=s(C,"loader.responseType",""),this.loaderAsync=s(C,"loader.async",!0),this.loaderUser=s(C,"loader.user",""),this.loaderPassword=s(C,"loader.password",""),this.loaderTimeout=s(C,"loader.timeout",0),this.loaderMaxRetries=s(C,"loader.maxRetries",2),this.loaderWithCredentials=s(C,"loader.withCredentials",!1),this.loaderImageLoadType=s(C,"loader.imageLoadType","XHR"),this.loaderLocalScheme=s(C,"loader.localScheme",["file://","capacitor://"]),this.glowFXQuality=s(C,"fx.glow.quality",.1),this.glowFXDistance=s(C,"fx.glow.distance",10),this.installGlobalPlugins=[],this.installScenePlugins=[];var L=s(C,"plugins",null),D=d.DefaultScene;L&&(Array.isArray(L)?this.defaultPlugins=L:f(L)&&(this.installGlobalPlugins=o(L,"global",[]),this.installScenePlugins=o(L,"scene",[]),Array.isArray(L.default)?D=L.default:Array.isArray(L.defaultMerge)&&(D=D.concat(L.defaultMerge)))),this.defaultPlugins=D;var G="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAg";this.defaultImage=s(C,"images.default",G+"AQMAAABJtOi3AAAAA1BMVEX///+nxBvIAAAAAXRSTlMAQObYZgAAABVJREFUeF7NwIEAAAAAgKD9qdeocAMAoAABm3DkcAAAAABJRU5ErkJggg=="),this.missingImage=s(C,"images.missing",G+"CAIAAAD8GO2jAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAJ9JREFUeNq01ssOwyAMRFG46v//Mt1ESmgh+DFmE2GPOBARKb2NVjo+17PXLD8a1+pl5+A+wSgFygymWYHBb0FtsKhJDdZlncG2IzJ4ayoMDv20wTmSMzClEgbWYNTAkQ0Z+OJ+A/eWnAaR9+oxCF4Os0H8htsMUp+pwcgBBiMNnAwF8GqIgL2hAzaGFFgZauDPKABmowZ4GL369/0rwACp2yA/ttmvsQAAAABJRU5ErkJggg=="),this.whiteImage=s(C,"images.white","data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAQAAAAECAIAAAAmkwkpAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAABdJREFUeNpi/P//PwMMMDEgAdwcgAADAJZuAwXJYZOzAAAAAElFTkSuQmCC"),window&&(window.FORCE_WEBGL?this.renderType=x.WEBGL:window.FORCE_CANVAS&&(this.renderType=x.CANVAS))}});n.exports=m},86054:(n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=i(20623),x=i(27919),d=i(8054),l=i(89357),o=function(s){var f=s.config;if((f.customEnvironment||f.canvas)&&f.renderType===d.AUTO)throw new Error("Must set explicit renderType in custom environment");if(!f.customEnvironment&&!f.canvas&&f.renderType!==d.HEADLESS)if(f.renderType===d.AUTO&&(f.renderType=l.webGL?d.WEBGL:d.CANVAS),f.renderType===d.WEBGL){if(!l.webGL)throw new Error("Cannot create WebGL context, aborting.")}else if(f.renderType===d.CANVAS){if(!l.canvas)throw new Error("Cannot create Canvas context, aborting.")}else throw new Error("Unknown value for renderer type: "+f.renderType);f.antialias||x.disableSmoothing();var c=s.scale.baseSize,u=c.width,v=c.height;if(f.canvas?(s.canvas=f.canvas,s.canvas.width=u,s.canvas.height=v):s.canvas=x.create(s,u,v,f.renderType),f.canvasStyle&&(s.canvas.style=f.canvasStyle),f.antialias||a.setCrisp(s.canvas),f.renderType!==d.HEADLESS){var p,m;p=i(68627),m=i(74797),f.renderType===d.WEBGL?s.renderer=new m(s):(s.renderer=new p(s),s.context=s.renderer.gameContext)}};n.exports=o},96391:(n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=i(8054),x=function(d){var l=d.config;if(!l.hideBanner){var o="WebGL";l.renderType===a.CANVAS?o="Canvas":l.renderType===a.HEADLESS&&(o="Headless");var s=l.audio,f=d.device.audio,c;if(f.webAudio&&!s.disableWebAudio?c="Web Audio":s.noAudio||!f.webAudio&&!f.audioData?c="No Audio":c="HTML5 Audio",d.device.browser.ie)window.console&&console.log("Phaser v"+a.VERSION+" / https://phaser.io");else{var u="",v=[u];if(Array.isArray(l.bannerBackgroundColor)){var p;l.bannerBackgroundColor.forEach(function(g){u=u.concat("%c "),v.push("background: "+g),p=g}),v[v.length-1]="color: "+l.bannerTextColor+"; background: "+p}else u=u.concat("%c "),v.push("color: "+l.bannerTextColor+"; background: "+l.bannerBackgroundColor);v.push("background: transparent"),l.gameTitle&&(u=u.concat(l.gameTitle),l.gameVersion&&(u=u.concat(" v"+l.gameVersion)),l.hidePhaser||(u=u.concat(" / ")));var m="";l.hidePhaser||(u=u.concat("Phaser v"+a.VERSION+m+" ("+o+" | "+c+")")),u=u.concat(" %c "+l.gameURL),v[0]=u,console.log.apply(console,v)}}};n.exports=x},50127:(n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=i(40366),x=i(60848),d=i(24047),l=i(27919),o=i(83419),s=i(69547),f=i(83719),c=i(86054),u=i(45893),v=i(96391),p=i(82264),m=i(57264),g=i(50792),C=i(8443),M=i(7003),b=i(37277),w=i(77332),R=i(76531),A=i(60903),L=i(69442),D=i(17130),G=i(65898),B=i(51085),I=i(14747),k=new o({initialize:function(X){this.config=new s(X),this.renderer=null,this.domContainer=null,this.canvas=null,this.context=null,this.isBooted=!1,this.isRunning=!1,this.events=new g,this.anims=new x(this),this.textures=new D(this),this.cache=new d(this),this.registry=new u(this,new g),this.input=new M(this,this.config),this.scene=new A(this,this.config.sceneConfig),this.device=p,this.scale=new R(this,this.config),this.sound=null,this.sound=I.create(this),this.loop=new G(this,this.config.fps),this.plugins=new w(this,this.config),this.pendingDestroy=!1,this.removeCanvas=!1,this.noReturn=!1,this.hasFocus=!1,this.isPaused=!1,m(this.boot.bind(this))},boot:function(){if(!b.hasCore("EventEmitter")){console.warn("Aborting. Core Plugins missing.");return}this.isBooted=!0,this.config.preBoot(this),this.scale.preBoot(),c(this),f(this),v(this),a(this.canvas,this.config.parent),this.textures.once(L.READY,this.texturesReady,this),this.events.emit(C.BOOT)},texturesReady:function(){this.events.emit(C.READY),this.start()},start:function(){this.isRunning=!0,this.config.postBoot(this),this.renderer?this.loop.start(this.step.bind(this)):this.loop.start(this.headlessStep.bind(this)),B(this);var z=this.events;z.on(C.HIDDEN,this.onHidden,this),z.on(C.VISIBLE,this.onVisible,this),z.on(C.BLUR,this.onBlur,this),z.on(C.FOCUS,this.onFocus,this)},step:function(z,X){if(this.pendingDestroy)return this.runDestroy();if(!this.isPaused){var H=this.events;H.emit(C.PRE_STEP,z,X),H.emit(C.STEP,z,X),this.scene.update(z,X),H.emit(C.POST_STEP,z,X);var Q=this.renderer;Q.preRender(),H.emit(C.PRE_RENDER,Q,z,X),this.scene.render(Q),Q.postRender(),H.emit(C.POST_RENDER,Q,z,X)}},headlessStep:function(z,X){if(this.pendingDestroy)return this.runDestroy();if(!this.isPaused){var H=this.events;H.emit(C.PRE_STEP,z,X),H.emit(C.STEP,z,X),this.scene.update(z,X),H.emit(C.POST_STEP,z,X),this.scene.isProcessing=!1,H.emit(C.PRE_RENDER,null,z,X),H.emit(C.POST_RENDER,null,z,X)}},onHidden:function(){this.loop.pause(),this.events.emit(C.PAUSE)},pause:function(){var z=this.isPaused;this.isPaused=!0,z||this.events.emit(C.PAUSE)},onVisible:function(){this.loop.resume(),this.events.emit(C.RESUME,this.loop.pauseDuration)},resume:function(){var z=this.isPaused;this.isPaused=!1,z&&this.events.emit(C.RESUME,0)},onBlur:function(){this.hasFocus=!1,this.loop.blur()},onFocus:function(){this.hasFocus=!0,this.loop.focus()},getFrame:function(){return this.loop.frame},getTime:function(){return this.loop.now},destroy:function(z,X){X===void 0&&(X=!1),this.pendingDestroy=!0,this.removeCanvas=z,this.noReturn=X},runDestroy:function(){this.scene.destroy(),this.events.emit(C.DESTROY),this.events.removeAllListeners(),this.renderer&&this.renderer.destroy(),this.removeCanvas&&this.canvas&&(l.remove(this.canvas),this.canvas.parentNode&&this.canvas.parentNode.removeChild(this.canvas)),this.domContainer&&this.domContainer.parentNode&&this.domContainer.parentNode.removeChild(this.domContainer),this.loop.destroy(),this.pendingDestroy=!1}});n.exports=k},65898:(n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=i(83419),x=i(35154),d=i(29747),l=i(43092),o=new a({initialize:function(f,c){this.game=f,this.raf=new l,this.started=!1,this.running=!1,this.minFps=x(c,"min",5),this.targetFps=x(c,"target",60),this.fpsLimit=x(c,"limit",0),this.hasFpsLimit=this.fpsLimit>0,this._limitRate=this.hasFpsLimit?1e3/this.fpsLimit:0,this._min=1e3/this.minFps,this._target=1e3/this.targetFps,this.actualFps=this.targetFps,this.nextFpsUpdate=0,this.framesThisSecond=0,this.callback=d,this.forceSetTimeOut=x(c,"forceSetTimeOut",!1),this.time=0,this.startTime=0,this.lastTime=0,this.frame=0,this.inFocus=!0,this.pauseDuration=0,this._pauseTime=0,this._coolDown=0,this.delta=0,this.deltaIndex=0,this.deltaHistory=[],this.deltaSmoothingMax=x(c,"deltaHistory",10),this.panicMax=x(c,"panicMax",120),this.rawDelta=0,this.now=0,this.smoothStep=x(c,"smoothStep",!0)},blur:function(){this.inFocus=!1},focus:function(){this.inFocus=!0,this.resetDelta()},pause:function(){this._pauseTime=window.performance.now()},resume:function(){this.resetDelta(),this.pauseDuration=this.time-this._pauseTime,this.startTime+=this.pauseDuration},resetDelta:function(){var s=window.performance.now();this.time=s,this.lastTime=s,this.nextFpsUpdate=s+1e3,this.framesThisSecond=0;for(var f=0;f<this.deltaSmoothingMax;f++)this.deltaHistory[f]=Math.min(this._target,this.deltaHistory[f]);this.delta=0,this.deltaIndex=0,this._coolDown=this.panicMax},start:function(s){if(this.started)return this;this.started=!0,this.running=!0;for(var f=0;f<this.deltaSmoothingMax;f++)this.deltaHistory[f]=this._target;this.resetDelta(),this.startTime=window.performance.now(),this.callback=s;var c=this.hasFpsLimit?this.stepLimitFPS.bind(this):this.step.bind(this);this.raf.start(c,this.forceSetTimeOut,this._target)},smoothDelta:function(s){var f=this.deltaIndex,c=this.deltaHistory,u=this.deltaSmoothingMax;(this._coolDown>0||!this.inFocus)&&(this._coolDown--,s=Math.min(s,this._target)),s>this._min&&(s=c[f],s=Math.min(s,this._min)),c[f]=s,this.deltaIndex++,this.deltaIndex>=u&&(this.deltaIndex=0);for(var v=0,p=0;p<u;p++)v+=c[p];return v/=u,v},updateFPS:function(s){this.actualFps=.25*this.framesThisSecond+.75*this.actualFps,this.nextFpsUpdate=s+1e3,this.framesThisSecond=0},stepLimitFPS:function(s){this.now=s;var f=Math.max(0,s-this.lastTime);this.rawDelta=f,this.time+=this.rawDelta,this.smoothStep&&(f=this.smoothDelta(f)),this.delta+=f,s>=this.nextFpsUpdate&&this.updateFPS(s),this.framesThisSecond++,this.delta>=this._limitRate&&(this.callback(s,this.delta),this.delta=0),this.lastTime=s,this.frame++},step:function(s){this.now=s;var f=Math.max(0,s-this.lastTime);this.rawDelta=f,this.time+=this.rawDelta,this.smoothStep&&(f=this.smoothDelta(f)),this.delta=f,s>=this.nextFpsUpdate&&this.updateFPS(s),this.framesThisSecond++,this.callback(s,f),this.lastTime=s,this.frame++},tick:function(){var s=window.performance.now();this.hasFpsLimit?this.stepLimitFPS(s):this.step(s)},sleep:function(){this.running&&(this.raf.stop(),this.running=!1)},wake:function(s){s===void 0&&(s=!1);var f=window.performance.now();if(!this.running){s&&(this.startTime+=-this.lastTime+(this.lastTime+f));var c=this.hasFpsLimit?this.stepLimitFPS.bind(this):this.step.bind(this);this.raf.start(c,this.forceSetTimeOut,this._target),this.running=!0,this.nextFpsUpdate=f+1e3,this.framesThisSecond=0,this.fpsLimitTriggered=!1,this.tick()}},getDuration:function(){return Math.round(this.lastTime-this.startTime)/1e3},getDurationMS:function(){return Math.round(this.lastTime-this.startTime)},stop:function(){return this.running=!1,this.started=!1,this.raf.stop(),this},destroy:function(){this.stop(),this.raf.destroy(),this.raf=null,this.game=null,this.callback=null}});n.exports=o},51085:(n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=i(8443),x=function(d){var l,o=d.events;if(document.hidden!==void 0)l="visibilitychange";else{var s=["webkit","moz","ms"];s.forEach(function(c){document[c+"Hidden"]!==void 0&&(document.hidden=function(){return document[c+"Hidden"]},l=c+"visibilitychange")})}var f=function(c){document.hidden||c.type==="pause"?o.emit(a.HIDDEN):o.emit(a.VISIBLE)};l&&document.addEventListener(l,f,!1),window.onblur=function(){o.emit(a.BLUR)},window.onfocus=function(){o.emit(a.FOCUS)},window.focus&&d.config.autoFocus&&window.focus()};n.exports=x},97217:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="blur"},47548:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="boot"},19814:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="contextlost"},68446:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="destroy"},41700:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="focus"},25432:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="hidden"},65942:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="pause"},59211:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="postrender"},47789:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="poststep"},39066:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="prerender"},460:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="prestep"},16175:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="ready"},42331:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="resume"},11966:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="step"},32969:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="systemready"},94830:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="visible"},8443:(n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports={BLUR:i(97217),BOOT:i(47548),CONTEXT_LOST:i(19814),DESTROY:i(68446),FOCUS:i(41700),HIDDEN:i(25432),PAUSE:i(65942),POST_RENDER:i(59211),POST_STEP:i(47789),PRE_RENDER:i(39066),PRE_STEP:i(460),READY:i(16175),RESUME:i(42331),STEP:i(11966),SYSTEM_READY:i(32969),VISIBLE:i(94830)}},42857:(n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports={Config:i(69547),CreateRenderer:i(86054),DebugHeader:i(96391),Events:i(8443),TimeStep:i(65898),VisibilityHandler:i(51085)}},99584:(n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=i(5290),x=i(27919),d=i(35154),l=function(o){var s=d(o,"data",[]),f=d(o,"canvas",null),c=d(o,"palette",a),u=d(o,"pixelWidth",1),v=d(o,"pixelHeight",u),p=d(o,"resizeCanvas",!0),m=d(o,"clearCanvas",!0),g=d(o,"preRender",null),C=d(o,"postRender",null),M=Math.floor(Math.abs(s[0].length*u)),b=Math.floor(Math.abs(s.length*v));f||(f=x.create2D(this,M,b),p=!1,m=!1),p&&(f.width=M,f.height=b);var w=f.getContext("2d",{willReadFrequently:!0});m&&w.clearRect(0,0,M,b),g&&g(f,w);for(var R=0;R<s.length;R++)for(var A=s[R],L=0;L<A.length;L++){var D=A[L];D!=="."&&D!==" "&&(w.fillStyle=c[D],w.fillRect(L*u,R*v,u,v))}return C&&C(f,w),f};n.exports=l},15822:(n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports={GenerateTexture:i(99584),Palettes:i(57763)}},5290:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports={0:"#000",1:"#9D9D9D",2:"#FFF",3:"#BE2633",4:"#E06F8B",5:"#493C2B",6:"#A46422",7:"#EB8931",8:"#F7E26B",9:"#2F484E",A:"#44891A",B:"#A3CE27",C:"#1B2632",D:"#005784",E:"#31A2F2",F:"#B2DCEF"}},23816:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports={0:"#000",1:"#fff",2:"#8b4131",3:"#7bbdc5",4:"#8b41ac",5:"#6aac41",6:"#3931a4",7:"#d5de73",8:"#945a20",9:"#5a4100",A:"#bd736a",B:"#525252",C:"#838383",D:"#acee8b",E:"#7b73de",F:"#acacac"}},9866:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports={0:"#000",1:"#2234d1",2:"#0c7e45",3:"#44aacc",4:"#8a3622",5:"#5c2e78",6:"#aa5c3d",7:"#b5b5b5",8:"#5e606e",9:"#4c81fb",A:"#6cd947",B:"#7be2f9",C:"#eb8a60",D:"#e23d69",E:"#ffd93f",F:"#fff"}},77552:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports={0:"#000",1:"#191028",2:"#46af45",3:"#a1d685",4:"#453e78",5:"#7664fe",6:"#833129",7:"#9ec2e8",8:"#dc534b",9:"#e18d79",A:"#d6b97b",B:"#e9d8a1",C:"#216c4b",D:"#d365c8",E:"#afaab9",F:"#f5f4eb"}},92259:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports={0:"#000",1:"#191028",2:"#46af45",3:"#a1d685",4:"#453e78",5:"#7664fe",6:"#833129",7:"#9ec2e8",8:"#dc534b",9:"#e18d79",A:"#d6b97b",B:"#e9d8a1",C:"#216c4b",D:"#d365c8",E:"#afaab9",F:"#fff"}},57763:(n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports={ARNE16:i(5290),C64:i(23816),CGA:i(9866),JMP:i(77552),MSX:i(92259)}},46728:(n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=i(83419),x=i(36316),d=i(80021),l=i(26099),o=new a({Extends:d,initialize:function(f,c,u,v){d.call(this,"CubicBezierCurve"),Array.isArray(f)&&(v=new l(f[6],f[7]),u=new l(f[4],f[5]),c=new l(f[2],f[3]),f=new l(f[0],f[1])),this.p0=f,this.p1=c,this.p2=u,this.p3=v},getStartPoint:function(s){return s===void 0&&(s=new l),s.copy(this.p0)},getResolution:function(s){return s},getPoint:function(s,f){f===void 0&&(f=new l);var c=this.p0,u=this.p1,v=this.p2,p=this.p3;return f.set(x(s,c.x,u.x,v.x,p.x),x(s,c.y,u.y,v.y,p.y))},draw:function(s,f){f===void 0&&(f=32);var c=this.getPoints(f);s.beginPath(),s.moveTo(this.p0.x,this.p0.y);for(var u=1;u<c.length;u++)s.lineTo(c[u].x,c[u].y);return s.strokePath(),s},toJSON:function(){return{type:this.type,points:[this.p0.x,this.p0.y,this.p1.x,this.p1.y,this.p2.x,this.p2.y,this.p3.x,this.p3.y]}}});o.fromJSON=function(s){var f=s.points,c=new l(f[0],f[1]),u=new l(f[2],f[3]),v=new l(f[4],f[5]),p=new l(f[6],f[7]);return new o(c,u,v,p)},n.exports=o},80021:(n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=i(83419),x=i(19217),d=i(87841),l=i(26099),o=new a({initialize:function(f){this.type=f,this.defaultDivisions=5,this.arcLengthDivisions=100,this.cacheArcLengths=[],this.needsUpdate=!0,this.active=!0,this._tmpVec2A=new l,this._tmpVec2B=new l},draw:function(s,f){return f===void 0&&(f=32),s.strokePoints(this.getPoints(f))},getBounds:function(s,f){s||(s=new d),f===void 0&&(f=16);var c=this.getLength();f>c&&(f=c/2);var u=Math.max(1,Math.round(c/f));return x(this.getSpacedPoints(u),s)},getDistancePoints:function(s){var f=this.getLength(),c=Math.max(1,f/s);return this.getSpacedPoints(c)},getEndPoint:function(s){return s===void 0&&(s=new l),this.getPointAt(1,s)},getLength:function(){var s=this.getLengths();return s[s.length-1]},getLengths:function(s){if(s===void 0&&(s=this.arcLengthDivisions),this.cacheArcLengths.length===s+1&&!this.needsUpdate)return this.cacheArcLengths;this.needsUpdate=!1;var f=[],c,u=this.getPoint(0,this._tmpVec2A),v=0;f.push(0);for(var p=1;p<=s;p++)c=this.getPoint(p/s,this._tmpVec2B),v+=c.distance(u),f.push(v),u.copy(c);return this.cacheArcLengths=f,f},getPointAt:function(s,f){var c=this.getUtoTmapping(s);return this.getPoint(c,f)},getPoints:function(s,f,c){c===void 0&&(c=[]),s||(f?s=this.getLength()/f:s=this.defaultDivisions);for(var u=0;u<=s;u++)c.push(this.getPoint(u/s));return c},getRandomPoint:function(s){return s===void 0&&(s=new l),this.getPoint(Math.random(),s)},getSpacedPoints:function(s,f,c){c===void 0&&(c=[]),s||(f?s=this.getLength()/f:s=this.defaultDivisions);for(var u=0;u<=s;u++){var v=this.getUtoTmapping(u/s,null,s);c.push(this.getPoint(v))}return c},getStartPoint:function(s){return s===void 0&&(s=new l),this.getPointAt(0,s)},getTangent:function(s,f){f===void 0&&(f=new l);var c=1e-4,u=s-c,v=s+c;return u<0&&(u=0),v>1&&(v=1),this.getPoint(u,this._tmpVec2A),this.getPoint(v,f),f.subtract(this._tmpVec2A).normalize()},getTangentAt:function(s,f){var c=this.getUtoTmapping(s);return this.getTangent(c,f)},getTFromDistance:function(s,f){return s<=0?0:this.getUtoTmapping(0,s,f)},getUtoTmapping:function(s,f,c){var u=this.getLengths(c),v=0,p=u.length,m;f?m=Math.min(f,u[p-1]):m=s*u[p-1];for(var g=0,C=p-1,M;g<=C;)if(v=Math.floor(g+(C-g)/2),M=u[v]-m,M<0)g=v+1;else if(M>0)C=v-1;else{C=v;break}if(v=C,u[v]===m)return v/(p-1);var b=u[v],w=u[v+1],R=w-b,A=(m-b)/R;return(v+A)/(p-1)},updateArcLengths:function(){this.needsUpdate=!0,this.getLengths()}});n.exports=o},73825:(n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=i(83419),x=i(80021),d=i(39506),l=i(35154),o=i(43396),s=i(26099),f=new a({Extends:x,initialize:function(u,v,p,m,g,C,M,b){if(typeof u=="object"){var w=u;u=l(w,"x",0),v=l(w,"y",0),p=l(w,"xRadius",0),m=l(w,"yRadius",p),g=l(w,"startAngle",0),C=l(w,"endAngle",360),M=l(w,"clockwise",!1),b=l(w,"rotation",0)}else m===void 0&&(m=p),g===void 0&&(g=0),C===void 0&&(C=360),M===void 0&&(M=!1),b===void 0&&(b=0);x.call(this,"EllipseCurve"),this.p0=new s(u,v),this._xRadius=p,this._yRadius=m,this._startAngle=d(g),this._endAngle=d(C),this._clockwise=M,this._rotation=d(b)},getStartPoint:function(c){return c===void 0&&(c=new s),this.getPoint(0,c)},getResolution:function(c){return c*2},getPoint:function(c,u){u===void 0&&(u=new s);for(var v=Math.PI*2,p=this._endAngle-this._startAngle,m=Math.abs(p)<Number.EPSILON;p<0;)p+=v;for(;p>v;)p-=v;p<Number.EPSILON&&(m?p=0:p=v),this._clockwise&&!m&&(p===v?p=-v:p=p-v);var g=this._startAngle+c*p,C=this.p0.x+this._xRadius*Math.cos(g),M=this.p0.y+this._yRadius*Math.sin(g);if(this._rotation!==0){var b=Math.cos(this._rotation),w=Math.sin(this._rotation),R=C-this.p0.x,A=M-this.p0.y;C=R*b-A*w+this.p0.x,M=R*w+A*b+this.p0.y}return u.set(C,M)},setXRadius:function(c){return this.xRadius=c,this},setYRadius:function(c){return this.yRadius=c,this},setWidth:function(c){return this.xRadius=c/2,this},setHeight:function(c){return this.yRadius=c/2,this},setStartAngle:function(c){return this.startAngle=c,this},setEndAngle:function(c){return this.endAngle=c,this},setClockwise:function(c){return this.clockwise=c,this},setRotation:function(c){return this.rotation=c,this},x:{get:function(){return this.p0.x},set:function(c){this.p0.x=c}},y:{get:function(){return this.p0.y},set:function(c){this.p0.y=c}},xRadius:{get:function(){return this._xRadius},set:function(c){this._xRadius=c}},yRadius:{get:function(){return this._yRadius},set:function(c){this._yRadius=c}},startAngle:{get:function(){return o(this._startAngle)},set:function(c){this._startAngle=d(c)}},endAngle:{get:function(){return o(this._endAngle)},set:function(c){this._endAngle=d(c)}},clockwise:{get:function(){return this._clockwise},set:function(c){this._clockwise=c}},angle:{get:function(){return o(this._rotation)},set:function(c){this._rotation=d(c)}},rotation:{get:function(){return this._rotation},set:function(c){this._rotation=c}},toJSON:function(){return{type:this.type,x:this.p0.x,y:this.p0.y,xRadius:this._xRadius,yRadius:this._yRadius,startAngle:o(this._startAngle),endAngle:o(this._endAngle),clockwise:this._clockwise,rotation:o(this._rotation)}}});f.fromJSON=function(c){return new f(c)},n.exports=f},33951:(n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=i(83419),x=i(80021),d=i(19217),l=i(87841),o=i(26099),s=new a({Extends:x,initialize:function(c,u){x.call(this,"LineCurve"),Array.isArray(c)&&(u=new o(c[2],c[3]),c=new o(c[0],c[1])),this.p0=c,this.p1=u,this.arcLengthDivisions=1},getBounds:function(f){return f===void 0&&(f=new l),d([this.p0,this.p1],f)},getStartPoint:function(f){return f===void 0&&(f=new o),f.copy(this.p0)},getResolution:function(f){return f===void 0&&(f=1),f},getPoint:function(f,c){return c===void 0&&(c=new o),f===1?c.copy(this.p1):(c.copy(this.p1).subtract(this.p0).scale(f).add(this.p0),c)},getPointAt:function(f,c){return this.getPoint(f,c)},getTangent:function(f,c){return c===void 0&&(c=new o),c.copy(this.p1).subtract(this.p0).normalize(),c},getUtoTmapping:function(f,c,u){var v;if(c){var p=this.getLengths(u),m=p[p.length-1],g=Math.min(c,m);v=g/m}else v=f;return v},draw:function(f){return f.lineBetween(this.p0.x,this.p0.y,this.p1.x,this.p1.y),f},toJSON:function(){return{type:this.type,points:[this.p0.x,this.p0.y,this.p1.x,this.p1.y]}}});s.fromJSON=function(f){var c=f.points,u=new o(c[0],c[1]),v=new o(c[2],c[3]);return new s(u,v)},n.exports=s},14744:(n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=i(83419),x=i(80021),d=i(32112),l=i(26099),o=new a({Extends:x,initialize:function(f,c,u){x.call(this,"QuadraticBezierCurve"),Array.isArray(f)&&(u=new l(f[4],f[5]),c=new l(f[2],f[3]),f=new l(f[0],f[1])),this.p0=f,this.p1=c,this.p2=u},getStartPoint:function(s){return s===void 0&&(s=new l),s.copy(this.p0)},getResolution:function(s){return s},getPoint:function(s,f){f===void 0&&(f=new l);var c=this.p0,u=this.p1,v=this.p2;return f.set(d(s,c.x,u.x,v.x),d(s,c.y,u.y,v.y))},draw:function(s,f){f===void 0&&(f=32);var c=this.getPoints(f);s.beginPath(),s.moveTo(this.p0.x,this.p0.y);for(var u=1;u<c.length;u++)s.lineTo(c[u].x,c[u].y);return s.strokePath(),s},toJSON:function(){return{type:this.type,points:[this.p0.x,this.p0.y,this.p1.x,this.p1.y,this.p2.x,this.p2.y]}}});o.fromJSON=function(s){var f=s.points,c=new l(f[0],f[1]),u=new l(f[2],f[3]),v=new l(f[4],f[5]);return new o(c,u,v)},n.exports=o},42534:(n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=i(87842),x=i(83419),d=i(80021),l=i(26099),o=new x({Extends:d,initialize:function(f){f===void 0&&(f=[]),d.call(this,"SplineCurve"),this.points=[],this.addPoints(f)},addPoints:function(s){for(var f=0;f<s.length;f++){var c=new l;typeof s[f]=="number"?(c.x=s[f],c.y=s[f+1],f++):Array.isArray(s[f])?(c.x=s[f][0],c.y=s[f][1]):(c.x=s[f].x,c.y=s[f].y),this.points.push(c)}return this},addPoint:function(s,f){var c=new l(s,f);return this.points.push(c),c},getStartPoint:function(s){return s===void 0&&(s=new l),s.copy(this.points[0])},getResolution:function(s){return s*this.points.length},getPoint:function(s,f){f===void 0&&(f=new l);var c=this.points,u=(c.length-1)*s,v=Math.floor(u),p=u-v,m=c[v===0?v:v-1],g=c[v],C=c[v>c.length-2?c.length-1:v+1],M=c[v>c.length-3?c.length-1:v+2];return f.set(a(p,m.x,g.x,C.x,M.x),a(p,m.y,g.y,C.y,M.y))},toJSON:function(){for(var s=[],f=0;f<this.points.length;f++)s.push(this.points[f].x),s.push(this.points[f].y);return{type:this.type,points:s}}});o.fromJSON=function(s){return new o(s.points)},n.exports=o},25410:(n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports={Path:i(46669),MoveTo:i(68618),CubicBezier:i(46728),Curve:i(80021),Ellipse:i(73825),Line:i(33951),QuadraticBezier:i(14744),Spline:i(42534)}},68618:(n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=i(83419),x=i(26099),d=new a({initialize:function(o,s){this.active=!1,this.p0=new x(o,s)},getPoint:function(l,o){return o===void 0&&(o=new x),o.copy(this.p0)},getPointAt:function(l,o){return this.getPoint(l,o)},getResolution:function(){return 1},getLength:function(){return 0},toJSON:function(){return{type:"MoveTo",points:[this.p0.x,this.p0.y]}}});n.exports=d},46669:(n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=i(83419),x=i(46728),d=i(73825),l=i(39429),o=i(33951),s=i(68618),f=i(14744),c=i(87841),u=i(42534),v=i(26099),p=i(36383),m=new a({initialize:function(C,M){C===void 0&&(C=0),M===void 0&&(M=0),this.name="",this.defaultDivisions=12,this.curves=[],this.cacheLengths=[],this.autoClose=!1,this.startPoint=new v,this._tmpVec2A=new v,this._tmpVec2B=new v,typeof C=="object"?this.fromJSON(C):this.startPoint.set(C,M)},add:function(g){return this.curves.push(g),this},circleTo:function(g,C,M){return C===void 0&&(C=!1),this.ellipseTo(g,g,0,360,C,M)},closePath:function(){var g=this.curves[0].getPoint(0),C=this.curves[this.curves.length-1].getPoint(1);return g.equals(C)||this.curves.push(new o(C,g)),this},cubicBezierTo:function(g,C,M,b,w,R){var A=this.getEndPoint(),L,D,G;return g instanceof v?(L=g,D=C,G=M):(L=new v(M,b),D=new v(w,R),G=new v(g,C)),this.add(new x(A,L,D,G))},quadraticBezierTo:function(g,C,M,b){var w=this.getEndPoint(),R,A;return g instanceof v?(R=g,A=C):(R=new v(M,b),A=new v(g,C)),this.add(new f(w,R,A))},draw:function(g,C){for(var M=0;M<this.curves.length;M++){var b=this.curves[M];b.active&&b.draw(g,C)}return g},ellipseTo:function(g,C,M,b,w,R){var A=new d(0,0,g,C,M,b,w,R),L=this.getEndPoint(this._tmpVec2A),D=A.getStartPoint(this._tmpVec2B);return L.subtract(D),A.x=L.x,A.y=L.y,this.add(A)},fromJSON:function(g){this.curves=[],this.cacheLengths=[],this.startPoint.set(g.x,g.y),this.autoClose=g.autoClose;for(var C=0;C<g.curves.length;C++){var M=g.curves[C];switch(M.type){case"LineCurve":this.add(o.fromJSON(M));break;case"EllipseCurve":this.add(d.fromJSON(M));break;case"SplineCurve":this.add(u.fromJSON(M));break;case"CubicBezierCurve":this.add(x.fromJSON(M));break;case"QuadraticBezierCurve":this.add(f.fromJSON(M));break}}return this},getBounds:function(g,C){g===void 0&&(g=new c),C===void 0&&(C=16),g.x=Number.MAX_VALUE,g.y=Number.MAX_VALUE;for(var M=new c,b=p.MIN_SAFE_INTEGER,w=p.MIN_SAFE_INTEGER,R=0;R<this.curves.length;R++){var A=this.curves[R];A.active&&(A.getBounds(M,C),g.x=Math.min(g.x,M.x),g.y=Math.min(g.y,M.y),b=Math.max(b,M.right),w=Math.max(w,M.bottom))}return g.right=b,g.bottom=w,g},getCurveLengths:function(){if(this.cacheLengths.length===this.curves.length)return this.cacheLengths;for(var g=[],C=0,M=0;M<this.curves.length;M++)C+=this.curves[M].getLength(),g.push(C);return this.cacheLengths=g,g},getCurveAt:function(g){for(var C=g*this.getLength(),M=this.getCurveLengths(),b=0;b<M.length;){if(M[b]>=C)return this.curves[b];b++}return null},getEndPoint:function(g){return g===void 0&&(g=new v),this.curves.length>0?this.curves[this.curves.length-1].getPoint(1,g):g.copy(this.startPoint),g},getLength:function(){var g=this.getCurveLengths();return g[g.length-1]},getPoint:function(g,C){C===void 0&&(C=new v);for(var M=g*this.getLength(),b=this.getCurveLengths(),w=0;w<b.length;){if(b[w]>=M){var R=b[w]-M,A=this.curves[w],L=A.getLength(),D=L===0?0:1-R/L;return A.getPointAt(D,C)}w++}return null},getPoints:function(g,C){!g&&!C&&(g=this.defaultDivisions);for(var M=[],b,w=0;w<this.curves.length;w++){var R=this.curves[w];if(R.active)for(var A=R.getResolution(g),L=R.getPoints(A,C),D=0;D<L.length;D++){var G=L[D];b&&b.equals(G)||(M.push(G),b=G)}}return this.autoClose&&M.length>1&&!M[M.length-1].equals(M[0])&&M.push(M[0]),M},getRandomPoint:function(g){return g===void 0&&(g=new v),this.getPoint(Math.random(),g)},getSpacedPoints:function(g){g===void 0&&(g=40);for(var C=[],M=0;M<=g;M++)C.push(this.getPoint(M/g));return this.autoClose&&C.push(C[0]),C},getStartPoint:function(g){return g===void 0&&(g=new v),g.copy(this.startPoint)},getTangent:function(g,C){C===void 0&&(C=new v);for(var M=g*this.getLength(),b=this.getCurveLengths(),w=0;w<b.length;){if(b[w]>=M){var R=b[w]-M,A=this.curves[w],L=A.getLength(),D=L===0?0:1-R/L;return A.getTangentAt(D,C)}w++}return null},lineTo:function(g,C){g instanceof v?this._tmpVec2B.copy(g):typeof g=="object"?this._tmpVec2B.setFromObject(g):this._tmpVec2B.set(g,C);var M=this.getEndPoint(this._tmpVec2A);return this.add(new o([M.x,M.y,this._tmpVec2B.x,this._tmpVec2B.y]))},splineTo:function(g){return g.unshift(this.getEndPoint()),this.add(new u(g))},moveTo:function(g,C){return g instanceof v?this.add(new s(g.x,g.y)):this.add(new s(g,C))},toJSON:function(){for(var g=[],C=0;C<this.curves.length;C++)g.push(this.curves[C].toJSON());return{type:"Path",x:this.startPoint.x,y:this.startPoint.y,autoClose:this.autoClose,curves:g}},updateArcLengths:function(){this.cacheLengths=[],this.getCurveLengths()},destroy:function(){this.curves.length=0,this.cacheLengths.length=0,this.startPoint=void 0}});l.register("path",function(g,C){return new m(g,C)}),n.exports=m},45893:(n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=i(83419),x=i(24882),d=new a({initialize:function(o,s){this.parent=o,this.events=s,s||(this.events=o.events?o.events:o),this.list={},this.values={},this._frozen=!1,!o.hasOwnProperty("sys")&&this.events&&this.events.once(x.DESTROY,this.destroy,this)},get:function(l){var o=this.list;if(Array.isArray(l)){for(var s=[],f=0;f<l.length;f++)s.push(o[l[f]]);return s}else return o[l]},getAll:function(){var l={};for(var o in this.list)this.list.hasOwnProperty(o)&&(l[o]=this.list[o]);return l},query:function(l){var o={};for(var s in this.list)this.list.hasOwnProperty(s)&&s.match(l)&&(o[s]=this.list[s]);return o},set:function(l,o){if(this._frozen)return this;if(typeof l=="string")return this.setValue(l,o);for(var s in l)this.setValue(s,l[s]);return this},inc:function(l,o){if(this._frozen)return this;o===void 0&&(o=1);var s=this.get(l);return s===void 0&&(s=0),this.set(l,s+o),this},toggle:function(l){return this._frozen?this:(this.set(l,!this.get(l)),this)},setValue:function(l,o){if(this._frozen)return this;if(this.has(l))this.values[l]=o;else{var s=this,f=this.list,c=this.events,u=this.parent;Object.defineProperty(this.values,l,{enumerable:!0,configurable:!0,get:function(){return f[l]},set:function(v){if(!s._frozen){var p=f[l];f[l]=v,c.emit(x.CHANGE_DATA,u,l,v,p),c.emit(x.CHANGE_DATA_KEY+l,u,v,p)}}}),f[l]=o,c.emit(x.SET_DATA,u,l,o)}return this},each:function(l,o){for(var s=[this.parent,null,void 0],f=1;f<arguments.length;f++)s.push(arguments[f]);for(var c in this.list)s[1]=c,s[2]=this.list[c],l.apply(o,s);return this},merge:function(l,o){o===void 0&&(o=!0);for(var s in l)l.hasOwnProperty(s)&&(o||!o&&!this.has(s))&&this.setValue(s,l[s]);return this},remove:function(l){if(this._frozen)return this;if(Array.isArray(l))for(var o=0;o<l.length;o++)this.removeValue(l[o]);else return this.removeValue(l);return this},removeValue:function(l){if(this.has(l)){var o=this.list[l];delete this.list[l],delete this.values[l],this.events.emit(x.REMOVE_DATA,this.parent,l,o)}return this},pop:function(l){var o=void 0;return!this._frozen&&this.has(l)&&(o=this.list[l],delete this.list[l],delete this.values[l],this.events.emit(x.REMOVE_DATA,this.parent,l,o)),o},has:function(l){return this.list.hasOwnProperty(l)},setFreeze:function(l){return this._frozen=l,this},reset:function(){for(var l in this.list)delete this.list[l],delete this.values[l];return this._frozen=!1,this},destroy:function(){this.reset(),this.events.off(x.CHANGE_DATA),this.events.off(x.SET_DATA),this.events.off(x.REMOVE_DATA),this.parent=null},freeze:{get:function(){return this._frozen},set:function(l){this._frozen=!!l}},count:{get:function(){var l=0;for(var o in this.list)this.list[o]!==void 0&&l++;return l}}});n.exports=d},63646:(n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=i(83419),x=i(45893),d=i(37277),l=i(44594),o=new a({Extends:x,initialize:function(f){x.call(this,f,f.sys.events),this.scene=f,this.systems=f.sys,f.sys.events.once(l.BOOT,this.boot,this),f.sys.events.on(l.START,this.start,this)},boot:function(){this.events=this.systems.events,this.events.once(l.DESTROY,this.destroy,this)},start:function(){this.events.once(l.SHUTDOWN,this.shutdown,this)},shutdown:function(){this.systems.events.off(l.SHUTDOWN,this.shutdown,this)},destroy:function(){x.prototype.destroy.call(this),this.events.off(l.START,this.start,this),this.scene=null,this.systems=null}});d.register("DataManagerPlugin",o,"data"),n.exports=o},10700:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="changedata"},93608:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="changedata-"},60883:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="destroy"},69780:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="removedata"},22166:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="setdata"},24882:(n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports={CHANGE_DATA:i(10700),CHANGE_DATA_KEY:i(93608),DESTROY:i(60883),REMOVE_DATA:i(69780),SET_DATA:i(22166)}},44965:(n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports={DataManager:i(45893),DataManagerPlugin:i(63646),Events:i(24882)}},7098:(n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=i(84148),x={flac:!1,aac:!1,audioData:!1,dolby:!1,m4a:!1,mp3:!1,ogg:!1,opus:!1,wav:!1,webAudio:!1,webm:!1};function d(){if(typeof importScripts=="function")return x;x.audioData=!!window.Audio,x.webAudio=!!(window.AudioContext||window.webkitAudioContext);var l=document.createElement("audio"),o=!!l.canPlayType;try{if(o){var s=function(u,v){var p=l.canPlayType("audio/"+u).replace(/^no$/,"");return v?!!(p||l.canPlayType("audio/"+v).replace(/^no$/,"")):!!p};if(x.ogg=s('ogg; codecs="vorbis"'),x.opus=s('ogg; codecs="opus"',"opus"),x.mp3=s("mpeg"),x.wav=s("wav"),x.m4a=s("x-m4a"),x.aac=s("aac"),x.flac=s("flac","x-flac"),x.webm=s('webm; codecs="vorbis"'),l.canPlayType('audio/mp4; codecs="ec-3"')!==""){if(a.edge)x.dolby=!0;else if(a.safari&&a.safariVersion>=9&&/Mac OS X (\d+)_(\d+)/.test(navigator.userAgent)){var f=parseInt(RegExp.$1,10),c=parseInt(RegExp.$2,10);(f===10&&c>=11||f>10)&&(x.dolby=!0)}}}}catch{}return x}n.exports=d()},84148:(n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=i(25892),x={chrome:!1,chromeVersion:0,edge:!1,firefox:!1,firefoxVersion:0,ie:!1,ieVersion:0,mobileSafari:!1,opera:!1,safari:!1,safariVersion:0,silk:!1,trident:!1,tridentVersion:0,es2019:!1};function d(){var l=navigator.userAgent;return/Edg\/\d+/.test(l)?(x.edge=!0,x.es2019=!0):/OPR/.test(l)?(x.opera=!0,x.es2019=!0):/Chrome\/(\d+)/.test(l)&&!a.windowsPhone?(x.chrome=!0,x.chromeVersion=parseInt(RegExp.$1,10),x.es2019=x.chromeVersion>69):/Firefox\D+(\d+)/.test(l)?(x.firefox=!0,x.firefoxVersion=parseInt(RegExp.$1,10),x.es2019=x.firefoxVersion>10):/AppleWebKit\/(?!.*CriOS)/.test(l)&&a.iOS?(x.mobileSafari=!0,x.es2019=!0):/MSIE (\d+\.\d+);/.test(l)?(x.ie=!0,x.ieVersion=parseInt(RegExp.$1,10)):/Version\/(\d+\.\d+(\.\d+)?) Safari/.test(l)&&!a.windowsPhone?(x.safari=!0,x.safariVersion=parseInt(RegExp.$1,10),x.es2019=x.safariVersion>10):/Trident\/(\d+\.\d+)(.*)rv:(\d+\.\d+)/.test(l)&&(x.ie=!0,x.trident=!0,x.tridentVersion=parseInt(RegExp.$1,10),x.ieVersion=parseInt(RegExp.$3,10)),/Silk/.test(l)&&(x.silk=!0),x}n.exports=d()},89289:(n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=i(27919),x={supportInverseAlpha:!1,supportNewBlendModes:!1};function d(){var s="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAQAAAABAQMAAADD8p2OAAAAA1BMVEX/",f="AAAACklEQVQI12NgAAAAAgAB4iG8MwAAAABJRU5ErkJggg==",c=new Image;return c.onload=function(){var u=new Image;u.onload=function(){var v=a.create2D(u,6),p=v.getContext("2d",{willReadFrequently:!0});if(p.globalCompositeOperation="multiply",p.drawImage(c,0,0),p.drawImage(u,2,0),!p.getImageData(2,0,1,1))return!1;var m=p.getImageData(2,0,1,1).data;a.remove(u),x.supportNewBlendModes=m[0]===255&&m[1]===0&&m[2]===0},u.src=s+"/wCKxvRF"+f},c.src=s+"AP804Oa6"+f,!1}function l(){var s=a.create2D(this,2),f=s.getContext("2d",{willReadFrequently:!0});f.fillStyle="rgba(10, 20, 30, 0.5)",f.fillRect(0,0,1,1);var c=f.getImageData(0,0,1,1);if(c===null)return!1;f.putImageData(c,1,0);var u=f.getImageData(1,0,1,1),v=u.data[0]===c.data[0]&&u.data[1]===c.data[1]&&u.data[2]===c.data[2]&&u.data[3]===c.data[3];return a.remove(this),v}function o(){return typeof importScripts!="function"&&document!==void 0&&(x.supportNewBlendModes=d(),x.supportInverseAlpha=l()),x}n.exports=o()},89357:(n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=i(25892),x=i(84148),d=i(27919),l={canvas:!1,canvasBitBltShift:null,file:!1,fileSystem:!1,getUserMedia:!0,littleEndian:!1,localStorage:!1,pointerLock:!1,stableSort:!1,support32bit:!1,vibration:!1,webGL:!1,worker:!1};function o(){var f=new ArrayBuffer(4),c=new Uint8Array(f),u=new Uint32Array(f);return c[0]=161,c[1]=178,c[2]=195,c[3]=212,u[0]===3569595041?!0:u[0]===2712847316?!1:null}function s(){if(typeof importScripts=="function")return l;l.canvas=!!window.CanvasRenderingContext2D;try{l.localStorage=!!localStorage.getItem}catch{l.localStorage=!1}l.file=!!window.File&&!!window.FileReader&&!!window.FileList&&!!window.Blob,l.fileSystem=!!window.requestFileSystem;var f=!1,c=function(){if(window.WebGLRenderingContext)try{var u=d.createWebGL(this),v=u.getContext("webgl")||u.getContext("experimental-webgl"),p=d.create2D(this),m=p.getContext("2d",{willReadFrequently:!0}),g=m.createImageData(1,1);return f=g.data instanceof Uint8ClampedArray,d.remove(u),d.remove(p),!!v}catch{return!1}return!1};return l.webGL=c(),l.worker=!!window.Worker,l.pointerLock="pointerLockElement"in document||"mozPointerLockElement"in document||"webkitPointerLockElement"in document,navigator.getUserMedia=navigator.getUserMedia||navigator.webkitGetUserMedia||navigator.mozGetUserMedia||navigator.msGetUserMedia||navigator.oGetUserMedia,window.URL=window.URL||window.webkitURL||window.mozURL||window.msURL,l.getUserMedia=l.getUserMedia&&!!navigator.getUserMedia&&!!window.URL,x.firefox&&x.firefoxVersion<21&&(l.getUserMedia=!1),!a.iOS&&(x.ie||x.firefox||x.chrome)&&(l.canvasBitBltShift=!0),(x.safari||x.mobileSafari)&&(l.canvasBitBltShift=!1),navigator.vibrate=navigator.vibrate||navigator.webkitVibrate||navigator.mozVibrate||navigator.msVibrate,navigator.vibrate&&(l.vibration=!0),typeof ArrayBuffer<"u"&&typeof Uint8Array<"u"&&typeof Uint32Array<"u"&&(l.littleEndian=o()),l.support32bit=typeof ArrayBuffer<"u"&&typeof Uint8ClampedArray<"u"&&typeof Int32Array<"u"&&l.littleEndian!==null&&f,l}n.exports=s()},91639:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T={available:!1,cancel:"",keyboard:!1,request:""};function i(){if(typeof importScripts=="function")return T;var a,x="Fullscreen",d="FullScreen",l=["request"+x,"request"+d,"webkitRequest"+x,"webkitRequest"+d,"msRequest"+x,"msRequest"+d,"mozRequest"+d,"mozRequest"+x];for(a=0;a<l.length;a++)if(document.documentElement[l[a]]){T.available=!0,T.request=l[a];break}var o=["cancel"+d,"exit"+x,"webkitCancel"+d,"webkitExit"+x,"msCancel"+d,"msExit"+x,"mozCancel"+d,"mozExit"+x];if(T.available){for(a=0;a<o.length;a++)if(document[o[a]]){T.cancel=o[a];break}}return window.Element&&Element.ALLOW_KEYBOARD_INPUT&&!/ Version\/5\.1(?:\.\d+)? Safari\//.test(navigator.userAgent)&&(T.keyboard=!0),Object.defineProperty(T,"active",{get:function(){return!!(document.fullscreenElement||document.webkitFullscreenElement||document.mozFullScreenElement||document.msFullscreenElement)}}),T}n.exports=i()},31784:(n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=i(84148),x={gamepads:!1,mspointer:!1,touch:!1,wheelEvent:null};function d(){return typeof importScripts=="function"||(("ontouchstart"in document.documentElement||navigator.maxTouchPoints&&navigator.maxTouchPoints>=1)&&(x.touch=!0),(navigator.msPointerEnabled||navigator.pointerEnabled)&&(x.mspointer=!0),navigator.getGamepads&&(x.gamepads=!0),"onwheel"in window||a.ie&&"WheelEvent"in window?x.wheelEvent="wheel":"onmousewheel"in window?x.wheelEvent="mousewheel":a.firefox&&"MouseScrollEvent"in window&&(x.wheelEvent="DOMMouseScroll")),x}n.exports=d()},25892:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T={android:!1,chromeOS:!1,cordova:!1,crosswalk:!1,desktop:!1,ejecta:!1,electron:!1,iOS:!1,iOSVersion:0,iPad:!1,iPhone:!1,kindle:!1,linux:!1,macOS:!1,node:!1,nodeWebkit:!1,pixelRatio:1,webApp:!1,windows:!1,windowsPhone:!1};function i(){if(typeof importScripts=="function")return T;var a=navigator.userAgent;/Windows/.test(a)?T.windows=!0:/Mac OS/.test(a)&&!/like Mac OS/.test(a)?navigator.maxTouchPoints&&navigator.maxTouchPoints>2?(T.iOS=!0,T.iPad=!0,navigator.appVersion.match(/Version\/(\d+)/),T.iOSVersion=parseInt(RegExp.$1,10)):T.macOS=!0:/Android/.test(a)?T.android=!0:/Linux/.test(a)?T.linux=!0:/iP[ao]d|iPhone/i.test(a)?(T.iOS=!0,navigator.appVersion.match(/OS (\d+)/),T.iOSVersion=parseInt(RegExp.$1,10),T.iPhone=a.toLowerCase().indexOf("iphone")!==-1,T.iPad=a.toLowerCase().indexOf("ipad")!==-1):/Kindle/.test(a)||/\bKF[A-Z][A-Z]+/.test(a)||/Silk.*Mobile Safari/.test(a)?T.kindle=!0:/CrOS/.test(a)&&(T.chromeOS=!0),(/Windows Phone/i.test(a)||/IEMobile/i.test(a))&&(T.android=!1,T.iOS=!1,T.macOS=!1,T.windows=!0,T.windowsPhone=!0);var x=/Silk/.test(a);return(T.windows||T.macOS||T.linux&&!x||T.chromeOS)&&(T.desktop=!0),(T.windowsPhone||/Windows NT/i.test(a)&&/Touch/i.test(a))&&(T.desktop=!1),navigator.standalone&&(T.webApp=!0),typeof importScripts!="function"&&(window.cordova!==void 0&&(T.cordova=!0),window.ejecta!==void 0&&(T.ejecta=!0)),typeof process<"u"&&process.versions&&process.versions.node&&(T.node=!0),T.node&&typeof process.versions=="object"&&(T.nodeWebkit=!!process.versions["node-webkit"],T.electron=!!process.versions.electron),/Crosswalk/.test(a)&&(T.crosswalk=!0),T.pixelRatio=window.devicePixelRatio||1,T}n.exports=i()},43267:(n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=i(95540),x={h264:!1,hls:!1,mp4:!1,m4v:!1,ogg:!1,vp9:!1,webm:!1,hasRequestVideoFrame:!1};function d(){if(typeof importScripts=="function")return x;var l=document.createElement("video"),o=!!l.canPlayType,s=/^no$/;try{o&&(l.canPlayType('video/ogg; codecs="theora"').replace(s,"")&&(x.ogg=!0),l.canPlayType('video/mp4; codecs="avc1.42E01E"').replace(s,"")&&(x.h264=!0,x.mp4=!0),l.canPlayType("video/x-m4v").replace(s,"")&&(x.m4v=!0),l.canPlayType('video/webm; codecs="vp8, vorbis"').replace(s,"")&&(x.webm=!0),l.canPlayType('video/webm; codecs="vp9"').replace(s,"")&&(x.vp9=!0),l.canPlayType('application/x-mpegURL; codecs="avc1.42E01E"').replace(s,"")&&(x.hls=!0))}catch{}return l.parentNode&&l.parentNode.removeChild(l),x.getVideoURL=function(f){Array.isArray(f)||(f=[f]);for(var c=0;c<f.length;c++){var u=a(f[c],"url",f[c]);if(u.indexOf("blob:")===0)return{url:u,type:""};var v;if(u.indexOf("data:")===0?v=u.split(",")[0].match(/\/(.*?);/):v=u.match(/\.([a-zA-Z0-9]+)($|\?)/),v=a(f[c],"type",v?v[1]:"").toLowerCase(),x[v])return{url:u,type:v}}return null},x}n.exports=d()},82264:(n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports={os:i(25892),browser:i(84148),features:i(89357),input:i(31784),audio:i(7098),video:i(43267),fullscreen:i(91639),canvasFeatures:i(89289)}},89422:(n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=i(83419),x=new Float32Array(20),d=new a({initialize:function(){this._matrix=new Float32Array(20),this.alpha=1,this._dirty=!0,this._data=new Float32Array(20),this.reset()},set:function(l){return this._matrix.set(l),this._dirty=!0,this},reset:function(){var l=this._matrix;return l.fill(0),l[0]=1,l[6]=1,l[12]=1,l[18]=1,this.alpha=1,this._dirty=!0,this},getData:function(){var l=this._data;return this._dirty&&(l.set(this._matrix),l[4]/=255,l[9]/=255,l[14]/=255,l[19]/=255,this._dirty=!1),l},brightness:function(l,o){l===void 0&&(l=0),o===void 0&&(o=!1);var s=l;return this.multiply([s,0,0,0,0,0,s,0,0,0,0,0,s,0,0,0,0,0,1,0],o)},saturate:function(l,o){l===void 0&&(l=0),o===void 0&&(o=!1);var s=l*2/3+1,f=(s-1)*-.5;return this.multiply([s,f,f,0,0,f,s,f,0,0,f,f,s,0,0,0,0,0,1,0],o)},desaturate:function(l){return l===void 0&&(l=!1),this.saturate(-1,l)},hue:function(l,o){l===void 0&&(l=0),o===void 0&&(o=!1),l=l/180*Math.PI;var s=Math.cos(l),f=Math.sin(l),c=.213,u=.715,v=.072;return this.multiply([c+s*(1-c)+f*-c,u+s*-u+f*-u,v+s*-v+f*(1-v),0,0,c+s*-c+f*.143,u+s*(1-u)+f*.14,v+s*-v+f*-.283,0,0,c+s*-c+f*-(1-c),u+s*-u+f*u,v+s*(1-v)+f*v,0,0,0,0,0,1,0],o)},grayscale:function(l,o){return l===void 0&&(l=1),o===void 0&&(o=!1),this.saturate(-l,o)},blackWhite:function(l){return l===void 0&&(l=!1),this.multiply(d.BLACK_WHITE,l)},contrast:function(l,o){l===void 0&&(l=0),o===void 0&&(o=!1);var s=l+1,f=-.5*(s-1);return this.multiply([s,0,0,0,f,0,s,0,0,f,0,0,s,0,f,0,0,0,1,0],o)},negative:function(l){return l===void 0&&(l=!1),this.multiply(d.NEGATIVE,l)},desaturateLuminance:function(l){return l===void 0&&(l=!1),this.multiply(d.DESATURATE_LUMINANCE,l)},sepia:function(l){return l===void 0&&(l=!1),this.multiply(d.SEPIA,l)},night:function(l,o){return l===void 0&&(l=.1),o===void 0&&(o=!1),this.multiply([l*-2,-l,0,0,0,-l,0,l,0,0,0,l,l*2,0,0,0,0,0,1,0],o)},lsd:function(l){return l===void 0&&(l=!1),this.multiply(d.LSD,l)},brown:function(l){return l===void 0&&(l=!1),this.multiply(d.BROWN,l)},vintagePinhole:function(l){return l===void 0&&(l=!1),this.multiply(d.VINTAGE,l)},kodachrome:function(l){return l===void 0&&(l=!1),this.multiply(d.KODACHROME,l)},technicolor:function(l){return l===void 0&&(l=!1),this.multiply(d.TECHNICOLOR,l)},polaroid:function(l){return l===void 0&&(l=!1),this.multiply(d.POLAROID,l)},shiftToBGR:function(l){return l===void 0&&(l=!1),this.multiply(d.SHIFT_BGR,l)},multiply:function(l,o){o===void 0&&(o=!1),o||this.reset();var s=this._matrix,f=x;return f.set(s),s.set([f[0]*l[0]+f[1]*l[5]+f[2]*l[10]+f[3]*l[15],f[0]*l[1]+f[1]*l[6]+f[2]*l[11]+f[3]*l[16],f[0]*l[2]+f[1]*l[7]+f[2]*l[12]+f[3]*l[17],f[0]*l[3]+f[1]*l[8]+f[2]*l[13]+f[3]*l[18],f[0]*l[4]+f[1]*l[9]+f[2]*l[14]+f[3]*l[19]+f[4],f[5]*l[0]+f[6]*l[5]+f[7]*l[10]+f[8]*l[15],f[5]*l[1]+f[6]*l[6]+f[7]*l[11]+f[8]*l[16],f[5]*l[2]+f[6]*l[7]+f[7]*l[12]+f[8]*l[17],f[5]*l[3]+f[6]*l[8]+f[7]*l[13]+f[8]*l[18],f[5]*l[4]+f[6]*l[9]+f[7]*l[14]+f[8]*l[19]+f[9],f[10]*l[0]+f[11]*l[5]+f[12]*l[10]+f[13]*l[15],f[10]*l[1]+f[11]*l[6]+f[12]*l[11]+f[13]*l[16],f[10]*l[2]+f[11]*l[7]+f[12]*l[12]+f[13]*l[17],f[10]*l[3]+f[11]*l[8]+f[12]*l[13]+f[13]*l[18],f[10]*l[4]+f[11]*l[9]+f[12]*l[14]+f[13]*l[19]+f[14],f[15]*l[0]+f[16]*l[5]+f[17]*l[10]+f[18]*l[15],f[15]*l[1]+f[16]*l[6]+f[17]*l[11]+f[18]*l[16],f[15]*l[2]+f[16]*l[7]+f[17]*l[12]+f[18]*l[17],f[15]*l[3]+f[16]*l[8]+f[17]*l[13]+f[18]*l[18],f[15]*l[4]+f[16]*l[9]+f[17]*l[14]+f[18]*l[19]+f[19]]),this._dirty=!0,this}});d.BLACK_WHITE=[.3,.6,.1,0,0,.3,.6,.1,0,0,.3,.6,.1,0,0,0,0,0,1,0],d.NEGATIVE=[-1,0,0,1,0,0,-1,0,1,0,0,0,-1,1,0,0,0,0,1,0],d.DESATURATE_LUMINANCE=[.2764723,.929708,.0938197,0,-37.1,.2764723,.929708,.0938197,0,-37.1,.2764723,.929708,.0938197,0,-37.1,0,0,0,1,0],d.SEPIA=[.393,.7689999,.18899999,0,0,.349,.6859999,.16799999,0,0,.272,.5339999,.13099999,0,0,0,0,0,1,0],d.LSD=[2,-.4,.5,0,0,-.5,2,-.4,0,0,-.4,-.5,3,0,0,0,0,0,1,0],d.BROWN=[.5997023498159715,.34553243048391263,-.2708298674538042,0,47.43192855600873,-.037703249837783157,.8609577587992641,.15059552388459913,0,-36.96841498319127,.24113635128153335,-.07441037908422492,.44972182064877153,0,-7.562075277591283,0,0,0,1,0],d.VINTAGE=[.6279345635605994,.3202183420819367,-.03965408211312453,0,9.651285835294123,.02578397704808868,.6441188644374771,.03259127616149294,0,7.462829176470591,.0466055556782719,-.0851232987247891,.5241648018700465,0,5.159190588235296,0,0,0,1,0],d.KODACHROME=[1.1285582396593525,-.3967382283601348,-.03992559172921793,0,63.72958762196502,-.16404339962244616,1.0835251566291304,-.05498805115633132,0,24.732407896706203,-.16786010706155763,-.5603416277695248,1.6014850761964943,0,35.62982807460946,0,0,0,1,0],d.TECHNICOLOR=[1.9125277891456083,-.8545344976951645,-.09155508482755585,0,11.793603434377337,-.3087833385928097,1.7658908555458428,-.10601743074722245,0,-70.35205161461398,-.231103377548616,-.7501899197440212,1.847597816108189,0,30.950940869491138,0,0,0,1,0],d.POLAROID=[1.438,-.062,-.062,0,0,-.122,1.378,-.122,0,0,-.016,-.016,1.483,0,0,0,0,0,1,0],d.SHIFT_BGR=[0,0,1,0,0,0,1,0,0,0,1,0,0,0,0,0,0,0,1,0],n.exports=d},51767:(n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=i(83419),x=i(29747),d=new a({initialize:function(o,s,f){this._rgb=[0,0,0],this.onChangeCallback=x,this.dirty=!1,this.set(o,s,f)},set:function(l,o,s){return l===void 0&&(l=0),o===void 0&&(o=0),s===void 0&&(s=0),this._rgb=[l,o,s],this.onChange(),this},equals:function(l,o,s){var f=this._rgb;return f[0]===l&&f[1]===o&&f[2]===s},onChange:function(){this.dirty=!0;var l=this._rgb;this.onChangeCallback.call(this,l[0],l[1],l[2])},r:{get:function(){return this._rgb[0]},set:function(l){this._rgb[0]=l,this.onChange()}},g:{get:function(){return this._rgb[1]},set:function(l){this._rgb[1]=l,this.onChange()}},b:{get:function(){return this._rgb[2]},set:function(l){this._rgb[2]=l,this.onChange()}},destroy:function(){this.onChangeCallback=null}});n.exports=d},60461:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T={TOP_LEFT:0,TOP_CENTER:1,TOP_RIGHT:2,LEFT_TOP:3,LEFT_CENTER:4,LEFT_BOTTOM:5,CENTER:6,RIGHT_TOP:7,RIGHT_CENTER:8,RIGHT_BOTTOM:9,BOTTOM_LEFT:10,BOTTOM_CENTER:11,BOTTOM_RIGHT:12};n.exports=T},54312:(n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=i(62235),x=i(35893),d=i(86327),l=i(88417),o=function(s,f,c,u){return c===void 0&&(c=0),u===void 0&&(u=0),l(s,x(f)+c),d(s,a(f)+u),s};n.exports=o},46768:(n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=i(62235),x=i(26541),d=i(86327),l=i(385),o=function(s,f,c,u){return c===void 0&&(c=0),u===void 0&&(u=0),l(s,x(f)-c),d(s,a(f)+u),s};n.exports=o},35827:(n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=i(62235),x=i(54380),d=i(86327),l=i(40136),o=function(s,f,c,u){return c===void 0&&(c=0),u===void 0&&(u=0),l(s,x(f)+c),d(s,a(f)+u),s};n.exports=o},46871:(n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=i(66786),x=i(35893),d=i(7702),l=function(o,s,f,c){return f===void 0&&(f=0),c===void 0&&(c=0),a(o,x(s)+f,d(s)+c),o};n.exports=l},5198:(n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=i(7702),x=i(26541),d=i(20786),l=i(385),o=function(s,f,c,u){return c===void 0&&(c=0),u===void 0&&(u=0),l(s,x(f)-c),d(s,a(f)+u),s};n.exports=o},11879:(n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=i(60461),x=[];x[a.BOTTOM_CENTER]=i(54312),x[a.BOTTOM_LEFT]=i(46768),x[a.BOTTOM_RIGHT]=i(35827),x[a.CENTER]=i(46871),x[a.LEFT_CENTER]=i(5198),x[a.RIGHT_CENTER]=i(80503),x[a.TOP_CENTER]=i(89698),x[a.TOP_LEFT]=i(922),x[a.TOP_RIGHT]=i(21373),x[a.LEFT_BOTTOM]=x[a.BOTTOM_LEFT],x[a.LEFT_TOP]=x[a.TOP_LEFT],x[a.RIGHT_BOTTOM]=x[a.BOTTOM_RIGHT],x[a.RIGHT_TOP]=x[a.TOP_RIGHT];var d=function(l,o,s,f,c){return x[s](l,o,f,c)};n.exports=d},80503:(n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=i(7702),x=i(54380),d=i(20786),l=i(40136),o=function(s,f,c,u){return c===void 0&&(c=0),u===void 0&&(u=0),l(s,x(f)+c),d(s,a(f)+u),s};n.exports=o},89698:(n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=i(35893),x=i(17717),d=i(88417),l=i(66737),o=function(s,f,c,u){return c===void 0&&(c=0),u===void 0&&(u=0),d(s,a(f)+c),l(s,x(f)-u),s};n.exports=o},922:(n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=i(26541),x=i(17717),d=i(385),l=i(66737),o=function(s,f,c,u){return c===void 0&&(c=0),u===void 0&&(u=0),d(s,a(f)-c),l(s,x(f)-u),s};n.exports=o},21373:(n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=i(54380),x=i(17717),d=i(40136),l=i(66737),o=function(s,f,c,u){return c===void 0&&(c=0),u===void 0&&(u=0),d(s,a(f)+c),l(s,x(f)-u),s};n.exports=o},91660:(n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports={BottomCenter:i(54312),BottomLeft:i(46768),BottomRight:i(35827),Center:i(46871),LeftCenter:i(5198),QuickSet:i(11879),RightCenter:i(80503),TopCenter:i(89698),TopLeft:i(922),TopRight:i(21373)}},71926:(n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=i(60461),x=i(79291),d={In:i(91660),To:i(16694)};d=x(!1,d,a),n.exports=d},21578:(n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=i(62235),x=i(35893),d=i(88417),l=i(66737),o=function(s,f,c,u){return c===void 0&&(c=0),u===void 0&&(u=0),d(s,x(f)+c),l(s,a(f)+u),s};n.exports=o},10210:(n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=i(62235),x=i(26541),d=i(385),l=i(66737),o=function(s,f,c,u){return c===void 0&&(c=0),u===void 0&&(u=0),d(s,x(f)-c),l(s,a(f)+u),s};n.exports=o},82341:(n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=i(62235),x=i(54380),d=i(40136),l=i(66737),o=function(s,f,c,u){return c===void 0&&(c=0),u===void 0&&(u=0),d(s,x(f)+c),l(s,a(f)+u),s};n.exports=o},87958:(n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=i(62235),x=i(26541),d=i(86327),l=i(40136),o=function(s,f,c,u){return c===void 0&&(c=0),u===void 0&&(u=0),l(s,x(f)-c),d(s,a(f)+u),s};n.exports=o},40080:(n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=i(7702),x=i(26541),d=i(20786),l=i(40136),o=function(s,f,c,u){return c===void 0&&(c=0),u===void 0&&(u=0),l(s,x(f)-c),d(s,a(f)+u),s};n.exports=o},88466:(n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=i(26541),x=i(17717),d=i(40136),l=i(66737),o=function(s,f,c,u){return c===void 0&&(c=0),u===void 0&&(u=0),d(s,a(f)-c),l(s,x(f)-u),s};n.exports=o},38829:(n,T,i)=>{/**
 * @author       samme
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=i(60461),x=[];x[a.BOTTOM_CENTER]=i(21578),x[a.BOTTOM_LEFT]=i(10210),x[a.BOTTOM_RIGHT]=i(82341),x[a.LEFT_BOTTOM]=i(87958),x[a.LEFT_CENTER]=i(40080),x[a.LEFT_TOP]=i(88466),x[a.RIGHT_BOTTOM]=i(19211),x[a.RIGHT_CENTER]=i(34609),x[a.RIGHT_TOP]=i(48741),x[a.TOP_CENTER]=i(49440),x[a.TOP_LEFT]=i(81288),x[a.TOP_RIGHT]=i(61323);var d=function(l,o,s,f,c){return x[s](l,o,f,c)};n.exports=d},19211:(n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=i(62235),x=i(54380),d=i(86327),l=i(385),o=function(s,f,c,u){return c===void 0&&(c=0),u===void 0&&(u=0),l(s,x(f)+c),d(s,a(f)+u),s};n.exports=o},34609:(n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=i(7702),x=i(54380),d=i(20786),l=i(385),o=function(s,f,c,u){return c===void 0&&(c=0),u===void 0&&(u=0),l(s,x(f)+c),d(s,a(f)+u),s};n.exports=o},48741:(n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=i(54380),x=i(17717),d=i(385),l=i(66737),o=function(s,f,c,u){return c===void 0&&(c=0),u===void 0&&(u=0),d(s,a(f)+c),l(s,x(f)-u),s};n.exports=o},49440:(n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=i(35893),x=i(17717),d=i(86327),l=i(88417),o=function(s,f,c,u){return c===void 0&&(c=0),u===void 0&&(u=0),l(s,a(f)+c),d(s,x(f)-u),s};n.exports=o},81288:(n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=i(26541),x=i(17717),d=i(86327),l=i(385),o=function(s,f,c,u){return c===void 0&&(c=0),u===void 0&&(u=0),l(s,a(f)-c),d(s,x(f)-u),s};n.exports=o},61323:(n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=i(54380),x=i(17717),d=i(86327),l=i(40136),o=function(s,f,c,u){return c===void 0&&(c=0),u===void 0&&(u=0),l(s,a(f)+c),d(s,x(f)-u),s};n.exports=o},16694:(n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports={BottomCenter:i(21578),BottomLeft:i(10210),BottomRight:i(82341),LeftBottom:i(87958),LeftCenter:i(40080),LeftTop:i(88466),QuickSet:i(38829),RightBottom:i(19211),RightCenter:i(34609),RightTop:i(48741),TopCenter:i(49440),TopLeft:i(81288),TopRight:i(61323)}},66786:(n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=i(88417),x=i(20786),d=function(l,o,s){return a(l,o),x(l,s)};n.exports=d},62235:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(i){return i.y+i.height-i.height*i.originY};n.exports=T},72873:(n,T,i)=>{/**
 * @author       samme
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=i(62235),x=i(26541),d=i(54380),l=i(17717),o=i(87841),s=function(f,c){c===void 0&&(c=new o);var u=x(f),v=l(f);return c.x=u,c.y=v,c.width=d(f)-u,c.height=a(f)-v,c};n.exports=s},35893:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(i){return i.x-i.width*i.originX+i.width*.5};n.exports=T},7702:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(i){return i.y-i.height*i.originY+i.height*.5};n.exports=T},26541:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(i){return i.x-i.width*i.originX};n.exports=T},87431:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(i){return i.width*i.originX};n.exports=T},46928:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(i){return i.height*i.originY};n.exports=T},54380:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(i){return i.x+i.width-i.width*i.originX};n.exports=T},17717:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(i){return i.y-i.height*i.originY};n.exports=T},86327:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(i,a){return i.y=a-i.height+i.height*i.originY,i};n.exports=T},88417:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(i,a){var x=i.width*i.originX;return i.x=a+x-i.width*.5,i};n.exports=T},20786:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(i,a){var x=i.height*i.originY;return i.y=a+x-i.height*.5,i};n.exports=T},385:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(i,a){return i.x=a+i.width*i.originX,i};n.exports=T},40136:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(i,a){return i.x=a-i.width+i.width*i.originX,i};n.exports=T},66737:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(i,a){return i.y=a+i.height*i.originY,i};n.exports=T},58724:(n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports={CenterOn:i(66786),GetBottom:i(62235),GetBounds:i(72873),GetCenterX:i(35893),GetCenterY:i(7702),GetLeft:i(26541),GetOffsetX:i(87431),GetOffsetY:i(46928),GetRight:i(54380),GetTop:i(17717),SetBottom:i(86327),SetCenterX:i(88417),SetCenterY:i(20786),SetLeft:i(385),SetRight:i(40136),SetTop:i(66737)}},20623:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T={setCrisp:function(i){var a=["optimizeSpeed","-moz-crisp-edges","-o-crisp-edges","-webkit-optimize-contrast","optimize-contrast","crisp-edges","pixelated"];return a.forEach(function(x){i.style["image-rendering"]=x}),i.style.msInterpolationMode="nearest-neighbor",i},setBicubic:function(i){return i.style["image-rendering"]="auto",i.style.msInterpolationMode="bicubic",i}};n.exports=T},27919:(n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=i(8054),x=i(68703),d=[],l=!1,o=function(){var s=function(M,b,w,R,A){b===void 0&&(b=1),w===void 0&&(w=1),R===void 0&&(R=a.CANVAS),A===void 0&&(A=!1);var L,D=u(R);return D===null?(D={parent:M,canvas:document.createElement("canvas"),type:R},R===a.CANVAS&&d.push(D),L=D.canvas):(D.parent=M,L=D.canvas),A&&(D.parent=L),L.width=b,L.height=w,l&&R===a.CANVAS&&x.disable(L.getContext("2d",{willReadFrequently:!1})),L},f=function(M,b,w){return s(M,b,w,a.CANVAS)},c=function(M,b,w){return s(M,b,w,a.WEBGL)},u=function(M){if(M===void 0&&(M=a.CANVAS),M===a.WEBGL)return null;for(var b=0;b<d.length;b++){var w=d[b];if(!w.parent&&w.type===M)return w}return null},v=function(M){var b=M instanceof HTMLCanvasElement;d.forEach(function(w){(b&&w.canvas===M||!b&&w.parent===M)&&(w.parent=null,w.canvas.width=1,w.canvas.height=1)})},p=function(){var M=0;return d.forEach(function(b){b.parent&&M++}),M},m=function(){return d.length-p()},g=function(){l=!0},C=function(){l=!1};return{create2D:f,create:s,createWebGL:c,disableSmoothing:g,enableSmoothing:C,first:u,free:m,pool:d,remove:v,total:p}};n.exports=o()},68703:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T="",i=function(){var a=function(o){for(var s=["i","webkitI","msI","mozI","oI"],f=0;f<s.length;f++){var c=s[f]+"mageSmoothingEnabled";if(c in o)return c}return null},x=function(o){return T===""&&(T=a(o)),T&&(o[T]=!0),o},d=function(o){return T===""&&(T=a(o)),T&&(o[T]=!1),o},l=function(o){return T!==null?o[T]:null};return{disable:d,enable:x,getPrefix:a,isEnabled:l}};n.exports=i()},65208:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(i,a){return a===void 0&&(a="none"),i.style.msTouchAction=a,i.style["ms-touch-action"]=a,i.style["touch-action"]=a,i};n.exports=T},91610:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(i,a){a===void 0&&(a="none");var x=["-webkit-","-khtml-","-moz-","-ms-",""];return x.forEach(function(d){i.style[d+"user-select"]=a}),i.style["-webkit-touch-callout"]=a,i.style["-webkit-tap-highlight-color"]="rgba(0, 0, 0, 0)",i};n.exports=T},26253:(n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports={CanvasInterpolation:i(20623),CanvasPool:i(27919),Smoothing:i(68703),TouchAction:i(65208),UserSelect:i(91610)}},40987:(n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=i(83419),x=i(37589),d=i(1e3),l=i(7537),o=i(87837),s=new a({initialize:function(c,u,v,p){c===void 0&&(c=0),u===void 0&&(u=0),v===void 0&&(v=0),p===void 0&&(p=255),this.r=0,this.g=0,this.b=0,this.a=255,this._h=0,this._s=0,this._v=0,this._locked=!1,this.gl=[0,0,0,1],this._color=0,this._color32=0,this._rgba="",this.setTo(c,u,v,p)},transparent:function(){return this._locked=!0,this.red=0,this.green=0,this.blue=0,this.alpha=0,this._locked=!1,this.update(!0)},setTo:function(f,c,u,v,p){return v===void 0&&(v=255),p===void 0&&(p=!0),this._locked=!0,this.red=f,this.green=c,this.blue=u,this.alpha=v,this._locked=!1,this.update(p)},setGLTo:function(f,c,u,v){return v===void 0&&(v=1),this._locked=!0,this.redGL=f,this.greenGL=c,this.blueGL=u,this.alphaGL=v,this._locked=!1,this.update(!0)},setFromRGB:function(f){return this._locked=!0,this.red=f.r,this.green=f.g,this.blue=f.b,f.hasOwnProperty("a")&&(this.alpha=f.a),this._locked=!1,this.update(!0)},setFromHSV:function(f,c,u){return l(f,c,u,this)},update:function(f){if(f===void 0&&(f=!1),this._locked)return this;var c=this.r,u=this.g,v=this.b,p=this.a;return this._color=x(c,u,v),this._color32=d(c,u,v,p),this._rgba="rgba("+c+","+u+","+v+","+p/255+")",f&&o(c,u,v,this),this},updateHSV:function(){var f=this.r,c=this.g,u=this.b;return o(f,c,u,this),this},clone:function(){return new s(this.r,this.g,this.b,this.a)},gray:function(f){return this.setTo(f,f,f)},random:function(f,c){f===void 0&&(f=0),c===void 0&&(c=255);var u=Math.floor(f+Math.random()*(c-f)),v=Math.floor(f+Math.random()*(c-f)),p=Math.floor(f+Math.random()*(c-f));return this.setTo(u,v,p)},randomGray:function(f,c){f===void 0&&(f=0),c===void 0&&(c=255);var u=Math.floor(f+Math.random()*(c-f));return this.setTo(u,u,u)},saturate:function(f){return this.s+=f/100,this},desaturate:function(f){return this.s-=f/100,this},lighten:function(f){return this.v+=f/100,this},darken:function(f){return this.v-=f/100,this},brighten:function(f){var c=this.r,u=this.g,v=this.b;return c=Math.max(0,Math.min(255,c-Math.round(255*-(f/100)))),u=Math.max(0,Math.min(255,u-Math.round(255*-(f/100)))),v=Math.max(0,Math.min(255,v-Math.round(255*-(f/100)))),this.setTo(c,u,v)},color:{get:function(){return this._color}},color32:{get:function(){return this._color32}},rgba:{get:function(){return this._rgba}},redGL:{get:function(){return this.gl[0]},set:function(f){this.gl[0]=Math.min(Math.abs(f),1),this.r=Math.floor(this.gl[0]*255),this.update(!0)}},greenGL:{get:function(){return this.gl[1]},set:function(f){this.gl[1]=Math.min(Math.abs(f),1),this.g=Math.floor(this.gl[1]*255),this.update(!0)}},blueGL:{get:function(){return this.gl[2]},set:function(f){this.gl[2]=Math.min(Math.abs(f),1),this.b=Math.floor(this.gl[2]*255),this.update(!0)}},alphaGL:{get:function(){return this.gl[3]},set:function(f){this.gl[3]=Math.min(Math.abs(f),1),this.a=Math.floor(this.gl[3]*255),this.update()}},red:{get:function(){return this.r},set:function(f){f=Math.floor(Math.abs(f)),this.r=Math.min(f,255),this.gl[0]=f/255,this.update(!0)}},green:{get:function(){return this.g},set:function(f){f=Math.floor(Math.abs(f)),this.g=Math.min(f,255),this.gl[1]=f/255,this.update(!0)}},blue:{get:function(){return this.b},set:function(f){f=Math.floor(Math.abs(f)),this.b=Math.min(f,255),this.gl[2]=f/255,this.update(!0)}},alpha:{get:function(){return this.a},set:function(f){f=Math.floor(Math.abs(f)),this.a=Math.min(f,255),this.gl[3]=f/255,this.update()}},h:{get:function(){return this._h},set:function(f){this._h=f,l(f,this._s,this._v,this)}},s:{get:function(){return this._s},set:function(f){this._s=f,l(this._h,f,this._v,this)}},v:{get:function(){return this._v},set:function(f){this._v=f,l(this._h,this._s,f,this)}}});n.exports=s},92728:(n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=i(37589),x=function(d){d===void 0&&(d=1024);var l=[],o=255,s,f=255,c=0,u=0;for(s=0;s<=o;s++)l.push({r:f,g:s,b:u,color:a(f,s,u)});for(c=255,s=o;s>=0;s--)l.push({r:s,g:c,b:u,color:a(s,c,u)});for(f=0,s=0;s<=o;s++,c--)l.push({r:f,g:c,b:s,color:a(f,c,s)});for(c=0,u=255,s=0;s<=o;s++,u--,f++)l.push({r:f,g:c,b:u,color:a(f,c,u)});if(d===1024)return l;var v=[],p=0,m=1024/d;for(s=0;s<d;s++)v.push(l[Math.floor(p)]),p+=m;return v};n.exports=x},91588:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(i){var a={r:i>>16&255,g:i>>8&255,b:i&255,a:255};return i>16777215&&(a.a=i>>>24),a};n.exports=T},62957:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(i){var a=i.toString(16);return a.length===1?"0"+a:a};n.exports=T},37589:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(i,a,x){return i<<16|a<<8|x};n.exports=T},1e3:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(i,a,x,d){return d<<24|i<<16|a<<8|x};n.exports=T},62183:(n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=i(40987),x=i(89528),d=function(l,o,s){var f=s,c=s,u=s;if(o!==0){var v=s<.5?s*(1+o):s+o-s*o,p=2*s-v;f=x(p,v,l+1/3),c=x(p,v,l),u=x(p,v,l-1/3)}var m=new a;return m.setGLTo(f,c,u,1)};n.exports=d},27939:(n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=i(7537),x=function(d,l){d===void 0&&(d=1),l===void 0&&(l=1);for(var o=[],s=0;s<=359;s++)o.push(a(s/359,d,l));return o};n.exports=x},7537:(n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=i(37589);function x(l,o,s,f){var c=(l+o*6)%6,u=Math.min(c,4-c,1);return Math.round(255*(f-f*s*Math.max(0,u)))}var d=function(l,o,s,f){o===void 0&&(o=1),s===void 0&&(s=1);var c=x(5,l,o,s),u=x(3,l,o,s),v=x(1,l,o,s);return f?f.setTo?f.setTo(c,u,v,f.alpha,!0):(f.r=c,f.g=u,f.b=v,f.color=a(c,u,v),f):{r:c,g:u,b:v,color:a(c,u,v)}};n.exports=d},70238:(n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=i(40987),x=function(d){var l=new a;d=d.replace(/^(?:#|0x)?([a-f\d])([a-f\d])([a-f\d])$/i,function(u,v,p,m){return v+v+p+p+m+m});var o=/^(?:#|0x)?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(d);if(o){var s=parseInt(o[1],16),f=parseInt(o[2],16),c=parseInt(o[3],16);l.setTo(s,f,c)}return l};n.exports=x},89528:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(i,a,x){return x<0&&(x+=1),x>1&&(x-=1),x<.16666666666666666?i+(a-i)*6*x:x<.5?a:x<.6666666666666666?i+(a-i)*(.6666666666666666-x)*6:i};n.exports=T},30100:(n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=i(40987),x=i(90664),d=function(l){var o=x(l);return new a(o.r,o.g,o.b,o.a)};n.exports=d},90664:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(i){return i>16777215?{a:i>>>24,r:i>>16&255,g:i>>8&255,b:i&255}:{a:255,r:i>>16&255,g:i>>8&255,b:i&255}};n.exports=T},13699:(n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=i(28915),x=i(37589),d=function(s,f,c,u,v,p,m,g){m===void 0&&(m=100),g===void 0&&(g=0);var C=g/m,M=a(s,u,C),b=a(f,v,C),w=a(c,p,C);return{r:M,g:b,b:w,a:255,color:x(M,b,w)}},l=function(s,f,c,u){return c===void 0&&(c=100),u===void 0&&(u=0),d(s.r,s.g,s.b,f.r,f.g,f.b,c,u)},o=function(s,f,c,u,v,p){return v===void 0&&(v=100),p===void 0&&(p=0),d(s.r,s.g,s.b,f,c,u,v,p)};n.exports={RGBWithRGB:d,ColorWithRGB:o,ColorWithColor:l}},68957:(n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=i(40987),x=function(d){return new a(d.r,d.g,d.b,d.a)};n.exports=x},87388:(n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=i(40987),x=function(d){var l=new a,o=/^rgba?\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*(?:,\s*(\d+(?:\.\d+)?))?\s*\)$/.exec(d.toLowerCase());if(o){var s=parseInt(o[1],10),f=parseInt(o[2],10),c=parseInt(o[3],10),u=o[4]!==void 0?parseFloat(o[4]):1;l.setTo(s,f,c,u*255)}return l};n.exports=x},87837:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(i,a,x,d){d===void 0&&(d={h:0,s:0,v:0}),i/=255,a/=255,x/=255;var l=Math.min(i,a,x),o=Math.max(i,a,x),s=o-l,f=0,c=o===0?0:s/o,u=o;return o!==l&&(o===i?f=(a-x)/s+(a<x?6:0):o===a?f=(x-i)/s+2:o===x&&(f=(i-a)/s+4),f/=6),d.hasOwnProperty("_h")?(d._h=f,d._s=c,d._v=u):(d.h=f,d.s=c,d.v=u),d};n.exports=T},75723:(n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=i(62957),x=function(d,l,o,s,f){return s===void 0&&(s=255),f===void 0&&(f="#"),f==="#"?"#"+((1<<24)+(d<<16)+(l<<8)+o).toString(16).slice(1,7):"0x"+a(s)+a(d)+a(l)+a(o)};n.exports=x},85386:(n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=i(30976),x=i(40987),d=function(l,o){return l===void 0&&(l=0),o===void 0&&(o=255),new x(a(l,o),a(l,o),a(l,o))};n.exports=d},80333:(n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=i(70238),x=i(30100),d=i(68957),l=i(87388),o=function(s){var f=typeof s;switch(f){case"string":return s.substr(0,3).toLowerCase()==="rgb"?l(s):a(s);case"number":return x(s);case"object":return d(s)}};n.exports=o},3956:(n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=i(40987);a.ColorSpectrum=i(92728),a.ColorToRGBA=i(91588),a.ComponentToHex=i(62957),a.GetColor=i(37589),a.GetColor32=i(1e3),a.HexStringToColor=i(70238),a.HSLToColor=i(62183),a.HSVColorWheel=i(27939),a.HSVToRGB=i(7537),a.HueToComponent=i(89528),a.IntegerToColor=i(30100),a.IntegerToRGB=i(90664),a.Interpolate=i(13699),a.ObjectToColor=i(68957),a.RandomRGB=i(85386),a.RGBStringToColor=i(87388),a.RGBToHSV=i(87837),a.RGBToString=i(75723),a.ValueToColor=i(80333),n.exports=a},27460:(n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports={Align:i(71926),BaseShader:i(73894),Bounds:i(58724),Canvas:i(26253),Color:i(3956),ColorMatrix:i(89422),Masks:i(69781),RGB:i(51767)}},6858:(n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=i(83419),x=i(39429),d=new a({initialize:function(o,s,f,c,u,v){s||(s=o.sys.make.image({x:f,y:c,key:u,frame:v,add:!1})),this.bitmapMask=s,this.invertAlpha=!1,this.isStencil=!1},setBitmap:function(l){this.bitmapMask=l},preRenderWebGL:function(l,o,s){l.pipelines.BITMAPMASK_PIPELINE.beginMask(this,o,s)},postRenderWebGL:function(l,o,s){l.pipelines.BITMAPMASK_PIPELINE.endMask(this,o,s)},preRenderCanvas:function(){},postRenderCanvas:function(){},destroy:function(){this.bitmapMask=null}});x.register("bitmapMask",function(l,o,s,f,c){return new d(this.scene,l,o,s,f,c)}),n.exports=d},80661:(n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=i(83419),x=new a({initialize:function(l,o){this.geometryMask=o,this.invertAlpha=!1,this.isStencil=!0,this.level=0},setShape:function(d){return this.geometryMask=d,this},setInvertAlpha:function(d){return d===void 0&&(d=!0),this.invertAlpha=d,this},preRenderWebGL:function(d,l,o){var s=d.gl;d.flush(),d.maskStack.length===0&&(s.enable(s.STENCIL_TEST),s.clear(s.STENCIL_BUFFER_BIT),d.maskCount=0),d.currentCameraMask.mask!==this&&(d.currentMask.mask=this),d.maskStack.push({mask:this,camera:o}),this.applyStencil(d,o,!0),d.maskCount++},applyStencil:function(d,l,o){var s=d.gl,f=this.geometryMask,c=d.maskCount,u=255;s.colorMask(!1,!1,!1,!1),o?(s.stencilFunc(s.EQUAL,c,u),s.stencilOp(s.KEEP,s.KEEP,s.INCR),c++):(s.stencilFunc(s.EQUAL,c+1,u),s.stencilOp(s.KEEP,s.KEEP,s.DECR)),this.level=c,f.renderWebGL(d,f,l),d.flush(),s.colorMask(!0,!0,!0,!0),s.stencilOp(s.KEEP,s.KEEP,s.KEEP),this.invertAlpha?s.stencilFunc(s.NOTEQUAL,c,u):s.stencilFunc(s.EQUAL,c,u)},postRenderWebGL:function(d){var l=d.gl;d.maskStack.pop(),d.maskCount--,d.flush();var o=d.currentMask;if(d.maskStack.length===0)o.mask=null,l.disable(l.STENCIL_TEST);else{var s=d.maskStack[d.maskStack.length-1];s.mask.applyStencil(d,s.camera,!1),d.currentCameraMask.mask!==s.mask?(o.mask=s.mask,o.camera=s.camera):o.mask=null}},preRenderCanvas:function(d,l,o){var s=this.geometryMask;d.currentContext.save(),s.renderCanvas(d,s,o,null,null,!0),d.currentContext.clip()},postRenderCanvas:function(d){d.currentContext.restore()},destroy:function(){this.geometryMask=null}});n.exports=x},69781:(n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports={BitmapMask:i(6858),GeometryMask:i(80661)}},73894:(n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=i(83419),x=new a({initialize:function(l,o,s,f){(!o||o==="")&&(o=["precision mediump float;","uniform vec2 resolution;","varying vec2 fragCoord;","void main () {","    vec2 uv = fragCoord / resolution.xy;","    gl_FragColor = vec4(uv.xyx, 1.0);","}"].join(`
`)),(!s||s==="")&&(s=["precision mediump float;","uniform mat4 uProjectionMatrix;","uniform mat4 uViewMatrix;","uniform vec2 uResolution;","attribute vec2 inPosition;","varying vec2 fragCoord;","varying vec2 outTexCoord;","void main () {","   gl_Position = uProjectionMatrix * uViewMatrix * vec4(inPosition, 1.0, 1.0);","   fragCoord = vec2(inPosition.x, uResolution.y - inPosition.y);","   outTexCoord = vec2(inPosition.x / uResolution.x, fragCoord.y / uResolution.y);","}"].join(`
`)),f===void 0&&(f=null),this.key=l,this.fragmentSrc=o,this.vertexSrc=s,this.uniforms=f}});n.exports=x},40366:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(i,a){var x;if(a)typeof a=="string"?x=document.getElementById(a):typeof a=="object"&&a.nodeType===1&&(x=a);else if(i.parentElement||a===null)return i;return x||(x=document.body),x.appendChild(i),i};n.exports=T},83719:(n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=i(40366),x=function(d){var l=d.config;if(!(!l.parent||!l.domCreateContainer)){var o=document.createElement("div");o.style.cssText=["display: block;","width: "+d.scale.width+"px;","height: "+d.scale.height+"px;","padding: 0; margin: 0;","position: absolute;","overflow: hidden;","pointer-events: "+l.domPointerEvents+";","transform: scale(1);","transform-origin: left top;"].join(" "),d.domContainer=o,a(o,l.parent)}};n.exports=x},57264:(n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=i(25892),x=function(d){if(document.readyState==="complete"||document.readyState==="interactive"){d();return}var l=function(){document.removeEventListener("deviceready",l,!0),document.removeEventListener("DOMContentLoaded",l,!0),window.removeEventListener("load",l,!0),d()};document.body?a.cordova?document.addEventListener("deviceready",l,!1):(document.addEventListener("DOMContentLoaded",l,!0),window.addEventListener("load",l,!0)):window.setTimeout(l,20)};n.exports=x},57811:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(i){if(!i)return window.innerHeight;var a=Math.abs(window.orientation),x={w:0,h:0},d=document.createElement("div");return d.setAttribute("style","position: fixed; height: 100vh; width: 0; top: 0"),document.documentElement.appendChild(d),x.w=a===90?d.offsetHeight:window.innerWidth,x.h=a===90?window.innerWidth:d.offsetHeight,document.documentElement.removeChild(d),d=null,Math.abs(window.orientation)!==90?x.h:x.w};n.exports=T},45818:(n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=i(13560),x=function(d,l){var o=window.screen,s=o?o.orientation||o.mozOrientation||o.msOrientation:!1;if(s&&typeof s.type=="string")return s.type;if(typeof s=="string")return s;if(typeof window.orientation=="number")return window.orientation===0||window.orientation===180?a.ORIENTATION.PORTRAIT:a.ORIENTATION.LANDSCAPE;if(window.matchMedia){if(window.matchMedia("(orientation: portrait)").matches)return a.ORIENTATION.PORTRAIT;if(window.matchMedia("(orientation: landscape)").matches)return a.ORIENTATION.LANDSCAPE}else return l>d?a.ORIENTATION.PORTRAIT:a.ORIENTATION.LANDSCAPE};n.exports=x},74403:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(i){var a;return i!==""&&(typeof i=="string"?a=document.getElementById(i):i&&i.nodeType===1&&(a=i)),a||(a=document.body),a};n.exports=T},56836:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(i){var a="";try{if(window.DOMParser){var x=new DOMParser;a=x.parseFromString(i,"text/xml")}else a=new ActiveXObject("Microsoft.XMLDOM"),a.loadXML(i)}catch{a=null}return!a||!a.documentElement||a.getElementsByTagName("parsererror").length?null:a};n.exports=T},35846:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(i){i.parentNode&&i.parentNode.removeChild(i)};n.exports=T},43092:(n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=i(83419),x=i(29747),d=new a({initialize:function(){this.isRunning=!1,this.callback=x,this.isSetTimeOut=!1,this.timeOutID=null,this.delay=0;var o=this;this.step=function s(f){o.callback(f),o.isRunning&&(o.timeOutID=window.requestAnimationFrame(s))},this.stepTimeout=function s(){o.isRunning&&(o.timeOutID=window.setTimeout(s,o.delay)),o.callback(window.performance.now())}},start:function(l,o,s){this.isRunning||(this.callback=l,this.isSetTimeOut=o,this.delay=s,this.isRunning=!0,this.timeOutID=o?window.setTimeout(this.stepTimeout,0):window.requestAnimationFrame(this.step))},stop:function(){this.isRunning=!1,this.isSetTimeOut?clearTimeout(this.timeOutID):window.cancelAnimationFrame(this.timeOutID)},destroy:function(){this.stop(),this.callback=x}});n.exports=d},84902:(n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a={AddToDOM:i(40366),DOMContentLoaded:i(57264),GetInnerHeight:i(57811),GetScreenOrientation:i(45818),GetTarget:i(74403),ParseXML:i(56836),RemoveFromDOM:i(35846),RequestAnimationFrame:i(43092)};n.exports=a},47565:(n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=i(83419),x=i(50792),d=i(37277),l=new a({Extends:x,initialize:function(){x.call(this)},shutdown:function(){this.removeAllListeners()},destroy:function(){this.removeAllListeners()}});d.register("EventEmitter",l,"events"),n.exports=l},93055:(n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports={EventEmitter:i(47565)}},20122:(n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=i(83419),x=i(72898),d=i(14811),l=new a({Extends:x,initialize:function(s,f){f===void 0&&(f=1),x.call(this,d.BARREL,s),this.amount=f}});n.exports=l},32251:(n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=i(83419),x=i(72898),d=i(14811),l=new a({Extends:x,initialize:function(s,f,c,u,v,p,m){c===void 0&&(c=1),u===void 0&&(u=1),v===void 0&&(v=1),p===void 0&&(p=1),m===void 0&&(m=4),x.call(this,d.BLOOM,s),this.steps=m,this.offsetX=c,this.offsetY=u,this.blurStrength=v,this.strength=p,this.glcolor=[1,1,1],f!=null&&(this.color=f)},color:{get:function(){var o=this.glcolor;return(o[0]*255<<16)+(o[1]*255<<8)+(o[2]*255|0)},set:function(o){var s=this.glcolor;s[0]=(o>>16&255)/255,s[1]=(o>>8&255)/255,s[2]=(o&255)/255}}});n.exports=l},9047:(n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=i(83419),x=i(72898),d=i(14811),l=new a({Extends:x,initialize:function(s,f,c,u,v,p,m){f===void 0&&(f=0),c===void 0&&(c=2),u===void 0&&(u=2),v===void 0&&(v=1),m===void 0&&(m=4),x.call(this,d.BLUR,s),this.quality=f,this.x=c,this.y=u,this.steps=m,this.strength=v,this.glcolor=[1,1,1],p!=null&&(this.color=p)},color:{get:function(){var o=this.glcolor;return(o[0]*255<<16)+(o[1]*255<<8)+(o[2]*255|0)},set:function(o){var s=this.glcolor;s[0]=(o>>16&255)/255,s[1]=(o>>8&255)/255,s[2]=(o&255)/255}}});n.exports=l},27885:(n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=i(83419),x=i(72898),d=i(14811),l=new a({Extends:x,initialize:function(s,f,c,u,v,p,m,g){f===void 0&&(f=.5),c===void 0&&(c=1),u===void 0&&(u=.2),v===void 0&&(v=!1),p===void 0&&(p=1),m===void 0&&(m=1),g===void 0&&(g=1),x.call(this,d.BOKEH,s),this.radius=f,this.amount=c,this.contrast=u,this.isTiltShift=v,this.strength=g,this.blurX=p,this.blurY=m}});n.exports=l},12578:(n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=i(83419),x=i(72898),d=i(14811),l=new a({Extends:x,initialize:function(s,f,c,u,v,p){f===void 0&&(f=8),v===void 0&&(v=1),p===void 0&&(p=.005),x.call(this,d.CIRCLE,s),this.scale=v,this.feather=p,this.thickness=f,this.glcolor=[1,.2,.7],this.glcolor2=[1,0,0,.4],c!=null&&(this.color=c),u!=null&&(this.backgroundColor=u)},color:{get:function(){var o=this.glcolor;return(o[0]*255<<16)+(o[1]*255<<8)+(o[2]*255|0)},set:function(o){var s=this.glcolor;s[0]=(o>>16&255)/255,s[1]=(o>>8&255)/255,s[2]=(o&255)/255}},backgroundColor:{get:function(){var o=this.glcolor2;return(o[0]*255<<16)+(o[1]*255<<8)+(o[2]*255|0)},set:function(o){var s=this.glcolor2;s[0]=(o>>16&255)/255,s[1]=(o>>8&255)/255,s[2]=(o&255)/255}},backgroundAlpha:{get:function(){return this.glcolor2[3]},set:function(o){this.glcolor2[3]=o}}});n.exports=l},15802:(n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=i(83419),x=i(89422),d=i(14811),l=new a({Extends:x,initialize:function(s){x.call(this),this.type=d.COLOR_MATRIX,this.gameObject=s,this.active=!0},destroy:function(){this.gameObject=null,this._matrix=null,this._data=null}});n.exports=l},72898:(n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=i(83419),x=new a({initialize:function(l,o){this.type=l,this.gameObject=o,this.active=!0},setActive:function(d){return this.active=d,this},destroy:function(){this.gameObject=null,this.active=!1}});n.exports=x},44553:(n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=i(83419),x=i(72898),d=i(14811),l=new a({Extends:x,initialize:function(s,f,c,u){f===void 0&&(f="__WHITE"),c===void 0&&(c=.005),u===void 0&&(u=.005),x.call(this,d.DISPLACEMENT,s),this.x=c,this.y=u,this.glTexture,this.setTexture(f)},setTexture:function(o){var s=this.gameObject.scene.sys.textures.getFrame(o);return s&&(this.glTexture=s.glTexture),this}});n.exports=l},68531:(n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=i(83419),x=i(72898),d=i(14811),l=new a({Extends:x,initialize:function(s,f,c,u,v){c===void 0&&(c=4),u===void 0&&(u=0),v===void 0&&(v=!1),x.call(this,d.GLOW,s),this.outerStrength=c,this.innerStrength=u,this.knockout=v,this.glcolor=[1,1,1,1],f!==void 0&&(this.color=f)},color:{get:function(){var o=this.glcolor;return(o[0]*255<<16)+(o[1]*255<<8)+(o[2]*255|0)},set:function(o){var s=this.glcolor;s[0]=(o>>16&255)/255,s[1]=(o>>8&255)/255,s[2]=(o&255)/255}}});n.exports=l},37102:(n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=i(83419),x=i(72898),d=i(14811),l=new a({Extends:x,initialize:function(s,f,c,u,v,p,m,g,C){u===void 0&&(u=.2),v===void 0&&(v=0),p===void 0&&(p=0),m===void 0&&(m=0),g===void 0&&(g=1),C===void 0&&(C=0),x.call(this,d.GRADIENT,s),this.alpha=u,this.size=C,this.fromX=v,this.fromY=p,this.toX=m,this.toY=g,this.glcolor1=[255,0,0],this.glcolor2=[0,255,0],f!=null&&(this.color1=f),c!=null&&(this.color2=c)},color1:{get:function(){var o=this.glcolor1;return(o[0]<<16)+(o[1]<<8)+(o[2]|0)},set:function(o){var s=this.glcolor1;s[0]=o>>16&255,s[1]=o>>8&255,s[2]=o&255}},color2:{get:function(){var o=this.glcolor2;return(o[0]<<16)+(o[1]<<8)+(o[2]|0)},set:function(o){var s=this.glcolor2;s[0]=o>>16&255,s[1]=o>>8&255,s[2]=o&255}}});n.exports=l},86886:(n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=i(83419),x=i(72898),d=i(14811),l=new a({Extends:x,initialize:function(s,f){f===void 0&&(f=1),x.call(this,d.PIXELATE,s),this.amount=f}});n.exports=l},92322:(n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=i(83419),x=i(72898),d=i(14811),l=new a({Extends:x,initialize:function(s,f,c,u,v,p,m,g){f===void 0&&(f=0),c===void 0&&(c=0),u===void 0&&(u=.1),v===void 0&&(v=1),m===void 0&&(m=6),g===void 0&&(g=1),x.call(this,d.SHADOW,s),this.x=f,this.y=c,this.decay=u,this.power=v,this.glcolor=[0,0,0,1],this.samples=m,this.intensity=g,p!==void 0&&(this.color=p)},color:{get:function(){var o=this.glcolor;return(o[0]*255<<16)+(o[1]*255<<8)+(o[2]*255|0)},set:function(o){var s=this.glcolor;s[0]=(o>>16&255)/255,s[1]=(o>>8&255)/255,s[2]=(o&255)/255}}});n.exports=l},39563:(n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=i(83419),x=i(72898),d=i(14811),l=new a({Extends:x,initialize:function(s,f,c,u,v){f===void 0&&(f=.5),c===void 0&&(c=.5),u===void 0&&(u=3),v===void 0&&(v=!1),x.call(this,d.SHINE,s),this.speed=f,this.lineWidth=c,this.gradient=u,this.reveal=v}});n.exports=l},56448:(n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=i(83419),x=i(72898),d=i(14811),l=new a({Extends:x,initialize:function(s,f,c,u,v){f===void 0&&(f=.5),c===void 0&&(c=.5),u===void 0&&(u=.5),v===void 0&&(v=.5),x.call(this,d.VIGNETTE,s),this.x=f,this.y=c,this.radius=u,this.strength=v}});n.exports=l},38433:(n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=i(83419),x=i(72898),d=i(14811),l=new a({Extends:x,initialize:function(s,f,c,u,v){f===void 0&&(f=.1),c===void 0&&(c=0),u===void 0&&(u=0),v===void 0&&(v=!1),x.call(this,d.WIPE,s),this.progress=0,this.wipeWidth=f,this.direction=c,this.axis=u,this.reveal=v}});n.exports=l},14811:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T={GLOW:4,SHADOW:5,PIXELATE:6,VIGNETTE:7,SHINE:8,BLUR:9,GRADIENT:12,BLOOM:13,COLOR_MATRIX:14,CIRCLE:15,BARREL:16,DISPLACEMENT:17,WIPE:18,BOKEH:19};n.exports=T},66064:(n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=i(79291),x=i(14811),d={Barrel:i(20122),Controller:i(72898),Bloom:i(32251),Blur:i(9047),Bokeh:i(27885),Circle:i(12578),ColorMatrix:i(15802),Displacement:i(44553),Glow:i(68531),Gradient:i(37102),Pixelate:i(86886),Shadow:i(92322),Shine:i(39563),Vignette:i(56448),Wipe:i(38433)};d=a(!1,d,x),n.exports=d},25305:(n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=i(10312),x=i(23568),d=function(l,o,s){o.x=x(s,"x",0),o.y=x(s,"y",0),o.depth=x(s,"depth",0),o.flipX=x(s,"flipX",!1),o.flipY=x(s,"flipY",!1);var f=x(s,"scale",null);typeof f=="number"?o.setScale(f):f!==null&&(o.scaleX=x(f,"x",1),o.scaleY=x(f,"y",1));var c=x(s,"scrollFactor",null);typeof c=="number"?o.setScrollFactor(c):c!==null&&(o.scrollFactorX=x(c,"x",1),o.scrollFactorY=x(c,"y",1)),o.rotation=x(s,"rotation",0);var u=x(s,"angle",null);u!==null&&(o.angle=u),o.alpha=x(s,"alpha",1);var v=x(s,"origin",null);if(typeof v=="number")o.setOrigin(v);else if(v!==null){var p=x(v,"x",.5),m=x(v,"y",.5);o.setOrigin(p,m)}o.blendMode=x(s,"blendMode",a.NORMAL),o.visible=x(s,"visible",!0);var g=x(s,"add",!0);return g&&l.sys.displayList.add(o),o.preUpdate&&l.sys.updateList.add(o),o};n.exports=d},13059:(n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=i(23568),x=function(d,l){var o=a(l,"anims",null);if(o===null)return d;if(typeof o=="string")d.anims.play(o);else if(typeof o=="object"){var s=d.anims,f=a(o,"key",void 0);if(f){var c=a(o,"startFrame",void 0),u=a(o,"delay",0),v=a(o,"repeat",0),p=a(o,"repeatDelay",0),m=a(o,"yoyo",!1),g=a(o,"play",!1),C=a(o,"delayedPlay",0),M={key:f,delay:u,repeat:v,repeatDelay:p,yoyo:m,startFrame:c};g?s.play(M):C>0?s.playAfterDelay(M,C):s.load(M)}}return d};n.exports=x},8050:(n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=i(83419),x=i(73162),d=i(37277),l=i(51708),o=i(44594),s=i(19186),f=new a({Extends:x,initialize:function(u){x.call(this,u),this.sortChildrenFlag=!1,this.scene=u,this.systems=u.sys,this.events=u.sys.events,this.addCallback=this.addChildCallback,this.removeCallback=this.removeChildCallback,this.events.once(o.BOOT,this.boot,this),this.events.on(o.START,this.start,this)},boot:function(){this.events.once(o.DESTROY,this.destroy,this)},addChildCallback:function(c){c.displayList&&c.displayList!==this&&c.removeFromDisplayList(),c.parentContainer&&c.parentContainer.remove(c),c.displayList||(this.queueDepthSort(),c.displayList=this,c.emit(l.ADDED_TO_SCENE,c,this.scene),this.events.emit(o.ADDED_TO_SCENE,c,this.scene))},removeChildCallback:function(c){this.queueDepthSort(),c.displayList=null,c.emit(l.REMOVED_FROM_SCENE,c,this.scene),this.events.emit(o.REMOVED_FROM_SCENE,c,this.scene)},start:function(){this.events.once(o.SHUTDOWN,this.shutdown,this)},queueDepthSort:function(){this.sortChildrenFlag=!0},depthSort:function(){this.sortChildrenFlag&&(s(this.list,this.sortByDepth),this.sortChildrenFlag=!1)},sortByDepth:function(c,u){return c._depth-u._depth},getChildren:function(){return this.list},shutdown:function(){for(var c=this.list,u=c.length;u--;)c[u].destroy(!0);c.length=0,this.events.off(o.SHUTDOWN,this.shutdown,this)},destroy:function(){this.shutdown(),this.events.off(o.START,this.start,this),this.scene=null,this.systems=null,this.events=null}});d.register("DisplayList",f,"displayList"),n.exports=f},95643:(n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=i(83419),x=i(53774),d=i(45893),l=i(50792),o=i(51708),s=i(44594),f=new a({Extends:l,initialize:function(u,v){l.call(this),this.scene=u,this.displayList=null,this.type=v,this.state=0,this.parentContainer=null,this.name="",this.active=!0,this.tabIndex=-1,this.data=null,this.renderFlags=15,this.cameraFilter=0,this.input=null,this.body=null,this.ignoreDestroy=!1,this.on(o.ADDED_TO_SCENE,this.addedToScene,this),this.on(o.REMOVED_FROM_SCENE,this.removedFromScene,this),u.sys.queueDepthSort()},setActive:function(c){return this.active=c,this},setName:function(c){return this.name=c,this},setState:function(c){return this.state=c,this},setDataEnabled:function(){return this.data||(this.data=new d(this)),this},setData:function(c,u){return this.data||(this.data=new d(this)),this.data.set(c,u),this},incData:function(c,u){return this.data||(this.data=new d(this)),this.data.inc(c,u),this},toggleData:function(c){return this.data||(this.data=new d(this)),this.data.toggle(c),this},getData:function(c){return this.data||(this.data=new d(this)),this.data.get(c)},setInteractive:function(c,u,v){return this.scene.sys.input.enable(this,c,u,v),this},disableInteractive:function(c){return c===void 0&&(c=!1),this.scene.sys.input.disable(this,c),this},removeInteractive:function(c){return c===void 0&&(c=!1),this.scene.sys.input.clear(this),c&&this.scene.sys.input.resetCursor(),this.input=void 0,this},addedToScene:function(){},removedFromScene:function(){},update:function(){},toJSON:function(){return x(this)},willRender:function(c){var u=this.displayList&&this.displayList.active?this.displayList.willRender(c):!0;return!(!u||f.RENDER_MASK!==this.renderFlags||this.cameraFilter!==0&&this.cameraFilter&c.id)},getIndexList:function(){for(var c=this,u=this.parentContainer,v=[];u&&(v.unshift(u.getIndex(c)),c=u,u.parentContainer);)u=u.parentContainer;return this.displayList?v.unshift(this.displayList.getIndex(c)):v.unshift(this.scene.sys.displayList.getIndex(c)),v},addToDisplayList:function(c){return c===void 0&&(c=this.scene.sys.displayList),this.displayList&&this.displayList!==c&&this.removeFromDisplayList(),c.exists(this)||(this.displayList=c,c.add(this,!0),c.queueDepthSort(),this.emit(o.ADDED_TO_SCENE,this,this.scene),c.events.emit(s.ADDED_TO_SCENE,this,this.scene)),this},addToUpdateList:function(){return this.scene&&this.preUpdate&&this.scene.sys.updateList.add(this),this},removeFromDisplayList:function(){var c=this.displayList||this.scene.sys.displayList;return c&&c.exists(this)&&(c.remove(this,!0),c.queueDepthSort(),this.displayList=null,this.emit(o.REMOVED_FROM_SCENE,this,this.scene),c.events.emit(s.REMOVED_FROM_SCENE,this,this.scene)),this},removeFromUpdateList:function(){return this.scene&&this.preUpdate&&this.scene.sys.updateList.remove(this),this},getDisplayList:function(){var c=null;return this.parentContainer?c=this.parentContainer.list:this.displayList&&(c=this.displayList.list),c},destroy:function(c){!this.scene||this.ignoreDestroy||(c===void 0&&(c=!1),this.preDestroy&&this.preDestroy.call(this),this.emit(o.DESTROY,this,c),this.removeAllListeners(),this.postPipelines&&this.resetPostPipeline(!0),this.removeFromDisplayList(),this.removeFromUpdateList(),this.input&&(this.scene.sys.input.clear(this),this.input=void 0),this.data&&(this.data.destroy(),this.data=void 0),this.body&&(this.body.destroy(),this.body=void 0),this.preFX&&(this.preFX.destroy(),this.preFX=void 0),this.postFX&&(this.postFX.destroy(),this.postFX=void 0),this.active=!1,this.visible=!1,this.scene=void 0,this.parentContainer=void 0)}});f.RENDER_MASK=15,n.exports=f},44603:(n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=i(83419),x=i(37277),d=i(44594),l=new a({initialize:function(s){this.scene=s,this.systems=s.sys,this.events=s.sys.events,this.displayList,this.updateList,this.events.once(d.BOOT,this.boot,this),this.events.on(d.START,this.start,this)},boot:function(){this.displayList=this.systems.displayList,this.updateList=this.systems.updateList,this.events.once(d.DESTROY,this.destroy,this)},start:function(){this.events.once(d.SHUTDOWN,this.shutdown,this)},shutdown:function(){this.events.off(d.SHUTDOWN,this.shutdown,this)},destroy:function(){this.shutdown(),this.events.off(d.START,this.start,this),this.scene=null,this.systems=null,this.events=null,this.displayList=null,this.updateList=null}});l.register=function(o,s){l.prototype.hasOwnProperty(o)||(l.prototype[o]=s)},l.remove=function(o){l.prototype.hasOwnProperty(o)&&delete l.prototype[o]},x.register("GameObjectCreator",l,"make"),n.exports=l},39429:(n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=i(83419),x=i(37277),d=i(44594),l=new a({initialize:function(s){this.scene=s,this.systems=s.sys,this.events=s.sys.events,this.displayList,this.updateList,this.events.once(d.BOOT,this.boot,this),this.events.on(d.START,this.start,this)},boot:function(){this.displayList=this.systems.displayList,this.updateList=this.systems.updateList,this.events.once(d.DESTROY,this.destroy,this)},start:function(){this.events.once(d.SHUTDOWN,this.shutdown,this)},existing:function(o){return(o.renderCanvas||o.renderWebGL)&&this.displayList.add(o),o.preUpdate&&this.updateList.add(o),o},shutdown:function(){this.events.off(d.SHUTDOWN,this.shutdown,this)},destroy:function(){this.shutdown(),this.events.off(d.START,this.start,this),this.scene=null,this.systems=null,this.events=null,this.displayList=null,this.updateList=null}});l.register=function(o,s){l.prototype.hasOwnProperty(o)||(l.prototype[o]=s)},l.remove=function(o){l.prototype.hasOwnProperty(o)&&delete l.prototype[o]},x.register("GameObjectFactory",l,"add"),n.exports=l},91296:(n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=i(61340),x=new a,d=new a,l=new a,o={camera:x,sprite:d,calc:l},s=function(f,c,u){var v=x,p=d,m=l;return p.applyITRS(f.x,f.y,f.rotation,f.scaleX,f.scaleY),v.copyFrom(c.matrix),u?(v.multiplyWithOffset(u,-c.scrollX*f.scrollFactorX,-c.scrollY*f.scrollFactorY),p.e=f.x,p.f=f.y):(p.e-=c.scrollX*f.scrollFactorX,p.f-=c.scrollY*f.scrollFactorY),v.multiply(p,m),o};n.exports=s},45027:(n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=i(83419),x=i(25774),d=i(37277),l=i(44594),o=new a({Extends:x,initialize:function(f){x.call(this),this.checkQueue=!0,this.scene=f,this.systems=f.sys,f.sys.events.once(l.BOOT,this.boot,this),f.sys.events.on(l.START,this.start,this)},boot:function(){this.systems.events.once(l.DESTROY,this.destroy,this)},start:function(){var s=this.systems.events;s.on(l.PRE_UPDATE,this.update,this),s.on(l.UPDATE,this.sceneUpdate,this),s.once(l.SHUTDOWN,this.shutdown,this)},sceneUpdate:function(s,f){for(var c=this._active,u=c.length,v=0;v<u;v++){var p=c[v];p.active&&p.preUpdate.call(p,s,f)}},shutdown:function(){for(var s=this._active.length;s--;)this._active[s].destroy(!0);for(s=this._pending.length;s--;)this._pending[s].destroy(!0);for(s=this._destroy.length;s--;)this._destroy[s].destroy(!0);this._toProcess=0,this._pending=[],this._active=[],this._destroy=[],this.removeAllListeners();var f=this.systems.events;f.off(l.PRE_UPDATE,this.update,this),f.off(l.UPDATE,this.sceneUpdate,this),f.off(l.SHUTDOWN,this.shutdown,this)},destroy:function(){this.shutdown(),this.systems.events.off(l.START,this.start,this),this.scene=null,this.systems=null}});d.register("UpdateList",o,"updateList"),n.exports=o},3217:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(i,a,x,d,l,o,s,f,c,u,v,p,m,g,C){var M=x.x-a.displayOriginX+l,b=x.y-a.displayOriginY+o,w=M+x.w,R=b+x.h,A=s.a,L=s.b,D=s.c,G=s.d,B=s.e,I=s.f,k=M*A+b*D+B,z=M*L+b*G+I,X=M*A+R*D+B,H=M*L+R*G+I,Q=w*A+R*D+B,J=w*L+R*G+I,Y=w*A+b*D+B,$=w*L+b*G+I;f&&(k=Math.round(k),z=Math.round(z),X=Math.round(X),H=Math.round(H),Q=Math.round(Q),J=Math.round(J),Y=Math.round(Y),$=Math.round($)),i.batchQuad(a,k,z,X,H,Q,J,Y,$,d.u0,d.v0,d.u1,d.v1,c,u,v,p,m,g,C)};n.exports=T},53048:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(i,a,x,d){if(x===void 0&&(x=!1),d===void 0)return d={local:{x:0,y:0,width:0,height:0},global:{x:0,y:0,width:0,height:0},lines:{shortest:0,longest:0,lengths:null,height:0},wrappedText:"",words:[],characters:[],scaleX:0,scaleY:0},d;var l=i.text,o=l.length,s=i.maxWidth,f=i.wordWrapCharCode,c=Number.MAX_VALUE,u=Number.MAX_VALUE,v=0,p=0,m=i.fontData.chars,g=i.fontData.lineHeight,C=i.letterSpacing,M=i.lineSpacing,b=0,w=0,R=0,A=null,L=i._align,D=0,G=0,B=i.fontSize/i.fontData.size,I=B*i.scaleX,k=B*i.scaleY,z=null,X=0,H=[],Q=Number.MAX_VALUE,J=0,Y=0,$=0,V,U,K,j=[],_=[],tt=null,rt=function(Qe,Bt){for(var Ut=0,te=0;te<Qe.length;te++){var ce=Qe.charCodeAt(te),Pe=Bt.chars[ce];Pe&&(Ut+=Pe.xAdvance)}return Ut*I};if(s>0){K=l.split(`
`);var ot=[];for(V=0;V<K.length;V++){var ft=K[V],ct="",gt="",yt="",Mt="";for(U=0;U<ft.length;U++)if(R=ft.charCodeAt(U),ct+=ft[U],R===f||U===ft.length-1){Mt=yt+ct;var Ct=rt(Mt,i.fontData);Ct<=s?yt=Mt:(gt=gt.slice(0,-1),gt+=(gt?`
`:"")+yt,yt=ct),ct=""}gt=gt.slice(0,-1),gt+=(gt?`
`:"")+yt,ot.push(gt)}l=ot.join(`
`),d.wrappedText=l,o=l.length}var Wt=0;for(V=0;V<o;V++){if(R=l.charCodeAt(V),R===10){tt!==null&&(j.push({word:tt.word,i:tt.i,x:tt.x*I,y:tt.y*k,w:tt.w*I,h:tt.h*k}),tt=null),z=null,H[Y]=$,$>J&&(J=$),$<Q&&(Q=$),Y++,$=0,b=0,w=(g+M)*Y;continue}if(A=m[R],!!A){if(D=b,G=w,z!==null){var Yt=A.kerning[X];D+=Yt!==void 0?Yt:0}c>D&&(c=D),u>G&&(u=G);var Ht=D+A.xAdvance,bt=G+g;v<Ht&&(v=Ht),p<bt&&(p=bt);var kt=A.xOffset+A.xAdvance+(Yt!==void 0?Yt:0);R===f?tt!==null&&(j.push({word:tt.word,i:tt.i,x:tt.x*I,y:tt.y*k,w:tt.w*I,h:tt.h*k}),tt=null):(tt===null&&(tt={word:"",i:Wt,x:b,y:w,w:0,h:g}),tt.word=tt.word.concat(l[V]),tt.w+=kt),_.push({i:Wt,idx:V,char:l[V],code:R,x:(A.xOffset+D)*B,y:(A.yOffset+w)*B,w:A.width*B,h:A.height*B,t:w*B,r:Ht*B,b:g*B,line:Y,glyph:A}),b+=A.xAdvance+C+(Yt!==void 0?Yt:0),z=A,X=R,$=Ht*B,Wt++}}if(tt!==null&&j.push({word:tt.word,i:tt.i,x:tt.x*I,y:tt.y*k,w:tt.w*I,h:tt.h*k}),H[Y]=$,$>J&&(J=$),$<Q&&(Q=$),L>0)for(var zt=0;zt<_.length;zt++){var jt=_[zt];if(L===1){var fe=(J-H[jt.line])/2;jt.x+=fe,jt.r+=fe}else if(L===2){var xe=J-H[jt.line];jt.x+=xe,jt.r+=xe}}var le=d.local,Ee=d.global;return K=d.lines,le.x=c*B,le.y=u*B,le.width=v*B,le.height=p*B,Ee.x=i.x-i._displayOriginX+c*I,Ee.y=i.y-i._displayOriginY+u*k,Ee.width=v*I,Ee.height=p*k,K.shortest=Q,K.longest=J,K.lengths=H,a&&(le.x=Math.ceil(le.x),le.y=Math.ceil(le.y),le.width=Math.ceil(le.width),le.height=Math.ceil(le.height),Ee.x=Math.ceil(Ee.x),Ee.y=Math.ceil(Ee.y),Ee.width=Math.ceil(Ee.width),Ee.height=Math.ceil(Ee.height),K.shortest=Math.ceil(Q),K.longest=Math.ceil(J)),x&&(i._displayOriginX=i.originX*le.width,i._displayOriginY=i.originY*le.height,Ee.x=i.x-i._displayOriginX*i.scaleX,Ee.y=i.y-i._displayOriginY*i.scaleY,a&&(Ee.x=Math.ceil(Ee.x),Ee.y=Math.ceil(Ee.y))),d.words=j,d.characters=_,d.lines.height=g,d.scale=B,d.scaleX=i.scaleX,d.scaleY=i.scaleY,d};n.exports=T},61327:(n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=i(21859),x=function(d,l,o,s,f,c,u){var v=d.sys.textures.get(o),p=v.get(s),m=d.sys.cache.xml.get(f);if(p&&m){var g=a(m,p,c,u,v);return d.sys.cache.bitmapFont.add(l,{data:g,texture:o,frame:s,fromAtlas:!0}),!0}else return!1};n.exports=x},6925:(n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=i(35154),x=function(d,l){var o=l.width,s=l.height,f=Math.floor(o/2),c=Math.floor(s/2),u=a(l,"chars","");if(u!==""){var v=a(l,"image",""),p=d.sys.textures.getFrame(v),m=p.cutX,g=p.cutY,C=p.source.width,M=p.source.height,b=a(l,"offset.x",0),w=a(l,"offset.y",0),R=a(l,"spacing.x",0),A=a(l,"spacing.y",0),L=a(l,"lineSpacing",0),D=a(l,"charsPerRow",null);D===null&&(D=C/o,D>u.length&&(D=u.length));for(var G=b,B=w,I={retroFont:!0,font:v,size:o,lineHeight:s+L,chars:{}},k=0,z=0;z<u.length;z++){var X=u.charCodeAt(z),H=(m+G)/C,Q=(g+B)/M,J=(m+G+o)/C,Y=(g+B+s)/M;I.chars[X]={x:G,y:B,width:o,height:s,centerX:f,centerY:c,xOffset:0,yOffset:0,xAdvance:o,data:{},kerning:{},u0:H,v0:Q,u1:J,v1:Y},k++,k===D?(k=0,G=b,B+=s+A):G+=o+R}var $={data:I,frame:null,texture:v};return $}};n.exports=x},21859:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */function T(a,x){return parseInt(a.getAttribute(x),10)}var i=function(a,x,d,l,o){d===void 0&&(d=0),l===void 0&&(l=0);var s=x.cutX,f=x.cutY,c=x.source.width,u=x.source.height,v=x.sourceIndex,p={},m=a.getElementsByTagName("info")[0],g=a.getElementsByTagName("common")[0];p.font=m.getAttribute("face"),p.size=T(m,"size"),p.lineHeight=T(g,"lineHeight")+l,p.chars={};var C=a.getElementsByTagName("char"),M=x!==void 0&&x.trimmed;if(M)var b=x.height,w=x.width;for(var R=0;R<C.length;R++){var A=C[R],L=T(A,"id"),D=String.fromCharCode(L),G=T(A,"x"),B=T(A,"y"),I=T(A,"width"),k=T(A,"height");M&&(G<w&&(w=G),B<b&&(b=B)),M&&b!==0&&w!==0&&(G-=x.x,B-=x.y);var z=(s+G)/c,X=(f+B)/u,H=(s+G+I)/c,Q=(f+B+k)/u;if(p.chars[L]={x:G,y:B,width:I,height:k,centerX:Math.floor(I/2),centerY:Math.floor(k/2),xOffset:T(A,"xoffset"),yOffset:T(A,"yoffset"),xAdvance:T(A,"xadvance")+d,data:{},kerning:{},u0:z,v0:X,u1:H,v1:Q},o&&I!==0&&k!==0){var J=o.add(D,v,G,B,I,k);J&&J.setUVs(I,k,z,X,H,Q)}}var Y=a.getElementsByTagName("kerning");for(R=0;R<Y.length;R++){var $=Y[R],V=T($,"first"),U=T($,"second"),K=T($,"amount");p.chars[U].kerning[V]=K}return p};n.exports=i},196:(n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=i(87662),x=i(79291),d={Parse:i(6925)};d=x(!1,d,a),n.exports=d},87662:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T={TEXT_SET1:" !\"#$%&'()*+,-./0123456789:;<=>?@ABCDEFGHIJKLMNOPQRSTUVWXYZ[\\]^_`abcdefghijklmnopqrstuvwxyz{|}~",TEXT_SET2:` !"#$%&'()*+,-./0123456789:;<=>?@ABCDEFGHIJKLMNOPQRSTUVWXYZ`,TEXT_SET3:"ABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789 ",TEXT_SET4:"ABCDEFGHIJKLMNOPQRSTUVWXYZ 0123456789",TEXT_SET5:"ABCDEFGHIJKLMNOPQRSTUVWXYZ.,/() '!?-*:0123456789",TEXT_SET6:`ABCDEFGHIJKLMNOPQRSTUVWXYZ!?:;0123456789"(),-.' `,TEXT_SET7:`AGMSY+:4BHNTZ!;5CIOU.?06DJPV,(17EKQW")28FLRX-'39`,TEXT_SET8:"0123456789 .ABCDEFGHIJKLMNOPQRSTUVWXYZ",TEXT_SET9:`ABCDEFGHIJKLMNOPQRSTUVWXYZ()-0123456789.:,'"?!`,TEXT_SET10:"ABCDEFGHIJKLMNOPQRSTUVWXYZ",TEXT_SET11:`ABCDEFGHIJKLMNOPQRSTUVWXYZ.,"-+!?()':;0123456789`};n.exports=T},2638:(n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=i(22186),x=i(83419),d=i(12310),l=new x({Extends:a,Mixins:[d],initialize:function(s,f,c,u,v,p,m){a.call(this,s,f,c,u,v,p,m),this.type="DynamicBitmapText",this.scrollX=0,this.scrollY=0,this.cropWidth=0,this.cropHeight=0,this.displayCallback,this.callbackData={parent:this,color:0,tint:{topLeft:0,topRight:0,bottomLeft:0,bottomRight:0},index:0,charCode:0,x:0,y:0,scale:0,rotation:0,data:0}},setSize:function(o,s){return this.cropWidth=o,this.cropHeight=s,this},setDisplayCallback:function(o){return this.displayCallback=o,this},setScrollX:function(o){return this.scrollX=o,this},setScrollY:function(o){return this.scrollY=o,this}});n.exports=l},86741:(n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=i(20926),x=function(d,l,o,s){var f=l._text,c=f.length,u=d.currentContext;if(!(c===0||!a(d,u,l,o,s))){o.addToRenderList(l);var v=l.fromAtlas?l.frame:l.texture.frames.__BASE,p=l.displayCallback,m=l.callbackData,g=l.fontData.chars,C=l.fontData.lineHeight,M=l._letterSpacing,b=0,w=0,R=0,A=null,L=0,D=0,G=0,B=0,I=0,k=0,z=null,X=0,H=l.frame.source.image,Q=v.cutX,J=v.cutY,Y=0,$=0,V=l._fontSize/l.fontData.size,U=l._align,K=0,j=0;l.getTextBounds(!1);var _=l._bounds.lines;U===1?j=(_.longest-_.lengths[0])/2:U===2&&(j=_.longest-_.lengths[0]),u.translate(-l.displayOriginX,-l.displayOriginY);var tt=o.roundPixels;l.cropWidth>0&&l.cropHeight>0&&(u.beginPath(),u.rect(0,0,l.cropWidth,l.cropHeight),u.clip());for(var rt=0;rt<c;rt++){if($=V,Y=0,R=f.charCodeAt(rt),R===10){K++,U===1?j=(_.longest-_.lengths[K])/2:U===2&&(j=_.longest-_.lengths[K]),b=0,w+=C,z=null;continue}if(A=g[R],!!A){if(L=Q+A.x,D=J+A.y,G=A.width,B=A.height,I=A.xOffset+b-l.scrollX,k=A.yOffset+w-l.scrollY,z!==null){var ot=A.kerning[X];I+=ot!==void 0?ot:0}if(p){m.index=rt,m.charCode=R,m.x=I,m.y=k,m.scale=$,m.rotation=Y,m.data=A.data;var ft=p(m);I=ft.x,k=ft.y,$=ft.scale,Y=ft.rotation}I*=$,k*=$,I+=j,b+=A.xAdvance+M+(ot!==void 0?ot:0),z=A,X=R,!(G===0||B===0||R===32)&&(tt&&(I=Math.round(I),k=Math.round(k)),u.save(),u.translate(I,k),u.rotate(Y),u.scale($,$),u.drawImage(H,L,D,G,B,0,0,G,B),u.restore())}}u.restore()}};n.exports=x},11164:(n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=i(2638),x=i(25305),d=i(44603),l=i(23568);d.register("dynamicBitmapText",function(o,s){o===void 0&&(o={});var f=l(o,"font",""),c=l(o,"text",""),u=l(o,"size",!1),v=new a(this.scene,0,0,f,c,u);return s!==void 0&&(o.add=s),x(this.scene,v,o),v})},72566:(n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=i(2638),x=i(39429);x.register("dynamicBitmapText",function(d,l,o,s,f){return this.displayList.add(new a(this.scene,d,l,o,s,f))})},12310:(n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=i(29747),x=a,d=a;x=i(73482),d=i(86741),n.exports={renderWebGL:x,renderCanvas:d}},73482:(n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=i(91296),x=i(61340),d=i(70554),l=new x,o=function(s,f,c,u){var v=f.text,p=v.length;if(p!==0){c.addToRenderList(f);var m=s.pipelines.set(f.pipeline,f),g=a(f,c,u);s.pipelines.preBatch(f);var C=g.sprite,M=g.calc,b=l,w=f.cropWidth>0||f.cropHeight>0;w&&(m.flush(),s.pushScissor(M.tx,M.ty,f.cropWidth*M.scaleX,f.cropHeight*M.scaleY));var R=f.frame,A=R.glTexture,L=f.tintFill,D=d.getTintAppendFloatAlpha(f.tintTopLeft,c.alpha*f._alphaTL),G=d.getTintAppendFloatAlpha(f.tintTopRight,c.alpha*f._alphaTR),B=d.getTintAppendFloatAlpha(f.tintBottomLeft,c.alpha*f._alphaBL),I=d.getTintAppendFloatAlpha(f.tintBottomRight,c.alpha*f._alphaBR),k=m.setGameObject(f),z=0,X=0,H=0,Q=0,J=f.letterSpacing,Y,$=0,V=0,U,K=f.scrollX,j=f.scrollY,_=f.fontData,tt=_.chars,rt=_.lineHeight,ot=f.fontSize/_.size,ft=0,ct=f._align,gt=0,yt=0,Mt=f.getTextBounds(!1);f.maxWidth>0&&(v=Mt.wrappedText,p=v.length);var Ct=f._bounds.lines;ct===1?yt=(Ct.longest-Ct.lengths[0])/2:ct===2&&(yt=Ct.longest-Ct.lengths[0]);for(var Wt=c.roundPixels,Yt=f.displayCallback,Ht=f.callbackData,bt=0;bt<p;bt++){if(H=v.charCodeAt(bt),H===10){gt++,ct===1?yt=(Ct.longest-Ct.lengths[gt])/2:ct===2&&(yt=Ct.longest-Ct.lengths[gt]),z=0,X+=rt,U=null;continue}if(Y=tt[H],!!Y){$=Y.width,V=Y.height;var kt=Y.xOffset+z-K,zt=Y.yOffset+X-j;if(U!==null){var jt=Y.kerning[Q]||0;kt+=jt,z+=jt}if(z+=Y.xAdvance+J,U=Y,Q=H,!($===0||V===0||H===32)){if(ot=f.fontSize/f.fontData.size,ft=0,Yt){Ht.color=0,Ht.tint.topLeft=D,Ht.tint.topRight=G,Ht.tint.bottomLeft=B,Ht.tint.bottomRight=I,Ht.index=bt,Ht.charCode=H,Ht.x=kt,Ht.y=zt,Ht.scale=ot,Ht.rotation=ft,Ht.data=Y.data;var fe=Yt(Ht);kt=fe.x,zt=fe.y,ot=fe.scale,ft=fe.rotation,fe.color?(D=fe.color,G=fe.color,B=fe.color,I=fe.color):(D=fe.tint.topLeft,G=fe.tint.topRight,B=fe.tint.bottomLeft,I=fe.tint.bottomRight),D=d.getTintAppendFloatAlpha(D,c.alpha*f._alphaTL),G=d.getTintAppendFloatAlpha(G,c.alpha*f._alphaTR),B=d.getTintAppendFloatAlpha(B,c.alpha*f._alphaBL),I=d.getTintAppendFloatAlpha(I,c.alpha*f._alphaBR)}kt*=ot,zt*=ot,kt-=f.displayOriginX,zt-=f.displayOriginY,kt+=yt,b.applyITRS(kt,zt,ft,ot,ot),M.multiply(b,C);var xe=Y.u0,le=Y.v0,Ee=Y.u1,Qe=Y.v1,Bt=$,Ut=V,te=C.e,ce=C.f,Pe=Ut*C.c+C.e,yi=Ut*C.d+C.f,fi=Bt*C.a+Ut*C.c+C.e,Ai=Bt*C.b+Ut*C.d+C.f,qe=Bt*C.a+C.e,Ui=Bt*C.b+C.f;Wt&&(te=Math.round(te),ce=Math.round(ce),Pe=Math.round(Pe),yi=Math.round(yi),fi=Math.round(fi),Ai=Math.round(Ai),qe=Math.round(qe),Ui=Math.round(Ui)),m.shouldFlush(6)&&(m.flush(),k=m.setGameObject(f)),m.batchQuad(f,te,ce,Pe,yi,fi,Ai,qe,Ui,xe,le,Ee,Qe,D,G,B,I,L,A,k)}}}w&&(m.flush(),s.popScissor()),s.pipelines.postBatch(f)}};n.exports=o},22186:(n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=i(83419),x=i(45319),d=i(31401),l=i(95643),o=i(53048),s=i(61327),f=i(21859),c=i(87841),u=i(18658),v=new a({Extends:l,Mixins:[d.Alpha,d.BlendMode,d.Depth,d.GetBounds,d.Mask,d.Origin,d.Pipeline,d.PostPipeline,d.ScrollFactor,d.Texture,d.Tint,d.Transform,d.Visible,u],initialize:function(m,g,C,M,b,w,R){b===void 0&&(b=""),R===void 0&&(R=0),l.call(this,m,"BitmapText"),this.font=M;var A=this.scene.sys.cache.bitmapFont.get(M);if(!A)throw new Error("Invalid BitmapText key: "+M);this.fontData=A.data,this._text="",this._fontSize=w||this.fontData.size,this._letterSpacing=0,this._lineSpacing=0,this._align=R,this._bounds=o(),this._dirty=!0,this._maxWidth=0,this.wordWrapCharCode=32,this.charColors=[],this.dropShadowX=0,this.dropShadowY=0,this.dropShadowColor=0,this.dropShadowAlpha=.5,this.fromAtlas=A.fromAtlas,this.setTexture(A.texture,A.frame),this.setPosition(g,C),this.setOrigin(0,0),this.initPipeline(),this.initPostPipeline(),this.setText(b)},setLeftAlign:function(){return this._align=v.ALIGN_LEFT,this._dirty=!0,this},setCenterAlign:function(){return this._align=v.ALIGN_CENTER,this._dirty=!0,this},setRightAlign:function(){return this._align=v.ALIGN_RIGHT,this._dirty=!0,this},setFontSize:function(p){return this._fontSize=p,this._dirty=!0,this},setLetterSpacing:function(p){return p===void 0&&(p=0),this._letterSpacing=p,this._dirty=!0,this},setLineSpacing:function(p){return p===void 0&&(p=0),this.lineSpacing=p,this},setText:function(p){return!p&&p!==0&&(p=""),Array.isArray(p)&&(p=p.join(`
`)),p!==this.text&&(this._text=p.toString(),this._dirty=!0,this.updateDisplayOrigin()),this},setDropShadow:function(p,m,g,C){return p===void 0&&(p=0),m===void 0&&(m=0),g===void 0&&(g=0),C===void 0&&(C=.5),this.dropShadowX=p,this.dropShadowY=m,this.dropShadowColor=g,this.dropShadowAlpha=C,this},setCharacterTint:function(p,m,g,C,M,b,w){p===void 0&&(p=0),m===void 0&&(m=1),g===void 0&&(g=!1),C===void 0&&(C=-1),M===void 0&&(M=C,b=C,w=C);var R=this.text.length;m===-1&&(m=R),p<0&&(p=R+p),p=x(p,0,R-1);for(var A=x(p+m,p,R),L=this.charColors,D=p;D<A;D++){var G=L[D];if(C===-1)L[D]=null;else{var B=g?1:0;G?(G.tintEffect=B,G.tintTL=C,G.tintTR=M,G.tintBL=b,G.tintBR=w):L[D]={tintEffect:B,tintTL:C,tintTR:M,tintBL:b,tintBR:w}}}return this},setWordTint:function(p,m,g,C,M,b,w){m===void 0&&(m=1);for(var R=this.getTextBounds(),A=R.words,L=typeof p=="number",D=0,G=0;G<A.length;G++){var B=A[G];if((L&&G===p||!L&&B.word===p)&&(this.setCharacterTint(B.i,B.word.length,g,C,M,b,w),D++,D===m))return this}return this},getTextBounds:function(p){var m=this._bounds;return(this._dirty||p||this.scaleX!==m.scaleX||this.scaleY!==m.scaleY)&&(o(this,p,!0,m),this._dirty=!1),m},getCharacterAt:function(p,m,g){for(var C=this.getLocalPoint(p,m,null,g),M=this.getTextBounds(),b=M.characters,w=new c,R=0;R<b.length;R++){var A=b[R];if(w.setTo(A.x,A.t,A.r-A.x,A.b),w.contains(C.x,C.y))return A}return null},updateDisplayOrigin:function(){return this._dirty=!0,this.getTextBounds(!1),this},setFont:function(p,m,g){m===void 0&&(m=this._fontSize),g===void 0&&(g=this._align);var C=this.scene.sys.cache.bitmapFont.get(p);return C&&(this.font=p,this.fontData=C.data,this._fontSize=m,this._align=g,this.fromAtlas=C.fromAtlas===!0,this.setTexture(C.texture,C.frame),o(this,!1,!0,this._bounds)),this},setMaxWidth:function(p,m){return this._maxWidth=p,this._dirty=!0,m!==void 0&&(this.wordWrapCharCode=m),this},align:{set:function(p){this._align=p,this._dirty=!0},get:function(){return this._align}},text:{set:function(p){this.setText(p)},get:function(){return this._text}},fontSize:{set:function(p){this._fontSize=p,this._dirty=!0},get:function(){return this._fontSize}},letterSpacing:{set:function(p){this._letterSpacing=p,this._dirty=!0},get:function(){return this._letterSpacing}},lineSpacing:{set:function(p){this._lineSpacing=p,this._dirty=!0},get:function(){return this._lineSpacing}},maxWidth:{set:function(p){this._maxWidth=p,this._dirty=!0},get:function(){return this._maxWidth}},width:{get:function(){return this.getTextBounds(!1),this._bounds.global.width}},height:{get:function(){return this.getTextBounds(!1),this._bounds.global.height}},displayWidth:{get:function(){return this.width}},displayHeight:{get:function(){return this.height}},toJSON:function(){var p=d.ToJSON(this),m={font:this.font,text:this.text,fontSize:this.fontSize,letterSpacing:this.letterSpacing,lineSpacing:this.lineSpacing,align:this.align};return p.data=m,p},preDestroy:function(){this.charColors.length=0,this._bounds=null,this.fontData=null}});v.ALIGN_LEFT=0,v.ALIGN_CENTER=1,v.ALIGN_RIGHT=2,v.ParseFromAtlas=s,v.ParseXMLBitmapFont=f,n.exports=v},37289:(n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=i(20926),x=function(d,l,o,s){var f=l._text,c=f.length,u=d.currentContext;if(!(c===0||!a(d,u,l,o,s))){o.addToRenderList(l);var v=l.fromAtlas?l.frame:l.texture.frames.__BASE,p=l.fontData.chars,m=l.fontData.lineHeight,g=l._letterSpacing,C=l._lineSpacing,M=0,b=0,w=0,R=null,A=0,L=0,D=0,G=0,B=0,I=0,k=null,z=0,X=v.source.image,H=v.cutX,Q=v.cutY,J=l._fontSize/l.fontData.size,Y=l._align,$=0,V=0,U=l.getTextBounds(!1);l.maxWidth>0&&(f=U.wrappedText,c=f.length);var K=l._bounds.lines;Y===1?V=(K.longest-K.lengths[0])/2:Y===2&&(V=K.longest-K.lengths[0]),u.translate(-l.displayOriginX,-l.displayOriginY);for(var j=o.roundPixels,_=0;_<c;_++){if(w=f.charCodeAt(_),w===10){$++,Y===1?V=(K.longest-K.lengths[$])/2:Y===2&&(V=K.longest-K.lengths[$]),M=0,b+=m+C,k=null;continue}if(R=p[w],!!R){if(A=H+R.x,L=Q+R.y,D=R.width,G=R.height,B=R.xOffset+M,I=R.yOffset+b,k!==null){var tt=R.kerning[z];B+=tt!==void 0?tt:0}B*=J,I*=J,B+=V,M+=R.xAdvance+g+(tt!==void 0?tt:0),k=R,z=w,!(D===0||G===0||w===32)&&(j&&(B=Math.round(B),I=Math.round(I)),u.save(),u.translate(B,I),u.scale(J,J),u.drawImage(X,A,L,D,G,0,0,D,G),u.restore())}}u.restore()}};n.exports=x},57336:(n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=i(22186),x=i(25305),d=i(44603),l=i(23568),o=i(35154);d.register("bitmapText",function(s,f){s===void 0&&(s={});var c=o(s,"font",""),u=l(s,"text",""),v=l(s,"size",!1),p=o(s,"align",0),m=new a(this.scene,0,0,c,u,v,p);return f!==void 0&&(s.add=f),x(this.scene,m,s),m})},34914:(n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=i(22186),x=i(39429);x.register("bitmapText",function(d,l,o,s,f,c){return this.displayList.add(new a(this.scene,d,l,o,s,f,c))})},18658:(n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=i(29747),x=a,d=a;x=i(33590),d=i(37289),n.exports={renderWebGL:x,renderCanvas:d}},33590:(n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=i(3217),x=i(91296),d=i(70554),l=function(o,s,f,c){var u=s._text,v=u.length;if(v!==0){f.addToRenderList(s);var p=o.pipelines.set(s.pipeline,s),m=x(s,f,c).calc;o.pipelines.preBatch(s);var g=f.roundPixels,C=f.alpha,M=s.charColors,b=s.tintFill,w=d.getTintAppendFloatAlpha,R=w(s.tintTopLeft,C*s._alphaTL),A=w(s.tintTopRight,C*s._alphaTR),L=w(s.tintBottomLeft,C*s._alphaBL),D=w(s.tintBottomRight,C*s._alphaBR),G=s.frame.glTexture,B=p.setGameObject(s),I=s.getTextBounds(!1),k,z,X,H=I.characters,Q=s.dropShadowX,J=s.dropShadowY,Y=Q!==0||J!==0;if(Y){var $=s.dropShadowColor,V=s.dropShadowAlpha,U=w($,C*V*s._alphaTL),K=w($,C*V*s._alphaTR),j=w($,C*V*s._alphaBL),_=w($,C*V*s._alphaBR);for(k=0;k<H.length;k++)z=H[k],X=z.glyph,!(z.code===32||X.width===0||X.height===0)&&a(p,s,z,X,Q,J,m,g,U,K,j,_,1,G,B)}for(k=0;k<H.length;k++)if(z=H[k],X=z.glyph,!(z.code===32||X.width===0||X.height===0))if(p.shouldFlush(6)&&(p.flush(),B=p.setGameObject(s)),M[z.i]){var tt=M[z.i],rt=tt.tintEffect,ot=w(tt.tintTL,C*s._alphaTL),ft=w(tt.tintTR,C*s._alphaTR),ct=w(tt.tintBL,C*s._alphaBL),gt=w(tt.tintBR,C*s._alphaBR);a(p,s,z,X,0,0,m,g,ot,ft,ct,gt,rt,G,B)}else a(p,s,z,X,0,0,m,g,R,A,L,D,b,G,B);o.pipelines.postBatch(s)}};n.exports=l},6107:(n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=i(48011),x=i(46590),d=i(83419),l=i(31401),o=i(4327),s=i(95643),f=i(73162),c=new d({Extends:s,Mixins:[l.Alpha,l.BlendMode,l.Depth,l.Mask,l.Pipeline,l.PostPipeline,l.ScrollFactor,l.Size,l.Texture,l.Transform,l.Visible,a],initialize:function(v,p,m,g,C){s.call(this,v,"Blitter"),this.setTexture(g,C),this.setPosition(p,m),this.initPipeline(),this.initPostPipeline(),this.children=new f,this.renderList=[],this.dirty=!1},create:function(u,v,p,m,g){m===void 0&&(m=!0),g===void 0&&(g=this.children.length),p===void 0?p=this.frame:p instanceof o||(p=this.texture.get(p));var C=new x(this,u,v,p,m);return this.children.addAt(C,g,!1),this.dirty=!0,C},createFromCallback:function(u,v,p,m){for(var g=this.createMultiple(v,p,m),C=0;C<g.length;C++){var M=g[C];u.call(this,M,C)}return g},createMultiple:function(u,v,p){v===void 0&&(v=this.frame.name),p===void 0&&(p=!0),Array.isArray(v)||(v=[v]);var m=[],g=this;return v.forEach(function(C){for(var M=0;M<u;M++)m.push(g.create(0,0,C,p))}),m},childCanRender:function(u){return u.visible&&u.alpha>0},getRenderList:function(){return this.dirty&&(this.renderList=this.children.list.filter(this.childCanRender,this),this.dirty=!1),this.renderList},clear:function(){this.children.removeAll(),this.dirty=!0},preDestroy:function(){this.children.destroy(),this.renderList=[]}});n.exports=c},72396:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(i,a,x,d){var l=a.getRenderList();if(l.length!==0){var o=i.currentContext,s=x.alpha*a.alpha;if(s!==0){x.addToRenderList(a),o.globalCompositeOperation=i.blendModes[a.blendMode],o.imageSmoothingEnabled=!a.frame.source.scaleMode;var f=a.x-x.scrollX*a.scrollFactorX,c=a.y-x.scrollY*a.scrollFactorY;o.save(),d&&d.copyToContext(o);for(var u=x.roundPixels,v=0;v<l.length;v++){var p=l[v],m=p.flipX||p.flipY,g=p.frame,C=g.canvasData,M=g.x,b=g.y,w=1,R=1,A=p.alpha*s;A!==0&&(o.globalAlpha=A,m?(p.flipX&&(w=-1,M-=C.width),p.flipY&&(R=-1,b-=C.height),C.width>0&&C.height>0&&(o.save(),o.translate(p.x+f,p.y+c),o.scale(w,R),o.drawImage(g.source.image,C.x,C.y,C.width,C.height,M,b,C.width,C.height),o.restore())):(u&&(M=Math.round(M),b=Math.round(b)),C.width>0&&C.height>0&&o.drawImage(g.source.image,C.x,C.y,C.width,C.height,M+p.x+f,b+p.y+c,C.width,C.height)))}o.restore()}}};n.exports=T},9403:(n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=i(6107),x=i(25305),d=i(44603),l=i(23568);d.register("blitter",function(o,s){o===void 0&&(o={});var f=l(o,"key",null),c=l(o,"frame",null),u=new a(this.scene,0,0,f,c);return s!==void 0&&(o.add=s),x(this.scene,u,o),u})},12709:(n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=i(6107),x=i(39429);x.register("blitter",function(d,l,o,s){return this.displayList.add(new a(this.scene,d,l,o,s))})},48011:(n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=i(29747),x=a,d=a;x=i(99485),d=i(72396),n.exports={renderWebGL:x,renderCanvas:d}},99485:(n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=i(61340),x=i(70554),d=new a,l=function(o,s,f,c){var u=s.getRenderList(),v=f.alpha*s.alpha;if(!(u.length===0||v===0)){f.addToRenderList(s);var p=o.pipelines.set(this.pipeline,s),m=f.scrollX*s.scrollFactorX,g=f.scrollY*s.scrollFactorY,C=d.copyFrom(f.matrix);c&&(C.multiplyWithOffset(c,-m,-g),m=0,g=0);var M=s.x-m,b=s.y-g,w=-1,R=!1,A=f.roundPixels;o.pipelines.preBatch(s);for(var L=0;L<u.length;L++){var D=u[L],G=D.frame,B=D.alpha*v;if(B!==0){var I=G.width,k=G.height,z=M+D.x+G.x,X=b+D.y+G.y;D.flipX&&(I*=-1,z+=G.width),D.flipY&&(k*=-1,X+=G.height);var H=C.setQuad(z,X,z+I,X+k,A),Q=x.getTintAppendFloatAlpha(D.tint,B);if(G.sourceIndex!==w){var J=p.setGameObject(s,G);w=G.sourceIndex}p.batchQuad(s,H[0],H[1],H[2],H[3],H[4],H[5],H[6],H[7],G.u0,G.v0,G.u1,G.v1,Q,Q,Q,Q,R,G.glTexture,J)&&(w=-1)}}o.pipelines.postBatch(s)}};n.exports=l},46590:(n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=i(83419),x=i(4327),d=new a({initialize:function(o,s,f,c,u){this.parent=o,this.x=s,this.y=f,this.frame=c,this.data={},this.tint=16777215,this._visible=u,this._alpha=1,this.flipX=!1,this.flipY=!1,this.hasTransformComponent=!0},setFrame:function(l){return l===void 0?this.frame=this.parent.frame:l instanceof x&&l.texture===this.parent.texture?this.frame=l:this.frame=this.parent.texture.get(l),this},resetFlip:function(){return this.flipX=!1,this.flipY=!1,this},reset:function(l,o,s){return this.x=l,this.y=o,this.flipX=!1,this.flipY=!1,this._alpha=1,this._visible=!0,this.parent.dirty=!0,s&&this.setFrame(s),this},setPosition:function(l,o){return this.x=l,this.y=o,this},setFlipX:function(l){return this.flipX=l,this},setFlipY:function(l){return this.flipY=l,this},setFlip:function(l,o){return this.flipX=l,this.flipY=o,this},setVisible:function(l){return this.visible=l,this},setAlpha:function(l){return this.alpha=l,this},setTint:function(l){return this.tint=l,this},destroy:function(){this.parent.dirty=!0,this.parent.children.remove(this),this.parent=void 0,this.frame=void 0,this.data=void 0},visible:{get:function(){return this._visible},set:function(l){this.parent.dirty|=this._visible!==l,this._visible=l}},alpha:{get:function(){return this._alpha},set:function(l){this.parent.dirty|=this._alpha>0!=l>0,this._alpha=l}}});n.exports=d},16005:(n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=i(45319),x=2,d={_alpha:1,_alphaTL:1,_alphaTR:1,_alphaBL:1,_alphaBR:1,clearAlpha:function(){return this.setAlpha(1)},setAlpha:function(l,o,s,f){return l===void 0&&(l=1),o===void 0?this.alpha=l:(this._alphaTL=a(l,0,1),this._alphaTR=a(o,0,1),this._alphaBL=a(s,0,1),this._alphaBR=a(f,0,1)),this},alpha:{get:function(){return this._alpha},set:function(l){var o=a(l,0,1);this._alpha=o,this._alphaTL=o,this._alphaTR=o,this._alphaBL=o,this._alphaBR=o,o===0?this.renderFlags&=~x:this.renderFlags|=x}},alphaTopLeft:{get:function(){return this._alphaTL},set:function(l){var o=a(l,0,1);this._alphaTL=o,o!==0&&(this.renderFlags|=x)}},alphaTopRight:{get:function(){return this._alphaTR},set:function(l){var o=a(l,0,1);this._alphaTR=o,o!==0&&(this.renderFlags|=x)}},alphaBottomLeft:{get:function(){return this._alphaBL},set:function(l){var o=a(l,0,1);this._alphaBL=o,o!==0&&(this.renderFlags|=x)}},alphaBottomRight:{get:function(){return this._alphaBR},set:function(l){var o=a(l,0,1);this._alphaBR=o,o!==0&&(this.renderFlags|=x)}}};n.exports=d},88509:(n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=i(45319),x=2,d={_alpha:1,clearAlpha:function(){return this.setAlpha(1)},setAlpha:function(l){return l===void 0&&(l=1),this.alpha=l,this},alpha:{get:function(){return this._alpha},set:function(l){var o=a(l,0,1);this._alpha=o,o===0?this.renderFlags&=~x:this.renderFlags|=x}}};n.exports=d},90065:(n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=i(10312),x={_blendMode:a.NORMAL,blendMode:{get:function(){return this._blendMode},set:function(d){typeof d=="string"&&(d=a[d]),d|=0,d>=-1&&(this._blendMode=d)}},setBlendMode:function(d){return this.blendMode=d,this}};n.exports=x},94215:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T={width:0,height:0,displayWidth:{get:function(){return this.scaleX*this.width},set:function(i){this.scaleX=i/this.width}},displayHeight:{get:function(){return this.scaleY*this.height},set:function(i){this.scaleY=i/this.height}},setSize:function(i,a){return this.width=i,this.height=a,this},setDisplaySize:function(i,a){return this.displayWidth=i,this.displayHeight=a,this}};n.exports=T},61683:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T={texture:null,frame:null,isCropped:!1,setCrop:function(i,a,x,d){if(i===void 0)this.isCropped=!1;else if(this.frame){if(typeof i=="number")this.frame.setCropUVs(this._crop,i,a,x,d,this.flipX,this.flipY);else{var l=i;this.frame.setCropUVs(this._crop,l.x,l.y,l.width,l.height,this.flipX,this.flipY)}this.isCropped=!0}return this},resetCropObject:function(){return{u0:0,v0:0,u1:0,v1:0,width:0,height:0,x:0,y:0,flipX:!1,flipY:!1,cx:0,cy:0,cw:0,ch:0}}};n.exports=T},89272:(n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=i(37105),x={_depth:0,depth:{get:function(){return this._depth},set:function(d){this.displayList&&this.displayList.queueDepthSort(),this._depth=d}},setDepth:function(d){return d===void 0&&(d=0),this.depth=d,this},setToTop:function(){var d=this.getDisplayList();return d&&a.BringToTop(d,this),this},setToBack:function(){var d=this.getDisplayList();return d&&a.SendToBack(d,this),this},setAbove:function(d){var l=this.getDisplayList();return l&&d&&a.MoveAbove(l,this,d),this},setBelow:function(d){var l=this.getDisplayList();return l&&d&&a.MoveBelow(l,this,d),this}};n.exports=x},47059:(n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=i(83419),x=i(66064),d=i(19133),l=new a({initialize:function(s,f){this.gameObject=s,this.isPost=f,this.enabled=!1,this.list=[],this.padding=0},setPadding:function(o){return o===void 0&&(o=0),this.padding=o,this.gameObject},onFXCopy:function(){},onFX:function(){},enable:function(o){if(!this.isPost){var s=this.gameObject.scene.sys.renderer;s&&s.pipelines?(this.gameObject.pipeline=s.pipelines.FX_PIPELINE,o!==void 0&&(this.padding=o),this.enabled=!0):this.enabled=!1}},clear:function(){if(this.isPost)this.gameObject.resetPostPipeline(!0);else{for(var o=this.list,s=0;s<o.length;s++)o[s].destroy();this.list=[]}return this.enabled=!1,this.gameObject},remove:function(o){var s;if(this.isPost){var f=this.gameObject.getPostPipeline(String(o.type));for(Array.isArray(f)||(f=[f]),s=0;s<f.length;s++){var c=f[s];if(c.controller===o){this.gameObject.removePostPipeline(c),o.destroy();break}}}else{var u=this.list;for(s=0;s<u.length;s++)u[s]===o&&(d(u,s),o.destroy())}return this.gameObject},disable:function(o){return o===void 0&&(o=!1),this.isPost||this.gameObject.resetPipeline(),this.enabled=!1,o&&this.clear(),this.gameObject},add:function(o,s){if(this.isPost){var f=String(o.type);this.gameObject.setPostPipeline(f,s);var c=this.gameObject.getPostPipeline(f);if(c)return Array.isArray(c)&&(c=c.pop()),c&&(c.controller=o),o}else return this.enabled||this.enable(),this.list.push(o),o},addGlow:function(o,s,f,c,u,v){return this.add(new x.Glow(this.gameObject,o,s,f,c),{quality:u,distance:v})},addShadow:function(o,s,f,c,u,v,p){return this.add(new x.Shadow(this.gameObject,o,s,f,c,u,v,p))},addPixelate:function(o){return this.add(new x.Pixelate(this.gameObject,o))},addVignette:function(o,s,f,c){return this.add(new x.Vignette(this.gameObject,o,s,f,c))},addShine:function(o,s,f,c){return this.add(new x.Shine(this.gameObject,o,s,f,c))},addBlur:function(o,s,f,c,u,v){return this.add(new x.Blur(this.gameObject,o,s,f,c,u,v))},addGradient:function(o,s,f,c,u,v,p,m){return this.add(new x.Gradient(this.gameObject,o,s,f,c,u,v,p,m))},addBloom:function(o,s,f,c,u,v){return this.add(new x.Bloom(this.gameObject,o,s,f,c,u,v))},addColorMatrix:function(){return this.add(new x.ColorMatrix(this.gameObject))},addCircle:function(o,s,f,c,u){return this.add(new x.Circle(this.gameObject,o,s,f,c,u))},addBarrel:function(o){return this.add(new x.Barrel(this.gameObject,o))},addDisplacement:function(o,s,f){return this.add(new x.Displacement(this.gameObject,o,s,f))},addWipe:function(o,s,f){return this.add(new x.Wipe(this.gameObject,o,s,f))},addReveal:function(o,s,f){return this.add(new x.Wipe(this.gameObject,o,s,f,!0))},addBokeh:function(o,s,f){return this.add(new x.Bokeh(this.gameObject,o,s,f))},addTiltShift:function(o,s,f,c,u,v){return this.add(new x.Bokeh(this.gameObject,o,s,f,!0,c,u,v))},destroy:function(){this.clear(),this.gameObject=null}});n.exports=l},54434:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T={flipX:!1,flipY:!1,toggleFlipX:function(){return this.flipX=!this.flipX,this},toggleFlipY:function(){return this.flipY=!this.flipY,this},setFlipX:function(i){return this.flipX=i,this},setFlipY:function(i){return this.flipY=i,this},setFlip:function(i,a){return this.flipX=i,this.flipY=a,this},resetFlip:function(){return this.flipX=!1,this.flipY=!1,this}};n.exports=T},8004:(n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=i(87841),x=i(11520),d=i(26099),l={prepareBoundsOutput:function(o,s){if(s===void 0&&(s=!1),this.rotation!==0&&x(o,this.x,this.y,this.rotation),s&&this.parentContainer){var f=this.parentContainer.getBoundsTransformMatrix();f.transformPoint(o.x,o.y,o)}return o},getCenter:function(o,s){return o===void 0&&(o=new d),o.x=this.x-this.displayWidth*this.originX+this.displayWidth/2,o.y=this.y-this.displayHeight*this.originY+this.displayHeight/2,this.prepareBoundsOutput(o,s)},getTopLeft:function(o,s){return o||(o=new d),o.x=this.x-this.displayWidth*this.originX,o.y=this.y-this.displayHeight*this.originY,this.prepareBoundsOutput(o,s)},getTopCenter:function(o,s){return o||(o=new d),o.x=this.x-this.displayWidth*this.originX+this.displayWidth/2,o.y=this.y-this.displayHeight*this.originY,this.prepareBoundsOutput(o,s)},getTopRight:function(o,s){return o||(o=new d),o.x=this.x-this.displayWidth*this.originX+this.displayWidth,o.y=this.y-this.displayHeight*this.originY,this.prepareBoundsOutput(o,s)},getLeftCenter:function(o,s){return o||(o=new d),o.x=this.x-this.displayWidth*this.originX,o.y=this.y-this.displayHeight*this.originY+this.displayHeight/2,this.prepareBoundsOutput(o,s)},getRightCenter:function(o,s){return o||(o=new d),o.x=this.x-this.displayWidth*this.originX+this.displayWidth,o.y=this.y-this.displayHeight*this.originY+this.displayHeight/2,this.prepareBoundsOutput(o,s)},getBottomLeft:function(o,s){return o||(o=new d),o.x=this.x-this.displayWidth*this.originX,o.y=this.y-this.displayHeight*this.originY+this.displayHeight,this.prepareBoundsOutput(o,s)},getBottomCenter:function(o,s){return o||(o=new d),o.x=this.x-this.displayWidth*this.originX+this.displayWidth/2,o.y=this.y-this.displayHeight*this.originY+this.displayHeight,this.prepareBoundsOutput(o,s)},getBottomRight:function(o,s){return o||(o=new d),o.x=this.x-this.displayWidth*this.originX+this.displayWidth,o.y=this.y-this.displayHeight*this.originY+this.displayHeight,this.prepareBoundsOutput(o,s)},getBounds:function(o){o===void 0&&(o=new a);var s,f,c,u,v,p,m,g;if(this.parentContainer){var C=this.parentContainer.getBoundsTransformMatrix();this.getTopLeft(o),C.transformPoint(o.x,o.y,o),s=o.x,f=o.y,this.getTopRight(o),C.transformPoint(o.x,o.y,o),c=o.x,u=o.y,this.getBottomLeft(o),C.transformPoint(o.x,o.y,o),v=o.x,p=o.y,this.getBottomRight(o),C.transformPoint(o.x,o.y,o),m=o.x,g=o.y}else this.getTopLeft(o),s=o.x,f=o.y,this.getTopRight(o),c=o.x,u=o.y,this.getBottomLeft(o),v=o.x,p=o.y,this.getBottomRight(o),m=o.x,g=o.y;return o.x=Math.min(s,c,v,m),o.y=Math.min(f,u,p,g),o.width=Math.max(s,c,v,m)-o.x,o.height=Math.max(f,u,p,g)-o.y,o}};n.exports=l},8573:(n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=i(6858),x=i(80661),d={mask:null,setMask:function(l){return this.mask=l,this},clearMask:function(l){return l===void 0&&(l=!1),l&&this.mask&&this.mask.destroy(),this.mask=null,this},createBitmapMask:function(l,o,s,f,c){return l===void 0&&(this.texture||this.shader||this.geom)&&(l=this),new a(this.scene,l,o,s,f,c)},createGeometryMask:function(l){return l===void 0&&(this.type==="Graphics"||this.geom)&&(l=this),new x(this.scene,l)}};n.exports=d},27387:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T={_originComponent:!0,originX:.5,originY:.5,_displayOriginX:0,_displayOriginY:0,displayOriginX:{get:function(){return this._displayOriginX},set:function(i){this._displayOriginX=i,this.originX=i/this.width}},displayOriginY:{get:function(){return this._displayOriginY},set:function(i){this._displayOriginY=i,this.originY=i/this.height}},setOrigin:function(i,a){return i===void 0&&(i=.5),a===void 0&&(a=i),this.originX=i,this.originY=a,this.updateDisplayOrigin()},setOriginFromFrame:function(){return!this.frame||!this.frame.customPivot?this.setOrigin():(this.originX=this.frame.pivotX,this.originY=this.frame.pivotY,this.updateDisplayOrigin())},setDisplayOrigin:function(i,a){return i===void 0&&(i=0),a===void 0&&(a=i),this.displayOriginX=i,this.displayOriginY=a,this},updateDisplayOrigin:function(){return this._displayOriginX=this.originX*this.width,this._displayOriginY=this.originY*this.height,this}};n.exports=T},37640:(n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=i(39506),x=i(57355),d=i(35154),l=i(86353),o=i(26099),s={path:null,rotateToPath:!1,pathRotationOffset:0,pathOffset:null,pathVector:null,pathDelta:null,pathTween:null,pathConfig:null,_prevDirection:l.PLAYING_FORWARD,setPath:function(f,c){c===void 0&&(c=this.pathConfig);var u=this.pathTween;return u&&u.isPlaying()&&u.stop(),this.path=f,c&&this.startFollow(c),this},setRotateToPath:function(f,c){return c===void 0&&(c=0),this.rotateToPath=f,this.pathRotationOffset=c,this},isFollowing:function(){var f=this.pathTween;return f&&f.isPlaying()},startFollow:function(f,c){f===void 0&&(f={}),c===void 0&&(c=0);var u=this.pathTween;u&&u.isPlaying()&&u.stop(),typeof f=="number"&&(f={duration:f}),f.from=d(f,"from",0),f.to=d(f,"to",1);var v=x(f,"positionOnPath",!1);this.rotateToPath=x(f,"rotateToPath",!1),this.pathRotationOffset=d(f,"rotationOffset",0);var p=d(f,"startAt",c);if(p&&(f.onStart=function(g){var C=g.data[0];C.progress=p,C.elapsed=C.duration*p;var M=C.ease(C.progress);C.current=C.start+(C.end-C.start)*M,C.setTargetValue()}),this.pathOffset||(this.pathOffset=new o(this.x,this.y)),this.pathVector||(this.pathVector=new o),this.pathDelta||(this.pathDelta=new o),this.pathDelta.reset(),f.persist=!0,this.pathTween=this.scene.sys.tweens.addCounter(f),this.path.getStartPoint(this.pathOffset),v&&(this.x=this.pathOffset.x,this.y=this.pathOffset.y),this.pathOffset.x=this.x-this.pathOffset.x,this.pathOffset.y=this.y-this.pathOffset.y,this._prevDirection=l.PLAYING_FORWARD,this.rotateToPath){var m=this.path.getPoint(.1);this.rotation=Math.atan2(m.y-this.y,m.x-this.x)+a(this.pathRotationOffset)}return this.pathConfig=f,this},pauseFollow:function(){var f=this.pathTween;return f&&f.isPlaying()&&f.pause(),this},resumeFollow:function(){var f=this.pathTween;return f&&f.isPaused()&&f.resume(),this},stopFollow:function(){var f=this.pathTween;return f&&f.isPlaying()&&f.stop(),this},pathUpdate:function(){var f=this.pathTween;if(f&&f.data){var c=f.data[0],u=this.pathDelta,v=this.pathVector;if(u.copy(v).negate(),c.state===l.COMPLETE){this.path.getPoint(c.end,v),u.add(v),v.add(this.pathOffset),this.setPosition(v.x,v.y);return}else if(c.state!==l.PLAYING_FORWARD&&c.state!==l.PLAYING_BACKWARD)return;this.path.getPoint(f.getValue(),v),u.add(v),v.add(this.pathOffset);var p=this.x,m=this.y;this.setPosition(v.x,v.y);var g=this.x-p,C=this.y-m;if(g===0&&C===0)return;if(c.state!==this._prevDirection){this._prevDirection=c.state;return}this.rotateToPath&&(this.rotation=Math.atan2(C,g)+a(this.pathRotationOffset))}}};n.exports=s},72699:(n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=i(62644),x={defaultPipeline:null,pipeline:null,pipelineData:null,initPipeline:function(d){this.pipelineData={};var l=this.scene.sys.renderer;if(!l)return!1;var o=l.pipelines;if(o){d===void 0&&(d=o.default);var s=o.get(d);if(s)return this.defaultPipeline=s,this.pipeline=s,!0}return!1},setPipeline:function(d,l,o){var s=this.scene.sys.renderer;if(!s)return this;var f=s.pipelines;if(f){var c=f.get(d);c&&(this.pipeline=c),l&&(this.pipelineData=o?a(l):l)}return this},setPipelineData:function(d,l){var o=this.pipelineData;return l===void 0?delete o[d]:o[d]=l,this},resetPipeline:function(d){return d===void 0&&(d=!1),this.pipeline=this.defaultPipeline,d&&(this.pipelineData={}),this.pipeline!==null},getPipelineName:function(){return this.pipeline===null?null:this.pipeline.name}};n.exports=x},17581:(n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=i(62644),x=i(47059),d=i(19133),l={hasPostPipeline:!1,postPipelines:null,postPipelineData:null,preFX:null,postFX:null,initPostPipeline:function(o){this.postPipelines=[],this.postPipelineData={},this.postFX=new x(this,!0),o&&(this.preFX=new x(this,!1))},setPostPipeline:function(o,s,f){var c=this.scene.sys.renderer;if(!c)return this;var u=c.pipelines;if(u){Array.isArray(o)||(o=[o]);for(var v=0;v<o.length;v++){var p=u.getPostPipeline(o[v],this,s);p&&this.postPipelines.push(p)}s&&(this.postPipelineData=f?a(s):s)}return this.hasPostPipeline=this.postPipelines.length>0,this},setPostPipelineData:function(o,s){var f=this.postPipelineData;return s===void 0?delete f[o]:f[o]=s,this},getPostPipeline:function(o){for(var s=typeof o=="string",f=this.postPipelines,c=[],u=0;u<f.length;u++){var v=f[u];(s&&v.name===o||!s&&v instanceof o)&&c.push(v)}return c.length===1?c[0]:c},resetPostPipeline:function(o){o===void 0&&(o=!1);for(var s=this.postPipelines,f=0;f<s.length;f++)s[f].destroy();this.postPipelines=[],this.hasPostPipeline=!1,o&&(this.postPipelineData={})},removePostPipeline:function(o){for(var s=typeof o=="string",f=this.postPipelines,c=f.length-1;c>=0;c--){var u=f[c];(s&&u.name===o||!s&&u===o)&&(u.destroy(),d(f,c))}return this.hasPostPipeline=this.postPipelines.length>0,this},clearFX:function(){return this.preFX&&this.preFX.clear(),this.postFX&&this.postFX.clear(),this}};n.exports=l},80227:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T={scrollFactorX:1,scrollFactorY:1,setScrollFactor:function(i,a){return a===void 0&&(a=i),this.scrollFactorX=i,this.scrollFactorY=a,this}};n.exports=T},16736:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T={_sizeComponent:!0,width:0,height:0,displayWidth:{get:function(){return Math.abs(this.scaleX*this.frame.realWidth)},set:function(i){this.scaleX=i/this.frame.realWidth}},displayHeight:{get:function(){return Math.abs(this.scaleY*this.frame.realHeight)},set:function(i){this.scaleY=i/this.frame.realHeight}},setSizeToFrame:function(i){i||(i=this.frame),this.width=i.realWidth,this.height=i.realHeight;var a=this.input;return a&&!a.customHitArea&&(a.hitArea.width=this.width,a.hitArea.height=this.height),this},setSize:function(i,a){return this.width=i,this.height=a,this},setDisplaySize:function(i,a){return this.displayWidth=i,this.displayHeight=a,this}};n.exports=T},37726:(n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=i(4327),x=8,d={texture:null,frame:null,isCropped:!1,setTexture:function(l,o,s,f){return this.texture=this.scene.sys.textures.get(l),this.setFrame(o,s,f)},setFrame:function(l,o,s){return o===void 0&&(o=!0),s===void 0&&(s=!0),l instanceof a?(this.texture=this.scene.sys.textures.get(l.texture.key),this.frame=l):this.frame=this.texture.get(l),!this.frame.cutWidth||!this.frame.cutHeight?this.renderFlags&=~x:this.renderFlags|=x,this._sizeComponent&&o&&this.setSizeToFrame(),this._originComponent&&s&&(this.frame.customPivot?this.setOrigin(this.frame.pivotX,this.frame.pivotY):this.updateDisplayOrigin()),this}};n.exports=d},79812:(n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=i(4327),x=8,d={texture:null,frame:null,isCropped:!1,setCrop:function(l,o,s,f){if(l===void 0)this.isCropped=!1;else if(this.frame){if(typeof l=="number")this.frame.setCropUVs(this._crop,l,o,s,f,this.flipX,this.flipY);else{var c=l;this.frame.setCropUVs(this._crop,c.x,c.y,c.width,c.height,this.flipX,this.flipY)}this.isCropped=!0}return this},setTexture:function(l,o){return this.texture=this.scene.sys.textures.get(l),this.setFrame(o)},setFrame:function(l,o,s){return o===void 0&&(o=!0),s===void 0&&(s=!0),l instanceof a?(this.texture=this.scene.sys.textures.get(l.texture.key),this.frame=l):this.frame=this.texture.get(l),!this.frame.cutWidth||!this.frame.cutHeight?this.renderFlags&=~x:this.renderFlags|=x,this._sizeComponent&&o&&this.setSizeToFrame(),this._originComponent&&s&&(this.frame.customPivot?this.setOrigin(this.frame.pivotX,this.frame.pivotY):this.updateDisplayOrigin()),this.isCropped&&this.frame.updateCropUVs(this._crop,this.flipX,this.flipY),this},resetCropObject:function(){return{u0:0,v0:0,u1:0,v1:0,width:0,height:0,x:0,y:0,flipX:!1,flipY:!1,cx:0,cy:0,cw:0,ch:0}}};n.exports=d},27472:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T={tintTopLeft:16777215,tintTopRight:16777215,tintBottomLeft:16777215,tintBottomRight:16777215,tintFill:!1,clearTint:function(){return this.setTint(16777215),this},setTint:function(i,a,x,d){return i===void 0&&(i=16777215),a===void 0&&(a=i,x=i,d=i),this.tintTopLeft=i,this.tintTopRight=a,this.tintBottomLeft=x,this.tintBottomRight=d,this.tintFill=!1,this},setTintFill:function(i,a,x,d){return this.setTint(i,a,x,d),this.tintFill=!0,this},tint:{get:function(){return this.tintTopLeft},set:function(i){this.setTint(i,i,i,i)}},isTinted:{get:function(){var i=16777215;return this.tintFill||this.tintTopLeft!==i||this.tintTopRight!==i||this.tintBottomLeft!==i||this.tintBottomRight!==i}}};n.exports=T},53774:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(i){var a={name:i.name,type:i.type,x:i.x,y:i.y,depth:i.depth,scale:{x:i.scaleX,y:i.scaleY},origin:{x:i.originX,y:i.originY},flipX:i.flipX,flipY:i.flipY,rotation:i.rotation,alpha:i.alpha,visible:i.visible,blendMode:i.blendMode,textureKey:"",frameKey:"",data:{}};return i.texture&&(a.textureKey=i.texture.key,a.frameKey=i.frame.name),a};n.exports=T},16901:(n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=i(36383),x=i(61340),d=i(85955),l=i(86554),o=i(30954),s=i(26099),f=4,c={hasTransformComponent:!0,_scaleX:1,_scaleY:1,_rotation:0,x:0,y:0,z:0,w:0,scale:{get:function(){return(this._scaleX+this._scaleY)/2},set:function(u){this._scaleX=u,this._scaleY=u,u===0?this.renderFlags&=~f:this.renderFlags|=f}},scaleX:{get:function(){return this._scaleX},set:function(u){this._scaleX=u,u===0?this.renderFlags&=~f:this._scaleY!==0&&(this.renderFlags|=f)}},scaleY:{get:function(){return this._scaleY},set:function(u){this._scaleY=u,u===0?this.renderFlags&=~f:this._scaleX!==0&&(this.renderFlags|=f)}},angle:{get:function(){return o(this._rotation*a.RAD_TO_DEG)},set:function(u){this.rotation=o(u)*a.DEG_TO_RAD}},rotation:{get:function(){return this._rotation},set:function(u){this._rotation=l(u)}},setPosition:function(u,v,p,m){return u===void 0&&(u=0),v===void 0&&(v=u),p===void 0&&(p=0),m===void 0&&(m=0),this.x=u,this.y=v,this.z=p,this.w=m,this},copyPosition:function(u){return u.x!==void 0&&(this.x=u.x),u.y!==void 0&&(this.y=u.y),u.z!==void 0&&(this.z=u.z),u.w!==void 0&&(this.w=u.w),this},setRandomPosition:function(u,v,p,m){return u===void 0&&(u=0),v===void 0&&(v=0),p===void 0&&(p=this.scene.sys.scale.width),m===void 0&&(m=this.scene.sys.scale.height),this.x=u+Math.random()*p,this.y=v+Math.random()*m,this},setRotation:function(u){return u===void 0&&(u=0),this.rotation=u,this},setAngle:function(u){return u===void 0&&(u=0),this.angle=u,this},setScale:function(u,v){return u===void 0&&(u=1),v===void 0&&(v=u),this.scaleX=u,this.scaleY=v,this},setX:function(u){return u===void 0&&(u=0),this.x=u,this},setY:function(u){return u===void 0&&(u=0),this.y=u,this},setZ:function(u){return u===void 0&&(u=0),this.z=u,this},setW:function(u){return u===void 0&&(u=0),this.w=u,this},getLocalTransformMatrix:function(u){return u===void 0&&(u=new x),u.applyITRS(this.x,this.y,this._rotation,this._scaleX,this._scaleY)},getWorldTransformMatrix:function(u,v){u===void 0&&(u=new x);var p=this.parentContainer;if(!p)return this.getLocalTransformMatrix(u);var m=!1;for(v||(v=new x,m=!0),u.applyITRS(this.x,this.y,this._rotation,this._scaleX,this._scaleY);p;)v.applyITRS(p.x,p.y,p._rotation,p._scaleX,p._scaleY),v.multiply(u,u),p=p.parentContainer;return m&&v.destroy(),u},getLocalPoint:function(u,v,p,m){p||(p=new s),m||(m=this.scene.sys.cameras.main);var g=m.scrollX,C=m.scrollY,M=u+g*this.scrollFactorX-g,b=v+C*this.scrollFactorY-C;return this.parentContainer?this.getWorldTransformMatrix().applyInverse(M,b,p):d(M,b,this.x,this.y,this.rotation,this.scaleX,this.scaleY,p),this._originComponent&&(p.x+=this._displayOriginX,p.y+=this._displayOriginY),p},getWorldPoint:function(u,v,p){u===void 0&&(u=new s);var m=this.parentContainer;if(!m)return u.x=this.x,u.y=this.y,u;var g=this.getWorldTransformMatrix(v,p);return u.x=g.tx,u.y=g.ty,u},getParentRotation:function(){for(var u=0,v=this.parentContainer;v;)u+=v.rotation,v=v.parentContainer;return u}};n.exports=c},61340:(n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=i(83419),x=i(36383),d=i(26099),l=new a({initialize:function(s,f,c,u,v,p){s===void 0&&(s=1),f===void 0&&(f=0),c===void 0&&(c=0),u===void 0&&(u=1),v===void 0&&(v=0),p===void 0&&(p=0),this.matrix=new Float32Array([s,f,c,u,v,p,0,0,1]),this.decomposedMatrix={translateX:0,translateY:0,scaleX:1,scaleY:1,rotation:0},this.quad=new Float32Array(8)},a:{get:function(){return this.matrix[0]},set:function(o){this.matrix[0]=o}},b:{get:function(){return this.matrix[1]},set:function(o){this.matrix[1]=o}},c:{get:function(){return this.matrix[2]},set:function(o){this.matrix[2]=o}},d:{get:function(){return this.matrix[3]},set:function(o){this.matrix[3]=o}},e:{get:function(){return this.matrix[4]},set:function(o){this.matrix[4]=o}},f:{get:function(){return this.matrix[5]},set:function(o){this.matrix[5]=o}},tx:{get:function(){return this.matrix[4]},set:function(o){this.matrix[4]=o}},ty:{get:function(){return this.matrix[5]},set:function(o){this.matrix[5]=o}},rotation:{get:function(){return Math.acos(this.a/this.scaleX)*(Math.atan(-this.c/this.a)<0?-1:1)}},rotationNormalized:{get:function(){var o=this.matrix,s=o[0],f=o[1],c=o[2],u=o[3];return s||f?f>0?Math.acos(s/this.scaleX):-Math.acos(s/this.scaleX):c||u?x.TAU-(u>0?Math.acos(-c/this.scaleY):-Math.acos(c/this.scaleY)):0}},scaleX:{get:function(){return Math.sqrt(this.a*this.a+this.b*this.b)}},scaleY:{get:function(){return Math.sqrt(this.c*this.c+this.d*this.d)}},loadIdentity:function(){var o=this.matrix;return o[0]=1,o[1]=0,o[2]=0,o[3]=1,o[4]=0,o[5]=0,this},translate:function(o,s){var f=this.matrix;return f[4]=f[0]*o+f[2]*s+f[4],f[5]=f[1]*o+f[3]*s+f[5],this},scale:function(o,s){var f=this.matrix;return f[0]*=o,f[1]*=o,f[2]*=s,f[3]*=s,this},rotate:function(o){var s=Math.sin(o),f=Math.cos(o),c=this.matrix,u=c[0],v=c[1],p=c[2],m=c[3];return c[0]=u*f+p*s,c[1]=v*f+m*s,c[2]=u*-s+p*f,c[3]=v*-s+m*f,this},multiply:function(o,s){var f=this.matrix,c=o.matrix,u=f[0],v=f[1],p=f[2],m=f[3],g=f[4],C=f[5],M=c[0],b=c[1],w=c[2],R=c[3],A=c[4],L=c[5],D=s===void 0?f:s.matrix;return D[0]=M*u+b*p,D[1]=M*v+b*m,D[2]=w*u+R*p,D[3]=w*v+R*m,D[4]=A*u+L*p+g,D[5]=A*v+L*m+C,D},multiplyWithOffset:function(o,s,f){var c=this.matrix,u=o.matrix,v=c[0],p=c[1],m=c[2],g=c[3],C=c[4],M=c[5],b=s*v+f*m+C,w=s*p+f*g+M,R=u[0],A=u[1],L=u[2],D=u[3],G=u[4],B=u[5];return c[0]=R*v+A*m,c[1]=R*p+A*g,c[2]=L*v+D*m,c[3]=L*p+D*g,c[4]=G*v+B*m+b,c[5]=G*p+B*g+w,this},transform:function(o,s,f,c,u,v){var p=this.matrix,m=p[0],g=p[1],C=p[2],M=p[3],b=p[4],w=p[5];return p[0]=o*m+s*C,p[1]=o*g+s*M,p[2]=f*m+c*C,p[3]=f*g+c*M,p[4]=u*m+v*C+b,p[5]=u*g+v*M+w,this},transformPoint:function(o,s,f){f===void 0&&(f={x:0,y:0});var c=this.matrix,u=c[0],v=c[1],p=c[2],m=c[3],g=c[4],C=c[5];return f.x=o*u+s*p+g,f.y=o*v+s*m+C,f},invert:function(){var o=this.matrix,s=o[0],f=o[1],c=o[2],u=o[3],v=o[4],p=o[5],m=s*u-f*c;return o[0]=u/m,o[1]=-f/m,o[2]=-c/m,o[3]=s/m,o[4]=(c*p-u*v)/m,o[5]=-(s*p-f*v)/m,this},copyFrom:function(o){var s=this.matrix;return s[0]=o.a,s[1]=o.b,s[2]=o.c,s[3]=o.d,s[4]=o.e,s[5]=o.f,this},copyFromArray:function(o){var s=this.matrix;return s[0]=o[0],s[1]=o[1],s[2]=o[2],s[3]=o[3],s[4]=o[4],s[5]=o[5],this},copyToContext:function(o){var s=this.matrix;return o.transform(s[0],s[1],s[2],s[3],s[4],s[5]),o},setToContext:function(o){return o.setTransform(this.a,this.b,this.c,this.d,this.e,this.f),o},copyToArray:function(o){var s=this.matrix;return o===void 0?o=[s[0],s[1],s[2],s[3],s[4],s[5]]:(o[0]=s[0],o[1]=s[1],o[2]=s[2],o[3]=s[3],o[4]=s[4],o[5]=s[5]),o},setTransform:function(o,s,f,c,u,v){var p=this.matrix;return p[0]=o,p[1]=s,p[2]=f,p[3]=c,p[4]=u,p[5]=v,this},decomposeMatrix:function(){var o=this.decomposedMatrix,s=this.matrix,f=s[0],c=s[1],u=s[2],v=s[3],p=f*v-c*u;if(o.translateX=s[4],o.translateY=s[5],f||c){var m=Math.sqrt(f*f+c*c);o.rotation=c>0?Math.acos(f/m):-Math.acos(f/m),o.scaleX=m,o.scaleY=p/m}else if(u||v){var g=Math.sqrt(u*u+v*v);o.rotation=Math.PI*.5-(v>0?Math.acos(-u/g):-Math.acos(u/g)),o.scaleX=p/g,o.scaleY=g}else o.rotation=0,o.scaleX=0,o.scaleY=0;return o},applyITRS:function(o,s,f,c,u){var v=this.matrix,p=Math.sin(f),m=Math.cos(f);return v[4]=o,v[5]=s,v[0]=m*c,v[1]=p*c,v[2]=-p*u,v[3]=m*u,this},applyInverse:function(o,s,f){f===void 0&&(f=new d);var c=this.matrix,u=c[0],v=c[1],p=c[2],m=c[3],g=c[4],C=c[5],M=1/(u*m+p*-v);return f.x=m*M*o+-p*M*s+(C*p-g*m)*M,f.y=u*M*s+-v*M*o+(-C*u+g*v)*M,f},setQuad:function(o,s,f,c,u,v){u===void 0&&(u=!1),v===void 0&&(v=this.quad);var p=this.matrix,m=p[0],g=p[1],C=p[2],M=p[3],b=p[4],w=p[5],R=o*m+s*C+b,A=o*g+s*M+w,L=o*m+c*C+b,D=o*g+c*M+w,G=f*m+c*C+b,B=f*g+c*M+w,I=f*m+s*C+b,k=f*g+s*M+w;if(u){var z=Math.floor(R+.5),X=Math.floor(A+.5),H=z-R,Q=X-A;v[0]=z,v[1]=X,v[2]=L+H,v[3]=D+Q,v[4]=G+H,v[5]=B+Q,v[6]=I+H,v[7]=k+Q}else v[0]=R,v[1]=A,v[2]=L,v[3]=D,v[4]=G,v[5]=B,v[6]=I,v[7]=k;return v},getX:function(o,s){return o*this.a+s*this.c+this.e},getY:function(o,s){return o*this.b+s*this.d+this.f},getXRound:function(o,s,f){var c=this.getX(o,s);return f&&(c=Math.floor(c+.5)),c},getYRound:function(o,s,f){var c=this.getY(o,s);return f&&(c=Math.floor(c+.5)),c},getCSSMatrix:function(){var o=this.matrix;return"matrix("+o[0]+","+o[1]+","+o[2]+","+o[3]+","+o[4]+","+o[5]+")"},destroy:function(){this.matrix=null,this.quad=null,this.decomposedMatrix=null}});n.exports=l},59715:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=1,i={_visible:!0,visible:{get:function(){return this._visible},set:function(a){a?(this._visible=!0,this.renderFlags|=T):(this._visible=!1,this.renderFlags&=~T)}},setVisible:function(a){return this.visible=a,this}};n.exports=i},31401:(n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports={Alpha:i(16005),AlphaSingle:i(88509),BlendMode:i(90065),ComputedSize:i(94215),Crop:i(61683),Depth:i(89272),Flip:i(54434),FX:i(47059),GetBounds:i(8004),Mask:i(8573),Origin:i(27387),PathFollower:i(37640),Pipeline:i(72699),PostPipeline:i(17581),ScrollFactor:i(80227),Size:i(16736),Texture:i(37726),TextureCrop:i(79812),Tint:i(27472),ToJSON:i(53774),Transform:i(16901),TransformMatrix:i(61340),Visible:i(59715)}},31559:(n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @author       Felipe Alfonso <@bitnenfer>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=i(37105),x=i(10312),d=i(83419),l=i(31401),o=i(51708),s=i(95643),f=i(87841),c=i(29959),u=i(36899),v=i(26099),p=new l.TransformMatrix,m=new d({Extends:s,Mixins:[l.AlphaSingle,l.BlendMode,l.ComputedSize,l.Depth,l.Mask,l.PostPipeline,l.Transform,l.Visible,c],initialize:function(C,M,b,w){s.call(this,C,"Container"),this.list=[],this.exclusive=!0,this.maxSize=-1,this.position=0,this.localTransform=new l.TransformMatrix,this._sortKey="",this._sysEvents=C.sys.events,this.scrollFactorX=1,this.scrollFactorY=1,this.initPostPipeline(),this.setPosition(M,b),this.setBlendMode(x.SKIP_CHECK),w&&this.add(w)},originX:{get:function(){return .5}},originY:{get:function(){return .5}},displayOriginX:{get:function(){return this.width*.5}},displayOriginY:{get:function(){return this.height*.5}},setExclusive:function(g){return g===void 0&&(g=!0),this.exclusive=g,this},getBounds:function(g){if(g===void 0&&(g=new f),g.setTo(this.x,this.y,0,0),this.parentContainer){var C=this.parentContainer.getBoundsTransformMatrix(),M=C.transformPoint(this.x,this.y);g.setTo(M.x,M.y,0,0)}if(this.list.length>0){var b=this.list,w=new f,R=!1;g.setEmpty();for(var A=0;A<b.length;A++){var L=b[A];L.getBounds&&(L.getBounds(w),R?u(w,g,g):(g.setTo(w.x,w.y,w.width,w.height),R=!0))}}return g},addHandler:function(g){g.once(o.DESTROY,this.onChildDestroyed,this),this.exclusive&&(g.parentContainer&&g.parentContainer.remove(g),g.parentContainer=this,g.removeFromDisplayList(),g.addedToScene())},removeHandler:function(g){g.off(o.DESTROY,this.remove,this),this.exclusive&&(g.parentContainer=null,g.removedFromScene(),g.addToDisplayList())},pointToContainer:function(g,C){C===void 0&&(C=new v),this.parentContainer?this.parentContainer.pointToContainer(g,C):(C.x=g.x,C.y=g.y);var M=p;return M.applyITRS(this.x,this.y,this.rotation,this.scaleX,this.scaleY),M.invert(),M.transformPoint(g.x,g.y,C),C},getBoundsTransformMatrix:function(){return this.getWorldTransformMatrix(p,this.localTransform)},add:function(g){return a.Add(this.list,g,this.maxSize,this.addHandler,this),this},addAt:function(g,C){return a.AddAt(this.list,g,C,this.maxSize,this.addHandler,this),this},getAt:function(g){return this.list[g]},getIndex:function(g){return this.list.indexOf(g)},sort:function(g,C){return g?(C===void 0&&(C=function(M,b){return M[g]-b[g]}),a.StableSort(this.list,C),this):this},getByName:function(g){return a.GetFirst(this.list,"name",g)},getRandom:function(g,C){return a.GetRandom(this.list,g,C)},getFirst:function(g,C,M,b){return a.GetFirst(this.list,g,C,M,b)},getAll:function(g,C,M,b){return a.GetAll(this.list,g,C,M,b)},count:function(g,C,M,b){return a.CountAllMatching(this.list,g,C,M,b)},swap:function(g,C){return a.Swap(this.list,g,C),this},moveTo:function(g,C){return a.MoveTo(this.list,g,C),this},moveAbove:function(g,C){return a.MoveAbove(this.list,g,C),this},moveBelow:function(g,C){return a.MoveBelow(this.list,g,C),this},remove:function(g,C){var M=a.Remove(this.list,g,this.removeHandler,this);if(C&&M){Array.isArray(M)||(M=[M]);for(var b=0;b<M.length;b++)M[b].destroy()}return this},removeAt:function(g,C){var M=a.RemoveAt(this.list,g,this.removeHandler,this);return C&&M&&M.destroy(),this},removeBetween:function(g,C,M){var b=a.RemoveBetween(this.list,g,C,this.removeHandler,this);if(M)for(var w=0;w<b.length;w++)b[w].destroy();return this},removeAll:function(g){var C=this.list;if(g){for(var M=0;M<C.length;M++)C[M]&&C[M].scene&&(C[M].off(o.DESTROY,this.onChildDestroyed,this),C[M].destroy());this.list=[]}else a.RemoveBetween(C,0,C.length,this.removeHandler,this);return this},bringToTop:function(g){return a.BringToTop(this.list,g),this},sendToBack:function(g){return a.SendToBack(this.list,g),this},moveUp:function(g){return a.MoveUp(this.list,g),this},moveDown:function(g){return a.MoveDown(this.list,g),this},reverse:function(){return this.list.reverse(),this},shuffle:function(){return a.Shuffle(this.list),this},replace:function(g,C,M){var b=a.Replace(this.list,g,C);return b&&(this.addHandler(C),this.removeHandler(g),M&&g.destroy()),this},exists:function(g){return this.list.indexOf(g)>-1},setAll:function(g,C,M,b){return a.SetAll(this.list,g,C,M,b),this},each:function(g,C){var M=[null],b,w=this.list.slice(),R=w.length;for(b=2;b<arguments.length;b++)M.push(arguments[b]);for(b=0;b<R;b++)M[0]=w[b],g.apply(C,M);return this},iterate:function(g,C){var M=[null],b;for(b=2;b<arguments.length;b++)M.push(arguments[b]);for(b=0;b<this.list.length;b++)M[0]=this.list[b],g.apply(C,M);return this},setScrollFactor:function(g,C,M){return C===void 0&&(C=g),M===void 0&&(M=!1),this.scrollFactorX=g,this.scrollFactorY=C,M&&(a.SetAll(this.list,"scrollFactorX",g),a.SetAll(this.list,"scrollFactorY",C)),this},length:{get:function(){return this.list.length}},first:{get:function(){return this.position=0,this.list.length>0?this.list[0]:null}},last:{get:function(){return this.list.length>0?(this.position=this.list.length-1,this.list[this.position]):null}},next:{get:function(){return this.position<this.list.length?(this.position++,this.list[this.position]):null}},previous:{get:function(){return this.position>0?(this.position--,this.list[this.position]):null}},preDestroy:function(){this.removeAll(!!this.exclusive),this.localTransform.destroy(),this.list=[]},onChildDestroyed:function(g){a.Remove(this.list,g),this.exclusive&&(g.parentContainer=null,g.removedFromScene())}});n.exports=m},53584:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @author       Felipe Alfonso <@bitnenfer>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(i,a,x,d){x.addToRenderList(a);var l=a.list;if(l.length!==0){var o=a.localTransform;d?(o.loadIdentity(),o.multiply(d),o.translate(a.x,a.y),o.rotate(a.rotation),o.scale(a.scaleX,a.scaleY)):o.applyITRS(a.x,a.y,a.rotation,a.scaleX,a.scaleY);var s=a.blendMode!==-1;s||i.setBlendMode(0);var f=a._alpha,c=a.scrollFactorX,u=a.scrollFactorY;a.mask&&a.mask.preRenderCanvas(i,null,x);for(var v=0;v<l.length;v++){var p=l[v];if(p.willRender(x)){var m=p.alpha,g=p.scrollFactorX,C=p.scrollFactorY;!s&&p.blendMode!==i.currentBlendMode&&i.setBlendMode(p.blendMode),p.setScrollFactor(g*c,C*u),p.setAlpha(m*f),p.renderCanvas(i,p,x,o),p.setAlpha(m),p.setScrollFactor(g,C)}}a.mask&&a.mask.postRenderCanvas(i)}};n.exports=T},77143:(n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @author       Felipe Alfonso <@bitnenfer>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=i(25305),x=i(31559),d=i(44603),l=i(23568),o=i(95540);d.register("container",function(s,f){s===void 0&&(s={});var c=l(s,"x",0),u=l(s,"y",0),v=o(s,"children",null),p=new x(this.scene,c,u,v);return f!==void 0&&(s.add=f),a(this.scene,p,s),p})},24961:(n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @author       Felipe Alfonso <@bitnenfer>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=i(31559),x=i(39429);x.register("container",function(d,l,o){return this.displayList.add(new a(this.scene,d,l,o))})},29959:(n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @author       Felipe Alfonso <@bitnenfer>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=i(29747),x=a,d=a;x=i(72249),d=i(53584),n.exports={renderWebGL:x,renderCanvas:d}},72249:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @author       Felipe Alfonso <@bitnenfer>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(i,a,x,d){x.addToRenderList(a);var l=a.list,o=l.length;if(o!==0){var s=a.localTransform;d?(s.loadIdentity(),s.multiply(d),s.translate(a.x,a.y),s.rotate(a.rotation),s.scale(a.scaleX,a.scaleY)):s.applyITRS(a.x,a.y,a.rotation,a.scaleX,a.scaleY),i.pipelines.preBatch(a);var f=a.blendMode!==-1;f||i.setBlendMode(0);for(var c=a.alpha,u=a.scrollFactorX,v=a.scrollFactorY,p=0;p<o;p++){var m=l[p];if(m.willRender(x)){var g,C,M,b;if(m.alphaTopLeft!==void 0)g=m.alphaTopLeft,C=m.alphaTopRight,M=m.alphaBottomLeft,b=m.alphaBottomRight;else{var w=m.alpha;g=w,C=w,M=w,b=w}var R=m.scrollFactorX,A=m.scrollFactorY;!f&&m.blendMode!==i.currentBlendMode&&i.setBlendMode(m.blendMode);var L=m.mask;L&&L.preRenderWebGL(i,m,x);var D=m.type;D!==i.currentType&&(i.newType=!0,i.currentType=D),i.nextTypeMatch=p<o-1?l[p+1].type===i.currentType:!1,m.setScrollFactor(R*u,A*v),m.setAlpha(g*c,C*c,M*c,b*c),m.renderWebGL(i,m,x,s,a),m.setAlpha(g,C,M,b),m.setScrollFactor(R,A),L&&L.postRenderWebGL(i,x),i.newType=!1}}i.pipelines.postBatch(a)}};n.exports=T},47407:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports=["normal","multiply","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"]},3069:(n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=i(83419),x=i(31401),d=i(441),l=i(95643),o=i(41212),s=i(35846),f=i(44594),c=i(61369),u=new a({Extends:l,Mixins:[x.AlphaSingle,x.BlendMode,x.Depth,x.Origin,x.ScrollFactor,x.Transform,x.Visible,d],initialize:function(p,m,g,C,M,b){l.call(this,p,"DOMElement"),this.parent=p.sys.game.domContainer,this.cache=p.sys.cache.html,this.node,this.transformOnly=!1,this.skewX=0,this.skewY=0,this.rotate3d=new c,this.rotate3dAngle="deg",this.pointerEvents="auto",this.width=0,this.height=0,this.displayWidth=0,this.displayHeight=0,this.handler=this.dispatchNativeEvent.bind(this),this.setPosition(m,g),typeof C=="string"?C[0]==="#"?this.setElement(C.substr(1),M,b):this.createElement(C,M,b):C&&this.setElement(C,M,b),p.sys.events.on(f.SLEEP,this.handleSceneEvent,this),p.sys.events.on(f.WAKE,this.handleSceneEvent,this),p.sys.events.on(f.PRE_RENDER,this.preRender,this)},handleSceneEvent:function(v){var p=this.node,m=p.style;p&&(m.display=v.settings.visible?"block":"none")},setSkew:function(v,p){return v===void 0&&(v=0),p===void 0&&(p=v),this.skewX=v,this.skewY=p,this},setPerspective:function(v){return this.parent.style.perspective=v+"px",this},perspective:{get:function(){return parseFloat(this.parent.style.perspective)},set:function(v){this.parent.style.perspective=v+"px"}},addListener:function(v){if(this.node){v=v.split(" ");for(var p=0;p<v.length;p++)this.node.addEventListener(v[p],this.handler,!1)}return this},removeListener:function(v){if(this.node){v=v.split(" ");for(var p=0;p<v.length;p++)this.node.removeEventListener(v[p],this.handler)}return this},dispatchNativeEvent:function(v){this.emit(v.type,v)},createElement:function(v,p,m){return this.setElement(document.createElement(v),p,m)},setElement:function(v,p,m){this.removeElement();var g;if(typeof v=="string"?(v[0]==="#"&&(v=v.substr(1)),g=document.getElementById(v)):typeof v=="object"&&v.nodeType===1&&(g=v),!g)return this;if(this.node=g,p&&o(p))for(var C in p)g.style[C]=p[C];else typeof p=="string"&&(g.style=p);return g.style.zIndex="0",g.style.display="inline",g.style.position="absolute",g.phaser=this,this.parent&&this.parent.appendChild(g),m&&(g.innerText=m),this.updateSize()},createFromCache:function(v,p){var m=this.cache.get(v);return m&&this.createFromHTML(m,p),this},createFromHTML:function(v,p){p===void 0&&(p="div"),this.removeElement();var m=document.createElement(p);return this.node=m,m.style.zIndex="0",m.style.display="inline",m.style.position="absolute",m.phaser=this,this.parent&&this.parent.appendChild(m),m.innerHTML=v,this.updateSize()},removeElement:function(){return this.node&&(s(this.node),this.node=null),this},updateSize:function(){var v=this.node;return this.width=v.clientWidth,this.height=v.clientHeight,this.displayWidth=this.width*this.scaleX,this.displayHeight=this.height*this.scaleY,this},getChildByProperty:function(v,p){if(this.node){for(var m=this.node.querySelectorAll("*"),g=0;g<m.length;g++)if(m[g][v]===p)return m[g]}return null},getChildByID:function(v){return this.getChildByProperty("id",v)},getChildByName:function(v){return this.getChildByProperty("name",v)},setClassName:function(v){return this.node&&(this.node.className=v,this.updateSize()),this},setText:function(v){return this.node&&(this.node.innerText=v,this.updateSize()),this},setHTML:function(v){return this.node&&(this.node.innerHTML=v,this.updateSize()),this},preRender:function(){var v=this.parentContainer,p=this.node;p&&v&&!v.willRender()&&(p.style.display="none")},willRender:function(){return!0},preDestroy:function(){this.removeElement(),this.scene.sys.events.off(f.SLEEP,this.handleSceneEvent,this),this.scene.sys.events.off(f.WAKE,this.handleSceneEvent,this),this.scene.sys.events.off(f.PRE_RENDER,this.preRender,this)}});n.exports=u},49381:(n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=i(47407),x=i(95643),d=i(61340),l=new d,o=new d,s=new d,f=function(c,u,v,p){if(u.node){var m=u.node.style,g=u.scene.sys.settings;if(!m||!g.visible||x.RENDER_MASK!==u.renderFlags||u.cameraFilter!==0&&u.cameraFilter&v.id||u.parentContainer&&!u.parentContainer.willRender()){m.display="none";return}var C=u.parentContainer,M=v.alpha*u.alpha;C&&(M*=C.alpha);var b=l,w=o,R=s,A=0,L=0,D="0%",G="0%";p?(A=u.width*u.scaleX*u.originX,L=u.height*u.scaleY*u.originY,w.applyITRS(u.x-A,u.y-L,u.rotation,u.scaleX,u.scaleY),b.copyFrom(v.matrix),b.multiplyWithOffset(p,-v.scrollX*u.scrollFactorX,-v.scrollY*u.scrollFactorY),w.e=u.x-A,w.f=u.y-L,b.multiply(w,R)):(A=u.width*u.originX,L=u.height*u.originY,w.applyITRS(u.x,u.y,u.rotation,u.scaleX,u.scaleY),b.copyFrom(v.matrix),D=100*u.originX+"%",G=100*u.originY+"%",w.e-=v.scrollX*u.scrollFactorX,w.f-=v.scrollY*u.scrollFactorY,b.multiply(w,R),R.e-=A,R.f-=L),u.transformOnly||(m.display="block",m.opacity=M,m.zIndex=u._depth,m.pointerEvents=u.pointerEvents,m.mixBlendMode=a[u._blendMode]),m.transform=R.getCSSMatrix()+" skew("+u.skewX+"rad, "+u.skewY+"rad) rotate3d("+u.rotate3d.x+","+u.rotate3d.y+","+u.rotate3d.z+","+u.rotate3d.w+u.rotate3dAngle+")",m.transformOrigin=D+" "+G}};n.exports=f},2611:(n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=i(3069),x=i(39429);x.register("dom",function(d,l,o,s,f){var c=new a(this.scene,d,l,o,s,f);return this.displayList.add(c),c})},441:(n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=i(29747),x=a,d=a;x=i(49381),d=i(49381),n.exports={renderWebGL:x,renderCanvas:d}},62980:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="addedtoscene"},41337:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="destroy"},44947:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="removedfromscene"},49358:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="complete"},35163:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="created"},97249:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="error"},19483:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="locked"},56059:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="loop"},26772:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="metadata"},64437:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="playing"},83411:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="play"},75780:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="seeked"},67799:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="seeking"},63500:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="stalled"},55541:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="stop"},53208:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="textureready"},4992:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="unlocked"},12:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="unsupported"},51708:(n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports={ADDED_TO_SCENE:i(62980),DESTROY:i(41337),REMOVED_FROM_SCENE:i(44947),VIDEO_COMPLETE:i(49358),VIDEO_CREATED:i(35163),VIDEO_ERROR:i(97249),VIDEO_LOCKED:i(19483),VIDEO_LOOP:i(56059),VIDEO_METADATA:i(26772),VIDEO_PLAY:i(83411),VIDEO_PLAYING:i(64437),VIDEO_SEEKED:i(75780),VIDEO_SEEKING:i(67799),VIDEO_STALLED:i(63500),VIDEO_STOP:i(55541),VIDEO_TEXTURE:i(53208),VIDEO_UNLOCKED:i(4992),VIDEO_UNSUPPORTED:i(12)}},42421:(n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=i(83419),x=i(31401),d=i(95643),l=i(64993),o=new a({Extends:d,Mixins:[x.Alpha,x.BlendMode,x.Depth,x.Flip,x.Origin,x.ScrollFactor,x.Size,x.Texture,x.Tint,x.Transform,x.Visible,l],initialize:function(f){d.call(this,f,"Extern")},addedToScene:function(){this.scene.sys.updateList.add(this)},removedFromScene:function(){this.scene.sys.updateList.remove(this)},preUpdate:function(){},render:function(){}});n.exports=o},70217:()=>{},56315:(n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=i(42421),x=i(39429);x.register("extern",function(){var d=new a(this.scene);return this.displayList.add(d),d})},64993:(n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=i(29747),x=a,d=a;x=i(80287),d=i(70217),n.exports={renderWebGL:x,renderCanvas:d}},80287:(n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=i(91296),x=function(d,l,o,s){d.pipelines.clear();var f=a(l,o,s).calc;l.render.call(l,d,o,f),d.pipelines.rebind()};n.exports=x},85592:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports={ARC:0,BEGIN_PATH:1,CLOSE_PATH:2,FILL_RECT:3,LINE_TO:4,MOVE_TO:5,LINE_STYLE:6,FILL_STYLE:7,FILL_PATH:8,STROKE_PATH:9,FILL_TRIANGLE:10,STROKE_TRIANGLE:11,SAVE:14,RESTORE:15,TRANSLATE:16,SCALE:17,ROTATE:18,GRADIENT_FILL_STYLE:21,GRADIENT_LINE_STYLE:22}},43831:(n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=i(71911),x=i(83419),d=i(85592),l=i(31401),o=i(8497),s=i(95643),f=i(95540),c=i(35154),u=i(36383),v=i(84503),p=new x({Extends:s,Mixins:[l.AlphaSingle,l.BlendMode,l.Depth,l.Mask,l.Pipeline,l.PostPipeline,l.Transform,l.Visible,l.ScrollFactor,v],initialize:function(g,C){var M=c(C,"x",0),b=c(C,"y",0);s.call(this,g,"Graphics"),this.setPosition(M,b),this.initPipeline(),this.initPostPipeline(),this.displayOriginX=0,this.displayOriginY=0,this.commandBuffer=[],this.defaultFillColor=-1,this.defaultFillAlpha=1,this.defaultStrokeWidth=1,this.defaultStrokeColor=-1,this.defaultStrokeAlpha=1,this._lineWidth=1,this.lineStyle(1,0,0),this.fillStyle(0,0),this.setDefaultStyles(C)},setDefaultStyles:function(m){return c(m,"lineStyle",null)&&(this.defaultStrokeWidth=c(m,"lineStyle.width",1),this.defaultStrokeColor=c(m,"lineStyle.color",16777215),this.defaultStrokeAlpha=c(m,"lineStyle.alpha",1),this.lineStyle(this.defaultStrokeWidth,this.defaultStrokeColor,this.defaultStrokeAlpha)),c(m,"fillStyle",null)&&(this.defaultFillColor=c(m,"fillStyle.color",16777215),this.defaultFillAlpha=c(m,"fillStyle.alpha",1),this.fillStyle(this.defaultFillColor,this.defaultFillAlpha)),this},lineStyle:function(m,g,C){return C===void 0&&(C=1),this.commandBuffer.push(d.LINE_STYLE,m,g,C),this._lineWidth=m,this},fillStyle:function(m,g){return g===void 0&&(g=1),this.commandBuffer.push(d.FILL_STYLE,m,g),this},fillGradientStyle:function(m,g,C,M,b,w,R,A){return b===void 0&&(b=1),w===void 0&&(w=b),R===void 0&&(R=b),A===void 0&&(A=b),this.commandBuffer.push(d.GRADIENT_FILL_STYLE,b,w,R,A,m,g,C,M),this},lineGradientStyle:function(m,g,C,M,b,w){return w===void 0&&(w=1),this.commandBuffer.push(d.GRADIENT_LINE_STYLE,m,w,g,C,M,b),this},beginPath:function(){return this.commandBuffer.push(d.BEGIN_PATH),this},closePath:function(){return this.commandBuffer.push(d.CLOSE_PATH),this},fillPath:function(){return this.commandBuffer.push(d.FILL_PATH),this},fill:function(){return this.commandBuffer.push(d.FILL_PATH),this},strokePath:function(){return this.commandBuffer.push(d.STROKE_PATH),this},stroke:function(){return this.commandBuffer.push(d.STROKE_PATH),this},fillCircleShape:function(m){return this.fillCircle(m.x,m.y,m.radius)},strokeCircleShape:function(m){return this.strokeCircle(m.x,m.y,m.radius)},fillCircle:function(m,g,C){return this.beginPath(),this.arc(m,g,C,0,u.PI2),this.fillPath(),this},strokeCircle:function(m,g,C){return this.beginPath(),this.arc(m,g,C,0,u.PI2),this.strokePath(),this},fillRectShape:function(m){return this.fillRect(m.x,m.y,m.width,m.height)},strokeRectShape:function(m){return this.strokeRect(m.x,m.y,m.width,m.height)},fillRect:function(m,g,C,M){return this.commandBuffer.push(d.FILL_RECT,m,g,C,M),this},strokeRect:function(m,g,C,M){var b=this._lineWidth/2,w=m-b,R=m+b;return this.beginPath(),this.moveTo(m,g),this.lineTo(m,g+M),this.strokePath(),this.beginPath(),this.moveTo(m+C,g),this.lineTo(m+C,g+M),this.strokePath(),this.beginPath(),this.moveTo(w,g),this.lineTo(R+C,g),this.strokePath(),this.beginPath(),this.moveTo(w,g+M),this.lineTo(R+C,g+M),this.strokePath(),this},fillRoundedRect:function(m,g,C,M,b){b===void 0&&(b=20);var w=b,R=b,A=b,L=b;typeof b!="number"&&(w=f(b,"tl",20),R=f(b,"tr",20),A=f(b,"bl",20),L=f(b,"br",20));var D=w>=0,G=R>=0,B=A>=0,I=L>=0;return w=Math.abs(w),R=Math.abs(R),A=Math.abs(A),L=Math.abs(L),this.beginPath(),this.moveTo(m+w,g),this.lineTo(m+C-R,g),G?this.arc(m+C-R,g+R,R,-u.TAU,0):this.arc(m+C,g,R,Math.PI,u.TAU,!0),this.lineTo(m+C,g+M-L),I?this.arc(m+C-L,g+M-L,L,0,u.TAU):this.arc(m+C,g+M,L,-u.TAU,Math.PI,!0),this.lineTo(m+A,g+M),B?this.arc(m+A,g+M-A,A,u.TAU,Math.PI):this.arc(m,g+M,A,0,-u.TAU,!0),this.lineTo(m,g+w),D?this.arc(m+w,g+w,w,-Math.PI,-u.TAU):this.arc(m,g,w,u.TAU,0,!0),this.fillPath(),this},strokeRoundedRect:function(m,g,C,M,b){b===void 0&&(b=20);var w=b,R=b,A=b,L=b,D=Math.min(C,M)/2;typeof b!="number"&&(w=f(b,"tl",20),R=f(b,"tr",20),A=f(b,"bl",20),L=f(b,"br",20));var G=w>=0,B=R>=0,I=A>=0,k=L>=0;return w=Math.min(Math.abs(w),D),R=Math.min(Math.abs(R),D),A=Math.min(Math.abs(A),D),L=Math.min(Math.abs(L),D),this.beginPath(),this.moveTo(m+w,g),this.lineTo(m+C-R,g),this.moveTo(m+C-R,g),B?this.arc(m+C-R,g+R,R,-u.TAU,0):this.arc(m+C,g,R,Math.PI,u.TAU,!0),this.lineTo(m+C,g+M-L),this.moveTo(m+C,g+M-L),k?this.arc(m+C-L,g+M-L,L,0,u.TAU):this.arc(m+C,g+M,L,-u.TAU,Math.PI,!0),this.lineTo(m+A,g+M),this.moveTo(m+A,g+M),I?this.arc(m+A,g+M-A,A,u.TAU,Math.PI):this.arc(m,g+M,A,0,-u.TAU,!0),this.lineTo(m,g+w),this.moveTo(m,g+w),G?this.arc(m+w,g+w,w,-Math.PI,-u.TAU):this.arc(m,g,w,u.TAU,0,!0),this.strokePath(),this},fillPointShape:function(m,g){return this.fillPoint(m.x,m.y,g)},fillPoint:function(m,g,C){return!C||C<1?C=1:(m-=C/2,g-=C/2),this.commandBuffer.push(d.FILL_RECT,m,g,C,C),this},fillTriangleShape:function(m){return this.fillTriangle(m.x1,m.y1,m.x2,m.y2,m.x3,m.y3)},strokeTriangleShape:function(m){return this.strokeTriangle(m.x1,m.y1,m.x2,m.y2,m.x3,m.y3)},fillTriangle:function(m,g,C,M,b,w){return this.commandBuffer.push(d.FILL_TRIANGLE,m,g,C,M,b,w),this},strokeTriangle:function(m,g,C,M,b,w){return this.commandBuffer.push(d.STROKE_TRIANGLE,m,g,C,M,b,w),this},strokeLineShape:function(m){return this.lineBetween(m.x1,m.y1,m.x2,m.y2)},lineBetween:function(m,g,C,M){return this.beginPath(),this.moveTo(m,g),this.lineTo(C,M),this.strokePath(),this},lineTo:function(m,g){return this.commandBuffer.push(d.LINE_TO,m,g),this},moveTo:function(m,g){return this.commandBuffer.push(d.MOVE_TO,m,g),this},strokePoints:function(m,g,C,M){g===void 0&&(g=!1),C===void 0&&(C=!1),M===void 0&&(M=m.length),this.beginPath(),this.moveTo(m[0].x,m[0].y);for(var b=1;b<M;b++)this.lineTo(m[b].x,m[b].y);return g&&this.lineTo(m[0].x,m[0].y),C&&this.closePath(),this.strokePath(),this},fillPoints:function(m,g,C,M){g===void 0&&(g=!1),C===void 0&&(C=!1),M===void 0&&(M=m.length),this.beginPath(),this.moveTo(m[0].x,m[0].y);for(var b=1;b<M;b++)this.lineTo(m[b].x,m[b].y);return g&&this.lineTo(m[0].x,m[0].y),C&&this.closePath(),this.fillPath(),this},strokeEllipseShape:function(m,g){g===void 0&&(g=32);var C=m.getPoints(g);return this.strokePoints(C,!0)},strokeEllipse:function(m,g,C,M,b){b===void 0&&(b=32);var w=new o(m,g,C,M),R=w.getPoints(b);return this.strokePoints(R,!0)},fillEllipseShape:function(m,g){g===void 0&&(g=32);var C=m.getPoints(g);return this.fillPoints(C,!0)},fillEllipse:function(m,g,C,M,b){b===void 0&&(b=32);var w=new o(m,g,C,M),R=w.getPoints(b);return this.fillPoints(R,!0)},arc:function(m,g,C,M,b,w,R){return w===void 0&&(w=!1),R===void 0&&(R=0),this.commandBuffer.push(d.ARC,m,g,C,M,b,w,R),this},slice:function(m,g,C,M,b,w,R){return w===void 0&&(w=!1),R===void 0&&(R=0),this.commandBuffer.push(d.BEGIN_PATH),this.commandBuffer.push(d.MOVE_TO,m,g),this.commandBuffer.push(d.ARC,m,g,C,M,b,w,R),this.commandBuffer.push(d.CLOSE_PATH),this},save:function(){return this.commandBuffer.push(d.SAVE),this},restore:function(){return this.commandBuffer.push(d.RESTORE),this},translateCanvas:function(m,g){return this.commandBuffer.push(d.TRANSLATE,m,g),this},scaleCanvas:function(m,g){return this.commandBuffer.push(d.SCALE,m,g),this},rotateCanvas:function(m){return this.commandBuffer.push(d.ROTATE,m),this},clear:function(){return this.commandBuffer.length=0,this.defaultFillColor>-1&&this.fillStyle(this.defaultFillColor,this.defaultFillAlpha),this.defaultStrokeColor>-1&&this.lineStyle(this.defaultStrokeWidth,this.defaultStrokeColor,this.defaultStrokeAlpha),this},generateTexture:function(m,g,C){var M=this.scene.sys,b=M.game.renderer;g===void 0&&(g=M.scale.width),C===void 0&&(C=M.scale.height),p.TargetCamera.setScene(this.scene),p.TargetCamera.setViewport(0,0,g,C),p.TargetCamera.scrollX=this.x,p.TargetCamera.scrollY=this.y;var w,R,A={willReadFrequently:!0};if(typeof m=="string")if(M.textures.exists(m)){w=M.textures.get(m);var L=w.getSourceImage();L instanceof HTMLCanvasElement&&(R=L.getContext("2d",A))}else w=M.textures.createCanvas(m,g,C),R=w.getSourceImage().getContext("2d",A);else m instanceof HTMLCanvasElement&&(R=m.getContext("2d",A));return R&&(this.renderCanvas(b,this,p.TargetCamera,null,R,!1),w&&w.refresh()),this},preDestroy:function(){this.commandBuffer=[]}});p.TargetCamera=new a,n.exports=p},32768:(n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=i(85592),x=i(20926),d=function(l,o,s,f,c,u){var v=o.commandBuffer,p=v.length,m=c||l.currentContext;if(!(p===0||!x(l,m,o,s,f))){s.addToRenderList(o);var g=1,C=1,M=0,b=0,w=1,R=0,A=0,L=0;m.beginPath();for(var D=0;D<p;++D){var G=v[D];switch(G){case a.ARC:m.arc(v[D+1],v[D+2],v[D+3],v[D+4],v[D+5],v[D+6]),D+=7;break;case a.LINE_STYLE:w=v[D+1],M=v[D+2],g=v[D+3],R=(M&16711680)>>>16,A=(M&65280)>>>8,L=M&255,m.strokeStyle="rgba("+R+","+A+","+L+","+g+")",m.lineWidth=w,D+=3;break;case a.FILL_STYLE:b=v[D+1],C=v[D+2],R=(b&16711680)>>>16,A=(b&65280)>>>8,L=b&255,m.fillStyle="rgba("+R+","+A+","+L+","+C+")",D+=2;break;case a.BEGIN_PATH:m.beginPath();break;case a.CLOSE_PATH:m.closePath();break;case a.FILL_PATH:u||m.fill();break;case a.STROKE_PATH:u||m.stroke();break;case a.FILL_RECT:u?m.rect(v[D+1],v[D+2],v[D+3],v[D+4]):m.fillRect(v[D+1],v[D+2],v[D+3],v[D+4]),D+=4;break;case a.FILL_TRIANGLE:m.beginPath(),m.moveTo(v[D+1],v[D+2]),m.lineTo(v[D+3],v[D+4]),m.lineTo(v[D+5],v[D+6]),m.closePath(),u||m.fill(),D+=6;break;case a.STROKE_TRIANGLE:m.beginPath(),m.moveTo(v[D+1],v[D+2]),m.lineTo(v[D+3],v[D+4]),m.lineTo(v[D+5],v[D+6]),m.closePath(),u||m.stroke(),D+=6;break;case a.LINE_TO:m.lineTo(v[D+1],v[D+2]),D+=2;break;case a.MOVE_TO:m.moveTo(v[D+1],v[D+2]),D+=2;break;case a.LINE_FX_TO:m.lineTo(v[D+1],v[D+2]),D+=5;break;case a.MOVE_FX_TO:m.moveTo(v[D+1],v[D+2]),D+=5;break;case a.SAVE:m.save();break;case a.RESTORE:m.restore();break;case a.TRANSLATE:m.translate(v[D+1],v[D+2]),D+=2;break;case a.SCALE:m.scale(v[D+1],v[D+2]),D+=2;break;case a.ROTATE:m.rotate(v[D+1]),D+=1;break;case a.GRADIENT_FILL_STYLE:D+=5;break;case a.GRADIENT_LINE_STYLE:D+=6;break}}m.restore()}};n.exports=d},87079:(n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=i(44603),x=i(43831);a.register("graphics",function(d,l){d===void 0&&(d={}),l!==void 0&&(d.add=l);var o=new x(this.scene,d);return d.add&&this.scene.sys.displayList.add(o),o})},1201:(n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=i(43831),x=i(39429);x.register("graphics",function(d){return this.displayList.add(new a(this.scene,d))})},84503:(n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=i(29747),x=a,d=a;x=i(77545),d=i(32768),d=i(32768),n.exports={renderWebGL:x,renderCanvas:d}},77545:(n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=i(85592),x=i(91296),d=i(61340),l=i(70554),o=function(v,p,m){this.x=v,this.y=p,this.width=m},s=function(v,p,m){this.points=[],this.pointsLength=1,this.points[0]=new o(v,p,m)},f=[],c=new d,u=function(v,p,m,g){if(p.commandBuffer.length!==0){m.addToRenderList(p);var C=v.pipelines.set(p.pipeline,p);v.pipelines.preBatch(p);for(var M=x(p,m,g).calc,b=c.loadIdentity(),w=p.commandBuffer,R=m.alpha*p.alpha,A=1,L=C.fillTint,D=C.strokeTint,G=0,B=0,I=0,k=.01,z=Math.PI*2,X,H=[],Q=0,J=!0,Y=null,$=l.getTintAppendFloatAlpha,V=0;V<w.length;V++)switch(X=w[V],X){case a.BEGIN_PATH:{H.length=0,Y=null,J=!0;break}case a.CLOSE_PATH:{J=!1,Y&&Y.points.length&&Y.points.push(Y.points[0]);break}case a.FILL_PATH:{for(Q=0;Q<H.length;Q++)C.batchFillPath(H[Q].points,b,M);break}case a.STROKE_PATH:{for(Q=0;Q<H.length;Q++)C.batchStrokePath(H[Q].points,A,J,b,M);break}case a.LINE_STYLE:{A=w[++V];var U=w[++V],K=w[++V]*R,j=$(U,K);D.TL=j,D.TR=j,D.BL=j,D.BR=j;break}case a.FILL_STYLE:{var _=w[++V],tt=w[++V]*R,rt=$(_,tt);L.TL=rt,L.TR=rt,L.BL=rt,L.BR=rt;break}case a.GRADIENT_FILL_STYLE:{var ot=w[++V]*R,ft=w[++V]*R,ct=w[++V]*R,gt=w[++V]*R;L.TL=$(w[++V],ot),L.TR=$(w[++V],ft),L.BL=$(w[++V],ct),L.BR=$(w[++V],gt);break}case a.GRADIENT_LINE_STYLE:{A=w[++V];var yt=w[++V]*R;D.TL=$(w[++V],yt),D.TR=$(w[++V],yt),D.BL=$(w[++V],yt),D.BR=$(w[++V],yt);break}case a.ARC:{var Mt=0,Ct=w[++V],Wt=w[++V],Yt=w[++V],Ht=w[++V],bt=w[++V],kt=w[++V],zt=w[++V];for(bt-=Ht,kt?bt<-z?bt=-z:bt>0&&(bt=-z+bt%z):bt>z?bt=z:bt<0&&(bt=z+bt%z),Y===null&&(Y=new s(Ct+Math.cos(Ht)*Yt,Wt+Math.sin(Ht)*Yt,A),H.push(Y),Mt+=k);Mt<1+zt;)I=bt*Mt+Ht,G=Ct+Math.cos(I)*Yt,B=Wt+Math.sin(I)*Yt,Y.points.push(new o(G,B,A)),Mt+=k;I=bt+Ht,G=Ct+Math.cos(I)*Yt,B=Wt+Math.sin(I)*Yt,Y.points.push(new o(G,B,A));break}case a.FILL_RECT:{C.batchFillRect(w[++V],w[++V],w[++V],w[++V],b,M);break}case a.FILL_TRIANGLE:{C.batchFillTriangle(w[++V],w[++V],w[++V],w[++V],w[++V],w[++V],b,M);break}case a.STROKE_TRIANGLE:{C.batchStrokeTriangle(w[++V],w[++V],w[++V],w[++V],w[++V],w[++V],A,b,M);break}case a.LINE_TO:{Y!==null?Y.points.push(new o(w[++V],w[++V],A)):(Y=new s(w[++V],w[++V],A),H.push(Y));break}case a.MOVE_TO:{Y=new s(w[++V],w[++V],A),H.push(Y);break}case a.SAVE:{f.push(b.copyToArray());break}case a.RESTORE:{b.copyFromArray(f.pop());break}case a.TRANSLATE:{Ct=w[++V],Wt=w[++V],b.translate(Ct,Wt);break}case a.SCALE:{Ct=w[++V],Wt=w[++V],b.scale(Ct,Wt);break}case a.ROTATE:{b.rotate(w[++V]);break}}v.pipelines.postBatch(p)}};n.exports=u},26479:(n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=i(61061),x=i(83419),d=i(51708),l=i(50792),o=i(46710),s=i(95540),f=i(35154),c=i(97022),u=i(41212),v=i(88492),p=i(35072),m=i(68287),g=new x({Extends:l,initialize:function(M,b,w){l.call(this),w?b&&!Array.isArray(b)&&(b=[b]):Array.isArray(b)?u(b[0])&&(w=b,b=null):u(b)&&(w=b,b=null),this.scene=M,this.children=new p,this.isParent=!0,this.type="Group",this.classType=s(w,"classType",m),this.name=s(w,"name",""),this.active=s(w,"active",!0),this.maxSize=s(w,"maxSize",-1),this.defaultKey=s(w,"defaultKey",null),this.defaultFrame=s(w,"defaultFrame",null),this.runChildUpdate=s(w,"runChildUpdate",!1),this.createCallback=s(w,"createCallback",null),this.removeCallback=s(w,"removeCallback",null),this.createMultipleCallback=s(w,"createMultipleCallback",null),this.internalCreateCallback=s(w,"internalCreateCallback",null),this.internalRemoveCallback=s(w,"internalRemoveCallback",null),b&&this.addMultiple(b),w&&this.createMultiple(w),this.on(d.ADDED_TO_SCENE,this.addedToScene,this),this.on(d.REMOVED_FROM_SCENE,this.removedFromScene,this)},addedToScene:function(){this.scene.sys.updateList.add(this)},removedFromScene:function(){this.scene.sys.updateList.remove(this)},create:function(C,M,b,w,R,A){if(C===void 0&&(C=0),M===void 0&&(M=0),b===void 0&&(b=this.defaultKey),w===void 0&&(w=this.defaultFrame),R===void 0&&(R=!0),A===void 0&&(A=!0),this.isFull())return null;var L=new this.classType(this.scene,C,M,b,w);return L.addToDisplayList(this.scene.sys.displayList),L.addToUpdateList(),L.visible=R,L.setActive(A),this.add(L),L},createMultiple:function(C){if(this.isFull())return[];Array.isArray(C)||(C=[C]);var M=[];if(C[0].key)for(var b=0;b<C.length;b++){var w=this.createFromConfig(C[b]);M=M.concat(w)}return M},createFromConfig:function(C){if(this.isFull())return[];this.classType=s(C,"classType",this.classType);var M=s(C,"key",void 0),b=s(C,"frame",null),w=s(C,"visible",!0),R=s(C,"active",!0),A=[];if(M===void 0)return A;Array.isArray(M)||(M=[M]),Array.isArray(b)||(b=[b]);var L=s(C,"repeat",0),D=s(C,"randomKey",!1),G=s(C,"randomFrame",!1),B=s(C,"yoyo",!1),I=s(C,"quantity",!1),k=s(C,"frameQuantity",1),z=s(C,"max",0),X=v(M,b,{max:z,qty:I||k,random:D,randomB:G,repeat:L,yoyo:B});C.createCallback&&(this.createCallback=C.createCallback),C.removeCallback&&(this.removeCallback=C.removeCallback),C.internalCreateCallback&&(this.internalCreateCallback=C.internalCreateCallback),C.internalRemoveCallback&&(this.internalRemoveCallback=C.internalRemoveCallback);for(var H=0;H<X.length;H++){var Q=this.create(0,0,X[H].a,X[H].b,w,R);if(!Q)break;A.push(Q)}if(c(C,"setXY")){var J=f(C,"setXY.x",0),Y=f(C,"setXY.y",0),$=f(C,"setXY.stepX",0),V=f(C,"setXY.stepY",0);a.SetXY(A,J,Y,$,V)}if(c(C,"setRotation")){var U=f(C,"setRotation.value",0),K=f(C,"setRotation.step",0);a.SetRotation(A,U,K)}if(c(C,"setScale")){var j=f(C,"setScale.x",1),_=f(C,"setScale.y",j),tt=f(C,"setScale.stepX",0),rt=f(C,"setScale.stepY",0);a.SetScale(A,j,_,tt,rt)}if(c(C,"setOrigin")){var ot=f(C,"setOrigin.x",.5),ft=f(C,"setOrigin.y",ot),ct=f(C,"setOrigin.stepX",0),gt=f(C,"setOrigin.stepY",0);a.SetOrigin(A,ot,ft,ct,gt)}if(c(C,"setAlpha")){var yt=f(C,"setAlpha.value",1),Mt=f(C,"setAlpha.step",0);a.SetAlpha(A,yt,Mt)}if(c(C,"setDepth")){var Ct=f(C,"setDepth.value",0),Wt=f(C,"setDepth.step",0);a.SetDepth(A,Ct,Wt)}if(c(C,"setScrollFactor")){var Yt=f(C,"setScrollFactor.x",1),Ht=f(C,"setScrollFactor.y",Yt),bt=f(C,"setScrollFactor.stepX",0),kt=f(C,"setScrollFactor.stepY",0);a.SetScrollFactor(A,Yt,Ht,bt,kt)}var zt=s(C,"hitArea",null),jt=s(C,"hitAreaCallback",null);zt&&a.SetHitArea(A,zt,jt);var fe=s(C,"gridAlign",!1);return fe&&a.GridAlign(A,fe),this.createMultipleCallback&&this.createMultipleCallback.call(this,A),A},preUpdate:function(C,M){if(!(!this.runChildUpdate||this.children.size===0))for(var b=this.children.entries.slice(),w=0;w<b.length;w++){var R=b[w];R.active&&R.update(C,M)}},add:function(C,M){return M===void 0&&(M=!1),this.isFull()?this:(this.children.set(C),this.internalCreateCallback&&this.internalCreateCallback.call(this,C),this.createCallback&&this.createCallback.call(this,C),M&&(C.addToDisplayList(this.scene.sys.displayList),C.addToUpdateList()),C.on(d.DESTROY,this.remove,this),this)},addMultiple:function(C,M){if(M===void 0&&(M=!1),Array.isArray(C))for(var b=0;b<C.length;b++)this.add(C[b],M);return this},remove:function(C,M,b){return M===void 0&&(M=!1),b===void 0&&(b=!1),this.children.contains(C)?(this.children.delete(C),this.internalRemoveCallback&&this.internalRemoveCallback.call(this,C),this.removeCallback&&this.removeCallback.call(this,C),C.off(d.DESTROY,this.remove,this),b?C.destroy():M&&(C.removeFromDisplayList(),C.removeFromUpdateList()),this):this},clear:function(C,M){C===void 0&&(C=!1),M===void 0&&(M=!1);for(var b=this.children,w=0;w<b.size;w++){var R=b.entries[w];R.off(d.DESTROY,this.remove,this),M?R.destroy():C&&(R.removeFromDisplayList(),R.removeFromUpdateList())}return this.children.clear(),this},contains:function(C){return this.children.contains(C)},getChildren:function(){return this.children.entries},getLength:function(){return this.children.size},getMatching:function(C,M,b,w){return o(this.children.entries,C,M,b,w)},getFirst:function(C,M,b,w,R,A,L){return this.getHandler(!0,1,C,M,b,w,R,A,L)},getFirstNth:function(C,M,b,w,R,A,L,D){return this.getHandler(!0,C,M,b,w,R,A,L,D)},getLast:function(C,M,b,w,R,A,L){return this.getHandler(!1,1,C,M,b,w,R,A,L)},getLastNth:function(C,M,b,w,R,A,L,D){return this.getHandler(!1,C,M,b,w,R,A,L,D)},getHandler:function(C,M,b,w,R,A,L,D,G){b===void 0&&(b=!1),w===void 0&&(w=!1);var B,I,k=0,z=this.children.entries;if(C)for(I=0;I<z.length;I++)if(B=z[I],B.active===b){if(k++,k===M)break}else B=null;else for(I=z.length-1;I>=0;I--)if(B=z[I],B.active===b){if(k++,k===M)break}else B=null;return B?(typeof R=="number"&&(B.x=R),typeof A=="number"&&(B.y=A),B):w?this.create(R,A,L,D,G):null},get:function(C,M,b,w,R){return this.getFirst(!1,!0,C,M,b,w,R)},getFirstAlive:function(C,M,b,w,R,A){return this.getFirst(!0,C,M,b,w,R,A)},getFirstDead:function(C,M,b,w,R,A){return this.getFirst(!1,C,M,b,w,R,A)},playAnimation:function(C,M){return a.PlayAnimation(this.children.entries,C,M),this},isFull:function(){return this.maxSize===-1?!1:this.children.size>=this.maxSize},countActive:function(C){C===void 0&&(C=!0);for(var M=0,b=0;b<this.children.size;b++)this.children.entries[b].active===C&&M++;return M},getTotalUsed:function(){return this.countActive()},getTotalFree:function(){var C=this.getTotalUsed(),M=this.maxSize===-1?999999999999:this.maxSize;return M-C},setActive:function(C){return this.active=C,this},setName:function(C){return this.name=C,this},propertyValueSet:function(C,M,b,w,R){return a.PropertyValueSet(this.children.entries,C,M,b,w,R),this},propertyValueInc:function(C,M,b,w,R){return a.PropertyValueInc(this.children.entries,C,M,b,w,R),this},setX:function(C,M){return a.SetX(this.children.entries,C,M),this},setY:function(C,M){return a.SetY(this.children.entries,C,M),this},setXY:function(C,M,b,w){return a.SetXY(this.children.entries,C,M,b,w),this},incX:function(C,M){return a.IncX(this.children.entries,C,M),this},incY:function(C,M){return a.IncY(this.children.entries,C,M),this},incXY:function(C,M,b,w){return a.IncXY(this.children.entries,C,M,b,w),this},shiftPosition:function(C,M,b){return a.ShiftPosition(this.children.entries,C,M,b),this},angle:function(C,M){return a.Angle(this.children.entries,C,M),this},rotate:function(C,M){return a.Rotate(this.children.entries,C,M),this},rotateAround:function(C,M){return a.RotateAround(this.children.entries,C,M),this},rotateAroundDistance:function(C,M,b){return a.RotateAroundDistance(this.children.entries,C,M,b),this},setAlpha:function(C,M){return a.SetAlpha(this.children.entries,C,M),this},setTint:function(C,M,b,w){return a.SetTint(this.children.entries,C,M,b,w),this},setOrigin:function(C,M,b,w){return a.SetOrigin(this.children.entries,C,M,b,w),this},scaleX:function(C,M){return a.ScaleX(this.children.entries,C,M),this},scaleY:function(C,M){return a.ScaleY(this.children.entries,C,M),this},scaleXY:function(C,M,b,w){return a.ScaleXY(this.children.entries,C,M,b,w),this},setDepth:function(C,M){return a.SetDepth(this.children.entries,C,M),this},setBlendMode:function(C){return a.SetBlendMode(this.children.entries,C),this},setHitArea:function(C,M){return a.SetHitArea(this.children.entries,C,M),this},shuffle:function(){return a.Shuffle(this.children.entries),this},kill:function(C){this.children.contains(C)&&C.setActive(!1)},killAndHide:function(C){this.children.contains(C)&&(C.setActive(!1),C.setVisible(!1))},setVisible:function(C,M,b){return a.SetVisible(this.children.entries,C,M,b),this},toggleVisible:function(){return a.ToggleVisible(this.children.entries),this},destroy:function(C,M){C===void 0&&(C=!1),M===void 0&&(M=!1),!(!this.scene||this.ignoreDestroy)&&(this.emit(d.DESTROY,this),this.removeAllListeners(),this.scene.sys.updateList.remove(this),this.clear(M,C),this.scene=void 0,this.children=void 0)}});n.exports=g},94975:(n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=i(44603),x=i(26479);a.register("group",function(d){return new x(this.scene,null,d)})},3385:(n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=i(26479),x=i(39429);x.register("group",function(d,l){return this.updateList.add(new a(this.scene,d,l))})},88571:(n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=i(83419),x=i(31401),d=i(95643),l=i(59819),o=new a({Extends:d,Mixins:[x.Alpha,x.BlendMode,x.Depth,x.Flip,x.GetBounds,x.Mask,x.Origin,x.Pipeline,x.PostPipeline,x.ScrollFactor,x.Size,x.TextureCrop,x.Tint,x.Transform,x.Visible,l],initialize:function(f,c,u,v,p){d.call(this,f,"Image"),this._crop=this.resetCropObject(),this.setTexture(v,p),this.setPosition(c,u),this.setSizeToFrame(),this.setOriginFromFrame(),this.initPipeline(),this.initPostPipeline(!0)}});n.exports=o},40652:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(i,a,x,d){x.addToRenderList(a),i.batchSprite(a,a.frame,x,d)};n.exports=T},82459:(n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=i(25305),x=i(44603),d=i(23568),l=i(88571);x.register("image",function(o,s){o===void 0&&(o={});var f=d(o,"key",null),c=d(o,"frame",null),u=new l(this.scene,0,0,f,c);return s!==void 0&&(o.add=s),a(this.scene,u,o),u})},2117:(n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=i(88571),x=i(39429);x.register("image",function(d,l,o,s){return this.displayList.add(new a(this.scene,d,l,o,s))})},59819:(n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=i(29747),x=a,d=a;x=i(99517),d=i(40652),n.exports={renderWebGL:x,renderCanvas:d}},99517:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(i,a,x,d){x.addToRenderList(a),this.pipeline.batchSprite(a,x,d)};n.exports=T},77856:(n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a={Events:i(51708),DisplayList:i(8050),GameObjectCreator:i(44603),GameObjectFactory:i(39429),UpdateList:i(45027),Components:i(31401),GetCalcMatrix:i(91296),BuildGameObject:i(25305),BuildGameObjectAnimation:i(13059),GameObject:i(95643),BitmapText:i(22186),Blitter:i(6107),Bob:i(46590),Container:i(31559),DOMElement:i(3069),DynamicBitmapText:i(2638),Extern:i(42421),Graphics:i(43831),Group:i(26479),Image:i(88571),Layer:i(93595),Particles:i(18404),PathFollower:i(1159),RenderTexture:i(591),RetroFont:i(196),Rope:i(77757),Sprite:i(68287),Text:i(50171),GetTextSize:i(14220),MeasureText:i(79557),TextStyle:i(35762),TileSprite:i(20839),Zone:i(41481),Video:i(18471),Shape:i(17803),Arc:i(23629),Curve:i(89),Ellipse:i(19921),Grid:i(30479),IsoBox:i(61475),IsoTriangle:i(16933),Line:i(57847),Polygon:i(24949),Rectangle:i(74561),Star:i(55911),Triangle:i(36931),Factories:{Blitter:i(12709),Container:i(24961),DOMElement:i(2611),DynamicBitmapText:i(72566),Extern:i(56315),Graphics:i(1201),Group:i(3385),Image:i(2117),Layer:i(20005),Particles:i(676),PathFollower:i(90145),RenderTexture:i(60505),Rope:i(96819),Sprite:i(46409),StaticBitmapText:i(34914),Text:i(68005),TileSprite:i(91681),Zone:i(84175),Video:i(89025),Arc:i(42563),Curve:i(40511),Ellipse:i(1543),Grid:i(34137),IsoBox:i(3933),IsoTriangle:i(49803),Line:i(2481),Polygon:i(64827),Rectangle:i(87959),Star:i(93697),Triangle:i(45245)},Creators:{Blitter:i(9403),Container:i(77143),DynamicBitmapText:i(11164),Graphics:i(87079),Group:i(94975),Image:i(82459),Layer:i(25179),Particles:i(92730),RenderTexture:i(34495),Rope:i(26209),Sprite:i(15567),StaticBitmapText:i(57336),Text:i(71259),TileSprite:i(14167),Zone:i(95261),Video:i(11511)}};a.Shader=i(20071),a.Mesh=i(4703),a.NineSlice=i(28103),a.PointLight=i(80321),a.Plane=i(33663),a.Factories.Shader=i(74177),a.Factories.Mesh=i(9225),a.Factories.NineSlice=i(47521),a.Factories.PointLight=i(71255),a.Factories.Plane=i(30985),a.Creators.Shader=i(54935),a.Creators.Mesh=i(20527),a.Creators.NineSlice=i(28279),a.Creators.PointLight=i(39829),a.Creators.Plane=i(56015),a.Light=i(41432),a.LightsManager=i(61356),a.LightsPlugin=i(88992),n.exports=a},93595:(n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=i(10312),x=i(83419),d=i(31401),l=i(53774),o=i(45893),s=i(50792),f=i(51708),c=i(73162),u=i(33963),v=i(44594),p=i(19186),m=new x({Extends:c,Mixins:[d.AlphaSingle,d.BlendMode,d.Depth,d.Mask,d.PostPipeline,d.Visible,s,u],initialize:function(C,M){c.call(this,C),s.call(this),this.scene=C,this.displayList=null,this.type="Layer",this.state=0,this.parentContainer=null,this.name="",this.active=!0,this.tabIndex=-1,this.data=null,this.renderFlags=15,this.cameraFilter=0,this.input=null,this.body=null,this.ignoreDestroy=!1,this.systems=C.sys,this.events=C.sys.events,this.sortChildrenFlag=!1,this.addCallback=this.addChildCallback,this.removeCallback=this.removeChildCallback,this.initPostPipeline(),this.clearAlpha(),this.setBlendMode(a.SKIP_CHECK),M&&this.add(M),C.sys.queueDepthSort()},setActive:function(g){return this.active=g,this},setName:function(g){return this.name=g,this},setState:function(g){return this.state=g,this},setDataEnabled:function(){return this.data||(this.data=new o(this)),this},setData:function(g,C){return this.data||(this.data=new o(this)),this.data.set(g,C),this},incData:function(g,C){return this.data||(this.data=new o(this)),this.data.inc(g,C),this},toggleData:function(g){return this.data||(this.data=new o(this)),this.data.toggle(g),this},getData:function(g){return this.data||(this.data=new o(this)),this.data.get(g)},setInteractive:function(){return this},disableInteractive:function(){return this},removeInteractive:function(){return this},addedToScene:function(){},removedFromScene:function(){},update:function(){},toJSON:function(){return l(this)},willRender:function(g){return!(this.renderFlags!==15||this.list.length===0||this.cameraFilter!==0&&this.cameraFilter&g.id)},getIndexList:function(){for(var g=this,C=this.parentContainer,M=[];C&&(M.unshift(C.getIndex(g)),g=C,C.parentContainer);)C=C.parentContainer;return M.unshift(this.displayList.getIndex(g)),M},addChildCallback:function(g){var C=g.displayList;C&&C!==this&&g.removeFromDisplayList(),g.displayList||(this.queueDepthSort(),g.displayList=this,g.emit(f.ADDED_TO_SCENE,g,this.scene),this.events.emit(v.ADDED_TO_SCENE,g,this.scene))},removeChildCallback:function(g){this.queueDepthSort(),g.displayList=null,g.emit(f.REMOVED_FROM_SCENE,g,this.scene),this.events.emit(v.REMOVED_FROM_SCENE,g,this.scene)},queueDepthSort:function(){this.sortChildrenFlag=!0},depthSort:function(){this.sortChildrenFlag&&(p(this.list,this.sortByDepth),this.sortChildrenFlag=!1)},sortByDepth:function(g,C){return g._depth-C._depth},getChildren:function(){return this.list},addToDisplayList:function(g){return g===void 0&&(g=this.scene.sys.displayList),this.displayList&&this.displayList!==g&&this.removeFromDisplayList(),g.exists(this)||(this.displayList=g,g.add(this,!0),g.queueDepthSort(),this.emit(f.ADDED_TO_SCENE,this,this.scene),g.events.emit(v.ADDED_TO_SCENE,this,this.scene)),this},removeFromDisplayList:function(){var g=this.displayList||this.scene.sys.displayList;return g.exists(this)&&(g.remove(this,!0),g.queueDepthSort(),this.displayList=null,this.emit(f.REMOVED_FROM_SCENE,this,this.scene),g.events.emit(v.REMOVED_FROM_SCENE,this,this.scene)),this},getDisplayList:function(){var g=null;return this.parentContainer?g=this.parentContainer.list:this.displayList&&(g=this.displayList.list),g},destroy:function(g){if(!(!this.scene||this.ignoreDestroy)){this.emit(f.DESTROY,this);for(var C=this.list;C.length;)C[0].destroy(g);this.removeAllListeners(),this.resetPostPipeline(!0),this.displayList&&(this.displayList.remove(this,!0,!1),this.displayList.queueDepthSort()),this.data&&(this.data.destroy(),this.data=void 0),this.active=!1,this.visible=!1,this.list=void 0,this.scene=void 0,this.displayList=void 0,this.systems=void 0,this.events=void 0}}});n.exports=m},2956:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(i,a,x){var d=a.list;if(d.length!==0){a.depthSort();var l=a.blendMode!==-1;l||i.setBlendMode(0);var o=a._alpha;a.mask&&a.mask.preRenderCanvas(i,null,x);for(var s=0;s<d.length;s++){var f=d[s];if(f.willRender(x)){var c=f.alpha;!l&&f.blendMode!==i.currentBlendMode&&i.setBlendMode(f.blendMode),f.setAlpha(c*o),f.renderCanvas(i,f,x),f.setAlpha(c)}}a.mask&&a.mask.postRenderCanvas(i)}};n.exports=T},25179:(n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=i(25305),x=i(93595),d=i(44603),l=i(23568);d.register("layer",function(o,s){o===void 0&&(o={});var f=l(o,"children",null),c=new x(this.scene,f);return s!==void 0&&(o.add=s),a(this.scene,c,o),c})},20005:(n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=i(93595),x=i(39429);x.register("layer",function(d){return this.displayList.add(new a(this.scene,d))})},33963:(n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=i(29747),x=a,d=a;x=i(15869),d=i(2956),n.exports={renderWebGL:x,renderCanvas:d}},15869:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(i,a,x){var d=a.list,l=d.length;if(l!==0){a.depthSort(),i.pipelines.preBatch(a);var o=a.blendMode!==-1;o||i.setBlendMode(0);for(var s=a.alpha,f=0;f<l;f++){var c=d[f];if(c.willRender(x)){var u,v,p,m;if(c.alphaTopLeft!==void 0)u=c.alphaTopLeft,v=c.alphaTopRight,p=c.alphaBottomLeft,m=c.alphaBottomRight;else{var g=c.alpha;u=g,v=g,p=g,m=g}!o&&c.blendMode!==i.currentBlendMode&&i.setBlendMode(c.blendMode);var C=c.mask;C&&C.preRenderWebGL(i,c,x);var M=c.type;M!==i.currentType&&(i.newType=!0,i.currentType=M),i.nextTypeMatch=f<l-1?d[f+1].type===i.currentType:!1,c.setAlpha(u*s,v*s,p*s,m*s),c.renderWebGL(i,c,x),c.setAlpha(u,v,p,m),C&&C.postRenderWebGL(i,x),i.newType=!1}}i.pipelines.postBatch(a)}};n.exports=T},41432:(n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=i(96503),x=i(83419),d=i(31401),l=i(51767),o=i(70554),s=new x({Extends:a,Mixins:[d.Origin,d.ScrollFactor,d.Visible],initialize:function(c,u,v,p,m,g,C){a.call(this,c,u,v),this.color=new l(p,m,g),this.intensity=C,this.renderFlags=15,this.cameraFilter=0,this.setScrollFactor(1,1),this.setOrigin(),this.setDisplayOrigin(v)},displayWidth:{get:function(){return this.diameter},set:function(f){this.diameter=f}},displayHeight:{get:function(){return this.diameter},set:function(f){this.diameter=f}},width:{get:function(){return this.diameter},set:function(f){this.diameter=f}},height:{get:function(){return this.diameter},set:function(f){this.diameter=f}},willRender:function(f){return!(s.RENDER_MASK!==this.renderFlags||this.cameraFilter!==0&&this.cameraFilter&f.id)},setColor:function(f){var c=o.getFloatsFromUintRGB(f);return this.color.set(c[0],c[1],c[2]),this},setIntensity:function(f){return this.intensity=f,this},setRadius:function(f){return this.radius=f,this}});s.RENDER_MASK=15,n.exports=s},61356:(n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=i(81491),x=i(83419),d=i(20339),l=i(41432),o=i(80321),s=i(51767),f=i(19133),c=i(19186),u=i(70554),v=new x({initialize:function(){this.lights=[],this.ambientColor=new s(.1,.1,.1),this.active=!1,this.maxLights=-1,this.visibleLights=0},addPointLight:function(p,m,g,C,M,b){return this.systems.displayList.add(new o(this.scene,p,m,g,C,M,b))},enable:function(){return this.maxLights===-1&&(this.maxLights=this.systems.renderer.config.maxLights),this.active=!0,this},disable:function(){return this.active=!1,this},getLights:function(p){for(var m=this.lights,g=p.worldView,C=[],M=0;M<m.length;M++){var b=m[M];b.willRender(p)&&a(b,g)&&C.push({light:b,distance:d(b.x,b.y,g.centerX,g.centerY)})}return C.length>this.maxLights&&(c(C,this.sortByDistance),C=C.slice(0,this.maxLights)),this.visibleLights=C.length,C},sortByDistance:function(p,m){return p.distance>=m.distance},setAmbientColor:function(p){var m=u.getFloatsFromUintRGB(p);return this.ambientColor.set(m[0],m[1],m[2]),this},getMaxVisibleLights:function(){return this.maxLights},getLightCount:function(){return this.lights.length},addLight:function(p,m,g,C,M){p===void 0&&(p=0),m===void 0&&(m=0),g===void 0&&(g=128),C===void 0&&(C=16777215),M===void 0&&(M=1);var b=u.getFloatsFromUintRGB(C),w=new l(p,m,g,b[0],b[1],b[2],M);return this.lights.push(w),w},removeLight:function(p){var m=this.lights.indexOf(p);return m>=0&&f(this.lights,m),this},shutdown:function(){this.lights.length=0},destroy:function(){this.shutdown()}});n.exports=v},88992:(n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=i(83419),x=i(61356),d=i(37277),l=i(44594),o=new a({Extends:x,initialize:function(f){this.scene=f,this.systems=f.sys,f.sys.settings.isBooted||f.sys.events.once(l.BOOT,this.boot,this),x.call(this)},boot:function(){var s=this.systems.events;s.on(l.SHUTDOWN,this.shutdown,this),s.on(l.DESTROY,this.destroy,this)},destroy:function(){this.shutdown(),this.scene=void 0,this.systems=void 0}});d.register("LightsPlugin",o,"lights"),n.exports=o},4703:(n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=i(83419),x=i(31401),d=i(39506),l=i(83997),o=i(95643),s=i(34684),f=i(92515),c=i(91296),u=i(37867),v=i(29807),p=i(43396),m=i(19186),g=i(25836),C=i(39318),M=new a({Extends:o,Mixins:[x.AlphaSingle,x.BlendMode,x.Depth,x.Mask,x.Pipeline,x.PostPipeline,x.ScrollFactor,x.Size,x.Texture,x.Transform,x.Visible,v],initialize:function(w,R,A,L,D,G,B,I,k,z,X,H){R===void 0&&(R=0),A===void 0&&(A=0),L===void 0&&(L="__WHITE"),o.call(this,w,"Mesh"),this.faces=[],this.vertices=[],this.tintFill=!1,this.debugCallback=null,this.debugGraphic=null,this.hideCCW=!0,this.modelPosition=new g,this.modelScale=new g(1,1,1),this.modelRotation=new g,this.dirtyCache=[0,0,0,0,0,0,0,0,0,0,0,0],this.transformMatrix=new u,this.viewPosition=new g,this.viewMatrix=new u,this.projectionMatrix=new u,this.totalRendered=0,this.totalFrame=0,this.ignoreDirtyCache=!1,this.fov,this.displayOriginX=0,this.displayOriginY=0;var Q=w.sys.renderer;this.setPosition(R,A),this.setTexture(L,D),this.setSize(Q.width,Q.height),this.initPipeline(),this.initPostPipeline(),this.setPerspective(Q.width,Q.height),G&&this.addVertices(G,B,I,k,z,X,H)},addedToScene:function(){this.scene.sys.updateList.add(this)},removedFromScene:function(){this.scene.sys.updateList.remove(this)},panX:function(b){return this.viewPosition.addScale(g.LEFT,b),this.dirtyCache[10]=1,this},panY:function(b){return this.viewPosition.y+=g.DOWN.y*b,this.dirtyCache[10]=1,this},panZ:function(b){return this.viewPosition.z+=b,this.dirtyCache[10]=1,this},setPerspective:function(b,w,R,A,L){return R===void 0&&(R=45),A===void 0&&(A=.01),L===void 0&&(L=1e3),this.fov=R,this.projectionMatrix.perspective(d(R),b/w,A,L),this.dirtyCache[10]=1,this.dirtyCache[11]=0,this},setOrtho:function(b,w,R,A){return b===void 0&&(b=this.scene.sys.renderer.getAspectRatio()),w===void 0&&(w=1),R===void 0&&(R=-1e3),A===void 0&&(A=1e3),this.fov=0,this.projectionMatrix.ortho(-b,b,-w,w,R,A),this.dirtyCache[10]=1,this.dirtyCache[11]=1,this},clear:function(){return this.faces.forEach(function(b){b.destroy()}),this.faces=[],this.vertices=[],this},addVerticesFromObj:function(b,w,R,A,L,D,G,B,I){var k=this.scene.sys.cache.obj.get(b),z;return k&&(z=s(k,this,w,R,A,L,D,G,B,I)),(!z||z.verts.length===0)&&console.warn("Mesh.addVerticesFromObj data empty:",b),this},sortByDepth:function(b,w){return b.depth-w.depth},depthSort:function(){return m(this.faces,this.sortByDepth),this},addVertex:function(b,w,R,A,L,D,G){var B=new C(b,w,R,A,L,D,G);return this.vertices.push(B),B},addFace:function(b,w,R){var A=new l(b,w,R);return this.faces.push(A),this.dirtyCache[9]=-1,A},addVertices:function(b,w,R,A,L,D,G){var B=f(b,w,R,A,L,D,G);return B?(this.faces=this.faces.concat(B.faces),this.vertices=this.vertices.concat(B.vertices)):console.warn("Mesh.addVertices data empty or invalid"),this.dirtyCache[9]=-1,this},getFaceCount:function(){return this.faces.length},getVertexCount:function(){return this.vertices.length},getFace:function(b){return this.faces[b]},hasFaceAt:function(b,w,R){R===void 0&&(R=this.scene.sys.cameras.main);for(var A=c(this,R).calc,L=this.faces,D=0;D<L.length;D++){var G=L[D];if(G.contains(b,w,A))return!0}return!1},getFaceAt:function(b,w,R){R===void 0&&(R=this.scene.sys.cameras.main);for(var A=c(this,R).calc,L=this.faces,D=[],G=0;G<L.length;G++){var B=L[G];B.contains(b,w,A)&&D.push(B)}return m(D,this.sortByDepth)},setDebug:function(b,w){return this.debugGraphic=b,!b&&!w?this.debugCallback=null:w?this.debugCallback=w:this.debugCallback=this.renderDebug,this},isDirty:function(){var b=this.modelPosition,w=this.modelRotation,R=this.modelScale,A=this.dirtyCache,L=b.x,D=b.y,G=b.z,B=w.x,I=w.y,k=w.z,z=R.x,X=R.y,H=R.z,Q=this.getFaceCount(),J=A[0],Y=A[1],$=A[2],V=A[3],U=A[4],K=A[5],j=A[6],_=A[7],tt=A[8],rt=A[9];return A[0]=L,A[1]=D,A[2]=G,A[3]=B,A[4]=I,A[5]=k,A[6]=z,A[7]=X,A[8]=H,A[9]=Q,J!==L||Y!==D||$!==G||V!==B||U!==I||K!==k||j!==z||_!==X||tt!==H||rt!==Q},preUpdate:function(){this.totalRendered=this.totalFrame,this.totalFrame=0;var b=this.dirtyCache;if(!(!this.ignoreDirtyCache&&!b[10]&&!this.isDirty())){var w=this.width,R=this.height,A=this.viewMatrix,L=this.viewPosition;b[10]&&(A.identity(),A.translate(L),A.invert(),b[10]=0);var D=this.transformMatrix;D.setWorldMatrix(this.modelRotation,this.modelPosition,this.modelScale,this.viewMatrix,this.projectionMatrix);for(var G=L.z,B=this.faces,I=0;I<B.length;I++)B[I].transformCoordinatesLocal(D,w,R,G);this.depthSort()}},renderDebug:function(b,w){for(var R=b.debugGraphic,A=0;A<w.length;A++){var L=w[A],D=L.vertex1.tx,G=L.vertex1.ty,B=L.vertex2.tx,I=L.vertex2.ty,k=L.vertex3.tx,z=L.vertex3.ty;R.strokeTriangle(D,G,B,I,k,z)}},preDestroy:function(){this.clear(),this.debugCallback=null,this.debugGraphic=null},clearTint:function(){return this.setTint()},setInteractive:function(b){b===void 0&&(b={});var w=(function(R,A,L){for(var D=this.faces,G=0;G<D.length;G++){var B=D[G];if(B.contains(A,L))return!0}return!1}).bind(this);return this.scene.sys.input.enable(this,b,w),this},setTint:function(b){b===void 0&&(b=16777215);for(var w=this.vertices,R=0;R<w.length;R++)w[R].color=b;return this},uvScroll:function(b,w){for(var R=this.faces,A=0;A<R.length;A++)R[A].scrollUV(b,w);return this},uvScale:function(b,w){for(var R=this.faces,A=0;A<R.length;A++)R[A].scaleUV(b,w);return this},tint:{set:function(b){this.setTint(b)}},rotateX:{get:function(){return p(this.modelRotation.x)},set:function(b){this.modelRotation.x=d(b)}},rotateY:{get:function(){return p(this.modelRotation.y)},set:function(b){this.modelRotation.y=d(b)}},rotateZ:{get:function(){return p(this.modelRotation.z)},set:function(b){this.modelRotation.z=d(b)}}});n.exports=M},36488:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(){};n.exports=T},20527:(n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=i(25305),x=i(44603),d=i(23568),l=i(35154),o=i(4703);x.register("mesh",function(s,f){s===void 0&&(s={});var c=d(s,"key",null),u=d(s,"frame",null),v=l(s,"vertices",[]),p=l(s,"uvs",[]),m=l(s,"indicies",[]),g=l(s,"containsZ",!1),C=l(s,"normals",[]),M=l(s,"colors",16777215),b=l(s,"alphas",1),w=new o(this.scene,0,0,c,u,v,p,m,g,C,M,b);return f!==void 0&&(s.add=f),a(this.scene,w,s),w})},9225:(n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=i(4703),x=i(39429);x.register("mesh",function(d,l,o,s,f,c,u,v,p,m,g){return this.displayList.add(new a(this.scene,d,l,o,s,f,c,u,v,p,m,g))})},29807:(n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=i(29747),x=a,d=a;x=i(48833),d=i(36488),n.exports={renderWebGL:x,renderCanvas:d}},48833:(n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=i(91296),x=function(d,l,o,s){var f=l.faces,c=f.length;if(c!==0){o.addToRenderList(l);var u=d.pipelines.set(l.pipeline,l),v=a(l,o,s).calc;d.pipelines.preBatch(l);for(var p=u.setGameObject(l),m=u.vertexViewF32,g=u.vertexViewU32,C=u.vertexCount*u.currentShader.vertexComponentCount-1,M=l.tintFill,b=[],w=l.debugCallback,R=v.a,A=v.b,L=v.c,D=v.d,G=v.e,B=v.f,I=l.viewPosition.z,k=l.hideCCW,z=o.roundPixels,X=o.alpha*l.alpha,H=0,Q=0;Q<c;Q++){var J=f[Q];J.isInView(o,k,I,X,R,A,L,D,G,B,z)&&(u.shouldFlush(3)&&(u.flush(),p=u.setGameObject(l),C=u.vertexCount*u.currentShader.vertexComponentCount-1),C=J.load(m,g,C,p,M),H++,u.vertexCount+=3,u.currentBatch.count=u.vertexCount-u.currentBatch.start,w&&b.push(J))}l.totalFrame+=H,w&&w.call(l,l,b),d.pipelines.postBatch(l)}};n.exports=x},28103:(n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=i(83419),x=i(31401),d=i(95643),l=i(78023),o=i(39318),s=new a({Extends:d,Mixins:[x.AlphaSingle,x.BlendMode,x.Depth,x.GetBounds,x.Mask,x.Origin,x.Pipeline,x.PostPipeline,x.ScrollFactor,x.Texture,x.Transform,x.Visible,l],initialize:function(c,u,v,p,m,g,C,M,b,w,R){d.call(this,c,"NineSlice"),this._width,this._height,this._originX=.5,this._originY=.5,this._sizeComponent=!0,this.vertices=[],this.leftWidth,this.rightWidth,this.topHeight,this.bottomHeight,this.tint=16777215,this.tintFill=!1;var A=c.textures.getFrame(p,m);this.is3Slice=!w&&!R,A&&A.scale9&&(this.is3Slice=A.is3Slice);for(var L=this.is3Slice?18:54,D=0;D<L;D++)this.vertices.push(new o);this.setPosition(u,v),this.setTexture(p,m),this.setSlices(g,C,M,b,w,R,!1),this.updateDisplayOrigin(),this.initPipeline(),this.initPostPipeline()},setSlices:function(f,c,u,v,p,m,g){u===void 0&&(u=10),v===void 0&&(v=10),p===void 0&&(p=0),m===void 0&&(m=0),g===void 0&&(g=!1);var C=this.frame,M=!1;if(this.is3Slice&&g&&p!==0&&m!==0&&(M=!0),M)console.warn("Cannot change 9 slice to 3 slice");else{if(C&&C.scale9&&!g){var b=C.data.scale9Borders,w=b.x,R=b.y;u=w,v=C.width-b.w-w,p=R,m=C.height-b.h-R,f===void 0&&(f=C.width),c===void 0&&(c=C.height)}else f===void 0&&(f=256),c===void 0&&(c=256);this._width=f,this._height=c,this.leftWidth=u,this.rightWidth=v,this.topHeight=p,this.bottomHeight=m,this.is3Slice&&(c=C.height,this._height=c,this.topHeight=c,this.bottomHeight=0),this.updateVertices(),this.updateUVs()}return this},updateUVs:function(){var f=this.leftWidth,c=this.rightWidth,u=this.topHeight,v=this.bottomHeight,p=this.frame.width,m=this.frame.height;this.updateQuadUVs(0,0,0,f/p,u/m),this.updateQuadUVs(6,f/p,0,1-c/p,u/m),this.updateQuadUVs(12,1-c/p,0,1,u/m),this.is3Slice||(this.updateQuadUVs(18,0,u/m,f/p,1-v/m),this.updateQuadUVs(24,f/p,u/m,1-c/p,1-v/m),this.updateQuadUVs(30,1-c/p,u/m,1,1-v/m),this.updateQuadUVs(36,0,1-v/m,f/p,1),this.updateQuadUVs(42,f/p,1-v/m,1-c/p,1),this.updateQuadUVs(48,1-c/p,1-v/m,1,1))},updateVertices:function(){var f=this.leftWidth,c=this.rightWidth,u=this.topHeight,v=this.bottomHeight,p=this.width,m=this.height;this.updateQuad(0,-.5,.5,-.5+f/p,.5-u/m),this.updateQuad(6,-.5+f/p,.5,.5-c/p,.5-u/m),this.updateQuad(12,.5-c/p,.5,.5,.5-u/m),this.is3Slice||(this.updateQuad(18,-.5,.5-u/m,-.5+f/p,-.5+v/m),this.updateQuad(24,-.5+f/p,.5-u/m,.5-c/p,-.5+v/m),this.updateQuad(30,.5-c/p,.5-u/m,.5,-.5+v/m),this.updateQuad(36,-.5,-.5+v/m,-.5+f/p,-.5),this.updateQuad(42,-.5+f/p,-.5+v/m,.5-c/p,-.5),this.updateQuad(48,.5-c/p,-.5+v/m,.5,-.5))},updateQuad:function(f,c,u,v,p){var m=this.width,g=this.height,C=this.originX,M=this.originY,b=this.vertices;b[f+0].resize(c,u,m,g,C,M),b[f+1].resize(c,p,m,g,C,M),b[f+2].resize(v,u,m,g,C,M),b[f+3].resize(c,p,m,g,C,M),b[f+4].resize(v,p,m,g,C,M),b[f+5].resize(v,u,m,g,C,M)},updateQuadUVs:function(f,c,u,v,p){var m=this.vertices,g=this.frame,C=g.u0,M=g.v0,b=g.u1,w=g.v1;if(C!==0||b!==1){var R=b-C;c=C+c*R,v=C+v*R}if(M!==0||w!==1){var A=w-M;u=M+u*A,p=M+p*A}m[f+0].setUVs(c,u),m[f+1].setUVs(c,p),m[f+2].setUVs(v,u),m[f+3].setUVs(c,p),m[f+4].setUVs(v,p),m[f+5].setUVs(v,u)},clearTint:function(){return this.setTint(16777215),this},setTint:function(f){return f===void 0&&(f=16777215),this.tint=f,this.tintFill=!1,this},setTintFill:function(f){return this.setTint(f),this.tintFill=!0,this},isTinted:{get:function(){return this.tint!==16777215}},width:{get:function(){return this._width},set:function(f){this._width=Math.max(f,this.leftWidth+this.rightWidth),this.updateVertices()}},height:{get:function(){return this._height},set:function(f){this.is3Slice||(this._height=Math.max(f,this.topHeight+this.bottomHeight),this.updateVertices())}},displayWidth:{get:function(){return this.scaleX*this.width},set:function(f){this.scaleX=f/this.width}},displayHeight:{get:function(){return this.scaleY*this.height},set:function(f){this.scaleY=f/this.height}},setSize:function(f,c){this.width=f,this.height=c,this.updateDisplayOrigin();var u=this.input;return u&&!u.customHitArea&&(u.hitArea.width=this.width,u.hitArea.height=this.height),this},setDisplaySize:function(f,c){return this.displayWidth=f,this.displayHeight=c,this},originX:{get:function(){return this._originX},set:function(f){this._originX=f,this.updateVertices()}},originY:{get:function(){return this._originY},set:function(f){this._originY=f,this.updateVertices()}},setOrigin:function(f,c){return f===void 0&&(f=.5),c===void 0&&(c=f),this._originX=f,this._originY=c,this.updateVertices(),this.updateDisplayOrigin()},setSizeToFrame:function(){if(this.is3Slice){var f=this.frame.height;this._height=f,this.topHeight=f,this.bottomHeight=0}return this.updateUVs(),this},preDestroy:function(){this.vertices=[]}});n.exports=s},28279:(n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=i(25305),x=i(44603),d=i(23568),l=i(35154),o=i(28103);x.register("nineslice",function(s,f){s===void 0&&(s={});var c=d(s,"key",null),u=d(s,"frame",null),v=l(s,"width",256),p=l(s,"height",256),m=l(s,"leftWidth",10),g=l(s,"rightWidth",10),C=l(s,"topHeight",0),M=l(s,"bottomHeight",0),b=new o(this.scene,0,0,c,u,v,p,m,g,C,M);return f!==void 0&&(s.add=f),a(this.scene,b,s),b})},47521:(n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=i(28103),x=i(39429);x.register("nineslice",function(d,l,o,s,f,c,u,v,p,m){return this.displayList.add(new a(this.scene,d,l,o,s,f,c,u,v,p,m))})},78023:(n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=i(29747),x=a,d=a;x=i(52230),n.exports={renderWebGL:x,renderCanvas:d}},52230:(n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=i(91296),x=i(70554),d=function(l,o,s,f){var c=o.vertices,u=c.length;if(u!==0){s.addToRenderList(o);var v=l.pipelines.set(o.pipeline,o),p=a(o,s,f,!1).calc;l.pipelines.preBatch(o);var m=v.setGameObject(o),g=v.vertexViewF32,C=v.vertexViewU32,M=v.vertexCount*v.currentShader.vertexComponentCount-1,b=s.roundPixels,w=o.tintFill,R=s.alpha*o.alpha,A=x.getTintAppendFloatAlpha(o.tint,R),L=v.vertexAvailable(),D=-1;L<u&&(D=L);for(var G=0;G<u;G++){var B=c[G];G===D&&(v.flush(),m=v.setGameObject(o),M=0),g[++M]=p.getXRound(B.vx,B.vy,b),g[++M]=p.getYRound(B.vx,B.vy,b),g[++M]=B.u,g[++M]=B.v,g[++M]=m,g[++M]=w,C[++M]=A,v.vertexCount++,v.currentBatch.count=v.vertexCount-v.currentBatch.start}l.pipelines.postBatch(o)}};n.exports=d},76472:(n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=i(83419),x=i(44777),d=i(37589),l=i(6113),o=i(91389),s=i(90664),f=new a({Extends:x,initialize:function(u){x.call(this,u,null,!1),this.active=!1,this.easeName="Linear",this.r=[],this.g=[],this.b=[]},getMethod:function(){return this.propertyValue===null?0:9},setMethods:function(){var c=this.propertyValue,u=c,v=this.defaultEmit,p=this.defaultUpdate;if(this.method===9){this.start=c[0],this.ease=l("Linear"),this.interpolation=o("linear"),v=this.easedValueEmit,p=this.easeValueUpdate,u=c[0],this.active=!0;for(var m=0;m<c.length;m++){var g=s(c[m]);this.r.push(g.r),this.g.push(g.g),this.b.push(g.b)}}return this.onEmit=v,this.onUpdate=p,this.current=u,this},setEase:function(c){this.easeName=c,this.ease=l(c)},easedValueEmit:function(){return this.current=this.start,this.start},easeValueUpdate:function(c,u,v){var p=this.ease(v),m=this.interpolation(this.r,p),g=this.interpolation(this.g,p),C=this.interpolation(this.b,p),M=d(m,g,C);return this.current=M,M}});n.exports=f},44777:(n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=i(30976),x=i(45319),d=i(83419),l=i(99472),o=i(6113),s=i(95540),f=i(91389),c=i(77720),u=i(15994),v=new d({initialize:function(m,g,C){C===void 0&&(C=!1),this.propertyKey=m,this.propertyValue=g,this.defaultValue=g,this.steps=0,this.counter=0,this.yoyo=!1,this.direction=0,this.start=0,this.current=0,this.end=0,this.ease=null,this.interpolation=null,this.emitOnly=C,this.onEmit=this.defaultEmit,this.onUpdate=this.defaultUpdate,this.active=!0,this.method=0,this._onEmit,this._onUpdate},loadConfig:function(p,m){p===void 0&&(p={}),m&&(this.propertyKey=m),this.propertyValue=s(p,this.propertyKey,this.defaultValue),this.method=this.getMethod(),this.setMethods(),this.emitOnly&&(this.onUpdate=this.defaultUpdate)},toJSON:function(){return JSON.stringify(this.propertyValue)},onChange:function(p){var m;switch(this.method){case 1:case 3:case 8:m=p;break;case 2:this.propertyValue.indexOf(p)>=0&&(m=p);break;case 4:var g=(this.end-this.start)/this.steps;m=c(p,g),this.counter=m;break;case 5:case 6:case 7:m=x(p,this.start,this.end);break;case 9:m=this.start[0];break}return this.current=m,this},getMethod:function(){var p=this.propertyValue;if(p===null)return 0;var m=typeof p;if(m==="number")return 1;if(Array.isArray(p))return 2;if(m==="function")return 3;if(m==="object"){if(this.hasBoth(p,"start","end"))return this.has(p,"steps")?4:5;if(this.hasBoth(p,"min","max"))return 6;if(this.has(p,"random"))return 7;if(this.hasEither(p,"onEmit","onUpdate"))return 8;if(this.hasEither(p,"values","interpolation"))return 9}return 0},setMethods:function(){var p=this.propertyValue,m=p,g=this.defaultEmit,C=this.defaultUpdate;switch(this.method){case 1:g=this.staticValueEmit;break;case 2:g=this.randomStaticValueEmit,m=p[0];break;case 3:this._onEmit=p,g=this.proxyEmit,m=this.defaultValue;break;case 4:this.start=p.start,this.end=p.end,this.steps=p.steps,this.counter=this.start,this.yoyo=this.has(p,"yoyo")?p.yoyo:!1,this.direction=0,g=this.steppedEmit,m=this.start;break;case 5:this.start=p.start,this.end=p.end;var M=this.has(p,"ease")?p.ease:"Linear";this.ease=o(M,p.easeParams),g=this.has(p,"random")&&p.random?this.randomRangedValueEmit:this.easedValueEmit,C=this.easeValueUpdate,m=this.start;break;case 6:this.start=p.min,this.end=p.max,g=this.has(p,"int")&&p.int?this.randomRangedIntEmit:this.randomRangedValueEmit,m=this.start;break;case 7:var b=p.random;Array.isArray(b)&&(this.start=b[0],this.end=b[1]),g=this.randomRangedIntEmit,m=this.start;break;case 8:this._onEmit=this.has(p,"onEmit")?p.onEmit:this.defaultEmit,this._onUpdate=this.has(p,"onUpdate")?p.onUpdate:this.defaultUpdate,g=this.proxyEmit,C=this.proxyUpdate,m=this.defaultValue;break;case 9:this.start=p.values;var w=this.has(p,"ease")?p.ease:"Linear";this.ease=o(w,p.easeParams),this.interpolation=f(p.interpolation),g=this.easedValueEmit,C=this.easeValueUpdate,m=this.start[0];break}return this.onEmit=g,this.onUpdate=C,this.current=m,this},has:function(p,m){return p.hasOwnProperty(m)},hasBoth:function(p,m,g){return p.hasOwnProperty(m)&&p.hasOwnProperty(g)},hasEither:function(p,m,g){return p.hasOwnProperty(m)||p.hasOwnProperty(g)},defaultEmit:function(){return this.defaultValue},defaultUpdate:function(p,m,g,C){return C},proxyEmit:function(p,m,g){var C=this._onEmit(p,m,g);return this.current=C,C},proxyUpdate:function(p,m,g,C){var M=this._onUpdate(p,m,g,C);return this.current=M,M},staticValueEmit:function(){return this.current},staticValueUpdate:function(){return this.current},randomStaticValueEmit:function(){var p=Math.floor(Math.random()*this.propertyValue.length);return this.current=this.propertyValue[p],this.current},randomRangedValueEmit:function(p,m){var g=l(this.start,this.end);return p&&p.data[m]&&(p.data[m].min=g,p.data[m].max=this.end),this.current=g,g},randomRangedIntEmit:function(p,m){var g=a(this.start,this.end);return p&&p.data[m]&&(p.data[m].min=g,p.data[m].max=this.end),this.current=g,g},steppedEmit:function(){var p=this.counter,m=p,g=(this.end-this.start)/this.steps;if(this.yoyo){var C;this.direction===0?(m+=g,m>=this.end&&(C=m-this.end,m=this.end-C,this.direction=1)):(m-=g,m<=this.start&&(C=this.start-m,m=this.start+C,this.direction=0)),this.counter=m}else this.counter=u(m+g,this.start,this.end);return this.current=p,p},easedValueEmit:function(p,m){if(p&&p.data[m]){var g=p.data[m];g.min=this.start,g.max=this.end}return this.current=this.start,this.start},easeValueUpdate:function(p,m,g){var C=p.data[m],M,b=this.ease(g);return this.interpolation?M=this.interpolation(this.start,b):M=(C.max-C.min)*b+C.min,this.current=M,M},destroy:function(){this.propertyValue=null,this.defaultValue=null,this.ease=null,this.interpolation=null,this._onEmit=null,this._onUpdate=null}});n.exports=v},24502:(n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=i(83419),x=i(95540),d=i(20286),l=new a({Extends:d,initialize:function(s,f,c,u,v){if(typeof s=="object"){var p=s;s=x(p,"x",0),f=x(p,"y",0),c=x(p,"power",0),u=x(p,"epsilon",100),v=x(p,"gravity",50)}else s===void 0&&(s=0),f===void 0&&(f=0),c===void 0&&(c=0),u===void 0&&(u=100),v===void 0&&(v=50);d.call(this,s,f,!0),this._gravity=v,this._power=c*v,this._epsilon=u*u},update:function(o,s){var f=this.x-o.x,c=this.y-o.y,u=f*f+c*c;if(u!==0){var v=Math.sqrt(u);u<this._epsilon&&(u=this._epsilon);var p=this._power*s/(u*v)*100;o.velocityX+=f*p,o.velocityY+=c*p}},epsilon:{get:function(){return Math.sqrt(this._epsilon)},set:function(o){this._epsilon=o*o}},power:{get:function(){return this._power/this._gravity},set:function(o){this._power=o*this._gravity}},gravity:{get:function(){return this._gravity},set:function(o){var s=this.power;this._gravity=o,this.power=s}}});n.exports=l},56480:(n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=i(9674),x=i(45319),d=i(83419),l=i(39506),o=i(87841),s=i(11520),f=i(26099),c=new d({initialize:function(v){this.emitter=v,this.texture=null,this.frame=null,this.x=0,this.y=0,this.worldPosition=new f,this.velocityX=0,this.velocityY=0,this.accelerationX=0,this.accelerationY=0,this.maxVelocityX=1e4,this.maxVelocityY=1e4,this.bounce=0,this.scaleX=1,this.scaleY=1,this.alpha=1,this.angle=0,this.rotation=0,this.tint=16777215,this.life=1e3,this.lifeCurrent=1e3,this.delayCurrent=0,this.holdCurrent=0,this.lifeT=0,this.data={tint:{min:16777215,max:16777215},alpha:{min:1,max:1},rotate:{min:0,max:0},scaleX:{min:1,max:1},scaleY:{min:1,max:1},x:{min:0,max:0},y:{min:0,max:0},accelerationX:{min:0,max:0},accelerationY:{min:0,max:0},maxVelocityX:{min:0,max:0},maxVelocityY:{min:0,max:0},moveToX:{min:0,max:0},moveToY:{min:0,max:0},bounce:{min:0,max:0}},this.isCropped=!1,this.scene=v.scene,this.anims=null,this.emitter.anims.length>0&&(this.anims=new a(this)),this.bounds=new o},emit:function(u,v,p,m,g,C){return this.emitter.emit(u,v,p,m,g,C)},isAlive:function(){return this.lifeCurrent>0},kill:function(){this.lifeCurrent=0},setPosition:function(u,v){u===void 0&&(u=0),v===void 0&&(v=0),this.x=u,this.y=v},fire:function(u,v){var p=this.emitter,m=p.ops,g=p.getAnim();if(g?this.anims.play(g):(this.frame=p.getFrame(),this.texture=this.frame.texture),!this.frame)throw new Error("Particle has no texture frame");if(p.getEmitZone(this),u===void 0?this.x+=m.x.onEmit(this,"x"):m.x.steps>0?this.x+=u+m.x.onEmit(this,"x"):this.x+=u,v===void 0?this.y+=m.y.onEmit(this,"y"):m.y.steps>0?this.y+=v+m.y.onEmit(this,"y"):this.y+=v,this.life=m.lifespan.onEmit(this,"lifespan"),this.lifeCurrent=this.life,this.lifeT=0,this.delayCurrent=m.delay.onEmit(this,"delay"),this.holdCurrent=m.hold.onEmit(this,"hold"),this.scaleX=m.scaleX.onEmit(this,"scaleX"),this.scaleY=m.scaleY.active?m.scaleY.onEmit(this,"scaleY"):this.scaleX,this.angle=m.rotate.onEmit(this,"rotate"),this.rotation=l(this.angle),p.worldMatrix.transformPoint(this.x,this.y,this.worldPosition),this.delayCurrent===0&&p.getDeathZone(this))return this.lifeCurrent=0,!1;var C=m.speedX.onEmit(this,"speedX"),M=m.speedY.active?m.speedY.onEmit(this,"speedY"):C;if(p.radial){var b=l(m.angle.onEmit(this,"angle"));this.velocityX=Math.cos(b)*Math.abs(C),this.velocityY=Math.sin(b)*Math.abs(M)}else if(p.moveTo){var w=m.moveToX.onEmit(this,"moveToX"),R=m.moveToY.onEmit(this,"moveToY"),A=this.life/1e3;this.velocityX=(w-this.x)/A,this.velocityY=(R-this.y)/A}else this.velocityX=C,this.velocityY=M;return p.acceleration&&(this.accelerationX=m.accelerationX.onEmit(this,"accelerationX"),this.accelerationY=m.accelerationY.onEmit(this,"accelerationY")),this.maxVelocityX=m.maxVelocityX.onEmit(this,"maxVelocityX"),this.maxVelocityY=m.maxVelocityY.onEmit(this,"maxVelocityY"),this.bounce=m.bounce.onEmit(this,"bounce"),this.alpha=m.alpha.onEmit(this,"alpha"),m.color.active?this.tint=m.color.onEmit(this,"tint"):this.tint=m.tint.onEmit(this,"tint"),!0},update:function(u,v,p){if(this.lifeCurrent<=0)return this.holdCurrent>0?(this.holdCurrent-=u,this.holdCurrent<=0):!0;if(this.delayCurrent>0)return this.delayCurrent-=u,!1;this.anims&&this.anims.update(0,u);var m=this.emitter,g=m.ops,C=1-this.lifeCurrent/this.life;if(this.lifeT=C,this.x=g.x.onUpdate(this,"x",C,this.x),this.y=g.y.onUpdate(this,"y",C,this.y),m.moveTo){var M=g.moveToX.onUpdate(this,"moveToX",C,m.moveToX),b=g.moveToY.onUpdate(this,"moveToY",C,m.moveToY),w=this.lifeCurrent/1e3;this.velocityX=(M-this.x)/w,this.velocityY=(b-this.y)/w}return this.computeVelocity(m,u,v,p,C),this.scaleX=g.scaleX.onUpdate(this,"scaleX",C,this.scaleX),g.scaleY.active?this.scaleY=g.scaleY.onUpdate(this,"scaleY",C,this.scaleY):this.scaleY=this.scaleX,this.angle=g.rotate.onUpdate(this,"rotate",C,this.angle),this.rotation=l(this.angle),m.getDeathZone(this)?(this.lifeCurrent=0,!0):(this.alpha=x(g.alpha.onUpdate(this,"alpha",C,this.alpha),0,1),g.color.active?this.tint=g.color.onUpdate(this,"color",C,this.tint):this.tint=g.tint.onUpdate(this,"tint",C,this.tint),this.lifeCurrent-=u,this.lifeCurrent<=0&&this.holdCurrent<=0)},computeVelocity:function(u,v,p,m,g){var C=u.ops,M=this.velocityX,b=this.velocityY,w=C.accelerationX.onUpdate(this,"accelerationX",g,this.accelerationX),R=C.accelerationY.onUpdate(this,"accelerationY",g,this.accelerationY),A=C.maxVelocityX.onUpdate(this,"maxVelocityX",g,this.maxVelocityX),L=C.maxVelocityY.onUpdate(this,"maxVelocityY",g,this.maxVelocityY);this.bounce=C.bounce.onUpdate(this,"bounce",g,this.bounce),M+=u.gravityX*p+w*p,b+=u.gravityY*p+R*p,M=x(M,-A,A),b=x(b,-L,L),this.velocityX=M,this.velocityY=b,this.x+=M*p,this.y+=b*p,u.worldMatrix.transformPoint(this.x,this.y,this.worldPosition);for(var D=0;D<m.length;D++){var G=m[D];G.active&&G.update(this,v,p,g)}},setSizeToFrame:function(){},getBounds:function(u){u===void 0&&(u=this.emitter.getWorldTransformMatrix());var v=Math.abs(u.scaleX)*this.scaleX,p=Math.abs(u.scaleY)*this.scaleY,m=this.x,g=this.y,C=this.rotation,M=this.frame.width*v/2,b=this.frame.height*p/2,w=this.bounds,R=new f(m-M,g-b),A=new f(m+M,g-b),L=new f(m-M,g+b),D=new f(m+M,g+b);return C!==0&&(s(R,m,g,C),s(A,m,g,C),s(L,m,g,C),s(D,m,g,C)),u.transformPoint(R.x,R.y,R),u.transformPoint(A.x,A.y,A),u.transformPoint(L.x,L.y,L),u.transformPoint(D.x,D.y,D),w.x=Math.min(R.x,A.x,L.x,D.x),w.y=Math.min(R.y,A.y,L.y,D.y),w.width=Math.max(R.x,A.x,L.x,D.x)-w.x,w.height=Math.max(R.y,A.y,L.y,D.y)-w.y,w},destroy:function(){this.anims&&this.anims.destroy(),this.anims=null,this.emitter=null,this.texture=null,this.frame=null,this.scene=null}});n.exports=c},69601:(n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=i(83419),x=i(20286),d=i(87841),l=new a({Extends:x,initialize:function(s,f,c,u,v,p,m,g){v===void 0&&(v=!0),p===void 0&&(p=!0),m===void 0&&(m=!0),g===void 0&&(g=!0),x.call(this,s,f,!0),this.bounds=new d(s,f,c,u),this.collideLeft=v,this.collideRight=p,this.collideTop=m,this.collideBottom=g},update:function(o){var s=this.bounds,f=-o.bounce,c=o.worldPosition;c.x<s.x&&this.collideLeft?(o.x+=s.x-c.x,o.velocityX*=f):c.x>s.right&&this.collideRight&&(o.x-=c.x-s.right,o.velocityX*=f),c.y<s.y&&this.collideTop?(o.y+=s.y-c.y,o.velocityY*=f):c.y>s.bottom&&this.collideBottom&&(o.y-=c.y-s.bottom,o.velocityY*=f)}});n.exports=l},31600:(n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=i(83419),x=i(31401),d=i(53774),l=i(43459),o=i(26388),s=i(19909),f=i(76472),c=i(44777),u=i(20696),v=i(95643),p=i(95540),m=i(26546),g=i(24502),C=i(1985),M=i(97022),b=i(86091),w=i(73162),R=i(20074),A=i(269),L=i(56480),D=i(69601),G=i(68875),B=i(87841),I=i(59996),k=i(72905),z=i(90668),X=i(19186),H=i(61340),Q=i(26099),J=i(15994),Y=["active","advance","blendMode","colorEase","deathCallback","deathCallbackScope","duration","emitCallback","emitCallbackScope","follow","frequency","gravityX","gravityY","maxAliveParticles","maxParticles","name","emitting","particleBringToTop","particleClass","radial","sortCallback","sortOrderAsc","sortProperty","stopAfter","tintFill","timeScale","trackVisible","visible"],$=["accelerationX","accelerationY","alpha","angle","bounce","color","delay","hold","lifespan","maxVelocityX","maxVelocityY","moveToX","moveToY","quantity","rotate","scaleX","scaleY","speedX","speedY","tint","x","y"],V=new a({Extends:v,Mixins:[x.AlphaSingle,x.BlendMode,x.Depth,x.Mask,x.Pipeline,x.PostPipeline,x.ScrollFactor,x.Texture,x.Transform,x.Visible,z],initialize:function(K,j,_,tt,rt){v.call(this,K,"ParticleEmitter"),this.particleClass=L,this.config=null,this.ops={accelerationX:new c("accelerationX",0),accelerationY:new c("accelerationY",0),alpha:new c("alpha",1),angle:new c("angle",{min:0,max:360},!0),bounce:new c("bounce",0),color:new f("color"),delay:new c("delay",0,!0),hold:new c("hold",0,!0),lifespan:new c("lifespan",1e3,!0),maxVelocityX:new c("maxVelocityX",1e4),maxVelocityY:new c("maxVelocityY",1e4),moveToX:new c("moveToX",0),moveToY:new c("moveToY",0),quantity:new c("quantity",1,!0),rotate:new c("rotate",0),scaleX:new c("scaleX",1),scaleY:new c("scaleY",1),speedX:new c("speedX",0,!0),speedY:new c("speedY",0,!0),tint:new c("tint",16777215),x:new c("x",0),y:new c("y",0)},this.radial=!0,this.gravityX=0,this.gravityY=0,this.acceleration=!1,this.moveTo=!1,this.emitCallback=null,this.emitCallbackScope=null,this.deathCallback=null,this.deathCallbackScope=null,this.maxParticles=0,this.maxAliveParticles=0,this.stopAfter=0,this.duration=0,this.frequency=0,this.emitting=!0,this.particleBringToTop=!0,this.timeScale=1,this.emitZones=[],this.deathZones=[],this.viewBounds=null,this.follow=null,this.followOffset=new Q,this.trackVisible=!1,this.frames=[],this.randomFrame=!0,this.frameQuantity=1,this.anims=[],this.randomAnim=!0,this.animQuantity=1,this.dead=[],this.alive=[],this.counters=new Float32Array(10),this.skipping=!1,this.worldMatrix=new H,this.sortProperty="",this.sortOrderAsc=!0,this.sortCallback=this.depthSortCallback,this.processors=new w(this),this.tintFill=!1,this.initPipeline(),this.initPostPipeline(),this.setPosition(j,_),this.setTexture(tt),rt&&this.setConfig(rt)},addedToScene:function(){this.scene.sys.updateList.add(this)},removedFromScene:function(){this.scene.sys.updateList.remove(this)},setConfig:function(U){if(!U)return this;this.config=U;var K=0,j="",_=this.ops;for(K=0;K<$.length;K++)j=$[K],_[j].loadConfig(U);for(K=0;K<Y.length;K++)j=Y[K],M(U,j)&&(this[j]=p(U,j));if(this.acceleration=this.accelerationX!==0||this.accelerationY!==0,this.moveTo=this.moveToX!==0&&this.moveToY!==0,M(U,"speed")&&(_.speedX.loadConfig(U,"speed"),_.speedY.active=!1),(C(U,["speedX","speedY"])||this.moveTo)&&(this.radial=!1),M(U,"scale")&&(_.scaleX.loadConfig(U,"scale"),_.scaleY.active=!1),M(U,"callbackScope")){var tt=p(U,"callbackScope",null);this.emitCallbackScope=tt,this.deathCallbackScope=tt}if(M(U,"emitZone")&&this.addEmitZone(U.emitZone),M(U,"deathZone")&&this.addDeathZone(U.deathZone),M(U,"bounds")){var rt=this.addParticleBounds(U.bounds);rt.collideLeft=p(U,"collideLeft",!0),rt.collideRight=p(U,"collideRight",!0),rt.collideTop=p(U,"collideTop",!0),rt.collideBottom=p(U,"collideBottom",!0)}return M(U,"followOffset")&&this.followOffset.setFromObject(p(U,"followOffset",0)),M(U,"texture")&&this.setTexture(U.texture),M(U,"frame")?this.setEmitterFrame(U.frame):M(U,"anim")&&this.setAnim(U.anim),M(U,"reserve")&&this.reserve(U.reserve),M(U,"advance")&&this.fastForward(U.advance),this.resetCounters(this.frequency,this.emitting),this.emitting&&this.emit(u.START,this),this},updateConfig:function(U){return U&&(this.config?this.setConfig(A(this.config,U)):this.setConfig(U)),this},toJSON:function(){var U=d(this),K=0,j="";for(K=0;K<Y.length;K++)j=Y[K],U[j]=this[j];var _=this.ops;for(K=0;K<$.length;K++)j=$[K],_[j]&&(U[j]=_[j].toJSON());return _.speedY.active||(delete U.speedX,U.speed=_.speedX.toJSON()),this.scaleX===this.scaleY&&(delete U.scaleX,delete U.scaleY,U.scale=_.scaleX.toJSON()),U},resetCounters:function(U,K){var j=this.counters;j.fill(0),j[0]=U,K&&(j[5]=1)},startFollow:function(U,K,j,_){return K===void 0&&(K=0),j===void 0&&(j=0),_===void 0&&(_=!1),this.follow=U,this.followOffset.set(K,j),this.trackVisible=_,this},stopFollow:function(){return this.follow=null,this.followOffset.set(0,0),this.trackVisible=!1,this},getFrame:function(){var U=this.frames,K=U.length,j;return K===1?j=U[0]:this.randomFrame?j=m(U):(j=U[this.currentFrame],this.frameCounter++,this.frameCounter===this.frameQuantity&&(this.frameCounter=0,this.currentFrame++,this.currentFrame===K&&(this.currentFrame=0))),this.texture.get(j)},setEmitterFrame:function(U,K,j){K===void 0&&(K=!0),j===void 0&&(j=1),this.randomFrame=K,this.frameQuantity=j,this.currentFrame=0;var _=typeof U;if(this.frames.length=0,Array.isArray(U))this.frames=this.frames.concat(U);else if(_==="string"||_==="number")this.frames.push(U);else if(_==="object"){var tt=U;U=p(tt,"frames",null),U&&(this.frames=this.frames.concat(U));var rt=p(tt,"cycle",!1);this.randomFrame=!rt,this.frameQuantity=p(tt,"quantity",j)}return this.frames.length===1&&(this.frameQuantity=1,this.randomFrame=!1),this},getAnim:function(){var U=this.anims,K=U.length;if(K===0)return null;if(K===1)return U[0];if(this.randomAnim)return m(U);var j=U[this.currentAnim];return this.animCounter++,this.animCounter>=this.animQuantity&&(this.animCounter=0,this.currentAnim=J(this.currentAnim+1,0,K)),j},setAnim:function(U,K,j){K===void 0&&(K=!0),j===void 0&&(j=1),this.randomAnim=K,this.animQuantity=j,this.currentAnim=0;var _=typeof U;if(this.anims.length=0,Array.isArray(U))this.anims=this.anims.concat(U);else if(_==="string")this.anims.push(U);else if(_==="object"){var tt=U;U=p(tt,"anims",null),U&&(this.anims=this.anims.concat(U));var rt=p(tt,"cycle",!1);this.randomAnim=!rt,this.animQuantity=p(tt,"quantity",j)}return this.anims.length===1&&(this.animQuantity=1,this.randomAnim=!1),this},setRadial:function(U){return U===void 0&&(U=!0),this.radial=U,this},addParticleBounds:function(U,K,j,_,tt,rt,ot,ft){if(typeof U=="object"){var ct=U;U=ct.x,K=ct.y,j=M(ct,"w")?ct.w:ct.width,_=M(ct,"h")?ct.h:ct.height}return this.addParticleProcessor(new D(U,K,j,_,tt,rt,ot,ft))},setParticleSpeed:function(U,K){return K===void 0&&(K=U),this.ops.speedX.onChange(U),U===K?this.ops.speedY.active=!1:this.ops.speedY.onChange(K),this.radial=!0,this},setParticleScale:function(U,K){return U===void 0&&(U=1),K===void 0&&(K=U),this.ops.scaleX.onChange(U),this.ops.scaleY.onChange(K),this},setParticleGravity:function(U,K){return this.gravityX=U,this.gravityY=K,this},setParticleAlpha:function(U){return this.ops.alpha.onChange(U),this},setParticleTint:function(U){return this.ops.tint.onChange(U),this},setEmitterAngle:function(U){return this.ops.angle.onChange(U),this},setParticleLifespan:function(U){return this.ops.lifespan.onChange(U),this},setQuantity:function(U){return this.quantity=U,this},setFrequency:function(U,K){return this.frequency=U,this.flowCounter=U>0?U:0,K&&(this.quantity=K),this},addDeathZone:function(U){Array.isArray(U)||(U=[U]);for(var K,j=[],_=0;_<U.length;_++)if(K=U[_],K instanceof o)j.push(K);else if(typeof K.contains=="function")K=new o(K,!0),j.push(K);else{var tt=p(K,"type","onEnter"),rt=p(K,"source",null);if(rt&&typeof rt.contains=="function"){var ot=tt==="onEnter";K=new o(rt,ot),j.push(K)}}return this.deathZones=this.deathZones.concat(j),j},removeDeathZone:function(U){return k(this.deathZones,U),this},clearDeathZones:function(){return this.deathZones.length=0,this},addEmitZone:function(U){Array.isArray(U)||(U=[U]);for(var K,j=[],_=0;_<U.length;_++)if(K=U[_],K instanceof G||K instanceof s)j.push(K);else{var tt=p(K,"source",null);if(tt){var rt=p(K,"type","random");if(rt==="random"&&typeof tt.getRandomPoint=="function")K=new G(tt),j.push(K);else if(rt==="edge"&&typeof tt.getPoints=="function"){var ot=p(K,"quantity",1),ft=p(K,"stepRate",0),ct=p(K,"yoyo",!1),gt=p(K,"seamless",!0),yt=p(K,"total",-1);K=new s(tt,ot,ft,ct,gt,yt),j.push(K)}}}return this.emitZones=this.emitZones.concat(j),j},removeEmitZone:function(U){return k(this.emitZones,U),this.zoneIndex=0,this},clearEmitZones:function(){return this.emitZones.length=0,this.zoneIndex=0,this},getEmitZone:function(U){var K=this.emitZones,j=K.length;if(j!==0){var _=K[this.zoneIndex];_.getPoint(U),_.total>-1&&(this.zoneTotal++,this.zoneTotal===_.total&&(this.zoneTotal=0,this.zoneIndex++,this.zoneIndex===j&&(this.zoneIndex=0)))}},getDeathZone:function(U){for(var K=this.deathZones,j=0;j<K.length;j++){var _=K[j];if(_.willKill(U))return this.emit(u.DEATH_ZONE,this,U,_),!0}return!1},setEmitZone:function(U){var K;return isFinite(U)?K=U:K=this.emitZones.indexOf(U),K>=0&&(this.zoneIndex=K),this},addParticleProcessor:function(U){return this.processors.exists(U)||(U.emitter&&U.emitter.removeParticleProcessor(U),this.processors.add(U),U.emitter=this),U},removeParticleProcessor:function(U){return this.processors.exists(U)&&(this.processors.remove(U,!0),U.emitter=null),U},getProcessors:function(){return this.processors.getAll("active",!0)},createGravityWell:function(U){return this.addParticleProcessor(new g(U))},reserve:function(U){var K=this.dead;if(this.maxParticles>0){var j=this.getParticleCount();j+U>this.maxParticles&&(U=this.maxParticles-(j+U))}for(var _=0;_<U;_++)K.push(new this.particleClass(this));return this},getAliveParticleCount:function(){return this.alive.length},getDeadParticleCount:function(){return this.dead.length},getParticleCount:function(){return this.getAliveParticleCount()+this.getDeadParticleCount()},atLimit:function(){return this.maxParticles>0&&this.getParticleCount()>=this.maxParticles?!0:this.maxAliveParticles>0&&this.getAliveParticleCount()>=this.maxAliveParticles},onParticleEmit:function(U,K){return U===void 0?(this.emitCallback=null,this.emitCallbackScope=null):typeof U=="function"&&(this.emitCallback=U,K&&(this.emitCallbackScope=K)),this},onParticleDeath:function(U,K){return U===void 0?(this.deathCallback=null,this.deathCallbackScope=null):typeof U=="function"&&(this.deathCallback=U,K&&(this.deathCallbackScope=K)),this},killAll:function(){for(var U=this.dead,K=this.alive;K.length>0;)U.push(K.pop());return this},forEachAlive:function(U,K){for(var j=this.alive,_=j.length,tt=0;tt<_;tt++)U.call(K,j[tt],this);return this},forEachDead:function(U,K){for(var j=this.dead,_=j.length,tt=0;tt<_;tt++)U.call(K,j[tt],this);return this},start:function(U,K){return U===void 0&&(U=0),this.emitting||(U>0&&this.fastForward(U),this.emitting=!0,this.resetCounters(this.frequency,!0),K!==void 0&&(this.duration=Math.abs(K)),this.emit(u.START,this)),this},stop:function(U){return U===void 0&&(U=!1),this.emitting&&(this.emitting=!1,U&&this.killAll(),this.emit(u.STOP,this)),this},pause:function(){return this.active=!1,this},resume:function(){return this.active=!0,this},setSortProperty:function(U,K){return U===void 0&&(U=""),K===void 0&&(K=this.true),this.sortProperty=U,this.sortOrderAsc=K,this.sortCallback=this.depthSortCallback,this},setSortCallback:function(U){return this.sortProperty!==""?U=this.depthSortCallback:U=null,this.sortCallback=U,this},depthSort:function(){return X(this.alive,this.sortCallback.bind(this)),this},depthSortCallback:function(U,K){var j=this.sortProperty;return this.sortOrderAsc?U[j]-K[j]:K[j]-U[j]},flow:function(U,K,j){return K===void 0&&(K=1),this.emitting=!1,this.frequency=U,this.quantity=K,j!==void 0&&(this.stopAfter=j),this.start()},explode:function(U,K,j){this.frequency=-1,this.resetCounters(-1,!0);var _=this.emitParticle(U,K,j);return this.emit(u.EXPLODE,this,_),_},emitParticleAt:function(U,K,j){return this.emitParticle(j,U,K)},emitParticle:function(U,K,j){if(!this.atLimit()){U===void 0&&(U=this.ops.quantity.onEmit());for(var _=this.dead,tt=this.stopAfter,rt=this.follow?this.follow.x+this.followOffset.x:K,ot=this.follow?this.follow.y+this.followOffset.y:j,ft=0;ft<U;ft++){var ct=_.pop();if(ct||(ct=new this.particleClass(this)),ct.fire(rt,ot)?(this.particleBringToTop?this.alive.push(ct):this.alive.unshift(ct),this.emitCallback&&this.emitCallback.call(this.emitCallbackScope,ct,this)):this.dead.push(ct),tt>0&&(this.stopCounter++,this.stopCounter>=tt)||this.atLimit())break}return ct}},fastForward:function(U,K){K===void 0&&(K=1e3/60);var j=0;for(this.skipping=!0;j<Math.abs(U);)this.preUpdate(0,K),j+=K;return this.skipping=!1,this},preUpdate:function(U,K){K*=this.timeScale;var j=K/1e3;this.trackVisible&&(this.visible=this.follow.visible),this.getWorldTransformMatrix(this.worldMatrix);var _=this.getProcessors(),tt=this.alive,rt=this.dead,ot=0,ft=[],ct=tt.length;for(ot=0;ot<ct;ot++){var gt=tt[ot];gt.update(K,j,_)&&ft.push({index:ot,particle:gt})}if(ct=ft.length,ct>0){var yt=this.deathCallback,Mt=this.deathCallbackScope;for(ot=ct-1;ot>=0;ot--){var Ct=ft[ot];tt.splice(Ct.index,1),rt.push(Ct.particle),yt&&yt.call(Mt,Ct.particle),Ct.particle.setPosition()}}if(!this.emitting&&!this.skipping){this.completeFlag===1&&tt.length===0&&(this.completeFlag=0,this.emit(u.COMPLETE,this));return}if(this.frequency===0)this.emitParticle();else if(this.frequency>0)for(this.flowCounter-=K;this.flowCounter<=0;)this.emitParticle(),this.flowCounter+=this.frequency;this.skipping||(this.duration>0&&(this.elapsed+=K,this.elapsed>=this.duration&&this.stop()),this.stopAfter>0&&this.stopCounter>=this.stopAfter&&this.stop())},overlap:function(U){for(var K=this.getWorldTransformMatrix(),j=this.alive,_=j.length,tt=[],rt=0;rt<_;rt++){var ot=j[rt];I(U,ot.getBounds(K))&&tt.push(ot)}return tt},getBounds:function(U,K,j,_){U===void 0&&(U=0),K===void 0&&(K=0),j===void 0&&(j=1e3/60),_===void 0&&(_=new B);var tt=this.getWorldTransformMatrix(),rt,ot,ft=this.alive,ct=!1;if(_.setTo(0,0,0,0),K>0){var gt=0;for(this.skipping=!0;gt<Math.abs(K);){for(this.preUpdate(0,j),rt=0;rt<ft.length;rt++)ot=ft[rt].getBounds(tt),ct?R(_,ot):(ct=!0,l(ot,_));gt+=j}this.skipping=!1}else for(rt=0;rt<ft.length;rt++)ot=ft[rt].getBounds(tt),ct?R(_,ot):(ct=!0,l(ot,_));return U>0&&b(_,U,U),_},createEmitter:function(){throw new Error("createEmitter removed. See ParticleEmitter docs for info")},particleX:{get:function(){return this.ops.x.current},set:function(U){this.ops.x.onChange(U)}},particleY:{get:function(){return this.ops.y.current},set:function(U){this.ops.y.onChange(U)}},accelerationX:{get:function(){return this.ops.accelerationX.current},set:function(U){this.ops.accelerationX.onChange(U)}},accelerationY:{get:function(){return this.ops.accelerationY.current},set:function(U){this.ops.accelerationY.onChange(U)}},maxVelocityX:{get:function(){return this.ops.maxVelocityX.current},set:function(U){this.ops.maxVelocityX.onChange(U)}},maxVelocityY:{get:function(){return this.ops.maxVelocityY.current},set:function(U){this.ops.maxVelocityY.onChange(U)}},speed:{get:function(){return this.ops.speedX.current},set:function(U){this.ops.speedX.onChange(U),this.ops.speedY.onChange(U)}},speedX:{get:function(){return this.ops.speedX.current},set:function(U){this.ops.speedX.onChange(U)}},speedY:{get:function(){return this.ops.speedY.current},set:function(U){this.ops.speedY.onChange(U)}},moveToX:{get:function(){return this.ops.moveToX.current},set:function(U){this.ops.moveToX.onChange(U)}},moveToY:{get:function(){return this.ops.moveToY.current},set:function(U){this.ops.moveToY.onChange(U)}},bounce:{get:function(){return this.ops.bounce.current},set:function(U){this.ops.bounce.onChange(U)}},particleScaleX:{get:function(){return this.ops.scaleX.current},set:function(U){this.ops.scaleX.onChange(U)}},particleScaleY:{get:function(){return this.ops.scaleY.current},set:function(U){this.ops.scaleY.onChange(U)}},particleColor:{get:function(){return this.ops.color.current},set:function(U){this.ops.color.onChange(U)}},colorEase:{get:function(){return this.ops.color.easeName},set:function(U){this.ops.color.setEase(U)}},particleTint:{get:function(){return this.ops.tint.current},set:function(U){this.ops.tint.onChange(U)}},particleAlpha:{get:function(){return this.ops.alpha.current},set:function(U){this.ops.alpha.onChange(U)}},lifespan:{get:function(){return this.ops.lifespan.current},set:function(U){this.ops.lifespan.onChange(U)}},particleAngle:{get:function(){return this.ops.angle.current},set:function(U){this.ops.angle.onChange(U)}},particleRotate:{get:function(){return this.ops.rotate.current},set:function(U){this.ops.rotate.onChange(U)}},quantity:{get:function(){return this.ops.quantity.current},set:function(U){this.ops.quantity.onChange(U)}},delay:{get:function(){return this.ops.delay.current},set:function(U){this.ops.delay.onChange(U)}},hold:{get:function(){return this.ops.hold.current},set:function(U){this.ops.hold.onChange(U)}},flowCounter:{get:function(){return this.counters[0]},set:function(U){this.counters[0]=U}},frameCounter:{get:function(){return this.counters[1]},set:function(U){this.counters[1]=U}},animCounter:{get:function(){return this.counters[2]},set:function(U){this.counters[2]=U}},elapsed:{get:function(){return this.counters[3]},set:function(U){this.counters[3]=U}},stopCounter:{get:function(){return this.counters[4]},set:function(U){this.counters[4]=U}},completeFlag:{get:function(){return this.counters[5]},set:function(U){this.counters[5]=U}},zoneIndex:{get:function(){return this.counters[6]},set:function(U){this.counters[6]=U}},zoneTotal:{get:function(){return this.counters[7]},set:function(U){this.counters[7]=U}},currentFrame:{get:function(){return this.counters[8]},set:function(U){this.counters[8]=U}},currentAnim:{get:function(){return this.counters[9]},set:function(U){this.counters[9]=U}},preDestroy:function(){this.texture=null,this.frames=null,this.anims=null,this.emitCallback=null,this.emitCallbackScope=null,this.deathCallback=null,this.deathCallbackScope=null,this.emitZones=null,this.deathZones=null,this.bounds=null,this.follow=null,this.counters=null;var U,K=this.ops;for(U=0;U<$.length;U++){var j=$[U];K[j].destroy()}for(U=0;U<this.alive.length;U++)this.alive[U].destroy();for(U=0;U<this.dead.length;U++)this.dead[U].destroy();this.ops=null,this.alive=[],this.dead=[],this.worldMatrix.destroy()}});n.exports=V},9871:(n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=i(59996),x=i(61340),d=new x,l=new x,o=new x,s=new x,f=function(c,u,v,p){var m=d,g=l,C=o,M=s;p?(M.loadIdentity(),M.multiply(p),M.translate(u.x,u.y),M.rotate(u.rotation),M.scale(u.scaleX,u.scaleY)):M.applyITRS(u.x,u.y,u.rotation,u.scaleX,u.scaleY);var b=c.currentContext,w=v.roundPixels,R=v.alpha,A=u.alpha,L=u.alive,D=L.length,G=u.viewBounds;if(!(!u.visible||D===0||G&&!a(G,v.worldView))){u.sortCallback&&u.depthSort(),v.addToRenderList(u);var B=u.scrollFactorX,I=u.scrollFactorY;b.save(),b.globalCompositeOperation=c.blendModes[u.blendMode];for(var k=0;k<D;k++){var z=L[k],X=z.alpha*A*R;if(!(X<=0||z.scaleX===0||z.scaleY===0)){C.applyITRS(z.x,z.y,z.rotation,z.scaleX,z.scaleY),m.copyFrom(v.matrix),m.multiplyWithOffset(M,-v.scrollX*B,-v.scrollY*I),C.e=z.x,C.f=z.y,m.multiply(C,g);var H=z.frame,Q=H.canvasData;if(Q.width>0&&Q.height>0){var J=-H.halfWidth,Y=-H.halfHeight;b.globalAlpha=X,b.save(),g.setToContext(b),w&&(J=Math.round(J),Y=Math.round(Y)),b.imageSmoothingEnabled=!H.source.scaleMode,b.drawImage(H.source.image,Q.x,Q.y,Q.width,Q.height,J,Y,Q.width,Q.height),b.restore()}}}b.restore()}};n.exports=f},92730:(n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=i(25305),x=i(44603),d=i(23568),l=i(95540),o=i(31600);x.register("particles",function(s,f){s===void 0&&(s={});var c=d(s,"key",null),u=l(s,"config",null),v=new o(this.scene,0,0,c);return f!==void 0&&(s.add=f),a(this.scene,v,s),u&&v.setConfig(u),v})},676:(n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=i(39429),x=i(31600);a.register("particles",function(d,l,o,s){return d!==void 0&&typeof d=="string"&&console.warn("ParticleEmitterManager was removed in Phaser 3.60. See documentation for details"),this.displayList.add(new x(this.scene,d,l,o,s))})},90668:(n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=i(29747),x=a,d=a;x=i(21188),d=i(9871),n.exports={renderWebGL:x,renderCanvas:d}},21188:(n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=i(59996),x=i(61340),d=i(70554),l=new x,o=new x,s=new x,f=new x,c=function(u,v,p,m){var g=u.pipelines.set(v.pipeline),C=l,M=o,b=s,w=f;m?(w.loadIdentity(),w.multiply(m),w.translate(v.x,v.y),w.rotate(v.rotation),w.scale(v.scaleX,v.scaleY)):w.applyITRS(v.x,v.y,v.rotation,v.scaleX,v.scaleY);var R=d.getTintAppendFloatAlpha,A=p.alpha,L=v.alpha;u.pipelines.preBatch(v);var D=v.alive,G=D.length,B=v.viewBounds;if(!(G===0||B&&!a(B,p.worldView))){v.sortCallback&&v.depthSort(),p.addToRenderList(v),C.copyFrom(p.matrix),C.multiplyWithOffset(w,-p.scrollX*v.scrollFactorX,-p.scrollY*v.scrollFactorY),u.setBlendMode(v.blendMode),v.mask&&(v.mask.preRenderWebGL(u,v,p),u.pipelines.set(v.pipeline));for(var I=v.tintFill,k,z,X=0;X<G;X++){var H=D[X],Q=H.alpha*L*A;if(!(Q<=0||H.scaleX===0||H.scaleY===0)){b.applyITRS(H.x,H.y,H.rotation,H.scaleX,H.scaleY),b.e=H.x,b.f=H.y,C.multiply(b,M);var J=H.frame;J.glTexture!==z&&(z=J.glTexture,k=g.setGameObject(v,J));var Y=-J.halfWidth,$=-J.halfHeight,V=M.setQuad(Y,$,Y+J.width,$+J.height),U=R(H.tint,Q);g.shouldFlush(6)&&(g.flush(),k=g.setGameObject(v,J)),g.batchQuad(v,V[0],V[1],V[2],V[3],V[4],V[5],V[6],V[7],J.u0,J.v0,J.u1,J.v1,U,U,U,U,I,z,k)}}v.mask&&v.mask.postRenderWebGL(u,p),u.pipelines.postBatch(v)}};n.exports=c},20286:(n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=i(83419),x=new a({initialize:function(l,o,s){l===void 0&&(l=0),o===void 0&&(o=0),s===void 0&&(s=!0),this.emitter,this.x=l,this.y=o,this.active=s},update:function(){},destroy:function(){this.emitter=null}});n.exports=x},9774:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="complete"},812:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="deathzone"},30522:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="explode"},96695:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="start"},18677:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="stop"},20696:(n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports={COMPLETE:i(9774),DEATH_ZONE:i(812),EXPLODE:i(30522),START:i(96695),STOP:i(18677)}},18404:(n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports={EmitterColorOp:i(76472),EmitterOp:i(44777),Events:i(20696),GravityWell:i(24502),Particle:i(56480),ParticleBounds:i(69601),ParticleEmitter:i(31600),ParticleProcessor:i(20286),Zones:i(21024)}},26388:(n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=i(83419),x=new a({initialize:function(l,o){this.source=l,this.killOnEnter=o},willKill:function(d){var l=d.worldPosition,o=this.source.contains(l.x,l.y);return o&&this.killOnEnter||!o&&!this.killOnEnter}});n.exports=x},19909:(n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=i(83419),x=new a({initialize:function(l,o,s,f,c,u){f===void 0&&(f=!1),c===void 0&&(c=!0),u===void 0&&(u=-1),this.source=l,this.points=[],this.quantity=o,this.stepRate=s,this.yoyo=f,this.counter=-1,this.seamless=c,this._length=0,this._direction=0,this.total=u,this.updateSource()},updateSource:function(){if(this.points=this.source.getPoints(this.quantity,this.stepRate),this.seamless){var d=this.points[0],l=this.points[this.points.length-1];d.x===l.x&&d.y===l.y&&this.points.pop()}var o=this._length;return this._length=this.points.length,this._length<o&&this.counter>this._length&&(this.counter=this._length-1),this},changeSource:function(d){return this.source=d,this.updateSource()},getPoint:function(d){this._direction===0?(this.counter++,this.counter>=this._length&&(this.yoyo?(this._direction=1,this.counter=this._length-1):this.counter=0)):(this.counter--,this.counter===-1&&(this.yoyo?(this._direction=0,this.counter=0):this.counter=this._length-1));var l=this.points[this.counter];l&&(d.x=l.x,d.y=l.y)}});n.exports=x},68875:(n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=i(83419),x=i(26099),d=new a({initialize:function(o){this.source=o,this._tempVec=new x,this.total=-1},getPoint:function(l){var o=this._tempVec;this.source.getRandomPoint(o),l.x=o.x,l.y=o.y}});n.exports=d},21024:(n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports={DeathZone:i(26388),EdgeZone:i(19909),RandomZone:i(68875)}},1159:(n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=i(83419),x=i(31401),d=i(68287),l=new a({Extends:d,Mixins:[x.PathFollower],initialize:function(s,f,c,u,v,p){d.call(this,s,c,u,v,p),this.path=f},preUpdate:function(o,s){this.anims.update(o,s),this.pathUpdate(o)}});n.exports=l},90145:(n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=i(39429),x=i(1159);a.register("follower",function(d,l,o,s,f){var c=new x(this.scene,d,l,o,s,f);return this.displayList.add(c),this.updateList.add(c),c})},33663:(n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=i(9674),x=i(83419),d=i(48803),l=i(90664),o=i(4703),s=i(45650),f=new x({Extends:o,initialize:function(u,v,p,m,g,C,M,b){m||(m="__DEFAULT"),o.call(this,u,v,p,m,g),this.type="Plane",this.anims=new a(this),this.gridWidth,this.gridHeight,this.isTiled,this._checkerboard=null,this.hideCCW=!1,this.setGridSize(C,M,b),this.setSizeToFrame(!1),this.setViewHeight()},originX:{get:function(){return .5}},originY:{get:function(){return .5}},setGridSize:function(c,u,v){c===void 0&&(c=8),u===void 0&&(u=8),v===void 0&&(v=!1);var p=!1;return v&&(p=!0),this.gridWidth=c,this.gridHeight=u,this.isTiled=v,this.clear(),d({mesh:this,widthSegments:c,heightSegments:u,isOrtho:!1,tile:v,flipY:p}),this},setSizeToFrame:function(c){c===void 0&&(c=!0);var u=this.frame;if(this.setPerspective(this.width/u.width,this.height/u.height),this._checkerboard&&this._checkerboard!==this.texture&&this.removeCheckerboard(),!c)return this;var v=this.gridWidth,p=this.gridHeight,m=this.vertices,g=u.u0,C=u.u1,M=u.v0,b=u.v1,w,R,A=0;if(this.isTiled)for(M=u.v1,b=u.v0,R=0;R<p;R++)for(w=0;w<v;w++)m[A++].setUVs(g,b),m[A++].setUVs(g,M),m[A++].setUVs(C,b),m[A++].setUVs(g,M),m[A++].setUVs(C,M),m[A++].setUVs(C,b);else{var L=v+1,D=p+1,G=C-g,B=b-M,I=[];for(R=0;R<D;R++)for(w=0;w<L;w++){var k=g+G*(w/v),z=M+B*(R/p);I.push(k,z)}for(R=0;R<p;R++)for(w=0;w<v;w++){var X=(w+L*R)*2,H=(w+L*(R+1))*2,Q=(w+1+L*(R+1))*2,J=(w+1+L*R)*2;m[A++].setUVs(I[X],I[X+1]),m[A++].setUVs(I[H],I[H+1]),m[A++].setUVs(I[J],I[J+1]),m[A++].setUVs(I[H],I[H+1]),m[A++].setUVs(I[Q],I[Q+1]),m[A++].setUVs(I[J],I[J+1])}}return this},setViewHeight:function(c){c===void 0&&(c=this.frame.height);var u=this.fov*(Math.PI/180);this.viewPosition.z=this.height/c/Math.tan(u/2),this.dirtyCache[10]=1},createCheckerboard:function(c,u,v,p,m){c===void 0&&(c=16777215),u===void 0&&(u=255),v===void 0&&(v=255),p===void 0&&(p=255),m===void 0&&(m=128);for(var g=l(c),C=l(u),M=[],b=0;b<16;b++)for(var w=0;w<16;w++)b<8&&w<8||b>7&&w>7?M.push(g.r,g.g,g.b,v):M.push(C.r,C.g,C.b,p);var R=this.scene.sys.textures.addUint8Array(s(),new Uint8Array(M),16,16);return this.removeCheckerboard(),this.setTexture(R),this.setSizeToFrame(),this.setViewHeight(m),this},removeCheckerboard:function(){this._checkerboard&&(this._checkerboard.destroy(),this._checkerboard=null)},play:function(c,u){return this.anims.play(c,u)},playReverse:function(c,u){return this.anims.playReverse(c,u)},playAfterDelay:function(c,u){return this.anims.playAfterDelay(c,u)},playAfterRepeat:function(c,u){return this.anims.playAfterRepeat(c,u)},stop:function(){return this.anims.stop()},stopAfterDelay:function(c){return this.anims.stopAfterDelay(c)},stopAfterRepeat:function(c){return this.anims.stopAfterRepeat(c)},stopOnFrame:function(c){return this.anims.stopOnFrame(c)},preUpdate:function(c,u){o.prototype.preUpdate.call(this,c,u),this.anims.update(c,u)},preDestroy:function(){this.clear(),this.removeCheckerboard(),this.anims.destroy(),this.anims=void 0,this.debugCallback=null,this.debugGraphic=null}});n.exports=f},56015:(n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=i(25305),x=i(13059),d=i(44603),l=i(23568),o=i(35154),s=i(33663);d.register("plane",function(f,c){f===void 0&&(f={});var u=l(f,"key",null),v=l(f,"frame",null),p=o(f,"width",8),m=o(f,"height",8),g=o(f,"tile",!1),C=new s(this.scene,0,0,u,v,p,m,g);c!==void 0&&(f.add=c);var M=o(f,"checkerboard",null);if(M){var b=o(M,"color1",16777215),w=o(M,"color2",255),R=o(M,"alpha1",255),A=o(M,"alpha2",255),L=o(M,"height",128);C.createCheckerboard(b,w,R,A,L)}return a(this.scene,C,f),x(C,f),C})},30985:(n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=i(33663),x=i(39429);x.register("plane",function(d,l,o,s,f,c,u){return this.displayList.add(new a(this.scene,d,l,o,s,f,c,u))})},80321:(n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=i(83419),x=i(31401),d=i(95643),l=i(30100),o=i(36060),s=i(67277),f=new a({Extends:d,Mixins:[x.AlphaSingle,x.BlendMode,x.Depth,x.Mask,x.Pipeline,x.PostPipeline,x.ScrollFactor,x.Transform,x.Visible,s],initialize:function(u,v,p,m,g,C,M){m===void 0&&(m=16777215),g===void 0&&(g=128),C===void 0&&(C=1),M===void 0&&(M=.1),d.call(this,u,"PointLight"),this.initPipeline(o.POINTLIGHT_PIPELINE),this.initPostPipeline(),this.setPosition(v,p),this.color=l(m),this.intensity=C,this.attenuation=M,this.width=g*2,this.height=g*2,this._radius=g},radius:{get:function(){return this._radius},set:function(c){this._radius=c,this.width=c*2,this.height=c*2}},originX:{get:function(){return .5}},originY:{get:function(){return .5}},displayOriginX:{get:function(){return this._radius}},displayOriginY:{get:function(){return this._radius}}});n.exports=f},39829:(n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=i(25305),x=i(44603),d=i(23568),l=i(80321);x.register("pointlight",function(o,s){o===void 0&&(o={});var f=d(o,"color",16777215),c=d(o,"radius",128),u=d(o,"intensity",1),v=d(o,"attenuation",.1),p=new l(this.scene,0,0,f,c,u,v);return s!==void 0&&(o.add=s),a(this.scene,p,o),p})},71255:(n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=i(39429),x=i(80321);a.register("pointlight",function(d,l,o,s,f,c){return this.displayList.add(new x(this.scene,d,l,o,s,f,c))})},67277:(n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=i(29747),x=a,d=a;x=i(57787),n.exports={renderWebGL:x,renderCanvas:d}},57787:(n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=i(91296),x=function(d,l,o,s){o.addToRenderList(l);var f=d.pipelines.set(l.pipeline),c=a(l,o,s).calc,u=l.width,v=l.height,p=-l._radius,m=-l._radius,g=p+u,C=m+v,M=c.getX(0,0),b=c.getY(0,0),w=c.getX(p,m),R=c.getY(p,m),A=c.getX(p,C),L=c.getY(p,C),D=c.getX(g,C),G=c.getY(g,C),B=c.getX(g,m),I=c.getY(g,m);d.pipelines.preBatch(l),f.batchPointLight(l,o,w,R,A,L,D,G,B,I,M,b),d.pipelines.postBatch(l)};n.exports=x},591:(n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=i(83419),x=i(81320),d=i(88571),l=new a({Extends:d,initialize:function(s,f,c,u,v,p){f===void 0&&(f=0),c===void 0&&(c=0),u===void 0&&(u=32),v===void 0&&(v=32),p===void 0&&(p=!0);var m=new x(s.sys.textures,"",u,v,p);d.call(this,s,f,c,m),this.type="RenderTexture",this.camera=this.texture.camera,this._saved=!1},setSize:function(o,s){this.width=o,this.height=s,this.updateDisplayOrigin();var f=this.input;return f&&!f.customHitArea&&(f.hitArea.width=o,f.hitArea.height=s),this},resize:function(o,s,f){return this.texture.setSize(o,s,f),this.setSize(this.texture.width,this.texture.height),this},saveTexture:function(o){var s=this.texture;return s.key=o,s.manager.addDynamicTexture(s)&&(this._saved=!0),s},fill:function(o,s,f,c,u,v){return this.texture.fill(o,s,f,c,u,v),this},clear:function(){return this.texture.clear(),this},stamp:function(o,s,f,c,u){return this.texture.stamp(o,s,f,c,u),this},erase:function(o,s,f){return this.texture.erase(o,s,f),this},draw:function(o,s,f,c,u){return this.texture.draw(o,s,f,c,u),this},drawFrame:function(o,s,f,c,u,v){return this.texture.drawFrame(o,s,f,c,u,v),this},repeat:function(o,s,f,c,u,v,p,m,g){return this.texture.repeat(o,s,f,c,u,v,p,m,g),this},beginDraw:function(){return this.texture.beginDraw(),this},batchDraw:function(o,s,f,c,u){return this.texture.batchDraw(o,s,f,c,u),this},batchDrawFrame:function(o,s,f,c,u,v){return this.texture.batchDrawFrame(o,s,f,c,u,v),this},endDraw:function(o){return this.texture.endDraw(o),this},snapshotArea:function(o,s,f,c,u,v,p){return this.texture.snapshotArea(o,s,f,c,u,v,p),this},snapshot:function(o,s,f){return this.snapshotArea(0,0,this.width,this.height,o,s,f)},snapshotPixel:function(o,s,f){return this.snapshotArea(o,s,1,1,f,"pixel")},preDestroy:function(){this.camera=null,this._saved||this.texture.destroy()}});n.exports=l},34495:(n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=i(25305),x=i(44603),d=i(23568),l=i(591);x.register("renderTexture",function(o,s){o===void 0&&(o={});var f=d(o,"x",0),c=d(o,"y",0),u=d(o,"width",32),v=d(o,"height",32),p=new l(this.scene,f,c,u,v);return s!==void 0&&(o.add=s),a(this.scene,p,o),p})},60505:(n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=i(39429),x=i(591);a.register("renderTexture",function(d,l,o,s){return this.displayList.add(new x(this.scene,d,l,o,s))})},77757:(n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=i(9674),x=i(83419),d=i(31401),l=i(95643),o=i(36060),s=i(38745),f=i(26099),c=new x({Extends:l,Mixins:[d.AlphaSingle,d.BlendMode,d.Depth,d.Flip,d.Mask,d.Pipeline,d.PostPipeline,d.Size,d.Texture,d.Transform,d.Visible,d.ScrollFactor,s],initialize:function(v,p,m,g,C,M,b,w,R){g===void 0&&(g="__DEFAULT"),M===void 0&&(M=2),b===void 0&&(b=!0),l.call(this,v,"Rope"),this.anims=new a(this),this.points=M,this.vertices,this.uv,this.colors,this.alphas,this.tintFill=g==="__DEFAULT",this.dirty=!1,this.horizontal=b,this._flipX=!1,this._flipY=!1,this._perp=new f,this.debugCallback=null,this.debugGraphic=null,this.setTexture(g,C),this.setPosition(p,m),this.setSizeToFrame(),this.initPipeline(o.ROPE_PIPELINE),this.initPostPipeline(),Array.isArray(M)&&this.resizeArrays(M.length),this.setPoints(M,w,R),this.updateVertices()},addedToScene:function(){this.scene.sys.updateList.add(this)},removedFromScene:function(){this.scene.sys.updateList.remove(this)},preUpdate:function(u,v){var p=this.anims.currentFrame;this.anims.update(u,v),this.anims.currentFrame!==p&&(this.updateUVs(),this.updateVertices())},play:function(u,v,p){return this.anims.play(u,v,p),this},setDirty:function(){return this.dirty=!0,this},setHorizontal:function(u,v,p){return u===void 0&&(u=this.points.length),this.horizontal?this:(this.horizontal=!0,this.setPoints(u,v,p))},setVertical:function(u,v,p){return u===void 0&&(u=this.points.length),this.horizontal?(this.horizontal=!1,this.setPoints(u,v,p)):this},setTintFill:function(u){return u===void 0&&(u=!1),this.tintFill=u,this},setAlphas:function(u,v){var p=this.points.length;if(p<1)return this;var m=this.alphas;u===void 0?u=[1]:!Array.isArray(u)&&v===void 0&&(u=[u]);var g,C=0;if(v!==void 0)for(g=0;g<p;g++)C=g*2,m[C]=u,m[C+1]=v;else if(u.length===p)for(g=0;g<p;g++)C=g*2,m[C]=u[g],m[C+1]=u[g];else{var M=u[0];for(g=0;g<p;g++)C=g*2,u.length>C&&(M=u[C]),m[C]=M,u.length>C+1&&(M=u[C+1]),m[C+1]=M}return this},setColors:function(u){var v=this.points.length;if(v<1)return this;var p=this.colors;u===void 0?u=[16777215]:Array.isArray(u)||(u=[u]);var m,g=0;if(u.length===v)for(m=0;m<v;m++)g=m*2,p[g]=u[m],p[g+1]=u[m];else{var C=u[0];for(m=0;m<v;m++)g=m*2,u.length>g&&(C=u[g]),p[g]=C,u.length>g+1&&(C=u[g+1]),p[g+1]=C}return this},setPoints:function(u,v,p){if(u===void 0&&(u=2),typeof u=="number"){var m=u;m<2&&(m=2),u=[];var g,C,M;if(this.horizontal)for(M=-this.frame.halfWidth,C=this.frame.width/(m-1),g=0;g<m;g++)u.push({x:M+g*C,y:0});else for(M=-this.frame.halfHeight,C=this.frame.height/(m-1),g=0;g<m;g++)u.push({x:0,y:M+g*C})}var b=u.length,w=this.points.length;return b<1?(console.warn("Rope: Not enough points given"),this):(b===1&&(u.unshift({x:0,y:0}),b++),w!==b&&this.resizeArrays(b),this.dirty=!0,this.points=u,this.updateUVs(),v!=null&&this.setColors(v),p!=null&&this.setAlphas(p),this)},updateUVs:function(){for(var u=this.uv,v=this.points.length,p=this.frame.u0,m=this.frame.v0,g=this.frame.u1,C=this.frame.v1,M=(g-p)/(v-1),b=(C-m)/(v-1),w=0;w<v;w++){var R=w*4,A,L,D,G;this.horizontal?(this._flipX?(A=g-w*M,D=g-w*M):(A=p+w*M,D=p+w*M),this._flipY?(L=C,G=m):(L=m,G=C)):(this._flipX?(A=p,D=g):(A=g,D=p),this._flipY?(L=C-w*b,G=C-w*b):(L=m+w*b,G=m+w*b)),u[R+0]=A,u[R+1]=L,u[R+2]=D,u[R+3]=G}return this},resizeArrays:function(u){var v=this.colors,p=this.alphas;this.vertices=new Float32Array(u*4),this.uv=new Float32Array(u*4),v=new Uint32Array(u*2),p=new Float32Array(u*2);for(var m=0;m<u*2;m++)v[m]=16777215,p[m]=1;return this.colors=v,this.alphas=p,this.dirty=!0,this},updateVertices:function(){var u=this._perp,v=this.points,p=this.vertices,m=v.length;if(this.dirty=!1,!(m<1)){for(var g,C=v[0],M=this.horizontal?this.frame.halfHeight:this.frame.halfWidth,b=0;b<m;b++){var w=v[b],R=b*4;b<m-1?g=v[b+1]:g=w,u.x=g.y-C.y,u.y=-(g.x-C.x);var A=u.length();u.x/=A,u.y/=A,u.x*=M,u.y*=M,p[R]=w.x+u.x,p[R+1]=w.y+u.y,p[R+2]=w.x-u.x,p[R+3]=w.y-u.y,C=w}return this}},setDebug:function(u,v){return this.debugGraphic=u,!u&&!v?this.debugCallback=null:v?this.debugCallback=v:this.debugCallback=this.renderDebugVerts,this},renderDebugVerts:function(u,v,p){var m=u.debugGraphic,g=p[0],C=p[1],M=p[2],b=p[3];m.lineBetween(g,C,M,b);for(var w=4;w<v;w+=4){var R=p[w+0],A=p[w+1],L=p[w+2],D=p[w+3];m.lineBetween(g,C,R,A),m.lineBetween(M,b,L,D),m.lineBetween(M,b,R,A),m.lineBetween(R,A,L,D),g=R,C=A,M=L,b=D}},preDestroy:function(){this.anims.destroy(),this.anims=void 0,this.points=null,this.vertices=null,this.uv=null,this.colors=null,this.alphas=null,this.debugCallback=null,this.debugGraphic=null},flipX:{get:function(){return this._flipX},set:function(u){return this._flipX=u,this.updateUVs()}},flipY:{get:function(){return this._flipY},set:function(u){return this._flipY=u,this.updateUVs()}}});n.exports=c},95262:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(){};n.exports=T},26209:(n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=i(25305),x=i(44603),d=i(23568),l=i(35154),o=i(77757);x.register("rope",function(s,f){s===void 0&&(s={});var c=d(s,"key",null),u=d(s,"frame",null),v=d(s,"horizontal",!0),p=l(s,"points",void 0),m=l(s,"colors",void 0),g=l(s,"alphas",void 0),C=new o(this.scene,0,0,c,u,p,v,m,g);return f!==void 0&&(s.add=f),a(this.scene,C,s),C})},96819:(n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=i(77757),x=i(39429);x.register("rope",function(d,l,o,s,f,c,u,v){return this.displayList.add(new a(this.scene,d,l,o,s,f,c,u,v))})},38745:(n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=i(29747),x=a,d=a;x=i(20439),d=i(95262),n.exports={renderWebGL:x,renderCanvas:d}},20439:(n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=i(91296),x=i(70554),d=function(l,o,s,f){s.addToRenderList(o);var c=l.pipelines.set(o.pipeline,o),u=a(o,s,f).calc,v=o.vertices,p=o.uv,m=o.colors,g=o.alphas,C=o.alpha,M=x.getTintAppendFloatAlpha,b=s.roundPixels,w=v.length,R=Math.floor(w*.5);c.flush(),l.pipelines.preBatch(o);var A=c.setGameObject(o),L=c.vertexViewF32,D=c.vertexViewU32,G=c.vertexCount*c.currentShader.vertexComponentCount-1,B=0,I=o.tintFill;o.dirty&&o.updateVertices();for(var k=o.debugCallback,z=[],X=0;X<w;X+=2){var H=v[X+0],Q=v[X+1],J=H*u.a+Q*u.c+u.e,Y=H*u.b+Q*u.d+u.f;b&&(J=Math.round(J),Y=Math.round(Y)),L[++G]=J,L[++G]=Y,L[++G]=p[X+0],L[++G]=p[X+1],L[++G]=A,L[++G]=I,D[++G]=M(m[B],s.alpha*(g[B]*C)),B++,k&&(z[X+0]=J,z[X+1]=Y)}k&&k.call(o,o,w,z),c.vertexCount+=R,c.currentBatch.count=c.vertexCount-c.currentBatch.start,l.pipelines.postBatch(o)};n.exports=d},20071:(n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=i(83419),x=i(31401),d=i(95643),l=i(95540),o=i(79291),s=i(61622),f=i(25479),c=i(61340),u=i(95428),v=i(92503),p=new a({Extends:d,Mixins:[x.ComputedSize,x.Depth,x.GetBounds,x.Mask,x.Origin,x.ScrollFactor,x.Transform,x.Visible,f],initialize:function(g,C,M,b,w,R,A,L){M===void 0&&(M=0),b===void 0&&(b=0),w===void 0&&(w=128),R===void 0&&(R=128),d.call(this,g,"Shader"),this.blendMode=-1,this.shader;var D=g.sys.renderer;this.renderer=D,this.gl=D.gl,this.vertexData=new ArrayBuffer(6*(Float32Array.BYTES_PER_ELEMENT*2)),this.vertexBuffer=D.createVertexBuffer(this.vertexData.byteLength,this.gl.STREAM_DRAW),this._deferSetShader=null,this._deferProjOrtho=null,this.program=null,this.bytes=new Uint8Array(this.vertexData),this.vertexViewF32=new Float32Array(this.vertexData),this._tempMatrix1=new c,this._tempMatrix2=new c,this._tempMatrix3=new c,this.viewMatrix=new Float32Array([1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1]),this.projectionMatrix=new Float32Array([1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1]),this.uniforms={},this.pointer=null,this._rendererWidth=D.width,this._rendererHeight=D.height,this._textureCount=0,this.framebuffer=null,this.glTexture=null,this.renderToTexture=!1,this.texture=null,this.setPosition(M,b),this.setSize(w,R),this.setOrigin(.5,.5),this.setShader(C,A,L),this.renderer.on(v.RESTORE_WEBGL,this.onContextRestored,this)},willRender:function(m){return this.renderToTexture?!0:!(d.RENDER_MASK!==this.renderFlags||this.cameraFilter!==0&&this.cameraFilter&m.id)},setRenderToTexture:function(m,g){if(!this.renderToTexture){var C=this.width,M=this.height,b=this.renderer;this.glTexture=b.createTextureFromSource(null,C,M,0),this.framebuffer=b.createFramebuffer(C,M,this.glTexture,!1),this._rendererWidth=C,this._rendererHeight=M,this.renderToTexture=!0,this.projOrtho(0,this.width,this.height,0),m&&(this.texture=this.scene.sys.textures.addGLTexture(m,this.glTexture))}return this.shader&&(b.pipelines.clear(),this.load(),this.flush(),b.pipelines.rebind()),this},setShader:function(m,g,C){if(this.renderer.contextLost)return this._deferSetShader={key:m,textures:g,textureData:C},this;if(g===void 0&&(g=[]),typeof m=="string"){var M=this.scene.sys.cache.shader;if(!M.has(m))return console.warn("Shader missing: "+m),this;this.shader=M.get(m)}else this.shader=m;var b=this.gl,w=this.renderer;this.program&&w.deleteProgram(this.program);var R=w.createProgram(this.shader.vertexSrc,this.shader.fragmentSrc);b.uniformMatrix4fv(b.getUniformLocation(R.webGLProgram,"uViewMatrix"),!1,this.viewMatrix),b.uniformMatrix4fv(b.getUniformLocation(R.webGLProgram,"uProjectionMatrix"),!1,this.projectionMatrix),b.uniform2f(b.getUniformLocation(R.webGLProgram,"uResolution"),this.width,this.height),this.program=R;var A=new Date,L={resolution:{type:"2f",value:{x:this.width,y:this.height}},time:{type:"1f",value:0},mouse:{type:"2f",value:{x:this.width/2,y:this.height/2}},date:{type:"4fv",value:[A.getFullYear(),A.getMonth(),A.getDate(),A.getHours()*60*60+A.getMinutes()*60+A.getSeconds()]},sampleRate:{type:"1f",value:44100},iChannel0:{type:"sampler2D",value:null,textureData:{repeat:!0}},iChannel1:{type:"sampler2D",value:null,textureData:{repeat:!0}},iChannel2:{type:"sampler2D",value:null,textureData:{repeat:!0}},iChannel3:{type:"sampler2D",value:null,textureData:{repeat:!0}}};this.shader.uniforms?this.uniforms=o(!0,{},this.shader.uniforms,L):this.uniforms=L;for(var D=0;D<4;D++)g[D]&&this.setSampler2D("iChannel"+D,g[D],D,C);return this.initUniforms(),this.projOrtho(0,this._rendererWidth,this._rendererHeight,0),this},setPointer:function(m){return this.pointer=m,this},projOrtho:function(m,g,C,M){if(this.renderer.contextLost){this._deferProjOrtho={left:m,right:g,bottom:C,top:M};return}var b=-1e3,w=1e3,R=1/(m-g),A=1/(C-M),L=1/(b-w),D=this.projectionMatrix;D[0]=-2*R,D[5]=-2*A,D[10]=2*L,D[12]=(m+g)*R,D[13]=(M+C)*A,D[14]=(w+b)*L;var G=this.program,B=this.gl,I=this.renderer;I.setProgram(G),B.uniformMatrix4fv(B.getUniformLocation(G.webGLProgram,"uProjectionMatrix"),!1,this.projectionMatrix),this._rendererWidth=g,this._rendererHeight=C},initUniforms:function(){var m=this.renderer.glFuncMap,g=this.program;this._textureCount=0;for(var C in this.uniforms){var M=this.uniforms[C],b=M.type,w=m[b];M.uniformLocation=this.renderer.createUniformLocation(g,C),b!=="sampler2D"&&(M.glMatrix=w.matrix,M.glValueLength=w.length,M.glFunc=w.func)}},setSampler2DBuffer:function(m,g,C,M,b,w){b===void 0&&(b=0),w===void 0&&(w={});var R=this.uniforms[m];return R.value=g,w.width=C,w.height=M,R.textureData=w,this._textureCount=b,this.initSampler2D(R),this},setSampler2D:function(m,g,C,M){C===void 0&&(C=0);var b=this.scene.sys.textures;if(b.exists(g)){var w=b.getFrame(g);if(w.glTexture&&w.glTexture.isRenderTexture)return this.setSampler2DBuffer(m,w.glTexture,w.width,w.height,C,M);var R=this.uniforms[m],A=w.source;R.textureKey=g,R.source=A.image,R.value=w.glTexture,A.isGLTexture&&(M||(M={}),M.width=A.width,M.height=A.height),M&&(R.textureData=M),this._textureCount=C,this.initSampler2D(R)}return this},setUniform:function(m,g){return s(this.uniforms,m,g),this},getUniform:function(m){return l(this.uniforms,m,null)},setChannel0:function(m,g){return this.setSampler2D("iChannel0",m,0,g)},setChannel1:function(m,g){return this.setSampler2D("iChannel1",m,1,g)},setChannel2:function(m,g){return this.setSampler2D("iChannel2",m,2,g)},setChannel3:function(m,g){return this.setSampler2D("iChannel3",m,3,g)},initSampler2D:function(m){if(m.value){var g=m.textureData;if(g&&!m.value.isRenderTexture){var C=this.gl,M=m.value,b=C[l(g,"magFilter","linear").toUpperCase()],w=C[l(g,"minFilter","linear").toUpperCase()],R=C[l(g,"wrapS","repeat").toUpperCase()],A=C[l(g,"wrapT","repeat").toUpperCase()],L=C[l(g,"format","rgba").toUpperCase()],D=l(g,"flipY",!1),G=l(g,"width",M.width),B=l(g,"height",M.height),I=l(g,"source",M.pixels);g.repeat&&(R=C.REPEAT,A=C.REPEAT),g.width&&(I=null),M.update(I,G,B,D,R,A,w,b,L)}this.renderer.setProgram(this.program),this._textureCount++}},syncUniforms:function(){var m=this.gl,g=this.uniforms,C,M,b,w,R,A=0;for(var L in g)C=g[L],b=C.glFunc,M=C.glValueLength,w=C.uniformLocation,R=C.value,R!==null&&(M===1?C.glMatrix?b.call(m,w.webGLUniformLocation,C.transpose,R):b.call(m,w.webGLUniformLocation,R):M===2?b.call(m,w.webGLUniformLocation,R.x,R.y):M===3?b.call(m,w.webGLUniformLocation,R.x,R.y,R.z):M===4?b.call(m,w.webGLUniformLocation,R.x,R.y,R.z,R.w):C.type==="sampler2D"&&(m.activeTexture(m.TEXTURE0+A),m.bindTexture(m.TEXTURE_2D,R.webGLTexture),m.uniform1i(w.webGLUniformLocation,A),A++))},load:function(m){var g=this.gl,C=this.width,M=this.height,b=this.renderer,w=this.program,R=this.viewMatrix;if(!this.renderToTexture){var A=-this._displayOriginX,L=-this._displayOriginY;R[0]=m[0],R[1]=m[1],R[4]=m[2],R[5]=m[3],R[8]=m[4],R[9]=m[5],R[12]=R[0]*A+R[4]*L,R[13]=R[1]*A+R[5]*L}g.useProgram(w.webGLProgram),g.uniformMatrix4fv(g.getUniformLocation(w.webGLProgram,"uViewMatrix"),!1,R),g.uniformMatrix4fv(g.getUniformLocation(w.webGLProgram,"uProjectionMatrix"),!1,this.projectionMatrix),g.uniform2f(g.getUniformLocation(w.webGLProgram,"uResolution"),this.width,this.height);var D=this.uniforms,G=D.resolution;G.value.x=C,G.value.y=M,D.time.value=b.game.loop.getDuration();var B=this.pointer;if(B){var I=D.mouse,k=B.x/C,z=1-B.y/M;I.value.x=k.toFixed(2),I.value.y=z.toFixed(2)}this.syncUniforms()},flush:function(){var m=this.width,g=this.height,C=this.program,M=this.gl,b=this.vertexBuffer,w=this.renderer,R=Float32Array.BYTES_PER_ELEMENT*2;this.renderToTexture&&(w.setFramebuffer(this.framebuffer),M.clearColor(0,0,0,0),M.clear(M.COLOR_BUFFER_BIT)),M.bindBuffer(M.ARRAY_BUFFER,b.webGLBuffer);var A=M.getAttribLocation(C.webGLProgram,"inPosition");A!==-1&&(M.enableVertexAttribArray(A),M.vertexAttribPointer(A,2,M.FLOAT,!1,R,0));var L=this.vertexViewF32;L[3]=g,L[4]=m,L[5]=g,L[8]=m,L[9]=g,L[10]=m;var D=6;M.bufferSubData(M.ARRAY_BUFFER,0,this.bytes.subarray(0,D*R)),M.drawArrays(M.TRIANGLES,0,D),this.renderToTexture&&w.setFramebuffer(null,!1)},setAlpha:function(){},setBlendMode:function(){},onContextRestored:function(){if(this._deferSetShader!==null){var m=this._deferSetShader.key,g=this._deferSetShader.textures,C=this._deferSetShader.textureData;this._deferSetShader=null,this.setShader(m,g,C)}if(this._deferProjOrtho!==null){var M=this._deferProjOrtho.left,b=this._deferProjOrtho.right,w=this._deferProjOrtho.bottom,R=this._deferProjOrtho.top;this._deferProjOrtho=null,this.projOrtho(M,b,w,R)}},preDestroy:function(){var m=this.renderer;m.off(v.RESTORE_WEBGL,this.onContextRestored,this),m.deleteProgram(this.program),m.deleteBuffer(this.vertexBuffer),this.renderToTexture&&(m.deleteFramebuffer(this.framebuffer),this.texture.destroy(),this.framebuffer=null,this.glTexture=null,this.texture=null),u(this.uniforms,function(g){m.deleteUniformLocation(g.uniformLocation),g.uniformLocation=null})}});n.exports=p},80464:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(){};n.exports=T},54935:(n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=i(25305),x=i(44603),d=i(23568),l=i(20071);x.register("shader",function(o,s){o===void 0&&(o={});var f=d(o,"key",null),c=d(o,"x",0),u=d(o,"y",0),v=d(o,"width",128),p=d(o,"height",128),m=new l(this.scene,f,c,u,v,p);return s!==void 0&&(o.add=s),a(this.scene,m,o),m})},74177:(n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=i(20071),x=i(39429);x.register("shader",function(d,l,o,s,f,c,u){return this.displayList.add(new a(this.scene,d,l,o,s,f,c,u))})},25479:(n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=i(29747),x=a,d=a;x=i(19257),d=i(80464),n.exports={renderWebGL:x,renderCanvas:d}},19257:(n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=i(91296),x=function(d,l,o,s){if(l.shader){if(o.addToRenderList(l),d.pipelines.clear(),l.renderToTexture)l.load(),l.flush();else{var f=a(l,o,s).calc;(d.width!==l._rendererWidth||d.height!==l._rendererHeight)&&l.projOrtho(0,d.width,d.height,0),l.load(f.matrix),l.flush()}d.pipelines.rebind()}};n.exports=x},10441:(n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=i(70554),x=function(d,l,o,s,f,c){for(var u=a.getTintAppendFloatAlpha(o.fillColor,o.fillAlpha*s),v=o.pathData,p=o.pathIndexes,m=0;m<p.length;m+=3){var g=p[m]*2,C=p[m+1]*2,M=p[m+2]*2,b=v[g+0]-f,w=v[g+1]-c,R=v[C+0]-f,A=v[C+1]-c,L=v[M+0]-f,D=v[M+1]-c,G=l.getX(b,w),B=l.getY(b,w),I=l.getX(R,A),k=l.getY(R,A),z=l.getX(L,D),X=l.getY(L,D);d.batchTri(o,G,B,I,k,z,X,0,0,1,1,u,u,u,2)}};n.exports=x},65960:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(i,a,x,d){var l=x||a.fillColor,o=d||a.fillAlpha,s=(l&16711680)>>>16,f=(l&65280)>>>8,c=l&255;i.fillStyle="rgba("+s+","+f+","+c+","+o+")"};n.exports=T},75177:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(i,a,x,d){var l=x||a.strokeColor,o=d||a.strokeAlpha,s=(l&16711680)>>>16,f=(l&65280)>>>8,c=l&255;i.strokeStyle="rgba("+s+","+f+","+c+","+o+")",i.lineWidth=a.lineWidth};n.exports=T},17803:(n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=i(83419),x=i(31401),d=i(95643),l=i(23031),o=new a({Extends:d,Mixins:[x.AlphaSingle,x.BlendMode,x.Depth,x.GetBounds,x.Mask,x.Origin,x.Pipeline,x.PostPipeline,x.ScrollFactor,x.Transform,x.Visible],initialize:function(f,c,u){c===void 0&&(c="Shape"),d.call(this,f,c),this.geom=u,this.pathData=[],this.pathIndexes=[],this.fillColor=16777215,this.fillAlpha=1,this.strokeColor=16777215,this.strokeAlpha=1,this.lineWidth=1,this.isFilled=!1,this.isStroked=!1,this.closePath=!0,this._tempLine=new l,this.width=0,this.height=0,this.initPipeline(),this.initPostPipeline()},setFillStyle:function(s,f){return f===void 0&&(f=1),s===void 0?this.isFilled=!1:(this.fillColor=s,this.fillAlpha=f,this.isFilled=!0),this},setStrokeStyle:function(s,f,c){return c===void 0&&(c=1),s===void 0?this.isStroked=!1:(this.lineWidth=s,this.strokeColor=f,this.strokeAlpha=c,this.isStroked=!0),this},setClosePath:function(s){return this.closePath=s,this},setSize:function(s,f){return this.width=s,this.height=f,this},setDisplaySize:function(s,f){return this.displayWidth=s,this.displayHeight=f,this},preDestroy:function(){this.geom=null,this._tempLine=null,this.pathData=[],this.pathIndexes=[]},displayWidth:{get:function(){return this.scaleX*this.width},set:function(s){this.scaleX=s/this.width}},displayHeight:{get:function(){return this.scaleY*this.height},set:function(s){this.scaleY=s/this.height}}});n.exports=o},34682:(n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=i(70554),x=function(d,l,o,s,f){var c=d.strokeTint,u=a.getTintAppendFloatAlpha(l.strokeColor,l.strokeAlpha*o);c.TL=u,c.TR=u,c.BL=u,c.BR=u;var v=l.pathData,p=v.length-1,m=l.lineWidth,g=m/2,C=v[0]-s,M=v[1]-f;l.closePath||(p-=2);for(var b=2;b<p;b+=2){var w=v[b]-s,R=v[b+1]-f;d.batchLine(C,M,w,R,g,g,m,b-2,l.closePath?b===p-1:!1),C=w,M=R}};n.exports=x},23629:(n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=i(13609),x=i(83419),d=i(39506),l=i(94811),o=i(96503),s=i(36383),f=i(17803),c=new x({Extends:f,Mixins:[a],initialize:function(v,p,m,g,C,M,b,w,R){p===void 0&&(p=0),m===void 0&&(m=0),g===void 0&&(g=128),C===void 0&&(C=0),M===void 0&&(M=360),b===void 0&&(b=!1),f.call(this,v,"Arc",new o(0,0,g)),this._startAngle=C,this._endAngle=M,this._anticlockwise=b,this._iterations=.01,this.setPosition(p,m);var A=this.geom.radius*2;this.setSize(A,A),w!==void 0&&this.setFillStyle(w,R),this.updateDisplayOrigin(),this.updateData()},iterations:{get:function(){return this._iterations},set:function(u){this._iterations=u,this.updateData()}},radius:{get:function(){return this.geom.radius},set:function(u){this.geom.radius=u;var v=u*2;this.setSize(v,v),this.updateDisplayOrigin(),this.updateData()}},startAngle:{get:function(){return this._startAngle},set:function(u){this._startAngle=u,this.updateData()}},endAngle:{get:function(){return this._endAngle},set:function(u){this._endAngle=u,this.updateData()}},anticlockwise:{get:function(){return this._anticlockwise},set:function(u){this._anticlockwise=u,this.updateData()}},setRadius:function(u){return this.radius=u,this},setIterations:function(u){return u===void 0&&(u=.01),this.iterations=u,this},setStartAngle:function(u,v){return this._startAngle=u,v!==void 0&&(this._anticlockwise=v),this.updateData()},setEndAngle:function(u,v){return this._endAngle=u,v!==void 0&&(this._anticlockwise=v),this.updateData()},updateData:function(){var u=this._iterations,v=u,p=this.geom.radius,m=d(this._startAngle),g=d(this._endAngle),C=this._anticlockwise,M=p,b=p;g-=m,C?g<-s.PI2?g=-s.PI2:g>0&&(g=-s.PI2+g%s.PI2):g>s.PI2?g=s.PI2:g<0&&(g=s.PI2+g%s.PI2);for(var w=[M+Math.cos(m)*p,b+Math.sin(m)*p],R;v<1;)R=g*v+m,w.push(M+Math.cos(R)*p,b+Math.sin(R)*p),v+=u;return R=g+m,w.push(M+Math.cos(R)*p,b+Math.sin(R)*p),w.push(M+Math.cos(m)*p,b+Math.sin(m)*p),this.pathIndexes=l(w),this.pathData=w,this}});n.exports=c},42542:(n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=i(39506),x=i(65960),d=i(75177),l=i(20926),o=function(s,f,c,u){c.addToRenderList(f);var v=s.currentContext;if(l(s,v,f,c,u)){var p=f.radius;v.beginPath(),v.arc(p-f.originX*(p*2),p-f.originY*(p*2),p,a(f._startAngle),a(f._endAngle),f.anticlockwise),f.closePath&&v.closePath(),f.isFilled&&(x(v,f),v.fill()),f.isStroked&&(d(v,f),v.stroke()),v.restore()}};n.exports=o},42563:(n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=i(23629),x=i(39429);x.register("arc",function(d,l,o,s,f,c,u,v){return this.displayList.add(new a(this.scene,d,l,o,s,f,c,u,v))}),x.register("circle",function(d,l,o,s,f){return this.displayList.add(new a(this.scene,d,l,o,0,360,!1,s,f))})},13609:(n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=i(29747),x=a,d=a;x=i(41447),d=i(42542),n.exports={renderWebGL:x,renderCanvas:d}},41447:(n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=i(91296),x=i(10441),d=i(34682),l=function(o,s,f,c){f.addToRenderList(s);var u=o.pipelines.set(s.pipeline),v=a(s,f,c),p=u.calcMatrix.copyFrom(v.calc),m=s._displayOriginX,g=s._displayOriginY,C=f.alpha*s.alpha;o.pipelines.preBatch(s),s.isFilled&&x(u,p,s,C,m,g),s.isStroked&&d(u,s,C,m,g),o.pipelines.postBatch(s)};n.exports=l},89:(n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=i(83419),x=i(33141),d=i(94811),l=i(87841),o=i(17803),s=new a({Extends:o,Mixins:[x],initialize:function(c,u,v,p,m,g){u===void 0&&(u=0),v===void 0&&(v=0),o.call(this,c,"Curve",p),this._smoothness=32,this._curveBounds=new l,this.closePath=!1,this.setPosition(u,v),m!==void 0&&this.setFillStyle(m,g),this.updateData()},smoothness:{get:function(){return this._smoothness},set:function(f){this._smoothness=f,this.updateData()}},setSmoothness:function(f){return this._smoothness=f,this.updateData()},updateData:function(){var f=this._curveBounds,c=this._smoothness;this.geom.getBounds(f,c),this.setSize(f.width,f.height),this.updateDisplayOrigin();for(var u=[],v=this.geom.getPoints(c),p=0;p<v.length;p++)u.push(v[p].x,v[p].y);return u.push(v[0].x,v[0].y),this.pathIndexes=d(u),this.pathData=u,this}});n.exports=s},3170:(n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=i(65960),x=i(75177),d=i(20926),l=function(o,s,f,c){f.addToRenderList(s);var u=o.currentContext;if(d(o,u,s,f,c)){var v=s._displayOriginX+s._curveBounds.x,p=s._displayOriginY+s._curveBounds.y,m=s.pathData,g=m.length-1,C=m[0]-v,M=m[1]-p;u.beginPath(),u.moveTo(C,M),s.closePath||(g-=2);for(var b=2;b<g;b+=2){var w=m[b]-v,R=m[b+1]-p;u.lineTo(w,R)}s.closePath&&u.closePath(),s.isFilled&&(a(u,s),u.fill()),s.isStroked&&(x(u,s),u.stroke()),u.restore()}};n.exports=l},40511:(n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=i(39429),x=i(89);a.register("curve",function(d,l,o,s,f){return this.displayList.add(new x(this.scene,d,l,o,s,f))})},33141:(n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=i(29747),x=a,d=a;x=i(53987),d=i(3170),n.exports={renderWebGL:x,renderCanvas:d}},53987:(n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=i(10441),x=i(91296),d=i(34682),l=function(o,s,f,c){f.addToRenderList(s);var u=o.pipelines.set(s.pipeline),v=x(s,f,c),p=u.calcMatrix.copyFrom(v.calc),m=s._displayOriginX+s._curveBounds.x,g=s._displayOriginY+s._curveBounds.y,C=f.alpha*s.alpha;o.pipelines.preBatch(s),s.isFilled&&a(u,p,s,C,m,g),s.isStroked&&d(u,s,C,m,g),o.pipelines.postBatch(s)};n.exports=l},19921:(n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=i(83419),x=i(94811),d=i(54205),l=i(8497),o=i(17803),s=new a({Extends:o,Mixins:[d],initialize:function(c,u,v,p,m,g,C){u===void 0&&(u=0),v===void 0&&(v=0),p===void 0&&(p=128),m===void 0&&(m=128),o.call(this,c,"Ellipse",new l(p/2,m/2,p,m)),this._smoothness=64,this.setPosition(u,v),this.width=p,this.height=m,g!==void 0&&this.setFillStyle(g,C),this.updateDisplayOrigin(),this.updateData()},smoothness:{get:function(){return this._smoothness},set:function(f){this._smoothness=f,this.updateData()}},setSize:function(f,c){return this.width=f,this.height=c,this.geom.setPosition(f/2,c/2),this.geom.setSize(f,c),this.updateDisplayOrigin(),this.updateData()},setSmoothness:function(f){return this._smoothness=f,this.updateData()},updateData:function(){for(var f=[],c=this.geom.getPoints(this._smoothness),u=0;u<c.length;u++)f.push(c[u].x,c[u].y);return f.push(c[0].x,c[0].y),this.pathIndexes=x(f),this.pathData=f,this}});n.exports=s},7930:(n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=i(65960),x=i(75177),d=i(20926),l=function(o,s,f,c){f.addToRenderList(s);var u=o.currentContext;if(d(o,u,s,f,c)){var v=s._displayOriginX,p=s._displayOriginY,m=s.pathData,g=m.length-1,C=m[0]-v,M=m[1]-p;u.beginPath(),u.moveTo(C,M),s.closePath||(g-=2);for(var b=2;b<g;b+=2){var w=m[b]-v,R=m[b+1]-p;u.lineTo(w,R)}u.closePath(),s.isFilled&&(a(u,s),u.fill()),s.isStroked&&(x(u,s),u.stroke()),u.restore()}};n.exports=l},1543:(n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=i(19921),x=i(39429);x.register("ellipse",function(d,l,o,s,f,c){return this.displayList.add(new a(this.scene,d,l,o,s,f,c))})},54205:(n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=i(29747),x=a,d=a;x=i(19467),d=i(7930),n.exports={renderWebGL:x,renderCanvas:d}},19467:(n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=i(10441),x=i(91296),d=i(34682),l=function(o,s,f,c){f.addToRenderList(s);var u=o.pipelines.set(s.pipeline),v=x(s,f,c),p=u.calcMatrix.copyFrom(v.calc),m=s._displayOriginX,g=s._displayOriginY,C=f.alpha*s.alpha;o.pipelines.preBatch(s),s.isFilled&&a(u,p,s,C,m,g),s.isStroked&&d(u,s,C,m,g),o.pipelines.postBatch(s)};n.exports=l},30479:(n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=i(83419),x=i(17803),d=i(26015),l=new a({Extends:x,Mixins:[d],initialize:function(s,f,c,u,v,p,m,g,C,M,b){f===void 0&&(f=0),c===void 0&&(c=0),u===void 0&&(u=128),v===void 0&&(v=128),p===void 0&&(p=32),m===void 0&&(m=32),x.call(this,s,"Grid",null),this.cellWidth=p,this.cellHeight=m,this.showCells=!0,this.outlineFillColor=0,this.outlineFillAlpha=0,this.showOutline=!0,this.showAltCells=!1,this.altFillColor,this.altFillAlpha,this.setPosition(f,c),this.setSize(u,v),this.setFillStyle(g,C),M!==void 0&&this.setOutlineStyle(M,b),this.updateDisplayOrigin()},setFillStyle:function(o,s){return s===void 0&&(s=1),o===void 0?this.showCells=!1:(this.fillColor=o,this.fillAlpha=s,this.showCells=!0),this},setAltFillStyle:function(o,s){return s===void 0&&(s=1),o===void 0?this.showAltCells=!1:(this.altFillColor=o,this.altFillAlpha=s,this.showAltCells=!0),this},setOutlineStyle:function(o,s){return s===void 0&&(s=1),o===void 0?this.showOutline=!1:(this.outlineFillColor=o,this.outlineFillAlpha=s,this.showOutline=!0),this}});n.exports=l},49912:(n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=i(65960),x=i(75177),d=i(20926),l=function(o,s,f,c){f.addToRenderList(s);var u=o.currentContext;if(d(o,u,s,f,c)){var v=-s._displayOriginX,p=-s._displayOriginY,m=f.alpha*s.alpha,g=s.width,C=s.height,M=s.cellWidth,b=s.cellHeight,w=Math.ceil(g/M),R=Math.ceil(C/b),A=M,L=b,D=M-(w*M-g),G=b-(R*b-C),B=s.showCells,I=s.showAltCells,k=s.showOutline,z=0,X=0,H=0,Q=0,J=0;if(k&&(A--,L--,D===M&&D--,G===b&&G--),B&&s.fillAlpha>0)for(a(u,s),X=0;X<R;X++)for(I&&(H=X%2),z=0;z<w;z++){if(I&&H){H=0;continue}H++,Q=z<w-1?A:D,J=X<R-1?L:G,u.fillRect(v+z*M,p+X*b,Q,J)}if(I&&s.altFillAlpha>0)for(a(u,s,s.altFillColor,s.altFillAlpha*m),X=0;X<R;X++)for(I&&(H=X%2),z=0;z<w;z++){if(I&&!H){H=1;continue}H=0,Q=z<w-1?A:D,J=X<R-1?L:G,u.fillRect(v+z*M,p+X*b,Q,J)}if(k&&s.outlineFillAlpha>0){for(x(u,s,s.outlineFillColor,s.outlineFillAlpha*m),z=1;z<w;z++){var Y=z*M;u.beginPath(),u.moveTo(Y+v,p),u.lineTo(Y+v,C+p),u.stroke()}for(X=1;X<R;X++){var $=X*b;u.beginPath(),u.moveTo(v,$+p),u.lineTo(v+g,$+p),u.stroke()}}u.restore()}};n.exports=l},34137:(n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=i(39429),x=i(30479);a.register("grid",function(d,l,o,s,f,c,u,v,p,m){return this.displayList.add(new x(this.scene,d,l,o,s,f,c,u,v,p,m))})},26015:(n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=i(29747),x=a,d=a;x=i(46161),d=i(49912),n.exports={renderWebGL:x,renderCanvas:d}},46161:(n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=i(91296),x=i(70554),d=function(l,o,s,f){s.addToRenderList(o);var c=l.pipelines.set(o.pipeline),u=a(o,s,f),v=c.calcMatrix.copyFrom(u.calc);v.translate(-o._displayOriginX,-o._displayOriginY);var p=s.alpha*o.alpha,m=o.width,g=o.height,C=o.cellWidth,M=o.cellHeight,b=Math.ceil(m/C),w=Math.ceil(g/M),R=C,A=M,L=C-(b*C-m),D=M-(w*M-g),G,B,I=o.showCells,k=o.showAltCells,z=o.showOutline,X=0,H=0,Q=0,J=0,Y=0;if(z&&(R--,A--,L===C&&L--,D===M&&D--),l.pipelines.preBatch(o),I&&o.fillAlpha>0)for(G=c.fillTint,B=x.getTintAppendFloatAlpha(o.fillColor,o.fillAlpha*p),G.TL=B,G.TR=B,G.BL=B,G.BR=B,H=0;H<w;H++)for(k&&(Q=H%2),X=0;X<b;X++){if(k&&Q){Q=0;continue}Q++,J=X<b-1?R:L,Y=H<w-1?A:D,c.batchFillRect(X*C,H*M,J,Y)}if(k&&o.altFillAlpha>0)for(G=c.fillTint,B=x.getTintAppendFloatAlpha(o.altFillColor,o.altFillAlpha*p),G.TL=B,G.TR=B,G.BL=B,G.BR=B,H=0;H<w;H++)for(k&&(Q=H%2),X=0;X<b;X++){if(k&&!Q){Q=1;continue}Q=0,J=X<b-1?R:L,Y=H<w-1?A:D,c.batchFillRect(X*C,H*M,J,Y)}if(z&&o.outlineFillAlpha>0){var $=c.strokeTint,V=x.getTintAppendFloatAlpha(o.outlineFillColor,o.outlineFillAlpha*p);for($.TL=V,$.TR=V,$.BL=V,$.BR=V,X=1;X<b;X++){var U=X*C;c.batchLine(U,0,U,g,1,1,1,0,!1)}for(H=1;H<w;H++){var K=H*M;c.batchLine(0,K,m,K,1,1,1,0,!1)}}l.pipelines.postBatch(o)};n.exports=d},61475:(n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=i(99651),x=i(83419),d=i(17803),l=new x({Extends:d,Mixins:[a],initialize:function(s,f,c,u,v,p,m,g){f===void 0&&(f=0),c===void 0&&(c=0),u===void 0&&(u=48),v===void 0&&(v=32),p===void 0&&(p=15658734),m===void 0&&(m=10066329),g===void 0&&(g=13421772),d.call(this,s,"IsoBox",null),this.projection=4,this.fillTop=p,this.fillLeft=m,this.fillRight=g,this.showTop=!0,this.showLeft=!0,this.showRight=!0,this.isFilled=!0,this.setPosition(f,c),this.setSize(u,v),this.updateDisplayOrigin()},setProjection:function(o){return this.projection=o,this},setFaces:function(o,s,f){return o===void 0&&(o=!0),s===void 0&&(s=!0),f===void 0&&(f=!0),this.showTop=o,this.showLeft=s,this.showRight=f,this},setFillStyle:function(o,s,f){return this.fillTop=o,this.fillLeft=s,this.fillRight=f,this.isFilled=!0,this}});n.exports=l},11508:(n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=i(65960),x=i(20926),d=function(l,o,s,f){s.addToRenderList(o);var c=l.currentContext;if(x(l,c,o,s,f)&&o.isFilled){var u=o.width,v=o.height,p=u/2,m=u/o.projection;o.showTop&&(a(c,o,o.fillTop),c.beginPath(),c.moveTo(-p,-v),c.lineTo(0,-m-v),c.lineTo(p,-v),c.lineTo(p,-1),c.lineTo(0,m-1),c.lineTo(-p,-1),c.lineTo(-p,-v),c.fill()),o.showLeft&&(a(c,o,o.fillLeft),c.beginPath(),c.moveTo(-p,0),c.lineTo(0,m),c.lineTo(0,m-v),c.lineTo(-p,-v),c.lineTo(-p,0),c.fill()),o.showRight&&(a(c,o,o.fillRight),c.beginPath(),c.moveTo(p,0),c.lineTo(0,m),c.lineTo(0,m-v),c.lineTo(p,-v),c.lineTo(p,0),c.fill()),c.restore()}};n.exports=d},3933:(n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=i(39429),x=i(61475);a.register("isobox",function(d,l,o,s,f,c,u){return this.displayList.add(new x(this.scene,d,l,o,s,f,c,u))})},99651:(n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=i(29747),x=a,d=a;x=i(68149),d=i(11508),n.exports={renderWebGL:x,renderCanvas:d}},68149:(n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=i(91296),x=i(70554),d=function(l,o,s,f){s.addToRenderList(o);var c=l.pipelines.set(o.pipeline),u=a(o,s,f),v=c.calcMatrix.copyFrom(u.calc),p=o.width,m=o.height,g=p/2,C=p/o.projection,M=s.alpha*o.alpha;if(o.isFilled){var b,w,R,A,L,D,G,B,I;l.pipelines.preBatch(o),o.showTop&&(b=x.getTintAppendFloatAlpha(o.fillTop,M),w=v.getX(-g,-m),R=v.getY(-g,-m),A=v.getX(0,-C-m),L=v.getY(0,-C-m),D=v.getX(g,-m),G=v.getY(g,-m),B=v.getX(0,C-m),I=v.getY(0,C-m),c.batchQuad(o,w,R,A,L,D,G,B,I,0,0,1,1,b,b,b,b,2)),o.showLeft&&(b=x.getTintAppendFloatAlpha(o.fillLeft,M),w=v.getX(-g,0),R=v.getY(-g,0),A=v.getX(0,C),L=v.getY(0,C),D=v.getX(0,C-m),G=v.getY(0,C-m),B=v.getX(-g,-m),I=v.getY(-g,-m),c.batchQuad(o,w,R,A,L,D,G,B,I,0,0,1,1,b,b,b,b,2)),o.showRight&&(b=x.getTintAppendFloatAlpha(o.fillRight,M),w=v.getX(g,0),R=v.getY(g,0),A=v.getX(0,C),L=v.getY(0,C),D=v.getX(0,C-m),G=v.getY(0,C-m),B=v.getX(g,-m),I=v.getY(g,-m),c.batchQuad(o,w,R,A,L,D,G,B,I,0,0,1,1,b,b,b,b,2)),l.pipelines.postBatch(o)}};n.exports=d},16933:(n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=i(83419),x=i(60561),d=i(17803),l=new a({Extends:d,Mixins:[x],initialize:function(s,f,c,u,v,p,m,g,C){f===void 0&&(f=0),c===void 0&&(c=0),u===void 0&&(u=48),v===void 0&&(v=32),p===void 0&&(p=!1),m===void 0&&(m=15658734),g===void 0&&(g=10066329),C===void 0&&(C=13421772),d.call(this,s,"IsoTriangle",null),this.projection=4,this.fillTop=m,this.fillLeft=g,this.fillRight=C,this.showTop=!0,this.showLeft=!0,this.showRight=!0,this.isReversed=p,this.isFilled=!0,this.setPosition(f,c),this.setSize(u,v),this.updateDisplayOrigin()},setProjection:function(o){return this.projection=o,this},setReversed:function(o){return this.isReversed=o,this},setFaces:function(o,s,f){return o===void 0&&(o=!0),s===void 0&&(s=!0),f===void 0&&(f=!0),this.showTop=o,this.showLeft=s,this.showRight=f,this},setFillStyle:function(o,s,f){return this.fillTop=o,this.fillLeft=s,this.fillRight=f,this.isFilled=!0,this}});n.exports=l},79590:(n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=i(65960),x=i(20926),d=function(l,o,s,f){s.addToRenderList(o);var c=l.currentContext;if(x(l,c,o,s,f)&&o.isFilled){var u=o.width,v=o.height,p=u/2,m=u/o.projection,g=o.isReversed;o.showTop&&g&&(a(c,o,o.fillTop),c.beginPath(),c.moveTo(-p,-v),c.lineTo(0,-m-v),c.lineTo(p,-v),c.lineTo(0,m-v),c.fill()),o.showLeft&&(a(c,o,o.fillLeft),c.beginPath(),g?(c.moveTo(-p,-v),c.lineTo(0,m),c.lineTo(0,m-v)):(c.moveTo(-p,0),c.lineTo(0,m),c.lineTo(0,m-v)),c.fill()),o.showRight&&(a(c,o,o.fillRight),c.beginPath(),g?(c.moveTo(p,-v),c.lineTo(0,m),c.lineTo(0,m-v)):(c.moveTo(p,0),c.lineTo(0,m),c.lineTo(0,m-v)),c.fill()),c.restore()}};n.exports=d},49803:(n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=i(39429),x=i(16933);a.register("isotriangle",function(d,l,o,s,f,c,u,v){return this.displayList.add(new x(this.scene,d,l,o,s,f,c,u,v))})},60561:(n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=i(29747),x=a,d=a;x=i(51503),d=i(79590),n.exports={renderWebGL:x,renderCanvas:d}},51503:(n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=i(91296),x=i(70554),d=function(l,o,s,f){s.addToRenderList(o);var c=l.pipelines.set(o.pipeline),u=a(o,s,f),v=c.calcMatrix.copyFrom(u.calc),p=o.width,m=o.height,g=p/2,C=p/o.projection,M=o.isReversed,b=s.alpha*o.alpha;if(o.isFilled){l.pipelines.preBatch(o);var w,R,A,L,D,G,B;if(o.showTop&&M){w=x.getTintAppendFloatAlpha(o.fillTop,b),R=v.getX(-g,-m),A=v.getY(-g,-m),L=v.getX(0,-C-m),D=v.getY(0,-C-m),G=v.getX(g,-m),B=v.getY(g,-m);var I=v.getX(0,C-m),k=v.getY(0,C-m);c.batchQuad(o,R,A,L,D,G,B,I,k,0,0,1,1,w,w,w,w,2)}o.showLeft&&(w=x.getTintAppendFloatAlpha(o.fillLeft,b),M?(R=v.getX(-g,-m),A=v.getY(-g,-m),L=v.getX(0,C),D=v.getY(0,C),G=v.getX(0,C-m),B=v.getY(0,C-m)):(R=v.getX(-g,0),A=v.getY(-g,0),L=v.getX(0,C),D=v.getY(0,C),G=v.getX(0,C-m),B=v.getY(0,C-m)),c.batchTri(o,R,A,L,D,G,B,0,0,1,1,w,w,w,2)),o.showRight&&(w=x.getTintAppendFloatAlpha(o.fillRight,b),M?(R=v.getX(g,-m),A=v.getY(g,-m),L=v.getX(0,C),D=v.getY(0,C),G=v.getX(0,C-m),B=v.getY(0,C-m)):(R=v.getX(g,0),A=v.getY(g,0),L=v.getX(0,C),D=v.getY(0,C),G=v.getX(0,C-m),B=v.getY(0,C-m)),c.batchTri(o,R,A,L,D,G,B,0,0,1,1,w,w,w,2)),l.pipelines.postBatch(o)}};n.exports=d},57847:(n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=i(83419),x=i(17803),d=i(23031),l=i(36823),o=new a({Extends:x,Mixins:[l],initialize:function(f,c,u,v,p,m,g,C,M){c===void 0&&(c=0),u===void 0&&(u=0),v===void 0&&(v=0),p===void 0&&(p=0),m===void 0&&(m=128),g===void 0&&(g=0),x.call(this,f,"Line",new d(v,p,m,g));var b=Math.max(1,this.geom.right-this.geom.left),w=Math.max(1,this.geom.bottom-this.geom.top);this.lineWidth=1,this._startWidth=1,this._endWidth=1,this.setPosition(c,u),this.setSize(b,w),C!==void 0&&this.setStrokeStyle(1,C,M),this.updateDisplayOrigin()},setLineWidth:function(s,f){return f===void 0&&(f=s),this._startWidth=s,this._endWidth=f,this.lineWidth=s,this},setTo:function(s,f,c,u){return this.geom.setTo(s,f,c,u),this}});n.exports=o},17440:(n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=i(75177),x=i(20926),d=function(l,o,s,f){s.addToRenderList(o);var c=l.currentContext;if(x(l,c,o,s,f)){var u=o._displayOriginX,v=o._displayOriginY;o.isStroked&&(a(c,o),c.beginPath(),c.moveTo(o.geom.x1-u,o.geom.y1-v),c.lineTo(o.geom.x2-u,o.geom.y2-v),c.stroke()),c.restore()}};n.exports=d},2481:(n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=i(39429),x=i(57847);a.register("line",function(d,l,o,s,f,c,u,v){return this.displayList.add(new x(this.scene,d,l,o,s,f,c,u,v))})},36823:(n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=i(29747),x=a,d=a;x=i(77385),d=i(17440),n.exports={renderWebGL:x,renderCanvas:d}},77385:(n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=i(91296),x=i(70554),d=function(l,o,s,f){s.addToRenderList(o);var c=l.pipelines.set(o.pipeline),u=a(o,s,f);c.calcMatrix.copyFrom(u.calc);var v=o._displayOriginX,p=o._displayOriginY,m=s.alpha*o.alpha;if(l.pipelines.preBatch(o),o.isStroked){var g=c.strokeTint,C=x.getTintAppendFloatAlpha(o.strokeColor,o.strokeAlpha*m);g.TL=C,g.TR=C,g.BL=C,g.BR=C,c.batchLine(o.geom.x1-v,o.geom.y1-p,o.geom.x2-v,o.geom.y2-p,o._startWidth/2,o._endWidth/2,1,0,!1,u.sprite,u.camera)}l.pipelines.postBatch(o)};n.exports=d},24949:(n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=i(90273),x=i(83419),d=i(94811),l=i(13829),o=i(25717),s=i(17803),f=i(5469),c=new x({Extends:s,Mixins:[a],initialize:function(v,p,m,g,C,M){p===void 0&&(p=0),m===void 0&&(m=0),s.call(this,v,"Polygon",new o(g));var b=l(this.geom);this.setPosition(p,m),this.setSize(b.width,b.height),C!==void 0&&this.setFillStyle(C,M),this.updateDisplayOrigin(),this.updateData()},smooth:function(u){u===void 0&&(u=1);for(var v=0;v<u;v++)f(this.geom);return this.updateData()},setTo:function(u){this.geom.setTo(u);var v=l(this.geom);return this.setSize(v.width,v.height),this.updateDisplayOrigin(),this.updateData()},updateData:function(){for(var u=[],v=this.geom.points,p=0;p<v.length;p++)u.push(v[p].x,v[p].y);return u.push(v[0].x,v[0].y),this.pathIndexes=d(u),this.pathData=u,this}});n.exports=c},38710:(n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=i(65960),x=i(75177),d=i(20926),l=function(o,s,f,c){f.addToRenderList(s);var u=o.currentContext;if(d(o,u,s,f,c)){var v=s._displayOriginX,p=s._displayOriginY,m=s.pathData,g=m.length-1,C=m[0]-v,M=m[1]-p;u.beginPath(),u.moveTo(C,M),s.closePath||(g-=2);for(var b=2;b<g;b+=2){var w=m[b]-v,R=m[b+1]-p;u.lineTo(w,R)}s.closePath&&u.closePath(),s.isFilled&&(a(u,s),u.fill()),s.isStroked&&(x(u,s),u.stroke()),u.restore()}};n.exports=l},64827:(n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=i(39429),x=i(24949);a.register("polygon",function(d,l,o,s,f){return this.displayList.add(new x(this.scene,d,l,o,s,f))})},90273:(n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=i(29747),x=a,d=a;x=i(73695),d=i(38710),n.exports={renderWebGL:x,renderCanvas:d}},73695:(n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=i(10441),x=i(91296),d=i(34682),l=function(o,s,f,c){f.addToRenderList(s);var u=o.pipelines.set(s.pipeline),v=x(s,f,c),p=u.calcMatrix.copyFrom(v.calc),m=s._displayOriginX,g=s._displayOriginY,C=f.alpha*s.alpha;o.pipelines.preBatch(s),s.isFilled&&a(u,p,s,C,m,g),s.isStroked&&d(u,s,C,m,g),o.pipelines.postBatch(s)};n.exports=l},74561:(n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=i(83419),x=i(87841),d=i(17803),l=i(95597),o=new a({Extends:d,Mixins:[l],initialize:function(f,c,u,v,p,m,g){c===void 0&&(c=0),u===void 0&&(u=0),v===void 0&&(v=128),p===void 0&&(p=128),d.call(this,f,"Rectangle",new x(0,0,v,p)),this.setPosition(c,u),this.setSize(v,p),m!==void 0&&this.setFillStyle(m,g),this.updateDisplayOrigin(),this.updateData()},setSize:function(s,f){this.width=s,this.height=f,this.geom.setSize(s,f),this.updateData(),this.updateDisplayOrigin();var c=this.input;return c&&!c.customHitArea&&(c.hitArea.width=s,c.hitArea.height=f),this},updateData:function(){var s=[],f=this.geom,c=this._tempLine;return f.getLineA(c),s.push(c.x1,c.y1,c.x2,c.y2),f.getLineB(c),s.push(c.x2,c.y2),f.getLineC(c),s.push(c.x2,c.y2),f.getLineD(c),s.push(c.x2,c.y2),this.pathData=s,this}});n.exports=o},48682:(n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=i(65960),x=i(75177),d=i(20926),l=function(o,s,f,c){f.addToRenderList(s);var u=o.currentContext;if(d(o,u,s,f,c)){var v=s._displayOriginX,p=s._displayOriginY;s.isFilled&&(a(u,s),u.fillRect(-v,-p,s.width,s.height)),s.isStroked&&(x(u,s),u.beginPath(),u.rect(-v,-p,s.width,s.height),u.stroke()),u.restore()}};n.exports=l},87959:(n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=i(39429),x=i(74561);a.register("rectangle",function(d,l,o,s,f,c){return this.displayList.add(new x(this.scene,d,l,o,s,f,c))})},95597:(n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=i(29747),x=a,d=a;x=i(52059),d=i(48682),n.exports={renderWebGL:x,renderCanvas:d}},52059:(n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=i(91296),x=i(34682),d=i(70554),l=function(o,s,f,c){f.addToRenderList(s);var u=o.pipelines.set(s.pipeline),v=a(s,f,c);u.calcMatrix.copyFrom(v.calc);var p=s._displayOriginX,m=s._displayOriginY,g=f.alpha*s.alpha;if(o.pipelines.preBatch(s),s.isFilled){var C=u.fillTint,M=d.getTintAppendFloatAlpha(s.fillColor,s.fillAlpha*g);C.TL=M,C.TR=M,C.BL=M,C.BR=M,u.batchFillRect(-p,-m,s.width,s.height)}s.isStroked&&x(u,s,g,p,m),o.pipelines.postBatch(s)};n.exports=l},55911:(n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=i(81991),x=i(83419),d=i(94811),l=i(17803),o=new x({Extends:l,Mixins:[a],initialize:function(f,c,u,v,p,m,g,C){c===void 0&&(c=0),u===void 0&&(u=0),v===void 0&&(v=5),p===void 0&&(p=32),m===void 0&&(m=64),l.call(this,f,"Star",null),this._points=v,this._innerRadius=p,this._outerRadius=m,this.setPosition(c,u),this.setSize(m*2,m*2),g!==void 0&&this.setFillStyle(g,C),this.updateDisplayOrigin(),this.updateData()},setPoints:function(s){return this._points=s,this.updateData()},setInnerRadius:function(s){return this._innerRadius=s,this.updateData()},setOuterRadius:function(s){return this._outerRadius=s,this.updateData()},points:{get:function(){return this._points},set:function(s){this._points=s,this.updateData()}},innerRadius:{get:function(){return this._innerRadius},set:function(s){this._innerRadius=s,this.updateData()}},outerRadius:{get:function(){return this._outerRadius},set:function(s){this._outerRadius=s,this.updateData()}},updateData:function(){var s=[],f=this._points,c=this._innerRadius,u=this._outerRadius,v=Math.PI/2*3,p=Math.PI/f,m=u,g=u;s.push(m,g+-u);for(var C=0;C<f;C++)s.push(m+Math.cos(v)*u,g+Math.sin(v)*u),v+=p,s.push(m+Math.cos(v)*c,g+Math.sin(v)*c),v+=p;return s.push(m,g+-u),this.pathIndexes=d(s),this.pathData=s,this}});n.exports=o},64272:(n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=i(65960),x=i(75177),d=i(20926),l=function(o,s,f,c){f.addToRenderList(s);var u=o.currentContext;if(d(o,u,s,f,c)){var v=s._displayOriginX,p=s._displayOriginY,m=s.pathData,g=m.length-1,C=m[0]-v,M=m[1]-p;u.beginPath(),u.moveTo(C,M),s.closePath||(g-=2);for(var b=2;b<g;b+=2){var w=m[b]-v,R=m[b+1]-p;u.lineTo(w,R)}u.closePath(),s.isFilled&&(a(u,s),u.fill()),s.isStroked&&(x(u,s),u.stroke()),u.restore()}};n.exports=l},93697:(n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=i(55911),x=i(39429);x.register("star",function(d,l,o,s,f,c,u){return this.displayList.add(new a(this.scene,d,l,o,s,f,c,u))})},81991:(n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=i(29747),x=a,d=a;x=i(57017),d=i(64272),n.exports={renderWebGL:x,renderCanvas:d}},57017:(n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=i(10441),x=i(91296),d=i(34682),l=function(o,s,f,c){f.addToRenderList(s);var u=o.pipelines.set(s.pipeline),v=x(s,f,c),p=u.calcMatrix.copyFrom(v.calc),m=s._displayOriginX,g=s._displayOriginY,C=f.alpha*s.alpha;o.pipelines.preBatch(s),s.isFilled&&a(u,p,s,C,m,g),s.isStroked&&d(u,s,C,m,g),o.pipelines.postBatch(s)};n.exports=l},36931:(n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=i(83419),x=i(17803),d=i(16483),l=i(96195),o=new a({Extends:x,Mixins:[l],initialize:function(f,c,u,v,p,m,g,C,M,b,w){c===void 0&&(c=0),u===void 0&&(u=0),v===void 0&&(v=0),p===void 0&&(p=128),m===void 0&&(m=64),g===void 0&&(g=0),C===void 0&&(C=128),M===void 0&&(M=128),x.call(this,f,"Triangle",new d(v,p,m,g,C,M));var R=this.geom.right-this.geom.left,A=this.geom.bottom-this.geom.top;this.setPosition(c,u),this.setSize(R,A),b!==void 0&&this.setFillStyle(b,w),this.updateDisplayOrigin(),this.updateData()},setTo:function(s,f,c,u,v,p){return this.geom.setTo(s,f,c,u,v,p),this.updateData()},updateData:function(){var s=[],f=this.geom,c=this._tempLine;return f.getLineA(c),s.push(c.x1,c.y1,c.x2,c.y2),f.getLineB(c),s.push(c.x2,c.y2),f.getLineC(c),s.push(c.x2,c.y2),this.pathData=s,this}});n.exports=o},85172:(n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=i(65960),x=i(75177),d=i(20926),l=function(o,s,f,c){f.addToRenderList(s);var u=o.currentContext;if(d(o,u,s,f,c)){var v=s._displayOriginX,p=s._displayOriginY,m=s.geom.x1-v,g=s.geom.y1-p,C=s.geom.x2-v,M=s.geom.y2-p,b=s.geom.x3-v,w=s.geom.y3-p;u.beginPath(),u.moveTo(m,g),u.lineTo(C,M),u.lineTo(b,w),u.closePath(),s.isFilled&&(a(u,s),u.fill()),s.isStroked&&(x(u,s),u.stroke()),u.restore()}};n.exports=l},45245:(n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=i(39429),x=i(36931);a.register("triangle",function(d,l,o,s,f,c,u,v,p,m){return this.displayList.add(new x(this.scene,d,l,o,s,f,c,u,v,p,m))})},96195:(n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=i(29747),x=a,d=a;x=i(83253),d=i(85172),n.exports={renderWebGL:x,renderCanvas:d}},83253:(n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=i(91296),x=i(34682),d=i(70554),l=function(o,s,f,c){f.addToRenderList(s);var u=o.pipelines.set(s.pipeline),v=a(s,f,c);u.calcMatrix.copyFrom(v.calc);var p=s._displayOriginX,m=s._displayOriginY,g=f.alpha*s.alpha;if(o.pipelines.preBatch(s),s.isFilled){var C=u.fillTint,M=d.getTintAppendFloatAlpha(s.fillColor,s.fillAlpha*g);C.TL=M,C.TR=M,C.BL=M,C.BR=M;var b=s.geom.x1-p,w=s.geom.y1-m,R=s.geom.x2-p,A=s.geom.y2-m,L=s.geom.x3-p,D=s.geom.y3-m;u.batchFillTriangle(b,w,R,A,L,D,v.sprite,v.camera)}s.isStroked&&x(u,s,g,p,m),o.pipelines.postBatch(s)};n.exports=l},68287:(n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=i(9674),x=i(83419),d=i(31401),l=i(95643),o=i(92751),s=new x({Extends:l,Mixins:[d.Alpha,d.BlendMode,d.Depth,d.Flip,d.GetBounds,d.Mask,d.Origin,d.Pipeline,d.PostPipeline,d.ScrollFactor,d.Size,d.TextureCrop,d.Tint,d.Transform,d.Visible,o],initialize:function(c,u,v,p,m){l.call(this,c,"Sprite"),this._crop=this.resetCropObject(),this.anims=new a(this),this.setTexture(p,m),this.setPosition(u,v),this.setSizeToFrame(),this.setOriginFromFrame(),this.initPipeline(),this.initPostPipeline(!0)},addedToScene:function(){this.scene.sys.updateList.add(this)},removedFromScene:function(){this.scene.sys.updateList.remove(this)},preUpdate:function(f,c){this.anims.update(f,c)},play:function(f,c){return this.anims.play(f,c)},playReverse:function(f,c){return this.anims.playReverse(f,c)},playAfterDelay:function(f,c){return this.anims.playAfterDelay(f,c)},playAfterRepeat:function(f,c){return this.anims.playAfterRepeat(f,c)},chain:function(f){return this.anims.chain(f)},stop:function(){return this.anims.stop()},stopAfterDelay:function(f){return this.anims.stopAfterDelay(f)},stopAfterRepeat:function(f){return this.anims.stopAfterRepeat(f)},stopOnFrame:function(f){return this.anims.stopOnFrame(f)},toJSON:function(){return d.ToJSON(this)},preDestroy:function(){this.anims.destroy(),this.anims=void 0}});n.exports=s},76552:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(i,a,x,d){x.addToRenderList(a),i.batchSprite(a,a.frame,x,d)};n.exports=T},15567:(n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=i(25305),x=i(13059),d=i(44603),l=i(23568),o=i(68287);d.register("sprite",function(s,f){s===void 0&&(s={});var c=l(s,"key",null),u=l(s,"frame",null),v=new o(this.scene,0,0,c,u);return f!==void 0&&(s.add=f),a(this.scene,v,s),x(v,s),v})},46409:(n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=i(39429),x=i(68287);a.register("sprite",function(d,l,o,s){return this.displayList.add(new x(this.scene,d,l,o,s))})},92751:(n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=i(29747),x=a,d=a;x=i(9409),d=i(76552),n.exports={renderWebGL:x,renderCanvas:d}},9409:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(i,a,x,d){x.addToRenderList(a),a.pipeline.batchSprite(a,x,d)};n.exports=T},14220:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(i,a,x){var d=i.canvas,l=i.context,o=i.style,s=[],f=0,c=x.length;o.maxLines>0&&o.maxLines<x.length&&(c=o.maxLines),o.syncFont(d,l);for(var u=i.letterSpacing,v=0;v<c;v++){var p=o.strokeThickness;if(u===0)p+=l.measureText(x[v]).width;else{for(var m=x[v],g=0;g<m.length;g++)p+=l.measureText(m[g]).width;m.length>1&&(p+=u*(m.length-1))}o.wordWrap&&(p-=l.measureText(" ").width),s[v]=Math.ceil(p),f=Math.max(f,s[v])}var C=a.fontSize+o.strokeThickness,M=C*c,b=i.lineSpacing;return c>1&&(M+=b*(c-1)),{width:f,height:M,lines:c,lineWidths:s,lineSpacing:b,lineHeight:C}};n.exports=T},79557:(n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=i(27919),x=function(d){var l=a.create(this),o=l.getContext("2d",{willReadFrequently:!0});d.syncFont(l,o);var s=o.measureText(d.testString);if("actualBoundingBoxAscent"in s){var f=s.actualBoundingBoxAscent,c=s.actualBoundingBoxDescent;return a.remove(l),{ascent:f,descent:c,fontSize:f+c}}var u=Math.ceil(s.width*d.baselineX),v=u,p=2*v;v=v*d.baselineY|0,l.width=u,l.height=p,o.fillStyle="#f00",o.fillRect(0,0,u,p),o.font=d._font,o.textBaseline="alphabetic",o.fillStyle="#000",o.fillText(d.testString,0,v);var m={ascent:0,descent:0,fontSize:0},g=o.getImageData(0,0,u,p);if(!g)return m.ascent=v,m.descent=v+6,m.fontSize=m.ascent+m.descent,a.remove(l),m;var C=g.data,M=C.length,b=u*4,w,R,A=0,L=!1;for(w=0;w<v;w++){for(R=0;R<b;R+=4)if(C[A+R]!==255){L=!0;break}if(!L)A+=b;else break}for(m.ascent=v-w,A=M-b,L=!1,w=p;w>v;w--){for(R=0;R<b;R+=4)if(C[A+R]!==255){L=!0;break}if(!L)A-=b;else break}return m.descent=w-v,m.fontSize=m.ascent+m.descent,a.remove(l),m};n.exports=x},50171:(n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=i(40366),x=i(27919),d=i(83419),l=i(31401),o=i(95643),s=i(14220),f=i(35154),c=i(35846),u=i(61771),v=i(35762),p=i(45650),m=new d({Extends:o,Mixins:[l.Alpha,l.BlendMode,l.ComputedSize,l.Crop,l.Depth,l.Flip,l.GetBounds,l.Mask,l.Origin,l.Pipeline,l.PostPipeline,l.ScrollFactor,l.Tint,l.Transform,l.Visible,u],initialize:function(C,M,b,w,R){M===void 0&&(M=0),b===void 0&&(b=0),o.call(this,C,"Text"),this.renderer=C.sys.renderer,this.setPosition(M,b),this.setOrigin(0,0),this.initPipeline(),this.initPostPipeline(!0),this.canvas=x.create(this),this.context,this.style=new v(this,R),this.autoRound=!0,this.splitRegExp=/(?:\r\n|\r|\n)/,this._text=void 0,this.padding={left:0,right:0,top:0,bottom:0},this.width=1,this.height=1,this.lineSpacing=0,this.letterSpacing=0,this.style.resolution===0&&(this.style.resolution=1),this._crop=this.resetCropObject(),this._textureKey=p(),this.texture=C.sys.textures.addCanvas(this._textureKey,this.canvas),this.context=this.texture.context,this.frame=this.texture.get(),this.frame.source.resolution=this.style.resolution,this.renderer&&this.renderer.gl&&(this.renderer.deleteTexture(this.frame.source.glTexture),this.frame.source.glTexture=null),this.initRTL(),this.setText(w),R&&R.padding&&this.setPadding(R.padding),R&&R.lineSpacing&&this.setLineSpacing(R.lineSpacing),R&&R.letterSpacing&&this.setLetterSpacing(R.letterSpacing)},initRTL:function(){this.style.rtl&&(this.canvas.dir="rtl",this.context.direction="rtl",this.canvas.style.display="none",a(this.canvas,this.scene.sys.canvas),this.originX=1)},runWordWrap:function(g){var C=this.style;if(C.wordWrapCallback){var M=C.wordWrapCallback.call(C.wordWrapCallbackScope,g,this);return Array.isArray(M)&&(M=M.join(`
`)),M}else return C.wordWrapWidth?C.wordWrapUseAdvanced?this.advancedWordWrap(g,this.context,this.style.wordWrapWidth):this.basicWordWrap(g,this.context,this.style.wordWrapWidth):g},advancedWordWrap:function(g,C,M){for(var b="",w=g.replace(/ +/gi," ").split(this.splitRegExp),R=w.length,A=0;A<R;A++){var L=w[A],D="";L=L.replace(/^ *|\s*$/gi,"");var G=L.length*this.letterSpacing,B=C.measureText(L).width+G;if(B<M){b+=L+`
`;continue}for(var I=M,k=L.split(" "),z=0;z<k.length;z++){var X=k[z],H=X+" ",Q=H.length*this.letterSpacing,J=C.measureText(H).width+Q;if(console.log(k.length,X),J>I){if(z===0){for(var Y=H;Y.length;){Y=Y.slice(0,-1);var $=Y.length*this.letterSpacing;if(J=C.measureText(Y).width+$,J<=I)break}if(!Y.length)throw new Error("wordWrapWidth < a single character");var V=X.substr(Y.length);k[z]=V,D+=Y}var U=k[z].length?z:z+1,K=k.slice(U).join(" ").replace(/[ \n]*$/gi,"");w.splice(A+1,0,K),R=w.length;break}else D+=H,I-=J}b+=D.replace(/[ \n]*$/gi,"")+`
`}return b=b.replace(/[\s|\n]*$/gi,""),b},basicWordWrap:function(g,C,M){for(var b="",w=g.split(this.splitRegExp),R=w.length-1,A=C.measureText(" ").width,L=0;L<=R;L++){for(var D=M,G=w[L].split(" "),B=G.length-1,I=0;I<=B;I++){var k=G[I],z=k.length*this.letterSpacing,X=C.measureText(k).width+z,H=X;I<B&&(H+=A),H>D&&I>0&&(b+=`
`,D=M),b+=k,I<B?(b+=" ",D-=H):D-=X}L<R&&(b+=`
`)}return b},getWrappedText:function(g){g===void 0&&(g=this._text),this.style.syncFont(this.canvas,this.context);var C=this.runWordWrap(g);return C.split(this.splitRegExp)},setText:function(g){return!g&&g!==0&&(g=""),Array.isArray(g)&&(g=g.join(`
`)),g!==this._text&&(this._text=g.toString(),this.updateText()),this},appendText:function(g,C){C===void 0&&(C=!0),!g&&g!==0&&(g=""),Array.isArray(g)&&(g=g.join(`
`)),g=g.toString();var M=this._text.concat(C?`
`+g:g);return M!==this._text&&(this._text=M,this.updateText()),this},setStyle:function(g){return this.style.setStyle(g)},setFont:function(g){return this.style.setFont(g)},setFontFamily:function(g){return this.style.setFontFamily(g)},setFontSize:function(g){return this.style.setFontSize(g)},setFontStyle:function(g){return this.style.setFontStyle(g)},setFixedSize:function(g,C){return this.style.setFixedSize(g,C)},setBackgroundColor:function(g){return this.style.setBackgroundColor(g)},setFill:function(g){return this.style.setFill(g)},setColor:function(g){return this.style.setColor(g)},setStroke:function(g,C){return this.style.setStroke(g,C)},setShadow:function(g,C,M,b,w,R){return this.style.setShadow(g,C,M,b,w,R)},setShadowOffset:function(g,C){return this.style.setShadowOffset(g,C)},setShadowColor:function(g){return this.style.setShadowColor(g)},setShadowBlur:function(g){return this.style.setShadowBlur(g)},setShadowStroke:function(g){return this.style.setShadowStroke(g)},setShadowFill:function(g){return this.style.setShadowFill(g)},setWordWrapWidth:function(g,C){return this.style.setWordWrapWidth(g,C)},setWordWrapCallback:function(g,C){return this.style.setWordWrapCallback(g,C)},setAlign:function(g){return this.style.setAlign(g)},setResolution:function(g){return this.style.setResolution(g)},setLineSpacing:function(g){return this.lineSpacing=g,this.updateText()},setLetterSpacing:function(g){return this.letterSpacing=g,this.updateText()},setPadding:function(g,C,M,b){if(typeof g=="object"){var w=g,R=f(w,"x",null);R!==null?(g=R,M=R):(g=f(w,"left",0),M=f(w,"right",g));var A=f(w,"y",null);A!==null?(C=A,b=A):(C=f(w,"top",0),b=f(w,"bottom",C))}else g===void 0&&(g=0),C===void 0&&(C=g),M===void 0&&(M=g),b===void 0&&(b=C);return this.padding.left=g,this.padding.top=C,this.padding.right=M,this.padding.bottom=b,this.updateText()},setMaxLines:function(g){return this.style.setMaxLines(g)},setRTL:function(g){g===void 0&&(g=!0);var C=this.style;return C.rtl===g?this:(C.rtl=g,g?(this.canvas.dir="rtl",this.context.direction="rtl",this.canvas.style.display="none",a(this.canvas,this.scene.sys.canvas)):(this.canvas.dir="ltr",this.context.direction="ltr"),C.align==="left"?C.align="right":C.align==="right"&&(C.align="left"),this)},updateText:function(){var g=this.canvas,C=this.context,M=this.style,b=M.resolution,w=M.metrics;M.syncFont(g,C);var R=this._text;(M.wordWrapWidth||M.wordWrapCallback)&&(R=this.runWordWrap(this._text));var A=R.split(this.splitRegExp),L=s(this,w,A),D=this.padding,G;M.fixedWidth===0?(this.width=L.width+D.left+D.right,G=L.width):(this.width=M.fixedWidth,G=this.width-D.left-D.right,G<L.width&&(G=L.width)),M.fixedHeight===0?this.height=L.height+D.top+D.bottom:this.height=M.fixedHeight;var B=this.width,I=this.height;this.updateDisplayOrigin(),B*=b,I*=b,B=Math.max(B,1),I=Math.max(I,1),g.width!==B||g.height!==I?(g.width=B,g.height=I,this.frame.setSize(B,I),M.syncFont(g,C),M.rtl&&(C.direction="rtl")):C.clearRect(0,0,B,I),C.save(),C.scale(b,b),M.backgroundColor&&(C.fillStyle=M.backgroundColor,C.fillRect(0,0,B,I)),M.syncStyle(g,C),C.translate(D.left,D.top);for(var k,z,X=0;X<L.lines;X++){if(k=M.strokeThickness/2,z=M.strokeThickness/2+X*L.lineHeight+w.ascent,X>0&&(z+=L.lineSpacing*X),M.rtl)k=B-k-D.left-D.right;else if(M.align==="right")k+=G-L.lineWidths[X];else if(M.align==="center")k+=(G-L.lineWidths[X])/2;else if(M.align==="justify"){var H=.85;if(L.lineWidths[X]/L.width>=H){var Q=L.width-L.lineWidths[X],J=C.measureText(" ").width,Y=A[X].trim(),$=Y.split(" ");Q+=(A[X].length-Y.length)*J;for(var V=Math.floor(Q/J),U=0;V>0;)$[U]+=" ",U=(U+1)%($.length-1||1),--V;A[X]=$.join(" ")}}this.autoRound&&(k=Math.round(k),z=Math.round(z));var K=this.letterSpacing;if(M.strokeThickness&&K===0&&(M.syncShadow(C,M.shadowStroke),C.strokeText(A[X],k,z)),M.color)if(M.syncShadow(C,M.shadowFill),K!==0)for(var j=0,_=A[X].split(""),tt=0;tt<_.length;tt++)M.strokeThickness&&(M.syncShadow(C,M.shadowStroke),C.strokeText(_[tt],k+j,z),M.syncShadow(C,M.shadowFill)),C.fillText(_[tt],k+j,z),j+=C.measureText(_[tt]).width+K;else C.fillText(A[X],k,z)}C.restore(),this.renderer&&this.renderer.gl&&(this.frame.source.glTexture=this.renderer.canvasToTexture(g,this.frame.source.glTexture,!0));var rt=this.input;return rt&&!rt.customHitArea&&(rt.hitArea.width=this.width,rt.hitArea.height=this.height),this},getTextMetrics:function(){return this.style.getTextMetrics()},text:{get:function(){return this._text},set:function(g){this.setText(g)}},toJSON:function(){var g=l.ToJSON(this),C={autoRound:this.autoRound,text:this._text,style:this.style.toJSON(),padding:{left:this.padding.left,right:this.padding.right,top:this.padding.top,bottom:this.padding.bottom}};return g.data=C,g},preDestroy:function(){c(this.canvas),x.remove(this.canvas);var g=this.texture;g&&g.destroy()}});n.exports=m},79724:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(i,a,x,d){a.width===0||a.height===0||(x.addToRenderList(a),i.batchSprite(a,a.frame,x,d))};n.exports=T},71259:(n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=i(25305),x=i(44603),d=i(23568),l=i(50171);x.register("text",function(o,s){o===void 0&&(o={});var f=d(o,"text",""),c=d(o,"style",null),u=d(o,"padding",null);u!==null&&(c.padding=u);var v=new l(this.scene,0,0,f,c);return s!==void 0&&(o.add=s),a(this.scene,v,o),v.autoRound=d(o,"autoRound",!0),v.resolution=d(o,"resolution",1),v})},68005:(n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=i(50171),x=i(39429);x.register("text",function(d,l,o,s){return this.displayList.add(new a(this.scene,d,l,o,s))})},61771:(n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=i(29747),x=a,d=a;x=i(34397),d=i(79724),n.exports={renderWebGL:x,renderCanvas:d}},35762:(n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=i(83419),x=i(23568),d=i(35154),l=i(79557),o={fontFamily:["fontFamily","Courier"],fontSize:["fontSize","16px"],fontStyle:["fontStyle",""],backgroundColor:["backgroundColor",null],color:["color","#fff"],stroke:["stroke","#fff"],strokeThickness:["strokeThickness",0],shadowOffsetX:["shadow.offsetX",0],shadowOffsetY:["shadow.offsetY",0],shadowColor:["shadow.color","#000"],shadowBlur:["shadow.blur",0],shadowStroke:["shadow.stroke",!1],shadowFill:["shadow.fill",!1],align:["align","left"],maxLines:["maxLines",0],fixedWidth:["fixedWidth",0],fixedHeight:["fixedHeight",0],resolution:["resolution",0],rtl:["rtl",!1],testString:["testString","|MÃ‰qgy"],baselineX:["baselineX",1.2],baselineY:["baselineY",1.4],wordWrapWidth:["wordWrap.width",null],wordWrapCallback:["wordWrap.callback",null],wordWrapCallbackScope:["wordWrap.callbackScope",null],wordWrapUseAdvanced:["wordWrap.useAdvancedWrap",!1]},s=new a({initialize:function(c,u){this.parent=c,this.fontFamily,this.fontSize,this.fontStyle,this.backgroundColor,this.color,this.stroke,this.strokeThickness,this.shadowOffsetX,this.shadowOffsetY,this.shadowColor,this.shadowBlur,this.shadowStroke,this.shadowFill,this.align,this.maxLines,this.fixedWidth,this.fixedHeight,this.resolution,this.rtl,this.testString,this.baselineX,this.baselineY,this.wordWrapWidth,this.wordWrapCallback,this.wordWrapCallbackScope,this.wordWrapUseAdvanced,this._font,this.setStyle(u,!1,!0)},setStyle:function(f,c,u){c===void 0&&(c=!0),u===void 0&&(u=!1);for(var v in o){var p=u?o[v][1]:this[v];v==="wordWrapCallback"||v==="wordWrapCallbackScope"?this[v]=d(f,o[v][0],p):f&&v==="fontSize"&&typeof f.fontSize=="number"?this[v]=f.fontSize.toString()+"px":this[v]=x(f,o[v][0],p)}var m=d(f,"font",null);m!==null&&this.setFont(m,!1),this._font=[this.fontStyle,this.fontSize,this.fontFamily].join(" ").trim();var g=d(f,"fill",null);g!==null&&(this.color=g);var C=d(f,"metrics",!1);return C?this.metrics={ascent:d(C,"ascent",0),descent:d(C,"descent",0),fontSize:d(C,"fontSize",0)}:(c||!this.metrics)&&(this.metrics=l(this)),c?this.parent.updateText():this.parent},syncFont:function(f,c){c.font=this._font},syncStyle:function(f,c){c.textBaseline="alphabetic",c.fillStyle=this.color,c.strokeStyle=this.stroke,c.lineWidth=this.strokeThickness,c.lineCap="round",c.lineJoin="round"},syncShadow:function(f,c){c?(f.shadowOffsetX=this.shadowOffsetX,f.shadowOffsetY=this.shadowOffsetY,f.shadowColor=this.shadowColor,f.shadowBlur=this.shadowBlur):(f.shadowOffsetX=0,f.shadowOffsetY=0,f.shadowColor=0,f.shadowBlur=0)},update:function(f){return f&&(this._font=[this.fontStyle,this.fontSize,this.fontFamily].join(" ").trim(),this.metrics=l(this)),this.parent.updateText()},setFont:function(f,c){c===void 0&&(c=!0);var u=f,v="",p="";if(typeof f!="string")u=d(f,"fontFamily","Courier"),v=d(f,"fontSize","16px"),p=d(f,"fontStyle","");else{var m=f.split(" "),g=0;p=m.length>2?m[g++]:"",v=m[g++]||"16px",u=m[g++]||"Courier"}return(u!==this.fontFamily||v!==this.fontSize||p!==this.fontStyle)&&(this.fontFamily=u,this.fontSize=v,this.fontStyle=p,c&&this.update(!0)),this.parent},setFontFamily:function(f){return this.fontFamily!==f&&(this.fontFamily=f,this.update(!0)),this.parent},setFontStyle:function(f){return this.fontStyle!==f&&(this.fontStyle=f,this.update(!0)),this.parent},setFontSize:function(f){return typeof f=="number"&&(f=f.toString()+"px"),this.fontSize!==f&&(this.fontSize=f,this.update(!0)),this.parent},setTestString:function(f){return this.testString=f,this.update(!0)},setFixedSize:function(f,c){return this.fixedWidth=f,this.fixedHeight=c,f&&(this.parent.width=f),c&&(this.parent.height=c),this.update(!1)},setBackgroundColor:function(f){return this.backgroundColor=f,this.update(!1)},setFill:function(f){return this.color=f,this.update(!1)},setColor:function(f){return this.color=f,this.update(!1)},setResolution:function(f){return this.resolution=f,this.update(!1)},setStroke:function(f,c){return c===void 0&&(c=this.strokeThickness),f===void 0&&this.strokeThickness!==0?(this.strokeThickness=0,this.update(!0)):(this.stroke!==f||this.strokeThickness!==c)&&(this.stroke=f,this.strokeThickness=c,this.update(!0)),this.parent},setShadow:function(f,c,u,v,p,m){return f===void 0&&(f=0),c===void 0&&(c=0),u===void 0&&(u="#000"),v===void 0&&(v=0),p===void 0&&(p=!1),m===void 0&&(m=!0),this.shadowOffsetX=f,this.shadowOffsetY=c,this.shadowColor=u,this.shadowBlur=v,this.shadowStroke=p,this.shadowFill=m,this.update(!1)},setShadowOffset:function(f,c){return f===void 0&&(f=0),c===void 0&&(c=f),this.shadowOffsetX=f,this.shadowOffsetY=c,this.update(!1)},setShadowColor:function(f){return f===void 0&&(f="#000"),this.shadowColor=f,this.update(!1)},setShadowBlur:function(f){return f===void 0&&(f=0),this.shadowBlur=f,this.update(!1)},setShadowStroke:function(f){return this.shadowStroke=f,this.update(!1)},setShadowFill:function(f){return this.shadowFill=f,this.update(!1)},setWordWrapWidth:function(f,c){return c===void 0&&(c=!1),this.wordWrapWidth=f,this.wordWrapUseAdvanced=c,this.update(!1)},setWordWrapCallback:function(f,c){return c===void 0&&(c=null),this.wordWrapCallback=f,this.wordWrapCallbackScope=c,this.update(!1)},setAlign:function(f){return f===void 0&&(f="left"),this.align=f,this.update(!1)},setMaxLines:function(f){return f===void 0&&(f=0),this.maxLines=f,this.update(!1)},getTextMetrics:function(){var f=this.metrics;return{ascent:f.ascent,descent:f.descent,fontSize:f.fontSize}},toJSON:function(){var f={};for(var c in o)f[c]=this[c];return f.metrics=this.getTextMetrics(),f},destroy:function(){this.parent=void 0}});n.exports=s},34397:(n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=i(70554),x=function(d,l,o,s){if(!(l.width===0||l.height===0)){o.addToRenderList(l);var f=l.frame,c=f.width,u=f.height,v=a.getTintAppendFloatAlpha,p=d.pipelines.set(l.pipeline,l),m=p.setTexture2D(f.glTexture,l);p.batchTexture(l,f.glTexture,c,u,l.x,l.y,c/l.style.resolution,u/l.style.resolution,l.scaleX,l.scaleY,l.rotation,l.flipX,l.flipY,l.scrollFactorX,l.scrollFactorY,l.displayOriginX,l.displayOriginY,0,0,c,u,v(l.tintTopLeft,o.alpha*l._alphaTL),v(l.tintTopRight,o.alpha*l._alphaTR),v(l.tintBottomLeft,o.alpha*l._alphaBL),v(l.tintBottomRight,o.alpha*l._alphaBR),l.tintFill,0,0,o,s,!1,m)}};n.exports=x},20839:(n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=i(27919),x=i(83419),d=i(31401),l=i(95643),o=i(98439),s=i(68703),f=i(56295),c=i(45650),u=i(26099),v=8,p=new x({Extends:l,Mixins:[d.Alpha,d.BlendMode,d.ComputedSize,d.Crop,d.Depth,d.Flip,d.GetBounds,d.Mask,d.Origin,d.Pipeline,d.PostPipeline,d.ScrollFactor,d.Tint,d.Transform,d.Visible,f],initialize:function(g,C,M,b,w,R,A){var L=g.sys.renderer;l.call(this,g,"TileSprite");var D=g.sys.textures.get(R),G=D.get(A);G.source.compressionAlgorithm&&(console.warn("TileSprite cannot use compressed texture"),D=g.sys.textures.get("__MISSING"),G=D.get()),D.type==="DynamicTexture"&&(console.warn("TileSprite cannot use Dynamic Texture"),D=g.sys.textures.get("__MISSING"),G=D.get()),!b||!w?(b=b||G.width,w=w||G.height):(b=Math.floor(b),w=Math.floor(w)),this._tilePosition=new u,this._tileScale=new u(1,1),this.dirty=!1,this.renderer=L,this.canvas=a.create(this,b,w),this.context=this.canvas.getContext("2d",{willReadFrequently:!1}),this.displayTexture=D,this.displayFrame=G,this._crop=this.resetCropObject(),this._textureKey=c(),this.texture=g.sys.textures.addCanvas(this._textureKey,this.canvas),this.frame=this.texture.get(),this.potWidth=o(G.width),this.potHeight=o(G.height),this.fillCanvas=a.create2D(this,this.potWidth,this.potHeight),this.fillContext=this.fillCanvas.getContext("2d",{willReadFrequently:!1}),this.fillPattern=null,this.setPosition(C,M),this.setSize(b,w),this.setFrame(A),this.setOriginFromFrame(),this.initPipeline(),this.initPostPipeline(!0)},setTexture:function(m,g){return this.displayTexture=this.scene.sys.textures.get(m),this.setFrame(g)},setFrame:function(m){var g=this.displayTexture.get(m);return this.potWidth=o(g.width),this.potHeight=o(g.height),this.canvas.width=0,!g.cutWidth||!g.cutHeight?this.renderFlags&=~v:this.renderFlags|=v,this.displayFrame=g,this.dirty=!0,this.updateTileTexture(),this},setTilePosition:function(m,g){return m!==void 0&&(this.tilePositionX=m),g!==void 0&&(this.tilePositionY=g),this},setTileScale:function(m,g){return m===void 0&&(m=this.tileScaleX),g===void 0&&(g=m),this.tileScaleX=m,this.tileScaleY=g,this},updateTileTexture:function(){if(!(!this.dirty||!this.renderer)){var m=this.displayFrame;if(m.source.isRenderTexture||m.source.isGLTexture){console.warn("TileSprites can only use Image or Canvas based textures"),this.dirty=!1;return}var g=this.fillContext,C=this.fillCanvas,M=this.potWidth,b=this.potHeight;(!this.renderer||!this.renderer.gl)&&(M=m.cutWidth,b=m.cutHeight),g.clearRect(0,0,M,b),C.width=M,C.height=b,g.drawImage(m.source.image,m.cutX,m.cutY,m.cutWidth,m.cutHeight,0,0,M,b),this.renderer&&this.renderer.gl?this.fillPattern=this.renderer.canvasToTexture(C,this.fillPattern):this.fillPattern=g.createPattern(C,"repeat"),this.updateCanvas(),this.dirty=!1}},updateCanvas:function(){var m=this.canvas;if((m.width!==this.width||m.height!==this.height)&&(m.width=this.width,m.height=this.height,this.frame.setSize(this.width,this.height),this.updateDisplayOrigin(),this.dirty=!0),!this.dirty||this.renderer&&this.renderer.gl){this.dirty=!1;return}var g=this.context;this.scene.sys.game.config.antialias||s.disable(g);var C=this._tileScale.x,M=this._tileScale.y,b=this._tilePosition.x,w=this._tilePosition.y;g.clearRect(0,0,this.width,this.height),g.save(),g.scale(C,M),g.translate(-b,-w),g.fillStyle=this.fillPattern,g.fillRect(b,w,this.width/C,this.height/M),g.restore(),this.dirty=!1},preDestroy:function(){this.renderer&&this.renderer.gl&&this.renderer.deleteTexture(this.fillPattern),a.remove(this.canvas),a.remove(this.fillCanvas),this.fillPattern=null,this.fillContext=null,this.fillCanvas=null,this.displayTexture=null,this.displayFrame=null;var m=this.texture;m&&m.destroy(),this.renderer=null},tilePositionX:{get:function(){return this._tilePosition.x},set:function(m){this._tilePosition.x=m,this.dirty=!0}},tilePositionY:{get:function(){return this._tilePosition.y},set:function(m){this._tilePosition.y=m,this.dirty=!0}},tileScaleX:{get:function(){return this._tileScale.x},set:function(m){this._tileScale.x=m,this.dirty=!0}},tileScaleY:{get:function(){return this._tileScale.y},set:function(m){this._tileScale.y=m,this.dirty=!0}}});n.exports=p},46992:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(i,a,x,d){a.updateCanvas(),x.addToRenderList(a),i.batchSprite(a,a.frame,x,d)};n.exports=T},14167:(n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=i(25305),x=i(44603),d=i(23568),l=i(20839);x.register("tileSprite",function(o,s){o===void 0&&(o={});var f=d(o,"x",0),c=d(o,"y",0),u=d(o,"width",512),v=d(o,"height",512),p=d(o,"key",""),m=d(o,"frame",""),g=new l(this.scene,f,c,u,v,p,m);return s!==void 0&&(o.add=s),a(this.scene,g,o),g})},91681:(n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=i(20839),x=i(39429);x.register("tileSprite",function(d,l,o,s,f,c){return this.displayList.add(new a(this.scene,d,l,o,s,f,c))})},56295:(n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=i(29747),x=a,d=a;x=i(18553),d=i(46992),n.exports={renderWebGL:x,renderCanvas:d}},18553:(n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=i(70554),x=function(d,l,o,s){l.updateCanvas();var f=l.width,c=l.height;if(!(f===0||c===0)){o.addToRenderList(l);var u=a.getTintAppendFloatAlpha,v=d.pipelines.set(l.pipeline,l),p=v.setTexture2D(l.fillPattern,l);v.batchTexture(l,l.fillPattern,l.displayFrame.width*l.tileScaleX,l.displayFrame.height*l.tileScaleY,l.x,l.y,f,c,l.scaleX,l.scaleY,l.rotation,l.flipX,l.flipY,l.scrollFactorX,l.scrollFactorY,l.originX*f,l.originY*c,0,0,f,c,u(l.tintTopLeft,o.alpha*l._alphaTL),u(l.tintTopRight,o.alpha*l._alphaTR),u(l.tintBottomLeft,o.alpha*l._alphaBL),u(l.tintBottomRight,o.alpha*l._alphaBR),l.tintFill,l.tilePositionX%l.displayFrame.width/l.displayFrame.width,l.tilePositionY%l.displayFrame.height/l.displayFrame.height,o,s,!1,p)}};n.exports=x},18471:(n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=i(45319),x=i(83419),d=i(31401),l=i(51708),o=i(8443),s=i(95643),f=i(36383),c=i(14463),u=i(45650),v=i(10247),p=new x({Extends:s,Mixins:[d.Alpha,d.BlendMode,d.ComputedSize,d.Depth,d.Flip,d.GetBounds,d.Mask,d.Origin,d.Pipeline,d.PostPipeline,d.ScrollFactor,d.TextureCrop,d.Tint,d.Transform,d.Visible,v],initialize:function(g,C,M,b){s.call(this,g,"Video"),this.video,this.videoTexture,this.videoTextureSource,this.snapshotTexture,this.flipY=!1,this._key=u(),this.touchLocked=!1,this.playWhenUnlocked=!1,this.frameReady=!1,this.isStalled=!1,this.failedPlayAttempts=0,this.metadata,this.retry=0,this.retryInterval=500,this._systemMuted=!1,this._codeMuted=!1,this._systemPaused=!1,this._codePaused=!1,this._callbacks={ended:this.completeHandler.bind(this),legacy:this.legacyPlayHandler.bind(this),playing:this.playingHandler.bind(this),seeked:this.seekedHandler.bind(this),seeking:this.seekingHandler.bind(this),stalled:this.stalledHandler.bind(this),suspend:this.stalledHandler.bind(this),waiting:this.stalledHandler.bind(this)},this._loadCallbackHandler=this.loadErrorHandler.bind(this),this._metadataCallbackHandler=this.metadataHandler.bind(this),this._crop=this.resetCropObject(),this.markers={},this._markerIn=0,this._markerOut=0,this._playingMarker=!1,this._lastUpdate=0,this.cacheKey="",this.isSeeking=!1,this._playCalled=!1,this._getFrame=!1,this._rfvCallbackId=0;var w=g.sys.game;this._device=w.device.video,this.setPosition(C,M),this.setSize(256,256),this.initPipeline(),this.initPostPipeline(!0),w.events.on(o.PAUSE,this.globalPause,this),w.events.on(o.RESUME,this.globalResume,this);var R=g.sys.sound;R&&R.on(c.GLOBAL_MUTE,this.globalMute,this),b&&this.load(b)},addedToScene:function(){this.scene.sys.updateList.add(this)},removedFromScene:function(){this.scene.sys.updateList.remove(this)},load:function(m){var g=this.scene.sys.cache.video.get(m);return g?(this.cacheKey=m,this.loadHandler(g.url,g.noAudio,g.crossOrigin)):console.warn("No video in cache for key: "+m),this},changeSource:function(m,g,C,M,b){g===void 0&&(g=!0),C===void 0&&(C=!1),this.cacheKey!==m&&(this.load(m),g&&this.play(C,M,b))},getVideoKey:function(){return this.cacheKey},loadURL:function(m,g,C){g===void 0&&(g=!1);var M=this._device.getVideoURL(m);return M?(this.cacheKey="",this.loadHandler(M.url,g,C)):console.warn("No supported video format found for "+m),this},loadMediaStream:function(m,g,C){return this.loadHandler(null,g,C,m)},loadHandler:function(m,g,C,M){g||(g=!1);var b=this.video;if(b?(this.removeLoadEventHandlers(),this.stop()):(b=document.createElement("video"),b.controls=!1,b.setAttribute("playsinline","playsinline"),b.setAttribute("preload","auto"),b.setAttribute("disablePictureInPicture","true")),g?(b.muted=!0,b.defaultMuted=!0,b.setAttribute("autoplay","autoplay")):(b.muted=!1,b.defaultMuted=!1,b.removeAttribute("autoplay")),C?b.setAttribute("crossorigin",C):b.removeAttribute("crossorigin"),M)if("srcObject"in b)try{b.srcObject=M}catch(R){if(R.name!=="TypeError")throw R;b.src=URL.createObjectURL(M)}else b.src=URL.createObjectURL(M);else b.src=m;this.retry=0,this.video=b,this._playCalled=!1,b.load(),this.addLoadEventHandlers();var w=this.scene.sys.textures.get(this._key);return this.setTexture(w),this},requestVideoFrame:function(m,g){var C=this.video;if(C){var M=g.width,b=g.height,w=this.videoTexture,R=this.videoTextureSource,A=!w||R.source!==C;A?(this._codePaused=C.paused,this._codeMuted=C.muted,w?(R.source=C,R.width=M,R.height=b,w.get().setSize(M,b)):(w=this.scene.sys.textures.create(this._key,C,M,b),w.add("__BASE",0,0,0,M,b),this.setTexture(w),this.videoTexture=w,this.videoTextureSource=w.source[0],this.videoTextureSource.setFlipY(this.flipY),this.emit(l.VIDEO_TEXTURE,this,w)),this.setSizeToFrame(),this.updateDisplayOrigin()):R.update(),this.isStalled=!1,this.metadata=g;var L=g.mediaTime;A&&(this._lastUpdate=L,this.emit(l.VIDEO_CREATED,this,M,b),this.frameReady||(this.frameReady=!0,this.emit(l.VIDEO_PLAY,this))),this._playingMarker?L>=this._markerOut&&(C.loop?(C.currentTime=this._markerIn,this.emit(l.VIDEO_LOOP,this)):(this.stop(!1),this.emit(l.VIDEO_COMPLETE,this))):L<this._lastUpdate&&this.emit(l.VIDEO_LOOP,this),this._lastUpdate=L,this._getFrame?(this.removeEventHandlers(),C.pause(),this._getFrame=!1):this._rfvCallbackId=this.video.requestVideoFrameCallback(this.requestVideoFrame.bind(this))}},play:function(m,g,C){g===void 0&&(g=-1),C===void 0&&(C=f.MAX_SAFE_INTEGER);var M=this.video;return!M||this.isPlaying()?(M||console.warn("Video not loaded"),this):(m===void 0&&(m=M.loop),M.loop=m,this._markerIn=g,this._markerOut=C,this._playingMarker=g>-1&&C>g&&C<f.MAX_SAFE_INTEGER,this._playCalled||(this._getFrame=!1,this._rfvCallbackId=M.requestVideoFrameCallback(this.requestVideoFrame.bind(this)),this._playCalled=!0,this.createPlayPromise()),this)},getFirstFrame:function(){var m=this.video;return!m||this.isPlaying()?(m||console.warn("Video not loaded"),this):(this._playCalled||(this._getFrame=!0,this._rfvCallbackId=m.requestVideoFrameCallback(this.requestVideoFrame.bind(this)),this.createPlayPromise()),this)},addLoadEventHandlers:function(){var m=this.video;m&&(m.addEventListener("error",this._loadCallbackHandler),m.addEventListener("abort",this._loadCallbackHandler),m.addEventListener("loadedmetadata",this._metadataCallbackHandler))},removeLoadEventHandlers:function(){var m=this.video;m&&(m.removeEventListener("error",this._loadCallbackHandler),m.removeEventListener("abort",this._loadCallbackHandler))},addEventHandlers:function(){var m=this.video;if(m){var g=this._callbacks;for(var C in g)m.addEventListener(C,g[C])}},removeEventHandlers:function(){var m=this.video;if(m){var g=this._callbacks;for(var C in g)m.removeEventListener(C,g[C])}},createPlayPromise:function(m){m===void 0&&(m=!0);var g=this.video,C=g.play();if(C!==void 0){var M=this.playSuccess.bind(this),b=this.playError.bind(this);if(!m){var w=this;b=function(){w.failedPlayAttempts++}}C.then(M).catch(b)}else g.addEventListener("playing",this._callbacks.legacy),m||this.failedPlayAttempts++},addMarker:function(m,g,C){return!isNaN(g)&&g>=0&&!isNaN(C)&&C>g&&(this.markers[m]=[g,C]),this},playMarker:function(m,g){var C=this.markers[m];return C&&this.play(g,C[0],C[1]),this},removeMarker:function(m){return delete this.markers[m],this},snapshot:function(m,g){return m===void 0&&(m=this.width),g===void 0&&(g=this.height),this.snapshotArea(0,0,this.width,this.height,m,g)},snapshotArea:function(m,g,C,M,b,w){m===void 0&&(m=0),g===void 0&&(g=0),C===void 0&&(C=this.width),M===void 0&&(M=this.height),b===void 0&&(b=C),w===void 0&&(w=M);var R=this.video,A=this.snapshotTexture;return A?(A.setSize(b,w),R&&A.context.drawImage(R,m,g,C,M,0,0,b,w)):(A=this.scene.sys.textures.createCanvas(u(),b,w),this.snapshotTexture=A,R&&A.context.drawImage(R,m,g,C,M,0,0,b,w)),A.update()},saveSnapshotTexture:function(m){return this.snapshotTexture?this.scene.sys.textures.renameTexture(this.snapshotTexture.key,m):this.snapshotTexture=this.scene.sys.textures.createCanvas(m,this.width,this.height),this.snapshotTexture},playSuccess:function(){if(this._playCalled){this.addEventHandlers(),this._codePaused=!1,this.touchLocked&&(this.touchLocked=!1,this.emit(l.VIDEO_UNLOCKED,this));var m=this.scene.sys.sound;m&&m.mute&&this.setMute(!0),this._markerIn>-1&&(this.video.currentTime=this._markerIn)}},playError:function(m){var g=m.name;g==="NotAllowedError"?(this.touchLocked=!0,this.playWhenUnlocked=!0,this.failedPlayAttempts=1,this.emit(l.VIDEO_LOCKED,this)):g==="NotSupportedError"?(this.stop(!1),this.emit(l.VIDEO_UNSUPPORTED,this,m)):(this.stop(!1),this.emit(l.VIDEO_ERROR,this,m))},legacyPlayHandler:function(){var m=this.video;m&&(this.playSuccess(),m.removeEventListener("playing",this._callbacks.legacy))},playingHandler:function(){this.isStalled=!1,this.emit(l.VIDEO_PLAYING,this)},loadErrorHandler:function(m){this.stop(!1),this.emit(l.VIDEO_ERROR,this,m)},metadataHandler:function(m){this.emit(l.VIDEO_METADATA,this,m)},setSizeToFrame:function(m){m||(m=this.frame),this.width=m.realWidth,this.height=m.realHeight,this.scaleX!==1&&(this.scaleX=this.displayWidth/this.width),this.scaleY!==1&&(this.scaleY=this.displayHeight/this.height);var g=this.input;return g&&!g.customHitArea&&(g.hitArea.width=this.width,g.hitArea.height=this.height),this},stalledHandler:function(m){this.isStalled=!0,this.emit(l.VIDEO_STALLED,this,m)},completeHandler:function(){this._playCalled=!1,this.emit(l.VIDEO_COMPLETE,this)},preUpdate:function(m,g){var C=this.video;!C||!this._playCalled||this.touchLocked&&this.playWhenUnlocked&&(this.retry+=g,this.retry>=this.retryInterval&&(this.createPlayPromise(!1),this.retry=0))},seekTo:function(m){var g=this.video;if(g){var C=g.duration;if(C!==1/0&&!isNaN(C)){var M=C*m;this.setCurrentTime(M)}}return this},getCurrentTime:function(){return this.video?this.video.currentTime:0},setCurrentTime:function(m){var g=this.video;if(g){if(typeof m=="string"){var C=m[0],M=parseFloat(m.substr(1));C==="+"?m=g.currentTime+M:C==="-"&&(m=g.currentTime-M)}g.currentTime=m}return this},seekingHandler:function(){this.isSeeking=!0,this.emit(l.VIDEO_SEEKING,this)},seekedHandler:function(){this.isSeeking=!1,this.emit(l.VIDEO_SEEKED,this)},getProgress:function(){var m=this.video;if(m){var g=m.duration;if(g!==1/0&&!isNaN(g))return m.currentTime/g}return-1},getDuration:function(){return this.video?this.video.duration:0},setMute:function(m){m===void 0&&(m=!0),this._codeMuted=m;var g=this.video;return g&&(g.muted=this._systemMuted?!0:m),this},isMuted:function(){return this._codeMuted},globalMute:function(m,g){this._systemMuted=g;var C=this.video;C&&(C.muted=this._codeMuted?!0:g)},globalPause:function(){this._systemPaused=!0,this.video&&!this.video.ended&&(this.removeEventHandlers(),this.video.pause())},globalResume:function(){this._systemPaused=!1,this.video&&!this._codePaused&&!this.video.ended&&this.createPlayPromise()},setPaused:function(m){m===void 0&&(m=!0);var g=this.video;return this._codePaused=m,g&&!g.ended&&(m?g.paused||(this.removeEventHandlers(),g.pause()):m||(this._playCalled?g.paused&&!this._systemPaused&&this.createPlayPromise():this.play())),this},pause:function(){return this.setPaused(!0)},resume:function(){return this.setPaused(!1)},getVolume:function(){return this.video?this.video.volume:1},setVolume:function(m){return m===void 0&&(m=1),this.video&&(this.video.volume=a(m,0,1)),this},getPlaybackRate:function(){return this.video?this.video.playbackRate:1},setPlaybackRate:function(m){return this.video&&(this.video.playbackRate=m),this},getLoop:function(){return this.video?this.video.loop:!1},setLoop:function(m){return m===void 0&&(m=!0),this.video&&(this.video.loop=m),this},isPlaying:function(){return this.video?!(this.video.paused||this.video.ended):!1},isPaused:function(){return this.video&&this._playCalled&&this.video.paused||this._codePaused||this._systemPaused},saveTexture:function(m,g){return g===void 0&&(g=!1),this.videoTexture&&(this.scene.sys.textures.renameTexture(this._key,m),this.videoTextureSource.setFlipY(g)),this._key=m,this.flipY=g,!!this.videoTexture},stop:function(m){m===void 0&&(m=!0);var g=this.video;return g&&(this.removeEventHandlers(),g.cancelVideoFrameCallback(this._rfvCallbackId),g.pause()),this.retry=0,this._playCalled=!1,m&&this.emit(l.VIDEO_STOP,this),this},removeVideoElement:function(){var m=this.video;if(m){for(m.parentNode&&m.parentNode.removeChild(m);m.hasChildNodes();)m.removeChild(m.firstChild);m.removeAttribute("autoplay"),m.removeAttribute("src"),this.video=null}},preDestroy:function(){this.stop(!1),this.removeLoadEventHandlers(),this.removeVideoElement();var m=this.scene.sys.game.events;m.off(o.PAUSE,this.globalPause,this),m.off(o.RESUME,this.globalResume,this);var g=this.scene.sys.sound;g&&g.off(c.GLOBAL_MUTE,this.globalMute,this)}});n.exports=p},58352:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(i,a,x,d){a.videoTexture&&(x.addToRenderList(a),i.batchSprite(a,a.frame,x,d))};n.exports=T},11511:(n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=i(25305),x=i(44603),d=i(23568),l=i(18471);x.register("video",function(o,s){o===void 0&&(o={});var f=d(o,"key",null),c=new l(this.scene,0,0,f);return s!==void 0&&(o.add=s),a(this.scene,c,o),c})},89025:(n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=i(18471),x=i(39429);x.register("video",function(d,l,o){return this.displayList.add(new a(this.scene,d,l,o))})},10247:(n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=i(29747),x=a,d=a;x=i(29849),d=i(58352),n.exports={renderWebGL:x,renderCanvas:d}},29849:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(i,a,x,d){a.videoTexture&&(x.addToRenderList(a),a.pipeline.batchSprite(a,x,d))};n.exports=T},41481:(n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=i(10312),x=i(96503),d=i(87902),l=i(83419),o=i(31401),s=i(95643),f=i(87841),c=i(37303),u=new l({Extends:s,Mixins:[o.Depth,o.GetBounds,o.Origin,o.Transform,o.ScrollFactor,o.Visible],initialize:function(p,m,g,C,M){C===void 0&&(C=1),M===void 0&&(M=C),s.call(this,p,"Zone"),this.setPosition(m,g),this.width=C,this.height=M,this.blendMode=a.NORMAL,this.updateDisplayOrigin()},displayWidth:{get:function(){return this.scaleX*this.width},set:function(v){this.scaleX=v/this.width}},displayHeight:{get:function(){return this.scaleY*this.height},set:function(v){this.scaleY=v/this.height}},setSize:function(v,p,m){m===void 0&&(m=!0),this.width=v,this.height=p,this.updateDisplayOrigin();var g=this.input;return m&&g&&!g.customHitArea&&(g.hitArea.width=v,g.hitArea.height=p),this},setDisplaySize:function(v,p){return this.displayWidth=v,this.displayHeight=p,this},setCircleDropZone:function(v){return this.setDropZone(new x(0,0,v),d)},setRectangleDropZone:function(v,p){return this.setDropZone(new f(0,0,v,p),c)},setDropZone:function(v,p){return this.input||this.setInteractive(v,p,!0),this},setAlpha:function(){},setBlendMode:function(){},renderCanvas:function(v,p,m){m.addToRenderList(p)},renderWebGL:function(v,p,m){m.addToRenderList(p)}});n.exports=u},95261:(n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=i(44603),x=i(23568),d=i(41481);a.register("zone",function(l){var o=x(l,"x",0),s=x(l,"y",0),f=x(l,"width",1),c=x(l,"height",f);return new d(this.scene,o,s,f,c)})},84175:(n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=i(41481),x=i(39429);x.register("zone",function(d,l,o,s){return this.displayList.add(new a(this.scene,d,l,o,s))})},95166:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(i){return i.radius>0?Math.PI*i.radius*i.radius:0};n.exports=T},96503:(n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=i(83419),x=i(87902),d=i(26241),l=i(79124),o=i(23777),s=i(28176),f=new a({initialize:function(u,v,p){u===void 0&&(u=0),v===void 0&&(v=0),p===void 0&&(p=0),this.type=o.CIRCLE,this.x=u,this.y=v,this._radius=p,this._diameter=p*2},contains:function(c,u){return x(this,c,u)},getPoint:function(c,u){return d(this,c,u)},getPoints:function(c,u,v){return l(this,c,u,v)},getRandomPoint:function(c){return s(this,c)},setTo:function(c,u,v){return this.x=c,this.y=u,this._radius=v,this._diameter=v*2,this},setEmpty:function(){return this._radius=0,this._diameter=0,this},setPosition:function(c,u){return u===void 0&&(u=c),this.x=c,this.y=u,this},isEmpty:function(){return this._radius<=0},radius:{get:function(){return this._radius},set:function(c){this._radius=c,this._diameter=c*2}},diameter:{get:function(){return this._diameter},set:function(c){this._diameter=c,this._radius=c*.5}},left:{get:function(){return this.x-this._radius},set:function(c){this.x=c+this._radius}},right:{get:function(){return this.x+this._radius},set:function(c){this.x=c-this._radius}},top:{get:function(){return this.y-this._radius},set:function(c){this.y=c+this._radius}},bottom:{get:function(){return this.y+this._radius},set:function(c){this.y=c-this._radius}}});n.exports=f},71562:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(i){return 2*(Math.PI*i.radius)};n.exports=T},92110:(n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=i(2141),x=function(d,l,o){return o===void 0&&(o=new a),o.x=d.x+d.radius*Math.cos(l),o.y=d.y+d.radius*Math.sin(l),o};n.exports=x},42250:(n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=i(96503),x=function(d){return new a(d.x,d.y,d.radius)};n.exports=x},87902:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(i,a,x){if(i.radius>0&&a>=i.left&&a<=i.right&&x>=i.top&&x<=i.bottom){var d=(i.x-a)*(i.x-a),l=(i.y-x)*(i.y-x);return d+l<=i.radius*i.radius}else return!1};n.exports=T},5698:(n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=i(87902),x=function(d,l){return a(d,l.x,l.y)};n.exports=x},70588:(n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=i(87902),x=function(d,l){return a(d,l.x,l.y)&&a(d,l.right,l.y)&&a(d,l.x,l.bottom)&&a(d,l.right,l.bottom)};n.exports=x},26394:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(i,a){return a.setTo(i.x,i.y,i.radius)};n.exports=T},76278:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(i,a){return i.x===a.x&&i.y===a.y&&i.radius===a.radius};n.exports=T},2074:(n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=i(87841),x=function(d,l){return l===void 0&&(l=new a),l.x=d.left,l.y=d.top,l.width=d.diameter,l.height=d.diameter,l};n.exports=x},26241:(n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=i(92110),x=i(62945),d=i(36383),l=i(2141),o=function(s,f,c){c===void 0&&(c=new l);var u=x(f,0,d.PI2);return a(s,u,c)};n.exports=o},79124:(n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=i(71562),x=i(92110),d=i(62945),l=i(36383),o=function(s,f,c,u){u===void 0&&(u=[]),!f&&c>0&&(f=a(s)/c);for(var v=0;v<f;v++){var p=d(v/f,0,l.PI2);u.push(x(s,p))}return u};n.exports=o},50884:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(i,a,x){return i.x+=a,i.y+=x,i};n.exports=T},39212:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(i,a){return i.x+=a.x,i.y+=a.y,i};n.exports=T},28176:(n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=i(2141),x=function(d,l){l===void 0&&(l=new a);var o=2*Math.PI*Math.random(),s=Math.random()+Math.random(),f=s>1?2-s:s,c=f*Math.cos(o),u=f*Math.sin(o);return l.x=d.x+c*d.radius,l.y=d.y+u*d.radius,l};n.exports=x},88911:(n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=i(96503);a.Area=i(95166),a.Circumference=i(71562),a.CircumferencePoint=i(92110),a.Clone=i(42250),a.Contains=i(87902),a.ContainsPoint=i(5698),a.ContainsRect=i(70588),a.CopyFrom=i(26394),a.Equals=i(76278),a.GetBounds=i(2074),a.GetPoint=i(26241),a.GetPoints=i(79124),a.Offset=i(50884),a.OffsetPoint=i(39212),a.Random=i(28176),n.exports=a},23777:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T={CIRCLE:0,ELLIPSE:1,LINE:2,POINT:3,POLYGON:4,RECTANGLE:5,TRIANGLE:6};n.exports=T},78874:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(i){return i.isEmpty()?0:i.getMajorRadius()*i.getMinorRadius()*Math.PI};n.exports=T},92990:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(i){var a=i.width/2,x=i.height/2,d=Math.pow(a-x,2)/Math.pow(a+x,2);return Math.PI*(a+x)*(1+3*d/(10+Math.sqrt(4-3*d)))};n.exports=T},79522:(n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=i(2141),x=function(d,l,o){o===void 0&&(o=new a);var s=d.width/2,f=d.height/2;return o.x=d.x+s*Math.cos(l),o.y=d.y+f*Math.sin(l),o};n.exports=x},58102:(n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=i(8497),x=function(d){return new a(d.x,d.y,d.width,d.height)};n.exports=x},81154:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(i,a,x){if(i.width<=0||i.height<=0)return!1;var d=(a-i.x)/i.width,l=(x-i.y)/i.height;return d*=d,l*=l,d+l<.25};n.exports=T},46662:(n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=i(81154),x=function(d,l){return a(d,l.x,l.y)};n.exports=x},1632:(n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=i(81154),x=function(d,l){return a(d,l.x,l.y)&&a(d,l.right,l.y)&&a(d,l.x,l.bottom)&&a(d,l.right,l.bottom)};n.exports=x},65534:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(i,a){return a.setTo(i.x,i.y,i.width,i.height)};n.exports=T},8497:(n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=i(83419),x=i(81154),d=i(90549),l=i(48320),o=i(23777),s=i(24820),f=new a({initialize:function(u,v,p,m){u===void 0&&(u=0),v===void 0&&(v=0),p===void 0&&(p=0),m===void 0&&(m=0),this.type=o.ELLIPSE,this.x=u,this.y=v,this.width=p,this.height=m},contains:function(c,u){return x(this,c,u)},getPoint:function(c,u){return d(this,c,u)},getPoints:function(c,u,v){return l(this,c,u,v)},getRandomPoint:function(c){return s(this,c)},setTo:function(c,u,v,p){return this.x=c,this.y=u,this.width=v,this.height=p,this},setEmpty:function(){return this.width=0,this.height=0,this},setPosition:function(c,u){return u===void 0&&(u=c),this.x=c,this.y=u,this},setSize:function(c,u){return u===void 0&&(u=c),this.width=c,this.height=u,this},isEmpty:function(){return this.width<=0||this.height<=0},getMinorRadius:function(){return Math.min(this.width,this.height)/2},getMajorRadius:function(){return Math.max(this.width,this.height)/2},left:{get:function(){return this.x-this.width/2},set:function(c){this.x=c+this.width/2}},right:{get:function(){return this.x+this.width/2},set:function(c){this.x=c-this.width/2}},top:{get:function(){return this.y-this.height/2},set:function(c){this.y=c+this.height/2}},bottom:{get:function(){return this.y+this.height/2},set:function(c){this.y=c-this.height/2}}});n.exports=f},36146:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(i,a){return i.x===a.x&&i.y===a.y&&i.width===a.width&&i.height===a.height};n.exports=T},23694:(n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=i(87841),x=function(d,l){return l===void 0&&(l=new a),l.x=d.left,l.y=d.top,l.width=d.width,l.height=d.height,l};n.exports=x},90549:(n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=i(79522),x=i(62945),d=i(36383),l=i(2141),o=function(s,f,c){c===void 0&&(c=new l);var u=x(f,0,d.PI2);return a(s,u,c)};n.exports=o},48320:(n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=i(92990),x=i(79522),d=i(62945),l=i(36383),o=function(s,f,c,u){u===void 0&&(u=[]),!f&&c>0&&(f=a(s)/c);for(var v=0;v<f;v++){var p=d(v/f,0,l.PI2);u.push(x(s,p))}return u};n.exports=o},73424:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(i,a,x){return i.x+=a,i.y+=x,i};n.exports=T},44808:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(i,a){return i.x+=a.x,i.y+=a.y,i};n.exports=T},24820:(n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=i(2141),x=function(d,l){l===void 0&&(l=new a);var o=Math.random()*Math.PI*2,s=Math.sqrt(Math.random());return l.x=d.x+s*Math.cos(o)*d.width/2,l.y=d.y+s*Math.sin(o)*d.height/2,l};n.exports=x},49203:(n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=i(8497);a.Area=i(78874),a.Circumference=i(92990),a.CircumferencePoint=i(79522),a.Clone=i(58102),a.Contains=i(81154),a.ContainsPoint=i(46662),a.ContainsRect=i(1632),a.CopyFrom=i(65534),a.Equals=i(36146),a.GetBounds=i(23694),a.GetPoint=i(90549),a.GetPoints=i(48320),a.Offset=i(73424),a.OffsetPoint=i(44808),a.Random=i(24820),n.exports=a},55738:(n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=i(23777),x=i(79291),d={Circle:i(88911),Ellipse:i(49203),Intersects:i(91865),Line:i(2529),Mesh:i(73090),Point:i(43711),Polygon:i(58423),Rectangle:i(93232),Triangle:i(84435)};d=x(!1,d,a),n.exports=d},2044:(n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=i(20339),x=function(d,l){return a(d.x,d.y,l.x,l.y)<=d.radius+l.radius};n.exports=x},81491:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(i,a){var x=a.width/2,d=a.height/2,l=Math.abs(i.x-a.x-x),o=Math.abs(i.y-a.y-d),s=x+i.radius,f=d+i.radius;if(l>s||o>f)return!1;if(l<=x||o<=d)return!0;var c=l-x,u=o-d,v=c*c,p=u*u,m=i.radius*i.radius;return v+p<=m};n.exports=T},63376:(n,T,i)=>{/**
 * @author       Florian Vazelle
 * @author       Geoffrey Glaive
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=i(2141),x=i(2044),d=function(l,o,s){if(s===void 0&&(s=[]),x(l,o)){var f=l.x,c=l.y,u=l.radius,v=o.x,p=o.y,m=o.radius,g,C,M,b,w;if(c===p)w=(m*m-u*u-v*v+f*f)/(2*(f-v)),g=1,C=-2*p,M=v*v+w*w-2*v*w+p*p-m*m,b=C*C-4*g*M,b===0?s.push(new a(w,-C/(2*g))):b>0&&(s.push(new a(w,(-C+Math.sqrt(b))/(2*g))),s.push(new a(w,(-C-Math.sqrt(b))/(2*g))));else{var R=(f-v)/(c-p),A=(m*m-u*u-v*v+f*f-p*p+c*c)/(2*(c-p));g=R*R+1,C=2*c*R-2*A*R-2*f,M=f*f+c*c+A*A-u*u-2*c*A,b=C*C-4*g*M,b===0?(w=-C/(2*g),s.push(new a(w,A-w*R))):b>0&&(w=(-C+Math.sqrt(b))/(2*g),s.push(new a(w,A-w*R)),w=(-C-Math.sqrt(b))/(2*g),s.push(new a(w,A-w*R)))}}return s};n.exports=d},97439:(n,T,i)=>{/**
 * @author       Florian Vazelle
 * @author       Geoffrey Glaive
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=i(4042),x=i(81491),d=function(l,o,s){if(s===void 0&&(s=[]),x(l,o)){var f=o.getLineA(),c=o.getLineB(),u=o.getLineC(),v=o.getLineD();a(f,l,s),a(c,l,s),a(u,l,s),a(v,l,s)}return s};n.exports=d},4042:(n,T,i)=>{/**
 * @author       Florian Vazelle
 * @author       Geoffrey Glaive
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=i(2141),x=i(80462),d=function(l,o,s){if(s===void 0&&(s=[]),x(l,o)){var f=l.x1,c=l.y1,u=l.x2,v=l.y2,p=o.x,m=o.y,g=o.radius,C=u-f,M=v-c,b=f-p,w=c-m,R=C*C+M*M,A=2*(C*b+M*w),L=b*b+w*w-g*g,D=A*A-4*R*L,G,B;if(D===0){var I=-A/(2*R);G=f+I*C,B=c+I*M,I>=0&&I<=1&&s.push(new a(G,B))}else if(D>0){var k=(-A-Math.sqrt(D))/(2*R);G=f+k*C,B=c+k*M,k>=0&&k<=1&&s.push(new a(G,B));var z=(-A+Math.sqrt(D))/(2*R);G=f+z*C,B=c+z*M,z>=0&&z<=1&&s.push(new a(G,B))}}return s};n.exports=d},36100:(n,T,i)=>{/**
 * @author       Richard Davey
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=i(25836),x=function(d,l,o,s){o===void 0&&(o=!1);var f=d.x1,c=d.y1,u=d.x2,v=d.y2,p=l.x1,m=l.y1,g=l.x2,C=l.y2,M=u-f,b=v-c,w=g-p,R=C-m,A=M*R-b*w;if(A===0)return null;var L,D,G;if(o){if(L=(M*(m-c)+b*(f-p))/(w*b-R*M),M!==0)D=(p+w*L-f)/M;else if(b!==0)D=(m+R*L-c)/b;else return null;if(D<0||L<0||L>1)return null;G=D}else{if(L=((p-f)*R-(m-c)*w)/A,D=((c-m)*M-(f-p)*b)/A,L<0||L>1||D<0||D>1)return null;G=L}return s===void 0&&(s=new a),s.set(f+M*G,c+b*G,G)};n.exports=x},3073:(n,T,i)=>{/**
 * @author       Richard Davey
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=i(36100),x=i(23031),d=i(25836),l=new x,o=new d,s=function(f,c,u,v){u===void 0&&(u=!1),v===void 0&&(v=new d);var p=!1;v.set(),o.set();for(var m=c[c.length-1],g=0;g<c.length;g++){var C=c[g];l.setTo(m.x,m.y,C.x,C.y),m=C,a(f,l,u,o)&&(!p||o.z<v.z)&&(v.copy(o),p=!0)}return p?v:null};n.exports=s},56362:(n,T,i)=>{/**
 * @author       Richard Davey
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=i(25836),x=i(61369),d=i(3073),l=new a,o=function(s,f,c,u){u===void 0&&(u=new x),Array.isArray(f)||(f=[f]);var v=!1;u.set(),l.set();for(var p=0;p<f.length;p++)d(s,f[p].points,c,l)&&(!v||l.z<u.z)&&(u.set(l.x,l.y,l.z,p),v=!0);return v?u:null};n.exports=o},60646:(n,T,i)=>{/**
 * @author       Florian Vazelle
 * @author       Geoffrey Glaive
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=i(2141),x=i(76112),d=i(92773),l=function(o,s,f){if(f===void 0&&(f=[]),d(o,s))for(var c=s.getLineA(),u=s.getLineB(),v=s.getLineC(),p=s.getLineD(),m=[new a,new a,new a,new a],g=[x(c,o,m[0]),x(u,o,m[1]),x(v,o,m[2]),x(p,o,m[3])],C=0;C<4;C++)g[C]&&f.push(m[C]);return f};n.exports=l},71147:(n,T,i)=>{/**
 * @author       Richard Davey
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=i(61369),x=i(56362),d=i(23031),l=new d;function o(c,u,v,p,m){var g=Math.cos(c),C=Math.sin(c);l.setTo(u,v,u+g,v+C);var M=x(l,p,!0);M&&m.push(new a(M.x,M.y,c,M.w))}function s(c,u){return c.z-u.z}var f=function(c,u,v){Array.isArray(v)||(v=[v]);for(var p=[],m=[],g=0;g<v.length;g++)for(var C=v[g].points,M=0;M<C.length;M++){var b=Math.atan2(C[M].y-u,C[M].x-c);m.indexOf(b)===-1&&(o(b,c,u,v,p),o(b-1e-5,c,u,v,p),o(b+1e-5,c,u,v,p),m.push(b))}return p.sort(s)};n.exports=f},68389:(n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=i(87841),x=i(59996),d=function(l,o,s){return s===void 0&&(s=new a),x(l,o)&&(s.x=Math.max(l.x,o.x),s.y=Math.max(l.y,o.y),s.width=Math.min(l.right,o.right)-s.x,s.height=Math.min(l.bottom,o.bottom)-s.y),s};n.exports=d},52784:(n,T,i)=>{/**
 * @author       Florian Vazelle
 * @author       Geoffrey Glaive
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=i(60646),x=i(59996),d=function(l,o,s){if(s===void 0&&(s=[]),x(l,o)){var f=l.getLineA(),c=l.getLineB(),u=l.getLineC(),v=l.getLineD();a(f,o,s),a(c,o,s),a(u,o,s),a(v,o,s)}return s};n.exports=d},26341:(n,T,i)=>{/**
 * @author       Florian Vazelle
 * @author       Geoffrey Glaive
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=i(89265),x=i(60646),d=function(l,o,s){if(s===void 0&&(s=[]),a(l,o)){var f=o.getLineA(),c=o.getLineB(),u=o.getLineC();x(f,l,s),x(c,l,s),x(u,l,s)}return s};n.exports=d},38720:(n,T,i)=>{/**
 * @author       Florian Vazelle
 * @author       Geoffrey Glaive
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=i(4042),x=i(67636),d=function(l,o,s){if(s===void 0&&(s=[]),x(l,o)){var f=l.getLineA(),c=l.getLineB(),u=l.getLineC();a(f,o,s),a(c,o,s),a(u,o,s)}return s};n.exports=d},13882:(n,T,i)=>{/**
 * @author       Florian Vazelle
 * @author       Geoffrey Glaive
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=i(2141),x=i(2822),d=i(76112),l=function(o,s,f){if(f===void 0&&(f=[]),x(o,s))for(var c=o.getLineA(),u=o.getLineB(),v=o.getLineC(),p=[new a,new a,new a],m=[d(c,s,p[0]),d(u,s,p[1]),d(v,s,p[2])],g=0;g<3;g++)m[g]&&f.push(p[g]);return f};n.exports=l},75636:(n,T,i)=>{/**
 * @author       Florian Vazelle
 * @author       Geoffrey Glaive
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=i(82944),x=i(13882),d=function(l,o,s){if(s===void 0&&(s=[]),a(l,o)){var f=o.getLineA(),c=o.getLineB(),u=o.getLineC();x(l,f,s),x(l,c,s),x(l,u,s)}return s};n.exports=d},80462:(n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=i(87902),x=i(2141),d=new x,l=function(o,s,f){if(f===void 0&&(f=d),a(s,o.x1,o.y1))return f.x=o.x1,f.y=o.y1,!0;if(a(s,o.x2,o.y2))return f.x=o.x2,f.y=o.y2,!0;var c=o.x2-o.x1,u=o.y2-o.y1,v=s.x-o.x1,p=s.y-o.y1,m=c*c+u*u,g=c,C=u;if(m>0){var M=(v*c+p*u)/m;g*=M,C*=M}f.x=o.x1+g,f.y=o.y1+C;var b=g*g+C*C;return b<=m&&g*c+C*u>=0&&a(s,f.x,f.y)};n.exports=l},76112:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(i,a,x){var d=i.x1,l=i.y1,o=i.x2,s=i.y2,f=a.x1,c=a.y1,u=a.x2,v=a.y2;if(d===o&&l===s||f===u&&c===v)return!1;var p=(v-c)*(o-d)-(u-f)*(s-l);if(p===0)return!1;var m=((u-f)*(l-c)-(v-c)*(d-f))/p,g=((o-d)*(l-c)-(s-l)*(d-f))/p;return m<0||m>1||g<0||g>1?!1:(x&&(x.x=d+m*(o-d),x.y=l+m*(s-l)),!0)};n.exports=T},92773:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(i,a){var x=i.x1,d=i.y1,l=i.x2,o=i.y2,s=a.x,f=a.y,c=a.right,u=a.bottom,v=0;if(x>=s&&x<=c&&d>=f&&d<=u||l>=s&&l<=c&&o>=f&&o<=u)return!0;if(x<s&&l>=s){if(v=d+(o-d)*(s-x)/(l-x),v>f&&v<=u)return!0}else if(x>c&&l<=c&&(v=d+(o-d)*(c-x)/(l-x),v>=f&&v<=u))return!0;if(d<f&&o>=f){if(v=x+(l-x)*(f-d)/(o-d),v>=s&&v<=c)return!0}else if(d>u&&o<=u&&(v=x+(l-x)*(u-d)/(o-d),v>=s&&v<=c))return!0;return!1};n.exports=T},16204:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @author       Florian Mertens
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(i,a,x){x===void 0&&(x=1);var d=a.x1,l=a.y1,o=a.x2,s=a.y2,f=i.x,c=i.y,u=(o-d)*(o-d)+(s-l)*(s-l);if(u===0)return!1;var v=((f-d)*(o-d)+(c-l)*(s-l))/u;if(v<0)return Math.sqrt((d-f)*(d-f)+(l-c)*(l-c))<=x;if(v>=0&&v<=1){var p=((l-c)*(o-d)-(d-f)*(s-l))/u;return Math.abs(p)*Math.sqrt(u)<=x}else return Math.sqrt((o-f)*(o-f)+(s-c)*(s-c))<=x};n.exports=T},14199:(n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=i(16204),x=function(d,l){if(!a(d,l))return!1;var o=Math.min(l.x1,l.x2),s=Math.max(l.x1,l.x2),f=Math.min(l.y1,l.y2),c=Math.max(l.y1,l.y2);return d.x>=o&&d.x<=s&&d.y>=f&&d.y<=c};n.exports=x},59996:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(i,a){return i.width<=0||i.height<=0||a.width<=0||a.height<=0?!1:!(i.right<a.x||i.bottom<a.y||i.x>a.right||i.y>a.bottom)};n.exports=T},89265:(n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=i(76112),x=i(37303),d=i(48653),l=i(77493),o=function(s,f){if(f.left>s.right||f.right<s.left||f.top>s.bottom||f.bottom<s.top)return!1;var c=f.getLineA(),u=f.getLineB(),v=f.getLineC();if(x(s,c.x1,c.y1)||x(s,c.x2,c.y2)||x(s,u.x1,u.y1)||x(s,u.x2,u.y2)||x(s,v.x1,v.y1)||x(s,v.x2,v.y2))return!0;var p=s.getLineA(),m=s.getLineB(),g=s.getLineC(),C=s.getLineD();if(a(c,p)||a(c,m)||a(c,g)||a(c,C)||a(u,p)||a(u,m)||a(u,g)||a(u,C)||a(v,p)||a(v,m)||a(v,g)||a(v,C))return!0;var M=l(s),b=d(f,M,!0);return b.length>0};n.exports=o},84411:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(i,a,x,d,l,o){return o===void 0&&(o=0),!(a>i.right+o||x<i.left-o||d>i.bottom+o||l<i.top-o)};n.exports=T},67636:(n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=i(80462),x=i(10690),d=function(l,o){return l.left>o.right||l.right<o.left||l.top>o.bottom||l.bottom<o.top?!1:!!(x(l,o.x,o.y)||a(l.getLineA(),o)||a(l.getLineB(),o)||a(l.getLineC(),o))};n.exports=d},2822:(n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=i(76112),x=function(d,l){return!!(d.contains(l.x1,l.y1)||d.contains(l.x2,l.y2)||a(d.getLineA(),l)||a(d.getLineB(),l)||a(d.getLineC(),l))};n.exports=x},82944:(n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=i(48653),x=i(71694),d=i(76112),l=function(o,s){if(o.left>s.right||o.right<s.left||o.top>s.bottom||o.bottom<s.top)return!1;var f=o.getLineA(),c=o.getLineB(),u=o.getLineC(),v=s.getLineA(),p=s.getLineB(),m=s.getLineC();if(d(f,v)||d(f,p)||d(f,m)||d(c,v)||d(c,p)||d(c,m)||d(u,v)||d(u,p)||d(u,m))return!0;var g=x(o),C=a(s,g,!0);return C.length>0||(g=x(s),C=a(o,g,!0),C.length>0)};n.exports=l},91865:(n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports={CircleToCircle:i(2044),CircleToRectangle:i(81491),GetCircleToCircle:i(63376),GetCircleToRectangle:i(97439),GetLineToCircle:i(4042),GetLineToLine:i(36100),GetLineToPoints:i(3073),GetLineToPolygon:i(56362),GetLineToRectangle:i(60646),GetRaysFromPointToPolygon:i(71147),GetRectangleIntersection:i(68389),GetRectangleToRectangle:i(52784),GetRectangleToTriangle:i(26341),GetTriangleToCircle:i(38720),GetTriangleToLine:i(13882),GetTriangleToTriangle:i(75636),LineToCircle:i(80462),LineToLine:i(76112),LineToRectangle:i(92773),PointToLine:i(16204),PointToLineSegment:i(14199),RectangleToRectangle:i(59996),RectangleToTriangle:i(89265),RectangleToValues:i(84411),TriangleToCircle:i(67636),TriangleToLine:i(2822),TriangleToTriangle:i(82944)}},91938:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(i){return Math.atan2(i.y2-i.y1,i.x2-i.x1)};n.exports=T},84993:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(i,a,x){a===void 0&&(a=1),x===void 0&&(x=[]);var d=Math.round(i.x1),l=Math.round(i.y1),o=Math.round(i.x2),s=Math.round(i.y2),f=Math.abs(o-d),c=Math.abs(s-l),u=d<o?1:-1,v=l<s?1:-1,p=f-c;x.push({x:d,y:l});for(var m=1;!(d===o&&l===s);){var g=p<<1;g>-c&&(p-=c,d+=u),g<f&&(p+=f,l+=v),m%a===0&&x.push({x:d,y:l}),m++}return x};n.exports=T},36469:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(i,a,x){var d=a-(i.x1+i.x2)/2,l=x-(i.y1+i.y2)/2;return i.x1+=d,i.y1+=l,i.x2+=d,i.y2+=l,i};n.exports=T},31116:(n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=i(23031),x=function(d){return new a(d.x1,d.y1,d.x2,d.y2)};n.exports=x},59944:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(i,a){return a.setTo(i.x1,i.y1,i.x2,i.y2)};n.exports=T},59220:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(i,a){return i.x1===a.x1&&i.y1===a.y1&&i.x2===a.x2&&i.y2===a.y2};n.exports=T},78177:(n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=i(35001),x=function(d,l,o){o===void 0&&(o=l);var s=a(d),f=d.x2-d.x1,c=d.y2-d.y1;return l&&(d.x1=d.x1-f/s*l,d.y1=d.y1-c/s*l),o&&(d.x2=d.x2+f/s*o,d.y2=d.y2+c/s*o),d};n.exports=x},26708:(n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=i(52816),x=i(6113),d=i(2141),l=function(o,s,f,c,u){c===void 0&&(c=0),u===void 0&&(u=[]);var v=[],p=o.x1,m=o.y1,g=o.x2-p,C=o.y2-m,M=x(s,u),b,w,R=f-1;for(b=0;b<R;b++)w=M(b/R),v.push(new d(p+g*w,m+C*w));if(w=M(1),v.push(new d(p+g*w,m+C*w)),c>0){var A=v[0],L=[A];for(b=1;b<v.length-1;b++){var D=v[b];a(A,D)>=c&&(L.push(D),A=D)}var G=v[v.length-1];return a(A,G)<c&&L.pop(),L.push(G),L}else return v};n.exports=l},32125:(n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=i(2141),x=function(d,l){return l===void 0&&(l=new a),l.x=(d.x1+d.x2)/2,l.y=(d.y1+d.y2)/2,l};n.exports=x},99569:(n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @author       Florian Mertens
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=i(2141),x=function(d,l,o){o===void 0&&(o=new a);var s=d.x1,f=d.y1,c=d.x2,u=d.y2,v=(c-s)*(c-s)+(u-f)*(u-f);if(v===0)return o;var p=((l.x-s)*(c-s)+(l.y-f)*(u-f))/v;return o.x=s+p*(c-s),o.y=f+p*(u-f),o};n.exports=x},34638:(n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=i(36383),x=i(91938),d=i(2141),l=function(o,s){s===void 0&&(s=new d);var f=x(o)-a.TAU;return s.x=Math.cos(f),s.y=Math.sin(f),s};n.exports=l},13151:(n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=i(2141),x=function(d,l,o){return o===void 0&&(o=new a),o.x=d.x1+(d.x2-d.x1)*l,o.y=d.y1+(d.y2-d.y1)*l,o};n.exports=x},15258:(n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=i(35001),x=i(2141),d=function(l,o,s,f){f===void 0&&(f=[]),!o&&s>0&&(o=a(l)/s);for(var c=l.x1,u=l.y1,v=l.x2,p=l.y2,m=0;m<o;m++){var g=m/o,C=c+(v-c)*g,M=u+(p-u)*g;f.push(new x(C,M))}return f};n.exports=d},26408:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @author       Florian Mertens
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(i,a){var x=i.x1,d=i.y1,l=i.x2,o=i.y2,s=(l-x)*(l-x)+(o-d)*(o-d);if(s===0)return!1;var f=((d-a.y)*(l-x)-(x-a.x)*(o-d))/s;return Math.abs(f)*Math.sqrt(s)};n.exports=T},98770:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(i){return Math.abs(i.y1-i.y2)};n.exports=T},35001:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(i){return Math.sqrt((i.x2-i.x1)*(i.x2-i.x1)+(i.y2-i.y1)*(i.y2-i.y1))};n.exports=T},23031:(n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=i(83419),x=i(13151),d=i(15258),l=i(23777),o=i(65822),s=i(26099),f=new a({initialize:function(u,v,p,m){u===void 0&&(u=0),v===void 0&&(v=0),p===void 0&&(p=0),m===void 0&&(m=0),this.type=l.LINE,this.x1=u,this.y1=v,this.x2=p,this.y2=m},getPoint:function(c,u){return x(this,c,u)},getPoints:function(c,u,v){return d(this,c,u,v)},getRandomPoint:function(c){return o(this,c)},setTo:function(c,u,v,p){return c===void 0&&(c=0),u===void 0&&(u=0),v===void 0&&(v=0),p===void 0&&(p=0),this.x1=c,this.y1=u,this.x2=v,this.y2=p,this},setFromObjects:function(c,u){return this.x1=c.x,this.y1=c.y,this.x2=u.x,this.y2=u.y,this},getPointA:function(c){return c===void 0&&(c=new s),c.set(this.x1,this.y1),c},getPointB:function(c){return c===void 0&&(c=new s),c.set(this.x2,this.y2),c},left:{get:function(){return Math.min(this.x1,this.x2)},set:function(c){this.x1<=this.x2?this.x1=c:this.x2=c}},right:{get:function(){return Math.max(this.x1,this.x2)},set:function(c){this.x1>this.x2?this.x1=c:this.x2=c}},top:{get:function(){return Math.min(this.y1,this.y2)},set:function(c){this.y1<=this.y2?this.y1=c:this.y2=c}},bottom:{get:function(){return Math.max(this.y1,this.y2)},set:function(c){this.y1>this.y2?this.y1=c:this.y2=c}}});n.exports=f},64795:(n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=i(36383),x=i(15994),d=i(91938),l=function(o){var s=d(o)-a.TAU;return x(s,-Math.PI,Math.PI)};n.exports=l},52616:(n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=i(36383),x=i(91938),d=function(l){return Math.cos(x(l)-a.TAU)};n.exports=d},87231:(n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=i(36383),x=i(91938),d=function(l){return Math.sin(x(l)-a.TAU)};n.exports=d},89662:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(i,a,x){return i.x1+=a,i.y1+=x,i.x2+=a,i.y2+=x,i};n.exports=T},71165:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(i){return-((i.x2-i.x1)/(i.y2-i.y1))};n.exports=T},65822:(n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=i(2141),x=function(d,l){l===void 0&&(l=new a);var o=Math.random();return l.x=d.x1+o*(d.x2-d.x1),l.y=d.y1+o*(d.y2-d.y1),l};n.exports=x},69777:(n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=i(91938),x=i(64795),d=function(l,o){return 2*x(o)-Math.PI-a(l)};n.exports=d},39706:(n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=i(64400),x=function(d,l){var o=(d.x1+d.x2)/2,s=(d.y1+d.y2)/2;return a(d,o,s,l)};n.exports=x},82585:(n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=i(64400),x=function(d,l,o){return a(d,l.x,l.y,o)};n.exports=x},64400:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(i,a,x,d){var l=Math.cos(d),o=Math.sin(d),s=i.x1-a,f=i.y1-x;return i.x1=s*l-f*o+a,i.y1=s*o+f*l+x,s=i.x2-a,f=i.y2-x,i.x2=s*l-f*o+a,i.y2=s*o+f*l+x,i};n.exports=T},62377:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(i,a,x,d,l){return i.x1=a,i.y1=x,i.x2=a+Math.cos(d)*l,i.y2=x+Math.sin(d)*l,i};n.exports=T},71366:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(i){return(i.y2-i.y1)/(i.x2-i.x1)};n.exports=T},10809:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(i){return Math.abs(i.x1-i.x2)};n.exports=T},2529:(n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=i(23031);a.Angle=i(91938),a.BresenhamPoints=i(84993),a.CenterOn=i(36469),a.Clone=i(31116),a.CopyFrom=i(59944),a.Equals=i(59220),a.Extend=i(78177),a.GetEasedPoints=i(26708),a.GetMidPoint=i(32125),a.GetNearestPoint=i(99569),a.GetNormal=i(34638),a.GetPoint=i(13151),a.GetPoints=i(15258),a.GetShortestDistance=i(26408),a.Height=i(98770),a.Length=i(35001),a.NormalAngle=i(64795),a.NormalX=i(52616),a.NormalY=i(87231),a.Offset=i(89662),a.PerpSlope=i(71165),a.Random=i(65822),a.ReflectAngle=i(69777),a.Rotate=i(39706),a.RotateAroundPoint=i(82585),a.RotateAroundXY=i(64400),a.SetToAngle=i(62377),a.Slope=i(71366),a.Width=i(10809),n.exports=a},83997:(n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=i(83419),x=i(87841),d=i(26099);function l(s,f,c,u){var v=s-c,p=f-u,m=v*v+p*p;return Math.sqrt(m)}var o=new a({initialize:function(f,c,u){this.vertex1=f,this.vertex2=c,this.vertex3=u,this.bounds=new x,this._inCenter=new d},getInCenter:function(s){s===void 0&&(s=!0);var f=this.vertex1,c=this.vertex2,u=this.vertex3,v,p,m,g,C,M;s?(v=f.x,p=f.y,m=c.x,g=c.y,C=u.x,M=u.y):(v=f.vx,p=f.vy,m=c.vx,g=c.vy,C=u.vx,M=u.vy);var b=l(C,M,m,g),w=l(v,p,C,M),R=l(m,g,v,p),A=b+w+R;return this._inCenter.set((v*b+m*w+C*R)/A,(p*b+g*w+M*R)/A)},contains:function(s,f,c){var u=this.vertex1,v=this.vertex2,p=this.vertex3,m=u.vx,g=u.vy,C=v.vx,M=v.vy,b=p.vx,w=p.vy;if(c){var R=c.a,A=c.b,L=c.c,D=c.d,G=c.e,B=c.f;m=u.vx*R+u.vy*L+G,g=u.vx*A+u.vy*D+B,C=v.vx*R+v.vy*L+G,M=v.vx*A+v.vy*D+B,b=p.vx*R+p.vy*L+G,w=p.vx*A+p.vy*D+B}var I=b-m,k=w-g,z=C-m,X=M-g,H=s-m,Q=f-g,J=I*I+k*k,Y=I*z+k*X,$=I*H+k*Q,V=z*z+X*X,U=z*H+X*Q,K=J*V-Y*Y,j=K===0?0:1/K,_=(V*$-Y*U)*j,tt=(J*U-Y*$)*j;return _>=0&&tt>=0&&_+tt<1},isCounterClockwise:function(s){var f=this.vertex1,c=this.vertex2,u=this.vertex3,v=(c.vx-f.vx)*(u.vy-f.vy)-(c.vy-f.vy)*(u.vx-f.vx);return s<=0?v>=0:v<0},load:function(s,f,c,u,v){return c=this.vertex1.load(s,f,c,u,v),c=this.vertex2.load(s,f,c,u,v),c=this.vertex3.load(s,f,c,u,v),c},transformCoordinatesLocal:function(s,f,c,u){return this.vertex1.transformCoordinatesLocal(s,f,c,u),this.vertex2.transformCoordinatesLocal(s,f,c,u),this.vertex3.transformCoordinatesLocal(s,f,c,u),this},updateBounds:function(){var s=this.vertex1,f=this.vertex2,c=this.vertex3,u=this.bounds;return u.x=Math.min(s.vx,f.vx,c.vx),u.y=Math.min(s.vy,f.vy,c.vy),u.width=Math.max(s.vx,f.vx,c.vx)-u.x,u.height=Math.max(s.vy,f.vy,c.vy)-u.y,this},isInView:function(s,f,c,u,v,p,m,g,C,M,b){this.update(u,v,p,m,g,C,M,b);var w=this.vertex1,R=this.vertex2,A=this.vertex3;if(w.ta<=0&&R.ta<=0&&A.ta<=0||f&&!this.isCounterClockwise(c))return!1;var L=this.bounds;L.x=Math.min(w.tx,R.tx,A.tx),L.y=Math.min(w.ty,R.ty,A.ty),L.width=Math.max(w.tx,R.tx,A.tx)-L.x,L.height=Math.max(w.ty,R.ty,A.ty)-L.y;var D=s.x+s.width,G=s.y+s.height;return L.width<=0||L.height<=0||s.width<=0||s.height<=0?!1:!(L.right<s.x||L.bottom<s.y||L.x>D||L.y>G)},scrollUV:function(s,f){return this.vertex1.scrollUV(s,f),this.vertex2.scrollUV(s,f),this.vertex3.scrollUV(s,f),this},scaleUV:function(s,f){return this.vertex1.scaleUV(s,f),this.vertex2.scaleUV(s,f),this.vertex3.scaleUV(s,f),this},setColor:function(s){return this.vertex1.color=s,this.vertex2.color=s,this.vertex3.color=s,this},update:function(s,f,c,u,v,p,m,g){return this.vertex1.update(f,c,u,v,p,m,g,s),this.vertex2.update(f,c,u,v,p,m,g,s),this.vertex3.update(f,c,u,v,p,m,g,s),this},translate:function(s,f){f===void 0&&(f=0);var c=this.vertex1,u=this.vertex2,v=this.vertex3;return c.x+=s,c.y+=f,u.x+=s,u.y+=f,v.x+=s,v.y+=f,this},x:{get:function(){return this.getInCenter().x},set:function(s){var f=this.getInCenter();this.translate(s-f.x,0)}},y:{get:function(){return this.getInCenter().y},set:function(s){var f=this.getInCenter();this.translate(0,s-f.y)}},alpha:{get:function(){var s=this.vertex1,f=this.vertex2,c=this.vertex3;return(s.alpha+f.alpha+c.alpha)/3},set:function(s){this.vertex1.alpha=s,this.vertex2.alpha=s,this.vertex3.alpha=s}},depth:{get:function(){var s=this.vertex1,f=this.vertex2,c=this.vertex3;return(s.vz+f.vz+c.vz)/3}},destroy:function(){this.vertex1=null,this.vertex2=null,this.vertex3=null}});n.exports=o},48803:(n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=i(83997),x=i(95540),d=i(37867),l=i(25836),o=i(39318),s=new l,f=new l,c=new d,u=function(v){var p=x(v,"mesh"),m=x(v,"texture",null),g=x(v,"frame"),C=x(v,"width",1),M=x(v,"height",C),b=x(v,"widthSegments",1),w=x(v,"heightSegments",b),R=x(v,"x",0),A=x(v,"y",0),L=x(v,"z",0),D=x(v,"rotateX",0),G=x(v,"rotateY",0),B=x(v,"rotateZ",0),I=x(v,"zIsUp",!0),k=x(v,"isOrtho",p?p.dirtyCache[11]:!1),z=x(v,"colors",[16777215]),X=x(v,"alphas",[1]),H=x(v,"tile",!1),Q=x(v,"flipY",!1),J=x(v,"width",null),Y={faces:[],verts:[]};s.set(R,A,L),f.set(D,G,B),c.fromRotationXYTranslation(f,s,I);var $;if(!m&&p)m=p.texture,g||($=p.frame);else if(p&&typeof m=="string")m=p.scene.sys.textures.get(m);else if(!m)return Y;$||($=m.get(g)),!J&&k&&m&&p&&(C=$.width/p.height,M=$.height/p.height);var V=C/2,U=M/2,K=Math.floor(b),j=Math.floor(w),_=K+1,tt=j+1,rt=C/K,ot=M/j,ft=[],ct=[],gt,yt,Mt=0,Ct=1,Wt=0,Yt=1;$&&(Mt=$.u0,Ct=$.u1,Q?(Wt=$.v1,Yt=$.v0):(Wt=$.v0,Yt=$.v1));var Ht=Ct-Mt,bt=Yt-Wt;for(yt=0;yt<tt;yt++){var kt=yt*ot-U;for(gt=0;gt<_;gt++){var zt=gt*rt-V;ct.push(zt,-kt);var jt=Mt+Ht*(gt/K),fe=Wt+bt*(yt/j);ft.push(jt,fe)}}Array.isArray(z)||(z=[z]),Array.isArray(X)||(X=[X]);var xe=0,le=0;for(yt=0;yt<j;yt++)for(gt=0;gt<K;gt++){var Ee=(gt+_*yt)*2,Qe=(gt+_*(yt+1))*2,Bt=(gt+1+_*(yt+1))*2,Ut=(gt+1+_*yt)*2,te=z[le],ce=X[xe],Pe=new o(ct[Ee],ct[Ee+1],0,ft[Ee],ft[Ee+1],te,ce).transformMat4(c),yi=new o(ct[Qe],ct[Qe+1],0,ft[Qe],ft[Qe+1],te,ce).transformMat4(c),fi=new o(ct[Ut],ct[Ut+1],0,ft[Ut],ft[Ut+1],te,ce).transformMat4(c),Ai=new o(ct[Qe],ct[Qe+1],0,ft[Qe],ft[Qe+1],te,ce).transformMat4(c),qe=new o(ct[Bt],ct[Bt+1],0,ft[Bt],ft[Bt+1],te,ce).transformMat4(c),Ui=new o(ct[Ut],ct[Ut+1],0,ft[Ut],ft[Ut+1],te,ce).transformMat4(c);H&&(Pe.setUVs(Mt,Yt),yi.setUVs(Mt,Wt),fi.setUVs(Ct,Yt),Ai.setUVs(Mt,Wt),qe.setUVs(Ct,Wt),Ui.setUVs(Ct,Yt)),le++,le===z.length&&(le=0),xe++,xe===X.length&&(xe=0),Y.verts.push(Pe,yi,fi,Ai,qe,Ui),Y.faces.push(new a(Pe,yi,fi),new a(Ai,qe,Ui))}return p&&(p.faces=p.faces.concat(Y.faces),p.vertices=p.vertices.concat(Y.verts)),Y};n.exports=u},34684:(n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=i(83997),x=i(37867),d=i(25836),l=i(39318),o=new d,s=new d,f=new x,c=function(u,v,p,m,g,C,M,b,w,R){p===void 0&&(p=1),m===void 0&&(m=0),g===void 0&&(g=0),C===void 0&&(C=0),M===void 0&&(M=0),b===void 0&&(b=0),w===void 0&&(w=0),R===void 0&&(R=!0);var A={faces:[],verts:[]},L=u.materials;o.set(m,g,C),s.set(M,b,w),f.fromRotationXYTranslation(s,o,R);for(var D=0;D<u.models.length;D++)for(var G=u.models[D],B=G.vertices,I=G.textureCoords,k=G.faces,z=0;z<k.length;z++){var X=k[z],H=X.vertices[0],Q=X.vertices[1],J=X.vertices[2],Y=B[H.vertexIndex],$=B[Q.vertexIndex],V=B[J.vertexIndex],U=H.textureCoordsIndex,K=Q.textureCoordsIndex,j=J.textureCoordsIndex,_=U===-1?{u:0,v:1}:I[U],tt=K===-1?{u:0,v:0}:I[K],rt=j===-1?{u:1,v:1}:I[j],ot=16777215;X.material!==""&&L[X.material]&&(ot=L[X.material]);var ft=new l(Y.x*p,Y.y*p,Y.z*p,_.u,_.v,ot).transformMat4(f),ct=new l($.x*p,$.y*p,$.z*p,tt.u,tt.v,ot).transformMat4(f),gt=new l(V.x*p,V.y*p,V.z*p,rt.u,rt.v,ot).transformMat4(f);A.verts.push(ft,ct,gt),A.faces.push(new a(ft,ct,gt))}return v&&(v.faces=v.faces.concat(A.faces),v.vertices=v.vertices.concat(A.verts)),A};n.exports=c},92515:(n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=i(83997),x=i(39318),d=function(l,o,s,f,c,u,v,p){if(f===void 0&&(f=!1),u===void 0&&(u=16777215),v===void 0&&(v=1),p===void 0&&(p=!1),l.length!==o.length&&!f){console.warn("GenerateVerts: vertices and uvs count not equal");return}var m={faces:[],vertices:[]},g,C,M,b,w,R,A,L,D,G,B,I=f?3:2,k=Array.isArray(u),z=Array.isArray(v);if(Array.isArray(s)&&s.length>0)for(g=0;g<s.length;g++){var X=s[g],H=s[g]*2,Q=s[g]*I;C=l[Q],M=l[Q+1],b=f?l[Q+2]:0,w=o[H],R=o[H+1],p&&(R=1-R),A=k?u[X]:u,L=z?v[X]:v,D=0,G=0,B=0,c&&(D=c[Q],G=c[Q+1],B=f?c[Q+2]:0),m.vertices.push(new x(C,M,b,w,R,A,L,D,G,B))}else{var J=0,Y=0;for(g=0;g<l.length;g+=I)C=l[g],M=l[g+1],b=f?l[g+2]:0,w=o[J],R=o[J+1],A=k?u[Y]:u,L=z?v[Y]:v,D=0,G=0,B=0,c&&(D=c[g],G=c[g+1],B=f?c[g+2]:0),m.vertices.push(new x(C,M,b,w,R,A,L,D,G,B)),J+=2,Y++}for(g=0;g<m.vertices.length;g+=3){var $=m.vertices[g],V=m.vertices[g+1],U=m.vertices[g+2];m.faces.push(new a($,V,U))}return m};n.exports=d},85048:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=!0,i="untitled",a="",x="";function d(C){var M=C.indexOf("#");return M>-1?C.substring(0,M):C}function l(C){return C.models.length===0&&C.models.push({faces:[],name:i,textureCoords:[],vertexNormals:[],vertices:[]}),a="",C.models[C.models.length-1]}function o(C,M){var b=C.length>=2?C[1]:i;M.models.push({faces:[],name:b,textureCoords:[],vertexNormals:[],vertices:[]}),a=""}function s(C){C.length===2&&(a=C[1])}function f(C,M){var b=C.length,w=b>=2?parseFloat(C[1]):0,R=b>=3?parseFloat(C[2]):0,A=b>=4?parseFloat(C[3]):0;l(M).vertices.push({x:w,y:R,z:A})}function c(C,M){var b=C.length,w=b>=2?parseFloat(C[1]):0,R=b>=3?parseFloat(C[2]):0,A=b>=4?parseFloat(C[3]):0;isNaN(w)&&(w=0),isNaN(R)&&(R=0),isNaN(A)&&(A=0),T&&(R=1-R),l(M).textureCoords.push({u:w,v:R,w:A})}function u(C,M){var b=C.length,w=b>=2?parseFloat(C[1]):0,R=b>=3?parseFloat(C[2]):0,A=b>=4?parseFloat(C[3]):0;l(M).vertexNormals.push({x:w,y:R,z:A})}function v(C,M){var b=C.length-1;if(!(b<3)){for(var w={group:a,material:x,vertices:[]},R=0;R<b;R++){var A=C[R+1],L=A.split("/"),D=L.length;if(!(D<1||D>3)){var G=0,B=0,I=0;G=parseInt(L[0],10),D>1&&L[1]!==""&&(B=parseInt(L[1],10)),D>2&&(I=parseInt(L[2],10)),G!==0&&(G<0&&(G=l(M).vertices.length+1+G),B-=1,G-=1,I-=1,w.vertices.push({textureCoordsIndex:B,vertexIndex:G,vertexNormalIndex:I}))}}l(M).faces.push(w)}}function p(C,M){C.length>=2&&M.materialLibraries.push(C[1])}function m(C){C.length>=2&&(x=C[1])}var g=function(C,M){M===void 0&&(M=!0),T=M;var b={materials:{},materialLibraries:[],models:[]};a="",x="";for(var w=C.split(`
`),R=0;R<w.length;R++){var A=d(w[R]),L=A.replace(/\s\s+/g," ").trim().split(" ");switch(L[0].toLowerCase()){case"o":o(L,b);break;case"g":s(L);break;case"v":f(L,b);break;case"vt":c(L,b);break;case"vn":u(L,b);break;case"f":v(L,b);break;case"mtllib":p(L,b);break;case"usemtl":m(L);break}}return b};n.exports=g},61485:(n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=i(37589),x=function(d){for(var l={},o=d.split(`
`),s="",f=0;f<o.length;f++){var c=o[f].trim();if(!(c.indexOf("#")===0||c==="")){var u=c.replace(/\s\s+/g," ").trim().split(" ");switch(u[0].toLowerCase()){case"newmtl":{s=u[1];break}case"kd":{var v=Math.floor(u[1]*255),p=u.length>=2?Math.floor(u[2]*255):v,m=u.length>=3?Math.floor(u[3]*255):v;l[s]=a(v,p,m);break}}}}return l};n.exports=x},92570:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(i,a,x,d){var l,o;if(x===void 0&&d===void 0){var s=i.getInCenter();l=s.x,o=s.y}var f=Math.cos(a),c=Math.sin(a),u=i.vertex1,v=i.vertex2,p=i.vertex3,m=u.x-l,g=u.y-o;u.set(m*f-g*c+l,m*c+g*f+o),m=v.x-l,g=v.y-o,v.set(m*f-g*c+l,m*c+g*f+o),m=p.x-l,g=p.y-o,p.set(m*f-g*c+l,m*c+g*f+o)};n.exports=T},39318:(n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=i(83419),x=i(70554),d=i(25836),l=new a({Extends:d,initialize:function(s,f,c,u,v,p,m,g,C,M){p===void 0&&(p=16777215),m===void 0&&(m=1),g===void 0&&(g=0),C===void 0&&(C=0),M===void 0&&(M=0),d.call(this,s,f,c),this.vx=0,this.vy=0,this.vz=0,this.nx=g,this.ny=C,this.nz=M,this.u=u,this.v=v,this.color=p,this.alpha=m,this.tx=0,this.ty=0,this.ta=0,this.tu=u,this.tv=v},setUVs:function(o,s){return this.u=o,this.v=s,this.tu=o,this.tv=s,this},scrollUV:function(o,s){return this.tu+=o,this.tv+=s,this},scaleUV:function(o,s){return this.tu=this.u*o,this.tv=this.v*s,this},transformCoordinatesLocal:function(o,s,f,c){var u=this.x,v=this.y,p=this.z,m=o.val,g=u*m[0]+v*m[4]+p*m[8]+m[12],C=u*m[1]+v*m[5]+p*m[9]+m[13],M=u*m[2]+v*m[6]+p*m[10]+m[14],b=u*m[3]+v*m[7]+p*m[11]+m[15];this.vx=g/b*s,this.vy=-(C/b)*f,c<=0?this.vz=M/b:this.vz=-(M/b)},resize:function(o,s,f,c,u,v){return this.x=o,this.y=s,this.vx=this.x*f,this.vy=-this.y*c,this.vz=0,u<.5?this.vx+=f*(.5-u):u>.5&&(this.vx-=f*(u-.5)),v<.5?this.vy+=c*(.5-v):v>.5&&(this.vy-=c*(v-.5)),this},update:function(o,s,f,c,u,v,p,m){var g=this.vx*o+this.vy*f+u,C=this.vx*s+this.vy*c+v;return p&&(g=Math.round(g),C=Math.round(C)),this.tx=g,this.ty=C,this.ta=this.alpha*m,this},load:function(o,s,f,c,u){return o[++f]=this.tx,o[++f]=this.ty,o[++f]=this.tu,o[++f]=this.tv,o[++f]=c,o[++f]=u,s[++f]=x.getTintAppendFloatAlpha(this.color,this.ta),f}});n.exports=l},73090:(n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a={Face:i(83997),GenerateGridVerts:i(48803),GenerateObjVerts:i(34684),GenerateVerts:i(92515),ParseObj:i(85048),ParseObjMaterial:i(61485),RotateFace:i(92570),Vertex:i(39318)};n.exports=a},96550:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(i){return i.setTo(Math.ceil(i.x),Math.ceil(i.y))};n.exports=T},99706:(n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=i(2141),x=function(d){return new a(d.x,d.y)};n.exports=x},68010:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(i,a){return a.setTo(i.x,i.y)};n.exports=T},27814:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(i,a){return i.x===a.x&&i.y===a.y};n.exports=T},73565:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(i){return i.setTo(Math.floor(i.x),Math.floor(i.y))};n.exports=T},87555:(n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=i(2141),x=function(d,l){if(l===void 0&&(l=new a),!Array.isArray(d))throw new Error("GetCentroid points argument must be an array");var o=d.length;if(o<1)throw new Error("GetCentroid points array must not be empty");if(o===1)l.x=d[0].x,l.y=d[0].y;else{for(var s=0;s<o;s++)l.x+=d[s].x,l.y+=d[s].y;l.x/=o,l.y/=o}return l};n.exports=x},28793:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(i){return Math.sqrt(i.x*i.x+i.y*i.y)};n.exports=T},44405:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(i){return i.x*i.x+i.y*i.y};n.exports=T},20873:(n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=i(87841),x=function(d,l){l===void 0&&(l=new a);for(var o=Number.NEGATIVE_INFINITY,s=Number.POSITIVE_INFINITY,f=Number.NEGATIVE_INFINITY,c=Number.POSITIVE_INFINITY,u=0;u<d.length;u++){var v=d[u];v.x>o&&(o=v.x),v.x<s&&(s=v.x),v.y>f&&(f=v.y),v.y<c&&(c=v.y)}return l.x=s,l.y=c,l.width=o-s,l.height=f-c,l};n.exports=x},26152:(n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=i(2141),x=function(d,l,o,s){return o===void 0&&(o=0),s===void 0&&(s=new a),s.x=d.x+(l.x-d.x)*o,s.y=d.y+(l.y-d.y)*o,s};n.exports=x},55767:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(i){return i.setTo(i.y,i.x)};n.exports=T},79432:(n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=i(2141),x=function(d,l){return l===void 0&&(l=new a),l.setTo(-d.x,-d.y)};n.exports=x},2141:(n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=i(83419),x=i(23777),d=new a({initialize:function(o,s){o===void 0&&(o=0),s===void 0&&(s=o),this.type=x.POINT,this.x=o,this.y=s},setTo:function(l,o){return l===void 0&&(l=0),o===void 0&&(o=l),this.x=l,this.y=o,this}});n.exports=d},72930:(n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=i(2141),x=i(44405),d=function(l,o,s){s===void 0&&(s=new a);var f=l.x*o.x+l.y*o.y,c=f/x(o);return c!==0&&(s.x=c*o.x,s.y=c*o.y),s};n.exports=d},62880:(n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=i(2141),x=function(d,l,o){o===void 0&&(o=new a);var s=d.x*l.x+d.y*l.y;return s!==0&&(o.x=s*l.x,o.y=s*l.y),o};n.exports=x},15093:(n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=i(28793),x=function(d,l){if(d.x!==0||d.y!==0){var o=a(d);d.x/=o,d.y/=o}return d.x*=l,d.y*=l,d};n.exports=x},43711:(n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=i(2141);a.Ceil=i(96550),a.Clone=i(99706),a.CopyFrom=i(68010),a.Equals=i(27814),a.Floor=i(73565),a.GetCentroid=i(87555),a.GetMagnitude=i(28793),a.GetMagnitudeSq=i(44405),a.GetRectangleFromPoints=i(20873),a.Interpolate=i(26152),a.Invert=i(55767),a.Negative=i(79432),a.Project=i(72930),a.ProjectUnit=i(62880),a.SetMagnitude=i(15093),n.exports=a},12306:(n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=i(25717),x=function(d){return new a(d.points)};n.exports=x},63814:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(i,a,x){for(var d=!1,l=-1,o=i.points.length-1;++l<i.points.length;o=l){var s=i.points[l].x,f=i.points[l].y,c=i.points[o].x,u=i.points[o].y;(f<=x&&x<u||u<=x&&x<f)&&a<(c-s)*(x-f)/(u-f)+s&&(d=!d)}return d};n.exports=T},99338:(n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=i(63814),x=function(d,l){return a(d,l.x,l.y)};n.exports=x},94811:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */function T(Y,$,V){V=V||2;var U=$&&$.length,K=U?$[0]*V:Y.length,j=i(Y,0,K,V,!0),_=[];if(!j||j.next===j.prev)return _;var tt,rt,ot,ft,ct,gt,yt;if(U&&(j=f(Y,$,j,V)),Y.length>80*V){tt=ot=Y[0],rt=ft=Y[1];for(var Mt=V;Mt<K;Mt+=V)ct=Y[Mt],gt=Y[Mt+1],ct<tt&&(tt=ct),gt<rt&&(rt=gt),ct>ot&&(ot=ct),gt>ft&&(ft=gt);yt=Math.max(ot-tt,ft-rt),yt=yt!==0?32767/yt:0}return x(j,_,V,tt,rt,yt,0),_}function i(Y,$,V,U,K){var j,_;if(K===J(Y,$,V,U)>0)for(j=$;j<V;j+=U)_=X(j,Y[j],Y[j+1],_);else for(j=V-U;j>=$;j-=U)_=X(j,Y[j],Y[j+1],_);return _&&A(_,_.next)&&(H(_),_=_.next),_}function a(Y,$){if(!Y)return Y;$||($=Y);var V=Y,U;do if(U=!1,!V.steiner&&(A(V,V.next)||R(V.prev,V,V.next)===0)){if(H(V),V=$=V.prev,V===V.next)break;U=!0}else V=V.next;while(U||V!==$);return $}function x(Y,$,V,U,K,j,_){if(Y){!_&&j&&m(Y,U,K,j);for(var tt=Y,rt,ot;Y.prev!==Y.next;){if(rt=Y.prev,ot=Y.next,j?l(Y,U,K,j):d(Y)){$.push(rt.i/V|0),$.push(Y.i/V|0),$.push(ot.i/V|0),H(Y),Y=ot.next,tt=ot.next;continue}if(Y=ot,Y===tt){_?_===1?(Y=o(a(Y),$,V),x(Y,$,V,U,K,j,2)):_===2&&s(Y,$,V,U,K,j):x(a(Y),$,V,U,K,j,1);break}}}}function d(Y){var $=Y.prev,V=Y,U=Y.next;if(R($,V,U)>=0)return!1;for(var K=$.x,j=V.x,_=U.x,tt=$.y,rt=V.y,ot=U.y,ft=K<j?K<_?K:_:j<_?j:_,ct=tt<rt?tt<ot?tt:ot:rt<ot?rt:ot,gt=K>j?K>_?K:_:j>_?j:_,yt=tt>rt?tt>ot?tt:ot:rt>ot?rt:ot,Mt=U.next;Mt!==$;){if(Mt.x>=ft&&Mt.x<=gt&&Mt.y>=ct&&Mt.y<=yt&&b(K,tt,j,rt,_,ot,Mt.x,Mt.y)&&R(Mt.prev,Mt,Mt.next)>=0)return!1;Mt=Mt.next}return!0}function l(Y,$,V,U){var K=Y.prev,j=Y,_=Y.next;if(R(K,j,_)>=0)return!1;for(var tt=K.x,rt=j.x,ot=_.x,ft=K.y,ct=j.y,gt=_.y,yt=tt<rt?tt<ot?tt:ot:rt<ot?rt:ot,Mt=ft<ct?ft<gt?ft:gt:ct<gt?ct:gt,Ct=tt>rt?tt>ot?tt:ot:rt>ot?rt:ot,Wt=ft>ct?ft>gt?ft:gt:ct>gt?ct:gt,Yt=C(yt,Mt,$,V,U),Ht=C(Ct,Wt,$,V,U),bt=Y.prevZ,kt=Y.nextZ;bt&&bt.z>=Yt&&kt&&kt.z<=Ht;){if(bt.x>=yt&&bt.x<=Ct&&bt.y>=Mt&&bt.y<=Wt&&bt!==K&&bt!==_&&b(tt,ft,rt,ct,ot,gt,bt.x,bt.y)&&R(bt.prev,bt,bt.next)>=0||(bt=bt.prevZ,kt.x>=yt&&kt.x<=Ct&&kt.y>=Mt&&kt.y<=Wt&&kt!==K&&kt!==_&&b(tt,ft,rt,ct,ot,gt,kt.x,kt.y)&&R(kt.prev,kt,kt.next)>=0))return!1;kt=kt.nextZ}for(;bt&&bt.z>=Yt;){if(bt.x>=yt&&bt.x<=Ct&&bt.y>=Mt&&bt.y<=Wt&&bt!==K&&bt!==_&&b(tt,ft,rt,ct,ot,gt,bt.x,bt.y)&&R(bt.prev,bt,bt.next)>=0)return!1;bt=bt.prevZ}for(;kt&&kt.z<=Ht;){if(kt.x>=yt&&kt.x<=Ct&&kt.y>=Mt&&kt.y<=Wt&&kt!==K&&kt!==_&&b(tt,ft,rt,ct,ot,gt,kt.x,kt.y)&&R(kt.prev,kt,kt.next)>=0)return!1;kt=kt.nextZ}return!0}function o(Y,$,V){var U=Y;do{var K=U.prev,j=U.next.next;!A(K,j)&&L(K,U,U.next,j)&&I(K,j)&&I(j,K)&&($.push(K.i/V|0),$.push(U.i/V|0),$.push(j.i/V|0),H(U),H(U.next),U=Y=j),U=U.next}while(U!==Y);return a(U)}function s(Y,$,V,U,K,j){var _=Y;do{for(var tt=_.next.next;tt!==_.prev;){if(_.i!==tt.i&&w(_,tt)){var rt=z(_,tt);_=a(_,_.next),rt=a(rt,rt.next),x(_,$,V,U,K,j,0),x(rt,$,V,U,K,j,0);return}tt=tt.next}_=_.next}while(_!==Y)}function f(Y,$,V,U){var K=[],j,_,tt,rt,ot;for(j=0,_=$.length;j<_;j++)tt=$[j]*U,rt=j<_-1?$[j+1]*U:Y.length,ot=i(Y,tt,rt,U,!1),ot===ot.next&&(ot.steiner=!0),K.push(M(ot));for(K.sort(c),j=0;j<K.length;j++)V=u(K[j],V);return V}function c(Y,$){return Y.x-$.x}function u(Y,$){var V=v(Y,$);if(!V)return $;var U=z(V,Y);return a(U,U.next),a(V,V.next)}function v(Y,$){var V=$,U=Y.x,K=Y.y,j=-1/0,_;do{if(K<=V.y&&K>=V.next.y&&V.next.y!==V.y){var tt=V.x+(K-V.y)*(V.next.x-V.x)/(V.next.y-V.y);if(tt<=U&&tt>j&&(j=tt,_=V.x<V.next.x?V:V.next,tt===U))return _}V=V.next}while(V!==$);if(!_)return null;var rt=_,ot=_.x,ft=_.y,ct=1/0,gt;V=_;do U>=V.x&&V.x>=ot&&U!==V.x&&b(K<ft?U:j,K,ot,ft,K<ft?j:U,K,V.x,V.y)&&(gt=Math.abs(K-V.y)/(U-V.x),I(V,Y)&&(gt<ct||gt===ct&&(V.x>_.x||V.x===_.x&&p(_,V)))&&(_=V,ct=gt)),V=V.next;while(V!==rt);return _}function p(Y,$){return R(Y.prev,Y,$.prev)<0&&R($.next,Y,Y.next)<0}function m(Y,$,V,U){var K=Y;do K.z===0&&(K.z=C(K.x,K.y,$,V,U)),K.prevZ=K.prev,K.nextZ=K.next,K=K.next;while(K!==Y);K.prevZ.nextZ=null,K.prevZ=null,g(K)}function g(Y){var $,V,U,K,j,_,tt,rt,ot=1;do{for(V=Y,Y=null,j=null,_=0;V;){for(_++,U=V,tt=0,$=0;$<ot&&(tt++,U=U.nextZ,!!U);$++);for(rt=ot;tt>0||rt>0&&U;)tt!==0&&(rt===0||!U||V.z<=U.z)?(K=V,V=V.nextZ,tt--):(K=U,U=U.nextZ,rt--),j?j.nextZ=K:Y=K,K.prevZ=j,j=K;V=U}j.nextZ=null,ot*=2}while(_>1);return Y}function C(Y,$,V,U,K){return Y=(Y-V)*K|0,$=($-U)*K|0,Y=(Y|Y<<8)&16711935,Y=(Y|Y<<4)&252645135,Y=(Y|Y<<2)&858993459,Y=(Y|Y<<1)&1431655765,$=($|$<<8)&16711935,$=($|$<<4)&252645135,$=($|$<<2)&858993459,$=($|$<<1)&1431655765,Y|$<<1}function M(Y){var $=Y,V=Y;do($.x<V.x||$.x===V.x&&$.y<V.y)&&(V=$),$=$.next;while($!==Y);return V}function b(Y,$,V,U,K,j,_,tt){return(K-_)*($-tt)>=(Y-_)*(j-tt)&&(Y-_)*(U-tt)>=(V-_)*($-tt)&&(V-_)*(j-tt)>=(K-_)*(U-tt)}function w(Y,$){return Y.next.i!==$.i&&Y.prev.i!==$.i&&!B(Y,$)&&(I(Y,$)&&I($,Y)&&k(Y,$)&&(R(Y.prev,Y,$.prev)||R(Y,$.prev,$))||A(Y,$)&&R(Y.prev,Y,Y.next)>0&&R($.prev,$,$.next)>0)}function R(Y,$,V){return($.y-Y.y)*(V.x-$.x)-($.x-Y.x)*(V.y-$.y)}function A(Y,$){return Y.x===$.x&&Y.y===$.y}function L(Y,$,V,U){var K=G(R(Y,$,V)),j=G(R(Y,$,U)),_=G(R(V,U,Y)),tt=G(R(V,U,$));return!!(K!==j&&_!==tt||K===0&&D(Y,V,$)||j===0&&D(Y,U,$)||_===0&&D(V,Y,U)||tt===0&&D(V,$,U))}function D(Y,$,V){return $.x<=Math.max(Y.x,V.x)&&$.x>=Math.min(Y.x,V.x)&&$.y<=Math.max(Y.y,V.y)&&$.y>=Math.min(Y.y,V.y)}function G(Y){return Y>0?1:Y<0?-1:0}function B(Y,$){var V=Y;do{if(V.i!==Y.i&&V.next.i!==Y.i&&V.i!==$.i&&V.next.i!==$.i&&L(V,V.next,Y,$))return!0;V=V.next}while(V!==Y);return!1}function I(Y,$){return R(Y.prev,Y,Y.next)<0?R(Y,$,Y.next)>=0&&R(Y,Y.prev,$)>=0:R(Y,$,Y.prev)<0||R(Y,Y.next,$)<0}function k(Y,$){var V=Y,U=!1,K=(Y.x+$.x)/2,j=(Y.y+$.y)/2;do V.y>j!=V.next.y>j&&V.next.y!==V.y&&K<(V.next.x-V.x)*(j-V.y)/(V.next.y-V.y)+V.x&&(U=!U),V=V.next;while(V!==Y);return U}function z(Y,$){var V=new Q(Y.i,Y.x,Y.y),U=new Q($.i,$.x,$.y),K=Y.next,j=$.prev;return Y.next=$,$.prev=Y,V.next=K,K.prev=V,U.next=V,V.prev=U,j.next=U,U.prev=j,U}function X(Y,$,V,U){var K=new Q(Y,$,V);return U?(K.next=U.next,K.prev=U,U.next.prev=K,U.next=K):(K.prev=K,K.next=K),K}function H(Y){Y.next.prev=Y.prev,Y.prev.next=Y.next,Y.prevZ&&(Y.prevZ.nextZ=Y.nextZ),Y.nextZ&&(Y.nextZ.prevZ=Y.prevZ)}function Q(Y,$,V){this.i=Y,this.x=$,this.y=V,this.prev=null,this.next=null,this.z=0,this.prevZ=null,this.nextZ=null,this.steiner=!1}T.deviation=function(Y,$,V,U){var K=$&&$.length,j=K?$[0]*V:Y.length,_=Math.abs(J(Y,0,j,V));if(K)for(var tt=0,rt=$.length;tt<rt;tt++){var ot=$[tt]*V,ft=tt<rt-1?$[tt+1]*V:Y.length;_-=Math.abs(J(Y,ot,ft,V))}var ct=0;for(tt=0;tt<U.length;tt+=3){var gt=U[tt]*V,yt=U[tt+1]*V,Mt=U[tt+2]*V;ct+=Math.abs((Y[gt]-Y[Mt])*(Y[yt+1]-Y[gt+1])-(Y[gt]-Y[yt])*(Y[Mt+1]-Y[gt+1]))}return _===0&&ct===0?0:Math.abs((ct-_)/_)};function J(Y,$,V,U){for(var K=0,j=$,_=V-U;j<V;j+=U)K+=(Y[_]-Y[j])*(Y[j+1]+Y[_+1]),_=j;return K}T.flatten=function(Y){for(var $=Y[0][0].length,V={vertices:[],holes:[],dimensions:$},U=0,K=0;K<Y.length;K++){for(var j=0;j<Y[K].length;j++)for(var _=0;_<$;_++)V.vertices.push(Y[K][j][_]);K>0&&(U+=Y[K-1].length,V.holes.push(U))}return V},n.exports=T},13829:(n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=i(87841),x=function(d,l){l===void 0&&(l=new a);for(var o=1/0,s=1/0,f=-o,c=-s,u,v=0;v<d.points.length;v++)u=d.points[v],o=Math.min(o,u.x),s=Math.min(s,u.y),f=Math.max(f,u.x),c=Math.max(c,u.y);return l.x=o,l.y=s,l.width=f-o,l.height=c-s,l};n.exports=x},26173:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(i,a){a===void 0&&(a=[]);for(var x=0;x<i.points.length;x++)a.push(i.points[x].x),a.push(i.points[x].y);return a};n.exports=T},9564:(n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=i(35001),x=i(23031),d=i(30052),l=function(o,s,f,c){c===void 0&&(c=[]);var u=o.points,v=d(o);!s&&f>0&&(s=v/f);for(var p=0;p<s;p++)for(var m=v*(p/s),g=0,C=0;C<u.length;C++){var M=u[C],b=u[(C+1)%u.length],w=new x(M.x,M.y,b.x,b.y),R=a(w);if(m<g||m>g+R){g+=R;continue}var A=w.getPoint((m-g)/R);c.push(A);break}return c};n.exports=l},30052:(n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=i(35001),x=i(23031),d=function(l){for(var o=l.points,s=0,f=0;f<o.length;f++){var c=o[f],u=o[(f+1)%o.length],v=new x(c.x,c.y,u.x,u.y);s+=a(v)}return s};n.exports=d},25717:(n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=i(83419),x=i(63814),d=i(9564),l=i(23777),o=new a({initialize:function(f){this.type=l.POLYGON,this.area=0,this.points=[],f&&this.setTo(f)},contains:function(s,f){return x(this,s,f)},setTo:function(s){if(this.area=0,this.points=[],typeof s=="string"&&(s=s.split(" ")),!Array.isArray(s))return this;for(var f,c=0;c<s.length;c++)f={x:0,y:0},typeof s[c]=="number"||typeof s[c]=="string"?(f.x=parseFloat(s[c]),f.y=parseFloat(s[c+1]),c++):Array.isArray(s[c])?(f.x=s[c][0],f.y=s[c][1]):(f.x=s[c].x,f.y=s[c].y),this.points.push(f);return this.calculateArea(),this},calculateArea:function(){if(this.points.length<3)return this.area=0,this.area;for(var s=0,f,c,u=0;u<this.points.length-1;u++)f=this.points[u],c=this.points[u+1],s+=(c.x-f.x)*(f.y+c.y);return f=this.points[0],c=this.points[this.points.length-1],s+=(f.x-c.x)*(c.y+f.y),this.area=-s*.5,this.area},getPoints:function(s,f,c){return d(this,s,f,c)}});n.exports=o},8133:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(i){return i.points.reverse(),i};n.exports=T},29524:n=>{function T(o,s){var f=o.x-s.x,c=o.y-s.y;return f*f+c*c}function i(o,s,f){var c=s.x,u=s.y,v=f.x-c,p=f.y-u;if(v!==0||p!==0){var m=((o.x-c)*v+(o.y-u)*p)/(v*v+p*p);m>1?(c=f.x,u=f.y):m>0&&(c+=v*m,u+=p*m)}return v=o.x-c,p=o.y-u,v*v+p*p}function a(o,s){for(var f=o[0],c=[f],u,v=1,p=o.length;v<p;v++)u=o[v],T(u,f)>s&&(c.push(u),f=u);return f!==u&&c.push(u),c}function x(o,s,f,c,u){for(var v=c,p,m=s+1;m<f;m++){var g=i(o[m],o[s],o[f]);g>v&&(p=m,v=g)}v>c&&(p-s>1&&x(o,s,p,c,u),u.push(o[p]),f-p>1&&x(o,p,f,c,u))}function d(o,s){var f=o.length-1,c=[o[0]];return x(o,0,f,s,c),c.push(o[f]),c}var l=function(o,s,f){s===void 0&&(s=1),f===void 0&&(f=!1);var c=o.points;if(c.length>2){var u=s*s;f||(c=a(c,u)),o.setTo(d(c,u))}return o};n.exports=l},5469:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @author       Igor Ognichenko <ognichenko.igor@gmail.com>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(a,x){return a[0]=x[0],a[1]=x[1],a},i=function(a){var x,d=[],l=a.points;for(x=0;x<l.length;x++)d.push([l[x].x,l[x].y]);var o=[];for(d.length>0&&o.push(T([0,0],d[0])),x=0;x<d.length-1;x++){var s=d[x],f=d[x+1],c=s[0],u=s[1],v=f[0],p=f[1];o.push([.85*c+.15*v,.85*u+.15*p]),o.push([.15*c+.85*v,.15*u+.85*p])}return d.length>1&&o.push(T([0,0],d[d.length-1])),a.setTo(o)};n.exports=i},24709:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(i,a,x){for(var d=i.points,l=0;l<d.length;l++)d[l].x+=a,d[l].y+=x;return i};n.exports=T},58423:(n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=i(25717);a.Clone=i(12306),a.Contains=i(63814),a.ContainsPoint=i(99338),a.Earcut=i(94811),a.GetAABB=i(13829),a.GetNumberArray=i(26173),a.GetPoints=i(9564),a.Perimeter=i(30052),a.Reverse=i(8133),a.Simplify=i(29524),a.Smooth=i(5469),a.Translate=i(24709),n.exports=a},62224:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(i){return i.width*i.height};n.exports=T},98615:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(i){return i.x=Math.ceil(i.x),i.y=Math.ceil(i.y),i};n.exports=T},31688:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(i){return i.x=Math.ceil(i.x),i.y=Math.ceil(i.y),i.width=Math.ceil(i.width),i.height=Math.ceil(i.height),i};n.exports=T},67502:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(i,a,x){return i.x=a-i.width/2,i.y=x-i.height/2,i};n.exports=T},65085:(n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=i(87841),x=function(d){return new a(d.x,d.y,d.width,d.height)};n.exports=x},37303:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(i,a,x){return i.width<=0||i.height<=0?!1:i.x<=a&&i.x+i.width>=a&&i.y<=x&&i.y+i.height>=x};n.exports=T},96553:(n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=i(37303),x=function(d,l){return a(d,l.x,l.y)};n.exports=x},70273:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(i,a){return a.width*a.height>i.width*i.height?!1:a.x>i.x&&a.x<i.right&&a.right>i.x&&a.right<i.right&&a.y>i.y&&a.y<i.bottom&&a.bottom>i.y&&a.bottom<i.bottom};n.exports=T},43459:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(i,a){return a.setTo(i.x,i.y,i.width,i.height)};n.exports=T},77493:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(i,a){return a===void 0&&(a=[]),a.push({x:i.x,y:i.y}),a.push({x:i.right,y:i.y}),a.push({x:i.right,y:i.bottom}),a.push({x:i.x,y:i.bottom}),a};n.exports=T},9219:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(i,a){return i.x===a.x&&i.y===a.y&&i.width===a.width&&i.height===a.height};n.exports=T},53751:(n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=i(8249),x=function(d,l){var o=a(d);return o<a(l)?d.setSize(l.height*o,l.height):d.setSize(l.width,l.width/o),d.setPosition(l.centerX-d.width/2,l.centerY-d.height/2)};n.exports=x},16088:(n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=i(8249),x=function(d,l){var o=a(d);return o>a(l)?d.setSize(l.height*o,l.height):d.setSize(l.width,l.width/o),d.setPosition(l.centerX-d.width/2,l.centerY-d.height/2)};n.exports=x},80774:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(i){return i.x=Math.floor(i.x),i.y=Math.floor(i.y),i};n.exports=T},83859:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(i){return i.x=Math.floor(i.x),i.y=Math.floor(i.y),i.width=Math.floor(i.width),i.height=Math.floor(i.height),i};n.exports=T},19217:(n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=i(87841),x=i(36383),d=function(l,o){if(o===void 0&&(o=new a),l.length===0)return o;for(var s=Number.MAX_VALUE,f=Number.MAX_VALUE,c=x.MIN_SAFE_INTEGER,u=x.MIN_SAFE_INTEGER,v,p,m,g=0;g<l.length;g++)v=l[g],Array.isArray(v)?(p=v[0],m=v[1]):(p=v.x,m=v.y),s=Math.min(s,p),f=Math.min(f,m),c=Math.max(c,p),u=Math.max(u,m);return o.x=s,o.y=f,o.width=c-s,o.height=u-f,o};n.exports=d},9477:(n,T,i)=>{/**
 * @author       samme
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=i(87841),x=function(d,l,o,s,f){return f===void 0&&(f=new a),f.setTo(Math.min(d,o),Math.min(l,s),Math.abs(d-o),Math.abs(l-s))};n.exports=x},8249:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(i){return i.height===0?NaN:i.width/i.height};n.exports=T},27165:(n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=i(2141),x=function(d,l){return l===void 0&&(l=new a),l.x=d.centerX,l.y=d.centerY,l};n.exports=x},20812:(n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=i(13019),x=i(2141),d=function(l,o,s){if(s===void 0&&(s=new x),o<=0||o>=1)return s.x=l.x,s.y=l.y,s;var f=a(l)*o;return o>.5?(f-=l.width+l.height,f<=l.width?(s.x=l.right-f,s.y=l.bottom):(s.x=l.x,s.y=l.bottom-(f-l.width))):f<=l.width?(s.x=l.x+f,s.y=l.y):(s.x=l.right,s.y=l.y+(f-l.width)),s};n.exports=d},34819:(n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=i(20812),x=i(13019),d=function(l,o,s,f){f===void 0&&(f=[]),!o&&s>0&&(o=x(l)/s);for(var c=0;c<o;c++){var u=c/o;f.push(a(l,u))}return f};n.exports=d},51313:(n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=i(2141),x=function(d,l){return l===void 0&&(l=new a),l.x=d.width,l.y=d.height,l};n.exports=x},86091:(n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=i(67502),x=function(d,l,o){var s=d.centerX,f=d.centerY;return d.setSize(d.width+l*2,d.height+o*2),a(d,s,f)};n.exports=x},53951:(n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=i(87841),x=i(59996),d=function(l,o,s){return s===void 0&&(s=new a),x(l,o)?(s.x=Math.max(l.x,o.x),s.y=Math.max(l.y,o.y),s.width=Math.min(l.right,o.right)-s.x,s.height=Math.min(l.bottom,o.bottom)-s.y):s.setEmpty(),s};n.exports=d},14649:(n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=i(13019),x=i(2141),d=function(l,o,s,f){if(f===void 0&&(f=[]),!o&&!s)return f;o?s=Math.round(a(l)/o):o=a(l)/s;for(var c=l.x,u=l.y,v=0,p=0;p<s;p++)switch(f.push(new x(c,u)),v){case 0:c+=o,c>=l.right&&(v=1,u+=c-l.right,c=l.right);break;case 1:u+=o,u>=l.bottom&&(v=2,c-=u-l.bottom,u=l.bottom);break;case 2:c-=o,c<=l.left&&(v=3,u-=l.left-c,c=l.left);break;case 3:u-=o,u<=l.top&&(v=0,u=l.top);break}return f};n.exports=d},33595:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(i,a){for(var x=i.x,d=i.right,l=i.y,o=i.bottom,s=0;s<a.length;s++)x=Math.min(x,a[s].x),d=Math.max(d,a[s].x),l=Math.min(l,a[s].y),o=Math.max(o,a[s].y);return i.x=x,i.y=l,i.width=d-x,i.height=o-l,i};n.exports=T},20074:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(i,a){var x=Math.min(i.x,a.x),d=Math.max(i.right,a.right);i.x=x,i.width=d-x;var l=Math.min(i.y,a.y),o=Math.max(i.bottom,a.bottom);return i.y=l,i.height=o-l,i};n.exports=T},92171:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(i,a,x){var d=Math.min(i.x,a),l=Math.max(i.right,a);i.x=d,i.width=l-d;var o=Math.min(i.y,x),s=Math.max(i.bottom,x);return i.y=o,i.height=s-o,i};n.exports=T},42981:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(i,a,x){return i.x+=a,i.y+=x,i};n.exports=T},46907:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(i,a){return i.x+=a.x,i.y+=a.y,i};n.exports=T},60170:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(i,a){return i.x<a.right&&i.right>a.x&&i.y<a.bottom&&i.bottom>a.y};n.exports=T},13019:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(i){return 2*(i.width+i.height)};n.exports=T},85133:(n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=i(2141),x=i(39506),d=function(l,o,s){s===void 0&&(s=new a),o=x(o);var f=Math.sin(o),c=Math.cos(o),u=c>0?l.width/2:l.width/-2,v=f>0?l.height/2:l.height/-2;return Math.abs(u*f)<Math.abs(v*c)?v=u*f/c:u=v*c/f,s.x=u+l.centerX,s.y=v+l.centerY,s};n.exports=d},26597:(n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=i(2141),x=function(d,l){return l===void 0&&(l=new a),l.x=d.x+Math.random()*d.width,l.y=d.y+Math.random()*d.height,l};n.exports=x},86470:(n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=i(30976),x=i(70273),d=i(2141),l=function(o,s,f){if(f===void 0&&(f=new d),x(o,s))switch(a(0,3)){case 0:f.x=o.x+Math.random()*(s.right-o.x),f.y=o.y+Math.random()*(s.top-o.y);break;case 1:f.x=s.x+Math.random()*(o.right-s.x),f.y=s.bottom+Math.random()*(o.bottom-s.bottom);break;case 2:f.x=o.x+Math.random()*(s.x-o.x),f.y=s.y+Math.random()*(o.bottom-s.y);break;case 3:f.x=s.right+Math.random()*(o.right-s.right),f.y=o.y+Math.random()*(s.bottom-o.y);break}return f};n.exports=l},87841:(n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=i(83419),x=i(37303),d=i(20812),l=i(34819),o=i(23777),s=i(23031),f=i(26597),c=new a({initialize:function(v,p,m,g){v===void 0&&(v=0),p===void 0&&(p=0),m===void 0&&(m=0),g===void 0&&(g=0),this.type=o.RECTANGLE,this.x=v,this.y=p,this.width=m,this.height=g},contains:function(u,v){return x(this,u,v)},getPoint:function(u,v){return d(this,u,v)},getPoints:function(u,v,p){return l(this,u,v,p)},getRandomPoint:function(u){return f(this,u)},setTo:function(u,v,p,m){return this.x=u,this.y=v,this.width=p,this.height=m,this},setEmpty:function(){return this.setTo(0,0,0,0)},setPosition:function(u,v){return v===void 0&&(v=u),this.x=u,this.y=v,this},setSize:function(u,v){return v===void 0&&(v=u),this.width=u,this.height=v,this},isEmpty:function(){return this.width<=0||this.height<=0},getLineA:function(u){return u===void 0&&(u=new s),u.setTo(this.x,this.y,this.right,this.y),u},getLineB:function(u){return u===void 0&&(u=new s),u.setTo(this.right,this.y,this.right,this.bottom),u},getLineC:function(u){return u===void 0&&(u=new s),u.setTo(this.right,this.bottom,this.x,this.bottom),u},getLineD:function(u){return u===void 0&&(u=new s),u.setTo(this.x,this.bottom,this.x,this.y),u},left:{get:function(){return this.x},set:function(u){u>=this.right?this.width=0:this.width=this.right-u,this.x=u}},right:{get:function(){return this.x+this.width},set:function(u){u<=this.x?this.width=0:this.width=u-this.x}},top:{get:function(){return this.y},set:function(u){u>=this.bottom?this.height=0:this.height=this.bottom-u,this.y=u}},bottom:{get:function(){return this.y+this.height},set:function(u){u<=this.y?this.height=0:this.height=u-this.y}},centerX:{get:function(){return this.x+this.width/2},set:function(u){this.x=u-this.width/2}},centerY:{get:function(){return this.y+this.height/2},set:function(u){this.y=u-this.height/2}}});n.exports=c},94845:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(i,a){return i.width===a.width&&i.height===a.height};n.exports=T},31730:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(i,a,x){return x===void 0&&(x=a),i.width*=a,i.height*=x,i};n.exports=T},36899:(n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=i(87841),x=function(d,l,o){o===void 0&&(o=new a);var s=Math.min(d.x,l.x),f=Math.min(d.y,l.y),c=Math.max(d.right,l.right)-s,u=Math.max(d.bottom,l.bottom)-f;return o.setTo(s,f,c,u)};n.exports=x},93232:(n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=i(87841);a.Area=i(62224),a.Ceil=i(98615),a.CeilAll=i(31688),a.CenterOn=i(67502),a.Clone=i(65085),a.Contains=i(37303),a.ContainsPoint=i(96553),a.ContainsRect=i(70273),a.CopyFrom=i(43459),a.Decompose=i(77493),a.Equals=i(9219),a.FitInside=i(53751),a.FitOutside=i(16088),a.Floor=i(80774),a.FloorAll=i(83859),a.FromPoints=i(19217),a.FromXY=i(9477),a.GetAspectRatio=i(8249),a.GetCenter=i(27165),a.GetPoint=i(20812),a.GetPoints=i(34819),a.GetSize=i(51313),a.Inflate=i(86091),a.Intersection=i(53951),a.MarchingAnts=i(14649),a.MergePoints=i(33595),a.MergeRect=i(20074),a.MergeXY=i(92171),a.Offset=i(42981),a.OffsetPoint=i(46907),a.Overlaps=i(60170),a.Perimeter=i(13019),a.PerimeterPoint=i(85133),a.Random=i(26597),a.RandomOutside=i(86470),a.SameDimensions=i(94845),a.Scale=i(31730),a.Union=i(36899),n.exports=a},41658:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(i){var a=i.x1,x=i.y1,d=i.x2,l=i.y2,o=i.x3,s=i.y3;return Math.abs(((o-a)*(l-x)-(d-a)*(s-x))/2)};n.exports=T},39208:(n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=i(16483),x=function(d,l,o){var s=o*(Math.sqrt(3)/2),f=d,c=l,u=d+o/2,v=l+s,p=d-o/2,m=l+s;return new a(f,c,u,v,p,m)};n.exports=x},39545:(n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=i(94811),x=i(16483),d=function(l,o,s,f,c){o===void 0&&(o=null),s===void 0&&(s=1),f===void 0&&(f=1),c===void 0&&(c=[]);for(var u=a(l,o),v,p,m,g,C,M,b,w,R,A=0;A<u.length;A+=3)v=u[A],p=u[A+1],m=u[A+2],g=l[v*2]*s,C=l[v*2+1]*f,M=l[p*2]*s,b=l[p*2+1]*f,w=l[m*2]*s,R=l[m*2+1]*f,c.push(new x(g,C,M,b,w,R));return c};n.exports=d},90301:(n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=i(16483),x=function(d,l,o,s){s===void 0&&(s=o);var f=d,c=l,u=d,v=l-s,p=d+o,m=l;return new a(f,c,u,v,p,m)};n.exports=x},23707:(n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=i(97523),x=i(13584),d=function(l,o,s,f){f===void 0&&(f=a);var c=f(l),u=o-c.x,v=s-c.y;return x(l,u,v)};n.exports=d},97523:(n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=i(2141),x=function(d,l){return l===void 0&&(l=new a),l.x=(d.x1+d.x2+d.x3)/3,l.y=(d.y1+d.y2+d.y3)/3,l};n.exports=x},24951:(n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=i(26099);function x(l,o,s,f){return l*f-o*s}var d=function(l,o){o===void 0&&(o=new a);var s=l.x3,f=l.y3,c=l.x1-s,u=l.y1-f,v=l.x2-s,p=l.y2-f,m=2*x(c,u,v,p),g=x(u,c*c+u*u,p,v*v+p*p),C=x(c,c*c+u*u,v,v*v+p*p);return o.x=s-g/m,o.y=f+C/m,o};n.exports=d},85614:(n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=i(96503),x=function(d,l){l===void 0&&(l=new a);var o=d.x1,s=d.y1,f=d.x2,c=d.y2,u=d.x3,v=d.y3,p=f-o,m=c-s,g=u-o,C=v-s,M=p*(o+f)+m*(s+c),b=g*(o+u)+C*(s+v),w=2*(p*(v-c)-m*(u-f)),R,A;if(Math.abs(w)<1e-6){var L=Math.min(o,f,u),D=Math.min(s,c,v);R=(Math.max(o,f,u)-L)*.5,A=(Math.max(s,c,v)-D)*.5,l.x=L+R,l.y=D+A,l.radius=Math.sqrt(R*R+A*A)}else l.x=(C*M-m*b)/w,l.y=(p*b-g*M)/w,R=l.x-o,A=l.y-s,l.radius=Math.sqrt(R*R+A*A);return l};n.exports=x},74422:(n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=i(16483),x=function(d){return new a(d.x1,d.y1,d.x2,d.y2,d.x3,d.y3)};n.exports=x},10690:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(i,a,x){var d=i.x3-i.x1,l=i.y3-i.y1,o=i.x2-i.x1,s=i.y2-i.y1,f=a-i.x1,c=x-i.y1,u=d*d+l*l,v=d*o+l*s,p=d*f+l*c,m=o*o+s*s,g=o*f+s*c,C=u*m-v*v,M=C===0?0:1/C,b=(m*p-v*g)*M,w=(u*g-v*p)*M;return b>=0&&w>=0&&b+w<1};n.exports=T},48653:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(i,a,x,d){x===void 0&&(x=!1),d===void 0&&(d=[]);for(var l=i.x3-i.x1,o=i.y3-i.y1,s=i.x2-i.x1,f=i.y2-i.y1,c=l*l+o*o,u=l*s+o*f,v=s*s+f*f,p=c*v-u*u,m=p===0?0:1/p,g,C,M,b,w,R,A=i.x1,L=i.y1,D=0;D<a.length&&(M=a[D].x-A,b=a[D].y-L,w=l*M+o*b,R=s*M+f*b,g=(v*w-u*R)*m,C=(c*R-u*w)*m,!(g>=0&&C>=0&&g+C<1&&(d.push({x:a[D].x,y:a[D].y}),x)));D++);return d};n.exports=T},96006:(n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=i(10690),x=function(d,l){return a(d,l.x,l.y)};n.exports=x},71326:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(i,a){return a.setTo(i.x1,i.y1,i.x2,i.y2,i.x3,i.y3)};n.exports=T},71694:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(i,a){return a===void 0&&(a=[]),a.push({x:i.x1,y:i.y1}),a.push({x:i.x2,y:i.y2}),a.push({x:i.x3,y:i.y3}),a};n.exports=T},33522:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(i,a){return i.x1===a.x1&&i.y1===a.y1&&i.x2===a.x2&&i.y2===a.y2&&i.x3===a.x3&&i.y3===a.y3};n.exports=T},20437:(n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=i(2141),x=i(35001),d=function(l,o,s){s===void 0&&(s=new a);var f=l.getLineA(),c=l.getLineB(),u=l.getLineC();if(o<=0||o>=1)return s.x=f.x1,s.y=f.y1,s;var v=x(f),p=x(c),m=x(u),g=v+p+m,C=g*o,M=0;return C<v?(M=C/v,s.x=f.x1+(f.x2-f.x1)*M,s.y=f.y1+(f.y2-f.y1)*M):C>v+p?(C-=v+p,M=C/m,s.x=u.x1+(u.x2-u.x1)*M,s.y=u.y1+(u.y2-u.y1)*M):(C-=v,M=C/p,s.x=c.x1+(c.x2-c.x1)*M,s.y=c.y1+(c.y2-c.y1)*M),s};n.exports=d},80672:(n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=i(35001),x=i(2141),d=function(l,o,s,f){f===void 0&&(f=[]);var c=l.getLineA(),u=l.getLineB(),v=l.getLineC(),p=a(c),m=a(u),g=a(v),C=p+m+g;!o&&s>0&&(o=C/s);for(var M=0;M<o;M++){var b=C*(M/o),w=0,R=new x;b<p?(w=b/p,R.x=c.x1+(c.x2-c.x1)*w,R.y=c.y1+(c.y2-c.y1)*w):b>p+m?(b-=p+m,w=b/g,R.x=v.x1+(v.x2-v.x1)*w,R.y=v.y1+(v.y2-v.y1)*w):(b-=p,w=b/m,R.x=u.x1+(u.x2-u.x1)*w,R.y=u.y1+(u.y2-u.y1)*w),f.push(R)}return f};n.exports=d},39757:(n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=i(2141);function x(l,o,s,f){var c=l-s,u=o-f,v=c*c+u*u;return Math.sqrt(v)}var d=function(l,o){o===void 0&&(o=new a);var s=l.x1,f=l.y1,c=l.x2,u=l.y2,v=l.x3,p=l.y3,m=x(v,p,c,u),g=x(s,f,v,p),C=x(c,u,s,f),M=m+g+C;return o.x=(s*m+c*g+v*C)/M,o.y=(f*m+u*g+p*C)/M,o};n.exports=d},13584:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(i,a,x){return i.x1+=a,i.y1+=x,i.x2+=a,i.y2+=x,i.x3+=a,i.y3+=x,i};n.exports=T},1376:(n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=i(35001),x=function(d){var l=d.getLineA(),o=d.getLineB(),s=d.getLineC();return a(l)+a(o)+a(s)};n.exports=x},90260:(n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=i(2141),x=function(d,l){l===void 0&&(l=new a);var o=d.x2-d.x1,s=d.y2-d.y1,f=d.x3-d.x1,c=d.y3-d.y1,u=Math.random(),v=Math.random();return u+v>=1&&(u=1-u,v=1-v),l.x=d.x1+(o*u+f*v),l.y=d.y1+(s*u+c*v),l};n.exports=x},52172:(n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=i(99614),x=i(39757),d=function(l,o){var s=x(l);return a(l,s.x,s.y,o)};n.exports=d},49907:(n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=i(99614),x=function(d,l,o){return a(d,l.x,l.y,o)};n.exports=x},99614:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(i,a,x,d){var l=Math.cos(d),o=Math.sin(d),s=i.x1-a,f=i.y1-x;return i.x1=s*l-f*o+a,i.y1=s*o+f*l+x,s=i.x2-a,f=i.y2-x,i.x2=s*l-f*o+a,i.y2=s*o+f*l+x,s=i.x3-a,f=i.y3-x,i.x3=s*l-f*o+a,i.y3=s*o+f*l+x,i};n.exports=T},16483:(n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=i(83419),x=i(10690),d=i(20437),l=i(80672),o=i(23777),s=i(23031),f=i(90260),c=new a({initialize:function(v,p,m,g,C,M){v===void 0&&(v=0),p===void 0&&(p=0),m===void 0&&(m=0),g===void 0&&(g=0),C===void 0&&(C=0),M===void 0&&(M=0),this.type=o.TRIANGLE,this.x1=v,this.y1=p,this.x2=m,this.y2=g,this.x3=C,this.y3=M},contains:function(u,v){return x(this,u,v)},getPoint:function(u,v){return d(this,u,v)},getPoints:function(u,v,p){return l(this,u,v,p)},getRandomPoint:function(u){return f(this,u)},setTo:function(u,v,p,m,g,C){return u===void 0&&(u=0),v===void 0&&(v=0),p===void 0&&(p=0),m===void 0&&(m=0),g===void 0&&(g=0),C===void 0&&(C=0),this.x1=u,this.y1=v,this.x2=p,this.y2=m,this.x3=g,this.y3=C,this},getLineA:function(u){return u===void 0&&(u=new s),u.setTo(this.x1,this.y1,this.x2,this.y2),u},getLineB:function(u){return u===void 0&&(u=new s),u.setTo(this.x2,this.y2,this.x3,this.y3),u},getLineC:function(u){return u===void 0&&(u=new s),u.setTo(this.x3,this.y3,this.x1,this.y1),u},left:{get:function(){return Math.min(this.x1,this.x2,this.x3)},set:function(u){var v=0;this.x1<=this.x2&&this.x1<=this.x3?v=this.x1-u:this.x2<=this.x1&&this.x2<=this.x3?v=this.x2-u:v=this.x3-u,this.x1-=v,this.x2-=v,this.x3-=v}},right:{get:function(){return Math.max(this.x1,this.x2,this.x3)},set:function(u){var v=0;this.x1>=this.x2&&this.x1>=this.x3?v=this.x1-u:this.x2>=this.x1&&this.x2>=this.x3?v=this.x2-u:v=this.x3-u,this.x1-=v,this.x2-=v,this.x3-=v}},top:{get:function(){return Math.min(this.y1,this.y2,this.y3)},set:function(u){var v=0;this.y1<=this.y2&&this.y1<=this.y3?v=this.y1-u:this.y2<=this.y1&&this.y2<=this.y3?v=this.y2-u:v=this.y3-u,this.y1-=v,this.y2-=v,this.y3-=v}},bottom:{get:function(){return Math.max(this.y1,this.y2,this.y3)},set:function(u){var v=0;this.y1>=this.y2&&this.y1>=this.y3?v=this.y1-u:this.y2>=this.y1&&this.y2>=this.y3?v=this.y2-u:v=this.y3-u,this.y1-=v,this.y2-=v,this.y3-=v}}});n.exports=c},84435:(n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=i(16483);a.Area=i(41658),a.BuildEquilateral=i(39208),a.BuildFromPolygon=i(39545),a.BuildRight=i(90301),a.CenterOn=i(23707),a.Centroid=i(97523),a.CircumCenter=i(24951),a.CircumCircle=i(85614),a.Clone=i(74422),a.Contains=i(10690),a.ContainsArray=i(48653),a.ContainsPoint=i(96006),a.CopyFrom=i(71326),a.Decompose=i(71694),a.Equals=i(33522),a.GetPoint=i(20437),a.GetPoints=i(80672),a.InCenter=i(39757),a.Perimeter=i(1376),a.Offset=i(13584),a.Random=i(90260),a.Rotate=i(52172),a.RotateAroundPoint=i(49907),a.RotateAroundXY=i(99614),n.exports=a},74457:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(i,a,x){return{gameObject:i,enabled:!0,draggable:!1,dropZone:!1,cursor:!1,target:null,camera:null,hitArea:a,hitAreaCallback:x,hitAreaDebug:null,customHitArea:!1,localX:0,localY:0,dragState:0,dragStartX:0,dragStartY:0,dragStartXGlobal:0,dragStartYGlobal:0,dragStartCamera:null,dragX:0,dragY:0}};n.exports=T},84409:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(i,a){return function(x,d,l,o){var s=i.getPixelAlpha(d,l,o.texture.key,o.frame.name);return s&&s>=a}};n.exports=T},7003:(n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=i(83419),x=i(93301),d=i(50792),l=i(8214),o=i(8443),s=i(78970),f=i(85098),c=i(42515),u=i(36210),v=i(61340),p=i(85955),m=new a({initialize:function(C,M){this.game=C,this.scaleManager,this.canvas,this.config=M,this.enabled=!0,this.events=new d,this.isOver=!0,this.defaultCursor="",this.keyboard=M.inputKeyboard?new s(this):null,this.mouse=M.inputMouse?new f(this):null,this.touch=M.inputTouch?new u(this):null,this.pointers=[],this.pointersTotal=M.inputActivePointers;for(var b=0;b<=this.pointersTotal;b++){var w=new c(this,b);w.smoothFactor=M.inputSmoothFactor,this.pointers.push(w)}this.mousePointer=M.inputMouse?this.pointers[0]:null,this.activePointer=this.pointers[0],this.globalTopOnly=!0,this.time=0,this._tempPoint={x:0,y:0},this._tempHitTest=[],this._tempMatrix=new v,this._tempMatrix2=new v,this._tempSkip=!1,this.mousePointerContainer=[this.mousePointer],C.events.once(o.BOOT,this.boot,this)},boot:function(){var g=this.game,C=g.events;this.canvas=g.canvas,this.scaleManager=g.scale,this.events.emit(l.MANAGER_BOOT),C.on(o.PRE_RENDER,this.preRender,this),C.once(o.DESTROY,this.destroy,this)},setCanvasOver:function(g){this.isOver=!0,this.events.emit(l.GAME_OVER,g)},setCanvasOut:function(g){this.isOver=!1,this.events.emit(l.GAME_OUT,g)},preRender:function(){var g=this.game.loop.now,C=this.game.loop.delta,M=this.game.scene.getScenes(!0,!0);this.time=g,this.events.emit(l.MANAGER_UPDATE);for(var b=0;b<M.length;b++){var w=M[b];if(w.sys.input&&w.sys.input.updatePoll(g,C)&&this.globalTopOnly)return}},setDefaultCursor:function(g){this.defaultCursor=g,this.canvas.style.cursor!==g&&(this.canvas.style.cursor=g)},setCursor:function(g){g.cursor&&(this.canvas.style.cursor=g.cursor)},resetCursor:function(g,C){(C||g&&g.cursor)&&this.canvas&&(this.canvas.style.cursor=this.defaultCursor)},addPointer:function(g){g===void 0&&(g=1);var C=[];this.pointersTotal+g>10&&(g=10-this.pointersTotal);for(var M=0;M<g;M++){var b=this.pointers.length,w=new c(this,b);w.smoothFactor=this.config.inputSmoothFactor,this.pointers.push(w),this.pointersTotal++,C.push(w)}return C},updateInputPlugins:function(g,C){var M=this.game.scene.getScenes(!1,!0);this._tempSkip=!1;for(var b=0;b<M.length;b++){var w=M[b];if(w.sys.input){var R=w.sys.input.update(g,C);if(R&&this.globalTopOnly||this._tempSkip)return}}},onTouchStart:function(g){for(var C=this.pointers,M=[],b=0;b<g.changedTouches.length;b++)for(var w=g.changedTouches[b],R=1;R<C.length;R++){var A=C[R];if(!A.active){A.touchstart(w,g),this.activePointer=A,M.push(A);break}}this.updateInputPlugins(x.TOUCH_START,M)},onTouchMove:function(g){for(var C=this.pointers,M=[],b=0;b<g.changedTouches.length;b++)for(var w=g.changedTouches[b],R=1;R<C.length;R++){var A=C[R];if(A.active&&A.identifier===w.identifier){var L=document.elementFromPoint(w.clientX,w.clientY),D=L===this.canvas;!this.isOver&&D?this.setCanvasOver(g):this.isOver&&!D&&this.setCanvasOut(g),this.isOver&&(A.touchmove(w,g),this.activePointer=A,M.push(A));break}}this.updateInputPlugins(x.TOUCH_MOVE,M)},onTouchEnd:function(g){for(var C=this.pointers,M=[],b=0;b<g.changedTouches.length;b++)for(var w=g.changedTouches[b],R=1;R<C.length;R++){var A=C[R];if(A.active&&A.identifier===w.identifier){A.touchend(w,g),M.push(A);break}}this.updateInputPlugins(x.TOUCH_END,M)},onTouchCancel:function(g){for(var C=this.pointers,M=[],b=0;b<g.changedTouches.length;b++)for(var w=g.changedTouches[b],R=1;R<C.length;R++){var A=C[R];if(A.active&&A.identifier===w.identifier){A.touchcancel(w,g),M.push(A);break}}this.updateInputPlugins(x.TOUCH_CANCEL,M)},onMouseDown:function(g){var C=this.mousePointer;C.down(g),C.updateMotion(),this.activePointer=C,this.updateInputPlugins(x.MOUSE_DOWN,this.mousePointerContainer)},onMouseMove:function(g){var C=this.mousePointer;C.move(g),C.updateMotion(),this.activePointer=C,this.updateInputPlugins(x.MOUSE_MOVE,this.mousePointerContainer)},onMouseUp:function(g){var C=this.mousePointer;C.up(g),C.updateMotion(),this.activePointer=C,this.updateInputPlugins(x.MOUSE_UP,this.mousePointerContainer)},onMouseWheel:function(g){var C=this.mousePointer;C.wheel(g),this.activePointer=C,this.updateInputPlugins(x.MOUSE_WHEEL,this.mousePointerContainer)},onPointerLockChange:function(g){var C=this.mouse.locked;this.mousePointer.locked=C,this.events.emit(l.POINTERLOCK_CHANGE,g,C)},inputCandidate:function(g,C){var M=g.input;if(!M||!M.enabled||!g.willRender(C))return!1;var b=!0,w=g.parentContainer;if(w)do{if(!w.willRender(C)){b=!1;break}w=w.parentContainer}while(w);return b},hitTest:function(g,C,M,b){b===void 0&&(b=this._tempHitTest);var w=this._tempPoint,R=M.scrollX,A=M.scrollY;b.length=0;var L=g.x,D=g.y;M.getWorldPoint(L,D,w),g.worldX=w.x,g.worldY=w.y;for(var G={x:0,y:0},B=this._tempMatrix,I=this._tempMatrix2,k=0;k<C.length;k++){var z=C[k];if(this.inputCandidate(z,M)){var X=w.x+R*z.scrollFactorX-R,H=w.y+A*z.scrollFactorY-A;z.parentContainer?(z.getWorldTransformMatrix(B,I),B.applyInverse(X,H,G)):p(X,H,z.x,z.y,z.rotation,z.scaleX,z.scaleY,G),this.pointWithinHitArea(z,G.x,G.y)&&b.push(z)}}return b},pointWithinHitArea:function(g,C,M){C+=g.displayOriginX,M+=g.displayOriginY;var b=g.input;return b&&b.hitAreaCallback(b.hitArea,C,M,g)?(b.localX=C,b.localY=M,!0):!1},pointWithinInteractiveObject:function(g,C,M){return g.hitArea?(C+=g.gameObject.displayOriginX,M+=g.gameObject.displayOriginY,g.localX=C,g.localY=M,g.hitAreaCallback(g.hitArea,C,M,g)):!1},transformPointer:function(g,C,M,b){var w=g.position,R=g.prevPosition;R.x=w.x,R.y=w.y;var A=this.scaleManager.transformX(C),L=this.scaleManager.transformY(M),D=g.smoothFactor;!b||D===0?(w.x=A,w.y=L):(w.x=A*D+R.x*(1-D),w.y=L*D+R.y*(1-D))},destroy:function(){this.events.removeAllListeners(),this.game.events.off(o.PRE_RENDER),this.keyboard&&this.keyboard.destroy(),this.mouse&&this.mouse.destroy(),this.touch&&this.touch.destroy();for(var g=0;g<this.pointers.length;g++)this.pointers[g].destroy();this.pointers=[],this._tempHitTest=[],this._tempMatrix.destroy(),this.canvas=null,this.game=null}});n.exports=m},48205:(n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=i(96503),x=i(87902),d=i(83419),l=i(93301),o=i(74457),s=i(84409),f=i(20339),c=i(8497),u=i(81154),v=i(8214),p=i(50792),m=i(95540),g=i(23777),C=i(89639),M=i(41212),b=i(37277),w=i(87841),R=i(37303),A=i(44594),L=i(16483),D=i(10690),G=new d({Extends:p,initialize:function(I){p.call(this),this.scene=I,this.systems=I.sys,this.settings=I.sys.settings,this.manager=I.sys.game.input,this.pluginEvents=new p,this.enabled=!0,this.displayList,this.cameras,C.install(this),this.mouse=this.manager.mouse,this.topOnly=!0,this.pollRate=-1,this._pollTimer=0;var k={cancelled:!1};this._eventContainer={stopPropagation:function(){k.cancelled=!0}},this._eventData=k,this.dragDistanceThreshold=0,this.dragTimeThreshold=0,this._temp=[],this._tempZones=[],this._list=[],this._pendingInsertion=[],this._pendingRemoval=[],this._draggable=[],this._drag={0:[],1:[],2:[],3:[],4:[],5:[],6:[],7:[],8:[],9:[],10:[]},this._dragState=[],this._over={0:[],1:[],2:[],3:[],4:[],5:[],6:[],7:[],8:[],9:[],10:[]},this._validTypes=["onDown","onUp","onOver","onOut","onMove","onDragStart","onDrag","onDragEnd","onDragEnter","onDragLeave","onDragOver","onDrop"],this._updatedThisFrame=!1,I.sys.events.once(A.BOOT,this.boot,this),I.sys.events.on(A.START,this.start,this)},boot:function(){this.cameras=this.systems.cameras,this.displayList=this.systems.displayList,this.systems.events.once(A.DESTROY,this.destroy,this),this.pluginEvents.emit(v.BOOT)},start:function(){var B=this.systems.events;B.on(A.TRANSITION_START,this.transitionIn,this),B.on(A.TRANSITION_OUT,this.transitionOut,this),B.on(A.TRANSITION_COMPLETE,this.transitionComplete,this),B.on(A.PRE_UPDATE,this.preUpdate,this),B.once(A.SHUTDOWN,this.shutdown,this),this.manager.events.on(v.GAME_OUT,this.onGameOut,this),this.manager.events.on(v.GAME_OVER,this.onGameOver,this),this.enabled=!0,this._dragState=[0,0,0,0,0,0,0,0,0,0],this.pluginEvents.emit(v.START)},onGameOver:function(B){this.isActive()&&this.emit(v.GAME_OVER,B.timeStamp,B)},onGameOut:function(B){this.isActive()&&this.emit(v.GAME_OUT,B.timeStamp,B)},preUpdate:function(){this.pluginEvents.emit(v.PRE_UPDATE);var B=this._pendingRemoval,I=this._pendingInsertion,k=B.length,z=I.length;if(!(k===0&&z===0)){for(var X=this._list,H=0;H<k;H++){var Q=B[H],J=X.indexOf(Q);J>-1&&(X.splice(J,1),this.clear(Q,!0))}this._pendingRemoval.length=0,this._list=X.concat(I.splice(0))}},isActive:function(){return this.manager&&this.manager.enabled&&this.enabled&&this.scene.sys.canInput()},setCursor:function(B){this.manager&&this.manager.setCursor(B)},resetCursor:function(){this.manager&&this.manager.resetCursor(null,!0)},updatePoll:function(B,I){if(!this.isActive())return!1;if(this.pluginEvents.emit(v.UPDATE,B,I),this._updatedThisFrame)return this._updatedThisFrame=!1,!1;var k,z=this.manager,X=z.pointers;for(k=0;k<X.length;k++)X[k].updateMotion();if(this._list.length===0)return!1;var H=this.pollRate;if(H===-1)return!1;if(H>0)if(this._pollTimer-=I,this._pollTimer<0)this._pollTimer=this.pollRate;else return!1;var Q=!1;for(k=0;k<X.length;k++){var J=0,Y=X[k];this._tempZones=[],this._temp=this.hitTestPointer(Y),this.sortGameObjects(this._temp,Y),this.sortDropZones(this._tempZones),this.topOnly&&(this._temp.length&&this._temp.splice(1),this._tempZones.length&&this._tempZones.splice(1)),J+=this.processOverOutEvents(Y),this.getDragState(Y)===2&&this.processDragThresholdEvent(Y,B),J>0&&(Q=!0)}return Q},update:function(B,I){if(!this.isActive())return!1;for(var k=!1,z=0;z<I.length;z++){var X=0,H=I[z];switch(this._tempZones=[],this._temp=this.hitTestPointer(H),this.sortGameObjects(this._temp,H),this.sortDropZones(this._tempZones),this.topOnly&&(this._temp.length&&this._temp.splice(1),this._tempZones.length&&this._tempZones.splice(1)),B){case l.MOUSE_DOWN:X+=this.processDragDownEvent(H),X+=this.processDownEvents(H),X+=this.processOverOutEvents(H);break;case l.MOUSE_UP:X+=this.processDragUpEvent(H),X+=this.processUpEvents(H),X+=this.processOverOutEvents(H);break;case l.TOUCH_START:X+=this.processDragDownEvent(H),X+=this.processDownEvents(H),X+=this.processOverEvents(H);break;case l.TOUCH_END:case l.TOUCH_CANCEL:X+=this.processDragUpEvent(H),X+=this.processUpEvents(H),X+=this.processOutEvents(H);break;case l.MOUSE_MOVE:case l.TOUCH_MOVE:X+=this.processDragMoveEvent(H),X+=this.processMoveEvents(H),X+=this.processOverOutEvents(H);break;case l.MOUSE_WHEEL:X+=this.processWheelEvent(H);break}X>0&&(k=!0)}return this._updatedThisFrame=!0,k},clear:function(B,I){I===void 0&&(I=!1),this.disable(B);var k=B.input;k&&(this.removeDebug(B),this.manager.resetCursor(k),k.gameObject=void 0,k.target=void 0,k.hitArea=void 0,k.hitAreaCallback=void 0,k.callbackContext=void 0,B.input=null),I||this.queueForRemoval(B);var z=this._draggable.indexOf(B);return z>-1&&this._draggable.splice(z,1),B},disable:function(B,I){I===void 0&&(I=!1);var k=B.input;k&&(k.enabled=!1,k.dragState=0);for(var z=this._drag,X=this._over,H=this.manager,Q=0,J;Q<H.pointers.length;Q++)J=z[Q].indexOf(B),J>-1&&z[Q].splice(J,1),J=X[Q].indexOf(B),J>-1&&X[Q].splice(J,1);return I&&this.resetCursor(),this},enable:function(B,I,k,z){return z===void 0&&(z=!1),B.input?B.input.enabled=!0:this.setHitArea(B,I,k),B.input&&z&&!B.input.dropZone&&(B.input.dropZone=z),this},hitTestPointer:function(B){for(var I=this.cameras.getCamerasBelowPointer(B),k=0;k<I.length;k++){for(var z=I[k],X=this.manager.hitTest(B,this._list,z),H=0;H<X.length;H++){var Q=X[H];Q.input.dropZone&&this._tempZones.push(Q)}if(X.length>0)return B.camera=z,X}return B.camera=I[0],[]},processDownEvents:function(B){var I=0,k=this._temp,z=this._eventData,X=this._eventContainer;z.cancelled=!1;for(var H=0;H<k.length;H++){var Q=k[H];if(!(!Q.input||!Q.input.enabled)&&(I++,Q.emit(v.GAMEOBJECT_POINTER_DOWN,B,Q.input.localX,Q.input.localY,X),z.cancelled||!this.isActive()||Q.input&&Q.input.enabled&&(this.emit(v.GAMEOBJECT_DOWN,B,Q,X),z.cancelled||!this.isActive())))break}return!z.cancelled&&this.isActive()&&(B.downElement===this.manager.game.canvas?this.emit(v.POINTER_DOWN,B,k):this.emit(v.POINTER_DOWN_OUTSIDE,B)),I},getDragState:function(B){return this._dragState[B.id]},setDragState:function(B,I){this._dragState[B.id]=I},processDragThresholdEvent:function(B,I){var k=!1,z=this.dragTimeThreshold,X=this.dragDistanceThreshold;if((X>0&&f(B.x,B.y,B.downX,B.downY)>=X||z>0&&I>=B.downTime+z)&&(k=!0),k)return this.setDragState(B,3),this.processDragStartList(B)},processDragStartList:function(B){if(this.getDragState(B)!==3)return 0;var I=this._drag[B.id];I.length>1&&(I=I.slice(0));for(var k=0;k<I.length;k++){var z=I[k],X=z.input;X.dragState=2,X.dragStartX=z.x,X.dragStartY=z.y,X.dragStartXGlobal=B.worldX,X.dragStartYGlobal=B.worldY,X.dragStartCamera=B.camera,X.dragX=X.dragStartXGlobal-X.dragStartX,X.dragY=X.dragStartYGlobal-X.dragStartY,z.emit(v.GAMEOBJECT_DRAG_START,B,X.dragX,X.dragY),this.emit(v.DRAG_START,B,z)}return this.setDragState(B,4),I.length},processDragDownEvent:function(B){var I=this._temp;if(this._draggable.length===0||I.length===0||!B.primaryDown||this.getDragState(B)!==0)return 0;this.setDragState(B,1);for(var k=[],z=0;z<I.length;z++){var X=I[z];X.input.draggable&&X.input.dragState===0&&k.push(X)}return k.length===0?(this.setDragState(B,0),0):(k.length>1&&(this.sortGameObjects(k,B),this.topOnly&&k.splice(1)),this._drag[B.id]=k,this.dragDistanceThreshold===0&&this.dragTimeThreshold===0?(this.setDragState(B,3),this.processDragStartList(B)):(this.setDragState(B,2),0))},processDragMoveEvent:function(B){if(this.getDragState(B)===2&&this.processDragThresholdEvent(B,this.manager.game.loop.now),this.getDragState(B)!==4)return 0;var I=this._tempZones,k=this._drag[B.id];k.length>1&&(k=k.slice(0));for(var z=0;z<k.length;z++){var X=k[z],H=X.input,Q=H.target;if(Q){var J=I.indexOf(Q);J===0?(X.emit(v.GAMEOBJECT_DRAG_OVER,B,Q),this.emit(v.DRAG_OVER,B,X,Q)):J>0?(X.emit(v.GAMEOBJECT_DRAG_LEAVE,B,Q),this.emit(v.DRAG_LEAVE,B,X,Q),H.target=I[0],Q=H.target,X.emit(v.GAMEOBJECT_DRAG_ENTER,B,Q),this.emit(v.DRAG_ENTER,B,X,Q)):(X.emit(v.GAMEOBJECT_DRAG_LEAVE,B,Q),this.emit(v.DRAG_LEAVE,B,X,Q),I[0]?(H.target=I[0],Q=H.target,X.emit(v.GAMEOBJECT_DRAG_ENTER,B,Q),this.emit(v.DRAG_ENTER,B,X,Q)):H.target=null)}else!Q&&I[0]&&(H.target=I[0],Q=H.target,X.emit(v.GAMEOBJECT_DRAG_ENTER,B,Q),this.emit(v.DRAG_ENTER,B,X,Q));var Y,$,V=B.positionToCamera(H.dragStartCamera);if(!X.parentContainer)Y=V.x-H.dragX,$=V.y-H.dragY;else{var U=V.x-H.dragStartXGlobal,K=V.y-H.dragStartYGlobal,j=X.getParentRotation(),_=U*Math.cos(j)+K*Math.sin(j),tt=K*Math.cos(j)-U*Math.sin(j);_*=1/X.parentContainer.scaleX,tt*=1/X.parentContainer.scaleY,Y=_+H.dragStartX,$=tt+H.dragStartY}X.emit(v.GAMEOBJECT_DRAG,B,Y,$),this.emit(v.DRAG,B,X,Y,$)}return k.length},processDragUpEvent:function(B){var I=this._drag[B.id];I.length>1&&(I=I.slice(0));for(var k=0;k<I.length;k++){var z=I[k],X=z.input;if(X&&X.dragState===2){X.dragState=0,X.dragX=X.localX-z.displayOriginX,X.dragY=X.localY-z.displayOriginY,X.dragStartCamera=null;var H=!1,Q=X.target;Q&&(z.emit(v.GAMEOBJECT_DROP,B,Q),this.emit(v.DROP,B,z,Q),X.target=null,H=!0),z.input&&z.input.enabled&&(z.emit(v.GAMEOBJECT_DRAG_END,B,X.dragX,X.dragY,H),this.emit(v.DRAG_END,B,z,H))}}return this.setDragState(B,0),I.splice(0),0},processMoveEvents:function(B){var I=0,k=this._temp,z=this._eventData,X=this._eventContainer;z.cancelled=!1;for(var H=0;H<k.length;H++){var Q=k[H];if(!(!Q.input||!Q.input.enabled)&&(I++,Q.emit(v.GAMEOBJECT_POINTER_MOVE,B,Q.input.localX,Q.input.localY,X),z.cancelled||!this.isActive()||Q.input&&Q.input.enabled&&(this.emit(v.GAMEOBJECT_MOVE,B,Q,X),z.cancelled||!this.isActive()||this.topOnly)))break}return!z.cancelled&&this.isActive()&&this.emit(v.POINTER_MOVE,B,k),I},processWheelEvent:function(B){var I=0,k=this._temp,z=this._eventData,X=this._eventContainer;z.cancelled=!1;for(var H=B.deltaX,Q=B.deltaY,J=B.deltaZ,Y=0;Y<k.length;Y++){var $=k[Y];if(!(!$.input||!$.input.enabled)&&(I++,$.emit(v.GAMEOBJECT_POINTER_WHEEL,B,H,Q,J,X),z.cancelled||!this.isActive()||$.input&&$.input.enabled&&(this.emit(v.GAMEOBJECT_WHEEL,B,$,H,Q,J,X),z.cancelled||!this.isActive())))break}return!z.cancelled&&this.isActive()&&this.emit(v.POINTER_WHEEL,B,k,H,Q,J),I},processOverEvents:function(B){var I=this._temp,k=0,z=I.length,X=[];if(z>0){var H=this.manager,Q=this._eventData,J=this._eventContainer;Q.cancelled=!1;for(var Y=0;Y<z;Y++){var $=I[Y];if(!(!$.input||!$.input.enabled)&&(X.push($),H.setCursor($.input),$.emit(v.GAMEOBJECT_POINTER_OVER,B,$.input.localX,$.input.localY,J),k++,Q.cancelled||!this.isActive()||$.input&&$.input.enabled&&(this.emit(v.GAMEOBJECT_OVER,B,$,J),Q.cancelled||!this.isActive())))break}!Q.cancelled&&this.isActive()&&this.emit(v.POINTER_OVER,B,X)}return this._over[B.id]=X,k},processOutEvents:function(B){var I=this._over[B.id],k=0,z=I.length;if(z>0){var X=this.manager,H=this._eventData,Q=this._eventContainer;H.cancelled=!1,this.sortGameObjects(I,B);for(var J=0;J<z;J++){var Y=I[J];if(Y=I[J],!(!Y.input||!Y.input.enabled)&&(X.resetCursor(Y.input),Y.emit(v.GAMEOBJECT_POINTER_OUT,B,Q),k++,H.cancelled||!this.isActive()||Y.input&&Y.input.enabled&&(this.emit(v.GAMEOBJECT_OUT,B,Y,Q),H.cancelled||!this.isActive())))break}!H.cancelled&&this.isActive()&&this.emit(v.POINTER_OUT,B,I),this._over[B.id]=[]}return k},processOverOutEvents:function(B){var I=this._temp,k,z,X=[],H=[],Q=[],J=this._over[B.id],Y=this._drag[B.id],$=this.manager;for(k=0;k<J.length;k++)z=J[k],I.indexOf(z)===-1&&Y.indexOf(z)===-1?X.push(z):Q.push(z);for(k=0;k<I.length;k++)z=I[k],J.indexOf(z)===-1&&H.push(z);var V=X.length,U=0,K=this._eventData,j=this._eventContainer;if(K.cancelled=!1,V>0){for(this.sortGameObjects(X,B),k=0;k<V&&(z=X[k],!(!(!z.input||!z.input.enabled)&&($.resetCursor(z.input),z.emit(v.GAMEOBJECT_POINTER_OUT,B,j),U++,K.cancelled||!this.isActive()||z.input&&z.input.enabled&&(this.emit(v.GAMEOBJECT_OUT,B,z,j),K.cancelled||!this.isActive()))));k++);(!K.cancelled||this.isActive())&&this.emit(v.POINTER_OUT,B,X)}if(V=H.length,K.cancelled=!1,V>0){for(this.sortGameObjects(H,B),k=0;k<V&&(z=H[k],!(!(!z.input||!z.input.enabled)&&($.setCursor(z.input),z.emit(v.GAMEOBJECT_POINTER_OVER,B,z.input.localX,z.input.localY,j),U++,K.cancelled||!this.isActive()||z.input&&z.input.enabled&&(this.emit(v.GAMEOBJECT_OVER,B,z,j),K.cancelled||!this.isActive()))));k++);!K.cancelled&&this.isActive()&&this.emit(v.POINTER_OVER,B,H)}return J=Q.concat(H),this._over[B.id]=this.sortGameObjects(J,B),U},processUpEvents:function(B){var I=this._temp,k=this._eventData,z=this._eventContainer;k.cancelled=!1;for(var X=0;X<I.length;X++){var H=I[X];if(!(!H.input||!H.input.enabled)&&(H.emit(v.GAMEOBJECT_POINTER_UP,B,H.input.localX,H.input.localY,z),k.cancelled||!this.isActive()||H.input&&H.input.enabled&&(this.emit(v.GAMEOBJECT_UP,B,H,z),k.cancelled||!this.isActive())))break}return!k.cancelled&&this.isActive()&&(B.upElement===this.manager.game.canvas?this.emit(v.POINTER_UP,B,I):this.emit(v.POINTER_UP_OUTSIDE,B)),I.length},forceDownState:function(B,I){this.forceState(B,I,v.GAMEOBJECT_POINTER_DOWN,v.GAMEOBJECT_DOWN,!1)},forceUpState:function(B,I){this.forceState(B,I,v.GAMEOBJECT_POINTER_UP,v.GAMEOBJECT_UP,!1)},forceOverState:function(B,I){this.forceState(B,I,v.GAMEOBJECT_POINTER_OVER,v.GAMEOBJECT_OVER,!0)},forceOutState:function(B,I){this.forceState(B,I,v.GAMEOBJECT_POINTER_OUT,v.GAMEOBJECT_OUT,!1)},forceState:function(B,I,k,z,X){var H=this._eventData,Q=this._eventContainer;H.cancelled=!1,I.input&&I.input.enabled&&(I.emit(k,B,I.input.localX,I.input.localY,Q),X&&this.setCursor(I.input),!H.cancelled&&this.isActive()&&I.input&&I.input.enabled&&this.emit(z,B,I,Q))},queueForInsertion:function(B){return this._pendingInsertion.indexOf(B)===-1&&this._list.indexOf(B)===-1&&this._pendingInsertion.push(B),this},queueForRemoval:function(B){return this._pendingRemoval.push(B),this},setDraggable:function(B,I){I===void 0&&(I=!0),Array.isArray(B)||(B=[B]);for(var k=0;k<B.length;k++){var z=B[k];z.input.draggable=I;var X=this._draggable.indexOf(z);I&&X===-1?this._draggable.push(z):!I&&X>-1&&this._draggable.splice(X,1)}return this},makePixelPerfect:function(B){B===void 0&&(B=1);var I=this.systems.textures;return s(I,B)},setHitArea:function(B,I,k){if(I===void 0)return this.setHitAreaFromTexture(B);Array.isArray(B)||(B=[B]);var z=!1,X=!1,H=!1,Q=!1,J=!1,Y=!0;if(M(I)&&Object.keys(I).length){var $=I,V=B.some(function(tt){return tt.hasOwnProperty("faces")});if(!V){I=m($,"hitArea",null),k=m($,"hitAreaCallback",null),J=m($,"pixelPerfect",!1);var U=m($,"alphaTolerance",1);J&&(I={},k=this.makePixelPerfect(U))}z=m($,"draggable",!1),X=m($,"dropZone",!1),H=m($,"cursor",!1),Q=m($,"useHandCursor",!1),(!I||!k)&&(this.setHitAreaFromTexture(B),Y=!1)}else typeof I=="function"&&!k&&(k=I,I={});for(var K=0;K<B.length;K++){var j=B[K];if(J&&j.type==="Container"){console.warn("Cannot pixelPerfect test a Container. Use a custom callback.");continue}var _=j.input?j.input:o(j,I,k);_.customHitArea=Y,_.dropZone=X,_.cursor=Q?"pointer":H,j.input=_,z&&this.setDraggable(j),this.queueForInsertion(j)}return this},setHitAreaCircle:function(B,I,k,z,X){X===void 0&&(X=x);var H=new a(I,k,z);return this.setHitArea(B,H,X)},setHitAreaEllipse:function(B,I,k,z,X,H){H===void 0&&(H=u);var Q=new c(I,k,z,X);return this.setHitArea(B,Q,H)},setHitAreaFromTexture:function(B,I){I===void 0&&(I=R),Array.isArray(B)||(B=[B]);for(var k=0;k<B.length;k++){var z=B[k],X=z.frame,H=0,Q=0;if(z.width?(H=z.width,Q=z.height):X&&(H=X.realWidth,Q=X.realHeight),z.type==="Container"&&(H===0||Q===0)){console.warn("Container.setInteractive must specify a Shape or call setSize() first");continue}H!==0&&Q!==0&&(z.input=o(z,new w(0,0,H,Q),I),this.queueForInsertion(z))}return this},setHitAreaRectangle:function(B,I,k,z,X,H){H===void 0&&(H=R);var Q=new w(I,k,z,X);return this.setHitArea(B,Q,H)},setHitAreaTriangle:function(B,I,k,z,X,H,Q,J){J===void 0&&(J=D);var Y=new L(I,k,z,X,H,Q);return this.setHitArea(B,Y,J)},enableDebug:function(B,I){I===void 0&&(I=65280);var k=B.input;if(!k||!k.hitArea)return this;var z=k.hitArea,X=z.type,H=k.hitAreaDebug,Q=this.systems.add,J=this.systems.updateList;H&&(J.remove(H),H.destroy(),H=null);var Y=0,$=0;switch(X){case g.CIRCLE:H=Q.arc(0,0,z.radius),Y=z.x-z.radius,$=z.y-z.radius;break;case g.ELLIPSE:H=Q.ellipse(0,0,z.width,z.height),Y=z.x-z.width/2,$=z.y-z.height/2;break;case g.LINE:H=Q.line(0,0,z.x1,z.y1,z.x2,z.y2);break;case g.POLYGON:H=Q.polygon(0,0,z.points);break;case g.RECTANGLE:H=Q.rectangle(0,0,z.width,z.height),Y=z.x,$=z.y;break;case g.TRIANGLE:H=Q.triangle(0,0,z.x1,z.y1,z.x2,z.y2,z.x3,z.y3);break}return H&&(H.isFilled=!1,H.strokeColor=I,H.preUpdate=function(){H.setVisible(B.visible),H.setStrokeStyle(1/B.scale,H.strokeColor),H.setDisplayOrigin(B.displayOriginX,B.displayOriginY);var V=B.x,U=B.y,K=B.rotation,j=B.scaleX,_=B.scaleY;if(B.parentContainer){var tt=B.getWorldTransformMatrix();V=tt.tx,U=tt.ty,K=tt.rotation,j=tt.scaleX,_=tt.scaleY}H.setRotation(K),H.setScale(j,_),H.setPosition(V+Y*j,U+$*_),H.setScrollFactor(B.scrollFactorX,B.scrollFactorY),H.setDepth(B.depth)},J.add(H),k.hitAreaDebug=H),this},removeDebug:function(B){var I=B.input;if(I&&I.hitAreaDebug){var k=I.hitAreaDebug;k.destroy(),I.hitAreaDebug=null}return this},setPollAlways:function(){return this.setPollRate(0)},setPollOnMove:function(){return this.setPollRate(-1)},setPollRate:function(B){return this.pollRate=B,this._pollTimer=0,this},setGlobalTopOnly:function(B){return this.manager.globalTopOnly=B,this},setTopOnly:function(B){return this.topOnly=B,this},sortGameObjects:function(B,I){if(B.length<2||!I.camera)return B;var k=I.camera.renderList;return B.sort(function(z,X){var H=Math.max(k.indexOf(z),0),Q=Math.max(k.indexOf(X),0);return Q-H})},sortDropZones:function(B){return B.length<2?B:(this.scene.sys.depthSort(),B.sort(this.sortDropZoneHandler.bind(this)))},sortDropZoneHandler:function(B,I){if(!B.parentContainer&&!I.parentContainer)return this.displayList.getIndex(I)-this.displayList.getIndex(B);if(B.parentContainer===I.parentContainer)return I.parentContainer.getIndex(I)-B.parentContainer.getIndex(B);if(B.parentContainer===I)return-1;if(I.parentContainer===B)return 1;for(var k=B.getIndexList(),z=I.getIndexList(),X=Math.min(k.length,z.length),H=0;H<X;H++){var Q=k[H],J=z[H];if(Q!==J)return J-Q}return z.length-k.length},stopPropagation:function(){return this.manager._tempSkip=!0,this},addPointer:function(B){return this.manager.addPointer(B)},setDefaultCursor:function(B){return this.manager.setDefaultCursor(B),this},transitionIn:function(){this.enabled=this.settings.transitionAllowInput},transitionComplete:function(){this.settings.transitionAllowInput||(this.enabled=!0)},transitionOut:function(){this.enabled=this.settings.transitionAllowInput},shutdown:function(){this.pluginEvents.emit(v.SHUTDOWN),this._temp.length=0,this._list.length=0,this._draggable.length=0,this._pendingRemoval.length=0,this._pendingInsertion.length=0,this._dragState.length=0;for(var B=0;B<10;B++)this._drag[B]=[],this._over[B]=[];this.removeAllListeners();var I=this.manager;I.canvas.style.cursor=I.defaultCursor;var k=this.systems.events;k.off(A.TRANSITION_START,this.transitionIn,this),k.off(A.TRANSITION_OUT,this.transitionOut,this),k.off(A.TRANSITION_COMPLETE,this.transitionComplete,this),k.off(A.PRE_UPDATE,this.preUpdate,this),I.events.off(v.GAME_OUT,this.onGameOut,this),I.events.off(v.GAME_OVER,this.onGameOver,this),k.off(A.SHUTDOWN,this.shutdown,this)},resetPointers:function(){for(var B=this.manager.pointers,I=0;I<B.length;I++)B[I].reset()},destroy:function(){this.shutdown(),this.pluginEvents.emit(v.DESTROY),this.pluginEvents.removeAllListeners(),this.scene.sys.events.off(A.START,this.start,this),this.scene=null,this.cameras=null,this.manager=null,this.events=null,this.mouse=null},x:{get:function(){return this.manager.activePointer.x}},y:{get:function(){return this.manager.activePointer.y}},isOver:{get:function(){return this.manager.isOver}},mousePointer:{get:function(){return this.manager.mousePointer}},activePointer:{get:function(){return this.manager.activePointer}},pointer1:{get:function(){return this.manager.pointers[1]}},pointer2:{get:function(){return this.manager.pointers[2]}},pointer3:{get:function(){return this.manager.pointers[3]}},pointer4:{get:function(){return this.manager.pointers[4]}},pointer5:{get:function(){return this.manager.pointers[5]}},pointer6:{get:function(){return this.manager.pointers[6]}},pointer7:{get:function(){return this.manager.pointers[7]}},pointer8:{get:function(){return this.manager.pointers[8]}},pointer9:{get:function(){return this.manager.pointers[9]}},pointer10:{get:function(){return this.manager.pointers[10]}}});b.register("InputPlugin",G,"input"),n.exports=G},89639:(n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=i(35154),x={},d={};d.register=function(l,o,s,f,c){x[l]={plugin:o,mapping:s,settingsKey:f,configKey:c}},d.getPlugin=function(l){return x[l]},d.install=function(l){var o=l.scene.sys,s=o.settings.input,f=o.game.config;for(var c in x){var u=x[c].plugin,v=x[c].mapping,p=x[c].settingsKey,m=x[c].configKey;a(s,p,f[m])&&(l[v]=new u(l))}},d.remove=function(l){x.hasOwnProperty(l)&&delete x[l]},n.exports=d},42515:(n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=i(31040),x=i(83419),d=i(20339),l=i(43855),o=i(47235),s=i(26099),f=i(25892),c=new x({initialize:function(v,p){this.manager=v,this.id=p,this.event,this.downElement,this.upElement,this.camera=null,this.button=0,this.buttons=0,this.position=new s,this.prevPosition=new s,this.midPoint=new s(-1,-1),this.velocity=new s,this.angle=0,this.distance=0,this.smoothFactor=0,this.motionFactor=.2,this.worldX=0,this.worldY=0,this.moveTime=0,this.downX=0,this.downY=0,this.downTime=0,this.upX=0,this.upY=0,this.upTime=0,this.primaryDown=!1,this.isDown=!1,this.wasTouch=!1,this.wasCanceled=!1,this.movementX=0,this.movementY=0,this.identifier=0,this.pointerId=null,this.active=p===0,this.locked=!1,this.deltaX=0,this.deltaY=0,this.deltaZ=0},updateWorldPoint:function(u){var v=u.getWorldPoint(this.x,this.y);return this.worldX=v.x,this.worldY=v.y,this},positionToCamera:function(u,v){return u.getWorldPoint(this.x,this.y,v)},updateMotion:function(){var u=this.position.x,v=this.position.y,p=this.midPoint.x,m=this.midPoint.y;if(!(u===p&&v===m)){var g=o(this.motionFactor,p,u),C=o(this.motionFactor,m,v);l(g,u,.1)&&(g=u),l(C,v,.1)&&(C=v),this.midPoint.set(g,C);var M=u-g,b=v-C;this.velocity.set(M,b),this.angle=a(g,C,u,v),this.distance=Math.sqrt(M*M+b*b)}},up:function(u){"buttons"in u&&(this.buttons=u.buttons),this.event=u,this.button=u.button,this.upElement=u.target,this.manager.transformPointer(this,u.pageX,u.pageY,!1),u.button===0&&(this.primaryDown=!1,this.upX=this.x,this.upY=this.y),this.buttons===0&&(this.isDown=!1,this.upTime=u.timeStamp,this.wasTouch=!1)},down:function(u){"buttons"in u&&(this.buttons=u.buttons),this.event=u,this.button=u.button,this.downElement=u.target,this.manager.transformPointer(this,u.pageX,u.pageY,!1),u.button===0&&(this.primaryDown=!0,this.downX=this.x,this.downY=this.y),f.macOS&&u.ctrlKey&&(this.buttons=2,this.primaryDown=!1),this.isDown||(this.isDown=!0,this.downTime=u.timeStamp),this.wasTouch=!1},move:function(u){"buttons"in u&&(this.buttons=u.buttons),this.event=u,this.manager.transformPointer(this,u.pageX,u.pageY,!0),this.locked&&(this.movementX=u.movementX||u.mozMovementX||u.webkitMovementX||0,this.movementY=u.movementY||u.mozMovementY||u.webkitMovementY||0),this.moveTime=u.timeStamp,this.wasTouch=!1},wheel:function(u){"buttons"in u&&(this.buttons=u.buttons),this.event=u,this.manager.transformPointer(this,u.pageX,u.pageY,!1),this.deltaX=u.deltaX,this.deltaY=u.deltaY,this.deltaZ=u.deltaZ,this.wasTouch=!1},touchstart:function(u,v){u.pointerId&&(this.pointerId=u.pointerId),this.identifier=u.identifier,this.target=u.target,this.active=!0,this.buttons=1,this.event=v,this.downElement=u.target,this.manager.transformPointer(this,u.pageX,u.pageY,!1),this.primaryDown=!0,this.downX=this.x,this.downY=this.y,this.downTime=v.timeStamp,this.isDown=!0,this.wasTouch=!0,this.wasCanceled=!1,this.updateMotion()},touchmove:function(u,v){this.event=v,this.manager.transformPointer(this,u.pageX,u.pageY,!0),this.moveTime=v.timeStamp,this.wasTouch=!0,this.updateMotion()},touchend:function(u,v){this.buttons=0,this.event=v,this.upElement=u.target,this.manager.transformPointer(this,u.pageX,u.pageY,!1),this.primaryDown=!1,this.upX=this.x,this.upY=this.y,this.upTime=v.timeStamp,this.isDown=!1,this.wasTouch=!0,this.wasCanceled=!1,this.active=!1,this.updateMotion()},touchcancel:function(u,v){this.buttons=0,this.event=v,this.upElement=u.target,this.manager.transformPointer(this,u.pageX,u.pageY,!1),this.primaryDown=!1,this.upX=this.x,this.upY=this.y,this.upTime=v.timeStamp,this.isDown=!1,this.wasTouch=!0,this.wasCanceled=!0,this.active=!1},noButtonDown:function(){return this.buttons===0},leftButtonDown:function(){return!!(this.buttons&1)},rightButtonDown:function(){return!!(this.buttons&2)},middleButtonDown:function(){return!!(this.buttons&4)},backButtonDown:function(){return!!(this.buttons&8)},forwardButtonDown:function(){return!!(this.buttons&16)},leftButtonReleased:function(){return this.buttons===0?this.button===0&&!this.isDown:this.button===0},rightButtonReleased:function(){return this.buttons===0?this.button===2&&!this.isDown:this.button===2},middleButtonReleased:function(){return this.buttons===0?this.button===1&&!this.isDown:this.button===1},backButtonReleased:function(){return this.buttons===0?this.button===3&&!this.isDown:this.button===3},forwardButtonReleased:function(){return this.buttons===0?this.button===4&&!this.isDown:this.button===4},getDistance:function(){return this.isDown?d(this.downX,this.downY,this.x,this.y):d(this.downX,this.downY,this.upX,this.upY)},getDistanceX:function(){return this.isDown?Math.abs(this.downX-this.x):Math.abs(this.downX-this.upX)},getDistanceY:function(){return this.isDown?Math.abs(this.downY-this.y):Math.abs(this.downY-this.upY)},getDuration:function(){return this.isDown?this.manager.time-this.downTime:this.upTime-this.downTime},getAngle:function(){return this.isDown?a(this.downX,this.downY,this.x,this.y):a(this.downX,this.downY,this.upX,this.upY)},getInterpolatedPosition:function(u,v){u===void 0&&(u=10),v===void 0&&(v=[]);for(var p=this.prevPosition.x,m=this.prevPosition.y,g=this.position.x,C=this.position.y,M=0;M<u;M++){var b=1/u*M;v[M]={x:o(b,p,g),y:o(b,m,C)}}return v},reset:function(){this.event=null,this.downElement=null,this.upElement=null,this.button=0,this.buttons=0,this.position.set(0,0),this.prevPosition.set(0,0),this.midPoint.set(-1,-1),this.velocity.set(0,0),this.angle=0,this.distance=0,this.worldX=0,this.worldY=0,this.downX=0,this.downY=0,this.upX=0,this.upY=0,this.moveTime=0,this.upTime=0,this.downTime=0,this.primaryDown=!1,this.isDown=!1,this.wasTouch=!1,this.wasCanceled=!1,this.movementX=0,this.movementY=0,this.identifier=0,this.pointerId=null,this.deltaX=0,this.deltaY=0,this.deltaZ=0,this.active=this.id===0},destroy:function(){this.camera=null,this.manager=null,this.position=null},x:{get:function(){return this.position.x},set:function(u){this.position.x=u}},y:{get:function(){return this.position.y},set:function(u){this.position.y=u}},time:{get:function(){return this.event?this.event.timeStamp:0}}});n.exports=c},93301:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T={MOUSE_DOWN:0,MOUSE_MOVE:1,MOUSE_UP:2,TOUCH_START:3,TOUCH_MOVE:4,TOUCH_END:5,POINTER_LOCK_CHANGE:6,TOUCH_CANCEL:7,MOUSE_WHEEL:8};n.exports=T},7179:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="boot"},85375:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="destroy"},39843:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="dragend"},23388:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="dragenter"},16133:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="drag"},27829:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="dragleave"},53904:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="dragover"},56058:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="dragstart"},2642:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="drop"},88171:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="gameobjectdown"},36147:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="dragend"},71692:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="dragenter"},96149:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="drag"},81285:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="dragleave"},74048:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="dragover"},21322:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="dragstart"},49378:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="drop"},86754:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="gameobjectmove"},86433:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="gameobjectout"},60709:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="gameobjectover"},24081:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="pointerdown"},11172:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="pointermove"},18907:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="pointerout"},95579:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="pointerover"},35368:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="pointerup"},26972:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="wheel"},47078:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="gameobjectup"},73802:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="gameobjectwheel"},56718:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="gameout"},25936:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="gameover"},27503:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="boot"},50852:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="process"},96438:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="update"},59152:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="pointerlockchange"},47777:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="pointerdown"},27957:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="pointerdownoutside"},19444:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="pointermove"},54251:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="pointerout"},18667:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="pointerover"},27192:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="pointerup"},24652:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="pointerupoutside"},45132:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="wheel"},44512:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="preupdate"},15757:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="shutdown"},41637:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="start"},93802:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="update"},8214:(n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports={BOOT:i(7179),DESTROY:i(85375),DRAG_END:i(39843),DRAG_ENTER:i(23388),DRAG:i(16133),DRAG_LEAVE:i(27829),DRAG_OVER:i(53904),DRAG_START:i(56058),DROP:i(2642),GAME_OUT:i(56718),GAME_OVER:i(25936),GAMEOBJECT_DOWN:i(88171),GAMEOBJECT_DRAG_END:i(36147),GAMEOBJECT_DRAG_ENTER:i(71692),GAMEOBJECT_DRAG:i(96149),GAMEOBJECT_DRAG_LEAVE:i(81285),GAMEOBJECT_DRAG_OVER:i(74048),GAMEOBJECT_DRAG_START:i(21322),GAMEOBJECT_DROP:i(49378),GAMEOBJECT_MOVE:i(86754),GAMEOBJECT_OUT:i(86433),GAMEOBJECT_OVER:i(60709),GAMEOBJECT_POINTER_DOWN:i(24081),GAMEOBJECT_POINTER_MOVE:i(11172),GAMEOBJECT_POINTER_OUT:i(18907),GAMEOBJECT_POINTER_OVER:i(95579),GAMEOBJECT_POINTER_UP:i(35368),GAMEOBJECT_POINTER_WHEEL:i(26972),GAMEOBJECT_UP:i(47078),GAMEOBJECT_WHEEL:i(73802),MANAGER_BOOT:i(27503),MANAGER_PROCESS:i(50852),MANAGER_UPDATE:i(96438),POINTER_DOWN:i(47777),POINTER_DOWN_OUTSIDE:i(27957),POINTER_MOVE:i(19444),POINTER_OUT:i(54251),POINTER_OVER:i(18667),POINTER_UP:i(27192),POINTER_UP_OUTSIDE:i(24652),POINTER_WHEEL:i(45132),POINTERLOCK_CHANGE:i(59152),PRE_UPDATE:i(44512),SHUTDOWN:i(15757),START:i(41637),UPDATE:i(93802)}},97421:(n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=i(83419),x=new a({initialize:function(l,o){this.pad=l,this.events=l.events,this.index=o,this.value=0,this.threshold=.1},update:function(d){this.value=d},getValue:function(){return Math.abs(this.value)<this.threshold?0:this.value},destroy:function(){this.pad=null,this.events=null}});n.exports=x},28884:(n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=i(83419),x=i(92734),d=new a({initialize:function(o,s){this.pad=o,this.events=o.manager,this.index=s,this.value=0,this.threshold=1,this.pressed=!1},update:function(l){this.value=l;var o=this.pad,s=this.index;l>=this.threshold?this.pressed||(this.pressed=!0,this.events.emit(x.BUTTON_DOWN,o,this,l),this.pad.emit(x.GAMEPAD_BUTTON_DOWN,s,l,this)):this.pressed&&(this.pressed=!1,this.events.emit(x.BUTTON_UP,o,this,l),this.pad.emit(x.GAMEPAD_BUTTON_UP,s,l,this))},destroy:function(){this.pad=null,this.events=null}});n.exports=d},99125:(n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=i(97421),x=i(28884),d=i(83419),l=i(50792),o=i(26099),s=new d({Extends:l,initialize:function(c,u){l.call(this),this.manager=c,this.pad=u,this.id=u.id,this.index=u.index;for(var v=[],p=0;p<u.buttons.length;p++)v.push(new x(this,p));this.buttons=v;var m=[];for(p=0;p<u.axes.length;p++)m.push(new a(this,p));this.axes=m,this.vibration=u.vibrationActuator;var g={value:0,pressed:!1};this._LCLeft=v[14]?v[14]:g,this._LCRight=v[15]?v[15]:g,this._LCTop=v[12]?v[12]:g,this._LCBottom=v[13]?v[13]:g,this._RCLeft=v[2]?v[2]:g,this._RCRight=v[1]?v[1]:g,this._RCTop=v[3]?v[3]:g,this._RCBottom=v[0]?v[0]:g,this._FBLeftTop=v[4]?v[4]:g,this._FBLeftBottom=v[6]?v[6]:g,this._FBRightTop=v[5]?v[5]:g,this._FBRightBottom=v[7]?v[7]:g;var C={value:0};this._HAxisLeft=m[0]?m[0]:C,this._VAxisLeft=m[1]?m[1]:C,this._HAxisRight=m[2]?m[2]:C,this._VAxisRight=m[3]?m[3]:C,this.leftStick=new o,this.rightStick=new o,this._created=performance.now()},getAxisTotal:function(){return this.axes.length},getAxisValue:function(f){return this.axes[f].getValue()},setAxisThreshold:function(f){for(var c=0;c<this.axes.length;c++)this.axes[c].threshold=f},getButtonTotal:function(){return this.buttons.length},getButtonValue:function(f){return this.buttons[f].value},isButtonDown:function(f){return this.buttons[f].pressed},update:function(f){if(!(f.timestamp<this._created)){var c,u=this.buttons,v=f.buttons,p=u.length;for(c=0;c<p;c++)u[c].update(v[c].value);var m=this.axes,g=f.axes;for(p=m.length,c=0;c<p;c++)m[c].update(g[c]);p>=2&&(this.leftStick.set(m[0].getValue(),m[1].getValue()),p>=4&&this.rightStick.set(m[2].getValue(),m[3].getValue()))}},destroy:function(){this.removeAllListeners(),this.manager=null,this.pad=null;var f;for(f=0;f<this.buttons.length;f++)this.buttons[f].destroy();for(f=0;f<this.axes.length;f++)this.axes[f].destroy();this.buttons=[],this.axes=[]},connected:{get:function(){return this.pad.connected}},timestamp:{get:function(){return this.pad.timestamp}},left:{get:function(){return this._LCLeft.pressed}},right:{get:function(){return this._LCRight.pressed}},up:{get:function(){return this._LCTop.pressed}},down:{get:function(){return this._LCBottom.pressed}},A:{get:function(){return this._RCBottom.pressed}},Y:{get:function(){return this._RCTop.pressed}},X:{get:function(){return this._RCLeft.pressed}},B:{get:function(){return this._RCRight.pressed}},L1:{get:function(){return this._FBLeftTop.value}},L2:{get:function(){return this._FBLeftBottom.value}},R1:{get:function(){return this._FBRightTop.value}},R2:{get:function(){return this._FBRightBottom.value}}});n.exports=s},56654:(n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=i(83419),x=i(50792),d=i(92734),l=i(99125),o=i(35154),s=i(89639),f=i(8214),c=new a({Extends:x,initialize:function(v){x.call(this),this.scene=v.scene,this.settings=this.scene.sys.settings,this.sceneInputPlugin=v,this.enabled=!0,this.target,this.gamepads=[],this.queue=[],this.onGamepadHandler,this._pad1,this._pad2,this._pad3,this._pad4,v.pluginEvents.once(f.BOOT,this.boot,this),v.pluginEvents.on(f.START,this.start,this)},boot:function(){var u=this.scene.sys.game,v=this.settings.input,p=u.config;this.enabled=o(v,"gamepad",p.inputGamepad)&&u.device.input.gamepads,this.target=o(v,"gamepad.target",p.inputGamepadEventTarget),this.sceneInputPlugin.pluginEvents.once(f.DESTROY,this.destroy,this)},start:function(){this.enabled&&(this.startListeners(),this.refreshPads()),this.sceneInputPlugin.pluginEvents.once(f.SHUTDOWN,this.shutdown,this)},isActive:function(){return this.enabled&&this.scene.sys.isActive()},startListeners:function(){var u=this,v=this.target,p=function(m){m.defaultPrevented||!u.isActive()||(u.refreshPads(),u.queue.push(m))};this.onGamepadHandler=p,v.addEventListener("gamepadconnected",p,!1),v.addEventListener("gamepaddisconnected",p,!1),this.sceneInputPlugin.pluginEvents.on(f.UPDATE,this.update,this)},stopListeners:function(){this.target.removeEventListener("gamepadconnected",this.onGamepadHandler),this.target.removeEventListener("gamepaddisconnected",this.onGamepadHandler),this.sceneInputPlugin.pluginEvents.off(f.UPDATE,this.update);for(var u=0;u<this.gamepads.length;u++)this.gamepads[u].removeAllListeners()},disconnectAll:function(){for(var u=0;u<this.gamepads.length;u++)this.gamepads[u].pad.connected=!1},refreshPads:function(){var u=navigator.getGamepads();if(!u)this.disconnectAll();else for(var v=this.gamepads,p=0;p<u.length;p++){var m=u[p];if(m){var g=m.id,C=m.index,M=v[C];if(M)M.id!==g?(M.destroy(),v[C]=new l(this,m)):M.update(m);else{var b=new l(this,m);v[C]=b,this._pad1?this._pad2?this._pad3?this._pad4||(this._pad4=b):this._pad3=b:this._pad2=b:this._pad1=b}}}},getAll:function(){for(var u=[],v=this.gamepads,p=0;p<v.length;p++)v[p]&&u.push(v[p]);return u},getPad:function(u){for(var v=this.gamepads,p=0;p<v.length;p++)if(v[p]&&v[p].index===u)return v[p]},update:function(){if(this.enabled){this.refreshPads();var u=this.queue.length;if(u!==0)for(var v=this.queue.splice(0,u),p=0;p<u;p++){var m=v[p],g=this.getPad(m.gamepad.index);m.type==="gamepadconnected"?this.emit(d.CONNECTED,g,m):m.type==="gamepaddisconnected"&&this.emit(d.DISCONNECTED,g,m)}}},shutdown:function(){this.stopListeners(),this.removeAllListeners()},destroy:function(){this.shutdown();for(var u=0;u<this.gamepads.length;u++)this.gamepads[u]&&this.gamepads[u].destroy();this.gamepads=[],this.scene=null,this.settings=null,this.sceneInputPlugin=null,this.target=null},total:{get:function(){return this.gamepads.length}},pad1:{get:function(){return this._pad1}},pad2:{get:function(){return this._pad2}},pad3:{get:function(){return this._pad3}},pad4:{get:function(){return this._pad4}}});s.register("GamepadPlugin",c,"gamepad","gamepad","inputGamepad"),n.exports=c},89651:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports={UP:12,DOWN:13,LEFT:14,RIGHT:15,SELECT:8,START:9,B:0,A:1,Y:2,X:3,LEFT_SHOULDER:4,RIGHT_SHOULDER:5}},65294:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports={UP:12,DOWN:13,LEFT:14,RIGHT:15,SHARE:8,OPTIONS:9,PS:16,TOUCHBAR:17,X:0,CIRCLE:1,SQUARE:2,TRIANGLE:3,L1:4,R1:5,L2:6,R2:7,L3:10,R3:11,LEFT_STICK_H:0,LEFT_STICK_V:1,RIGHT_STICK_H:2,RIGHT_STICK_V:3}},90089:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports={UP:12,DOWN:13,LEFT:14,RIGHT:15,MENU:16,A:0,B:1,X:2,Y:3,LB:4,RB:5,LT:6,RT:7,BACK:8,START:9,LS:10,RS:11,LEFT_STICK_H:0,LEFT_STICK_V:1,RIGHT_STICK_H:2,RIGHT_STICK_V:3}},64894:(n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports={DUALSHOCK_4:i(65294),SNES_USB:i(89651),XBOX_360:i(90089)}},46008:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="down"},7629:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="up"},42206:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="connected"},86544:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="disconnected"},94784:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="down"},14325:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="up"},92734:(n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports={BUTTON_DOWN:i(46008),BUTTON_UP:i(7629),CONNECTED:i(42206),DISCONNECTED:i(86544),GAMEPAD_BUTTON_DOWN:i(94784),GAMEPAD_BUTTON_UP:i(14325)}},48646:(n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports={Axis:i(97421),Button:i(28884),Events:i(92734),Gamepad:i(99125),GamepadPlugin:i(56654),Configs:i(64894)}},14350:(n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=i(93301),x=i(79291),d={CreatePixelPerfectHandler:i(84409),CreateInteractiveObject:i(74457),Events:i(8214),Gamepad:i(48646),InputManager:i(7003),InputPlugin:i(48205),InputPluginCache:i(89639),Keyboard:i(51442),Mouse:i(87078),Pointer:i(42515),Touch:i(95618)};d=x(!1,d,a),n.exports=d},78970:(n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=i(72905),x=i(83419),d=i(8443),l=i(8214),o=i(46032),s=i(29747),f=new x({initialize:function(u){this.manager=u,this.queue=[],this.preventDefault=!0,this.captures=[],this.enabled=!1,this.target,this.onKeyDown=s,this.onKeyUp=s,u.events.once(l.MANAGER_BOOT,this.boot,this)},boot:function(){var c=this.manager.config;this.enabled=c.inputKeyboard,this.target=c.inputKeyboardEventTarget,this.addCapture(c.inputKeyboardCapture),!this.target&&window&&(this.target=window),this.enabled&&this.target&&this.startListeners(),this.manager.game.events.on(d.POST_STEP,this.postUpdate,this)},startListeners:function(){var c=this;this.onKeyDown=function(v){if(!(v.defaultPrevented||!c.enabled||!c.manager)){c.queue.push(v),c.manager.events.emit(l.MANAGER_PROCESS);var p=v.altKey||v.ctrlKey||v.shiftKey||v.metaKey;c.preventDefault&&!p&&c.captures.indexOf(v.keyCode)>-1&&v.preventDefault()}},this.onKeyUp=function(v){if(!(v.defaultPrevented||!c.enabled||!c.manager)){c.queue.push(v),c.manager.events.emit(l.MANAGER_PROCESS);var p=v.altKey||v.ctrlKey||v.shiftKey||v.metaKey;c.preventDefault&&!p&&c.captures.indexOf(v.keyCode)>-1&&v.preventDefault()}};var u=this.target;u&&(u.addEventListener("keydown",this.onKeyDown,!1),u.addEventListener("keyup",this.onKeyUp,!1),this.enabled=!0)},stopListeners:function(){var c=this.target;c.removeEventListener("keydown",this.onKeyDown,!1),c.removeEventListener("keyup",this.onKeyUp,!1),this.enabled=!1},postUpdate:function(){this.queue=[]},addCapture:function(c){typeof c=="string"&&(c=c.split(",")),Array.isArray(c)||(c=[c]);for(var u=this.captures,v=0;v<c.length;v++){var p=c[v];typeof p=="string"&&(p=o[p.trim().toUpperCase()]),u.indexOf(p)===-1&&u.push(p)}this.preventDefault=u.length>0},removeCapture:function(c){typeof c=="string"&&(c=c.split(",")),Array.isArray(c)||(c=[c]);for(var u=this.captures,v=0;v<c.length;v++){var p=c[v];typeof p=="string"&&(p=o[p.toUpperCase()]),a(u,p)}this.preventDefault=u.length>0},clearCaptures:function(){this.captures=[],this.preventDefault=!1},destroy:function(){this.stopListeners(),this.clearCaptures(),this.queue=[],this.manager.game.events.off(d.POST_RENDER,this.postUpdate,this),this.target=null,this.enabled=!1,this.manager=null}});n.exports=f},28846:(n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=i(83419),x=i(50792),d=i(95922),l=i(8443),o=i(35154),s=i(8214),f=i(89639),c=i(30472),u=i(46032),v=i(87960),p=i(74600),m=i(44594),g=i(56583),C=new a({Extends:x,initialize:function(b){x.call(this),this.game=b.systems.game,this.scene=b.scene,this.settings=this.scene.sys.settings,this.sceneInputPlugin=b,this.manager=b.manager.keyboard,this.enabled=!0,this.keys=[],this.combos=[],this.prevCode=null,this.prevTime=0,this.prevType=null,b.pluginEvents.once(s.BOOT,this.boot,this),b.pluginEvents.on(s.START,this.start,this)},boot:function(){var M=this.settings.input;this.enabled=o(M,"keyboard",!0);var b=o(M,"keyboard.capture",null);b&&this.addCaptures(b),this.sceneInputPlugin.pluginEvents.once(s.DESTROY,this.destroy,this)},start:function(){this.sceneInputPlugin.manager.events.on(s.MANAGER_PROCESS,this.update,this),this.sceneInputPlugin.pluginEvents.once(s.SHUTDOWN,this.shutdown,this),this.game.events.on(l.BLUR,this.resetKeys,this),this.scene.sys.events.on(m.PAUSE,this.resetKeys,this),this.scene.sys.events.on(m.SLEEP,this.resetKeys,this)},isActive:function(){return this.enabled&&this.scene.sys.canInput()},addCapture:function(M){return this.manager.addCapture(M),this},removeCapture:function(M){return this.manager.removeCapture(M),this},getCaptures:function(){return this.manager.captures},enableGlobalCapture:function(){return this.manager.preventDefault=!0,this},disableGlobalCapture:function(){return this.manager.preventDefault=!1,this},clearCaptures:function(){return this.manager.clearCaptures(),this},createCursorKeys:function(){return this.addKeys({up:u.UP,down:u.DOWN,left:u.LEFT,right:u.RIGHT,space:u.SPACE,shift:u.SHIFT})},addKeys:function(M,b,w){b===void 0&&(b=!0),w===void 0&&(w=!1);var R={};if(typeof M=="string"){M=M.split(",");for(var A=0;A<M.length;A++){var L=M[A].trim();L&&(R[L]=this.addKey(L,b,w))}}else for(var D in M)R[D]=this.addKey(M[D],b,w);return R},addKey:function(M,b,w){b===void 0&&(b=!0),w===void 0&&(w=!1);var R=this.keys;if(M instanceof c){var A=R.indexOf(M);return A>-1?R[A]=M:R[M.keyCode]=M,b&&this.addCapture(M.keyCode),M.setEmitOnRepeat(w),M}return typeof M=="string"&&(M=u[M.toUpperCase()]),R[M]||(R[M]=new c(this,M),b&&this.addCapture(M),R[M].setEmitOnRepeat(w)),R[M]},removeKey:function(M,b,w){b===void 0&&(b=!1),w===void 0&&(w=!1);var R=this.keys,A;if(M instanceof c){var L=R.indexOf(M);L>-1&&(A=this.keys[L],this.keys[L]=void 0)}else typeof M=="string"&&(M=u[M.toUpperCase()]);return R[M]&&(A=R[M],R[M]=void 0),A&&(A.plugin=null,w&&this.removeCapture(A.keyCode),b&&A.destroy()),this},removeAllKeys:function(M,b){M===void 0&&(M=!1),b===void 0&&(b=!1);for(var w=this.keys,R=0;R<w.length;R++){var A=w[R];A&&(w[R]=void 0,b&&this.removeCapture(A.keyCode),M&&A.destroy())}return this},createCombo:function(M,b){return new v(this,M,b)},checkDown:function(M,b){if(b===void 0&&(b=0),this.enabled&&M.isDown){var w=g(this.time-M.timeDown,b);if(w>M._tick)return M._tick=w,!0}return!1},update:function(){var M=this.manager.queue,b=M.length;if(!(!this.isActive()||b===0))for(var w=this.keys,R=0;R<b;R++){var A=M[R],L=A.keyCode,D=w[L],G=!1;A.cancelled===void 0&&(A.cancelled=0,A.stopImmediatePropagation=function(){A.cancelled=1},A.stopPropagation=function(){A.cancelled=-1}),A.cancelled!==-1&&(L===this.prevCode&&A.timeStamp===this.prevTime&&A.type===this.prevType||(this.prevCode=L,this.prevTime=A.timeStamp,this.prevType=A.type,A.type==="keydown"?(D&&(G=D.isDown,D.onDown(A)),!A.cancelled&&(!D||!G)&&(p[L]&&this.emit(d.KEY_DOWN+p[L],A),A.cancelled||this.emit(d.ANY_KEY_DOWN,A))):(D&&D.onUp(A),A.cancelled||(p[L]&&this.emit(d.KEY_UP+p[L],A),A.cancelled||this.emit(d.ANY_KEY_UP,A))),A.cancelled===1&&(A.cancelled=0)))}},resetKeys:function(){for(var M=this.keys,b=0;b<M.length;b++)M[b]&&M[b].reset();return this},shutdown:function(){this.removeAllKeys(!0),this.removeAllListeners(),this.sceneInputPlugin.manager.events.off(s.MANAGER_PROCESS,this.update,this),this.game.events.off(l.BLUR,this.resetKeys),this.scene.sys.events.off(m.PAUSE,this.resetKeys,this),this.scene.sys.events.off(m.SLEEP,this.resetKeys,this),this.queue=[]},destroy:function(){this.shutdown();for(var M=this.keys,b=0;b<M.length;b++)M[b]&&M[b].destroy();this.keys=[],this.combos=[],this.queue=[],this.scene=null,this.settings=null,this.sceneInputPlugin=null,this.manager=null},time:{get:function(){return this.sceneInputPlugin.manager.time}}});f.register("KeyboardPlugin",C,"keyboard","keyboard","inputKeyboard"),n.exports=C},66970:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(i,a){return a.timeLastMatched=i.timeStamp,a.index++,a.index===a.size?!0:(a.current=a.keyCodes[a.index],!1)};n.exports=T},87960:(n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=i(83419),x=i(95922),d=i(95540),l=i(68769),o=i(92803),s=new a({initialize:function(c,u,v){if(v===void 0&&(v={}),u.length<2)return!1;this.manager=c,this.enabled=!0,this.keyCodes=[];for(var p=0;p<u.length;p++){var m=u[p];typeof m=="string"?this.keyCodes.push(m.toUpperCase().charCodeAt(0)):typeof m=="number"?this.keyCodes.push(m):m.hasOwnProperty("keyCode")&&this.keyCodes.push(m.keyCode)}this.current=this.keyCodes[0],this.index=0,this.size=this.keyCodes.length,this.timeLastMatched=0,this.matched=!1,this.timeMatched=0,this.resetOnWrongKey=d(v,"resetOnWrongKey",!0),this.maxKeyDelay=d(v,"maxKeyDelay",0),this.resetOnMatch=d(v,"resetOnMatch",!1),this.deleteOnMatch=d(v,"deleteOnMatch",!1);var g=this,C=function(M){if(!(g.matched||!g.enabled)){var b=l(M,g);b&&(g.manager.emit(x.COMBO_MATCH,g,M),g.resetOnMatch?o(g):g.deleteOnMatch&&g.destroy())}};this.onKeyDown=C,this.manager.on(x.ANY_KEY_DOWN,this.onKeyDown)},progress:{get:function(){return this.index/this.size}},destroy:function(){this.enabled=!1,this.keyCodes=[],this.manager.off(x.ANY_KEY_DOWN,this.onKeyDown),this.manager=null}});n.exports=s},68769:(n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=i(66970),x=function(d,l){if(l.matched)return!0;var o=!1,s=!1;if(d.keyCode===l.current)if(l.index>0&&l.maxKeyDelay>0){var f=l.timeLastMatched+l.maxKeyDelay;d.timeStamp<=f&&(s=!0,o=a(d,l))}else s=!0,o=a(d,l);return!s&&l.resetOnWrongKey&&(l.index=0,l.current=l.keyCodes[0]),o&&(l.timeLastMatched=d.timeStamp,l.matched=!0,l.timeMatched=d.timeStamp),o};n.exports=x},92803:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(i){return i.current=i.keyCodes[0],i.index=0,i.timeLastMatched=0,i.matched=!1,i.timeMatched=0,i};n.exports=T},92612:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="keydown"},23345:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="keyup"},21957:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="keycombomatch"},44743:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="down"},3771:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="keydown-"},46358:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="keyup-"},75674:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="up"},95922:(n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports={ANY_KEY_DOWN:i(92612),ANY_KEY_UP:i(23345),COMBO_MATCH:i(21957),DOWN:i(44743),KEY_DOWN:i(3771),KEY_UP:i(46358),UP:i(75674)}},51442:(n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports={Events:i(95922),KeyboardManager:i(78970),KeyboardPlugin:i(28846),Key:i(30472),KeyCodes:i(46032),KeyCombo:i(87960),AdvanceKeyCombo:i(66970),ProcessKeyCombo:i(68769),ResetKeyCombo:i(92803),JustDown:i(90229),JustUp:i(38796),DownDuration:i(37015),UpDuration:i(41170)}},37015:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(i,a){a===void 0&&(a=50);var x=i.plugin.game.loop.time-i.timeDown;return i.isDown&&x<a};n.exports=T},90229:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(i){return i._justDown?(i._justDown=!1,!0):!1};n.exports=T},38796:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(i){return i._justUp?(i._justUp=!1,!0):!1};n.exports=T},30472:(n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=i(83419),x=i(50792),d=i(95922),l=new a({Extends:x,initialize:function(s,f){x.call(this),this.plugin=s,this.keyCode=f,this.originalEvent=void 0,this.enabled=!0,this.isDown=!1,this.isUp=!0,this.altKey=!1,this.ctrlKey=!1,this.shiftKey=!1,this.metaKey=!1,this.location=0,this.timeDown=0,this.duration=0,this.timeUp=0,this.emitOnRepeat=!1,this.repeats=0,this._justDown=!1,this._justUp=!1,this._tick=-1},setEmitOnRepeat:function(o){return this.emitOnRepeat=o,this},onDown:function(o){this.originalEvent=o,this.enabled&&(this.altKey=o.altKey,this.ctrlKey=o.ctrlKey,this.shiftKey=o.shiftKey,this.metaKey=o.metaKey,this.location=o.location,this.repeats++,this.isDown?this.emitOnRepeat&&this.emit(d.DOWN,this,o):(this.isDown=!0,this.isUp=!1,this.timeDown=o.timeStamp,this.duration=0,this._justDown=!0,this._justUp=!1,this.emit(d.DOWN,this,o)))},onUp:function(o){this.originalEvent=o,this.enabled&&(this.isDown=!1,this.isUp=!0,this.timeUp=o.timeStamp,this.duration=this.timeUp-this.timeDown,this.repeats=0,this._justDown=!1,this._justUp=!0,this._tick=-1,this.emit(d.UP,this,o))},reset:function(){return this.isDown=!1,this.isUp=!0,this.altKey=!1,this.ctrlKey=!1,this.shiftKey=!1,this.metaKey=!1,this.timeDown=0,this.duration=0,this.timeUp=0,this.repeats=0,this._justDown=!1,this._justUp=!1,this._tick=-1,this},getDuration:function(){return this.isDown?this.plugin.game.loop.time-this.timeDown:0},destroy:function(){this.removeAllListeners(),this.originalEvent=null,this.plugin=null}});n.exports=l},46032:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T={BACKSPACE:8,TAB:9,ENTER:13,SHIFT:16,CTRL:17,ALT:18,PAUSE:19,CAPS_LOCK:20,ESC:27,SPACE:32,PAGE_UP:33,PAGE_DOWN:34,END:35,HOME:36,LEFT:37,UP:38,RIGHT:39,DOWN:40,PRINT_SCREEN:42,INSERT:45,DELETE:46,ZERO:48,ONE:49,TWO:50,THREE:51,FOUR:52,FIVE:53,SIX:54,SEVEN:55,EIGHT:56,NINE:57,NUMPAD_ZERO:96,NUMPAD_ONE:97,NUMPAD_TWO:98,NUMPAD_THREE:99,NUMPAD_FOUR:100,NUMPAD_FIVE:101,NUMPAD_SIX:102,NUMPAD_SEVEN:103,NUMPAD_EIGHT:104,NUMPAD_NINE:105,NUMPAD_ADD:107,NUMPAD_SUBTRACT:109,A:65,B:66,C:67,D:68,E:69,F:70,G:71,H:72,I:73,J:74,K:75,L:76,M:77,N:78,O:79,P:80,Q:81,R:82,S:83,T:84,U:85,V:86,W:87,X:88,Y:89,Z:90,F1:112,F2:113,F3:114,F4:115,F5:116,F6:117,F7:118,F8:119,F9:120,F10:121,F11:122,F12:123,SEMICOLON:186,PLUS:187,COMMA:188,MINUS:189,PERIOD:190,FORWARD_SLASH:191,BACK_SLASH:220,QUOTES:222,BACKTICK:192,OPEN_BRACKET:219,CLOSED_BRACKET:221,SEMICOLON_FIREFOX:59,COLON:58,COMMA_FIREFOX_WINDOWS:60,COMMA_FIREFOX:62,BRACKET_RIGHT_FIREFOX:174,BRACKET_LEFT_FIREFOX:175};n.exports=T},74600:(n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=i(46032),x={};for(var d in a)x[a[d]]=d;n.exports=x},41170:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(i,a){a===void 0&&(a=50);var x=i.plugin.game.loop.time-i.timeUp;return i.isUp&&x<a};n.exports=T},85098:(n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=i(83419),x=i(89357),d=i(8214),l=i(29747),o=new a({initialize:function(f){this.manager=f,this.preventDefaultDown=!0,this.preventDefaultUp=!0,this.preventDefaultMove=!0,this.preventDefaultWheel=!1,this.enabled=!1,this.target,this.locked=!1,this.onMouseMove=l,this.onMouseDown=l,this.onMouseUp=l,this.onMouseDownWindow=l,this.onMouseUpWindow=l,this.onMouseOver=l,this.onMouseOut=l,this.onMouseWheel=l,this.pointerLockChange=l,this.isTop=!0,f.events.once(d.MANAGER_BOOT,this.boot,this)},boot:function(){var s=this.manager.config;this.enabled=s.inputMouse,this.target=s.inputMouseEventTarget,this.passive=s.inputMousePassive,this.preventDefaultDown=s.inputMousePreventDefaultDown,this.preventDefaultUp=s.inputMousePreventDefaultUp,this.preventDefaultMove=s.inputMousePreventDefaultMove,this.preventDefaultWheel=s.inputMousePreventDefaultWheel,this.target?typeof this.target=="string"&&(this.target=document.getElementById(this.target)):this.target=this.manager.game.canvas,s.disableContextMenu&&this.disableContextMenu(),this.enabled&&this.target&&this.startListeners()},disableContextMenu:function(){return this.target.addEventListener("contextmenu",function(s){return s.preventDefault(),!1}),this},requestPointerLock:function(){if(x.pointerLock){var s=this.target;s.requestPointerLock=s.requestPointerLock||s.mozRequestPointerLock||s.webkitRequestPointerLock,s.requestPointerLock()}},releasePointerLock:function(){x.pointerLock&&(document.exitPointerLock=document.exitPointerLock||document.mozExitPointerLock||document.webkitExitPointerLock,document.exitPointerLock())},startListeners:function(){var s=this.target;if(s){var f=this,c=this.manager,u=c.canvas,v=window&&window.focus&&c.game.config.autoFocus;this.onMouseMove=function(m){!m.defaultPrevented&&f.enabled&&c&&c.enabled&&(c.onMouseMove(m),f.preventDefaultMove&&m.preventDefault())},this.onMouseDown=function(m){v&&window.focus(),!m.defaultPrevented&&f.enabled&&c&&c.enabled&&(c.onMouseDown(m),f.preventDefaultDown&&m.target===u&&m.preventDefault())},this.onMouseDownWindow=function(m){m.sourceCapabilities&&m.sourceCapabilities.firesTouchEvents||!m.defaultPrevented&&f.enabled&&c&&c.enabled&&m.target!==u&&c.onMouseDown(m)},this.onMouseUp=function(m){!m.defaultPrevented&&f.enabled&&c&&c.enabled&&(c.onMouseUp(m),f.preventDefaultUp&&m.target===u&&m.preventDefault())},this.onMouseUpWindow=function(m){m.sourceCapabilities&&m.sourceCapabilities.firesTouchEvents||!m.defaultPrevented&&f.enabled&&c&&c.enabled&&m.target!==u&&c.onMouseUp(m)},this.onMouseOver=function(m){!m.defaultPrevented&&f.enabled&&c&&c.enabled&&c.setCanvasOver(m)},this.onMouseOut=function(m){!m.defaultPrevented&&f.enabled&&c&&c.enabled&&c.setCanvasOut(m)},this.onMouseWheel=function(m){!m.defaultPrevented&&f.enabled&&c&&c.enabled&&c.onMouseWheel(m),f.preventDefaultWheel&&m.target===u&&m.preventDefault()};var p={passive:!0};if(s.addEventListener("mousemove",this.onMouseMove),s.addEventListener("mousedown",this.onMouseDown),s.addEventListener("mouseup",this.onMouseUp),s.addEventListener("mouseover",this.onMouseOver,p),s.addEventListener("mouseout",this.onMouseOut,p),this.preventDefaultWheel?s.addEventListener("wheel",this.onMouseWheel,{passive:!1}):s.addEventListener("wheel",this.onMouseWheel,p),window&&c.game.config.inputWindowEvents)try{window.top.addEventListener("mousedown",this.onMouseDownWindow,p),window.top.addEventListener("mouseup",this.onMouseUpWindow,p)}catch{window.addEventListener("mousedown",this.onMouseDownWindow,p),window.addEventListener("mouseup",this.onMouseUpWindow,p),this.isTop=!1}x.pointerLock&&(this.pointerLockChange=function(m){var g=f.target;f.locked=document.pointerLockElement===g||document.mozPointerLockElement===g||document.webkitPointerLockElement===g,c.onPointerLockChange(m)},document.addEventListener("pointerlockchange",this.pointerLockChange,!0),document.addEventListener("mozpointerlockchange",this.pointerLockChange,!0),document.addEventListener("webkitpointerlockchange",this.pointerLockChange,!0)),this.enabled=!0}},stopListeners:function(){var s=this.target;s.removeEventListener("mousemove",this.onMouseMove),s.removeEventListener("mousedown",this.onMouseDown),s.removeEventListener("mouseup",this.onMouseUp),s.removeEventListener("mouseover",this.onMouseOver),s.removeEventListener("mouseout",this.onMouseOut),window&&(s=this.isTop?window.top:window,s.removeEventListener("mousedown",this.onMouseDownWindow),s.removeEventListener("mouseup",this.onMouseUpWindow)),x.pointerLock&&(document.removeEventListener("pointerlockchange",this.pointerLockChange,!0),document.removeEventListener("mozpointerlockchange",this.pointerLockChange,!0),document.removeEventListener("webkitpointerlockchange",this.pointerLockChange,!0))},destroy:function(){this.stopListeners(),this.target=null,this.enabled=!1,this.manager=null}});n.exports=o},87078:(n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports={MouseManager:i(85098)}},36210:(n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=i(83419),x=i(8214),d=i(29747),l=new a({initialize:function(s){this.manager=s,this.capture=!0,this.enabled=!1,this.target,this.onTouchStart=d,this.onTouchStartWindow=d,this.onTouchMove=d,this.onTouchEnd=d,this.onTouchEndWindow=d,this.onTouchCancel=d,this.onTouchCancelWindow=d,this.isTop=!0,s.events.once(x.MANAGER_BOOT,this.boot,this)},boot:function(){var o=this.manager.config;this.enabled=o.inputTouch,this.target=o.inputTouchEventTarget,this.capture=o.inputTouchCapture,this.target?typeof this.target=="string"&&(this.target=document.getElementById(this.target)):this.target=this.manager.game.canvas,o.disableContextMenu&&this.disableContextMenu(),this.enabled&&this.target&&this.startListeners()},disableContextMenu:function(){return this.target.addEventListener("contextmenu",function(o){return o.preventDefault(),!1}),this},startListeners:function(){var o=this.target;if(o){var s=this,f=this.manager,c=f.canvas,u=window&&window.focus&&f.game.config.autoFocus;this.onTouchMove=function(g){!g.defaultPrevented&&s.enabled&&f&&f.enabled&&(f.onTouchMove(g),s.capture&&g.cancelable&&g.preventDefault())},this.onTouchStart=function(g){u&&window.focus(),!g.defaultPrevented&&s.enabled&&f&&f.enabled&&(f.onTouchStart(g),s.capture&&g.cancelable&&g.target===c&&g.preventDefault())},this.onTouchStartWindow=function(g){!g.defaultPrevented&&s.enabled&&f&&f.enabled&&g.target!==c&&f.onTouchStart(g)},this.onTouchEnd=function(g){!g.defaultPrevented&&s.enabled&&f&&f.enabled&&(f.onTouchEnd(g),s.capture&&g.cancelable&&g.target===c&&g.preventDefault())},this.onTouchEndWindow=function(g){!g.defaultPrevented&&s.enabled&&f&&f.enabled&&g.target!==c&&f.onTouchEnd(g)},this.onTouchCancel=function(g){!g.defaultPrevented&&s.enabled&&f&&f.enabled&&(f.onTouchCancel(g),s.capture&&g.preventDefault())},this.onTouchCancelWindow=function(g){!g.defaultPrevented&&s.enabled&&f&&f.enabled&&f.onTouchCancel(g)};var v=this.capture,p={passive:!0},m={passive:!1};if(o.addEventListener("touchstart",this.onTouchStart,v?m:p),o.addEventListener("touchmove",this.onTouchMove,v?m:p),o.addEventListener("touchend",this.onTouchEnd,v?m:p),o.addEventListener("touchcancel",this.onTouchCancel,v?m:p),window&&f.game.config.inputWindowEvents)try{window.top.addEventListener("touchstart",this.onTouchStartWindow,m),window.top.addEventListener("touchend",this.onTouchEndWindow,m),window.top.addEventListener("touchcancel",this.onTouchCancelWindow,m)}catch{window.addEventListener("touchstart",this.onTouchStartWindow,m),window.addEventListener("touchend",this.onTouchEndWindow,m),window.addEventListener("touchcancel",this.onTouchCancelWindow,m),this.isTop=!1}this.enabled=!0}},stopListeners:function(){var o=this.target;o.removeEventListener("touchstart",this.onTouchStart),o.removeEventListener("touchmove",this.onTouchMove),o.removeEventListener("touchend",this.onTouchEnd),o.removeEventListener("touchcancel",this.onTouchCancel),window&&(o=this.isTop?window.top:window,o.removeEventListener("touchstart",this.onTouchStartWindow),o.removeEventListener("touchend",this.onTouchEndWindow),o.removeEventListener("touchcancel",this.onTouchCancelWindow))},destroy:function(){this.stopListeners(),this.target=null,this.enabled=!1,this.manager=null}});n.exports=l},95618:(n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports={TouchManager:i(36210)}},41299:(n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=i(83419),x=i(23906),d=i(54899),l=i(95540),o=i(98356),s=i(3374),f=i(84376),c=i(92638),u=new a({initialize:function(p,m){if(this.loader=p,this.cache=l(m,"cache",!1),this.type=l(m,"type",!1),!this.type)throw new Error("Invalid File type: "+this.type);this.key=l(m,"key",!1);var g=this.key;if(p.prefix&&p.prefix!==""&&(this.key=p.prefix+g),!this.key)throw new Error("Invalid File key: "+this.key);var C=l(m,"url");C===void 0?C=p.path+g+"."+l(m,"extension",""):typeof C=="string"&&!C.match(/^(?:blob:|data:|capacitor:\/\/|http:\/\/|https:\/\/|\/\/)/)&&(C=p.path+C),this.url=C,this.src="",this.xhrSettings=c(l(m,"responseType",void 0)),l(m,"xhrSettings",!1)&&(this.xhrSettings=s(this.xhrSettings,l(m,"xhrSettings",{}))),this.xhrLoader=null,this.state=typeof this.url=="function"?x.FILE_POPULATED:x.FILE_PENDING,this.bytesTotal=0,this.bytesLoaded=-1,this.percentComplete=-1,this.crossOrigin=void 0,this.data=void 0,this.config=l(m,"config",{}),this.multiFile,this.linkFile,this.base64=typeof C=="string"&&C.indexOf("data:")===0,this.retryAttempts=l(m,"maxRetries",p.maxRetries)},setLink:function(v){this.linkFile=v,v.linkFile=this},resetXHR:function(){this.xhrLoader&&(this.xhrLoader.onload=void 0,this.xhrLoader.onerror=void 0,this.xhrLoader.onprogress=void 0)},load:function(){if(this.state===x.FILE_POPULATED)this.loader.nextFile(this,!0);else{if(this.state=x.FILE_LOADING,this.src=o(this,this.loader.baseURL),!this.src)throw new Error("URL Error in File: "+this.key+" from: "+this.url);this.src.indexOf("data:")===0&&(this.base64=!0),this.xhrLoader=f(this,this.loader.xhr)}},onLoad:function(v,p){var m=v.responseURL&&this.loader.localSchemes.some(function(M){return v.responseURL.indexOf(M)===0}),g=m&&p.target.status===0,C=!(p.target&&p.target.status!==200)||g;v.readyState===4&&v.status>=400&&v.status<=599&&(C=!1),this.state=x.FILE_LOADED,this.resetXHR(),this.loader.nextFile(this,C)},onBase64Load:function(v){this.xhrLoader=v,this.state=x.FILE_LOADED,this.percentComplete=1,this.loader.emit(d.FILE_PROGRESS,this,this.percentComplete),this.loader.nextFile(this,!0)},onError:function(){this.resetXHR(),this.retryAttempts>0?(this.retryAttempts--,this.load()):this.loader.nextFile(this,!1)},onProgress:function(v){v.lengthComputable&&(this.bytesLoaded=v.loaded,this.bytesTotal=v.total,this.percentComplete=Math.min(this.bytesLoaded/this.bytesTotal,1),this.loader.emit(d.FILE_PROGRESS,this,this.percentComplete))},onProcess:function(){this.state=x.FILE_PROCESSING,this.onProcessComplete()},onProcessComplete:function(){this.state=x.FILE_COMPLETE,this.multiFile&&this.multiFile.onFileComplete(this),this.loader.fileProcessComplete(this)},onProcessError:function(){console.error('Failed to process file: %s "%s"',this.type,this.key),this.state=x.FILE_ERRORED,this.multiFile&&this.multiFile.onFileFailed(this),this.loader.fileProcessComplete(this)},hasCacheConflict:function(){return this.cache&&this.cache.exists(this.key)},addToCache:function(){this.cache&&this.data&&this.cache.add(this.key,this.data)},pendingDestroy:function(v){if(this.state!==x.FILE_PENDING_DESTROY){v===void 0&&(v=this.data);var p=this.key,m=this.type;this.loader.emit(d.FILE_COMPLETE,p,m,v),this.loader.emit(d.FILE_KEY_COMPLETE+m+"-"+p,p,m,v),this.loader.flagForRemoval(this),this.state=x.FILE_PENDING_DESTROY}},destroy:function(){this.loader=null,this.cache=null,this.xhrSettings=null,this.multiFile=null,this.linkFile=null,this.data=null}});u.createObjectURL=function(v,p,m){if(typeof URL=="function")v.src=URL.createObjectURL(p);else{var g=new FileReader;g.onload=function(){v.removeAttribute("crossOrigin"),v.src="data:"+(p.type||m)+";base64,"+g.result.split(",")[1]},g.onerror=v.onerror,g.readAsDataURL(p)}},u.revokeObjectURL=function(v){typeof URL=="function"&&URL.revokeObjectURL(v.src)},n.exports=u},74099:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T={},i={install:function(a){for(var x in T)a[x]=T[x]},register:function(a,x){T[a]=x},destroy:function(){T={}}};n.exports=i},98356:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(i,a){return i.url?i.url.match(/^(?:blob:|data:|capacitor:\/\/|http:\/\/|https:\/\/|\/\/)/)?i.url:a+i.url:!1};n.exports=T},74261:(n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=i(83419),x=i(23906),d=i(35072),l=i(50792),o=i(54899),s=i(74099),f=i(95540),c=i(35154),u=i(41212),v=i(37277),p=i(44594),m=i(92638),g=new a({Extends:l,initialize:function(M){l.call(this);var b=M.sys.game.config,w=M.sys.settings.loader;this.scene=M,this.systems=M.sys,this.cacheManager=M.sys.cache,this.textureManager=M.sys.textures,this.sceneManager=M.sys.game.scene,s.install(this),this.prefix="",this.path="",this.baseURL="",this.setBaseURL(f(w,"baseURL",b.loaderBaseURL)),this.setPath(f(w,"path",b.loaderPath)),this.setPrefix(f(w,"prefix",b.loaderPrefix)),this.maxParallelDownloads=f(w,"maxParallelDownloads",b.loaderMaxParallelDownloads),this.xhr=m(f(w,"responseType",b.loaderResponseType),f(w,"async",b.loaderAsync),f(w,"user",b.loaderUser),f(w,"password",b.loaderPassword),f(w,"timeout",b.loaderTimeout),f(w,"withCredentials",b.loaderWithCredentials)),this.crossOrigin=f(w,"crossOrigin",b.loaderCrossOrigin),this.imageLoadType=f(w,"imageLoadType",b.loaderImageLoadType),this.localSchemes=f(w,"localScheme",b.loaderLocalScheme),this.totalToLoad=0,this.progress=0,this.list=new d,this.inflight=new d,this.queue=new d,this._deleteQueue=new d,this.totalFailed=0,this.totalComplete=0,this.state=x.LOADER_IDLE,this.multiKeyIndex=0,this.maxRetries=f(w,"maxRetries",b.loaderMaxRetries),M.sys.events.once(p.BOOT,this.boot,this),M.sys.events.on(p.START,this.pluginStart,this)},boot:function(){this.systems.events.once(p.DESTROY,this.destroy,this)},pluginStart:function(){this.systems.events.once(p.SHUTDOWN,this.shutdown,this)},setBaseURL:function(C){return C===void 0&&(C=""),C!==""&&C.substr(-1)!=="/"&&(C=C.concat("/")),this.baseURL=C,this},setPath:function(C){return C===void 0&&(C=""),C!==""&&C.substr(-1)!=="/"&&(C=C.concat("/")),this.path=C,this},setPrefix:function(C){return C===void 0&&(C=""),this.prefix=C,this},setCORS:function(C){return this.crossOrigin=C,this},addFile:function(C){Array.isArray(C)||(C=[C]);for(var M=0;M<C.length;M++){var b=C[M];this.keyExists(b)||(this.list.set(b),this.emit(o.ADD,b.key,b.type,this,b),this.isLoading()&&(this.totalToLoad++,this.updateProgress()))}},keyExists:function(C){var M=C.hasCacheConflict();return M||this.list.iterate(function(b){if(b.type===C.type&&b.key===C.key)return M=!0,!1}),!M&&this.isLoading()&&(this.inflight.iterate(function(b){if(b.type===C.type&&b.key===C.key)return M=!0,!1}),this.queue.iterate(function(b){if(b.type===C.type&&b.key===C.key)return M=!0,!1})),M},addPack:function(C,M){if(typeof M=="string"){var b=c(C,M);b&&(C={packKey:b})}var w=0,R=this.baseURL,A=this.path,L=this.prefix;for(var D in C)if(Object.prototype.hasOwnProperty.call(C,D)){var G=C[D],B=f(G,"baseURL",R),I=f(G,"path",A),k=f(G,"prefix",L),z=f(G,"files",null),X=f(G,"defaultType","void");if(Array.isArray(z)){this.setBaseURL(B),this.setPath(I),this.setPrefix(k);for(var H=0;H<z.length;H++){var Q=z[H],J=Q.hasOwnProperty("type")?Q.type:X;this[J]&&(this[J](Q),w++)}}}return this.setBaseURL(R),this.setPath(A),this.setPrefix(L),w>0},removePack:function(C,M){var b=this.systems.anims,w=this.cacheManager,R=this.textureManager,A={animation:"json",aseprite:"json",audio:"audio",audioSprite:"audio",binary:"binary",bitmapFont:"bitmapFont",css:null,glsl:"shader",html:"html",json:"json",obj:"obj",plugin:null,scenePlugin:null,script:null,spine:"json",text:"text",tilemapCSV:"tilemap",tilemapImpact:"tilemap",tilemapTiledJSON:"tilemap",video:"video",xml:"xml"},L;if(u(C))L=C;else if(L=w.json.get(C),!L){console.warn("Asset Pack not found in JSON cache:",C);return}M&&(L={_:L[M]});for(var D in L){var G=L[D],B=f(G,"prefix",""),I=f(G,"files"),k=f(G,"defaultType");if(Array.isArray(I))for(var z=0;z<I.length;z++){var X=I[z],H=X.hasOwnProperty("type")?X.type:k;if(!H){console.warn("No type:",X);continue}var Q=B+X.key;if(H==="animation"&&b.remove(Q),!((H==="aseprite"||H==="atlas"||H==="atlasXML"||H==="htmlTexture"||H==="image"||H==="multiatlas"||H==="spritesheet"||H==="svg"||H==="texture"||H==="unityAtlas")&&(R.remove(Q),!A[H]))){if(H==="pack"){this.removePack(Q,X.dataKey);continue}if(H==="spine"){var J=w.custom.spine.get(Q);if(!J)continue;var Y=J.prefix===void 0?"":J.prefix;w.custom.spine.remove(Q);var $=w.custom.spineTextures.get(Q);if(!$)continue;w.custom.spineTextures.remove(Q);for(var V=0;V<$.pages.length;V++){var U=$.pages[V],K=Y+U.name,j=Q+":"+K;R.exists(j)?R.remove(j):R.remove(K)}}var _=A[H];if(_!==null){if(!_){console.warn("Unknown type:",H);continue}var tt=w[_];tt.remove(Q)}}}}},isLoading:function(){return this.state===x.LOADER_LOADING||this.state===x.LOADER_PROCESSING},isReady:function(){return this.state===x.LOADER_IDLE||this.state===x.LOADER_COMPLETE},start:function(){this.isReady()&&(this.progress=0,this.totalFailed=0,this.totalComplete=0,this.totalToLoad=this.list.size,this.emit(o.START,this),this.list.size===0?this.loadComplete():(this.state=x.LOADER_LOADING,this.inflight.clear(),this.queue.clear(),this.updateProgress(),this.checkLoadQueue(),this.systems.events.on(p.UPDATE,this.update,this)))},updateProgress:function(){this.progress=1-(this.list.size+this.inflight.size)/this.totalToLoad,this.emit(o.PROGRESS,this.progress)},update:function(){this.state===x.LOADER_LOADING&&this.list.size>0&&this.inflight.size<this.maxParallelDownloads&&this.checkLoadQueue()},checkLoadQueue:function(){this.list.each(function(C){if((C.state===x.FILE_POPULATED||C.state===x.FILE_PENDING&&this.inflight.size<this.maxParallelDownloads)&&(this.inflight.set(C),this.list.delete(C),C.crossOrigin||(C.crossOrigin=this.crossOrigin),C.load()),this.inflight.size===this.maxParallelDownloads)return!1},this)},nextFile:function(C,M){this.inflight&&(this.inflight.delete(C),this.updateProgress(),M?(this.totalComplete++,this.queue.set(C),this.emit(o.FILE_LOAD,C),C.onProcess()):(this.totalFailed++,this._deleteQueue.set(C),this.emit(o.FILE_LOAD_ERROR,C),this.fileProcessComplete(C)))},fileProcessComplete:function(C){!this.scene||!this.systems||!this.systems.game||this.systems.game.pendingDestroy||(C.state===x.FILE_ERRORED?C.multiFile&&C.multiFile.onFileFailed(C):C.state===x.FILE_COMPLETE&&(C.multiFile?C.multiFile.isReadyToProcess()&&(C.multiFile.addToCache(),C.multiFile.pendingDestroy()):(C.addToCache(),C.pendingDestroy())),this.queue.delete(C),this.list.size===0&&this.inflight.size===0&&this.queue.size===0&&this.loadComplete())},loadComplete:function(){this.emit(o.POST_PROCESS,this),this.list.clear(),this.inflight.clear(),this.queue.clear(),this.progress=1,this.state=x.LOADER_COMPLETE,this.systems.events.off(p.UPDATE,this.update,this),this._deleteQueue.iterateLocal("destroy"),this._deleteQueue.clear(),this.emit(o.COMPLETE,this,this.totalComplete,this.totalFailed)},flagForRemoval:function(C){this._deleteQueue.set(C)},saveJSON:function(C,M){return this.save(JSON.stringify(C),M)},save:function(C,M,b){M===void 0&&(M="file.json"),b===void 0&&(b="application/json");var w=new Blob([C],{type:b}),R=URL.createObjectURL(w),A=document.createElement("a");return A.download=M,A.textContent="Download "+M,A.href=R,A.click(),this},reset:function(){this.list.clear(),this.inflight.clear(),this.queue.clear();var C=this.systems.game.config,M=this.systems.settings.loader;this.setBaseURL(f(M,"baseURL",C.loaderBaseURL)),this.setPath(f(M,"path",C.loaderPath)),this.setPrefix(f(M,"prefix",C.loaderPrefix)),this.state=x.LOADER_IDLE},shutdown:function(){this.reset(),this.state=x.LOADER_SHUTDOWN,this.removeAllListeners(),this.systems.events.off(p.UPDATE,this.update,this),this.systems.events.off(p.SHUTDOWN,this.shutdown,this)},destroy:function(){this.shutdown(),this.state=x.LOADER_DESTROYED,this.systems.events.off(p.UPDATE,this.update,this),this.systems.events.off(p.START,this.pluginStart,this),this.list=null,this.inflight=null,this.queue=null,this.scene=null,this.systems=null,this.textureManager=null,this.cacheManager=null,this.sceneManager=null}});v.register("Loader",g,"load"),n.exports=g},3374:(n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=i(79291),x=i(92638),d=function(l,o){var s=l===void 0?x():a({},l);if(o)for(var f in o)o[f]!==void 0&&(s[f]=o[f]);return s};n.exports=d},26430:(n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=i(83419),x=i(23906),d=i(54899),l=new a({initialize:function(s,f,c,u){var v=[];u.forEach(function(g){g&&v.push(g)}),this.loader=s,this.type=f,this.key=c;var p=this.key;s.prefix&&s.prefix!==""&&(this.key=s.prefix+p),this.multiKeyIndex=s.multiKeyIndex++,this.files=v,this.state=x.FILE_PENDING,this.complete=!1,this.pending=v.length,this.failed=0,this.config={},this.baseURL=s.baseURL,this.path=s.path,this.prefix=s.prefix;for(var m=0;m<v.length;m++)v[m].multiFile=this},isReadyToProcess:function(){return this.pending===0&&this.failed===0&&!this.complete},addToMultiFile:function(o){return this.files.push(o),o.multiFile=this,this.pending++,this.complete=!1,this},onFileComplete:function(o){var s=this.files.indexOf(o);s!==-1&&this.pending--},onFileFailed:function(o){var s=this.files.indexOf(o);s!==-1&&(this.failed++,console.error('File failed: %s "%s" (via %s "%s")',this.type,this.key,o.type,o.key))},pendingDestroy:function(){if(this.state!==x.FILE_PENDING_DESTROY){var o=this.key,s=this.type;this.loader.emit(d.FILE_COMPLETE,o,s),this.loader.emit(d.FILE_KEY_COMPLETE+s+"-"+o,o,s),this.loader.flagForRemoval(this);for(var f=0;f<this.files.length;f++)this.files[f].pendingDestroy();this.state=x.FILE_PENDING_DESTROY}},destroy:function(){this.loader=null,this.files=null,this.config=null}});n.exports=l},84376:(n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=i(3374),x=function(d,l){var o=a(l,d.xhrSettings);if(d.base64){var s=d.url.split(";base64,").pop()||d.url.split(",").pop(),f={responseText:atob(s)};d.onBase64Load(f);return}var c=new XMLHttpRequest;if(c.open("GET",d.src,o.async,o.user,o.password),c.responseType=d.xhrSettings.responseType,c.timeout=o.timeout,o.headers)for(var u in o.headers)c.setRequestHeader(u,o.headers[u]);return o.header&&o.headerValue&&c.setRequestHeader(o.header,o.headerValue),o.requestedWith&&c.setRequestHeader("X-Requested-With",o.requestedWith),o.overrideMimeType&&c.overrideMimeType(o.overrideMimeType),o.withCredentials&&(c.withCredentials=!0),c.onload=d.onLoad.bind(d,c),c.onerror=d.onError.bind(d,c),c.onprogress=d.onProgress.bind(d),c.ontimeout=d.onError.bind(d,c),c.send(),c};n.exports=x},92638:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(i,a,x,d,l,o){return i===void 0&&(i=""),a===void 0&&(a=!0),x===void 0&&(x=""),d===void 0&&(d=""),l===void 0&&(l=0),o===void 0&&(o=!1),{responseType:i,async:a,user:x,password:d,timeout:l,headers:void 0,header:void 0,headerValue:void 0,requestedWith:!1,overrideMimeType:void 0,withCredentials:o}};n.exports=T},23906:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T={LOADER_IDLE:0,LOADER_LOADING:1,LOADER_PROCESSING:2,LOADER_COMPLETE:3,LOADER_SHUTDOWN:4,LOADER_DESTROYED:5,FILE_PENDING:10,FILE_LOADING:11,FILE_LOADED:12,FILE_FAILED:13,FILE_PROCESSING:14,FILE_ERRORED:16,FILE_COMPLETE:17,FILE_DESTROYED:18,FILE_POPULATED:19,FILE_PENDING_DESTROY:20};n.exports=T},42155:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="addfile"},38991:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="complete"},27540:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="filecomplete"},87464:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="filecomplete-"},94486:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="loaderror"},13035:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="load"},38144:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="fileprogress"},97520:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="postprocess"},85595:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="progress"},55680:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="start"},54899:(n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports={ADD:i(42155),COMPLETE:i(38991),FILE_COMPLETE:i(27540),FILE_KEY_COMPLETE:i(87464),FILE_LOAD_ERROR:i(94486),FILE_LOAD:i(13035),FILE_PROGRESS:i(38144),POST_PROCESS:i(97520),PROGRESS:i(85595),START:i(55680)}},14135:(n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=i(83419),x=i(74099),d=i(518),l=i(54899),o=new a({Extends:d,initialize:function(f,c,u,v,p){d.call(this,f,c,u,v,p),this.type="animationJSON"},onProcess:function(){this.loader.once(l.POST_PROCESS,this.onLoadComplete,this),d.prototype.onProcess.call(this)},onLoadComplete:function(){this.loader.systems.anims.fromJSON(this.data)}});x.register("animation",function(s,f,c,u){if(Array.isArray(s))for(var v=0;v<s.length;v++)this.addFile(new o(this,s[v]));else this.addFile(new o(this,s,f,u,c));return this}),n.exports=o},76272:(n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=i(83419),x=i(74099),d=i(95540),l=i(19550),o=i(41212),s=i(518),f=i(26430),c=new a({Extends:f,initialize:function(v,p,m,g,C,M){var b,w;if(o(p)){var R=p;p=d(R,"key"),b=new l(v,{key:p,url:d(R,"textureURL"),extension:d(R,"textureExtension","png"),normalMap:d(R,"normalMap"),xhrSettings:d(R,"textureXhrSettings")}),w=new s(v,{key:p,url:d(R,"atlasURL"),extension:d(R,"atlasExtension","json"),xhrSettings:d(R,"atlasXhrSettings")})}else b=new l(v,p,m,C),w=new s(v,p,g,M);b.linkFile?f.call(this,v,"atlasjson",p,[b,w,b.linkFile]):f.call(this,v,"atlasjson",p,[b,w])},addToCache:function(){if(this.isReadyToProcess()){var u=this.files[0],v=this.files[1],p=this.files[2]?this.files[2].data:null;this.loader.textureManager.addAtlas(u.key,u.data,v.data,p),v.addToCache(),this.complete=!0}}});x.register("aseprite",function(u,v,p,m,g){var C;if(Array.isArray(u))for(var M=0;M<u.length;M++)C=new c(this,u[M]),this.addFile(C.files);else C=new c(this,u,v,p,m,g),this.addFile(C.files);return this}),n.exports=c},38734:(n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=i(83419),x=i(74099),d=i(95540),l=i(19550),o=i(41212),s=i(518),f=i(26430),c=new a({Extends:f,initialize:function(v,p,m,g,C,M){var b,w;if(o(p)){var R=p;p=d(R,"key"),b=new l(v,{key:p,url:d(R,"textureURL"),extension:d(R,"textureExtension","png"),normalMap:d(R,"normalMap"),xhrSettings:d(R,"textureXhrSettings")}),w=new s(v,{key:p,url:d(R,"atlasURL"),extension:d(R,"atlasExtension","json"),xhrSettings:d(R,"atlasXhrSettings")})}else b=new l(v,p,m,C),w=new s(v,p,g,M);b.linkFile?f.call(this,v,"atlasjson",p,[b,w,b.linkFile]):f.call(this,v,"atlasjson",p,[b,w])},addToCache:function(){if(this.isReadyToProcess()){var u=this.files[0],v=this.files[1],p=this.files[2]?this.files[2].data:null;this.loader.textureManager.addAtlas(u.key,u.data,v.data,p),this.complete=!0}}});x.register("atlas",function(u,v,p,m,g){var C;if(Array.isArray(u))for(var M=0;M<u.length;M++)C=new c(this,u[M]),this.addFile(C.files);else C=new c(this,u,v,p,m,g),this.addFile(C.files);return this}),n.exports=c},74599:(n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=i(83419),x=i(74099),d=i(95540),l=i(19550),o=i(41212),s=i(26430),f=i(57318),c=new a({Extends:s,initialize:function(v,p,m,g,C,M){var b,w;if(o(p)){var R=p;p=d(R,"key"),b=new l(v,{key:p,url:d(R,"textureURL"),extension:d(R,"textureExtension","png"),normalMap:d(R,"normalMap"),xhrSettings:d(R,"textureXhrSettings")}),w=new f(v,{key:p,url:d(R,"atlasURL"),extension:d(R,"atlasExtension","xml"),xhrSettings:d(R,"atlasXhrSettings")})}else b=new l(v,p,m,C),w=new f(v,p,g,M);b.linkFile?s.call(this,v,"atlasxml",p,[b,w,b.linkFile]):s.call(this,v,"atlasxml",p,[b,w])},addToCache:function(){if(this.isReadyToProcess()){var u=this.files[0],v=this.files[1],p=this.files[2]?this.files[2].data:null;this.loader.textureManager.addAtlasXML(u.key,u.data,v.data,p),this.complete=!0}}});x.register("atlasXML",function(u,v,p,m,g){var C;if(Array.isArray(u))for(var M=0;M<u.length;M++)C=new c(this,u[M]),this.addFile(C.files);else C=new c(this,u,v,p,m,g),this.addFile(C.files);return this}),n.exports=c},21097:(n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=i(83419),x=i(23906),d=i(41299),l=i(74099),o=i(95540),s=i(89749),f=i(41212),c=new a({Extends:d,initialize:function(v,p,m,g,C){if(f(p)){var M=p;p=o(M,"key"),g=o(M,"xhrSettings"),C=o(M,"context",C)}var b={type:"audio",cache:v.cacheManager.audio,extension:m.type,responseType:"arraybuffer",key:p,url:m.url,xhrSettings:g,config:{context:C}};d.call(this,v,b)},onProcess:function(){this.state=x.FILE_PROCESSING;var u=this;this.config.context.decodeAudioData(this.xhrLoader.response,function(v){u.data=v,u.onProcessComplete()},function(v){console.error("Error decoding audio: "+u.key+" - ",v?v.message:null),u.onProcessError()}),this.config.context=null}});c.create=function(u,v,p,m,g){var C=u.systems.game,M=C.config.audio,b=C.device.audio;f(v)&&(p=o(v,"url",[]),m=o(v,"config",{}));var w=c.getAudioURL(C,p);return w?b.webAudio&&!M.disableWebAudio?new c(u,v,w,g,C.sound.context):new s(u,v,w,m):(console.warn('No audio URLs for "%s" can play on this device',v),null)},c.getAudioURL=function(u,v){Array.isArray(v)||(v=[v]);for(var p=0;p<v.length;p++){var m=o(v[p],"url",v[p]);if(m.indexOf("blob:")===0||m.indexOf("data:")===0)return{url:m,type:""};var g=m.match(/\.([a-zA-Z0-9]+)($|\?)/);if(g=o(v[p],"type",g?g[1]:"").toLowerCase(),u.device.audio[g])return{url:m,type:g}}return null},l.register("audio",function(u,v,p,m){var g=this.systems.game,C=g.config.audio,M=g.device.audio;if(C.noAudio||!M.webAudio&&!M.audioData)return this;var b;if(Array.isArray(u))for(var w=0;w<u.length;w++)b=c.create(this,u[w]),b&&this.addFile(b);else b=c.create(this,u,v,p,m),b&&this.addFile(b);return this}),n.exports=c},89524:(n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=i(21097),x=i(83419),d=i(74099),l=i(95540),o=i(41212),s=i(518),f=i(26430),c=new x({Extends:f,initialize:function(v,p,m,g,C,M,b){if(o(p)){var w=p;p=l(w,"key"),m=l(w,"jsonURL"),g=l(w,"audioURL"),C=l(w,"audioConfig"),M=l(w,"audioXhrSettings"),b=l(w,"jsonXhrSettings")}var R;if(!g)R=new s(v,p,m,b),f.call(this,v,"audiosprite",p,[R]),this.config.resourceLoad=!0,this.config.audioConfig=C,this.config.audioXhrSettings=M;else{var A=a.create(v,p,g,C,M);A&&(R=new s(v,p,m,b),f.call(this,v,"audiosprite",p,[A,R]),this.config.resourceLoad=!1)}},onFileComplete:function(u){var v=this.files.indexOf(u);if(v!==-1&&(this.pending--,this.config.resourceLoad&&u.type==="json"&&u.data.hasOwnProperty("resources"))){var p=u.data.resources,m=l(this.config,"audioConfig"),g=l(this.config,"audioXhrSettings"),C=a.create(this.loader,u.key,p,m,g);C&&(this.addToMultiFile(C),this.loader.addFile(C))}},addToCache:function(){if(this.isReadyToProcess()){var u=this.files[0],v=this.files[1];u.addToCache(),v.addToCache(),this.complete=!0}}});d.register("audioSprite",function(u,v,p,m,g,C){var M=this.systems.game,b=M.config.audio,w=M.device.audio;if(b&&b.noAudio||!w.webAudio&&!w.audioData)return this;var R;if(Array.isArray(u))for(var A=0;A<u.length;A++)R=new c(this,u[A]),R.files&&this.addFile(R.files);else R=new c(this,u,v,p,m,g,C),R.files&&this.addFile(R.files);return this})},85722:(n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=i(83419),x=i(23906),d=i(41299),l=i(74099),o=i(95540),s=i(41212),f=new a({Extends:d,initialize:function(u,v,p,m,g){var C="bin";if(s(v)){var M=v;v=o(M,"key"),p=o(M,"url"),m=o(M,"xhrSettings"),C=o(M,"extension",C),g=o(M,"dataType",g)}var b={type:"binary",cache:u.cacheManager.binary,extension:C,responseType:"arraybuffer",key:v,url:p,xhrSettings:m,config:{dataType:g}};d.call(this,u,b)},onProcess:function(){this.state=x.FILE_PROCESSING;var c=this.config.dataType;this.data=c?new c(this.xhrLoader.response):this.xhrLoader.response,this.onProcessComplete()}});l.register("binary",function(c,u,v,p){if(Array.isArray(c))for(var m=0;m<c.length;m++)this.addFile(new f(this,c[m]));else this.addFile(new f(this,c,u,p,v));return this}),n.exports=f},97025:(n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=i(83419),x=i(74099),d=i(95540),l=i(19550),o=i(41212),s=i(26430),f=i(21859),c=i(57318),u=new a({Extends:s,initialize:function(p,m,g,C,M,b){var w,R;if(o(m)){var A=m;m=d(A,"key"),w=new l(p,{key:m,url:d(A,"textureURL"),extension:d(A,"textureExtension","png"),normalMap:d(A,"normalMap"),xhrSettings:d(A,"textureXhrSettings")}),R=new c(p,{key:m,url:d(A,"fontDataURL"),extension:d(A,"fontDataExtension","xml"),xhrSettings:d(A,"fontDataXhrSettings")})}else w=new l(p,m,g,M),R=new c(p,m,C,b);w.linkFile?s.call(this,p,"bitmapfont",m,[w,R,w.linkFile]):s.call(this,p,"bitmapfont",m,[w,R])},addToCache:function(){if(this.isReadyToProcess()){var v=this.files[0],p=this.files[1];v.addToCache();var m=v.cache.get(v.key),g=f(p.data,v.cache.getFrame(v.key),0,0,m);this.loader.cacheManager.bitmapFont.add(v.key,{data:g,texture:v.key,frame:null}),this.complete=!0}}});x.register("bitmapFont",function(v,p,m,g,C){var M;if(Array.isArray(v))for(var b=0;b<v.length;b++)M=new u(this,v[b]),this.addFile(M.files);else M=new u(this,v,p,m,g,C),this.addFile(M.files);return this}),n.exports=u},16024:(n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=i(83419),x=i(23906),d=i(41299),l=i(74099),o=i(95540),s=i(41212),f=new a({Extends:d,initialize:function(u,v,p,m){var g="css";if(s(v)){var C=v;v=o(C,"key"),p=o(C,"url"),m=o(C,"xhrSettings"),g=o(C,"extension",g)}var M={type:"script",cache:!1,extension:g,responseType:"text",key:v,url:p,xhrSettings:m};d.call(this,u,M)},onProcess:function(){this.state=x.FILE_PROCESSING,this.data=document.createElement("style"),this.data.defer=!1,this.data.innerHTML=this.xhrLoader.responseText,document.head.appendChild(this.data),this.onProcessComplete()}});l.register("css",function(c,u,v){if(Array.isArray(c))for(var p=0;p<c.length;p++)this.addFile(new f(this,c[p]));else this.addFile(new f(this,c,u,v));return this}),n.exports=f},69559:(n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2021 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=i(38734),x=i(85722),d=i(83419),l=i(74099),o=i(95540),s=i(19550),f=i(41212),c=i(518),u=i(31403),v=i(46975),p=i(59327),m=i(26430),g=i(82038),C=i(55222),M=new d({Extends:m,initialize:function(w,R,A,L){if(A.multiAtlasURL){var D=new c(w,{key:R,url:A.multiAtlasURL,xhrSettings:L,config:A});m.call(this,w,"texture",R,[D])}else{var G=A.textureURL.substr(A.textureURL.length-3);A.type||(A.type=G.toLowerCase()==="ktx"?"KTX":"PVR");var B=new x(w,{key:R,url:A.textureURL,extension:G,xhrSettings:L,config:A});if(A.atlasURL){var I=new c(w,{key:R,url:A.atlasURL,xhrSettings:L,config:A});m.call(this,w,"texture",R,[B,I])}else m.call(this,w,"texture",R,[B])}this.config=A},onFileComplete:function(b){var w=this.files.indexOf(b);if(w!==-1){if(this.pending--,!this.config.multiAtlasURL)return;if(b.type==="json"&&b.data.hasOwnProperty("textures")){var R=b.data.textures,A=this.config,L=this.loader,D=L.baseURL,G=L.path,B=L.prefix,I=o(A,"multiBaseURL",this.baseURL),k=o(A,"multiPath",this.path),z=o(A,"prefix",this.prefix),X=o(A,"textureXhrSettings");I&&L.setBaseURL(I),k&&L.setPath(k),z&&L.setPrefix(z);for(var H=0;H<R.length;H++){var Q=R[H].image,J="CMA"+this.multiKeyIndex+"_"+Q,Y=new x(L,J,Q,X);if(this.addToMultiFile(Y),L.addFile(Y),R[H].normalMap){var $=new x(L,J,R[H].normalMap,X);$.type="normalMap",Y.setLink($),this.addToMultiFile($),L.addFile($)}}L.setBaseURL(D),L.setPath(G),L.setPrefix(B)}}},addToCache:function(){function b(I){console.warn('Compressed Texture Invalid: "'+D.key+'". '+I)}if(this.isReadyToProcess()){var w=this.config;if(w.multiAtlasURL)this.addMultiToCache();else{var R=this.loader.systems.renderer,A=this.loader.textureManager,L,D=this.files[0],G=this.files[1];if(w.type==="PVR"?L=g(D.data):w.type==="KTX"&&(L=u(D.data),L||b("KTX file contains unsupported format.")),L&&!C(L)&&(b("Texture dimensions failed verification. Check the texture format specifications for "+w.format+" 0x"+L.internalFormat.toString(16)+"."),L=null),L&&!R.supportsCompressedTexture(w.format,L.internalFormat)&&(b("Texture format "+w.format+" with internal format "+L.internalFormat+" not supported by the GPU. Texture invalid. This is often due to the texture using sRGB instead of linear RGB."),L=null),L){L.format=R.getCompressedTextureName(w.format,L.internalFormat);var B=G&&G.data?G.data:null;A.addCompressedTexture(D.key,L,B)}}this.complete=!0}},addMultiToCache:function(){for(var b=this.config,w=this.files[0],R=[],A=[],L=[],D=this.loader.systems.renderer,G=this.loader.textureManager,B,I=1;I<this.files.length;I++){var k=this.files[I];if(k.type!=="normalMap")for(var z=k.key.indexOf("_"),X=k.key.substr(z+1),H=k.data,Q=0;Q<w.data.textures.length;Q++){var J=w.data.textures[Q];if(J.image===X){b.type==="PVR"?B=g(H):b.type==="KTX"&&(B=u(H)),B&&D.supportsCompressedTexture(b.format,B.internalFormat)&&(B.format=D.getCompressedTextureName(b.format,B.internalFormat),A.push(B),R.push(J),k.linkFile&&L.push(k.linkFile.data));break}}}L.length===0&&(L=void 0),G.addAtlasJSONArray(this.key,A,R,L),this.complete=!0}});l.register("texture",function(b,w,R){var A=this.systems.renderer,L=function(G,B,I,k){var z={format:null,type:null,textureURL:void 0,atlasURL:void 0,multiAtlasURL:void 0,multiPath:void 0,multiBaseURL:void 0};if(f(B)){var X=B;B=o(X,"key"),I=o(X,"url"),k=o(X,"xhrSettings")}var H=!1;for(var Q in I)if(A.supportsCompressedTexture(Q)){var J=I[Q];typeof J=="string"?z.textureURL=J:z=v(J,z),z.format=Q.toUpperCase(),H=!0;break}if(!H)console.warn("No supported compressed texture format or IMG fallback",B);else if(z.format==="IMG"){var Y,$;z.multiAtlasURL?($=new p(G,B,z.multiAtlasURL,z.multiPath,z.multiBaseURL,k),Y=$.files):z.atlasURL?($=new a(G,B,z.textureURL,z.atlasURL,k),Y=$.files):Y=new s(G,B,z.textureURL,k),G.addFile(Y)}else{var V=new M(G,B,z,k);G.addFile(V.files)}};if(Array.isArray(b))for(var D=0;D<b.length;D++)L(this,b[D]);else L(this,b,w,R);return this}),n.exports=M},87674:(n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=i(83419),x=i(23906),d=i(41299),l=i(74099),o=i(95540),s=i(98356),f=i(41212),c=new a({Extends:d,initialize:function(v,p,m,g,C,M){var b="ttf";if(f(p)){var w=p;p=o(w,"key"),m=o(w,"url"),g=o(w,"format","truetype"),C=o(w,"descriptors",null),M=o(w,"xhrSettings"),b=o(w,"extension",b)}else g===void 0&&(g="truetype");var R={type:"font",cache:!1,extension:b,responseType:"text",key:p,url:m,xhrSettings:M};d.call(this,v,R),this.data={format:g,descriptors:C},this.state=x.FILE_POPULATED},onProcess:function(){this.state=x.FILE_PROCESSING,this.src=s(this,this.loader.baseURL);var u,v=this.key,p="url("+this.src+') format("'+this.data.format+'")';this.data.descriptors?u=new FontFace(v,p,this.data.descriptors):u=new FontFace(v,p);var m=this;u.load().then(function(){document.fonts.add(u),document.body.classList.add("fonts-loaded"),m.onProcessComplete()}).catch(function(){console.warn("Font failed to load",p),m.onProcessComplete()})}});l.register("font",function(u,v,p,m,g){if(Array.isArray(u))for(var C=0;C<u.length;C++)this.addFile(new c(this,u[C]));else this.addFile(new c(this,u,v,p,m,g));return this}),n.exports=c},47931:(n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=i(83419),x=i(23906),d=i(41299),l=i(74099),o=i(95540),s=i(41212),f=i(73894),c=new a({Extends:d,initialize:function(v,p,m,g,C){var M="glsl";if(s(p)){var b=p;p=o(b,"key"),m=o(b,"url"),g=o(b,"shaderType","fragment"),C=o(b,"xhrSettings"),M=o(b,"extension",M)}else g===void 0&&(g="fragment");var w={type:"glsl",cache:v.cacheManager.shader,extension:M,responseType:"text",key:p,url:m,config:{shaderType:g},xhrSettings:C};d.call(this,v,w)},onProcess:function(){this.state=x.FILE_PROCESSING,this.data=this.xhrLoader.responseText,this.onProcessComplete()},addToCache:function(){var u=this.data.split(`
`),v=this.extractBlock(u,0);if(v)for(;v;){var p=this.getShaderName(v.header),m=this.getShaderType(v.header),g=this.getShaderUniforms(v.header),C=v.shader;if(this.cache.has(p)){var M=this.cache.get(p);m==="fragment"?M.fragmentSrc=C:M.vertexSrc=C,M.uniforms||(M.uniforms=g)}else m==="fragment"?this.cache.add(p,new f(p,C,"",g)):this.cache.add(p,new f(p,"",C,g));v=this.extractBlock(u,v.offset)}else this.config.shaderType==="fragment"?this.cache.add(this.key,new f(this.key,this.data)):this.cache.add(this.key,new f(this.key,"",this.data))},getShaderName:function(u){for(var v=0;v<u.length;v++){var p=u[v].trim();if(p.substring(0,5)==="name:")return p.substring(5).trim()}return this.key},getShaderType:function(u){for(var v=0;v<u.length;v++){var p=u[v].trim();if(p.substring(0,5)==="type:")return p.substring(5).trim()}return this.config.shaderType},getShaderUniforms:function(u){for(var v={},p=0;p<u.length;p++){var m=u[p].trim();if(m.substring(0,8)==="uniform."){var g=m.indexOf(":");if(g){var C=m.substring(8,g);try{v[C]=JSON.parse(m.substring(g+1))}catch{console.warn("Invalid uniform JSON: "+C)}}}}return v},extractBlock:function(u,v){for(var p=-1,m=-1,g=-1,C=!1,M=!1,b=[],w=[],R=v;R<u.length;R++){var A=u[R].trim();if(A==="---")if(p===-1)p=R,C=!0;else if(C)m=R,C=!1,M=!0;else{M=!1;break}else C?b.push(A):M&&(w.push(A),g=R)}return!C&&m!==-1?{header:b,shader:w.join(`
`),offset:g}:null}});l.register("glsl",function(u,v,p,m){if(Array.isArray(u))for(var g=0;g<u.length;g++)this.addFile(new c(this,u[g]));else this.addFile(new c(this,u,v,p,m));return this}),n.exports=c},89749:(n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=i(83419),x=i(54899),d=i(41299),l=i(95540),o=i(98356),s=i(41212),f=new a({Extends:d,initialize:function(u,v,p,m){if(s(v)){var g=v;v=l(g,"key"),m=l(g,"config",m)}var C={type:"audio",cache:u.cacheManager.audio,extension:p.type,key:v,url:p.url,config:m};d.call(this,u,C),this.locked="ontouchstart"in window,this.loaded=!1,this.filesLoaded=0,this.filesTotal=0},onLoad:function(){this.loaded||(this.loaded=!0,this.loader.nextFile(this,!0))},onError:function(){for(var c=0;c<this.data.length;c++){var u=this.data[c];u.oncanplaythrough=null,u.onerror=null}this.loader.nextFile(this,!1)},onProgress:function(c){var u=c.target;u.oncanplaythrough=null,u.onerror=null,this.filesLoaded++,this.percentComplete=Math.min(this.filesLoaded/this.filesTotal,1),this.loader.emit(x.FILE_PROGRESS,this,this.percentComplete),this.filesLoaded===this.filesTotal&&this.onLoad()},load:function(){this.data=[];var c=this.config&&this.config.instances||1;this.filesTotal=c,this.filesLoaded=0,this.percentComplete=0;for(var u=0;u<c;u++){var v=new Audio;v.dataset||(v.dataset={}),v.dataset.name=this.key+("0"+u).slice(-2),v.dataset.used="false",this.locked?v.dataset.locked="true":(v.dataset.locked="false",v.preload="auto",v.oncanplaythrough=this.onProgress.bind(this),v.onerror=this.onError.bind(this)),this.data.push(v)}for(u=0;u<this.data.length;u++)v=this.data[u],v.src=o(this,this.loader.baseURL),this.locked||v.load();this.locked&&setTimeout(this.onLoad.bind(this))}});n.exports=f},88470:(n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=i(83419),x=i(23906),d=i(41299),l=i(74099),o=i(95540),s=i(41212),f=new a({Extends:d,initialize:function(u,v,p,m){var g="html";if(s(v)){var C=v;v=o(C,"key"),p=o(C,"url"),m=o(C,"xhrSettings"),g=o(C,"extension",g)}var M={type:"text",cache:u.cacheManager.html,extension:g,responseType:"text",key:v,url:p,xhrSettings:m};d.call(this,u,M)},onProcess:function(){this.state=x.FILE_PROCESSING,this.data=this.xhrLoader.responseText,this.onProcessComplete()}});l.register("html",function(c,u,v){if(Array.isArray(c))for(var p=0;p<c.length;p++)this.addFile(new f(this,c[p]));else this.addFile(new f(this,c,u,v));return this}),n.exports=f},14643:(n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=i(83419),x=i(23906),d=i(41299),l=i(74099),o=i(95540),s=i(41212),f=new a({Extends:d,initialize:function(u,v,p,m,g,C){m===void 0&&(m=512),g===void 0&&(g=512);var M="html";if(s(v)){var b=v;v=o(b,"key"),p=o(b,"url"),C=o(b,"xhrSettings"),M=o(b,"extension",M),m=o(b,"width",m),g=o(b,"height",g)}var w={type:"html",cache:u.textureManager,extension:M,responseType:"text",key:v,url:p,xhrSettings:C,config:{width:m,height:g}};d.call(this,u,w)},onProcess:function(){this.state=x.FILE_PROCESSING;var c=this.config.width,u=this.config.height,v=[];v.push('<svg width="'+c+'px" height="'+u+'px" viewBox="0 0 '+c+" "+u+'" xmlns="http://www.w3.org/2000/svg">'),v.push('<foreignObject width="100%" height="100%">'),v.push('<body xmlns="http://www.w3.org/1999/xhtml">'),v.push(this.xhrLoader.responseText),v.push("</body>"),v.push("</foreignObject>"),v.push("</svg>");var p=[v.join(`
`)],m=this;try{var g=new window.Blob(p,{type:"image/svg+xml;charset=utf-8"})}catch{m.state=x.FILE_ERRORED,m.onProcessComplete();return}this.data=new Image,this.data.crossOrigin=this.crossOrigin,this.data.onload=function(){d.revokeObjectURL(m.data),m.onProcessComplete()},this.data.onerror=function(){d.revokeObjectURL(m.data),m.onProcessError()},d.createObjectURL(this.data,g,"image/svg+xml")},addToCache:function(){this.cache.addImage(this.key,this.data)}});l.register("htmlTexture",function(c,u,v,p,m){if(Array.isArray(c))for(var g=0;g<c.length;g++)this.addFile(new f(this,c[g]));else this.addFile(new f(this,c,u,v,p,m));return this}),n.exports=f},19550:(n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=i(83419),x=i(23906),d=i(41299),l=i(74099),o=i(95540),s=i(41212),f=i(98356),c=new a({Extends:d,initialize:function u(v,p,m,g,C){var M="png",b;if(s(p)){var w=p;p=o(w,"key"),m=o(w,"url"),b=o(w,"normalMap"),g=o(w,"xhrSettings"),M=o(w,"extension",M),C=o(w,"frameConfig")}Array.isArray(m)&&(b=m[1],m=m[0]);var R={type:"image",cache:v.textureManager,extension:M,responseType:"blob",key:p,url:m,xhrSettings:g,config:C};if(d.call(this,v,R),b){var A=new u(v,this.key,b,g,C);A.type="normalMap",this.setLink(A),v.addFile(A)}this.useImageElementLoad=v.imageLoadType==="HTMLImageElement"||this.base64,this.useImageElementLoad&&(this.load=this.loadImage,this.onProcess=this.onProcessImage)},onProcess:function(){this.state=x.FILE_PROCESSING,this.data=new Image,this.data.crossOrigin=this.crossOrigin;var u=this;this.data.onload=function(){d.revokeObjectURL(u.data),u.onProcessComplete()},this.data.onerror=function(){d.revokeObjectURL(u.data),u.onProcessError()},d.createObjectURL(this.data,this.xhrLoader.response,"image/png")},onProcessImage:function(){var u=this.state;this.state=x.FILE_PROCESSING,u===x.FILE_LOADED?this.onProcessComplete():this.onProcessError()},loadImage:function(){this.state=x.FILE_LOADING,this.src=f(this,this.loader.baseURL),this.data=new Image,this.data.crossOrigin=this.crossOrigin;var u=this;this.data.onload=function(){u.state=x.FILE_LOADED,u.loader.nextFile(u,!0)},this.data.onerror=function(){u.loader.nextFile(u,!1)},this.data.src=this.src},addToCache:function(){var u=this.linkFile;u?u.state>=x.FILE_COMPLETE&&(u.type==="spritesheet"?u.addToCache():this.type==="normalMap"?this.cache.addImage(this.key,u.data,this.data):this.cache.addImage(this.key,this.data,u.data)):this.cache.addImage(this.key,this.data)}});l.register("image",function(u,v,p){if(Array.isArray(u))for(var m=0;m<u.length;m++)this.addFile(new c(this,u[m]));else this.addFile(new c(this,u,v,p));return this}),n.exports=c},518:(n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=i(83419),x=i(23906),d=i(41299),l=i(74099),o=i(95540),s=i(35154),f=i(41212),c=new a({Extends:d,initialize:function(v,p,m,g,C){var M="json";if(f(p)){var b=p;p=o(b,"key"),m=o(b,"url"),g=o(b,"xhrSettings"),M=o(b,"extension",M),C=o(b,"dataKey",C)}var w={type:"json",cache:v.cacheManager.json,extension:M,responseType:"text",key:p,url:m,xhrSettings:g,config:C};d.call(this,v,w),f(m)&&(C?this.data=s(m,C):this.data=m,this.state=x.FILE_POPULATED)},onProcess:function(){if(this.state!==x.FILE_POPULATED){this.state=x.FILE_PROCESSING;try{var u=JSON.parse(this.xhrLoader.responseText)}catch(p){throw this.onProcessError(),p}var v=this.config;typeof v=="string"?this.data=s(u,v,u):this.data=u}this.onProcessComplete()}});l.register("json",function(u,v,p,m){if(Array.isArray(u))for(var g=0;g<u.length;g++)this.addFile(new c(this,u[g]));else this.addFile(new c(this,u,v,m,p));return this}),n.exports=c},59327:(n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=i(83419),x=i(74099),d=i(95540),l=i(19550),o=i(41212),s=i(518),f=i(26430),c=new a({Extends:f,initialize:function(v,p,m,g,C,M,b){if(o(p)){var w=p;p=d(w,"key"),d(w,"url",!1)?m=d(w,"url"):m=d(w,"atlasURL"),M=d(w,"xhrSettings"),g=d(w,"path"),C=d(w,"baseURL"),b=d(w,"textureXhrSettings")}var R=new s(v,p,m,M);f.call(this,v,"multiatlas",p,[R]),this.config.path=g,this.config.baseURL=C,this.config.textureXhrSettings=b},onFileComplete:function(u){var v=this.files.indexOf(u);if(v!==-1&&(this.pending--,u.type==="json"&&u.data.hasOwnProperty("textures"))){var p=u.data.textures,m=this.config,g=this.loader,C=g.baseURL,M=g.path,b=g.prefix,w=d(m,"baseURL",this.baseURL),R=d(m,"path",this.path),A=d(m,"prefix",this.prefix),L=d(m,"textureXhrSettings");g.setBaseURL(w),g.setPath(R),g.setPrefix(A);for(var D=0;D<p.length;D++){var G=p[D].image,B="MA"+this.multiKeyIndex+"_"+G,I=new l(g,B,G,L);if(this.addToMultiFile(I),g.addFile(I),p[D].normalMap){var k=new l(g,B,p[D].normalMap,L);k.type="normalMap",I.setLink(k),this.addToMultiFile(k),g.addFile(k)}}g.setBaseURL(C),g.setPath(M),g.setPrefix(b)}},addToCache:function(){if(this.isReadyToProcess()){for(var u=this.files[0],v=[],p=[],m=[],g=1;g<this.files.length;g++){var C=this.files[g];if(C.type!=="normalMap")for(var M=C.key.indexOf("_"),b=C.key.substr(M+1),w=C.data,R=0;R<u.data.textures.length;R++){var A=u.data.textures[R];if(A.image===b){p.push(w),v.push(A),C.linkFile&&m.push(C.linkFile.data);break}}}m.length===0&&(m=void 0),this.loader.textureManager.addAtlasJSONArray(this.key,p,v,m),this.complete=!0}}});x.register("multiatlas",function(u,v,p,m,g){var C;if(Array.isArray(u))for(var M=0;M<u.length;M++)C=new c(this,u[M]),this.addFile(C.files);else C=new c(this,u,v,p,m,g),this.addFile(C.files);return this}),n.exports=c},99297:(n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=i(83419),x=i(74099),d=i(95540),l=i(41212),o=i(26430),s=i(34328),f=new a({Extends:o,initialize:function(u,v,p,m){var g="js",C=[];if(l(v)){var M=v;v=d(M,"key"),p=d(M,"url"),m=d(M,"xhrSettings"),g=d(M,"extension",g)}Array.isArray(p)||(p=[p]);for(var b=0;b<p.length;b++){var w=new s(u,{key:v+"_"+b.toString(),url:p[b],extension:g,xhrSettings:m});w.onProcess=function(){this.onProcessComplete()},C.push(w)}o.call(this,u,"scripts",v,C)},addToCache:function(){if(this.isReadyToProcess()){for(var c=0;c<this.files.length;c++){var u=this.files[c];u.data=document.createElement("script"),u.data.language="javascript",u.data.type="text/javascript",u.data.defer=!1,u.data.text=u.xhrLoader.responseText,document.head.appendChild(u.data)}this.complete=!0}}});x.register("scripts",function(c,u,v){var p;if(Array.isArray(c))for(var m=0;m<c.length;m++)p=new f(this,c[m]),this.addFile(p.files);else p=new f(this,c,u,v),this.addFile(p.files);return this}),n.exports=f},41846:(n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=i(83419),x=i(74099),d=i(95540),l=i(41212),o=i(26430),s=i(85048),f=i(61485),c=i(78776),u=new a({Extends:o,initialize:function(p,m,g,C,M,b){var w,R,A=p.cacheManager.obj;if(l(m)){var L=m;m=d(L,"key"),w=new c(p,{key:m,type:"obj",cache:A,url:d(L,"url"),extension:d(L,"extension","obj"),xhrSettings:d(L,"xhrSettings"),config:{flipUV:d(L,"flipUV",M)}}),C=d(L,"matURL"),C&&(R=new c(p,{key:m,type:"mat",cache:A,url:C,extension:d(L,"matExtension","mat"),xhrSettings:d(L,"xhrSettings")}))}else w=new c(p,{key:m,url:g,type:"obj",cache:A,extension:"obj",xhrSettings:b,config:{flipUV:M}}),C&&(R=new c(p,{key:m,url:C,type:"mat",cache:A,extension:"mat",xhrSettings:b}));o.call(this,p,"obj",m,[w,R])},addToCache:function(){if(this.isReadyToProcess()){var v=this.files[0],p=this.files[1],m=s(v.data,v.config.flipUV);p&&(m.materials=f(p.data)),v.cache.add(v.key,m),this.complete=!0}}});x.register("obj",function(v,p,m,g,C){var M;if(Array.isArray(v))for(var b=0;b<v.length;b++)M=new u(this,v[b]),this.addFile(M.files);else M=new u(this,v,p,m,g,C),this.addFile(M.files);return this}),n.exports=u},58610:(n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=i(83419),x=i(23906),d=i(74099),l=i(518),o=new a({Extends:l,initialize:function(f,c,u,v,p){l.call(this,f,c,u,v,p),this.type="packfile"},onProcess:function(){if(this.state!==x.FILE_POPULATED&&(this.state=x.FILE_PROCESSING,this.data=JSON.parse(this.xhrLoader.responseText)),this.data.hasOwnProperty("files")&&this.config){var s={};s[this.config]=this.data,this.data=s}this.loader.addPack(this.data,this.config),this.onProcessComplete()}});d.register("pack",function(s,f,c,u){if(Array.isArray(s))for(var v=0;v<s.length;v++)this.addFile(new o(this,s[v]));else this.addFile(new o(this,s,f,u,c));return this}),n.exports=o},48988:(n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=i(83419),x=i(23906),d=i(41299),l=i(74099),o=i(95540),s=i(41212),f=new a({Extends:d,initialize:function(u,v,p,m,g,C){var M="js";if(s(v)){var b=v;v=o(b,"key"),p=o(b,"url"),C=o(b,"xhrSettings"),M=o(b,"extension",M),m=o(b,"start"),g=o(b,"mapping")}var w={type:"plugin",cache:!1,extension:M,responseType:"text",key:v,url:p,xhrSettings:C,config:{start:m,mapping:g}};d.call(this,u,w),typeof p=="function"&&(this.data=p,this.state=x.FILE_POPULATED)},onProcess:function(){var c=this.loader.systems.plugins,u=this.config,v=o(u,"start",!1),p=o(u,"mapping",null);if(this.state===x.FILE_POPULATED)c.install(this.key,this.data,v,p);else{this.state=x.FILE_PROCESSING,this.data=document.createElement("script"),this.data.language="javascript",this.data.type="text/javascript",this.data.defer=!1,this.data.text=this.xhrLoader.responseText,document.head.appendChild(this.data);var m=c.install(this.key,window[this.key],v,p);(v||p)&&(this.loader.systems[p]=m,this.loader.scene[p]=m)}this.onProcessComplete()}});l.register("plugin",function(c,u,v,p,m){if(Array.isArray(c))for(var g=0;g<c.length;g++)this.addFile(new f(this,c[g]));else this.addFile(new f(this,c,u,v,p,m));return this}),n.exports=f},67397:(n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=i(83419),x=i(23906),d=i(41299),l=i(74099),o=i(95540),s=i(41212),f=new a({Extends:d,initialize:function(u,v,p,m,g){var C="svg";if(s(v)){var M=v;v=o(M,"key"),p=o(M,"url"),m=o(M,"svgConfig",{}),g=o(M,"xhrSettings"),C=o(M,"extension",C)}var b={type:"svg",cache:u.textureManager,extension:C,responseType:"text",key:v,url:p,xhrSettings:g,config:{width:o(m,"width"),height:o(m,"height"),scale:o(m,"scale")}};d.call(this,u,b)},onProcess:function(){this.state=x.FILE_PROCESSING;var c=this.xhrLoader.responseText,u=[c],v=this.config.width,p=this.config.height,m=this.config.scale;t:if(v&&p||m){var g=null,C=new DOMParser;g=C.parseFromString(c,"text/xml");var M=g.getElementsByTagName("svg")[0],b=M.hasAttribute("viewBox"),w=parseFloat(M.getAttribute("width")),R=parseFloat(M.getAttribute("height"));if(!b&&w&&R)M.setAttribute("viewBox","0  0 "+w+" "+R);else if(b&&!w&&!R){var A=M.getAttribute("viewBox").split(/\s+|,/);w=A[2],R=A[3]}if(m)if(w&&R)v=w*m,p=R*m;else break t;M.setAttribute("width",v.toString()+"px"),M.setAttribute("height",p.toString()+"px"),u=[new XMLSerializer().serializeToString(M)]}try{var L=new window.Blob(u,{type:"image/svg+xml;charset=utf-8"})}catch{this.onProcessError();return}this.data=new Image,this.data.crossOrigin=this.crossOrigin;var D=this,G=!1;this.data.onload=function(){G||d.revokeObjectURL(D.data),D.onProcessComplete()},this.data.onerror=function(){G?D.onProcessError():(G=!0,d.revokeObjectURL(D.data),D.data.src="data:image/svg+xml,"+encodeURIComponent(u.join("")))},d.createObjectURL(this.data,L,"image/svg+xml")},addToCache:function(){this.cache.addImage(this.key,this.data)}});l.register("svg",function(c,u,v,p){if(Array.isArray(c))for(var m=0;m<c.length;m++)this.addFile(new f(this,c[m]));else this.addFile(new f(this,c,u,v,p));return this}),n.exports=f},88423:(n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=i(83419),x=i(23906),d=i(41299),l=i(74099),o=i(95540),s=i(41212),f=new a({Extends:d,initialize:function(u,v,p,m){var g="js";if(s(v)){var C=v;v=o(C,"key"),p=o(C,"url"),m=o(C,"xhrSettings"),g=o(C,"extension",g)}var M={type:"text",extension:g,responseType:"text",key:v,url:p,xhrSettings:m};d.call(this,u,M)},onProcess:function(){this.state=x.FILE_PROCESSING,this.data=this.xhrLoader.responseText,this.onProcessComplete()},addToCache:function(){var c=this.data.concat(`(function(){
return new `+this.key+`();
}).call(this);`),u=eval;this.loader.sceneManager.add(this.key,u(c)),this.complete=!0}});l.register("sceneFile",function(c,u,v){if(Array.isArray(c))for(var p=0;p<c.length;p++)this.addFile(new f(this,c[p]));else this.addFile(new f(this,c,u,v));return this}),n.exports=f},56812:(n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=i(83419),x=i(23906),d=i(41299),l=i(74099),o=i(95540),s=i(41212),f=new a({Extends:d,initialize:function(u,v,p,m,g,C){var M="js";if(s(v)){var b=v;v=o(b,"key"),p=o(b,"url"),C=o(b,"xhrSettings"),M=o(b,"extension",M),m=o(b,"systemKey"),g=o(b,"sceneKey")}var w={type:"scenePlugin",cache:!1,extension:M,responseType:"text",key:v,url:p,xhrSettings:C,config:{systemKey:m,sceneKey:g}};d.call(this,u,w),typeof p=="function"&&(this.data=p,this.state=x.FILE_POPULATED)},onProcess:function(){var c=this.loader.systems.plugins,u=this.config,v=this.key,p=o(u,"systemKey",v),m=o(u,"sceneKey",v);this.state===x.FILE_POPULATED?c.installScenePlugin(p,this.data,m,this.loader.scene,!0):(this.state=x.FILE_PROCESSING,this.data=document.createElement("script"),this.data.language="javascript",this.data.type="text/javascript",this.data.defer=!1,this.data.text=this.xhrLoader.responseText,document.head.appendChild(this.data),c.installScenePlugin(p,window[this.key],m,this.loader.scene,!0)),this.onProcessComplete()}});l.register("scenePlugin",function(c,u,v,p,m){if(Array.isArray(c))for(var g=0;g<c.length;g++)this.addFile(new f(this,c[g]));else this.addFile(new f(this,c,u,v,p,m));return this}),n.exports=f},34328:(n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=i(83419),x=i(23906),d=i(41299),l=i(74099),o=i(95540),s=i(41212),f=new a({Extends:d,initialize:function(u,v,p,m,g){var C="js";if(s(v)){var M=v;v=o(M,"key"),p=o(M,"url"),m=o(M,"type","script"),g=o(M,"xhrSettings"),C=o(M,"extension",C)}else m===void 0&&(m="script");var b={type:m,cache:!1,extension:C,responseType:"text",key:v,url:p,xhrSettings:g};d.call(this,u,b)},onProcess:function(){this.state=x.FILE_PROCESSING,this.data=document.createElement("script"),this.data.language="javascript",this.data.type="text/javascript",this.data.defer=!1,this.data.text=this.xhrLoader.responseText,document.head.appendChild(this.data),this.onProcessComplete()}});l.register("script",function(c,u,v,p){if(Array.isArray(c))for(var m=0;m<c.length;m++)this.addFile(new f(this,c[m]));else this.addFile(new f(this,c,u,v,p));return this}),n.exports=f},85035:(n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=i(83419),x=i(23906),d=i(74099),l=i(19550),o=new a({Extends:l,initialize:function(f,c,u,v,p){l.call(this,f,c,u,p,v),this.type="spritesheet"},addToCache:function(){var s=this.linkFile;s?s.state>=x.FILE_COMPLETE&&(this.type==="normalMap"?this.cache.addSpriteSheet(this.key,s.data,this.config,this.data):this.cache.addSpriteSheet(this.key,this.data,this.config,s.data)):this.cache.addSpriteSheet(this.key,this.data,this.config)}});d.register("spritesheet",function(s,f,c,u){if(Array.isArray(s))for(var v=0;v<s.length;v++)this.addFile(new o(this,s[v]));else this.addFile(new o(this,s,f,c,u));return this}),n.exports=o},78776:(n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=i(83419),x=i(23906),d=i(41299),l=i(74099),o=i(95540),s=i(41212),f=new a({Extends:d,initialize:function(u,v,p,m){var g="text",C="txt",M=u.cacheManager.text;if(s(v)){var b=v;v=o(b,"key"),p=o(b,"url"),m=o(b,"xhrSettings"),C=o(b,"extension",C),g=o(b,"type",g),M=o(b,"cache",M)}var w={type:g,cache:M,extension:C,responseType:"text",key:v,url:p,xhrSettings:m};d.call(this,u,w)},onProcess:function(){this.state=x.FILE_PROCESSING,this.data=this.xhrLoader.responseText,this.onProcessComplete()}});l.register("text",function(c,u,v){if(Array.isArray(c))for(var p=0;p<c.length;p++)this.addFile(new f(this,c[p]));else this.addFile(new f(this,c,u,v));return this}),n.exports=f},49477:(n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=i(83419),x=i(23906),d=i(41299),l=i(74099),o=i(95540),s=i(41212),f=i(80341),c=new a({Extends:d,initialize:function(v,p,m,g){var C="csv";if(s(p)){var M=p;p=o(M,"key"),m=o(M,"url"),g=o(M,"xhrSettings"),C=o(M,"extension",C)}var b={type:"tilemapCSV",cache:v.cacheManager.tilemap,extension:C,responseType:"text",key:p,url:m,xhrSettings:g};d.call(this,v,b),this.tilemapFormat=f.CSV},onProcess:function(){this.state=x.FILE_PROCESSING,this.data=this.xhrLoader.responseText,this.onProcessComplete()},addToCache:function(){var u={format:this.tilemapFormat,data:this.data};this.cache.add(this.key,u)}});l.register("tilemapCSV",function(u,v,p){if(Array.isArray(u))for(var m=0;m<u.length;m++)this.addFile(new c(this,u[m]));else this.addFile(new c(this,u,v,p));return this}),n.exports=c},40807:(n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=i(83419),x=i(74099),d=i(518),l=i(80341),o=new a({Extends:d,initialize:function(f,c,u,v){d.call(this,f,c,u,v),this.type="tilemapJSON",this.cache=f.cacheManager.tilemap},addToCache:function(){var s={format:l.WELTMEISTER,data:this.data};this.cache.add(this.key,s)}});x.register("tilemapImpact",function(s,f,c){if(Array.isArray(s))for(var u=0;u<s.length;u++)this.addFile(new o(this,s[u]));else this.addFile(new o(this,s,f,c));return this}),n.exports=o},56775:(n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=i(83419),x=i(74099),d=i(518),l=i(80341),o=new a({Extends:d,initialize:function(f,c,u,v){d.call(this,f,c,u,v),this.type="tilemapJSON",this.cache=f.cacheManager.tilemap},addToCache:function(){var s={format:l.TILED_JSON,data:this.data};this.cache.add(this.key,s)}});x.register("tilemapTiledJSON",function(s,f,c){if(Array.isArray(s))for(var u=0;u<s.length;u++)this.addFile(new o(this,s[u]));else this.addFile(new o(this,s,f,c));return this}),n.exports=o},25771:(n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=i(83419),x=i(74099),d=i(95540),l=i(19550),o=i(41212),s=i(26430),f=i(78776),c=new a({Extends:s,initialize:function(v,p,m,g,C,M){var b,w;if(o(p)){var R=p;p=d(R,"key"),b=new l(v,{key:p,url:d(R,"textureURL"),extension:d(R,"textureExtension","png"),normalMap:d(R,"normalMap"),xhrSettings:d(R,"textureXhrSettings")}),w=new f(v,{key:p,url:d(R,"atlasURL"),extension:d(R,"atlasExtension","txt"),xhrSettings:d(R,"atlasXhrSettings")})}else b=new l(v,p,m,C),w=new f(v,p,g,M);b.linkFile?s.call(this,v,"unityatlas",p,[b,w,b.linkFile]):s.call(this,v,"unityatlas",p,[b,w])},addToCache:function(){if(this.isReadyToProcess()){var u=this.files[0],v=this.files[1],p=this.files[2]?this.files[2].data:null;this.loader.textureManager.addUnityAtlas(u.key,u.data,v.data,p),this.complete=!0}}});x.register("unityAtlas",function(u,v,p,m,g){var C;if(Array.isArray(u))for(var M=0;M<u.length;M++)C=new c(this,u[M]),this.addFile(C.files);else C=new c(this,u,v,p,m,g),this.addFile(C.files);return this}),n.exports=c},33720:(n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=i(83419),x=i(23906),d=i(41299),l=i(74099),o=i(98356),s=i(95540),f=i(41212),c=new a({Extends:d,initialize:function(v,p,m,g){if(g===void 0&&(g=!1),f(p)){var C=p;p=s(C,"key"),m=s(C,"url",[]),g=s(C,"noAudio",!1)}var M=v.systems.game.device.video.getVideoURL(m);M||console.warn("VideoFile: No supported format for "+p);var b={type:"video",cache:v.cacheManager.video,extension:M.type,key:p,url:M.url,config:{noAudio:g}};d.call(this,v,b)},onProcess:function(){this.data={url:this.src,noAudio:this.config.noAudio,crossOrigin:this.crossOrigin},this.onProcessComplete()},load:function(){this.src=o(this,this.loader.baseURL),this.state=x.FILE_LOADED,this.loader.nextFile(this,!0)}});l.register("video",function(u,v,p){if(Array.isArray(u))for(var m=0;m<u.length;m++)this.addFile(new c(this,u[m]));else this.addFile(new c(this,u,v,p));return this}),n.exports=c},57318:(n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=i(83419),x=i(23906),d=i(41299),l=i(74099),o=i(95540),s=i(41212),f=i(56836),c=new a({Extends:d,initialize:function(v,p,m,g){var C="xml";if(s(p)){var M=p;p=o(M,"key"),m=o(M,"url"),g=o(M,"xhrSettings"),C=o(M,"extension",C)}var b={type:"xml",cache:v.cacheManager.xml,extension:C,responseType:"text",key:p,url:m,xhrSettings:g};d.call(this,v,b)},onProcess:function(){this.state=x.FILE_PROCESSING,this.data=f(this.xhrLoader.responseText),this.data?this.onProcessComplete():this.onProcessError()}});l.register("xml",function(u,v,p){if(Array.isArray(u))for(var m=0;m<u.length;m++)this.addFile(new c(this,u[m]));else this.addFile(new c(this,u,v,p));return this}),n.exports=c},64589:(n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports={AnimationJSONFile:i(14135),AsepriteFile:i(76272),AtlasJSONFile:i(38734),AtlasXMLFile:i(74599),AudioFile:i(21097),AudioSpriteFile:i(89524),BinaryFile:i(85722),BitmapFontFile:i(97025),CompressedTextureFile:i(69559),CSSFile:i(16024),FontFile:i(87674),GLSLFile:i(47931),HTML5AudioFile:i(89749),HTMLFile:i(88470),HTMLTextureFile:i(14643),ImageFile:i(19550),JSONFile:i(518),MultiAtlasFile:i(59327),MultiScriptFile:i(99297),OBJFile:i(41846),PackFile:i(58610),PluginFile:i(48988),SceneFile:i(88423),ScenePluginFile:i(56812),ScriptFile:i(34328),SpriteSheetFile:i(85035),SVGFile:i(67397),TextFile:i(78776),TilemapCSVFile:i(49477),TilemapImpactFile:i(40807),TilemapJSONFile:i(56775),UnityAtlasFile:i(25771),VideoFile:i(33720),XMLFile:i(57318)}},57777:(n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=i(23906),x=i(79291),d={Events:i(54899),FileTypes:i(64589),File:i(41299),FileTypesManager:i(74099),GetURL:i(98356),LoaderPlugin:i(74261),MergeXHRSettings:i(3374),MultiFile:i(26430),XHRLoader:i(84376),XHRSettings:i(92638)};d=x(!1,d,a),n.exports=d},53307:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(i){for(var a=0,x=0;x<i.length;x++)a+=+i[x];return a/i.length};n.exports=T},85710:(n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=i(6411),x=function(d,l){return a(d)/a(l)/a(d-l)};n.exports=x},30976:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(i,a){return Math.floor(Math.random()*(a-i+1)+i)};n.exports=T},87842:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(i,a,x,d,l){var o=(d-a)*.5,s=(l-x)*.5,f=i*i,c=i*f;return(2*x-2*d+o+s)*c+(-3*x+3*d-2*o-s)*f+o*i+x};n.exports=T},26302:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(i,a,x){a===void 0&&(a=0),x===void 0&&(x=10);var d=Math.pow(x,-a);return Math.ceil(i*d)/d};n.exports=T},45319:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(i,a,x){return Math.max(a,Math.min(x,i))};n.exports=T},39506:(n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=i(36383),x=function(d){return d*a.DEG_TO_RAD};n.exports=x},61241:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(i,a){return Math.abs(i-a)};n.exports=T},38857:(n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=i(45319),x=i(83419),d=i(37867),l=i(29747),o=new d,s=new x({initialize:function f(c,u,v,p){c===void 0&&(c=0),u===void 0&&(u=0),v===void 0&&(v=0),p===void 0&&(p=f.DefaultOrder),this._x=c,this._y=u,this._z=v,this._order=p,this.onChangeCallback=l},x:{get:function(){return this._x},set:function(f){this._x=f,this.onChangeCallback(this)}},y:{get:function(){return this._y},set:function(f){this._y=f,this.onChangeCallback(this)}},z:{get:function(){return this._z},set:function(f){this._z=f,this.onChangeCallback(this)}},order:{get:function(){return this._order},set:function(f){this._order=f,this.onChangeCallback(this)}},set:function(f,c,u,v){return v===void 0&&(v=this._order),this._x=f,this._y=c,this._z=u,this._order=v,this.onChangeCallback(this),this},copy:function(f){return this.set(f.x,f.y,f.z,f.order)},setFromQuaternion:function(f,c,u){return c===void 0&&(c=this._order),u===void 0&&(u=!1),o.fromQuat(f),this.setFromRotationMatrix(o,c,u)},setFromRotationMatrix:function(f,c,u){c===void 0&&(c=this._order),u===void 0&&(u=!1);var v=f.val,p=v[0],m=v[4],g=v[8],C=v[1],M=v[5],b=v[9],w=v[2],R=v[6],A=v[10],L=0,D=0,G=0,B=.99999;switch(c){case"XYZ":{D=Math.asin(a(g,-1,1)),Math.abs(g)<B?(L=Math.atan2(-b,A),G=Math.atan2(-m,p)):L=Math.atan2(R,M);break}case"YXZ":{L=Math.asin(-a(b,-1,1)),Math.abs(b)<B?(D=Math.atan2(g,A),G=Math.atan2(C,M)):D=Math.atan2(-w,p);break}case"ZXY":{L=Math.asin(a(R,-1,1)),Math.abs(R)<B?(D=Math.atan2(-w,A),G=Math.atan2(-m,M)):G=Math.atan2(C,p);break}case"ZYX":{D=Math.asin(-a(w,-1,1)),Math.abs(w)<B?(L=Math.atan2(R,A),G=Math.atan2(C,p)):G=Math.atan2(-m,M);break}case"YZX":{G=Math.asin(a(C,-1,1)),Math.abs(C)<B?(L=Math.atan2(-b,M),D=Math.atan2(-w,p)):D=Math.atan2(g,A);break}case"XZY":{G=Math.asin(-a(m,-1,1)),Math.abs(m)<B?(L=Math.atan2(R,M),D=Math.atan2(g,p)):L=Math.atan2(-b,A);break}}return this._x=L,this._y=D,this._z=G,this._order=c,u&&this.onChangeCallback(this),this}});s.RotationOrders=["XYZ","YXZ","ZXY","ZYX","YZX","XZY"],s.DefaultOrder="XYZ",n.exports=s},6411:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(i){if(i===0)return 1;for(var a=i;--i;)a*=i;return a};n.exports=T},99472:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(i,a){return Math.random()*(a-i)+i};n.exports=T},77623:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(i,a,x){a===void 0&&(a=0),x===void 0&&(x=10);var d=Math.pow(x,-a);return Math.floor(i*d)/d};n.exports=T},62945:(n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=i(45319),x=function(d,l,o){return d=a(d,0,1),(o-l)*d+l};n.exports=x},38265:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(i,a){return i/a/1e3};n.exports=T},78702:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(i){return i==parseFloat(i)?!(i%2):void 0};n.exports=T},94883:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(i){return i===parseFloat(i)?!(i%2):void 0};n.exports=T},28915:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(i,a,x){return(a-i)*x+i};n.exports=T},94908:n=>{/**
 * @author       Greg McLean <GregDevProjects>
 * @copyright    2021 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(i,a,x){return x===void 0&&(x=0),i.clone().lerp(a,x)};n.exports=T},94434:(n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=i(83419),x=new a({initialize:function(l){this.val=new Float32Array(9),l?this.copy(l):this.identity()},clone:function(){return new x(this)},set:function(d){return this.copy(d)},copy:function(d){var l=this.val,o=d.val;return l[0]=o[0],l[1]=o[1],l[2]=o[2],l[3]=o[3],l[4]=o[4],l[5]=o[5],l[6]=o[6],l[7]=o[7],l[8]=o[8],this},fromMat4:function(d){var l=d.val,o=this.val;return o[0]=l[0],o[1]=l[1],o[2]=l[2],o[3]=l[4],o[4]=l[5],o[5]=l[6],o[6]=l[8],o[7]=l[9],o[8]=l[10],this},fromArray:function(d){var l=this.val;return l[0]=d[0],l[1]=d[1],l[2]=d[2],l[3]=d[3],l[4]=d[4],l[5]=d[5],l[6]=d[6],l[7]=d[7],l[8]=d[8],this},identity:function(){var d=this.val;return d[0]=1,d[1]=0,d[2]=0,d[3]=0,d[4]=1,d[5]=0,d[6]=0,d[7]=0,d[8]=1,this},transpose:function(){var d=this.val,l=d[1],o=d[2],s=d[5];return d[1]=d[3],d[2]=d[6],d[3]=l,d[5]=d[7],d[6]=o,d[7]=s,this},invert:function(){var d=this.val,l=d[0],o=d[1],s=d[2],f=d[3],c=d[4],u=d[5],v=d[6],p=d[7],m=d[8],g=m*c-u*p,C=-m*f+u*v,M=p*f-c*v,b=l*g+o*C+s*M;return b?(b=1/b,d[0]=g*b,d[1]=(-m*o+s*p)*b,d[2]=(u*o-s*c)*b,d[3]=C*b,d[4]=(m*l-s*v)*b,d[5]=(-u*l+s*f)*b,d[6]=M*b,d[7]=(-p*l+o*v)*b,d[8]=(c*l-o*f)*b,this):null},adjoint:function(){var d=this.val,l=d[0],o=d[1],s=d[2],f=d[3],c=d[4],u=d[5],v=d[6],p=d[7],m=d[8];return d[0]=c*m-u*p,d[1]=s*p-o*m,d[2]=o*u-s*c,d[3]=u*v-f*m,d[4]=l*m-s*v,d[5]=s*f-l*u,d[6]=f*p-c*v,d[7]=o*v-l*p,d[8]=l*c-o*f,this},determinant:function(){var d=this.val,l=d[0],o=d[1],s=d[2],f=d[3],c=d[4],u=d[5],v=d[6],p=d[7],m=d[8];return l*(m*c-u*p)+o*(-m*f+u*v)+s*(p*f-c*v)},multiply:function(d){var l=this.val,o=l[0],s=l[1],f=l[2],c=l[3],u=l[4],v=l[5],p=l[6],m=l[7],g=l[8],C=d.val,M=C[0],b=C[1],w=C[2],R=C[3],A=C[4],L=C[5],D=C[6],G=C[7],B=C[8];return l[0]=M*o+b*c+w*p,l[1]=M*s+b*u+w*m,l[2]=M*f+b*v+w*g,l[3]=R*o+A*c+L*p,l[4]=R*s+A*u+L*m,l[5]=R*f+A*v+L*g,l[6]=D*o+G*c+B*p,l[7]=D*s+G*u+B*m,l[8]=D*f+G*v+B*g,this},translate:function(d){var l=this.val,o=d.x,s=d.y;return l[6]=o*l[0]+s*l[3]+l[6],l[7]=o*l[1]+s*l[4]+l[7],l[8]=o*l[2]+s*l[5]+l[8],this},rotate:function(d){var l=this.val,o=l[0],s=l[1],f=l[2],c=l[3],u=l[4],v=l[5],p=Math.sin(d),m=Math.cos(d);return l[0]=m*o+p*c,l[1]=m*s+p*u,l[2]=m*f+p*v,l[3]=m*c-p*o,l[4]=m*u-p*s,l[5]=m*v-p*f,this},scale:function(d){var l=this.val,o=d.x,s=d.y;return l[0]=o*l[0],l[1]=o*l[1],l[2]=o*l[2],l[3]=s*l[3],l[4]=s*l[4],l[5]=s*l[5],this},fromQuat:function(d){var l=d.x,o=d.y,s=d.z,f=d.w,c=l+l,u=o+o,v=s+s,p=l*c,m=l*u,g=l*v,C=o*u,M=o*v,b=s*v,w=f*c,R=f*u,A=f*v,L=this.val;return L[0]=1-(C+b),L[3]=m+A,L[6]=g-R,L[1]=m-A,L[4]=1-(p+b),L[7]=M+w,L[2]=g+R,L[5]=M-w,L[8]=1-(p+C),this},normalFromMat4:function(d){var l=d.val,o=this.val,s=l[0],f=l[1],c=l[2],u=l[3],v=l[4],p=l[5],m=l[6],g=l[7],C=l[8],M=l[9],b=l[10],w=l[11],R=l[12],A=l[13],L=l[14],D=l[15],G=s*p-f*v,B=s*m-c*v,I=s*g-u*v,k=f*m-c*p,z=f*g-u*p,X=c*g-u*m,H=C*A-M*R,Q=C*L-b*R,J=C*D-w*R,Y=M*L-b*A,$=M*D-w*A,V=b*D-w*L,U=G*V-B*$+I*Y+k*J-z*Q+X*H;return U?(U=1/U,o[0]=(p*V-m*$+g*Y)*U,o[1]=(m*J-v*V-g*Q)*U,o[2]=(v*$-p*J+g*H)*U,o[3]=(c*$-f*V-u*Y)*U,o[4]=(s*V-c*J+u*Q)*U,o[5]=(f*J-s*$-u*H)*U,o[6]=(A*X-L*z+D*k)*U,o[7]=(L*I-R*X-D*B)*U,o[8]=(R*z-A*I+D*G)*U,this):null}});n.exports=x},37867:(n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=i(83419),x=i(25836),d=1e-6,l=new a({initialize:function(p){this.val=new Float32Array(16),p?this.copy(p):this.identity()},clone:function(){return new l(this)},set:function(v){return this.copy(v)},setValues:function(v,p,m,g,C,M,b,w,R,A,L,D,G,B,I,k){var z=this.val;return z[0]=v,z[1]=p,z[2]=m,z[3]=g,z[4]=C,z[5]=M,z[6]=b,z[7]=w,z[8]=R,z[9]=A,z[10]=L,z[11]=D,z[12]=G,z[13]=B,z[14]=I,z[15]=k,this},copy:function(v){var p=v.val;return this.setValues(p[0],p[1],p[2],p[3],p[4],p[5],p[6],p[7],p[8],p[9],p[10],p[11],p[12],p[13],p[14],p[15])},fromArray:function(v){return this.setValues(v[0],v[1],v[2],v[3],v[4],v[5],v[6],v[7],v[8],v[9],v[10],v[11],v[12],v[13],v[14],v[15])},zero:function(){return this.setValues(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0)},transform:function(v,p,m){var g=o.fromQuat(m),C=g.val,M=p.x,b=p.y,w=p.z;return this.setValues(C[0]*M,C[1]*M,C[2]*M,0,C[4]*b,C[5]*b,C[6]*b,0,C[8]*w,C[9]*w,C[10]*w,0,v.x,v.y,v.z,1)},xyz:function(v,p,m){this.identity();var g=this.val;return g[12]=v,g[13]=p,g[14]=m,this},scaling:function(v,p,m){this.zero();var g=this.val;return g[0]=v,g[5]=p,g[10]=m,g[15]=1,this},identity:function(){return this.setValues(1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1)},transpose:function(){var v=this.val,p=v[1],m=v[2],g=v[3],C=v[6],M=v[7],b=v[11];return v[1]=v[4],v[2]=v[8],v[3]=v[12],v[4]=p,v[6]=v[9],v[7]=v[13],v[8]=m,v[9]=C,v[11]=v[14],v[12]=g,v[13]=M,v[14]=b,this},getInverse:function(v){return this.copy(v),this.invert()},invert:function(){var v=this.val,p=v[0],m=v[1],g=v[2],C=v[3],M=v[4],b=v[5],w=v[6],R=v[7],A=v[8],L=v[9],D=v[10],G=v[11],B=v[12],I=v[13],k=v[14],z=v[15],X=p*b-m*M,H=p*w-g*M,Q=p*R-C*M,J=m*w-g*b,Y=m*R-C*b,$=g*R-C*w,V=A*I-L*B,U=A*k-D*B,K=A*z-G*B,j=L*k-D*I,_=L*z-G*I,tt=D*z-G*k,rt=X*tt-H*_+Q*j+J*K-Y*U+$*V;return rt?(rt=1/rt,this.setValues((b*tt-w*_+R*j)*rt,(g*_-m*tt-C*j)*rt,(I*$-k*Y+z*J)*rt,(D*Y-L*$-G*J)*rt,(w*K-M*tt-R*U)*rt,(p*tt-g*K+C*U)*rt,(k*Q-B*$-z*H)*rt,(A*$-D*Q+G*H)*rt,(M*_-b*K+R*V)*rt,(m*K-p*_-C*V)*rt,(B*Y-I*Q+z*X)*rt,(L*Q-A*Y-G*X)*rt,(b*U-M*j-w*V)*rt,(p*j-m*U+g*V)*rt,(I*H-B*J-k*X)*rt,(A*J-L*H+D*X)*rt)):this},adjoint:function(){var v=this.val,p=v[0],m=v[1],g=v[2],C=v[3],M=v[4],b=v[5],w=v[6],R=v[7],A=v[8],L=v[9],D=v[10],G=v[11],B=v[12],I=v[13],k=v[14],z=v[15];return this.setValues(b*(D*z-G*k)-L*(w*z-R*k)+I*(w*G-R*D),-(m*(D*z-G*k)-L*(g*z-C*k)+I*(g*G-C*D)),m*(w*z-R*k)-b*(g*z-C*k)+I*(g*R-C*w),-(m*(w*G-R*D)-b*(g*G-C*D)+L*(g*R-C*w)),-(M*(D*z-G*k)-A*(w*z-R*k)+B*(w*G-R*D)),p*(D*z-G*k)-A*(g*z-C*k)+B*(g*G-C*D),-(p*(w*z-R*k)-M*(g*z-C*k)+B*(g*R-C*w)),p*(w*G-R*D)-M*(g*G-C*D)+A*(g*R-C*w),M*(L*z-G*I)-A*(b*z-R*I)+B*(b*G-R*L),-(p*(L*z-G*I)-A*(m*z-C*I)+B*(m*G-C*L)),p*(b*z-R*I)-M*(m*z-C*I)+B*(m*R-C*b),-(p*(b*G-R*L)-M*(m*G-C*L)+A*(m*R-C*b)),-(M*(L*k-D*I)-A*(b*k-w*I)+B*(b*D-w*L)),p*(L*k-D*I)-A*(m*k-g*I)+B*(m*D-g*L),-(p*(b*k-w*I)-M*(m*k-g*I)+B*(m*w-g*b)),p*(b*D-w*L)-M*(m*D-g*L)+A*(m*w-g*b))},determinant:function(){var v=this.val,p=v[0],m=v[1],g=v[2],C=v[3],M=v[4],b=v[5],w=v[6],R=v[7],A=v[8],L=v[9],D=v[10],G=v[11],B=v[12],I=v[13],k=v[14],z=v[15],X=p*b-m*M,H=p*w-g*M,Q=p*R-C*M,J=m*w-g*b,Y=m*R-C*b,$=g*R-C*w,V=A*I-L*B,U=A*k-D*B,K=A*z-G*B,j=L*k-D*I,_=L*z-G*I,tt=D*z-G*k;return X*tt-H*_+Q*j+J*K-Y*U+$*V},multiply:function(v){var p=this.val,m=p[0],g=p[1],C=p[2],M=p[3],b=p[4],w=p[5],R=p[6],A=p[7],L=p[8],D=p[9],G=p[10],B=p[11],I=p[12],k=p[13],z=p[14],X=p[15],H=v.val,Q=H[0],J=H[1],Y=H[2],$=H[3];return p[0]=Q*m+J*b+Y*L+$*I,p[1]=Q*g+J*w+Y*D+$*k,p[2]=Q*C+J*R+Y*G+$*z,p[3]=Q*M+J*A+Y*B+$*X,Q=H[4],J=H[5],Y=H[6],$=H[7],p[4]=Q*m+J*b+Y*L+$*I,p[5]=Q*g+J*w+Y*D+$*k,p[6]=Q*C+J*R+Y*G+$*z,p[7]=Q*M+J*A+Y*B+$*X,Q=H[8],J=H[9],Y=H[10],$=H[11],p[8]=Q*m+J*b+Y*L+$*I,p[9]=Q*g+J*w+Y*D+$*k,p[10]=Q*C+J*R+Y*G+$*z,p[11]=Q*M+J*A+Y*B+$*X,Q=H[12],J=H[13],Y=H[14],$=H[15],p[12]=Q*m+J*b+Y*L+$*I,p[13]=Q*g+J*w+Y*D+$*k,p[14]=Q*C+J*R+Y*G+$*z,p[15]=Q*M+J*A+Y*B+$*X,this},multiplyLocal:function(v){var p=this.val,m=v.val;return this.setValues(p[0]*m[0]+p[1]*m[4]+p[2]*m[8]+p[3]*m[12],p[0]*m[1]+p[1]*m[5]+p[2]*m[9]+p[3]*m[13],p[0]*m[2]+p[1]*m[6]+p[2]*m[10]+p[3]*m[14],p[0]*m[3]+p[1]*m[7]+p[2]*m[11]+p[3]*m[15],p[4]*m[0]+p[5]*m[4]+p[6]*m[8]+p[7]*m[12],p[4]*m[1]+p[5]*m[5]+p[6]*m[9]+p[7]*m[13],p[4]*m[2]+p[5]*m[6]+p[6]*m[10]+p[7]*m[14],p[4]*m[3]+p[5]*m[7]+p[6]*m[11]+p[7]*m[15],p[8]*m[0]+p[9]*m[4]+p[10]*m[8]+p[11]*m[12],p[8]*m[1]+p[9]*m[5]+p[10]*m[9]+p[11]*m[13],p[8]*m[2]+p[9]*m[6]+p[10]*m[10]+p[11]*m[14],p[8]*m[3]+p[9]*m[7]+p[10]*m[11]+p[11]*m[15],p[12]*m[0]+p[13]*m[4]+p[14]*m[8]+p[15]*m[12],p[12]*m[1]+p[13]*m[5]+p[14]*m[9]+p[15]*m[13],p[12]*m[2]+p[13]*m[6]+p[14]*m[10]+p[15]*m[14],p[12]*m[3]+p[13]*m[7]+p[14]*m[11]+p[15]*m[15])},premultiply:function(v){return this.multiplyMatrices(v,this)},multiplyMatrices:function(v,p){var m=v.val,g=p.val,C=m[0],M=m[4],b=m[8],w=m[12],R=m[1],A=m[5],L=m[9],D=m[13],G=m[2],B=m[6],I=m[10],k=m[14],z=m[3],X=m[7],H=m[11],Q=m[15],J=g[0],Y=g[4],$=g[8],V=g[12],U=g[1],K=g[5],j=g[9],_=g[13],tt=g[2],rt=g[6],ot=g[10],ft=g[14],ct=g[3],gt=g[7],yt=g[11],Mt=g[15];return this.setValues(C*J+M*U+b*tt+w*ct,R*J+A*U+L*tt+D*ct,G*J+B*U+I*tt+k*ct,z*J+X*U+H*tt+Q*ct,C*Y+M*K+b*rt+w*gt,R*Y+A*K+L*rt+D*gt,G*Y+B*K+I*rt+k*gt,z*Y+X*K+H*rt+Q*gt,C*$+M*j+b*ot+w*yt,R*$+A*j+L*ot+D*yt,G*$+B*j+I*ot+k*yt,z*$+X*j+H*ot+Q*yt,C*V+M*_+b*ft+w*Mt,R*V+A*_+L*ft+D*Mt,G*V+B*_+I*ft+k*Mt,z*V+X*_+H*ft+Q*Mt)},translate:function(v){return this.translateXYZ(v.x,v.y,v.z)},translateXYZ:function(v,p,m){var g=this.val;return g[12]=g[0]*v+g[4]*p+g[8]*m+g[12],g[13]=g[1]*v+g[5]*p+g[9]*m+g[13],g[14]=g[2]*v+g[6]*p+g[10]*m+g[14],g[15]=g[3]*v+g[7]*p+g[11]*m+g[15],this},scale:function(v){return this.scaleXYZ(v.x,v.y,v.z)},scaleXYZ:function(v,p,m){var g=this.val;return g[0]=g[0]*v,g[1]=g[1]*v,g[2]=g[2]*v,g[3]=g[3]*v,g[4]=g[4]*p,g[5]=g[5]*p,g[6]=g[6]*p,g[7]=g[7]*p,g[8]=g[8]*m,g[9]=g[9]*m,g[10]=g[10]*m,g[11]=g[11]*m,this},makeRotationAxis:function(v,p){var m=Math.cos(p),g=Math.sin(p),C=1-m,M=v.x,b=v.y,w=v.z,R=C*M,A=C*b;return this.setValues(R*M+m,R*b-g*w,R*w+g*b,0,R*b+g*w,A*b+m,A*w-g*M,0,R*w-g*b,A*w+g*M,C*w*w+m,0,0,0,0,1)},rotate:function(v,p){var m=this.val,g=p.x,C=p.y,M=p.z,b=Math.sqrt(g*g+C*C+M*M);if(Math.abs(b)<d)return this;b=1/b,g*=b,C*=b,M*=b;var w=Math.sin(v),R=Math.cos(v),A=1-R,L=m[0],D=m[1],G=m[2],B=m[3],I=m[4],k=m[5],z=m[6],X=m[7],H=m[8],Q=m[9],J=m[10],Y=m[11],$=m[12],V=m[13],U=m[14],K=m[15],j=g*g*A+R,_=C*g*A+M*w,tt=M*g*A-C*w,rt=g*C*A-M*w,ot=C*C*A+R,ft=M*C*A+g*w,ct=g*M*A+C*w,gt=C*M*A-g*w,yt=M*M*A+R;return this.setValues(L*j+I*_+H*tt,D*j+k*_+Q*tt,G*j+z*_+J*tt,B*j+X*_+Y*tt,L*rt+I*ot+H*ft,D*rt+k*ot+Q*ft,G*rt+z*ot+J*ft,B*rt+X*ot+Y*ft,L*ct+I*gt+H*yt,D*ct+k*gt+Q*yt,G*ct+z*gt+J*yt,B*ct+X*gt+Y*yt,$,V,U,K)},rotateX:function(v){var p=this.val,m=Math.sin(v),g=Math.cos(v),C=p[4],M=p[5],b=p[6],w=p[7],R=p[8],A=p[9],L=p[10],D=p[11];return p[4]=C*g+R*m,p[5]=M*g+A*m,p[6]=b*g+L*m,p[7]=w*g+D*m,p[8]=R*g-C*m,p[9]=A*g-M*m,p[10]=L*g-b*m,p[11]=D*g-w*m,this},rotateY:function(v){var p=this.val,m=Math.sin(v),g=Math.cos(v),C=p[0],M=p[1],b=p[2],w=p[3],R=p[8],A=p[9],L=p[10],D=p[11];return p[0]=C*g-R*m,p[1]=M*g-A*m,p[2]=b*g-L*m,p[3]=w*g-D*m,p[8]=C*m+R*g,p[9]=M*m+A*g,p[10]=b*m+L*g,p[11]=w*m+D*g,this},rotateZ:function(v){var p=this.val,m=Math.sin(v),g=Math.cos(v),C=p[0],M=p[1],b=p[2],w=p[3],R=p[4],A=p[5],L=p[6],D=p[7];return p[0]=C*g+R*m,p[1]=M*g+A*m,p[2]=b*g+L*m,p[3]=w*g+D*m,p[4]=R*g-C*m,p[5]=A*g-M*m,p[6]=L*g-b*m,p[7]=D*g-w*m,this},fromRotationTranslation:function(v,p){var m=v.x,g=v.y,C=v.z,M=v.w,b=m+m,w=g+g,R=C+C,A=m*b,L=m*w,D=m*R,G=g*w,B=g*R,I=C*R,k=M*b,z=M*w,X=M*R;return this.setValues(1-(G+I),L+X,D-z,0,L-X,1-(A+I),B+k,0,D+z,B-k,1-(A+G),0,p.x,p.y,p.z,1)},fromQuat:function(v){var p=v.x,m=v.y,g=v.z,C=v.w,M=p+p,b=m+m,w=g+g,R=p*M,A=p*b,L=p*w,D=m*b,G=m*w,B=g*w,I=C*M,k=C*b,z=C*w;return this.setValues(1-(D+B),A+z,L-k,0,A-z,1-(R+B),G+I,0,L+k,G-I,1-(R+D),0,0,0,0,1)},frustum:function(v,p,m,g,C,M){var b=1/(p-v),w=1/(g-m),R=1/(C-M);return this.setValues(C*2*b,0,0,0,0,C*2*w,0,0,(p+v)*b,(g+m)*w,(M+C)*R,-1,0,0,M*C*2*R,0)},perspective:function(v,p,m,g){var C=1/Math.tan(v/2),M=1/(m-g);return this.setValues(C/p,0,0,0,0,C,0,0,0,0,(g+m)*M,-1,0,0,2*g*m*M,0)},perspectiveLH:function(v,p,m,g){return this.setValues(2*m/v,0,0,0,0,2*m/p,0,0,0,0,-g/(m-g),1,0,0,m*g/(m-g),0)},ortho:function(v,p,m,g,C,M){var b=v-p,w=m-g,R=C-M;return b=b===0?b:1/b,w=w===0?w:1/w,R=R===0?R:1/R,this.setValues(-2*b,0,0,0,0,-2*w,0,0,0,0,2*R,0,(v+p)*b,(g+m)*w,(M+C)*R,1)},lookAtRH:function(v,p,m){var g=this.val;return u.subVectors(v,p),u.lengthSq()===0&&(u.z=1),u.normalize(),f.crossVectors(m,u),f.lengthSq()===0&&(Math.abs(m.z)===1?u.x+=1e-4:u.z+=1e-4,u.normalize(),f.crossVectors(m,u)),f.normalize(),c.crossVectors(u,f),g[0]=f.x,g[1]=f.y,g[2]=f.z,g[4]=c.x,g[5]=c.y,g[6]=c.z,g[8]=u.x,g[9]=u.y,g[10]=u.z,this},lookAt:function(v,p,m){var g=v.x,C=v.y,M=v.z,b=m.x,w=m.y,R=m.z,A=p.x,L=p.y,D=p.z;if(Math.abs(g-A)<d&&Math.abs(C-L)<d&&Math.abs(M-D)<d)return this.identity();var G=g-A,B=C-L,I=M-D,k=1/Math.sqrt(G*G+B*B+I*I);G*=k,B*=k,I*=k;var z=w*I-R*B,X=R*G-b*I,H=b*B-w*G;k=Math.sqrt(z*z+X*X+H*H),k?(k=1/k,z*=k,X*=k,H*=k):(z=0,X=0,H=0);var Q=B*H-I*X,J=I*z-G*H,Y=G*X-B*z;return k=Math.sqrt(Q*Q+J*J+Y*Y),k?(k=1/k,Q*=k,J*=k,Y*=k):(Q=0,J=0,Y=0),this.setValues(z,Q,G,0,X,J,B,0,H,Y,I,0,-(z*g+X*C+H*M),-(Q*g+J*C+Y*M),-(G*g+B*C+I*M),1)},yawPitchRoll:function(v,p,m){this.zero(),o.zero(),s.zero();var g=this.val,C=o.val,M=s.val,b=Math.sin(m),w=Math.cos(m);return g[10]=1,g[15]=1,g[0]=w,g[1]=b,g[4]=-b,g[5]=w,b=Math.sin(p),w=Math.cos(p),C[0]=1,C[15]=1,C[5]=w,C[10]=w,C[9]=-b,C[6]=b,b=Math.sin(v),w=Math.cos(v),M[5]=1,M[15]=1,M[0]=w,M[2]=-b,M[8]=b,M[10]=w,this.multiplyLocal(o),this.multiplyLocal(s),this},setWorldMatrix:function(v,p,m,g,C){return this.yawPitchRoll(v.y,v.x,v.z),o.scaling(m.x,m.y,m.z),s.xyz(p.x,p.y,p.z),this.multiplyLocal(o),this.multiplyLocal(s),g&&this.multiplyLocal(g),C&&this.multiplyLocal(C),this},multiplyToMat4:function(v,p){var m=this.val,g=v.val,C=m[0],M=m[1],b=m[2],w=m[3],R=m[4],A=m[5],L=m[6],D=m[7],G=m[8],B=m[9],I=m[10],k=m[11],z=m[12],X=m[13],H=m[14],Q=m[15],J=g[0],Y=g[1],$=g[2],V=g[3],U=g[4],K=g[5],j=g[6],_=g[7],tt=g[8],rt=g[9],ot=g[10],ft=g[11],ct=g[12],gt=g[13],yt=g[14],Mt=g[15];return p.setValues(J*C+Y*R+$*G+V*z,Y*M+Y*A+$*B+V*X,$*b+Y*L+$*I+V*H,V*w+Y*D+$*k+V*Q,U*C+K*R+j*G+_*z,U*M+K*A+j*B+_*X,U*b+K*L+j*I+_*H,U*w+K*D+j*k+_*Q,tt*C+rt*R+ot*G+ft*z,tt*M+rt*A+ot*B+ft*X,tt*b+rt*L+ot*I+ft*H,tt*w+rt*D+ot*k+ft*Q,ct*C+gt*R+yt*G+Mt*z,ct*M+gt*A+yt*B+Mt*X,ct*b+gt*L+yt*I+Mt*H,ct*w+gt*D+yt*k+Mt*Q)},fromRotationXYTranslation:function(v,p,m){var g=p.x,C=p.y,M=p.z,b=Math.sin(v.x),w=Math.cos(v.x),R=Math.sin(v.y),A=Math.cos(v.y),L=g,D=C,G=M,B=-b,I=0-B*R,k=0-w*R,z=B*A,X=w*A;return m||(L=A*g+R*M,D=I*g+w*C+z*M,G=k*g+b*C+X*M),this.setValues(A,I,k,0,0,w,b,0,R,z,X,0,L,D,G,1)},getMaxScaleOnAxis:function(){var v=this.val,p=v[0]*v[0]+v[1]*v[1]+v[2]*v[2],m=v[4]*v[4]+v[5]*v[5]+v[6]*v[6],g=v[8]*v[8]+v[9]*v[9]+v[10]*v[10];return Math.sqrt(Math.max(p,m,g))}}),o=new l,s=new l,f=new x,c=new x,u=new x;n.exports=l},86883:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(i,a,x){return Math.min(i+a,x)};n.exports=T},50040:n=>{/**
 * @author       Vladislav Forsh <vlad@robowhale.com>
 * @copyright    2021 RoboWhale
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(i){var a=i.length;if(a===0)return 0;i.sort(function(d,l){return d-l});var x=Math.floor(a/2);return a%2===0?(i[x]+i[x-1])/2:i[x]};n.exports=T},37204:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(i,a,x){return Math.max(i-a,x)};n.exports=T},65201:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(i,a,x,d){x===void 0&&(x=a+1);var l=(i-a)/(x-a);return l>1?d!==void 0?(l=(d-i)/(d-x),l<0&&(l=0)):l=1:l<0&&(l=0),l};n.exports=T},15746:(n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=i(83419),x=i(94434),d=i(29747),l=i(25836),o=1e-6,s=new Int8Array([1,2,0]),f=new Float32Array([0,0,0]),c=new l(1,0,0),u=new l(0,1,0),v=new l,p=new x,m=new a({initialize:function(C,M,b,w){this.onChangeCallback=d,this.set(C,M,b,w)},x:{get:function(){return this._x},set:function(g){this._x=g,this.onChangeCallback(this)}},y:{get:function(){return this._y},set:function(g){this._y=g,this.onChangeCallback(this)}},z:{get:function(){return this._z},set:function(g){this._z=g,this.onChangeCallback(this)}},w:{get:function(){return this._w},set:function(g){this._w=g,this.onChangeCallback(this)}},copy:function(g){return this.set(g)},set:function(g,C,M,b,w){return w===void 0&&(w=!0),typeof g=="object"?(this._x=g.x||0,this._y=g.y||0,this._z=g.z||0,this._w=g.w||0):(this._x=g||0,this._y=C||0,this._z=M||0,this._w=b||0),w&&this.onChangeCallback(this),this},add:function(g){return this._x+=g.x,this._y+=g.y,this._z+=g.z,this._w+=g.w,this.onChangeCallback(this),this},subtract:function(g){return this._x-=g.x,this._y-=g.y,this._z-=g.z,this._w-=g.w,this.onChangeCallback(this),this},scale:function(g){return this._x*=g,this._y*=g,this._z*=g,this._w*=g,this.onChangeCallback(this),this},length:function(){var g=this.x,C=this.y,M=this.z,b=this.w;return Math.sqrt(g*g+C*C+M*M+b*b)},lengthSq:function(){var g=this.x,C=this.y,M=this.z,b=this.w;return g*g+C*C+M*M+b*b},normalize:function(){var g=this.x,C=this.y,M=this.z,b=this.w,w=g*g+C*C+M*M+b*b;return w>0&&(w=1/Math.sqrt(w),this._x=g*w,this._y=C*w,this._z=M*w,this._w=b*w),this.onChangeCallback(this),this},dot:function(g){return this.x*g.x+this.y*g.y+this.z*g.z+this.w*g.w},lerp:function(g,C){C===void 0&&(C=0);var M=this.x,b=this.y,w=this.z,R=this.w;return this.set(M+C*(g.x-M),b+C*(g.y-b),w+C*(g.z-w),R+C*(g.w-R))},rotationTo:function(g,C){var M=g.x*C.x+g.y*C.y+g.z*C.z;return M<-.999999?(v.copy(c).cross(g).length()<o&&v.copy(u).cross(g),v.normalize(),this.setAxisAngle(v,Math.PI)):M>.999999?this.set(0,0,0,1):(v.copy(g).cross(C),this._x=v.x,this._y=v.y,this._z=v.z,this._w=1+M,this.normalize())},setAxes:function(g,C,M){var b=p.val;return b[0]=C.x,b[3]=C.y,b[6]=C.z,b[1]=M.x,b[4]=M.y,b[7]=M.z,b[2]=-g.x,b[5]=-g.y,b[8]=-g.z,this.fromMat3(p).normalize()},identity:function(){return this.set(0,0,0,1)},setAxisAngle:function(g,C){C=C*.5;var M=Math.sin(C);return this.set(M*g.x,M*g.y,M*g.z,Math.cos(C))},multiply:function(g){var C=this.x,M=this.y,b=this.z,w=this.w,R=g.x,A=g.y,L=g.z,D=g.w;return this.set(C*D+w*R+M*L-b*A,M*D+w*A+b*R-C*L,b*D+w*L+C*A-M*R,w*D-C*R-M*A-b*L)},slerp:function(g,C){var M=this.x,b=this.y,w=this.z,R=this.w,A=g.x,L=g.y,D=g.z,G=g.w,B=M*A+b*L+w*D+R*G;B<0&&(B=-B,A=-A,L=-L,D=-D,G=-G);var I=1-C,k=C;if(1-B>o){var z=Math.acos(B),X=Math.sin(z);I=Math.sin((1-C)*z)/X,k=Math.sin(C*z)/X}return this.set(I*M+k*A,I*b+k*L,I*w+k*D,I*R+k*G)},invert:function(){var g=this.x,C=this.y,M=this.z,b=this.w,w=g*g+C*C+M*M+b*b,R=w?1/w:0;return this.set(-g*R,-C*R,-M*R,b*R)},conjugate:function(){return this._x=-this.x,this._y=-this.y,this._z=-this.z,this.onChangeCallback(this),this},rotateX:function(g){g*=.5;var C=this.x,M=this.y,b=this.z,w=this.w,R=Math.sin(g),A=Math.cos(g);return this.set(C*A+w*R,M*A+b*R,b*A-M*R,w*A-C*R)},rotateY:function(g){g*=.5;var C=this.x,M=this.y,b=this.z,w=this.w,R=Math.sin(g),A=Math.cos(g);return this.set(C*A-b*R,M*A+w*R,b*A+C*R,w*A-M*R)},rotateZ:function(g){g*=.5;var C=this.x,M=this.y,b=this.z,w=this.w,R=Math.sin(g),A=Math.cos(g);return this.set(C*A+M*R,M*A-C*R,b*A+w*R,w*A-b*R)},calculateW:function(){var g=this.x,C=this.y,M=this.z;return this.w=-Math.sqrt(1-g*g-C*C-M*M),this},setFromEuler:function(g,C){var M=g.x/2,b=g.y/2,w=g.z/2,R=Math.cos(M),A=Math.cos(b),L=Math.cos(w),D=Math.sin(M),G=Math.sin(b),B=Math.sin(w);switch(g.order){case"XYZ":{this.set(D*A*L+R*G*B,R*G*L-D*A*B,R*A*B+D*G*L,R*A*L-D*G*B,C);break}case"YXZ":{this.set(D*A*L+R*G*B,R*G*L-D*A*B,R*A*B-D*G*L,R*A*L+D*G*B,C);break}case"ZXY":{this.set(D*A*L-R*G*B,R*G*L+D*A*B,R*A*B+D*G*L,R*A*L-D*G*B,C);break}case"ZYX":{this.set(D*A*L-R*G*B,R*G*L+D*A*B,R*A*B-D*G*L,R*A*L+D*G*B,C);break}case"YZX":{this.set(D*A*L+R*G*B,R*G*L+D*A*B,R*A*B-D*G*L,R*A*L-D*G*B,C);break}case"XZY":{this.set(D*A*L-R*G*B,R*G*L-D*A*B,R*A*B+D*G*L,R*A*L+D*G*B,C);break}}return this},setFromRotationMatrix:function(g){var C=g.val,M=C[0],b=C[4],w=C[8],R=C[1],A=C[5],L=C[9],D=C[2],G=C[6],B=C[10],I=M+A+B,k;return I>0?(k=.5/Math.sqrt(I+1),this.set((G-L)*k,(w-D)*k,(R-b)*k,.25/k)):M>A&&M>B?(k=2*Math.sqrt(1+M-A-B),this.set(.25*k,(b+R)/k,(w+D)/k,(G-L)/k)):A>B?(k=2*Math.sqrt(1+A-M-B),this.set((b+R)/k,.25*k,(L+G)/k,(w-D)/k)):(k=2*Math.sqrt(1+B-M-A),this.set((w+D)/k,(L+G)/k,.25*k,(R-b)/k)),this},fromMat3:function(g){var C=g.val,M=C[0]+C[4]+C[8],b;if(M>0)b=Math.sqrt(M+1),this.w=.5*b,b=.5/b,this._x=(C[7]-C[5])*b,this._y=(C[2]-C[6])*b,this._z=(C[3]-C[1])*b;else{var w=0;C[4]>C[0]&&(w=1),C[8]>C[w*3+w]&&(w=2);var R=s[w],A=s[R];b=Math.sqrt(C[w*3+w]-C[R*3+R]-C[A*3+A]+1),f[w]=.5*b,b=.5/b,f[R]=(C[R*3+w]+C[w*3+R])*b,f[A]=(C[A*3+w]+C[w*3+A])*b,this._x=f[0],this._y=f[1],this._z=f[2],this._w=(C[A*3+R]-C[R*3+A])*b}return this.onChangeCallback(this),this}});n.exports=m},43396:(n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=i(36383),x=function(d){return d*a.RAD_TO_DEG};n.exports=x},74362:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(i,a){a===void 0&&(a=1);var x=Math.random()*2*Math.PI;return i.x=Math.cos(x)*a,i.y=Math.sin(x)*a,i};n.exports=T},60706:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(i,a){a===void 0&&(a=1);var x=Math.random()*2*Math.PI,d=Math.random()*2-1,l=Math.sqrt(1-d*d)*a;return i.x=Math.cos(x)*l,i.y=Math.sin(x)*l,i.z=d*a,i};n.exports=T},67421:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(i,a){return a===void 0&&(a=1),i.x=(Math.random()*2-1)*a,i.y=(Math.random()*2-1)*a,i.z=(Math.random()*2-1)*a,i.w=(Math.random()*2-1)*a,i};n.exports=T},36305:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(i,a){var x=i.x,d=i.y;return i.x=x*Math.cos(a)-d*Math.sin(a),i.y=x*Math.sin(a)+d*Math.cos(a),i};n.exports=T},11520:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(i,a,x,d){var l=Math.cos(d),o=Math.sin(d),s=i.x-a,f=i.y-x;return i.x=s*l-f*o+a,i.y=s*o+f*l+x,i};n.exports=T},1163:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(i,a,x,d,l){var o=d+Math.atan2(i.y-x,i.x-a);return i.x=a+l*Math.cos(o),i.y=x+l*Math.sin(o),i};n.exports=T},70336:n=>{/**
 * @author       samme
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(i,a,x,d,l){return i.x=a+l*Math.cos(d),i.y=x+l*Math.sin(d),i};n.exports=T},72678:(n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=i(25836),x=i(37867),d=i(15746),l=new x,o=new d,s=new a,f=function(c,u,v){return o.setAxisAngle(u,v),l.fromRotationTranslation(o,s.set(0,0,0)),c.transformMat4(l)};n.exports=f},2284:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(i){return i>0?Math.ceil(i):Math.floor(i)};n.exports=T},41013:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(i,a,x){a===void 0&&(a=0),x===void 0&&(x=10);var d=Math.pow(x,-a);return Math.round(i*d)/d};n.exports=T},16922:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(i,a,x,d){a===void 0&&(a=1),x===void 0&&(x=1),d===void 0&&(d=1),d*=Math.PI/i;for(var l=[],o=[],s=0;s<i;s++)x-=a*d,a+=x*d,l[s]=x,o[s]=a;return{sin:o,cos:l,length:i}};n.exports=T},7602:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(i,a,x){return i<=a?0:i>=x?1:(i=(i-a)/(x-a),i*i*(3-2*i))};n.exports=T},54261:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(i,a,x){return i=Math.max(0,Math.min(1,(i-a)/(x-a))),i*i*i*(i*(i*6-15)+10)};n.exports=T},44408:(n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=i(26099),x=function(d,l,o,s){s===void 0&&(s=new a);var f=0,c=0,u=l*o;return d>0&&d<=u&&(d>l-1?(c=Math.floor(d/l),f=d-c*l):f=d),s.set(f,c)};n.exports=x},85955:(n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=i(26099),x=function(d,l,o,s,f,c,u,v){v===void 0&&(v=new a);var p=Math.sin(f),m=Math.cos(f),g=m*c,C=p*c,M=-p*u,b=m*u,w=1/(g*b+M*-C);return v.x=b*w*d+-M*w*l+(s*M-o*b)*w,v.y=g*w*l+-C*w*d+(-s*g+o*C)*w,v};n.exports=x},26099:(n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=i(83419),x=i(43855),d=new a({initialize:function(o,s){this.x=0,this.y=0,typeof o=="object"?(this.x=o.x||0,this.y=o.y||0):(s===void 0&&(s=o),this.x=o||0,this.y=s||0)},clone:function(){return new d(this.x,this.y)},copy:function(l){return this.x=l.x||0,this.y=l.y||0,this},setFromObject:function(l){return this.x=l.x||0,this.y=l.y||0,this},set:function(l,o){return o===void 0&&(o=l),this.x=l,this.y=o,this},setTo:function(l,o){return this.set(l,o)},setToPolar:function(l,o){return o==null&&(o=1),this.x=Math.cos(l)*o,this.y=Math.sin(l)*o,this},equals:function(l){return this.x===l.x&&this.y===l.y},fuzzyEquals:function(l,o){return x(this.x,l.x,o)&&x(this.y,l.y,o)},angle:function(){var l=Math.atan2(this.y,this.x);return l<0&&(l+=2*Math.PI),l},setAngle:function(l){return this.setToPolar(l,this.length())},add:function(l){return this.x+=l.x,this.y+=l.y,this},subtract:function(l){return this.x-=l.x,this.y-=l.y,this},multiply:function(l){return this.x*=l.x,this.y*=l.y,this},scale:function(l){return isFinite(l)?(this.x*=l,this.y*=l):(this.x=0,this.y=0),this},divide:function(l){return this.x/=l.x,this.y/=l.y,this},negate:function(){return this.x=-this.x,this.y=-this.y,this},distance:function(l){var o=l.x-this.x,s=l.y-this.y;return Math.sqrt(o*o+s*s)},distanceSq:function(l){var o=l.x-this.x,s=l.y-this.y;return o*o+s*s},length:function(){var l=this.x,o=this.y;return Math.sqrt(l*l+o*o)},setLength:function(l){return this.normalize().scale(l)},lengthSq:function(){var l=this.x,o=this.y;return l*l+o*o},normalize:function(){var l=this.x,o=this.y,s=l*l+o*o;return s>0&&(s=1/Math.sqrt(s),this.x=l*s,this.y=o*s),this},normalizeRightHand:function(){var l=this.x;return this.x=this.y*-1,this.y=l,this},normalizeLeftHand:function(){var l=this.x;return this.x=this.y,this.y=l*-1,this},dot:function(l){return this.x*l.x+this.y*l.y},cross:function(l){return this.x*l.y-this.y*l.x},lerp:function(l,o){o===void 0&&(o=0);var s=this.x,f=this.y;return this.x=s+o*(l.x-s),this.y=f+o*(l.y-f),this},transformMat3:function(l){var o=this.x,s=this.y,f=l.val;return this.x=f[0]*o+f[3]*s+f[6],this.y=f[1]*o+f[4]*s+f[7],this},transformMat4:function(l){var o=this.x,s=this.y,f=l.val;return this.x=f[0]*o+f[4]*s+f[12],this.y=f[1]*o+f[5]*s+f[13],this},reset:function(){return this.x=0,this.y=0,this},limit:function(l){var o=this.length();return o&&o>l&&this.scale(l/o),this},reflect:function(l){return l=l.clone().normalize(),this.subtract(l.scale(2*this.dot(l)))},mirror:function(l){return this.reflect(l).negate()},rotate:function(l){var o=Math.cos(l),s=Math.sin(l);return this.set(o*this.x-s*this.y,s*this.x+o*this.y)},project:function(l){var o=this.dot(l)/l.dot(l);return this.copy(l).scale(o)}});d.ZERO=new d,d.RIGHT=new d(1,0),d.LEFT=new d(-1,0),d.UP=new d(0,-1),d.DOWN=new d(0,1),d.ONE=new d(1,1),n.exports=d},25836:(n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=i(83419),x=new a({initialize:function(l,o,s){this.x=0,this.y=0,this.z=0,typeof l=="object"?(this.x=l.x||0,this.y=l.y||0,this.z=l.z||0):(this.x=l||0,this.y=o||0,this.z=s||0)},up:function(){return this.x=0,this.y=1,this.z=0,this},min:function(d){return this.x=Math.min(this.x,d.x),this.y=Math.min(this.y,d.y),this.z=Math.min(this.z,d.z),this},max:function(d){return this.x=Math.max(this.x,d.x),this.y=Math.max(this.y,d.y),this.z=Math.max(this.z,d.z),this},clone:function(){return new x(this.x,this.y,this.z)},addVectors:function(d,l){return this.x=d.x+l.x,this.y=d.y+l.y,this.z=d.z+l.z,this},subVectors:function(d,l){return this.x=d.x-l.x,this.y=d.y-l.y,this.z=d.z-l.z,this},crossVectors:function(d,l){var o=d.x,s=d.y,f=d.z,c=l.x,u=l.y,v=l.z;return this.x=s*v-f*u,this.y=f*c-o*v,this.z=o*u-s*c,this},equals:function(d){return this.x===d.x&&this.y===d.y&&this.z===d.z},copy:function(d){return this.x=d.x,this.y=d.y,this.z=d.z||0,this},set:function(d,l,o){return typeof d=="object"?(this.x=d.x||0,this.y=d.y||0,this.z=d.z||0):(this.x=d||0,this.y=l||0,this.z=o||0),this},setFromMatrixPosition:function(d){return this.fromArray(d.val,12)},setFromMatrixColumn:function(d,l){return this.fromArray(d.val,l*4)},fromArray:function(d,l){return l===void 0&&(l=0),this.x=d[l],this.y=d[l+1],this.z=d[l+2],this},add:function(d){return this.x+=d.x,this.y+=d.y,this.z+=d.z||0,this},addScalar:function(d){return this.x+=d,this.y+=d,this.z+=d,this},addScale:function(d,l){return this.x+=d.x*l,this.y+=d.y*l,this.z+=d.z*l||0,this},subtract:function(d){return this.x-=d.x,this.y-=d.y,this.z-=d.z||0,this},multiply:function(d){return this.x*=d.x,this.y*=d.y,this.z*=d.z||1,this},scale:function(d){return isFinite(d)?(this.x*=d,this.y*=d,this.z*=d):(this.x=0,this.y=0,this.z=0),this},divide:function(d){return this.x/=d.x,this.y/=d.y,this.z/=d.z||1,this},negate:function(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this},distance:function(d){var l=d.x-this.x,o=d.y-this.y,s=d.z-this.z||0;return Math.sqrt(l*l+o*o+s*s)},distanceSq:function(d){var l=d.x-this.x,o=d.y-this.y,s=d.z-this.z||0;return l*l+o*o+s*s},length:function(){var d=this.x,l=this.y,o=this.z;return Math.sqrt(d*d+l*l+o*o)},lengthSq:function(){var d=this.x,l=this.y,o=this.z;return d*d+l*l+o*o},normalize:function(){var d=this.x,l=this.y,o=this.z,s=d*d+l*l+o*o;return s>0&&(s=1/Math.sqrt(s),this.x=d*s,this.y=l*s,this.z=o*s),this},dot:function(d){return this.x*d.x+this.y*d.y+this.z*d.z},cross:function(d){var l=this.x,o=this.y,s=this.z,f=d.x,c=d.y,u=d.z;return this.x=o*u-s*c,this.y=s*f-l*u,this.z=l*c-o*f,this},lerp:function(d,l){l===void 0&&(l=0);var o=this.x,s=this.y,f=this.z;return this.x=o+l*(d.x-o),this.y=s+l*(d.y-s),this.z=f+l*(d.z-f),this},applyMatrix3:function(d){var l=this.x,o=this.y,s=this.z,f=d.val;return this.x=f[0]*l+f[3]*o+f[6]*s,this.y=f[1]*l+f[4]*o+f[7]*s,this.z=f[2]*l+f[5]*o+f[8]*s,this},applyMatrix4:function(d){var l=this.x,o=this.y,s=this.z,f=d.val,c=1/(f[3]*l+f[7]*o+f[11]*s+f[15]);return this.x=(f[0]*l+f[4]*o+f[8]*s+f[12])*c,this.y=(f[1]*l+f[5]*o+f[9]*s+f[13])*c,this.z=(f[2]*l+f[6]*o+f[10]*s+f[14])*c,this},transformMat3:function(d){var l=this.x,o=this.y,s=this.z,f=d.val;return this.x=l*f[0]+o*f[3]+s*f[6],this.y=l*f[1]+o*f[4]+s*f[7],this.z=l*f[2]+o*f[5]+s*f[8],this},transformMat4:function(d){var l=this.x,o=this.y,s=this.z,f=d.val;return this.x=f[0]*l+f[4]*o+f[8]*s+f[12],this.y=f[1]*l+f[5]*o+f[9]*s+f[13],this.z=f[2]*l+f[6]*o+f[10]*s+f[14],this},transformCoordinates:function(d){var l=this.x,o=this.y,s=this.z,f=d.val,c=l*f[0]+o*f[4]+s*f[8]+f[12],u=l*f[1]+o*f[5]+s*f[9]+f[13],v=l*f[2]+o*f[6]+s*f[10]+f[14],p=l*f[3]+o*f[7]+s*f[11]+f[15];return this.x=c/p,this.y=u/p,this.z=v/p,this},transformQuat:function(d){var l=this.x,o=this.y,s=this.z,f=d.x,c=d.y,u=d.z,v=d.w,p=v*l+c*s-u*o,m=v*o+u*l-f*s,g=v*s+f*o-c*l,C=-f*l-c*o-u*s;return this.x=p*v+C*-f+m*-u-g*-c,this.y=m*v+C*-c+g*-f-p*-u,this.z=g*v+C*-u+p*-c-m*-f,this},project:function(d){var l=this.x,o=this.y,s=this.z,f=d.val,c=f[0],u=f[1],v=f[2],p=f[3],m=f[4],g=f[5],C=f[6],M=f[7],b=f[8],w=f[9],R=f[10],A=f[11],L=f[12],D=f[13],G=f[14],B=f[15],I=1/(l*p+o*M+s*A+B);return this.x=(l*c+o*m+s*b+L)*I,this.y=(l*u+o*g+s*w+D)*I,this.z=(l*v+o*C+s*R+G)*I,this},projectViewMatrix:function(d,l){return this.applyMatrix4(d).applyMatrix4(l)},unprojectViewMatrix:function(d,l){return this.applyMatrix4(d).applyMatrix4(l)},unproject:function(d,l){var o=d.x,s=d.y,f=d.z,c=d.w,u=this.x-o,v=c-this.y-1-s,p=this.z;return this.x=2*u/f-1,this.y=2*v/c-1,this.z=2*p-1,this.project(l)},reset:function(){return this.x=0,this.y=0,this.z=0,this}});x.ZERO=new x,x.RIGHT=new x(1,0,0),x.LEFT=new x(-1,0,0),x.UP=new x(0,-1,0),x.DOWN=new x(0,1,0),x.FORWARD=new x(0,0,1),x.BACK=new x(0,0,-1),x.ONE=new x(1,1,1),n.exports=x},61369:(n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=i(83419),x=new a({initialize:function(l,o,s,f){this.x=0,this.y=0,this.z=0,this.w=0,typeof l=="object"?(this.x=l.x||0,this.y=l.y||0,this.z=l.z||0,this.w=l.w||0):(this.x=l||0,this.y=o||0,this.z=s||0,this.w=f||0)},clone:function(){return new x(this.x,this.y,this.z,this.w)},copy:function(d){return this.x=d.x,this.y=d.y,this.z=d.z||0,this.w=d.w||0,this},equals:function(d){return this.x===d.x&&this.y===d.y&&this.z===d.z&&this.w===d.w},set:function(d,l,o,s){return typeof d=="object"?(this.x=d.x||0,this.y=d.y||0,this.z=d.z||0,this.w=d.w||0):(this.x=d||0,this.y=l||0,this.z=o||0,this.w=s||0),this},add:function(d){return this.x+=d.x,this.y+=d.y,this.z+=d.z||0,this.w+=d.w||0,this},subtract:function(d){return this.x-=d.x,this.y-=d.y,this.z-=d.z||0,this.w-=d.w||0,this},scale:function(d){return this.x*=d,this.y*=d,this.z*=d,this.w*=d,this},length:function(){var d=this.x,l=this.y,o=this.z,s=this.w;return Math.sqrt(d*d+l*l+o*o+s*s)},lengthSq:function(){var d=this.x,l=this.y,o=this.z,s=this.w;return d*d+l*l+o*o+s*s},normalize:function(){var d=this.x,l=this.y,o=this.z,s=this.w,f=d*d+l*l+o*o+s*s;return f>0&&(f=1/Math.sqrt(f),this.x=d*f,this.y=l*f,this.z=o*f,this.w=s*f),this},dot:function(d){return this.x*d.x+this.y*d.y+this.z*d.z+this.w*d.w},lerp:function(d,l){l===void 0&&(l=0);var o=this.x,s=this.y,f=this.z,c=this.w;return this.x=o+l*(d.x-o),this.y=s+l*(d.y-s),this.z=f+l*(d.z-f),this.w=c+l*(d.w-c),this},multiply:function(d){return this.x*=d.x,this.y*=d.y,this.z*=d.z||1,this.w*=d.w||1,this},divide:function(d){return this.x/=d.x,this.y/=d.y,this.z/=d.z||1,this.w/=d.w||1,this},distance:function(d){var l=d.x-this.x,o=d.y-this.y,s=d.z-this.z||0,f=d.w-this.w||0;return Math.sqrt(l*l+o*o+s*s+f*f)},distanceSq:function(d){var l=d.x-this.x,o=d.y-this.y,s=d.z-this.z||0,f=d.w-this.w||0;return l*l+o*o+s*s+f*f},negate:function(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this.w=-this.w,this},transformMat4:function(d){var l=this.x,o=this.y,s=this.z,f=this.w,c=d.val;return this.x=c[0]*l+c[4]*o+c[8]*s+c[12]*f,this.y=c[1]*l+c[5]*o+c[9]*s+c[13]*f,this.z=c[2]*l+c[6]*o+c[10]*s+c[14]*f,this.w=c[3]*l+c[7]*o+c[11]*s+c[15]*f,this},transformQuat:function(d){var l=this.x,o=this.y,s=this.z,f=d.x,c=d.y,u=d.z,v=d.w,p=v*l+c*s-u*o,m=v*o+u*l-f*s,g=v*s+f*o-c*l,C=-f*l-c*o-u*s;return this.x=p*v+C*-f+m*-u-g*-c,this.y=m*v+C*-c+g*-f-p*-u,this.z=g*v+C*-u+p*-c-m*-f,this},reset:function(){return this.x=0,this.y=0,this.z=0,this.w=0,this}});x.prototype.sub=x.prototype.subtract,x.prototype.mul=x.prototype.multiply,x.prototype.div=x.prototype.divide,x.prototype.dist=x.prototype.distance,x.prototype.distSq=x.prototype.distanceSq,x.prototype.len=x.prototype.length,x.prototype.lenSq=x.prototype.lengthSq,n.exports=x},60417:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(i,a,x){return Math.abs(i-a)<=x};n.exports=T},15994:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(i,a,x){var d=x-a;return a+((i-a)%d+d)%d};n.exports=T},31040:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(i,a,x,d){return Math.atan2(d-a,x-i)};n.exports=T},55495:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(i,a){return Math.atan2(a.y-i.y,a.x-i.x)};n.exports=T},128:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(i,a){return Math.atan2(a.x-i.x,a.y-i.y)};n.exports=T},41273:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(i,a,x,d){return Math.atan2(x-i,d-a)};n.exports=T},1432:(n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=i(36383),x=function(d){return d>Math.PI&&(d-=a.PI2),Math.abs(((d+a.TAU)%a.PI2-a.PI2)%a.PI2)};n.exports=x},12407:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(i){return i=i%(2*Math.PI),i>=0?i:i+2*Math.PI};n.exports=T},53993:(n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @author       @samme
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=i(99472),x=function(){return a(-Math.PI,Math.PI)};n.exports=x},86564:(n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @author       @samme
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=i(99472),x=function(){return a(-180,180)};n.exports=x},90154:(n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=i(12407),x=function(d){return a(d+Math.PI)};n.exports=x},48736:(n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=i(36383),x=function(d,l,o){return o===void 0&&(o=.05),d===l||(Math.abs(l-d)<=o||Math.abs(l-d)>=a.PI2-o?d=l:(Math.abs(l-d)>Math.PI&&(l<d?l+=a.PI2:l-=a.PI2),l>d?d+=o:l<d&&(d-=o))),d};n.exports=x},61430:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(i,a){var x=a-i;if(x===0)return 0;var d=Math.floor((x- -180)/360);return x-d*360};n.exports=T},86554:(n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=i(15994),x=function(d){return a(d,-Math.PI,Math.PI)};n.exports=x},30954:(n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=i(15994),x=function(d){return a(d,-180,180)};n.exports=x},25588:(n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports={Between:i(31040),BetweenPoints:i(55495),BetweenPointsY:i(128),BetweenY:i(41273),CounterClockwise:i(1432),Normalize:i(12407),Random:i(53993),RandomDegrees:i(86564),Reverse:i(90154),RotateTo:i(48736),ShortestBetween:i(61430),Wrap:i(86554),WrapDegrees:i(30954)}},36383:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T={PI2:Math.PI*2,TAU:Math.PI*.5,EPSILON:1e-6,DEG_TO_RAD:Math.PI/180,RAD_TO_DEG:180/Math.PI,RND:null,MIN_SAFE_INTEGER:Number.MIN_SAFE_INTEGER||-9007199254740991,MAX_SAFE_INTEGER:Number.MAX_SAFE_INTEGER||9007199254740991};n.exports=T},20339:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(i,a,x,d){var l=i-x,o=a-d;return Math.sqrt(l*l+o*o)};n.exports=T},52816:n=>{/**
 * @author       samme
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(i,a){var x=i.x-a.x,d=i.y-a.y;return Math.sqrt(x*x+d*d)};n.exports=T},64559:n=>{/**
 * @author       samme
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(i,a){var x=i.x-a.x,d=i.y-a.y;return x*x+d*d};n.exports=T},82340:n=>{/**
 * @author       samme
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(i,a,x,d){return Math.max(Math.abs(i-x),Math.abs(a-d))};n.exports=T},14390:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(i,a,x,d,l){return l===void 0&&(l=2),Math.sqrt(Math.pow(x-i,l)+Math.pow(d-a,l))};n.exports=T},2243:n=>{/**
 * @author       samme
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(i,a,x,d){return Math.abs(i-x)+Math.abs(a-d)};n.exports=T},89774:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(i,a,x,d){var l=i-x,o=a-d;return l*l+o*o};n.exports=T},50994:(n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports={Between:i(20339),BetweenPoints:i(52816),BetweenPointsSquared:i(64559),Chebyshev:i(82340),Power:i(14390),Snake:i(2243),Squared:i(89774)}},62640:(n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=i(54178),x=i(41521),d=i(79980),l=i(85433),o=i(99140),s=i(48857),f=i(81596),c=i(59133),u=i(98516),v=i(35248),p=i(82500),m=i(49752);n.exports={Power0:f,Power1:c.Out,Power2:l.Out,Power3:u.Out,Power4:v.Out,Linear:f,Quad:c.Out,Cubic:l.Out,Quart:u.Out,Quint:v.Out,Sine:p.Out,Expo:s.Out,Circ:d.Out,Elastic:o.Out,Back:a.Out,Bounce:x.Out,Stepped:m,"Quad.easeIn":c.In,"Cubic.easeIn":l.In,"Quart.easeIn":u.In,"Quint.easeIn":v.In,"Sine.easeIn":p.In,"Expo.easeIn":s.In,"Circ.easeIn":d.In,"Elastic.easeIn":o.In,"Back.easeIn":a.In,"Bounce.easeIn":x.In,"Quad.easeOut":c.Out,"Cubic.easeOut":l.Out,"Quart.easeOut":u.Out,"Quint.easeOut":v.Out,"Sine.easeOut":p.Out,"Expo.easeOut":s.Out,"Circ.easeOut":d.Out,"Elastic.easeOut":o.Out,"Back.easeOut":a.Out,"Bounce.easeOut":x.Out,"Quad.easeInOut":c.InOut,"Cubic.easeInOut":l.InOut,"Quart.easeInOut":u.InOut,"Quint.easeInOut":v.InOut,"Sine.easeInOut":p.InOut,"Expo.easeInOut":s.InOut,"Circ.easeInOut":d.InOut,"Elastic.easeInOut":o.InOut,"Back.easeInOut":a.InOut,"Bounce.easeInOut":x.InOut}},1639:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(i,a){return a===void 0&&(a=1.70158),i*i*((a+1)*i-a)};n.exports=T},50099:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(i,a){a===void 0&&(a=1.70158);var x=a*1.525;return(i*=2)<1?.5*(i*i*((x+1)*i-x)):.5*((i-=2)*i*((x+1)*i+x)+2)};n.exports=T},41286:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(i,a){return a===void 0&&(a=1.70158),--i*i*((a+1)*i+a)+1};n.exports=T},54178:(n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports={In:i(1639),Out:i(41286),InOut:i(50099)}},59590:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(i){return i=1-i,i<.36363636363636365?1-7.5625*i*i:i<.7272727272727273?1-(7.5625*(i-=.5454545454545454)*i+.75):i<.9090909090909091?1-(7.5625*(i-=.8181818181818182)*i+.9375):1-(7.5625*(i-=.9545454545454546)*i+.984375)};n.exports=T},41788:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(i){var a=!1;return i<.5?(i=1-i*2,a=!0):i=i*2-1,i<.36363636363636365?i=7.5625*i*i:i<.7272727272727273?i=7.5625*(i-=.5454545454545454)*i+.75:i<.9090909090909091?i=7.5625*(i-=.8181818181818182)*i+.9375:i=7.5625*(i-=.9545454545454546)*i+.984375,a?(1-i)*.5:i*.5+.5};n.exports=T},69905:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(i){return i<.36363636363636365?7.5625*i*i:i<.7272727272727273?7.5625*(i-=.5454545454545454)*i+.75:i<.9090909090909091?7.5625*(i-=.8181818181818182)*i+.9375:7.5625*(i-=.9545454545454546)*i+.984375};n.exports=T},41521:(n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports={In:i(59590),Out:i(69905),InOut:i(41788)}},91861:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(i){return 1-Math.sqrt(1-i*i)};n.exports=T},4177:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(i){return(i*=2)<1?-.5*(Math.sqrt(1-i*i)-1):.5*(Math.sqrt(1-(i-=2)*i)+1)};n.exports=T},57512:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(i){return Math.sqrt(1- --i*i)};n.exports=T},79980:(n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports={In:i(91861),Out:i(57512),InOut:i(4177)}},51150:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(i){return i*i*i};n.exports=T},82820:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(i){return(i*=2)<1?.5*i*i*i:.5*((i-=2)*i*i+2)};n.exports=T},35033:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(i){return--i*i*i+1};n.exports=T},85433:(n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports={In:i(51150),Out:i(35033),InOut:i(82820)}},69965:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(i,a,x){if(a===void 0&&(a=.1),x===void 0&&(x=.1),i===0)return 0;if(i===1)return 1;var d=x/4;return a<1?a=1:d=x*Math.asin(1/a)/(2*Math.PI),-(a*Math.pow(2,10*(i-=1))*Math.sin((i-d)*(2*Math.PI)/x))};n.exports=T},50665:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(i,a,x){if(a===void 0&&(a=.1),x===void 0&&(x=.1),i===0)return 0;if(i===1)return 1;var d=x/4;return a<1?a=1:d=x*Math.asin(1/a)/(2*Math.PI),(i*=2)<1?-.5*(a*Math.pow(2,10*(i-=1))*Math.sin((i-d)*(2*Math.PI)/x)):a*Math.pow(2,-10*(i-=1))*Math.sin((i-d)*(2*Math.PI)/x)*.5+1};n.exports=T},7744:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(i,a,x){if(a===void 0&&(a=.1),x===void 0&&(x=.1),i===0)return 0;if(i===1)return 1;var d=x/4;return a<1?a=1:d=x*Math.asin(1/a)/(2*Math.PI),a*Math.pow(2,-10*i)*Math.sin((i-d)*(2*Math.PI)/x)+1};n.exports=T},99140:(n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports={In:i(69965),Out:i(7744),InOut:i(50665)}},24590:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(i){return Math.pow(2,10*(i-1))-.001};n.exports=T},87844:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(i){return(i*=2)<1?.5*Math.pow(2,10*(i-1)):.5*(2-Math.pow(2,-10*(i-1)))};n.exports=T},89433:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(i){return 1-Math.pow(2,-10*i)};n.exports=T},48857:(n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports={In:i(24590),Out:i(89433),InOut:i(87844)}},48820:(n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports={Back:i(54178),Bounce:i(41521),Circular:i(79980),Cubic:i(85433),Elastic:i(99140),Expo:i(48857),Linear:i(81596),Quadratic:i(59133),Quartic:i(98516),Quintic:i(35248),Sine:i(82500),Stepped:i(49752)}},7147:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(i){return i};n.exports=T},81596:(n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports=i(7147)},34826:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(i){return i*i};n.exports=T},20544:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(i){return(i*=2)<1?.5*i*i:-.5*(--i*(i-2)-1)};n.exports=T},92029:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(i){return i*(2-i)};n.exports=T},59133:(n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports={In:i(34826),Out:i(92029),InOut:i(20544)}},64413:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(i){return i*i*i*i};n.exports=T},78137:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(i){return(i*=2)<1?.5*i*i*i*i:-.5*((i-=2)*i*i*i-2)};n.exports=T},45840:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(i){return 1- --i*i*i*i};n.exports=T},98516:(n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports={In:i(64413),Out:i(45840),InOut:i(78137)}},87745:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(i){return i*i*i*i*i};n.exports=T},16509:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(i){return(i*=2)<1?.5*i*i*i*i*i:.5*((i-=2)*i*i*i*i+2)};n.exports=T},17868:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(i){return--i*i*i*i*i+1};n.exports=T},35248:(n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports={In:i(87745),Out:i(17868),InOut:i(16509)}},80461:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(i){return i===0?0:i===1?1:1-Math.cos(i*Math.PI/2)};n.exports=T},34025:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(i){return i===0?0:i===1?1:.5*(1-Math.cos(Math.PI*i))};n.exports=T},52768:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(i){return i===0?0:i===1?1:Math.sin(i*Math.PI/2)};n.exports=T},82500:(n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports={In:i(80461),Out:i(52768),InOut:i(34025)}},72251:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(i,a){return a===void 0&&(a=1),i<=0?0:i>=1?1:((a*i|0)+1)*(1/a)};n.exports=T},49752:(n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports=i(72251)},75698:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(i,a){return a===void 0&&(a=1e-4),Math.ceil(i-a)};n.exports=T},43855:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(i,a,x){return x===void 0&&(x=1e-4),Math.abs(i-a)<x};n.exports=T},25777:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(i,a){return a===void 0&&(a=1e-4),Math.floor(i+a)};n.exports=T},5470:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(i,a,x){return x===void 0&&(x=1e-4),i>a-x};n.exports=T},94977:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(i,a,x){return x===void 0&&(x=1e-4),i<a+x};n.exports=T},48379:(n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports={Ceil:i(75698),Equal:i(43855),Floor:i(25777),GreaterThan:i(5470),LessThan:i(94977)}},75508:(n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=i(36383),x=i(79291),d={Angle:i(25588),Distance:i(50994),Easing:i(48820),Fuzzy:i(48379),Interpolation:i(38289),Pow2:i(49001),Snap:i(73697),RandomDataGenerator:i(28453),Average:i(53307),Bernstein:i(85710),Between:i(30976),CatmullRom:i(87842),CeilTo:i(26302),Clamp:i(45319),DegToRad:i(39506),Difference:i(61241),Euler:i(38857),Factorial:i(6411),FloatBetween:i(99472),FloorTo:i(77623),FromPercent:i(62945),GetSpeed:i(38265),IsEven:i(78702),IsEvenStrict:i(94883),Linear:i(28915),LinearXY:i(94908),MaxAdd:i(86883),Median:i(50040),MinSub:i(37204),Percent:i(65201),RadToDeg:i(43396),RandomXY:i(74362),RandomXYZ:i(60706),RandomXYZW:i(67421),Rotate:i(36305),RotateAround:i(11520),RotateAroundDistance:i(1163),RotateTo:i(70336),RoundAwayFromZero:i(2284),RoundTo:i(41013),SinCosTableGenerator:i(16922),SmootherStep:i(54261),SmoothStep:i(7602),ToXY:i(44408),TransformXY:i(85955),Within:i(60417),Wrap:i(15994),Vector2:i(26099),Vector3:i(25836),Vector4:i(61369),Matrix3:i(94434),Matrix4:i(37867),Quaternion:i(15746),RotateVec3:i(72678)};d=x(!1,d,a),n.exports=d},89318:(n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=i(85710),x=function(d,l){for(var o=0,s=d.length-1,f=0;f<=s;f++)o+=Math.pow(1-l,s-f)*Math.pow(l,f)*d[f]*a(s,f);return o};n.exports=x},77259:(n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=i(87842),x=function(d,l){var o=d.length-1,s=o*l,f=Math.floor(s);return d[0]===d[o]?(l<0&&(f=Math.floor(s=o*(1+l))),a(s-f,d[(f-1+o)%o],d[f],d[(f+1)%o],d[(f+2)%o])):l<0?d[0]-(a(-s,d[0],d[0],d[1],d[1])-d[0]):l>1?d[o]-(a(s-o,d[o],d[o],d[o-1],d[o-1])-d[o]):a(s-f,d[f?f-1:0],d[f],d[o<f+1?o:f+1],d[o<f+2?o:f+2])};n.exports=x},36316:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */function T(l,o){var s=1-l;return s*s*s*o}function i(l,o){var s=1-l;return 3*s*s*l*o}function a(l,o){return 3*(1-l)*l*l*o}function x(l,o){return l*l*l*o}var d=function(l,o,s,f,c){return T(l,o)+i(l,s)+a(l,f)+x(l,c)};n.exports=d},28392:(n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=i(28915),x=function(d,l){var o=d.length-1,s=o*l,f=Math.floor(s);return l<0?a(d[0],d[1],s):l>1?a(d[o],d[o-1],o-s):a(d[f],d[f+1>o?o:f+1],s-f)};n.exports=x},32112:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */function T(d,l){var o=1-d;return o*o*l}function i(d,l){return 2*(1-d)*d*l}function a(d,l){return d*d*l}var x=function(d,l,o,s){return T(d,l)+i(d,o)+a(d,s)};n.exports=x},47235:(n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=i(7602),x=function(d,l,o){return l+(o-l)*a(d,0,1)};n.exports=x},50178:(n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=i(54261),x=function(d,l,o){return l+(o-l)*a(d,0,1)};n.exports=x},38289:(n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports={Bezier:i(89318),CatmullRom:i(77259),CubicBezier:i(36316),Linear:i(28392),QuadraticBezier:i(32112),SmoothStep:i(47235),SmootherStep:i(50178)}},98439:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(i){var a=Math.log(i)/.6931471805599453;return 1<<Math.ceil(a)};n.exports=T},50030:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(i,a){return i>0&&(i&i-1)===0&&a>0&&(a&a-1)===0};n.exports=T},81230:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(i){return i>0&&(i&i-1)===0};n.exports=T},49001:(n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports={GetNext:i(98439),IsSize:i(50030),IsValue:i(81230)}},28453:(n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=i(83419),x=new a({initialize:function(l){l===void 0&&(l=[(Date.now()*Math.random()).toString()]),this.c=1,this.s0=0,this.s1=0,this.s2=0,this.n=0,this.signs=[-1,1],l&&this.init(l)},rnd:function(){var d=2091639*this.s0+this.c*23283064365386963e-26;return this.c=d|0,this.s0=this.s1,this.s1=this.s2,this.s2=d-this.c,this.s2},hash:function(d){var l,o=this.n;d=d.toString();for(var s=0;s<d.length;s++)o+=d.charCodeAt(s),l=.02519603282416938*o,o=l>>>0,l-=o,l*=o,o=l>>>0,l-=o,o+=l*4294967296;return this.n=o,(o>>>0)*23283064365386963e-26},init:function(d){typeof d=="string"?this.state(d):this.sow(d)},sow:function(d){if(this.n=4022871197,this.s0=this.hash(" "),this.s1=this.hash(" "),this.s2=this.hash(" "),this.c=1,!!d)for(var l=0;l<d.length&&d[l]!=null;l++){var o=d[l];this.s0-=this.hash(o),this.s0+=~~(this.s0<0),this.s1-=this.hash(o),this.s1+=~~(this.s1<0),this.s2-=this.hash(o),this.s2+=~~(this.s2<0)}},integer:function(){return this.rnd()*4294967296},frac:function(){return this.rnd()+(this.rnd()*2097152|0)*11102230246251565e-32},real:function(){return this.integer()+this.frac()},integerInRange:function(d,l){return Math.floor(this.realInRange(0,l-d+1)+d)},between:function(d,l){return Math.floor(this.realInRange(0,l-d+1)+d)},realInRange:function(d,l){return this.frac()*(l-d)+d},normal:function(){return 1-2*this.frac()},uuid:function(){var d="",l="";for(l=d="";d++<36;l+=~d%5|d*3&4?(d^15?8^this.frac()*(d^20?16:4):4).toString(16):"-");return l},pick:function(d){return d[this.integerInRange(0,d.length-1)]},sign:function(){return this.pick(this.signs)},weightedPick:function(d){return d[~~(Math.pow(this.frac(),2)*(d.length-.5)+.5)]},timestamp:function(d,l){return this.realInRange(d||9466848e5,l||1577862e6)},angle:function(){return this.integerInRange(-180,180)},rotation:function(){return this.realInRange(-3.1415926,3.1415926)},state:function(d){return typeof d=="string"&&d.match(/^!rnd/)&&(d=d.split(","),this.c=parseFloat(d[1]),this.s0=parseFloat(d[2]),this.s1=parseFloat(d[3]),this.s2=parseFloat(d[4])),["!rnd",this.c,this.s0,this.s1,this.s2].join(",")},shuffle:function(d){for(var l=d.length-1,o=l;o>0;o--){var s=Math.floor(this.frac()*(o+1)),f=d[s];d[s]=d[o],d[o]=f}return d}});n.exports=x},63448:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(i,a,x,d){return x===void 0&&(x=0),a===0?i:(i-=x,i=a*Math.ceil(i/a),d?(x+i)/a:x+i)};n.exports=T},56583:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(i,a,x,d){return x===void 0&&(x=0),a===0?i:(i-=x,i=a*Math.floor(i/a),d?(x+i)/a:x+i)};n.exports=T},77720:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(i,a,x,d){return x===void 0&&(x=0),a===0?i:(i-=x,i=a*Math.round(i/a),d?(x+i)/a:x+i)};n.exports=T},73697:(n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports={Ceil:i(63448),Floor:i(56583),To:i(77720)}},85454:(n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */i(63595);var a=i(8054),x=i(79291),d={Actions:i(61061),Animations:i(60421),BlendModes:i(10312),Cache:i(83388),Cameras:i(26638),Core:i(42857),Class:i(83419),Create:i(15822),Curves:i(25410),Data:i(44965),Display:i(27460),DOM:i(84902),Events:i(93055),FX:i(66064),Game:i(50127),GameObjects:i(77856),Geom:i(55738),Input:i(14350),Loader:i(57777),Math:i(75508),Physics:i(44563),Plugins:i(18922),Renderer:i(36909),Scale:i(93364),ScaleModes:i(29795),Scene:i(97482),Scenes:i(62194),Structs:i(41392),Textures:i(27458),Tilemaps:i(62501),Time:i(90291),Tweens:i(43066),Utils:i(91799)};d.Sound=i(23717),d=x(!1,d,a),n.exports=d,i.g.Phaser=d},71289:(n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=i(83419),x=i(92209),d=i(88571),l=new a({Extends:d,Mixins:[x.Acceleration,x.Angular,x.Bounce,x.Collision,x.Debug,x.Drag,x.Enable,x.Friction,x.Gravity,x.Immovable,x.Mass,x.Pushable,x.Size,x.Velocity],initialize:function(s,f,c,u,v){d.call(this,s,f,c,u,v),this.body=null}});n.exports=l},86689:(n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=i(83419),x=i(39506),d=i(20339),l=i(89774),o=i(66022),s=i(95540),f=i(46975),c=i(72441),u=i(47956),v=i(37277),p=i(44594),m=i(26099),g=i(82248),C=new a({initialize:function(b){this.scene=b,this.systems=b.sys,this.config=this.getConfig(),this.world,this.add,this._category=1,b.sys.events.once(p.BOOT,this.boot,this),b.sys.events.on(p.START,this.start,this)},boot:function(){this.world=new g(this.scene,this.config),this.add=new o(this.world),this.systems.events.once(p.DESTROY,this.destroy,this)},start:function(){this.world||(this.world=new g(this.scene,this.config),this.add=new o(this.world));var M=this.systems.events;s(this.config,"customUpdate",!1)||M.on(p.UPDATE,this.world.update,this.world),M.on(p.POST_UPDATE,this.world.postUpdate,this.world),M.once(p.SHUTDOWN,this.shutdown,this)},enableUpdate:function(){this.systems.events.on(p.UPDATE,this.world.update,this.world)},disableUpdate:function(){this.systems.events.off(p.UPDATE,this.world.update,this.world)},getConfig:function(){var M=this.systems.game.config.physics,b=this.systems.settings.physics,w=f(s(b,"arcade",{}),s(M,"arcade",{}));return w},nextCategory:function(){return this._category=this._category<<1,this._category},overlap:function(M,b,w,R,A){return w===void 0&&(w=null),R===void 0&&(R=null),A===void 0&&(A=w),this.world.collideObjects(M,b,w,R,A,!0)},collide:function(M,b,w,R,A){return w===void 0&&(w=null),R===void 0&&(R=null),A===void 0&&(A=w),this.world.collideObjects(M,b,w,R,A,!1)},collideTiles:function(M,b,w,R,A){return this.world.collideTiles(M,b,w,R,A)},overlapTiles:function(M,b,w,R,A){return this.world.overlapTiles(M,b,w,R,A)},pause:function(){return this.world.pause()},resume:function(){return this.world.resume()},accelerateTo:function(M,b,w,R,A,L){R===void 0&&(R=60);var D=Math.atan2(w-M.y,b-M.x);return M.body.acceleration.setToPolar(D,R),A!==void 0&&L!==void 0&&M.body.maxVelocity.set(A,L),D},accelerateToObject:function(M,b,w,R,A){return this.accelerateTo(M,b.x,b.y,w,R,A)},closest:function(M,b){b||(b=this.world.bodies.entries);for(var w=Number.MAX_VALUE,R=null,A=M.x,L=M.y,D=b.length,G=0;G<D;G++){var B=b[G],I=B.body||B;if(!(M===B||M===I||M===I.gameObject||M===I.center)){var k=l(A,L,I.center.x,I.center.y);k<w&&(R=B,w=k)}}return R},furthest:function(M,b){b||(b=this.world.bodies.entries);for(var w=-1,R=null,A=M.x,L=M.y,D=b.length,G=0;G<D;G++){var B=b[G],I=B.body||B;if(!(M===B||M===I||M===I.gameObject||M===I.center)){var k=l(A,L,I.center.x,I.center.y);k>w&&(R=B,w=k)}}return R},moveTo:function(M,b,w,R,A){R===void 0&&(R=60),A===void 0&&(A=0);var L=Math.atan2(w-M.y,b-M.x);return A>0&&(R=d(M.x,M.y,b,w)/(A/1e3)),M.body.velocity.setToPolar(L,R),L},moveToObject:function(M,b,w,R){return this.moveTo(M,b.x,b.y,w,R)},velocityFromAngle:function(M,b,w){return b===void 0&&(b=60),w===void 0&&(w=new m),w.setToPolar(x(M),b)},velocityFromRotation:function(M,b,w){return b===void 0&&(b=60),w===void 0&&(w=new m),w.setToPolar(M,b)},overlapRect:function(M,b,w,R,A,L){return u(this.world,M,b,w,R,A,L)},overlapCirc:function(M,b,w,R,A){return c(this.world,M,b,w,R,A)},shutdown:function(){if(this.world){var M=this.systems.events;M.off(p.UPDATE,this.world.update,this.world),M.off(p.POST_UPDATE,this.world.postUpdate,this.world),M.off(p.SHUTDOWN,this.shutdown,this),this.add.destroy(),this.world.destroy(),this.add=null,this.world=null,this._category=1}},destroy:function(){this.shutdown(),this.scene.sys.events.off(p.START,this.start,this),this.scene=null,this.systems=null}});v.register("ArcadePhysics",C,"arcadePhysics"),n.exports=C},13759:(n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=i(83419),x=i(92209),d=i(68287),l=new a({Extends:d,Mixins:[x.Acceleration,x.Angular,x.Bounce,x.Collision,x.Debug,x.Drag,x.Enable,x.Friction,x.Gravity,x.Immovable,x.Mass,x.Pushable,x.Size,x.Velocity],initialize:function(s,f,c,u,v){d.call(this,s,f,c,u,v),this.body=null}});n.exports=l},37742:(n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=i(83419),x=i(78389),d=i(37747),l=i(63012),o=i(43396),s=i(87841),f=i(37303),c=i(95829),u=i(26099),v=new a({Mixins:[x],initialize:function(m,g){var C=64,M=64,b={x:0,y:0,angle:0,rotation:0,scaleX:1,scaleY:1,displayOriginX:0,displayOriginY:0},w=g!==void 0;w&&g.displayWidth&&(C=g.displayWidth,M=g.displayHeight),w||(g=b),this.world=m,this.gameObject=w?g:void 0,this.isBody=!0,this.transform={x:g.x,y:g.y,rotation:g.angle,scaleX:g.scaleX,scaleY:g.scaleY,displayOriginX:g.displayOriginX,displayOriginY:g.displayOriginY},this.debugShowBody=m.defaults.debugShowBody,this.debugShowVelocity=m.defaults.debugShowVelocity,this.debugBodyColor=m.defaults.bodyDebugColor,this.enable=!0,this.isCircle=!1,this.radius=0,this.offset=new u,this.position=new u(g.x-g.scaleX*g.displayOriginX,g.y-g.scaleY*g.displayOriginY),this.prev=this.position.clone(),this.prevFrame=this.position.clone(),this.allowRotation=!0,this.rotation=g.angle,this.preRotation=g.angle,this.width=C,this.height=M,this.sourceWidth=C,this.sourceHeight=M,g.frame&&(this.sourceWidth=g.frame.realWidth,this.sourceHeight=g.frame.realHeight),this.halfWidth=Math.abs(C/2),this.halfHeight=Math.abs(M/2),this.center=new u(this.position.x+this.halfWidth,this.position.y+this.halfHeight),this.velocity=new u,this.newVelocity=new u,this.deltaMax=new u,this.acceleration=new u,this.allowDrag=!0,this.drag=new u,this.allowGravity=!0,this.gravity=new u,this.bounce=new u,this.worldBounce=null,this.customBoundsRectangle=m.bounds,this.onWorldBounds=!1,this.onCollide=!1,this.onOverlap=!1,this.maxVelocity=new u(1e4,1e4),this.maxSpeed=-1,this.friction=new u(1,0),this.useDamping=!1,this.angularVelocity=0,this.angularAcceleration=0,this.angularDrag=0,this.maxAngular=1e3,this.mass=1,this.angle=0,this.speed=0,this.facing=d.FACING_NONE,this.immovable=!1,this.pushable=!0,this.slideFactor=new u(1,1),this.moves=!0,this.customSeparateX=!1,this.customSeparateY=!1,this.overlapX=0,this.overlapY=0,this.overlapR=0,this.embedded=!1,this.collideWorldBounds=!1,this.checkCollision=c(!1),this.touching=c(!0),this.wasTouching=c(!0),this.blocked=c(!0),this.syncBounds=!1,this.physicsType=d.DYNAMIC_BODY,this.collisionCategory=1,this.collisionMask=1,this._sx=g.scaleX,this._sy=g.scaleY,this._dx=0,this._dy=0,this._tx=0,this._ty=0,this._bounds=new s,this.directControl=!1,this.autoFrame=this.position.clone()},updateBounds:function(){var p=this.gameObject,m=this.transform;if(p.parentContainer){var g=p.getWorldTransformMatrix(this.world._tempMatrix,this.world._tempMatrix2);m.x=g.tx,m.y=g.ty,m.rotation=o(g.rotation),m.scaleX=g.scaleX,m.scaleY=g.scaleY,m.displayOriginX=p.displayOriginX,m.displayOriginY=p.displayOriginY}else m.x=p.x,m.y=p.y,m.rotation=p.angle,m.scaleX=p.scaleX,m.scaleY=p.scaleY,m.displayOriginX=p.displayOriginX,m.displayOriginY=p.displayOriginY;var C=!1;if(this.syncBounds){var M=p.getBounds(this._bounds);this.width=M.width,this.height=M.height,C=!0}else{var b=Math.abs(m.scaleX),w=Math.abs(m.scaleY);(this._sx!==b||this._sy!==w)&&(this.width=this.sourceWidth*b,this.height=this.sourceHeight*w,this._sx=b,this._sy=w,C=!0)}C&&(this.halfWidth=Math.floor(this.width/2),this.halfHeight=Math.floor(this.height/2),this.updateCenter())},updateCenter:function(){this.center.set(this.position.x+this.halfWidth,this.position.y+this.halfHeight)},updateFromGameObject:function(){this.updateBounds();var p=this.transform;this.position.x=p.x+p.scaleX*(this.offset.x-p.displayOriginX),this.position.y=p.y+p.scaleY*(this.offset.y-p.displayOriginY),this.updateCenter()},resetFlags:function(p){p===void 0&&(p=!1);var m=this.wasTouching,g=this.touching,C=this.blocked;p?c(!0,m):(m.none=g.none,m.up=g.up,m.down=g.down,m.left=g.left,m.right=g.right),c(!0,g),c(!0,C),this.overlapR=0,this.overlapX=0,this.overlapY=0,this.embedded=!1},preUpdate:function(p,m){if(p&&this.resetFlags(),this.gameObject&&this.updateFromGameObject(),this.rotation=this.transform.rotation,this.preRotation=this.rotation,this.moves){var g=this.position;this.prev.x=g.x,this.prev.y=g.y,this.prevFrame.x=g.x,this.prevFrame.y=g.y}p&&this.update(m)},update:function(p){var m=this.prev,g=this.position,C=this.velocity;if(m.set(g.x,g.y),!this.moves){this._dx=g.x-m.x,this._dy=g.y-m.y;return}if(this.directControl){var M=this.autoFrame;C.set((g.x-M.x)/p,(g.y-M.y)/p),this.world.updateMotion(this,p),this._dx=g.x-M.x,this._dy=g.y-M.y}else this.world.updateMotion(this,p),this.newVelocity.set(C.x*p,C.y*p),g.add(this.newVelocity),this._dx=g.x-m.x,this._dy=g.y-m.y;var b=C.x,w=C.y;if(this.updateCenter(),this.angle=Math.atan2(w,b),this.speed=Math.sqrt(b*b+w*w),this.collideWorldBounds&&this.checkWorldBounds()&&this.onWorldBounds){var R=this.blocked;this.world.emit(l.WORLD_BOUNDS,this,R.up,R.down,R.left,R.right)}},postUpdate:function(){var p=this.position,m=p.x-this.prevFrame.x,g=p.y-this.prevFrame.y,C=this.gameObject;if(this.moves){var M=this.deltaMax.x,b=this.deltaMax.y;M!==0&&m!==0&&(m<0&&m<-M?m=-M:m>0&&m>M&&(m=M)),b!==0&&g!==0&&(g<0&&g<-b?g=-b:g>0&&g>b&&(g=b)),C&&(C.x+=m,C.y+=g)}m<0?this.facing=d.FACING_LEFT:m>0&&(this.facing=d.FACING_RIGHT),g<0?this.facing=d.FACING_UP:g>0&&(this.facing=d.FACING_DOWN),this.allowRotation&&C&&(C.angle+=this.deltaZ()),this._tx=m,this._ty=g,this.autoFrame.set(p.x,p.y)},setBoundsRectangle:function(p){return this.customBoundsRectangle=p||this.world.bounds,this},checkWorldBounds:function(){var p=this.position,m=this.velocity,g=this.blocked,C=this.customBoundsRectangle,M=this.world.checkCollision,b=this.worldBounce?-this.worldBounce.x:-this.bounce.x,w=this.worldBounce?-this.worldBounce.y:-this.bounce.y,R=!1;return p.x<C.x&&M.left?(p.x=C.x,m.x*=b,g.left=!0,R=!0):this.right>C.right&&M.right&&(p.x=C.right-this.width,m.x*=b,g.right=!0,R=!0),p.y<C.y&&M.up?(p.y=C.y,m.y*=w,g.up=!0,R=!0):this.bottom>C.bottom&&M.down&&(p.y=C.bottom-this.height,m.y*=w,g.down=!0,R=!0),R&&(this.blocked.none=!1,this.updateCenter()),R},setOffset:function(p,m){return m===void 0&&(m=p),this.offset.set(p,m),this},setGameObject:function(p,m){if(m===void 0&&(m=!0),!p||!p.hasTransformComponent)return this;var g=this.world;return this.gameObject&&this.gameObject.body&&(g.disable(this.gameObject),this.gameObject.body=null),p.body&&g.disable(p),this.gameObject=p,p.body=this,this.setSize(),this.enable=m,this},setSize:function(p,m,g){g===void 0&&(g=!0);var C=this.gameObject;if(C&&(!p&&C.frame&&(p=C.frame.realWidth),!m&&C.frame&&(m=C.frame.realHeight)),this.sourceWidth=p,this.sourceHeight=m,this.width=this.sourceWidth*this._sx,this.height=this.sourceHeight*this._sy,this.halfWidth=Math.floor(this.width/2),this.halfHeight=Math.floor(this.height/2),this.updateCenter(),g&&C&&C.getCenter){var M=(C.width-p)/2,b=(C.height-m)/2;this.offset.set(M,b)}return this.isCircle=!1,this.radius=0,this},setCircle:function(p,m,g){return m===void 0&&(m=this.offset.x),g===void 0&&(g=this.offset.y),p>0?(this.isCircle=!0,this.radius=p,this.sourceWidth=p*2,this.sourceHeight=p*2,this.width=this.sourceWidth*this._sx,this.height=this.sourceHeight*this._sy,this.halfWidth=Math.floor(this.width/2),this.halfHeight=Math.floor(this.height/2),this.offset.set(m,g),this.updateCenter()):this.isCircle=!1,this},reset:function(p,m){this.stop();var g=this.gameObject;g&&(g.setPosition(p,m),this.rotation=g.angle,this.preRotation=g.angle);var C=this.position;g&&g.getTopLeft?g.getTopLeft(C):C.set(p,m),this.prev.copy(C),this.prevFrame.copy(C),this.autoFrame.copy(C),g&&this.updateBounds(),this.updateCenter(),this.collideWorldBounds&&this.checkWorldBounds(),this.resetFlags(!0)},stop:function(){return this.velocity.set(0),this.acceleration.set(0),this.speed=0,this.angularVelocity=0,this.angularAcceleration=0,this},getBounds:function(p){return p.x=this.x,p.y=this.y,p.right=this.right,p.bottom=this.bottom,p},hitTest:function(p,m){if(!this.isCircle)return f(this,p,m);if(this.radius>0&&p>=this.left&&p<=this.right&&m>=this.top&&m<=this.bottom){var g=(this.center.x-p)*(this.center.x-p),C=(this.center.y-m)*(this.center.y-m);return g+C<=this.radius*this.radius}return!1},onFloor:function(){return this.blocked.down},onCeiling:function(){return this.blocked.up},onWall:function(){return this.blocked.left||this.blocked.right},deltaAbsX:function(){return this._dx>0?this._dx:-this._dx},deltaAbsY:function(){return this._dy>0?this._dy:-this._dy},deltaX:function(){return this._dx},deltaY:function(){return this._dy},deltaXFinal:function(){return this._tx},deltaYFinal:function(){return this._ty},deltaZ:function(){return this.rotation-this.preRotation},destroy:function(){this.enable=!1,this.world&&this.world.pendingDestroy.set(this)},drawDebug:function(p){var m=this.position,g=m.x+this.halfWidth,C=m.y+this.halfHeight;this.debugShowBody&&(p.lineStyle(p.defaultStrokeWidth,this.debugBodyColor),this.isCircle?p.strokeCircle(g,C,this.width/2):(this.checkCollision.up&&p.lineBetween(m.x,m.y,m.x+this.width,m.y),this.checkCollision.right&&p.lineBetween(m.x+this.width,m.y,m.x+this.width,m.y+this.height),this.checkCollision.down&&p.lineBetween(m.x,m.y+this.height,m.x+this.width,m.y+this.height),this.checkCollision.left&&p.lineBetween(m.x,m.y,m.x,m.y+this.height))),this.debugShowVelocity&&(p.lineStyle(p.defaultStrokeWidth,this.world.defaults.velocityDebugColor,1),p.lineBetween(g,C,g+this.velocity.x/2,C+this.velocity.y/2))},willDrawDebug:function(){return this.debugShowBody||this.debugShowVelocity},setDirectControl:function(p){return p===void 0&&(p=!0),this.directControl=p,this},setCollideWorldBounds:function(p,m,g,C){p===void 0&&(p=!0),this.collideWorldBounds=p;var M=m!==void 0,b=g!==void 0;return(M||b)&&(this.worldBounce||(this.worldBounce=new u),M&&(this.worldBounce.x=m),b&&(this.worldBounce.y=g)),C!==void 0&&(this.onWorldBounds=C),this},setVelocity:function(p,m){return this.velocity.set(p,m),p=this.velocity.x,m=this.velocity.y,this.speed=Math.sqrt(p*p+m*m),this},setVelocityX:function(p){return this.setVelocity(p,this.velocity.y)},setVelocityY:function(p){return this.setVelocity(this.velocity.x,p)},setMaxVelocity:function(p,m){return this.maxVelocity.set(p,m),this},setMaxVelocityX:function(p){return this.maxVelocity.x=p,this},setMaxVelocityY:function(p){return this.maxVelocity.y=p,this},setMaxSpeed:function(p){return this.maxSpeed=p,this},setSlideFactor:function(p,m){return this.slideFactor.set(p,m),this},setBounce:function(p,m){return this.bounce.set(p,m),this},setBounceX:function(p){return this.bounce.x=p,this},setBounceY:function(p){return this.bounce.y=p,this},setAcceleration:function(p,m){return this.acceleration.set(p,m),this},setAccelerationX:function(p){return this.acceleration.x=p,this},setAccelerationY:function(p){return this.acceleration.y=p,this},setAllowDrag:function(p){return p===void 0&&(p=!0),this.allowDrag=p,this},setAllowGravity:function(p){return p===void 0&&(p=!0),this.allowGravity=p,this},setAllowRotation:function(p){return p===void 0&&(p=!0),this.allowRotation=p,this},setDrag:function(p,m){return this.drag.set(p,m),this},setDamping:function(p){return this.useDamping=p,this},setDragX:function(p){return this.drag.x=p,this},setDragY:function(p){return this.drag.y=p,this},setGravity:function(p,m){return this.gravity.set(p,m),this},setGravityX:function(p){return this.gravity.x=p,this},setGravityY:function(p){return this.gravity.y=p,this},setFriction:function(p,m){return this.friction.set(p,m),this},setFrictionX:function(p){return this.friction.x=p,this},setFrictionY:function(p){return this.friction.y=p,this},setAngularVelocity:function(p){return this.angularVelocity=p,this},setAngularAcceleration:function(p){return this.angularAcceleration=p,this},setAngularDrag:function(p){return this.angularDrag=p,this},setMass:function(p){return this.mass=p,this},setImmovable:function(p){return p===void 0&&(p=!0),this.immovable=p,this},setEnable:function(p){return p===void 0&&(p=!0),this.enable=p,this},processX:function(p,m,g,C){this.x+=p,this.updateCenter(),m!==null&&(this.velocity.x=m*this.slideFactor.x);var M=this.blocked;g&&(M.left=!0,M.none=!1),C&&(M.right=!0,M.none=!1)},processY:function(p,m,g,C){this.y+=p,this.updateCenter(),m!==null&&(this.velocity.y=m*this.slideFactor.y);var M=this.blocked;g&&(M.up=!0,M.none=!1),C&&(M.down=!0,M.none=!1)},x:{get:function(){return this.position.x},set:function(p){this.position.x=p}},y:{get:function(){return this.position.y},set:function(p){this.position.y=p}},left:{get:function(){return this.position.x}},right:{get:function(){return this.position.x+this.width}},top:{get:function(){return this.position.y}},bottom:{get:function(){return this.position.y+this.height}}});n.exports=v},79342:(n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=i(83419),x=new a({initialize:function(l,o,s,f,c,u,v){this.world=l,this.name="",this.active=!0,this.overlapOnly=o,this.object1=s,this.object2=f,this.collideCallback=c,this.processCallback=u,this.callbackContext=v},setName:function(d){return this.name=d,this},update:function(){this.world.collideObjects(this.object1,this.object2,this.collideCallback,this.processCallback,this.callbackContext,this.overlapOnly)},destroy:function(){this.world.removeCollider(this),this.active=!1,this.world=null,this.object1=null,this.object2=null,this.collideCallback=null,this.processCallback=null,this.callbackContext=null}});n.exports=x},66022:(n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=i(71289),x=i(13759),d=i(37742),l=i(83419),o=i(37747),s=i(60758),f=i(72624),c=i(71464),u=new l({initialize:function(p){this.world=p,this.scene=p.scene,this.sys=p.scene.sys},collider:function(v,p,m,g,C){return this.world.addCollider(v,p,m,g,C)},overlap:function(v,p,m,g,C){return this.world.addOverlap(v,p,m,g,C)},existing:function(v,p){var m=p?o.STATIC_BODY:o.DYNAMIC_BODY;return this.world.enableBody(v,m),v},staticImage:function(v,p,m,g){var C=new a(this.scene,v,p,m,g);return this.sys.displayList.add(C),this.world.enableBody(C,o.STATIC_BODY),C},image:function(v,p,m,g){var C=new a(this.scene,v,p,m,g);return this.sys.displayList.add(C),this.world.enableBody(C,o.DYNAMIC_BODY),C},staticSprite:function(v,p,m,g){var C=new x(this.scene,v,p,m,g);return this.sys.displayList.add(C),this.sys.updateList.add(C),this.world.enableBody(C,o.STATIC_BODY),C},sprite:function(v,p,m,g){var C=new x(this.scene,v,p,m,g);return this.sys.displayList.add(C),this.sys.updateList.add(C),this.world.enableBody(C,o.DYNAMIC_BODY),C},staticGroup:function(v,p){return this.sys.updateList.add(new c(this.world,this.world.scene,v,p))},group:function(v,p){return this.sys.updateList.add(new s(this.world,this.world.scene,v,p))},body:function(v,p,m,g){var C=new d(this.world);return C.position.set(v,p),m&&g&&C.setSize(m,g),this.world.add(C,o.DYNAMIC_BODY),C},staticBody:function(v,p,m,g){var C=new f(this.world);return C.position.set(v,p),m&&g&&C.setSize(m,g),this.world.add(C,o.STATIC_BODY),C},destroy:function(){this.world=null,this.scene=null,this.sys=null}});n.exports=u},79599:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(i){var a=0;if(!Array.isArray(i))a=i;else for(var x=0;x<i.length;x++)a|=i[x];return a};n.exports=T},64897:(n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=i(37747),x=function(d,l,o,s){var f=0,c=d.deltaAbsX()+l.deltaAbsX()+s;return d._dx===0&&l._dx===0?(d.embedded=!0,l.embedded=!0):d._dx>l._dx?(f=d.right-l.x,f>c&&!o||d.checkCollision.right===!1||l.checkCollision.left===!1?f=0:(d.touching.none=!1,d.touching.right=!0,l.touching.none=!1,l.touching.left=!0,l.physicsType===a.STATIC_BODY&&!o&&(d.blocked.none=!1,d.blocked.right=!0),d.physicsType===a.STATIC_BODY&&!o&&(l.blocked.none=!1,l.blocked.left=!0))):d._dx<l._dx&&(f=d.x-l.width-l.x,-f>c&&!o||d.checkCollision.left===!1||l.checkCollision.right===!1?f=0:(d.touching.none=!1,d.touching.left=!0,l.touching.none=!1,l.touching.right=!0,l.physicsType===a.STATIC_BODY&&!o&&(d.blocked.none=!1,d.blocked.left=!0),d.physicsType===a.STATIC_BODY&&!o&&(l.blocked.none=!1,l.blocked.right=!0))),d.overlapX=f,l.overlapX=f,f};n.exports=x},45170:(n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=i(37747),x=function(d,l,o,s){var f=0,c=d.deltaAbsY()+l.deltaAbsY()+s;return d._dy===0&&l._dy===0?(d.embedded=!0,l.embedded=!0):d._dy>l._dy?(f=d.bottom-l.y,f>c&&!o||d.checkCollision.down===!1||l.checkCollision.up===!1?f=0:(d.touching.none=!1,d.touching.down=!0,l.touching.none=!1,l.touching.up=!0,l.physicsType===a.STATIC_BODY&&!o&&(d.blocked.none=!1,d.blocked.down=!0),d.physicsType===a.STATIC_BODY&&!o&&(l.blocked.none=!1,l.blocked.up=!0))):d._dy<l._dy&&(f=d.y-l.bottom,-f>c&&!o||d.checkCollision.up===!1||l.checkCollision.down===!1?f=0:(d.touching.none=!1,d.touching.up=!0,l.touching.none=!1,l.touching.down=!0,l.physicsType===a.STATIC_BODY&&!o&&(d.blocked.none=!1,d.blocked.up=!0),d.physicsType===a.STATIC_BODY&&!o&&(l.blocked.none=!1,l.blocked.down=!0))),d.overlapY=f,l.overlapY=f,f};n.exports=x},60758:(n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=i(13759),x=i(83419),d=i(78389),l=i(37747),o=i(95540),s=i(26479),f=i(41212),c=new x({Extends:s,Mixins:[d],initialize:function(v,p,m,g){if(!m&&!g)g={internalCreateCallback:this.createCallbackHandler,internalRemoveCallback:this.removeCallbackHandler};else if(f(m))g=m,m=null,g.internalCreateCallback=this.createCallbackHandler,g.internalRemoveCallback=this.removeCallbackHandler;else if(Array.isArray(m)&&f(m[0])){var C=this;m.forEach(function(M){M.internalCreateCallback=C.createCallbackHandler,M.internalRemoveCallback=C.removeCallbackHandler,M.classType=o(M,"classType",a)}),g=null}else g={internalCreateCallback:this.createCallbackHandler,internalRemoveCallback:this.removeCallbackHandler};this.world=v,g&&(g.classType=o(g,"classType",a)),this.physicsType=l.DYNAMIC_BODY,this.collisionCategory=1,this.collisionMask=2147483647,this.defaults={setCollideWorldBounds:o(g,"collideWorldBounds",!1),setBoundsRectangle:o(g,"customBoundsRectangle",null),setAccelerationX:o(g,"accelerationX",0),setAccelerationY:o(g,"accelerationY",0),setAllowDrag:o(g,"allowDrag",!0),setAllowGravity:o(g,"allowGravity",!0),setAllowRotation:o(g,"allowRotation",!0),setDamping:o(g,"useDamping",!1),setBounceX:o(g,"bounceX",0),setBounceY:o(g,"bounceY",0),setDragX:o(g,"dragX",0),setDragY:o(g,"dragY",0),setEnable:o(g,"enable",!0),setGravityX:o(g,"gravityX",0),setGravityY:o(g,"gravityY",0),setFrictionX:o(g,"frictionX",0),setFrictionY:o(g,"frictionY",0),setMaxSpeed:o(g,"maxSpeed",-1),setMaxVelocityX:o(g,"maxVelocityX",1e4),setMaxVelocityY:o(g,"maxVelocityY",1e4),setVelocityX:o(g,"velocityX",0),setVelocityY:o(g,"velocityY",0),setAngularVelocity:o(g,"angularVelocity",0),setAngularAcceleration:o(g,"angularAcceleration",0),setAngularDrag:o(g,"angularDrag",0),setMass:o(g,"mass",1),setImmovable:o(g,"immovable",!1)},s.call(this,p,m,g),this.type="PhysicsGroup"},createCallbackHandler:function(u){u.body||this.world.enableBody(u,l.DYNAMIC_BODY);var v=u.body;for(var p in this.defaults)v[p](this.defaults[p])},removeCallbackHandler:function(u){u.body&&this.world.disableBody(u)},setVelocity:function(u,v,p){p===void 0&&(p=0);for(var m=this.getChildren(),g=0;g<m.length;g++)m[g].body.velocity.set(u+g*p,v+g*p);return this},setVelocityX:function(u,v){v===void 0&&(v=0);for(var p=this.getChildren(),m=0;m<p.length;m++)p[m].body.velocity.x=u+m*v;return this},setVelocityY:function(u,v){v===void 0&&(v=0);for(var p=this.getChildren(),m=0;m<p.length;m++)p[m].body.velocity.y=u+m*v;return this}});n.exports=c},3017:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T,i,a,x,d,l,o,s,f,c,u,v,p,m,g,C,M,b=function(G,B,I){T=G,i=B;var k=T.velocity.x,z=i.velocity.x;return a=T.pushable,f=T._dx<0,c=T._dx>0,u=T._dx===0,g=Math.abs(T.right-i.x)<=Math.abs(i.right-T.x),o=z-k*T.bounce.x,x=i.pushable,v=i._dx<0,p=i._dx>0,m=i._dx===0,C=!g,s=k-z*i.bounce.x,M=Math.abs(I),w()},w=function(){return c&&g&&i.blocked.right?(T.processX(-M,o,!1,!0),1):f&&C&&i.blocked.left?(T.processX(M,o,!0),1):p&&C&&T.blocked.right?(i.processX(-M,s,!1,!0),2):v&&g&&T.blocked.left?(i.processX(M,s,!0),2):0},R=function(){var G=T.velocity.x,B=i.velocity.x,I=Math.sqrt(B*B*i.mass/T.mass)*(B>0?1:-1),k=Math.sqrt(G*G*T.mass/i.mass)*(G>0?1:-1),z=(I+k)*.5;return I-=z,k-=z,d=z+I*T.bounce.x,l=z+k*i.bounce.x,f&&C?A(0):v&&g?A(1):c&&g?A(2):p&&C?A(3):!1},A=function(G){if(a&&x)M*=.5,G===0||G===3?(T.processX(M,d),i.processX(-M,l)):(T.processX(-M,d),i.processX(M,l));else if(a&&!x)G===0||G===3?T.processX(M,o,!0):T.processX(-M,o,!1,!0);else if(!a&&x)G===0||G===3?i.processX(-M,s,!1,!0):i.processX(M,s,!0);else{var B=M*.5;G===0?m?(T.processX(M,0,!0),i.processX(0,null,!1,!0)):p?(T.processX(B,0,!0),i.processX(-B,0,!1,!0)):(T.processX(B,i.velocity.x,!0),i.processX(-B,null,!1,!0)):G===1?u?(T.processX(0,null,!1,!0),i.processX(M,0,!0)):c?(T.processX(-B,0,!1,!0),i.processX(B,0,!0)):(T.processX(-B,null,!1,!0),i.processX(B,T.velocity.x,!0)):G===2?m?(T.processX(-M,0,!1,!0),i.processX(0,null,!0)):v?(T.processX(-B,0,!1,!0),i.processX(B,0,!0)):(T.processX(-B,i.velocity.x,!1,!0),i.processX(B,null,!0)):G===3&&(u?(T.processX(0,null,!0),i.processX(-M,0,!1,!0)):f?(T.processX(B,0,!0),i.processX(-B,0,!1,!0)):(T.processX(B,i.velocity.y,!0),i.processX(-B,null,!1,!0)))}return!0},L=function(G){if(G===1?i.velocity.x=0:g?i.processX(M,s,!0):i.processX(-M,s,!1,!0),T.moves){var B=T.directControl?T.y-T.autoFrame.y:T.y-T.prev.y;i.y+=B*T.friction.y,i._dy=i.y-i.prev.y}},D=function(G){if(G===2?T.velocity.x=0:C?T.processX(M,o,!0):T.processX(-M,o,!1,!0),i.moves){var B=i.directControl?i.y-i.autoFrame.y:i.y-i.prev.y;T.y+=B*i.friction.y,T._dy=T.y-T.prev.y}};n.exports={BlockCheck:w,Check:R,Set:b,Run:A,RunImmovableBody1:L,RunImmovableBody2:D}},47962:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T,i,a,x,d,l,o,s,f,c,u,v,p,m,g,C,M,b=function(G,B,I){T=G,i=B;var k=T.velocity.y,z=i.velocity.y;return a=T.pushable,f=T._dy<0,c=T._dy>0,u=T._dy===0,g=Math.abs(T.bottom-i.y)<=Math.abs(i.bottom-T.y),o=z-k*T.bounce.y,x=i.pushable,v=i._dy<0,p=i._dy>0,m=i._dy===0,C=!g,s=k-z*i.bounce.y,M=Math.abs(I),w()},w=function(){return c&&g&&i.blocked.down?(T.processY(-M,o,!1,!0),1):f&&C&&i.blocked.up?(T.processY(M,o,!0),1):p&&C&&T.blocked.down?(i.processY(-M,s,!1,!0),2):v&&g&&T.blocked.up?(i.processY(M,s,!0),2):0},R=function(){var G=T.velocity.y,B=i.velocity.y,I=Math.sqrt(B*B*i.mass/T.mass)*(B>0?1:-1),k=Math.sqrt(G*G*T.mass/i.mass)*(G>0?1:-1),z=(I+k)*.5;return I-=z,k-=z,d=z+I*T.bounce.y,l=z+k*i.bounce.y,f&&C?A(0):v&&g?A(1):c&&g?A(2):p&&C?A(3):!1},A=function(G){if(a&&x)M*=.5,G===0||G===3?(T.processY(M,d),i.processY(-M,l)):(T.processY(-M,d),i.processY(M,l));else if(a&&!x)G===0||G===3?T.processY(M,o,!0):T.processY(-M,o,!1,!0);else if(!a&&x)G===0||G===3?i.processY(-M,s,!1,!0):i.processY(M,s,!0);else{var B=M*.5;G===0?m?(T.processY(M,0,!0),i.processY(0,null,!1,!0)):p?(T.processY(B,0,!0),i.processY(-B,0,!1,!0)):(T.processY(B,i.velocity.y,!0),i.processY(-B,null,!1,!0)):G===1?u?(T.processY(0,null,!1,!0),i.processY(M,0,!0)):c?(T.processY(-B,0,!1,!0),i.processY(B,0,!0)):(T.processY(-B,null,!1,!0),i.processY(B,T.velocity.y,!0)):G===2?m?(T.processY(-M,0,!1,!0),i.processY(0,null,!0)):v?(T.processY(-B,0,!1,!0),i.processY(B,0,!0)):(T.processY(-B,i.velocity.y,!1,!0),i.processY(B,null,!0)):G===3&&(u?(T.processY(0,null,!0),i.processY(-M,0,!1,!0)):f?(T.processY(B,0,!0),i.processY(-B,0,!1,!0)):(T.processY(B,i.velocity.y,!0),i.processY(-B,null,!1,!0)))}return!0},L=function(G){if(G===1?i.velocity.y=0:g?i.processY(M,s,!0):i.processY(-M,s,!1,!0),T.moves){var B=T.directControl?T.x-T.autoFrame.x:T.x-T.prev.x;i.x+=B*T.friction.x,i._dx=i.x-i.prev.x}},D=function(G){if(G===2?T.velocity.y=0:C?T.processY(M,o,!0):T.processY(-M,o,!1,!0),i.moves){var B=i.directControl?i.x-i.autoFrame.x:i.x-i.prev.x;T.x+=B*i.friction.x,T._dx=T.x-T.prev.x}};n.exports={BlockCheck:w,Check:R,Set:b,Run:A,RunImmovableBody1:L,RunImmovableBody2:D}},14087:(n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=i(64897),x=i(3017),d=function(l,o,s,f,c){c===void 0&&(c=a(l,o,s,f));var u=l.immovable,v=o.immovable;if(s||c===0||u&&v||l.customSeparateX||o.customSeparateX)return c!==0||l.embedded&&o.embedded;var p=x.Set(l,o,c);return!u&&!v?p>0?!0:x.Check():(u?x.RunImmovableBody1(p):v&&x.RunImmovableBody2(p),!0)};n.exports=d},89936:(n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=i(45170),x=i(47962),d=function(l,o,s,f,c){c===void 0&&(c=a(l,o,s,f));var u=l.immovable,v=o.immovable;if(s||c===0||u&&v||l.customSeparateY||o.customSeparateY)return c!==0||l.embedded&&o.embedded;var p=x.Set(l,o,c);return!u&&!v?p>0?!0:x.Check():(u?x.RunImmovableBody1(p):v&&x.RunImmovableBody2(p),!0)};n.exports=d},95829:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(i,a){return a===void 0&&(a={}),a.none=i,a.up=!1,a.down=!1,a.left=!1,a.right=!1,i||(a.up=!0,a.down=!0,a.left=!0,a.right=!0),a};n.exports=T},72624:(n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=i(87902),x=i(83419),d=i(78389),l=i(37747),o=i(37303),s=i(95829),f=i(26099),c=new x({Mixins:[d],initialize:function(v,p){var m=64,g=64,C={x:0,y:0,angle:0,rotation:0,scaleX:1,scaleY:1,displayOriginX:0,displayOriginY:0},M=p!==void 0;M&&p.displayWidth&&(m=p.displayWidth,g=p.displayHeight),M||(p=C),this.world=v,this.gameObject=M?p:void 0,this.isBody=!0,this.debugShowBody=v.defaults.debugShowStaticBody,this.debugBodyColor=v.defaults.staticBodyDebugColor,this.enable=!0,this.isCircle=!1,this.radius=0,this.offset=new f,this.position=new f(p.x-m*p.originX,p.y-g*p.originY),this.width=m,this.height=g,this.halfWidth=Math.abs(this.width/2),this.halfHeight=Math.abs(this.height/2),this.center=new f(this.position.x+this.halfWidth,this.position.y+this.halfHeight),this.velocity=f.ZERO,this.allowGravity=!1,this.gravity=f.ZERO,this.bounce=f.ZERO,this.onWorldBounds=!1,this.onCollide=!1,this.onOverlap=!1,this.mass=1,this.immovable=!0,this.pushable=!1,this.customSeparateX=!1,this.customSeparateY=!1,this.overlapX=0,this.overlapY=0,this.overlapR=0,this.embedded=!1,this.collideWorldBounds=!1,this.checkCollision=s(!1),this.touching=s(!0),this.wasTouching=s(!0),this.blocked=s(!0),this.physicsType=l.STATIC_BODY,this.collisionCategory=1,this.collisionMask=1,this._dx=0,this._dy=0},setGameObject:function(u,v,p){if(v===void 0&&(v=!0),p===void 0&&(p=!0),!u||!u.hasTransformComponent)return this;var m=this.world;return this.gameObject&&this.gameObject.body&&(m.disable(this.gameObject),this.gameObject.body=null),u.body&&m.disable(u),this.gameObject=u,u.body=this,this.setSize(),v&&this.updateFromGameObject(),this.enable=p,this},updateFromGameObject:function(){this.world.staticTree.remove(this);var u=this.gameObject;return u.getTopLeft(this.position),this.width=u.displayWidth,this.height=u.displayHeight,this.halfWidth=Math.abs(this.width/2),this.halfHeight=Math.abs(this.height/2),this.center.set(this.position.x+this.halfWidth,this.position.y+this.halfHeight),this.world.staticTree.insert(this),this},setOffset:function(u,v){return v===void 0&&(v=u),this.world.staticTree.remove(this),this.position.x-=this.offset.x,this.position.y-=this.offset.y,this.offset.set(u,v),this.position.x+=this.offset.x,this.position.y+=this.offset.y,this.updateCenter(),this.world.staticTree.insert(this),this},setSize:function(u,v,p){p===void 0&&(p=!0);var m=this.gameObject;if(m&&m.frame&&(u||(u=m.frame.realWidth),v||(v=m.frame.realHeight)),this.world.staticTree.remove(this),this.width=u,this.height=v,this.halfWidth=Math.floor(u/2),this.halfHeight=Math.floor(v/2),p&&m&&m.getCenter){var g=m.displayWidth/2,C=m.displayHeight/2;this.position.x-=this.offset.x,this.position.y-=this.offset.y,this.offset.set(g-this.halfWidth,C-this.halfHeight),this.position.x+=this.offset.x,this.position.y+=this.offset.y}return this.updateCenter(),this.isCircle=!1,this.radius=0,this.world.staticTree.insert(this),this},setCircle:function(u,v,p){return v===void 0&&(v=this.offset.x),p===void 0&&(p=this.offset.y),u>0?(this.world.staticTree.remove(this),this.isCircle=!0,this.radius=u,this.width=u*2,this.height=u*2,this.halfWidth=Math.floor(this.width/2),this.halfHeight=Math.floor(this.height/2),this.offset.set(v,p),this.updateCenter(),this.world.staticTree.insert(this)):this.isCircle=!1,this},updateCenter:function(){this.center.set(this.position.x+this.halfWidth,this.position.y+this.halfHeight)},reset:function(u,v){var p=this.gameObject;u===void 0&&(u=p.x),v===void 0&&(v=p.y),this.world.staticTree.remove(this),p.setPosition(u,v),p.getTopLeft(this.position),this.position.x+=this.offset.x,this.position.y+=this.offset.y,this.updateCenter(),this.world.staticTree.insert(this)},stop:function(){return this},getBounds:function(u){return u.x=this.x,u.y=this.y,u.right=this.right,u.bottom=this.bottom,u},hitTest:function(u,v){return this.isCircle?a(this,u,v):o(this,u,v)},postUpdate:function(){},deltaAbsX:function(){return 0},deltaAbsY:function(){return 0},deltaX:function(){return 0},deltaY:function(){return 0},deltaZ:function(){return 0},destroy:function(){this.enable=!1,this.world.pendingDestroy.set(this)},drawDebug:function(u){var v=this.position,p=v.x+this.halfWidth,m=v.y+this.halfHeight;this.debugShowBody&&(u.lineStyle(u.defaultStrokeWidth,this.debugBodyColor,1),this.isCircle?u.strokeCircle(p,m,this.width/2):u.strokeRect(v.x,v.y,this.width,this.height))},willDrawDebug:function(){return this.debugShowBody},setMass:function(u){return u<=0&&(u=.1),this.mass=u,this},x:{get:function(){return this.position.x},set:function(u){this.world.staticTree.remove(this),this.position.x=u,this.world.staticTree.insert(this)}},y:{get:function(){return this.position.y},set:function(u){this.world.staticTree.remove(this),this.position.y=u,this.world.staticTree.insert(this)}},left:{get:function(){return this.position.x}},right:{get:function(){return this.position.x+this.width}},top:{get:function(){return this.position.y}},bottom:{get:function(){return this.position.y+this.height}}});n.exports=c},71464:(n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=i(13759),x=i(83419),d=i(78389),l=i(37747),o=i(95540),s=i(26479),f=i(41212),c=new x({Extends:s,Mixins:[d],initialize:function(v,p,m,g){!m&&!g?g={internalCreateCallback:this.createCallbackHandler,internalRemoveCallback:this.removeCallbackHandler,createMultipleCallback:this.createMultipleCallbackHandler,classType:a}:f(m)?(g=m,m=null,g.internalCreateCallback=this.createCallbackHandler,g.internalRemoveCallback=this.removeCallbackHandler,g.createMultipleCallback=this.createMultipleCallbackHandler,g.classType=o(g,"classType",a)):Array.isArray(m)&&f(m[0])?(g=m,m=null,g.forEach(function(C){C.internalCreateCallback=this.createCallbackHandler,C.internalRemoveCallback=this.removeCallbackHandler,C.createMultipleCallback=this.createMultipleCallbackHandler,C.classType=o(C,"classType",a)})):g={internalCreateCallback:this.createCallbackHandler,internalRemoveCallback:this.removeCallbackHandler},this.world=v,this.physicsType=l.STATIC_BODY,this.collisionCategory=1,this.collisionMask=1,s.call(this,p,m,g),this.type="StaticPhysicsGroup"},createCallbackHandler:function(u){u.body||this.world.enableBody(u,l.STATIC_BODY)},removeCallbackHandler:function(u){u.body&&this.world.disableBody(u)},createMultipleCallbackHandler:function(){this.refresh()},refresh:function(){for(var u=this.children.entries,v=0;v<u.length;v++)u[v].body.reset();return this}});n.exports=c},82248:(n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=i(55495),x=i(37742),d=i(45319),l=i(83419),o=i(79342),s=i(37747),f=i(20339),c=i(52816),u=i(50792),v=i(63012),p=i(43855),m=i(5470),g=i(94977),C=i(64897),M=i(45170),b=i(96523),w=i(35154),R=i(36383),A=i(25774),L=i(96602),D=i(87841),G=i(59542),B=i(40012),I=i(14087),k=i(89936),z=i(35072),X=i(72624),H=i(2483),Q=i(61340),J=i(26099),Y=i(15994),$=new l({Extends:u,initialize:function(U,K){u.call(this),this.scene=U,this.bodies=new z,this.staticBodies=new z,this.pendingDestroy=new z,this.colliders=new A,this.gravity=new J(w(K,"gravity.x",0),w(K,"gravity.y",0)),this.bounds=new D(w(K,"x",0),w(K,"y",0),w(K,"width",U.sys.scale.width),w(K,"height",U.sys.scale.height)),this.checkCollision={up:w(K,"checkCollision.up",!0),down:w(K,"checkCollision.down",!0),left:w(K,"checkCollision.left",!0),right:w(K,"checkCollision.right",!0)},this.fps=w(K,"fps",60),this.fixedStep=w(K,"fixedStep",!0),this._elapsed=0,this._frameTime=1/this.fps,this._frameTimeMS=1e3*this._frameTime,this.stepsLastFrame=0,this.timeScale=w(K,"timeScale",1),this.OVERLAP_BIAS=w(K,"overlapBias",4),this.TILE_BIAS=w(K,"tileBias",16),this.forceX=w(K,"forceX",!1),this.isPaused=w(K,"isPaused",!1),this._total=0,this.drawDebug=w(K,"debug",!1),this.debugGraphic,this.defaults={debugShowBody:w(K,"debugShowBody",!0),debugShowStaticBody:w(K,"debugShowStaticBody",!0),debugShowVelocity:w(K,"debugShowVelocity",!0),bodyDebugColor:w(K,"debugBodyColor",16711935),staticBodyDebugColor:w(K,"debugStaticBodyColor",255),velocityDebugColor:w(K,"debugVelocityColor",65280)},this.maxEntries=w(K,"maxEntries",16),this.useTree=w(K,"useTree",!0),this.tree=new G(this.maxEntries),this.staticTree=new G(this.maxEntries),this.treeMinMax={minX:0,minY:0,maxX:0,maxY:0},this._tempMatrix=new Q,this._tempMatrix2=new Q,this.tileFilterOptions={isColliding:!0,isNotEmpty:!0,hasInterestingFace:!0},this.drawDebug&&this.createDebugGraphic()},enable:function(V,U){U===void 0&&(U=s.DYNAMIC_BODY),Array.isArray(V)||(V=[V]);for(var K=0;K<V.length;K++){var j=V[K];if(j.isParent)for(var _=j.getChildren(),tt=0;tt<_.length;tt++){var rt=_[tt];rt.isParent?this.enable(rt,U):this.enableBody(rt,U)}else this.enableBody(j,U)}},enableBody:function(V,U){return U===void 0&&(U=s.DYNAMIC_BODY),V.hasTransformComponent&&(V.body||(U===s.DYNAMIC_BODY?V.body=new x(this,V):U===s.STATIC_BODY&&(V.body=new X(this,V))),this.add(V.body)),V},add:function(V){return V.physicsType===s.DYNAMIC_BODY?this.bodies.set(V):V.physicsType===s.STATIC_BODY&&(this.staticBodies.set(V),this.staticTree.insert(V)),V.enable=!0,V},disable:function(V){Array.isArray(V)||(V=[V]);for(var U=0;U<V.length;U++){var K=V[U];if(K.isParent)for(var j=K.getChildren(),_=0;_<j.length;_++){var tt=j[_];tt.isParent?this.disable(tt):this.disableBody(tt.body)}else this.disableBody(K.body)}},disableBody:function(V){this.remove(V),V.enable=!1},remove:function(V){V.physicsType===s.DYNAMIC_BODY?(this.tree.remove(V),this.bodies.delete(V)):V.physicsType===s.STATIC_BODY&&(this.staticBodies.delete(V),this.staticTree.remove(V))},createDebugGraphic:function(){var V=this.scene.sys.add.graphics({x:0,y:0});return V.setDepth(Number.MAX_VALUE),this.debugGraphic=V,this.drawDebug=!0,V},setBounds:function(V,U,K,j,_,tt,rt,ot){return this.bounds.setTo(V,U,K,j),_!==void 0&&this.setBoundsCollision(_,tt,rt,ot),this},setBoundsCollision:function(V,U,K,j){return V===void 0&&(V=!0),U===void 0&&(U=!0),K===void 0&&(K=!0),j===void 0&&(j=!0),this.checkCollision.left=V,this.checkCollision.right=U,this.checkCollision.up=K,this.checkCollision.down=j,this},pause:function(){return this.isPaused=!0,this.emit(v.PAUSE),this},resume:function(){return this.isPaused=!1,this.emit(v.RESUME),this},addCollider:function(V,U,K,j,_){K===void 0&&(K=null),j===void 0&&(j=null),_===void 0&&(_=K);var tt=new o(this,!1,V,U,K,j,_);return this.colliders.add(tt),tt},addOverlap:function(V,U,K,j,_){K===void 0&&(K=null),j===void 0&&(j=null),_===void 0&&(_=K);var tt=new o(this,!0,V,U,K,j,_);return this.colliders.add(tt),tt},removeCollider:function(V){return this.colliders.remove(V),this},setFPS:function(V){return this.fps=V,this._frameTime=1/this.fps,this._frameTimeMS=1e3*this._frameTime,this},update:function(V,U){if(!(this.isPaused||this.bodies.size===0)){var K,j=this._frameTime,_=this._frameTimeMS*this.timeScale;this._elapsed+=U;var tt,rt=this.bodies.entries,ot=this._elapsed>=_;for(this.fixedStep||(j=U*.001,ot=!0,this._elapsed=0),K=0;K<rt.length;K++)tt=rt[K],tt.enable&&tt.preUpdate(ot,j);if(ot){this._elapsed-=_,this.stepsLastFrame=1,this.useTree&&(this.tree.clear(),this.tree.load(rt));var ft=this.colliders.update();for(K=0;K<ft.length;K++){var ct=ft[K];ct.active&&ct.update()}this.emit(v.WORLD_STEP,j)}for(;this._elapsed>=_;)this._elapsed-=_,this.step(j)}},step:function(V){var U,K,j=this.bodies.entries,_=j.length;for(U=0;U<_;U++)K=j[U],K.enable&&K.update(V);this.useTree&&(this.tree.clear(),this.tree.load(j));var tt=this.colliders.update();for(U=0;U<tt.length;U++){var rt=tt[U];rt.active&&rt.update()}this.emit(v.WORLD_STEP,V),this.stepsLastFrame++},singleStep:function(){this.update(0,this._frameTimeMS),this.postUpdate()},postUpdate:function(){var V,U,K=this.bodies.entries,j=K.length,_=this.bodies,tt=this.staticBodies;if(this.stepsLastFrame)for(this.stepsLastFrame=0,V=0;V<j;V++)U=K[V],U.enable&&U.postUpdate();if(this.drawDebug){var rt=this.debugGraphic;for(rt.clear(),V=0;V<j;V++)U=K[V],U.willDrawDebug()&&U.drawDebug(rt);for(K=tt.entries,j=K.length,V=0;V<j;V++)U=K[V],U.willDrawDebug()&&U.drawDebug(rt)}var ot=this.pendingDestroy;if(ot.size>0){var ft=this.tree,ct=this.staticTree;for(K=ot.entries,j=K.length,V=0;V<j;V++)U=K[V],U.physicsType===s.DYNAMIC_BODY?(ft.remove(U),_.delete(U)):U.physicsType===s.STATIC_BODY&&(ct.remove(U),tt.delete(U)),U.world=void 0,U.gameObject=void 0;ot.clear()}},updateMotion:function(V,U){V.allowRotation&&this.computeAngularVelocity(V,U),this.computeVelocity(V,U)},computeAngularVelocity:function(V,U){var K=V.angularVelocity,j=V.angularAcceleration,_=V.angularDrag,tt=V.maxAngular;j?K+=j*U:V.allowDrag&&_&&(_*=U,m(K-_,0,.1)?K-=_:g(K+_,0,.1)?K+=_:K=0),K=d(K,-tt,tt);var rt=K-V.angularVelocity;V.angularVelocity+=rt,V.rotation+=V.angularVelocity*U},computeVelocity:function(V,U){var K=V.velocity.x,j=V.acceleration.x,_=V.drag.x,tt=V.maxVelocity.x,rt=V.velocity.y,ot=V.acceleration.y,ft=V.drag.y,ct=V.maxVelocity.y,gt=V.speed,yt=V.maxSpeed,Mt=V.allowDrag,Ct=V.useDamping;V.allowGravity&&(K+=(this.gravity.x+V.gravity.x)*U,rt+=(this.gravity.y+V.gravity.y)*U),j?K+=j*U:Mt&&_&&(Ct?(_=Math.pow(_,U),K*=_,gt=Math.sqrt(K*K+rt*rt),p(gt,0,.001)&&(K=0)):(_*=U,m(K-_,0,.01)?K-=_:g(K+_,0,.01)?K+=_:K=0)),ot?rt+=ot*U:Mt&&ft&&(Ct?(ft=Math.pow(ft,U),rt*=ft,gt=Math.sqrt(K*K+rt*rt),p(gt,0,.001)&&(rt=0)):(ft*=U,m(rt-ft,0,.01)?rt-=ft:g(rt+ft,0,.01)?rt+=ft:rt=0)),K=d(K,-tt,tt),rt=d(rt,-ct,ct),V.velocity.set(K,rt),yt>-1&&V.velocity.length()>yt&&(V.velocity.normalize().scale(yt),gt=yt),V.speed=gt},separate:function(V,U,K,j,_){var tt,rt,ot=!1,ft=!0;if(!V.enable||!U.enable||V.checkCollision.none||U.checkCollision.none||!this.intersects(V,U)||K&&K.call(j,V.gameObject||V,U.gameObject||U)===!1)return ot;if(V.isCircle||U.isCircle){var ct=this.separateCircle(V,U,_);ct.result?(ot=!0,ft=!1):(tt=ct.x,rt=ct.y,ft=!0)}if(ft){var gt=!1,yt=!1,Mt=this.OVERLAP_BIAS;_?(gt=I(V,U,_,Mt,tt),yt=k(V,U,_,Mt,rt)):this.forceX||Math.abs(this.gravity.y+V.gravity.y)<Math.abs(this.gravity.x+V.gravity.x)?(gt=I(V,U,_,Mt,tt),this.intersects(V,U)&&(yt=k(V,U,_,Mt,rt))):(yt=k(V,U,_,Mt,rt),this.intersects(V,U)&&(gt=I(V,U,_,Mt,tt))),ot=gt||yt}return ot&&(_?(V.onOverlap||U.onOverlap)&&this.emit(v.OVERLAP,V.gameObject,U.gameObject,V,U):(V.onCollide||U.onCollide)&&this.emit(v.COLLIDE,V.gameObject,U.gameObject,V,U)),ot},separateCircle:function(V,U,K){C(V,U,!1,0),M(V,U,!1,0);var j=V.isCircle,_=U.isCircle,tt=V.center,rt=U.center,ot=V.immovable,ft=U.immovable,ct=V.velocity,gt=U.velocity,yt=0,Mt=!0;if(j!==_){Mt=!1;var Ct=tt.x,Wt=tt.y,Yt=V.halfWidth,Ht=U.position.x,bt=U.position.y,kt=U.right,zt=U.bottom;_&&(Ct=rt.x,Wt=rt.y,Yt=U.halfWidth,Ht=V.position.x,bt=V.position.y,kt=V.right,zt=V.bottom),Wt<bt?Ct<Ht?yt=f(Ct,Wt,Ht,bt)-Yt:Ct>kt&&(yt=f(Ct,Wt,kt,bt)-Yt):Wt>zt&&(Ct<Ht?yt=f(Ct,Wt,Ht,zt)-Yt:Ct>kt&&(yt=f(Ct,Wt,kt,zt)-Yt)),yt*=-1}else yt=V.halfWidth+U.halfWidth-c(tt,rt);V.overlapR=yt,U.overlapR=yt;var jt=a(tt,rt),fe=(yt+R.EPSILON)*Math.cos(jt),xe=(yt+R.EPSILON)*Math.sin(jt),le={overlap:yt,result:!1,x:fe,y:xe};if(K&&(!Mt||Mt&&yt!==0))return le.result=!0,le;if(!Mt&&yt===0||ot&&ft||V.customSeparateX||U.customSeparateX)return le.x=void 0,le.y=void 0,le;var Ee=!V.pushable&&!U.pushable;if(Mt){var Qe=tt.x-rt.x,Bt=tt.y-rt.y,Ut=Math.sqrt(Math.pow(Qe,2)+Math.pow(Bt,2)),te=(rt.x-tt.x)/Ut||0,ce=(rt.y-tt.y)/Ut||0,Pe=2*(ct.x*te+ct.y*ce-gt.x*te-gt.y*ce)/(V.mass+U.mass);(ot||ft||!V.pushable||!U.pushable)&&(Pe*=2),!ot&&V.pushable&&(ct.x=ct.x-Pe/V.mass*te,ct.y=ct.y-Pe/V.mass*ce,ct.multiply(V.bounce)),!ft&&U.pushable&&(gt.x=gt.x+Pe/U.mass*te,gt.y=gt.y+Pe/U.mass*ce,gt.multiply(U.bounce)),!ot&&!ft&&(fe*=.5,xe*=.5),(!ot||V.pushable||Ee)&&(V.x-=fe,V.y-=xe,V.updateCenter()),(!ft||U.pushable||Ee)&&(U.x+=fe,U.y+=xe,U.updateCenter()),le.result=!0}else(!ot||V.pushable||Ee)&&(V.x-=fe,V.y-=xe,V.updateCenter()),(!ft||U.pushable||Ee)&&(U.x+=fe,U.y+=xe,U.updateCenter()),le.x=void 0,le.y=void 0;return le},intersects:function(V,U){return V===U?!1:!V.isCircle&&!U.isCircle?!(V.right<=U.left||V.bottom<=U.top||V.left>=U.right||V.top>=U.bottom):V.isCircle?U.isCircle?c(V.center,U.center)<=V.halfWidth+U.halfWidth:this.circleBodyIntersects(V,U):this.circleBodyIntersects(U,V)},circleBodyIntersects:function(V,U){var K=d(V.center.x,U.left,U.right),j=d(V.center.y,U.top,U.bottom),_=(V.center.x-K)*(V.center.x-K),tt=(V.center.y-j)*(V.center.y-j);return _+tt<=V.halfWidth*V.halfWidth},overlap:function(V,U,K,j,_){return K===void 0&&(K=null),j===void 0&&(j=null),_===void 0&&(_=K),this.collideObjects(V,U,K,j,_,!0)},collide:function(V,U,K,j,_){return K===void 0&&(K=null),j===void 0&&(j=null),_===void 0&&(_=K),this.collideObjects(V,U,K,j,_,!1)},collideObjects:function(V,U,K,j,_,tt){var rt,ot;V.isParent&&(V.physicsType===void 0||U===void 0||V===U)&&(V=V.children.entries),U&&U.isParent&&U.physicsType===void 0&&(U=U.children.entries);var ft=Array.isArray(V),ct=Array.isArray(U);if(this._total=0,!ft&&!ct)this.collideHandler(V,U,K,j,_,tt);else if(!ft&&ct)for(rt=0;rt<U.length;rt++)this.collideHandler(V,U[rt],K,j,_,tt);else if(ft&&!ct)if(U)for(rt=0;rt<V.length;rt++)this.collideHandler(V[rt],U,K,j,_,tt);else for(rt=0;rt<V.length;rt++){var gt=V[rt];for(ot=rt+1;ot<V.length;ot++)rt!==ot&&this.collideHandler(gt,V[ot],K,j,_,tt)}else for(rt=0;rt<V.length;rt++)for(ot=0;ot<U.length;ot++)this.collideHandler(V[rt],U[ot],K,j,_,tt);return this._total>0},collideHandler:function(V,U,K,j,_,tt){if(U===void 0&&V.isParent)return this.collideGroupVsGroup(V,V,K,j,_,tt);if(!V||!U)return!1;if(V.body||V.isBody){if(U.body||U.isBody)return this.collideSpriteVsSprite(V,U,K,j,_,tt);if(U.isParent)return this.collideSpriteVsGroup(V,U,K,j,_,tt);if(U.isTilemap)return this.collideSpriteVsTilemapLayer(V,U,K,j,_,tt)}else if(V.isParent){if(U.body||U.isBody)return this.collideSpriteVsGroup(U,V,K,j,_,tt);if(U.isParent)return this.collideGroupVsGroup(V,U,K,j,_,tt);if(U.isTilemap)return this.collideGroupVsTilemapLayer(V,U,K,j,_,tt)}else if(V.isTilemap){if(U.body||U.isBody)return this.collideSpriteVsTilemapLayer(U,V,K,j,_,tt);if(U.isParent)return this.collideGroupVsTilemapLayer(U,V,K,j,_,tt)}},canCollide:function(V,U){return V&&U&&(V.collisionMask&U.collisionCategory)!==0&&(U.collisionMask&V.collisionCategory)!==0},collideSpriteVsSprite:function(V,U,K,j,_,tt){var rt=V.isBody?V:V.body,ot=U.isBody?U:U.body;return this.canCollide(rt,ot)?(this.separate(rt,ot,j,_,tt)&&(K&&K.call(_,V,U),this._total++),!0):!1},collideSpriteVsGroup:function(V,U,K,j,_,tt){var rt=V.isBody?V:V.body;if(!(U.getLength()===0||!rt||!rt.enable||rt.checkCollision.none||!this.canCollide(rt,U))){var ot,ft,ct;if(this.useTree||U.physicsType===s.STATIC_BODY){var gt=this.treeMinMax;gt.minX=rt.left,gt.minY=rt.top,gt.maxX=rt.right,gt.maxY=rt.bottom;var yt=U.physicsType===s.DYNAMIC_BODY?this.tree.search(gt):this.staticTree.search(gt);for(ft=yt.length,ot=0;ot<ft;ot++)ct=yt[ot],!(rt===ct||!ct.enable||ct.checkCollision.none||!U.contains(ct.gameObject))&&this.separate(rt,ct,j,_,tt)&&(K&&K.call(_,rt.gameObject,ct.gameObject),this._total++)}else{var Mt=U.getChildren(),Ct=U.children.entries.indexOf(V);for(ft=Mt.length,ot=0;ot<ft;ot++)ct=Mt[ot].body,!(!ct||ot===Ct||!ct.enable)&&this.separate(rt,ct,j,_,tt)&&(K&&K.call(_,rt.gameObject,ct.gameObject),this._total++)}}},collideGroupVsTilemapLayer:function(V,U,K,j,_,tt){if(!this.canCollide(V,U))return!1;var rt=V.getChildren();if(rt.length===0)return!1;for(var ot=!1,ft=0;ft<rt.length;ft++)(rt[ft].body||rt[ft].isBody)&&this.collideSpriteVsTilemapLayer(rt[ft],U,K,j,_,tt)&&(ot=!0);return ot},collideTiles:function(V,U,K,j,_){return U.length===0||V.body&&!V.body.enable||V.isBody&&!V.enable?!1:this.collideSpriteVsTilesHandler(V,U,K,j,_,!1,!1)},overlapTiles:function(V,U,K,j,_){return U.length===0||V.body&&!V.body.enable||V.isBody&&!V.enable?!1:this.collideSpriteVsTilesHandler(V,U,K,j,_,!0,!1)},collideSpriteVsTilemapLayer:function(V,U,K,j,_,tt){var rt=V.isBody?V:V.body;if(!rt.enable||rt.checkCollision.none||!this.canCollide(rt,U))return!1;var ot=U.layer,ft=rt.x-ot.tileWidth*U.scaleX,ct=rt.y-ot.tileHeight*U.scaleY,gt=rt.width+ot.tileWidth*U.scaleX,yt=rt.height+ot.tileHeight*U.scaleY,Mt=tt?null:this.tileFilterOptions,Ct=b(ft,ct,gt,yt,Mt,U.scene.cameras.main,U.layer);return Ct.length===0?!1:this.collideSpriteVsTilesHandler(V,Ct,K,j,_,tt,!0)},collideSpriteVsTilesHandler:function(V,U,K,j,_,tt,rt){for(var ot=V.isBody?V:V.body,ft,ct={left:0,right:0,top:0,bottom:0},gt,yt=!1,Mt=0;Mt<U.length;Mt++){ft=U[Mt],gt=ft.tilemapLayer;var Ct=gt.tileToWorldXY(ft.x,ft.y);ct.left=Ct.x,ct.top=Ct.y,ct.right=ct.left+ft.width*gt.scaleX,ct.bottom=ct.top+ft.height*gt.scaleY,H(ct,ot)&&(!j||j.call(_,V,ft))&&L(ft,V)&&(tt||B(Mt,ot,ft,ct,gt,this.TILE_BIAS,rt))&&(this._total++,yt=!0,K&&K.call(_,V,ft),tt&&ot.onOverlap?this.emit(v.TILE_OVERLAP,V,ft,ot):ot.onCollide&&this.emit(v.TILE_COLLIDE,V,ft,ot))}return yt},collideGroupVsGroup:function(V,U,K,j,_,tt){if(!(V.getLength()===0||U.getLength()===0||!this.canCollide(V,U)))for(var rt=V.getChildren(),ot=0;ot<rt.length;ot++)this.collideSpriteVsGroup(rt[ot],U,K,j,_,tt)},wrap:function(V,U){V.body?this.wrapObject(V,U):V.getChildren?this.wrapArray(V.getChildren(),U):Array.isArray(V)?this.wrapArray(V,U):this.wrapObject(V,U)},wrapArray:function(V,U){for(var K=0;K<V.length;K++)this.wrapObject(V[K],U)},wrapObject:function(V,U){U===void 0&&(U=0),V.x=Y(V.x,this.bounds.left-U,this.bounds.right+U),V.y=Y(V.y,this.bounds.top-U,this.bounds.bottom+U)},shutdown:function(){this.tree.clear(),this.staticTree.clear(),this.bodies.clear(),this.staticBodies.clear(),this.colliders.destroy(),this.removeAllListeners()},destroy:function(){this.shutdown(),this.scene=null,this.debugGraphic&&(this.debugGraphic.destroy(),this.debugGraphic=null)}});n.exports=$},1093:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T={setAcceleration:function(i,a){return this.body.acceleration.set(i,a),this},setAccelerationX:function(i){return this.body.acceleration.x=i,this},setAccelerationY:function(i){return this.body.acceleration.y=i,this}};n.exports=T},59023:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T={setAngularVelocity:function(i){return this.body.angularVelocity=i,this},setAngularAcceleration:function(i){return this.body.angularAcceleration=i,this},setAngularDrag:function(i){return this.body.angularDrag=i,this}};n.exports=T},62069:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T={setBounce:function(i,a){return this.body.bounce.set(i,a),this},setBounceX:function(i){return this.body.bounce.x=i,this},setBounceY:function(i){return this.body.bounce.y=i,this},setCollideWorldBounds:function(i,a,x,d){return this.body.setCollideWorldBounds(i,a,x,d),this}};n.exports=T},78389:(n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=i(79599),x={setCollisionCategory:function(d){var l=this.body?this.body:this;return l.collisionCategory=d,this},willCollideWith:function(d){var l=this.body?this.body:this;return(l.collisionMask&d)!==0},addCollidesWith:function(d){var l=this.body?this.body:this;return l.collisionMask=l.collisionMask|d,this},removeCollidesWith:function(d){var l=this.body?this.body:this;return l.collisionMask=l.collisionMask&~d,this},setCollidesWith:function(d){var l=this.body?this.body:this;return l.collisionMask=a(d),this},resetCollisionCategory:function(){var d=this.body?this.body:this;return d.collisionCategory=1,d.collisionMask=2147483647,this}};n.exports=x},87118:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T={setDebug:function(i,a,x){return this.debugShowBody=i,this.debugShowVelocity=a,this.debugBodyColor=x,this},setDebugBodyColor:function(i){return this.body.debugBodyColor=i,this},debugShowBody:{get:function(){return this.body.debugShowBody},set:function(i){this.body.debugShowBody=i}},debugShowVelocity:{get:function(){return this.body.debugShowVelocity},set:function(i){this.body.debugShowVelocity=i}},debugBodyColor:{get:function(){return this.body.debugBodyColor},set:function(i){this.body.debugBodyColor=i}}};n.exports=T},52819:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T={setDrag:function(i,a){return this.body.drag.set(i,a),this},setDragX:function(i){return this.body.drag.x=i,this},setDragY:function(i){return this.body.drag.y=i,this},setDamping:function(i){return this.body.useDamping=i,this}};n.exports=T},4074:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T={setDirectControl:function(i){return this.body.setDirectControl(i),this},enableBody:function(i,a,x,d,l){return i&&this.body.reset(a,x),d&&(this.body.gameObject.active=!0),l&&(this.body.gameObject.visible=!0),this.body.enable=!0,this},disableBody:function(i,a){return i===void 0&&(i=!1),a===void 0&&(a=!1),this.body.stop(),this.body.enable=!1,i&&(this.body.gameObject.active=!1),a&&(this.body.gameObject.visible=!1),this},refreshBody:function(){return this.body.updateFromGameObject(),this}};n.exports=T},40831:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T={setFriction:function(i,a){return this.body.friction.set(i,a),this},setFrictionX:function(i){return this.body.friction.x=i,this},setFrictionY:function(i){return this.body.friction.y=i,this}};n.exports=T},26775:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T={setGravity:function(i,a){return this.body.gravity.set(i,a),this},setGravityX:function(i){return this.body.gravity.x=i,this},setGravityY:function(i){return this.body.gravity.y=i,this}};n.exports=T},9437:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T={setImmovable:function(i){return i===void 0&&(i=!0),this.body.immovable=i,this}};n.exports=T},30621:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T={setMass:function(i){return this.body.mass=i,this}};n.exports=T},72441:(n,T,i)=>{var a=i(47956),x=i(96503),d=i(2044),l=i(81491),o=function(s,f,c,u,v,p){var m=a(s,f-u,c-u,2*u,2*u,v,p);if(m.length===0)return m;for(var g=new x(f,c,u),C=new x,M=[],b=0;b<m.length;b++){var w=m[b];w.isCircle?(C.setTo(w.center.x,w.center.y,w.halfWidth),d(g,C)&&M.push(w)):l(g,w)&&M.push(w)}return M};n.exports=o},47956:n=>{var T=function(i,a,x,d,l,o,s){o===void 0&&(o=!0),s===void 0&&(s=!1);var f=[],c=[],u=i.treeMinMax;if(u.minX=a,u.minY=x,u.maxX=a+d,u.maxY=x+l,s&&(c=i.staticTree.search(u)),o&&i.useTree)f=i.tree.search(u);else if(o){var v=i.bodies,p={position:{x:a,y:x},left:a,top:x,right:a+d,bottom:x+l,isCircle:!1},m=i.intersects;v.iterate(function(g){m(g,p)&&f.push(g)})}return c.concat(f)};n.exports=T},62121:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T={setPushable:function(i){return i===void 0&&(i=!0),this.body.pushable=i,this}};n.exports=T},29384:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T={setOffset:function(i,a){return this.body.setOffset(i,a),this},setSize:function(i,a,x){return this.body.setSize(i,a,x),this},setBodySize:function(i,a,x){return this.body.setSize(i,a,x),this},setCircle:function(i,a,x){return this.body.setCircle(i,a,x),this}};n.exports=T},15098:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T={setVelocity:function(i,a){return this.body.setVelocity(i,a),this},setVelocityX:function(i){return this.body.setVelocityX(i),this},setVelocityY:function(i){return this.body.setVelocityY(i),this},setMaxVelocity:function(i,a){return this.body.maxVelocity.set(i,a),this}};n.exports=T},92209:(n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports={Acceleration:i(1093),Angular:i(59023),Bounce:i(62069),Collision:i(78389),Debug:i(87118),Drag:i(52819),Enable:i(4074),Friction:i(40831),Gravity:i(26775),Immovable:i(9437),Mass:i(30621),OverlapCirc:i(72441),OverlapRect:i(47956),Pushable:i(62121),Size:i(29384),Velocity:i(15098)}},37747:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T={DYNAMIC_BODY:0,STATIC_BODY:1,GROUP:2,TILEMAPLAYER:3,FACING_NONE:10,FACING_UP:11,FACING_DOWN:12,FACING_LEFT:13,FACING_RIGHT:14};n.exports=T},20009:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="collide"},36768:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="overlap"},60473:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="pause"},89954:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="resume"},61804:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="tilecollide"},7161:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="tileoverlap"},34689:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="worldbounds"},16006:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="worldstep"},63012:(n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports={COLLIDE:i(20009),OVERLAP:i(36768),PAUSE:i(60473),RESUME:i(89954),TILE_COLLIDE:i(61804),TILE_OVERLAP:i(7161),WORLD_BOUNDS:i(34689),WORLD_STEP:i(16006)}},27064:(n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=i(37747),x=i(79291),d={ArcadePhysics:i(86689),Body:i(37742),Collider:i(79342),Components:i(92209),Events:i(63012),Factory:i(66022),GetCollidesWith:i(79599),GetOverlapX:i(64897),GetOverlapY:i(45170),SeparateX:i(14087),SeparateY:i(89936),Group:i(60758),Image:i(71289),Sprite:i(13759),StaticBody:i(72624),StaticGroup:i(71464),Tilemap:i(55173),World:i(82248)};d=x(!1,d,a),n.exports=d},96602:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(i,a){return i.collisionCallback?!i.collisionCallback.call(i.collisionCallbackContext,a,i):i.layer.callbacks[i.index]?!i.layer.callbacks[i.index].callback.call(i.layer.callbacks[i.index].callbackContext,a,i):!0};n.exports=T},36294:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(i,a){a<0?(i.blocked.none=!1,i.blocked.left=!0):a>0&&(i.blocked.none=!1,i.blocked.right=!0),i.position.x-=a,i.updateCenter(),i.bounce.x===0?i.velocity.x=0:i.velocity.x=-i.velocity.x*i.bounce.x};n.exports=T},67013:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(i,a){a<0?(i.blocked.none=!1,i.blocked.up=!0):a>0&&(i.blocked.none=!1,i.blocked.down=!0),i.position.y-=a,i.updateCenter(),i.bounce.y===0?i.velocity.y=0:i.velocity.y=-i.velocity.y*i.bounce.y};n.exports=T},40012:(n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=i(21329),x=i(53442),d=i(2483),l=function(o,s,f,c,u,v,p){var m=c.left,g=c.top,C=c.right,M=c.bottom,b=f.faceLeft||f.faceRight,w=f.faceTop||f.faceBottom;if(p||(b=!0,w=!0),!b&&!w)return!1;var R=0,A=0,L=0,D=1;if(s.deltaAbsX()>s.deltaAbsY()?L=-1:s.deltaAbsX()<s.deltaAbsY()&&(D=-1),s.deltaX()!==0&&s.deltaY()!==0&&b&&w&&(L=Math.min(Math.abs(s.position.x-C),Math.abs(s.right-m)),D=Math.min(Math.abs(s.position.y-M),Math.abs(s.bottom-g))),L<D){if(b&&(R=a(s,f,m,C,v,p),R!==0&&!d(c,s)))return!0;w&&(A=x(s,f,g,M,v,p))}else{if(w&&(A=x(s,f,g,M,v,p),A!==0&&!d(c,s)))return!0;b&&(R=a(s,f,m,C,v,p))}return R!==0||A!==0};n.exports=l},21329:(n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=i(36294),x=function(d,l,o,s,f,c){var u=0,v=l.faceLeft,p=l.faceRight,m=l.collideLeft,g=l.collideRight;return c||(v=!0,p=!0,m=!0,g=!0),d.deltaX()<0&&g&&d.checkCollision.left?p&&d.x<s&&(u=d.x-s,u<-f&&(u=0)):d.deltaX()>0&&m&&d.checkCollision.right&&v&&d.right>o&&(u=d.right-o,u>f&&(u=0)),u!==0&&(d.customSeparateX?d.overlapX=u:a(d,u)),u};n.exports=x},53442:(n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=i(67013),x=function(d,l,o,s,f,c){var u=0,v=l.faceTop,p=l.faceBottom,m=l.collideUp,g=l.collideDown;return c||(v=!0,p=!0,m=!0,g=!0),d.deltaY()<0&&g&&d.checkCollision.up?p&&d.y<s&&(u=d.y-s,u<-f&&(u=0)):d.deltaY()>0&&m&&d.checkCollision.down&&v&&d.bottom>o&&(u=d.bottom-o,u>f&&(u=0)),u!==0&&(d.customSeparateY?d.overlapY=u:a(d,u)),u};n.exports=x},2483:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(i,a){return!(a.right<=i.left||a.bottom<=i.top||a.position.x>=i.right||a.position.y>=i.bottom)};n.exports=T},55173:(n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a={ProcessTileCallbacks:i(96602),ProcessTileSeparationX:i(36294),ProcessTileSeparationY:i(67013),SeparateTile:i(40012),TileCheckX:i(21329),TileCheckY:i(53442),TileIntersectsBody:i(2483)};n.exports=a},44563:(n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports={Arcade:i(27064),Matter:i(3875)}},68174:(n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=i(83419),x=i(26099),d=new a({initialize:function(){this.boundsCenter=new x,this.centerDiff=new x},parseBody:function(l){if(l=l.hasOwnProperty("body")?l.body:l,!l.hasOwnProperty("bounds")||!l.hasOwnProperty("centerOfMass"))return!1;var o=this.boundsCenter,s=this.centerDiff,f=l.bounds.max.x-l.bounds.min.x,c=l.bounds.max.y-l.bounds.min.y,u=f*l.centerOfMass.x,v=c*l.centerOfMass.y;return o.set(f/2,c/2),s.set(u-o.x,v-o.y),!0},getTopLeft:function(l,o,s){if(o===void 0&&(o=0),s===void 0&&(s=0),this.parseBody(l)){var f=this.boundsCenter,c=this.centerDiff;return new x(o+f.x+c.x,s+f.y+c.y)}return!1},getTopCenter:function(l,o,s){if(o===void 0&&(o=0),s===void 0&&(s=0),this.parseBody(l)){var f=this.boundsCenter,c=this.centerDiff;return new x(o+c.x,s+f.y+c.y)}return!1},getTopRight:function(l,o,s){if(o===void 0&&(o=0),s===void 0&&(s=0),this.parseBody(l)){var f=this.boundsCenter,c=this.centerDiff;return new x(o-(f.x-c.x),s+f.y+c.y)}return!1},getLeftCenter:function(l,o,s){if(o===void 0&&(o=0),s===void 0&&(s=0),this.parseBody(l)){var f=this.boundsCenter,c=this.centerDiff;return new x(o+f.x+c.x,s+c.y)}return!1},getCenter:function(l,o,s){if(o===void 0&&(o=0),s===void 0&&(s=0),this.parseBody(l)){var f=this.centerDiff;return new x(o+f.x,s+f.y)}return!1},getRightCenter:function(l,o,s){if(o===void 0&&(o=0),s===void 0&&(s=0),this.parseBody(l)){var f=this.boundsCenter,c=this.centerDiff;return new x(o-(f.x-c.x),s+c.y)}return!1},getBottomLeft:function(l,o,s){if(o===void 0&&(o=0),s===void 0&&(s=0),this.parseBody(l)){var f=this.boundsCenter,c=this.centerDiff;return new x(o+f.x+c.x,s-(f.y-c.y))}return!1},getBottomCenter:function(l,o,s){if(o===void 0&&(o=0),s===void 0&&(s=0),this.parseBody(l)){var f=this.boundsCenter,c=this.centerDiff;return new x(o+c.x,s-(f.y-c.y))}return!1},getBottomRight:function(l,o,s){if(o===void 0&&(o=0),s===void 0&&(s=0),this.parseBody(l)){var f=this.boundsCenter,c=this.centerDiff;return new x(o-(f.x-c.x),s-(f.y-c.y))}return!1}});n.exports=d},19933:(n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=i(6790);a.Body=i(22562),a.Composite=i(69351),a.World=i(4372),a.Collision=i(52284),a.Detector=i(81388),a.Pairs=i(99561),a.Pair=i(4506),a.Query=i(73296),a.Resolver=i(66272),a.Constraint=i(48140),a.Common=i(53402),a.Engine=i(48413),a.Events=i(35810),a.Sleeping=i(53614),a.Plugin=i(73832),a.Bodies=i(66280),a.Composites=i(74116),a.Axes=i(66615),a.Bounds=i(15647),a.Svg=i(74058),a.Vector=i(31725),a.Vertices=i(41598),a.World.add=a.Composite.add,a.World.remove=a.Composite.remove,a.World.addComposite=a.Composite.addComposite,a.World.addBody=a.Composite.addBody,a.World.addConstraint=a.Composite.addConstraint,a.World.clear=a.Composite.clear,n.exports=a},28137:(n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=i(66280),x=i(83419),d=i(74116),l=i(48140),o=i(74058),s=i(75803),f=i(23181),c=i(34803),u=i(73834),v=i(19496),p=i(85791),m=i(98713),g=i(41598),C=new x({initialize:function(b){this.world=b,this.scene=b.scene,this.sys=b.scene.sys},rectangle:function(M,b,w,R,A){var L=a.rectangle(M,b,w,R,A);return this.world.add(L),L},trapezoid:function(M,b,w,R,A,L){var D=a.trapezoid(M,b,w,R,A,L);return this.world.add(D),D},circle:function(M,b,w,R,A){var L=a.circle(M,b,w,R,A);return this.world.add(L),L},polygon:function(M,b,w,R,A){var L=a.polygon(M,b,w,R,A);return this.world.add(L),L},fromVertices:function(M,b,w,R,A,L,D){typeof w=="string"&&(w=g.fromPath(w));var G=a.fromVertices(M,b,w,R,A,L,D);return this.world.add(G),G},fromPhysicsEditor:function(M,b,w,R,A){A===void 0&&(A=!0);var L=v.parseBody(M,b,w,R);return A&&!this.world.has(L)&&this.world.add(L),L},fromSVG:function(M,b,w,R,A,L){R===void 0&&(R=1),A===void 0&&(A={}),L===void 0&&(L=!0);for(var D=w.getElementsByTagName("path"),G=[],B=0;B<D.length;B++){var I=o.pathToVertices(D[B],30);R!==1&&g.scale(I,R,R),G.push(I)}var k=a.fromVertices(M,b,G,A);return L&&this.world.add(k),k},fromJSON:function(M,b,w,R,A){R===void 0&&(R={}),A===void 0&&(A=!0);var L=p.parseBody(M,b,w,R);return L&&A&&this.world.add(L),L},imageStack:function(M,b,w,R,A,L,D,G,B){D===void 0&&(D=0),G===void 0&&(G=0),B===void 0&&(B={});var I=this.world,k=this.sys.displayList;B.addToWorld=!1;var z=d.stack(w,R,A,L,D,G,function(X,H){var Q=new f(I,X,H,M,b,B);return k.add(Q),Q.body});return I.add(z),z},stack:function(M,b,w,R,A,L,D){var G=d.stack(M,b,w,R,A,L,D);return this.world.add(G),G},pyramid:function(M,b,w,R,A,L,D){var G=d.pyramid(M,b,w,R,A,L,D);return this.world.add(G),G},chain:function(M,b,w,R,A,L){return d.chain(M,b,w,R,A,L)},mesh:function(M,b,w,R,A){return d.mesh(M,b,w,R,A)},newtonsCradle:function(M,b,w,R,A){var L=d.newtonsCradle(M,b,w,R,A);return this.world.add(L),L},car:function(M,b,w,R,A){var L=d.car(M,b,w,R,A);return this.world.add(L),L},softBody:function(M,b,w,R,A,L,D,G,B,I){var k=d.softBody(M,b,w,R,A,L,D,G,B,I);return this.world.add(k),k},joint:function(M,b,w,R,A){return this.constraint(M,b,w,R,A)},spring:function(M,b,w,R,A){return this.constraint(M,b,w,R,A)},constraint:function(M,b,w,R,A){R===void 0&&(R=1),A===void 0&&(A={}),A.bodyA=M.type==="body"?M:M.body,A.bodyB=b.type==="body"?b:b.body,isNaN(w)||(A.length=w),A.stiffness=R;var L=l.create(A);return this.world.add(L),L},worldConstraint:function(M,b,w,R){w===void 0&&(w=1),R===void 0&&(R={}),R.bodyB=M.type==="body"?M:M.body,isNaN(b)||(R.length=b),R.stiffness=w;var A=l.create(R);return this.world.add(A),A},mouseSpring:function(M){return this.pointerConstraint(M)},pointerConstraint:function(M){M===void 0&&(M={}),M.hasOwnProperty("render")||(M.render={visible:!1});var b=new m(this.scene,this.world,M);return this.world.add(b.constraint),b},image:function(M,b,w,R,A){var L=new f(this.world,M,b,w,R,A);return this.sys.displayList.add(L),L},tileBody:function(M,b){return new u(this.world,M,b)},sprite:function(M,b,w,R,A){var L=new c(this.world,M,b,w,R,A);return this.sys.displayList.add(L),this.sys.updateList.add(L),L},gameObject:function(M,b,w){return s(this.world,M,b,w)},destroy:function(){this.world=null,this.scene=null,this.sys=null}});n.exports=C},75803:(n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=i(31884),x=i(95540),d=i(26099);function l(s){return!!s.get&&typeof s.get=="function"||!!s.set&&typeof s.set=="function"}var o=function(s,f,c,u){c===void 0&&(c={}),u===void 0&&(u=!0);var v=f.x,p=f.y;f.body={temp:!0,position:{x:v,y:p}};var m=[a.Bounce,a.Collision,a.Force,a.Friction,a.Gravity,a.Mass,a.Sensor,a.SetBody,a.Sleep,a.Static,a.Transform,a.Velocity];if(m.forEach(function(C){for(var M in C)l(C[M])?Object.defineProperty(f,M,{get:C[M].get,set:C[M].set}):Object.defineProperty(f,M,{value:C[M]})}),f.world=s,f._tempVec2=new d(v,p),c.hasOwnProperty("type")&&c.type==="body")f.setExistingBody(c,u);else{var g=x(c,"shape",null);g||(g="rectangle"),c.addToWorld=u,f.setBody(g,c)}return f};n.exports=o},23181:(n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=i(83419),x=i(31884),d=i(95643),l=i(95540),o=i(88571),s=i(72699),f=i(26099),c=new a({Extends:o,Mixins:[x.Bounce,x.Collision,x.Force,x.Friction,x.Gravity,x.Mass,x.Sensor,x.SetBody,x.Sleep,x.Static,x.Transform,x.Velocity,s],initialize:function(v,p,m,g,C,M){d.call(this,v.scene,"Image"),this._crop=this.resetCropObject(),this.setTexture(g,C),this.setSizeToFrame(),this.setOrigin(),this.world=v,this._tempVec2=new f(p,m);var b=l(M,"shape",null);b?this.setBody(b,M):this.setRectangle(this.width,this.height,M),this.setPosition(p,m),this.initPipeline(),this.initPostPipeline(!0)}});n.exports=c},42045:(n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=i(60461),x=i(66615),d=i(66280),l=i(22562),o=i(68174),s=i(15647),f=i(83419),c=i(52284),u=i(53402),v=i(69351),p=i(74116),m=i(48140),g=i(81388),C=i(20339),M=i(28137),b=i(95540),w=i(35154),R=i(46975),A=i(4506),L=i(99561),D=i(37277),G=i(73296),B=i(66272),I=i(44594),k=i(74058),z=i(31725),X=i(41598),H=i(68243);u.setDecomp(i(55973));var Q=new f({initialize:function(Y){this.scene=Y,this.systems=Y.sys,this.config=this.getConfig(),this.world,this.add,this.bodyBounds,this.body=l,this.composite=v,this.collision=c,this.detector=g,this.pair=A,this.pairs=L,this.query=G,this.resolver=B,this.constraint=m,this.bodies=d,this.composites=p,this.axes=x,this.bounds=s,this.svg=k,this.vector=z,this.vertices=X,this.verts=X,this._tempVec2=z.create(),B._restingThresh=w(this.config,"restingThresh",4),B._restingThreshTangent=w(this.config,"restingThreshTangent",6),B._positionDampen=w(this.config,"positionDampen",.9),B._positionWarming=w(this.config,"positionWarming",.8),B._frictionNormalMultiplier=w(this.config,"frictionNormalMultiplier",5),Y.sys.events.once(I.BOOT,this.boot,this),Y.sys.events.on(I.START,this.start,this)},boot:function(){this.world=new H(this.scene,this.config),this.add=new M(this.world),this.bodyBounds=new o,this.systems.events.once(I.DESTROY,this.destroy,this)},start:function(){this.world||(this.world=new H(this.scene,this.config),this.add=new M(this.world));var J=this.systems.events;J.on(I.UPDATE,this.world.update,this.world),J.on(I.POST_UPDATE,this.world.postUpdate,this.world),J.once(I.SHUTDOWN,this.shutdown,this)},getConfig:function(){var J=this.systems.game.config.physics,Y=this.systems.settings.physics,$=R(b(Y,"matter",{}),b(J,"matter",{}));return $},pause:function(){return this.world.pause()},resume:function(){return this.world.resume()},set60Hz:function(){return this.world.getDelta=this.world.update60Hz,this.world.autoUpdate=!0,this},set30Hz:function(){return this.world.getDelta=this.world.update30Hz,this.world.autoUpdate=!0,this},step:function(J,Y){this.world.step(J,Y)},containsPoint:function(J,Y,$){J=this.getMatterBodies(J);var V=z.create(Y,$),U=G.point(J,V);return U.length>0},intersectPoint:function(J,Y,$){$=this.getMatterBodies($);var V=z.create(J,Y),U=[],K=G.point($,V);return K.forEach(function(j){U.indexOf(j)===-1&&U.push(j)}),U},intersectRect:function(J,Y,$,V,U,K){U===void 0&&(U=!1),K=this.getMatterBodies(K);var j={min:{x:J,y:Y},max:{x:J+$,y:Y+V}},_=[],tt=G.region(K,j,U);return tt.forEach(function(rt){_.indexOf(rt)===-1&&_.push(rt)}),_},intersectRay:function(J,Y,$,V,U,K){U===void 0&&(U=1),K=this.getMatterBodies(K);for(var j=[],_=G.ray(K,z.create(J,Y),z.create($,V),U),tt=0;tt<_.length;tt++)j.push(_[tt].body);return j},intersectBody:function(J,Y){Y=this.getMatterBodies(Y);for(var $=[],V=G.collides(J,Y),U=0;U<V.length;U++){var K=V[U];K.bodyA===J?$.push(K.bodyB):$.push(K.bodyA)}return $},overlap:function(J,Y,$,V,U){$===void 0&&($=null),V===void 0&&(V=null),U===void 0&&(U=$),Array.isArray(J)||(J=[J]),J=this.getMatterBodies(J),Y=this.getMatterBodies(Y);for(var K=!1,j=0;j<J.length;j++)for(var _=J[j],tt=G.collides(_,Y),rt=0;rt<tt.length;rt++){var ot=tt[rt],ft=ot.bodyA.id===_.id?ot.bodyB:ot.bodyA;if(!V||V.call(U,_,ft,ot)){if(K=!0,$)$.call(U,_,ft,ot);else if(!V)return!0}}return K},setCollisionCategory:function(J,Y){return J=this.getMatterBodies(J),J.forEach(function($){$.collisionFilter.category=Y}),this},setCollisionGroup:function(J,Y){return J=this.getMatterBodies(J),J.forEach(function($){$.collisionFilter.group=Y}),this},setCollidesWith:function(J,Y){J=this.getMatterBodies(J);var $=0;if(!Array.isArray(Y))$=Y;else for(var V=0;V<Y.length;V++)$|=Y[V];return J.forEach(function(U){U.collisionFilter.mask=$}),this},getMatterBodies:function(J){if(!J)return this.world.getAllBodies();Array.isArray(J)||(J=[J]);for(var Y=[],$=0;$<J.length;$++){var V=J[$].hasOwnProperty("body")?J[$].body:J[$];Y.push(V)}return Y},setVelocity:function(J,Y,$){J=this.getMatterBodies(J);var V=this._tempVec2;return V.x=Y,V.y=$,J.forEach(function(U){l.setVelocity(U,V)}),this},setVelocityX:function(J,Y){J=this.getMatterBodies(J);var $=this._tempVec2;return $.x=Y,J.forEach(function(V){$.y=V.velocity.y,l.setVelocity(V,$)}),this},setVelocityY:function(J,Y){J=this.getMatterBodies(J);var $=this._tempVec2;return $.y=Y,J.forEach(function(V){$.x=V.velocity.x,l.setVelocity(V,$)}),this},setAngularVelocity:function(J,Y){return J=this.getMatterBodies(J),J.forEach(function($){l.setAngularVelocity($,Y)}),this},applyForce:function(J,Y){J=this.getMatterBodies(J);var $=this._tempVec2;return J.forEach(function(V){$.x=V.position.x,$.y=V.position.y,l.applyForce(V,$,Y)}),this},applyForceFromPosition:function(J,Y,$,V){J=this.getMatterBodies(J);var U=this._tempVec2;return J.forEach(function(K){V===void 0&&(V=K.angle),U.x=$*Math.cos(V),U.y=$*Math.sin(V),l.applyForce(K,Y,U)}),this},applyForceFromAngle:function(J,Y,$){J=this.getMatterBodies(J);var V=this._tempVec2;return J.forEach(function(U){$===void 0&&($=U.angle),V.x=Y*Math.cos($),V.y=Y*Math.sin($),l.applyForce(U,{x:U.position.x,y:U.position.y},V)}),this},getConstraintLength:function(J){var Y=J.pointA.x,$=J.pointA.y,V=J.pointB.x,U=J.pointB.y;return J.bodyA&&(Y+=J.bodyA.position.x,$+=J.bodyA.position.y),J.bodyB&&(V+=J.bodyB.position.x,U+=J.bodyB.position.y),C(Y,$,V,U)},alignBody:function(J,Y,$,V){J=J.hasOwnProperty("body")?J.body:J;var U;switch(V){case a.TOP_LEFT:case a.LEFT_TOP:U=this.bodyBounds.getTopLeft(J,Y,$);break;case a.TOP_CENTER:U=this.bodyBounds.getTopCenter(J,Y,$);break;case a.TOP_RIGHT:case a.RIGHT_TOP:U=this.bodyBounds.getTopRight(J,Y,$);break;case a.LEFT_CENTER:U=this.bodyBounds.getLeftCenter(J,Y,$);break;case a.CENTER:U=this.bodyBounds.getCenter(J,Y,$);break;case a.RIGHT_CENTER:U=this.bodyBounds.getRightCenter(J,Y,$);break;case a.LEFT_BOTTOM:case a.BOTTOM_LEFT:U=this.bodyBounds.getBottomLeft(J,Y,$);break;case a.BOTTOM_CENTER:U=this.bodyBounds.getBottomCenter(J,Y,$);break;case a.BOTTOM_RIGHT:case a.RIGHT_BOTTOM:U=this.bodyBounds.getBottomRight(J,Y,$);break}return U&&l.setPosition(J,U),this},shutdown:function(){var J=this.systems.events;this.world&&(J.off(I.UPDATE,this.world.update,this.world),J.off(I.POST_UPDATE,this.world.postUpdate,this.world)),J.off(I.SHUTDOWN,this.shutdown,this),this.add&&this.add.destroy(),this.world&&this.world.destroy(),this.add=null,this.world=null},destroy:function(){this.shutdown(),this.scene.sys.events.off(I.START,this.start,this),this.scene=null,this.systems=null}});D.register("MatterPhysics",Q,"matterPhysics"),n.exports=Q},34803:(n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=i(9674),x=i(83419),d=i(31884),l=i(95643),o=i(95540),s=i(72699),f=i(68287),c=i(26099),u=new x({Extends:f,Mixins:[d.Bounce,d.Collision,d.Force,d.Friction,d.Gravity,d.Mass,d.Sensor,d.SetBody,d.Sleep,d.Static,d.Transform,d.Velocity,s],initialize:function(p,m,g,C,M,b){l.call(this,p.scene,"Sprite"),this._crop=this.resetCropObject(),this.anims=new a(this),this.setTexture(C,M),this.setSizeToFrame(),this.setOrigin(),this.world=p,this._tempVec2=new c(m,g);var w=o(b,"shape",null);w?this.setBody(w,b):this.setRectangle(this.width,this.height,b),this.setPosition(m,g),this.initPipeline(),this.initPostPipeline(!0)}});n.exports=u},73834:(n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=i(66280),x=i(22562),d=i(83419),l=i(31884),o=i(62644),s=i(50792),f=i(95540),c=i(97022),u=i(41598),v=new d({Extends:s,Mixins:[l.Bounce,l.Collision,l.Friction,l.Gravity,l.Mass,l.Sensor,l.Sleep,l.Static],initialize:function(m,g,C){s.call(this),this.tile=g,this.world=m,g.physics.matterBody&&g.physics.matterBody.destroy(),g.physics.matterBody=this;var M=f(C,"body",null),b=f(C,"addToWorld",!0);if(M)this.setBody(M,b);else{var w=g.getCollisionGroup(),R=f(w,"objects",[]);R.length>0?this.setFromTileCollision(C):this.setFromTileRectangle(C)}if(g.flipX||g.flipY){var A={x:g.getCenterX(),y:g.getCenterY()},L=g.flipX?-1:1,D=g.flipY?-1:1;x.scale(M,L,D,A)}},setFromTileRectangle:function(p){p===void 0&&(p={}),c(p,"isStatic")||(p.isStatic=!0),c(p,"addToWorld")||(p.addToWorld=!0);var m=this.tile.getBounds(),g=m.x+m.width/2,C=m.y+m.height/2,M=a.rectangle(g,C,m.width,m.height,p);return this.setBody(M,p.addToWorld),this},setFromTileCollision:function(p){p===void 0&&(p={}),c(p,"isStatic")||(p.isStatic=!0),c(p,"addToWorld")||(p.addToWorld=!0);for(var m=this.tile.tilemapLayer.scaleX,g=this.tile.tilemapLayer.scaleY,C=this.tile.getLeft(),M=this.tile.getTop(),b=this.tile.getCollisionGroup(),w=f(b,"objects",[]),R=[],A=0;A<w.length;A++){var L=w[A],D=C+L.x*m,G=M+L.y*g,B=L.width*m,I=L.height*g,k=null;if(L.rectangle)k=a.rectangle(D+B/2,G+I/2,B,I,p);else if(L.ellipse)k=a.circle(D+B/2,G+I/2,B/2,p);else if(L.polygon||L.polyline){var z=L.polygon?L.polygon:L.polyline,X=z.map(function(Y){return{x:Y.x*m,y:Y.y*g}}),H=u.create(X),Q=u.centre(H);D+=Q.x,G+=Q.y,k=a.fromVertices(D,G,H,p)}k&&R.push(k)}if(R.length===1)this.setBody(R[0],p.addToWorld);else if(R.length>1){var J=o(p);J.parts=R,this.setBody(x.create(J),J.addToWorld)}return this},setBody:function(p,m){return m===void 0&&(m=!0),this.body&&this.removeBody(),this.body=p,this.body.gameObject=this,m&&this.world.add(this.body),this},removeBody:function(){return this.body&&(this.world.remove(this.body),this.body.gameObject=void 0,this.body=void 0),this},destroy:function(){this.removeBody(),this.tile.physics.matterBody=void 0,this.removeAllListeners()}});n.exports=v},19496:(n,T,i)=>{/**
 * @author       Joachim Grill <joachim@codeandweb.com>
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2018 CodeAndWeb GmbH
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=i(66280),x=i(22562),d=i(53402),l=i(95540),o=i(41598),s={parseBody:function(f,c,u,v){v===void 0&&(v={});for(var p=l(u,"fixtures",[]),m=[],g=0;g<p.length;g++)for(var C=this.parseFixture(p[g]),M=0;M<C.length;M++)m.push(C[M]);var b=d.clone(u,!0);d.extend(b,v,!0),delete b.fixtures,delete b.type;var w=x.create(b);return x.setParts(w,m),x.setPosition(w,{x:f,y:c}),w},parseFixture:function(f){var c=d.extend({},!1,f);delete c.circle,delete c.vertices;var u;if(f.circle){var v=l(f.circle,"x"),p=l(f.circle,"y"),m=l(f.circle,"radius");u=[a.circle(v,p,m,c)]}else f.vertices&&(u=this.parseVertices(f.vertices,c));return u},parseVertices:function(f,c){c===void 0&&(c={});for(var u=[],v=0;v<f.length;v++)o.clockwiseSort(f[v]),u.push(x.create(d.extend({position:o.centre(f[v]),vertices:f[v]},c)));return a.flagCoincidentParts(u)}};n.exports=s},85791:(n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=i(66280),x=i(22562),d={parseBody:function(l,o,s,f){f===void 0&&(f={});var c,u=s.vertices;if(u.length===1)f.vertices=u[0],c=x.create(f),a.flagCoincidentParts(c.parts);else{for(var v=[],p=0;p<u.length;p++){var m=x.create({vertices:u[p]});v.push(m)}a.flagCoincidentParts(v),f.parts=v,c=x.create(f)}return c.label=s.label,x.setPosition(c,{x:l,y:o}),c}};n.exports=d},98713:(n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=i(15647),x=i(83419),d=i(69351),l=i(48140),o=i(81388),s=i(1121),f=i(8214),c=i(46975),u=i(53614),v=i(26099),p=i(41598),m=new x({initialize:function(C,M,b){b===void 0&&(b={});var w={label:"Pointer Constraint",pointA:{x:0,y:0},pointB:{x:0,y:0},length:.01,stiffness:.1,angularStiffness:1,collisionFilter:{category:1,mask:4294967295,group:0}};this.scene=C,this.world=M,this.camera=null,this.pointer=null,this.active=!0,this.position=new v,this.body=null,this.part=null,this.constraint=l.create(c(b,w)),this.world.on(s.BEFORE_UPDATE,this.update,this),C.sys.input.on(f.POINTER_DOWN,this.onDown,this),C.sys.input.on(f.POINTER_UP,this.onUp,this)},onDown:function(g){this.pointer||(this.pointer=g,this.camera=g.camera)},onUp:function(g){g===this.pointer&&(this.pointer=null)},getBody:function(g){var C=this.position,M=this.constraint;this.camera.getWorldPoint(g.x,g.y,C);for(var b=d.allBodies(this.world.localWorld),w=0;w<b.length;w++){var R=b[w];if(!R.ignorePointer&&a.contains(R.bounds,C)&&o.canCollide(R.collisionFilter,M.collisionFilter)&&this.hitTestBody(R,C))return this.world.emit(s.DRAG_START,R,this.part,this),!0}return!1},hitTestBody:function(g,C){for(var M=this.constraint,b=g.parts.length,w=b>1?1:0,R=w;R<b;R++){var A=g.parts[R];if(p.contains(A.vertices,C))return M.pointA=C,M.pointB={x:C.x-g.position.x,y:C.y-g.position.y},M.bodyB=g,M.angleB=g.angle,u.set(g,!1),this.part=A,this.body=g,!0}return!1},update:function(){var g=this.pointer,C=this.body;if(!this.active||!g){C&&this.stopDrag();return}if(!g.isDown&&C){this.stopDrag();return}else if(g.isDown){if(!this.camera||!C&&!this.getBody(g))return;C=this.body;var M=this.position,b=this.constraint;this.camera.getWorldPoint(g.x,g.y,M),b.pointA.x=M.x,b.pointA.y=M.y,u.set(C,!1),this.world.emit(s.DRAG,C,this)}},stopDrag:function(){var g=this.body,C=this.constraint;C.bodyB=null,C.pointB=null,this.pointer=null,this.body=null,this.part=null,g&&this.world.emit(s.DRAG_END,g,this)},destroy:function(){this.world.removeConstraint(this.constraint),this.pointer=null,this.constraint=null,this.body=null,this.part=null,this.world.off(s.BEFORE_UPDATE,this.update),this.scene.sys.input.off(f.POINTER_DOWN,this.onDown,this),this.scene.sys.input.off(f.POINTER_UP,this.onUp,this)}});n.exports=m},68243:(n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=i(66280),x=i(22562),d=i(83419),l=i(53402),o=i(69351),s=i(48413),f=i(50792),c=i(1121),u=i(95540),v=i(35154),p=i(22562),m=i(35810),g=i(73834),C=i(4372),M=i(13037),b=i(31725),w=new d({Extends:f,initialize:function(A,L){f.call(this),this.scene=A,this.engine=s.create(L),this.localWorld=this.engine.world;var D=v(L,"gravity",null);D?this.setGravity(D.x,D.y,D.scale):D===!1&&this.setGravity(0,0,0),this.walls={left:null,right:null,top:null,bottom:null},this.enabled=v(L,"enabled",!0),this.getDelta=v(L,"getDelta",this.update60Hz);var G=u(L,"runner",{}),B=u(G,"fps",!1);B&&(G.delta=1e3/u(G,"fps",60)),this.runner=M.create(G),this.autoUpdate=v(L,"autoUpdate",!0);var I=v(L,"debug",!1);if(this.drawDebug=typeof I=="object"?!0:I,this.debugGraphic,this.debugConfig={showAxes:u(I,"showAxes",!1),showAngleIndicator:u(I,"showAngleIndicator",!1),angleColor:u(I,"angleColor",15208787),showBroadphase:u(I,"showBroadphase",!1),broadphaseColor:u(I,"broadphaseColor",16757760),showBounds:u(I,"showBounds",!1),boundsColor:u(I,"boundsColor",16777215),showVelocity:u(I,"showVelocity",!1),velocityColor:u(I,"velocityColor",44783),showCollisions:u(I,"showCollisions",!1),collisionColor:u(I,"collisionColor",16094476),showSeparations:u(I,"showSeparations",!1),separationColor:u(I,"separationColor",16753920),showBody:u(I,"showBody",!0),showStaticBody:u(I,"showStaticBody",!0),showInternalEdges:u(I,"showInternalEdges",!1),renderFill:u(I,"renderFill",!1),renderLine:u(I,"renderLine",!0),fillColor:u(I,"fillColor",1075465),fillOpacity:u(I,"fillOpacity",1),lineColor:u(I,"lineColor",2678297),lineOpacity:u(I,"lineOpacity",1),lineThickness:u(I,"lineThickness",1),staticFillColor:u(I,"staticFillColor",857979),staticLineColor:u(I,"staticLineColor",1255396),showSleeping:u(I,"showSleeping",!1),staticBodySleepOpacity:u(I,"staticBodySleepOpacity",.7),sleepFillColor:u(I,"sleepFillColor",4605510),sleepLineColor:u(I,"sleepLineColor",10066585),showSensors:u(I,"showSensors",!0),sensorFillColor:u(I,"sensorFillColor",857979),sensorLineColor:u(I,"sensorLineColor",1255396),showPositions:u(I,"showPositions",!0),positionSize:u(I,"positionSize",4),positionColor:u(I,"positionColor",14697178),showJoint:u(I,"showJoint",!0),jointColor:u(I,"jointColor",14737474),jointLineOpacity:u(I,"jointLineOpacity",1),jointLineThickness:u(I,"jointLineThickness",2),pinSize:u(I,"pinSize",4),pinColor:u(I,"pinColor",4382944),springColor:u(I,"springColor",14697184),anchorColor:u(I,"anchorColor",15724527),anchorSize:u(I,"anchorSize",4),showConvexHulls:u(I,"showConvexHulls",!1),hullColor:u(I,"hullColor",14091216)},this.drawDebug&&this.createDebugGraphic(),this.setEventsProxy(),u(L,"setBounds",!1)){var k=L.setBounds;if(typeof k=="boolean")this.setBounds();else{var z=u(k,"x",0),X=u(k,"y",0),H=u(k,"width",A.sys.scale.width),Q=u(k,"height",A.sys.scale.height),J=u(k,"thickness",64),Y=u(k,"left",!0),$=u(k,"right",!0),V=u(k,"top",!0),U=u(k,"bottom",!0);this.setBounds(z,X,H,Q,J,Y,$,V,U)}}},setCompositeRenderStyle:function(R){var A=R.bodies,L=R.constraints,D=R.composites,G,B,I;for(G=0;G<A.length;G++)B=A[G],I=B.render,this.setBodyRenderStyle(B,I.lineColor,I.lineOpacity,I.lineThickness,I.fillColor,I.fillOpacity);for(G=0;G<L.length;G++)B=L[G],I=B.render,this.setConstraintRenderStyle(B,I.lineColor,I.lineOpacity,I.lineThickness,I.pinSize,I.anchorColor,I.anchorSize);for(G=0;G<D.length;G++)B=D[G],this.setCompositeRenderStyle(B);return this},setBodyRenderStyle:function(R,A,L,D,G,B){var I=R.render,k=this.debugConfig;return I?(A==null&&(A=R.isStatic?k.staticLineColor:k.lineColor),L==null&&(L=k.lineOpacity),D==null&&(D=k.lineThickness),G==null&&(G=R.isStatic?k.staticFillColor:k.fillColor),B==null&&(B=k.fillOpacity),A!==!1&&(I.lineColor=A),L!==!1&&(I.lineOpacity=L),D!==!1&&(I.lineThickness=D),G!==!1&&(I.fillColor=G),B!==!1&&(I.fillOpacity=B),this):this},setConstraintRenderStyle:function(R,A,L,D,G,B,I){var k=R.render,z=this.debugConfig;if(!k)return this;if(A==null){var X=k.type;X==="line"?A=z.jointColor:X==="pin"?A=z.pinColor:X==="spring"&&(A=z.springColor)}return L==null&&(L=z.jointLineOpacity),D==null&&(D=z.jointLineThickness),G==null&&(G=z.pinSize),B==null&&(B=z.anchorColor),I==null&&(I=z.anchorSize),A!==!1&&(k.lineColor=A),L!==!1&&(k.lineOpacity=L),D!==!1&&(k.lineThickness=D),G!==!1&&(k.pinSize=G),B!==!1&&(k.anchorColor=B),I!==!1&&(k.anchorSize=I),this},setEventsProxy:function(){var R=this,A=this.engine,L=this.localWorld;this.drawDebug&&(m.on(L,"compositeModified",function(D){R.setCompositeRenderStyle(D)}),m.on(L,"beforeAdd",function(D){for(var G=[].concat(D.object),B=0;B<G.length;B++){var I=G[B],k=I.render;I.type==="body"?R.setBodyRenderStyle(I,k.lineColor,k.lineOpacity,k.lineThickness,k.fillColor,k.fillOpacity):I.type==="composite"?R.setCompositeRenderStyle(I):I.type==="constraint"&&R.setConstraintRenderStyle(I,k.lineColor,k.lineOpacity,k.lineThickness,k.pinSize,k.anchorColor,k.anchorSize)}})),m.on(L,"beforeAdd",function(D){R.emit(c.BEFORE_ADD,D)}),m.on(L,"afterAdd",function(D){R.emit(c.AFTER_ADD,D)}),m.on(L,"beforeRemove",function(D){R.emit(c.BEFORE_REMOVE,D)}),m.on(L,"afterRemove",function(D){R.emit(c.AFTER_REMOVE,D)}),m.on(A,"beforeUpdate",function(D){R.emit(c.BEFORE_UPDATE,D)}),m.on(A,"afterUpdate",function(D){R.emit(c.AFTER_UPDATE,D)}),m.on(A,"collisionStart",function(D){var G=D.pairs,B,I;G.length>0&&G.map(function(k){B=k.bodyA,I=k.bodyB,B.gameObject&&B.gameObject.emit("collide",B,I,k),I.gameObject&&I.gameObject.emit("collide",I,B,k),m.trigger(B,"onCollide",{pair:k}),m.trigger(I,"onCollide",{pair:k}),B.onCollideCallback&&B.onCollideCallback(k),I.onCollideCallback&&I.onCollideCallback(k),B.onCollideWith[I.id]&&B.onCollideWith[I.id](I,k),I.onCollideWith[B.id]&&I.onCollideWith[B.id](B,k)}),R.emit(c.COLLISION_START,D,B,I)}),m.on(A,"collisionActive",function(D){var G=D.pairs,B,I;G.length>0&&G.map(function(k){B=k.bodyA,I=k.bodyB,B.gameObject&&B.gameObject.emit("collideActive",B,I,k),I.gameObject&&I.gameObject.emit("collideActive",I,B,k),m.trigger(B,"onCollideActive",{pair:k}),m.trigger(I,"onCollideActive",{pair:k}),B.onCollideActiveCallback&&B.onCollideActiveCallback(k),I.onCollideActiveCallback&&I.onCollideActiveCallback(k)}),R.emit(c.COLLISION_ACTIVE,D,B,I)}),m.on(A,"collisionEnd",function(D){var G=D.pairs,B,I;G.length>0&&G.map(function(k){B=k.bodyA,I=k.bodyB,B.gameObject&&B.gameObject.emit("collideEnd",B,I,k),I.gameObject&&I.gameObject.emit("collideEnd",I,B,k),m.trigger(B,"onCollideEnd",{pair:k}),m.trigger(I,"onCollideEnd",{pair:k}),B.onCollideEndCallback&&B.onCollideEndCallback(k),I.onCollideEndCallback&&I.onCollideEndCallback(k)}),R.emit(c.COLLISION_END,D,B,I)})},setBounds:function(R,A,L,D,G,B,I,k,z){return R===void 0&&(R=0),A===void 0&&(A=0),L===void 0&&(L=this.scene.sys.scale.width),D===void 0&&(D=this.scene.sys.scale.height),G===void 0&&(G=64),B===void 0&&(B=!0),I===void 0&&(I=!0),k===void 0&&(k=!0),z===void 0&&(z=!0),this.updateWall(B,"left",R-G,A-G,G,D+G*2),this.updateWall(I,"right",R+L,A-G,G,D+G*2),this.updateWall(k,"top",R,A-G,L,G),this.updateWall(z,"bottom",R,A+D,L,G),this},updateWall:function(R,A,L,D,G,B){var I=this.walls[A];R?(I&&C.remove(this.localWorld,I),L+=G/2,D+=B/2,this.walls[A]=this.create(L,D,G,B,{isStatic:!0,friction:0,frictionStatic:0})):(I&&C.remove(this.localWorld,I),this.walls[A]=null)},createDebugGraphic:function(){var R=this.scene.sys.add.graphics({x:0,y:0});return R.setDepth(Number.MAX_VALUE),this.debugGraphic=R,this.drawDebug=!0,R},disableGravity:function(){return this.localWorld.gravity.x=0,this.localWorld.gravity.y=0,this.localWorld.gravity.scale=0,this},setGravity:function(R,A,L){return R===void 0&&(R=0),A===void 0&&(A=1),L===void 0&&(L=.001),this.localWorld.gravity.x=R,this.localWorld.gravity.y=A,this.localWorld.gravity.scale=L,this},create:function(R,A,L,D,G){var B=a.rectangle(R,A,L,D,G);return C.add(this.localWorld,B),B},add:function(R){return C.add(this.localWorld,R),this},remove:function(R,A){Array.isArray(R)||(R=[R]);for(var L=0;L<R.length;L++){var D=R[L],G=D.body?D.body:D;o.remove(this.localWorld,G,A)}return this},removeConstraint:function(R,A){return o.remove(this.localWorld,R,A),this},convertTilemapLayer:function(R,A){var L=R.layer,D=R.getTilesWithin(0,0,L.width,L.height,{isColliding:!0});return this.convertTiles(D,A),this},convertTiles:function(R,A){if(R.length===0)return this;for(var L=0;L<R.length;L++)new g(this,R[L],A);return this},nextGroup:function(R){return p.nextGroup(R)},nextCategory:function(){return p.nextCategory()},pause:function(){return this.enabled=!1,this.emit(c.PAUSE),this},resume:function(){return this.enabled=!0,this.runner.timeLastTick=l.now(),this.emit(c.RESUME),this},update:function(R){if(!(!this.enabled||!this.autoUpdate)){var A=this.engine,L=this.runner,D=l.now(),G=L.delta,B=0,I=R-L.timeLastTick;if((!I||!L.timeLastTick||I>Math.max(M._maxFrameDelta,L.maxFrameTime))&&(I=L.frameDelta||M._frameDeltaFallback),L.frameDeltaSmoothing){L.frameDeltaHistory.push(I),L.frameDeltaHistory=L.frameDeltaHistory.slice(-L.frameDeltaHistorySize);var k=L.frameDeltaHistory.slice(0).sort(),z=L.frameDeltaHistory.slice(k.length*M._smoothingLowerBound,k.length*M._smoothingUpperBound),X=M._mean(z);I=X||I}L.frameDeltaSnapping&&(I=1e3/Math.round(1e3/I)),L.frameDelta=I,L.timeLastTick=R,L.timeBuffer+=L.frameDelta,L.timeBuffer=l.clamp(L.timeBuffer,0,L.frameDelta+G*M._timeBufferMargin),L.lastUpdatesDeferred=0;for(var H=L.maxUpdates||Math.ceil(L.maxFrameTime/G),Q=l.now();G>0&&L.timeBuffer>=G*M._timeBufferMargin;){s.update(A,G),L.timeBuffer-=G,B+=1;var J=l.now()-D,Y=l.now()-Q,$=J+M._elapsedNextEstimate*Y/B;if(B>=H||$>L.maxFrameTime){L.lastUpdatesDeferred=Math.round(Math.max(0,L.timeBuffer/G-M._timeBufferMargin));break}}}},step:function(R){s.update(this.engine,R)},update60Hz:function(){return 1e3/60},update30Hz:function(){return 1e3/30},has:function(R){var A=R.hasOwnProperty("body")?R.body:R;return o.get(this.localWorld,A.id,A.type)!==null},getAllBodies:function(){return o.allBodies(this.localWorld)},getAllConstraints:function(){return o.allConstraints(this.localWorld)},getAllComposites:function(){return o.allComposites(this.localWorld)},postUpdate:function(){if(this.drawDebug){var R=this.debugConfig,A=this.engine,L=this.debugGraphic,D=o.allBodies(this.localWorld);this.debugGraphic.clear(),R.showBroadphase&&A.broadphase.controller&&this.renderGrid(A.broadphase,L,R.broadphaseColor,.5),R.showBounds&&this.renderBodyBounds(D,L,R.boundsColor,.5),(R.showBody||R.showStaticBody)&&this.renderBodies(D),R.showJoint&&this.renderJoints(),(R.showAxes||R.showAngleIndicator)&&this.renderBodyAxes(D,L,R.showAxes,R.angleColor,.5),R.showVelocity&&this.renderBodyVelocity(D,L,R.velocityColor,1,2),R.showSeparations&&this.renderSeparations(A.pairs.list,L,R.separationColor),R.showCollisions&&this.renderCollisions(A.pairs.list,L,R.collisionColor)}},renderGrid:function(R,A,L,D){A.lineStyle(1,L,D);for(var G=l.keys(R.buckets),B=0;B<G.length;B++){var I=G[B];if(!(R.buckets[I].length<2)){var k=I.split(/C|R/);A.strokeRect(parseInt(k[1],10)*R.bucketWidth,parseInt(k[2],10)*R.bucketHeight,R.bucketWidth,R.bucketHeight)}}return this},renderSeparations:function(R,A,L){A.lineStyle(1,L,1);for(var D=0;D<R.length;D++){var G=R[D];if(G.isActive){var B=G.collision,I=B.bodyA,k=B.bodyB,z=I.position,X=k.position,H=B.penetration,Q=!I.isStatic&&!k.isStatic?4:1;k.isStatic&&(Q=0),A.lineBetween(X.x,X.y,X.x-H.x*Q,X.y-H.y*Q),Q=!I.isStatic&&!k.isStatic?4:1,I.isStatic&&(Q=0),A.lineBetween(z.x,z.y,z.x-H.x*Q,z.y-H.y*Q)}}return this},renderCollisions:function(R,A,L){A.lineStyle(1,L,.5),A.fillStyle(L,1);var D,G;for(D=0;D<R.length;D++)if(G=R[D],!!G.isActive)for(var B=0;B<G.contactCount;B++){var I=G.contacts[B],k=I.vertex;k&&A.fillRect(k.x-2,k.y-2,5,5)}for(D=0;D<R.length;D++)if(G=R[D],!!G.isActive){var z=G.collision,X=G.contacts;if(G.contactCount>0){var H=X[0].vertex.x,Q=X[0].vertex.y;G.contactCount===2&&(H=(X[0].vertex.x+X[1].vertex.x)/2,Q=(X[0].vertex.y+X[1].vertex.y)/2),z.bodyB===z.supports[0].body||z.bodyA.isStatic?A.lineBetween(H-z.normal.x*8,Q-z.normal.y*8,H,Q):A.lineBetween(H+z.normal.x*8,Q+z.normal.y*8,H,Q)}}return this},renderBodyBounds:function(R,A,L,D){A.lineStyle(1,L,D);for(var G=0;G<R.length;G++){var B=R[G];if(B.render.visible){var I=B.bounds;if(I)A.strokeRect(I.min.x,I.min.y,I.max.x-I.min.x,I.max.y-I.min.y);else for(var k=B.parts,z=k.length>1?1:0;z<k.length;z++){var X=k[z];A.strokeRect(X.bounds.min.x,X.bounds.min.y,X.bounds.max.x-X.bounds.min.x,X.bounds.max.y-X.bounds.min.y)}}}return this},renderBodyAxes:function(R,A,L,D,G){A.lineStyle(1,D,G);for(var B=0;B<R.length;B++){var I=R[B],k=I.parts;if(I.render.visible){var z,X,H;if(L)for(X=k.length>1?1:0;X<k.length;X++)for(z=k[X],H=0;H<z.axes.length;H++){var Q=z.axes[H];A.lineBetween(z.position.x,z.position.y,z.position.x+Q.x*20,z.position.y+Q.y*20)}else for(X=k.length>1?1:0;X<k.length;X++)for(z=k[X],H=0;H<z.axes.length;H++)A.lineBetween(z.position.x,z.position.y,(z.vertices[0].x+z.vertices[z.vertices.length-1].x)/2,(z.vertices[0].y+z.vertices[z.vertices.length-1].y)/2)}}return this},renderBodyVelocity:function(R,A,L,D,G){A.lineStyle(G,L,D);for(var B=0;B<R.length;B++){var I=R[B];I.render.visible&&A.lineBetween(I.position.x,I.position.y,I.position.x+(I.position.x-I.positionPrev.x)*2,I.position.y+(I.position.y-I.positionPrev.y)*2)}return this},renderBodies:function(R){for(var A=this.debugGraphic,L=this.debugConfig,D=L.showBody,G=L.showStaticBody,B=L.showSleeping,I=L.showInternalEdges,k=L.showConvexHulls,z=L.renderFill,X=L.renderLine,H=L.staticBodySleepOpacity,Q=L.sleepFillColor,J=L.sleepLineColor,Y=L.hullColor,$=0;$<R.length;$++){var V=R[$];if(V.render.visible&&!(!G&&V.isStatic||!D&&!V.isStatic)){var U=V.render.lineColor,K=V.render.lineOpacity,j=V.render.lineThickness,_=V.render.fillColor,tt=V.render.fillOpacity;B&&V.isSleeping&&(V.isStatic?(K*=H,tt*=H):(U=J,_=Q)),z||(_=null),X||(U=null),this.renderBody(V,A,I,U,K,j,_,tt);var rt=V.parts.length;k&&rt>1&&this.renderConvexHull(V,A,Y,j)}}},renderBody:function(R,A,L,D,G,B,I,k){D===void 0&&(D=null),G===void 0&&(G=null),B===void 0&&(B=1),I===void 0&&(I=null),k===void 0&&(k=null);for(var z=this.debugConfig,X=z.sensorFillColor,H=z.sensorLineColor,Q=R.parts,J=Q.length,Y=J>1?1:0;Y<J;Y++){var $=Q[Y],V=$.render,U=V.opacity;if(!(!V.visible||U===0||$.isSensor&&!z.showSensors)){var K=$.circleRadius;if(A.beginPath(),$.isSensor?(I!==null&&A.fillStyle(X,k*U),D!==null&&A.lineStyle(B,H,G*U)):(I!==null&&A.fillStyle(I,k*U),D!==null&&A.lineStyle(B,D,G*U)),K)A.arc($.position.x,$.position.y,K,0,2*Math.PI);else{var j=$.vertices,_=j.length;A.moveTo(j[0].x,j[0].y);for(var tt=1;tt<_;tt++){var rt=j[tt];if(!j[tt-1].isInternal||L?A.lineTo(rt.x,rt.y):A.moveTo(rt.x,rt.y),tt<_&&rt.isInternal&&!L){var ot=(tt+1)%_;A.moveTo(j[ot].x,j[ot].y)}}A.closePath()}I!==null&&A.fillPath(),D!==null&&A.strokePath()}}if(z.showPositions&&!R.isStatic){var ft=R.position.x,ct=R.position.y,gt=Math.ceil(z.positionSize/2);A.fillStyle(z.positionColor,1),A.fillRect(ft-gt,ct-gt,z.positionSize,z.positionSize)}return this},renderConvexHull:function(R,A,L,D){D===void 0&&(D=1);var G=R.parts,B=G.length;if(B>1){var I=R.vertices;A.lineStyle(D,L),A.beginPath(),A.moveTo(I[0].x,I[0].y);for(var k=1;k<I.length;k++)A.lineTo(I[k].x,I[k].y);A.lineTo(I[0].x,I[0].y),A.strokePath()}return this},renderJoints:function(){for(var R=this.debugGraphic,A=o.allConstraints(this.localWorld),L=0;L<A.length;L++){var D=A[L].render,G=D.lineColor,B=D.lineOpacity,I=D.lineThickness,k=D.pinSize,z=D.anchorColor,X=D.anchorSize;this.renderConstraint(A[L],R,G,B,I,k,z,X)}},renderConstraint:function(R,A,L,D,G,B,I,k){var z=R.render;if(!z.visible||!R.pointA||!R.pointB)return this;A.lineStyle(G,L,D);var X=R.bodyA,H=R.bodyB,Q,J;if(X?Q=b.add(X.position,R.pointA):Q=R.pointA,z.type==="pin")A.strokeCircle(Q.x,Q.y,B);else{if(H?J=b.add(H.position,R.pointB):J=R.pointB,A.beginPath(),A.moveTo(Q.x,Q.y),z.type==="spring")for(var Y=b.sub(J,Q),$=b.perp(b.normalise(Y)),V=Math.ceil(l.clamp(R.length/5,12,20)),U,K=1;K<V;K+=1)U=K%2===0?1:-1,A.lineTo(Q.x+Y.x*(K/V)+$.x*U*4,Q.y+Y.y*(K/V)+$.y*U*4);A.lineTo(J.x,J.y)}return A.strokePath(),z.anchors&&k>0&&(A.fillStyle(I),A.fillCircle(Q.x,Q.y,k),A.fillCircle(J.x,J.y,k)),this},resetCollisionIDs:function(){return x._nextCollidingGroupId=1,x._nextNonCollidingGroupId=-1,x._nextCategory=1,this},shutdown:function(){m.off(this.engine),this.removeAllListeners(),C.clear(this.localWorld,!1),s.clear(this.engine),this.drawDebug&&this.debugGraphic.destroy()},destroy:function(){this.shutdown()}});n.exports=w},70410:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T={setBounce:function(i){return this.body.restitution=i,this}};n.exports=T},66968:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T={setCollisionCategory:function(i){return this.body.collisionFilter.category=i,this},setCollisionGroup:function(i){return this.body.collisionFilter.group=i,this},setCollidesWith:function(i){var a=0;if(!Array.isArray(i))a=i;else for(var x=0;x<i.length;x++)a|=i[x];return this.body.collisionFilter.mask=a,this},setOnCollide:function(i){return this.body.onCollideCallback=i,this},setOnCollideEnd:function(i){return this.body.onCollideEndCallback=i,this},setOnCollideActive:function(i){return this.body.onCollideActiveCallback=i,this},setOnCollideWith:function(i,a){Array.isArray(i)||(i=[i]);for(var x=0;x<i.length;x++){var d=i[x].hasOwnProperty("body")?i[x].body:i[x];this.body.setOnCollideWith(d,a)}return this}};n.exports=T},51607:(n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=i(22562),x={applyForce:function(d){return this._tempVec2.set(this.body.position.x,this.body.position.y),a.applyForce(this.body,this._tempVec2,d),this},applyForceFrom:function(d,l){return a.applyForce(this.body,d,l),this},thrust:function(d){var l=this.body.angle;return this._tempVec2.set(d*Math.cos(l),d*Math.sin(l)),a.applyForce(this.body,{x:this.body.position.x,y:this.body.position.y},this._tempVec2),this},thrustLeft:function(d){var l=this.body.angle-Math.PI/2;return this._tempVec2.set(d*Math.cos(l),d*Math.sin(l)),a.applyForce(this.body,{x:this.body.position.x,y:this.body.position.y},this._tempVec2),this},thrustRight:function(d){var l=this.body.angle+Math.PI/2;return this._tempVec2.set(d*Math.cos(l),d*Math.sin(l)),a.applyForce(this.body,{x:this.body.position.x,y:this.body.position.y},this._tempVec2),this},thrustBack:function(d){var l=this.body.angle-Math.PI;return this._tempVec2.set(d*Math.cos(l),d*Math.sin(l)),a.applyForce(this.body,{x:this.body.position.x,y:this.body.position.y},this._tempVec2),this}};n.exports=x},5436:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T={setFriction:function(i,a,x){return this.body.friction=i,a!==void 0&&(this.body.frictionAir=a),x!==void 0&&(this.body.frictionStatic=x),this},setFrictionAir:function(i){return this.body.frictionAir=i,this},setFrictionStatic:function(i){return this.body.frictionStatic=i,this}};n.exports=T},39858:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T={setIgnoreGravity:function(i){return this.body.ignoreGravity=i,this}};n.exports=T},37302:(n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=i(22562),x=i(26099),d={setMass:function(l){return a.setMass(this.body,l),this},setDensity:function(l){return a.setDensity(this.body,l),this},centerOfMass:{get:function(){return new x(this.body.centerOfMass.x,this.body.centerOfMass.y)}}};n.exports=d},39132:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T={setSensor:function(i){return this.body.isSensor=i,this},isSensor:function(){return this.body.isSensor}};n.exports=T},57772:(n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=i(66280),x=i(22562),d=i(43855),l=i(95540),o=i(19496),s=i(85791),f=i(41598),c={setRectangle:function(u,v,p){return this.setBody({type:"rectangle",width:u,height:v},p)},setCircle:function(u,v){return this.setBody({type:"circle",radius:u},v)},setPolygon:function(u,v,p){return this.setBody({type:"polygon",sides:v,radius:u},p)},setTrapezoid:function(u,v,p,m){return this.setBody({type:"trapezoid",width:u,height:v,slope:p},m)},setExistingBody:function(u,v){v===void 0&&(v=!0),this.body&&this.world.remove(this.body,!0),this.body=u;for(var p=0;p<u.parts.length;p++)u.parts[p].gameObject=this;var m=this;if(u.destroy=function(){m.world.remove(m.body,!0),m.body.gameObject=null},v&&(this.world.has(u)&&this.world.remove(u,!0),this.world.add(u)),this._originComponent){var g=u.render.sprite.xOffset,C=u.render.sprite.yOffset,M=u.centerOfMass.x,b=u.centerOfMass.y;if(d(M,.5)&&d(b,.5))this.setOrigin(g+.5,C+.5);else{var w=u.centerOffset.x,R=u.centerOffset.y;this.setOrigin(g+w/this.displayWidth,C+R/this.displayHeight)}}return this},setBody:function(u,v){if(!u)return this;var p;typeof u=="string"&&(u={type:u});var m=l(u,"type","rectangle"),g=l(u,"x",this._tempVec2.x),C=l(u,"y",this._tempVec2.y),M=l(u,"width",this.width),b=l(u,"height",this.height);switch(m){case"rectangle":p=a.rectangle(g,C,M,b,v);break;case"circle":var w=l(u,"radius",Math.max(M,b)/2),R=l(u,"maxSides",25);p=a.circle(g,C,w,v,R);break;case"trapezoid":var A=l(u,"slope",.5);p=a.trapezoid(g,C,M,b,A,v);break;case"polygon":var L=l(u,"sides",5),D=l(u,"radius",Math.max(M,b)/2);p=a.polygon(g,C,L,D,v);break;case"fromVertices":case"fromVerts":var G=l(u,"verts",null);if(G)if(typeof G=="string"&&(G=f.fromPath(G)),this.body&&!this.body.hasOwnProperty("temp"))x.setVertices(this.body,G),p=this.body;else{var B=l(u,"flagInternal",!1),I=l(u,"removeCollinear",.01),k=l(u,"minimumArea",10);p=a.fromVertices(g,C,G,v,B,I,k)}break;case"fromPhysicsEditor":p=o.parseBody(g,C,u,v);break;case"fromPhysicsTracer":p=s.parseBody(g,C,u,v);break}return p&&this.setExistingBody(p,u.addToWorld),this}};n.exports=c},38083:(n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=i(1121),x=i(53614),d=i(35810),l={setToSleep:function(){return x.set(this.body,!0),this},setAwake:function(){return x.set(this.body,!1),this},setSleepThreshold:function(o){return o===void 0&&(o=60),this.body.sleepThreshold=o,this},setSleepEvents:function(o,s){return this.setSleepStartEvent(o),this.setSleepEndEvent(s),this},setSleepStartEvent:function(o){if(o){var s=this.world;d.on(this.body,"sleepStart",function(f){s.emit(a.SLEEP_START,f,this)})}else d.off(this.body,"sleepStart");return this},setSleepEndEvent:function(o){if(o){var s=this.world;d.on(this.body,"sleepEnd",function(f){s.emit(a.SLEEP_END,f,this)})}else d.off(this.body,"sleepEnd");return this}};n.exports=l},90556:(n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=i(22562),x={setStatic:function(d){return a.setStatic(this.body,d),this},isStatic:function(){return this.body.isStatic}};n.exports=x},85436:(n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=i(22562),x=i(36383),d=i(86554),l=i(30954),o=4,s={x:{get:function(){return this.body.position.x},set:function(f){this._tempVec2.set(f,this.y),a.setPosition(this.body,this._tempVec2)}},y:{get:function(){return this.body.position.y},set:function(f){this._tempVec2.set(this.x,f),a.setPosition(this.body,this._tempVec2)}},scale:{get:function(){return(this._scaleX+this._scaleY)/2},set:function(f){this.setScale(f,f)}},scaleX:{get:function(){return this._scaleX},set:function(f){var c=1/this._scaleX,u=1/this._scaleY;this._scaleX=f,this._scaleX===0?this.renderFlags&=~o:this.renderFlags|=o,a.scale(this.body,c,u),a.scale(this.body,f,this._scaleY)}},scaleY:{get:function(){return this._scaleY},set:function(f){var c=1/this._scaleX,u=1/this._scaleY;this._scaleY=f,this._scaleY===0?this.renderFlags&=~o:this.renderFlags|=o,a.scale(this.body,c,u),a.scale(this.body,this._scaleX,f)}},angle:{get:function(){return l(this.body.angle*x.RAD_TO_DEG)},set:function(f){this.rotation=l(f)*x.DEG_TO_RAD}},rotation:{get:function(){return this.body.angle},set:function(f){this._rotation=d(f),a.setAngle(this.body,this._rotation)}},setPosition:function(f,c){return f===void 0&&(f=0),c===void 0&&(c=f),this._tempVec2.set(f,c),a.setPosition(this.body,this._tempVec2),this},setRotation:function(f){return f===void 0&&(f=0),this._rotation=d(f),a.setAngle(this.body,f),this},setFixedRotation:function(){return a.setInertia(this.body,1/0),this},setAngle:function(f){return f===void 0&&(f=0),this.angle=f,a.setAngle(this.body,this.rotation),this},setScale:function(f,c,u){f===void 0&&(f=1),c===void 0&&(c=f);var v=1/this._scaleX,p=1/this._scaleY;return this._scaleX=f,this._scaleY=c,a.scale(this.body,v,p,u),a.scale(this.body,f,c,u),this}};n.exports=s},42081:(n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=i(22562),x={setVelocityX:function(d){return this._tempVec2.set(d,this.body.velocity.y),a.setVelocity(this.body,this._tempVec2),this},setVelocityY:function(d){return this._tempVec2.set(this.body.velocity.x,d),a.setVelocity(this.body,this._tempVec2),this},setVelocity:function(d,l){return this._tempVec2.set(d,l),a.setVelocity(this.body,this._tempVec2),this},getVelocity:function(){return a.getVelocity(this.body)},setAngularVelocity:function(d){return a.setAngularVelocity(this.body,d),this},getAngularVelocity:function(){return a.getAngularVelocity(this.body)},setAngularSpeed:function(d){return a.setAngularSpeed(this.body,d),this},getAngularSpeed:function(){return a.getAngularSpeed(this.body)}};n.exports=x},31884:(n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports={Bounce:i(70410),Collision:i(66968),Force:i(51607),Friction:i(5436),Gravity:i(39858),Mass:i(37302),Sensor:i(39132),SetBody:i(57772),Sleep:i(38083),Static:i(90556),Transform:i(85436),Velocity:i(42081)}},85608:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="afteradd"},1213:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="afterremove"},25968:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="afterupdate"},67205:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="beforeadd"},39438:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="beforeremove"},44823:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="beforeupdate"},92593:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="collisionactive"},60128:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="collisionend"},76861:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="collisionstart"},92362:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="dragend"},76408:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="drag"},93971:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="dragstart"},5656:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="pause"},47861:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="resume"},79099:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="sleepend"},35906:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="sleepstart"},1121:(n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports={AFTER_ADD:i(85608),AFTER_REMOVE:i(1213),AFTER_UPDATE:i(25968),BEFORE_ADD:i(67205),BEFORE_REMOVE:i(39438),BEFORE_UPDATE:i(44823),COLLISION_ACTIVE:i(92593),COLLISION_END:i(60128),COLLISION_START:i(76861),DRAG_END:i(92362),DRAG:i(76408),DRAG_START:i(93971),PAUSE:i(5656),RESUME:i(47861),SLEEP_END:i(79099),SLEEP_START:i(35906)}},3875:(n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports={BodyBounds:i(68174),Components:i(31884),Events:i(1121),Factory:i(28137),MatterGameObject:i(75803),Image:i(23181),Matter:i(19933),MatterPhysics:i(42045),PolyDecomp:i(55973),Sprite:i(34803),TileBody:i(73834),PhysicsEditorParser:i(19496),PhysicsJSONParser:i(85791),PointerConstraint:i(98713),World:i(68243)}},22562:(n,T,i)=>{var a={};n.exports=a;var x=i(41598),d=i(31725),l=i(53614),o=i(53402),s=i(15647),f=i(66615);(function(){a._timeCorrection=!0,a._inertiaScale=4,a._nextCollidingGroupId=1,a._nextNonCollidingGroupId=-1,a._nextCategory=1,a._baseDelta=16.666666666666668,a.create=function(u){var v={id:o.nextId(),type:"body",label:"Body",parts:[],plugin:{},attractors:u.attractors||[],wrapBounds:null,angle:0,vertices:null,position:{x:0,y:0},force:{x:0,y:0},torque:0,positionImpulse:{x:0,y:0},constraintImpulse:{x:0,y:0,angle:0},totalContacts:0,speed:0,angularSpeed:0,velocity:{x:0,y:0},angularVelocity:0,isSensor:!1,isStatic:!1,isSleeping:!1,motion:0,sleepThreshold:60,density:.001,restitution:0,friction:.1,frictionStatic:.5,frictionAir:.01,collisionFilter:{category:1,mask:4294967295,group:0},slop:.05,timeScale:1,events:null,bounds:null,chamfer:null,circleRadius:0,positionPrev:null,anglePrev:0,parent:null,axes:null,area:0,mass:0,inverseMass:0,inertia:0,deltaTime:16.666666666666668,inverseInertia:0,_original:null,render:{visible:!0,opacity:1,sprite:{xOffset:0,yOffset:0},fillColor:null,fillOpacity:null,lineColor:null,lineOpacity:null,lineThickness:null},gameObject:null,scale:{x:1,y:1},centerOfMass:{x:0,y:0},centerOffset:{x:0,y:0},gravityScale:{x:1,y:1},ignoreGravity:!1,ignorePointer:!1,onCollideCallback:null,onCollideEndCallback:null,onCollideActiveCallback:null,onCollideWith:{}};!u.hasOwnProperty("position")&&u.hasOwnProperty("vertices")?u.position=x.centre(u.vertices):u.hasOwnProperty("vertices")||(v.vertices=x.fromPath("L 0 0 L 40 0 L 40 40 L 0 40"));var p=o.extend(v,u);return c(p,u),p.setOnCollideWith=function(m,g){return g?this.onCollideWith[m.id]=g:delete this.onCollideWith[m.id],this},p},a.nextGroup=function(u){return u?a._nextNonCollidingGroupId--:a._nextCollidingGroupId++},a.nextCategory=function(){return a._nextCategory=a._nextCategory<<1,a._nextCategory};var c=function(u,v){if(v=v||{},a.set(u,{bounds:u.bounds||s.create(u.vertices),positionPrev:u.positionPrev||d.clone(u.position),anglePrev:u.anglePrev||u.angle,vertices:u.vertices,parts:u.parts||[u],isStatic:u.isStatic,isSleeping:u.isSleeping,parent:u.parent||u}),x.rotate(u.vertices,u.angle,u.position),f.rotate(u.axes,u.angle),s.update(u.bounds,u.vertices,u.velocity),a.set(u,{axes:v.axes||u.axes,area:v.area||u.area,mass:v.mass||u.mass,inertia:v.inertia||u.inertia}),u.parts.length===1){var p=u.bounds,m=u.centerOfMass,g=u.centerOffset,C=p.max.x-p.min.x,M=p.max.y-p.min.y;m.x=-(p.min.x-u.position.x)/C,m.y=-(p.min.y-u.position.y)/M,g.x=C*m.x,g.y=M*m.y}};a.set=function(u,v,p){var m;typeof v=="string"&&(m=v,v={},v[m]=p);for(m in v)if(Object.prototype.hasOwnProperty.call(v,m))switch(p=v[m],m){case"isStatic":a.setStatic(u,p);break;case"isSleeping":l.set(u,p);break;case"mass":a.setMass(u,p);break;case"density":a.setDensity(u,p);break;case"inertia":a.setInertia(u,p);break;case"vertices":a.setVertices(u,p);break;case"position":a.setPosition(u,p);break;case"angle":a.setAngle(u,p);break;case"velocity":a.setVelocity(u,p);break;case"angularVelocity":a.setAngularVelocity(u,p);break;case"speed":a.setSpeed(u,p);break;case"angularSpeed":a.setAngularSpeed(u,p);break;case"parts":a.setParts(u,p);break;case"centre":a.setCentre(u,p);break;default:u[m]=p}},a.setStatic=function(u,v){for(var p=0;p<u.parts.length;p++){var m=u.parts[p];v?(m.isStatic||(m._original={restitution:m.restitution,friction:m.friction,mass:m.mass,inertia:m.inertia,density:m.density,inverseMass:m.inverseMass,inverseInertia:m.inverseInertia}),m.restitution=0,m.friction=1,m.mass=m.inertia=m.density=1/0,m.inverseMass=m.inverseInertia=0,m.positionPrev.x=m.position.x,m.positionPrev.y=m.position.y,m.anglePrev=m.angle,m.angularVelocity=0,m.speed=0,m.angularSpeed=0,m.motion=0):m._original&&(m.restitution=m._original.restitution,m.friction=m._original.friction,m.mass=m._original.mass,m.inertia=m._original.inertia,m.density=m._original.density,m.inverseMass=m._original.inverseMass,m.inverseInertia=m._original.inverseInertia,m._original=null),m.isStatic=v}},a.setMass=function(u,v){var p=u.inertia/(u.mass/6);u.inertia=p*(v/6),u.inverseInertia=1/u.inertia,u.mass=v,u.inverseMass=1/u.mass,u.density=u.mass/u.area},a.setDensity=function(u,v){a.setMass(u,v*u.area),u.density=v},a.setInertia=function(u,v){u.inertia=v,u.inverseInertia=1/u.inertia},a.setVertices=function(u,v){v[0].body===u?u.vertices=v:u.vertices=x.create(v,u),u.axes=f.fromVertices(u.vertices),u.area=x.area(u.vertices),a.setMass(u,u.density*u.area);var p=x.centre(u.vertices);x.translate(u.vertices,p,-1),a.setInertia(u,a._inertiaScale*x.inertia(u.vertices,u.mass)),x.translate(u.vertices,u.position),s.update(u.bounds,u.vertices,u.velocity)},a.setParts=function(u,v,p){var m;for(v=v.slice(0),u.parts.length=0,u.parts.push(u),u.parent=u,m=0;m<v.length;m++){var g=v[m];g!==u&&(g.parent=u,u.parts.push(g))}if(u.parts.length!==1){if(p=typeof p<"u"?p:!0,p){var C=[];for(m=0;m<v.length;m++)C=C.concat(v[m].vertices);x.clockwiseSort(C);var M=x.hull(C),b=x.centre(M);a.setVertices(u,M),x.translate(u.vertices,b)}var w=a._totalProperties(u),R=w.centre.x,A=w.centre.y,L=u.bounds,D=u.centerOfMass,G=u.centerOffset;s.update(L,u.vertices,u.velocity),D.x=-(L.min.x-R)/(L.max.x-L.min.x),D.y=-(L.min.y-A)/(L.max.y-L.min.y),G.x=R,G.y=A,u.area=w.area,u.parent=u,u.position.x=R,u.position.y=A,u.positionPrev.x=R,u.positionPrev.y=A,a.setMass(u,w.mass),a.setInertia(u,w.inertia),a.setPosition(u,w.centre)}},a.setCentre=function(u,v,p){p?(u.positionPrev.x+=v.x,u.positionPrev.y+=v.y,u.position.x+=v.x,u.position.y+=v.y):(u.positionPrev.x=v.x-(u.position.x-u.positionPrev.x),u.positionPrev.y=v.y-(u.position.y-u.positionPrev.y),u.position.x=v.x,u.position.y=v.y)},a.setPosition=function(u,v,p){var m=d.sub(v,u.position);p?(u.positionPrev.x=u.position.x,u.positionPrev.y=u.position.y,u.velocity.x=m.x,u.velocity.y=m.y,u.speed=d.magnitude(m)):(u.positionPrev.x+=m.x,u.positionPrev.y+=m.y);for(var g=0;g<u.parts.length;g++){var C=u.parts[g];C.position.x+=m.x,C.position.y+=m.y,x.translate(C.vertices,m),s.update(C.bounds,C.vertices,u.velocity)}},a.setAngle=function(u,v,p){var m=v-u.angle;p?(u.anglePrev=u.angle,u.angularVelocity=m,u.angularSpeed=Math.abs(m)):u.anglePrev+=m;for(var g=0;g<u.parts.length;g++){var C=u.parts[g];C.angle+=m,x.rotate(C.vertices,m,u.position),f.rotate(C.axes,m),s.update(C.bounds,C.vertices,u.velocity),g>0&&d.rotateAbout(C.position,m,u.position,C.position)}},a.setVelocity=function(u,v){var p=u.deltaTime/a._baseDelta;u.positionPrev.x=u.position.x-v.x*p,u.positionPrev.y=u.position.y-v.y*p,u.velocity.x=(u.position.x-u.positionPrev.x)/p,u.velocity.y=(u.position.y-u.positionPrev.y)/p,u.speed=d.magnitude(u.velocity)},a.getVelocity=function(u){var v=a._baseDelta/u.deltaTime;return{x:(u.position.x-u.positionPrev.x)*v,y:(u.position.y-u.positionPrev.y)*v}},a.getSpeed=function(u){return d.magnitude(a.getVelocity(u))},a.setSpeed=function(u,v){a.setVelocity(u,d.mult(d.normalise(a.getVelocity(u)),v))},a.setAngularVelocity=function(u,v){var p=u.deltaTime/a._baseDelta;u.anglePrev=u.angle-v*p,u.angularVelocity=(u.angle-u.anglePrev)/p,u.angularSpeed=Math.abs(u.angularVelocity)},a.getAngularVelocity=function(u){return(u.angle-u.anglePrev)*a._baseDelta/u.deltaTime},a.getAngularSpeed=function(u){return Math.abs(a.getAngularVelocity(u))},a.setAngularSpeed=function(u,v){a.setAngularVelocity(u,o.sign(a.getAngularVelocity(u))*v)},a.translate=function(u,v,p){a.setPosition(u,d.add(u.position,v),p)},a.rotate=function(u,v,p,m){if(!p)a.setAngle(u,u.angle+v,m);else{var g=Math.cos(v),C=Math.sin(v),M=u.position.x-p.x,b=u.position.y-p.y;a.setPosition(u,{x:p.x+(M*g-b*C),y:p.y+(M*C+b*g)},m),a.setAngle(u,u.angle+v,m)}},a.scale=function(u,v,p,m){var g=0,C=0;m=m||u.position;for(var M=u.inertia===1/0,b=0;b<u.parts.length;b++){var w=u.parts[b];w.scale.x=v,w.scale.y=p,x.scale(w.vertices,v,p,m),w.axes=f.fromVertices(w.vertices),w.area=x.area(w.vertices),a.setMass(w,u.density*w.area),x.translate(w.vertices,{x:-w.position.x,y:-w.position.y}),a.setInertia(w,a._inertiaScale*x.inertia(w.vertices,w.mass)),x.translate(w.vertices,{x:w.position.x,y:w.position.y}),b>0&&(g+=w.area,C+=w.inertia),w.position.x=m.x+(w.position.x-m.x)*v,w.position.y=m.y+(w.position.y-m.y)*p,s.update(w.bounds,w.vertices,u.velocity)}u.parts.length>1&&(u.area=g,u.isStatic||(a.setMass(u,u.density*g),a.setInertia(u,C))),u.circleRadius&&(v===p?u.circleRadius*=v:u.circleRadius=null),M&&a.setInertia(u,1/0)},a.update=function(u,v){v=(typeof v<"u"?v:16.666666666666668)*u.timeScale;var p=v*v,m=a._timeCorrection?v/(u.deltaTime||v):1,g=1-u.frictionAir*(v/o._baseDelta),C=(u.position.x-u.positionPrev.x)*m,M=(u.position.y-u.positionPrev.y)*m;u.velocity.x=C*g+u.force.x/u.mass*p,u.velocity.y=M*g+u.force.y/u.mass*p,u.positionPrev.x=u.position.x,u.positionPrev.y=u.position.y,u.position.x+=u.velocity.x,u.position.y+=u.velocity.y,u.deltaTime=v,u.angularVelocity=(u.angle-u.anglePrev)*g*m+u.torque/u.inertia*p,u.anglePrev=u.angle,u.angle+=u.angularVelocity,u.speed=d.magnitude(u.velocity),u.angularSpeed=Math.abs(u.angularVelocity);for(var b=0;b<u.parts.length;b++){var w=u.parts[b];x.translate(w.vertices,u.velocity),b>0&&(w.position.x+=u.velocity.x,w.position.y+=u.velocity.y),u.angularVelocity!==0&&(x.rotate(w.vertices,u.angularVelocity,u.position),f.rotate(w.axes,u.angularVelocity),b>0&&d.rotateAbout(w.position,u.angularVelocity,u.position,w.position)),s.update(w.bounds,w.vertices,u.velocity)}},a.updateVelocities=function(u){var v=a._baseDelta/u.deltaTime,p=u.velocity;p.x=(u.position.x-u.positionPrev.x)*v,p.y=(u.position.y-u.positionPrev.y)*v,u.speed=Math.sqrt(p.x*p.x+p.y*p.y),u.angularVelocity=(u.angle-u.anglePrev)*v,u.angularSpeed=Math.abs(u.angularVelocity)},a.applyForce=function(u,v,p){var m={x:v.x-u.position.x,y:v.y-u.position.y};u.force.x+=p.x,u.force.y+=p.y,u.torque+=m.x*p.y-m.y*p.x},a._totalProperties=function(u){for(var v={mass:0,area:0,inertia:0,centre:{x:0,y:0}},p=u.parts.length===1?0:1;p<u.parts.length;p++){var m=u.parts[p],g=m.mass!==1/0?m.mass:1;v.mass+=g,v.area+=m.area,v.inertia+=m.inertia,v.centre=d.add(v.centre,d.mult(m.position,g))}return v.centre=d.div(v.centre,v.mass),v},a.wrap=function(u,v){var p=s.wrap(u.bounds,v);return p&&a.translate(u,p),p}})()},69351:(n,T,i)=>{var a={};n.exports=a;var x=i(35810),d=i(53402),l=i(15647),o=i(22562);(function(){a.create=function(s){return d.extend({id:d.nextId(),type:"composite",parent:null,isModified:!1,bodies:[],constraints:[],composites:[],label:"Composite",plugin:{},wrapBounds:null,cache:{allBodies:null,allConstraints:null,allComposites:null}},s)},a.setModified=function(s,f,c,u){if(x.trigger(s,"compositeModified",s),s.isModified=f,f&&s.cache&&(s.cache.allBodies=null,s.cache.allConstraints=null,s.cache.allComposites=null),c&&s.parent&&a.setModified(s.parent,f,c,u),u)for(var v=0;v<s.composites.length;v++){var p=s.composites[v];a.setModified(p,f,c,u)}},a.add=function(s,f){var c=[].concat(f);x.trigger(s,"beforeAdd",{object:f});for(var u=0;u<c.length;u++){var v=c[u];switch(v.type){case"body":if(v.parent!==v){d.warn("Composite.add: skipped adding a compound body part (you must add its parent instead)");break}a.addBody(s,v);break;case"constraint":a.addConstraint(s,v);break;case"composite":a.addComposite(s,v);break;case"mouseConstraint":a.addConstraint(s,v.constraint);break}}return x.trigger(s,"afterAdd",{object:f}),s},a.remove=function(s,f,c){var u=[].concat(f);x.trigger(s,"beforeRemove",{object:f});for(var v=0;v<u.length;v++){var p=u[v];switch(p.type){case"body":a.removeBody(s,p,c);break;case"constraint":a.removeConstraint(s,p,c);break;case"composite":a.removeComposite(s,p,c);break;case"mouseConstraint":a.removeConstraint(s,p.constraint);break}}return x.trigger(s,"afterRemove",{object:f}),s},a.addComposite=function(s,f){return s.composites.push(f),f.parent=s,a.setModified(s,!0,!0,!1),s},a.removeComposite=function(s,f,c){var u=d.indexOf(s.composites,f);if(u!==-1){var v=a.allBodies(f);a.removeCompositeAt(s,u);for(var p=0;p<v.length;p++)v[p].sleepCounter=0}if(c)for(var p=0;p<s.composites.length;p++)a.removeComposite(s.composites[p],f,!0);return s},a.removeCompositeAt=function(s,f){return s.composites.splice(f,1),a.setModified(s,!0,!0,!1),s},a.addBody=function(s,f){return s.bodies.push(f),a.setModified(s,!0,!0,!1),s},a.removeBody=function(s,f,c){var u=d.indexOf(s.bodies,f);if(u!==-1&&(a.removeBodyAt(s,u),f.sleepCounter=0),c)for(var v=0;v<s.composites.length;v++)a.removeBody(s.composites[v],f,!0);return s},a.removeBodyAt=function(s,f){return s.bodies.splice(f,1),a.setModified(s,!0,!0,!1),s},a.addConstraint=function(s,f){return s.constraints.push(f),a.setModified(s,!0,!0,!1),s},a.removeConstraint=function(s,f,c){var u=d.indexOf(s.constraints,f);if(u!==-1&&a.removeConstraintAt(s,u),c)for(var v=0;v<s.composites.length;v++)a.removeConstraint(s.composites[v],f,!0);return s},a.removeConstraintAt=function(s,f){return s.constraints.splice(f,1),a.setModified(s,!0,!0,!1),s},a.clear=function(s,f,c){if(c)for(var u=0;u<s.composites.length;u++)a.clear(s.composites[u],f,!0);return f?s.bodies=s.bodies.filter(function(v){return v.isStatic}):s.bodies.length=0,s.constraints.length=0,s.composites.length=0,a.setModified(s,!0,!0,!1),s},a.allBodies=function(s){if(s.cache&&s.cache.allBodies)return s.cache.allBodies;for(var f=[].concat(s.bodies),c=0;c<s.composites.length;c++)f=f.concat(a.allBodies(s.composites[c]));return s.cache&&(s.cache.allBodies=f),f},a.allConstraints=function(s){if(s.cache&&s.cache.allConstraints)return s.cache.allConstraints;for(var f=[].concat(s.constraints),c=0;c<s.composites.length;c++)f=f.concat(a.allConstraints(s.composites[c]));return s.cache&&(s.cache.allConstraints=f),f},a.allComposites=function(s){if(s.cache&&s.cache.allComposites)return s.cache.allComposites;for(var f=[].concat(s.composites),c=0;c<s.composites.length;c++)f=f.concat(a.allComposites(s.composites[c]));return s.cache&&(s.cache.allComposites=f),f},a.get=function(s,f,c){var u,v;switch(c){case"body":u=a.allBodies(s);break;case"constraint":u=a.allConstraints(s);break;case"composite":u=a.allComposites(s).concat(s);break}return u?(v=u.filter(function(p){return p.id.toString()===f.toString()}),v.length===0?null:v[0]):null},a.move=function(s,f,c){return a.remove(s,f),a.add(c,f),s},a.rebase=function(s){for(var f=a.allBodies(s).concat(a.allConstraints(s)).concat(a.allComposites(s)),c=0;c<f.length;c++)f[c].id=d.nextId();return s},a.translate=function(s,f,c){for(var u=c?a.allBodies(s):s.bodies,v=0;v<u.length;v++)o.translate(u[v],f);return s},a.rotate=function(s,f,c,u){for(var v=Math.cos(f),p=Math.sin(f),m=u?a.allBodies(s):s.bodies,g=0;g<m.length;g++){var C=m[g],M=C.position.x-c.x,b=C.position.y-c.y;o.setPosition(C,{x:c.x+(M*v-b*p),y:c.y+(M*p+b*v)}),o.rotate(C,f)}return s},a.scale=function(s,f,c,u,v){for(var p=v?a.allBodies(s):s.bodies,m=0;m<p.length;m++){var g=p[m],C=g.position.x-u.x,M=g.position.y-u.y;o.setPosition(g,{x:u.x+C*f,y:u.y+M*c}),o.scale(g,f,c)}return s},a.bounds=function(s){for(var f=a.allBodies(s),c=[],u=0;u<f.length;u+=1){var v=f[u];c.push(v.bounds.min,v.bounds.max)}return l.create(c)},a.wrap=function(s,f){var c=l.wrap(a.bounds(s),f);return c&&a.translate(s,c),c}})()},4372:(n,T,i)=>{var a={};n.exports=a;var x=i(69351);(function(){a.create=x.create,a.add=x.add,a.remove=x.remove,a.clear=x.clear,a.addComposite=x.addComposite,a.addBody=x.addBody,a.addConstraint=x.addConstraint})()},52284:(n,T,i)=>{var a={};n.exports=a;var x=i(41598),d=i(4506);(function(){var l=[],o={overlap:0,axis:null},s={overlap:0,axis:null};a.create=function(f,c){return{pair:null,collided:!1,bodyA:f,bodyB:c,parentA:f.parent,parentB:c.parent,depth:0,normal:{x:0,y:0},tangent:{x:0,y:0},penetration:{x:0,y:0},supports:[null,null],supportCount:0}},a.collides=function(f,c,u){if(a._overlapAxes(o,f.vertices,c.vertices,f.axes),o.overlap<=0||(a._overlapAxes(s,c.vertices,f.vertices,c.axes),s.overlap<=0))return null;var v=u&&u.table[d.id(f,c)],p;v?p=v.collision:(p=a.create(f,c),p.collided=!0,p.bodyA=f.id<c.id?f:c,p.bodyB=f.id<c.id?c:f,p.parentA=p.bodyA.parent,p.parentB=p.bodyB.parent),f=p.bodyA,c=p.bodyB;var m;o.overlap<s.overlap?m=o:m=s;var g=p.normal,C=p.tangent,M=p.penetration,b=p.supports,w=m.overlap,R=m.axis,A=R.x,L=R.y,D=c.position.x-f.position.x,G=c.position.y-f.position.y;A*D+L*G>=0&&(A=-A,L=-L),g.x=A,g.y=L,C.x=-L,C.y=A,M.x=A*w,M.y=L*w,p.depth=w;var B=a._findSupports(f,c,g,1),I=0;if(x.contains(f.vertices,B[0])&&(b[I++]=B[0]),x.contains(f.vertices,B[1])&&(b[I++]=B[1]),I<2){var k=a._findSupports(c,f,g,-1);x.contains(c.vertices,k[0])&&(b[I++]=k[0]),I<2&&x.contains(c.vertices,k[1])&&(b[I++]=k[1])}return I===0&&(b[I++]=B[0]),p.supportCount=I,p},a._overlapAxes=function(f,c,u,v){var p=c.length,m=u.length,g=c[0].x,C=c[0].y,M=u[0].x,b=u[0].y,w=v.length,R=Number.MAX_VALUE,A=0,L,D,G,B,I,k;for(I=0;I<w;I++){var z=v[I],X=z.x,H=z.y,Q=g*X+C*H,J=M*X+b*H,Y=Q,$=J;for(k=1;k<p;k+=1)B=c[k].x*X+c[k].y*H,B>Y?Y=B:B<Q&&(Q=B);for(k=1;k<m;k+=1)B=u[k].x*X+u[k].y*H,B>$?$=B:B<J&&(J=B);if(D=Y-J,G=$-Q,L=D<G?D:G,L<R&&(R=L,A=I,L<=0))break}f.axis=v[A],f.overlap=R},a._findSupports=function(f,c,u,v){var p=c.vertices,m=p.length,g=f.position.x,C=f.position.y,M=u.x*v,b=u.y*v,w=p[0],R=w,A=M*(g-R.x)+b*(C-R.y),L,D,G;for(G=1;G<m;G+=1)R=p[G],D=M*(g-R.x)+b*(C-R.y),D<A&&(A=D,w=R);return L=p[(m+w.index-1)%m],A=M*(g-L.x)+b*(C-L.y),R=p[(w.index+1)%m],M*(g-R.x)+b*(C-R.y)<A?(l[0]=w,l[1]=R,l):(l[0]=w,l[1]=L,l)}})()},43424:n=>{var T={};n.exports=T,function(){T.create=function(i){return{vertex:i,normalImpulse:0,tangentImpulse:0}}}()},81388:(n,T,i)=>{var a={};n.exports=a;var x=i(53402),d=i(52284);(function(){a.create=function(l){var o={bodies:[],collisions:[],pairs:null};return x.extend(o,l)},a.setBodies=function(l,o){l.bodies=o.slice(0)},a.clear=function(l){l.bodies=[],l.collisions=[]},a.collisions=function(l){var o=l.pairs,s=l.bodies,f=s.length,c=a.canCollide,u=d.collides,v=l.collisions,p=0,m,g;for(s.sort(a._compareBoundsX),m=0;m<f;m++){var C=s[m],M=C.bounds,b=C.bounds.max.x,w=C.bounds.max.y,R=C.bounds.min.y,A=C.isStatic||C.isSleeping,L=C.parts.length,D=L===1;for(g=m+1;g<f;g++){var G=s[g],B=G.bounds;if(B.min.x>b)break;if(!(w<B.min.y||R>B.max.y)&&!(A&&(G.isStatic||G.isSleeping))&&c(C.collisionFilter,G.collisionFilter)){var I=G.parts.length;if(D&&I===1){var k=u(C,G,o);k&&(v[p++]=k)}else for(var z=L>1?1:0,X=I>1?1:0,H=z;H<L;H++)for(var Q=C.parts[H],M=Q.bounds,J=X;J<I;J++){var Y=G.parts[J],B=Y.bounds;if(!(M.min.x>B.max.x||M.max.x<B.min.x||M.max.y<B.min.y||M.min.y>B.max.y)){var k=u(Q,Y,o);k&&(v[p++]=k)}}}}}return v.length!==p&&(v.length=p),v},a.canCollide=function(l,o){return l.group===o.group&&l.group!==0?l.group>0:(l.mask&o.category)!==0&&(o.mask&l.category)!==0},a._compareBoundsX=function(l,o){return l.bounds.min.x-o.bounds.min.x}})()},4506:(n,T,i)=>{var a={};n.exports=a;var x=i(43424);(function(){a.create=function(d,l){var o=d.bodyA,s=d.bodyB,f={id:a.id(o,s),bodyA:o,bodyB:s,collision:d,contacts:[x.create(),x.create()],contactCount:0,separation:0,isActive:!0,isSensor:o.isSensor||s.isSensor,timeCreated:l,timeUpdated:l,inverseMass:0,friction:0,frictionStatic:0,restitution:0,slop:0};return a.update(f,d,l),f},a.update=function(d,l,o){var s=l.supports,f=l.supportCount,c=d.contacts,u=l.parentA,v=l.parentB;d.isActive=!0,d.timeUpdated=o,d.collision=l,d.separation=l.depth,d.inverseMass=u.inverseMass+v.inverseMass,d.friction=u.friction<v.friction?u.friction:v.friction,d.frictionStatic=u.frictionStatic>v.frictionStatic?u.frictionStatic:v.frictionStatic,d.restitution=u.restitution>v.restitution?u.restitution:v.restitution,d.slop=u.slop>v.slop?u.slop:v.slop,d.contactCount=f,l.pair=d;var p=s[0],m=c[0],g=s[1],C=c[1];(C.vertex===p||m.vertex===g)&&(c[1]=m,c[0]=m=C,C=c[1]),m.vertex=p,C.vertex=g},a.setActive=function(d,l,o){l?(d.isActive=!0,d.timeUpdated=o):(d.isActive=!1,d.contactCount=0)},a.id=function(d,l){return d.id<l.id?d.id.toString(36)+":"+l.id.toString(36):l.id.toString(36)+":"+d.id.toString(36)}})()},99561:(n,T,i)=>{var a={};n.exports=a;var x=i(4506),d=i(53402);(function(){a.create=function(l){return d.extend({table:{},list:[],collisionStart:[],collisionActive:[],collisionEnd:[]},l)},a.update=function(l,o,s){var f=x.update,c=x.create,u=x.setActive,v=l.table,p=l.list,m=p.length,g=m,C=l.collisionStart,M=l.collisionEnd,b=l.collisionActive,w=o.length,R=0,A=0,L=0,D,G,B;for(B=0;B<w;B++)D=o[B],G=D.pair,G?(G.isActive&&(b[L++]=G),f(G,D,s)):(G=c(D,s),v[G.id]=G,C[R++]=G,p[g++]=G);for(g=0,m=p.length,B=0;B<m;B++)G=p[B],G.timeUpdated>=s?p[g++]=G:(u(G,!1,s),G.collision.bodyA.sleepCounter>0&&G.collision.bodyB.sleepCounter>0?p[g++]=G:(M[A++]=G,delete v[G.id]));p.length!==g&&(p.length=g),C.length!==R&&(C.length=R),M.length!==A&&(M.length=A),b.length!==L&&(b.length=L)},a.clear=function(l){return l.table={},l.list.length=0,l.collisionStart.length=0,l.collisionActive.length=0,l.collisionEnd.length=0,l}})()},73296:(n,T,i)=>{var a={};n.exports=a;var x=i(31725),d=i(52284),l=i(15647),o=i(66280),s=i(41598);(function(){a.collides=function(f,c){for(var u=[],v=c.length,p=f.bounds,m=d.collides,g=l.overlaps,C=0;C<v;C++){var M=c[C],b=M.parts.length,w=b===1?0:1;if(f!==M&&g(M.bounds,p))for(var R=w;R<b;R++){var A=M.parts[R];if(g(A.bounds,p)){var L=m(A,f);if(L){u.push(L);break}}}}return u},a.ray=function(f,c,u,v){v=v||1e-100;for(var p=x.angle(c,u),m=x.magnitude(x.sub(c,u)),g=(u.x+c.x)*.5,C=(u.y+c.y)*.5,M=o.rectangle(g,C,m,v,{angle:p}),b=a.collides(M,f),w=0;w<b.length;w+=1){var R=b[w];R.body=R.bodyB=R.bodyA}return b},a.region=function(f,c,u){for(var v=[],p=0;p<f.length;p++){var m=f[p],g=l.overlaps(m.bounds,c);(g&&!u||!g&&u)&&v.push(m)}return v},a.point=function(f,c){for(var u=[],v=0;v<f.length;v++){var p=f[v];if(l.contains(p.bounds,c))for(var m=p.parts.length===1?0:1;m<p.parts.length;m++){var g=p.parts[m];if(l.contains(g.bounds,c)&&s.contains(g.vertices,c)){u.push(p);break}}}return u}})()},66272:(n,T,i)=>{var a={};n.exports=a;var x=i(41598),d=i(53402),l=i(15647);(function(){a._restingThresh=2,a._restingThreshTangent=Math.sqrt(6),a._positionDampen=.9,a._positionWarming=.8,a._frictionNormalMultiplier=5,a._frictionMaxStatic=Number.MAX_VALUE,a.preSolvePosition=function(o){var s,f,c,u=o.length;for(s=0;s<u;s++)f=o[s],f.isActive&&(c=f.contactCount,f.collision.parentA.totalContacts+=c,f.collision.parentB.totalContacts+=c)},a.solvePosition=function(o,s,f){var c,u,v,p,m,g,C,M,b=a._positionDampen*(f||1),w=d.clamp(s/d._baseDelta,0,1),R=o.length;for(c=0;c<R;c++)u=o[c],!(!u.isActive||u.isSensor)&&(v=u.collision,p=v.parentA,m=v.parentB,g=v.normal,u.separation=v.depth+g.x*(m.positionImpulse.x-p.positionImpulse.x)+g.y*(m.positionImpulse.y-p.positionImpulse.y));for(c=0;c<R;c++)u=o[c],!(!u.isActive||u.isSensor)&&(v=u.collision,p=v.parentA,m=v.parentB,g=v.normal,M=u.separation-u.slop*w,(p.isStatic||m.isStatic)&&(M*=2),p.isStatic||p.isSleeping||(C=b/p.totalContacts,p.positionImpulse.x+=g.x*M*C,p.positionImpulse.y+=g.y*M*C),m.isStatic||m.isSleeping||(C=b/m.totalContacts,m.positionImpulse.x-=g.x*M*C,m.positionImpulse.y-=g.y*M*C))},a.postSolvePosition=function(o){for(var s=a._positionWarming,f=o.length,c=x.translate,u=l.update,v=0;v<f;v++){var p=o[v],m=p.positionImpulse,g=m.x,C=m.y,M=p.velocity;if(p.totalContacts=0,g!==0||C!==0){for(var b=0;b<p.parts.length;b++){var w=p.parts[b];c(w.vertices,m),u(w.bounds,w.vertices,M),w.position.x+=g,w.position.y+=C}p.positionPrev.x+=g,p.positionPrev.y+=C,g*M.x+C*M.y<0?(m.x=0,m.y=0):(m.x*=s,m.y*=s)}}},a.preSolveVelocity=function(o){var s=o.length,f,c;for(f=0;f<s;f++){var u=o[f];if(!(!u.isActive||u.isSensor)){var v=u.contacts,p=u.contactCount,m=u.collision,g=m.parentA,C=m.parentB,M=m.normal,b=m.tangent;for(c=0;c<p;c++){var w=v[c],R=w.vertex,A=w.normalImpulse,L=w.tangentImpulse;if(A!==0||L!==0){var D=M.x*A+b.x*L,G=M.y*A+b.y*L;g.isStatic||g.isSleeping||(g.positionPrev.x+=D*g.inverseMass,g.positionPrev.y+=G*g.inverseMass,g.anglePrev+=g.inverseInertia*((R.x-g.position.x)*G-(R.y-g.position.y)*D)),C.isStatic||C.isSleeping||(C.positionPrev.x-=D*C.inverseMass,C.positionPrev.y-=G*C.inverseMass,C.anglePrev-=C.inverseInertia*((R.x-C.position.x)*G-(R.y-C.position.y)*D))}}}}},a.solveVelocity=function(o,s){var f=s/d._baseDelta,c=f*f,u=c*f,v=-a._restingThresh*f,p=a._restingThreshTangent,m=a._frictionNormalMultiplier*f,g=a._frictionMaxStatic,C=o.length,M,b,w,R;for(w=0;w<C;w++){var A=o[w];if(!(!A.isActive||A.isSensor)){var L=A.collision,D=L.parentA,G=L.parentB,B=L.normal.x,I=L.normal.y,k=L.tangent.x,z=L.tangent.y,X=A.inverseMass,H=A.friction*A.frictionStatic*m,Q=A.contacts,J=A.contactCount,Y=1/J,$=D.position.x-D.positionPrev.x,V=D.position.y-D.positionPrev.y,U=D.angle-D.anglePrev,K=G.position.x-G.positionPrev.x,j=G.position.y-G.positionPrev.y,_=G.angle-G.anglePrev;for(R=0;R<J;R++){var tt=Q[R],rt=tt.vertex,ot=rt.x-D.position.x,ft=rt.y-D.position.y,ct=rt.x-G.position.x,gt=rt.y-G.position.y,yt=$-ft*U,Mt=V+ot*U,Ct=K-gt*_,Wt=j+ct*_,Yt=yt-Ct,Ht=Mt-Wt,bt=B*Yt+I*Ht,kt=k*Yt+z*Ht,zt=A.separation+bt,jt=Math.min(zt,1);jt=zt<0?0:jt;var fe=jt*H;kt<-fe||kt>fe?(b=kt>0?kt:-kt,M=A.friction*(kt>0?1:-1)*u,M<-b?M=-b:M>b&&(M=b)):(M=kt,b=g);var xe=ot*I-ft*B,le=ct*I-gt*B,Ee=Y/(X+D.inverseInertia*xe*xe+G.inverseInertia*le*le),Qe=(1+A.restitution)*bt*Ee;if(M*=Ee,bt<v)tt.normalImpulse=0;else{var Bt=tt.normalImpulse;tt.normalImpulse+=Qe,tt.normalImpulse>0&&(tt.normalImpulse=0),Qe=tt.normalImpulse-Bt}if(kt<-p||kt>p)tt.tangentImpulse=0;else{var Ut=tt.tangentImpulse;tt.tangentImpulse+=M,tt.tangentImpulse<-b&&(tt.tangentImpulse=-b),tt.tangentImpulse>b&&(tt.tangentImpulse=b),M=tt.tangentImpulse-Ut}var te=B*Qe+k*M,ce=I*Qe+z*M;D.isStatic||D.isSleeping||(D.positionPrev.x+=te*D.inverseMass,D.positionPrev.y+=ce*D.inverseMass,D.anglePrev+=(ot*ce-ft*te)*D.inverseInertia),G.isStatic||G.isSleeping||(G.positionPrev.x-=te*G.inverseMass,G.positionPrev.y-=ce*G.inverseMass,G.anglePrev-=(ct*ce-gt*te)*G.inverseInertia)}}}}})()},48140:(n,T,i)=>{var a={};n.exports=a;var x=i(41598),d=i(31725),l=i(53614),o=i(15647),s=i(66615),f=i(53402);(function(){a._warming=.4,a._torqueDampen=1,a._minLength=1e-6,a.create=function(c){var u=c;u.bodyA&&!u.pointA&&(u.pointA={x:0,y:0}),u.bodyB&&!u.pointB&&(u.pointB={x:0,y:0});var v=u.bodyA?d.add(u.bodyA.position,u.pointA):u.pointA,p=u.bodyB?d.add(u.bodyB.position,u.pointB):u.pointB,m=d.magnitude(d.sub(v,p));u.length=typeof u.length<"u"?u.length:m,u.id=u.id||f.nextId(),u.label=u.label||"Constraint",u.type="constraint",u.stiffness=u.stiffness||(u.length>0?1:.7),u.damping=u.damping||0,u.angularStiffness=u.angularStiffness||0,u.angleA=u.bodyA?u.bodyA.angle:u.angleA,u.angleB=u.bodyB?u.bodyB.angle:u.angleB,u.plugin={};var g={visible:!0,type:"line",anchors:!0,lineColor:null,lineOpacity:null,lineThickness:null,pinSize:null,anchorColor:null,anchorSize:null};return u.length===0&&u.stiffness>.1?(g.type="pin",g.anchors=!1):u.stiffness<.9&&(g.type="spring"),u.render=f.extend(g,u.render),u},a.preSolveAll=function(c){for(var u=0;u<c.length;u+=1){var v=c[u],p=v.constraintImpulse;v.isStatic||p.x===0&&p.y===0&&p.angle===0||(v.position.x+=p.x,v.position.y+=p.y,v.angle+=p.angle)}},a.solveAll=function(c,u){for(var v=f.clamp(u/f._baseDelta,0,1),p=0;p<c.length;p+=1){var m=c[p],g=!m.bodyA||m.bodyA&&m.bodyA.isStatic,C=!m.bodyB||m.bodyB&&m.bodyB.isStatic;(g||C)&&a.solve(c[p],v)}for(p=0;p<c.length;p+=1)m=c[p],g=!m.bodyA||m.bodyA&&m.bodyA.isStatic,C=!m.bodyB||m.bodyB&&m.bodyB.isStatic,!g&&!C&&a.solve(c[p],v)},a.solve=function(c,u){var v=c.bodyA,p=c.bodyB,m=c.pointA,g=c.pointB;if(!(!v&&!p)){v&&!v.isStatic&&(d.rotate(m,v.angle-c.angleA,m),c.angleA=v.angle),p&&!p.isStatic&&(d.rotate(g,p.angle-c.angleB,g),c.angleB=p.angle);var C=m,M=g;if(v&&(C=d.add(v.position,m)),p&&(M=d.add(p.position,g)),!(!C||!M)){var b=d.sub(C,M),w=d.magnitude(b);w<a._minLength&&(w=a._minLength);var R=(w-c.length)/w,A=c.stiffness>=1||c.length===0,L=A?c.stiffness*u:c.stiffness*u*u,D=c.damping*u,G=d.mult(b,R*L),B=(v?v.inverseMass:0)+(p?p.inverseMass:0),I=(v?v.inverseInertia:0)+(p?p.inverseInertia:0),k=B+I,z,X,H,Q,J;if(D>0){var Y=d.create();H=d.div(b,w),J=d.sub(p&&d.sub(p.position,p.positionPrev)||Y,v&&d.sub(v.position,v.positionPrev)||Y),Q=d.dot(H,J)}v&&!v.isStatic&&(X=v.inverseMass/B,v.constraintImpulse.x-=G.x*X,v.constraintImpulse.y-=G.y*X,v.position.x-=G.x*X,v.position.y-=G.y*X,D>0&&(v.positionPrev.x-=D*H.x*Q*X,v.positionPrev.y-=D*H.y*Q*X),z=d.cross(m,G)/k*a._torqueDampen*v.inverseInertia*(1-c.angularStiffness),v.constraintImpulse.angle-=z,v.angle-=z),p&&!p.isStatic&&(X=p.inverseMass/B,p.constraintImpulse.x+=G.x*X,p.constraintImpulse.y+=G.y*X,p.position.x+=G.x*X,p.position.y+=G.y*X,D>0&&(p.positionPrev.x+=D*H.x*Q*X,p.positionPrev.y+=D*H.y*Q*X),z=d.cross(g,G)/k*a._torqueDampen*p.inverseInertia*(1-c.angularStiffness),p.constraintImpulse.angle+=z,p.angle+=z)}}},a.postSolveAll=function(c){for(var u=0;u<c.length;u++){var v=c[u],p=v.constraintImpulse;if(!(v.isStatic||p.x===0&&p.y===0&&p.angle===0)){l.set(v,!1);for(var m=0;m<v.parts.length;m++){var g=v.parts[m];x.translate(g.vertices,p),m>0&&(g.position.x+=p.x,g.position.y+=p.y),p.angle!==0&&(x.rotate(g.vertices,p.angle,v.position),s.rotate(g.axes,p.angle),m>0&&d.rotateAbout(g.position,p.angle,v.position,g.position)),o.update(g.bounds,g.vertices,v.velocity)}p.angle*=a._warming,p.x*=a._warming,p.y*=a._warming}}},a.pointAWorld=function(c){return{x:(c.bodyA?c.bodyA.position.x:0)+(c.pointA?c.pointA.x:0),y:(c.bodyA?c.bodyA.position.y:0)+(c.pointA?c.pointA.y:0)}},a.pointBWorld=function(c){return{x:(c.bodyB?c.bodyB.position.x:0)+(c.pointB?c.pointB.x:0),y:(c.bodyB?c.bodyB.position.y:0)+(c.pointB?c.pointB.y:0)}},a.currentLength=function(c){var u=(c.bodyA?c.bodyA.position.x:0)+(c.pointA?c.pointA.x:0),v=(c.bodyA?c.bodyA.position.y:0)+(c.pointA?c.pointA.y:0),p=(c.bodyB?c.bodyB.position.x:0)+(c.pointB?c.pointB.x:0),m=(c.bodyB?c.bodyB.position.y:0)+(c.pointB?c.pointB.y:0),g=u-p,C=v-m;return Math.sqrt(g*g+C*C)}})()},53402:(n,T,i)=>{var a={};n.exports=a,function(){a._baseDelta=16.666666666666668,a._nextId=0,a._seed=0,a._nowStartTime=+new Date,a._warnedOnce={},a._decomp=null,a.extend=function(d,l){var o,s;typeof l=="boolean"?(o=2,s=l):(o=1,s=!0);for(var f=o;f<arguments.length;f++){var c=arguments[f];if(c)for(var u in c)s&&c[u]&&c[u].constructor===Object&&(!d[u]||d[u].constructor===Object)?(d[u]=d[u]||{},a.extend(d[u],s,c[u])):d[u]=c[u]}return d},a.clone=function(d,l){return a.extend({},l,d)},a.keys=function(d){if(Object.keys)return Object.keys(d);var l=[];for(var o in d)l.push(o);return l},a.values=function(d){var l=[];if(Object.keys){for(var o=Object.keys(d),s=0;s<o.length;s++)l.push(d[o[s]]);return l}for(var f in d)l.push(d[f]);return l},a.get=function(d,l,o,s){l=l.split(".").slice(o,s);for(var f=0;f<l.length;f+=1)d=d[l[f]];return d},a.set=function(d,l,o,s,f){var c=l.split(".").slice(s,f);return a.get(d,l,0,-1)[c[c.length-1]]=o,o},a.shuffle=function(d){for(var l=d.length-1;l>0;l--){var o=Math.floor(a.random()*(l+1)),s=d[l];d[l]=d[o],d[o]=s}return d},a.choose=function(d){return d[Math.floor(a.random()*d.length)]},a.isElement=function(d){return typeof HTMLElement<"u"?d instanceof HTMLElement:!!(d&&d.nodeType&&d.nodeName)},a.isArray=function(d){return Object.prototype.toString.call(d)==="[object Array]"},a.isFunction=function(d){return typeof d=="function"},a.isPlainObject=function(d){return typeof d=="object"&&d.constructor===Object},a.isString=function(d){return toString.call(d)==="[object String]"},a.clamp=function(d,l,o){return d<l?l:d>o?o:d},a.sign=function(d){return d<0?-1:1},a.now=function(){if(typeof window<"u"&&window.performance){if(window.performance.now)return window.performance.now();if(window.performance.webkitNow)return window.performance.webkitNow()}return Date.now?Date.now():new Date-a._nowStartTime},a.random=function(d,l){return d=typeof d<"u"?d:0,l=typeof l<"u"?l:1,d+x()*(l-d)};var x=function(){return a._seed=(a._seed*9301+49297)%233280,a._seed/233280};a.colorToNumber=function(d){return d=d.replace("#",""),d.length==3&&(d=d.charAt(0)+d.charAt(0)+d.charAt(1)+d.charAt(1)+d.charAt(2)+d.charAt(2)),parseInt(d,16)},a.logLevel=1,a.log=function(){console&&a.logLevel>0&&a.logLevel<=3&&console.log.apply(console,["matter-js:"].concat(Array.prototype.slice.call(arguments)))},a.info=function(){console&&a.logLevel>0&&a.logLevel<=2&&console.info.apply(console,["matter-js:"].concat(Array.prototype.slice.call(arguments)))},a.warn=function(){console&&a.logLevel>0&&a.logLevel<=3&&console.warn.apply(console,["matter-js:"].concat(Array.prototype.slice.call(arguments)))},a.warnOnce=function(){var d=Array.prototype.slice.call(arguments).join(" ");a._warnedOnce[d]||(a.warn(d),a._warnedOnce[d]=!0)},a.deprecated=function(d,l,o){d[l]=a.chain(function(){a.warnOnce("🔅 deprecated 🔅",o)},d[l])},a.nextId=function(){return a._nextId++},a.indexOf=function(d,l){if(d.indexOf)return d.indexOf(l);for(var o=0;o<d.length;o++)if(d[o]===l)return o;return-1},a.map=function(d,l){if(d.map)return d.map(l);for(var o=[],s=0;s<d.length;s+=1)o.push(l(d[s]));return o},a.topologicalSort=function(d){var l=[],o=[],s=[];for(var f in d)!o[f]&&!s[f]&&a._topologicalSort(f,o,s,d,l);return l},a._topologicalSort=function(d,l,o,s,f){var c=s[d]||[];o[d]=!0;for(var u=0;u<c.length;u+=1){var v=c[u];o[v]||l[v]||a._topologicalSort(v,l,o,s,f)}o[d]=!1,l[d]=!0,f.push(d)},a.chain=function(){for(var d=[],l=0;l<arguments.length;l+=1){var o=arguments[l];o._chained?d.push.apply(d,o._chained):d.push(o)}var s=function(){for(var f,c=new Array(arguments.length),u=0,v=arguments.length;u<v;u++)c[u]=arguments[u];for(u=0;u<d.length;u+=1){var p=d[u].apply(f,c);typeof p<"u"&&(f=p)}return f};return s._chained=d,s},a.chainPathBefore=function(d,l,o){return a.set(d,l,a.chain(o,a.get(d,l)))},a.chainPathAfter=function(d,l,o){return a.set(d,l,a.chain(a.get(d,l),o))},a.setDecomp=function(d){a._decomp=d},a.getDecomp=function(){var d=a._decomp;try{!d&&typeof window<"u"&&(d=window.decomp),!d&&typeof i.g<"u"&&(d=i.g.decomp)}catch{d=null}return d}}()},48413:(n,T,i)=>{var a={};n.exports=a;var x=i(53614),d=i(66272),l=i(81388),o=i(99561),s=i(35810),f=i(69351),c=i(48140),u=i(53402),v=i(22562);(function(){a._deltaMax=16.666666666666668,a.create=function(p){p=p||{};var m={positionIterations:6,velocityIterations:4,constraintIterations:2,enableSleeping:!1,events:[],plugin:{},gravity:{x:0,y:1,scale:.001},timing:{timestamp:0,timeScale:1,lastDelta:0,lastElapsed:0,lastUpdatesPerFrame:0}},g=u.extend(m,p);return g.world=p.world||f.create({label:"World"}),g.pairs=p.pairs||o.create(),g.detector=p.detector||l.create(),g.detector.pairs=g.pairs,g.grid={buckets:[]},g.world.gravity=g.gravity,g.broadphase=g.grid,g.metrics={},g},a.update=function(p,m){var g=u.now(),C=p.world,M=p.detector,b=p.pairs,w=p.timing,R=w.timestamp,A;m>a._deltaMax&&u.warnOnce("Matter.Engine.update: delta argument is recommended to be less than or equal to",a._deltaMax.toFixed(3),"ms."),m=typeof m<"u"?m:u._baseDelta,m*=w.timeScale,w.timestamp+=m,w.lastDelta=m;var L={timestamp:w.timestamp,delta:m};s.trigger(p,"beforeUpdate",L);var D=f.allBodies(C),G=f.allConstraints(C),B=f.allComposites(C);for(C.isModified&&(l.setBodies(M,D),f.setModified(C,!1,!1,!0)),p.enableSleeping&&x.update(D,m),a._bodiesApplyGravity(D,p.gravity),a.wrap(D,B),a.attractors(D),m>0&&a._bodiesUpdate(D,m),s.trigger(p,"beforeSolve",L),c.preSolveAll(D),A=0;A<p.constraintIterations;A++)c.solveAll(G,m);c.postSolveAll(D);var I=l.collisions(M);o.update(b,I,R),p.enableSleeping&&x.afterCollisions(b.list),b.collisionStart.length>0&&s.trigger(p,"collisionStart",{pairs:b.collisionStart,timestamp:w.timestamp,delta:m});var k=u.clamp(20/p.positionIterations,0,1);for(d.preSolvePosition(b.list),A=0;A<p.positionIterations;A++)d.solvePosition(b.list,m,k);for(d.postSolvePosition(D),c.preSolveAll(D),A=0;A<p.constraintIterations;A++)c.solveAll(G,m);for(c.postSolveAll(D),d.preSolveVelocity(b.list),A=0;A<p.velocityIterations;A++)d.solveVelocity(b.list,m);return a._bodiesUpdateVelocities(D),b.collisionActive.length>0&&s.trigger(p,"collisionActive",{pairs:b.collisionActive,timestamp:w.timestamp,delta:m}),b.collisionEnd.length>0&&s.trigger(p,"collisionEnd",{pairs:b.collisionEnd,timestamp:w.timestamp,delta:m}),a._bodiesClearForces(D),s.trigger(p,"afterUpdate",L),p.timing.lastElapsed=u.now()-g,p},a.merge=function(p,m){if(u.extend(p,m),m.world){p.world=m.world,a.clear(p);for(var g=f.allBodies(p.world),C=0;C<g.length;C++){var M=g[C];x.set(M,!1),M.id=u.nextId()}}},a.clear=function(p){o.clear(p.pairs),l.clear(p.detector)},a._bodiesClearForces=function(p){for(var m=p.length,g=0;g<m;g++){var C=p[g];C.force.x=0,C.force.y=0,C.torque=0}},a._bodiesApplyGravity=function(p,m){var g=typeof m.scale<"u"?m.scale:.001,C=p.length;if(!(m.x===0&&m.y===0||g===0))for(var M=0;M<C;M++){var b=p[M];b.ignoreGravity||b.isStatic||b.isSleeping||(b.force.y+=b.mass*m.y*g,b.force.x+=b.mass*m.x*g)}},a._bodiesUpdate=function(p,m){for(var g=p.length,C=0;C<g;C++){var M=p[C];M.isStatic||M.isSleeping||v.update(M,m)}},a._bodiesUpdateVelocities=function(p){for(var m=p.length,g=0;g<m;g++)v.updateVelocities(p[g])},a.wrap=function(p,m){for(var g=0;g<p.length;g+=1){var C=p[g];C.wrapBounds!==null&&v.wrap(C,C.wrapBounds)}for(g=0;g<m.length;g+=1){var M=m[g];M.wrapBounds!==null&&f.wrap(M,M.wrapBounds)}},a.attractors=function(p){for(var m=0;m<p.length;m++){var g=p[m],C=g.attractors;if(C&&C.length>0)for(var M=0;M<p.length;M++){var b=p[M];if(m!==M)for(var w=0;w<C.length;w++){var R=C[w],A=R;u.isFunction(R)&&(A=R(g,b)),A&&v.applyForce(b,b.position,A)}}}}})()},35810:(n,T,i)=>{var a={};n.exports=a;var x=i(53402);(function(){a.on=function(d,l,o){for(var s=l.split(" "),f,c=0;c<s.length;c++)f=s[c],d.events=d.events||{},d.events[f]=d.events[f]||[],d.events[f].push(o);return o},a.off=function(d,l,o){if(!l){d.events={};return}typeof l=="function"&&(o=l,l=x.keys(d.events).join(" "));for(var s=l.split(" "),f=0;f<s.length;f++){var c=d.events[s[f]],u=[];if(o&&c)for(var v=0;v<c.length;v++)c[v]!==o&&u.push(c[v]);d.events[s[f]]=u}},a.trigger=function(d,l,o){var s,f,c,u,v=d.events;if(v&&x.keys(v).length>0){o||(o={}),s=l.split(" ");for(var p=0;p<s.length;p++)if(f=s[p],c=v[f],c){u=x.clone(o,!1),u.name=f,u.source=d;for(var m=0;m<c.length;m++)c[m].apply(d,[u])}}}})()},6790:(n,T,i)=>{var a={};n.exports=a;var x=i(73832),d=i(53402);(function(){a.name="matter-js",a.version="0.20.0",a.uses=[],a.used=[],a.use=function(){x.use(a,Array.prototype.slice.call(arguments))},a.before=function(l,o){return l=l.replace(/^Matter./,""),d.chainPathBefore(a,l,o)},a.after=function(l,o){return l=l.replace(/^Matter./,""),d.chainPathAfter(a,l,o)}})()},73832:(n,T,i)=>{var a={};n.exports=a;var x=i(53402);(function(){a._registry={},a.register=function(d){if(a.isPlugin(d)||x.warn("Plugin.register:",a.toString(d),"does not implement all required fields."),d.name in a._registry){var l=a._registry[d.name],o=a.versionParse(d.version).number,s=a.versionParse(l.version).number;o>s?(x.warn("Plugin.register:",a.toString(l),"was upgraded to",a.toString(d)),a._registry[d.name]=d):o<s?x.warn("Plugin.register:",a.toString(l),"can not be downgraded to",a.toString(d)):d!==l&&x.warn("Plugin.register:",a.toString(d),"is already registered to different plugin object")}else a._registry[d.name]=d;return d},a.resolve=function(d){return a._registry[a.dependencyParse(d).name]},a.toString=function(d){return typeof d=="string"?d:(d.name||"anonymous")+"@"+(d.version||d.range||"0.0.0")},a.isPlugin=function(d){return d&&d.name&&d.version&&d.install},a.isUsed=function(d,l){return d.used.indexOf(l)>-1},a.isFor=function(d,l){var o=d.for&&a.dependencyParse(d.for);return!d.for||l.name===o.name&&a.versionSatisfies(l.version,o.range)},a.use=function(d,l){if(d.uses=(d.uses||[]).concat(l||[]),d.uses.length===0){x.warn("Plugin.use:",a.toString(d),"does not specify any dependencies to install.");return}for(var o=a.dependencies(d),s=x.topologicalSort(o),f=[],c=0;c<s.length;c+=1)if(s[c]!==d.name){var u=a.resolve(s[c]);if(!u){f.push("❌ "+s[c]);continue}a.isUsed(d,u.name)||(a.isFor(u,d)||(x.warn("Plugin.use:",a.toString(u),"is for",u.for,"but installed on",a.toString(d)+"."),u._warned=!0),u.install?u.install(d):(x.warn("Plugin.use:",a.toString(u),"does not specify an install function."),u._warned=!0),u._warned?(f.push("🔶 "+a.toString(u)),delete u._warned):f.push("✅ "+a.toString(u)),d.used.push(u.name))}f.length>0&&!u.silent&&x.info(f.join("  "))},a.dependencies=function(d,l){var o=a.dependencyParse(d),s=o.name;if(l=l||{},!(s in l)){d=a.resolve(d)||d,l[s]=x.map(d.uses||[],function(c){a.isPlugin(c)&&a.register(c);var u=a.dependencyParse(c),v=a.resolve(c);return v&&!a.versionSatisfies(v.version,u.range)?(x.warn("Plugin.dependencies:",a.toString(v),"does not satisfy",a.toString(u),"used by",a.toString(o)+"."),v._warned=!0,d._warned=!0):v||(x.warn("Plugin.dependencies:",a.toString(c),"used by",a.toString(o),"could not be resolved."),d._warned=!0),u.name});for(var f=0;f<l[s].length;f+=1)a.dependencies(l[s][f],l);return l}},a.dependencyParse=function(d){if(x.isString(d)){var l=/^[\w-]+(@(\*|[\^~]?\d+\.\d+\.\d+(-[0-9A-Za-z-+]+)?))?$/;return l.test(d)||x.warn("Plugin.dependencyParse:",d,"is not a valid dependency string."),{name:d.split("@")[0],range:d.split("@")[1]||"*"}}return{name:d.name,range:d.range||d.version}},a.versionParse=function(d){var l=/^(\*)|(\^|~|>=|>)?\s*((\d+)\.(\d+)\.(\d+))(-[0-9A-Za-z-+]+)?$/;l.test(d)||x.warn("Plugin.versionParse:",d,"is not a valid version or range.");var o=l.exec(d),s=Number(o[4]),f=Number(o[5]),c=Number(o[6]);return{isRange:!!(o[1]||o[2]),version:o[3],range:d,operator:o[1]||o[2]||"",major:s,minor:f,patch:c,parts:[s,f,c],prerelease:o[7],number:s*1e8+f*1e4+c}},a.versionSatisfies=function(d,l){l=l||"*";var o=a.versionParse(l),s=a.versionParse(d);if(o.isRange){if(o.operator==="*"||d==="*")return!0;if(o.operator===">")return s.number>o.number;if(o.operator===">=")return s.number>=o.number;if(o.operator==="~")return s.major===o.major&&s.minor===o.minor&&s.patch>=o.patch;if(o.operator==="^")return o.major>0?s.major===o.major&&s.number>=o.number:o.minor>0?s.minor===o.minor&&s.patch>=o.patch:s.patch===o.patch}return d===l||d==="*"}})()},13037:(n,T,i)=>{var a={};n.exports=a;var x=i(35810),d=i(48413),l=i(53402);(function(){a._maxFrameDelta=66.66666666666667,a._frameDeltaFallback=16.666666666666668,a._timeBufferMargin=1.5,a._elapsedNextEstimate=1,a._smoothingLowerBound=.1,a._smoothingUpperBound=.9,a.create=function(s){var f={delta:16.666666666666668,frameDelta:null,frameDeltaSmoothing:!0,frameDeltaSnapping:!0,frameDeltaHistory:[],frameDeltaHistorySize:100,frameRequestId:null,timeBuffer:0,timeLastTick:null,maxUpdates:null,maxFrameTime:33.333333333333336,lastUpdatesDeferred:0,enabled:!0},c=l.extend(f,s);return c.fps=0,c},a.run=function(s,f){return s.timeBuffer=a._frameDeltaFallback,function c(u){s.frameRequestId=a._onNextFrame(s,c),u&&s.enabled&&a.tick(s,f,u)}(),s},a.tick=function(s,f,c){var u=l.now(),v=s.delta,p=0,m=c-s.timeLastTick;if((!m||!s.timeLastTick||m>Math.max(a._maxFrameDelta,s.maxFrameTime))&&(m=s.frameDelta||a._frameDeltaFallback),s.frameDeltaSmoothing){s.frameDeltaHistory.push(m),s.frameDeltaHistory=s.frameDeltaHistory.slice(-s.frameDeltaHistorySize);var g=s.frameDeltaHistory.slice(0).sort(),C=s.frameDeltaHistory.slice(g.length*a._smoothingLowerBound,g.length*a._smoothingUpperBound),M=o(C);m=M||m}s.frameDeltaSnapping&&(m=1e3/Math.round(1e3/m)),s.frameDelta=m,s.timeLastTick=c,s.timeBuffer+=s.frameDelta,s.timeBuffer=l.clamp(s.timeBuffer,0,s.frameDelta+v*a._timeBufferMargin),s.lastUpdatesDeferred=0;var b=s.maxUpdates||Math.ceil(s.maxFrameTime/v),w={timestamp:f.timing.timestamp};x.trigger(s,"beforeTick",w),x.trigger(s,"tick",w);for(var R=l.now();v>0&&s.timeBuffer>=v*a._timeBufferMargin;){x.trigger(s,"beforeUpdate",w),d.update(f,v),x.trigger(s,"afterUpdate",w),s.timeBuffer-=v,p+=1;var A=l.now()-u,L=l.now()-R,D=A+a._elapsedNextEstimate*L/p;if(p>=b||D>s.maxFrameTime){s.lastUpdatesDeferred=Math.round(Math.max(0,s.timeBuffer/v-a._timeBufferMargin));break}}f.timing.lastUpdatesPerFrame=p,x.trigger(s,"afterTick",w),s.frameDeltaHistory.length>=100&&(s.lastUpdatesDeferred&&Math.round(s.frameDelta/v)>b?l.warnOnce("Matter.Runner: runner reached runner.maxUpdates, see docs."):s.lastUpdatesDeferred&&l.warnOnce("Matter.Runner: runner reached runner.maxFrameTime, see docs."),typeof s.isFixed<"u"&&l.warnOnce("Matter.Runner: runner.isFixed is now redundant, see docs."),(s.deltaMin||s.deltaMax)&&l.warnOnce("Matter.Runner: runner.deltaMin and runner.deltaMax were removed, see docs."),s.fps!==0&&l.warnOnce("Matter.Runner: runner.fps was replaced by runner.delta, see docs."))},a.stop=function(s){a._cancelNextFrame(s)},a._onNextFrame=function(s,f){if(typeof window<"u"&&window.requestAnimationFrame)s.frameRequestId=window.requestAnimationFrame(f);else throw new Error("Matter.Runner: missing required global window.requestAnimationFrame.");return s.frameRequestId},a._cancelNextFrame=function(s){if(typeof window<"u"&&window.cancelAnimationFrame)window.cancelAnimationFrame(s.frameRequestId);else throw new Error("Matter.Runner: missing required global window.cancelAnimationFrame.")};var o=function(s){for(var f=0,c=s.length,u=0;u<c;u+=1)f+=s[u];return f/c||0};a._mean=o})()},53614:(n,T,i)=>{var a={};n.exports=a;var x=i(22562),d=i(35810),l=i(53402);(function(){a._motionWakeThreshold=.18,a._motionSleepThreshold=.08,a._minBias=.9,a.update=function(o,s){for(var f=s/l._baseDelta,c=a._motionSleepThreshold,u=0;u<o.length;u++){var v=o[u],p=x.getSpeed(v),m=x.getAngularSpeed(v),g=p*p+m*m;if(v.force.x!==0||v.force.y!==0){a.set(v,!1);continue}var C=Math.min(v.motion,g),M=Math.max(v.motion,g);v.motion=a._minBias*C+(1-a._minBias)*M,v.sleepThreshold>0&&v.motion<c?(v.sleepCounter+=1,v.sleepCounter>=v.sleepThreshold/f&&a.set(v,!0)):v.sleepCounter>0&&(v.sleepCounter-=1)}},a.afterCollisions=function(o){for(var s=a._motionSleepThreshold,f=0;f<o.length;f++){var c=o[f];if(c.isActive){var u=c.collision,v=u.bodyA.parent,p=u.bodyB.parent;if(!(v.isSleeping&&p.isSleeping||v.isStatic||p.isStatic)&&(v.isSleeping||p.isSleeping)){var m=v.isSleeping&&!v.isStatic?v:p,g=m===v?p:v;!m.isStatic&&g.motion>s&&a.set(m,!1)}}}},a.set=function(o,s){var f=o.isSleeping;s?(o.isSleeping=!0,o.sleepCounter=o.sleepThreshold,o.positionImpulse.x=0,o.positionImpulse.y=0,o.positionPrev.x=o.position.x,o.positionPrev.y=o.position.y,o.anglePrev=o.angle,o.speed=0,o.angularSpeed=0,o.motion=0,f||d.trigger(o,"sleepStart")):(o.isSleeping=!1,o.sleepCounter=0,f&&d.trigger(o,"sleepEnd"))}})()},66280:(n,T,i)=>{var a={};n.exports=a;var x=i(41598),d=i(53402),l=i(22562),o=i(15647),s=i(31725);(function(){a.rectangle=function(f,c,u,v,p){p=p||{};var m={label:"Rectangle Body",position:{x:f,y:c},vertices:x.fromPath("L 0 0 L "+u+" 0 L "+u+" "+v+" L 0 "+v)};if(p.chamfer){var g=p.chamfer;m.vertices=x.chamfer(m.vertices,g.radius,g.quality,g.qualityMin,g.qualityMax),delete p.chamfer}return l.create(d.extend({},m,p))},a.trapezoid=function(f,c,u,v,p,m){m=m||{},p>=1&&d.warn("Bodies.trapezoid: slope parameter must be < 1."),p*=.5;var g=(1-p*2)*u,C=u*p,M=C+g,b=M+C,w;p<.5?w="L 0 0 L "+C+" "+-v+" L "+M+" "+-v+" L "+b+" 0":w="L 0 0 L "+M+" "+-v+" L "+b+" 0";var R={label:"Trapezoid Body",position:{x:f,y:c},vertices:x.fromPath(w)};if(m.chamfer){var A=m.chamfer;R.vertices=x.chamfer(R.vertices,A.radius,A.quality,A.qualityMin,A.qualityMax),delete m.chamfer}return l.create(d.extend({},R,m))},a.circle=function(f,c,u,v,p){v=v||{};var m={label:"Circle Body",circleRadius:u};p=p||25;var g=Math.ceil(Math.max(10,Math.min(p,u)));return g%2===1&&(g+=1),a.polygon(f,c,g,u,d.extend({},m,v))},a.polygon=function(f,c,u,v,p){if(p=p||{},u<3)return a.circle(f,c,v,p);for(var m=2*Math.PI/u,g="",C=m*.5,M=0;M<u;M+=1){var b=C+M*m,w=Math.cos(b)*v,R=Math.sin(b)*v;g+="L "+w.toFixed(3)+" "+R.toFixed(3)+" "}var A={label:"Polygon Body",position:{x:f,y:c},vertices:x.fromPath(g)};if(p.chamfer){var L=p.chamfer;A.vertices=x.chamfer(A.vertices,L.radius,L.quality,L.qualityMin,L.qualityMax),delete p.chamfer}return l.create(d.extend({},A,p))},a.fromVertices=function(f,c,u,v,p,m,g,C){var M=d.getDecomp(),b,w,R,A,L,D,G,B,I,k,z;for(b=!!(M&&M.quickDecomp),v=v||{},R=[],p=typeof p<"u"?p:!1,m=typeof m<"u"?m:.01,g=typeof g<"u"?g:10,C=typeof C<"u"?C:.01,d.isArray(u[0])||(u=[u]),k=0;k<u.length;k+=1)if(D=u[k],A=x.isConvex(D),L=!A,L&&!b&&d.warnOnce("Bodies.fromVertices: Install the 'poly-decomp' library and use Common.setDecomp or provide 'decomp' as a global to decompose concave vertices."),A||!b)A?D=x.clockwiseSort(D):D=x.hull(D),R.push({position:{x:f,y:c},vertices:D});else{var X=D.map(function(tt){return[tt.x,tt.y]});M.makeCCW(X),m!==!1&&M.removeCollinearPoints(X,m),C!==!1&&M.removeDuplicatePoints&&M.removeDuplicatePoints(X,C);var H=M.quickDecomp(X);for(G=0;G<H.length;G++){var Q=H[G],J=Q.map(function(tt){return{x:tt[0],y:tt[1]}});g>0&&x.area(J)<g||R.push({position:x.centre(J),vertices:J})}}for(G=0;G<R.length;G++)R[G]=l.create(d.extend(R[G],v));if(p){var Y=5;for(G=0;G<R.length;G++){var $=R[G];for(B=G+1;B<R.length;B++){var V=R[B];if(o.overlaps($.bounds,V.bounds)){var U=$.vertices,K=V.vertices;for(I=0;I<$.vertices.length;I++)for(z=0;z<V.vertices.length;z++){var j=s.magnitudeSquared(s.sub(U[(I+1)%U.length],K[z])),_=s.magnitudeSquared(s.sub(U[I],K[(z+1)%K.length]));j<Y&&_<Y&&(U[I].isInternal=!0,K[z].isInternal=!0)}}}}}return R.length>1?(w=l.create(d.extend({parts:R.slice(0)},v)),l.setPosition(w,{x:f,y:c}),w):R[0]},a.flagCoincidentParts=function(f,c){c===void 0&&(c=5);for(var u=0;u<f.length;u++)for(var v=f[u],p=u+1;p<f.length;p++){var m=f[p];if(o.overlaps(v.bounds,m.bounds))for(var g=v.vertices,C=m.vertices,M=0;M<v.vertices.length;M++)for(var b=0;b<m.vertices.length;b++){var w=s.magnitudeSquared(s.sub(g[(M+1)%g.length],C[b])),R=s.magnitudeSquared(s.sub(g[M],C[(b+1)%C.length]));w<c&&R<c&&(g[M].isInternal=!0,C[b].isInternal=!0)}}return f}})()},74116:(n,T,i)=>{var a={};n.exports=a;var x=i(69351),d=i(48140),l=i(53402),o=i(22562),s=i(66280);(function(){a.stack=function(f,c,u,v,p,m,g){for(var C=x.create({label:"Stack"}),M=f,b=c,w,R=0,A=0;A<v;A++){for(var L=0,D=0;D<u;D++){var G=g(M,b,D,A,w,R);if(G){var B=G.bounds.max.y-G.bounds.min.y,I=G.bounds.max.x-G.bounds.min.x;B>L&&(L=B),o.translate(G,{x:I*.5,y:B*.5}),M=G.bounds.max.x+p,x.addBody(C,G),w=G,R+=1}else M+=p}b+=L+m,M=f}return C},a.chain=function(f,c,u,v,p,m){for(var g=f.bodies,C=1;C<g.length;C++){var M=g[C-1],b=g[C],w=M.bounds.max.y-M.bounds.min.y,R=M.bounds.max.x-M.bounds.min.x,A=b.bounds.max.y-b.bounds.min.y,L=b.bounds.max.x-b.bounds.min.x,D={bodyA:M,pointA:{x:R*c,y:w*u},bodyB:b,pointB:{x:L*v,y:A*p}},G=l.extend(D,m);x.addConstraint(f,d.create(G))}return f.label+=" Chain",f},a.mesh=function(f,c,u,v,p){var m=f.bodies,g,C,M,b,w;for(g=0;g<u;g++){for(C=1;C<c;C++)M=m[C-1+g*c],b=m[C+g*c],x.addConstraint(f,d.create(l.extend({bodyA:M,bodyB:b},p)));if(g>0)for(C=0;C<c;C++)M=m[C+(g-1)*c],b=m[C+g*c],x.addConstraint(f,d.create(l.extend({bodyA:M,bodyB:b},p))),v&&C>0&&(w=m[C-1+(g-1)*c],x.addConstraint(f,d.create(l.extend({bodyA:w,bodyB:b},p)))),v&&C<c-1&&(w=m[C+1+(g-1)*c],x.addConstraint(f,d.create(l.extend({bodyA:w,bodyB:b},p))))}return f.label+=" Mesh",f},a.pyramid=function(f,c,u,v,p,m,g){return a.stack(f,c,u,v,p,m,function(C,M,b,w,R,A){var L=Math.min(v,Math.ceil(u/2)),D=R?R.bounds.max.x-R.bounds.min.x:0;if(!(w>L)){w=L-w;var G=w,B=u-1-w;if(!(b<G||b>B)){A===1&&o.translate(R,{x:(b+(u%2===1?1:-1))*D,y:0});var I=R?b*D:0;return g(f+I+b*p,M,b,w,R,A)}}})},a.newtonsCradle=function(f,c,u,v,p){for(var m=x.create({label:"Newtons Cradle"}),g=0;g<u;g++){var C=1.9,M=s.circle(f+g*(v*C),c+p,v,{inertia:1/0,restitution:1,friction:0,frictionAir:1e-4,slop:1}),b=d.create({pointA:{x:f+g*(v*C),y:c},bodyB:M});x.addBody(m,M),x.addConstraint(m,b)}return m},a.car=function(f,c,u,v,p){var m=o.nextGroup(!0),g=20,C=-u*.5+g,M=u*.5-g,b=0,w=x.create({label:"Car"}),R=s.rectangle(f,c,u,v,{collisionFilter:{group:m},chamfer:{radius:v*.5},density:2e-4}),A=s.circle(f+C,c+b,p,{collisionFilter:{group:m},friction:.8}),L=s.circle(f+M,c+b,p,{collisionFilter:{group:m},friction:.8}),D=d.create({bodyB:R,pointB:{x:C,y:b},bodyA:A,stiffness:1,length:0}),G=d.create({bodyB:R,pointB:{x:M,y:b},bodyA:L,stiffness:1,length:0});return x.addBody(w,R),x.addBody(w,A),x.addBody(w,L),x.addConstraint(w,D),x.addConstraint(w,G),w},a.softBody=function(f,c,u,v,p,m,g,C,M,b){M=l.extend({inertia:1/0},M),b=l.extend({stiffness:.2,render:{type:"line",anchors:!1}},b);var w=a.stack(f,c,u,v,p,m,function(R,A){return s.circle(R,A,C,M)});return a.mesh(w,u,v,g,b),w.label="Soft Body",w}})()},66615:(n,T,i)=>{var a={};n.exports=a;var x=i(31725),d=i(53402);(function(){a.fromVertices=function(l){for(var o={},s=0;s<l.length;s++){var f=(s+1)%l.length,c=x.normalise({x:l[f].y-l[s].y,y:l[s].x-l[f].x}),u=c.y===0?1/0:c.x/c.y;u=u.toFixed(3).toString(),o[u]=c}return d.values(o)},a.rotate=function(l,o){if(o!==0)for(var s=Math.cos(o),f=Math.sin(o),c=0;c<l.length;c++){var u=l[c],v;v=u.x*s-u.y*f,u.y=u.x*f+u.y*s,u.x=v}}})()},15647:n=>{var T={};n.exports=T,function(){T.create=function(i){var a={min:{x:0,y:0},max:{x:0,y:0}};return i&&T.update(a,i),a},T.update=function(i,a,x){i.min.x=1/0,i.max.x=-1/0,i.min.y=1/0,i.max.y=-1/0;for(var d=0;d<a.length;d++){var l=a[d];l.x>i.max.x&&(i.max.x=l.x),l.x<i.min.x&&(i.min.x=l.x),l.y>i.max.y&&(i.max.y=l.y),l.y<i.min.y&&(i.min.y=l.y)}x&&(x.x>0?i.max.x+=x.x:i.min.x+=x.x,x.y>0?i.max.y+=x.y:i.min.y+=x.y)},T.contains=function(i,a){return a.x>=i.min.x&&a.x<=i.max.x&&a.y>=i.min.y&&a.y<=i.max.y},T.overlaps=function(i,a){return i.min.x<=a.max.x&&i.max.x>=a.min.x&&i.max.y>=a.min.y&&i.min.y<=a.max.y},T.translate=function(i,a){i.min.x+=a.x,i.max.x+=a.x,i.min.y+=a.y,i.max.y+=a.y},T.shift=function(i,a){var x=i.max.x-i.min.x,d=i.max.y-i.min.y;i.min.x=a.x,i.max.x=a.x+x,i.min.y=a.y,i.max.y=a.y+d},T.wrap=function(i,a,x){var d=null,l=null;if(typeof a.min.x<"u"&&typeof a.max.x<"u"&&(i.min.x>a.max.x?d=a.min.x-i.max.x:i.max.x<a.min.x&&(d=a.max.x-i.min.x)),typeof a.min.y<"u"&&typeof a.max.y<"u"&&(i.min.y>a.max.y?l=a.min.y-i.max.y:i.max.y<a.min.y&&(l=a.max.y-i.min.y)),d!==null||l!==null)return{x:d||0,y:l||0}}}()},74058:(n,T,i)=>{var a={};n.exports=a,i(15647);var x=i(53402);(function(){a.pathToVertices=function(d,l){typeof window<"u"&&!("SVGPathSeg"in window)&&x.warn("Svg.pathToVertices: SVGPathSeg not defined, a polyfill is required.");var o,s,f,c,u,v,p,m,g,C,M=[],b,w,R=0,A=0,L=0;l=l||15;var D=function(B,I,k){var z=k%2===1&&k>1;if(!g||B!=g.x||I!=g.y){g&&z?(b=g.x,w=g.y):(b=0,w=0);var X={x:b+B,y:w+I};(z||!g)&&(g=X),M.push(X),A=b+B,L=w+I}},G=function(B){var I=B.pathSegTypeAsLetter.toUpperCase();if(I!=="Z"){switch(I){case"M":case"L":case"T":case"C":case"S":case"Q":A=B.x,L=B.y;break;case"H":A=B.x;break;case"V":L=B.y;break}D(A,L,B.pathSegType)}};for(a._svgPathToAbsolute(d),f=d.getTotalLength(),v=[],o=0;o<d.pathSegList.numberOfItems;o+=1)v.push(d.pathSegList.getItem(o));for(p=v.concat();R<f;){if(C=d.getPathSegAtLength(R),u=v[C],u!=m){for(;p.length&&p[0]!=u;)G(p.shift());m=u}switch(u.pathSegTypeAsLetter.toUpperCase()){case"C":case"T":case"S":case"Q":case"A":c=d.getPointAtLength(R),D(c.x,c.y,0);break}R+=l}for(o=0,s=p.length;o<s;++o)G(p[o]);return M},a._svgPathToAbsolute=function(d){for(var l,o,s,f,c,u,v=d.pathSegList,p=0,m=0,g=v.numberOfItems,C=0;C<g;++C){var M=v.getItem(C),b=M.pathSegTypeAsLetter;if(/[MLHVCSQTA]/.test(b))"x"in M&&(p=M.x),"y"in M&&(m=M.y);else switch("x1"in M&&(s=p+M.x1),"x2"in M&&(c=p+M.x2),"y1"in M&&(f=m+M.y1),"y2"in M&&(u=m+M.y2),"x"in M&&(p+=M.x),"y"in M&&(m+=M.y),b){case"m":v.replaceItem(d.createSVGPathSegMovetoAbs(p,m),C);break;case"l":v.replaceItem(d.createSVGPathSegLinetoAbs(p,m),C);break;case"h":v.replaceItem(d.createSVGPathSegLinetoHorizontalAbs(p),C);break;case"v":v.replaceItem(d.createSVGPathSegLinetoVerticalAbs(m),C);break;case"c":v.replaceItem(d.createSVGPathSegCurvetoCubicAbs(p,m,s,f,c,u),C);break;case"s":v.replaceItem(d.createSVGPathSegCurvetoCubicSmoothAbs(p,m,c,u),C);break;case"q":v.replaceItem(d.createSVGPathSegCurvetoQuadraticAbs(p,m,s,f),C);break;case"t":v.replaceItem(d.createSVGPathSegCurvetoQuadraticSmoothAbs(p,m),C);break;case"a":v.replaceItem(d.createSVGPathSegArcAbs(p,m,M.r1,M.r2,M.angle,M.largeArcFlag,M.sweepFlag),C);break;case"z":case"Z":p=l,m=o;break}(b=="M"||b=="m")&&(l=p,o=m)}}})()},31725:n=>{var T={};n.exports=T,function(){T.create=function(i,a){return{x:i||0,y:a||0}},T.clone=function(i){return{x:i.x,y:i.y}},T.magnitude=function(i){return Math.sqrt(i.x*i.x+i.y*i.y)},T.magnitudeSquared=function(i){return i.x*i.x+i.y*i.y},T.rotate=function(i,a,x){var d=Math.cos(a),l=Math.sin(a);x||(x={});var o=i.x*d-i.y*l;return x.y=i.x*l+i.y*d,x.x=o,x},T.rotateAbout=function(i,a,x,d){var l=Math.cos(a),o=Math.sin(a);d||(d={});var s=x.x+((i.x-x.x)*l-(i.y-x.y)*o);return d.y=x.y+((i.x-x.x)*o+(i.y-x.y)*l),d.x=s,d},T.normalise=function(i){var a=T.magnitude(i);return a===0?{x:0,y:0}:{x:i.x/a,y:i.y/a}},T.dot=function(i,a){return i.x*a.x+i.y*a.y},T.cross=function(i,a){return i.x*a.y-i.y*a.x},T.cross3=function(i,a,x){return(a.x-i.x)*(x.y-i.y)-(a.y-i.y)*(x.x-i.x)},T.add=function(i,a,x){return x||(x={}),x.x=i.x+a.x,x.y=i.y+a.y,x},T.sub=function(i,a,x){return x||(x={}),x.x=i.x-a.x,x.y=i.y-a.y,x},T.mult=function(i,a){return{x:i.x*a,y:i.y*a}},T.div=function(i,a){return{x:i.x/a,y:i.y/a}},T.perp=function(i,a){return a=a===!0?-1:1,{x:a*-i.y,y:a*i.x}},T.neg=function(i){return{x:-i.x,y:-i.y}},T.angle=function(i,a){return Math.atan2(a.y-i.y,a.x-i.x)},T._temp=[T.create(),T.create(),T.create(),T.create(),T.create(),T.create()]}()},41598:(n,T,i)=>{var a={};n.exports=a;var x=i(31725),d=i(53402);(function(){a.create=function(l,o){for(var s=[],f=0;f<l.length;f++){var c=l[f],u={x:c.x,y:c.y,index:f,body:o,isInternal:!1};s.push(u)}return s},a.fromPath=function(l,o){var s=/L?\s*([-\d.e]+)[\s,]*([-\d.e]+)*/ig,f=[];return l.replace(s,function(c,u,v){f.push({x:parseFloat(u),y:parseFloat(v)})}),a.create(f,o)},a.centre=function(l){for(var o=a.area(l,!0),s={x:0,y:0},f,c,u,v=0;v<l.length;v++)u=(v+1)%l.length,f=x.cross(l[v],l[u]),c=x.mult(x.add(l[v],l[u]),f),s=x.add(s,c);return x.div(s,6*o)},a.mean=function(l){for(var o={x:0,y:0},s=0;s<l.length;s++)o.x+=l[s].x,o.y+=l[s].y;return x.div(o,l.length)},a.area=function(l,o){for(var s=0,f=l.length-1,c=0;c<l.length;c++)s+=(l[f].x-l[c].x)*(l[f].y+l[c].y),f=c;return o?s/2:Math.abs(s)/2},a.inertia=function(l,o){for(var s=0,f=0,c=l,u,v,p=0;p<c.length;p++)v=(p+1)%c.length,u=Math.abs(x.cross(c[v],c[p])),s+=u*(x.dot(c[v],c[v])+x.dot(c[v],c[p])+x.dot(c[p],c[p])),f+=u;return o/6*(s/f)},a.translate=function(l,o,s){s=typeof s<"u"?s:1;var f=l.length,c=o.x*s,u=o.y*s,v;for(v=0;v<f;v++)l[v].x+=c,l[v].y+=u;return l},a.rotate=function(l,o,s){if(o!==0){var f=Math.cos(o),c=Math.sin(o),u=s.x,v=s.y,p=l.length,m,g,C,M;for(M=0;M<p;M++)m=l[M],g=m.x-u,C=m.y-v,m.x=u+(g*f-C*c),m.y=v+(g*c+C*f);return l}},a.contains=function(l,o){for(var s=o.x,f=o.y,c=l.length,u=l[c-1],v,p=0;p<c;p++){if(v=l[p],(s-u.x)*(v.y-u.y)+(f-u.y)*(u.x-v.x)>0)return!1;u=v}return!0},a.scale=function(l,o,s,f){if(o===1&&s===1)return l;f=f||a.centre(l);for(var c,u,v=0;v<l.length;v++)c=l[v],u=x.sub(c,f),l[v].x=f.x+u.x*o,l[v].y=f.y+u.y*s;return l},a.chamfer=function(l,o,s,f,c){typeof o=="number"?o=[o]:o=o||[8],s=typeof s<"u"?s:-1,f=f||2,c=c||14;for(var u=[],v=0;v<l.length;v++){var p=l[v-1>=0?v-1:l.length-1],m=l[v],g=l[(v+1)%l.length],C=o[v<o.length?v:o.length-1];if(C===0){u.push(m);continue}var M=x.normalise({x:m.y-p.y,y:p.x-m.x}),b=x.normalise({x:g.y-m.y,y:m.x-g.x}),w=Math.sqrt(2*Math.pow(C,2)),R=x.mult(d.clone(M),C),A=x.normalise(x.mult(x.add(M,b),.5)),L=x.sub(m,x.mult(A,w)),D=s;s===-1&&(D=Math.pow(C,.32)*1.75),D=d.clamp(D,f,c),D%2===1&&(D+=1);for(var G=Math.acos(x.dot(M,b)),B=G/D,I=0;I<D;I++)u.push(x.add(x.rotate(R,B*I),L))}return u},a.clockwiseSort=function(l){var o=a.mean(l);return l.sort(function(s,f){return x.angle(o,s)-x.angle(o,f)}),l},a.isConvex=function(l){var o=0,s=l.length,f,c,u,v;if(s<3)return null;for(f=0;f<s;f++)if(c=(f+1)%s,u=(f+2)%s,v=(l[c].x-l[f].x)*(l[u].y-l[c].y),v-=(l[c].y-l[f].y)*(l[u].x-l[c].x),v<0?o|=1:v>0&&(o|=2),o===3)return!1;return o!==0?!0:null},a.hull=function(l){var o=[],s=[],f,c;for(l=l.slice(0),l.sort(function(u,v){var p=u.x-v.x;return p!==0?p:u.y-v.y}),c=0;c<l.length;c+=1){for(f=l[c];s.length>=2&&x.cross3(s[s.length-2],s[s.length-1],f)<=0;)s.pop();s.push(f)}for(c=l.length-1;c>=0;c-=1){for(f=l[c];o.length>=2&&x.cross3(o[o.length-2],o[o.length-1],f)<=0;)o.pop();o.push(f)}return o.pop(),s.pop(),o.concat(s)}})()},55973:n=>{/**
 * @author       Stefan Hedman <schteppe@gmail.com> (http://steffe.se)
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports={decomp:G,quickDecomp:z,isSimple:I,removeCollinearPoints:X,removeDuplicatePoints:H,makeCCW:g};function T(Y,$,V){V=V||0;var U=[0,0],K,j,_,tt,rt,ot,ft;return K=Y[1][1]-Y[0][1],j=Y[0][0]-Y[1][0],_=K*Y[0][0]+j*Y[0][1],tt=$[1][1]-$[0][1],rt=$[0][0]-$[1][0],ot=tt*$[0][0]+rt*$[0][1],ft=K*rt-tt*j,Q(ft,0,V)||(U[0]=(rt*_-j*ot)/ft,U[1]=(K*ot-tt*_)/ft),U}function i(Y,$,V,U){var K=$[0]-Y[0],j=$[1]-Y[1],_=U[0]-V[0],tt=U[1]-V[1];if(_*j-tt*K===0)return!1;var rt=(K*(V[1]-Y[1])+j*(Y[0]-V[0]))/(_*j-tt*K),ot=(_*(Y[1]-V[1])+tt*(V[0]-Y[0]))/(tt*K-_*j);return rt>=0&&rt<=1&&ot>=0&&ot<=1}function a(Y,$,V){return($[0]-Y[0])*(V[1]-Y[1])-(V[0]-Y[0])*($[1]-Y[1])}function x(Y,$,V){return a(Y,$,V)>0}function d(Y,$,V){return a(Y,$,V)>=0}function l(Y,$,V){return a(Y,$,V)<0}function o(Y,$,V){return a(Y,$,V)<=0}var s=[],f=[];function c(Y,$,V,U){if(U){var K=s,j=f;K[0]=$[0]-Y[0],K[1]=$[1]-Y[1],j[0]=V[0]-$[0],j[1]=V[1]-$[1];var _=K[0]*j[0]+K[1]*j[1],tt=Math.sqrt(K[0]*K[0]+K[1]*K[1]),rt=Math.sqrt(j[0]*j[0]+j[1]*j[1]),ot=Math.acos(_/(tt*rt));return ot<U}else return a(Y,$,V)===0}function u(Y,$){var V=$[0]-Y[0],U=$[1]-Y[1];return V*V+U*U}function v(Y,$){var V=Y.length;return Y[$<0?$%V+V:$%V]}function p(Y){Y.length=0}function m(Y,$,V,U){for(var K=V;K<U;K++)Y.push($[K])}function g(Y){for(var $=0,V=Y,U=1;U<Y.length;++U)(V[U][1]<V[$][1]||V[U][1]===V[$][1]&&V[U][0]>V[$][0])&&($=U);return x(v(Y,$-1),v(Y,$),v(Y,$+1))?!1:(C(Y),!0)}function C(Y){for(var $=[],V=Y.length,U=0;U!==V;U++)$.push(Y.pop());for(var U=0;U!==V;U++)Y[U]=$[U]}function M(Y,$){return l(v(Y,$-1),v(Y,$),v(Y,$+1))}var b=[],w=[];function R(Y,$,V){var U,K,j=b,_=w;if(d(v(Y,$+1),v(Y,$),v(Y,V))&&o(v(Y,$-1),v(Y,$),v(Y,V)))return!1;K=u(v(Y,$),v(Y,V));for(var tt=0;tt!==Y.length;++tt)if(!((tt+1)%Y.length===$||tt===$)&&d(v(Y,$),v(Y,V),v(Y,tt+1))&&o(v(Y,$),v(Y,V),v(Y,tt))&&(j[0]=v(Y,$),j[1]=v(Y,V),_[0]=v(Y,tt),_[1]=v(Y,tt+1),U=T(j,_),u(v(Y,$),U)<K))return!1;return!0}function A(Y,$,V){for(var U=0;U!==Y.length;++U)if(!(U===$||U===V||(U+1)%Y.length===$||(U+1)%Y.length===V)&&i(v(Y,$),v(Y,V),v(Y,U),v(Y,U+1)))return!1;return!0}function L(Y,$,V,U){var K=U||[];if(p(K),$<V)for(var j=$;j<=V;j++)K.push(Y[j]);else{for(var j=0;j<=V;j++)K.push(Y[j]);for(var j=$;j<Y.length;j++)K.push(Y[j])}return K}function D(Y){for(var $=[],V=[],U=[],K=[],j=Number.MAX_VALUE,_=0;_<Y.length;++_)if(M(Y,_)){for(var tt=0;tt<Y.length;++tt)if(R(Y,_,tt)){V=D(L(Y,_,tt,K)),U=D(L(Y,tt,_,K));for(var rt=0;rt<U.length;rt++)V.push(U[rt]);V.length<j&&($=V,j=V.length,$.push([v(Y,_),v(Y,tt)]))}}return $}function G(Y){var $=D(Y);return $.length>0?B(Y,$):[Y]}function B(Y,$){if($.length===0)return[Y];if($ instanceof Array&&$.length&&$[0]instanceof Array&&$[0].length===2&&$[0][0]instanceof Array){for(var V=[Y],U=0;U<$.length;U++)for(var K=$[U],j=0;j<V.length;j++){var _=V[j],tt=B(_,K);if(tt){V.splice(j,1),V.push(tt[0],tt[1]);break}}return V}else{var K=$,U=Y.indexOf(K[0]),j=Y.indexOf(K[1]);return U!==-1&&j!==-1?[L(Y,U,j),L(Y,j,U)]:!1}}function I(Y){var $=Y,V;for(V=0;V<$.length-1;V++)for(var U=0;U<V-1;U++)if(i($[V],$[V+1],$[U],$[U+1]))return!1;for(V=1;V<$.length-2;V++)if(i($[0],$[$.length-1],$[V],$[V+1]))return!1;return!0}function k(Y,$,V,U,K){K=K||0;var j=$[1]-Y[1],_=Y[0]-$[0],tt=j*Y[0]+_*Y[1],rt=U[1]-V[1],ot=V[0]-U[0],ft=rt*V[0]+ot*V[1],ct=j*ot-rt*_;return Q(ct,0,K)?[0,0]:[(ot*tt-_*ft)/ct,(j*ft-rt*tt)/ct]}function z(Y,$,V,U,K,j,_){j=j||100,_=_||0,K=K||25,$=typeof $<"u"?$:[],V=V||[],U=U||[];var tt=[0,0],rt=[0,0],ot=[0,0],ft=0,ct=0,gt=0,yt=0,Mt=0,Ct=0,Wt=0,Yt=[],Ht=[],bt=Y,kt=Y;if(kt.length<3)return $;if(_++,_>j)return console.warn("quickDecomp: max level ("+j+") reached."),$;for(var zt=0;zt<Y.length;++zt)if(M(bt,zt)){V.push(bt[zt]),ft=ct=Number.MAX_VALUE;for(var jt=0;jt<Y.length;++jt)x(v(bt,zt-1),v(bt,zt),v(bt,jt))&&o(v(bt,zt-1),v(bt,zt),v(bt,jt-1))&&(ot=k(v(bt,zt-1),v(bt,zt),v(bt,jt),v(bt,jt-1)),l(v(bt,zt+1),v(bt,zt),ot)&&(gt=u(bt[zt],ot),gt<ct&&(ct=gt,rt=ot,Ct=jt))),x(v(bt,zt+1),v(bt,zt),v(bt,jt+1))&&o(v(bt,zt+1),v(bt,zt),v(bt,jt))&&(ot=k(v(bt,zt+1),v(bt,zt),v(bt,jt),v(bt,jt+1)),x(v(bt,zt-1),v(bt,zt),ot)&&(gt=u(bt[zt],ot),gt<ft&&(ft=gt,tt=ot,Mt=jt)));if(Ct===(Mt+1)%Y.length)ot[0]=(rt[0]+tt[0])/2,ot[1]=(rt[1]+tt[1])/2,U.push(ot),zt<Mt?(m(Yt,bt,zt,Mt+1),Yt.push(ot),Ht.push(ot),Ct!==0&&m(Ht,bt,Ct,bt.length),m(Ht,bt,0,zt+1)):(zt!==0&&m(Yt,bt,zt,bt.length),m(Yt,bt,0,Mt+1),Yt.push(ot),Ht.push(ot),m(Ht,bt,Ct,zt+1));else{if(Ct>Mt&&(Mt+=Y.length),yt=Number.MAX_VALUE,Mt<Ct)return $;for(var jt=Ct;jt<=Mt;++jt)d(v(bt,zt-1),v(bt,zt),v(bt,jt))&&o(v(bt,zt+1),v(bt,zt),v(bt,jt))&&(gt=u(v(bt,zt),v(bt,jt)),gt<yt&&A(bt,zt,jt)&&(yt=gt,Wt=jt%Y.length));zt<Wt?(m(Yt,bt,zt,Wt+1),Wt!==0&&m(Ht,bt,Wt,kt.length),m(Ht,bt,0,zt+1)):(zt!==0&&m(Yt,bt,zt,kt.length),m(Yt,bt,0,Wt+1),m(Ht,bt,Wt,zt+1))}return Yt.length<Ht.length?(z(Yt,$,V,U,K,j,_),z(Ht,$,V,U,K,j,_)):(z(Ht,$,V,U,K,j,_),z(Yt,$,V,U,K,j,_)),$}return $.push(Y),$}function X(Y,$){for(var V=0,U=Y.length-1;Y.length>3&&U>=0;--U)c(v(Y,U-1),v(Y,U),v(Y,U+1),$)&&(Y.splice(U%Y.length,1),V++);return V}function H(Y,$){for(var V=Y.length-1;V>=1;--V)for(var U=Y[V],K=V-1;K>=0;--K)if(J(U,Y[K],$)){Y.splice(V,1);continue}}function Q(Y,$,V){return V=V||0,Math.abs(Y-$)<=V}function J(Y,$,V){return Q(Y[0],$[0],V)&&Q(Y[1],$[1],V)}},52018:(n,T,i)=>{/**
* @author       Richard Davey <rich@phaser.io>
* @copyright    2013-2025 Phaser Studio Inc.
* @license      {@link https://github.com/photonstorm/phaser3-plugin-template/blob/master/LICENSE|MIT License}
*/var a=i(83419),x=new a({initialize:function(l){this.pluginManager=l,this.game=l.game},init:function(){},start:function(){},stop:function(){},destroy:function(){this.pluginManager=null,this.game=null,this.scene=null,this.systems=null}});n.exports=x},42363:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T={Global:["game","anims","cache","plugins","registry","scale","sound","textures","renderer"],CoreScene:["EventEmitter","CameraManager","GameObjectCreator","GameObjectFactory","ScenePlugin","DisplayList","UpdateList"],DefaultScene:["Clock","DataManagerPlugin","InputPlugin","Loader","TweenManager","LightsPlugin"]};n.exports=T},37277:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T={},i={},a={};a.register=function(x,d,l,o){o===void 0&&(o=!1),T[x]={plugin:d,mapping:l,custom:o}},a.registerCustom=function(x,d,l,o){i[x]={plugin:d,mapping:l,data:o}},a.hasCore=function(x){return T.hasOwnProperty(x)},a.hasCustom=function(x){return i.hasOwnProperty(x)},a.getCore=function(x){return T[x]},a.getCustom=function(x){return i[x]},a.getCustomClass=function(x){return i.hasOwnProperty(x)?i[x].plugin:null},a.remove=function(x){T.hasOwnProperty(x)&&delete T[x]},a.removeCustom=function(x){i.hasOwnProperty(x)&&delete i[x]},a.destroyCorePlugins=function(){for(var x in T)T.hasOwnProperty(x)&&delete T[x]},a.destroyCustomPlugins=function(){for(var x in i)i.hasOwnProperty(x)&&delete i[x]},n.exports=a},77332:(n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=i(83419),x=i(8443),d=i(50792),l=i(74099),o=i(44603),s=i(39429),f=i(95540),c=i(37277),u=i(72905),v=i(8054),p=new a({Extends:d,initialize:function(g){d.call(this),this.game=g,this.plugins=[],this.scenePlugins=[],this._pendingGlobal=[],this._pendingScene=[],g.isBooted||g.config.renderType===v.HEADLESS?this.boot():g.events.once(x.BOOT,this.boot,this)},boot:function(){var m,g,C,M,b,w,R,A=this.game.config,L=A.installGlobalPlugins;for(L=L.concat(this._pendingGlobal),m=0;m<L.length;m++)g=L[m],C=f(g,"key",null),M=f(g,"plugin",null),b=f(g,"start",!1),w=f(g,"mapping",null),R=f(g,"data",null),C&&(M?this.install(C,M,b,w,R):console.warn("Missing `plugin` for key: "+C));for(L=A.installScenePlugins,L=L.concat(this._pendingScene),m=0;m<L.length;m++)g=L[m],C=f(g,"key",null),M=f(g,"plugin",null),w=f(g,"mapping",null),C&&(M?this.installScenePlugin(C,M,w):console.warn("Missing `plugin` for key: "+C));this._pendingGlobal=[],this._pendingScene=[],this.game.events.once(x.DESTROY,this.destroy,this)},addToScene:function(m,g,C){var M,b,w,R=this.game,A=m.scene,L=m.settings.map,D=m.settings.isBooted;for(M=0;M<g.length;M++)b=g[M],R[b]?(m[b]=R[b],L.hasOwnProperty(b)&&(A[L[b]]=m[b])):b==="game"&&L.hasOwnProperty(b)&&(A[L[b]]=R);for(var G=0;G<C.length;G++)for(w=C[G],M=0;M<w.length;M++)if(b=w[M],!!c.hasCore(b)){var B=c.getCore(b),I=B.mapping,k=new B.plugin(A,this,I);m[I]=k,B.custom?A[I]=k:L.hasOwnProperty(I)&&(A[L[I]]=k),D&&k.boot()}for(w=this.plugins,M=0;M<w.length;M++){var z=w[M];z.mapping&&(A[z.mapping]=z.plugin)}},getDefaultScenePlugins:function(){var m=this.game.config.defaultPlugins;return m=m.concat(this.scenePlugins),m},installScenePlugin:function(m,g,C,M,b){if(b===void 0&&(b=!1),typeof g!="function"){console.warn("Invalid Scene Plugin: "+m);return}if(c.hasCore(m)||c.register(m,g,C,!0),this.scenePlugins.indexOf(m)===-1)this.scenePlugins.push(m);else if(!b&&c.hasCore(m)){console.warn("Scene Plugin key in use: "+m);return}if(M){var w=new g(M,this,m);M.sys[m]=w,C&&C!==""&&(M[C]=w),w.boot()}},install:function(m,g,C,M,b){if(C===void 0&&(C=!1),M===void 0&&(M=null),b===void 0&&(b=null),typeof g!="function")return console.warn("Invalid Plugin: "+m),null;if(c.hasCustom(m))return console.warn("Plugin key in use: "+m),null;if(M!==null&&(C=!0),!this.game.isBooted)this._pendingGlobal.push({key:m,plugin:g,start:C,mapping:M,data:b});else if(c.registerCustom(m,g,M,b),C)return this.start(m);return null},getIndex:function(m){for(var g=this.plugins,C=0;C<g.length;C++){var M=g[C];if(M.key===m)return C}return-1},getEntry:function(m){var g=this.getIndex(m);if(g!==-1)return this.plugins[g]},isActive:function(m){var g=this.getEntry(m);return g&&g.active},start:function(m,g){g===void 0&&(g=m);var C=this.getEntry(g);return C&&!C.active?(C.active=!0,C.plugin.start()):C||(C=this.createEntry(m,g)),C?C.plugin:null},createEntry:function(m,g){var C=c.getCustom(m);if(C){var M=new C.plugin(this);C={key:g,plugin:M,active:!0,mapping:C.mapping,data:C.data},this.plugins.push(C),M.init(C.data),M.start()}return C},stop:function(m){var g=this.getEntry(m);return g&&g.active&&(g.active=!1,g.plugin.stop()),this},get:function(m,g){g===void 0&&(g=!0);var C=this.getEntry(m);if(C)return C.plugin;var M=this.getClass(m);return M&&g?(C=this.createEntry(m,m),C?C.plugin:null):M||null},getClass:function(m){return c.getCustomClass(m)},removeGlobalPlugin:function(m){var g=this.getEntry(m);g&&u(this.plugins,g),c.removeCustom(m)},removeScenePlugin:function(m){u(this.scenePlugins,m),c.remove(m)},registerGameObject:function(m,g,C){return g&&s.register(m,g),C&&o.register(m,C),this},removeGameObject:function(m,g,C){return g===void 0&&(g=!0),C===void 0&&(C=!0),g&&s.remove(m),C&&o.remove(m),this},registerFileType:function(m,g,C){l.register(m,g),C&&C.sys.load&&(C.sys.load[m]=g)},destroy:function(){for(var m=0;m<this.plugins.length;m++)this.plugins[m].plugin.destroy();c.destroyCustomPlugins(),this.game.noReturn&&c.destroyCorePlugins(),this.game=null,this.plugins=[],this.scenePlugins=[]}});n.exports=p},45145:(n,T,i)=>{/**
* @author       Richard Davey <rich@phaser.io>
* @copyright    2013-2025 Phaser Studio Inc.
* @license      {@link https://github.com/photonstorm/phaser3-plugin-template/blob/master/LICENSE|MIT License}
*/var a=i(52018),x=i(83419),d=i(44594),l=new x({Extends:a,initialize:function(s,f,c){a.call(this,f),this.scene=s,this.systems=s.sys,this.pluginKey=c,s.sys.events.once(d.BOOT,this.boot,this)},boot:function(){},destroy:function(){this.pluginManager=null,this.game=null,this.scene=null,this.systems=null}});n.exports=l},18922:(n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports={BasePlugin:i(52018),DefaultPlugins:i(42363),PluginCache:i(37277),PluginManager:i(77332),ScenePlugin:i(45145)}},63595:()=>{typeof HTMLVideoElement<"u"&&!("requestVideoFrameCallback"in HTMLVideoElement.prototype)&&"getVideoPlaybackQuality"in HTMLVideoElement.prototype&&(HTMLVideoElement.prototype._rvfcpolyfillmap={},HTMLVideoElement.prototype.requestVideoFrameCallback=function(n){const T=performance.now(),i=this.getVideoPlaybackQuality(),a=this.mozPresentedFrames||this.mozPaintedFrames||i.totalVideoFrames-i.droppedVideoFrames,x=(d,l)=>{const o=this.getVideoPlaybackQuality(),s=this.mozPresentedFrames||this.mozPaintedFrames||o.totalVideoFrames-o.droppedVideoFrames;if(s>a){const f=this.mozFrameDelay||o.totalFrameDelay-i.totalFrameDelay||0,c=l-d;n(l,{presentationTime:l+f*1e3,expectedDisplayTime:l+c,width:this.videoWidth,height:this.videoHeight,mediaTime:Math.max(0,this.currentTime||0)+c/1e3,presentedFrames:s,processingDuration:f}),delete this._rvfcpolyfillmap[T]}else this._rvfcpolyfillmap[T]=requestAnimationFrame(f=>x(l,f))};return this._rvfcpolyfillmap[T]=requestAnimationFrame(d=>x(T,d)),T},HTMLVideoElement.prototype.cancelVideoFrameCallback=function(n){cancelAnimationFrame(this._rvfcpolyfillmap[n]),delete this._rvfcpolyfillmap[n]})},10312:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports={SKIP_CHECK:-1,NORMAL:0,ADD:1,MULTIPLY:2,SCREEN:3,OVERLAY:4,DARKEN:5,LIGHTEN:6,COLOR_DODGE:7,COLOR_BURN:8,HARD_LIGHT:9,SOFT_LIGHT:10,DIFFERENCE:11,EXCLUSION:12,HUE:13,SATURATION:14,COLOR:15,LUMINOSITY:16,ERASE:17,SOURCE_IN:18,SOURCE_OUT:19,SOURCE_ATOP:20,DESTINATION_OVER:21,DESTINATION_IN:22,DESTINATION_OUT:23,DESTINATION_ATOP:24,LIGHTER:25,COPY:26,XOR:27}},29795:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T={DEFAULT:0,LINEAR:0,NEAREST:1};n.exports=T},68627:(n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @author       Felipe Alfonso <@bitnenfer>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=i(19715),x=i(32880),d=i(83419),l=i(8054),o=i(50792),s=i(92503),f=i(56373),c=i(97480),u=i(69442),v=i(8443),p=i(61340),m=new d({Extends:o,initialize:function(C){o.call(this);var M=C.config;this.config={clearBeforeRender:M.clearBeforeRender,backgroundColor:M.backgroundColor,antialias:M.antialias,roundPixels:M.roundPixels,transparent:M.transparent},this.game=C,this.type=l.CANVAS,this.drawCount=0,this.width=0,this.height=0,this.gameCanvas=C.canvas;var b={alpha:M.transparent,desynchronized:M.desynchronized,willReadFrequently:!1};this.gameContext=M.context?M.context:this.gameCanvas.getContext("2d",b),this.currentContext=this.gameContext,this.antialias=M.antialias,this.blendModes=f(),this.snapshotState={x:0,y:0,width:1,height:1,getPixel:!1,callback:null,type:"image/png",encoder:.92},this._tempMatrix1=new p,this._tempMatrix2=new p,this._tempMatrix3=new p,this.isBooted=!1,this.init()},init:function(){var g=this.game;g.events.once(v.BOOT,function(){var C=this.config;if(!C.transparent){var M=this.gameContext,b=this.gameCanvas;M.fillStyle=C.backgroundColor.rgba,M.fillRect(0,0,b.width,b.height)}},this),g.textures.once(u.READY,this.boot,this)},boot:function(){var g=this.game,C=g.scale.baseSize;this.width=C.width,this.height=C.height,this.isBooted=!0,g.scale.on(c.RESIZE,this.onResize,this),this.resize(C.width,C.height)},onResize:function(g,C){(C.width!==this.width||C.height!==this.height)&&this.resize(C.width,C.height)},resize:function(g,C){this.width=g,this.height=C,this.emit(s.RESIZE,g,C)},resetTransform:function(){this.currentContext.setTransform(1,0,0,1,0,0)},setBlendMode:function(g){return this.currentContext.globalCompositeOperation=g,this},setContext:function(g){return this.currentContext=g||this.gameContext,this},setAlpha:function(g){return this.currentContext.globalAlpha=g,this},preRender:function(){var g=this.gameContext,C=this.config,M=this.width,b=this.height;g.globalAlpha=1,g.globalCompositeOperation="source-over",g.setTransform(1,0,0,1,0,0),this.emit(s.PRE_RENDER_CLEAR),C.clearBeforeRender&&(g.clearRect(0,0,M,b),C.transparent||(g.fillStyle=C.backgroundColor.rgba,g.fillRect(0,0,M,b))),g.save(),this.drawCount=0,this.emit(s.PRE_RENDER)},render:function(g,C,M){var b=C.length;this.emit(s.RENDER,g,M);var w=M.x,R=M.y,A=M.width,L=M.height,D=M.renderToTexture?M.context:g.sys.context;D.save(),this.game.scene.customViewports&&(D.beginPath(),D.rect(w,R,A,L),D.clip()),M.emit(a.PRE_RENDER,M),this.currentContext=D;var G=M.mask;G&&G.preRenderCanvas(this,null,M._maskCamera),M.transparent||(D.fillStyle=M.backgroundColor.rgba,D.fillRect(w,R,A,L)),D.globalAlpha=M.alpha,D.globalCompositeOperation="source-over",this.drawCount+=b,M.renderToTexture&&M.emit(a.PRE_RENDER,M),M.matrix.copyToContext(D);for(var B=0;B<b;B++){var I=C[B];I.mask&&I.mask.preRenderCanvas(this,I,M),I.renderCanvas(this,I,M),I.mask&&I.mask.postRenderCanvas(this,I,M)}D.setTransform(1,0,0,1,0,0),D.globalCompositeOperation="source-over",D.globalAlpha=1,M.flashEffect.postRenderCanvas(D),M.fadeEffect.postRenderCanvas(D),M.dirty=!1,G&&G.postRenderCanvas(this),D.restore(),M.renderToTexture&&(M.emit(a.POST_RENDER,M),M.renderToGame&&g.sys.context.drawImage(M.canvas,w,R)),M.emit(a.POST_RENDER,M)},postRender:function(){var g=this.gameContext;g.restore(),this.emit(s.POST_RENDER);var C=this.snapshotState;C.callback&&(x(this.gameCanvas,C),C.callback=null)},snapshotCanvas:function(g,C,M,b,w,R,A,L,D){M===void 0&&(M=!1),this.snapshotArea(b,w,R,A,C,L,D);var G=this.snapshotState;return G.getPixel=M,x(g,G),G.callback=null,this},snapshot:function(g,C,M){return this.snapshotArea(0,0,this.gameCanvas.width,this.gameCanvas.height,g,C,M)},snapshotArea:function(g,C,M,b,w,R,A){var L=this.snapshotState;return L.callback=w,L.type=R,L.encoder=A,L.getPixel=!1,L.x=g,L.y=C,L.width=Math.min(M,this.gameCanvas.width),L.height=Math.min(b,this.gameCanvas.height),this},snapshotPixel:function(g,C,M){return this.snapshotArea(g,C,1,1,M),this.snapshotState.getPixel=!0,this},batchSprite:function(g,C,M,b){var w=M.alpha*g.alpha;if(w!==0){var R=this.currentContext,A=this._tempMatrix1,L=this._tempMatrix2,D=C.canvasData,G=D.x,B=D.y,I=C.cutWidth,k=C.cutHeight,z=C.customPivot,X=C.source.resolution,H=g.displayOriginX,Q=g.displayOriginY,J=-H+C.x,Y=-Q+C.y;if(g.isCropped){var $=g._crop;($.flipX!==g.flipX||$.flipY!==g.flipY)&&C.updateCropUVs($,g.flipX,g.flipY),I=$.cw,k=$.ch,G=$.cx,B=$.cy,J=-H+$.x,Y=-Q+$.y,g.flipX&&(J>=0?J=-(J+I):J<0&&(J=Math.abs(J)-I)),g.flipY&&(Y>=0?Y=-(Y+k):Y<0&&(Y=Math.abs(Y)-k))}var V=1,U=1;g.flipX&&(z||(J+=-C.realWidth+H*2),V=-1),g.flipY&&(z||(Y+=-C.realHeight+Q*2),U=-1);var K=g.x,j=g.y;if(M.roundPixels&&(K=Math.floor(K),j=Math.floor(j)),L.applyITRS(K,j,g.rotation,g.scaleX*V,g.scaleY*U),A.copyFrom(M.matrix),b?(A.multiplyWithOffset(b,-M.scrollX*g.scrollFactorX,-M.scrollY*g.scrollFactorY),L.e=K,L.f=j):(L.e-=M.scrollX*g.scrollFactorX,L.f-=M.scrollY*g.scrollFactorY),A.multiply(L),M.renderRoundPixels&&(A.e=Math.floor(A.e+.5),A.f=Math.floor(A.f+.5)),R.save(),A.setToContext(R),R.globalCompositeOperation=this.blendModes[g.blendMode],R.globalAlpha=w,R.imageSmoothingEnabled=!C.source.scaleMode,g.mask&&g.mask.preRenderCanvas(this,g,M),I>0&&k>0){var _=I/X,tt=k/X;M.roundPixels&&(J=Math.floor(J+.5),Y=Math.floor(Y+.5),_+=.5,tt+=.5),R.drawImage(C.source.image,G,B,I,k,J,Y,_,tt)}g.mask&&g.mask.postRenderCanvas(this,g,M),R.restore()}},destroy:function(){this.removeAllListeners(),this.game=null,this.gameCanvas=null,this.gameContext=null}});n.exports=m},55830:(n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports={CanvasRenderer:i(68627),GetBlendModes:i(56373),SetTransform:i(20926)}},56373:(n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=i(10312),x=i(89289),d=function(){var l=[],o=x.supportNewBlendModes,s="source-over";return l[a.NORMAL]=s,l[a.ADD]="lighter",l[a.MULTIPLY]=o?"multiply":s,l[a.SCREEN]=o?"screen":s,l[a.OVERLAY]=o?"overlay":s,l[a.DARKEN]=o?"darken":s,l[a.LIGHTEN]=o?"lighten":s,l[a.COLOR_DODGE]=o?"color-dodge":s,l[a.COLOR_BURN]=o?"color-burn":s,l[a.HARD_LIGHT]=o?"hard-light":s,l[a.SOFT_LIGHT]=o?"soft-light":s,l[a.DIFFERENCE]=o?"difference":s,l[a.EXCLUSION]=o?"exclusion":s,l[a.HUE]=o?"hue":s,l[a.SATURATION]=o?"saturation":s,l[a.COLOR]=o?"color":s,l[a.LUMINOSITY]=o?"luminosity":s,l[a.ERASE]="destination-out",l[a.SOURCE_IN]="source-in",l[a.SOURCE_OUT]="source-out",l[a.SOURCE_ATOP]="source-atop",l[a.DESTINATION_OVER]="destination-over",l[a.DESTINATION_IN]="destination-in",l[a.DESTINATION_OUT]="destination-out",l[a.DESTINATION_ATOP]="destination-atop",l[a.LIGHTER]="lighter",l[a.COPY]="copy",l[a.XOR]="xor",l};n.exports=d},20926:(n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=i(91296),x=function(d,l,o,s,f){var c=s.alpha*o.alpha;if(c<=0)return!1;var u=a(o,s,f).calc;return l.globalCompositeOperation=d.blendModes[o.blendMode],l.globalAlpha=c,l.save(),u.setToContext(l),l.imageSmoothingEnabled=o.frame?!o.frame.source.scaleMode:d.antialias,!0};n.exports=x},63899:n=>{/**
 * @author       Benjamin D. Richards <benjamindrichards@gmail.com>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="losewebgl"},6119:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="postrender"},48070:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="prerender"},15640:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="render"},8912:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="resize"},87124:n=>{/**
 * @author       Benjamin D. Richards <benjamindrichards@gmail.com>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="restorewebgl"},92503:(n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports={LOSE_WEBGL:i(63899),POST_RENDER:i(6119),PRE_RENDER:i(48070),RENDER:i(15640),RESIZE:i(8912),RESTORE_WEBGL:i(87124)}},36909:(n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports={Events:i(92503),Snapshot:i(89966)},n.exports.Canvas=i(55830),n.exports.WebGL=i(4159)},32880:(n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=i(27919),x=i(40987),d=i(95540),l=function(o,s){var f=d(s,"callback"),c=d(s,"type","image/png"),u=d(s,"encoder",.92),v=Math.abs(Math.round(d(s,"x",0))),p=Math.abs(Math.round(d(s,"y",0))),m=Math.floor(d(s,"width",o.width)),g=Math.floor(d(s,"height",o.height)),C=d(s,"getPixel",!1);if(C){var M=o.getContext("2d",{willReadFrequently:!1}),b=M.getImageData(v,p,1,1),w=b.data;f.call(null,new x(w[0],w[1],w[2],w[3]))}else if(v!==0||p!==0||m!==o.width||g!==o.height){var R=a.createWebGL(this,m,g),A=R.getContext("2d",{willReadFrequently:!0});m>0&&g>0&&A.drawImage(o,v,p,m,g,0,0,m,g);var L=new Image;L.onerror=function(){f.call(null),a.remove(R)},L.onload=function(){f.call(null,L),a.remove(R)},L.src=R.toDataURL(c,u)}else{var D=new Image;D.onerror=function(){f.call(null)},D.onload=function(){f.call(null,D)},D.src=o.toDataURL(c,u)}};n.exports=l},88815:(n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=i(27919),x=i(40987),d=i(95540),l=function(o,s){var f=o,c=d(s,"callback"),u=d(s,"type","image/png"),v=d(s,"encoder",.92),p=Math.abs(Math.round(d(s,"x",0))),m=Math.abs(Math.round(d(s,"y",0))),g=d(s,"getPixel",!1),C=d(s,"isFramebuffer",!1),M=C?d(s,"bufferWidth",1):f.drawingBufferWidth,b=C?d(s,"bufferHeight",1):f.drawingBufferHeight;if(g){var w=new Uint8Array(4),R=C?m:b-m;f.readPixels(p,R,1,1,f.RGBA,f.UNSIGNED_BYTE,w),c.call(null,new x(w[0],w[1],w[2],w[3]))}else{var A=Math.floor(d(s,"width",M)),L=Math.floor(d(s,"height",b)),D=A*L*4,G=new Uint8Array(D);f.readPixels(p,b-m-L,A,L,f.RGBA,f.UNSIGNED_BYTE,G);for(var B=a.createWebGL(this,A,L),I=B.getContext("2d",{willReadFrequently:!0}),k=I.getImageData(0,0,A,L),z=k.data,X=0;X<L;X++)for(var H=0;H<A;H++){var Q=((L-X-1)*A+H)*4,J=C?D-(X*A+(A-H))*4:(X*A+H)*4;z[J+0]=G[Q+0],z[J+1]=G[Q+1],z[J+2]=G[Q+2],z[J+3]=G[Q+3]}I.putImageData(k,0,0);var Y=new Image;Y.onerror=function(){c.call(null),a.remove(B)},Y.onload=function(){c.call(null,Y),a.remove(B)},Y.src=B.toDataURL(u,v)}};n.exports=l},89966:(n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports={Canvas:i(32880),WebGL:i(88815)}},7530:(n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=i(83419),x=i(36060),d=i(90330),l=i(82264),o=i(95540),s=i(32302),f=i(63448),c=i(31302),u=i(58918),v=i(14811),p=i(92651),m=i(96569),g=i(56527),C=i(57516),M=i(43439),b=i(81041),w=i(12385),R=i(7589),A=i(95428),L=i(72905),D=new a({initialize:function(B){this.game=B.game,this.renderer=B,this.classes=new d([[x.UTILITY_PIPELINE,R],[x.MULTI_PIPELINE,C],[x.BITMAPMASK_PIPELINE,c],[x.SINGLE_PIPELINE,w],[x.ROPE_PIPELINE,b],[x.LIGHT_PIPELINE,m],[x.POINTLIGHT_PIPELINE,M],[x.MOBILE_PIPELINE,g]]),this.postPipelineClasses=new d,this.pipelines=new d,this.postPipelineInstances=[],this.default=null,this.current=null,this.previous=null,this.MULTI_PIPELINE=null,this.BITMAPMASK_PIPELINE=null,this.UTILITY_PIPELINE=null,this.MOBILE_PIPELINE=null,this.FX_PIPELINE=null,this.fullFrame1,this.fullFrame2,this.halfFrame1,this.halfFrame2,this.renderTargets=[],this.maxDimension=0,this.frameInc=32,this.targetIndex=0},boot:function(G,B,I){var k=this.renderer,z=this.renderTargets;this.frameInc=Math.floor(o(G,"frameInc",32));var X=k.width,H=k.height,Q=this.game.config.disablePreFX,J=this.game.config.disablePostFX;if(J||this.postPipelineClasses.setAll([[String(v.BARREL),u.Barrel],[String(v.BLOOM),u.Bloom],[String(v.BLUR),u.Blur],[String(v.BOKEH),u.Bokeh],[String(v.CIRCLE),u.Circle],[String(v.COLOR_MATRIX),u.ColorMatrix],[String(v.DISPLACEMENT),u.Displacement],[String(v.GLOW),u.Glow],[String(v.GRADIENT),u.Gradient],[String(v.PIXELATE),u.Pixelate],[String(v.SHADOW),u.Shadow],[String(v.SHINE),u.Shine],[String(v.VIGNETTE),u.Vignette],[String(v.WIPE),u.Wipe]]),!Q){this.classes.set(x.FX_PIPELINE,p);for(var Y=Math.min(X,H),$=Math.ceil(Y/this.frameInc),V=1;V<$;V++){var U=V*this.frameInc;z.push(new s(k,U,U)),z.push(new s(k,U,U)),z.push(new s(k,U,U)),this.maxDimension=U}z.push(new s(k,X,H,1,0,!0,!0)),z.push(new s(k,X,H,1,0,!0,!0)),z.push(new s(k,X,H,1,0,!0,!0))}var K,j,_=this,tt=this.game;if(this.classes.each(function(ot,ft){K=_.add(ot,new ft({game:tt})),ot===x.UTILITY_PIPELINE&&(_.UTILITY_PIPELINE=K,_.fullFrame1=K.fullFrame1,_.fullFrame2=K.fullFrame2,_.halfFrame1=K.halfFrame1,_.halfFrame2=K.halfFrame2)}),this.MULTI_PIPELINE=this.get(x.MULTI_PIPELINE),this.BITMAPMASK_PIPELINE=this.get(x.BITMAPMASK_PIPELINE),this.MOBILE_PIPELINE=this.get(x.MOBILE_PIPELINE),Q||(this.FX_PIPELINE=this.get(x.FX_PIPELINE)),G)for(j in G){var rt=G[j];K=new rt(tt),K.name=j,K.isPostFX?this.postPipelineClasses.set(j,rt):this.has(j)||(this.classes.set(j,rt),this.add(j,K))}this.default=this.get(B),I&&!l.os.desktop&&(this.default=this.MOBILE_PIPELINE)},setDefaultPipeline:function(G){var B=this.get(G);return B&&(this.default=B),B},add:function(G,B){if(B.isPostFX){console.warn(G+" is a Post Pipeline. Use `addPostPipeline` instead");return}var I=this.pipelines,k=this.renderer;return I.has(G)?console.warn("Pipeline exists: "+G):(B.name=G,B.manager=this,I.set(G,B)),B.hasBooted||B.boot(),k.width!==0&&k.height!==0&&!B.isPreFX&&B.resize(k.width,k.height),B},addPostPipeline:function(G,B){this.postPipelineClasses.has(G)||this.postPipelineClasses.set(G,B)},flush:function(){this.current&&this.current.flush()},has:function(G){var B=this.pipelines;return typeof G=="string"?B.has(G):!!B.contains(G)},get:function(G){var B=this.pipelines;if(typeof G=="string")return B.get(G);if(B.contains(G))return G},getPostPipeline:function(G,B,I){var k=this.postPipelineClasses,z,X="",H=typeof G;if(H==="string"||H==="number"?(z=k.get(G),X=G):H==="function"?(k.contains(G)&&(z=G),X=G.name):H==="object"&&(z=k.get(G.name),X=G.name),z){var Q=new z(this.game,I);return Q.name=X,B&&(Q.gameObject=B),this.postPipelineInstances.push(Q),Q}},removePostPipeline:function(G){L(this.postPipelineInstances,G)},remove:function(G,B,I){B===void 0&&(B=!0),I===void 0&&(I=!0),this.pipelines.delete(G),B&&this.classes.delete(G),I&&this.postPipelineClasses.delete(G)},set:function(G,B,I){if(!G.isPostFX)return this.isCurrent(G,I)||(this.flush(),this.current&&this.current.unbind(),this.current=G,G.bind(I)),G.updateProjectionMatrix(),G.onBind(B),G},preBatch:function(G){if(G.hasPostPipeline){this.flush();for(var B=G.postPipelines,I=B.length-1;I>=0;I--){var k=B[I];k.active&&k.preBatch(G)}}},postBatch:function(G){if(G.hasPostPipeline){this.flush();for(var B=G.postPipelines,I=0;I<B.length;I++){var k=B[I];k.active&&k.postBatch(G)}}},preBatchCamera:function(G){if(G.hasPostPipeline){this.flush();for(var B=G.postPipelines,I=B.length-1;I>=0;I--){var k=B[I];k.active&&k.preBatch(G)}}},postBatchCamera:function(G){if(G.hasPostPipeline){this.flush();for(var B=G.postPipelines,I=0;I<B.length;I++){var k=B[I];k.active&&k.postBatch(G)}}},isCurrent:function(G,B){var I=this.renderer,k=this.current;return k&&!B&&(B=k.currentShader),!(k!==G||B.program!==I.currentProgram)},copyFrame:function(G,B,I,k,z){return this.setUtility(this.UTILITY_PIPELINE.copyShader).copyFrame(G,B,I,k,z),this},copyToGame:function(G){return this.setUtility(this.UTILITY_PIPELINE.copyShader).copyToGame(G),this},drawFrame:function(G,B,I,k){return this.setUtility(this.UTILITY_PIPELINE.colorMatrixShader).drawFrame(G,B,I,k),this},blendFrames:function(G,B,I,k,z){return this.setUtility(this.UTILITY_PIPELINE.linearShader).blendFrames(G,B,I,k,z),this},blendFramesAdditive:function(G,B,I,k,z){return this.setUtility(this.UTILITY_PIPELINE.addShader).blendFramesAdditive(G,B,I,k,z),this},clearFrame:function(G,B){return this.UTILITY_PIPELINE.clearFrame(G,B),this},blitFrame:function(G,B,I,k,z,X){return this.setUtility(this.UTILITY_PIPELINE.copyShader).blitFrame(G,B,I,k,z,X),this},copyFrameRect:function(G,B,I,k,z,X,H,Q){return this.UTILITY_PIPELINE.copyFrameRect(G,B,I,k,z,X,H,Q),this},forceZero:function(){return this.current&&this.current.forceZero},setMulti:function(){return this.set(this.MULTI_PIPELINE)},setUtility:function(G){return this.UTILITY_PIPELINE.bind(G)},setFX:function(){return this.set(this.FX_PIPELINE)},restoreContext:function(){this.rebind(),this.pipelines.each(function(G,B){B.restoreContext()}),A(this.postPipelineInstances,function(G){G.restoreContext()})},rebind:function(G){G===void 0&&this.previous&&(G=this.previous);var B=this.renderer,I=B.gl;I.disable(I.DEPTH_TEST),I.disable(I.CULL_FACE),B.hasActiveStencilMask()?I.clear(I.DEPTH_BUFFER_BIT):(I.disable(I.STENCIL_TEST),I.clear(I.DEPTH_BUFFER_BIT|I.STENCIL_BUFFER_BIT)),I.viewport(0,0,B.width,B.height),B.currentProgram=null,B.setBlendMode(0,!0);var k=B.vaoExtension;k&&k.bindVertexArrayOES(null);var z=this.pipelines.entries;for(var X in z)z[X].glReset=!0;G&&(this.current=G,G.rebind())},clear:function(){var G=this.renderer;this.flush(),this.current?(this.current.unbind(),this.previous=this.current,this.current=null):this.previous=null,G.currentProgram=null,G.setBlendMode(0,!0);var B=G.vaoExtension;B&&B.bindVertexArrayOES(null)},getRenderTarget:function(G){var B=this.renderTargets,I=3;if(G>this.maxDimension)return this.targetIndex=B.length-I,B[this.targetIndex];var k=(f(G,this.frameInc,0,!0)-1)*I;return this.targetIndex=k,B[k]},getSwapRenderTarget:function(){return this.renderTargets[this.targetIndex+1]},getAltSwapRenderTarget:function(){return this.renderTargets[this.targetIndex+2]},destroy:function(){this.flush(),this.classes.clear(),this.postPipelineClasses.clear(),this.pipelines.clear(),this.renderer=null,this.game=null,this.classes=null,this.postPipelineClasses=null,this.pipelines=null,this.default=null,this.current=null,this.previous=null}});n.exports=D},32302:(n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=i(83419),x=i(92503),d=new a({initialize:function(o,s,f,c,u,v,p,m,g){c===void 0&&(c=1),u===void 0&&(u=0),v===void 0&&(v=!0),p===void 0&&(p=!1),m===void 0&&(m=!0),g===void 0&&(g=!0),this.renderer=o,this.framebuffer=null,this.texture=null,this.width=0,this.height=0,this.scale=c,this.minFilter=u,this.autoClear=v,this.autoResize=!0,this.hasDepthBuffer=m,this.forceClamp=g,this.init(s,f),p?this.renderer.on(x.RESIZE,this.resize,this):this.autoResize=!1},init:function(l,o){var s=this.renderer;this.texture=s.createTextureFromSource(null,l,o,this.minFilter,this.forceClamp),this.framebuffer=s.createFramebuffer(l,o,this.texture,this.hasDepthBuffer),this.width=l,this.height=o},setAutoResize:function(l){return l&&!this.autoResize?(this.renderer.on(x.RESIZE,this.resize,this),this.autoResize=!0):!l&&this.autoResize&&(this.renderer.off(x.RESIZE,this.resize,this),this.autoResize=!1),this},resize:function(l,o){if(this.autoResize&&this.willResize(l,o)){var s=this.renderer;s.deleteFramebuffer(this.framebuffer),s.deleteTexture(this.texture),this.texture=s.createTextureFromSource(null,l,o,this.minFilter,this.forceClamp),this.framebuffer=s.createFramebuffer(l,o,this.texture,this.hasDepthBuffer),this.width=l,this.height=o}return this},willResize:function(l,o){return typeof l!="number"||typeof o!="number"?!1:(l=Math.round(l*this.scale),o=Math.round(o*this.scale),l=Math.max(l,1),o=Math.max(o,1),l!==this.width||o!==this.height)},bind:function(l,o,s){l===void 0&&(l=!1);var f=this.renderer;if(l&&f.flush(),o&&s&&this.resize(o,s),f.pushFramebuffer(this.framebuffer,!1,!1),l&&this.adjustViewport(),this.autoClear){var c=this.renderer.gl;c.clearColor(0,0,0,0),c.clear(c.COLOR_BUFFER_BIT)}f.clearStencilMask()},adjustViewport:function(){var l=this.renderer.gl;l.viewport(0,0,this.width,this.height),l.disable(l.SCISSOR_TEST)},clear:function(l,o,s,f){var c=this.renderer,u=c.gl;c.pushFramebuffer(this.framebuffer),l!==void 0&&o!==void 0&&s!==void 0&&f!==void 0?(u.enable(u.SCISSOR_TEST),u.scissor(l,o,s,f)):u.disable(u.SCISSOR_TEST),u.clearColor(0,0,0,0),u.clear(u.COLOR_BUFFER_BIT),c.popFramebuffer(),c.resetScissor()},unbind:function(l){l===void 0&&(l=!1);var o=this.renderer;return l&&o.flush(),o.popFramebuffer()},destroy:function(){var l=this.renderer;l.off(x.RESIZE,this.resize,this),l.deleteFramebuffer(this.framebuffer),l.deleteTexture(this.texture),this.renderer=null,this.framebuffer=null,this.texture=null}});n.exports=d},70554:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @author       Felipe Alfonso <@bitnenfer>
 * @author       Matthew Groves <@doormat>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports={getTintFromFloats:function(T,i,a,x){var d=(T*255|0)&255,l=(i*255|0)&255,o=(a*255|0)&255,s=(x*255|0)&255;return(s<<24|d<<16|l<<8|o)>>>0},getTintAppendFloatAlpha:function(T,i){var a=(i*255|0)&255;return(a<<24|T)>>>0},getTintAppendFloatAlphaAndSwap:function(T,i){var a=(T>>16|0)&255,x=(T>>8|0)&255,d=(T|0)&255,l=(i*255|0)&255;return(l<<24|d<<16|x<<8|a)>>>0},getFloatsFromUintRGB:function(T){var i=(T>>16|0)&255,a=(T>>8|0)&255,x=(T|0)&255;return[i/255,a/255,x/255]},checkShaderMax:function(T,i){var a=Math.min(16,T.getParameter(T.MAX_TEXTURE_IMAGE_UNITS));return!i||i===-1?a:Math.min(a,i)},parseFragmentShaderMaxTextures:function(T,i){if(!T)return"";for(var a="",x=0;x<i;x++)x>0&&(a+=`
	else `),x<i-1&&(a+="if (outTexId < "+x+".5)"),a+=`
	{`,a+=`
		texture = texture2D(uMainSampler[`+x+"], outTexCoord);",a+=`
	}`;return T=T.replace(/%count%/gi,i.toString()),T.replace(/%forloop%/gi,a)},setGlowQuality:function(T,i,a,x){return a===void 0&&(a=i.config.glowFXQuality),x===void 0&&(x=i.config.glowFXDistance),T=T.replace(/__SIZE__/gi,(1/a/x).toFixed(7)),T=T.replace(/__DIST__/gi,x.toFixed(0)+".0"),T}}},29100:(n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=i(83419),x=i(62644),d=i(50792),l=i(77085),o=i(95540),s=i(37867),f=i(92503),c=i(32302),u=i(70554),v=i(38683),p=new a({Extends:d,initialize:function(g){d.call(this);var C=g.game,M=C.renderer,b=M.gl;this.name=o(g,"name","WebGLPipeline"),this.game=C,this.renderer=M,this.manager,this.gl=b,this.view=C.canvas,this.width=0,this.height=0,this.vertexCount=0,this.vertexCapacity=0,this.vertexData,this.vertexBuffer,this.activeBuffer,this.topology=o(g,"topology",b.TRIANGLES),this.bytes,this.vertexViewF32,this.vertexViewU32,this.active=!0,this.forceZero=o(g,"forceZero",!1),this.hasBooted=!1,this.isPostFX=!1,this.isPreFX=!1,this.renderTargets=[],this.currentRenderTarget,this.shaders=[],this.currentShader,this.projectionMatrix,this.projectionWidth=0,this.projectionHeight=0,this.config=g,this.glReset=!1,this.batch=[],this.currentBatch=null,this.currentTexture=null,this.currentUnit=0,this.activeTextures=[],this.resizeUniform=o(g,"resizeUniform","")},boot:function(){var m,g=this.gl,C=this.config,M=this.renderer;this.isPostFX||(this.projectionMatrix=new s().identity());var b=this.renderTargets,w=o(C,"renderTarget",!1);typeof w=="boolean"&&w&&(w=1);var R=M.width,A=M.height;if(typeof w=="number")for(m=0;m<w;m++)b.push(new c(M,R,A,1,0,!0));else if(Array.isArray(w))for(m=0;m<w.length;m++){var L=o(w[m],"scale",1),D=o(w[m],"minFilter",0),G=o(w[m],"autoClear",1),B=o(w[m],"autoResize",!1),I=o(w[m],"width",null),k=o(w[m],"height",I);I?b.push(new c(M,I,k,1,D,G,B)):b.push(new c(M,R,A,L,D,G,B))}b.length&&(this.currentRenderTarget=b[0]),this.setShadersFromConfig(C);var z=this.shaders,X=0;for(m=0;m<z.length;m++)z[m].vertexSize>X&&(X=z[m].vertexSize);var H=o(C,"batchSize",M.config.batchSize);this.vertexCapacity=H*6;var Q=new ArrayBuffer(this.vertexCapacity*X);this.vertexData=Q,this.bytes=new Uint8Array(Q),this.vertexViewF32=new Float32Array(Q),this.vertexViewU32=new Uint32Array(Q);var J=o(C,"vertices",null);for(J?(this.vertexViewF32.set(J),this.vertexBuffer=M.createVertexBuffer(Q,g.STATIC_DRAW)):this.vertexBuffer=M.createVertexBuffer(Q.byteLength,g.DYNAMIC_DRAW),this.setVertexBuffer(),m=z.length-1;m>=0;m--)z[m].rebind();this.hasBooted=!0,M.on(f.RESIZE,this.resize,this),M.on(f.PRE_RENDER,this.onPreRender,this),M.on(f.RENDER,this.onRender,this),M.on(f.POST_RENDER,this.onPostRender,this),this.emit(l.BOOT,this),this.onBoot()},onBoot:function(){},onResize:function(){},setShader:function(m,g,C){var M=this.renderer;if(m!==this.currentShader||M.currentProgram!==this.currentShader.program){this.flush();var b=this.setVertexBuffer(C);b&&!g&&(g=!0),m.bind(g,!1),this.currentShader=m}return this},getShaderByName:function(m){for(var g=this.shaders,C=0;C<g.length;C++)if(g[C].name===m)return g[C]},setShadersFromConfig:function(m){var g,C=this.shaders,M=this.renderer;for(g=0;g<C.length;g++)C[g].destroy();var b="vertShader",w="fragShader",R="attributes",A=o(m,b,null),L=u.parseFragmentShaderMaxTextures(o(m,w,null),M.maxTextures),D=o(m,R,null),G=o(m,"shaders",[]),B=G.length;if(B===0)A&&L&&(this.shaders=[new v(this,"default",A,L,x(D))]);else{var I=[];for(g=0;g<B;g++){var k=G[g],z,X,H,Q;if(typeof k=="string"?(z="default",X=A,H=u.parseFragmentShaderMaxTextures(k,M.maxTextures),Q=D):(z=o(k,"name","default"),X=o(k,b,A),H=u.parseFragmentShaderMaxTextures(o(k,w,L),M.maxTextures),Q=o(k,R,D)),z==="default"){var J=H.split(`
`),Y=J[0].trim();Y.indexOf("#define SHADER_NAME")>-1&&(z=Y.substring(20))}X&&H&&I.push(new v(this,z,X,H,x(Q)))}this.shaders=I}return this.shaders.length===0?console.warn("Pipeline: "+this.name+" - Invalid shader config"):this.currentShader=this.shaders[0],this},createBatch:function(m){return this.currentBatch={start:this.vertexCount,count:0,texture:[m],unit:0,maxUnit:0},this.currentUnit=0,this.currentTexture=m,this.batch.push(this.currentBatch),0},addTextureToBatch:function(m){var g=this.currentBatch;g&&(g.texture.push(m),g.unit++,g.maxUnit++)},pushBatch:function(m){if(!this.currentBatch||this.forceZero&&m!==this.currentTexture)return this.createBatch(m);if(m===this.currentTexture)return this.currentUnit;var g=this.currentBatch,C=g.texture.indexOf(m);return C===-1?g.texture.length===this.renderer.maxTextures?this.createBatch(m):(g.unit++,g.maxUnit++,g.texture.push(m),this.currentUnit=g.unit,this.currentTexture=m,g.unit):(this.currentUnit=C,this.currentTexture=m,C)},setGameObject:function(m,g){return g===void 0&&(g=m.frame),this.pushBatch(g.source.glTexture)},shouldFlush:function(m){return m===void 0&&(m=0),this.vertexCount+m>this.vertexCapacity},vertexAvailable:function(){return this.vertexCapacity-this.vertexCount},resize:function(m,g){(m!==this.width||g!==this.height)&&this.flush(),this.width=m,this.height=g;for(var C=this.renderTargets,M=0;M<C.length;M++)C[M].resize(m,g);return this.setProjectionMatrix(m,g),this.resizeUniform&&this.set2f(this.resizeUniform,m,g),this.emit(l.RESIZE,m,g,this),this.onResize(m,g),this},setProjectionMatrix:function(m,g){var C=this.projectionMatrix;if(!C)return this;this.projectionWidth=m,this.projectionHeight=g,C.ortho(0,m,g,0,-1e3,1e3);for(var M=this.shaders,b="uProjectionMatrix",w=0;w<M.length;w++){var R=M[w];R.hasUniform(b)&&(R.resetUniform(b),R.setMatrix4fv(b,!1,C.val,R))}return this},flipProjectionMatrix:function(m){m===void 0&&(m=!0);var g=this.projectionMatrix;if(!g)return this;var C=this.projectionWidth,M=this.projectionHeight;m?g.ortho(0,C,0,M,-1e3,1e3):g.ortho(0,C,M,0,-1e3,1e3),this.setMatrix4fv("uProjectionMatrix",!1,g.val)},updateProjectionMatrix:function(){if(this.projectionMatrix){var m=this.renderer.projectionWidth,g=this.renderer.projectionHeight;(this.projectionWidth!==m||this.projectionHeight!==g)&&this.setProjectionMatrix(m,g)}},bind:function(m){if(m===void 0&&(m=this.currentShader),this.glReset)return this.rebind(m);var g=!1,C=this.gl;return C.getParameter(C.ARRAY_BUFFER_BINDING)!==this.vertexBuffer&&(C.bindBuffer(C.ARRAY_BUFFER,this.vertexBuffer.webGLBuffer),this.activeBuffer=this.vertexBuffer,g=!0),m.bind(g),this.currentShader=m,this.activeTextures.length=0,this.emit(l.BIND,this,m),this.onActive(m),this},rebind:function(m){this.activeBuffer=null,this.setVertexBuffer();for(var g=this.shaders,C=g.length-1;C>=0;C--){var M=g[C].rebind();(!m||M===m)&&(this.currentShader=M)}return this.activeTextures.length=0,this.emit(l.REBIND,this.currentShader),this.onActive(this.currentShader),this.onRebind(),this.glReset=!1,this},restoreContext:function(){var m=this.shaders,g=!!this.vertexBuffer;this.activeBuffer=null,this.activeTextures.length=0,this.batch.length=0,this.currentBatch=null,this.currentTexture=null,this.currentUnit=0,g&&this.setVertexBuffer();for(var C=0;C<m.length;C++){var M=m[C];M.syncUniforms(),g&&M.rebind()}},setVertexBuffer:function(m){if(m===void 0&&(m=this.vertexBuffer),m!==this.activeBuffer){var g=this.gl;return this.gl.bindBuffer(g.ARRAY_BUFFER,m.webGLBuffer),this.activeBuffer=m,!0}return!1},preBatch:function(m){return this.currentRenderTarget&&this.currentRenderTarget.bind(),this.onPreBatch(m),this},postBatch:function(m){return this.onDraw(this.currentRenderTarget),this.onPostBatch(m),this},onDraw:function(){},unbind:function(){this.currentRenderTarget&&this.currentRenderTarget.unbind()},flush:function(m){if(m===void 0&&(m=!1),this.vertexCount>0){this.emit(l.BEFORE_FLUSH,this,m),this.onBeforeFlush(m);var g=this.gl,C=this.vertexCount,M=this.currentShader.vertexSize,b=this.topology;if(this.active){this.setVertexBuffer(),C===this.vertexCapacity?g.bufferData(g.ARRAY_BUFFER,this.vertexData,g.DYNAMIC_DRAW):g.bufferSubData(g.ARRAY_BUFFER,0,this.bytes.subarray(0,C*M));var w,R,A,L=this.batch,D=this.activeTextures;if(this.forceZero)for(D[0]||g.activeTexture(g.TEXTURE0),w=0;w<L.length;w++)R=L[w],A=R.texture[0],D[0]!==A&&(g.bindTexture(g.TEXTURE_2D,A.webGLTexture),D[0]=A),g.drawArrays(b,R.start,R.count);else for(w=0;w<L.length;w++){R=L[w];for(var G=0;G<=R.maxUnit;G++)A=R.texture[G],D[G]!==A&&(g.activeTexture(g.TEXTURE0+G),g.bindTexture(g.TEXTURE_2D,A.webGLTexture),D[G]=A);g.drawArrays(b,R.start,R.count)}}this.vertexCount=0,this.batch.length=0,this.currentBatch=null,this.currentTexture=null,this.currentUnit=0,this.emit(l.AFTER_FLUSH,this,m),this.onAfterFlush(m)}return this},onActive:function(){},onBind:function(){},onRebind:function(){},onBatch:function(){},onPreBatch:function(){},onPostBatch:function(){},onPreRender:function(){},onRender:function(){},onPostRender:function(){},onBeforeFlush:function(){},onAfterFlush:function(){},batchVert:function(m,g,C,M,b,w,R){var A=this.vertexViewF32,L=this.vertexViewU32,D=this.vertexCount*this.currentShader.vertexComponentCount-1;A[++D]=m,A[++D]=g,A[++D]=C,A[++D]=M,A[++D]=b,A[++D]=w,L[++D]=R,this.vertexCount++,this.currentBatch.count=this.vertexCount-this.currentBatch.start},batchQuad:function(m,g,C,M,b,w,R,A,L,D,G,B,I,k,z,X,H,Q,J,Y){Y===void 0&&(Y=this.currentUnit);var $=!1;this.shouldFlush(6)&&(this.flush(),$=!0),this.currentBatch||(Y=this.setTexture2D(J));var V=this.vertexViewF32,U=this.vertexViewU32,K=this.vertexCount*this.currentShader.vertexComponentCount-1;return V[++K]=g,V[++K]=C,V[++K]=D,V[++K]=G,V[++K]=Y,V[++K]=Q,U[++K]=k,V[++K]=M,V[++K]=b,V[++K]=D,V[++K]=I,V[++K]=Y,V[++K]=Q,U[++K]=X,V[++K]=w,V[++K]=R,V[++K]=B,V[++K]=I,V[++K]=Y,V[++K]=Q,U[++K]=H,V[++K]=g,V[++K]=C,V[++K]=D,V[++K]=G,V[++K]=Y,V[++K]=Q,U[++K]=k,V[++K]=w,V[++K]=R,V[++K]=B,V[++K]=I,V[++K]=Y,V[++K]=Q,U[++K]=H,V[++K]=A,V[++K]=L,V[++K]=B,V[++K]=G,V[++K]=Y,V[++K]=Q,U[++K]=z,this.vertexCount+=6,this.currentBatch.count=this.vertexCount-this.currentBatch.start,this.onBatch(m),$},batchTri:function(m,g,C,M,b,w,R,A,L,D,G,B,I,k,z,X,H){H===void 0&&(H=this.currentUnit);var Q=!1;this.shouldFlush(3)&&(this.flush(),Q=!0),this.currentBatch||(H=this.setTexture2D(X));var J=this.vertexViewF32,Y=this.vertexViewU32,$=this.vertexCount*this.currentShader.vertexComponentCount-1;return J[++$]=g,J[++$]=C,J[++$]=A,J[++$]=L,J[++$]=H,J[++$]=z,Y[++$]=B,J[++$]=M,J[++$]=b,J[++$]=A,J[++$]=G,J[++$]=H,J[++$]=z,Y[++$]=I,J[++$]=w,J[++$]=R,J[++$]=D,J[++$]=G,J[++$]=H,J[++$]=z,Y[++$]=k,this.vertexCount+=3,this.currentBatch.count=this.vertexCount-this.currentBatch.start,this.onBatch(m),Q},drawFillRect:function(m,g,C,M,b,w,R,A){R===void 0&&(R=this.renderer.whiteTexture),A===void 0&&(A=!0),m=Math.floor(m),g=Math.floor(g);var L=Math.floor(m+C),D=Math.floor(g+M),G=this.setTexture2D(R),B=u.getTintAppendFloatAlphaAndSwap(b,w),I=0,k=0,z=1,X=1;A&&(k=1,X=0),this.batchQuad(null,m,g,m,D,L,D,L,g,I,k,z,X,B,B,B,B,0,R,G)},setTexture2D:function(m){return m===void 0&&(m=this.renderer.whiteTexture),this.pushBatch(m)},bindTexture:function(m,g){g===void 0&&(g=0);var C=this.gl;return C.activeTexture(C.TEXTURE0+g),C.bindTexture(C.TEXTURE_2D,m.webGLTexture),this},bindRenderTarget:function(m,g){return this.bindTexture(m.texture,g)},setTime:function(m,g){return this.set1f(m,this.game.loop.getDuration(),g),this},setBoolean:function(m,g,C){return C===void 0&&(C=this.currentShader),C.setBoolean(m,g),this},set1f:function(m,g,C){return C===void 0&&(C=this.currentShader),C.set1f(m,g),this},set2f:function(m,g,C,M){return M===void 0&&(M=this.currentShader),M.set2f(m,g,C),this},set3f:function(m,g,C,M,b){return b===void 0&&(b=this.currentShader),b.set3f(m,g,C,M),this},set4f:function(m,g,C,M,b,w){return w===void 0&&(w=this.currentShader),w.set4f(m,g,C,M,b),this},set1fv:function(m,g,C){return C===void 0&&(C=this.currentShader),C.set1fv(m,g),this},set2fv:function(m,g,C){return C===void 0&&(C=this.currentShader),C.set2fv(m,g),this},set3fv:function(m,g,C){return C===void 0&&(C=this.currentShader),C.set3fv(m,g),this},set4fv:function(m,g,C){return C===void 0&&(C=this.currentShader),C.set4fv(m,g),this},set1iv:function(m,g,C){return C===void 0&&(C=this.currentShader),C.set1iv(m,g),this},set2iv:function(m,g,C){return C===void 0&&(C=this.currentShader),C.set2iv(m,g),this},set3iv:function(m,g,C){return C===void 0&&(C=this.currentShader),C.set3iv(m,g),this},set4iv:function(m,g,C){return C===void 0&&(C=this.currentShader),C.set4iv(m,g),this},set1i:function(m,g,C){return C===void 0&&(C=this.currentShader),C.set1i(m,g),this},set2i:function(m,g,C,M){return M===void 0&&(M=this.currentShader),M.set2i(m,g,C),this},set3i:function(m,g,C,M,b){return b===void 0&&(b=this.currentShader),b.set3i(m,g,C,M),this},set4i:function(m,g,C,M,b,w){return w===void 0&&(w=this.currentShader),w.set4i(m,g,C,M,b),this},setMatrix2fv:function(m,g,C,M){return M===void 0&&(M=this.currentShader),M.setMatrix2fv(m,g,C),this},setMatrix3fv:function(m,g,C,M){return M===void 0&&(M=this.currentShader),M.setMatrix3fv(m,g,C),this},setMatrix4fv:function(m,g,C,M){return M===void 0&&(M=this.currentShader),M.setMatrix4fv(m,g,C),this},destroy:function(){this.emit(l.DESTROY,this);var m,g=this.shaders;for(m=0;m<g.length;m++)g[m].destroy();var C=this.renderTargets;for(m=0;m<C.length;m++)C[m].destroy();var M=this.renderer;return M.deleteBuffer(this.vertexBuffer),M.off(f.RESIZE,this.resize,this),M.off(f.PRE_RENDER,this.onPreRender,this),M.off(f.RENDER,this.onRender,this),M.off(f.POST_RENDER,this.onPostRender,this),this.removeAllListeners(),this.game=null,this.renderer=null,this.manager=null,this.gl=null,this.view=null,this.shaders=null,this.renderTargets=null,this.bytes=null,this.vertexViewF32=null,this.vertexViewU32=null,this.vertexData=null,this.vertexBuffer=null,this.currentShader=null,this.currentRenderTarget=null,this.activeTextures=null,this}});n.exports=p},74797:(n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @author       Felipe Alfonso <@bitnenfer>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=i(95428),x=i(72905),d=i(19715),l=i(83419),o=i(8054),s=i(50792),f=i(92503),c=i(50030),u=i(37867),v=i(29747),p=i(7530),m=i(32302),g=i(97480),C=i(69442),M=i(70554),b=i(88815),w=i(26128),R=i(1482),A=i(82751),L=i(84387),D=i(93567),G=i(57183),B=new l({Extends:s,initialize:function(k){s.call(this);var z=k.config,X={alpha:z.transparent,desynchronized:z.desynchronized,depth:!0,antialias:z.antialiasGL,premultipliedAlpha:z.premultipliedAlpha,stencil:!0,failIfMajorPerformanceCaveat:z.failIfMajorPerformanceCaveat,powerPreference:z.powerPreference,preserveDrawingBuffer:z.preserveDrawingBuffer,willReadFrequently:!1};this.config={clearBeforeRender:z.clearBeforeRender,antialias:z.antialias,backgroundColor:z.backgroundColor,contextCreation:X,roundPixels:z.roundPixels,maxTextures:z.maxTextures,maxTextureSize:z.maxTextureSize,batchSize:z.batchSize,maxLights:z.maxLights,mipmapFilter:z.mipmapFilter},this.game=k,this.type=o.WEBGL,this.pipelines=null,this.width=0,this.height=0,this.canvas=k.canvas,this.blendModes=[],this.contextLost=!1,this.snapshotState={x:0,y:0,width:1,height:1,getPixel:!1,callback:null,type:"image/png",encoder:.92,isFramebuffer:!1,bufferWidth:0,bufferHeight:0},this.maxTextures=0,this.textureIndexes,this.glBufferWrappers=[],this.glProgramWrappers=[],this.glTextureWrappers=[],this.glFramebufferWrappers=[],this.glAttribLocationWrappers=[],this.glUniformLocationWrappers=[],this.currentFramebuffer=null,this.fboStack=[],this.currentProgram=null,this.currentBlendMode=1/0,this.currentScissorEnabled=!1,this.currentScissor=null,this.scissorStack=[],this.contextLostHandler=v,this.contextRestoredHandler=v,this.previousContextLostHandler=v,this.previousContextRestoredHandler=v,this.gl=null,this.supportedExtensions=null,this.instancedArraysExtension=null,this.vaoExtension=null,this.extensions={},this.glFormats,this.compression,this.drawingBufferHeight=0,this.blankTexture=null,this.normalTexture=null,this.whiteTexture=null,this.maskCount=0,this.maskStack=[],this.currentMask={mask:null,camera:null},this.currentCameraMask={mask:null,camera:null},this.glFuncMap=null,this.currentType="",this.newType=!1,this.nextTypeMatch=!1,this.finalType=!1,this.mipmapFilter=null,this.defaultScissor=[0,0,0,0],this.isBooted=!1,this.renderTarget=null,this.projectionMatrix,this.projectionWidth=0,this.projectionHeight=0,this.maskSource=null,this.maskTarget=null,this.spector=null,this._debugCapture=!1,this.init(this.config)},init:function(I){var k,z=this.game,X=this.canvas,H=I.backgroundColor;if(z.config.context?k=z.config.context:k=X.getContext("webgl",I.contextCreation)||X.getContext("experimental-webgl",I.contextCreation),!k||k.isContextLost())throw this.contextLost=!0,new Error("WebGL unsupported");this.gl=k,this.setExtensions(),this.setContextHandlers(),z.context=k;for(var Q=0;Q<=27;Q++)this.blendModes.push({func:[k.ONE,k.ONE_MINUS_SRC_ALPHA],equation:k.FUNC_ADD});this.blendModes[1].func=[k.ONE,k.DST_ALPHA],this.blendModes[2].func=[k.DST_COLOR,k.ONE_MINUS_SRC_ALPHA],this.blendModes[3].func=[k.ONE,k.ONE_MINUS_SRC_COLOR],this.blendModes[17]={func:[k.ZERO,k.ONE_MINUS_SRC_ALPHA],equation:k.FUNC_REVERSE_SUBTRACT},this.glFormats=[k.BYTE,k.SHORT,k.UNSIGNED_BYTE,k.UNSIGNED_SHORT,k.FLOAT],this.glFuncMap={mat2:{func:k.uniformMatrix2fv,length:1,matrix:!0},mat3:{func:k.uniformMatrix3fv,length:1,matrix:!0},mat4:{func:k.uniformMatrix4fv,length:1,matrix:!0},"1f":{func:k.uniform1f,length:1},"1fv":{func:k.uniform1fv,length:1},"1i":{func:k.uniform1i,length:1},"1iv":{func:k.uniform1iv,length:1},"2f":{func:k.uniform2f,length:2},"2fv":{func:k.uniform2fv,length:1},"2i":{func:k.uniform2i,length:2},"2iv":{func:k.uniform2iv,length:1},"3f":{func:k.uniform3f,length:3},"3fv":{func:k.uniform3fv,length:1},"3i":{func:k.uniform3i,length:3},"3iv":{func:k.uniform3iv,length:1},"4f":{func:k.uniform4f,length:4},"4fv":{func:k.uniform4fv,length:1},"4i":{func:k.uniform4i,length:4},"4iv":{func:k.uniform4iv,length:1}},(!I.maxTextures||I.maxTextures===-1)&&(I.maxTextures=k.getParameter(k.MAX_TEXTURE_IMAGE_UNITS)),I.maxTextureSize||(I.maxTextureSize=k.getParameter(k.MAX_TEXTURE_SIZE)),this.compression=this.getCompressedTextures(),k.disable(k.DEPTH_TEST),k.disable(k.CULL_FACE),k.enable(k.BLEND),k.clearColor(H.redGL,H.greenGL,H.blueGL,H.alphaGL),k.clear(k.COLOR_BUFFER_BIT);var J=["NEAREST","LINEAR","NEAREST_MIPMAP_NEAREST","LINEAR_MIPMAP_NEAREST","NEAREST_MIPMAP_LINEAR","LINEAR_MIPMAP_LINEAR"];return J.indexOf(I.mipmapFilter)!==-1&&(this.mipmapFilter=k[I.mipmapFilter]),this.maxTextures=M.checkShaderMax(k,I.maxTextures),this.textureIndexes=[],this.createTemporaryTextures(),this.pipelines=new p(this),this.setBlendMode(o.BlendModes.NORMAL),this.projectionMatrix=new u().identity(),z.textures.once(C.READY,this.boot,this),this},boot:function(){var I=this.game,k=this.pipelines,z=I.scale.baseSize,X=z.width,H=z.height;this.width=X,this.height=H,this.isBooted=!0,this.renderTarget=new m(this,X,H,1,0,!0,!0),this.maskTarget=new m(this,X,H,1,0,!0,!0),this.maskSource=new m(this,X,H,1,0,!0,!0);var Q=I.config;k.boot(Q.pipeline,Q.defaultPipeline,Q.autoMobilePipeline),this.blankTexture=I.textures.getFrame("__DEFAULT").glTexture,this.normalTexture=I.textures.getFrame("__NORMAL").glTexture,this.whiteTexture=I.textures.getFrame("__WHITE").glTexture;var J=this.gl;J.bindFramebuffer(J.FRAMEBUFFER,null),J.enable(J.SCISSOR_TEST),I.scale.on(g.RESIZE,this.onResize,this),this.resize(X,H)},setExtensions:function(){var I=this.gl,k=I.getSupportedExtensions();this.supportedExtensions=k;var z="ANGLE_instanced_arrays";this.instancedArraysExtension=k.indexOf(z)>-1?I.getExtension(z):null;var X="OES_vertex_array_object";this.vaoExtension=k.indexOf(X)>-1?I.getExtension(X):null},setContextHandlers:function(I,k){this.previousContextLostHandler&&this.canvas.removeEventListener("webglcontextlost",this.previousContextLostHandler,!1),this.previousContextRestoredHandler&&this.canvas.removeEventListener("webglcontextlost",this.previousContextRestoredHandler,!1),typeof I=="function"?this.contextLostHandler=I.bind(this):this.contextLostHandler=this.dispatchContextLost.bind(this),typeof k=="function"?this.contextRestoredHandler=k.bind(this):this.contextRestoredHandler=this.dispatchContextRestored.bind(this),this.canvas.addEventListener("webglcontextlost",this.contextLostHandler,!1),this.canvas.addEventListener("webglcontextrestored",this.contextRestoredHandler,!1),this.previousContextLostHandler=this.contextLostHandler,this.previousContextRestoredHandler=this.contextRestoredHandler},dispatchContextLost:function(I){this.contextLost=!0,console&&console.warn("WebGL Context lost. Renderer disabled"),this.emit(f.LOSE_WEBGL,this),I.preventDefault()},dispatchContextRestored:function(I){var k=this.gl;if(k.isContextLost()){console&&console.log("WebGL Context restored, but context is still lost");return}this.currentProgram=null,this.currentFramebuffer=null,this.setBlendMode(o.BlendModes.NORMAL),k.disable(k.BLEND),k.disable(k.DEPTH_TEST),k.enable(k.CULL_FACE),this.compression=this.getCompressedTextures();var z=function(X){X.createResource()};a(this.glTextureWrappers,z),a(this.glBufferWrappers,z),a(this.glFramebufferWrappers,z),a(this.glProgramWrappers,z),a(this.glAttribLocationWrappers,z),a(this.glUniformLocationWrappers,z),this.createTemporaryTextures(),this.pipelines.restoreContext(),this.resize(this.game.scale.baseSize.width,this.game.scale.baseSize.height),this.setExtensions(),this.contextLost=!1,console&&console.warn("WebGL Context restored. Renderer running again."),this.emit(f.RESTORE_WEBGL,this),I.preventDefault()},createTemporaryTextures:function(){for(var I=this.gl,k=0;k<this.maxTextures;k++){var z=I.createTexture();I.activeTexture(I.TEXTURE0+k),I.bindTexture(I.TEXTURE_2D,z),I.texImage2D(I.TEXTURE_2D,0,I.RGBA,1,1,0,I.RGBA,I.UNSIGNED_BYTE,new Uint8Array([0,0,255,255])),this.textureIndexes.push(k)}},captureFrame:function(I,k){},captureNextFrame:function(){},getFps:function(){},log:function(){},startCapture:function(I,k,z){},stopCapture:function(){},onCapture:function(I){},onResize:function(I,k){(k.width!==this.width||k.height!==this.height)&&this.resize(k.width,k.height)},beginCapture:function(I,k){I===void 0&&(I=this.width),k===void 0&&(k=this.height),this.renderTarget.bind(!0,I,k),this.setProjectionMatrix(I,k)},endCapture:function(){return this.renderTarget.unbind(!0),this.resetProjectionMatrix(),this.renderTarget},resize:function(I,k){var z=this.gl;return this.width=I,this.height=k,this.setProjectionMatrix(I,k),z.viewport(0,0,I,k),this.drawingBufferHeight=z.drawingBufferHeight,z.scissor(0,z.drawingBufferHeight-k,I,k),this.defaultScissor[2]=I,this.defaultScissor[3]=k,this.emit(f.RESIZE,I,k),this},getCompressedTextures:function(){var I="WEBGL_compressed_texture_",k="WEBKIT_"+I,z="EXT_texture_compression_",X=function(Q,J){var Y=Q.getExtension(I+J)||Q.getExtension(k+J)||Q.getExtension(z+J);if(Y){var $={};for(var V in Y)$[Y[V]]=V;return $}},H=this.gl;return{ETC:X(H,"etc"),ETC1:X(H,"etc1"),ATC:X(H,"atc"),ASTC:X(H,"astc"),BPTC:X(H,"bptc"),RGTC:X(H,"rgtc"),PVRTC:X(H,"pvrtc"),S3TC:X(H,"s3tc"),S3TCSRGB:X(H,"s3tc_srgb"),IMG:!0}},getCompressedTextureName:function(I,k){var z=this.compression[I.toUpperCase()];if(k in z)return z[k]},supportsCompressedTexture:function(I,k){var z=this.compression[I.toUpperCase()];return z?k?k in z:!0:!1},getAspectRatio:function(){return this.width/this.height},setProjectionMatrix:function(I,k){return(I!==this.projectionWidth||k!==this.projectionHeight)&&(this.projectionWidth=I,this.projectionHeight=k,this.projectionMatrix.ortho(0,I,k,0,-1e3,1e3)),this},resetProjectionMatrix:function(){return this.setProjectionMatrix(this.width,this.height)},hasExtension:function(I){return this.supportedExtensions?this.supportedExtensions.indexOf(I):!1},getExtension:function(I){return this.hasExtension(I)?(I in this.extensions||(this.extensions[I]=this.gl.getExtension(I)),this.extensions[I]):null},flush:function(){this.pipelines.flush()},pushScissor:function(I,k,z,X,H){H===void 0&&(H=this.drawingBufferHeight);var Q=this.scissorStack,J=[I,k,z,X];return Q.push(J),this.setScissor(I,k,z,X,H),this.currentScissor=J,J},setScissor:function(I,k,z,X,H){H===void 0&&(H=this.drawingBufferHeight);var Q=this.gl,J=this.currentScissor,Y=z>0&&X>0;if(J&&Y){var $=J[0],V=J[1],U=J[2],K=J[3];Y=$!==I||V!==k||U!==z||K!==X}Y&&(this.flush(),Q.scissor(I,H-k-X,z,X))},resetScissor:function(){var I=this.gl;I.enable(I.SCISSOR_TEST);var k=this.currentScissor;if(k){var z=k[0],X=k[1],H=k[2],Q=k[3];H>0&&Q>0&&I.scissor(z,this.drawingBufferHeight-X-Q,H,Q)}},popScissor:function(){var I=this.scissorStack;I.pop();var k=I[I.length-1];k&&this.setScissor(k[0],k[1],k[2],k[3]),this.currentScissor=k},hasActiveStencilMask:function(){var I=this.currentMask.mask,k=this.currentCameraMask.mask;return I&&I.isStencil||k&&k.isStencil},resetViewport:function(){var I=this.gl;I.viewport(0,0,this.width,this.height),this.drawingBufferHeight=I.drawingBufferHeight},setBlendMode:function(I,k){k===void 0&&(k=!1);var z=this.gl,X=this.blendModes[I];return k||I!==o.BlendModes.SKIP_CHECK&&this.currentBlendMode!==I?(this.flush(),z.enable(z.BLEND),z.blendEquation(X.equation),X.func.length>2?z.blendFuncSeparate(X.func[0],X.func[1],X.func[2],X.func[3]):z.blendFunc(X.func[0],X.func[1]),this.currentBlendMode=I,!0):!1},addBlendMode:function(I,k){var z=this.blendModes.push({func:I,equation:k});return z-1},updateBlendMode:function(I,k,z){return this.blendModes[I]&&(this.blendModes[I].func=k,z&&(this.blendModes[I].equation=z)),this},removeBlendMode:function(I){return I>17&&this.blendModes[I]&&this.blendModes.splice(I,1),this},pushFramebuffer:function(I,k,z,X,H){return I===this.currentFramebuffer?this:(this.fboStack.push(I),this.setFramebuffer(I,k,z,X,H))},setFramebuffer:function(I,k,z,X,H){if(k===void 0&&(k=!1),z===void 0&&(z=!0),X===void 0&&(X=null),H===void 0&&(H=!1),I===this.currentFramebuffer)return this;var Q=this.gl,J=this.width,Y=this.height;return I&&I.renderTexture&&z?(J=I.renderTexture.width,Y=I.renderTexture.height):this.flush(),I?Q.bindFramebuffer(Q.FRAMEBUFFER,I.webGLFramebuffer):Q.bindFramebuffer(Q.FRAMEBUFFER,null),z&&Q.viewport(0,0,J,Y),X&&Q.framebufferTexture2D(Q.FRAMEBUFFER,Q.COLOR_ATTACHMENT0,Q.TEXTURE_2D,X.webGLTexture,0),H&&(Q.clearColor(0,0,0,0),Q.clear(Q.COLOR_BUFFER_BIT)),k&&(I?(this.drawingBufferHeight=Y,this.pushScissor(0,0,J,Y)):(this.drawingBufferHeight=this.height,this.popScissor())),this.currentFramebuffer=I,this},popFramebuffer:function(I,k){I===void 0&&(I=!1),k===void 0&&(k=!0);var z=this.fboStack;z.pop();var X=z[z.length-1];return X||(X=null),this.setFramebuffer(X,I,k),X},restoreFramebuffer:function(I,k){I===void 0&&(I=!1),k===void 0&&(k=!0);var z=this.fboStack,X=z[z.length-1];X||(X=null),this.currentFramebuffer=null,this.setFramebuffer(X,I,k)},setProgram:function(I){return I!==this.currentProgram?(this.flush(),this.gl.useProgram(I.webGLProgram),this.currentProgram=I,!0):!1},resetProgram:function(){return this.gl.useProgram(this.currentProgram.webGLProgramWrapper),this},createTextureFromSource:function(I,k,z,X,H){H===void 0&&(H=!1);var Q=this.gl,J=Q.NEAREST,Y=Q.NEAREST,$=Q.CLAMP_TO_EDGE,V=null;k=I?I.width:k,z=I?I.height:z;var U=c(k,z);if(U&&!H&&($=Q.REPEAT),X===o.ScaleModes.LINEAR&&this.config.antialias){var K=I&&I.compressed,j=!K&&U||K&&I.mipmaps.length>1;J=this.mipmapFilter&&j?this.mipmapFilter:Q.LINEAR,Y=Q.LINEAR}return!I&&typeof k=="number"&&typeof z=="number"?V=this.createTexture2D(0,J,Y,$,$,Q.RGBA,null,k,z):V=this.createTexture2D(0,J,Y,$,$,Q.RGBA,I),V},createTexture2D:function(I,k,z,X,H,Q,J,Y,$,V,U,K){typeof Y!="number"&&(Y=J?J.width:1),typeof $!="number"&&($=J?J.height:1);var j=new A(this.gl,I,k,z,X,H,Q,J,Y,$,V,U,K);return this.glTextureWrappers.push(j),j},createFramebuffer:function(I,k,z,X){this.currentFramebuffer=null;var H=new L(this.gl,I,k,z,X);return this.glFramebufferWrappers.push(H),H},beginBitmapMask:function(I,k){var z=this.gl;z&&(this.flush(),this.maskTarget.bind(!0),this.currentCameraMask.mask!==I&&(this.currentMask.mask=I,this.currentMask.camera=k))},drawBitmapMask:function(I,k,z){this.flush(),this.maskSource.bind(),this.setBlendMode(0,!0),I.renderWebGL(this,I,k),this.maskSource.unbind(!0),this.maskTarget.unbind();var X=this.gl,H=this.getCurrentStencilMask();H?(X.enable(X.STENCIL_TEST),H.mask.applyStencil(this,H.camera,!0)):this.currentMask.mask=null,this.pipelines.set(z),X.activeTexture(X.TEXTURE0),X.bindTexture(X.TEXTURE_2D,this.maskTarget.texture.webGLTexture),X.activeTexture(X.TEXTURE1),X.bindTexture(X.TEXTURE_2D,this.maskSource.texture.webGLTexture)},createProgram:function(I,k){var z=new R(this.gl,I,k);return this.glProgramWrappers.push(z),z},createVertexBuffer:function(I,k){var z=this.gl,X=new w(z,I,z.ARRAY_BUFFER,k);return this.glBufferWrappers.push(X),X},createAttribLocation:function(I,k){var z=new D(this.gl,I,k);return this.glAttribLocationWrappers.push(z),z},createUniformLocation:function(I,k){var z=new G(this.gl,I,k);return this.glUniformLocationWrappers.push(z),z},createIndexBuffer:function(I,k){var z=this.gl,X=new w(z,I,z.ELEMENT_ARRAY_BUFFER,k);return this.glBufferWrappers.push(X),X},deleteTexture:function(I){if(I)return x(this.glTextureWrappers,I),I.destroy(),this},deleteFramebuffer:function(I){return I?(x(this.fboStack,I),x(this.glFramebufferWrappers,I),I.destroy(),this):this},deleteProgram:function(I){return I&&(x(this.glProgramWrappers,I),I.destroy()),this},deleteAttribLocation:function(I){return I&&(x(this.glAttribLocationWrappers,I),I.destroy()),this},deleteUniformLocation:function(I){return I&&(x(this.glUniformLocationWrappers,I),I.destroy()),this},deleteBuffer:function(I){return I?(x(this.glBufferWrappers,I),I.destroy(),this):this},preRenderCamera:function(I){var k=I.x,z=I.y,X=I.width,H=I.height,Q=I.backgroundColor;if(I.emit(d.PRE_RENDER,I),this.pipelines.preBatchCamera(I),this.pushScissor(k,z,X,H),I.mask&&(this.currentCameraMask.mask=I.mask,this.currentCameraMask.camera=I._maskCamera,I.mask.preRenderWebGL(this,I,I._maskCamera)),Q.alphaGL>0){var J=this.pipelines.setMulti();J.drawFillRect(k,z,X,H,M.getTintFromFloats(Q.blueGL,Q.greenGL,Q.redGL,1),Q.alphaGL)}},getCurrentStencilMask:function(){var I=null,k=this.maskStack,z=this.currentCameraMask;return k.length>0?I=k[k.length-1]:z.mask&&z.mask.isStencil&&(I=z),I},postRenderCamera:function(I){var k=I.flashEffect,z=I.fadeEffect;if(k.isRunning||z.isRunning||z.isComplete){var X=this.pipelines.setMulti();k.postRenderWebGL(X,M.getTintFromFloats),z.postRenderWebGL(X,M.getTintFromFloats)}I.dirty=!1,this.popScissor(),I.mask&&(this.currentCameraMask.mask=null,I.mask.postRenderWebGL(this,I._maskCamera)),this.pipelines.postBatchCamera(I),I.emit(d.POST_RENDER,I)},preRender:function(){if(!this.contextLost){var I=this.gl;if(I.bindFramebuffer(I.FRAMEBUFFER,null),this.emit(f.PRE_RENDER_CLEAR),this.config.clearBeforeRender){var k=this.config.backgroundColor;I.clearColor(k.redGL,k.greenGL,k.blueGL,k.alphaGL),I.clear(I.COLOR_BUFFER_BIT|I.DEPTH_BUFFER_BIT|I.STENCIL_BUFFER_BIT)}I.enable(I.SCISSOR_TEST),this.currentScissor=this.defaultScissor,this.scissorStack.length=0,this.scissorStack.push(this.currentScissor),this.game.scene.customViewports&&I.scissor(0,this.drawingBufferHeight-this.height,this.width,this.height),this.currentMask.mask=null,this.currentCameraMask.mask=null,this.maskStack.length=0,this.emit(f.PRE_RENDER)}},render:function(I,k,z){if(!this.contextLost){var X=k.length;if(this.emit(f.RENDER,I,z),this.preRenderCamera(z),X===0){this.setBlendMode(o.BlendModes.NORMAL),this.postRenderCamera(z);return}this.currentType="";for(var H=this.currentMask,Q=0;Q<X;Q++){this.finalType=Q===X-1;var J=k[Q],Y=J.mask;H=this.currentMask,H.mask&&H.mask!==Y&&H.mask.postRenderWebGL(this,H.camera),Y&&H.mask!==Y&&Y.preRenderWebGL(this,J,z),J.blendMode!==this.currentBlendMode&&this.setBlendMode(J.blendMode);var $=J.type;$!==this.currentType&&(this.newType=!0,this.currentType=$),this.finalType?this.nextTypeMatch=!1:this.nextTypeMatch=k[Q+1].type===this.currentType,J.renderWebGL(this,J,z),this.newType=!1}H=this.currentMask,H.mask&&H.mask.postRenderWebGL(this,H.camera),this.setBlendMode(o.BlendModes.NORMAL),this.postRenderCamera(z)}},postRender:function(){if(!this.contextLost){this.flush(),this.emit(f.POST_RENDER);var I=this.snapshotState;I.callback&&(b(this.gl,I),I.callback=null)}},clearStencilMask:function(){this.gl.disable(this.gl.STENCIL_TEST)},restoreStencilMask:function(){var I=this.gl,k=this.getCurrentStencilMask();if(k){var z=k.mask;I.enable(I.STENCIL_TEST),z.invertAlpha?I.stencilFunc(I.NOTEQUAL,z.level,255):I.stencilFunc(I.EQUAL,z.level,255)}},snapshot:function(I,k,z){return this.snapshotArea(0,0,this.gl.drawingBufferWidth,this.gl.drawingBufferHeight,I,k,z)},snapshotArea:function(I,k,z,X,H,Q,J){var Y=this.snapshotState;return Y.callback=H,Y.type=Q,Y.encoder=J,Y.getPixel=!1,Y.x=I,Y.y=k,Y.width=z,Y.height=X,this},snapshotPixel:function(I,k,z){return this.snapshotArea(I,k,1,1,z),this.snapshotState.getPixel=!0,this},snapshotFramebuffer:function(I,k,z,X,H,Q,J,Y,$,V,U){H===void 0&&(H=!1),Q===void 0&&(Q=0),J===void 0&&(J=0),Y===void 0&&(Y=k),$===void 0&&($=z),V==="pixel"&&(H=!0,V="image/png");var K=this.currentFramebuffer;this.snapshotArea(Q,J,Y,$,X,V,U);var j=this.snapshotState;return j.getPixel=H,j.isFramebuffer=!0,j.bufferWidth=k,j.bufferHeight=z,j.width=Math.min(j.width,k),j.height=Math.min(j.height,z),this.setFramebuffer(I),b(this.gl,j),this.setFramebuffer(K),j.callback=null,j.isFramebuffer=!1,this},canvasToTexture:function(I,k,z,X){z===void 0&&(z=!1),X===void 0&&(X=!1);var H=this.gl,Q=H.NEAREST,J=H.NEAREST,Y=I.width,$=I.height,V=H.CLAMP_TO_EDGE,U=c(Y,$);return!z&&U&&(V=H.REPEAT),this.config.antialias&&(Q=U&&this.mipmapFilter?this.mipmapFilter:H.LINEAR,J=H.LINEAR),k?(k.update(I,Y,$,X,V,V,Q,J,k.format),k):this.createTexture2D(0,Q,J,V,V,H.RGBA,I,Y,$,!0,!1,X)},createCanvasTexture:function(I,k,z){return k===void 0&&(k=!1),z===void 0&&(z=!1),this.canvasToTexture(I,null,k,z)},updateCanvasTexture:function(I,k,z,X){return z===void 0&&(z=!1),X===void 0&&(X=!1),this.canvasToTexture(I,k,X,z)},videoToTexture:function(I,k,z,X){z===void 0&&(z=!1),X===void 0&&(X=!1);var H=this.gl,Q=H.NEAREST,J=H.NEAREST,Y=I.videoWidth,$=I.videoHeight,V=H.CLAMP_TO_EDGE,U=c(Y,$);return!z&&U&&(V=H.REPEAT),this.config.antialias&&(Q=U&&this.mipmapFilter?this.mipmapFilter:H.LINEAR,J=H.LINEAR),k?(k.update(I,Y,$,X,V,V,Q,J,k.format),k):this.createTexture2D(0,Q,J,V,V,H.RGBA,I,Y,$,!0,!0,X)},createVideoTexture:function(I,k,z){return k===void 0&&(k=!1),z===void 0&&(z=!1),this.videoToTexture(I,null,k,z)},updateVideoTexture:function(I,k,z,X){return z===void 0&&(z=!1),X===void 0&&(X=!1),this.videoToTexture(I,k,X,z)},createUint8ArrayTexture:function(I,k,z){var X=this.gl,H=X.NEAREST,Q=X.NEAREST,J=X.CLAMP_TO_EDGE,Y=c(k,z);return Y&&(J=X.REPEAT),this.createTexture2D(0,H,Q,J,J,X.RGBA,I,k,z)},setTextureFilter:function(I,k){var z=this.gl,X=k===0?z.LINEAR:z.NEAREST;z.activeTexture(z.TEXTURE0);var H=z.getParameter(z.TEXTURE_BINDING_2D);return z.bindTexture(z.TEXTURE_2D,I.webGLTexture),z.texParameteri(z.TEXTURE_2D,z.TEXTURE_MIN_FILTER,X),z.texParameteri(z.TEXTURE_2D,z.TEXTURE_MAG_FILTER,X),I.minFilter=X,I.magFilter=X,H&&z.bindTexture(z.TEXTURE_2D,H),this},getMaxTextureSize:function(){return this.config.maxTextureSize},destroy:function(){this.canvas.removeEventListener("webglcontextlost",this.contextLostHandler,!1),this.canvas.removeEventListener("webglcontextrestored",this.contextRestoredHandler,!1);var I=function(k){k.destroy()};a(this.glAttribLocationWrappers,I),a(this.glBufferWrappers,I),a(this.glFramebufferWrappers,I),a(this.glProgramWrappers,I),a(this.glTextureWrappers,I),a(this.glUniformLocationWrappers,I),this.maskTarget.destroy(),this.maskSource.destroy(),this.pipelines.destroy(),this.removeAllListeners(),this.fboStack=[],this.maskStack=[],this.extensions={},this.textureIndexes=[],this.gl=null,this.game=null,this.canvas=null,this.contextLost=!0,this.currentMask=null,this.currentCameraMask=null}});n.exports=B},38683:(n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=i(83419),x=i(95428),d=i(95540),l=i(14500),o=new a({initialize:function(f,c,u,v,p){this.pipeline=f,this.name=c,this.renderer=f.renderer,this.gl=this.renderer.gl,this.fragSrc=v,this.vertSrc=u,this.program=this.renderer.createProgram(u,v),this.attributes,this.vertexComponentCount=0,this.vertexSize=0,this.uniforms={},this.createAttributes(p),this.createUniforms()},createAttributes:function(s){var f=0,c=0,u=[];this.vertexComponentCount=0;for(var v=0;v<s.length;v++){var p=s[v],m=p.name,g=d(p,"size",1),C=d(p,"type",l.FLOAT),M=C.enum,b=C.size,w=!!p.normalized;u.push({name:m,size:g,type:M,normalized:w,offset:c,enabled:!1,location:-1}),b===4?f+=g:f++,c+=g*b}this.vertexSize=c,this.vertexComponentCount=f,this.attributes=u},bind:function(s,f){return s===void 0&&(s=!1),f===void 0&&(f=!1),f&&this.pipeline.flush(),this.renderer.setProgram(this.program),s&&this.setAttribPointers(),this},rebind:function(){return this.renderer.setProgram(this.program),this.setAttribPointers(!0),this},setAttribPointers:function(s){s===void 0&&(s=!1);for(var f=this.gl,c=this.renderer,u=this.vertexSize,v=this.attributes,p=this.program,m=0;m<v.length;m++){var g=v[m],C=g.size,M=g.type,b=g.offset,w=g.enabled,R=g.location,A=!!g.normalized;if(s){R!==-1&&c.deleteAttribLocation(R);var L=this.renderer.createAttribLocation(p,g.name);L.webGLAttribLocation>=0?(f.enableVertexAttribArray(L.webGLAttribLocation),f.vertexAttribPointer(L.webGLAttribLocation,C,M,A,u,b),g.enabled=!0,g.location=L):L.webGLAttribLocation!==-1&&f.disableVertexAttribArray(L.webGLAttribLocation)}else w?f.vertexAttribPointer(R.webGLAttribLocation,C,M,A,u,b):!w&&R!==-1&&R.webGLAttribLocation>-1&&(f.disableVertexAttribArray(R.webGLAttribLocation),g.location=-1)}return this},createUniforms:function(){var s=this.gl,f=this.program,c=this.uniforms,u,v,p,m=s.getProgramParameter(f.webGLProgram,s.ACTIVE_UNIFORMS);for(u=0;u<m;u++){var g=s.getActiveUniform(f.webGLProgram,u);if(g){v=g.name,p=this.renderer.createUniformLocation(f,v),p!==null&&(c[v]={name:v,location:p,setter:null,value1:null,value2:null,value3:null,value4:null});var C=v.indexOf("[");C>0&&(v=v.substr(0,C),c.hasOwnProperty(v)||(p=this.renderer.createUniformLocation(f,v),p!==null&&(c[v]={name:v,location:p,setter:null,value1:null,value2:null,value3:null,value4:null})))}}return this},syncUniforms:function(){var s=this.gl;this.renderer.setProgram(this.program);for(var f in this.uniforms){var c=this.uniforms[f];c.setter&&c.setter.call(s,c.location.webGLUniformLocation,c.value1,c.value2,c.value3,c.value4)}},hasUniform:function(s){return this.uniforms.hasOwnProperty(s)},resetUniform:function(s){var f=this.uniforms[s];return f&&(f.value1=null,f.value2=null,f.value3=null,f.value4=null),this},setUniform1:function(s,f,c,u){var v=this.uniforms[f];return v?((u||v.value1!==c)&&(v.setter||(v.setter=s),v.value1=c,this.renderer.setProgram(this.program),s.call(this.gl,v.location.webGLUniformLocation,c),this.pipeline.currentShader=this),this):this},setUniform2:function(s,f,c,u,v){var p=this.uniforms[f];return p?((v||p.value1!==c||p.value2!==u)&&(p.setter||(p.setter=s),p.value1=c,p.value2=u,this.renderer.setProgram(this.program),s.call(this.gl,p.location.webGLUniformLocation,c,u),this.pipeline.currentShader=this),this):this},setUniform3:function(s,f,c,u,v,p){var m=this.uniforms[f];return m?((p||m.value1!==c||m.value2!==u||m.value3!==v)&&(m.setter||(m.setter=s),m.value1=c,m.value2=u,m.value3=v,this.renderer.setProgram(this.program),s.call(this.gl,m.location.webGLUniformLocation,c,u,v),this.pipeline.currentShader=this),this):this},setUniform4:function(s,f,c,u,v,p,m){var g=this.uniforms[f];return g?((m||g.value1!==c||g.value2!==u||g.value3!==v||g.value4!==p)&&(g.setter||(g.setter=s),g.value1=c,g.value2=u,g.value3=v,g.value4=p,this.renderer.setProgram(this.program),s.call(this.gl,g.location.webGLUniformLocation,c,u,v,p),this.pipeline.currentShader=this),this):this},setBoolean:function(s,f){return this.setUniform1(this.gl.uniform1i,s,Number(f))},set1f:function(s,f){return this.setUniform1(this.gl.uniform1f,s,f)},set2f:function(s,f,c){return this.setUniform2(this.gl.uniform2f,s,f,c)},set3f:function(s,f,c,u){return this.setUniform3(this.gl.uniform3f,s,f,c,u)},set4f:function(s,f,c,u,v){return this.setUniform4(this.gl.uniform4f,s,f,c,u,v)},set1fv:function(s,f){return this.setUniform1(this.gl.uniform1fv,s,f,!0)},set2fv:function(s,f){return this.setUniform1(this.gl.uniform2fv,s,f,!0)},set3fv:function(s,f){return this.setUniform1(this.gl.uniform3fv,s,f,!0)},set4fv:function(s,f){return this.setUniform1(this.gl.uniform4fv,s,f,!0)},set1iv:function(s,f){return this.setUniform1(this.gl.uniform1iv,s,f,!0)},set2iv:function(s,f){return this.setUniform1(this.gl.uniform2iv,s,f,!0)},set3iv:function(s,f){return this.setUniform1(this.gl.uniform3iv,s,f,!0)},set4iv:function(s,f){return this.setUniform1(this.gl.uniform4iv,s,f,!0)},set1i:function(s,f){return this.setUniform1(this.gl.uniform1i,s,f)},set2i:function(s,f,c){return this.setUniform2(this.gl.uniform2i,s,f,c)},set3i:function(s,f,c,u){return this.setUniform3(this.gl.uniform3i,s,f,c,u)},set4i:function(s,f,c,u,v){return this.setUniform4(this.gl.uniform4i,s,f,c,u,v)},setMatrix2fv:function(s,f,c){return this.setUniform2(this.gl.uniformMatrix2fv,s,f,c,!0)},setMatrix3fv:function(s,f,c){return this.setUniform2(this.gl.uniformMatrix3fv,s,f,c,!0)},setMatrix4fv:function(s,f,c){return this.setUniform2(this.gl.uniformMatrix4fv,s,f,c,!0)},createProgram:function(s,f){return s===void 0&&(s=this.vertSrc),f===void 0&&(f=this.fragSrc),this.program&&this.renderer.deleteProgram(this.program),this.vertSrc=s,this.fragSrc=f,this.program=this.renderer.createProgram(s,f),this.createUniforms(),this.rebind()},destroy:function(){var s=this.renderer;x(this.uniforms,function(f){s.deleteUniformLocation(f.location)}),this.uniforms=null,x(this.attributes,function(f){s.deleteAttribLocation(f.location)}),this.attributes=null,s.deleteProgram(this.program),this.pipeline=null,this.renderer=null,this.gl=null,this.program=null}});n.exports=o},14500:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T={BYTE:{enum:5120,size:1},UNSIGNED_BYTE:{enum:5121,size:1},SHORT:{enum:5122,size:2},UNSIGNED_SHORT:{enum:5123,size:2},INT:{enum:5124,size:4},UNSIGNED_INT:{enum:5125,size:4},FLOAT:{enum:5126,size:4}};n.exports=T},4159:(n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=i(14500),x=i(79291),d={PipelineManager:i(7530),Pipelines:i(96615),RenderTarget:i(32302),Utils:i(70554),WebGLPipeline:i(29100),WebGLRenderer:i(74797),WebGLShader:i(38683),Wrappers:i(9503)};d=x(!1,d,a),n.exports=d},31302:(n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @author       Felipe Alfonso <@bitnenfer>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=i(83419),x=i(95540),d=i(78908),l=i(85191),o=i(14500),s=i(29100),f=new a({Extends:s,initialize:function(u){u.fragShader=x(u,"fragShader",d),u.vertShader=x(u,"vertShader",l),u.batchSize=x(u,"batchSize",1),u.vertices=x(u,"vertices",[-1,1,-1,-7,7,1]),u.attributes=x(u,"attributes",[{name:"inPosition",size:2,type:o.FLOAT}]),s.call(this,u)},boot:function(){s.prototype.boot.call(this),this.set1i("uMainSampler",0),this.set1i("uMaskSampler",1)},resize:function(c,u){s.prototype.resize.call(this,c,u),this.set2f("uResolution",c,u)},beginMask:function(c,u,v){this.renderer.beginBitmapMask(c,v)},endMask:function(c,u,v){var p=this.gl,m=this.renderer,g=c.bitmapMask;g&&p&&(m.drawBitmapMask(g,u,this),v&&this.set2f("uResolution",v.width,v.height),this.set1i("uInvertMaskAlpha",c.invertAlpha),p.drawArrays(this.topology,0,3),v&&this.set2f("uResolution",this.width,this.height),p.bindTexture(p.TEXTURE_2D,null))}});n.exports=f},92651:(n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=i(83419),x=i(58918),d=i(14811),l=i(95540),o=i(43558),s=i(89350),f=i(70554),c=new a({Extends:o,initialize:function(v){v.shaders=[f.setGlowQuality(s.FXGlowFrag,v.game),s.FXShadowFrag,s.FXPixelateFrag,s.FXVignetteFrag,s.FXShineFrag,s.FXBlurLowFrag,s.FXBlurMedFrag,s.FXBlurHighFrag,s.FXGradientFrag,s.FXBloomFrag,s.ColorMatrixFrag,s.FXCircleFrag,s.FXBarrelFrag,s.FXDisplacementFrag,s.FXWipeFrag,s.FXBokehFrag],o.call(this,v);var p=this.game;this.glow=new x.Glow(p),this.shadow=new x.Shadow(p),this.pixelate=new x.Pixelate(p),this.vignette=new x.Vignette(p),this.shine=new x.Shine(p),this.gradient=new x.Gradient(p),this.circle=new x.Circle(p),this.barrel=new x.Barrel(p),this.wipe=new x.Wipe(p),this.bokeh=new x.Bokeh(p);var m=[];m[d.GLOW]=this.onGlow,m[d.SHADOW]=this.onShadow,m[d.PIXELATE]=this.onPixelate,m[d.VIGNETTE]=this.onVignette,m[d.SHINE]=this.onShine,m[d.BLUR]=this.onBlur,m[d.GRADIENT]=this.onGradient,m[d.BLOOM]=this.onBloom,m[d.COLOR_MATRIX]=this.onColorMatrix,m[d.CIRCLE]=this.onCircle,m[d.BARREL]=this.onBarrel,m[d.DISPLACEMENT]=this.onDisplacement,m[d.WIPE]=this.onWipe,m[d.BOKEH]=this.onBokeh,this.fxHandlers=m,this.source,this.target,this.swap},onDraw:function(u,v,p){this.source=u,this.target=v,this.swap=p;var m=u.width,g=u.height,C=this.tempSprite,M=this.fxHandlers;if(C&&C.preFX)for(var b=C.preFX.list,w=0;w<b.length;w++){var R=b[w];R.active&&M[R.type].call(this,R,m,g)}this.drawToGame(this.source)},runDraw:function(){var u=this.source,v=this.target;this.copy(u,v),this.source=v,this.target=u},onGlow:function(u,v,p){var m=this.shaders[d.GLOW];this.setShader(m),this.glow.onPreRender(u,m,v,p),this.runDraw()},onShadow:function(u){var v=this.shaders[d.SHADOW];this.setShader(v),this.shadow.onPreRender(u,v),this.runDraw()},onPixelate:function(u,v,p){var m=this.shaders[d.PIXELATE];this.setShader(m),this.pixelate.onPreRender(u,m,v,p),this.runDraw()},onVignette:function(u){var v=this.shaders[d.VIGNETTE];this.setShader(v),this.vignette.onPreRender(u,v),this.runDraw()},onShine:function(u,v,p){var m=this.shaders[d.SHINE];this.setShader(m),this.shine.onPreRender(u,m,v,p),this.runDraw()},onBlur:function(u,v,p){var m=l(u,"quality"),g=this.shaders[d.BLUR+m];this.setShader(g),this.set1i("uMainSampler",0),this.set2f("resolution",v,p),this.set1f("strength",l(u,"strength")),this.set3fv("color",l(u,"glcolor"));for(var C=l(u,"x"),M=l(u,"y"),b=l(u,"steps"),w=0;w<b;w++)this.set2f("offset",C,0),this.runDraw(),this.set2f("offset",0,M),this.runDraw()},onGradient:function(u){var v=this.shaders[d.GRADIENT];this.setShader(v),this.gradient.onPreRender(u,v),this.runDraw()},onBloom:function(u,v,p){var m=this.shaders[d.BLOOM];this.copySprite(this.source,this.swap),this.setShader(m),this.set1i("uMainSampler",0),this.set1f("strength",l(u,"blurStrength")),this.set3fv("color",l(u,"glcolor"));for(var g=2/v*l(u,"offsetX"),C=2/p*l(u,"offsetY"),M=l(u,"steps"),b=0;b<M;b++)this.set2f("offset",g,0),this.runDraw(),this.set2f("offset",0,C),this.runDraw();this.blendFrames(this.swap,this.source,this.target,l(u,"strength")),this.copySprite(this.target,this.source)},onColorMatrix:function(u){this.setShader(this.colorMatrixShader),this.set1fv("uColorMatrix",u.getData()),this.set1f("uAlpha",u.alpha),this.runDraw()},onCircle:function(u,v,p){var m=this.shaders[d.CIRCLE];this.setShader(m),this.circle.onPreRender(u,m,v,p),this.runDraw()},onBarrel:function(u){var v=this.shaders[d.BARREL];this.setShader(v),this.barrel.onPreRender(u,v),this.runDraw()},onDisplacement:function(u){this.setShader(this.shaders[d.DISPLACEMENT]),this.set1i("uDisplacementSampler",1),this.set2f("amount",u.x,u.y),this.bindTexture(u.glTexture,1),this.runDraw()},onWipe:function(u){var v=this.shaders[d.WIPE];this.setShader(v),this.wipe.onPreRender(u,v),this.runDraw()},onBokeh:function(u,v,p){var m=this.shaders[d.BOKEH];this.setShader(m),this.bokeh.onPreRender(u,m,v,p),this.runDraw()},destroy:function(){return this.glow.destroy(),this.shadow.destroy(),this.pixelate.destroy(),this.vignette.destroy(),this.shine.destroy(),this.gradient.destroy(),this.circle.destroy(),this.barrel.destroy(),this.wipe.destroy(),this.bokeh.destroy(),this.fxHandlers=null,this.source=null,this.target=null,this.swap=null,o.prototype.destroy.call(this),this}});n.exports=c},96569:(n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @author       Felipe Alfonso <@bitnenfer>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=i(83419),x=i(95540),d=i(31063),l=i(57516),o=i(61340),s=i(26099),f=i(29100),c=new a({Extends:l,initialize:function(v){var p=x(v,"fragShader",d);v.fragShader=p.replace("%LIGHT_COUNT%",v.game.renderer.config.maxLights),l.call(this,v),this.inverseRotationMatrix=new Float32Array([1,0,0,0,1,0,0,0,1]),this.currentNormalMap,this.lightsActive=!0,this.tempVec2=new s,this._tempMatrix=new o,this._tempMatrix2=new o},boot:function(){f.prototype.boot.call(this)},onRender:function(u,v){var p=u.sys.lights;if(this.lightsActive=!1,!(!p||!p.active)){var m=p.getLights(v),g=m.length;this.lightsActive=!0;var C,M=this.renderer,b=M.height,w=v.matrix,R=this.tempVec2;for(this.set1i("uMainSampler",0),this.set1i("uNormSampler",1),this.set2f("uResolution",this.width/2,this.height/2),this.set4f("uCamera",v.x,v.y,v.rotation,v.zoom),this.set3f("uAmbientLightColor",p.ambientColor.r,p.ambientColor.g,p.ambientColor.b),this.set1i("uLightCount",g),C=0;C<g;C++){var A=m[C].light,L=A.color,D="uLights["+C+"].";w.transformPoint(A.x,A.y,R),this.set2f(D+"position",R.x-v.scrollX*A.scrollFactorX*v.zoom,b-(R.y-v.scrollY*A.scrollFactorY*v.zoom)),this.set3f(D+"color",L.r,L.g,L.b),this.set1f(D+"intensity",A.intensity),this.set1f(D+"radius",A.radius)}this.currentNormalMapRotation=null}},setNormalMapRotation:function(u){if(u!==this.currentNormalMapRotation||this.vertexCount===0){this.vertexCount>0&&this.flush();var v=this.inverseRotationMatrix;if(u){var p=-u,m=Math.cos(p),g=Math.sin(p);v[1]=g,v[3]=-g,v[0]=v[4]=m}else v[0]=v[4]=1,v[1]=v[3]=0;this.setMatrix3fv("uInverseRotationMatrix",!1,v),this.currentNormalMapRotation=u}},setTexture2D:function(u,v){var p=this.renderer;u===void 0&&(u=p.whiteTexture);var m=this.getNormalMap(v);this.isNewNormalMap(u,m)&&(this.flush(),this.createBatch(u),this.addTextureToBatch(m),this.currentNormalMap=m);var g=0;if(v&&v.parentContainer){var C=v.getWorldTransformMatrix(this._tempMatrix,this._tempMatrix2);g=C.rotationNormalized}else v&&(g=v.rotation);return this.currentBatch===null&&(this.createBatch(u),this.addTextureToBatch(m)),this.setNormalMapRotation(g),0},setGameObject:function(u,v){v===void 0&&(v=u.frame);var p=v.glTexture,m=this.getNormalMap(u);if(this.isNewNormalMap(p,m)&&(this.flush(),this.createBatch(p),this.addTextureToBatch(m),this.currentNormalMap=m),u.parentContainer){var g=u.getWorldTransformMatrix(this._tempMatrix,this._tempMatrix2);this.setNormalMapRotation(g.rotationNormalized)}else this.setNormalMapRotation(u.rotation);return this.currentBatch===null&&(this.createBatch(p),this.addTextureToBatch(m)),0},isNewNormalMap:function(u,v){return this.currentTexture!==u||this.currentNormalMap!==v},getNormalMap:function(u){var v;if(u)u.displayTexture?v=u.displayTexture.dataSource[u.displayFrame.sourceIndex]:u.texture?v=u.texture.dataSource[u.frame.sourceIndex]:u.tileset&&(Array.isArray(u.tileset)?v=u.tileset[0].image.dataSource[0]:v=u.tileset.image.dataSource[0]);else return this.renderer.normalTexture;return v?v.glTexture:this.renderer.normalTexture},batchSprite:function(u,v,p){this.lightsActive&&l.prototype.batchSprite.call(this,u,v,p)},batchTexture:function(u,v,p,m,g,C,M,b,w,R,A,L,D,G,B,I,k,z,X,H,Q,J,Y,$,V,U,K,j,_,tt,rt,ot){this.lightsActive&&l.prototype.batchTexture.call(this,u,v,p,m,g,C,M,b,w,R,A,L,D,G,B,I,k,z,X,H,Q,J,Y,$,V,U,K,j,_,tt,rt,ot)},batchTextureFrame:function(u,v,p,m,g,C,M){this.lightsActive&&l.prototype.batchTextureFrame.call(this,u,v,p,m,g,C,M)}});n.exports=c},56527:(n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=i(83419),x=i(95540),d=i(57516),l=i(45561),o=i(60722),s=i(14500),f=i(29100),c=new a({Extends:d,initialize:function(v){v.fragShader=x(v,"fragShader",l),v.vertShader=x(v,"vertShader",o),v.attributes=x(v,"attributes",[{name:"inPosition",size:2},{name:"inTexCoord",size:2},{name:"inTexId"},{name:"inTintEffect"},{name:"inTint",size:4,type:s.UNSIGNED_BYTE,normalized:!0}]),v.forceZero=!0,v.resizeUniform="uResolution",d.call(this,v)},boot:function(){f.prototype.boot.call(this);var u=this.renderer;this.set1i("uMainSampler",0),this.set2f("uResolution",u.width,u.height)}});n.exports=c},57516:(n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @author       Felipe Alfonso <@bitnenfer>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=i(83419),x=i(94811),d=i(95540),l=i(98840),o=i(44667),s=i(61340),f=i(70554),c=i(14500),u=i(29100),v=new a({Extends:u,initialize:function(m){var g=m.game.renderer,C=d(m,"fragShader",l);m.fragShader=f.parseFragmentShaderMaxTextures(C,g.maxTextures),m.vertShader=d(m,"vertShader",o),m.attributes=d(m,"attributes",[{name:"inPosition",size:2},{name:"inTexCoord",size:2},{name:"inTexId"},{name:"inTintEffect"},{name:"inTint",size:4,type:c.UNSIGNED_BYTE,normalized:!0}]),m.resizeUniform="uResolution",u.call(this,m),this._tempMatrix1=new s,this._tempMatrix2=new s,this._tempMatrix3=new s,this.calcMatrix=new s,this.tempTriangle=[{x:0,y:0,width:0},{x:0,y:0,width:0},{x:0,y:0,width:0},{x:0,y:0,width:0}],this.strokeTint={TL:0,TR:0,BL:0,BR:0},this.fillTint={TL:0,TR:0,BL:0,BR:0},this.currentFrame={u0:0,v0:0,u1:1,v1:1},this.firstQuad=[0,0,0,0,0],this.prevQuad=[0,0,0,0,0],this.polygonCache=[]},boot:function(){u.prototype.boot.call(this);var p=this.renderer;this.set1iv("uMainSampler",p.textureIndexes),this.set2f("uResolution",p.width,p.height)},batchSprite:function(p,m,g){this.manager.set(this,p);var C=this._tempMatrix1,M=this._tempMatrix2,b=this._tempMatrix3,w=p.frame,R=w.glTexture,A=w.u0,L=w.v0,D=w.u1,G=w.v1,B=w.x,I=w.y,k=w.cutWidth,z=w.cutHeight,X=w.customPivot,H=p.displayOriginX,Q=p.displayOriginY,J=-H+B,Y=-Q+I;if(p.isCropped){var $=p._crop;($.flipX!==p.flipX||$.flipY!==p.flipY)&&w.updateCropUVs($,p.flipX,p.flipY),A=$.u0,L=$.v0,D=$.u1,G=$.v1,k=$.width,z=$.height,B=$.x,I=$.y,J=-H+B,Y=-Q+I}var V=1,U=1;p.flipX&&(X||(J+=-w.realWidth+H*2),V=-1),p.flipY&&(X||(Y+=-w.realHeight+Q*2),U=-1);var K=p.x,j=p.y;m.roundPixels&&(K=Math.floor(K),j=Math.floor(j)),M.applyITRS(K,j,p.rotation,p.scaleX*V,p.scaleY*U),C.copyFrom(m.matrix),g?(C.multiplyWithOffset(g,-m.scrollX*p.scrollFactorX,-m.scrollY*p.scrollFactorY),M.e=K,M.f=j):(M.e-=m.scrollX*p.scrollFactorX,M.f-=m.scrollY*p.scrollFactorY),C.multiply(M,b);var _=b.setQuad(J,Y,J+k,Y+z,m.renderRoundPixels),tt=f.getTintAppendFloatAlpha,rt=m.alpha,ot=tt(p.tintTopLeft,rt*p._alphaTL),ft=tt(p.tintTopRight,rt*p._alphaTR),ct=tt(p.tintBottomLeft,rt*p._alphaBL),gt=tt(p.tintBottomRight,rt*p._alphaBR);this.shouldFlush(6)&&this.flush();var yt=this.setGameObject(p,w);this.manager.preBatch(p),this.batchQuad(p,_[0],_[1],_[2],_[3],_[4],_[5],_[6],_[7],A,L,D,G,ot,ft,ct,gt,p.tintFill,R,yt),this.manager.postBatch(p)},batchTexture:function(p,m,g,C,M,b,w,R,A,L,D,G,B,I,k,z,X,H,Q,J,Y,$,V,U,K,j,_,tt,rt,ot,ft,ct,gt){gt===void 0&&(gt=!1),this.manager.set(this,p);var yt=this._tempMatrix1,Mt=this._tempMatrix2,Ct=this._tempMatrix3,Wt=H/g+_,Yt=Q/C+tt,Ht=(H+J)/g+_,bt=(Q+Y)/C+tt,kt=w,zt=R,jt=-z,fe=-X;if(p.isCropped){var xe=p._crop,le=xe.width,Ee=xe.height;kt=le,zt=Ee,w=le,R=Ee,H=xe.x,Q=xe.y;var Qe=H,Bt=Q;G&&(Qe=J-xe.x-le),B&&(Bt=Y-xe.y-Ee),Wt=Qe/g+_,Yt=Bt/C+tt,Ht=(Qe+le)/g+_,bt=(Bt+Ee)/C+tt,jt=-z+H,fe=-X+Q}B=B^(!ft&&m.isRenderTexture?1:0),G&&(kt*=-1,jt+=w),B&&(zt*=-1,fe+=R),rt.roundPixels&&(M=Math.floor(M),b=Math.floor(b)),Mt.applyITRS(M,b,D,A,L),yt.copyFrom(rt.matrix),ot?(yt.multiplyWithOffset(ot,-rt.scrollX*I,-rt.scrollY*k),Mt.e=M,Mt.f=b):(Mt.e-=rt.scrollX*I,Mt.f-=rt.scrollY*k),yt.multiply(Mt,Ct);var Ut=Ct.setQuad(jt,fe,jt+kt,fe+zt,rt.renderRoundPixels);ct==null&&(ct=this.setTexture2D(m)),p&&!gt&&this.manager.preBatch(p),this.batchQuad(p,Ut[0],Ut[1],Ut[2],Ut[3],Ut[4],Ut[5],Ut[6],Ut[7],Wt,Yt,Ht,bt,$,V,U,K,j,m,ct),p&&!gt&&this.manager.postBatch(p)},batchTextureFrame:function(p,m,g,C,M,b,w){this.manager.set(this);var R=this._tempMatrix1.copyFrom(b),A=this._tempMatrix2;w?R.multiply(w,A):A=R;var L=A.setQuad(m,g,m+p.width,g+p.height),D=this.setTexture2D(p.source.glTexture);C=f.getTintAppendFloatAlpha(C,M),this.batchQuad(null,L[0],L[1],L[2],L[3],L[4],L[5],L[6],L[7],p.u0,p.v0,p.u1,p.v1,C,C,C,C,0,p.glTexture,D)},batchFillRect:function(p,m,g,C,M,b){this.renderer.pipelines.set(this);var w=this.calcMatrix;b&&b.multiply(M,w);var R=w.setQuad(p,m,p+g,m+C),A=this.fillTint;this.batchQuad(null,R[0],R[1],R[2],R[3],R[4],R[5],R[6],R[7],0,0,1,1,A.TL,A.TR,A.BL,A.BR,2)},batchFillTriangle:function(p,m,g,C,M,b,w,R){this.renderer.pipelines.set(this);var A=this.calcMatrix;R&&R.multiply(w,A);var L=A.getX(p,m),D=A.getY(p,m),G=A.getX(g,C),B=A.getY(g,C),I=A.getX(M,b),k=A.getY(M,b),z=this.fillTint;this.batchTri(null,L,D,G,B,I,k,0,0,1,1,z.TL,z.TR,z.BL,2)},batchStrokeTriangle:function(p,m,g,C,M,b,w,R,A){var L=this.tempTriangle;L[0].x=p,L[0].y=m,L[0].width=w,L[1].x=g,L[1].y=C,L[1].width=w,L[2].x=M,L[2].y=b,L[2].width=w,L[3].x=p,L[3].y=m,L[3].width=w,this.batchStrokePath(L,w,!1,R,A)},batchFillPath:function(p,m,g){this.renderer.pipelines.set(this);var C=this.calcMatrix;g&&g.multiply(m,C);for(var M=p.length,b=this.polygonCache,w,R,A=this.fillTint.TL,L=this.fillTint.TR,D=this.fillTint.BL,G=0;G<M;++G)R=p[G],b.push(R.x,R.y);w=x(b),M=w.length;for(var B=0;B<M;B+=3){var I=w[B+0]*2,k=w[B+1]*2,z=w[B+2]*2,X=b[I+0],H=b[I+1],Q=b[k+0],J=b[k+1],Y=b[z+0],$=b[z+1],V=C.getX(X,H),U=C.getY(X,H),K=C.getX(Q,J),j=C.getY(Q,J),_=C.getX(Y,$),tt=C.getY(Y,$);this.batchTri(null,V,U,K,j,_,tt,0,0,1,1,A,L,D,2)}b.length=0},batchStrokePath:function(p,m,g,C,M){this.renderer.pipelines.set(this),this.prevQuad[4]=0,this.firstQuad[4]=0;for(var b=p.length-1,w=0;w<b;w++){var R=p[w],A=p[w+1];this.batchLine(R.x,R.y,A.x,A.y,R.width/2,A.width/2,m,w,!g&&w===b-1,C,M)}},batchLine:function(p,m,g,C,M,b,w,R,A,L,D){this.renderer.pipelines.set(this);var G=this.calcMatrix;D&&D.multiply(L,G);var B=g-p,I=C-m,k=Math.sqrt(B*B+I*I);if(k!==0){var z=M*(C-m)/k,X=M*(p-g)/k,H=b*(C-m)/k,Q=b*(p-g)/k,J=g-H,Y=C-Q,$=p-z,V=m-X,U=g+H,K=C+Q,j=p+z,_=m+X,tt=G.getX(J,Y),rt=G.getY(J,Y),ot=G.getX($,V),ft=G.getY($,V),ct=G.getX(U,K),gt=G.getY(U,K),yt=G.getX(j,_),Mt=G.getY(j,_),Ct=this.strokeTint,Wt=Ct.TL,Yt=Ct.TR,Ht=Ct.BL,bt=Ct.BR;if(this.batchQuad(null,yt,Mt,ot,ft,tt,rt,ct,gt,0,0,1,1,Wt,Yt,Ht,bt,2),!(w<=2)){var kt=this.prevQuad,zt=this.firstQuad;R>0&&kt[4]?this.batchQuad(null,yt,Mt,ot,ft,kt[0],kt[1],kt[2],kt[3],0,0,1,1,Wt,Yt,Ht,bt,2):(zt[0]=yt,zt[1]=Mt,zt[2]=ot,zt[3]=ft,zt[4]=1),A&&zt[4]?this.batchQuad(null,tt,rt,ct,gt,zt[0],zt[1],zt[2],zt[3],0,0,1,1,Wt,Yt,Ht,bt,2):(kt[0]=tt,kt[1]=rt,kt[2]=ct,kt[3]=gt,kt[4]=1)}}},destroy:function(){return this._tempMatrix1.destroy(),this._tempMatrix2.destroy(),this._tempMatrix3.destroy(),this._tempMatrix1=null,this._tempMatrix1=null,this._tempMatrix1=null,u.prototype.destroy.call(this),this}});n.exports=v},43439:(n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=i(83419),x=i(95540),d=i(4127),l=i(89924),o=i(29100),s=new a({Extends:o,initialize:function(c){c.vertShader=x(c,"vertShader",l),c.fragShader=x(c,"fragShader",d),c.attributes=x(c,"attributes",[{name:"inPosition",size:2},{name:"inLightPosition",size:2},{name:"inLightRadius"},{name:"inLightAttenuation"},{name:"inLightColor",size:4}]),o.call(this,c)},onRender:function(f,c){this.set2f("uResolution",this.width,this.height),this.set1f("uCameraZoom",c.zoom)},batchPointLight:function(f,c,u,v,p,m,g,C,M,b,w,R){var A=f.color,L=f.intensity,D=f.radius,G=f.attenuation,B=A.r*L,I=A.g*L,k=A.b*L,z=c.alpha*f.alpha;this.shouldFlush(6)&&this.flush(),this.currentBatch||this.setTexture2D(),this.batchLightVert(u,v,w,R,D,G,B,I,k,z),this.batchLightVert(p,m,w,R,D,G,B,I,k,z),this.batchLightVert(g,C,w,R,D,G,B,I,k,z),this.batchLightVert(u,v,w,R,D,G,B,I,k,z),this.batchLightVert(g,C,w,R,D,G,B,I,k,z),this.batchLightVert(M,b,w,R,D,G,B,I,k,z),this.currentBatch.count=this.vertexCount-this.currentBatch.start},batchLightVert:function(f,c,u,v,p,m,g,C,M,b){var w=this.vertexViewF32,R=this.vertexCount*this.currentShader.vertexComponentCount-1;w[++R]=f,w[++R]=c,w[++R]=u,w[++R]=v,w[++R]=p,w[++R]=m,w[++R]=g,w[++R]=C,w[++R]=M,w[++R]=b,this.vertexCount++}});n.exports=s},84057:(n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=i(83419),x=i(89422),d=i(95540),l=i(27681),o=i(49627),s=i(29100),f=new a({Extends:s,initialize:function(u){u.renderTarget=d(u,"renderTarget",1),u.fragShader=d(u,"fragShader",l),u.vertShader=d(u,"vertShader",o),u.attributes=d(u,"attributes",[{name:"inPosition",size:2},{name:"inTexCoord",size:2}]),u.batchSize=1,u.vertices=[-1,-1,0,0,-1,1,0,1,1,1,1,1,-1,-1,0,0,1,1,1,1,1,-1,1,0],s.call(this,u),this.isPostFX=!0,this.gameObject,this.controller,this.colorMatrix=new x,this.fullFrame1,this.fullFrame2,this.halfFrame1,this.halfFrame2,this.renderer.isBooted&&(this.manager=this.renderer.pipelines)},bootFX:function(){s.prototype.boot.call(this);var c=this.manager.UTILITY_PIPELINE;this.fullFrame1=c.fullFrame1,this.fullFrame2=c.fullFrame2,this.halfFrame1=c.halfFrame1,this.halfFrame2=c.halfFrame2;var u=this.renderer;this.set1i("uMainSampler",0),this.set2f("uResolution",u.width,u.height);for(var v=this.renderTargets,p=0;p<v.length;p++)v[p].autoResize=!0},postBatch:function(c){return this.hasBooted||(this.bootFX(),this.currentRenderTarget&&this.currentRenderTarget.bind()),this.onDraw(this.currentRenderTarget),this.onPostBatch(c),this},onDraw:function(c){this.bindAndDraw(c)},getController:function(c){return c!==void 0?c:this.controller?this.controller:this},copySprite:function(c,u,v){v===void 0&&(v=!1);var p=this.gl;p.activeTexture(p.TEXTURE0),p.bindTexture(p.TEXTURE_2D,c.texture.webGLTexture);var m=p.getParameter(p.FRAMEBUFFER_BINDING);p.bindFramebuffer(p.FRAMEBUFFER,u.framebuffer.webGLFramebuffer),p.framebufferTexture2D(p.FRAMEBUFFER,p.COLOR_ATTACHMENT0,p.TEXTURE_2D,u.texture.webGLTexture,0),p.clearColor(0,0,0,0),p.clear(p.COLOR_BUFFER_BIT),p.bufferData(p.ARRAY_BUFFER,this.vertexData,p.STATIC_DRAW),p.drawArrays(p.TRIANGLES,0,6),v&&(p.bindTexture(p.TEXTURE_2D,null),p.bindFramebuffer(p.FRAMEBUFFER,m))},copyFrame:function(c,u,v,p,m){this.manager.copyFrame(c,u,v,p,m)},copyToGame:function(c){this.manager.copyToGame(c)},drawFrame:function(c,u,v){this.manager.drawFrame(c,u,v,this.colorMatrix)},blendFrames:function(c,u,v,p,m){this.manager.blendFrames(c,u,v,p,m)},blendFramesAdditive:function(c,u,v,p,m){this.manager.blendFramesAdditive(c,u,v,p,m)},clearFrame:function(c,u){this.manager.clearFrame(c,u)},blitFrame:function(c,u,v,p,m,g){this.manager.blitFrame(c,u,v,p,m,g)},copyFrameRect:function(c,u,v,p,m,g,C,M){this.manager.copyFrameRect(c,u,v,p,m,g,C,M)},bindAndDraw:function(c,u,v,p,m){v===void 0&&(v=!0),p===void 0&&(p=!0);var g=this.gl,C=this.renderer;this.bind(m),this.set1i("uMainSampler",0),u?(g.viewport(0,0,u.width,u.height),g.bindFramebuffer(g.FRAMEBUFFER,u.framebuffer.webGLFramebuffer),g.framebufferTexture2D(g.FRAMEBUFFER,g.COLOR_ATTACHMENT0,g.TEXTURE_2D,u.texture.webGLTexture,0),v&&(p?g.clearColor(0,0,0,0):g.clearColor(0,0,0,1),g.clear(g.COLOR_BUFFER_BIT))):(C.popFramebuffer(!1,!1),C.currentFramebuffer||g.viewport(0,0,C.width,C.height)),C.restoreStencilMask(),g.activeTexture(g.TEXTURE0),g.bindTexture(g.TEXTURE_2D,c.texture.webGLTexture),g.bufferData(g.ARRAY_BUFFER,this.vertexData,g.STATIC_DRAW),g.drawArrays(g.TRIANGLES,0,6),u&&(g.bindTexture(g.TEXTURE_2D,null),g.bindFramebuffer(g.FRAMEBUFFER,C.currentFramebuffer.webGLFramebuffer))},destroy:function(){return this.controller&&this.controller.destroy(),this.gameObject=null,this.controller=null,this.colorMatrix=null,this.fullFrame1=null,this.fullFrame2=null,this.halfFrame1=null,this.halfFrame2=null,this.manager.removePostPipeline(this),s.prototype.destroy.call(this),this}});n.exports=f},43558:(n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=i(10312),x=i(67502),d=i(83419),l=i(96293),o=i(95540),s=i(57516),f=i(27681),c=i(87841),u=i(32302),v=i(45561),p=i(60722),m=i(29100),g=new d({Extends:s,initialize:function(M){var b=o(M,"fragShader",f),w=o(M,"vertShader",p),R=o(M,"drawShader",f),A=[{name:"DrawSprite",fragShader:v,vertShader:p},{name:"CopySprite",fragShader:b,vertShader:w},{name:"DrawGame",fragShader:R,vertShader:p},{name:"ColorMatrix",fragShader:l}],L=o(M,"shaders",[]);M.shaders=A.concat(L),M.vertShader||(M.vertShader=w),M.batchSize=1,s.call(this,M),this.isPreFX=!0,this.customMainSampler=null,this.drawSpriteShader,this.copyShader,this.gameShader,this.colorMatrixShader,this.quadVertexData,this.quadVertexBuffer,this.quadVertexViewF32,this.spriteBounds=new c,this.targetBounds=new c,this.fsTarget,this.tempSprite,this.renderer.isBooted&&(this.manager=this.renderer.pipelines,this.boot())},boot:function(){m.prototype.boot.call(this);var C=this.shaders,M=this.renderer;this.drawSpriteShader=C[0],this.copyShader=C[1],this.gameShader=C[2],this.colorMatrixShader=C[3],this.fsTarget=new u(M,M.width,M.height,1,0,!0,!0),this.renderTargets=this.manager.renderTargets.concat(this.fsTarget);var b=new ArrayBuffer(168);this.quadVertexData=b,this.quadVertexViewF32=new Float32Array(b),this.quadVertexBuffer=M.createVertexBuffer(b,this.gl.STATIC_DRAW),this.onResize(M.width,M.height),this.currentShader=this.copyShader,this.set2f("uResolution",M.width,M.height)},onResize:function(C,M){var b=this.quadVertexViewF32;b[1]=M,b[22]=M,b[14]=C,b[28]=C,b[35]=C,b[36]=M},batchQuad:function(C,M,b,w,R,A,L,D,G,B,I,k,z,X,H,Q,J,Y,$){var V=Math.min(M,w,A,D),U=Math.min(b,R,L,G),K=Math.max(M,w,A,D),j=Math.max(b,R,L,G),_=K-V,tt=j-U,rt=this.spriteBounds.setTo(V,U,_,tt),ot=C?C.preFX.padding:0,ft=_+ot*2,ct=tt+ot*2,gt=Math.abs(Math.max(ft,ct)),yt=this.manager.getRenderTarget(gt),Mt=this.targetBounds.setTo(0,0,yt.width,yt.height);x(Mt,Math.round(rt.centerX),Math.round(rt.centerY)),this.tempSprite=C;var Ct=this.gl,Wt=this.renderer;Wt.clearStencilMask(),this.setShader(this.drawSpriteShader),this.set1i("uMainSampler",0),this.set2f("uResolution",Wt.width,Wt.height),this.flipProjectionMatrix(!0),C&&(this.onDrawSprite(C,yt),C.preFX.onFX(this));var Yt=this.fsTarget;return this.flush(),Ct.viewport(0,0,Wt.width,Wt.height),Ct.bindFramebuffer(Ct.FRAMEBUFFER,Yt.framebuffer.webGLFramebuffer),Ct.framebufferTexture2D(Ct.FRAMEBUFFER,Ct.COLOR_ATTACHMENT0,Ct.TEXTURE_2D,Yt.texture.webGLTexture,0),Ct.clearColor(0,0,0,0),Ct.clear(Ct.COLOR_BUFFER_BIT),this.setTexture2D($),this.batchVert(M,b,B,I,0,Y,X),this.batchVert(w,R,B,z,0,Y,Q),this.batchVert(A,L,k,z,0,Y,J),this.batchVert(M,b,B,I,0,Y,X),this.batchVert(A,L,k,z,0,Y,J),this.batchVert(D,G,k,I,0,Y,H),this.flush(),this.flipProjectionMatrix(!1),Ct.activeTexture(Ct.TEXTURE0),Ct.bindTexture(Ct.TEXTURE_2D,yt.texture.webGLTexture),Ct.copyTexSubImage2D(Ct.TEXTURE_2D,0,0,0,Mt.x,Mt.y,Mt.width,Mt.height),Ct.bindFramebuffer(Ct.FRAMEBUFFER,null),Ct.bindTexture(Ct.TEXTURE_2D,null),this.onBatch(C),this.currentShader=this.copyShader,this.onDraw(yt,this.manager.getSwapRenderTarget(),this.manager.getAltSwapRenderTarget()),!0},onDrawSprite:function(){},onCopySprite:function(){},copySprite:function(C,M,b,w,R,A,L){b===void 0&&(b=!0),w===void 0&&(w=!0),R===void 0&&(R=!1),L===void 0&&(L=this.copyShader);var D=this.gl,G=this.tempSprite;A&&(L=this.colorMatrixShader),this.currentShader=L;var B=this.setVertexBuffer(this.quadVertexBuffer);L.bind(B,!1);var I=this.renderer;if(this.set1i("uMainSampler",0),this.set2f("uResolution",I.width,I.height),G.preFX.onFXCopy(this),this.onCopySprite(C,M,G),A&&(this.set1fv("uColorMatrix",A.getData()),this.set1f("uAlpha",A.alpha)),D.activeTexture(D.TEXTURE0),D.bindTexture(D.TEXTURE_2D,C.texture.webGLTexture),C.height>M.height)D.viewport(0,0,C.width,C.height),this.setTargetUVs(C,M);else{var k=M.height-C.height;D.viewport(0,k,C.width,C.height),this.resetUVs()}if(D.bindFramebuffer(D.FRAMEBUFFER,M.framebuffer.webGLFramebuffer),D.framebufferTexture2D(D.FRAMEBUFFER,D.COLOR_ATTACHMENT0,D.TEXTURE_2D,M.texture.webGLTexture,0),b&&(D.clearColor(0,0,0,+!w),D.clear(D.COLOR_BUFFER_BIT)),R){var z=this.renderer.currentBlendMode;this.renderer.setBlendMode(a.ERASE)}D.bufferData(D.ARRAY_BUFFER,this.quadVertexData,D.STATIC_DRAW),D.drawArrays(D.TRIANGLES,0,6),R&&this.renderer.setBlendMode(z),D.bindFramebuffer(D.FRAMEBUFFER,null)},copy:function(C,M){var b=this.gl;this.set1i("uMainSampler",0),b.activeTexture(b.TEXTURE0),b.bindTexture(b.TEXTURE_2D,C.texture.webGLTexture),b.viewport(0,0,C.width,C.height),this.setUVs(0,0,0,1,1,1,1,0),b.bindFramebuffer(b.FRAMEBUFFER,M.framebuffer.webGLFramebuffer),b.framebufferTexture2D(b.FRAMEBUFFER,b.COLOR_ATTACHMENT0,b.TEXTURE_2D,M.texture.webGLTexture,0),b.clearColor(0,0,0,0),b.clear(b.COLOR_BUFFER_BIT),b.bufferData(b.ARRAY_BUFFER,this.quadVertexData,b.STATIC_DRAW),b.drawArrays(b.TRIANGLES,0,6),b.bindFramebuffer(b.FRAMEBUFFER,null)},blendFrames:function(C,M,b,w,R){this.manager.blendFrames(C,M,b,w,R)},blendFramesAdditive:function(C,M,b,w,R){this.manager.blendFramesAdditive(C,M,b,w,R)},drawToGame:function(C){this.currentShader=null,this.setShader(this.copyShader),this.bindAndDraw(C)},copyToGame:function(C){this.currentShader=null,this.setShader(this.gameShader),this.bindAndDraw(C)},bindAndDraw:function(C){var M=this.gl,b=this.renderer;this.set1i("uMainSampler",0),this.customMainSampler?this.setTexture2D(this.customMainSampler):this.setTexture2D(C.texture);var w=this._tempMatrix1.loadIdentity(),R=this.targetBounds.x,A=this.targetBounds.y,L=R+C.width,D=A+C.height,G=w.getX(R,A),B=w.getX(R,D),I=w.getX(L,D),k=w.getX(L,A),z=w.getY(R,A),X=w.getY(R,D),H=w.getY(L,D),Q=w.getY(L,A),J=16777215;this.batchVert(G,z,0,0,0,0,J),this.batchVert(B,X,0,1,0,0,J),this.batchVert(I,H,1,1,0,0,J),this.batchVert(G,z,0,0,0,0,J),this.batchVert(I,H,1,1,0,0,J),this.batchVert(k,Q,1,0,0,0,J),b.restoreFramebuffer(!1,!0),b.currentFramebuffer||M.viewport(0,0,b.width,b.height),b.restoreStencilMask(),this.flush(),this.tempSprite=null},onDraw:function(C){this.drawToGame(C)},setUVs:function(C,M,b,w,R,A,L,D){var G=this.quadVertexViewF32;G[2]=C,G[3]=M,G[9]=b,G[10]=w,G[16]=R,G[17]=A,G[23]=C,G[24]=M,G[30]=R,G[31]=A,G[37]=L,G[38]=D},setTargetUVs:function(C,M){var b=M.height/C.height;b>.5?b=.5-(b-.5):b=.5+(.5-b),this.setUVs(0,b,0,1+b,1,1+b,1,b)},resetUVs:function(){this.setUVs(0,0,0,1,1,1,1,0)},destroy:function(){return this.renderer.deleteBuffer(this.quadVertexBuffer),this.drawSpriteShader=null,this.copyShader=null,this.gameShader=null,this.colorMatrixShader=null,this.quadVertexData=null,this.quadVertexBuffer=null,this.quadVertexViewF32=null,this.fsTarget=null,this.tempSprite=null,s.prototype.destroy.call(this),this}});n.exports=g},81041:(n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=i(83419),x=i(95540),d=i(57516),l=new a({Extends:d,initialize:function(s){s.topology=5,s.batchSize=x(s,"batchSize",256),d.call(this,s)}});n.exports=l},12385:(n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=i(83419),x=i(95540),d=i(57516),l=i(45561),o=i(60722),s=i(29100),f=new a({Extends:d,initialize:function(u){u.fragShader=x(u,"fragShader",l),u.vertShader=x(u,"vertShader",o),u.forceZero=!0,d.call(this,u)},boot:function(){s.prototype.boot.call(this);var c=this.renderer;this.set1i("uMainSampler",0),this.set2f("uResolution",c.width,c.height)}});n.exports=f},7589:(n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=i(35407),x=i(10312),d=i(83419),l=i(89422),o=i(96293),s=i(36682),f=i(95540),c=i(48247),u=i(49627),v=i(29100),p=new d({Extends:v,initialize:function(g){g.renderTarget=f(g,"renderTarget",[{scale:1,autoResize:!0},{scale:1,autoResize:!0},{scale:.5,autoResize:!0},{scale:.5,autoResize:!0}]),g.vertShader=f(g,"vertShader",u),g.shaders=f(g,"shaders",[{name:"Copy",fragShader:s},{name:"AddBlend",fragShader:a},{name:"LinearBlend",fragShader:c},{name:"ColorMatrix",fragShader:o}]),g.attributes=f(g,"attributes",[{name:"inPosition",size:2},{name:"inTexCoord",size:2}]),g.vertices=[-1,-1,0,0,-1,1,0,1,1,1,1,1,-1,-1,0,0,1,1,1,1,1,-1,1,0],g.batchSize=1,v.call(this,g),this.colorMatrix=new l,this.copyShader,this.addShader,this.linearShader,this.colorMatrixShader,this.fullFrame1,this.fullFrame2,this.halfFrame1,this.halfFrame2},boot:function(){v.prototype.boot.call(this);var m=this.shaders,g=this.renderTargets;this.copyShader=m[0],this.addShader=m[1],this.linearShader=m[2],this.colorMatrixShader=m[3],this.fullFrame1=g[0],this.fullFrame2=g[1],this.halfFrame1=g[2],this.halfFrame2=g[3]},copyFrame:function(m,g,C,M,b){C===void 0&&(C=1),M===void 0&&(M=!0),b===void 0&&(b=!0);var w=this.gl;this.setShader(this.copyShader),this.set1i("uMainSampler",0),this.set1f("uBrightness",C),w.activeTexture(w.TEXTURE0),w.bindTexture(w.TEXTURE_2D,m.texture.webGLTexture),g?(w.viewport(0,0,g.width,g.height),w.bindFramebuffer(w.FRAMEBUFFER,g.framebuffer.webGLFramebuffer),w.framebufferTexture2D(w.FRAMEBUFFER,w.COLOR_ATTACHMENT0,w.TEXTURE_2D,g.texture.webGLTexture,0)):w.viewport(0,0,m.width,m.height),M&&(b?w.clearColor(0,0,0,0):w.clearColor(0,0,0,1),w.clear(w.COLOR_BUFFER_BIT)),w.bufferData(w.ARRAY_BUFFER,this.vertexData,w.STATIC_DRAW),w.drawArrays(w.TRIANGLES,0,6),w.bindFramebuffer(w.FRAMEBUFFER,null),w.bindTexture(w.TEXTURE_2D,null)},blitFrame:function(m,g,C,M,b,w,R){C===void 0&&(C=1),M===void 0&&(M=!0),b===void 0&&(b=!0),w===void 0&&(w=!1),R===void 0&&(R=!1);var A=this.gl;if(this.setShader(this.copyShader),this.set1i("uMainSampler",0),this.set1f("uBrightness",C),A.activeTexture(A.TEXTURE0),A.bindTexture(A.TEXTURE_2D,m.texture.webGLTexture),m.height>g.height)A.viewport(0,0,m.width,m.height),this.setTargetUVs(m,g);else{var L=g.height-m.height;A.viewport(0,L,m.width,m.height)}if(A.bindFramebuffer(A.FRAMEBUFFER,g.framebuffer.webGLFramebuffer),A.framebufferTexture2D(A.FRAMEBUFFER,A.COLOR_ATTACHMENT0,A.TEXTURE_2D,g.texture.webGLTexture,0),M&&(b?A.clearColor(0,0,0,0):A.clearColor(0,0,0,1),A.clear(A.COLOR_BUFFER_BIT)),w){var D=this.renderer.currentBlendMode;this.renderer.setBlendMode(x.ERASE)}R&&this.flipY(),A.bufferData(A.ARRAY_BUFFER,this.vertexData,A.STATIC_DRAW),A.drawArrays(A.TRIANGLES,0,6),w&&this.renderer.setBlendMode(D),A.bindFramebuffer(A.FRAMEBUFFER,null),A.bindTexture(A.TEXTURE_2D,null),this.resetUVs()},copyFrameRect:function(m,g,C,M,b,w,R,A){R===void 0&&(R=!0),A===void 0&&(A=!0);var L=this.gl;L.bindFramebuffer(L.FRAMEBUFFER,m.framebuffer.webGLFramebuffer),L.framebufferTexture2D(L.FRAMEBUFFER,L.COLOR_ATTACHMENT0,L.TEXTURE_2D,m.texture.webGLTexture,0),R&&(A?L.clearColor(0,0,0,0):L.clearColor(0,0,0,1),L.clear(L.COLOR_BUFFER_BIT)),L.activeTexture(L.TEXTURE0),L.bindTexture(L.TEXTURE_2D,g.texture.webGLTexture),L.copyTexSubImage2D(L.TEXTURE_2D,0,0,0,C,M,b,w),L.bindFramebuffer(L.FRAMEBUFFER,null),L.bindTexture(L.TEXTURE_2D,null)},copyToGame:function(m){var g=this.gl;this.setShader(this.copyShader),this.set1i("uMainSampler",0),this.set1f("uBrightness",1),this.renderer.popFramebuffer(),g.activeTexture(g.TEXTURE0),g.bindTexture(g.TEXTURE_2D,m.texture.webGLTexture),g.bufferData(g.ARRAY_BUFFER,this.vertexData,g.STATIC_DRAW),g.drawArrays(g.TRIANGLES,0,6)},drawFrame:function(m,g,C,M){C===void 0&&(C=!0),M===void 0&&(M=this.colorMatrix);var b=this.gl;this.setShader(this.colorMatrixShader),this.set1i("uMainSampler",0),this.set1fv("uColorMatrix",M.getData()),this.set1f("uAlpha",M.alpha),b.activeTexture(b.TEXTURE0),b.bindTexture(b.TEXTURE_2D,m.texture.webGLTexture),g?(b.viewport(0,0,g.width,g.height),b.bindFramebuffer(b.FRAMEBUFFER,g.framebuffer.webGLFramebuffer),b.framebufferTexture2D(b.FRAMEBUFFER,b.COLOR_ATTACHMENT0,b.TEXTURE_2D,g.texture.webGLTexture,0)):b.viewport(0,0,m.width,m.height),C?b.clearColor(0,0,0,0):b.clearColor(0,0,0,1),b.clear(b.COLOR_BUFFER_BIT),b.bufferData(b.ARRAY_BUFFER,this.vertexData,b.STATIC_DRAW),b.drawArrays(b.TRIANGLES,0,6),b.bindFramebuffer(b.FRAMEBUFFER,null),b.bindTexture(b.TEXTURE_2D,null)},blendFrames:function(m,g,C,M,b,w){M===void 0&&(M=1),b===void 0&&(b=!0),w===void 0&&(w=this.linearShader);var R=this.gl;this.setShader(w),this.set1i("uMainSampler1",0),this.set1i("uMainSampler2",1),this.set1f("uStrength",M),R.activeTexture(R.TEXTURE0),R.bindTexture(R.TEXTURE_2D,m.texture.webGLTexture),R.activeTexture(R.TEXTURE1),R.bindTexture(R.TEXTURE_2D,g.texture.webGLTexture),C?(R.bindFramebuffer(R.FRAMEBUFFER,C.framebuffer.webGLFramebuffer),R.framebufferTexture2D(R.FRAMEBUFFER,R.COLOR_ATTACHMENT0,R.TEXTURE_2D,C.texture.webGLTexture,0),R.viewport(0,0,C.width,C.height)):R.viewport(0,0,m.width,m.height),b?R.clearColor(0,0,0,0):R.clearColor(0,0,0,1),R.clear(R.COLOR_BUFFER_BIT),R.bufferData(R.ARRAY_BUFFER,this.vertexData,R.STATIC_DRAW),R.drawArrays(R.TRIANGLES,0,6),R.bindFramebuffer(R.FRAMEBUFFER,null),R.bindTexture(R.TEXTURE_2D,null)},blendFramesAdditive:function(m,g,C,M,b){this.blendFrames(m,g,C,M,b,this.addShader)},clearFrame:function(m,g){g===void 0&&(g=!0);var C=this.gl;C.viewport(0,0,m.width,m.height),C.bindFramebuffer(C.FRAMEBUFFER,m.framebuffer.webGLFramebuffer),g?C.clearColor(0,0,0,0):C.clearColor(0,0,0,1),C.clear(C.COLOR_BUFFER_BIT);var M=this.renderer.currentFramebuffer;C.bindFramebuffer(C.FRAMEBUFFER,M.webGLFramebuffer)},setUVs:function(m,g,C,M,b,w,R,A){var L=this.vertexViewF32;L[2]=m,L[3]=g,L[6]=C,L[7]=M,L[10]=b,L[11]=w,L[14]=m,L[15]=g,L[18]=b,L[19]=w,L[22]=R,L[23]=A},setTargetUVs:function(m,g){var C=g.height/m.height;C>.5?C=.5-(C-.5):C=.5+(.5-C),this.setUVs(0,C,0,1+C,1,1+C,1,C)},flipX:function(){this.setUVs(1,0,1,1,0,1,0,0)},flipY:function(){this.setUVs(0,1,0,0,1,0,1,1)},resetUVs:function(){this.setUVs(0,0,0,1,1,1,1,0)}});n.exports=p},36060:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T={BITMAPMASK_PIPELINE:"BitmapMaskPipeline",LIGHT_PIPELINE:"Light2D",POINTLIGHT_PIPELINE:"PointLightPipeline",SINGLE_PIPELINE:"SinglePipeline",MULTI_PIPELINE:"MultiPipeline",ROPE_PIPELINE:"RopePipeline",GRAPHICS_PIPELINE:"GraphicsPipeline",POSTFX_PIPELINE:"PostFXPipeline",UTILITY_PIPELINE:"UtilityPipeline",MOBILE_PIPELINE:"MobilePipeline",FX_PIPELINE:"FxPipeline"};n.exports=T},84817:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="pipelineafterflush"},36712:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="pipelinebeforeflush"},40285:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="pipelinebind"},65918:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="pipelineboot"},92852:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="pipelinedestroy"},56072:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="pipelinerebind"},57566:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="pipelineresize"},77085:(n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports={AFTER_FLUSH:i(84817),BEFORE_FLUSH:i(36712),BIND:i(40285),BOOT:i(65918),DESTROY:i(92852),REBIND:i(56072),RESIZE:i(57566)}},54812:(n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=i(83419),x=i(99155),d=i(84057),l=new a({Extends:d,initialize:function(s){d.call(this,{game:s,fragShader:x}),this.amount=1},onPreRender:function(o,s){o=this.getController(o),this.set1f("amount",o.amount,s)}});n.exports=l},67329:(n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=i(83419),x=i(24400),d=i(84057),l=new a({Extends:d,initialize:function(s){d.call(this,{game:s,fragShader:x}),this.steps=4,this.offsetX=1,this.offsetY=1,this.blurStrength=1,this.strength=1,this.glcolor=[1,1,1]},onPreRender:function(o){o=this.getController(o),this.set1f("strength",o.blurStrength),this.set3fv("color",o.glcolor)},onDraw:function(o){var s=this.getController(),f=this.fullFrame1,c=this.fullFrame2;this.copyFrame(o,c);for(var u=2/o.width*s.offsetX,v=2/o.height*s.offsetY,p=0;p<s.steps;p++)this.set2f("offset",u,0),this.copySprite(o,f),this.set2f("offset",0,v),this.copySprite(f,o);this.blendFrames(c,o,f,s.strength),this.copyToGame(f)}});n.exports=l},8861:(n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=i(83419),x=i(41514),d=i(51078),l=i(94328),o=i(84057),s=new a({Extends:o,initialize:function(c){o.call(this,{game:c,shaders:[{name:"Gaussian5",fragShader:x},{name:"Gaussian9",fragShader:d},{name:"Gaussian13",fragShader:l}]}),this.activeShader=this.shaders[0],this.x=2,this.y=2,this.steps=4,this.strength=1,this.glcolor=[1,1,1]},setQualityLow:function(){return this.activeShader=this.shaders[0],this},setQualityMedium:function(){return this.activeShader=this.shaders[1],this},setQualityHigh:function(){return this.activeShader=this.shaders[2],this},onDraw:function(f){var c=this.getController(),u=this.gl,v=this.fullFrame1,p=u.getParameter(u.FRAMEBUFFER_BINDING);this.bind(this.shaders[c.quality]),u.activeTexture(u.TEXTURE0),u.viewport(0,0,f.width,f.height),this.set1i("uMainSampler",0),this.set2f("resolution",f.width,f.height),this.set1f("strength",c.strength),this.set3fv("color",c.glcolor);for(var m=0;m<c.steps;m++)this.set2f("offset",c.x,0),this.copySprite(f,v),this.set2f("offset",0,c.y),this.copySprite(v,f);u.bindFramebuffer(u.FRAMEBUFFER,p),u.bindTexture(u.TEXTURE_2D,null),this.copyToGame(f)}});n.exports=s},51051:(n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=i(83419),x=i(90610),d=i(84057),l=new a({Extends:d,initialize:function(s){d.call(this,{game:s,fragShader:x}),this.isTiltShift=!1,this.strength=1,this.blurX=1,this.blurY=1,this.radius=.5,this.amount=1,this.contrast=.2},onPreRender:function(o,s,f,c){o=this.getController(o),this.set1f("radius",o.radius,s),this.set1f("amount",o.amount,s),this.set1f("contrast",o.contrast,s),this.set1f("strength",o.strength,s),this.set2f("blur",o.blurX,o.blurY,s),this.setBoolean("isTiltShift",o.isTiltShift,s),f&&c&&this.set2f("resolution",f,c,s)},onDraw:function(o){this.set2f("resolution",o.width,o.height),this.bindAndDraw(o)}});n.exports=l},89428:(n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=i(83419),x=i(91899),d=i(84057),l=new a({Extends:d,initialize:function(s){d.call(this,{game:s,fragShader:x}),this.scale=1,this.feather=.005,this.thickness=8,this.glcolor=[1,.2,.7],this.glcolor2=[1,0,0,.4]},onPreRender:function(o,s,f,c){o=this.getController(o),this.set1f("scale",o.scale,s),this.set1f("feather",o.feather,s),this.set1f("thickness",o.thickness,s),this.set3fv("color",o.glcolor,s),this.set4fv("backgroundColor",o.glcolor2,s),f&&c&&this.set2f("resolution",f,c,s)},onDraw:function(o){this.set2f("resolution",o.width,o.height),this.bindAndDraw(o)}});n.exports=l},88904:(n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=i(83419),x=i(84057),d=new a({Extends:x,initialize:function(o){x.call(this,{game:o})},onDraw:function(l){var o=this.fullFrame1;this.controller?this.manager.drawFrame(l,o,!0,this.controller):this.drawFrame(l,o),this.copyToGame(o)}});n.exports=d},63563:(n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=i(83419),x=i(47838),d=i(84057),l=new a({Extends:d,initialize:function(s){d.call(this,{game:s,fragShader:x}),this.x=.005,this.y=.005,this.glTexture},onBoot:function(){this.setTexture("__WHITE")},setTexture:function(o){var s=this.game.textures.getFrame(o);s&&(this.glTexture=s.glTexture)},onDraw:function(o){var s=this.getController(),f=this.fullFrame1;this.bind(),this.set1i("uMainSampler",0),this.set1i("uDisplacementSampler",1),this.set2f("amount",s.x,s.y),this.bindTexture(s.glTexture,1),this.copySprite(o,f),this.copyToGame(f)}});n.exports=l},94045:(n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=i(83419),x=i(95540),d=i(98656),l=i(84057),o=i(70554),s=new a({Extends:l,initialize:function(c,u){var v=x(u,"quality",.1),p=x(u,"distance",10);l.call(this,{game:c,fragShader:o.setGlowQuality(d,c,v,p)}),this.outerStrength=4,this.innerStrength=0,this.knockout=!1,this.glcolor=[1,1,1,1]},onPreRender:function(f,c,u,v){f=this.getController(f),this.set1f("outerStrength",f.outerStrength,c),this.set1f("innerStrength",f.innerStrength,c),this.set4fv("glowColor",f.glcolor,c),this.setBoolean("knockout",f.knockout,c),u&&v&&this.set2f("resolution",u,v,c)},onDraw:function(f){this.set2f("resolution",f.width,f.height),this.bindAndDraw(f)}});n.exports=s},74088:(n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=i(83419),x=i(70463),d=i(84057),l=new a({Extends:d,initialize:function(s){d.call(this,{game:s,fragShader:x}),this.alpha=.2,this.size=0,this.fromX=0,this.fromY=0,this.toX=0,this.toY=1,this.glcolor1=[255,0,0],this.glcolor2=[0,255,0]},onPreRender:function(o,s){o=this.getController(o),this.set1f("alpha",o.alpha,s),this.set1i("size",o.size,s),this.set3fv("color1",o.glcolor1,s),this.set3fv("color2",o.glcolor2,s),this.set2f("positionFrom",o.fromX,o.fromY,s),this.set2f("positionTo",o.toX,o.toY,s)}});n.exports=l},99636:(n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=i(83419),x=i(50831),d=i(84057),l=new a({Extends:d,initialize:function(s){d.call(this,{game:s,fragShader:x}),this.amount=1},onPreRender:function(o,s,f,c){o=this.getController(o),this.set1f("amount",o.amount,s),f&&c&&this.set2f("resolution",f,c,s)},onDraw:function(o){this.set2f("resolution",o.width,o.height),this.bindAndDraw(o)}});n.exports=l},34700:(n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=i(83419),x=i(92595),d=i(84057),l=new a({Extends:d,initialize:function(s){d.call(this,{game:s,fragShader:x}),this.x=0,this.y=0,this.decay=.1,this.power=1,this.glcolor=[0,0,0,1],this.samples=6,this.intensity=1},onPreRender:function(o,s){o=this.getController(o);var f=o.samples;this.set1i("samples",f,s),this.set1f("intensity",o.intensity,s),this.set1f("decay",o.decay,s),this.set1f("power",o.power/f,s),this.set2f("lightPosition",o.x,o.y,s),this.set4fv("color",o.glcolor,s)}});n.exports=l},91157:(n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=i(83419),x=i(72464),d=i(84057),l=new a({Extends:d,initialize:function(s){d.call(this,{game:s,fragShader:x}),this.speed=.5,this.lineWidth=.5,this.gradient=3,this.reveal=!1},onPreRender:function(o,s,f,c){o=this.getController(o),this.setTime("time",s),this.set1f("speed",o.speed,s),this.set1f("lineWidth",o.lineWidth,s),this.set1f("gradient",o.gradient,s),this.setBoolean("reveal",o.reveal,s),f&&c&&this.set2f("resolution",f,c,s)},onDraw:function(o){this.set2f("resolution",o.width,o.height),this.bindAndDraw(o)}});n.exports=l},27797:(n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=i(83419),x=i(39249),d=i(84057),l=new a({Extends:d,initialize:function(s){d.call(this,{game:s,fragShader:x}),this.x=.5,this.y=.5,this.radius=.5,this.strength=.5},onPreRender:function(o,s){o=this.getController(o),this.set1f("radius",o.radius,s),this.set1f("strength",o.strength,s),this.set2f("position",o.x,o.y,s)}});n.exports=l},67603:(n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=i(83419),x=i(2878),d=i(84057),l=new a({Extends:d,initialize:function(s){d.call(this,{game:s,fragShader:x}),this.progress=0,this.wipeWidth=.1,this.direction=0,this.axis=0,this.reveal=!1},onPreRender:function(o,s){o=this.getController(o);var f=o.progress,c=o.wipeWidth,u=o.direction,v=o.axis;this.set4f("config",f,c,u,v,s),this.setBoolean("reveal",o.reveal,s)}});n.exports=l},58918:(n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a={Barrel:i(54812),Bloom:i(67329),Blur:i(8861),Bokeh:i(51051),Circle:i(89428),ColorMatrix:i(88904),Displacement:i(63563),Glow:i(94045),Gradient:i(74088),Pixelate:i(99636),Shadow:i(34700),Shine:i(91157),Vignette:i(27797),Wipe:i(67603)};n.exports=a},96615:(n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=i(36060),x=i(79291),d={FX:i(58918),BitmapMaskPipeline:i(31302),Events:i(77085),FXPipeline:i(92651),LightPipeline:i(96569),MobilePipeline:i(56527),MultiPipeline:i(57516),PointLightPipeline:i(43439),PostFXPipeline:i(84057),PreFXPipeline:i(43558),RopePipeline:i(81041),SinglePipeline:i(12385),UtilityPipeline:i(7589)};d=x(!1,d,a),n.exports=d},35407:n=>{n.exports=["#define SHADER_NAME PHASER_ADD_BLEND_FS","precision mediump float;","uniform sampler2D uMainSampler1;","uniform sampler2D uMainSampler2;","uniform float uStrength;","varying vec2 outTexCoord;","void main ()","{","    vec4 frame1 = texture2D(uMainSampler1, outTexCoord);","    vec4 frame2 = texture2D(uMainSampler2, outTexCoord);","    gl_FragColor = frame1 + frame2 * uStrength;","}"].join(`
`)},78908:n=>{n.exports=["#define SHADER_NAME PHASER_BITMAP_MASK_FS","precision mediump float;","uniform vec2 uResolution;","uniform sampler2D uMainSampler;","uniform sampler2D uMaskSampler;","uniform bool uInvertMaskAlpha;","void main ()","{","    vec2 uv = gl_FragCoord.xy / uResolution;","    vec4 mainColor = texture2D(uMainSampler, uv);","    vec4 maskColor = texture2D(uMaskSampler, uv);","    if (!uInvertMaskAlpha)","    {","        mainColor *= maskColor.a;","    }","    else","    {","        mainColor *= (1.0 - maskColor.a);","    }","    gl_FragColor = mainColor;","}"].join(`
`)},85191:n=>{n.exports=["#define SHADER_NAME PHASER_BITMAP_MASK_VS","precision mediump float;","attribute vec2 inPosition;","void main ()","{","    gl_Position = vec4(inPosition, 0.0, 1.0);","}"].join(`
`)},96293:n=>{n.exports=["#define SHADER_NAME PHASER_COLORMATRIX_FS","precision mediump float;","uniform sampler2D uMainSampler;","uniform float uColorMatrix[20];","uniform float uAlpha;","varying vec2 outTexCoord;","void main ()","{","    vec4 c = texture2D(uMainSampler, outTexCoord);","    if (uAlpha == 0.0)","    {","        gl_FragColor = c;","        return;","    }","    if (c.a > 0.0)","    {","        c.rgb /= c.a;","    }","    vec4 result;","    result.r = (uColorMatrix[0] * c.r) + (uColorMatrix[1] * c.g) + (uColorMatrix[2] * c.b) + (uColorMatrix[3] * c.a) + uColorMatrix[4];","    result.g = (uColorMatrix[5] * c.r) + (uColorMatrix[6] * c.g) + (uColorMatrix[7] * c.b) + (uColorMatrix[8] * c.a) + uColorMatrix[9];","    result.b = (uColorMatrix[10] * c.r) + (uColorMatrix[11] * c.g) + (uColorMatrix[12] * c.b) + (uColorMatrix[13] * c.a) + uColorMatrix[14];","    result.a = (uColorMatrix[15] * c.r) + (uColorMatrix[16] * c.g) + (uColorMatrix[17] * c.b) + (uColorMatrix[18] * c.a) + uColorMatrix[19];","    vec3 rgb = mix(c.rgb, result.rgb, uAlpha);","    rgb *= result.a;","    gl_FragColor = vec4(rgb, result.a);","}"].join(`
`)},36682:n=>{n.exports=["#define SHADER_NAME PHASER_COPY_FS","precision mediump float;","uniform sampler2D uMainSampler;","uniform float uBrightness;","varying vec2 outTexCoord;","void main ()","{","    gl_FragColor = texture2D(uMainSampler, outTexCoord) * uBrightness;","}"].join(`
`)},99155:n=>{n.exports=["#define SHADER_NAME BARREL_FS","precision mediump float;","uniform sampler2D uMainSampler;","uniform float amount;","varying vec2 outTexCoord;","vec2 Distort(vec2 p)","{","    float theta  = atan(p.y, p.x);","    float radius = length(p);","    radius = pow(radius, amount);","    p.x = radius * cos(theta);","    p.y = radius * sin(theta);","    return 0.5 * (p + 1.0);","}","void main()","{","    vec2 xy = 2.0 * outTexCoord - 1.0;","    vec2 texCoord = outTexCoord;","    if (length(xy) < 1.0)","    {","        texCoord = Distort(xy);","    }","    gl_FragColor = texture2D(uMainSampler, texCoord);","}"].join(`
`)},24400:n=>{n.exports=["#define SHADER_NAME BLOOM_FS","precision mediump float;","uniform sampler2D uMainSampler;","uniform vec2 offset;","uniform float strength;","uniform vec3 color;","varying vec2 outTexCoord;","void main ()","{","    vec4 sum = texture2D(uMainSampler, outTexCoord) * 0.204164 * strength;","    sum = sum + texture2D(uMainSampler, outTexCoord + offset * 1.407333) * 0.304005;","    sum = sum + texture2D(uMainSampler, outTexCoord - offset * 1.407333) * 0.304005;","    sum = sum + texture2D(uMainSampler, outTexCoord + offset * 3.294215) * 0.093913;","    gl_FragColor = (sum + texture2D(uMainSampler, outTexCoord - offset * 3.294215) * 0.093913) * vec4(color, 1);","}"].join(`
`)},94328:n=>{n.exports=["#define SHADER_NAME BLUR_HIGH_FS","precision mediump float;","uniform sampler2D uMainSampler;","uniform vec2 resolution;","uniform vec2 offset;","uniform float strength;","uniform vec3 color;","varying vec2 outTexCoord;","void main ()","{","    vec2 uv = outTexCoord;","    vec4 col = vec4(0.0);","    vec2 off1 = vec2(1.411764705882353) * offset * strength;","    vec2 off2 = vec2(3.2941176470588234) * offset * strength;","    vec2 off3 = vec2(5.176470588235294) * offset * strength;","    col += texture2D(uMainSampler, uv) * 0.1964825501511404;","    col += texture2D(uMainSampler, uv + (off1 / resolution)) * 0.2969069646728344;","    col += texture2D(uMainSampler, uv - (off1 / resolution)) * 0.2969069646728344;","    col += texture2D(uMainSampler, uv + (off2 / resolution)) * 0.09447039785044732;","    col += texture2D(uMainSampler, uv - (off2 / resolution)) * 0.09447039785044732;","    col += texture2D(uMainSampler, uv + (off3 / resolution)) * 0.010381362401148057;","    col += texture2D(uMainSampler, uv - (off3 / resolution)) * 0.010381362401148057;","    gl_FragColor = col * vec4(color, 1.0);","}"].join(`
`)},41514:n=>{n.exports=["#define SHADER_NAME BLUR_LOW_FS","precision mediump float;","uniform sampler2D uMainSampler;","uniform vec2 resolution;","uniform vec2 offset;","uniform float strength;","uniform vec3 color;","varying vec2 outTexCoord;","void main ()","{","    vec2 uv = outTexCoord;","    vec4 col = vec4(0.0);","    vec2 offset = vec2(1.333) * offset * strength;","    col += texture2D(uMainSampler, uv) * 0.29411764705882354;","    col += texture2D(uMainSampler, uv + (offset / resolution)) * 0.35294117647058826;","    col += texture2D(uMainSampler, uv - (offset / resolution)) * 0.35294117647058826;","    gl_FragColor = col * vec4(color, 1.0);","}"].join(`
`)},51078:n=>{n.exports=["#define SHADER_NAME BLUR_MED_FS","precision mediump float;","uniform sampler2D uMainSampler;","uniform vec2 resolution;","uniform vec2 offset;","uniform float strength;","uniform vec3 color;","varying vec2 outTexCoord;","void main ()","{","    vec2 uv = outTexCoord;","    vec4 col = vec4(0.0);","    vec2 off1 = vec2(1.3846153846) * offset * strength;","    vec2 off2 = vec2(3.2307692308) * offset * strength;","    col += texture2D(uMainSampler, uv) * 0.2270270270;","    col += texture2D(uMainSampler, uv + (off1 / resolution)) * 0.3162162162;","    col += texture2D(uMainSampler, uv - (off1 / resolution)) * 0.3162162162;","    col += texture2D(uMainSampler, uv + (off2 / resolution)) * 0.0702702703;","    col += texture2D(uMainSampler, uv - (off2 / resolution)) * 0.0702702703;","    gl_FragColor = col * vec4(color, 1.0);","}"].join(`
`)},90610:n=>{n.exports=["#define SHADER_NAME BOKEH_FS","precision mediump float;","#define ITERATIONS 100.0","#define ONEOVER_ITR 1.0 / ITERATIONS","#define PI 3.141596","#define GOLDEN_ANGLE 2.39996323","uniform sampler2D uMainSampler;","uniform vec2 resolution;","uniform float radius;","uniform float amount;","uniform float contrast;","uniform bool isTiltShift;","uniform float strength;","uniform vec2 blur;","varying vec2 outTexCoord;","vec2 Sample (in float theta, inout float r)","{","    r += 1.0 / r;","    return (r - 1.0) * vec2(cos(theta), sin(theta)) * 0.06;","}","vec3 Bokeh (sampler2D tex, vec2 uv, float radius)","{","    vec3 acc = vec3(0.0);","    vec3 div = vec3(0.0);","    vec2 pixel = vec2(resolution.y / resolution.x, 1.0) * radius * .025;","    float r = 1.0;","    for (float j = 0.0; j < GOLDEN_ANGLE * ITERATIONS; j += GOLDEN_ANGLE)","    {","        vec3 col = texture2D(tex, uv + pixel * Sample(j, r)).xyz;","        col = contrast > 0.0 ? col * col * (1.0 + contrast) : col;","        vec3 bokeh = vec3(0.5) + pow(col, vec3(10.0)) * amount;","        acc += col * bokeh;","        div += bokeh;","    }","    return acc / div;","}","void main ()","{","    float shift = 1.0;","    if (isTiltShift)","    {","        vec2 uv = vec2(gl_FragCoord.xy / resolution + vec2(-0.5, -0.5)) * 2.0;","        float centerStrength = 1.0;","        shift = length(uv * blur * strength) * centerStrength;","    }","    gl_FragColor = vec4(Bokeh(uMainSampler, outTexCoord * vec2(1.0, 1.0), radius * shift), 0.0);","}"].join(`
`)},91899:n=>{n.exports=["#define SHADER_NAME CIRCLE_FS","precision mediump float;","uniform sampler2D uMainSampler;","uniform vec2 resolution;","uniform vec3 color;","uniform vec4 backgroundColor;","uniform float thickness;","uniform float scale;","uniform float feather;","varying vec2 outTexCoord;","void main ()","{","    vec4 texture = texture2D(uMainSampler, outTexCoord);","    vec2 position = (gl_FragCoord.xy / resolution.xy) * 2.0 - 1.0;","    float aspectRatio = resolution.x / resolution.y;","    position.x *= aspectRatio;","    float grad = length(position);","    float outer = aspectRatio;","    float inner = outer - (thickness * 2.0 / resolution.y);","    if (aspectRatio >= 1.0)","    {","        float f = 2.0 + (resolution.y / resolution.x);","        outer = 1.0;","        inner = 1.0 - (thickness * f / resolution.x);","    }","    outer *= scale;","    inner *= scale;","    float circle = smoothstep(outer, outer - 0.01, grad);","    float ring = circle - smoothstep(inner, inner - feather, grad);","    texture = mix(backgroundColor * backgroundColor.a, texture, texture.a);","    texture = (texture * (circle - ring));","    gl_FragColor = vec4(texture.rgb + (ring * color), texture.a);","}"].join(`
`)},47838:n=>{n.exports=["#define SHADER_NAME DISPLACEMENT_FS","precision mediump float;","uniform sampler2D uMainSampler;","uniform sampler2D uDisplacementSampler;","uniform vec2 amount;","varying vec2 outTexCoord;","void main ()","{","    vec2 disp = (-vec2(0.5, 0.5) + texture2D(uDisplacementSampler, outTexCoord).rr) * amount;","    gl_FragColor = texture2D(uMainSampler, outTexCoord + disp).rgba;","}"].join(`
`)},98656:n=>{n.exports=["#define SHADER_NAME GLOW_FS","precision mediump float;","uniform sampler2D uMainSampler;","varying vec2 outTexCoord;","uniform float outerStrength;","uniform float innerStrength;","uniform vec2 resolution;","uniform vec4 glowColor;","uniform bool knockout;","const float PI = 3.14159265358979323846264;","const float DIST = __DIST__;","const float SIZE = min(__SIZE__, PI * 2.0);","const float STEP = ceil(PI * 2.0 / SIZE);","const float MAX_ALPHA = STEP * DIST * (DIST + 1.0) / 2.0;","void main ()","{","    vec2 px = vec2(1.0 / resolution.x, 1.0 / resolution.y);","    float totalAlpha = 0.0;","    vec2 direction;","    vec2 displaced;","    vec4 color;","    for (float angle = 0.0; angle < PI * 2.0; angle += SIZE)","    {","        direction = vec2(cos(angle), sin(angle)) * px;","        for (float curDistance = 0.0; curDistance < DIST; curDistance++)","        {","            displaced = outTexCoord + direction * (curDistance + 1.0);","            color = texture2D(uMainSampler, displaced);","            totalAlpha += (DIST - curDistance) * color.a;","        }","    }","    color = texture2D(uMainSampler, outTexCoord);","    float alphaRatio = (totalAlpha / MAX_ALPHA);","    float innerGlowAlpha = (1.0 - alphaRatio) * innerStrength * color.a;","    float innerGlowStrength = min(1.0, innerGlowAlpha);","    vec4 innerColor = mix(color, glowColor, innerGlowStrength);","    float outerGlowAlpha = alphaRatio * outerStrength * (1.0 - color.a);","    float outerGlowStrength = min(1.0 - innerColor.a, outerGlowAlpha);","    vec4 outerGlowColor = outerGlowStrength * glowColor.rgba;","    if (knockout)","    {","        float resultAlpha = outerGlowAlpha + innerGlowAlpha;","        gl_FragColor = vec4(glowColor.rgb * resultAlpha, resultAlpha);","    }","    else","    {","        gl_FragColor = innerColor + outerGlowColor;","    }","}"].join(`
`)},70463:n=>{n.exports=["#define SHADER_NAME GRADIENT_FS","#define SRGB_TO_LINEAR(c) pow((c), vec3(2.2))","#define LINEAR_TO_SRGB(c) pow((c), vec3(1.0 / 2.2))","#define SRGB(r, g, b) SRGB_TO_LINEAR(vec3(float(r), float(g), float(b)) / 255.0)","precision mediump float;","uniform sampler2D uMainSampler;","uniform vec2 positionFrom;","uniform vec2 positionTo;","uniform vec3 color1;","uniform vec3 color2;","uniform float alpha;","uniform int size;","varying vec2 outTexCoord;","float gradientNoise(in vec2 uv)","{","    const vec3 magic = vec3(0.06711056, 0.00583715, 52.9829189);","    return fract(magic.z * fract(dot(uv, magic.xy)));","}","float stepped (in float s, in float scale, in int steps)","{","    return steps > 0 ? floor( s / ((1.0 * scale) / float(steps))) * 1.0 / float(steps - 1) : s;","}","void main ()","{","    vec2 a = positionFrom;","    vec2 b = positionTo;","    vec2 ba = b - a;","    float d = dot(outTexCoord - a, ba) / dot(ba, ba);","    float t = size > 0 ? stepped(d, 1.0, size) : d;","    t = smoothstep(0.0, 1.0, clamp(t, 0.0, 1.0));","    vec3 color = mix(SRGB(color1.r, color1.g, color1.b), SRGB(color2.r, color2.g, color2.b), t);","    color = LINEAR_TO_SRGB(color);","    color += (1.0 / 255.0) * gradientNoise(outTexCoord) - (0.5 / 255.0);","    vec4 texture = texture2D(uMainSampler, outTexCoord);","    gl_FragColor = vec4(mix(color.rgb, texture.rgb, alpha), 1.0) * texture.a;","}"].join(`
`)},50831:n=>{n.exports=["#define SHADER_NAME PIXELATE_FS","precision mediump float;","uniform sampler2D uMainSampler;","uniform vec2 resolution;","uniform float amount;","varying vec2 outTexCoord;","void main ()","{","    float pixelSize = floor(2.0 + amount);","    vec2 center = pixelSize * floor(outTexCoord * resolution / pixelSize) + pixelSize * vec2(0.5, 0.5);","    vec2 corner1 = center + pixelSize * vec2(-0.5, -0.5);","    vec2 corner2 = center + pixelSize * vec2(+0.5, -0.5);","    vec2 corner3 = center + pixelSize * vec2(+0.5, +0.5);","    vec2 corner4 = center + pixelSize * vec2(-0.5, +0.5);","    vec4 pixel = 0.4 * texture2D(uMainSampler, center / resolution);","    pixel += 0.15 * texture2D(uMainSampler, corner1 / resolution);","    pixel += 0.15 * texture2D(uMainSampler, corner2 / resolution);","    pixel += 0.15 * texture2D(uMainSampler, corner3 / resolution);","    pixel += 0.15 * texture2D(uMainSampler, corner4 / resolution);","    gl_FragColor = pixel;","}"].join(`
`)},92595:n=>{n.exports=["#define SHADER_NAME SHADOW_FS","precision mediump float;","uniform sampler2D uMainSampler;","varying vec2 outTexCoord;","uniform vec2 lightPosition;","uniform vec4 color;","uniform float decay;","uniform float power;","uniform float intensity;","uniform int samples;","const int MAX = 12;","void main ()","{","    vec4 texture = texture2D(uMainSampler, outTexCoord);","    vec2 pc = (lightPosition - outTexCoord) * intensity;","    float shadow = 0.0;","    float limit = max(float(MAX), float(samples));","    for (int i = 0; i < MAX; ++i)","    {","        if (i >= samples)","        {","            break;","        }","        shadow += texture2D(uMainSampler, outTexCoord + float(i) * decay / limit * pc).a * power;","    }","    float mask = 1.0 - texture.a;","    gl_FragColor = mix(texture, color, shadow * mask);","}"].join(`
`)},72464:n=>{n.exports=["#define SHADER_NAME SHINE_FS","precision mediump float;","uniform sampler2D uMainSampler;","uniform vec2 resolution;","uniform bool reveal;","uniform float speed;","uniform float time;","uniform float lineWidth;","uniform float gradient;","varying vec2 outTexCoord;","void main ()","{","	vec2 uv = gl_FragCoord.xy / resolution.xy;","    vec4 tex = texture2D(uMainSampler, outTexCoord);","    vec4 col1 = vec4(0.3, 0.0, 0.0, 1.0);","    vec4 col2 = vec4(0.85, 0.85, 0.85, 1.0);","    uv.x = uv.x - mod(time * speed, 2.0) + 0.5;","    float y = uv.x * gradient;","    float s = smoothstep(y - lineWidth, y, uv.y) - smoothstep(y, y + lineWidth, uv.y);","    gl_FragColor = (((s * col1) + (s * col2)) * tex);","    if (!reveal)","    {","        gl_FragColor += tex;","    }","}"].join(`
`)},39249:n=>{n.exports=["#define SHADER_NAME VIGNETTE_FS","precision mediump float;","uniform sampler2D uMainSampler;","uniform float radius;","uniform float strength;","uniform vec2 position;","varying vec2 outTexCoord;","void main ()","{","    vec4 col = vec4(1.0);","    float d = length(outTexCoord - position);","    if (d <= radius)","    {","        float g = d / radius;","        g = sin(g * 3.14 * strength);","    	col = vec4(g * g * g);","    }","    vec4 texture = texture2D(uMainSampler, outTexCoord);","    gl_FragColor = texture * (1.0 - col);","}"].join(`
`)},2878:n=>{n.exports=["#define SHADER_NAME WIPE_FS","precision mediump float;","uniform sampler2D uMainSampler;","uniform vec4 config;","uniform bool reveal;","varying vec2 outTexCoord;","void main ()","{","    vec2 uv = outTexCoord;","    vec4 color0;","    vec4 color1;","    if (reveal)","    {","        color0 = vec4(0);","        color1 = texture2D(uMainSampler, uv);","    }","    else","    {","        color0 = texture2D(uMainSampler, uv);","        color1 = vec4(0);","    }","    float distance = config.x;","    float width = config.y;","    float direction = config.z;","    float axis = uv.x;","    if (config.w == 1.0)","    {","        axis = uv.y;","    }","    float adjust = mix(width, -width, distance);","    float value = smoothstep(distance - width, distance + width, abs(direction - axis) + adjust);","    gl_FragColor = mix(color1, color0, value);","}"].join(`
`)},31063:n=>{n.exports=["#define SHADER_NAME PHASER_LIGHT_FS","precision mediump float;","struct Light","{","    vec2 position;","    vec3 color;","    float intensity;","    float radius;","};","const int kMaxLights = %LIGHT_COUNT%;","uniform vec4 uCamera; /* x, y, rotation, zoom */","uniform vec2 uResolution;","uniform sampler2D uMainSampler;","uniform sampler2D uNormSampler;","uniform vec3 uAmbientLightColor;","uniform Light uLights[kMaxLights];","uniform mat3 uInverseRotationMatrix;","uniform int uLightCount;","varying vec2 outTexCoord;","varying float outTexId;","varying float outTintEffect;","varying vec4 outTint;","void main ()","{","    vec3 finalColor = vec3(0.0, 0.0, 0.0);","    vec4 texel = vec4(outTint.bgr * outTint.a, outTint.a);","    vec4 texture = texture2D(uMainSampler, outTexCoord);","    vec4 color = texture * texel;","    if (outTintEffect == 1.0)","    {","        color.rgb = mix(texture.rgb, outTint.bgr * outTint.a, texture.a);","    }","    else if (outTintEffect == 2.0)","    {","        color = texel;","    }","    vec3 normalMap = texture2D(uNormSampler, outTexCoord).rgb;","    vec3 normal = normalize(uInverseRotationMatrix * vec3(normalMap * 2.0 - 1.0));","    vec2 res = vec2(min(uResolution.x, uResolution.y)) * uCamera.w;","    for (int index = 0; index < kMaxLights; ++index)","    {","        if (index < uLightCount)","        {","            Light light = uLights[index];","            vec3 lightDir = vec3((light.position.xy / res) - (gl_FragCoord.xy / res), 0.1);","            vec3 lightNormal = normalize(lightDir);","            float distToSurf = length(lightDir) * uCamera.w;","            float diffuseFactor = max(dot(normal, lightNormal), 0.0);","            float radius = (light.radius / res.x * uCamera.w) * uCamera.w;","            float attenuation = clamp(1.0 - distToSurf * distToSurf / (radius * radius), 0.0, 1.0);","            vec3 diffuse = light.color * diffuseFactor;","            finalColor += (attenuation * diffuse) * light.intensity;","        }","    }","    vec4 colorOutput = vec4(uAmbientLightColor + finalColor, 1.0);","    gl_FragColor = color * vec4(colorOutput.rgb * colorOutput.a, colorOutput.a);","}"].join(`
`)},48247:n=>{n.exports=["#define SHADER_NAME PHASER_LINEAR_BLEND_FS","precision mediump float;","uniform sampler2D uMainSampler1;","uniform sampler2D uMainSampler2;","uniform float uStrength;","varying vec2 outTexCoord;","void main ()","{","    vec4 frame1 = texture2D(uMainSampler1, outTexCoord);","    vec4 frame2 = texture2D(uMainSampler2, outTexCoord);","    gl_FragColor = mix(frame1, frame2 * uStrength, 0.5);","}"].join(`
`)},41214:n=>{n.exports=["#define SHADER_NAME PHASER_MESH_FS","precision mediump float;","uniform vec3 uLightPosition;","uniform vec3 uLightAmbient;","uniform vec3 uLightDiffuse;","uniform vec3 uLightSpecular;","uniform vec3 uFogColor;","uniform float uFogNear;","uniform float uFogFar;","uniform vec3 uMaterialAmbient;","uniform vec3 uMaterialDiffuse;","uniform vec3 uMaterialSpecular;","uniform float uMaterialShine;","uniform vec3 uCameraPosition;","uniform sampler2D uTexture;","varying vec2 vTextureCoord;","varying vec3 vNormal;","varying vec3 vPosition;","void main (void)","{","    vec4 color = texture2D(uTexture, vTextureCoord);","    vec3 ambient = uLightAmbient * uMaterialAmbient;","    vec3 norm = normalize(vNormal);","    vec3 lightDir = normalize(uLightPosition - vPosition);","    float diff = max(dot(norm, lightDir), 0.0);","    vec3 diffuse = uLightDiffuse * (diff * uMaterialDiffuse);","    vec3 viewDir = normalize(uCameraPosition - vPosition);","    vec3 reflectDir = reflect(-lightDir, norm);","    float spec = pow(max(dot(viewDir, reflectDir), 0.0), uMaterialShine);","    vec3 specular = uLightSpecular * (spec * uMaterialSpecular);","    vec3 result = (ambient + diffuse + specular) * color.rgb;","    float depth = gl_FragCoord.z / gl_FragCoord.w;","    float fogFactor = smoothstep(uFogNear, uFogFar, depth);","    gl_FragColor.rgb = mix(result.rgb, uFogColor, fogFactor);","    gl_FragColor.a = color.a;","}"].join(`
`)},39653:n=>{n.exports=["#define SHADER_NAME PHASER_MESH_VS","precision mediump float;","attribute vec3 aVertexPosition;","attribute vec3 aVertexNormal;","attribute vec2 aTextureCoord;","uniform mat4 uViewProjectionMatrix;","uniform mat4 uModelMatrix;","uniform mat4 uNormalMatrix;","varying vec2 vTextureCoord;","varying vec3 vNormal;","varying vec3 vPosition;","void main ()","{","    vTextureCoord = aTextureCoord;","    vPosition = vec3(uModelMatrix * vec4(aVertexPosition, 1.0));","    vNormal = vec3(uNormalMatrix * vec4(aVertexNormal, 1.0));","    gl_Position = uViewProjectionMatrix * uModelMatrix * vec4(aVertexPosition, 1.0);","}"].join(`
`)},62143:n=>{n.exports=["#define SHADER_NAME PHASER_MOBILE_FS","#ifdef GL_FRAGMENT_PRECISION_HIGH","precision highp float;","#else","precision mediump float;","#endif","uniform sampler2D uMainSampler;","varying vec2 outTexCoord;","varying float outTintEffect;","varying vec4 outTint;","void main ()","{","    vec4 texel = vec4(outTint.bgr * outTint.a, outTint.a);","    vec4 texture = texture2D(uMainSampler, outTexCoord);","    vec4 color = texture * texel;","    if (outTintEffect == 1.0)","    {","        color.rgb = mix(texture.rgb, outTint.bgr * outTint.a, texture.a);","    }","    else if (outTintEffect == 2.0)","    {","        color = texel;","    }","    gl_FragColor = color;","}"].join(`
`)},47940:n=>{n.exports=["#define SHADER_NAME PHASER_MOBILE_VS","precision mediump float;","uniform mat4 uProjectionMatrix;","uniform vec2 uResolution;","attribute vec2 inPosition;","attribute vec2 inTexCoord;","attribute float inTexId;","attribute float inTintEffect;","attribute vec4 inTint;","varying vec2 outTexCoord;","varying float outTintEffect;","varying vec4 outTint;","void main ()","{","    gl_Position = uProjectionMatrix * vec4(inPosition, 1.0, 1.0);","    outTexCoord = inTexCoord;","    outTint = inTint;","    outTintEffect = inTintEffect;","}"].join(`
`)},98840:n=>{n.exports=["#define SHADER_NAME PHASER_MULTI_FS","#ifdef GL_FRAGMENT_PRECISION_HIGH","precision highp float;","#else","precision mediump float;","#endif","uniform sampler2D uMainSampler[%count%];","varying vec2 outTexCoord;","varying float outTexId;","varying float outTintEffect;","varying vec4 outTint;","void main ()","{","    vec4 texture;","    %forloop%","    vec4 texel = vec4(outTint.bgr * outTint.a, outTint.a);","    vec4 color = texture * texel;","    if (outTintEffect == 1.0)","    {","        color.rgb = mix(texture.rgb, outTint.bgr * outTint.a, texture.a);","    }","    else if (outTintEffect == 2.0)","    {","        color = texel;","    }","    gl_FragColor = color;","}"].join(`
`)},44667:n=>{n.exports=["#define SHADER_NAME PHASER_MULTI_VS","precision mediump float;","uniform mat4 uProjectionMatrix;","uniform vec2 uResolution;","attribute vec2 inPosition;","attribute vec2 inTexCoord;","attribute float inTexId;","attribute float inTintEffect;","attribute vec4 inTint;","varying vec2 outTexCoord;","varying float outTexId;","varying float outTintEffect;","varying vec4 outTint;","void main ()","{","    gl_Position = uProjectionMatrix * vec4(inPosition, 1.0, 1.0);","    outTexCoord = inTexCoord;","    outTexId = inTexId;","    outTint = inTint;","    outTintEffect = inTintEffect;","}"].join(`
`)},4127:n=>{n.exports=["#define SHADER_NAME PHASER_POINTLIGHT_FS","precision mediump float;","uniform vec2 uResolution;","uniform float uCameraZoom;","varying vec4 lightPosition;","varying vec4 lightColor;","varying float lightRadius;","varying float lightAttenuation;","void main ()","{","    vec2 center = (lightPosition.xy + 1.0) * (uResolution.xy * 0.5);","    float distToSurf = length(center - gl_FragCoord.xy);","    float radius = 1.0 - distToSurf / (lightRadius * uCameraZoom);","    float intensity = smoothstep(0.0, 1.0, radius * lightAttenuation);","    vec4 color = vec4(intensity, intensity, intensity, 0.0) * lightColor;","    gl_FragColor = vec4(color.rgb * lightColor.a, color.a);","}"].join(`
`)},89924:n=>{n.exports=["#define SHADER_NAME PHASER_POINTLIGHT_VS","precision mediump float;","uniform mat4 uProjectionMatrix;","attribute vec2 inPosition;","attribute vec2 inLightPosition;","attribute vec4 inLightColor;","attribute float inLightRadius;","attribute float inLightAttenuation;","varying vec4 lightPosition;","varying vec4 lightColor;","varying float lightRadius;","varying float lightAttenuation;","void main ()","{","    lightColor = inLightColor;","    lightRadius = inLightRadius;","    lightAttenuation = inLightAttenuation;","    lightPosition = uProjectionMatrix * vec4(inLightPosition, 1.0, 1.0);","    gl_Position = uProjectionMatrix * vec4(inPosition, 1.0, 1.0);","}"].join(`
`)},27681:n=>{n.exports=["#define SHADER_NAME PHASER_POSTFX_FS","precision mediump float;","uniform sampler2D uMainSampler;","varying vec2 outTexCoord;","void main ()","{","    gl_FragColor = texture2D(uMainSampler, outTexCoord);","}"].join(`
`)},49627:n=>{n.exports=["#define SHADER_NAME PHASER_QUAD_VS","precision mediump float;","attribute vec2 inPosition;","attribute vec2 inTexCoord;","varying vec2 outFragCoord;","varying vec2 outTexCoord;","void main ()","{","    outFragCoord = inPosition.xy * 0.5 + 0.5;","    outTexCoord = inTexCoord;","    gl_Position = vec4(inPosition, 0, 1);","}"].join(`
`)},45561:n=>{n.exports=["#define SHADER_NAME PHASER_SINGLE_FS","#ifdef GL_FRAGMENT_PRECISION_HIGH","precision highp float;","#else","precision mediump float;","#endif","uniform sampler2D uMainSampler;","varying vec2 outTexCoord;","varying float outTintEffect;","varying vec4 outTint;","void main ()","{","    vec4 texture = texture2D(uMainSampler, outTexCoord);","    vec4 texel = vec4(outTint.bgr * outTint.a, outTint.a);","    vec4 color = texture * texel;","    if (outTintEffect == 1.0)","    {","        color.rgb = mix(texture.rgb, outTint.bgr * outTint.a, texture.a);","    }","    else if (outTintEffect == 2.0)","    {","        color = texel;","    }","    gl_FragColor = color;","}"].join(`
`)},60722:n=>{n.exports=["#define SHADER_NAME PHASER_SINGLE_VS","precision mediump float;","uniform mat4 uProjectionMatrix;","uniform vec2 uResolution;","attribute vec2 inPosition;","attribute vec2 inTexCoord;","attribute float inTexId;","attribute float inTintEffect;","attribute vec4 inTint;","varying vec2 outTexCoord;","varying float outTintEffect;","varying vec4 outTint;","void main ()","{","    gl_Position = uProjectionMatrix * vec4(inPosition, 1.0, 1.0);","    outTexCoord = inTexCoord;","    outTint = inTint;","    outTintEffect = inTintEffect;","}"].join(`
`)},89350:(n,T,i)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports={AddBlendFrag:i(35407),BitmapMaskFrag:i(78908),BitmapMaskVert:i(85191),ColorMatrixFrag:i(96293),CopyFrag:i(36682),FXBarrelFrag:i(99155),FXBloomFrag:i(24400),FXBlurHighFrag:i(94328),FXBlurLowFrag:i(41514),FXBlurMedFrag:i(51078),FXBokehFrag:i(90610),FXCircleFrag:i(91899),FXDisplacementFrag:i(47838),FXGlowFrag:i(98656),FXGradientFrag:i(70463),FXPixelateFrag:i(50831),FXShadowFrag:i(92595),FXShineFrag:i(72464),FXVignetteFrag:i(39249),FXWipeFrag:i(2878),LightFrag:i(31063),LinearBlendFrag:i(48247),MeshFrag:i(41214),MeshVert:i(39653),MobileFrag:i(62143),MobileVert:i(47940),MultiFrag:i(98840),MultiVert:i(44667),PointLightFrag:i(4127),PointLightVert:i(89924),PostFXFrag:i(27681),QuadVert:i(49627),SingleFrag:i(45561),SingleVert:i(60722)}},93567:(n,T,i)=>{/**
 * @author       Benjamin D. Richards <benjamindrichards@gmail.com>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=i(83419),x=new a({initialize:function(l,o,s){this.webGLAttribLocation=-1,this.gl=l,this.program=o,this.name=s,this.createResource()},createResource:function(){if(this.program.webGLProgram===null){this.webGLAttribLocation=-1;return}var d=this.gl;d.isContextLost()||(this.webGLAttribLocation=d.getAttribLocation(this.program.webGLProgram,this.name))},destroy:function(){this.gl=null,this.program=null,this.name=null,this.webGLAttribLocation=-1}});n.exports=x},26128:(n,T,i)=>{/**
 * @author       Benjamin D. Richards <benjamindrichards@gmail.com>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=i(83419),x=new a({initialize:function(l,o,s,f){this.webGLBuffer=null,this.gl=l,this.initialDataOrSize=o,this.bufferType=s,this.bufferUsage=f,this.createResource()},createResource:function(){if(this.initialDataOrSize!==null){var d=this.gl;if(!d.isContextLost()){var l=this.bufferType,o=d.createBuffer();this.webGLBuffer=o,d.bindBuffer(l,this.webGLBuffer),d.bufferData(l,this.initialDataOrSize,this.bufferUsage),d.bindBuffer(l,null)}}},destroy:function(){var d=this.gl;d.isContextLost()||d.deleteBuffer(this.webGLBuffer),this.webGLBuffer=null,this.initialDataOrSize=null,this.gl=null}});n.exports=x},84387:(n,T,i)=>{/**
 * @author       Benjamin D. Richards <benjamindrichards@gmail.com>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=i(83419),x={36054:"Incomplete Attachment",36055:"Missing Attachment",36057:"Incomplete Dimensions",36061:"Framebuffer Unsupported"},d=new a({initialize:function(o,s,f,c,u){this.webGLFramebuffer=null,this.gl=o,this.width=s,this.height=f,this.renderTexture=c,this.addDepthStencilBuffer=!!u,this.createResource()},createResource:function(){var l=this.gl;if(!l.isContextLost()){var o=this.renderTexture,s=0,f=l.createFramebuffer();if(this.webGLFramebuffer=f,l.bindFramebuffer(l.FRAMEBUFFER,f),o.isRenderTexture=!0,o.isAlphaPremultiplied=!1,l.framebufferTexture2D(l.FRAMEBUFFER,l.COLOR_ATTACHMENT0,l.TEXTURE_2D,o.webGLTexture,0),s=l.checkFramebufferStatus(l.FRAMEBUFFER),s!==l.FRAMEBUFFER_COMPLETE)throw new Error("Framebuffer status: "+(x[s]||s));if(this.addDepthStencilBuffer){var c=l.createRenderbuffer();l.bindRenderbuffer(l.RENDERBUFFER,c),l.renderbufferStorage(l.RENDERBUFFER,l.DEPTH_STENCIL,this.width,this.height),l.framebufferRenderbuffer(l.FRAMEBUFFER,l.DEPTH_STENCIL_ATTACHMENT,l.RENDERBUFFER,c)}l.bindFramebuffer(l.FRAMEBUFFER,null)}},destroy:function(){if(this.webGLFramebuffer!==null){var l=this.gl;if(!l.isContextLost()){l.bindFramebuffer(l.FRAMEBUFFER,this.webGLFramebuffer);var o=l.getFramebufferAttachmentParameter(l.FRAMEBUFFER,l.COLOR_ATTACHMENT0,l.FRAMEBUFFER_ATTACHMENT_OBJECT_NAME);o!==null&&(l.framebufferTexture2D(l.FRAMEBUFFER,l.COLOR_ATTACHMENT0,l.TEXTURE_2D,null,0),l.deleteTexture(o));var s=l.getFramebufferAttachmentParameter(l.FRAMEBUFFER,l.DEPTH_STENCIL_ATTACHMENT,l.FRAMEBUFFER_ATTACHMENT_OBJECT_NAME);s!==null&&l.deleteRenderbuffer(s),l.bindFramebuffer(l.FRAMEBUFFER,null),l.deleteFramebuffer(this.webGLFramebuffer)}this.renderTexture=null,this.webGLFramebuffer=null,this.gl=null}}});n.exports=d},1482:(n,T,i)=>{/**
 * @author       Benjamin D. Richards <benjamindrichards@gmail.com>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=i(83419),x=new a({initialize:function(l,o,s){this.webGLProgram=null,this.gl=l,this.vertexSource=o,this.fragmentSource=s,this.createResource()},createResource:function(){var d=this.gl;if(!d.isContextLost()){var l=d.createProgram(),o=d.createShader(d.VERTEX_SHADER),s=d.createShader(d.FRAGMENT_SHADER);d.shaderSource(o,this.vertexSource),d.shaderSource(s,this.fragmentSource),d.compileShader(o),d.compileShader(s);var f=`Shader failed:
`;if(!d.getShaderParameter(o,d.COMPILE_STATUS))throw new Error("Vertex "+f+d.getShaderInfoLog(o));if(!d.getShaderParameter(s,d.COMPILE_STATUS))throw new Error("Fragment "+f+d.getShaderInfoLog(s));if(d.attachShader(l,o),d.attachShader(l,s),d.linkProgram(l),!d.getProgramParameter(l,d.LINK_STATUS))throw new Error("Link "+f+d.getProgramInfoLog(l));d.useProgram(l),this.webGLProgram=l}},destroy:function(){this.webGLProgram&&(this.gl.isContextLost()||this.gl.deleteProgram(this.webGLProgram),this.webGLProgram=null,this.gl=null)}});n.exports=x},82751:(n,T,i)=>{/**
 * @author       Benjamin D. Richards <benjamindrichards@gmail.com>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=i(83419),x=i(50030),d=new a({initialize:function(o,s,f,c,u,v,p,m,g,C,M,b,w){this.webGLTexture=null,this.isRenderTexture=!1,this.gl=o,this.mipLevel=s,this.minFilter=f,this.magFilter=c,this.wrapT=u,this.wrapS=v,this.format=p,this.pixels=m,this.width=g,this.height=C,this.pma=M??!0,this.forceSize=!!b,this.flipY=!!w,this.__SPECTOR_Metadata={},this.createResource()},createResource:function(){var l=this.gl;if(!l.isContextLost()){if(this.pixels instanceof d){this.webGLTexture=this.pixels.webGLTexture;return}var o=l.createTexture();o.__SPECTOR_Metadata=this.__SPECTOR_Metadata,this.webGLTexture=o,this._processTexture()}},update:function(l,o,s,f,c,u,v,p,m){if(!(o===0||s===0)){this.pixels=l,this.width=o,this.height=s,this.flipY=f,this.wrapS=c,this.wrapT=u,this.minFilter=v,this.magFilter=p,this.format=m;var g=this.gl;g.isContextLost()||this._processTexture()}},_processTexture:function(){var l=this.gl;l.activeTexture(l.TEXTURE0);var o=l.getParameter(l.TEXTURE_BINDING_2D);l.bindTexture(l.TEXTURE_2D,this.webGLTexture),l.texParameteri(l.TEXTURE_2D,l.TEXTURE_MIN_FILTER,this.minFilter),l.texParameteri(l.TEXTURE_2D,l.TEXTURE_MAG_FILTER,this.magFilter),l.texParameteri(l.TEXTURE_2D,l.TEXTURE_WRAP_S,this.wrapS),l.texParameteri(l.TEXTURE_2D,l.TEXTURE_WRAP_T,this.wrapT),l.pixelStorei(l.UNPACK_PREMULTIPLY_ALPHA_WEBGL,this.pma),l.pixelStorei(l.UNPACK_FLIP_Y_WEBGL,this.flipY);var s=this.pixels,f=this.mipLevel,c=this.width,u=this.height,v=this.format,p=!1;if(s==null)l.texImage2D(l.TEXTURE_2D,f,v,c,u,0,v,l.UNSIGNED_BYTE,null),p=x(c,u);else if(s.compressed){c=s.width,u=s.height,p=s.generateMipmap;for(var m=0;m<s.mipmaps.length;m++)l.compressedTexImage2D(l.TEXTURE_2D,m,s.internalFormat,s.mipmaps[m].width,s.mipmaps[m].height,0,s.mipmaps[m].data)}else s instanceof Uint8Array?(l.texImage2D(l.TEXTURE_2D,f,v,c,u,0,v,l.UNSIGNED_BYTE,s),p=x(c,u)):(this.forceSize||(c=s.width,u=s.height),l.texImage2D(l.TEXTURE_2D,f,v,v,l.UNSIGNED_BYTE,s),p=x(c,u));p&&l.generateMipmap(l.TEXTURE_2D),o?l.bindTexture(l.TEXTURE_2D,o):l.bindTexture(l.TEXTURE_2D,null)},spectorMetadata:{get:function(){return this.__SPECTOR_Metadata},set:function(l){this.__SPECTOR_Metadata=l,this.gl.isContextLost()||(this.webGLTexture.__SPECTOR_Metadata=l)}},destroy:function(){this.webGLTexture!==null&&(this.gl.isContextLost()||this.pixels instanceof d||this.gl.deleteTexture(this.webGLTexture),this.pixels=null,this.webGLTexture=null,this.gl=null)}});n.exports=d},57183:(n,T,i)=>{/**
 * @author       Benjamin D. Richards <benjamindrichards@gmail.com>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=i(83419),x=new a({initialize:function(l,o,s){this.webGLUniformLocation=null,this.gl=l,this.program=o,this.name=s,this.createResource()},createResource:function(){if(this.program.webGLProgram===null){this.webGLUniformLocation=null;return}var d=this.gl;d.isContextLost()||(this.webGLUniformLocation=d.getUniformLocation(this.program.webGLProgram,this.name))},destroy:function(){this.gl=null,this.program=null,this.name=null,this.webGLUniformLocation=null}});n.exports=x},9503:(n,T,i)=>{/**
 * @author       Benjamin D. Richards <benjamindrichards@gmail.com>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a={WebGLAttribLocationWrapper:i(93567),WebGLBufferWrapper:i(26128),WebGLProgramWrapper:i(1482),WebGLTextureWrapper:i(82751),WebGLFramebufferWrapper:i(84387),WebGLUniformLocationWrapper:i(57183)};n.exports=a},76531:(n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=i(13560),x=i(83419),d=i(50792),l=i(97480),o=i(8443),s=i(57811),f=i(74403),c=i(45818),u=i(29747),v=i(87841),p=i(86555),m=i(56583),g=i(26099),C=i(38058),M=new x({Extends:d,initialize:function(w){d.call(this),this.game=w,this.canvas,this.canvasBounds=new v,this.parent=null,this.parentIsWindow=!1,this.parentSize=new p,this.gameSize=new p,this.baseSize=new p,this.displaySize=new p,this.scaleMode=a.SCALE_MODE.NONE,this.zoom=1,this._resetZoom=!1,this.displayScale=new g(1,1),this.autoRound=!1,this.autoCenter=a.CENTER.NO_CENTER,this.orientation=a.ORIENTATION.LANDSCAPE,this.fullscreen,this.fullscreenTarget=null,this._createdFullscreenTarget=!1,this.dirty=!1,this.resizeInterval=500,this._lastCheck=0,this._checkOrientation=!1,this.domlisteners={orientationChange:u,windowResize:u,fullScreenChange:u,fullScreenError:u}},preBoot:function(){this.parseConfig(this.game.config),this.game.events.once(o.BOOT,this.boot,this)},boot:function(){var b=this.game;this.canvas=b.canvas,this.fullscreen=b.device.fullscreen;var w=this.scaleMode;w!==a.SCALE_MODE.RESIZE&&w!==a.SCALE_MODE.EXPAND&&this.displaySize.setAspectMode(w),w===a.SCALE_MODE.NONE?this.resize(this.width,this.height):(this.getParentBounds(),this.parentSize.width>0&&this.parentSize.height>0&&this.displaySize.setParent(this.parentSize),this.refresh()),b.events.on(o.PRE_STEP,this.step,this),b.events.once(o.READY,this.refresh,this),b.events.once(o.DESTROY,this.destroy,this),this.startListeners()},parseConfig:function(b){this.getParent(b),this.getParentBounds();var w=b.width,R=b.height,A=b.scaleMode,L=b.zoom,D=b.autoRound;if(typeof w=="string")if(w.substr(-1)!=="%")w=parseInt(w,10);else{var G=this.parentSize.width;G===0&&(G=window.innerWidth);var B=parseInt(w,10)/100;w=Math.floor(G*B)}if(typeof R=="string")if(R.substr(-1)!=="%")R=parseInt(R,10);else{var I=this.parentSize.height;I===0&&(I=window.innerHeight);var k=parseInt(R,10)/100;R=Math.floor(I*k)}this.scaleMode=A,this.autoRound=D,this.autoCenter=b.autoCenter,this.resizeInterval=b.resizeInterval,D&&(w=Math.floor(w),R=Math.floor(R)),this.gameSize.setSize(w,R),L===a.ZOOM.MAX_ZOOM&&(L=this.getMaxZoom()),this.zoom=L,L!==1&&(this._resetZoom=!0),this.baseSize.setSize(w,R),D&&(this.baseSize.width=Math.floor(this.baseSize.width),this.baseSize.height=Math.floor(this.baseSize.height)),b.minWidth>0&&this.displaySize.setMin(b.minWidth*L,b.minHeight*L),b.maxWidth>0&&this.displaySize.setMax(b.maxWidth*L,b.maxHeight*L),this.displaySize.setSize(w,R),(b.snapWidth>0||b.snapHeight>0)&&this.displaySize.setSnap(b.snapWidth,b.snapHeight),this.orientation=c(w,R)},getParent:function(b){var w=b.parent;if(w!==null){if(this.parent=f(w),this.parentIsWindow=this.parent===document.body,b.expandParent&&b.scaleMode!==a.SCALE_MODE.NONE){var R=this.parent.getBoundingClientRect();(this.parentIsWindow||R.height===0)&&(document.documentElement.style.height="100%",document.body.style.height="100%",R=this.parent.getBoundingClientRect(),!this.parentIsWindow&&R.height===0&&(this.parent.style.overflow="hidden",this.parent.style.width="100%",this.parent.style.height="100%"))}b.fullscreenTarget&&!this.fullscreenTarget&&(this.fullscreenTarget=f(b.fullscreenTarget))}},getParentBounds:function(){if(!this.parent)return!1;var b=this.parentSize,w=this.parent.getBoundingClientRect();this.parentIsWindow&&this.game.device.os.iOS&&(w.height=s(!0));var R=w.width,A=w.height;if(b.width!==R||b.height!==A)return b.setSize(R,A),!0;if(this.canvas){var L=this.canvasBounds,D=this.canvas.getBoundingClientRect();if(D.x!==L.x||D.y!==L.y)return!0}return!1},lockOrientation:function(b){var w=screen.lockOrientation||screen.mozLockOrientation||screen.msLockOrientation;return w?w.call(screen,b):!1},setParentSize:function(b,w){return this.parentSize.setSize(b,w),this.refresh()},setGameSize:function(b,w){var R=this.autoRound;R&&(b=Math.floor(b),w=Math.floor(w));var A=this.width,L=this.height;return this.gameSize.resize(b,w),this.baseSize.resize(b,w),R&&(this.baseSize.width=Math.floor(this.baseSize.width),this.baseSize.height=Math.floor(this.baseSize.height)),this.displaySize.setAspectRatio(b/w),this.canvas.width=this.baseSize.width,this.canvas.height=this.baseSize.height,this.refresh(A,L)},resize:function(b,w){var R=this.zoom,A=this.autoRound;A&&(b=Math.floor(b),w=Math.floor(w));var L=this.width,D=this.height;this.gameSize.resize(b,w),this.baseSize.resize(b,w),A&&(this.baseSize.width=Math.floor(this.baseSize.width),this.baseSize.height=Math.floor(this.baseSize.height)),this.displaySize.setSize(b*R,w*R),this.canvas.width=this.baseSize.width,this.canvas.height=this.baseSize.height;var G=this.canvas.style,B=b*R,I=w*R;return A&&(B=Math.floor(B),I=Math.floor(I)),(B!==b||I!==w)&&(G.width=B+"px",G.height=I+"px"),this.refresh(L,D)},setZoom:function(b){return this.zoom=b,this._resetZoom=!0,this.refresh()},setMaxZoom:function(){return this.zoom=this.getMaxZoom(),this._resetZoom=!0,this.refresh()},setSnap:function(b,w){return b===void 0&&(b=0),w===void 0&&(w=b),this.displaySize.setSnap(b,w),this.refresh()},refresh:function(b,w){b===void 0&&(b=this.width),w===void 0&&(w=this.height),this.updateScale(),this.updateBounds(),this.updateOrientation(),this.displayScale.set(this.baseSize.width/this.canvasBounds.width,this.baseSize.height/this.canvasBounds.height);var R=this.game.domContainer;if(R){this.baseSize.setCSS(R);var A=this.canvas.style,L=R.style;L.transform="scale("+this.displaySize.width/this.baseSize.width+","+this.displaySize.height/this.baseSize.height+")",L.marginLeft=A.marginLeft,L.marginTop=A.marginTop}return this.emit(l.RESIZE,this.gameSize,this.baseSize,this.displaySize,b,w),this},updateOrientation:function(){if(this._checkOrientation){this._checkOrientation=!1;var b=c(this.width,this.height);b!==this.orientation&&(this.orientation=b,this.emit(l.ORIENTATION_CHANGE,b))}},updateScale:function(){var b=this.canvas.style,w=this.gameSize.width,R=this.gameSize.height,A,L,D=this.zoom,G=this.autoRound;if(this.scaleMode===a.SCALE_MODE.NONE)this.displaySize.setSize(w*D,R*D),A=this.displaySize.width,L=this.displaySize.height,G&&(A=Math.floor(A),L=Math.floor(L)),this._resetZoom&&(b.width=A+"px",b.height=L+"px",this._resetZoom=!1);else if(this.scaleMode===a.SCALE_MODE.RESIZE)this.displaySize.setSize(this.parentSize.width,this.parentSize.height),this.gameSize.setSize(this.displaySize.width,this.displaySize.height),this.baseSize.setSize(this.displaySize.width,this.displaySize.height),A=this.displaySize.width,L=this.displaySize.height,G&&(A=Math.floor(A),L=Math.floor(L)),this.canvas.width=A,this.canvas.height=L;else if(this.scaleMode===a.SCALE_MODE.EXPAND){var B=this.game.config.width,I=this.game.config.height;this.displaySize.setSize(this.parentSize.width,this.parentSize.height),A=this.displaySize.width,L=this.displaySize.height,G&&(A=Math.floor(A),L=Math.floor(L)),b.width=A+"px",b.height=L+"px";var k=this.parentSize.width/B,z=this.parentSize.height/I;k<z&&k!==0?this.baseSize.setSize(B,this.parentSize.height/k):z!==0&&this.baseSize.setSize(this.displaySize.width/z,I),this.gameSize.setSize(this.baseSize.width,this.baseSize.height),A=this.baseSize.width,L=this.baseSize.height,G&&(A=Math.floor(A),L=Math.floor(L)),this.canvas.width=A,this.canvas.height=L}else this.displaySize.setSize(this.parentSize.width,this.parentSize.height),A=this.displaySize.width,L=this.displaySize.height,G&&(A=Math.floor(A),L=Math.floor(L)),b.width=A+"px",b.height=L+"px";this.getParentBounds(),this.updateCenter()},getMaxZoom:function(){var b=m(this.parentSize.width,this.gameSize.width,0,!0),w=m(this.parentSize.height,this.gameSize.height,0,!0);return Math.max(Math.min(b,w),1)},updateCenter:function(){var b=this.autoCenter;if(b!==a.CENTER.NO_CENTER){var w=this.canvas,R=w.style,A=w.getBoundingClientRect(),L=A.width,D=A.height,G=Math.floor((this.parentSize.width-L)/2),B=Math.floor((this.parentSize.height-D)/2);b===a.CENTER.CENTER_HORIZONTALLY?B=0:b===a.CENTER.CENTER_VERTICALLY&&(G=0),R.marginLeft=G+"px",R.marginTop=B+"px"}},updateBounds:function(){var b=this.canvasBounds,w=this.canvas.getBoundingClientRect();b.x=w.left+(window.pageXOffset||0)-(document.documentElement.clientLeft||0),b.y=w.top+(window.pageYOffset||0)-(document.documentElement.clientTop||0),b.width=w.width,b.height=w.height},transformX:function(b){return(b-this.canvasBounds.left)*this.displayScale.x},transformY:function(b){return(b-this.canvasBounds.top)*this.displayScale.y},startFullscreen:function(b){b===void 0&&(b={navigationUI:"hide"});var w=this.fullscreen;if(!w.available){this.emit(l.FULLSCREEN_UNSUPPORTED);return}if(!w.active){var R=this.getFullscreenTarget();w.keyboard?R[w.request](Element.ALLOW_KEYBOARD_INPUT):R[w.request](b)}},fullscreenSuccessHandler:function(){this.getParentBounds(),this.refresh(),this.emit(l.ENTER_FULLSCREEN)},fullscreenErrorHandler:function(b){this.removeFullscreenTarget(),this.emit(l.FULLSCREEN_FAILED,b)},getFullscreenTarget:function(){if(!this.fullscreenTarget){var b=document.createElement("div");b.style.margin="0",b.style.padding="0",b.style.width="100%",b.style.height="100%",this.fullscreenTarget=b,this._createdFullscreenTarget=!0}if(this._createdFullscreenTarget){var w=this.canvas.parentNode;w.insertBefore(this.fullscreenTarget,this.canvas),this.fullscreenTarget.appendChild(this.canvas)}return this.fullscreenTarget},removeFullscreenTarget:function(){if(this._createdFullscreenTarget){var b=this.fullscreenTarget;if(b&&b.parentNode){var w=b.parentNode;w.insertBefore(this.canvas,b),w.removeChild(b)}}},stopFullscreen:function(){var b=this.fullscreen;if(!b.available)return this.emit(l.FULLSCREEN_UNSUPPORTED),!1;b.active&&document[b.cancel](),this.removeFullscreenTarget()},leaveFullScreenSuccessHandler:function(){this.getParentBounds(),this.emit(l.LEAVE_FULLSCREEN),this.refresh()},toggleFullscreen:function(b){this.fullscreen.active?this.stopFullscreen():this.startFullscreen(b)},startListeners:function(){var b=this,w=this.domlisteners;if(w.orientationChange=function(){b.updateBounds(),b._checkOrientation=!0,b.dirty=!0,b.refresh()},w.windowResize=function(){b.updateBounds(),b.dirty=!0},screen.orientation&&screen.orientation.addEventListener?screen.orientation.addEventListener("change",w.orientationChange,!1):window.addEventListener("orientationchange",w.orientationChange,!1),window.addEventListener("resize",w.windowResize,!1),this.fullscreen.available){w.fullScreenChange=function(A){return b.onFullScreenChange(A)},w.fullScreenError=function(A){return b.onFullScreenError(A)};var R=["webkit","moz",""];R.forEach(function(A){document.addEventListener(A+"fullscreenchange",w.fullScreenChange,!1),document.addEventListener(A+"fullscreenerror",w.fullScreenError,!1)}),document.addEventListener("MSFullscreenChange",w.fullScreenChange,!1),document.addEventListener("MSFullscreenError",w.fullScreenError,!1)}},onFullScreenChange:function(){document.fullscreenElement||document.webkitFullscreenElement||document.msFullscreenElement||document.mozFullScreenElement?this.fullscreenSuccessHandler():(this.stopFullscreen(),this.leaveFullScreenSuccessHandler())},onFullScreenError:function(){this.removeFullscreenTarget()},getViewPort:function(b,w){b instanceof C||(w=b,b=void 0),w===void 0&&(w=new v);var R=this.baseSize,A=this.parentSize,L=this.canvasBounds,D=this.displayScale,G=L.x>=0?0:-(L.x*D.x),B=L.y>=0?0:-(L.y*D.y),I;A.width>=L.width?I=R.width:I=R.width-(L.width-A.width)*D.x;var k;return A.height>=L.height?k=R.height:k=R.height-(L.height-A.height)*D.y,w.setTo(G,B,I,k),b&&(w.width/=b.zoomX,w.height/=b.zoomY,w.centerX=b.centerX+b.scrollX,w.centerY=b.centerY+b.scrollY),w},step:function(b,w){this.parent&&(this._lastCheck+=w,(this.dirty||this._lastCheck>this.resizeInterval)&&(this.getParentBounds()&&this.refresh(),this.dirty=!1,this._lastCheck=0))},stopListeners:function(){var b=this.domlisteners;screen.orientation&&screen.orientation.addEventListener?screen.orientation.removeEventListener("change",b.orientationChange,!1):window.removeEventListener("orientationchange",b.orientationChange,!1),window.removeEventListener("resize",b.windowResize,!1);var w=["webkit","moz",""];w.forEach(function(R){document.removeEventListener(R+"fullscreenchange",b.fullScreenChange,!1),document.removeEventListener(R+"fullscreenerror",b.fullScreenError,!1)}),document.removeEventListener("MSFullscreenChange",b.fullScreenChange,!1),document.removeEventListener("MSFullscreenError",b.fullScreenError,!1)},destroy:function(){this.removeAllListeners(),this.stopListeners(),this.game=null,this.canvas=null,this.canvasBounds=null,this.parent=null,this.fullscreenTarget=null,this.parentSize.destroy(),this.gameSize.destroy(),this.baseSize.destroy(),this.displaySize.destroy()},isFullscreen:{get:function(){return this.fullscreen.active}},width:{get:function(){return this.gameSize.width}},height:{get:function(){return this.gameSize.height}},isPortrait:{get:function(){return this.orientation===a.ORIENTATION.PORTRAIT}},isLandscape:{get:function(){return this.orientation===a.ORIENTATION.LANDSCAPE}},isGamePortrait:{get:function(){return this.height>this.width}},isGameLandscape:{get:function(){return this.width>this.height}}});n.exports=M},64743:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports={NO_CENTER:0,CENTER_BOTH:1,CENTER_HORIZONTALLY:2,CENTER_VERTICALLY:3}},39218:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports={LANDSCAPE:"landscape-primary",LANDSCAPE_SECONDARY:"landscape-secondary",PORTRAIT:"portrait-primary",PORTRAIT_SECONDARY:"portrait-secondary"}},81050:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports={NONE:0,WIDTH_CONTROLS_HEIGHT:1,HEIGHT_CONTROLS_WIDTH:2,FIT:3,ENVELOP:4,RESIZE:5,EXPAND:6}},80805:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports={NO_ZOOM:1,ZOOM_2X:2,ZOOM_4X:4,MAX_ZOOM:-1}},13560:(n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a={CENTER:i(64743),ORIENTATION:i(39218),SCALE_MODE:i(81050),ZOOM:i(80805)};n.exports=a},56139:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="enterfullscreen"},2336:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="fullscreenfailed"},47412:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="fullscreenunsupported"},51452:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="leavefullscreen"},20666:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="orientationchange"},47945:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="resize"},97480:(n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports={ENTER_FULLSCREEN:i(56139),FULLSCREEN_FAILED:i(2336),FULLSCREEN_UNSUPPORTED:i(47412),LEAVE_FULLSCREEN:i(51452),ORIENTATION_CHANGE:i(20666),RESIZE:i(47945)}},93364:(n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=i(79291),x=i(13560),d={Center:i(64743),Events:i(97480),Orientation:i(39218),ScaleManager:i(76531),ScaleModes:i(81050),Zoom:i(80805)};d=a(!1,d,x.CENTER),d=a(!1,d,x.ORIENTATION),d=a(!1,d,x.SCALE_MODE),d=a(!1,d,x.ZOOM),n.exports=d},27397:(n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=i(95540),x=i(35355),d=function(l){var o=l.game.config.defaultPhysicsSystem,s=a(l.settings,"physics",!1);if(!(!o&&!s)){var f=[];if(o&&f.push(x(o+"Physics")),s)for(var c in s)c=x(c.concat("Physics")),f.indexOf(c)===-1&&f.push(c);return f}};n.exports=d},52106:(n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=i(95540),x=function(d){var l=d.plugins.getDefaultScenePlugins(),o=a(d.settings,"plugins",!1);return Array.isArray(o)?o:l||[]};n.exports=x},87033:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T={game:"game",renderer:"renderer",anims:"anims",cache:"cache",plugins:"plugins",registry:"registry",scale:"scale",sound:"sound",textures:"textures",events:"events",cameras:"cameras",add:"add",make:"make",scenePlugin:"scene",displayList:"children",lights:"lights",data:"data",input:"input",load:"load",time:"time",tweens:"tweens",arcadePhysics:"physics",impactPhysics:"impact",matterPhysics:"matter"};n.exports=T},97482:(n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=i(83419),x=i(2368),d=new a({initialize:function(o){this.sys=new x(this,o),this.game,this.anims,this.cache,this.registry,this.sound,this.textures,this.events,this.cameras,this.add,this.make,this.scene,this.children,this.lights,this.data,this.input,this.load,this.time,this.tweens,this.physics,this.matter,this.scale,this.plugins,this.renderer},update:function(){}});n.exports=d},60903:(n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=i(83419),x=i(89993),d=i(44594),l=i(8443),o=i(35154),s=i(54899),f=i(29747),c=i(97482),u=i(2368),v=new a({initialize:function(m,g){if(this.game=m,this.keys={},this.scenes=[],this._pending=[],this._start=[],this._queue=[],this._data={},this.isProcessing=!1,this.isBooted=!1,this.customViewports=0,this.systemScene,g){Array.isArray(g)||(g=[g]);for(var C=0;C<g.length;C++)this._pending.push({key:"default",scene:g[C],autoStart:C===0,data:{}})}m.events.once(l.READY,this.bootQueue,this)},bootQueue:function(){if(!this.isBooted){this.systemScene=this.createSceneFromInstance("__SYSTEM",new c),this.game.events.emit(l.SYSTEM_READY,this.systemScene,this);var p,m,g,C;for(p=0;p<this._pending.length;p++){m=this._pending[p],g=m.key,C=m.scene;var M;C instanceof c?M=this.createSceneFromInstance(g,C):typeof C=="object"?M=this.createSceneFromObject(g,C):typeof C=="function"&&(M=this.createSceneFromFunction(g,C)),g=M.sys.settings.key,this.keys[g]=M,this.scenes.push(M),this._data[g]&&(M.sys.settings.data=this._data[g].data,this._data[g].autoStart&&(m.autoStart=!0)),(m.autoStart||M.sys.settings.active)&&this._start.push(g)}for(this._pending.length=0,this._data={},this.isBooted=!0,p=0;p<this._start.length;p++)m=this._start[p],this.start(m);this._start.length=0}},processQueue:function(){var p=this._pending.length,m=this._queue.length;if(!(p===0&&m===0)){var g,C;if(p){for(g=0;g<p;g++)C=this._pending[g],this.add(C.key,C.scene,C.autoStart,C.data);for(g=0;g<this._start.length;g++)C=this._start[g],this.start(C);this._start.length=0,this._pending.length=0}for(g=0;g<this._queue.length;g++)C=this._queue[g],this[C.op](C.keyA,C.keyB,C.data);this._queue.length=0}},add:function(p,m,g,C){if(g===void 0&&(g=!1),C===void 0&&(C={}),this.isProcessing||!this.isBooted)return this._pending.push({key:p,scene:m,autoStart:g,data:C}),this.isBooted||(this._data[p]={data:C}),null;p=this.getKey(p,m);var M;return m instanceof c?M=this.createSceneFromInstance(p,m):typeof m=="object"?(m.key=p,M=this.createSceneFromObject(p,m)):typeof m=="function"&&(M=this.createSceneFromFunction(p,m)),M.sys.settings.data=C,p=M.sys.settings.key,this.keys[p]=M,this.scenes.push(M),(g||M.sys.settings.active)&&(this._pending.length?this._start.push(p):this.start(p)),M},remove:function(p){if(this.isProcessing)return this.queueOp("remove",p);var m=this.getScene(p);if(!m||m.sys.isTransitioning())return this;var g=this.scenes.indexOf(m),C=m.sys.settings.key;return g>-1&&(delete this.keys[C],this.scenes.splice(g,1),this._start.indexOf(C)>-1&&(g=this._start.indexOf(C),this._start.splice(g,1)),m.sys.destroy()),this},bootScene:function(p){var m=p.sys,g=m.settings;m.sceneUpdate=f,p.init&&(p.init.call(p,g.data),g.status=x.INIT,g.isTransition&&m.events.emit(d.TRANSITION_INIT,g.transitionFrom,g.transitionDuration));var C;m.load&&(C=m.load,C.reset()),C&&p.preload?(p.preload.call(p),g.status=x.LOADING,C.once(s.COMPLETE,this.loadComplete,this),C.start()):this.create(p)},loadComplete:function(p){this.create(p.scene)},payloadComplete:function(p){this.bootScene(p.scene)},update:function(p,m){this.processQueue(),this.isProcessing=!0;for(var g=this.scenes.length-1;g>=0;g--){var C=this.scenes[g].sys;C.settings.status>x.START&&C.settings.status<=x.RUNNING&&C.step(p,m),C.scenePlugin&&C.scenePlugin._target&&C.scenePlugin.step(p,m)}},render:function(p){for(var m=0;m<this.scenes.length;m++){var g=this.scenes[m].sys;g.settings.visible&&g.settings.status>=x.LOADING&&g.settings.status<x.SLEEPING&&g.render(p)}this.isProcessing=!1},create:function(p){var m=p.sys,g=m.settings;p.create&&(g.status=x.CREATING,p.create.call(p,g.data),g.status===x.DESTROYED)||(g.isTransition&&m.events.emit(d.TRANSITION_START,g.transitionFrom,g.transitionDuration),p.update&&(m.sceneUpdate=p.update),g.status=x.RUNNING,m.events.emit(d.CREATE,p))},createSceneFromFunction:function(p,m){var g=new m;if(g instanceof c){var C=g.sys.settings.key;if(C!==""&&(p=C),this.keys.hasOwnProperty(p))throw new Error("Cannot add Scene with duplicate key: "+p);return this.createSceneFromInstance(p,g)}else return g.sys=new u(g),g.sys.settings.key=p,g.sys.init(this.game),g},createSceneFromInstance:function(p,m){var g=m.sys.settings.key;return g===""&&(m.sys.settings.key=p),m.sys.init(this.game),m},createSceneFromObject:function(p,m){var g=new c(m),C=g.sys.settings.key;C!==""?p=C:g.sys.settings.key=p,g.sys.init(this.game);for(var M=["init","preload","create","update","render"],b=0;b<M.length;b++){var w=o(m,M[b],null);w&&(g[M[b]]=w)}if(m.hasOwnProperty("extend")){for(var R in m.extend)if(m.extend.hasOwnProperty(R)){var A=m.extend[R];R==="data"&&g.hasOwnProperty("data")&&typeof A=="object"?g.data.merge(A):R!=="sys"&&(g[R]=A)}}return g},getKey:function(p,m){if(p||(p="default"),typeof m=="function")return p;if(m instanceof c?p=m.sys.settings.key:typeof m=="object"&&m.hasOwnProperty("key")&&(p=m.key),this.keys.hasOwnProperty(p))throw new Error("Cannot add Scene with duplicate key: "+p);return p},getScenes:function(p,m){p===void 0&&(p=!0),m===void 0&&(m=!1);for(var g=[],C=this.scenes,M=0;M<C.length;M++){var b=C[M];b&&(!p||p&&b.sys.isActive())&&g.push(b)}return m?g.reverse():g},getScene:function(p){if(typeof p=="string"){if(this.keys[p])return this.keys[p]}else for(var m=0;m<this.scenes.length;m++)if(p===this.scenes[m])return p;return null},isActive:function(p){var m=this.getScene(p);return m?m.sys.isActive():null},isPaused:function(p){var m=this.getScene(p);return m?m.sys.isPaused():null},isVisible:function(p){var m=this.getScene(p);return m?m.sys.isVisible():null},isSleeping:function(p){var m=this.getScene(p);return m?m.sys.isSleeping():null},pause:function(p,m){var g=this.getScene(p);return g&&g.sys.pause(m),this},resume:function(p,m){var g=this.getScene(p);return g&&g.sys.resume(m),this},sleep:function(p,m){var g=this.getScene(p);return g&&!g.sys.isTransitioning()&&g.sys.sleep(m),this},wake:function(p,m){var g=this.getScene(p);return g&&g.sys.wake(m),this},run:function(p,m){var g=this.getScene(p);if(!g){for(var C=0;C<this._pending.length;C++)if(this._pending[C].key===p){this.queueOp("start",p,m);break}return this}g.sys.isSleeping()?g.sys.wake(m):g.sys.isPaused()?g.sys.resume(m):this.start(p,m)},start:function(p,m){if(!this.isBooted)return this._data[p]={autoStart:!0,data:m},this;var g=this.getScene(p);if(!g)return console.warn("Scene key not found: "+p),this;var C=g.sys,M=C.settings.status;if(M>=x.START&&M<=x.CREATING)return this;if(M>=x.RUNNING&&M<=x.SLEEPING)C.shutdown(),C.sceneUpdate=f,C.start(m);else{C.sceneUpdate=f,C.start(m);var b;if(C.load&&(b=C.load),b&&C.settings.hasOwnProperty("pack")&&(b.reset(),b.addPack({payload:C.settings.pack})))return C.settings.status=x.LOADING,b.once(s.COMPLETE,this.payloadComplete,this),b.start(),this}return this.bootScene(g),this},stop:function(p,m){var g=this.getScene(p);if(g&&!g.sys.isTransitioning()&&g.sys.settings.status!==x.SHUTDOWN){var C=g.sys.load;C&&(C.off(s.COMPLETE,this.loadComplete,this),C.off(s.COMPLETE,this.payloadComplete,this)),g.sys.shutdown(m)}return this},switch:function(p,m,g){var C=this.getScene(p),M=this.getScene(m);return C&&M&&C!==M&&(this.sleep(p),this.isSleeping(m)?this.wake(m,g):this.start(m,g)),this},getAt:function(p){return this.scenes[p]},getIndex:function(p){var m=this.getScene(p);return this.scenes.indexOf(m)},bringToTop:function(p){if(this.isProcessing)return this.queueOp("bringToTop",p);var m=this.getIndex(p),g=this.scenes;if(m!==-1&&m<g.length){var C=this.getScene(p);g.splice(m,1),g.push(C)}return this},sendToBack:function(p){if(this.isProcessing)return this.queueOp("sendToBack",p);var m=this.getIndex(p);if(m!==-1&&m>0){var g=this.getScene(p);this.scenes.splice(m,1),this.scenes.unshift(g)}return this},moveDown:function(p){if(this.isProcessing)return this.queueOp("moveDown",p);var m=this.getIndex(p);if(m>0){var g=m-1,C=this.getScene(p),M=this.getAt(g);this.scenes[m]=M,this.scenes[g]=C}return this},moveUp:function(p){if(this.isProcessing)return this.queueOp("moveUp",p);var m=this.getIndex(p);if(m<this.scenes.length-1){var g=m+1,C=this.getScene(p),M=this.getAt(g);this.scenes[m]=M,this.scenes[g]=C}return this},moveAbove:function(p,m){if(p===m)return this;if(this.isProcessing)return this.queueOp("moveAbove",p,m);var g=this.getIndex(p),C=this.getIndex(m);if(g!==-1&&C!==-1&&C<g){var M=this.getAt(C);this.scenes.splice(C,1),this.scenes.splice(g+(C>g),0,M)}return this},moveBelow:function(p,m){if(p===m)return this;if(this.isProcessing)return this.queueOp("moveBelow",p,m);var g=this.getIndex(p),C=this.getIndex(m);if(g!==-1&&C!==-1&&C>g){var M=this.getAt(C);this.scenes.splice(C,1),g===0?this.scenes.unshift(M):this.scenes.splice(g-(C<g),0,M)}return this},queueOp:function(p,m,g,C){return this._queue.push({op:p,keyA:m,keyB:g,data:C}),this},swapPosition:function(p,m){if(p===m)return this;if(this.isProcessing)return this.queueOp("swapPosition",p,m);var g=this.getIndex(p),C=this.getIndex(m);if(g!==C&&g!==-1&&C!==-1){var M=this.getAt(g);this.scenes[g]=this.scenes[C],this.scenes[C]=M}return this},dump:function(){for(var p=[],m=["pending","init","start","loading","creating","running","paused","sleeping","shutdown","destroyed"],g=0;g<this.scenes.length;g++){var C=this.scenes[g].sys,M=C.settings.visible&&(C.settings.status===x.RUNNING||C.settings.status===x.PAUSED)?"[*] ":"[-] ";M+=C.settings.key+" ("+m[C.settings.status]+")",p.push(M)}console.log(p.join(`
`))},destroy:function(){for(var p=0;p<this.scenes.length;p++){var m=this.scenes[p].sys;m.destroy()}this.systemScene.sys.destroy(),this.update=f,this.scenes=[],this._pending=[],this._start=[],this._queue=[],this.game=null,this.systemScene=null}});n.exports=v},52209:(n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=i(45319),x=i(83419),d=i(44594),l=i(95540),o=i(37277),s=new x({initialize:function(c){this.scene=c,this.systems=c.sys,this.settings=c.sys.settings,this.key=c.sys.settings.key,this.manager=c.sys.game.scene,this.transitionProgress=0,this._elapsed=0,this._target=null,this._duration=0,this._onUpdate,this._onUpdateScope,this._willSleep=!1,this._willRemove=!1,c.sys.events.once(d.BOOT,this.boot,this),c.sys.events.on(d.START,this.pluginStart,this)},boot:function(){this.systems.events.once(d.DESTROY,this.destroy,this)},pluginStart:function(){this._target=null,this.systems.events.once(d.SHUTDOWN,this.shutdown,this)},start:function(f,c){return f===void 0&&(f=this.key),this.manager.queueOp("stop",this.key),this.manager.queueOp("start",f,c),this},restart:function(f){var c=this.key;return this.manager.queueOp("stop",c),this.manager.queueOp("start",c,f),this},transition:function(f){f===void 0&&(f={});var c=l(f,"target",!1),u=this.manager.getScene(c);if(!c||!this.checkValidTransition(u))return!1;var v=l(f,"duration",1e3);this._elapsed=0,this._target=u,this._duration=v,this._willSleep=l(f,"sleep",!1),this._willRemove=l(f,"remove",!1);var p=l(f,"onUpdate",null);p&&(this._onUpdate=p,this._onUpdateScope=l(f,"onUpdateScope",this.scene));var m=l(f,"allowInput",!1);this.settings.transitionAllowInput=m;var g=u.sys.settings;g.isTransition=!0,g.transitionFrom=this.scene,g.transitionDuration=v,g.transitionAllowInput=m,l(f,"moveAbove",!1)?this.manager.moveAbove(this.key,c):l(f,"moveBelow",!1)&&this.manager.moveBelow(this.key,c),u.sys.isSleeping()?u.sys.wake(l(f,"data")):this.manager.start(c,l(f,"data"));var C=l(f,"onStart",null),M=l(f,"onStartScope",this.scene);return C&&C.call(M,this.scene,u,v),this.systems.events.emit(d.TRANSITION_OUT,u,v),!0},checkValidTransition:function(f){return!(!f||f.sys.isActive()||f.sys.isTransitioning()||f===this.scene||this.systems.isTransitioning())},step:function(f,c){this._elapsed+=c,this.transitionProgress=a(this._elapsed/this._duration,0,1),this._onUpdate&&this._onUpdate.call(this._onUpdateScope,this.transitionProgress),this._elapsed>=this._duration&&this.transitionComplete()},transitionComplete:function(){var f=this._target.sys,c=this._target.sys.settings;f.events.emit(d.TRANSITION_COMPLETE,this.scene),c.isTransition=!1,c.transitionFrom=null,this._duration=0,this._target=null,this._onUpdate=null,this._onUpdateScope=null,this._willRemove?this.manager.remove(this.key):this._willSleep?this.systems.sleep():this.manager.stop(this.key)},add:function(f,c,u,v){return this.manager.add(f,c,u,v)},launch:function(f,c){return f&&f!==this.key&&this.manager.queueOp("start",f,c),this},run:function(f,c){return f&&f!==this.key&&this.manager.queueOp("run",f,c),this},pause:function(f,c){return f===void 0&&(f=this.key),this.manager.queueOp("pause",f,c),this},resume:function(f,c){return f===void 0&&(f=this.key),this.manager.queueOp("resume",f,c),this},sleep:function(f,c){return f===void 0&&(f=this.key),this.manager.queueOp("sleep",f,c),this},wake:function(f,c){return f===void 0&&(f=this.key),this.manager.queueOp("wake",f,c),this},switch:function(f,c){return f!==this.key&&this.manager.queueOp("switch",this.key,f,c),this},stop:function(f,c){return f===void 0&&(f=this.key),this.manager.queueOp("stop",f,c),this},setActive:function(f,c,u){c===void 0&&(c=this.key);var v=this.manager.getScene(c);return v&&v.sys.setActive(f,u),this},setVisible:function(f,c){c===void 0&&(c=this.key);var u=this.manager.getScene(c);return u&&u.sys.setVisible(f),this},isSleeping:function(f){return f===void 0&&(f=this.key),this.manager.isSleeping(f)},isActive:function(f){return f===void 0&&(f=this.key),this.manager.isActive(f)},isPaused:function(f){return f===void 0&&(f=this.key),this.manager.isPaused(f)},isVisible:function(f){return f===void 0&&(f=this.key),this.manager.isVisible(f)},swapPosition:function(f,c){return c===void 0&&(c=this.key),f!==c&&this.manager.swapPosition(f,c),this},moveAbove:function(f,c){return c===void 0&&(c=this.key),f!==c&&this.manager.moveAbove(f,c),this},moveBelow:function(f,c){return c===void 0&&(c=this.key),f!==c&&this.manager.moveBelow(f,c),this},remove:function(f){return f===void 0&&(f=this.key),this.manager.remove(f),this},moveUp:function(f){return f===void 0&&(f=this.key),this.manager.moveUp(f),this},moveDown:function(f){return f===void 0&&(f=this.key),this.manager.moveDown(f),this},bringToTop:function(f){return f===void 0&&(f=this.key),this.manager.bringToTop(f),this},sendToBack:function(f){return f===void 0&&(f=this.key),this.manager.sendToBack(f),this},get:function(f){return this.manager.getScene(f)},getStatus:function(f){var c=this.manager.getScene(f);if(c)return c.sys.getStatus()},getIndex:function(f){return f===void 0&&(f=this.key),this.manager.getIndex(f)},shutdown:function(){var f=this.systems.events;f.off(d.SHUTDOWN,this.shutdown,this),f.off(d.TRANSITION_OUT)},destroy:function(){this.shutdown(),this.scene.sys.events.off(d.START,this.start,this),this.scene=null,this.systems=null,this.settings=null,this.manager=null}});o.register("ScenePlugin",s,"scenePlugin"),n.exports=s},55681:(n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=i(89993),x=i(35154),d=i(46975),l=i(87033),o={create:function(s){return typeof s=="string"?s={key:s}:s===void 0&&(s={}),{status:a.PENDING,key:x(s,"key",""),active:x(s,"active",!1),visible:x(s,"visible",!0),isBooted:!1,isTransition:!1,transitionFrom:null,transitionDuration:0,transitionAllowInput:!0,data:{},pack:x(s,"pack",!1),cameras:x(s,"cameras",null),map:x(s,"map",d(l,x(s,"mapAdd",{}))),physics:x(s,"physics",{}),loader:x(s,"loader",{}),plugins:x(s,"plugins",!1),input:x(s,"input",{})}}};n.exports=o},2368:(n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=i(83419),x=i(89993),d=i(42363),l=i(44594),o=i(27397),s=i(52106),f=i(29747),c=i(55681),u=new a({initialize:function(p,m){this.scene=p,this.game,this.renderer,this.config=m,this.settings=c.create(m),this.canvas,this.context,this.anims,this.cache,this.plugins,this.registry,this.scale,this.sound,this.textures,this.add,this.cameras,this.displayList,this.events,this.make,this.scenePlugin,this.updateList,this.sceneUpdate=f},init:function(v){this.settings.status=x.INIT,this.sceneUpdate=f,this.game=v,this.renderer=v.renderer,this.canvas=v.canvas,this.context=v.context;var p=v.plugins;this.plugins=p,p.addToScene(this,d.Global,[d.CoreScene,s(this),o(this)]),this.events.emit(l.BOOT,this),this.settings.isBooted=!0},step:function(v,p){var m=this.events;m.emit(l.PRE_UPDATE,v,p),m.emit(l.UPDATE,v,p),this.sceneUpdate.call(this.scene,v,p),m.emit(l.POST_UPDATE,v,p)},render:function(v){var p=this.displayList;p.depthSort(),this.events.emit(l.PRE_RENDER,v),this.cameras.render(v,p),this.events.emit(l.RENDER,v)},queueDepthSort:function(){this.displayList.queueDepthSort()},depthSort:function(){this.displayList.depthSort()},pause:function(v){var p=this.settings,m=this.getStatus();return m!==x.CREATING&&m!==x.RUNNING?console.warn("Cannot pause non-running Scene",p.key):this.settings.active&&(p.status=x.PAUSED,p.active=!1,this.events.emit(l.PAUSE,this,v)),this},resume:function(v){var p=this.events,m=this.settings;return this.settings.active||(m.status=x.RUNNING,m.active=!0,p.emit(l.RESUME,this,v)),this},sleep:function(v){var p=this.settings,m=this.getStatus();return m!==x.CREATING&&m!==x.RUNNING?console.warn("Cannot sleep non-running Scene",p.key):(p.status=x.SLEEPING,p.active=!1,p.visible=!1,this.events.emit(l.SLEEP,this,v)),this},wake:function(v){var p=this.events,m=this.settings;return m.status=x.RUNNING,m.active=!0,m.visible=!0,p.emit(l.WAKE,this,v),m.isTransition&&p.emit(l.TRANSITION_WAKE,m.transitionFrom,m.transitionDuration),this},getData:function(){return this.settings.data},getStatus:function(){return this.settings.status},canInput:function(){var v=this.settings.status;return v>x.PENDING&&v<=x.RUNNING},isSleeping:function(){return this.settings.status===x.SLEEPING},isActive:function(){return this.settings.status===x.RUNNING},isPaused:function(){return this.settings.status===x.PAUSED},isTransitioning:function(){return this.settings.isTransition||this.scenePlugin._target!==null},isTransitionOut:function(){return this.scenePlugin._target!==null&&this.scenePlugin._duration>0},isTransitionIn:function(){return this.settings.isTransition},isVisible:function(){return this.settings.visible},setVisible:function(v){return this.settings.visible=v,this},setActive:function(v,p){return v?this.resume(p):this.pause(p)},start:function(v){var p=this.events,m=this.settings;v&&(m.data=v),m.status=x.START,m.active=!0,m.visible=!0,p.emit(l.START,this),p.emit(l.READY,this,v)},shutdown:function(v){var p=this.events,m=this.settings;p.off(l.TRANSITION_INIT),p.off(l.TRANSITION_START),p.off(l.TRANSITION_COMPLETE),p.off(l.TRANSITION_OUT),m.status=x.SHUTDOWN,m.active=!1,m.visible=!1,p.emit(l.SHUTDOWN,this,v)},destroy:function(){var v=this.events,p=this.settings;p.status=x.DESTROYED,p.active=!1,p.visible=!1,v.emit(l.DESTROY,this),v.removeAllListeners();for(var m=["scene","game","anims","cache","plugins","registry","sound","textures","add","camera","displayList","events","make","scenePlugin","updateList"],g=0;g<m.length;g++)this[m[g]]=null}});n.exports=u},89993:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T={PENDING:0,INIT:1,START:2,LOADING:3,CREATING:4,RUNNING:5,PAUSED:6,SLEEPING:7,SHUTDOWN:8,DESTROYED:9};n.exports=T},69830:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="addedtoscene"},7919:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="boot"},46763:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="create"},11763:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="destroy"},71555:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="pause"},36735:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="postupdate"},3809:n=>{/**
 * @author       samme
 * @copyright    2021 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="prerender"},90716:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="preupdate"},58262:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="ready"},91633:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="removedfromscene"},10319:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="render"},87132:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="resume"},81961:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="shutdown"},90194:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="sleep"},6265:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="start"},33178:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="transitioncomplete"},43063:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="transitioninit"},11259:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="transitionout"},61611:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="transitionstart"},45209:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="transitionwake"},22966:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="update"},21747:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="wake"},44594:(n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports={ADDED_TO_SCENE:i(69830),BOOT:i(7919),CREATE:i(46763),DESTROY:i(11763),PAUSE:i(71555),POST_UPDATE:i(36735),PRE_RENDER:i(3809),PRE_UPDATE:i(90716),READY:i(58262),REMOVED_FROM_SCENE:i(91633),RENDER:i(10319),RESUME:i(87132),SHUTDOWN:i(81961),SLEEP:i(90194),START:i(6265),TRANSITION_COMPLETE:i(33178),TRANSITION_INIT:i(43063),TRANSITION_OUT:i(11259),TRANSITION_START:i(61611),TRANSITION_WAKE:i(45209),UPDATE:i(22966),WAKE:i(21747)}},62194:(n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=i(89993),x=i(79291),d={Events:i(44594),GetPhysicsPlugins:i(27397),GetScenePlugins:i(52106),SceneManager:i(60903),ScenePlugin:i(52209),Settings:i(55681),Systems:i(2368)};d=x(!1,d,a),n.exports=d},30341:(n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @author       Pavle Goloskokovic <pgoloskokovic@gmail.com> (http://prunegames.com)
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=i(83419),x=i(50792),d=i(14463),l=i(79291),o=i(29747),s=new a({Extends:x,initialize:function(c,u,v){x.call(this),this.manager=c,this.key=u,this.isPlaying=!1,this.isPaused=!1,this.totalRate=1,this.duration=this.duration||0,this.totalDuration=this.totalDuration||0,this.config={mute:!1,volume:1,rate:1,detune:0,seek:0,loop:!1,delay:0,pan:0},this.currentConfig=this.config,this.config=l(this.config,v),this.markers={},this.currentMarker=null,this.pendingRemove=!1},addMarker:function(f){return!f||!f.name||typeof f.name!="string"?!1:this.markers[f.name]?(console.error("addMarker "+f.name+" already exists in Sound"),!1):(f=l(!0,{name:"",start:0,duration:this.totalDuration-(f.start||0),config:{mute:!1,volume:1,rate:1,detune:0,seek:0,loop:!1,delay:0,pan:0}},f),this.markers[f.name]=f,!0)},updateMarker:function(f){return!f||!f.name||typeof f.name!="string"?!1:this.markers[f.name]?(this.markers[f.name]=l(!0,this.markers[f.name],f),!0):(console.warn("Audio Marker: "+f.name+" missing in Sound: "+this.key),!1)},removeMarker:function(f){var c=this.markers[f];return c?(this.markers[f]=null,c):null},play:function(f,c){if(f===void 0&&(f=""),typeof f=="object"&&(c=f,f=""),typeof f!="string")return!1;if(!f)this.currentMarker=null,this.currentConfig=this.config,this.duration=this.totalDuration;else{if(!this.markers[f])return console.warn("Marker: "+f+" missing in Sound: "+this.key),!1;this.currentMarker=this.markers[f],this.currentConfig=this.currentMarker.config,this.duration=this.currentMarker.duration}return this.resetConfig(),this.currentConfig=l(this.currentConfig,c),this.isPlaying=!0,this.isPaused=!1,!0},pause:function(){return this.isPaused||!this.isPlaying?!1:(this.isPlaying=!1,this.isPaused=!0,!0)},resume:function(){return!this.isPaused||this.isPlaying?!1:(this.isPlaying=!0,this.isPaused=!1,!0)},stop:function(){return!this.isPaused&&!this.isPlaying?!1:(this.isPlaying=!1,this.isPaused=!1,this.resetConfig(),!0)},applyConfig:function(){this.mute=this.currentConfig.mute,this.volume=this.currentConfig.volume,this.rate=this.currentConfig.rate,this.detune=this.currentConfig.detune,this.loop=this.currentConfig.loop,this.pan=this.currentConfig.pan},resetConfig:function(){this.currentConfig.seek=0,this.currentConfig.delay=0},update:o,calculateRate:function(){var f=1.0005777895065548,c=this.currentConfig.detune+this.manager.detune,u=Math.pow(f,c);this.totalRate=this.currentConfig.rate*this.manager.rate*u},destroy:function(){this.pendingRemove||(this.stop(),this.emit(d.DESTROY,this),this.removeAllListeners(),this.pendingRemove=!0,this.manager=null,this.config=null,this.currentConfig=null,this.markers=null,this.currentMarker=null)}});n.exports=s},85034:(n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @author       Pavle Goloskokovic <pgoloskokovic@gmail.com> (http://prunegames.com)
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=i(83419),x=i(41786),d=i(50792),l=i(14463),o=i(8443),s=i(46710),f=i(58731),c=i(29747),u=i(26099),v=new a({Extends:d,initialize:function(m){d.call(this),this.game=m,this.jsonCache=m.cache.json,this.sounds=[],this.mute=!1,this.volume=1,this.pauseOnBlur=!0,this._rate=1,this._detune=0,this.locked=this.locked||!1,this.unlocked=!1,this.gameLostFocus=!1,this.listenerPosition=new u;var g=m.events;g.on(o.BLUR,this.onGameBlur,this),g.on(o.FOCUS,this.onGameFocus,this),g.on(o.PRE_STEP,this.update,this),g.once(o.DESTROY,this.destroy,this)},add:c,addAudioSprite:function(p,m){m===void 0&&(m={});var g=this.add(p,m);g.spritemap=this.jsonCache.get(p).spritemap;for(var C in g.spritemap)if(g.spritemap.hasOwnProperty(C)){var M=x(m),b=g.spritemap[C];M.loop=b.hasOwnProperty("loop")?b.loop:!1,g.addMarker({name:C,start:b.start,duration:b.end-b.start,config:M})}return g},get:function(p){return f(this.sounds,"key",p)},getAll:function(p){return p?s(this.sounds,"key",p):s(this.sounds)},getAllPlaying:function(){return s(this.sounds,"isPlaying",!0)},play:function(p,m){var g=this.add(p);return g.once(l.COMPLETE,g.destroy,g),m?m.name?(g.addMarker(m),g.play(m.name)):g.play(m):g.play()},playAudioSprite:function(p,m,g){var C=this.addAudioSprite(p);return C.once(l.COMPLETE,C.destroy,C),C.play(m,g)},remove:function(p){var m=this.sounds.indexOf(p);return m!==-1?(p.destroy(),this.sounds.splice(m,1),!0):!1},removeAll:function(){this.sounds.forEach(function(p){p.destroy()}),this.sounds.length=0},removeByKey:function(p){for(var m=0,g=this.sounds.length-1;g>=0;g--){var C=this.sounds[g];C.key===p&&(C.destroy(),this.sounds.splice(g,1),m++)}return m},pauseAll:function(){this.forEachActiveSound(function(p){p.pause()}),this.emit(l.PAUSE_ALL,this)},resumeAll:function(){this.forEachActiveSound(function(p){p.resume()}),this.emit(l.RESUME_ALL,this)},setListenerPosition:c,stopAll:function(){this.forEachActiveSound(function(p){p.stop()}),this.emit(l.STOP_ALL,this)},stopByKey:function(p){var m=0;return this.getAll(p).forEach(function(g){g.stop()&&m++}),m},isPlaying:function(p){var m=this.sounds,g=m.length-1,C;if(p===void 0){for(;g>=0;g--)if(C=this.sounds[g],C.isPlaying)return!0}else for(;g>=0;g--)if(C=this.sounds[g],C.key===p&&C.isPlaying)return!0;return!1},unlock:c,onBlur:c,onFocus:c,onGameBlur:function(){this.gameLostFocus=!0,this.pauseOnBlur&&this.onBlur()},onGameFocus:function(){this.gameLostFocus=!1,this.pauseOnBlur&&this.onFocus()},update:function(p,m){this.unlocked&&(this.unlocked=!1,this.locked=!1,this.emit(l.UNLOCKED,this));for(var g=this.sounds.length-1;g>=0;g--)this.sounds[g].pendingRemove&&this.sounds.splice(g,1);this.sounds.forEach(function(C){C.update(p,m)})},destroy:function(){this.game.events.off(o.BLUR,this.onGameBlur,this),this.game.events.off(o.FOCUS,this.onGameFocus,this),this.game.events.off(o.PRE_STEP,this.update,this),this.removeAllListeners(),this.removeAll(),this.sounds.length=0,this.sounds=null,this.listenerPosition=null,this.game=null},forEachActiveSound:function(p,m){var g=this;this.sounds.forEach(function(C,M){C&&!C.pendingRemove&&p.call(m||g,C,M,g.sounds)})},setRate:function(p){return this.rate=p,this},rate:{get:function(){return this._rate},set:function(p){this._rate=p,this.forEachActiveSound(function(m){m.calculateRate()}),this.emit(l.GLOBAL_RATE,this,p)}},setDetune:function(p){return this.detune=p,this},detune:{get:function(){return this._detune},set:function(p){this._detune=p,this.forEachActiveSound(function(m){m.calculateRate()}),this.emit(l.GLOBAL_DETUNE,this,p)}}});n.exports=v},14747:(n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @author       Pavle Goloskokovic <pgoloskokovic@gmail.com> (http://prunegames.com)
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=i(33684),x=i(25960),d=i(57490),l={create:function(o){var s=o.config.audio,f=o.device.audio;return s.noAudio||!f.webAudio&&!f.audioData?new x(o):f.webAudio&&!s.disableWebAudio?new d(o):new a(o)}};n.exports=l},19723:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="complete"},98882:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="decodedall"},57506:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="decoded"},73146:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="destroy"},11305:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="detune"},40577:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="detune"},30333:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="mute"},20394:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="rate"},21802:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="volume"},1299:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="looped"},99190:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="loop"},97125:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="mute"},89259:n=>{/**
 * @author       pi-kei
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="pan"},79986:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="pauseall"},17586:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="pause"},19618:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="play"},42306:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="rate"},10387:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="resumeall"},48959:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="resume"},9960:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="seek"},19180:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="stopall"},98328:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="stop"},50401:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="unlocked"},52498:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="volume"},14463:(n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports={COMPLETE:i(19723),DECODED:i(57506),DECODED_ALL:i(98882),DESTROY:i(73146),DETUNE:i(11305),GLOBAL_DETUNE:i(40577),GLOBAL_MUTE:i(30333),GLOBAL_RATE:i(20394),GLOBAL_VOLUME:i(21802),LOOP:i(99190),LOOPED:i(1299),MUTE:i(97125),PAN:i(89259),PAUSE_ALL:i(79986),PAUSE:i(17586),PLAY:i(19618),RATE:i(42306),RESUME_ALL:i(10387),RESUME:i(48959),SEEK:i(9960),STOP_ALL:i(19180),STOP:i(98328),UNLOCKED:i(50401),VOLUME:i(52498)}},64895:(n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @author       Pavle Goloskokovic <pgoloskokovic@gmail.com> (http://prunegames.com)
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=i(30341),x=i(83419),d=i(14463),l=i(45319),o=new x({Extends:a,initialize:function(f,c,u){if(u===void 0&&(u={}),this.tags=f.game.cache.audio.get(c),!this.tags)throw new Error('No cached audio asset with key "'+c);this.audio=null,this.startTime=0,this.previousTime=0,this.duration=this.tags[0].duration,this.totalDuration=this.tags[0].duration,a.call(this,f,c,u)},play:function(s,f){return this.manager.isLocked(this,"play",[s,f])||!a.prototype.play.call(this,s,f)||!this.pickAndPlayAudioTag()?!1:(this.emit(d.PLAY,this),!0)},pause:function(){return this.manager.isLocked(this,"pause")||this.startTime>0||!a.prototype.pause.call(this)?!1:(this.currentConfig.seek=this.audio.currentTime-(this.currentMarker?this.currentMarker.start:0),this.stopAndReleaseAudioTag(),this.emit(d.PAUSE,this),!0)},resume:function(){return this.manager.isLocked(this,"resume")||this.startTime>0||!a.prototype.resume.call(this)||!this.pickAndPlayAudioTag()?!1:(this.emit(d.RESUME,this),!0)},stop:function(){return this.manager.isLocked(this,"stop")||!a.prototype.stop.call(this)?!1:(this.stopAndReleaseAudioTag(),this.emit(d.STOP,this),!0)},pickAndPlayAudioTag:function(){if(!this.pickAudioTag())return this.reset(),!1;var s=this.currentConfig.seek,f=this.currentConfig.delay,c=(this.currentMarker?this.currentMarker.start:0)+s;return this.previousTime=c,this.audio.currentTime=c,this.applyConfig(),f===0?(this.startTime=0,this.audio.paused&&this.playCatchPromise()):(this.startTime=window.performance.now()+f*1e3,this.audio.paused||this.audio.pause()),this.resetConfig(),!0},pickAudioTag:function(){if(this.audio)return!0;for(var s=0;s<this.tags.length;s++){var f=this.tags[s];if(f.dataset.used==="false")return f.dataset.used="true",this.audio=f,!0}if(!this.manager.override)return!1;var c=[];this.manager.forEachActiveSound(function(v){v.key===this.key&&v.audio&&c.push(v)},this),c.sort(function(v,p){return v.loop===p.loop?p.seek/p.duration-v.seek/v.duration:v.loop?1:-1});var u=c[0];return this.audio=u.audio,u.reset(),u.audio=null,u.startTime=0,u.previousTime=0,!0},playCatchPromise:function(){var s=this.audio.play();s&&s.catch(function(f){console.warn(f)})},stopAndReleaseAudioTag:function(){this.startTime=0,this.previousTime=0,this.audio&&(this.audio.pause(),this.audio.dataset.used="false",this.audio=null)},reset:function(){a.prototype.stop.call(this)},onBlur:function(){this.isPlaying=!1,this.isPaused=!0,this.currentConfig.seek=this.audio.currentTime-(this.currentMarker?this.currentMarker.start:0),this.currentConfig.delay=Math.max(0,(this.startTime-window.performance.now())/1e3),this.stopAndReleaseAudioTag()},onFocus:function(){this.isPlaying=!0,this.isPaused=!1,this.pickAndPlayAudioTag()},update:function(s){if(this.isPlaying){if(this.startTime>0){this.startTime<s-this.manager.audioPlayDelay&&(this.audio.currentTime+=Math.max(0,s-this.startTime)/1e3,this.startTime=0,this.previousTime=this.audio.currentTime,this.playCatchPromise());return}var f=this.currentMarker?this.currentMarker.start:0,c=f+this.duration,u=this.audio.currentTime;if(this.currentConfig.loop)u>=c-this.manager.loopEndOffset?(this.audio.currentTime=f+Math.max(0,u-c),u=this.audio.currentTime):u<f&&(this.audio.currentTime+=f,u=this.audio.currentTime),u<this.previousTime&&this.emit(d.LOOPED,this);else if(u>=c){this.reset(),this.stopAndReleaseAudioTag(),this.emit(d.COMPLETE,this);return}this.previousTime=u}},destroy:function(){a.prototype.destroy.call(this),this.tags=null,this.audio&&this.stopAndReleaseAudioTag()},updateMute:function(){this.audio&&(this.audio.muted=this.currentConfig.mute||this.manager.mute)},updateVolume:function(){this.audio&&(this.audio.volume=l(this.currentConfig.volume*this.manager.volume,0,1))},calculateRate:function(){a.prototype.calculateRate.call(this),this.audio&&(this.audio.playbackRate=this.totalRate)},mute:{get:function(){return this.currentConfig.mute},set:function(s){this.currentConfig.mute=s,!this.manager.isLocked(this,"mute",s)&&(this.updateMute(),this.emit(d.MUTE,this,s))}},setMute:function(s){return this.mute=s,this},volume:{get:function(){return this.currentConfig.volume},set:function(s){this.currentConfig.volume=s,!this.manager.isLocked(this,"volume",s)&&(this.updateVolume(),this.emit(d.VOLUME,this,s))}},setVolume:function(s){return this.volume=s,this},rate:{get:function(){return this.currentConfig.rate},set:function(s){this.currentConfig.rate=s,!this.manager.isLocked(this,d.RATE,s)&&(this.calculateRate(),this.emit(d.RATE,this,s))}},setRate:function(s){return this.rate=s,this},detune:{get:function(){return this.currentConfig.detune},set:function(s){this.currentConfig.detune=s,!this.manager.isLocked(this,d.DETUNE,s)&&(this.calculateRate(),this.emit(d.DETUNE,this,s))}},setDetune:function(s){return this.detune=s,this},seek:{get:function(){return this.isPlaying?this.audio.currentTime-(this.currentMarker?this.currentMarker.start:0):this.isPaused?this.currentConfig.seek:0},set:function(s){this.manager.isLocked(this,"seek",s)||this.startTime>0||(this.isPlaying||this.isPaused)&&(s=Math.min(Math.max(0,s),this.duration),this.isPlaying?(this.previousTime=s,this.audio.currentTime=s):this.isPaused&&(this.currentConfig.seek=s),this.emit(d.SEEK,this,s))}},setSeek:function(s){return this.seek=s,this},loop:{get:function(){return this.currentConfig.loop},set:function(s){this.currentConfig.loop=s,!this.manager.isLocked(this,"loop",s)&&(this.audio&&(this.audio.loop=s),this.emit(d.LOOP,this,s))}},setLoop:function(s){return this.loop=s,this},pan:{get:function(){return this.currentConfig.pan},set:function(s){this.currentConfig.pan=s,this.emit(d.PAN,this,s)}},setPan:function(s){return this.pan=s,this}});n.exports=o},33684:(n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @author       Pavle Goloskokovic <pgoloskokovic@gmail.com> (http://prunegames.com)
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=i(85034),x=i(83419),d=i(14463),l=i(64895),o=new x({Extends:a,initialize:function(f){this.override=!0,this.audioPlayDelay=.1,this.loopEndOffset=.05,this.onBlurPausedSounds=[],this.locked="ontouchstart"in window,this.lockedActionsQueue=this.locked?[]:null,this._mute=!1,this._volume=1,a.call(this,f)},add:function(s,f){var c=new l(this,s,f);return this.sounds.push(c),c},unlock:function(){this.locked=!1;var s=this;if(this.game.cache.audio.entries.each(function(v,p){for(var m=0;m<p.length;m++)if(p[m].dataset.locked==="true")return s.locked=!0,!1;return!0}),!!this.locked){var f=!1,c=function(){f=!0},u=function(){if(f){f=!1;return}document.body.removeEventListener("touchmove",c),document.body.removeEventListener("touchend",u);var v=[];if(s.game.cache.audio.entries.each(function(m,g){for(var C=0;C<g.length;C++){var M=g[C];M.dataset.locked==="true"&&v.push(M)}return!0}),v.length!==0){var p=v[v.length-1];p.oncanplaythrough=function(){p.oncanplaythrough=null,v.forEach(function(m){m.dataset.locked="false"}),s.unlocked=!0},v.forEach(function(m){m.load()})}};this.once(d.UNLOCKED,function(){for(this.forEachActiveSound(function(p){p.currentMarker===null&&p.duration===0&&(p.duration=p.tags[0].duration),p.totalDuration=p.tags[0].duration});this.lockedActionsQueue.length;){var v=this.lockedActionsQueue.shift();v.sound[v.prop].apply?v.sound[v.prop].apply(v.sound,v.value||[]):v.sound[v.prop]=v.value}},this),document.body.addEventListener("touchmove",c,!1),document.body.addEventListener("touchend",u,!1)}},onBlur:function(){this.forEachActiveSound(function(s){s.isPlaying&&(this.onBlurPausedSounds.push(s),s.onBlur())})},onFocus:function(){this.onBlurPausedSounds.forEach(function(s){s.onFocus()}),this.onBlurPausedSounds.length=0},destroy:function(){a.prototype.destroy.call(this),this.onBlurPausedSounds.length=0,this.onBlurPausedSounds=null},isLocked:function(s,f,c){return s.tags[0].dataset.locked==="true"?(this.lockedActionsQueue.push({sound:s,prop:f,value:c}),!0):!1},setMute:function(s){return this.mute=s,this},mute:{get:function(){return this._mute},set:function(s){this._mute=s,this.forEachActiveSound(function(f){f.updateMute()}),this.emit(d.GLOBAL_MUTE,this,s)}},setVolume:function(s){return this.volume=s,this},volume:{get:function(){return this._volume},set:function(s){this._volume=s,this.forEachActiveSound(function(f){f.updateVolume()}),this.emit(d.GLOBAL_VOLUME,this,s)}}});n.exports=o},23717:(n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @author       Pavle Goloskokovic <pgoloskokovic@gmail.com> (http://prunegames.com)
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports={SoundManagerCreator:i(14747),Events:i(14463),BaseSound:i(30341),BaseSoundManager:i(85034),WebAudioSound:i(71741),WebAudioSoundManager:i(57490),HTML5AudioSound:i(64895),HTML5AudioSoundManager:i(33684),NoAudioSound:i(4603),NoAudioSoundManager:i(25960)}},4603:(n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @author       Pavle Goloskokovic <pgoloskokovic@gmail.com> (http://prunegames.com)
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=i(30341),x=i(83419),d=i(50792),l=i(79291),o=i(29747),s=function(){return!1},f=function(){return null},c=function(){return this},u=new x({Extends:d,initialize:function(p,m,g){g===void 0&&(g={}),d.call(this),this.manager=p,this.key=m,this.isPlaying=!1,this.isPaused=!1,this.totalRate=1,this.duration=0,this.totalDuration=0,this.config=l({mute:!1,volume:1,rate:1,detune:0,seek:0,loop:!1,delay:0,pan:0},g),this.currentConfig=this.config,this.mute=!1,this.volume=1,this.rate=1,this.detune=0,this.seek=0,this.loop=!1,this.pan=0,this.markers={},this.currentMarker=null,this.pendingRemove=!1},addMarker:s,updateMarker:s,removeMarker:f,play:s,pause:s,resume:s,stop:s,setMute:c,setVolume:c,setRate:c,setDetune:c,setSeek:c,setLoop:c,setPan:c,applyConfig:f,resetConfig:f,update:o,calculateRate:f,destroy:function(){a.prototype.destroy.call(this)}});n.exports=u},25960:(n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @author       Pavle Goloskokovic <pgoloskokovic@gmail.com> (http://prunegames.com)
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=i(85034),x=i(83419),d=i(50792),l=i(4603),o=i(29747),s=new x({Extends:d,initialize:function(c){d.call(this),this.game=c,this.sounds=[],this.mute=!1,this.volume=1,this.rate=1,this.detune=0,this.pauseOnBlur=!0,this.locked=!1},add:function(f,c){var u=new l(this,f,c);return this.sounds.push(u),u},addAudioSprite:function(f,c){var u=this.add(f,c);return u.spritemap={},u},get:function(f){return a.prototype.get.call(this,f)},getAll:function(f){return a.prototype.getAll.call(this,f)},play:function(f,c){return!1},playAudioSprite:function(f,c,u){return!1},remove:function(f){return a.prototype.remove.call(this,f)},removeAll:function(){return a.prototype.removeAll.call(this)},removeByKey:function(f){return a.prototype.removeByKey.call(this,f)},stopByKey:function(f){return a.prototype.stopByKey.call(this,f)},onBlur:o,onFocus:o,onGameBlur:o,onGameFocus:o,pauseAll:o,resumeAll:o,stopAll:o,update:o,setRate:o,setDetune:o,setMute:o,setVolume:o,unlock:o,forEachActiveSound:function(f,c){a.prototype.forEachActiveSound.call(this,f,c)},destroy:function(){a.prototype.destroy.call(this)}});n.exports=s},71741:(n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @author       Pavle Goloskokovic <pgoloskokovic@gmail.com> (http://prunegames.com)
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=i(30341),x=i(83419),d=i(14463),l=i(95540),o=new x({Extends:a,initialize:function(f,c,u){if(u===void 0&&(u={}),this.audioBuffer=f.game.cache.audio.get(c),!this.audioBuffer)throw new Error('Audio key "'+c+'" not found in cache');this.source=null,this.loopSource=null,this.muteNode=f.context.createGain(),this.volumeNode=f.context.createGain(),this.pannerNode=null,this.spatialNode=null,this.spatialSource=null,this.playTime=0,this.startTime=0,this.loopTime=0,this.rateUpdates=[],this.hasEnded=!1,this.hasLooped=!1,this.muteNode.connect(this.volumeNode),f.context.createPanner&&(this.spatialNode=f.context.createPanner(),this.volumeNode.connect(this.spatialNode)),f.context.createStereoPanner?(this.pannerNode=f.context.createStereoPanner(),f.context.createPanner?this.spatialNode.connect(this.pannerNode):this.volumeNode.connect(this.pannerNode),this.pannerNode.connect(f.destination)):f.context.createPanner?this.spatialNode.connect(f.destination):this.volumeNode.connect(f.destination),this.duration=this.audioBuffer.duration,this.totalDuration=this.audioBuffer.duration,a.call(this,f,c,u)},play:function(s,f){return a.prototype.play.call(this,s,f)?(this.stopAndRemoveBufferSource(),this.createAndStartBufferSource(),this.emit(d.PLAY,this),!0):!1},pause:function(){return this.manager.context.currentTime<this.startTime||!a.prototype.pause.call(this)?!1:(this.currentConfig.seek=this.getCurrentTime(),this.stopAndRemoveBufferSource(),this.emit(d.PAUSE,this),!0)},resume:function(){return this.manager.context.currentTime<this.startTime||!a.prototype.resume.call(this)?!1:(this.createAndStartBufferSource(),this.emit(d.RESUME,this),!0)},stop:function(){return a.prototype.stop.call(this)?(this.stopAndRemoveBufferSource(),this.emit(d.STOP,this),!0):!1},createAndStartBufferSource:function(){var s=this.currentConfig.seek,f=this.currentConfig.delay,c=this.manager.context.currentTime+f,u=(this.currentMarker?this.currentMarker.start:0)+s,v=this.duration-s;this.playTime=c-s,this.startTime=c,this.source=this.createBufferSource(),this.applyConfig(),this.source.start(Math.max(0,c),Math.max(0,u),Math.max(0,v)),this.resetConfig()},createAndStartLoopBufferSource:function(){var s=this.getLoopTime(),f=this.currentMarker?this.currentMarker.start:0,c=this.duration;this.loopTime=s,this.loopSource=this.createBufferSource(),this.loopSource.playbackRate.setValueAtTime(this.totalRate,0),this.loopSource.start(Math.max(0,s),Math.max(0,f),Math.max(0,c))},createBufferSource:function(){var s=this,f=this.manager.context.createBufferSource();return f.buffer=this.audioBuffer,f.connect(this.muteNode),f.onended=function(c){var u=c.target;(u===s.source||u===s.loopSource)&&(s.currentConfig.loop?s.hasLooped=!0:s.hasEnded=!0)},f},stopAndRemoveBufferSource:function(){if(this.source){var s=this.source;this.source=null,s.stop(),s.disconnect()}this.playTime=0,this.startTime=0,this.hasEnded=!1,this.stopAndRemoveLoopBufferSource()},stopAndRemoveLoopBufferSource:function(){this.loopSource&&(this.loopSource.stop(),this.loopSource.disconnect(),this.loopSource=null),this.loopTime=0},applyConfig:function(){this.rateUpdates.length=0,this.rateUpdates.push({time:0,rate:1});var s=this.currentConfig.source;if(s&&this.manager.context.createPanner){var f=this.spatialNode;f.panningModel=l(s,"panningModel","equalpower"),f.distanceModel=l(s,"distanceModel","inverse"),f.orientationX.value=l(s,"orientationX",0),f.orientationY.value=l(s,"orientationY",0),f.orientationZ.value=l(s,"orientationZ",-1),f.refDistance=l(s,"refDistance",1),f.maxDistance=l(s,"maxDistance",1e4),f.rolloffFactor=l(s,"rolloffFactor",1),f.coneInnerAngle=l(s,"coneInnerAngle",360),f.coneOuterAngle=l(s,"coneOuterAngle",0),f.coneOuterGain=l(s,"coneOuterGain",0),this.spatialSource=l(s,"follow",null),this.spatialSource||(f.positionX.value=l(s,"x",0),f.positionY.value=l(s,"y",0),f.positionZ.value=l(s,"z",0))}a.prototype.applyConfig.call(this)},x:{get:function(){return this.spatialNode?this.spatialNode.positionX:0},set:function(s){this.spatialNode&&(this.spatialNode.positionX.value=s)}},y:{get:function(){return this.spatialNode?this.spatialNode.positionY:0},set:function(s){this.spatialNode&&(this.spatialNode.positionY.value=s)}},update:function(){if(this.isPlaying&&this.spatialSource){var s=l(this.spatialSource,"x",null),f=l(this.spatialSource,"y",null);s&&s!==this._spatialx&&(this._spatialx=this.spatialNode.positionX.value=s),f&&f!==this._spatialy&&(this._spatialy=this.spatialNode.positionY.value=f)}this.hasEnded?(a.prototype.stop.call(this),this.stopAndRemoveBufferSource(),this.emit(d.COMPLETE,this)):this.hasLooped&&(this.hasLooped=!1,this.source=this.loopSource,this.loopSource=null,this.playTime=this.startTime=this.loopTime,this.rateUpdates.length=0,this.rateUpdates.push({time:0,rate:this.totalRate}),this.createAndStartLoopBufferSource(),this.emit(d.LOOPED,this))},destroy:function(){this.pendingRemove||(a.prototype.destroy.call(this),this.audioBuffer=null,this.stopAndRemoveBufferSource(),this.muteNode.disconnect(),this.muteNode=null,this.volumeNode.disconnect(),this.volumeNode=null,this.pannerNode&&(this.pannerNode.disconnect(),this.pannerNode=null),this.spatialNode&&(this.spatialNode.disconnect(),this.spatialNode=null,this.spatialSource=null),this.rateUpdates.length=0,this.rateUpdates=null)},calculateRate:function(){a.prototype.calculateRate.call(this);var s=this.manager.context.currentTime;this.source&&typeof this.totalRate=="number"&&this.source.playbackRate.setValueAtTime(this.totalRate,s),this.isPlaying&&(this.rateUpdates.push({time:Math.max(this.startTime,s)-this.playTime,rate:this.totalRate}),this.loopSource&&(this.stopAndRemoveLoopBufferSource(),this.createAndStartLoopBufferSource()))},getCurrentTime:function(){for(var s=0,f=0;f<this.rateUpdates.length;f++){var c=0;f<this.rateUpdates.length-1?c=this.rateUpdates[f+1].time:c=this.manager.context.currentTime-this.playTime,s+=(c-this.rateUpdates[f].time)*this.rateUpdates[f].rate}return s},getLoopTime:function(){for(var s=0,f=0;f<this.rateUpdates.length-1;f++)s+=(this.rateUpdates[f+1].time-this.rateUpdates[f].time)*this.rateUpdates[f].rate;var c=this.rateUpdates[this.rateUpdates.length-1];return this.playTime+c.time+(this.duration-s)/c.rate},rate:{get:function(){return this.currentConfig.rate},set:function(s){this.currentConfig.rate=s,this.calculateRate(),this.emit(d.RATE,this,s)}},setRate:function(s){return this.rate=s,this},detune:{get:function(){return this.currentConfig.detune},set:function(s){this.currentConfig.detune=s,this.calculateRate(),this.emit(d.DETUNE,this,s)}},setDetune:function(s){return this.detune=s,this},mute:{get:function(){return this.muteNode.gain.value===0},set:function(s){this.currentConfig.mute=s,this.muteNode.gain.setValueAtTime(s?0:1,0),this.emit(d.MUTE,this,s)}},setMute:function(s){return this.mute=s,this},volume:{get:function(){return this.volumeNode.gain.value},set:function(s){this.currentConfig.volume=s,this.volumeNode.gain.setValueAtTime(s,0),this.emit(d.VOLUME,this,s)}},setVolume:function(s){return this.volume=s,this},seek:{get:function(){return this.isPlaying?this.manager.context.currentTime<this.startTime?this.startTime-this.playTime:this.getCurrentTime():this.isPaused?this.currentConfig.seek:0},set:function(s){this.manager.context.currentTime<this.startTime||(this.isPlaying||this.isPaused)&&(s=Math.min(Math.max(0,s),this.duration),this.currentConfig.seek=s,this.isPlaying&&(this.stopAndRemoveBufferSource(),this.createAndStartBufferSource()),this.emit(d.SEEK,this,s))}},setSeek:function(s){return this.seek=s,this},loop:{get:function(){return this.currentConfig.loop},set:function(s){this.currentConfig.loop=s,this.isPlaying&&(this.stopAndRemoveLoopBufferSource(),s&&this.createAndStartLoopBufferSource()),this.emit(d.LOOP,this,s)}},setLoop:function(s){return this.loop=s,this},pan:{get:function(){return this.pannerNode?this.pannerNode.pan.value:0},set:function(s){this.currentConfig.pan=s,this.pannerNode&&this.pannerNode.pan.setValueAtTime(s,this.manager.context.currentTime),this.emit(d.PAN,this,s)}},setPan:function(s){return this.pan=s,this}});n.exports=o},57490:(n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @author       Pavle Goloskokovic <pgoloskokovic@gmail.com> (http://prunegames.com)
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=i(53134),x=i(85034),d=i(83419),l=i(14463),o=i(8443),s=i(71741),f=i(95540),c=new d({Extends:x,initialize:function(v){this.context=this.createAudioContext(v),this.masterMuteNode=this.context.createGain(),this.masterVolumeNode=this.context.createGain(),this.masterMuteNode.connect(this.masterVolumeNode),this.masterVolumeNode.connect(this.context.destination),this.destination=this.masterMuteNode,this.locked=this.context.state==="suspended",x.call(this,v),this.locked&&(v.isBooted?this.unlock():v.events.once(o.BOOT,this.unlock,this)),v.events.on(o.VISIBLE,this.onGameVisible,this)},onGameVisible:function(){var u=this.context;window.setTimeout(function(){u&&(u.suspend(),u.resume())},100)},createAudioContext:function(u){var v=u.config.audio;if(v.context)return v.context.resume(),v.context;if(window.hasOwnProperty("AudioContext"))return new AudioContext;if(window.hasOwnProperty("webkitAudioContext"))return new window.webkitAudioContext},setAudioContext:function(u){return this.context&&this.context.close(),this.masterMuteNode&&this.masterMuteNode.disconnect(),this.masterVolumeNode&&this.masterVolumeNode.disconnect(),this.context=u,this.masterMuteNode=u.createGain(),this.masterVolumeNode=u.createGain(),this.masterMuteNode.connect(this.masterVolumeNode),this.masterVolumeNode.connect(u.destination),this.destination=this.masterMuteNode,this},add:function(u,v){var p=new s(this,u,v);return this.sounds.push(p),p},decodeAudio:function(u,v){var p;Array.isArray(u)?p=u:p=[{key:u,data:v}];for(var m=this.game.cache.audio,g=p.length,C=0;C<p.length;C++){var M=p[C],b=M.key,w=M.data;typeof w=="string"&&(w=a(w));var R=(function(L,D){m.add(L,D),this.emit(l.DECODED,L),g--,g===0&&this.emit(l.DECODED_ALL)}).bind(this,b),A=(function(L,D){console.error("Error decoding audio: "+L+" - ",D?D.message:""),g--,g===0&&this.emit(l.DECODED_ALL)}).bind(this,b);this.context.decodeAudioData(w,R,A)}},setListenerPosition:function(u,v){return u===void 0&&(u=this.game.scale.width/2),v===void 0&&(v=this.game.scale.height/2),this.listenerPosition.set(u,v),this},unlock:function(){var u=this,v=document.body,p=function m(){if(u.context&&v){var g=v.removeEventListener.bind(v);u.context.resume().then(function(){g("touchstart",m),g("touchend",m),g("mousedown",m),g("mouseup",m),g("keydown",m),u.unlocked=!0},function(){g("touchstart",m),g("touchend",m),g("mousedown",m),g("mouseup",m),g("keydown",m)})}};v&&(v.addEventListener("touchstart",p,!1),v.addEventListener("touchend",p,!1),v.addEventListener("mousedown",p,!1),v.addEventListener("mouseup",p,!1),v.addEventListener("keydown",p,!1))},onBlur:function(){this.locked||this.context.suspend()},onFocus:function(){var u=this.context;u&&!this.locked&&(u.state==="suspended"||u.state==="interrupted")&&u.resume()},update:function(u,v){var p=this.context.listener;if(p&&p.positionX!==void 0){var m=f(this.listenerPosition,"x",null),g=f(this.listenerPosition,"y",null);m&&m!==this._spatialx&&(this._spatialx=p.positionX.value=m),g&&g!==this._spatialy&&(this._spatialy=p.positionY.value=g)}x.prototype.update.call(this,u,v),this.gameLostFocus||this.onFocus()},destroy:function(){if(this.destination=null,this.masterVolumeNode.disconnect(),this.masterVolumeNode=null,this.masterMuteNode.disconnect(),this.masterMuteNode=null,this.game.config.audio.context)this.context.suspend();else{var u=this;this.context.close().then(function(){u.context=null})}this.game.events.off(o.VISIBLE,this.onGameVisible,this),x.prototype.destroy.call(this)},setMute:function(u){return this.mute=u,this},mute:{get:function(){return this.masterMuteNode.gain.value===0},set:function(u){this.masterMuteNode.gain.setValueAtTime(u?0:1,0),this.emit(l.GLOBAL_MUTE,this,u)}},setVolume:function(u){return this.volume=u,this},volume:{get:function(){return this.masterVolumeNode.gain.value},set:function(u){this.masterVolumeNode.gain.setValueAtTime(u,0),this.emit(l.GLOBAL_VOLUME,this,u)}}});n.exports=c},73162:(n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=i(37105),x=i(83419),d=i(29747),l=i(19186),o=new x({initialize:function(f){this.parent=f,this.list=[],this.position=0,this.addCallback=d,this.removeCallback=d,this._sortKey=""},add:function(s,f){return f?a.Add(this.list,s):a.Add(this.list,s,0,this.addCallback,this)},addAt:function(s,f,c){return c?a.AddAt(this.list,s,f):a.AddAt(this.list,s,f,0,this.addCallback,this)},getAt:function(s){return this.list[s]},getIndex:function(s){return this.list.indexOf(s)},sort:function(s,f){return s?(f===void 0&&(f=function(c,u){return c[s]-u[s]}),l(this.list,f),this):this},getByName:function(s){return a.GetFirst(this.list,"name",s)},getRandom:function(s,f){return a.GetRandom(this.list,s,f)},getFirst:function(s,f,c,u){return a.GetFirst(this.list,s,f,c,u)},getAll:function(s,f,c,u){return a.GetAll(this.list,s,f,c,u)},count:function(s,f){return a.CountAllMatching(this.list,s,f)},swap:function(s,f){a.Swap(this.list,s,f)},moveTo:function(s,f){return a.MoveTo(this.list,s,f)},moveAbove:function(s,f){return a.MoveAbove(this.list,s,f)},moveBelow:function(s,f){return a.MoveBelow(this.list,s,f)},remove:function(s,f){return f?a.Remove(this.list,s):a.Remove(this.list,s,this.removeCallback,this)},removeAt:function(s,f){return f?a.RemoveAt(this.list,s):a.RemoveAt(this.list,s,this.removeCallback,this)},removeBetween:function(s,f,c){return c?a.RemoveBetween(this.list,s,f):a.RemoveBetween(this.list,s,f,this.removeCallback,this)},removeAll:function(s){for(var f=this.list.length;f--;)this.remove(this.list[f],s);return this},bringToTop:function(s){return a.BringToTop(this.list,s)},sendToBack:function(s){return a.SendToBack(this.list,s)},moveUp:function(s){return a.MoveUp(this.list,s),s},moveDown:function(s){return a.MoveDown(this.list,s),s},reverse:function(){return this.list.reverse(),this},shuffle:function(){return a.Shuffle(this.list),this},replace:function(s,f){return a.Replace(this.list,s,f)},exists:function(s){return this.list.indexOf(s)>-1},setAll:function(s,f,c,u){return a.SetAll(this.list,s,f,c,u),this},each:function(s,f){for(var c=[null],u=2;u<arguments.length;u++)c.push(arguments[u]);for(u=0;u<this.list.length;u++)c[0]=this.list[u],s.apply(f,c)},shutdown:function(){this.removeAll(),this.list=[]},destroy:function(){this.removeAll(),this.parent=null,this.addCallback=null,this.removeCallback=null},length:{get:function(){return this.list.length}},first:{get:function(){return this.position=0,this.list.length>0?this.list[0]:null}},last:{get:function(){return this.list.length>0?(this.position=this.list.length-1,this.list[this.position]):null}},next:{get:function(){return this.position<this.list.length?(this.position++,this.list[this.position]):null}},previous:{get:function(){return this.position>0?(this.position--,this.list[this.position]):null}}});n.exports=o},90330:(n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=i(83419),x=new a({initialize:function(l){this.entries={},this.size=0,this.setAll(l)},setAll:function(d){if(Array.isArray(d))for(var l=0;l<d.length;l++)this.set(d[l][0],d[l][1]);return this},set:function(d,l){return this.has(d)||this.size++,this.entries[d]=l,this},get:function(d){if(this.has(d))return this.entries[d]},getArray:function(){var d=[],l=this.entries;for(var o in l)d.push(l[o]);return d},has:function(d){return this.entries.hasOwnProperty(d)},delete:function(d){return this.has(d)&&(delete this.entries[d],this.size--),this},clear:function(){return Object.keys(this.entries).forEach(function(d){delete this.entries[d]},this),this.size=0,this},keys:function(){return Object.keys(this.entries)},values:function(){var d=[],l=this.entries;for(var o in l)d.push(l[o]);return d},dump:function(){var d=this.entries;console.group("Map");for(var l in d)console.log(l,d[l]);console.groupEnd()},each:function(d){var l=this.entries;for(var o in l)if(d(o,l[o])===!1)break;return this},contains:function(d){var l=this.entries;for(var o in l)if(l[o]===d)return!0;return!1},merge:function(d,l){l===void 0&&(l=!1);var o=this.entries,s=d.entries;for(var f in s)o.hasOwnProperty(f)&&l?o[f]=s[f]:this.set(f,s[f]);return this}});n.exports=x},25774:(n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=i(83419),x=i(50792),d=i(82348),l=new a({Extends:x,initialize:function(){x.call(this),this._pending=[],this._active=[],this._destroy=[],this._toProcess=0,this.checkQueue=!1},isActive:function(o){return this._active.indexOf(o)>-1},isPending:function(o){return this._toProcess>0&&this._pending.indexOf(o)>-1},isDestroying:function(o){return this._destroy.indexOf(o)>-1},add:function(o){return this.checkQueue&&this.isActive(o)&&!this.isDestroying(o)||this.isPending(o)||(this._pending.push(o),this._toProcess++),o},remove:function(o){if(this.isPending(o)){var s=this._pending,f=s.indexOf(o);f!==-1&&s.splice(f,1)}else this.isActive(o)&&(this._destroy.push(o),this._toProcess++);return o},removeAll:function(){for(var o=this._active,s=this._destroy,f=o.length;f--;)s.push(o[f]),this._toProcess++;return this},update:function(){if(this._toProcess===0)return this._active;var o=this._destroy,s=this._active,f,c;for(f=0;f<o.length;f++){c=o[f];var u=s.indexOf(c);u!==-1&&(s.splice(u,1),this.emit(d.PROCESS_QUEUE_REMOVE,c))}for(o.length=0,o=this._pending,f=0;f<o.length;f++)c=o[f],(!this.checkQueue||this.checkQueue&&s.indexOf(c)===-1)&&(s.push(c),this.emit(d.PROCESS_QUEUE_ADD,c));return o.length=0,this._toProcess=0,s},getActive:function(){return this._active},length:{get:function(){return this._active.length}},destroy:function(){this._toProcess=0,this._pending=[],this._active=[],this._destroy=[]}});n.exports=l},59542:(n,T,i)=>{/**
 * @author       Vladimir Agafonkin
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=i(43886);function x(w){if(!(this instanceof x))return new x(w);this._maxEntries=Math.max(4,w||9),this._minEntries=Math.max(2,Math.ceil(this._maxEntries*.4)),this.clear()}x.prototype={all:function(){return this._all(this.data,[])},search:function(w){var R=this.data,A=[],L=this.toBBox;if(!C(w,R))return A;for(var D=[],G,B,I,k;R;){for(G=0,B=R.children.length;G<B;G++)I=R.children[G],k=R.leaf?L(I):I,C(w,k)&&(R.leaf?A.push(I):g(w,k)?this._all(I,A):D.push(I));R=D.pop()}return A},collides:function(w){var R=this.data,A=this.toBBox;if(!C(w,R))return!1;for(var L=[],D,G,B,I;R;){for(D=0,G=R.children.length;D<G;D++)if(B=R.children[D],I=R.leaf?A(B):B,C(w,I)){if(R.leaf||g(w,I))return!0;L.push(B)}R=L.pop()}return!1},load:function(w){if(!(w&&w.length))return this;if(w.length<this._minEntries){for(var R=0,A=w.length;R<A;R++)this.insert(w[R]);return this}var L=this._build(w.slice(),0,w.length-1,0);if(!this.data.children.length)this.data=L;else if(this.data.height===L.height)this._splitRoot(this.data,L);else{if(this.data.height<L.height){var D=this.data;this.data=L,L=D}this._insert(L,this.data.height-L.height-1,!0)}return this},insert:function(w){return w&&this._insert(w,this.data.height-1),this},clear:function(){return this.data=M([]),this},remove:function(w,R){if(!w)return this;for(var A=this.data,L=this.toBBox(w),D=[],G=[],B,I,k,z;A||D.length;){if(A||(A=D.pop(),I=D[D.length-1],B=G.pop(),z=!0),A.leaf&&(k=d(w,A.children,R),k!==-1))return A.children.splice(k,1),D.push(A),this._condense(D),this;!z&&!A.leaf&&g(A,L)?(D.push(A),G.push(B),B=0,I=A,A=A.children[0]):I?(B++,A=I.children[B],z=!1):A=null}return this},toBBox:function(w){return w},compareMinX:f,compareMinY:c,toJSON:function(){return this.data},fromJSON:function(w){return this.data=w,this},_all:function(w,R){for(var A=[];w;)w.leaf?R.push.apply(R,w.children):A.push.apply(A,w.children),w=A.pop();return R},_build:function(w,R,A,L){var D=A-R+1,G=this._maxEntries,B;if(D<=G)return B=M(w.slice(R,A+1)),l(B,this.toBBox),B;L||(L=Math.ceil(Math.log(D)/Math.log(G)),G=Math.ceil(D/Math.pow(G,L-1))),B=M([]),B.leaf=!1,B.height=L;var I=Math.ceil(D/G),k=I*Math.ceil(Math.sqrt(G)),z,X,H,Q;for(b(w,R,A,k,this.compareMinX),z=R;z<=A;z+=k)for(H=Math.min(z+k-1,A),b(w,z,H,I,this.compareMinY),X=z;X<=H;X+=I)Q=Math.min(X+I-1,H),B.children.push(this._build(w,X,Q,L-1));return l(B,this.toBBox),B},_chooseSubtree:function(w,R,A,L){for(var D,G,B,I,k,z,X,H;L.push(R),!(R.leaf||L.length-1===A);){for(X=H=1/0,D=0,G=R.children.length;D<G;D++)B=R.children[D],k=u(B),z=p(w,B)-k,z<H?(H=z,X=k<X?k:X,I=B):z===H&&k<X&&(X=k,I=B);R=I||R.children[0]}return R},_insert:function(w,R,A){var L=this.toBBox,D=A?w:L(w),G=[],B=this._chooseSubtree(D,this.data,R,G);for(B.children.push(w),s(B,D);R>=0&&G[R].children.length>this._maxEntries;)this._split(G,R),R--;this._adjustParentBBoxes(D,G,R)},_split:function(w,R){var A=w[R],L=A.children.length,D=this._minEntries;this._chooseSplitAxis(A,D,L);var G=this._chooseSplitIndex(A,D,L),B=M(A.children.splice(G,A.children.length-G));B.height=A.height,B.leaf=A.leaf,l(A,this.toBBox),l(B,this.toBBox),R?w[R-1].children.push(B):this._splitRoot(A,B)},_splitRoot:function(w,R){this.data=M([w,R]),this.data.height=w.height+1,this.data.leaf=!1,l(this.data,this.toBBox)},_chooseSplitIndex:function(w,R,A){var L,D,G,B,I,k,z,X;for(k=z=1/0,L=R;L<=A-R;L++)D=o(w,0,L,this.toBBox),G=o(w,L,A,this.toBBox),B=m(D,G),I=u(D)+u(G),B<k?(k=B,X=L,z=I<z?I:z):B===k&&I<z&&(z=I,X=L);return X},_chooseSplitAxis:function(w,R,A){var L=w.leaf?this.compareMinX:f,D=w.leaf?this.compareMinY:c,G=this._allDistMargin(w,R,A,L),B=this._allDistMargin(w,R,A,D);G<B&&w.children.sort(L)},_allDistMargin:function(w,R,A,L){w.children.sort(L);var D=this.toBBox,G=o(w,0,R,D),B=o(w,A-R,A,D),I=v(G)+v(B),k,z;for(k=R;k<A-R;k++)z=w.children[k],s(G,w.leaf?D(z):z),I+=v(G);for(k=A-R-1;k>=R;k--)z=w.children[k],s(B,w.leaf?D(z):z),I+=v(B);return I},_adjustParentBBoxes:function(w,R,A){for(var L=A;L>=0;L--)s(R[L],w)},_condense:function(w){for(var R=w.length-1,A;R>=0;R--)w[R].children.length===0?R>0?(A=w[R-1].children,A.splice(A.indexOf(w[R]),1)):this.clear():l(w[R],this.toBBox)},compareMinX:function(w,R){return w.left-R.left},compareMinY:function(w,R){return w.top-R.top},toBBox:function(w){return{minX:w.left,minY:w.top,maxX:w.right,maxY:w.bottom}}};function d(w,R,A){if(!A)return R.indexOf(w);for(var L=0;L<R.length;L++)if(A(w,R[L]))return L;return-1}function l(w,R){o(w,0,w.children.length,R,w)}function o(w,R,A,L,D){D||(D=M(null)),D.minX=1/0,D.minY=1/0,D.maxX=-1/0,D.maxY=-1/0;for(var G=R,B;G<A;G++)B=w.children[G],s(D,w.leaf?L(B):B);return D}function s(w,R){return w.minX=Math.min(w.minX,R.minX),w.minY=Math.min(w.minY,R.minY),w.maxX=Math.max(w.maxX,R.maxX),w.maxY=Math.max(w.maxY,R.maxY),w}function f(w,R){return w.minX-R.minX}function c(w,R){return w.minY-R.minY}function u(w){return(w.maxX-w.minX)*(w.maxY-w.minY)}function v(w){return w.maxX-w.minX+(w.maxY-w.minY)}function p(w,R){return(Math.max(R.maxX,w.maxX)-Math.min(R.minX,w.minX))*(Math.max(R.maxY,w.maxY)-Math.min(R.minY,w.minY))}function m(w,R){var A=Math.max(w.minX,R.minX),L=Math.max(w.minY,R.minY),D=Math.min(w.maxX,R.maxX),G=Math.min(w.maxY,R.maxY);return Math.max(0,D-A)*Math.max(0,G-L)}function g(w,R){return w.minX<=R.minX&&w.minY<=R.minY&&R.maxX<=w.maxX&&R.maxY<=w.maxY}function C(w,R){return R.minX<=w.maxX&&R.minY<=w.maxY&&R.maxX>=w.minX&&R.maxY>=w.minY}function M(w){return{children:w,height:1,leaf:!0,minX:1/0,minY:1/0,maxX:-1/0,maxY:-1/0}}function b(w,R,A,L,D){for(var G=[R,A],B;G.length;)A=G.pop(),R=G.pop(),!(A-R<=L)&&(B=R+Math.ceil((A-R)/L/2)*L,a(w,B,R,A,D),G.push(R,B,B,A))}n.exports=x},35072:(n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=i(83419),x=new a({initialize:function(l){if(this.entries=[],Array.isArray(l))for(var o=0;o<l.length;o++)this.set(l[o])},set:function(d){return this.entries.indexOf(d)===-1&&this.entries.push(d),this},get:function(d,l){for(var o=0;o<this.entries.length;o++){var s=this.entries[o];if(s[d]===l)return s}},getArray:function(){return this.entries.slice(0)},delete:function(d){var l=this.entries.indexOf(d);return l>-1&&this.entries.splice(l,1),this},dump:function(){console.group("Set");for(var d=0;d<this.entries.length;d++){var l=this.entries[d];console.log(l)}console.groupEnd()},each:function(d,l){var o,s=this.entries.slice(),f=s.length;if(l)for(o=0;o<f&&d.call(l,s[o],o)!==!1;o++);else for(o=0;o<f&&d(s[o],o)!==!1;o++);return this},iterate:function(d,l){var o,s=this.entries.length;if(l)for(o=0;o<s&&d.call(l,this.entries[o],o)!==!1;o++);else for(o=0;o<s&&d(this.entries[o],o)!==!1;o++);return this},iterateLocal:function(d){var l,o=[];for(l=1;l<arguments.length;l++)o.push(arguments[l]);var s=this.entries.length;for(l=0;l<s;l++){var f=this.entries[l];f[d].apply(f,o)}return this},clear:function(){return this.entries.length=0,this},contains:function(d){return this.entries.indexOf(d)>-1},union:function(d){var l=new x;return d.entries.forEach(function(o){l.set(o)}),this.entries.forEach(function(o){l.set(o)}),l},intersect:function(d){var l=new x;return this.entries.forEach(function(o){d.contains(o)&&l.set(o)}),l},difference:function(d){var l=new x;return this.entries.forEach(function(o){d.contains(o)||l.set(o)}),l},size:{get:function(){return this.entries.length},set:function(d){return d<this.entries.length?this.entries.length=d:this.entries.length}}});n.exports=x},86555:(n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=i(45319),x=i(83419),d=i(56583),l=i(26099),o=new x({initialize:function(f,c,u,v){f===void 0&&(f=0),c===void 0&&(c=f),u===void 0&&(u=0),v===void 0&&(v=null),this._width=f,this._height=c,this._parent=v,this.aspectMode=u,this.aspectRatio=c===0?1:f/c,this.minWidth=0,this.minHeight=0,this.maxWidth=Number.MAX_VALUE,this.maxHeight=Number.MAX_VALUE,this.snapTo=new l},setAspectMode:function(s){return s===void 0&&(s=0),this.aspectMode=s,this.setSize(this._width,this._height)},setSnap:function(s,f){return s===void 0&&(s=0),f===void 0&&(f=s),this.snapTo.set(s,f),this.setSize(this._width,this._height)},setParent:function(s){return this._parent=s,this.setSize(this._width,this._height)},setMin:function(s,f){return s===void 0&&(s=0),f===void 0&&(f=s),this.minWidth=a(s,0,this.maxWidth),this.minHeight=a(f,0,this.maxHeight),this.setSize(this._width,this._height)},setMax:function(s,f){return s===void 0&&(s=Number.MAX_VALUE),f===void 0&&(f=s),this.maxWidth=a(s,this.minWidth,Number.MAX_VALUE),this.maxHeight=a(f,this.minHeight,Number.MAX_VALUE),this.setSize(this._width,this._height)},setSize:function(s,f){switch(s===void 0&&(s=0),f===void 0&&(f=s),this.aspectMode){case o.NONE:this._width=this.getNewWidth(d(s,this.snapTo.x)),this._height=this.getNewHeight(d(f,this.snapTo.y)),this.aspectRatio=this._height===0?1:this._width/this._height;break;case o.WIDTH_CONTROLS_HEIGHT:this._width=this.getNewWidth(d(s,this.snapTo.x)),this._height=this.getNewHeight(this._width*(1/this.aspectRatio),!1);break;case o.HEIGHT_CONTROLS_WIDTH:this._height=this.getNewHeight(d(f,this.snapTo.y)),this._width=this.getNewWidth(this._height*this.aspectRatio,!1);break;case o.FIT:this.constrain(s,f,!0);break;case o.ENVELOP:this.constrain(s,f,!1);break}return this},setAspectRatio:function(s){return this.aspectRatio=s,this.setSize(this._width,this._height)},resize:function(s,f){return this._width=this.getNewWidth(d(s,this.snapTo.x)),this._height=this.getNewHeight(d(f,this.snapTo.y)),this.aspectRatio=this._height===0?1:this._width/this._height,this},getNewWidth:function(s,f){return f===void 0&&(f=!0),s=a(s,this.minWidth,this.maxWidth),f&&this._parent&&s>this._parent.width&&(s=Math.max(this.minWidth,this._parent.width)),s},getNewHeight:function(s,f){return f===void 0&&(f=!0),s=a(s,this.minHeight,this.maxHeight),f&&this._parent&&s>this._parent.height&&(s=Math.max(this.minHeight,this._parent.height)),s},constrain:function(s,f,c){s===void 0&&(s=0),f===void 0&&(f=s),c===void 0&&(c=!0),s=this.getNewWidth(s),f=this.getNewHeight(f);var u=this.snapTo,v=f===0?1:s/f;return c&&this.aspectRatio>v||!c&&this.aspectRatio<v?(s=d(s,u.x),f=s/this.aspectRatio,u.y>0&&(f=d(f,u.y),s=f*this.aspectRatio)):(c&&this.aspectRatio<v||!c&&this.aspectRatio>v)&&(f=d(f,u.y),s=f*this.aspectRatio,u.x>0&&(s=d(s,u.x),f=s*(1/this.aspectRatio))),this._width=s,this._height=f,this},fitTo:function(s,f){return this.constrain(s,f,!0)},envelop:function(s,f){return this.constrain(s,f,!1)},setWidth:function(s){return this.setSize(s,this._height)},setHeight:function(s){return this.setSize(this._width,s)},toString:function(){return"[{ Size (width="+this._width+" height="+this._height+" aspectRatio="+this.aspectRatio+" aspectMode="+this.aspectMode+") }]"},setCSS:function(s){s&&s.style&&(s.style.width=this._width+"px",s.style.height=this._height+"px")},copy:function(s){return s.setAspectMode(this.aspectMode),s.aspectRatio=this.aspectRatio,s.setSize(this.width,this.height)},destroy:function(){this._parent=null,this.snapTo=null},width:{get:function(){return this._width},set:function(s){this.setSize(s,this._height)}},height:{get:function(){return this._height},set:function(s){this.setSize(this._width,s)}}});o.NONE=0,o.WIDTH_CONTROLS_HEIGHT=1,o.HEIGHT_CONTROLS_WIDTH=2,o.FIT=3,o.ENVELOP=4,n.exports=o},15238:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="add"},56187:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="remove"},82348:(n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports={PROCESS_QUEUE_ADD:i(15238),PROCESS_QUEUE_REMOVE:i(56187)}},41392:(n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports={Events:i(82348),List:i(73162),Map:i(90330),ProcessQueue:i(25774),RTree:i(59542),Set:i(35072),Size:i(86555)}},57382:(n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=i(83419),x=i(45319),d=i(40987),l=i(8054),o=i(50030),s=i(79237),f=new a({Extends:s,initialize:function(u,v,p,m,g){s.call(this,u,v,p,m,g),this.add("__BASE",0,0,0,m,g),this._source=this.frames.__BASE.source,this.canvas=this._source.image,this.context=this.canvas.getContext("2d",{willReadFrequently:!0}),this.width=m,this.height=g,this.imageData=this.context.getImageData(0,0,m,g),this.data=null,this.imageData&&(this.data=this.imageData.data),this.pixels=null,this.buffer,this.data&&(this.imageData.data.buffer?(this.buffer=this.imageData.data.buffer,this.pixels=new Uint32Array(this.buffer)):window.ArrayBuffer?(this.buffer=new ArrayBuffer(this.imageData.data.length),this.pixels=new Uint32Array(this.buffer)):this.pixels=this.imageData.data)},update:function(){return this.imageData=this.context.getImageData(0,0,this.width,this.height),this.data=this.imageData.data,this.imageData.data.buffer?(this.buffer=this.imageData.data.buffer,this.pixels=new Uint32Array(this.buffer)):window.ArrayBuffer?(this.buffer=new ArrayBuffer(this.imageData.data.length),this.pixels=new Uint32Array(this.buffer)):this.pixels=this.imageData.data,this.manager.game.config.renderType===l.WEBGL&&this.refresh(),this},draw:function(c,u,v,p){return p===void 0&&(p=!0),this.context.drawImage(v,c,u),p&&this.update(),this},drawFrame:function(c,u,v,p,m){v===void 0&&(v=0),p===void 0&&(p=0),m===void 0&&(m=!0);var g=this.manager.getFrame(c,u);if(g){var C=g.canvasData,M=g.cutWidth,b=g.cutHeight,w=g.source.resolution;this.context.drawImage(g.source.image,C.x,C.y,M,b,v,p,M/w,b/w),m&&this.update()}return this},setPixel:function(c,u,v,p,m,g){g===void 0&&(g=255),c=Math.abs(Math.floor(c)),u=Math.abs(Math.floor(u));var C=this.getIndex(c,u);if(C>-1){var M=this.context.getImageData(c,u,1,1);M.data[0]=v,M.data[1]=p,M.data[2]=m,M.data[3]=g,this.context.putImageData(M,c,u)}return this},putData:function(c,u,v,p,m,g,C){return p===void 0&&(p=0),m===void 0&&(m=0),g===void 0&&(g=c.width),C===void 0&&(C=c.height),this.context.putImageData(c,u,v,p,m,g,C),this},getData:function(c,u,v,p){c=x(Math.floor(c),0,this.width-1),u=x(Math.floor(u),0,this.height-1),v=x(v,1,this.width-c),p=x(p,1,this.height-u);var m=this.context.getImageData(c,u,v,p);return m},getPixel:function(c,u,v){v||(v=new d);var p=this.getIndex(c,u);if(p>-1){var m=this.data,g=m[p+0],C=m[p+1],M=m[p+2],b=m[p+3];v.setTo(g,C,M,b)}return v},getPixels:function(c,u,v,p){c===void 0&&(c=0),u===void 0&&(u=0),v===void 0&&(v=this.width),p===void 0&&(p=v),c=Math.abs(Math.round(c)),u=Math.abs(Math.round(u));for(var m=x(c,0,this.width),g=x(c+v,0,this.width),C=x(u,0,this.height),M=x(u+p,0,this.height),b=new d,w=[],R=C;R<M;R++){for(var A=[],L=m;L<g;L++)b=this.getPixel(L,R,b),A.push({x:L,y:R,color:b.color,alpha:b.alphaGL});w.push(A)}return w},getIndex:function(c,u){return c=Math.abs(Math.round(c)),u=Math.abs(Math.round(u)),c<this.width&&u<this.height?(c+u*this.width)*4:-1},refresh:function(){return this._source.update(),this},getCanvas:function(){return this.canvas},getContext:function(){return this.context},clear:function(c,u,v,p,m){return c===void 0&&(c=0),u===void 0&&(u=0),v===void 0&&(v=this.width),p===void 0&&(p=this.height),m===void 0&&(m=!0),this.context.clearRect(c,u,v,p),m&&this.update(),this},setSize:function(c,u){return u===void 0&&(u=c),(c!==this.width||u!==this.height)&&(this.canvas.width=c,this.canvas.height=u,this._source.width=c,this._source.height=u,this._source.isPowerOf2=o(c,u),this.frames.__BASE.setSize(c,u,0,0),this.width=c,this.height=u,this.refresh()),this},destroy:function(){s.prototype.destroy.call(this),this._source=null,this.canvas=null,this.context=null,this.imageData=null,this.data=null,this.pixels=null,this.buffer=null}});n.exports=f},81320:(n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=i(10312),x=i(38058),d=i(27919),l=i(83419),o=i(8054),s=i(4327),f=i(95540),c=i(36060),u=i(32302),v=i(79237),p=i(70554),m=new l({Extends:v,initialize:function(C,M,b,w,R){b===void 0&&(b=256),w===void 0&&(w=256),R===void 0&&(R=!0),this.type="DynamicTexture";var A=C.game.renderer,L=A&&A.type===o.CANVAS,D=L?d.create2D(this,b,w):[this];v.call(this,C,M,D,b,w),this.add("__BASE",0,0,0,b,w),this.renderer=A,this.width=-1,this.height=-1,this.isDrawing=!1,this.canvas=L?D:null,this.context=L?D.getContext("2d",{willReadFrequently:!0}):null,this.dirty=!1,this.isSpriteTexture=!0,this._eraseMode=!1,this.camera=new x(0,0,b,w).setScene(C.game.scene.systemScene,!1),this.renderTarget=L?null:new u(A,b,w,1,0,!1,!1,!0,!1),this.pipeline=L?null:A.pipelines.get(c.SINGLE_PIPELINE),this.setSize(b,w,R)},setSize:function(g,C,M){C===void 0&&(C=g),M===void 0&&(M=!0),M&&(g=Math.floor(g),C=Math.floor(C),g%2!==0&&g++,C%2!==0&&C++);var b=this.get(),w=b.source;if(g!==this.width||C!==this.height){this.canvas&&(this.canvas.width=g,this.canvas.height=C);var R=this.renderTarget;R&&(R.willResize(g,C)&&R.resize(g,C),R.texture!==w.glTexture&&this.renderer.deleteTexture(w.glTexture),this.setFromRenderTarget()),this.camera.setSize(g,C),w.width=g,w.height=C,b.setSize(g,C),this.width=g,this.height=C}else{var A=this.getSourceImage();b.cutX+g>A.width&&(g=A.width-b.cutX),b.cutY+C>A.height&&(C=A.height-b.cutY),b.setSize(g,C,b.cutX,b.cutY)}return this},setFromRenderTarget:function(){var g=this.get(),C=g.source,M=this.renderTarget;return C.isRenderTexture=!0,C.isGLTexture=!0,C.glTexture=M.texture,this},setIsSpriteTexture:function(g){return this.isSpriteTexture=g,this},fill:function(g,C,M,b,w,R){var A=this.camera,L=this.renderer;C===void 0&&(C=1),M===void 0&&(M=0),b===void 0&&(b=0),w===void 0&&(w=this.width),R===void 0&&(R=this.height);var D=g>>16&255,G=g>>8&255,B=g&255,I=this.renderTarget;if(A.preRender(),I){I.bind(!0);var k=this.pipeline.manager.set(this.pipeline),z=L.width/I.width,X=L.height/I.height,H=I.height-(b+R);k.drawFillRect(M*z,H*X,w*z,R*X,p.getTintFromFloats(B/255,G/255,D/255,1),C),I.unbind(!0)}else{var Q=this.context;L.setContext(Q),Q.globalCompositeOperation="source-over",Q.fillStyle="rgba("+D+","+G+","+B+","+C+")",Q.fillRect(M,b,w,R),L.setContext()}return this.dirty=!0,this},clear:function(g,C,M,b){if(this.dirty){var w=this.context,R=this.renderTarget;R?R.clear(g,C,M,b):w&&(g!==void 0&&C!==void 0&&M!==void 0&&b!==void 0?w.clearRect(g,C,M,b):(w.save(),w.setTransform(1,0,0,1,0,0),w.clearRect(0,0,this.width,this.height),w.restore())),this.dirty=!1}return this},stamp:function(g,C,M,b,w){M===void 0&&(M=0),b===void 0&&(b=0);var R=f(w,"alpha",1),A=f(w,"tint",16777215),L=f(w,"angle",0),D=f(w,"rotation",0),G=f(w,"scale",1),B=f(w,"scaleX",G),I=f(w,"scaleY",G),k=f(w,"originX",.5),z=f(w,"originY",.5),X=f(w,"blendMode",0),H=f(w,"erase",!1),Q=f(w,"skipBatch",!1),J=this.manager.resetStamp(R,A);return J.setAngle(0),L!==0?J.setAngle(L):D!==0&&J.setRotation(D),J.setScale(B,I),J.setTexture(g,C),J.setOrigin(k,z),J.setBlendMode(X),H&&(this._eraseMode=!0),Q?this.batchGameObject(J,M,b):this.draw(J,M,b),H&&(this._eraseMode=!1),this},erase:function(g,C,M){return this._eraseMode=!0,this.draw(g,C,M),this._eraseMode=!1,this},draw:function(g,C,M,b,w){return this.beginDraw(),this.batchDraw(g,C,M,b,w),this.endDraw(),this},drawFrame:function(g,C,M,b,w,R){return this.beginDraw(),this.batchDrawFrame(g,C,M,b,w,R),this.endDraw(),this},repeat:function(g,C,M,b,w,R,A,L,D){if(M===void 0&&(M=0),b===void 0&&(b=0),w===void 0&&(w=this.width),R===void 0&&(R=this.height),A===void 0&&(A=1),L===void 0&&(L=16777215),D===void 0&&(D=!1),g instanceof s?C=g:C=this.manager.getFrame(g,C),!C)return this;var G=this.manager.resetStamp(A,L);G.setFrame(C),G.setOrigin(0);var B=C.width,I=C.height;w=Math.floor(w),R=Math.floor(R);var k=Math.ceil(w/B),z=Math.ceil(R/I),X=k*B-w,H=z*I-R;X>0&&(X=B-X),H>0&&(H=I-H),M<0&&(k+=Math.ceil(Math.abs(M)/B)),b<0&&(z+=Math.ceil(Math.abs(b)/I));var Q=M,J=b,Y=!1,$=this.manager.stampCrop.setTo(0,0,B,I);D||this.beginDraw();for(var V=0;V<z;V++){if(J+I<0){J+=I;continue}for(var U=0;U<k;U++){if(Y=!1,Q+B<0){Q+=B;continue}else Q<0&&(Y=!0,$.width=B+Q,$.x=B-$.width);J<0&&(Y=!0,$.height=I+J,$.y=I-$.height),X>0&&U===k-1&&(Y=!0,$.width=X),H>0&&V===z-1&&(Y=!0,$.height=H),Y&&G.setCrop($),this.batchGameObject(G,Q,J),G.isCropped=!1,$.setTo(0,0,B,I),Q+=B}Q=M,J+=I}return D||this.endDraw(),this},beginDraw:function(){if(!this.isDrawing){var g=this.camera,C=this.renderer,M=this.renderTarget;g.preRender(),M?C.beginCapture(M.width,M.height):C.setContext(this.context),this.isDrawing=!0}return this},batchDraw:function(g,C,M,b,w){return Array.isArray(g)||(g=[g]),this.batchList(g,C,M,b,w),this},batchDrawFrame:function(g,C,M,b,w,R){M===void 0&&(M=0),b===void 0&&(b=0),w===void 0&&(w=1),R===void 0&&(R=16777215);var A=this.manager.getFrame(g,C);return A&&(this.renderTarget?this.pipeline.batchTextureFrame(A,M,b,R,w,this.camera.matrix,null):this.batchTextureFrame(A,M,b,w,R)),this},endDraw:function(g){if(g===void 0&&(g=this._eraseMode),this.isDrawing){var C=this.renderer,M=this.renderTarget;if(M){var b=C.endCapture(),w=C.pipelines.setUtility();w.blitFrame(b,M,1,!1,!1,g,this.isSpriteTexture),C.resetScissor(),C.resetViewport()}else C.setContext();this.dirty=!0,this.isDrawing=!1}return this},batchList:function(g,C,M,b,w){var R=g.length;if(R!==0)for(var A=0;A<R;A++){var L=g[A];!L||L===this||(L.renderWebGL||L.renderCanvas?this.batchGameObject(L,C,M):L.isParent||L.list?this.batchGroup(L.getChildren(),C,M):typeof L=="string"?this.batchTextureFrameKey(L,null,C,M,b,w):L instanceof s?this.batchTextureFrame(L,C,M,b,w):Array.isArray(L)&&this.batchList(L,C,M,b,w))}},batchGroup:function(g,C,M){C===void 0&&(C=0),M===void 0&&(M=0);for(var b=0;b<g.length;b++){var w=g[b];w.willRender(this.camera)&&this.batchGameObject(w,w.x+C,w.y+M)}},batchGameObject:function(g,C,M){C===void 0&&(C=g.x),M===void 0&&(M=g.y);var b=g.x,w=g.y,R=this.camera,A=this.renderer,L=this._eraseMode,D=g.mask;if(g.setPosition(C,M),this.canvas){if(L){var G=g.blendMode;g.blendMode=a.ERASE}D&&D.preRenderCanvas(A,g,R),g.renderCanvas(A,g,R,null),D&&D.postRenderCanvas(A,g,R),L&&(g.blendMode=G)}else A&&(D&&D.preRenderWebGL(A,g,R),L||A.setBlendMode(g.blendMode),g.renderWebGL(A,g,R),D&&D.postRenderWebGL(A,R,this.renderTarget));g.setPosition(b,w)},batchTextureFrameKey:function(g,C,M,b,w,R){var A=this.manager.getFrame(g,C);A&&this.batchTextureFrame(A,M,b,w,R)},batchTextureFrame:function(g,C,M,b,w){C===void 0&&(C=0),M===void 0&&(M=0),b===void 0&&(b=1),w===void 0&&(w=16777215);var R=this.camera.matrix,A=this.renderTarget;if(A)this.pipeline.batchTextureFrame(g,C,M,w,b,R,null);else{var L=this.context,D=g.canvasData,G=g.source.image;L.save(),L.globalCompositeOperation=this._eraseMode?"destination-out":"source-over",L.globalAlpha=b,R.setToContext(L),D.width>0&&D.height>0&&L.drawImage(G,D.x,D.y,D.width,D.height,C,M,D.width,D.height),L.restore()}},snapshotArea:function(g,C,M,b,w,R,A){return this.renderTarget?this.renderer.snapshotFramebuffer(this.renderTarget.framebuffer,this.width,this.height,w,!1,g,C,M,b,R,A):this.renderer.snapshotCanvas(this.canvas,w,!1,g,C,M,b,R,A),this},snapshot:function(g,C,M){return this.snapshotArea(0,0,this.width,this.height,g,C,M)},snapshotPixel:function(g,C,M){return this.snapshotArea(g,C,1,1,M,"pixel")},getWebGLTexture:function(){if(this.renderTarget)return this.renderTarget.texture},renderWebGL:function(g,C,M,b){var w=this.manager.resetStamp();w.setTexture(this),w.setOrigin(0),w.renderWebGL(g,w,M,b)},renderCanvas:function(){},destroy:function(){var g=this.manager.stamp;g&&g.texture===this&&this.manager.resetStamp(),v.prototype.destroy.call(this),d.remove(this.canvas),this.renderTarget&&this.renderTarget.destroy(),this.camera.destroy(),this.canvas=null,this.context=null,this.renderer=null}});n.exports=m},4327:(n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=i(83419),x=i(45319),d=i(79291),l=new a({initialize:function(s,f,c,u,v,p,m){this.texture=s,this.name=f,this.source=s.source[c],this.sourceIndex=c,this.cutX,this.cutY,this.cutWidth,this.cutHeight,this.x=0,this.y=0,this.width,this.height,this.halfWidth,this.halfHeight,this.centerX,this.centerY,this.pivotX=0,this.pivotY=0,this.customPivot=!1,this.rotated=!1,this.autoRound=-1,this.customData={},this.u0=0,this.v0=0,this.u1=0,this.v1=0,this.data={cut:{x:0,y:0,w:0,h:0,r:0,b:0},trim:!1,sourceSize:{w:0,h:0},spriteSourceSize:{x:0,y:0,w:0,h:0,r:0,b:0},radius:0,drawImage:{x:0,y:0,width:0,height:0},is3Slice:!1,scale9:!1,scale9Borders:{x:0,y:0,w:0,h:0}},this.setSize(p,m,u,v)},setCutPosition:function(o,s){return o===void 0&&(o=0),s===void 0&&(s=0),this.cutX=o,this.cutY=s,this.updateUVs()},setCutSize:function(o,s){return this.cutWidth=o,this.cutHeight=s,this.updateUVs()},setSize:function(o,s,f,c){f===void 0&&(f=0),c===void 0&&(c=0),this.setCutPosition(f,c),this.setCutSize(o,s),this.width=o,this.height=s,this.halfWidth=Math.floor(o*.5),this.halfHeight=Math.floor(s*.5),this.centerX=Math.floor(o/2),this.centerY=Math.floor(s/2);var u=this.data,v=u.cut;v.x=f,v.y=c,v.w=o,v.h=s,v.r=f+o,v.b=c+s,u.sourceSize.w=o,u.sourceSize.h=s,u.spriteSourceSize.w=o,u.spriteSourceSize.h=s,u.radius=.5*Math.sqrt(o*o+s*s);var p=u.drawImage;return p.x=f,p.y=c,p.width=o,p.height=s,this.updateUVs()},setTrim:function(o,s,f,c,u,v){var p=this.data,m=p.spriteSourceSize;return p.trim=!0,p.sourceSize.w=o,p.sourceSize.h=s,m.x=f,m.y=c,m.w=u,m.h=v,m.r=f+u,m.b=c+v,this.x=f,this.y=c,this.width=u,this.height=v,this.halfWidth=u*.5,this.halfHeight=v*.5,this.centerX=Math.floor(u/2),this.centerY=Math.floor(v/2),this.updateUVs()},setScale9:function(o,s,f,c){var u=this.data;return u.scale9=!0,u.is3Slice=s===0&&c===this.height,u.scale9Borders.x=o,u.scale9Borders.y=s,u.scale9Borders.w=f,u.scale9Borders.h=c,this},setCropUVs:function(o,s,f,c,u,v,p){var m=this.cutX,g=this.cutY,C=this.cutWidth,M=this.cutHeight,b=this.realWidth,w=this.realHeight;s=x(s,0,b),f=x(f,0,w),c=x(c,0,b-s),u=x(u,0,w-f);var R=m+s,A=g+f,L=c,D=u,G=this.data;if(G.trim){var B=G.spriteSourceSize;c=x(c,0,B.x+C-s),u=x(u,0,B.y+M-f);var I=s+c,k=f+u,z=!(B.r<s||B.b<f||B.x>I||B.y>k);if(z){var X=Math.max(B.x,s),H=Math.max(B.y,f),Q=Math.min(B.r,I)-X,J=Math.min(B.b,k)-H;L=Q,D=J,v?R=m+(C-(X-B.x)-Q):R=m+(X-B.x),p?A=g+(M-(H-B.y)-J):A=g+(H-B.y),s=X,f=H,c=Q,u=J}else R=0,A=0,L=0,D=0}else v&&(R=m+(C-s-c)),p&&(A=g+(M-f-u));var Y=this.source.width,$=this.source.height;return o.u0=Math.max(0,R/Y),o.v0=Math.max(0,A/$),o.u1=Math.min(1,(R+L)/Y),o.v1=Math.min(1,(A+D)/$),o.x=s,o.y=f,o.cx=R,o.cy=A,o.cw=L,o.ch=D,o.width=c,o.height=u,o.flipX=v,o.flipY=p,o},updateCropUVs:function(o,s,f){return this.setCropUVs(o,o.x,o.y,o.width,o.height,s,f)},setUVs:function(o,s,f,c,u,v){var p=this.data.drawImage;return p.width=o,p.height=s,this.u0=f,this.v0=c,this.u1=u,this.v1=v,this},updateUVs:function(){var o=this.cutX,s=this.cutY,f=this.cutWidth,c=this.cutHeight,u=this.data.drawImage;u.width=f,u.height=c;var v=this.source.width,p=this.source.height;return this.u0=o/v,this.v0=s/p,this.u1=(o+f)/v,this.v1=(s+c)/p,this},updateUVsInverted:function(){var o=this.source.width,s=this.source.height;return this.u0=(this.cutX+this.cutHeight)/o,this.v0=this.cutY/s,this.u1=this.cutX/o,this.v1=(this.cutY+this.cutWidth)/s,this},clone:function(){var o=new l(this.texture,this.name,this.sourceIndex);return o.cutX=this.cutX,o.cutY=this.cutY,o.cutWidth=this.cutWidth,o.cutHeight=this.cutHeight,o.x=this.x,o.y=this.y,o.width=this.width,o.height=this.height,o.halfWidth=this.halfWidth,o.halfHeight=this.halfHeight,o.centerX=this.centerX,o.centerY=this.centerY,o.rotated=this.rotated,o.data=d(!0,o.data,this.data),o.updateUVs(),o},destroy:function(){this.texture=null,this.source=null,this.customData=null,this.data=null},glTexture:{get:function(){return this.source.glTexture}},realWidth:{get:function(){return this.data.sourceSize.w}},realHeight:{get:function(){return this.data.sourceSize.h}},radius:{get:function(){return this.data.radius}},trimmed:{get:function(){return this.data.trim}},scale9:{get:function(){return this.data.scale9}},is3Slice:{get:function(){return this.data.is3Slice}},canvasData:{get:function(){return this.data.drawImage}}});n.exports=l},79237:(n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=i(83419),x=i(4327),d=i(11876),l='Texture "%s" has no frame "%s"',o=new a({initialize:function(f,c,u,v,p){Array.isArray(u)||(u=[u]),this.manager=f,this.key=c,this.source=[],this.dataSource=[],this.frames={},this.customData={},this.firstFrame="__BASE",this.frameTotal=0;for(var m=0;m<u.length;m++)this.source.push(new d(this,u[m],v,p))},add:function(s,f,c,u,v,p){if(this.has(s))return null;var m=new x(this,s,f,c,u,v,p);return this.frames[s]=m,this.firstFrame==="__BASE"&&(this.firstFrame=s),this.frameTotal++,m},remove:function(s){if(this.has(s)){var f=this.get(s);return f.destroy(),delete this.frames[s],!0}return!1},has:function(s){return this.frames.hasOwnProperty(s)},get:function(s){s||(s=this.firstFrame);var f=this.frames[s];return f||(console.warn(l,this.key,s),f=this.frames[this.firstFrame]),f},getTextureSourceIndex:function(s){for(var f=0;f<this.source.length;f++)if(this.source[f]===s)return f;return-1},getFramesFromTextureSource:function(s,f){f===void 0&&(f=!1);var c=[];for(var u in this.frames)if(!(u==="__BASE"&&!f)){var v=this.frames[u];v.sourceIndex===s&&c.push(v)}return c},getFrameBounds:function(s){s===void 0&&(s=0);for(var f=this.getFramesFromTextureSource(s,!0),c=f[0],u=c.cutX,v=c.cutY,p=c.cutX+c.cutWidth,m=c.cutY+c.cutHeight,g=1;g<f.length;g++){var C=f[g];C.cutX<u&&(u=C.cutX),C.cutY<v&&(v=C.cutY),C.cutX+C.cutWidth>p&&(p=C.cutX+C.cutWidth),C.cutY+C.cutHeight>m&&(m=C.cutY+C.cutHeight)}return{x:u,y:v,width:p-u,height:m-v}},getFrameNames:function(s){s===void 0&&(s=!1);var f=Object.keys(this.frames);if(!s){var c=f.indexOf("__BASE");c!==-1&&f.splice(c,1)}return f},getSourceImage:function(s){(s==null||this.frameTotal===1)&&(s="__BASE");var f=this.frames[s];return f?f.source.image:(console.warn(l,this.key,s),this.frames.__BASE.source.image)},getDataSourceImage:function(s){(s==null||this.frameTotal===1)&&(s="__BASE");var f=this.frames[s],c;return f?c=f.sourceIndex:(console.warn(l,this.key,s),c=this.frames.__BASE.sourceIndex),this.dataSource[c].image},setDataSource:function(s){Array.isArray(s)||(s=[s]);for(var f=0;f<s.length;f++){var c=this.source[f];this.dataSource.push(new d(this,s[f],c.width,c.height))}},setFilter:function(s){var f;for(f=0;f<this.source.length;f++)this.source[f].setFilter(s);for(f=0;f<this.dataSource.length;f++)this.dataSource[f].setFilter(s)},destroy:function(){var s,f=this.source,c=this.dataSource;for(s=0;s<f.length;s++)f[s]&&f[s].destroy();for(s=0;s<c.length;s++)c[s]&&c[s].destroy();for(var u in this.frames){var v=this.frames[u];v&&v.destroy()}this.source=[],this.dataSource=[],this.frames={},this.manager.removeKey(this.key),this.manager=null}});n.exports=o},17130:(n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=i(27919),x=i(57382),d=i(83419),l=i(40987),o=i(8054),s=i(81320),f=i(50792),c=i(69442),u=i(4327),v=i(8443),p=i(99584),m=i(35154),g=i(88571),C=i(41212),M=i(61309),b=i(87841),w=i(79237),R=new d({Extends:f,initialize:function(L){f.call(this),this.game=L,this.name="TextureManager",this.list={},this._tempCanvas=a.create2D(this),this._tempContext=this._tempCanvas.getContext("2d",{willReadFrequently:!0}),this._pending=0,this.stamp,this.stampCrop=new b,this.silentWarnings=!1,L.events.once(v.BOOT,this.boot,this)},boot:function(){this._pending=3,this.on(c.LOAD,this.updatePending,this),this.on(c.ERROR,this.updatePending,this);var A=this.game.config;A.defaultImage!==null&&this.addBase64("__DEFAULT",A.defaultImage),A.missingImage!==null&&this.addBase64("__MISSING",A.missingImage),A.whiteImage!==null&&this.addBase64("__WHITE",A.whiteImage),this.game.renderer&&this.game.renderer.gl&&this.addUint8Array("__NORMAL",new Uint8Array([127,127,255,255]),1,1),this.game.events.once(v.DESTROY,this.destroy,this),this.game.events.once(v.SYSTEM_READY,function(L){this.stamp=new g(L).setOrigin(0)},this)},updatePending:function(){this._pending--,this._pending===0&&(this.off(c.LOAD),this.off(c.ERROR),this.emit(c.READY))},checkKey:function(A){return!A||typeof A!="string"||this.exists(A)?(this.silentWarnings||console.error("Texture key already in use: "+A),!1):!0},remove:function(A){if(typeof A=="string")if(this.exists(A))A=this.get(A);else return this.silentWarnings||console.warn("No texture found matching key: "+A),this;var L=A.key;return this.list.hasOwnProperty(L)&&(A.destroy(),this.emit(c.REMOVE,L),this.emit(c.REMOVE_KEY+L)),this},removeKey:function(A){return this.list.hasOwnProperty(A)&&delete this.list[A],this},addBase64:function(A,L){if(this.checkKey(A)){var D=this,G=new Image;G.onerror=function(){D.emit(c.ERROR,A)},G.onload=function(){var B=D.create(A,G);B&&(M.Image(B,0),D.emit(c.ADD,A,B),D.emit(c.ADD_KEY+A,B),D.emit(c.LOAD,A,B))},G.src=L}return this},getBase64:function(A,L,D,G){D===void 0&&(D="image/png"),G===void 0&&(G=.92);var B="",I=this.getFrame(A,L);if(I&&(I.source.isRenderTexture||I.source.isGLTexture))this.silentWarnings||console.warn("Cannot getBase64 from WebGL Texture");else if(I){var k=I.canvasData,z=a.create2D(this,k.width,k.height),X=z.getContext("2d",{willReadFrequently:!0});k.width>0&&k.height>0&&X.drawImage(I.source.image,k.x,k.y,k.width,k.height,0,0,k.width,k.height),B=z.toDataURL(D,G),a.remove(z)}return B},addImage:function(A,L,D){var G=null;return this.checkKey(A)&&(G=this.create(A,L),M.Image(G,0),D&&G.setDataSource(D),this.emit(c.ADD,A,G),this.emit(c.ADD_KEY+A,G)),G},addGLTexture:function(A,L){var D=null;if(this.checkKey(A)){var G=L.width,B=L.height;D=this.create(A,L,G,B),D.add("__BASE",0,0,0,G,B),this.emit(c.ADD,A,D),this.emit(c.ADD_KEY+A,D)}return D},addCompressedTexture:function(A,L,D){var G=null;if(this.checkKey(A)){if(G=this.create(A,L),G.add("__BASE",0,0,0,L.width,L.height),D){var B=function(k,z,X){Array.isArray(X.textures)||Array.isArray(X.frames)?M.JSONArray(k,z,X):M.JSONHash(k,z,X)};if(Array.isArray(D))for(var I=0;I<D.length;I++)B(G,I,D[I]);else B(G,0,D)}this.emit(c.ADD,A,G),this.emit(c.ADD_KEY+A,G)}return G},addRenderTexture:function(A,L){var D=null;return this.checkKey(A)&&(D=this.create(A,L),D.add("__BASE",0,0,0,L.width,L.height),this.emit(c.ADD,A,D),this.emit(c.ADD_KEY+A,D)),D},generate:function(A,L){if(this.checkKey(A)){var D=a.create(this,1,1);return L.canvas=D,p(L),this.addCanvas(A,D)}else return null},createCanvas:function(A,L,D){if(L===void 0&&(L=256),D===void 0&&(D=256),this.checkKey(A)){var G=a.create(this,L,D,o.CANVAS,!0);return this.addCanvas(A,G)}return null},addCanvas:function(A,L,D){D===void 0&&(D=!1);var G=null;return D?G=new x(this,A,L,L.width,L.height):this.checkKey(A)&&(G=new x(this,A,L,L.width,L.height),this.list[A]=G,this.emit(c.ADD,A,G),this.emit(c.ADD_KEY+A,G)),G},addDynamicTexture:function(A,L,D){var G=null;return typeof A=="string"&&!this.exists(A)?G=new s(this,A,L,D):(G=A,A=G.key),this.checkKey(A)?(this.list[A]=G,this.emit(c.ADD,A,G),this.emit(c.ADD_KEY+A,G)):G=null,G},addAtlas:function(A,L,D,G){return Array.isArray(D.textures)||Array.isArray(D.frames)?this.addAtlasJSONArray(A,L,D,G):this.addAtlasJSONHash(A,L,D,G)},addAtlasJSONArray:function(A,L,D,G){var B=null;if(L instanceof w?(A=L.key,B=L):this.checkKey(A)&&(B=this.create(A,L)),B){if(Array.isArray(D))for(var I=D.length===1,k=0;k<B.source.length;k++){var z=I?D[0]:D[k];M.JSONArray(B,k,z)}else M.JSONArray(B,0,D);G&&B.setDataSource(G),this.emit(c.ADD,A,B),this.emit(c.ADD_KEY+A,B)}return B},addAtlasJSONHash:function(A,L,D,G){var B=null;if(L instanceof w?(A=L.key,B=L):this.checkKey(A)&&(B=this.create(A,L)),B){if(Array.isArray(D))for(var I=0;I<D.length;I++)M.JSONHash(B,I,D[I]);else M.JSONHash(B,0,D);G&&B.setDataSource(G),this.emit(c.ADD,A,B),this.emit(c.ADD_KEY+A,B)}return B},addAtlasXML:function(A,L,D,G){var B=null;return L instanceof w?(A=L.key,B=L):this.checkKey(A)&&(B=this.create(A,L)),B&&(M.AtlasXML(B,0,D),G&&B.setDataSource(G),this.emit(c.ADD,A,B),this.emit(c.ADD_KEY+A,B)),B},addUnityAtlas:function(A,L,D,G){var B=null;return L instanceof w?(A=L.key,B=L):this.checkKey(A)&&(B=this.create(A,L)),B&&(M.UnityYAML(B,0,D),G&&B.setDataSource(G),this.emit(c.ADD,A,B),this.emit(c.ADD_KEY+A,B)),B},addSpriteSheet:function(A,L,D,G){var B=null;if(L instanceof w?(A=L.key,B=L):this.checkKey(A)&&(B=this.create(A,L)),B){var I=B.source[0].width,k=B.source[0].height;M.SpriteSheet(B,0,0,0,I,k,D),G&&B.setDataSource(G),this.emit(c.ADD,A,B),this.emit(c.ADD_KEY+A,B)}return B},addSpriteSheetFromAtlas:function(A,L){if(!this.checkKey(A))return null;var D=m(L,"atlas",null),G=m(L,"frame",null);if(!(!D||!G)){var B=this.get(D),I=B.get(G);if(I){var k=I.source.image;k||(k=I.source.glTexture);var z=this.create(A,k);return I.trimmed?M.SpriteSheetFromAtlas(z,I,L):M.SpriteSheet(z,0,I.cutX,I.cutY,I.cutWidth,I.cutHeight,L),this.emit(c.ADD,A,z),this.emit(c.ADD_KEY+A,z),z}}},addUint8Array:function(A,L,D,G){if(!this.checkKey(A)||L.length/4!==D*G)return null;var B=this.create(A,L,D,G);return B.add("__BASE",0,0,0,D,G),this.emit(c.ADD,A,B),this.emit(c.ADD_KEY+A,B),B},create:function(A,L,D,G){var B=null;return this.checkKey(A)&&(B=new w(this,A,L,D,G),this.list[A]=B),B},exists:function(A){return this.list.hasOwnProperty(A)},get:function(A){return A===void 0&&(A="__DEFAULT"),this.list[A]?this.list[A]:A instanceof w?A:A instanceof u?A.texture:this.list.__MISSING},cloneFrame:function(A,L){if(this.list[A])return this.list[A].get(L).clone()},getFrame:function(A,L){if(this.list[A])return this.list[A].get(L)},parseFrame:function(A){if(A){if(typeof A=="string")return this.getFrame(A);if(Array.isArray(A)&&A.length===2)return this.getFrame(A[0],A[1]);if(C(A))return this.getFrame(A.key,A.frame);if(A instanceof w)return A.get();if(A instanceof u)return A}else return},getTextureKeys:function(){var A=[];for(var L in this.list)L!=="__DEFAULT"&&L!=="__MISSING"&&L!=="__WHITE"&&L!=="__NORMAL"&&A.push(L);return A},getPixel:function(A,L,D,G){var B=this.getFrame(D,G);if(B){A-=B.x,L-=B.y;var I=B.data.cut;if(A+=I.x,L+=I.y,A>=I.x&&A<I.r&&L>=I.y&&L<I.b){var k=this._tempContext;k.clearRect(0,0,1,1),k.drawImage(B.source.image,A,L,1,1,0,0,1,1);var z=k.getImageData(0,0,1,1);return new l(z.data[0],z.data[1],z.data[2],z.data[3])}}return null},getPixelAlpha:function(A,L,D,G){var B=this.getFrame(D,G);if(B){A-=B.x,L-=B.y;var I=B.data.cut;if(A+=I.x,L+=I.y,A>=I.x&&A<I.r&&L>=I.y&&L<I.b){var k=this._tempContext;k.clearRect(0,0,1,1),k.drawImage(B.source.image,A,L,1,1,0,0,1,1);var z=k.getImageData(0,0,1,1);return z.data[3]}}return null},setTexture:function(A,L,D){return this.list[L]&&(A.texture=this.list[L],A.frame=A.texture.get(D)),A},renameTexture:function(A,L){var D=this.get(A);return D&&A!==L?(D.key=L,this.list[L]=D,delete this.list[A],!0):!1},each:function(A,L){for(var D=[null],G=1;G<arguments.length;G++)D.push(arguments[G]);for(var B in this.list)D[0]=this.list[B],A.apply(L,D)},resetStamp:function(A,L){A===void 0&&(A=1),L===void 0&&(L=16777215);var D=this.stamp;return D.setCrop(),D.setPosition(0),D.setAngle(0),D.setScale(1),D.setAlpha(A),D.setTint(L),D.setTexture("__WHITE"),D},destroy:function(){for(var A in this.list)this.list[A].destroy();this.list={},this.stamp.destroy(),this.game=null,this.stamp=null,a.remove(this._tempCanvas)}});n.exports=R},11876:(n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=i(27919),x=i(83419),d=i(50030),l=i(29795),o=i(82751),s=new x({initialize:function(c,u,v,p,m){m===void 0&&(m=!1);var g=c.manager.game;this.renderer=g.renderer,this.texture=c,this.source=u,this.image=u.compressed?null:u,this.compressionAlgorithm=u.compressed?u.format:null,this.resolution=1,this.width=v||u.naturalWidth||u.videoWidth||u.width||0,this.height=p||u.naturalHeight||u.videoHeight||u.height||0,this.scaleMode=l.DEFAULT,this.isCanvas=u instanceof HTMLCanvasElement,this.isVideo=window.hasOwnProperty("HTMLVideoElement")&&u instanceof HTMLVideoElement,this.isRenderTexture=u.type==="RenderTexture"||u.type==="DynamicTexture",this.isGLTexture=u instanceof o,this.isPowerOf2=d(this.width,this.height),this.glTexture=null,this.flipY=m,this.init(g)},init:function(f){var c=this.renderer;if(c){var u=this.source;if(c.gl){var v=this.image,p=this.flipY,m=this.width,g=this.height,C=this.scaleMode;this.isCanvas?this.glTexture=c.createCanvasTexture(v,!1,p):this.isVideo?this.glTexture=c.createVideoTexture(v,!1,p):this.isRenderTexture?this.glTexture=c.createTextureFromSource(null,m,g,C):this.isGLTexture?this.glTexture=u:this.compressionAlgorithm?this.glTexture=c.createTextureFromSource(u,void 0,void 0,C):u instanceof Uint8Array?this.glTexture=c.createUint8ArrayTexture(u,m,g,C):this.glTexture=c.createTextureFromSource(v,m,g,C)}else this.isRenderTexture&&(this.image=u.canvas)}f.config.antialias||this.setFilter(1)},setFilter:function(f){this.renderer&&this.renderer.gl&&this.renderer.setTextureFilter(this.glTexture,f),this.scaleMode=f},setFlipY:function(f){return f===void 0&&(f=!0),f===this.flipY?this:(this.flipY=f,this.update(),this)},update:function(){var f=this.renderer,c=this.image,u=this.flipY,v=f.gl;v&&this.isCanvas?f.updateCanvasTexture(c,this.glTexture,u):v&&this.isVideo&&f.updateVideoTexture(c,this.glTexture,u)},destroy:function(){this.glTexture&&this.renderer.deleteTexture(this.glTexture),this.isCanvas&&a.remove(this.image),this.renderer=null,this.texture=null,this.source=null,this.image=null,this.glTexture=null}});n.exports=s},19673:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T={LINEAR:0,NEAREST:1};n.exports=T},44538:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="addtexture"},63486:n=>{/**
 * @author       samme
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="addtexture-"},94851:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="onerror"},29099:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="onload"},8678:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="ready"},86415:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="removetexture"},30879:n=>{/**
 * @author       samme
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="removetexture-"},69442:(n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports={ADD:i(44538),ADD_KEY:i(63486),ERROR:i(94851),LOAD:i(29099),READY:i(8678),REMOVE:i(86415),REMOVE_KEY:i(30879)}},27458:(n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=i(79291),x=i(19673),d={CanvasTexture:i(57382),DynamicTexture:i(81320),Events:i(69442),FilterMode:x,Frame:i(4327),Parsers:i(61309),Texture:i(79237),TextureManager:i(17130),TextureSource:i(11876)};d=a(!1,d,x),n.exports=d},89905:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(i,a,x){if(!x.getElementsByTagName("TextureAtlas")){console.warn("Invalid Texture Atlas XML given");return}var d=i.source[a];i.add("__BASE",a,0,0,d.width,d.height);for(var l=x.getElementsByTagName("SubTexture"),o,s=0;s<l.length;s++){var f=l[s].attributes,c=f.name.value,u=parseInt(f.x.value,10),v=parseInt(f.y.value,10),p=parseInt(f.width.value,10),m=parseInt(f.height.value,10);if(o=i.add(c,a,u,v,p,m),f.frameX){var g=Math.abs(parseInt(f.frameX.value,10)),C=Math.abs(parseInt(f.frameY.value,10)),M=parseInt(f.frameWidth.value,10),b=parseInt(f.frameHeight.value,10);o.setTrim(p,m,g,C,M,b)}}return i};n.exports=T},72893:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(i,a){var x=i.source[a];return i.add("__BASE",a,0,0,x.width,x.height),i};n.exports=T},4832:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(i,a){var x=i.source[a];return i.add("__BASE",a,0,0,x.width,x.height),i};n.exports=T},78566:(n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=i(41786),x=function(d,l,o){if(!o.frames&&!o.textures){console.warn("Invalid Texture Atlas JSON Array");return}var s=d.source[l];d.add("__BASE",l,0,0,s.width,s.height);for(var f=Array.isArray(o.textures)?o.textures[l].frames:o.frames,c,u=0;u<f.length;u++){var v=f[u];if(c=d.add(v.filename,l,v.frame.x,v.frame.y,v.frame.w,v.frame.h),!c){console.warn("Invalid atlas json, frame already exists: "+v.filename);continue}v.trimmed&&c.setTrim(v.sourceSize.w,v.sourceSize.h,v.spriteSourceSize.x,v.spriteSourceSize.y,v.spriteSourceSize.w,v.spriteSourceSize.h),v.rotated&&(c.rotated=!0,c.updateUVsInverted());var p=v.anchor||v.pivot;p&&(c.customPivot=!0,c.pivotX=p.x,c.pivotY=p.y),v.scale9Borders&&c.setScale9(v.scale9Borders.x,v.scale9Borders.y,v.scale9Borders.w,v.scale9Borders.h),c.customData=a(v)}for(var m in o)m!=="frames"&&(Array.isArray(o[m])?d.customData[m]=o[m].slice(0):d.customData[m]=o[m]);return d};n.exports=x},39711:(n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=i(41786),x=function(d,l,o){if(!o.frames){console.warn("Invalid Texture Atlas JSON Hash given, missing 'frames' Object");return}var s=d.source[l];d.add("__BASE",l,0,0,s.width,s.height);var f=o.frames,c;for(var u in f)if(f.hasOwnProperty(u)){var v=f[u];if(c=d.add(u,l,v.frame.x,v.frame.y,v.frame.w,v.frame.h),!c){console.warn("Invalid atlas json, frame already exists: "+u);continue}v.trimmed&&c.setTrim(v.sourceSize.w,v.sourceSize.h,v.spriteSourceSize.x,v.spriteSourceSize.y,v.spriteSourceSize.w,v.spriteSourceSize.h),v.rotated&&(c.rotated=!0,c.updateUVsInverted());var p=v.anchor||v.pivot;p&&(c.customPivot=!0,c.pivotX=p.x,c.pivotY=p.y),v.scale9Borders&&c.setScale9(v.scale9Borders.x,v.scale9Borders.y,v.scale9Borders.w,v.scale9Borders.h),c.customData=a(v)}for(var m in o)m!=="frames"&&(Array.isArray(o[m])?d.customData[m]=o[m].slice(0):d.customData[m]=o[m]);return d};n.exports=x},31403:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2021 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(i){var a=[171,75,84,88,32,49,49,187,13,10,26,10],x,d=new Uint8Array(i,0,12);for(x=0;x<d.length;x++)if(d[x]!==a[x]){console.warn("KTXParser - Invalid file format");return}var l=Uint32Array.BYTES_PER_ELEMENT,o=new DataView(i,12,13*l),s=o.getUint32(0,!0)===67305985,f=o.getUint32(1*l,s);if(f!==0){console.warn("KTXParser - Only compressed formats supported");return}var c=o.getUint32(4*l,s),u=o.getUint32(6*l,s),v=o.getUint32(7*l,s),p=Math.max(1,o.getUint32(11*l,s)),m=o.getUint32(12*l,s),g=new Array(p),C=12+13*4+m,M=u,b=v;for(x=0;x<p;x++){var w=new Int32Array(i,C,1)[0];C+=4,g[x]={data:new Uint8Array(i,C,w),width:M,height:b},M=Math.max(1,M>>1),b=Math.max(1,b>>1),C+=w}return{mipmaps:g,width:u,height:v,internalFormat:c,compressed:!0,generateMipmap:!1}};n.exports=T},82038:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2021 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */function T(L,D,G,B,I,k,z){return z===void 0&&(z=16),Math.floor((L+G)/I)*Math.floor((D+B)/k)*z}function i(L,D){return L=Math.max(L,16),D=Math.max(D,8),L*D/4}function a(L,D){return L=Math.max(L,8),D=Math.max(D,8),L*D/2}function x(L,D){return Math.ceil(L/4)*Math.ceil(D/4)*16}function d(L,D){return T(L,D,3,3,4,4,8)}function l(L,D){return T(L,D,3,3,4,4)}function o(L,D){return T(L,D,4,3,5,4)}function s(L,D){return T(L,D,4,4,5,5)}function f(L,D){return T(L,D,5,4,6,5)}function c(L,D){return T(L,D,5,5,6,6)}function u(L,D){return T(L,D,7,4,8,5)}function v(L,D){return T(L,D,7,5,8,6)}function p(L,D){return T(L,D,7,7,8,8)}function m(L,D){return T(L,D,9,4,10,5)}function g(L,D){return T(L,D,9,5,10,6)}function C(L,D){return T(L,D,9,7,10,8)}function M(L,D){return T(L,D,9,9,10,10)}function b(L,D){return T(L,D,11,9,12,10)}function w(L,D){return T(L,D,11,11,12,12)}var R={0:{sizeFunc:i,glFormat:[35841]},1:{sizeFunc:i,glFormat:[35843]},2:{sizeFunc:a,glFormat:[35840]},3:{sizeFunc:a,glFormat:[35842]},6:{sizeFunc:d,glFormat:[36196]},7:{sizeFunc:d,glFormat:[33776,35916]},8:{sizeFunc:l,glFormat:[33777,35917]},9:{sizeFunc:l,glFormat:[33778,35918]},11:{sizeFunc:l,glFormat:[33779,35919]},14:{sizeFunc:x,glFormat:[36494,36495]},15:{sizeFunc:x,glFormat:[36492,36493]},22:{sizeFunc:d,glFormat:[37492,37493]},23:{sizeFunc:l,glFormat:[37496,37497]},24:{sizeFunc:d,glFormat:[37494,37495]},25:{sizeFunc:d,glFormat:[37488]},26:{sizeFunc:l,glFormat:[37490]},27:{sizeFunc:l,glFormat:[37808,37840]},28:{sizeFunc:o,glFormat:[37809,37841]},29:{sizeFunc:s,glFormat:[37810,37842]},30:{sizeFunc:f,glFormat:[37811,37843]},31:{sizeFunc:c,glFormat:[37812,37844]},32:{sizeFunc:u,glFormat:[37813,37845]},33:{sizeFunc:v,glFormat:[37814,37846]},34:{sizeFunc:p,glFormat:[37815,37847]},35:{sizeFunc:m,glFormat:[37816,37848]},36:{sizeFunc:g,glFormat:[37817,37849]},37:{sizeFunc:C,glFormat:[37818,37850]},38:{sizeFunc:M,glFormat:[37819,37851]},39:{sizeFunc:b,glFormat:[37820,37852]},40:{sizeFunc:w,glFormat:[37821,37853]}},A=function(L){for(var D=new Uint32Array(L,0,13),G=D[0],B=G===55727696,I=B?D[2]:D[3],k=D[4],z=R[I].glFormat[k],X=R[I].sizeFunc,H=D[11],Q=D[7],J=D[6],Y=52+D[12],$=new Uint8Array(L,Y),V=new Array(H),U=0,K=Q,j=J,_=0;_<H;_++){var tt=X(K,j);V[_]={data:new Uint8Array($.buffer,$.byteOffset+U,tt),width:K,height:j},K=Math.max(1,K>>1),j=Math.max(1,j>>1),U+=tt}return{mipmaps:V,width:Q,height:J,internalFormat:z,compressed:!0,generateMipmap:!1}};n.exports=A},75549:(n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=i(95540),x=function(d,l,o,s,f,c,u){var v=a(u,"frameWidth",null),p=a(u,"frameHeight",v);if(v===null)throw new Error("TextureManager.SpriteSheet: Invalid frameWidth given.");var m=d.source[l];d.add("__BASE",l,0,0,m.width,m.height);var g=a(u,"startFrame",0),C=a(u,"endFrame",-1),M=a(u,"margin",0),b=a(u,"spacing",0),w=Math.floor((f-M+b)/(v+b)),R=Math.floor((c-M+b)/(p+b)),A=w*R;A===0&&console.warn("SpriteSheet frame dimensions will result in zero frames for texture:",d.key),(g>A||g<-A)&&(g=0),g<0&&(g=A+g),(C===-1||C>A||C<g)&&(C=A);for(var L=M,D=M,G=0,B=0,I=0,k=0;k<A;k++){G=0,B=0;var z=L+v,X=D+p;z>f&&(G=z-f),X>c&&(B=X-c),k>=g&&k<=C&&(d.add(I,l,o+L,s+D,v-G,p-B),I++),L+=v+b,L+v>f&&(L=M,D+=p+b)}return d};n.exports=x},47534:(n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=i(95540),x=function(d,l,o){var s=a(o,"frameWidth",null),f=a(o,"frameHeight",s);if(!s)throw new Error("TextureManager.SpriteSheetFromAtlas: Invalid frameWidth given.");var c=d.source[0];d.add("__BASE",0,0,0,c.width,c.height),a(o,"startFrame",0),a(o,"endFrame",-1);for(var u=a(o,"margin",0),v=a(o,"spacing",0),p=l.cutX,m=l.cutY,g=l.cutWidth,C=l.cutHeight,M=l.realWidth,b=l.realHeight,w=Math.floor((M-u+v)/(s+v)),R=Math.floor((b-u+v)/(f+v)),A=l.x,L=s-A,D=s-(M-g-A),G=l.y,B=f-G,I=f-(b-C-G),k,z=u,X=u,H=0,Q=0,J=0;J<R;J++){for(var Y=J===0,$=J===R-1,V=0;V<w;V++){var U=V===0,K=V===w-1;if(k=d.add(H,Q,p+z,m+X,s,f),U||Y||K||$){var j=U?A:0,_=Y?G:0,tt=0,rt=0;U&&(tt+=s-L),K&&(tt+=s-D),Y&&(rt+=f-B),$&&(rt+=f-I);var ot=s-tt,ft=f-rt;k.cutWidth=ot,k.cutHeight=ft,k.setTrim(s,f,j,_,ot,ft)}z+=v,U?z+=L:K?z+=D:z+=s,H++}z=u,X+=v,Y?X+=B:$?X+=I:X+=f}return d};n.exports=x},86147:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=0,i=function(x,d,l,o){var s=T-o.y-o.height;x.add(l,d,o.x,s,o.width,o.height)},a=function(x,d,l){var o=x.source[d];x.add("__BASE",d,0,0,o.width,o.height),T=o.height;for(var s=l.split(`
`),f=/^[ ]*(- )*(\w+)+[: ]+(.*)/,c="",u="",v={x:0,y:0,width:0,height:0},p=0;p<s.length;p++){var m=s[p].match(f);if(m){var g=m[1]==="- ",C=m[2],M=m[3];if(g&&(u!==c&&(i(x,d,u,v),c=u),v={x:0,y:0,width:0,height:0}),C==="name"){u=M;continue}switch(C){case"x":case"y":case"width":case"height":v[C]=parseInt(M,10);break}}}return u!==c&&i(x,d,u,v),x};n.exports=a},55222:(n,T,i)=>{/**
 * @author       Ben Richards <benjamindrichards@gmail.com>
 * @copyright    2024 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=i(50030),x=function(c){for(var u=c.mipmaps,v=1;v<u.length;v++){var p=u[v].width,m=u[v].height;if(!a(p,m))return console.warn("Mip level "+v+" is not a power-of-two size: "+p+"x"+m),!1}var g=f[c.internalFormat];return g?g(c):(console.warn("No format checker found for internal format "+c.internalFormat+". Assuming valid."),!0)};function d(c){for(var u=c.mipmaps,v=0;v<u.length;v++){var p=u[v].width,m=u[v].height;if((p<<v)%4!==0||(m<<v)%4!==0)return console.warn("BPTC, RGTC, and S3TC dimensions must be a multiple of 4 pixels, and each successive mip level must be half the size of the previous level, rounded down. Mip level "+v+" is "+p+"x"+m),!1}return!0}function l(){return!0}function o(c){var u=c.mipmaps,v=u[0];return a(v.width,v.height)?!0:(console.warn("PVRTC base dimensions must be power of two. Base level is "+v.width+"x"+v.height),!1)}function s(c){var u=c.mipmaps,v=u[0];return v.width%4!==0||v.height%4!==0?(console.warn("S3TC SRGB base dimensions must be a multiple of 4 pixels. Base level is "+v.width+"x"+v.height+" pixels"),!1):!0}var f={37488:l,37489:l,37490:l,37491:l,37492:l,37493:l,37494:l,37495:l,37496:l,37497:l,36196:l,37808:l,37809:l,37810:l,37811:l,37812:l,37813:l,37814:l,37815:l,37816:l,37817:l,37818:l,37819:l,37820:l,37821:l,37840:l,37841:l,37842:l,37843:l,37844:l,37845:l,37846:l,37847:l,37848:l,37849:l,37850:l,37851:l,37852:l,37853:l,36492:d,36493:d,36494:d,36495:d,36283:d,36284:d,36285:d,36286:d,35840:o,35841:o,35842:o,35843:o,33776:d,33777:d,33778:d,33779:d,35916:s,35917:s,35918:s,35919:s};n.exports=x},61309:(n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports={AtlasXML:i(89905),Canvas:i(72893),Image:i(4832),JSONArray:i(78566),JSONHash:i(39711),KTXParser:i(31403),PVRParser:i(82038),SpriteSheet:i(75549),SpriteSheetFromAtlas:i(47534),UnityYAML:i(86147)}},80341:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports={CSV:0,TILED_JSON:1,ARRAY_2D:2,WELTMEISTER:3}},16536:(n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=i(83419),x=new a({initialize:function(l,o,s,f,c,u,v){(s===void 0||s<=0)&&(s=32),(f===void 0||f<=0)&&(f=32),c===void 0&&(c=0),u===void 0&&(u=0),this.name=l,this.firstgid=o|0,this.imageWidth=s|0,this.imageHeight=f|0,this.imageMargin=c|0,this.imageSpacing=u|0,this.properties=v||{},this.images=[],this.total=0},containsImageIndex:function(d){return d>=this.firstgid&&d<this.firstgid+this.total},addImage:function(d,l,o,s){return this.images.push({gid:d,image:l,width:o,height:s}),this.total++,this}});n.exports=x},27462:(n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2021 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=i(83419),x=new a({initialize:function(l){if(this.gids=[],l!==void 0)for(var o=0;o<l.length;++o)for(var s=l[o],f=0;f<s.total;++f)this.gids[s.firstgid+f]=s;this._gids=this.gids},enabled:{get:function(){return!!this.gids},set:function(d){this.gids=d?this._gids:void 0}},getTypeIncludingTile:function(d){if(d.type!==void 0&&d.type!=="")return d.type;if(!(!this.gids||d.gid===void 0)){var l=this.gids[d.gid];if(l){var o=l.getTileData(d.gid);if(o)return o.type}}},setTextureAndFrame:function(d,l,o,s){if(l===null&&this.gids&&s.gid!==void 0){var f=this.gids[s.gid];f&&(l===null&&f.image!==void 0&&(l=f.image.key),o===null&&(o=s.gid-f.firstgid),d.scene.textures.getFrame(l,o)||(l=null,o=null))}d.setTexture(l,o)},setPropertiesFromTiledObject:function(d,l){if(this.gids!==void 0&&l.gid!==void 0){var o=this.gids[l.gid];o!==void 0&&this.setFromJSON(d,o.getTileProperties(l.gid))}this.setFromJSON(d,l.properties)},setFromJSON:function(d,l){if(l){if(Array.isArray(l)){for(var o=0;o<l.length;o++){var s=l[o];d[s.name]!==void 0?d[s.name]=s.value:d.setData(s.name,s.value)}return}for(var f in l)d[f]!==void 0?d[f]=l[f]:d.setData(f,l[f])}}});n.exports=x},31989:(n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=i(80341),x=i(87010),d=i(46177),l=i(49075),o=function(s,f,c,u,v,p,m,g){c===void 0&&(c=32),u===void 0&&(u=32),v===void 0&&(v=10),p===void 0&&(p=10),g===void 0&&(g=!1);var C=null;if(Array.isArray(m)){var M=f!==void 0?f:"map";C=d(M,a.ARRAY_2D,m,c,u,g)}else if(f!==void 0){var b=s.cache.tilemap.get(f);b?C=d(f,b.format,b.data,c,u,g):console.warn("No map data found for key "+f)}return C===null&&(C=new x({tileWidth:c,tileHeight:u,width:v,height:p})),new l(s,C)};n.exports=o},23029:(n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=i(83419),x=i(31401),d=i(91907),l=i(62644),o=i(93232),s=new a({Mixins:[x.AlphaSingle,x.Flip,x.Visible],initialize:function(c,u,v,p,m,g,C,M){this.layer=c,this.index=u,this.x=v,this.y=p,this.width=m,this.height=g,this.right,this.bottom,this.baseWidth=C!==void 0?C:m,this.baseHeight=M!==void 0?M:g,this.pixelX=0,this.pixelY=0,this.updatePixelXY(),this.properties={},this.rotation=0,this.collideLeft=!1,this.collideRight=!1,this.collideUp=!1,this.collideDown=!1,this.faceLeft=!1,this.faceRight=!1,this.faceTop=!1,this.faceBottom=!1,this.collisionCallback=void 0,this.collisionCallbackContext=this,this.tint=16777215,this.tintFill=!1,this.physics={}},containsPoint:function(f,c){return!(f<this.pixelX||c<this.pixelY||f>this.right||c>this.bottom)},copy:function(f){return this.index=f.index,this.alpha=f.alpha,this.properties=l(f.properties),this.visible=f.visible,this.setFlip(f.flipX,f.flipY),this.tint=f.tint,this.rotation=f.rotation,this.collideUp=f.collideUp,this.collideDown=f.collideDown,this.collideLeft=f.collideLeft,this.collideRight=f.collideRight,this.collisionCallback=f.collisionCallback,this.collisionCallbackContext=f.collisionCallbackContext,this},getCollisionGroup:function(){return this.tileset?this.tileset.getTileCollisionGroup(this.index):null},getTileData:function(){return this.tileset?this.tileset.getTileData(this.index):null},getLeft:function(f){var c=this.tilemapLayer;if(c){var u=c.tileToWorldXY(this.x,this.y,void 0,f);return u.x}return this.x*this.baseWidth},getRight:function(f){var c=this.tilemapLayer;return c?this.getLeft(f)+this.width*c.scaleX:this.getLeft(f)+this.width},getTop:function(f){var c=this.tilemapLayer;if(c){var u=c.tileToWorldXY(this.x,this.y,void 0,f);return u.y}return this.y*this.baseWidth-(this.height-this.baseHeight)},getBottom:function(f){var c=this.tilemapLayer;return c?this.getTop(f)+this.height*c.scaleY:this.getTop(f)+this.height},getBounds:function(f,c){return c===void 0&&(c=new o),c.x=this.getLeft(f),c.y=this.getTop(f),c.width=this.getRight(f)-c.x,c.height=this.getBottom(f)-c.y,c},getCenterX:function(f){return(this.getLeft(f)+this.getRight(f))/2},getCenterY:function(f){return(this.getTop(f)+this.getBottom(f))/2},intersects:function(f,c,u,v){return!(u<=this.pixelX||v<=this.pixelY||f>=this.right||c>=this.bottom)},isInteresting:function(f,c){return f&&c?this.canCollide||this.hasInterestingFace:f?this.collides:c?this.hasInterestingFace:!1},resetCollision:function(f){if(f===void 0&&(f=!0),this.collideLeft=!1,this.collideRight=!1,this.collideUp=!1,this.collideDown=!1,this.faceTop=!1,this.faceBottom=!1,this.faceLeft=!1,this.faceRight=!1,f){var c=this.tilemapLayer;c&&this.tilemapLayer.calculateFacesAt(this.x,this.y)}return this},resetFaces:function(){return this.faceTop=!1,this.faceBottom=!1,this.faceLeft=!1,this.faceRight=!1,this},setCollision:function(f,c,u,v,p){if(c===void 0&&(c=f),u===void 0&&(u=f),v===void 0&&(v=f),p===void 0&&(p=!0),this.collideLeft=f,this.collideRight=c,this.collideUp=u,this.collideDown=v,this.faceLeft=f,this.faceRight=c,this.faceTop=u,this.faceBottom=v,p){var m=this.tilemapLayer;m&&this.tilemapLayer.calculateFacesAt(this.x,this.y)}return this},setCollisionCallback:function(f,c){return f===null?(this.collisionCallback=void 0,this.collisionCallbackContext=void 0):(this.collisionCallback=f,this.collisionCallbackContext=c),this},setSize:function(f,c,u,v){return f!==void 0&&(this.width=f),c!==void 0&&(this.height=c),u!==void 0&&(this.baseWidth=u),v!==void 0&&(this.baseHeight=v),this.updatePixelXY(),this},updatePixelXY:function(){var f=this.layer.orientation;if(f===d.ORTHOGONAL)this.pixelX=this.x*this.baseWidth,this.pixelY=this.y*this.baseHeight;else if(f===d.ISOMETRIC)this.pixelX=(this.x-this.y)*this.baseWidth*.5,this.pixelY=(this.x+this.y)*this.baseHeight*.5;else if(f===d.STAGGERED)this.pixelX=this.x*this.baseWidth+this.y%2*(this.baseWidth/2),this.pixelY=this.y*(this.baseHeight/2);else if(f===d.HEXAGONAL){var c=this.layer.staggerAxis,u=this.layer.staggerIndex,v=this.layer.hexSideLength,p,m;c==="y"?(m=(this.baseHeight-v)/2+v,u==="odd"?this.pixelX=this.x*this.baseWidth+this.y%2*(this.baseWidth/2):this.pixelX=this.x*this.baseWidth-this.y%2*(this.baseWidth/2),this.pixelY=this.y*m):c==="x"&&(p=(this.baseWidth-v)/2+v,this.pixelX=this.x*p,u==="odd"?this.pixelY=this.y*this.baseHeight+this.x%2*(this.baseHeight/2):this.pixelY=this.y*this.baseHeight-this.x%2*(this.baseHeight/2))}return this.right=this.pixelX+this.baseWidth,this.bottom=this.pixelY+this.baseHeight,this},destroy:function(){this.collisionCallback=void 0,this.collisionCallbackContext=void 0,this.properties=void 0},canCollide:{get:function(){return this.collideLeft||this.collideRight||this.collideUp||this.collideDown||this.collisionCallback!==void 0}},collides:{get:function(){return this.collideLeft||this.collideRight||this.collideUp||this.collideDown}},hasInterestingFace:{get:function(){return this.faceTop||this.faceBottom||this.faceLeft||this.faceRight}},tileset:{get:function(){var f=this.layer.tilemapLayer;if(f){var c=f.gidMap[this.index];if(c)return c}return null}},tilemapLayer:{get:function(){return this.layer.tilemapLayer}},tilemap:{get:function(){var f=this.tilemapLayer;return f?f.tilemap:null}}});n.exports=s},49075:(n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=i(84101),x=i(83419),d=i(39506),l=i(80341),o=i(95540),s=i(14977),f=i(27462),c=i(91907),u=i(36305),v=i(19133),p=i(68287),m=i(23029),g=i(81086),C=i(20442),M=i(33629),b=new x({initialize:function(R,A){this.scene=R,this.tileWidth=A.tileWidth,this.tileHeight=A.tileHeight,this.width=A.width,this.height=A.height,this.orientation=A.orientation,this.renderOrder=A.renderOrder,this.format=A.format,this.version=A.version,this.properties=A.properties,this.widthInPixels=A.widthInPixels,this.heightInPixels=A.heightInPixels,this.imageCollections=A.imageCollections,this.images=A.images,this.layers=A.layers,this.tiles=A.tiles,this.tilesets=A.tilesets,this.objects=A.objects,this.currentLayerIndex=0,this.hexSideLength=A.hexSideLength;var L=this.orientation;this._convert={WorldToTileXY:g.GetWorldToTileXYFunction(L),WorldToTileX:g.GetWorldToTileXFunction(L),WorldToTileY:g.GetWorldToTileYFunction(L),TileToWorldXY:g.GetTileToWorldXYFunction(L),TileToWorldX:g.GetTileToWorldXFunction(L),TileToWorldY:g.GetTileToWorldYFunction(L),GetTileCorners:g.GetTileCornersFunction(L)}},setRenderOrder:function(w){var R=["right-down","left-down","right-up","left-up"];return typeof w=="number"&&(w=R[w]),R.indexOf(w)>-1&&(this.renderOrder=w),this},addTilesetImage:function(w,R,A,L,D,G,B,I){if(w===void 0)return null;R==null&&(R=w);var k=this.scene.sys.textures;if(!k.exists(R))return console.warn('Texture key "%s" not found',R),null;var z=k.get(R),X=this.getTilesetIndex(w);if(X===null&&this.format===l.TILED_JSON)return console.warn('Tilemap has no tileset "%s". Its tilesets are %o',w,this.tilesets),null;var H=this.tilesets[X];return H?((A||L)&&H.setTileSize(A,L),(D||G)&&H.setSpacing(D,G),H.setImage(z),H):(A===void 0&&(A=this.tileWidth),L===void 0&&(L=this.tileHeight),D===void 0&&(D=0),G===void 0&&(G=0),B===void 0&&(B=0),I===void 0&&(I={x:0,y:0}),H=new M(w,B,A,L,D,G,void 0,void 0,I),H.setImage(z),this.tilesets.push(H),this.tiles=a(this),H)},copy:function(w,R,A,L,D,G,B,I){return I=this.getLayer(I),I!==null?(g.Copy(w,R,A,L,D,G,B,I),this):null},createBlankLayer:function(w,R,A,L,D,G,B,I){A===void 0&&(A=0),L===void 0&&(L=0),D===void 0&&(D=this.width),G===void 0&&(G=this.height),B===void 0&&(B=this.tileWidth),I===void 0&&(I=this.tileHeight);var k=this.getLayerIndex(w);if(k!==null)return console.warn("Invalid Tilemap Layer ID: "+w),null;for(var z=new s({name:w,tileWidth:B,tileHeight:I,width:D,height:G,orientation:this.orientation,hexSideLength:this.hexSideLength}),X,H=0;H<G;H++){X=[];for(var Q=0;Q<D;Q++)X.push(new m(z,-1,Q,H,B,I,this.tileWidth,this.tileHeight));z.data.push(X)}this.layers.push(z),this.currentLayerIndex=this.layers.length-1;var J=new C(this.scene,this,this.currentLayerIndex,R,A,L);return J.setRenderOrder(this.renderOrder),this.scene.sys.displayList.add(J),J},createLayer:function(w,R,A,L){var D=this.getLayerIndex(w);if(D===null)return console.warn("Invalid Tilemap Layer ID: "+w),typeof w=="string"&&console.warn("Valid tilelayer names: %o",this.getTileLayerNames()),null;var G=this.layers[D];if(G.tilemapLayer)return console.warn("Tilemap Layer ID already exists:"+w),null;this.currentLayerIndex=D,A===void 0&&(A=G.x),L===void 0&&(L=G.y);var B=new C(this.scene,this,D,R,A,L);return B.setRenderOrder(this.renderOrder),this.scene.sys.displayList.add(B),B},createFromObjects:function(w,R,A){A===void 0&&(A=!0);var L=[],D=this.getObjectLayer(w);if(!D)return console.warn("createFromObjects: Invalid objectLayerName given: "+w),L;var G=new f(A?this.tilesets:void 0);Array.isArray(R)||(R=[R]);for(var B=D.objects,I=0;I<R.length;I++){var k=R[I],z=o(k,"id",null),X=o(k,"gid",null),H=o(k,"name",null),Q=o(k,"type",null);G.enabled=!o(k,"ignoreTileset",null);for(var J,Y=[],$=0;$<B.length;$++)J=B[$],(z===null&&X===null&&H===null&&Q===null||z!==null&&J.id===z||X!==null&&J.gid===X||H!==null&&J.name===H||Q!==null&&G.getTypeIncludingTile(J)===Q)&&Y.push(J);for(var V=o(k,"classType",p),U=o(k,"scene",this.scene),K=o(k,"container",null),j=o(k,"key",null),_=o(k,"frame",null),tt=0;tt<Y.length;tt++){J=Y[tt];var rt=new V(U);if(rt.setName(J.name),rt.setPosition(J.x,J.y),G.setTextureAndFrame(rt,j,_,J),J.width&&(rt.displayWidth=J.width),J.height&&(rt.displayHeight=J.height),this.orientation===c.ISOMETRIC){var ot=this.tileWidth/this.tileHeight,ft={x:rt.x-rt.y,y:(rt.x+rt.y)/ot};rt.x=ft.x,rt.y=ft.y}var ct={x:rt.originX*J.width,y:(rt.originY-(J.gid?1:0))*J.height};if(J.rotation){var gt=d(J.rotation);u(ct,gt),rt.rotation=gt}rt.x+=ct.x,rt.y+=ct.y,(J.flippedHorizontal!==void 0||J.flippedVertical!==void 0)&&rt.setFlip(J.flippedHorizontal,J.flippedVertical),J.visible||(rt.visible=!1),G.setPropertiesFromTiledObject(rt,J),K?K.add(rt):U.add.existing(rt),L.push(rt)}}return L},createFromTiles:function(w,R,A,L,D,G){return G=this.getLayer(G),G===null?null:g.CreateFromTiles(w,R,A,L,D,G)},fill:function(w,R,A,L,D,G,B){return G===void 0&&(G=!0),B=this.getLayer(B),B===null?null:(g.Fill(w,R,A,L,D,G,B),this)},filterObjects:function(w,R,A){if(typeof w=="string"){var L=w;if(w=this.getObjectLayer(w),!w)return console.warn("No object layer found with the name: "+L),null}return w.objects.filter(R,A)},filterTiles:function(w,R,A,L,D,G,B,I){return I=this.getLayer(I),I===null?null:g.FilterTiles(w,R,A,L,D,G,B,I)},findByIndex:function(w,R,A,L){return L=this.getLayer(L),L===null?null:g.FindByIndex(w,R,A,L)},findObject:function(w,R,A){if(typeof w=="string"){var L=w;if(w=this.getObjectLayer(w),!w)return console.warn("No object layer found with the name: "+L),null}return w.objects.find(R,A)||null},findTile:function(w,R,A,L,D,G,B,I){return I=this.getLayer(I),I===null?null:g.FindTile(w,R,A,L,D,G,B,I)},forEachTile:function(w,R,A,L,D,G,B,I){return I=this.getLayer(I),I===null?null:(g.ForEachTile(w,R,A,L,D,G,B,I),this)},getImageIndex:function(w){return this.getIndex(this.images,w)},getImageLayerNames:function(){return!this.images||!Array.isArray(this.images)?[]:this.images.map(function(w){return w.name})},getIndex:function(w,R){for(var A=0;A<w.length;A++)if(w[A].name===R)return A;return null},getLayer:function(w){var R=this.getLayerIndex(w);return R!==null?this.layers[R]:null},getObjectLayer:function(w){var R=this.getIndex(this.objects,w);return R!==null?this.objects[R]:null},getObjectLayerNames:function(){return!this.objects||!Array.isArray(this.objects)?[]:this.objects.map(function(w){return w.name})},getLayerIndex:function(w){return w===void 0?this.currentLayerIndex:typeof w=="string"?this.getLayerIndexByName(w):typeof w=="number"&&w<this.layers.length?w:w instanceof C&&w.tilemap===this?w.layerIndex:null},getLayerIndexByName:function(w){return this.getIndex(this.layers,w)},getTileAt:function(w,R,A,L){return L=this.getLayer(L),L===null?null:g.GetTileAt(w,R,A,L)},getTileAtWorldXY:function(w,R,A,L,D){return D=this.getLayer(D),D===null?null:g.GetTileAtWorldXY(w,R,A,L,D)},getTileLayerNames:function(){return!this.layers||!Array.isArray(this.layers)?[]:this.layers.map(function(w){return w.name})},getTilesWithin:function(w,R,A,L,D,G){return G=this.getLayer(G),G===null?null:g.GetTilesWithin(w,R,A,L,D,G)},getTilesWithinShape:function(w,R,A,L){return L=this.getLayer(L),L===null?null:g.GetTilesWithinShape(w,R,A,L)},getTilesWithinWorldXY:function(w,R,A,L,D,G,B){return B=this.getLayer(B),B===null?null:g.GetTilesWithinWorldXY(w,R,A,L,D,G,B)},getTileset:function(w){var R=this.getIndex(this.tilesets,w);return R!==null?this.tilesets[R]:null},getTilesetIndex:function(w){return this.getIndex(this.tilesets,w)},hasTileAt:function(w,R,A){return A=this.getLayer(A),A===null?null:g.HasTileAt(w,R,A)},hasTileAtWorldXY:function(w,R,A,L){return L=this.getLayer(L),L===null?null:g.HasTileAtWorldXY(w,R,A,L)},layer:{get:function(){return this.layers[this.currentLayerIndex]},set:function(w){this.setLayer(w)}},putTileAt:function(w,R,A,L,D){return L===void 0&&(L=!0),D=this.getLayer(D),D===null?null:g.PutTileAt(w,R,A,L,D)},putTileAtWorldXY:function(w,R,A,L,D,G){return L===void 0&&(L=!0),G=this.getLayer(G),G===null?null:g.PutTileAtWorldXY(w,R,A,L,D,G)},putTilesAt:function(w,R,A,L,D){return L===void 0&&(L=!0),D=this.getLayer(D),D===null?null:(g.PutTilesAt(w,R,A,L,D),this)},randomize:function(w,R,A,L,D,G){return G=this.getLayer(G),G===null?null:(g.Randomize(w,R,A,L,D,G),this)},calculateFacesAt:function(w,R,A){return A=this.getLayer(A),A===null?null:(g.CalculateFacesAt(w,R,A),this)},calculateFacesWithin:function(w,R,A,L,D){return D=this.getLayer(D),D===null?null:(g.CalculateFacesWithin(w,R,A,L,D),this)},removeLayer:function(w){var R=this.getLayerIndex(w);if(R!==null){v(this.layers,R);for(var A=R;A<this.layers.length;A++)this.layers[A].tilemapLayer&&this.layers[A].tilemapLayer.layerIndex--;return this.currentLayerIndex===R&&(this.currentLayerIndex=0),this}else return null},destroyLayer:function(w){var R=this.getLayerIndex(w);return R!==null?(w=this.layers[R],w.tilemapLayer.destroy(),v(this.layers,R),this.currentLayerIndex===R&&(this.currentLayerIndex=0),this):null},removeAllLayers:function(){for(var w=this.layers,R=0;R<w.length;R++)w[R].tilemapLayer&&w[R].tilemapLayer.destroy(!1);return w.length=0,this.currentLayerIndex=0,this},removeTile:function(w,R,A){R===void 0&&(R=-1),A===void 0&&(A=!0);var L=[];Array.isArray(w)||(w=[w]);for(var D=0;D<w.length;D++){var G=w[D];L.push(this.removeTileAt(G.x,G.y,!0,A,G.tilemapLayer)),R>-1&&this.putTileAt(R,G.x,G.y,A,G.tilemapLayer)}return L},removeTileAt:function(w,R,A,L,D){return A===void 0&&(A=!0),L===void 0&&(L=!0),D=this.getLayer(D),D===null?null:g.RemoveTileAt(w,R,A,L,D)},removeTileAtWorldXY:function(w,R,A,L,D,G){return A===void 0&&(A=!0),L===void 0&&(L=!0),G=this.getLayer(G),G===null?null:g.RemoveTileAtWorldXY(w,R,A,L,D,G)},renderDebug:function(w,R,A){return A=this.getLayer(A),A===null?null:(this.orientation===c.ORTHOGONAL&&g.RenderDebug(w,R,A),this)},renderDebugFull:function(w,R){for(var A=this.layers,L=0;L<A.length;L++)g.RenderDebug(w,R,A[L]);return this},replaceByIndex:function(w,R,A,L,D,G,B){return B=this.getLayer(B),B===null?null:(g.ReplaceByIndex(w,R,A,L,D,G,B),this)},setCollision:function(w,R,A,L,D){return R===void 0&&(R=!0),A===void 0&&(A=!0),D===void 0&&(D=!0),L=this.getLayer(L),L===null?null:(g.SetCollision(w,R,A,L,D),this)},setCollisionBetween:function(w,R,A,L,D){return A===void 0&&(A=!0),L===void 0&&(L=!0),D=this.getLayer(D),D===null?null:(g.SetCollisionBetween(w,R,A,L,D),this)},setCollisionByProperty:function(w,R,A,L){return R===void 0&&(R=!0),A===void 0&&(A=!0),L=this.getLayer(L),L===null?null:(g.SetCollisionByProperty(w,R,A,L),this)},setCollisionByExclusion:function(w,R,A,L){return R===void 0&&(R=!0),A===void 0&&(A=!0),L=this.getLayer(L),L===null?null:(g.SetCollisionByExclusion(w,R,A,L),this)},setCollisionFromCollisionGroup:function(w,R,A){return w===void 0&&(w=!0),R===void 0&&(R=!0),A=this.getLayer(A),A===null?null:(g.SetCollisionFromCollisionGroup(w,R,A),this)},setTileIndexCallback:function(w,R,A,L){return L=this.getLayer(L),L===null?null:(g.SetTileIndexCallback(w,R,A,L),this)},setTileLocationCallback:function(w,R,A,L,D,G,B){return B=this.getLayer(B),B===null?null:(g.SetTileLocationCallback(w,R,A,L,D,G,B),this)},setLayer:function(w){var R=this.getLayerIndex(w);return R!==null&&(this.currentLayerIndex=R),this},setBaseTileSize:function(w,R){this.tileWidth=w,this.tileHeight=R,this.widthInPixels=this.width*w,this.heightInPixels=this.height*R;for(var A=0;A<this.layers.length;A++){this.layers[A].baseTileWidth=w,this.layers[A].baseTileHeight=R;for(var L=this.layers[A].data,D=this.layers[A].width,G=this.layers[A].height,B=0;B<G;B++)for(var I=0;I<D;I++){var k=L[B][I];k!==null&&k.setSize(void 0,void 0,w,R)}}return this},setLayerTileSize:function(w,R,A){if(A=this.getLayer(A),A===null)return this;A.tileWidth=w,A.tileHeight=R;for(var L=A.data,D=A.width,G=A.height,B=0;B<G;B++)for(var I=0;I<D;I++){var k=L[B][I];k!==null&&k.setSize(w,R)}return this},shuffle:function(w,R,A,L,D){return D=this.getLayer(D),D===null?null:(g.Shuffle(w,R,A,L,D),this)},swapByIndex:function(w,R,A,L,D,G,B){return B=this.getLayer(B),B===null?null:(g.SwapByIndex(w,R,A,L,D,G,B),this)},tileToWorldX:function(w,R,A){return A=this.getLayer(A),A===null?null:this._convert.TileToWorldX(w,R,A)},tileToWorldY:function(w,R,A){return A=this.getLayer(A),A===null?null:this._convert.TileToWorldY(w,R,A)},tileToWorldXY:function(w,R,A,L,D){return D=this.getLayer(D),D===null?null:this._convert.TileToWorldXY(w,R,A,L,D)},getTileCorners:function(w,R,A,L){return L=this.getLayer(L),L===null?null:this._convert.GetTileCorners(w,R,A,L)},weightedRandomize:function(w,R,A,L,D,G){return G=this.getLayer(G),G===null?null:(g.WeightedRandomize(R,A,L,D,w,G),this)},worldToTileX:function(w,R,A,L){return L=this.getLayer(L),L===null?null:this._convert.WorldToTileX(w,R,A,L)},worldToTileY:function(w,R,A,L){return L=this.getLayer(L),L===null?null:this._convert.WorldToTileY(w,R,A,L)},worldToTileXY:function(w,R,A,L,D,G){return G=this.getLayer(G),G===null?null:this._convert.WorldToTileXY(w,R,A,L,D,G)},destroy:function(){this.removeAllLayers(),this.tiles.length=0,this.tilesets.length=0,this.objects.length=0,this.scene=null}});n.exports=b},45939:(n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=i(44603),x=i(31989);a.register("tilemap",function(d){var l=d!==void 0?d:{};return x(this.scene,l.key,l.tileWidth,l.tileHeight,l.width,l.height,l.data,l.insertNull)})},46029:(n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=i(39429),x=i(31989);a.register("tilemap",function(d,l,o,s,f,c,u){return d===null&&(d=void 0),l===null&&(l=void 0),o===null&&(o=void 0),s===null&&(s=void 0),f===null&&(f=void 0),x(this.scene,d,l,o,s,f,c,u)})},20442:(n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=i(83419),x=i(78389),d=i(31401),l=i(95643),o=i(81086),s=i(19218),f=i(26099),c=new a({Extends:l,Mixins:[d.Alpha,d.BlendMode,d.ComputedSize,d.Depth,d.Flip,d.GetBounds,d.Mask,d.Origin,d.Pipeline,d.PostPipeline,d.Transform,d.Visible,d.ScrollFactor,x,s],initialize:function(v,p,m,g,C,M){l.call(this,v,"TilemapLayer"),this.isTilemap=!0,this.tilemap=p,this.layerIndex=m,this.layer=p.layers[m],this.layer.tilemapLayer=this,this.tileset=[],this.tilesDrawn=0,this.tilesTotal=this.layer.width*this.layer.height,this.culledTiles=[],this.skipCull=!1,this.cullPaddingX=1,this.cullPaddingY=1,this.cullCallback=o.GetCullTilesFunction(this.layer.orientation),this._renderOrder=0,this.gidMap=[],this.tempVec=new f,this.collisionCategory=1,this.collisionMask=1,this.setTilesets(g),this.setAlpha(this.layer.alpha),this.setPosition(C,M),this.setOrigin(0,0),this.setSize(p.tileWidth*this.layer.width,p.tileHeight*this.layer.height),this.initPipeline(),this.initPostPipeline(!1)},setTilesets:function(u){var v=[],p=[],m=this.tilemap;Array.isArray(u)||(u=[u]);for(var g=0;g<u.length;g++){var C=u[g];if(typeof C=="string"&&(C=m.getTileset(C)),C){p.push(C);for(var M=C.firstgid,b=0;b<C.total;b++)v[M+b]=C}}this.gidMap=v,this.tileset=p},setRenderOrder:function(u){var v=["right-down","left-down","right-up","left-up"];return typeof u=="string"&&(u=v.indexOf(u)),u>=0&&u<4&&(this._renderOrder=u),this},calculateFacesAt:function(u,v){return o.CalculateFacesAt(u,v,this.layer),this},calculateFacesWithin:function(u,v,p,m){return o.CalculateFacesWithin(u,v,p,m,this.layer),this},createFromTiles:function(u,v,p,m,g){return o.CreateFromTiles(u,v,p,m,g,this.layer)},cull:function(u){return this.cullCallback(this.layer,u,this.culledTiles,this._renderOrder)},copy:function(u,v,p,m,g,C,M){return o.Copy(u,v,p,m,g,C,M,this.layer),this},fill:function(u,v,p,m,g,C){return o.Fill(u,v,p,m,g,C,this.layer),this},filterTiles:function(u,v,p,m,g,C,M){return o.FilterTiles(u,v,p,m,g,C,M,this.layer)},findByIndex:function(u,v,p){return o.FindByIndex(u,v,p,this.layer)},findTile:function(u,v,p,m,g,C,M){return o.FindTile(u,v,p,m,g,C,M,this.layer)},forEachTile:function(u,v,p,m,g,C,M){return o.ForEachTile(u,v,p,m,g,C,M,this.layer),this},setTint:function(u,v,p,m,g,C){u===void 0&&(u=16777215);var M=function(b){b.tint=u,b.tintFill=!1};return this.forEachTile(M,this,v,p,m,g,C)},setTintFill:function(u,v,p,m,g,C){u===void 0&&(u=16777215);var M=function(b){b.tint=u,b.tintFill=!0};return this.forEachTile(M,this,v,p,m,g,C)},getTileAt:function(u,v,p){return o.GetTileAt(u,v,p,this.layer)},getTileAtWorldXY:function(u,v,p,m){return o.GetTileAtWorldXY(u,v,p,m,this.layer)},getIsoTileAtWorldXY:function(u,v,p,m,g){p===void 0&&(p=!0);var C=this.tempVec;return o.IsometricWorldToTileXY(u,v,!0,C,g,this.layer,p),this.getTileAt(C.x,C.y,m)},getTilesWithin:function(u,v,p,m,g){return o.GetTilesWithin(u,v,p,m,g,this.layer)},getTilesWithinShape:function(u,v,p){return o.GetTilesWithinShape(u,v,p,this.layer)},getTilesWithinWorldXY:function(u,v,p,m,g,C){return o.GetTilesWithinWorldXY(u,v,p,m,g,C,this.layer)},hasTileAt:function(u,v){return o.HasTileAt(u,v,this.layer)},hasTileAtWorldXY:function(u,v,p){return o.HasTileAtWorldXY(u,v,p,this.layer)},putTileAt:function(u,v,p,m){return o.PutTileAt(u,v,p,m,this.layer)},putTileAtWorldXY:function(u,v,p,m,g){return o.PutTileAtWorldXY(u,v,p,m,g,this.layer)},putTilesAt:function(u,v,p,m){return o.PutTilesAt(u,v,p,m,this.layer),this},randomize:function(u,v,p,m,g){return o.Randomize(u,v,p,m,g,this.layer),this},removeTileAt:function(u,v,p,m){return o.RemoveTileAt(u,v,p,m,this.layer)},removeTileAtWorldXY:function(u,v,p,m,g){return o.RemoveTileAtWorldXY(u,v,p,m,g,this.layer)},renderDebug:function(u,v){return o.RenderDebug(u,v,this.layer),this},replaceByIndex:function(u,v,p,m,g,C){return o.ReplaceByIndex(u,v,p,m,g,C,this.layer),this},setSkipCull:function(u){return u===void 0&&(u=!0),this.skipCull=u,this},setCullPadding:function(u,v){return u===void 0&&(u=1),v===void 0&&(v=1),this.cullPaddingX=u,this.cullPaddingY=v,this},setCollision:function(u,v,p,m){return o.SetCollision(u,v,p,this.layer,m),this},setCollisionBetween:function(u,v,p,m){return o.SetCollisionBetween(u,v,p,m,this.layer),this},setCollisionByProperty:function(u,v,p){return o.SetCollisionByProperty(u,v,p,this.layer),this},setCollisionByExclusion:function(u,v,p){return o.SetCollisionByExclusion(u,v,p,this.layer),this},setCollisionFromCollisionGroup:function(u,v){return o.SetCollisionFromCollisionGroup(u,v,this.layer),this},setTileIndexCallback:function(u,v,p){return o.SetTileIndexCallback(u,v,p,this.layer),this},setTileLocationCallback:function(u,v,p,m,g,C){return o.SetTileLocationCallback(u,v,p,m,g,C,this.layer),this},shuffle:function(u,v,p,m){return o.Shuffle(u,v,p,m,this.layer),this},swapByIndex:function(u,v,p,m,g,C){return o.SwapByIndex(u,v,p,m,g,C,this.layer),this},tileToWorldX:function(u,v){return this.tilemap.tileToWorldX(u,v,this)},tileToWorldY:function(u,v){return this.tilemap.tileToWorldY(u,v,this)},tileToWorldXY:function(u,v,p,m){return this.tilemap.tileToWorldXY(u,v,p,m,this)},getTileCorners:function(u,v,p){return this.tilemap.getTileCorners(u,v,p,this)},weightedRandomize:function(u,v,p,m,g){return o.WeightedRandomize(v,p,m,g,u,this.layer),this},worldToTileX:function(u,v,p){return this.tilemap.worldToTileX(u,v,p,this)},worldToTileY:function(u,v,p){return this.tilemap.worldToTileY(u,v,p,this)},worldToTileXY:function(u,v,p,m,g){return this.tilemap.worldToTileXY(u,v,p,m,g,this)},destroy:function(u){u===void 0&&(u=!0),this.tilemap&&(this.layer.tilemapLayer===this&&(this.layer.tilemapLayer=void 0),u&&this.tilemap.removeLayer(this),this.tilemap=void 0,this.layer=void 0,this.culledTiles.length=0,this.cullCallback=null,this.gidMap=[],this.tileset=[],l.prototype.destroy.call(this))}});n.exports=c},16153:(n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=i(61340),x=new a,d=new a,l=new a,o=function(s,f,c,u){var v=f.cull(c),p=v.length,m=c.alpha*f.alpha;if(!(p===0||m<=0)){var g=x,C=d,M=l;C.applyITRS(f.x,f.y,f.rotation,f.scaleX,f.scaleY),g.copyFrom(c.matrix);var b=s.currentContext,w=f.gidMap;b.save(),u?(g.multiplyWithOffset(u,-c.scrollX*f.scrollFactorX,-c.scrollY*f.scrollFactorY),C.e=f.x,C.f=f.y,g.multiply(C,M),M.copyToContext(b)):(C.e-=c.scrollX*f.scrollFactorX,C.f-=c.scrollY*f.scrollFactorY,C.copyToContext(b)),(!s.antialias||f.scaleX>1||f.scaleY>1)&&(b.imageSmoothingEnabled=!1);for(var R=0;R<p;R++){var A=v[R],L=w[A.index];if(L){var D=L.image.getSourceImage(),G=L.getTileTextureCoordinates(A.index),B=L.tileWidth,I=L.tileHeight;if(!(G===null||B===0||I===0)){var k=B*.5,z=I*.5;G.x+=L.tileOffset.x,G.y+=L.tileOffset.y,b.save(),b.translate(A.pixelX+k,A.pixelY+z),A.rotation!==0&&b.rotate(A.rotation),(A.flipX||A.flipY)&&b.scale(A.flipX?-1:1,A.flipY?-1:1),b.globalAlpha=m*A.alpha,b.drawImage(D,G.x,G.y,B,I,-k,-z,B,I),b.restore()}}}b.restore()}};n.exports=o},19218:(n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=i(29747),x=a,d=a;x=i(99558),d=i(16153),n.exports={renderWebGL:x,renderCanvas:d}},99558:(n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=i(70554),x=function(d,l,o){var s=l.cull(o),f=s.length,c=o.alpha*l.alpha;if(!(f===0||c<=0)){var u=l.gidMap,v=d.pipelines.set(l.pipeline,l),p=a.getTintAppendFloatAlpha,m=l.scrollFactorX,g=l.scrollFactorY,C=l.x,M=l.y,b=l.scaleX,w=l.scaleY;d.pipelines.preBatch(l);for(var R=0;R<f;R++){var A=s[R],L=u[A.index];if(L){var D=L.getTileTextureCoordinates(A.index),G=L.tileWidth,B=L.tileHeight;if(!(!D||G===0||B===0)){var I=G*.5,k=B*.5,z=L.glTexture,X=v.setTexture2D(z,l),H=G,Q=B,J=D.x,Y=D.y,$=L.tileOffset.x,V=L.tileOffset.y,U=p(A.tint,c*A.alpha);v.batchTexture(l,z,z.width,z.height,C+A.pixelX*b+(I*b-$),M+A.pixelY*w+(k*w-V),G,B,b,w,A.rotation,A.flipX,A.flipY,m,g,I,k,J,Y,H,Q,U,U,U,U,A.tintFill,0,0,o,null,!0,X,!0)}}}d.pipelines.postBatch(l)}};n.exports=x},33629:(n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=i(83419),x=i(26099),d=new a({initialize:function(o,s,f,c,u,v,p,m,g){(f===void 0||f<=0)&&(f=32),(c===void 0||c<=0)&&(c=32),u===void 0&&(u=0),v===void 0&&(v=0),p===void 0&&(p={}),m===void 0&&(m={}),this.name=o,this.firstgid=s,this.tileWidth=f,this.tileHeight=c,this.tileMargin=u,this.tileSpacing=v,this.tileProperties=p,this.tileData=m,this.tileOffset=new x,g!==void 0&&this.tileOffset.set(g.x,g.y),this.image=null,this.glTexture=null,this.rows=0,this.columns=0,this.total=0,this.texCoordinates=[]},getTileProperties:function(l){return this.containsTileIndex(l)?this.tileProperties[l-this.firstgid]:null},getTileData:function(l){return this.containsTileIndex(l)?this.tileData[l-this.firstgid]:null},getTileCollisionGroup:function(l){var o=this.getTileData(l);return o&&o.objectgroup?o.objectgroup:null},containsTileIndex:function(l){return l>=this.firstgid&&l<this.firstgid+this.total},getTileTextureCoordinates:function(l){return this.containsTileIndex(l)?this.texCoordinates[l-this.firstgid]:null},setImage:function(l){this.image=l;var o=l.get(),s=l.getFrameBounds();return this.glTexture=o.source.glTexture,o.width>s.width||o.height>s.height?this.updateTileData(o.width,o.height):this.updateTileData(s.width,s.height,s.x,s.y),this},setTileSize:function(l,o){return l!==void 0&&(this.tileWidth=l),o!==void 0&&(this.tileHeight=o),this.image&&this.updateTileData(this.image.source[0].width,this.image.source[0].height),this},setSpacing:function(l,o){return l!==void 0&&(this.tileMargin=l),o!==void 0&&(this.tileSpacing=o),this.image&&this.updateTileData(this.image.source[0].width,this.image.source[0].height),this},updateTileData:function(l,o,s,f){s===void 0&&(s=0),f===void 0&&(f=0);var c=(o-this.tileMargin*2+this.tileSpacing)/(this.tileHeight+this.tileSpacing),u=(l-this.tileMargin*2+this.tileSpacing)/(this.tileWidth+this.tileSpacing);(c%1!==0||u%1!==0)&&console.warn("Image tile area not tile size multiple in: "+this.name),c=Math.floor(c),u=Math.floor(u),this.rows=c,this.columns=u,this.total=c*u,this.texCoordinates.length=0;for(var v=this.tileMargin+s,p=this.tileMargin+f,m=0;m<this.rows;m++){for(var g=0;g<this.columns;g++)this.texCoordinates.push({x:v,y:p}),v+=this.tileWidth+this.tileSpacing;v=this.tileMargin+s,p+=this.tileHeight+this.tileSpacing}return this}});n.exports=d},72023:(n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=i(7423),x=function(d,l,o){var s=a(d,l,!0,o),f=a(d,l-1,!0,o),c=a(d,l+1,!0,o),u=a(d-1,l,!0,o),v=a(d+1,l,!0,o),p=s&&s.collides;return p&&(s.faceTop=!0,s.faceBottom=!0,s.faceLeft=!0,s.faceRight=!0),f&&f.collides&&(p&&(s.faceTop=!1),f.faceBottom=!p),c&&c.collides&&(p&&(s.faceBottom=!1),c.faceTop=!p),u&&u.collides&&(p&&(s.faceLeft=!1),u.faceRight=!p),v&&v.collides&&(p&&(s.faceRight=!1),v.faceLeft=!p),s&&!s.collides&&s.resetFaces(),s};n.exports=x},42573:(n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=i(7423),x=i(7386),d=function(l,o,s,f,c){for(var u=null,v=null,p=null,m=null,g=x(l,o,s,f,null,c),C=0;C<g.length;C++){var M=g[C];M&&(M.collides?(u=a(M.x,M.y-1,!0,c),v=a(M.x,M.y+1,!0,c),p=a(M.x-1,M.y,!0,c),m=a(M.x+1,M.y,!0,c),M.faceTop=!(u&&u.collides),M.faceBottom=!(v&&v.collides),M.faceLeft=!(p&&p.collides),M.faceRight=!(m&&m.collides)):M.resetFaces())}};n.exports=d},33528:(n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=i(26099),x=new a,d=function(l,o,s,f){var c=s.tilemapLayer,u=c.cullPaddingX,v=c.cullPaddingY,p=c.tilemap.tileToWorldXY(l,o,x,f,c);return p.x>f.worldView.x+c.scaleX*s.tileWidth*(-u-.5)&&p.x<f.worldView.right+c.scaleX*s.tileWidth*(u-.5)&&p.y>f.worldView.y+c.scaleY*s.tileHeight*(-v-1)&&p.y<f.worldView.bottom+c.scaleY*s.tileHeight*(v-.5)};n.exports=d},1785:(n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=i(42573),x=i(7386),d=i(62991),l=i(23029),o=function(s,f,c,u,v,p,m,g){m===void 0&&(m=!0);var C=x(s,f,c,u,null,g),M=[];C.forEach(function(G){var B=new l(G.layer,G.index,G.x,G.y,G.width,G.height,G.baseWidth,G.baseHeight);B.copy(G),M.push(B)});for(var b=v-s,w=p-f,R=0;R<M.length;R++){var A=M[R],L=A.x+b,D=A.y+w;d(L,D,g)&&g.data[D][L]&&(A.x=L,A.y=D,A.updatePixelXY(),g.data[D][L]=A)}m&&a(v-1,p-1,c+2,u+2,g),C.length=0,M.length=0};n.exports=o},78419:(n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=i(62644),x=i(7386),d=i(27987),l=function(o,s,f,c,u,v){f||(f={}),Array.isArray(o)||(o=[o]);var p=v.tilemapLayer;c||(c=p.scene),u||(u=c.cameras.main);var m=v.width,g=v.height,C=x(0,0,m,g,null,v),M=[],b,w=function(D,G,B){for(var I=0;I<B.length;I++){var k=B[I];D.hasOwnProperty(k)||(D[k]=G[k])}};for(b=0;b<C.length;b++){var R=C[b],A=a(f);if(o.indexOf(R.index)!==-1){var L=p.tileToWorldXY(R.x,R.y,void 0,u,v);A.x=L.x,A.y=L.y,w(A,R,["rotation","flipX","flipY","alpha","visible","tint"]),A.hasOwnProperty("origin")||(A.x+=R.width*.5,A.y+=R.height*.5),A.hasOwnProperty("useSpriteSheet")&&(A.key=R.tileset.image,A.frame=R.index-1),M.push(c.make.sprite(A))}}if(Array.isArray(s))for(b=0;b<o.length;b++)d(o[b],s[b],0,0,m,g,v);else if(s!==null)for(b=0;b<o.length;b++)d(o[b],s,0,0,m,g,v);return M};n.exports=l},19545:(n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=i(87841),x=i(63448),d=i(56583),l=new a,o=function(s,f){var c=s.tilemapLayer.tilemap,u=s.tilemapLayer,v=Math.floor(c.tileWidth*u.scaleX),p=Math.floor(c.tileHeight*u.scaleY),m=d(f.worldView.x-u.x,v,0,!0)-u.cullPaddingX,g=x(f.worldView.right-u.x,v,0,!0)+u.cullPaddingX,C=d(f.worldView.y-u.y,p,0,!0)-u.cullPaddingY,M=x(f.worldView.bottom-u.y,p,0,!0)+u.cullPaddingY;return l.setTo(m,C,g-m,M-C)};n.exports=o},30003:(n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=i(19545),x=i(32483),d=function(l,o,s,f){s===void 0&&(s=[]),f===void 0&&(f=0),s.length=0;var c=l.tilemapLayer,u=a(l,o);return(c.skipCull||c.scrollFactorX!==1||c.scrollFactorY!==1)&&(u.left=0,u.right=l.width,u.top=0,u.bottom=l.height),x(l,u,f,s),s};n.exports=d},35137:(n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=i(7386),x=i(42573),d=i(20576),l=function(o,s,f,c,u,v,p){for(var m=p.collideIndexes.indexOf(o)!==-1,g=a(s,f,c,u,null,p),C=0;C<g.length;C++)g[C].index=o,d(g[C],m);v&&x(s-1,f-1,c+2,u+2,p)};n.exports=l},40253:(n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=i(7386),x=function(d,l,o,s,f,c,u,v){var p=a(o,s,f,c,u,v);return p.filter(d,l)};n.exports=x},52692:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(i,a,x,d){a===void 0&&(a=0),x===void 0&&(x=!1);var l=0,o,s,f;if(x){for(s=d.height-1;s>=0;s--)for(o=d.width-1;o>=0;o--)if(f=d.data[s][o],f&&f.index===i){if(l===a)return f;l+=1}}else for(s=0;s<d.height;s++)for(o=0;o<d.width;o++)if(f=d.data[s][o],f&&f.index===i){if(l===a)return f;l+=1}return null};n.exports=T},66151:(n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=i(7386),x=function(d,l,o,s,f,c,u,v){var p=a(o,s,f,c,u,v);return p.find(d,l)||null};n.exports=x},97560:(n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=i(7386),x=function(d,l,o,s,f,c,u,v){var p=a(o,s,f,c,u,v);p.forEach(d,l)};n.exports=x},43305:(n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=i(91907),x=i(30003),d=i(9474),l=i(14018),o=i(29747),s=i(54503),f=function(c){return c===a.ORTHOGONAL?x:c===a.HEXAGONAL?d:c===a.STAGGERED?s:c===a.ISOMETRIC?l:o};n.exports=f},7423:(n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=i(62991),x=function(d,l,o,s){if(a(d,l,s)){var f=s.data[l][d]||null;return f?f.index===-1?o?f:null:f:null}else return null};n.exports=x},60540:(n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=i(7423),x=i(26099),d=new x,l=function(o,s,f,c,u){return u.tilemapLayer.worldToTileXY(o,s,!0,d,c),a(d.x,d.y,f,u)};n.exports=l},55826:(n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=i(26099),x=function(d,l,o,s){var f=s.baseTileWidth,c=s.baseTileHeight,u=s.tilemapLayer,v=0,p=0;u&&(o||(o=u.scene.cameras.main),v=u.x+o.scrollX*(1-u.scrollFactorX),p=u.y+o.scrollY*(1-u.scrollFactorY),f*=u.scaleX,c*=u.scaleY);var m=v+d*f,g=p+l*c;return[new a(m,g),new a(m+f,g),new a(m+f,g+c),new a(m,g+c)]};n.exports=x},11758:(n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=i(91907),x=i(27229),d=i(29747),l=i(55826),o=function(s){return s===a.ORTHOGONAL?l:s===a.ISOMETRIC?d:s===a.HEXAGONAL?x:(s===a.STAGGERED,d)};n.exports=o},39167:(n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=i(91907),x=i(29747),d=i(97281),l=function(o){return o===a.ORTHOGONAL?d:x};n.exports=l},62e3:(n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=i(91907),x=i(19951),d=i(14127),l=i(29747),o=i(97202),s=i(70326),f=function(c){return c===a.ORTHOGONAL?s:c===a.ISOMETRIC?d:c===a.HEXAGONAL?x:c===a.STAGGERED?o:l};n.exports=f},5984:(n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=i(91907),x=i(29747),d=i(28054),l=i(29650),o=function(s){return s===a.ORTHOGONAL?l:s===a.STAGGERED?d:x};n.exports=o},7386:(n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=i(95540),x=function(d,l,o,s,f,c){d===void 0&&(d=0),l===void 0&&(l=0),o===void 0&&(o=c.width),s===void 0&&(s=c.height),f||(f={});var u=a(f,"isNotEmpty",!1),v=a(f,"isColliding",!1),p=a(f,"hasInterestingFace",!1);d<0&&(o+=d,d=0),l<0&&(s+=l,l=0),d+o>c.width&&(o=Math.max(c.width-d,0)),l+s>c.height&&(s=Math.max(c.height-l,0));for(var m=[],g=l;g<l+s;g++)for(var C=d;C<d+o;C++){var M=c.data[g][C];if(M!==null){if(u&&M.index===-1||v&&!M.collides||p&&!M.hasInterestingFace)continue;m.push(M)}}return m};n.exports=x},91141:(n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=i(55738),x=i(7386),d=i(91865),l=i(29747),o=i(26099),s=i(91907),f=function(m,g){return d.RectangleToTriangle(g,m)},c=new o,u=new o,v=new o,p=function(m,g,C,M){if(M.orientation!==s.ORTHOGONAL)return console.warn("GetTilesWithinShape only works with orthogonal tilemaps"),[];if(m===void 0)return[];var b=l;m instanceof a.Circle?b=d.CircleToRectangle:m instanceof a.Rectangle?b=d.RectangleToRectangle:m instanceof a.Triangle?b=f:m instanceof a.Line&&(b=d.LineToRectangle),M.tilemapLayer.worldToTileXY(m.left,m.top,!0,u,C);var w=u.x,R=u.y;M.tilemapLayer.worldToTileXY(m.right,m.bottom,!1,v,C);var A=Math.ceil(v.x),L=Math.ceil(v.y),D=Math.max(A-w,1),G=Math.max(L-R,1),B=x(w,R,D,G,g,M),I=M.tileWidth,k=M.tileHeight;M.tilemapLayer&&(I*=M.tilemapLayer.scaleX,k*=M.tilemapLayer.scaleY);for(var z=[],X=new a.Rectangle(0,0,I,k),H=0;H<B.length;H++){var Q=B[H];M.tilemapLayer.tileToWorldXY(Q.x,Q.y,c,C),X.x=c.x,X.y=c.y,b(m,X)&&z.push(Q)}return z};n.exports=p},96523:(n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=i(7386),x=i(26099),d=new x,l=new x,o=function(s,f,c,u,v,p,m){var g=m.tilemapLayer.tilemap._convert.WorldToTileXY;g(s,f,!0,d,p,m);var C=d.x,M=d.y;g(s+c,f+u,!1,l,p,m);var b=Math.ceil(l.x),w=Math.ceil(l.y);return a(C,M,b-C,w-M,v,m)};n.exports=o},96113:(n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=i(91907),x=i(20242),d=i(10095),l=function(o){return o===a.ORTHOGONAL?d:x};n.exports=l},16926:(n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=i(91907),x=i(86625),d=i(96897),l=i(29747),o=i(15108),s=i(85896),f=function(c){return c===a.ORTHOGONAL?s:c===a.ISOMETRIC?d:c===a.HEXAGONAL?x:c===a.STAGGERED?o:l};n.exports=f},55762:(n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=i(91907),x=i(20242),d=i(51900),l=i(63288),o=function(s){return s===a.ORTHOGONAL?l:s===a.STAGGERED?d:x};n.exports=o},45091:(n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=i(62991),x=function(d,l,o){if(a(d,l,o)){var s=o.data[l][d];return s!==null&&s.index>-1}else return!1};n.exports=x},24152:(n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=i(45091),x=i(26099),d=new x,l=function(o,s,f,c){c.tilemapLayer.worldToTileXY(o,s,!0,d,f);var u=d.x,v=d.y;return a(u,v,c)};n.exports=l},90454:(n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=i(63448),x=i(56583),d=function(l,o){var s=l.tilemapLayer.tilemap,f=l.tilemapLayer,c=Math.floor(s.tileWidth*f.scaleX),u=Math.floor(s.tileHeight*f.scaleY),v=l.hexSideLength,p,m,g,C;if(l.staggerAxis==="y"){var M=(u-v)/2+v;p=x(o.worldView.x-f.x,c,0,!0)-f.cullPaddingX,m=a(o.worldView.right-f.x,c,0,!0)+f.cullPaddingX,g=x(o.worldView.y-f.y,M,0,!0)-f.cullPaddingY,C=a(o.worldView.bottom-f.y,M,0,!0)+f.cullPaddingY}else{var b=(c-v)/2+v;p=x(o.worldView.x-f.x,b,0,!0)-f.cullPaddingX,m=a(o.worldView.right-f.x,b,0,!0)+f.cullPaddingX,g=x(o.worldView.y-f.y,u,0,!0)-f.cullPaddingY,C=a(o.worldView.bottom-f.y,u,0,!0)+f.cullPaddingY}return{left:p,right:m,top:g,bottom:C}};n.exports=d},9474:(n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=i(90454),x=i(32483),d=function(l,o,s,f){s===void 0&&(s=[]),f===void 0&&(f=0),s.length=0;var c=l.tilemapLayer,u=a(l,o);return c.skipCull&&c.scrollFactorX===1&&c.scrollFactorY===1&&(u.left=0,u.right=l.width,u.top=0,u.bottom=l.height),x(l,u,f,s),s};n.exports=d},27229:(n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=i(19951),x=i(26099),d=new x,l=function(o,s,f,c){var u=c.baseTileWidth,v=c.baseTileHeight,p=c.tilemapLayer;p&&(u*=p.scaleX,v*=p.scaleY);var m=a(o,s,d,f,c),g=[],C=.5773502691896257,M,b;c.staggerAxis==="y"?(M=C*u,b=v/2):(M=u/2,b=C*v);for(var w=0;w<6;w++){var R=2*Math.PI*(.5-w)/6;g.push(new x(m.x+M*Math.cos(R),m.y+b*Math.sin(R)))}return g};n.exports=l},19951:(n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=i(26099),x=function(d,l,o,s,f){o||(o=new a);var c=f.baseTileWidth,u=f.baseTileHeight,v=f.tilemapLayer,p=0,m=0;v&&(s||(s=v.scene.cameras.main),p=v.x+s.scrollX*(1-v.scrollFactorX),m=v.y+s.scrollY*(1-v.scrollFactorY),c*=v.scaleX,u*=v.scaleY);var g=c/2,C=u/2,M,b,w=f.staggerAxis,R=f.staggerIndex;return w==="y"?(M=p+c*d+c,b=m+1.5*l*C+C,l%2===0&&(R==="odd"?M-=g:M+=g)):w==="x"&&R==="odd"&&(M=p+1.5*d*g+g,b=m+u*d+u,d%2===0&&(R==="odd"?b-=C:b+=C)),o.set(M,b)};n.exports=x},86625:(n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=i(26099),x=function(d,l,o,s,f,c){s||(s=new a);var u=c.baseTileWidth,v=c.baseTileHeight,p=c.tilemapLayer;p&&(f||(f=p.scene.cameras.main),d=d-(p.x+f.scrollX*(1-p.scrollFactorX)),l=l-(p.y+f.scrollY*(1-p.scrollFactorY)),u*=p.scaleX,v*=p.scaleY);var m=.5773502691896257,g=-.3333333333333333,C=0,M=.6666666666666666,b=u/2,w=v/2,R,A,L,D,G;c.staggerAxis==="y"?(R=(d-b)/(m*u),A=(l-w)/w,L=m*R+g*A,D=C*R+M*A):(R=(d-b)/b,A=(l-w)/(m*v),L=g*R+m*A,D=M*R+C*A),G=-L-D;var B=Math.round(L),I=Math.round(D),k=Math.round(G),z=Math.abs(B-L),X=Math.abs(I-D),H=Math.abs(k-G);z>X&&z>H?B=-I-k:X>H&&(I=-B-k);var Q,J=I;return c.staggerIndex==="odd"?Q=J%2===0?I/2+B:I/2+B-.5:Q=J%2===0?I/2+B:I/2+B+.5,s.set(Q,J)};n.exports=x},62991:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(i,a,x){return i>=0&&i<x.width&&a>=0&&a<x.height};n.exports=T},14018:(n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=i(33528),x=function(d,l,o,s){o===void 0&&(o=[]),s===void 0&&(s=0),o.length=0;var f=d.tilemapLayer,c=d.data,u=d.width,v=d.height,p=f.skipCull,m=0,g=u,C=0,M=v,b,w,R;if(s===0)for(w=C;w<M;w++)for(b=m;b<g;b++)R=c[w][b],!(!R||R.index===-1||!R.visible||R.alpha===0)&&(!p&&!a(b,w,d,l)||o.push(R));else if(s===1)for(w=C;w<M;w++)for(b=g;b>=m;b--)R=c[w][b],!(!R||R.index===-1||!R.visible||R.alpha===0)&&(!p&&!a(b,w,d,l)||o.push(R));else if(s===2)for(w=M;w>=C;w--)for(b=m;b<g;b++)R=c[w][b],!(!R||R.index===-1||!R.visible||R.alpha===0)&&(!p&&!a(b,w,d,l)||o.push(R));else if(s===3)for(w=M;w>=C;w--)for(b=g;b>=m;b--)R=c[w][b],!(!R||R.index===-1||!R.visible||R.alpha===0)&&(!p&&!a(b,w,d,l)||o.push(R));return f.tilesDrawn=o.length,f.tilesTotal=u*v,o};n.exports=x},14127:(n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=i(26099),x=function(d,l,o,s,f){o||(o=new a);var c=f.baseTileWidth,u=f.baseTileHeight,v=f.tilemapLayer,p=0,m=0;v&&(s||(s=v.scene.cameras.main),p=v.x+s.scrollX*(1-v.scrollFactorX),c*=v.scaleX,m=v.y+s.scrollY*(1-v.scrollFactorY),u*=v.scaleY);var g=p+(d-l)*(c/2),C=m+(d+l)*(u/2);return o.set(g,C)};n.exports=x},96897:(n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=i(26099),x=function(d,l,o,s,f,c,u){s||(s=new a);var v=c.baseTileWidth,p=c.baseTileHeight,m=c.tilemapLayer;m&&(f||(f=m.scene.cameras.main),l=l-(m.y+f.scrollY*(1-m.scrollFactorY)),p*=m.scaleY,d=d-(m.x+f.scrollX*(1-m.scrollFactorX)),v*=m.scaleX);var g=v/2,C=p/2;d=d-g,u||(l=l-p);var M=.5*(d/g+l/C),b=.5*(-d/g+l/C);return o&&(M=Math.floor(M),b=Math.floor(b)),s.set(M,b)};n.exports=x},71558:(n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=i(23029),x=i(62991),d=i(72023),l=i(20576),o=function(s,f,c,u,v){if(u===void 0&&(u=!0),!x(f,c,v))return null;var p,m=v.data[c][f],g=m&&m.collides;s instanceof a?(v.data[c][f]===null&&(v.data[c][f]=new a(v,s.index,f,c,v.tileWidth,v.tileHeight)),v.data[c][f].copy(s)):(p=s,v.data[c][f]===null?v.data[c][f]=new a(v,p,f,c,v.tileWidth,v.tileHeight):v.data[c][f].index=p);var C=v.data[c][f],M=v.collideIndexes.indexOf(C.index)!==-1;if(p=s instanceof a?s.index:s,p===-1)C.width=v.tileWidth,C.height=v.tileHeight;else{var b=v.tilemapLayer.tilemap,w=b.tiles,R=w[p][2],A=b.tilesets[R];C.width=A.tileWidth,C.height=A.tileHeight}return l(C,M),u&&g!==C.collides&&d(f,c,v),C};n.exports=o},26303:(n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=i(71558),x=i(26099),d=new x,l=function(o,s,f,c,u,v){return v.tilemapLayer.worldToTileXY(s,f,!0,d,u,v),a(o,d.x,d.y,c,v)};n.exports=l},14051:(n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=i(42573),x=i(71558),d=function(l,o,s,f,c){if(f===void 0&&(f=!0),!Array.isArray(l))return null;Array.isArray(l[0])||(l=[l]);for(var u=l.length,v=l[0].length,p=0;p<u;p++)for(var m=0;m<v;m++){var g=l[p][m];x(g,o+m,s+p,!1,c)}f&&a(o-1,s-1,v+2,u+2,c)};n.exports=d},77389:(n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=i(7386),x=i(26546),d=function(l,o,s,f,c,u){var v,p=a(l,o,s,f,{},u);if(!c)for(c=[],v=0;v<p.length;v++)c.indexOf(p[v].index)===-1&&c.push(p[v].index);for(v=0;v<p.length;v++)p[v].index=x(c)};n.exports=d},63557:(n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=i(23029),x=i(62991),d=i(72023),l=function(o,s,f,c,u){if(f===void 0&&(f=!0),c===void 0&&(c=!0),!x(o,s,u))return null;var v=u.data[s][o];if(v)u.data[s][o]=f?null:new a(u,-1,o,s,u.tileWidth,u.tileHeight);else return null;return c&&v&&v.collides&&d(o,s,u),v};n.exports=l},94178:(n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=i(63557),x=i(26099),d=new x,l=function(o,s,f,c,u,v){return v.tilemapLayer.worldToTileXY(o,s,!0,d,u,v),a(d.x,d.y,f,c,v)};n.exports=l},15533:(n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=i(7386),x=i(3956),d=new x(105,210,231,150),l=new x(243,134,48,200),o=new x(40,39,37,150),s=function(f,c,u){c===void 0&&(c={});var v=c.tileColor!==void 0?c.tileColor:d,p=c.collidingTileColor!==void 0?c.collidingTileColor:l,m=c.faceColor!==void 0?c.faceColor:o,g=a(0,0,u.width,u.height,null,u);f.translateCanvas(u.tilemapLayer.x,u.tilemapLayer.y),f.scaleCanvas(u.tilemapLayer.scaleX,u.tilemapLayer.scaleY);for(var C=0;C<g.length;C++){var M=g[C],b=M.tileset?M.tileset.tileOffset:{x:0,y:0},w=M.width,R=M.height,A=M.pixelX-b.x,L=M.pixelY-b.y,D=M.collides?p:v;D!==null&&(f.fillStyle(D.color,D.alpha/255),f.fillRect(A,L,w,R)),A+=1,L+=1,w-=2,R-=2,m!==null&&(f.lineStyle(1,m.color,m.alpha/255),M.faceTop&&f.lineBetween(A,L,A+w,L),M.faceRight&&f.lineBetween(A+w,L,A+w,L+R),M.faceBottom&&f.lineBetween(A,L+R,A+w,L+R),M.faceLeft&&f.lineBetween(A,L,A,L+R))}};n.exports=s},27987:(n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=i(7386),x=function(d,l,o,s,f,c,u){for(var v=a(o,s,f,c,null,u),p=0;p<v.length;p++)v[p]&&v[p].index===d&&(v[p].index=l)};n.exports=x},32483:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(i,a,x,d){var l=i.data,o=i.width,s=i.height,f=i.tilemapLayer,c=Math.max(0,a.left),u=Math.min(o,a.right),v=Math.max(0,a.top),p=Math.min(s,a.bottom),m,g,C;if(x===0)for(g=v;g<p;g++)for(m=c;l[g]&&m<u;m++)C=l[g][m],!(!C||C.index===-1||!C.visible||C.alpha===0)&&d.push(C);else if(x===1)for(g=v;g<p;g++)for(m=u;l[g]&&m>=c;m--)C=l[g][m],!(!C||C.index===-1||!C.visible||C.alpha===0)&&d.push(C);else if(x===2)for(g=p;g>=v;g--)for(m=c;l[g]&&m<u;m++)C=l[g][m],!(!C||C.index===-1||!C.visible||C.alpha===0)&&d.push(C);else if(x===3)for(g=p;g>=v;g--)for(m=u;l[g]&&m>=c;m--)C=l[g][m],!(!C||C.index===-1||!C.visible||C.alpha===0)&&d.push(C);return f.tilesDrawn=d.length,f.tilesTotal=o*s,d};n.exports=T},57068:(n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=i(20576),x=i(42573),d=i(9589),l=function(o,s,f,c,u){s===void 0&&(s=!0),f===void 0&&(f=!0),u===void 0&&(u=!0),Array.isArray(o)||(o=[o]);for(var v=0;v<o.length;v++)d(o[v],s,c);if(u)for(var p=0;p<c.height;p++)for(var m=0;m<c.width;m++){var g=c.data[p][m];g&&o.indexOf(g.index)!==-1&&a(g,s)}f&&x(0,0,c.width,c.height,c)};n.exports=l},37266:(n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=i(20576),x=i(42573),d=i(9589),l=function(o,s,f,c,u,v){if(f===void 0&&(f=!0),c===void 0&&(c=!0),v===void 0&&(v=!0),!(o>s)){for(var p=o;p<=s;p++)d(p,f,u);if(v)for(var m=0;m<u.height;m++)for(var g=0;g<u.width;g++){var C=u.data[m][g];C&&C.index>=o&&C.index<=s&&a(C,f)}c&&x(0,0,u.width,u.height,u)}};n.exports=l},75661:(n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=i(20576),x=i(42573),d=i(9589),l=function(o,s,f,c){s===void 0&&(s=!0),f===void 0&&(f=!0),Array.isArray(o)||(o=[o]);for(var u=0;u<c.height;u++)for(var v=0;v<c.width;v++){var p=c.data[u][v];p&&o.indexOf(p.index)===-1&&(a(p,s),d(p.index,s,c))}f&&x(0,0,c.width,c.height,c)};n.exports=l},64740:(n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=i(20576),x=i(42573),d=i(97022),l=function(o,s,f,c){s===void 0&&(s=!0),f===void 0&&(f=!0);for(var u=0;u<c.height;u++)for(var v=0;v<c.width;v++){var p=c.data[u][v];if(p){for(var m in o)if(d(p.properties,m)){var g=o[m];Array.isArray(g)||(g=[g]);for(var C=0;C<g.length;C++)p.properties[m]===g[C]&&a(p,s)}}}f&&x(0,0,c.width,c.height,c)};n.exports=l},63307:(n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=i(20576),x=i(42573),d=function(l,o,s){l===void 0&&(l=!0),o===void 0&&(o=!0);for(var f=0;f<s.height;f++)for(var c=0;c<s.width;c++){var u=s.data[f][c];if(u){var v=u.getCollisionGroup();v&&v.objects&&v.objects.length>0&&a(u,l)}}o&&x(0,0,s.width,s.height,s)};n.exports=d},9589:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(i,a,x){var d=x.collideIndexes.indexOf(i);a&&d===-1?x.collideIndexes.push(i):!a&&d!==-1&&x.collideIndexes.splice(d,1)};n.exports=T},20576:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(i,a){a?i.setCollision(!0,!0,!0,!0,!1):i.resetCollision(!1)};n.exports=T},79583:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(i,a,x,d){if(typeof i=="number")d.callbacks[i]=a!==null?{callback:a,callbackContext:x}:void 0;else for(var l=0,o=i.length;l<o;l++)d.callbacks[i[l]]=a!==null?{callback:a,callbackContext:x}:void 0};n.exports=T},93254:(n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=i(7386),x=function(d,l,o,s,f,c,u){for(var v=a(d,l,o,s,null,u),p=0;p<v.length;p++)v[p].setCollisionCallback(f,c)};n.exports=x},32903:(n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=i(7386),x=i(33680),d=function(l,o,s,f,c){var u=a(l,o,s,f,null,c),v=u.map(function(m){return m.index});x(v);for(var p=0;p<u.length;p++)u[p].index=v[p]};n.exports=d},61325:(n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=i(63448),x=i(56583),d=function(l,o){var s=l.tilemapLayer.tilemap,f=l.tilemapLayer,c=Math.floor(s.tileWidth*f.scaleX),u=Math.floor(s.tileHeight*f.scaleY),v=x(o.worldView.x-f.x,c,0,!0)-f.cullPaddingX,p=a(o.worldView.right-f.x,c,0,!0)+f.cullPaddingX,m=x(o.worldView.y-f.y,u/2,0,!0)-f.cullPaddingY,g=a(o.worldView.bottom-f.y,u/2,0,!0)+f.cullPaddingY;return{left:v,right:p,top:m,bottom:g}};n.exports=d},54503:(n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=i(61325),x=i(32483),d=function(l,o,s,f){s===void 0&&(s=[]),f===void 0&&(f=0),s.length=0;var c=l.tilemapLayer,u=a(l,o);return c.skipCull&&c.scrollFactorX===1&&c.scrollFactorY===1&&(u.left=0,u.right=l.width,u.top=0,u.bottom=l.height),x(l,u,f,s),s};n.exports=d},97202:(n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=i(26099),x=function(d,l,o,s,f){o||(o=new a);var c=f.baseTileWidth,u=f.baseTileHeight,v=f.tilemapLayer,p=0,m=0;v&&(s||(s=v.scene.cameras.main),p=v.x+s.scrollX*(1-v.scrollFactorX),c*=v.scaleX,m=v.y+s.scrollY*(1-v.scrollFactorY),u*=v.scaleY);var g=p+d*c+l%2*(c/2),C=m+l*(u/2);return o.set(g,C)};n.exports=x},28054:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(i,a,x){var d=x.baseTileHeight,l=x.tilemapLayer,o=0;return l&&(a===void 0&&(a=l.scene.cameras.main),o=l.y+a.scrollY*(1-l.scrollFactorY),d*=l.scaleY),o+i*(d/2)+d};n.exports=T},15108:(n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=i(26099),x=function(d,l,o,s,f,c){s||(s=new a);var u=c.baseTileWidth,v=c.baseTileHeight,p=c.tilemapLayer;p&&(f||(f=p.scene.cameras.main),l=l-(p.y+f.scrollY*(1-p.scrollFactorY)),v*=p.scaleY,d=d-(p.x+f.scrollX*(1-p.scrollFactorX)),u*=p.scaleX);var m=o?Math.floor(l/(v/2)):l/(v/2),g=o?Math.floor((d+m%2*.5*u)/u):(d+m%2*.5*u)/u;return s.set(g,m)};n.exports=x},51900:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(i,a,x,d){var l=d.baseTileHeight,o=d.tilemapLayer;return o&&(x||(x=o.scene.cameras.main),i=i-(o.y+x.scrollY*(1-o.scrollFactorY)),l*=o.scaleY),a?Math.floor(i/(l/2)):i/(l/2)};n.exports=T},86560:(n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=i(7386),x=function(d,l,o,s,f,c,u){for(var v=a(o,s,f,c,null,u),p=0;p<v.length;p++)v[p]&&(v[p].index===d?v[p].index=l:v[p].index===l&&(v[p].index=d))};n.exports=x},97281:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(i,a,x){var d=x.baseTileWidth,l=x.tilemapLayer,o=0;return l&&(a||(a=l.scene.cameras.main),o=l.x+a.scrollX*(1-l.scrollFactorX),d*=l.scaleX),o+i*d};n.exports=T},70326:(n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=i(97281),x=i(29650),d=i(26099),l=function(o,s,f,c,u){return f||(f=new d(0,0)),f.x=a(o,c,u),f.y=x(s,c,u),f};n.exports=l},29650:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(i,a,x){var d=x.baseTileHeight,l=x.tilemapLayer,o=0;return l&&(a||(a=l.scene.cameras.main),o=l.y+a.scrollY*(1-l.scrollFactorY),d*=l.scaleY),o+i*d};n.exports=T},77366:(n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=i(7386),x=i(75508),d=function(l,o,s,f,c,u){if(c){var v,p=a(l,o,s,f,null,u),m=0;for(v=0;v<c.length;v++)m+=c[v].weight;if(!(m<=0))for(v=0;v<p.length;v++){for(var g=x.RND.frac()*m,C=0,M=-1,b=0;b<c.length;b++)if(C+=c[b].weight,g<=C){var w=c[b].index;M=Array.isArray(w)?w[Math.floor(x.RND.frac()*w.length)]:w;break}p[v].index=M}}};n.exports=d},10095:(n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=i(85896),x=i(26099),d=new x,l=function(o,s,f,c){return a(o,0,s,d,f,c),d.x};n.exports=l},85896:(n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=i(26099),x=function(d,l,o,s,f,c){o===void 0&&(o=!0),s||(s=new a);var u=c.baseTileWidth,v=c.baseTileHeight,p=c.tilemapLayer;p&&(f||(f=p.scene.cameras.main),d=d-(p.x+f.scrollX*(1-p.scrollFactorX)),l=l-(p.y+f.scrollY*(1-p.scrollFactorY)),u*=p.scaleX,v*=p.scaleY);var m=d/u,g=l/v;return o&&(m=Math.floor(m),g=Math.floor(g)),s.set(m,g)};n.exports=x},63288:(n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=i(85896),x=i(26099),d=new x,l=function(o,s,f,c){return a(0,o,s,d,f,c),d.y};n.exports=l},81086:(n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports={CalculateFacesAt:i(72023),CalculateFacesWithin:i(42573),CheckIsoBounds:i(33528),Copy:i(1785),CreateFromTiles:i(78419),CullBounds:i(19545),CullTiles:i(30003),Fill:i(35137),FilterTiles:i(40253),FindByIndex:i(52692),FindTile:i(66151),ForEachTile:i(97560),GetCullTilesFunction:i(43305),GetTileAt:i(7423),GetTileAtWorldXY:i(60540),GetTileCorners:i(55826),GetTileCornersFunction:i(11758),GetTilesWithin:i(7386),GetTilesWithinShape:i(91141),GetTilesWithinWorldXY:i(96523),GetTileToWorldXFunction:i(39167),GetTileToWorldXYFunction:i(62e3),GetTileToWorldYFunction:i(5984),GetWorldToTileXFunction:i(96113),GetWorldToTileXYFunction:i(16926),GetWorldToTileYFunction:i(55762),HasTileAt:i(45091),HasTileAtWorldXY:i(24152),HexagonalCullBounds:i(90454),HexagonalCullTiles:i(9474),HexagonalGetTileCorners:i(27229),HexagonalTileToWorldXY:i(19951),HexagonalWorldToTileXY:i(86625),IsInLayerBounds:i(62991),IsometricCullTiles:i(14018),IsometricTileToWorldXY:i(14127),IsometricWorldToTileXY:i(96897),PutTileAt:i(71558),PutTileAtWorldXY:i(26303),PutTilesAt:i(14051),Randomize:i(77389),RemoveTileAt:i(63557),RemoveTileAtWorldXY:i(94178),RenderDebug:i(15533),ReplaceByIndex:i(27987),RunCull:i(32483),SetCollision:i(57068),SetCollisionBetween:i(37266),SetCollisionByExclusion:i(75661),SetCollisionByProperty:i(64740),SetCollisionFromCollisionGroup:i(63307),SetLayerCollisionIndex:i(9589),SetTileCollision:i(20576),SetTileIndexCallback:i(79583),SetTileLocationCallback:i(93254),Shuffle:i(32903),StaggeredCullBounds:i(61325),StaggeredCullTiles:i(54503),StaggeredTileToWorldXY:i(97202),StaggeredTileToWorldY:i(28054),StaggeredWorldToTileXY:i(15108),StaggeredWorldToTileY:i(51900),SwapByIndex:i(86560),TileToWorldX:i(97281),TileToWorldXY:i(70326),TileToWorldY:i(29650),WeightedRandomize:i(77366),WorldToTileX:i(10095),WorldToTileXY:i(85896),WorldToTileY:i(63288)}},91907:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports={ORTHOGONAL:0,ISOMETRIC:1,STAGGERED:2,HEXAGONAL:3}},21829:(n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a={ORIENTATION:i(91907)};n.exports=a},62501:(n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=i(79291),x=i(21829),d={Components:i(81086),Parsers:i(57442),Formats:i(80341),ImageCollection:i(16536),ParseToTilemap:i(31989),Tile:i(23029),Tilemap:i(49075),TilemapCreator:i(45939),TilemapFactory:i(46029),Tileset:i(33629),TilemapLayer:i(20442),Orientation:i(91907),LayerData:i(14977),MapData:i(87010),ObjectLayer:i(48700)};d=a(!1,d,x.ORIENTATION),n.exports=d},14977:(n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=i(83419),x=i(91907),d=i(95540),l=new a({initialize:function(s){s===void 0&&(s={}),this.name=d(s,"name","layer"),this.id=d(s,"id",0),this.x=d(s,"x",0),this.y=d(s,"y",0),this.width=d(s,"width",0),this.height=d(s,"height",0),this.tileWidth=d(s,"tileWidth",0),this.tileHeight=d(s,"tileHeight",0),this.baseTileWidth=d(s,"baseTileWidth",this.tileWidth),this.baseTileHeight=d(s,"baseTileHeight",this.tileHeight),this.orientation=d(s,"orientation",x.ORTHOGONAL),this.widthInPixels=d(s,"widthInPixels",this.width*this.baseTileWidth),this.heightInPixels=d(s,"heightInPixels",this.height*this.baseTileHeight),this.alpha=d(s,"alpha",1),this.visible=d(s,"visible",!0),this.properties=d(s,"properties",[]),this.indexes=d(s,"indexes",[]),this.collideIndexes=d(s,"collideIndexes",[]),this.callbacks=d(s,"callbacks",[]),this.bodies=d(s,"bodies",[]),this.data=d(s,"data",[]),this.tilemapLayer=d(s,"tilemapLayer",null),this.hexSideLength=d(s,"hexSideLength",0),this.staggerAxis=d(s,"staggerAxis","y"),this.staggerIndex=d(s,"staggerIndex","odd")}});n.exports=l},87010:(n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=i(83419),x=i(91907),d=i(95540),l=new a({initialize:function(s){s===void 0&&(s={}),this.name=d(s,"name","map"),this.width=d(s,"width",0),this.height=d(s,"height",0),this.infinite=d(s,"infinite",!1),this.tileWidth=d(s,"tileWidth",0),this.tileHeight=d(s,"tileHeight",0),this.widthInPixels=d(s,"widthInPixels",this.width*this.tileWidth),this.heightInPixels=d(s,"heightInPixels",this.height*this.tileHeight),this.format=d(s,"format",null),this.orientation=d(s,"orientation",x.ORTHOGONAL),this.renderOrder=d(s,"renderOrder","right-down"),this.version=d(s,"version","1"),this.properties=d(s,"properties",{}),this.layers=d(s,"layers",[]),this.images=d(s,"images",[]),this.objects=d(s,"objects",[]),Array.isArray(this.objects)||(this.objects=[]),this.collision=d(s,"collision",{}),this.tilesets=d(s,"tilesets",[]),this.imageCollections=d(s,"imageCollections",[]),this.tiles=d(s,"tiles",[]),this.hexSideLength=d(s,"hexSideLength",0),this.staggerAxis=d(s,"staggerAxis","y"),this.staggerIndex=d(s,"staggerIndex","odd")}});n.exports=l},48700:(n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=i(83419),x=i(95540),d=new a({initialize:function(o){o===void 0&&(o={}),this.name=x(o,"name","object layer"),this.id=x(o,"id",0),this.opacity=x(o,"opacity",1),this.properties=x(o,"properties",{}),this.propertyTypes=x(o,"propertytypes",{}),this.type=x(o,"type","objectgroup"),this.visible=x(o,"visible",!0),this.objects=x(o,"objects",[]),Array.isArray(this.objects)||(this.objects=[])}});n.exports=d},6641:(n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=i(91907),x=function(d){return d=d.toLowerCase(),d==="isometric"?a.ISOMETRIC:d==="staggered"?a.STAGGERED:d==="hexagonal"?a.HEXAGONAL:a.ORTHOGONAL};n.exports=x},46177:(n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=i(80341),x=i(2342),d=i(82593),l=i(46594),o=i(87021),s=function(f,c,u,v,p,m){var g;switch(c){case a.ARRAY_2D:g=x(f,u,v,p,m);break;case a.CSV:g=d(f,u,v,p,m);break;case a.TILED_JSON:g=l(f,u,m);break;case a.WELTMEISTER:g=o(f,u,m);break;default:console.warn("Unrecognized tilemap data format: "+c),g=null}return g};n.exports=s},2342:(n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=i(80341),x=i(14977),d=i(87010),l=i(23029),o=function(s,f,c,u,v){for(var p=new x({tileWidth:c,tileHeight:u}),m=new d({name:s,tileWidth:c,tileHeight:u,format:a.ARRAY_2D,layers:[p]}),g=[],C=f.length,M=0,b=0;b<f.length;b++){g[b]=[];for(var w=f[b],R=0;R<w.length;R++){var A=parseInt(w[R],10);isNaN(A)||A===-1?g[b][R]=v?null:new l(p,-1,R,b,c,u):g[b][R]=new l(p,A,R,b,c,u)}M===0&&(M=w.length)}return m.width=p.width=M,m.height=p.height=C,m.widthInPixels=p.widthInPixels=M*c,m.heightInPixels=p.heightInPixels=C*u,p.data=g,m};n.exports=o},82593:(n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=i(80341),x=i(2342),d=function(l,o,s,f,c){var u=o.trim().split(`
`).map(function(p){return p.split(",")}),v=x(l,u,s,f,c);return v.format=a.CSV,v};n.exports=d},6656:(n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=i(14977),x=i(23029),d=function(l,o){for(var s=[],f=0;f<l.layer.length;f++){for(var c=l.layer[f],u=new a({name:c.name,width:c.width,height:c.height,tileWidth:c.tilesize,tileHeight:c.tilesize,visible:c.visible===1}),v=[],p=[],m=0;m<c.data.length;m++){for(var g=0;g<c.data[m].length;g++){var C=c.data[m][g]-1,M;C>-1?M=new x(u,C,g,m,c.tilesize,c.tilesize):M=o?null:new x(u,-1,g,m,c.tilesize,c.tilesize),v.push(M)}p.push(v),v=[]}u.data=p,s.push(u)}return s};n.exports=d},96483:(n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=i(33629),x=function(d){for(var l=[],o=[],s=0;s<d.layer.length;s++){var f=d.layer[s],c=f.tilesetName;c!==""&&o.indexOf(c)===-1&&(o.push(c),l.push(new a(c,0,f.tilesize,f.tilesize,0,0)))}return l};n.exports=x},87021:(n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=i(80341),x=i(87010),d=i(6656),l=i(96483),o=function(s,f,c){if(f.layer.length===0)return console.warn("No layers found in the Weltmeister map: "+s),null;for(var u=0,v=0,p=0;p<f.layer.length;p++)f.layer[p].width>u&&(u=f.layer[p].width),f.layer[p].height>v&&(v=f.layer[p].height);var m=new x({width:u,height:v,name:s,tileWidth:f.layer[0].tilesize,tileHeight:f.layer[0].tilesize,format:a.WELTMEISTER});return m.layers=d(f,c),m.tilesets=l(f),m};n.exports=o},52833:(n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports={ParseTileLayers:i(6656),ParseTilesets:i(96483),ParseWeltmeister:i(87021)}},57442:(n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports={FromOrientationString:i(6641),Parse:i(46177),Parse2DArray:i(2342),ParseCSV:i(82593),Impact:i(52833),Tiled:i(96761)}},51233:(n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=i(79291),x=function(d){for(var l,o,s,f,c,u=0;u<d.layers.length;u++){l=d.layers[u],f=null;for(var v=0;v<l.data.length;v++){c=l.data[v];for(var p=0;p<c.length;p++)o=c[p],!(o===null||o.index<0)&&(s=d.tiles[o.index][2],f=d.tilesets[s],o.width=f.tileWidth,o.height=f.tileHeight,f.tileProperties&&f.tileProperties[o.index-f.firstgid]&&(o.properties=a(o.properties,f.tileProperties[o.index-f.firstgid])))}}};n.exports=x},41868:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(i){for(var a=window.atob(i),x=a.length,d=new Array(x/4),l=0;l<x;l+=4)d[l/4]=(a.charCodeAt(l)|a.charCodeAt(l+1)<<8|a.charCodeAt(l+2)<<16|a.charCodeAt(l+3)<<24)>>>0;return d};n.exports=T},84101:(n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=i(33629),x=function(d){var l,o,s=[];for(l=0;l<d.imageCollections.length;l++)for(var f=d.imageCollections[l],c=f.images,u=0;u<c.length;u++){var v=c[u],p={x:0,y:v.height-d.tileHeight};o=new a(v.image,v.gid,v.width,v.height,0,0,null,null,p),o.updateTileData(v.width,v.height),d.tilesets.push(o)}for(l=0;l<d.tilesets.length;l++){o=d.tilesets[l];for(var m=o.tileMargin,g=o.tileMargin,C=0,M=0,b=0,w=o.firstgid;w<o.firstgid+o.total&&(s[w]=[m,g,l],m+=o.tileWidth+o.tileSpacing,C++,!(C===o.total||(M++,M===o.columns&&(m=o.tileMargin,g+=o.tileHeight+o.tileSpacing,M=0,b++,b===o.rows))));w++);}return s};n.exports=x},79677:(n,T,i)=>{/**
 * @author       Seth Berrier <berriers@uwstout.edu>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=i(95540),x=function(d,l,o){if(!l)return{i:0,layers:d.layers,name:"",opacity:1,visible:!0,x:0,y:0};var s=l.x+a(l,"startx",0)*d.tilewidth+a(l,"offsetx",0),f=l.y+a(l,"starty",0)*d.tileheight+a(l,"offsety",0);return{i:0,layers:l.layers,name:o.name+l.name+"/",opacity:o.opacity*l.opacity,visible:o.visible&&l.visible,x:o.x+s,y:o.y+f}};n.exports=x},29920:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=2147483648,i=1073741824,a=536870912,x=function(d){var l=!!(d&T),o=!!(d&i),s=!!(d&a);d=d&~(T|i|a);var f=0,c=!1;return l&&o&&s?(f=Math.PI/2,c=!0):l&&o&&!s?(f=Math.PI,c=!1):l&&!o&&s?(f=Math.PI/2,c=!1):l&&!o&&!s?(f=0,c=!0):!l&&o&&s?(f=3*Math.PI/2,c=!1):!l&&o&&!s?(f=Math.PI,c=!0):!l&&!o&&s?(f=3*Math.PI/2,c=!0):!l&&!o&&!s&&(f=0,c=!1),{gid:d,flippedHorizontal:l,flippedVertical:o,flippedAntiDiagonal:s,rotation:f,flipped:c}};n.exports=x},12635:(n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=i(95540),x=i(79677),d=function(l){for(var o=[],s=[],f=x(l);f.i<f.layers.length||s.length>0;){if(f.i>=f.layers.length){if(s.length<1){console.warn("TilemapParser.parseTiledJSON - Invalid layer group hierarchy");break}f=s.pop();continue}var c=f.layers[f.i];if(f.i++,c.type!=="imagelayer"){if(c.type==="group"){var u=x(l,c,f);s.push(f),f=u}continue}var v=a(c,"offsetx",0)+a(c,"startx",0),p=a(c,"offsety",0)+a(c,"starty",0);o.push({name:f.name+c.name,image:c.image,x:f.x+v+c.x,y:f.y+p+c.y,alpha:f.opacity*c.opacity,visible:f.visible&&c.visible,properties:a(c,"properties",{})})}return o};n.exports=d},46594:(n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=i(51233),x=i(84101),d=i(91907),l=i(62644),o=i(80341),s=i(6641),f=i(87010),c=i(12635),u=i(22611),v=i(28200),p=i(24619),m=function(g,C,M){var b=l(C),w=new f({width:b.width,height:b.height,name:g,tileWidth:b.tilewidth,tileHeight:b.tileheight,orientation:s(b.orientation),format:o.TILED_JSON,version:b.version,properties:b.properties,renderOrder:b.renderorder,infinite:b.infinite});if(w.orientation===d.HEXAGONAL)if(w.hexSideLength=b.hexsidelength,w.staggerAxis=b.staggeraxis,w.staggerIndex=b.staggerindex,w.staggerAxis==="y"){var R=(w.tileHeight-w.hexSideLength)/2;w.widthInPixels=w.tileWidth*(w.width+.5),w.heightInPixels=w.height*(w.hexSideLength+R)+R}else{var A=(w.tileWidth-w.hexSideLength)/2;w.widthInPixels=w.width*(w.hexSideLength+A)+A,w.heightInPixels=w.tileHeight*(w.height+.5)}w.layers=v(b,M),w.images=c(b);var L=p(b);return w.tilesets=L.tilesets,w.imageCollections=L.imageCollections,w.objects=u(b),w.tiles=x(w),a(w),w};n.exports=m},52205:(n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=i(18254),x=i(29920),d=function(s){return{x:s.x,y:s.y}},l=["id","name","type","rotation","properties","visible","x","y","width","height"],o=function(s,f,c){f===void 0&&(f=0),c===void 0&&(c=0);var u=a(s,l);if(u.x+=f,u.y+=c,s.gid){var v=x(s.gid);u.gid=v.gid,u.flippedHorizontal=v.flippedHorizontal,u.flippedVertical=v.flippedVertical,u.flippedAntiDiagonal=v.flippedAntiDiagonal}else s.polyline?u.polyline=s.polyline.map(d):s.polygon?u.polygon=s.polygon.map(d):s.ellipse?u.ellipse=s.ellipse:s.text?u.text=s.text:s.point?u.point=!0:u.rectangle=!0;return u};n.exports=o},22611:(n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=i(95540),x=i(52205),d=i(48700),l=i(79677),o=function(s){for(var f=[],c=[],u=l(s);u.i<u.layers.length||c.length>0;){if(u.i>=u.layers.length){if(c.length<1){console.warn("TilemapParser.parseTiledJSON - Invalid layer group hierarchy");break}u=c.pop();continue}var v=u.layers[u.i];if(u.i++,v.opacity*=u.opacity,v.visible=u.visible&&v.visible,v.type!=="objectgroup"){if(v.type==="group"){var p=l(s,v,u);c.push(u),u=p}continue}v.name=u.name+v.name;for(var m=u.x+a(v,"startx",0)+a(v,"offsetx",0),g=u.y+a(v,"starty",0)+a(v,"offsety",0),C=[],M=0;M<v.objects.length;M++){var b=x(v.objects[M],m,g);C.push(b)}var w=new d(v);w.objects=C,f.push(w)}return f};n.exports=o},28200:(n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=i(41868),x=i(91907),d=i(79677),l=i(6641),o=i(95540),s=i(14977),f=i(29920),c=i(23029),u=function(v,p){for(var m=o(v,"infinite",!1),g=[],C=[],M=d(v);M.i<M.layers.length||C.length>0;){if(M.i>=M.layers.length){if(C.length<1){console.warn("TilemapParser.parseTiledJSON - Invalid layer group hierarchy");break}M=C.pop();continue}var b=M.layers[M.i];if(M.i++,b.type!=="tilelayer"){if(b.type==="group"){var w=d(v,b,M);C.push(M),M=w}continue}if(b.compression){console.warn("TilemapParser.parseTiledJSON - Layer compression is unsupported, skipping layer '"+b.name+"'");continue}else if(b.encoding&&b.encoding==="base64"){if(b.chunks)for(var R=0;R<b.chunks.length;R++)b.chunks[R].data=a(b.chunks[R].data);b.data&&(b.data=a(b.data)),delete b.encoding}var A,L,D,G,B,I,k=[],z=0;if(m){var X=o(b,"startx",0)+b.x,H=o(b,"starty",0)+b.y;A=new s({name:M.name+b.name,id:b.id,x:M.x+o(b,"offsetx",0)+X*v.tilewidth,y:M.y+o(b,"offsety",0)+H*v.tileheight,width:b.width,height:b.height,tileWidth:v.tilewidth,tileHeight:v.tileheight,alpha:M.opacity*b.opacity,visible:M.visible&&b.visible,properties:o(b,"properties",[]),orientation:l(v.orientation)}),A.orientation===x.HEXAGONAL&&(A.hexSideLength=v.hexsidelength,A.staggerAxis=v.staggeraxis,A.staggerIndex=v.staggerindex,A.staggerAxis==="y"?(B=(A.tileHeight-A.hexSideLength)/2,A.widthInPixels=A.tileWidth*(A.width+.5),A.heightInPixels=A.height*(A.hexSideLength+B)+B):(I=(A.tileWidth-A.hexSideLength)/2,A.widthInPixels=A.width*(A.hexSideLength+I)+I,A.heightInPixels=A.tileHeight*(A.height+.5)));for(var Q=0;Q<b.height;Q++){k[Q]=[null];for(var J=0;J<b.width;J++)k[Q][J]=null}for(Q=0,ft=b.chunks.length;Q<ft;Q++)for(var Y=b.chunks[Q],$=Y.x-X,V=Y.y-H,U=0,K=0,j=Y.data.length;K<j;K++){var _=z+$,tt=U+V;L=f(Y.data[K]),L.gid>0?(D=new c(A,L.gid,_,tt,v.tilewidth,v.tileheight),D.rotation=L.rotation,D.flipX=L.flipped,k[tt][_]=D):(G=p?null:new c(A,-1,_,tt,v.tilewidth,v.tileheight),k[tt][_]=G),z++,z===Y.width&&(U++,z=0)}}else{A=new s({name:M.name+b.name,id:b.id,x:M.x+o(b,"offsetx",0)+b.x,y:M.y+o(b,"offsety",0)+b.y,width:b.width,height:b.height,tileWidth:v.tilewidth,tileHeight:v.tileheight,alpha:M.opacity*b.opacity,visible:M.visible&&b.visible,properties:o(b,"properties",[]),orientation:l(v.orientation)}),A.orientation===x.HEXAGONAL&&(A.hexSideLength=v.hexsidelength,A.staggerAxis=v.staggeraxis,A.staggerIndex=v.staggerindex,A.staggerAxis==="y"?(B=(A.tileHeight-A.hexSideLength)/2,A.widthInPixels=A.tileWidth*(A.width+.5),A.heightInPixels=A.height*(A.hexSideLength+B)+B):(I=(A.tileWidth-A.hexSideLength)/2,A.widthInPixels=A.width*(A.hexSideLength+I)+I,A.heightInPixels=A.tileHeight*(A.height+.5)));for(var rt=[],ot=0,ft=b.data.length;ot<ft;ot++)L=f(b.data[ot]),L.gid>0?(D=new c(A,L.gid,z,k.length,v.tilewidth,v.tileheight),D.rotation=L.rotation,D.flipX=L.flipped,rt.push(D)):(G=p?null:new c(A,-1,z,k.length,v.tilewidth,v.tileheight),rt.push(G)),z++,z===b.width&&(k.push(rt),z=0,rt=[])}A.data=k,g.push(A)}return g};n.exports=u},24619:(n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=i(33629),x=i(16536),d=i(52205),l=i(57880),o=function(s){for(var f=[],c=[],u=null,v,p=0;p<s.tilesets.length;p++){var m=s.tilesets[p];if(m.source)console.warn("External tilesets unsupported. Use Embed Tileset and re-export");else if(m.image){var g=new a(m.name,m.firstgid,m.tilewidth,m.tileheight,m.margin,m.spacing,void 0,void 0,m.tileoffset);if(s.version>1){var C=void 0,M=void 0;if(Array.isArray(m.tiles)){C=C||{},M=M||{};for(var b=0;b<m.tiles.length;b++){var w=m.tiles[b];if(w.properties){var R={};w.properties.forEach(function(Q){R[Q.name]=Q.value}),M[w.id]=R}if(w.objectgroup&&((C[w.id]||(C[w.id]={})).objectgroup=w.objectgroup,w.objectgroup.objects)){var A=w.objectgroup.objects.map(function(Q){return d(Q)});C[w.id].objectgroup.objects=A}w.animation&&((C[w.id]||(C[w.id]={})).animation=w.animation),w.type&&((C[w.id]||(C[w.id]={})).type=w.type)}}Array.isArray(m.wangsets)&&(C=C||{},M=M||{},l(m.wangsets,C)),C&&(g.tileData=C,g.tileProperties=M)}else if(m.tileproperties&&(g.tileProperties=m.tileproperties),m.tiles){g.tileData=m.tiles;for(v in g.tileData){var L=g.tileData[v].objectgroup;if(L&&L.objects){var D=L.objects.map(function(Q){return d(Q)});g.tileData[v].objectgroup.objects=D}}}g.updateTileData(m.imagewidth,m.imageheight),f.push(g)}else{var G=new x(m.name,m.firstgid,m.tilewidth,m.tileheight,m.margin,m.spacing,m.properties),B=0;for(b=0;b<m.tiles.length;b++){w=m.tiles[b];var I=w.image,k=parseInt(w.id,10),z=m.firstgid+k,X=w.imagewidth,H=w.imageheight;G.addImage(z,I,X,H),B=Math.max(k,B)}G.maxId=B,c.push(G)}u&&(u.lastgid=m.firstgid-1),u=m}return{tilesets:f,imageCollections:c}};n.exports=o},57880:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(i,a){for(var x=0;x<i.length;x++){var d=i[x],l=x;if(d.name&&d.name!==""&&(l=d.name),Array.isArray(d.wangtiles)&&d.wangtiles.length>0){var o={},s={},f,c,u;if(Array.isArray(d.edgecolors))for(f=0;f<d.edgecolors.length;f++)u=1+f,c=d.edgecolors[f],c.name!==""&&(o[u]=c.name);if(Array.isArray(d.cornercolors))for(f=0;f<d.cornercolors.length;f++)u=1+f,c=d.cornercolors[f],c.name!==""&&(s[u]=c.name);if(Array.isArray(d.colors))for(f=0;f<d.colors.length;f++)c=d.colors[f],u=1+f,c.name!==""&&(o[u]=s[u]=c.name);for(var v=[o,s,o,s,o,s,o,s],p=0;p<d.wangtiles.length;p++){var m=d.wangtiles[p],g=a[m.tileid]||(a[m.tileid]={});g=g.wangid||(g.wangid={});for(var C=[],M=0;M<Math.min(v.length,m.wangid.length);M++){if(c=m.wangid[M],c===0){C.push(void 0);continue}var b=v[M][c];if(b!==void 0){C.push(b);continue}C.push(c)}g[l]=C}}}};n.exports=T},96761:(n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports={AssignTileProperties:i(51233),Base64Decode:i(41868),BuildTilesetIndex:i(84101),CreateGroupLayer:i(79677),ParseGID:i(29920),ParseImageLayers:i(12635),ParseJSONTiled:i(46594),ParseObject:i(52205),ParseObjectLayers:i(22611),ParseTileLayers:i(28200),ParseTilesets:i(24619)}},33385:(n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=i(83419),x=i(37277),d=i(44594),l=i(94880),o=i(72905),s=new a({initialize:function(c){this.scene=c,this.systems=c.sys,this.now=0,this.startTime=0,this.timeScale=1,this.paused=!1,this._active=[],this._pendingInsertion=[],this._pendingRemoval=[],c.sys.events.once(d.BOOT,this.boot,this),c.sys.events.on(d.START,this.start,this)},boot:function(){this.now=this.systems.game.loop.time,this.systems.events.once(d.DESTROY,this.destroy,this)},start:function(){this.startTime=this.systems.game.loop.time;var f=this.systems.events;f.on(d.PRE_UPDATE,this.preUpdate,this),f.on(d.UPDATE,this.update,this),f.once(d.SHUTDOWN,this.shutdown,this)},addEvent:function(f){var c;if(f instanceof l){if(c=f,this.removeEvent(c),c.elapsed=c.startAt,c.hasDispatched=!1,c.repeatCount=c.repeat===-1||c.loop?999999999999:c.repeat,c.delay<=0&&c.repeatCount>0)throw new Error("TimerEvent infinite loop created via zero delay")}else c=new l(f);return this._pendingInsertion.push(c),c},delayedCall:function(f,c,u,v){return this.addEvent({delay:f,callback:c,args:u,callbackScope:v})},clearPendingEvents:function(){return this._pendingInsertion=[],this},removeEvent:function(f){Array.isArray(f)||(f=[f]);for(var c=0;c<f.length;c++){var u=f[c];o(this._pendingRemoval,u),o(this._pendingInsertion,u),o(this._active,u)}return this},removeAllEvents:function(){return this._pendingRemoval=this._pendingRemoval.concat(this._active),this},preUpdate:function(){var f=this._pendingRemoval.length,c=this._pendingInsertion.length;if(!(f===0&&c===0)){var u,v;for(u=0;u<f;u++){v=this._pendingRemoval[u];var p=this._active.indexOf(v);p>-1&&this._active.splice(p,1),v.destroy()}for(u=0;u<c;u++)v=this._pendingInsertion[u],this._active.push(v);this._pendingRemoval.length=0,this._pendingInsertion.length=0}},update:function(f,c){if(this.now=f,!this.paused){c*=this.timeScale;for(var u=0;u<this._active.length;u++){var v=this._active[u];if(!v.paused&&(v.elapsed+=c*v.timeScale,v.elapsed>=v.delay)){var p=v.elapsed-v.delay;if(v.elapsed=v.delay,!v.hasDispatched&&v.callback&&(v.hasDispatched=!0,v.callback.apply(v.callbackScope,v.args)),v.repeatCount>0){if(v.repeatCount--,p>=v.delay)for(;p>=v.delay&&v.repeatCount>0;)v.callback&&v.callback.apply(v.callbackScope,v.args),p-=v.delay,v.repeatCount--;v.elapsed=p,v.hasDispatched=!1}else v.hasDispatched&&this._pendingRemoval.push(v)}}}},shutdown:function(){var f;for(f=0;f<this._pendingInsertion.length;f++)this._pendingInsertion[f].destroy();for(f=0;f<this._active.length;f++)this._active[f].destroy();for(f=0;f<this._pendingRemoval.length;f++)this._pendingRemoval[f].destroy();this._active.length=0,this._pendingRemoval.length=0,this._pendingInsertion.length=0;var c=this.systems.events;c.off(d.PRE_UPDATE,this.preUpdate,this),c.off(d.UPDATE,this.update,this),c.off(d.SHUTDOWN,this.shutdown,this)},destroy:function(){this.shutdown(),this.scene.sys.events.off(d.START,this.start,this),this.scene=null,this.systems=null}});x.register("Clock",s,"time"),n.exports=s},96120:(n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=i(83419),x=i(50792),d=i(39429),l=i(95540),o=i(44594),s=i(89809),f=new a({Extends:x,initialize:function(u,v){x.call(this),this.scene=u,this.systems=u.sys,this.elapsed=0,this.timeScale=1,this.paused=!0,this.complete=!1,this.totalComplete=0,this.loop=0,this.iteration=0,this.events=[];var p=this.systems.events;p.on(o.PRE_UPDATE,this.preUpdate,this),p.on(o.UPDATE,this.update,this),p.once(o.SHUTDOWN,this.destroy,this),v&&this.add(v)},preUpdate:function(c,u){this.paused||(this.elapsed+=u*this.timeScale)},update:function(){if(!(this.paused||this.complete)){var c,u=this.events,v=!1,p=this.systems,m;for(c=0;c<u.length;c++){var g=u[c];if(!g.complete&&g.time<=this.elapsed){if(g.complete=!0,this.totalComplete++,m=g.target?g.target:this,g.if&&!g.if.call(m,g))continue;if(g.once&&(v=!0),g.set&&g.target)for(var C in g.set)g.target[C]=g.set[C];this.iteration&&g.repeat++,g.loop&&g.repeat&&g.loop.call(m),g.tween&&(g.tweenInstance=p.tweens.add(g.tween)),g.sound&&(typeof g.sound=="string"?p.sound.play(g.sound):p.sound.play(g.sound.key,g.sound.config)),g.event&&this.emit(g.event,m),g.run&&g.run.call(m),g.stop&&this.stop()}}if(v)for(c=0;c<u.length;c++)u[c].complete&&u[c].once&&(u.splice(c,1),c--);this.totalComplete>=u.length&&(this.loop!==0&&(this.loop===-1||this.loop>this.iteration)?(this.iteration++,this.reset(!0)):this.complete=!0),this.complete&&this.emit(s.COMPLETE,this)}},play:function(c){return c===void 0&&(c=!0),this.paused=!1,this.complete=!1,this.totalComplete=0,c&&this.reset(),this},pause:function(){this.paused=!0;for(var c=this.events,u=0;u<c.length;u++){var v=c[u];v.tweenInstance&&(v.tweenInstance.paused=!0)}return this},repeat:function(c){return(c===void 0||c===!0)&&(c=-1),c===!1&&(c=0),this.loop=c,this},resume:function(){this.paused=!1;for(var c=this.events,u=0;u<c.length;u++){var v=c[u];v.tweenInstance&&(v.tweenInstance.paused=!1)}return this},stop:function(){return this.paused=!0,this.complete=!0,this},reset:function(c){c===void 0&&(c=!1),this.elapsed=0,c||(this.iteration=0);for(var u=this.events,v=0;v<u.length;v++){var p=u[v];p.complete=!1,c||(p.repeat=0),p.tweenInstance&&p.tweenInstance.stop()}return this.play(!1)},add:function(c){Array.isArray(c)||(c=[c]);var u=this.events,v=0;u.length>0&&(v=u[u.length-1].time);for(var p=0;p<c.length;p++){var m=c[p],g=l(m,"at",0),C=l(m,"in",null);C!==null&&(g=this.elapsed+C);var M=l(m,"from",null);M!==null&&(g=v+M),u.push({complete:!1,time:g,repeat:0,if:l(m,"if",null),run:l(m,"run",null),loop:l(m,"loop",null),event:l(m,"event",null),target:l(m,"target",null),set:l(m,"set",null),tween:l(m,"tween",null),sound:l(m,"sound",null),once:l(m,"once",!1),stop:l(m,"stop",!1)}),v=g}return this.complete=!1,this},clear:function(){for(var c=this.events,u=0;u<c.length;u++){var v=c[u];v.tweenInstance&&v.tweenInstance.stop()}return c=[],this.elapsed=0,this.paused=!0,this},isPlaying:function(){return!this.paused&&!this.complete},getProgress:function(){var c=Math.min(this.totalComplete,this.events.length);return c/this.events.length},destroy:function(){var c=this.systems.events;c.off(o.PRE_UPDATE,this.preUpdate,this),c.off(o.UPDATE,this.update,this),c.off(o.SHUTDOWN,this.destroy,this),this.clear(),this.scene=null,this.systems=null}});d.register("timeline",function(c){return new f(this.scene,c)}),n.exports=f},94880:(n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=i(83419),x=i(95540),d=new a({initialize:function(o){this.delay=0,this.repeat=0,this.repeatCount=0,this.loop=!1,this.callback,this.callbackScope,this.args,this.timeScale=1,this.startAt=0,this.elapsed=0,this.paused=!1,this.hasDispatched=!1,this.reset(o)},reset:function(l){if(this.delay=x(l,"delay",0),this.repeat=x(l,"repeat",0),this.loop=x(l,"loop",!1),this.callback=x(l,"callback",void 0),this.callbackScope=x(l,"callbackScope",this),this.args=x(l,"args",[]),this.timeScale=x(l,"timeScale",1),this.startAt=x(l,"startAt",0),this.paused=x(l,"paused",!1),this.elapsed=this.startAt,this.hasDispatched=!1,this.repeatCount=this.repeat===-1||this.loop?999999999999:this.repeat,this.delay<=0&&this.repeatCount>0)throw new Error("TimerEvent infinite loop created via zero delay");return this},getProgress:function(){return this.elapsed/this.delay},getOverallProgress:function(){if(this.repeat>0){var l=this.delay+this.delay*this.repeat,o=this.elapsed+this.delay*(this.repeat-this.repeatCount);return o/l}else return this.getProgress()},getRepeatCount:function(){return this.repeatCount},getElapsed:function(){return this.elapsed},getElapsedSeconds:function(){return this.elapsed*.001},getRemaining:function(){return this.delay-this.elapsed},getRemainingSeconds:function(){return this.getRemaining()*.001},getOverallRemaining:function(){return this.delay*(1+this.repeatCount)-this.elapsed},getOverallRemainingSeconds:function(){return this.getOverallRemaining()*.001},remove:function(l){l===void 0&&(l=!1),this.elapsed=this.delay,this.hasDispatched=!l,this.repeatCount=0},destroy:function(){this.callback=void 0,this.callbackScope=void 0,this.args=[]}});n.exports=d},35945:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="complete"},89809:(n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports={COMPLETE:i(35945)}},90291:(n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports={Clock:i(33385),Events:i(89809),Timeline:i(96120),TimerEvent:i(94880)}},40382:(n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=i(72905),x=i(83419),d=i(43491),l=i(88032),o=i(37277),s=i(44594),f=i(93109),c=i(86081),u=i(8357),v=i(43960),p=i(26012),m=new x({initialize:function(C){this.scene=C,this.events=C.sys.events,this.timeScale=1,this.paused=!1,this.processing=!1,this.tweens=[],this.time=0,this.startTime=0,this.nextTime=0,this.prevTime=0,this.maxLag=500,this.lagSkip=33,this.gap=1e3/240,this.events.once(s.BOOT,this.boot,this),this.events.on(s.START,this.start,this)},boot:function(){this.events.once(s.DESTROY,this.destroy,this)},start:function(){this.timeScale=1,this.paused=!1,this.startTime=Date.now(),this.prevTime=this.startTime,this.nextTime=this.gap,this.events.on(s.UPDATE,this.update,this),this.events.once(s.SHUTDOWN,this.shutdown,this)},create:function(g){Array.isArray(g)||(g=[g]);for(var C=[],M=0;M<g.length;M++){var b=g[M];b instanceof c||b instanceof v?C.push(b):Array.isArray(b.tweens)?C.push(p(this,b)):C.push(u(this,b))}return C.length===1?C[0]:C},add:function(g){var C=g,M=this.tweens;return C instanceof c||C instanceof v||(Array.isArray(C.tweens)?C=p(this,C):C=u(this,C)),M.push(C.reset()),C},addMultiple:function(g){for(var C,M=[],b=this.tweens,w=0;w<g.length;w++)C=g[w],C instanceof c||C instanceof v||(Array.isArray(C.tweens)?C=p(this,C):C=u(this,C)),b.push(C.reset()),M.push(C);return M},chain:function(g){var C=p(this,g);return this.tweens.push(C.init()),C},getChainedTweens:function(g){return g.getChainedTweens()},has:function(g){return this.tweens.indexOf(g)>-1},existing:function(g){return this.has(g)||this.tweens.push(g.reset()),this},addCounter:function(g){var C=l(this,g);return this.tweens.push(C.reset()),C},stagger:function(g,C){return f(g,C)},setLagSmooth:function(g,C){return g===void 0&&(g=1/1e-8),C===void 0&&(C=0),this.maxLag=g,this.lagSkip=Math.min(C,this.maxLag),this},setFps:function(g){return g===void 0&&(g=240),this.gap=1e3/g,this.nextTime=this.time*1e3+this.gap,this},getDelta:function(g){var C=Date.now()-this.prevTime;C>this.maxLag&&(this.startTime+=C-this.lagSkip),this.prevTime+=C;var M=this.prevTime-this.startTime,b=M-this.nextTime,w=M-this.time*1e3;return b>0||g?(M/=1e3,this.time=M,this.nextTime+=b+(b>=this.gap?4:this.gap-b)):w=0,w},tick:function(){return this.step(!0),this},update:function(){this.paused||this.step(!1)},step:function(g){g===void 0&&(g=!1);var C=this.getDelta(g);if(!(C<=0)){this.processing=!0;var M,b,w=[],R=this.tweens;for(M=0;M<R.length;M++)b=R[M],b.update(C)&&w.push(b);var A=w.length;if(A&&R.length>0){for(M=0;M<A;M++){b=w[M];var L=R.indexOf(b);L>-1&&(b.isPendingRemove()||b.isDestroyed())&&(R.splice(L,1),b.destroy())}w.length=0}this.processing=!1}},remove:function(g){return this.processing?g.setPendingRemoveState():(a(this.tweens,g),g.setRemovedState()),this},reset:function(g){return this.existing(g),g.seek(),g.setActiveState(),this},makeActive:function(g){return this.existing(g),g.setActiveState(),this},each:function(g,C){var M,b=[null];for(M=1;M<arguments.length;M++)b.push(arguments[M]);return this.tweens.forEach(function(w){b[0]=w,g.apply(C,b)}),this},getTweens:function(){return this.tweens.slice()},getTweensOf:function(g){var C=[],M=this.tweens;Array.isArray(g)?g=d(g):g=[g];for(var b=g.length,w=0;w<M.length;w++)for(var R=M[w],A=0;A<b;A++)!R.isDestroyed()&&R.hasTarget(g[A])&&C.push(R);return C},getGlobalTimeScale:function(){return this.timeScale},setGlobalTimeScale:function(g){return this.timeScale=g,this},isTweening:function(g){for(var C=this.tweens,M,b=0;b<C.length;b++)if(M=C[b],M.isPlaying()&&M.hasTarget(g))return!0;return!1},killAll:function(){for(var g=this.processing?this.getTweens():this.tweens,C=0;C<g.length;C++)g[C].destroy();return this.processing||(g.length=0),this},killTweensOf:function(g){for(var C=this.getTweensOf(g),M=0;M<C.length;M++)C[M].destroy();return this},pauseAll:function(){return this.paused=!0,this},resumeAll:function(){return this.paused=!1,this},shutdown:function(){this.killAll(),this.tweens=[],this.events.off(s.UPDATE,this.update,this),this.events.off(s.SHUTDOWN,this.shutdown,this)},destroy:function(){this.shutdown(),this.events.off(s.START,this.start,this),this.scene=null,this.events=null}});o.register("TweenManager",m,"tweens"),n.exports=m},57355:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(i,a,x){return i&&i.hasOwnProperty(a)?i[a]:x};n.exports=T},6113:(n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=i(62640),x=i(35355),d=function(l,o){var s=a.Power0;if(typeof l=="string")if(a.hasOwnProperty(l))s=a[l];else{var f="";if(l.indexOf(".")){f=l.substring(l.indexOf(".")+1);var c=f.toLowerCase();c==="in"?f="easeIn":c==="out"?f="easeOut":c==="inout"&&(f="easeInOut")}l=x(l.substring(0,l.indexOf(".")+1)+f),a.hasOwnProperty(l)&&(s=a[l])}else typeof l=="function"&&(s=l);if(!o)return s;var u=o.slice(0);return u.unshift(0),function(v){return u[0]=v,s.apply(this,u)}};n.exports=d},91389:(n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=i(89318),x=i(77259),d=i(28392),l={bezier:a,catmull:x,catmullrom:x,linear:d},o=function(s){if(s===null)return null;var f=l.linear;return typeof s=="string"?l.hasOwnProperty(s)&&(f=l[s]):typeof s=="function"&&(f=s),f};n.exports=o},55292:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(i,a,x){var d;if(i.hasOwnProperty(a)){var l=typeof i[a];l==="function"?d=function(o,s,f,c,u,v){return i[a](o,s,f,c,u,v)}:d=function(){return i[a]}}else typeof x=="function"?d=x:d=function(){return x};return d};n.exports=T},82985:(n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=i(81076),x=function(d){var l,o=[];if(d.hasOwnProperty("props"))for(l in d.props)l.substring(0,1)!=="_"&&o.push({key:l,value:d.props[l]});else for(l in d)a.indexOf(l)===-1&&l.substring(0,1)!=="_"&&o.push({key:l,value:d[l]});return o};n.exports=x},62329:(n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=i(35154),x=function(d){var l=a(d,"targets",null);return l===null||(typeof l=="function"&&(l=l.call()),Array.isArray(l)||(l=[l])),l};n.exports=x},17777:(n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=i(30976),x=i(99472);function d(c){return!!c.getActive&&typeof c.getActive=="function"}function l(c){return!!c.getStart&&typeof c.getStart=="function"}function o(c){return!!c.getEnd&&typeof c.getEnd=="function"}function s(c){return l(c)||o(c)||d(c)}var f=function(c,u){var v,p=function(Q,J,Y){return Y},m=function(Q,J,Y){return Y},g=null,C=typeof u;if(C==="number")p=function(){return u};else if(Array.isArray(u))m=function(){return u[0]},p=function(){return u[u.length-1]};else if(C==="string"){var M=u.toLowerCase(),b=M.substring(0,6)==="random",w=M.substring(0,3)==="int";if(b||w){var R=M.indexOf("("),A=M.indexOf(")"),L=M.indexOf(",");if(R&&A&&L){var D=parseFloat(M.substring(R+1,L)),G=parseFloat(M.substring(L+1,A));b?p=function(){return x(D,G)}:p=function(){return a(D,G)}}else throw new Error("invalid random() format")}else{M=M[0];var B=parseFloat(u.substr(2));switch(M){case"+":p=function(Q,J,Y){return Y+B};break;case"-":p=function(Q,J,Y){return Y-B};break;case"*":p=function(Q,J,Y){return Y*B};break;case"/":p=function(Q,J,Y){return Y/B};break;default:p=function(){return parseFloat(u)}}}}else if(C==="function")p=u;else if(C==="object")if(s(u))d(u)&&(g=u.getActive),o(u)&&(p=u.getEnd),l(u)&&(m=u.getStart);else if(u.hasOwnProperty("value"))v=f(c,u.value);else{var I=u.hasOwnProperty("to"),k=u.hasOwnProperty("from"),z=u.hasOwnProperty("start");if(I&&(k||z)){if(v=f(c,u.to),z){var X=f(c,u.start);v.getActive=X.getEnd}if(k){var H=f(c,u.from);v.getStart=H.getEnd}}}return v||(v={getActive:g,getEnd:p,getStart:m}),v};n.exports=f},88032:(n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=i(70402),x=i(69902),d=i(23568),l=i(57355),o=i(6113),s=i(95540),f=i(55292),c=i(35154),u=i(17777),v=i(269),p=i(86081),m=function(g,C,M){if(C instanceof p)return C.parent=g,C;M===void 0?M=x:M=v(x,M);var b=s(C,"from",0),w=s(C,"to",1),R=[{value:b}],A=s(C,"delay",M.delay),L=s(C,"easeParams",M.easeParams),D=s(C,"ease",M.ease),G=u("value",w),B=new p(g,R),I=B.add(0,"value",G.getEnd,G.getStart,G.getActive,o(s(C,"ease",D),s(C,"easeParams",L)),f(C,"delay",A),s(C,"duration",M.duration),l(C,"yoyo",M.yoyo),s(C,"hold",M.hold),s(C,"repeat",M.repeat),s(C,"repeatDelay",M.repeatDelay),!1,!1);I.start=b,I.current=b,B.completeDelay=d(C,"completeDelay",0),B.loop=Math.round(d(C,"loop",0)),B.loopDelay=Math.round(d(C,"loopDelay",0)),B.paused=l(C,"paused",!1),B.persist=l(C,"persist",!1),B.isNumberTween=!0,B.callbackScope=c(C,"callbackScope",B);for(var k=a.TYPES,z=0;z<k.length;z++){var X=k[z],H=c(C,X,!1);if(H){var Q=c(C,X+"Params",[]);B.setCallback(X,H,Q)}}return B};n.exports=m},93109:(n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=i(6113),x=i(35154),d=i(36383),l=function(o,s){s===void 0&&(s={});var f,c=x(s,"start",0),u=x(s,"ease",null),v=x(s,"grid",null),p=x(s,"from",0),m=p==="first",g=p==="center",C=p==="last",M=typeof p=="number",b=Array.isArray(o),w=parseFloat(b?o[0]:o),R=b?parseFloat(o[1]):0,A=Math.max(w,R);if(b&&(c+=w),v){var L=v[0],D=v[1],G=0,B=0,I=0,k=0,z=[];C?(G=L-1,B=D-1):M?(G=p%L,B=Math.floor(p/L)):g&&(G=(L-1)/2,B=(D-1)/2);for(var X=d.MIN_SAFE_INTEGER,H=0;H<D;H++){z[H]=[];for(var Q=0;Q<L;Q++){I=G-Q,k=B-H;var J=Math.sqrt(I*I+k*k);J>X&&(X=J),z[H][Q]=J}}}var Y=u?a(u):null;return v?f=function($,V,U,K){var j=0,_=K%L,tt=Math.floor(K/L);_>=0&&_<L&&tt>=0&&tt<D&&(j=z[tt][_]);var rt;if(b){var ot=R-w;Y?rt=j/X*ot*Y(j/X):rt=j/X*ot}else Y?rt=j*w*Y(j/X):rt=j*w;return rt+c}:f=function($,V,U,K,j){j--;var _;m?_=K:g?_=Math.abs(j/2-K):C?_=j-K:M&&(_=Math.abs(p-K));var tt;if(b){var rt;g?rt=(R-w)/j*(_*2):rt=(R-w)/j*_,Y?tt=rt*Y(_/j):tt=rt}else Y?tt=j*A*Y(_/j):tt=_*w;return tt+c},f};n.exports=l},8357:(n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=i(70402),x=i(69902),d=i(23568),l=i(57355),o=i(6113),s=i(95540),f=i(91389),c=i(55292),u=i(82985),v=i(62329),p=i(35154),m=i(17777),g=i(269),C=i(86081),M=function(b,w,R){if(w instanceof C)return w.parent=b,w;R===void 0?R=x:R=g(x,R);var A=v(w);!A&&R.targets&&(A=R.targets);for(var L=u(w),D=s(w,"delay",R.delay),G=s(w,"duration",R.duration),B=s(w,"easeParams",R.easeParams),I=s(w,"ease",R.ease),k=s(w,"hold",R.hold),z=s(w,"repeat",R.repeat),X=s(w,"repeatDelay",R.repeatDelay),H=l(w,"yoyo",R.yoyo),Q=l(w,"flipX",R.flipX),J=l(w,"flipY",R.flipY),Y=s(w,"interpolation",R.interpolation),$=function(gt,yt,Mt,Ct){if(Mt==="texture"){var Wt=Ct,Yt=void 0;Array.isArray(Ct)?(Wt=Ct[0],Yt=Ct[1]):Ct.hasOwnProperty("value")?(Wt=Ct.value,Array.isArray(Ct.value)?(Wt=Ct.value[0],Yt=Ct.value[1]):typeof Ct.value=="string"&&(Wt=Ct.value)):typeof Ct=="string"&&(Wt=Ct),gt.addFrame(yt,Wt,Yt,c(Ct,"delay",D),s(Ct,"duration",G),s(Ct,"hold",k),s(Ct,"repeat",z),s(Ct,"repeatDelay",X),l(Ct,"flipX",Q),l(Ct,"flipY",J))}else{var Ht=m(Mt,Ct),bt=f(s(Ct,"interpolation",Y));gt.add(yt,Mt,Ht.getEnd,Ht.getStart,Ht.getActive,o(s(Ct,"ease",I),s(Ct,"easeParams",B)),c(Ct,"delay",D),s(Ct,"duration",G),l(Ct,"yoyo",H),s(Ct,"hold",k),s(Ct,"repeat",z),s(Ct,"repeatDelay",X),l(Ct,"flipX",Q),l(Ct,"flipY",J),bt,bt?Ct:null)}},V=new C(b,A),U=0;U<L.length;U++)for(var K=L[U].key,j=L[U].value,_=0;_<A.length;_++)K==="scale"&&!A[_].hasOwnProperty("scale")?($(V,_,"scaleX",j),$(V,_,"scaleY",j)):$(V,_,K,j);V.completeDelay=d(w,"completeDelay",0),V.loop=Math.round(d(w,"loop",0)),V.loopDelay=Math.round(d(w,"loopDelay",0)),V.paused=l(w,"paused",!1),V.persist=l(w,"persist",!1),V.callbackScope=s(w,"callbackScope",V);for(var tt=a.TYPES,rt=0;rt<tt.length;rt++){var ot=tt[rt],ft=p(w,ot,!1);if(ft){var ct=p(w,ot+"Params",[]);V.setCallback(ot,ft,ct)}}return V};n.exports=M},26012:(n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=i(70402),x=i(23568),d=i(57355),l=i(62329),o=i(35154),s=i(8357),f=i(43960),c=function(u,v){if(v instanceof f)return v.parent=u,v;var p=new f(u);p.startDelay=o(v,"delay",0),p.completeDelay=x(v,"completeDelay",0),p.loop=Math.round(x(v,"loop",o(v,"repeat",0))),p.loopDelay=Math.round(x(v,"loopDelay",o(v,"repeatDelay",0))),p.paused=d(v,"paused",!1),p.persist=d(v,"persist",!1),p.callbackScope=o(v,"callbackScope",p);var m,g=a.TYPES;for(m=0;m<g.length;m++){var C=g[m],M=o(v,C,!1);if(M){var b=o(v,C+"Params",[]);p.setCallback(C,M,b)}}var w=o(v,"tweens",null);if(Array.isArray(w)){var R=[],A=l(v),L=void 0;for(A&&(L={targets:A}),m=0;m<w.length;m++)R.push(s(p,w[m],L));p.add(R)}return p};n.exports=c},30231:(n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports={GetBoolean:i(57355),GetEaseFunction:i(6113),GetInterpolationFunction:i(91389),GetNewValue:i(55292),GetProps:i(82985),GetTargets:i(62329),GetValueOp:i(17777),NumberTweenBuilder:i(88032),StaggerBuilder:i(93109),TweenBuilder:i(8357)}},73685:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="active"},98540:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="complete"},67233:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="loop"},2859:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="pause"},98336:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="repeat"},25764:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="resume"},32193:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="start"},84371:n=>{/**
 * @author       samme
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="stop"},70766:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="update"},55659:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports="yoyo"},842:(n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports={TWEEN_ACTIVE:i(73685),TWEEN_COMPLETE:i(98540),TWEEN_LOOP:i(67233),TWEEN_PAUSE:i(2859),TWEEN_RESUME:i(25764),TWEEN_REPEAT:i(98336),TWEEN_START:i(32193),TWEEN_STOP:i(84371),TWEEN_UPDATE:i(70766),TWEEN_YOYO:i(55659)}},43066:(n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a={States:i(86353),Builders:i(30231),Events:i(842),TweenManager:i(40382),Tween:i(86081),TweenData:i(48177),TweenFrameData:i(42220),BaseTween:i(70402),TweenChain:i(43960)};n.exports=a},70402:(n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=i(83419),x=i(50792),d=i(842),l=i(86353),o=new a({Extends:x,initialize:function(f){x.call(this),this.parent=f,this.data=[],this.totalData=0,this.startDelay=0,this.hasStarted=!1,this.timeScale=1,this.loop=0,this.loopDelay=0,this.loopCounter=0,this.completeDelay=0,this.countdown=0,this.state=l.PENDING,this.paused=!1,this.callbacks={onActive:null,onComplete:null,onLoop:null,onPause:null,onRepeat:null,onResume:null,onStart:null,onStop:null,onUpdate:null,onYoyo:null},this.callbackScope,this.persist=!1},setTimeScale:function(s){return this.timeScale=s,this},getTimeScale:function(){return this.timeScale},isPlaying:function(){return!this.paused&&this.isActive()},isPaused:function(){return this.paused},pause:function(){return this.paused||(this.paused=!0,this.dispatchEvent(d.TWEEN_PAUSE,"onPause")),this},resume:function(){return this.paused&&(this.paused=!1,this.dispatchEvent(d.TWEEN_RESUME,"onResume")),this},makeActive:function(){this.parent.makeActive(this),this.dispatchEvent(d.TWEEN_ACTIVE,"onActive")},onCompleteHandler:function(){this.setPendingRemoveState(),this.dispatchEvent(d.TWEEN_COMPLETE,"onComplete")},complete:function(s){return s===void 0&&(s=0),s?(this.setCompleteDelayState(),this.countdown=s):this.onCompleteHandler(),this},completeAfterLoop:function(s){return s===void 0&&(s=0),this.loopCounter>s&&(this.loopCounter=s),this},remove:function(){return this.parent&&this.parent.remove(this),this},stop:function(){return this.parent&&!this.isRemoved()&&!this.isPendingRemove()&&!this.isDestroyed()&&(this.dispatchEvent(d.TWEEN_STOP,"onStop"),this.setPendingRemoveState()),this},updateLoopCountdown:function(s){this.countdown-=s,this.countdown<=0&&(this.setActiveState(),this.dispatchEvent(d.TWEEN_LOOP,"onLoop"))},updateStartCountdown:function(s){return this.countdown-=s,this.countdown<=0&&(this.hasStarted=!0,this.setActiveState(),this.dispatchEvent(d.TWEEN_START,"onStart"),s=0),s},updateCompleteDelay:function(s){this.countdown-=s,this.countdown<=0&&this.onCompleteHandler()},setCallback:function(s,f,c){return c===void 0&&(c=[]),this.callbacks.hasOwnProperty(s)&&(this.callbacks[s]={func:f,params:c}),this},setPendingState:function(){this.state=l.PENDING},setActiveState:function(){this.state=l.ACTIVE,this.hasStarted=!1},setLoopDelayState:function(){this.state=l.LOOP_DELAY},setCompleteDelayState:function(){this.state=l.COMPLETE_DELAY},setStartDelayState:function(){this.state=l.START_DELAY,this.countdown=this.startDelay,this.hasStarted=!1},setPendingRemoveState:function(){this.state=l.PENDING_REMOVE},setRemovedState:function(){this.state=l.REMOVED},setFinishedState:function(){this.state=l.FINISHED},setDestroyedState:function(){this.state=l.DESTROYED},isPending:function(){return this.state===l.PENDING},isActive:function(){return this.state===l.ACTIVE},isLoopDelayed:function(){return this.state===l.LOOP_DELAY},isCompleteDelayed:function(){return this.state===l.COMPLETE_DELAY},isStartDelayed:function(){return this.state===l.START_DELAY},isPendingRemove:function(){return this.state===l.PENDING_REMOVE},isRemoved:function(){return this.state===l.REMOVED},isFinished:function(){return this.state===l.FINISHED},isDestroyed:function(){return this.state===l.DESTROYED},destroy:function(){this.data&&this.data.forEach(function(s){s.destroy()}),this.removeAllListeners(),this.callbacks=null,this.data=null,this.parent=null,this.setDestroyedState()}});o.TYPES=["onActive","onComplete","onLoop","onPause","onRepeat","onResume","onStart","onStop","onUpdate","onYoyo"],n.exports=o},95042:(n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=i(83419),x=i(842),d=i(86353),l=new a({initialize:function(s,f,c,u,v,p,m,g,C,M){this.tween=s,this.targetIndex=f,this.duration=u<=0?.01:u,this.totalDuration=0,this.delay=0,this.getDelay=c,this.yoyo=v,this.hold=p,this.repeat=m,this.repeatDelay=g,this.repeatCounter=0,this.flipX=C,this.flipY=M,this.progress=0,this.elapsed=0,this.state=0,this.isCountdown=!1},getTarget:function(){return this.tween.targets[this.targetIndex]},setTargetValue:function(o){o===void 0&&(o=this.current),this.tween.targets[this.targetIndex][this.key]=o},setCreatedState:function(){this.state=d.CREATED,this.isCountdown=!1},setDelayState:function(){this.state=d.DELAY,this.isCountdown=!0},setPendingRenderState:function(){this.state=d.PENDING_RENDER,this.isCountdown=!1},setPlayingForwardState:function(){this.state=d.PLAYING_FORWARD,this.isCountdown=!1},setPlayingBackwardState:function(){this.state=d.PLAYING_BACKWARD,this.isCountdown=!1},setHoldState:function(){this.state=d.HOLD_DELAY,this.isCountdown=!0},setRepeatState:function(){this.state=d.REPEAT_DELAY,this.isCountdown=!0},setCompleteState:function(){this.state=d.COMPLETE,this.isCountdown=!1},isCreated:function(){return this.state===d.CREATED},isDelayed:function(){return this.state===d.DELAY},isPendingRender:function(){return this.state===d.PENDING_RENDER},isPlayingForward:function(){return this.state===d.PLAYING_FORWARD},isPlayingBackward:function(){return this.state===d.PLAYING_BACKWARD},isHolding:function(){return this.state===d.HOLD_DELAY},isRepeating:function(){return this.state===d.REPEAT_DELAY},isComplete:function(){return this.state===d.COMPLETE},setStateFromEnd:function(o){this.yoyo?this.onRepeat(o,!0,!0):this.repeatCounter>0?this.onRepeat(o,!0,!1):this.setCompleteState()},setStateFromStart:function(o){this.repeatCounter>0?this.onRepeat(o,!1):this.setCompleteState()},reset:function(){var o=this.tween,s=o.totalTargets,f=this.targetIndex,c=o.targets[f],u=this.key;this.progress=0,this.elapsed=0,this.delay=this.getDelay(c,u,0,f,s,o),this.repeatCounter=this.repeat===-1?d.MAX:this.repeat,this.setPendingRenderState();var v=this.duration+this.hold;this.yoyo&&(v+=this.duration);var p=v+this.repeatDelay;this.totalDuration=this.delay+v,this.repeat===-1?(this.totalDuration+=p*d.MAX,o.isInfinite=!0):this.repeat>0&&(this.totalDuration+=p*this.repeat),this.totalDuration>o.duration&&(o.duration=this.totalDuration),this.delay<o.startDelay&&(o.startDelay=this.delay),this.delay>0&&(this.elapsed=this.delay,this.setDelayState())},onRepeat:function(o,s,f){var c=this.tween,u=c.totalTargets,v=this.targetIndex,p=c.targets[v],m=this.key,g=m!=="texture";if(this.elapsed=o,this.progress=o/this.duration,this.flipX&&p.toggleFlipX(),this.flipY&&p.toggleFlipY(),g&&(s||f)&&(this.start=this.getStartValue(p,m,this.start,v,u,c)),f){this.setPlayingBackwardState(),this.dispatchEvent(x.TWEEN_YOYO,"onYoyo");return}this.repeatCounter--,g&&(this.end=this.getEndValue(p,m,this.start,v,u,c)),this.repeatDelay>0?(this.elapsed=this.repeatDelay-o,g&&(this.current=this.start,p[m]=this.current),this.setRepeatState()):(this.setPlayingForwardState(),this.dispatchEvent(x.TWEEN_REPEAT,"onRepeat"))},destroy:function(){this.tween=null,this.getDelay=null,this.setCompleteState()}});n.exports=l},69902:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T={targets:null,delay:0,duration:1e3,ease:"Power0",easeParams:null,hold:0,repeat:0,repeatDelay:0,yoyo:!1,flipX:!1,flipY:!1,persist:!1,interpolation:null};n.exports=T},81076:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports=["callbackScope","completeDelay","delay","duration","ease","easeParams","flipX","flipY","hold","interpolation","loop","loopDelay","onActive","onActiveParams","onComplete","onCompleteParams","onLoop","onLoopParams","onPause","onPauseParams","onRepeat","onRepeatParams","onResume","onResumeParams","onStart","onStartParams","onStop","onStopParams","onUpdate","onUpdateParams","onYoyo","onYoyoParams","paused","persist","props","repeat","repeatDelay","targets","yoyo"]},86081:(n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=i(70402),x=i(83419),d=i(842),l=i(44603),o=i(39429),s=i(36383),f=i(86353),c=i(48177),u=i(42220),v=new x({Extends:a,initialize:function(m,g){a.call(this,m),this.targets=g,this.totalTargets=g.length,this.isSeeking=!1,this.isInfinite=!1,this.elapsed=0,this.totalElapsed=0,this.duration=0,this.progress=0,this.totalDuration=0,this.totalProgress=0,this.isNumberTween=!1},add:function(p,m,g,C,M,b,w,R,A,L,D,G,B,I,k,z){var X=new c(this,p,m,g,C,M,b,w,R,A,L,D,G,B,I,k,z);return this.totalData=this.data.push(X),X},addFrame:function(p,m,g,C,M,b,w,R,A,L){var D=new u(this,p,m,g,C,M,b,w,R,A,L);return this.totalData=this.data.push(D),D},getValue:function(p){p===void 0&&(p=0);var m=null;return this.data&&(m=this.data[p].current),m},hasTarget:function(p){return this.targets&&this.targets.indexOf(p)!==-1},updateTo:function(p,m,g){if(g===void 0&&(g=!1),p!=="texture")for(var C=0;C<this.totalData;C++){var M=this.data[C];M.key===p&&(M.isPlayingForward()||M.isPlayingBackward())&&(M.end=m,g&&(M.start=M.current))}return this},restart:function(){switch(this.state){case f.REMOVED:case f.FINISHED:this.seek(),this.parent.makeActive(this);break;case f.PENDING:case f.PENDING_REMOVE:this.parent.reset(this);break;case f.DESTROYED:console.warn("Cannot restart destroyed Tween",this);break;default:this.seek();break}return this.paused=!1,this.hasStarted=!1,this},nextState:function(){if(this.loopCounter>0)this.elapsed=0,this.progress=0,this.loopCounter--,this.initTweenData(!0),this.loopDelay>0?(this.countdown=this.loopDelay,this.setLoopDelayState()):(this.setActiveState(),this.dispatchEvent(d.TWEEN_LOOP,"onLoop"));else if(this.completeDelay>0)this.countdown=this.completeDelay,this.setCompleteDelayState();else return this.onCompleteHandler(),!0;return!1},onCompleteHandler:function(){this.progress=1,this.totalProgress=1,a.prototype.onCompleteHandler.call(this)},play:function(){return this.isDestroyed()?(console.warn("Cannot play destroyed Tween",this),this):((this.isPendingRemove()||this.isFinished())&&this.seek(),this.paused=!1,this.setActiveState(),this)},seek:function(p,m,g){if(p===void 0&&(p=0),m===void 0&&(m=16.6),g===void 0&&(g=!1),this.isDestroyed())return console.warn("Cannot seek destroyed Tween",this),this;g||(this.isSeeking=!0),this.reset(!0),this.initTweenData(!0),this.setActiveState(),this.dispatchEvent(d.TWEEN_ACTIVE,"onActive");var C=this.paused;if(this.paused=!1,p>0){for(var M=Math.floor(p/m),b=p-M*m,w=0;w<M;w++)this.update(m);b>0&&this.update(b)}return this.paused=C,this.isSeeking=!1,this},initTweenData:function(p){p===void 0&&(p=!1),this.duration=0,this.startDelay=s.MAX_SAFE_INTEGER;for(var m=this.data,g=0;g<this.totalData;g++)m[g].reset(p);this.duration=Math.max(this.duration,.01);var C=this.duration,M=this.completeDelay,b=this.loopCounter,w=this.loopDelay;b>0?this.totalDuration=C+M+(C+w)*b:this.totalDuration=C+M},reset:function(p){return p===void 0&&(p=!1),this.elapsed=0,this.totalElapsed=0,this.progress=0,this.totalProgress=0,this.loopCounter=this.loop,this.loop===-1&&(this.isInfinite=!0,this.loopCounter=f.MAX),p||(this.initTweenData(),this.setActiveState(),this.dispatchEvent(d.TWEEN_ACTIVE,"onActive")),this},update:function(p){if(this.isPendingRemove()||this.isDestroyed())return this.persist?(this.setFinishedState(),!1):!0;if(this.paused||this.isFinished())return!1;if(p*=this.timeScale*this.parent.timeScale,this.isLoopDelayed())return this.updateLoopCountdown(p),!1;if(this.isCompleteDelayed())return this.updateCompleteDelay(p),!1;this.hasStarted||(this.startDelay-=p,this.startDelay<=0&&(this.hasStarted=!0,this.dispatchEvent(d.TWEEN_START,"onStart"),p=0));var m=!1;if(this.isActive())for(var g=this.data,C=0;C<this.totalData;C++)g[C].update(p)&&(m=!0);this.elapsed+=p,this.progress=Math.min(this.elapsed/this.duration,1),this.totalElapsed+=p,this.totalProgress=Math.min(this.totalElapsed/this.totalDuration,1),m||this.nextState();var M=this.isPendingRemove();return M&&this.persist&&(this.setFinishedState(),M=!1),M},forward:function(p){return this.update(p),this},rewind:function(p){return this.update(-p),this},dispatchEvent:function(p,m){if(!this.isSeeking){if(this.emit(p,this,this.targets),!this.callbacks)return;var g=this.callbacks[m];g&&g.func.apply(this.callbackScope,[this,this.targets].concat(g.params))}},destroy:function(){a.prototype.destroy.call(this),this.targets=null}});o.register("tween",function(p){return this.scene.sys.tweens.add(p)}),l.register("tween",function(p){return this.scene.sys.tweens.create(p)}),n.exports=v},43960:(n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=i(72905),x=i(70402),d=i(83419),l=i(842),o=i(44603),s=i(39429),f=i(86353),c=new d({Extends:x,initialize:function(v){x.call(this,v),this.currentTween=null,this.currentIndex=0},init:function(){return this.loopCounter=this.loop===-1?f.MAX:this.loop,this.setCurrentTween(0),this.startDelay>0&&!this.isStartDelayed()?this.setStartDelayState():this.setActiveState(),this},add:function(u){var v=this.parent.create(u);Array.isArray(v)||(v=[v]);for(var p=this.data,m=0;m<v.length;m++){var g=v[m];g.parent=this,p.push(g.reset())}return this.totalData=p.length,this},remove:function(u){return a(this.data,u),u.setRemovedState(),u===this.currentTween&&this.nextTween(),this.totalData=this.data.length,this},hasTarget:function(u){for(var v=this.data,p=0;p<this.totalData;p++)if(v[p].hasTarget(u))return!0;return!1},restart:function(){return this.isDestroyed()?(console.warn("Cannot restart destroyed TweenChain",this),this):(this.isRemoved()&&this.parent.makeActive(this),this.resetTweens(),this.paused=!1,this.init())},reset:function(u){return u.seek(),u.setActiveState(),this},makeActive:function(u){return u.reset(),u.setActiveState(),this},nextState:function(){if(this.loopCounter>0)this.loopCounter--,this.resetTweens(),this.loopDelay>0?(this.countdown=this.loopDelay,this.setLoopDelayState()):(this.setActiveState(),this.dispatchEvent(l.TWEEN_LOOP,"onLoop"));else if(this.completeDelay>0)this.countdown=this.completeDelay,this.setCompleteDelayState();else return this.onCompleteHandler(),!0;return!1},play:function(){return this.isDestroyed()?(console.warn("Cannot play destroyed TweenChain",this),this):((this.isPendingRemove()||this.isPending())&&this.resetTweens(),this.paused=!1,this.startDelay>0&&!this.isStartDelayed()?this.setStartDelayState():this.setActiveState(),this)},resetTweens:function(){for(var u=this.data,v=this.totalData,p=0;p<v;p++)u[p].reset(!1);this.setCurrentTween(0)},update:function(u){if(this.isPendingRemove()||this.isDestroyed())return!0;if(this.isFinished()||this.paused)return!1;if(u*=this.parent.timeScale,this.isLoopDelayed())return this.updateLoopCountdown(u),!1;if(this.isCompleteDelayed())return this.updateCompleteDelay(u),!1;this.hasStarted||(this.startDelay-=u,this.startDelay<=0&&(this.hasStarted=!0,this.dispatchEvent(l.TWEEN_START,"onStart"),u=0));var v=!1;return this.isActive()&&this.currentTween&&(this.currentTween.update(u)&&this.nextTween()&&this.nextState(),v=this.isPendingRemove(),v&&this.persist&&(this.setFinishedState(),v=!1)),v},nextTween:function(){return this.currentIndex++,this.currentIndex===this.totalData?!0:(this.setCurrentTween(this.currentIndex),!1)},setCurrentTween:function(u){this.currentIndex=u,this.currentTween=this.data[u],this.currentTween.setActiveState()},dispatchEvent:function(u,v){this.emit(u,this);var p=this.callbacks[v];p&&p.func.apply(this.callbackScope,[this].concat(p.params))},destroy:function(){x.prototype.destroy.call(this),this.currentTween=null}});s.register("tweenchain",function(u){return this.scene.sys.tweens.chain(u)}),o.register("tweenchain",function(u){return this.scene.sys.tweens.create(u)}),n.exports=c},48177:(n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=i(95042),x=i(45319),d=i(83419),l=i(842),o=new d({Extends:a,initialize:function(f,c,u,v,p,m,g,C,M,b,w,R,A,L,D,G,B){a.call(this,f,c,C,M,b,w,R,A,L,D),this.key=u,this.getActiveValue=m,this.getEndValue=v,this.getStartValue=p,this.ease=g,this.start=0,this.previous=0,this.current=0,this.end=0,this.interpolation=G,this.interpolationData=B},reset:function(s){a.prototype.reset.call(this);var f=this.tween.targets[this.targetIndex],c=this.key;s&&(f[c]=this.start),this.start=0,this.previous=0,this.current=0,this.end=0,this.getActiveValue&&(f[c]=this.getActiveValue(f,c,0))},update:function(s){var f=this.tween,c=f.totalTargets,u=this.targetIndex,v=f.targets[u],p=this.key;if(!v)return this.setCompleteState(),!1;if(this.isCountdown&&(this.elapsed-=s,this.elapsed<=0&&(this.elapsed=0,s=0,this.isDelayed()?this.setPendingRenderState():this.isRepeating()?(this.setPlayingForwardState(),this.dispatchEvent(l.TWEEN_REPEAT,"onRepeat")):this.isHolding()&&this.setStateFromEnd(0))),this.isPendingRender())return this.start=this.getStartValue(v,p,v[p],u,c,f),this.end=this.getEndValue(v,p,this.start,u,c,f),this.current=this.start,v[p]=this.start,this.setPlayingForwardState(),!0;var m=this.isPlayingForward(),g=this.isPlayingBackward();if(m||g){var C=this.elapsed,M=this.duration,b=0,w=!1;C+=s,C>=M?(b=C-M,C=M,w=!0):C<0&&(C=0);var R=x(C/M,0,1);this.elapsed=C,this.progress=R,this.previous=this.current,m||(R=1-R);var A=this.ease(R);this.interpolation?this.current=this.interpolation(this.interpolationData,A):this.current=this.start+(this.end-this.start)*A,v[p]=this.current,w&&(m?(f.isNumberTween&&(this.current=this.end,v[p]=this.current),this.hold>0?(this.elapsed=this.hold,this.setHoldState()):this.setStateFromEnd(b)):(f.isNumberTween&&(this.current=this.start,v[p]=this.current),this.setStateFromStart(b))),this.dispatchEvent(l.TWEEN_UPDATE,"onUpdate")}return!this.isComplete()},dispatchEvent:function(s,f){var c=this.tween;if(!c.isSeeking){var u=c.targets[this.targetIndex],v=this.key,p=this.current,m=this.previous;c.emit(s,c,v,u,p,m);var g=c.callbacks[f];g&&g.func.apply(c.callbackScope,[c,u,v,p,m].concat(g.params))}},destroy:function(){a.prototype.destroy.call(this),this.getActiveValue=null,this.getEndValue=null,this.getStartValue=null,this.ease=null}});n.exports=o},42220:(n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=i(95042),x=i(45319),d=i(83419),l=i(842),o=new d({Extends:a,initialize:function(f,c,u,v,p,m,g,C,M,b,w){a.call(this,f,c,p,m,!1,g,C,M,b,w),this.key="texture",this.startTexture=null,this.endTexture=u,this.startFrame=null,this.endFrame=v,this.yoyo=C!==0},reset:function(s){a.prototype.reset.call(this);var f=this.tween.targets[this.targetIndex];this.startTexture||(this.startTexture=f.texture.key,this.startFrame=f.frame.name),s&&f.setTexture(this.startTexture,this.startFrame)},update:function(s){var f=this.tween,c=this.targetIndex,u=f.targets[c];if(!u)return this.setCompleteState(),!1;if(this.isCountdown&&(this.elapsed-=s,this.elapsed<=0&&(this.elapsed=0,s=0,this.isDelayed()?this.setPendingRenderState():this.isRepeating()?(this.setPlayingForwardState(),this.dispatchEvent(l.TWEEN_REPEAT,"onRepeat")):this.isHolding()&&this.setStateFromEnd(0))),this.isPendingRender())return this.startTexture&&u.setTexture(this.startTexture,this.startFrame),this.setPlayingForwardState(),!0;var v=this.isPlayingForward(),p=this.isPlayingBackward();if(v||p){var m=this.elapsed,g=this.duration,C=0,M=!1;m+=s,m>=g?(C=m-g,m=g,M=!0):m<0&&(m=0);var b=x(m/g,0,1);this.elapsed=m,this.progress=b,M&&(v?(u.setTexture(this.endTexture,this.endFrame),this.hold>0?(this.elapsed=this.hold,this.setHoldState()):this.setStateFromEnd(C)):(u.setTexture(this.startTexture,this.startFrame),this.setStateFromStart(C))),this.dispatchEvent(l.TWEEN_UPDATE,"onUpdate")}return!this.isComplete()},dispatchEvent:function(s,f){var c=this.tween;if(!c.isSeeking){var u=c.targets[this.targetIndex],v=this.key;c.emit(s,c,v,u);var p=c.callbacks[f];p&&p.func.apply(c.callbackScope,[c,u,v].concat(p.params))}},destroy:function(){a.prototype.destroy.call(this),this.startTexture=null,this.endTexture=null,this.startFrame=null,this.endFrame=null}});n.exports=o},86353:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T={CREATED:0,DELAY:2,PENDING_RENDER:4,PLAYING_FORWARD:5,PLAYING_BACKWARD:6,HOLD_DELAY:7,REPEAT_DELAY:8,COMPLETE:9,PENDING:20,ACTIVE:21,LOOP_DELAY:22,COMPLETE_DELAY:23,START_DELAY:24,PENDING_REMOVE:25,REMOVED:26,FINISHED:27,DESTROYED:28,MAX:999999999999};n.exports=T},83419:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */function T(o){return!!o.get&&typeof o.get=="function"||!!o.set&&typeof o.set=="function"}function i(o,s,f){var c=f?o[s]:Object.getOwnPropertyDescriptor(o,s);return!f&&c.value&&typeof c.value=="object"&&(c=c.value),c&&T(c)?(typeof c.enumerable>"u"&&(c.enumerable=!0),typeof c.configurable>"u"&&(c.configurable=!0),c):!1}function a(o,s){var f=Object.getOwnPropertyDescriptor(o,s);return f?(f.value&&typeof f.value=="object"&&(f=f.value),f.configurable===!1):!1}function x(o,s,f,c){for(var u in s)if(s.hasOwnProperty(u)){var v=i(s,u,f);if(v!==!1){var p=c||o;if(a(p.prototype,u)){if(l.ignoreFinals)continue;throw new Error("cannot override final property '"+u+"', set Class.ignoreFinals = true to skip")}Object.defineProperty(o.prototype,u,v)}else o.prototype[u]=s[u]}}function d(o,s){if(s){Array.isArray(s)||(s=[s]);for(var f=0;f<s.length;f++)x(o,s[f].prototype||s[f])}}function l(o){o||(o={});var s,f;if(o.initialize){if(typeof o.initialize!="function")throw new Error("initialize must be a function");s=o.initialize,delete o.initialize}else if(o.Extends){var c=o.Extends;s=function(){c.apply(this,arguments)}}else s=function(){};o.Extends?(s.prototype=Object.create(o.Extends.prototype),s.prototype.constructor=s,f=o.Extends,delete o.Extends):s.prototype.constructor=s;var u=null;return o.Mixins&&(u=o.Mixins,delete o.Mixins),d(s,u),x(s,o,!0,f),s}l.extend=x,l.mixin=d,l.ignoreFinals=!1,n.exports=l},29747:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(){};n.exports=T},20242:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(){return null};n.exports=T},71146:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(i,a,x,d,l){if(l===void 0&&(l=i),x>0){var o=x-i.length;if(o<=0)return null}if(!Array.isArray(a))return i.indexOf(a)===-1?(i.push(a),d&&d.call(l,a),a):null;for(var s=a.length-1;s>=0;)i.indexOf(a[s])!==-1&&a.splice(s,1),s--;if(s=a.length,s===0)return null;x>0&&s>o&&(a.splice(o),s=o);for(var f=0;f<s;f++){var c=a[f];i.push(c),d&&d.call(l,c)}return a};n.exports=T},51067:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(i,a,x,d,l,o){if(x===void 0&&(x=0),o===void 0&&(o=i),d>0){var s=d-i.length;if(s<=0)return null}if(!Array.isArray(a))return i.indexOf(a)===-1?(i.splice(x,0,a),l&&l.call(o,a),a):null;for(var f=a.length-1;f>=0;)i.indexOf(a[f])!==-1&&a.pop(),f--;if(f=a.length,f===0)return null;d>0&&f>s&&(a.splice(s),f=s);for(var c=f-1;c>=0;c--){var u=a[c];i.splice(x,0,u),l&&l.call(o,u)}return a};n.exports=T},66905:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(i,a){var x=i.indexOf(a);return x!==-1&&x<i.length&&(i.splice(x,1),i.push(a)),a};n.exports=T},21612:(n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=i(82011),x=function(d,l,o,s,f){s===void 0&&(s=0),f===void 0&&(f=d.length);var c=0;if(a(d,s,f))for(var u=s;u<f;u++){var v=d[u];v[l]===o&&c++}return c};n.exports=x},95428:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(i,a,x){var d,l=[null];for(d=3;d<arguments.length;d++)l.push(arguments[d]);for(d=0;d<i.length;d++)l[0]=i[d],a.apply(x,l);return i};n.exports=T},36914:(n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=i(82011),x=function(d,l,o,s,f){if(s===void 0&&(s=0),f===void 0&&(f=d.length),a(d,s,f)){var c,u=[null];for(c=5;c<arguments.length;c++)u.push(arguments[c]);for(c=s;c<f;c++)u[0]=d[c],l.apply(o,u)}return d};n.exports=x},81957:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(i,a,x){if(a.length){if(a.length===1)return a[0]}else return NaN;var d=1,l,o;if(x){if(i<a[0][x])return a[0];for(;a[d][x]<i;)d++}else for(;a[d]<i;)d++;return d>a.length&&(d=a.length),x?(l=a[d-1][x],o=a[d][x],o-i<=i-l?a[d]:a[d-1]):(l=a[d-1],o=a[d],o-i<=i-l?o:l)};n.exports=T},43491:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(i,a){a===void 0&&(a=[]);for(var x=0;x<i.length;x++)Array.isArray(i[x])?T(i[x],a):a.push(i[x]);return a};n.exports=T},46710:(n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=i(82011),x=function(d,l,o,s,f){s===void 0&&(s=0),f===void 0&&(f=d.length);var c=[];if(a(d,s,f))for(var u=s;u<f;u++){var v=d[u];(!l||l&&o===void 0&&v.hasOwnProperty(l)||l&&o!==void 0&&v[l]===o)&&c.push(v)}return c};n.exports=x},58731:(n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=i(82011),x=function(d,l,o,s,f){if(s===void 0&&(s=0),f===void 0&&(f=d.length),s!==-1){if(a(d,s,f))for(var c=s;c<f;c++){var u=d[c];if(!l||l&&o===void 0&&u.hasOwnProperty(l)||l&&o!==void 0&&u[l]===o)return u}}else if(a(d,0,f))for(var c=f;c>=0;c--){var u=d[c];if(!l||l&&o===void 0&&u.hasOwnProperty(l)||l&&o!==void 0&&u[l]===o)return u}return null};n.exports=x},26546:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(i,a,x){a===void 0&&(a=0),x===void 0&&(x=i.length);var d=a+Math.floor(Math.random()*x);return i[d]===void 0?null:i[d]};n.exports=T},85835:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(i,a,x){if(a===x)return i;var d=i.indexOf(a),l=i.indexOf(x);if(d<0||l<0)throw new Error("Supplied items must be elements of the same array");return d>l||(i.splice(d,1),l=i.indexOf(x),i.splice(l+1,0,a)),i};n.exports=T},83371:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(i,a,x){if(a===x)return i;var d=i.indexOf(a),l=i.indexOf(x);if(d<0||l<0)throw new Error("Supplied items must be elements of the same array");return d<l||(i.splice(d,1),l===0?i.unshift(a):i.splice(l,0,a)),i};n.exports=T},70864:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(i,a){var x=i.indexOf(a);if(x>0){var d=i[x-1],l=i.indexOf(d);i[x]=d,i[l]=a}return i};n.exports=T},69693:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(i,a,x){var d=i.indexOf(a);if(d===-1||x<0||x>=i.length)throw new Error("Supplied index out of bounds");return d!==x&&(i.splice(d,1),i.splice(x,0,a)),a};n.exports=T},40853:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(i,a){var x=i.indexOf(a);if(x!==-1&&x<i.length-1){var d=i[x+1],l=i.indexOf(d);i[x]=d,i[l]=a}return i};n.exports=T},20283:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(i,a,x,d){var l=[],o,s=!1;if((x||d)&&(s=!0,x||(x=""),d||(d="")),a<i)for(o=i;o>=a;o--)s?l.push(x+o.toString()+d):l.push(o);else for(o=i;o<=a;o++)s?l.push(x+o.toString()+d):l.push(o);return l};n.exports=T},593:(n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=i(2284),x=function(d,l,o){d===void 0&&(d=0),l===void 0&&(l=null),o===void 0&&(o=1),l===null&&(l=d,d=0);for(var s=[],f=Math.max(a((l-d)/(o||1)),0),c=0;c<f;c++)s.push(d),d+=o;return s};n.exports=x},43886:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */function T(x,d,l){var o=x[d];x[d]=x[l],x[l]=o}function i(x,d){return x<d?-1:x>d?1:0}var a=function(x,d,l,o,s){for(l===void 0&&(l=0),o===void 0&&(o=x.length-1),s===void 0&&(s=i);o>l;){if(o-l>600){var f=o-l+1,c=d-l+1,u=Math.log(f),v=.5*Math.exp(2*u/3),p=.5*Math.sqrt(u*v*(f-v)/f)*(c-f/2<0?-1:1),m=Math.max(l,Math.floor(d-c*v/f+p)),g=Math.min(o,Math.floor(d+(f-c)*v/f+p));a(x,d,m,g,s)}var C=x[d],M=l,b=o;for(T(x,l,d),s(x[o],C)>0&&T(x,l,o);M<b;){for(T(x,M,b),M++,b--;s(x[M],C)<0;)M++;for(;s(x[b],C)>0;)b--}s(x[l],C)===0?T(x,l,b):(b++,T(x,b,o)),b<=d&&(l=b+1),d<=b&&(o=b-1)}};n.exports=a},88492:(n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=i(35154),x=i(33680),d=function(o,s,f){for(var c=[],u=0;u<o.length;u++)for(var v=0;v<s.length;v++)for(var p=0;p<f;p++)c.push({a:o[u],b:s[v]});return c},l=function(o,s,f){var c=a(f,"max",0),u=a(f,"qty",1),v=a(f,"random",!1),p=a(f,"randomB",!1),m=a(f,"repeat",0),g=a(f,"yoyo",!1),C=[];if(p&&x(s),m===-1)if(c===0)m=0;else{var M=o.length*s.length*u;g&&(M*=2),m=Math.ceil(c/M)}for(var b=0;b<=m;b++){var w=d(o,s,u);v&&x(w),C=C.concat(w),g&&(w.reverse(),C=C.concat(w))}return c&&C.splice(c),C};n.exports=l},72905:(n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=i(19133),x=function(d,l,o,s){s===void 0&&(s=d);var f;if(!Array.isArray(l))return f=d.indexOf(l),f!==-1?(a(d,f),o&&o.call(s,l),l):null;for(var c=l.length-1,u=[];c>=0;){var v=l[c];f=d.indexOf(v),f!==-1&&(a(d,f),u.push(v),o&&o.call(s,v)),c--}return u};n.exports=x},60248:(n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=i(19133),x=function(d,l,o,s){if(s===void 0&&(s=d),l<0||l>d.length-1)throw new Error("Index out of bounds");var f=a(d,l);return o&&o.call(s,f),f};n.exports=x},81409:(n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=i(82011),x=function(d,l,o,s,f){if(l===void 0&&(l=0),o===void 0&&(o=d.length),f===void 0&&(f=d),a(d,l,o)){var c=o-l,u=d.splice(l,c);if(s)for(var v=0;v<u.length;v++){var p=u[v];s.call(f,p)}return u}else return[]};n.exports=x},31856:(n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=i(19133),x=function(d,l,o){l===void 0&&(l=0),o===void 0&&(o=d.length);var s=l+Math.floor(Math.random()*o);return a(d,s)};n.exports=x},42169:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(i,a,x){var d=i.indexOf(a),l=i.indexOf(x);return d!==-1&&l===-1?(i[d]=x,!0):!1};n.exports=T},86003:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(i,a){a===void 0&&(a=1);for(var x=null,d=0;d<a;d++)x=i.shift(),i.push(x);return x};n.exports=T},49498:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(i,a){a===void 0&&(a=1);for(var x=null,d=0;d<a;d++)x=i.pop(),i.unshift(x);return x};n.exports=T},82011:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(i,a,x,d){var l=i.length;if(a<0||a>=l||a>=x||x>l){if(d)throw new Error("Range Error: Values outside acceptable range");return!1}else return!0};n.exports=T},89545:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(i,a){var x=i.indexOf(a);return x!==-1&&x>0&&(i.splice(x,1),i.unshift(a)),a};n.exports=T},17810:(n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=i(82011),x=function(d,l,o,s,f){if(s===void 0&&(s=0),f===void 0&&(f=d.length),a(d,s,f))for(var c=s;c<f;c++){var u=d[c];u.hasOwnProperty(l)&&(u[l]=o)}return d};n.exports=x},33680:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(i){for(var a=i.length-1;a>0;a--){var x=Math.floor(Math.random()*(a+1)),d=i[a];i[a]=i[x],i[x]=d}return i};n.exports=T},90126:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(i){var a=/\D/g;return i.sort(function(x,d){return parseInt(x.replace(a,""),10)-parseInt(d.replace(a,""),10)}),i};n.exports=T},19133:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(i,a){if(!(a>=i.length)){for(var x=i.length-1,d=i[a],l=a;l<x;l++)i[l]=i[l+1];return i.length=x,d}};n.exports=T},19186:(n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @author       Angry Bytes (and contributors)
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=i(82264);function x(s,f){return String(s).localeCompare(f)}function d(s,f){var c=s.length;if(c<=1)return s;for(var u=new Array(c),v=1;v<c;v*=2){l(s,f,v,u);var p=s;s=u,u=p}return s}function l(s,f,c,u){var v=s.length,p=0,m=c*2,g,C,M,b,w;for(g=0;g<v;g+=m)for(C=g+c,M=C+c,C>v&&(C=v),M>v&&(M=v),b=g,w=C;;)if(b<C&&w<M)f(s[b],s[w])<=0?u[p++]=s[b++]:u[p++]=s[w++];else if(b<C)u[p++]=s[b++];else if(w<M)u[p++]=s[w++];else break}var o=function(s,f){if(f===void 0&&(f=x),!s||s.length<2)return s;if(a.features.stableSort)return s.sort(f);var c=d(s,f);return c!==s&&l(c,null,s.length,s),s};n.exports=o},25630:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(i,a,x){if(a===x)return i;var d=i.indexOf(a),l=i.indexOf(x);if(d<0||l<0)throw new Error("Supplied items must be elements of the same array");return i[d]=x,i[l]=a,i};n.exports=T},37105:(n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports={Matrix:i(54915),Add:i(71146),AddAt:i(51067),BringToTop:i(66905),CountAllMatching:i(21612),Each:i(95428),EachInRange:i(36914),FindClosestInSorted:i(81957),Flatten:i(43491),GetAll:i(46710),GetFirst:i(58731),GetRandom:i(26546),MoveDown:i(70864),MoveTo:i(69693),MoveUp:i(40853),MoveAbove:i(85835),MoveBelow:i(83371),NumberArray:i(20283),NumberArrayStep:i(593),QuickSelect:i(43886),Range:i(88492),Remove:i(72905),RemoveAt:i(60248),RemoveBetween:i(81409),RemoveRandomElement:i(31856),Replace:i(42169),RotateLeft:i(86003),RotateRight:i(49498),SafeRange:i(82011),SendToBack:i(89545),SetAll:i(17810),Shuffle:i(33680),SortByDigits:i(90126),SpliceOne:i(19133),StableSort:i(19186),Swap:i(25630)}},86922:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(i){if(!Array.isArray(i)||!Array.isArray(i[0]))return!1;for(var a=i[0].length,x=1;x<i.length;x++)if(i[x].length!==a)return!1;return!0};n.exports=T},63362:(n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=i(41836),x=i(86922),d=function(l){var o="";if(!x(l))return o;for(var s=0;s<l.length;s++){for(var f=0;f<l[s].length;f++){var c=l[s][f].toString();c!=="undefined"?o+=a(c,2):o+="?",f<l[s].length-1&&(o+=" |")}if(s<l.length-1){o+=`
`;for(var u=0;u<l[s].length;u++)o+="---",u<l[s].length-1&&(o+="+");o+=`
`}}return o};n.exports=d},92598:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(i){return i.reverse()};n.exports=T},21224:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(i){for(var a=0;a<i.length;a++)i[a].reverse();return i};n.exports=T},98717:(n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=i(37829),x=function(d){return a(d,180)};n.exports=x},44657:(n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=i(37829),x=function(d,l){l===void 0&&(l=1);for(var o=0;o<l;o++)d=a(d,90);return d};n.exports=x},37829:(n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=i(86922),x=i(2429),d=function(l,o){if(o===void 0&&(o=90),!a(l))return null;if(typeof o!="string"&&(o=(o%360+360)%360),o===90||o===-270||o==="rotateLeft")l=x(l),l.reverse();else if(o===-90||o===270||o==="rotateRight")l.reverse(),l=x(l);else if(Math.abs(o)===180||o==="rotate180"){for(var s=0;s<l.length;s++)l[s].reverse();l.reverse()}return l};n.exports=d},92632:(n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=i(37829),x=function(d,l){l===void 0&&(l=1);for(var o=0;o<l;o++)d=a(d,-90);return d};n.exports=x},69512:(n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=i(86003),x=i(49498),d=function(l,o,s){if(o===void 0&&(o=0),s===void 0&&(s=0),s!==0&&(s<0?a(l,Math.abs(s)):x(l,s)),o!==0)for(var f=0;f<l.length;f++){var c=l[f];o<0?a(c,Math.abs(o)):x(c,o)}return l};n.exports=d},2429:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(i){for(var a=i.length,x=i[0].length,d=new Array(x),l=0;l<x;l++){d[l]=new Array(a);for(var o=a-1;o>-1;o--)d[l][o]=i[o][l]}return d};n.exports=T},54915:(n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports={CheckMatrix:i(86922),MatrixToString:i(63362),ReverseColumns:i(92598),ReverseRows:i(21224),Rotate180:i(98717),RotateLeft:i(44657),RotateMatrix:i(37829),RotateRight:i(92632),Translate:i(69512),TransposeMatrix:i(2429)}},71334:n=>{/**
 * @author       Niklas von Hertzen (https://github.com/niklasvh/base64-arraybuffer)
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",i=function(a,x){for(var d=new Uint8Array(a),l=d.length,o=x?"data:"+x+";base64,":"",s=0;s<l;s+=3)o+=T[d[s]>>2],o+=T[(d[s]&3)<<4|d[s+1]>>4],o+=T[(d[s+1]&15)<<2|d[s+2]>>6],o+=T[d[s+2]&63];return l%3===2?o=o.substring(0,o.length-1)+"=":l%3===1&&(o=o.substring(0,o.length-2)+"=="),o};n.exports=i},53134:n=>{/**
 * @author       Niklas von Hertzen (https://github.com/niklasvh/base64-arraybuffer)
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */for(var T="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",i=new Uint8Array(256),a=0;a<T.length;a++)i[T.charCodeAt(a)]=a;var x=function(d){d=d.substr(d.indexOf(",")+1);var l=d.length,o=l*.75,s=0,f,c,u,v;d[l-1]==="="&&(o--,d[l-2]==="="&&o--);for(var p=new ArrayBuffer(o),m=new Uint8Array(p),g=0;g<l;g+=4)f=i[d.charCodeAt(g)],c=i[d.charCodeAt(g+1)],u=i[d.charCodeAt(g+2)],v=i[d.charCodeAt(g+3)],m[s++]=f<<2|c>>4,m[s++]=(c&15)<<4|u>>2,m[s++]=(u&3)<<6|v&63;return p};n.exports=x},65839:(n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports={ArrayBufferToBase64:i(71334),Base64ToArrayBuffer:i(53134)}},91799:(n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports={Array:i(37105),Base64:i(65839),Objects:i(1183),String:i(31749),NOOP:i(29747),NULL:i(20242)}},41786:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(i){var a={};for(var x in i)Array.isArray(i[x])?a[x]=i[x].slice(0):a[x]=i[x];return a};n.exports=T},62644:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(i){var a,x,d;if(typeof i!="object"||i===null)return i;a=Array.isArray(i)?[]:{};for(d in i)x=i[d],a[d]=T(x);return a};n.exports=T},79291:(n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=i(41212),x=function(){var d,l,o,s,f,c,u=arguments[0]||{},v=1,p=arguments.length,m=!1;for(typeof u=="boolean"&&(m=u,u=arguments[1]||{},v=2),p===v&&(u=this,--v);v<p;v++)if((d=arguments[v])!=null)for(l in d)o=u[l],s=d[l],u!==s&&(m&&s&&(a(s)||(f=Array.isArray(s)))?(f?(f=!1,c=o&&Array.isArray(o)?o:[]):c=o&&a(o)?o:{},u[l]=x(m,c,s)):s!==void 0&&(u[l]=s));return u};n.exports=x},23568:(n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=i(75508),x=i(35154),d=function(l,o,s){var f=x(l,o,null);if(f===null)return s;if(Array.isArray(f))return a.RND.pick(f);if(typeof f=="object"){if(f.hasOwnProperty("randInt"))return a.RND.integerInRange(f.randInt[0],f.randInt[1]);if(f.hasOwnProperty("randFloat"))return a.RND.realInRange(f.randFloat[0],f.randFloat[1])}else if(typeof f=="function")return f(o);return f};n.exports=d},95540:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(i,a,x){var d=typeof i;return!i||d==="number"||d==="string"?x:i.hasOwnProperty(a)&&i[a]!==void 0?i[a]:x};n.exports=T},82840:(n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=i(35154),x=i(45319),d=function(l,o,s,f,c){c===void 0&&(c=s);var u=a(l,o,c);return x(u,s,f)};n.exports=d},35154:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(i,a,x,d){if(!i&&!d||typeof i=="number")return x;if(i&&i.hasOwnProperty(a))return i[a];if(d&&d.hasOwnProperty(a))return d[a];if(a.indexOf(".")!==-1){for(var l=a.split("."),o=i,s=d,f=x,c=x,u=!0,v=!0,p=0;p<l.length;p++)o&&o.hasOwnProperty(l[p])?(f=o[l[p]],o=o[l[p]]):u=!1,s&&s.hasOwnProperty(l[p])?(c=s[l[p]],s=s[l[p]]):v=!1;return u?f:v?c:x}else return x};n.exports=T},69036:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(i,a){for(var x=0;x<a.length;x++)if(!i.hasOwnProperty(a[x]))return!1;return!0};n.exports=T},1985:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(i,a){for(var x=0;x<a.length;x++)if(i.hasOwnProperty(a[x]))return!0;return!1};n.exports=T},97022:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(i,a){return i.hasOwnProperty(a)};n.exports=T},41212:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(i){if(!i||typeof i!="object"||i.nodeType||i===i.window)return!1;try{if(i.constructor&&!{}.hasOwnProperty.call(i.constructor.prototype,"isPrototypeOf"))return!1}catch{return!1}return!0};n.exports=T},46975:(n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=i(41786),x=function(d,l){var o=a(d);for(var s in l)o.hasOwnProperty(s)||(o[s]=l[s]);return o};n.exports=x},269:(n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=i(41786),x=function(d,l){var o=a(d);for(var s in l)o.hasOwnProperty(s)&&(o[s]=l[s]);return o};n.exports=x},18254:(n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var a=i(97022),x=function(d,l){for(var o={},s=0;s<l.length;s++){var f=l[s];a(d,f)&&(o[f]=d[f])}return o};n.exports=x},61622:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(i,a,x){if(!i||typeof i=="number")return!1;if(i.hasOwnProperty(a))return i[a]=x,!0;if(a.indexOf(".")!==-1){for(var d=a.split("."),l=i,o=i,s=0;s<d.length;s++)if(l.hasOwnProperty(d[s]))o=l,l=l[d[s]];else return!1;return o[d[d.length-1]]=x,!0}return!1};n.exports=T},1183:(n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports={Clone:i(41786),DeepCopy:i(62644),Extend:i(79291),GetAdvancedValue:i(23568),GetFastValue:i(95540),GetMinMaxValue:i(82840),GetValue:i(35154),HasAll:i(69036),HasAny:i(1985),HasValue:i(97022),IsPlainObject:i(41212),Merge:i(46975),MergeRight:i(269),Pick:i(18254),SetValue:i(61622)}},27902:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(i,a){return i.replace(/%([0-9]+)/g,function(x,d){return a[Number(d)-1]})};n.exports=T},41836:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(i,a,x,d){a===void 0&&(a=0),x===void 0&&(x=" "),d===void 0&&(d=3),i=i.toString();var l=0;if(a+1>=i.length)switch(d){case 1:i=new Array(a+1-i.length).join(x)+i;break;case 3:var o=Math.ceil((l=a-i.length)/2),s=l-o;i=new Array(s+1).join(x)+i+new Array(o+1).join(x);break;default:i=i+new Array(a+1-i.length).join(x);break}return i};n.exports=T},33628:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(i,a){return a===0?i.slice(1):i.slice(0,a)+i.slice(a+1)};n.exports=T},27671:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(i){return i.split("").reverse().join("")};n.exports=T},45650:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(i){var a=Math.random()*16|0,x=i==="x"?a:a&3|8;return x.toString(16)})};n.exports=T},35355:n=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(i){return i&&i[0].toUpperCase()+i.slice(1)};n.exports=T},31749:(n,T,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */n.exports={Format:i(27902),Pad:i(41836),RemoveAt:i(33628),Reverse:i(27671),UppercaseFirst:i(35355),UUID:i(45650)}}},h={};function y(n){var T=h[n];if(T!==void 0)return T.exports;var i=h[n]={exports:{}};return r[n](i,i.exports,y),i.exports}y.g=function(){if(typeof globalThis=="object")return globalThis;try{return this||new Function("return this")()}catch{if(typeof window=="object")return window}}();var P=y(85454);return P})())})(b3);var kv=b3.exports;const Si=cP(kv),vO=500,br=class br{};we(br,"IS_DEV",!0),we(br,"USE_MOCK_CONTROLLER",!0),we(br,"API_URL",""),we(br,"CLIENT_URL"),we(br,"APP_URL"),we(br,"PLATFORM","tg"),we(br,"AMPLITUDE_TOKEN",""),we(br,"APP_UUID","6b1b173a-0222-481b-8dc2-3827e8c1ef18"),we(br,"DEVICE_PIXEL_RATIO",window.devicePixelRatio||1),we(br,"DISPLAY_WIDTH",window.innerWidth>vO?vO:window.innerWidth*br.DEVICE_PIXEL_RATIO),we(br,"DISPLAY_HEIGHT",window.innerHeight*br.DEVICE_PIXEL_RATIO),we(br,"BACKGROUND_COLOR","0x0e1621"),we(br,"BASE_WIDTH",1080),we(br,"BASE_HEIGHT",1920),we(br,"BASE_TIME_VIBRATE",100);let su=br;const yV="Boot",w3="Preloader",CV="Error",R3="Fortune";function Zh(e,t,r){const h=r.value;r.value=async function(...y){const P=`${e.constructor.name}.${t}`;console.log(`Calling method: ${P}`),console.time(`time_${P}`);const n=await h.apply(this,y);return console.timeEnd(`time_${P}`),n}}class SV{}class TV extends SV{constructor(){super()}async getProfile(){return{id:"id",createdAt:new Date,updatedAt:new Date,lastFreeCrediting:new Date(Date.now()-86385e3).toISOString(),balance:1}}async getPrediction(){return{id:"id",text:"Скоро в вашу жизнь войдет нечто прекрасное. Будьте готовы!"}}async getFreeEssence(){await new Promise(t=>setTimeout(t,3e3))}async getStoryPath(t){return{url:"/assets/stories/01960fb0-4bbb-74dd-b1e9-4e8f65917e21.jpg",id:t}}setLastLogin(){return Promise.resolve()}}var A3={},_0={};(function(){var e={},t="";try{t=location.hash.toString()}catch{}var r=i(t),h=u("initParams");if(h)for(var y in h)typeof r[y]>"u"&&(r[y]=h[y]);c("initParams",r);var P=!1,n;try{if(P=window.parent!=null&&window!=window.parent,P){window.addEventListener("message",function(v){if(v.source===window.parent){try{var p=JSON.parse(v.data)}catch{return}if(!(!p||!p.eventType))if(p.eventType=="set_custom_style")v.origin==="https://web.telegram.org"&&(n.innerHTML=p.eventData);else if(p.eventType=="reload_iframe"){try{window.parent.postMessage(JSON.stringify({eventType:"iframe_will_reload"}),"*")}catch{}location.reload()}else l(p.eventType,p.eventData)}}),n=document.createElement("style"),document.head.appendChild(n);try{window.parent.postMessage(JSON.stringify({eventType:"iframe_ready",eventData:{reload_supported:!0}}),"*")}catch{}}}catch{}function T(v){try{return v=v.replace(/\+/g,"%20"),decodeURIComponent(v)}catch{return v}}function i(v){v=v.replace(/^#/,"");var p={};if(!v.length)return p;if(v.indexOf("=")<0&&v.indexOf("?")<0)return p._path=T(v),p;var m=v.indexOf("?");if(m>=0){var g=v.substr(0,m);p._path=T(g),v=v.substr(m+1)}var C=a(v);for(var M in C)p[M]=C[M];return p}function a(v){var p={};if(!v.length)return p;var m=v.split("&"),g,C,M,b;for(g=0;g<m.length;g++)C=m[g].split("="),M=T(C[0]),b=C[1]==null?null:T(C[1]),p[M]=b;return p}function x(v,p){var m=v.indexOf("#");if(m<0)return v+"#"+p;var g=v.substr(m+1);return g.indexOf("=")>=0||g.indexOf("?")>=0?v+"&"+p:g.length>0?v+"?"+p:v+p}function d(v,p,m){if(p||(p=function(){}),m===void 0&&(m=""),console.log("[Telegram.WebView] > postEvent",v,m),window.TelegramWebviewProxy!==void 0)TelegramWebviewProxy.postEvent(v,JSON.stringify(m)),p();else if(window.external&&"notify"in window.external)window.external.notify(JSON.stringify({eventType:v,eventData:m})),p();else if(P)try{var g="https://web.telegram.org";g="*",window.parent.postMessage(JSON.stringify({eventType:v,eventData:m}),g),p()}catch(C){p(C)}else p({notAvailable:!0})}function l(v,p){console.log("[Telegram.WebView] < receiveEvent",v,p),o(v,function(m){m(v,p)})}function o(v,p){var m=e[v];if(!(m===void 0||!m.length))for(var g=0;g<m.length;g++)try{p(m[g])}catch{}}function s(v,p){e[v]===void 0&&(e[v]=[]);var m=e[v].indexOf(p);m===-1&&e[v].push(p)}function f(v,p){if(e[v]!==void 0){var m=e[v].indexOf(p);m!==-1&&e[v].splice(m,1)}}function c(v,p){try{return window.sessionStorage.setItem("__telegram__"+v,JSON.stringify(p)),!0}catch{}return!1}function u(v){try{return JSON.parse(window.sessionStorage.getItem("__telegram__"+v))}catch{}return null}window.Telegram||(window.Telegram={}),window.Telegram.WebView={initParams:r,isIframe:P,onEvent:s,offEvent:f,postEvent:d,receiveEvent:l,callEventCallbacks:o},window.Telegram.Utils={urlSafeDecode:T,urlParseQueryString:a,urlParseHashParams:i,urlAppendHashParams:x,sessionStorageSet:c,sessionStorageGet:u},window.TelegramGameProxy_receiveEvent=l,window.TelegramGameProxy={receiveEvent:l}})();(function(){var e=window.Telegram.Utils,t=window.Telegram.WebView,r=t.initParams,h=t.isIframe,y={},P="",n={},T={},i="light",a="6.0",x="unknown",d=!0,l=!1,o=!1,s="bg_color",f="bg_color",c=null;if(r.tgWebAppData&&r.tgWebAppData.length){P=r.tgWebAppData,n=e.urlParseQueryString(P);for(var u in n){var v=n[u];try{(v.substr(0,1)=="{"&&v.substr(-1)=="}"||v.substr(0,1)=="["&&v.substr(-1)=="]")&&(n[u]=JSON.parse(v))}catch{}}}var p=e.sessionStorageGet("themeParams");if(r.tgWebAppThemeParams&&r.tgWebAppThemeParams.length){var m=r.tgWebAppThemeParams;try{var g=JSON.parse(m);g&&U(g)}catch{}}p&&U(p);var C=e.sessionStorageGet("defaultColors");if(r.tgWebAppDefaultColors&&r.tgWebAppDefaultColors.length){var M=r.tgWebAppDefaultColors;try{var b=JSON.parse(M);b&&K(b)}catch{}}C&&K(C),r.tgWebAppVersion&&(a=r.tgWebAppVersion),r.tgWebAppPlatform&&(x=r.tgWebAppPlatform);var w=e.sessionStorageGet("isFullscreen");r.tgWebAppFullscreen&&$(!0),w&&$(w=="yes");var R=e.sessionStorageGet("isOrientationLocked");R&&V(R=="yes");function A(st,ht){ht.theme_params&&(U(ht.theme_params),window.Telegram.WebApp.MainButton.setParams({}),window.Telegram.WebApp.SecondaryButton.setParams({}),Ui(),mn(),zs(),H("themeChanged"))}var L=window.innerHeight;function D(st,ht){ht.height&&(window.removeEventListener("resize",G),ft(ht))}function G(st){L!=window.innerHeight&&(L=window.innerHeight,H("viewportChanged",{isStateStable:!0}))}function B(st,ht){ht&&gt(ht)}function I(st,ht){ht&&Mt(ht)}function k(st,ht){ht.is_visible?(d=!0,H("activated")):(d=!1,H("deactivated"))}function z(st){if(!(st.metaKey||st.ctrlKey)){for(var ht=st.target;ht.tagName!="A"&&ht.parentNode;)ht=ht.parentNode;ht.tagName=="A"&&ht.target!="_blank"&&(ht.protocol=="http:"||ht.protocol=="https:")&&ht.hostname=="t.me"&&(y.openTgLink(ht.href),st.preventDefault())}}function X(st){return st.toString().replace(/^\s+|\s+$/g,"")}function H(st){var ht=Array.prototype.slice.call(arguments);st=ht.shift(),t.callEventCallbacks("webview:"+st,function(dt){dt.apply(y,ht)})}function Q(st,ht){t.onEvent("webview:"+st,ht)}function J(st,ht){t.offEvent("webview:"+st,ht)}function Y(st,ht){var dt=document.documentElement;dt&&dt.style&&dt.style.setProperty&&dt.style.setProperty("--tg-"+st,ht)}function $(st){l=!!st,e.sessionStorageSet("isFullscreen",l?"yes":"no")}function V(st){o=!!st,e.sessionStorageSet("isOrientationLocked",o?"yes":"no")}function U(st){st.bg_color=="#1c1c1d"&&st.bg_color==st.secondary_bg_color&&(st.secondary_bg_color="#2c2c2e");var ht;for(var dt in st)(ht=rn(st[dt]))&&(T[dt]=ht,dt=="bg_color"&&(i=Ca(ht)?"dark":"light",Y("color-scheme",i)),dt="theme-"+dt.split("_").join("-"),Y(dt,ht));e.sessionStorageSet("themeParams",T)}function K(st){i=="dark"?(st.bg_dark_color&&(s=st.bg_dark_color),st.header_dark_color&&(f=null,c=st.header_dark_color)):(st.bg_color&&(s=st.bg_color),st.header_color&&(f=null,c=st.header_color)),e.sessionStorageSet("defaultColors",st)}var j={};function _(st){for(var ht=100;--ht;){for(var dt="",Tt="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789",wt=Tt.length,$t=0;$t<st;$t++)dt+=Tt[Math.floor(Math.random()*wt)];if(!j[dt])return j[dt]={},dt}throw Error("WebAppCallbackIdGenerateFailed")}var tt=!1,rt=!1,ot=!0;function ft(st){typeof st<"u"&&(ot=!!st.is_expanded,tt=st.height,st.is_state_stable&&(rt=st.height),H("viewportChanged",{isStateStable:!!st.is_state_stable}));var ht,dt;tt!==!1?ht=tt-ue+"px":ht=ue?"calc(100vh - "+ue+"px)":"100vh",rt!==!1?dt=rt-ue+"px":dt=ue?"calc(100vh - "+ue+"px)":"100vh",Y("viewport-height",ht),Y("viewport-stable-height",dt)}var ct={top:0,bottom:0,left:0,right:0};function gt(st){typeof st<"u"&&(typeof st.top<"u"&&(ct.top=st.top),typeof st.bottom<"u"&&(ct.bottom=st.bottom),typeof st.left<"u"&&(ct.left=st.left),typeof st.right<"u"&&(ct.right=st.right),H("safeAreaChanged")),Y("safe-area-inset-top",ct.top+"px"),Y("safe-area-inset-bottom",ct.bottom+"px"),Y("safe-area-inset-left",ct.left+"px"),Y("safe-area-inset-right",ct.right+"px")}var yt={top:0,bottom:0,left:0,right:0};function Mt(st){typeof st<"u"&&(typeof st.top<"u"&&(yt.top=st.top),typeof st.bottom<"u"&&(yt.bottom=st.bottom),typeof st.left<"u"&&(yt.left=st.left),typeof st.right<"u"&&(yt.right=st.right),H("contentSafeAreaChanged")),Y("content-safe-area-inset-top",yt.top+"px"),Y("content-safe-area-inset-bottom",yt.bottom+"px"),Y("content-safe-area-inset-left",yt.left+"px"),Y("content-safe-area-inset-right",yt.right+"px")}var Ct=!1;function Wt(st){if(!Me("6.2")){console.warn("[Telegram.WebApp] Closing confirmation is not supported in version "+a);return}Ct=!!st,t.postEvent("web_app_setup_closing_behavior",!1,{need_confirmation:Ct})}var Yt=!0;function Ht(st){if(!Me("7.7")){console.warn("[Telegram.WebApp] Changing swipes behavior is not supported in version "+a);return}Yt=!!st,t.postEvent("web_app_setup_swipe_behavior",!1,{allow_vertical_swipe:Yt})}function bt(st,ht){$(ht.is_fullscreen),H("fullscreenChanged")}function kt(st,ht){ht.error=="ALREADY_FULLSCREEN"&&!l&&$(!0),H("fullscreenFailed",{error:ht.error})}function zt(st){if(!Me("8.0")){console.warn("[Telegram.WebApp] Orientation locking is not supported in version "+a);return}V(st),t.postEvent("web_app_toggle_orientation_lock",!1,{locked:o})}var jt=[];function fe(st,ht){H("homeScreenAdded")}function xe(st,ht){var dt=ht.status||"unknown";if(jt.length>0){for(var Tt=0;Tt<jt.length;Tt++){var wt=jt[Tt];wt(dt)}jt=[]}H("homeScreenChecked",{status:dt})}var le=!1;function Ee(st,ht){if(le){var dt=le;le=!1,dt.callback&&dt.callback(!0),H("shareMessageSent")}}function Qe(st,ht){if(le){var dt=le;le=!1,dt.callback&&dt.callback(!1),H("shareMessageFailed",{error:ht.error})}}var Bt=!1;function Ut(st,ht){if(Bt){var dt=Bt;Bt=!1,dt.callback&&dt.callback(!0),H("emojiStatusSet")}}function te(st,ht){if(Bt){var dt=Bt;Bt=!1,dt.callback&&dt.callback(!1),H("emojiStatusFailed",{error:ht.error})}}var ce=!1;function Pe(st,ht){if(ce){var dt=ce;ce=!1,dt.callback&&dt.callback(ht.status=="allowed"),H("emojiStatusAccessRequested",{status:ht.status})}}var Ar=!1;function yi(){return f=="secondary_bg_color"?T.secondary_bg_color:f=="bg_color"?T.bg_color:c}function fi(st){if(!Me("6.1")){console.warn("[Telegram.WebApp] Header color is not supported in version "+a);return}Me("6.9")||(T.bg_color&&T.bg_color==st?st="bg_color":T.secondary_bg_color&&T.secondary_bg_color==st&&(st="secondary_bg_color"));var ht=null,dt=null;if(st=="bg_color"||st=="secondary_bg_color")dt=st;else if(Me("6.9")&&(ht=rn(st),!ht))throw console.error("[Telegram.WebApp] Header color format is invalid",st),Error("WebAppHeaderColorInvalid");if(!Me("6.9")&&dt!="bg_color"&&dt!="secondary_bg_color")throw console.error("[Telegram.WebApp] Header color key should be one of Telegram.WebApp.themeParams.bg_color, Telegram.WebApp.themeParams.secondary_bg_color, 'bg_color', 'secondary_bg_color'",st),Error("WebAppHeaderColorKeyInvalid");f=dt,c=ht,Ui()}var Ai=null,qe=null;function Ui(){(Ai!=f||qe!=c)&&(Ai=f,qe=c,qe?t.postEvent("web_app_set_header_color",!1,{color:c}):t.postEvent("web_app_set_header_color",!1,{color_key:f}))}function wi(){return s=="secondary_bg_color"?T.secondary_bg_color:s=="bg_color"?T.bg_color:s}function Oi(st){if(!Me("6.1")){console.warn("[Telegram.WebApp] Background color is not supported in version "+a);return}var ht;if(st=="bg_color"||st=="secondary_bg_color")ht=st;else if(ht=rn(st),!ht)throw console.error("[Telegram.WebApp] Background color format is invalid",st),Error("WebAppBackgroundColorInvalid");s=ht,mn()}var Wn=null;function mn(){var st=wi();Wn!=st&&(Wn=st,t.postEvent("web_app_set_background_color",!1,{color:st}))}var Yn="bottom_bar_bg_color";function ps(){return Yn=="bottom_bar_bg_color"?T.bottom_bar_bg_color||T.secondary_bg_color||"#ffffff":Yn=="secondary_bg_color"?T.secondary_bg_color:Yn=="bg_color"?T.bg_color:Yn}function _h(st){if(!Me("7.10")){console.warn("[Telegram.WebApp] Bottom bar color is not supported in version "+a);return}var ht;if(st=="bg_color"||st=="secondary_bg_color"||st=="bottom_bar_bg_color")ht=st;else if(ht=rn(st),!ht)throw console.error("[Telegram.WebApp] Bottom bar color format is invalid",st),Error("WebAppBottomBarColorInvalid");Yn=ht,zs(),window.Telegram.WebApp.SecondaryButton.setParams({})}var ya=null;function zs(){var st=ps();ya!=st&&(ya=st,t.postEvent("web_app_set_bottom_bar_color",!1,{color:st})),r.tgWebAppDebug&&ke()}function rn(st){st+="";var ht;if(ht=/^\s*#([0-9a-f]{6})\s*$/i.exec(st))return"#"+ht[1].toLowerCase();if(ht=/^\s*#([0-9a-f])([0-9a-f])([0-9a-f])\s*$/i.exec(st))return("#"+ht[1]+ht[1]+ht[2]+ht[2]+ht[3]+ht[3]).toLowerCase();if(ht=/^\s*rgba?\((\d+),\s*(\d+),\s*(\d+)(?:,\s*(\d+\.{0,1}\d*))?\)\s*$/.exec(st)){var dt=parseInt(ht[1]),Tt=parseInt(ht[2]),wt=parseInt(ht[3]);return dt=(dt<16?"0":"")+dt.toString(16),Tt=(Tt<16?"0":"")+Tt.toString(16),wt=(wt<16?"0":"")+wt.toString(16),"#"+dt+Tt+wt}return!1}function Ca(st){st=st.replace(/[\s#]/g,""),st.length==3&&(st=st[0]+st[0]+st[1]+st[1]+st[2]+st[2]);var ht=parseInt(st.substr(0,2),16),dt=parseInt(st.substr(2,2),16),Tt=parseInt(st.substr(4,2),16),wt=Math.sqrt(.299*(ht*ht)+.587*(dt*dt)+.114*(Tt*Tt));return wt<120}function Us(st,ht){typeof st!="string"&&(st=""),typeof ht!="string"&&(ht=""),st=st.replace(/^\s+|\s+$/g,"").split("."),ht=ht.replace(/^\s+|\s+$/g,"").split(".");var dt=Math.max(st.length,ht.length),Tt,wt,$t;for(Tt=0;Tt<dt;Tt++)if(wt=parseInt(st[Tt])||0,$t=parseInt(ht[Tt])||0,wt!=$t)return wt>$t?1:-1;return 0}function Me(st){return Us(a,st)>=0}function Xn(st){if(window.Blob)try{return new Blob([st]).size}catch{}for(var ht=st.length,dt=st.length-1;dt>=0;dt--){var Tt=st.charCodeAt(dt);Tt>127&&Tt<=2047?ht++:Tt>2047&&Tt<=65535&&(ht+=2),Tt>=56320&&Tt<=57343&&dt--}return ht}var ut=function(){var st=!1,ht={};Object.defineProperty(ht,"isVisible",{set:function(ve){He({is_visible:ve})},get:function(){return st},enumerable:!0});var dt=null;t.onEvent("back_button_pressed",Tt);function Tt(){H("backButtonClicked")}function wt(){return{is_visible:st}}function $t(ve){return typeof ve>"u"&&(ve=wt()),JSON.stringify(ve)}function oe(){return Me("6.1")?!0:(console.warn("[Telegram.WebApp] BackButton is not supported in version "+a),!1)}function re(){var ve=wt(),ee=$t(ve);dt!==ee&&(dt=ee,t.postEvent("web_app_setup_back_button",!1,ve))}function He(ve){return oe()&&(typeof ve.is_visible<"u"&&(st=!!ve.is_visible),re()),ht}return ht.onClick=function(ve){return oe()&&Q("backButtonClicked",ve),ht},ht.offClick=function(ve){return oe()&&J("backButtonClicked",ve),ht},ht.show=function(){return He({is_visible:!0})},ht.hide=function(){return He({is_visible:!1})},ht}(),Gt=null,Kt={},ue=0;if(r.tgWebAppDebug){Gt=document.createElement("tg-bottom-bar");var je={display:"flex",gap:"7px",font:"600 14px/18px sans-serif",width:"100%",background:ps(),position:"fixed",left:"0",right:"0",bottom:"0",margin:"0",padding:"7px",textAlign:"center",boxSizing:"border-box",zIndex:"10000"};for(var be in je)Gt.style[be]=je[be];document.addEventListener("DOMContentLoaded",function st(ht){document.removeEventListener("DOMContentLoaded",st),document.body.appendChild(Gt)});var Ve=document.createElement("style");Ve.innerHTML='tg-bottom-button.shine { position: relative; overflow: hidden; } tg-bottom-button.shine:before { content:""; position: absolute; top: 0; width: 100%; height: 100%; background: linear-gradient(120deg, transparent, rgba(255, 255, 255, .2), transparent); animation: tg-bottom-button-shine 5s ease-in-out infinite; } @-webkit-keyframes tg-bottom-button-shine { 0% {left: -100%;} 12%,100% {left: 100%}} @keyframes tg-bottom-button-shine { 0% {left: -100%;} 12%,100% {left: 100%}}',Gt.appendChild(Ve)}function ke(){var st=Kt.main._bottomButton,ht=Kt.secondary._bottomButton;st.isVisible||ht.isVisible?(Gt.style.display="flex",ue=58,st.isVisible&&ht.isVisible&&(ht.position=="top"?(Gt.style.flexDirection="column-reverse",ue+=51):ht.position=="bottom"?(Gt.style.flexDirection="column",ue+=51):ht.position=="left"?Gt.style.flexDirection="row-reverse":ht.position=="right"&&(Gt.style.flexDirection="row"))):(Gt.style.display="none",ue=0),Gt.style.background=ps(),document.documentElement&&(document.documentElement.style.boxSizing="border-box",document.documentElement.style.paddingBottom=ue+"px"),ft()}var Ii=function(st){var ht=st=="main";if(ht)var dt="web_app_setup_main_button",Tt="main_button_pressed",wt="mainButtonClicked",$t="Continue",oe=function(){return T.button_color||"#2481cc"},re=function(){return T.button_text_color||"#ffffff"};else var dt="web_app_setup_secondary_button",Tt="secondary_button_pressed",wt="secondaryButtonClicked",$t="Cancel",oe=function(){return ps()},re=function(){return T.button_color||"#2481cc"};var He=!1,ve=!0,ee=!1,ai=!1,Ne=st,Dt=$t,se=!1,he=!1,Ri="left",ae={};Object.defineProperty(ae,"type",{get:function(){return Ne},enumerable:!0}),Object.defineProperty(ae,"text",{set:function(Qt){ae.setParams({text:Qt})},get:function(){return Dt},enumerable:!0}),Object.defineProperty(ae,"color",{set:function(Qt){ae.setParams({color:Qt})},get:function(){return se||oe()},enumerable:!0}),Object.defineProperty(ae,"textColor",{set:function(Qt){ae.setParams({text_color:Qt})},get:function(){return he||re()},enumerable:!0}),Object.defineProperty(ae,"isVisible",{set:function(Qt){ae.setParams({is_visible:Qt})},get:function(){return He},enumerable:!0}),Object.defineProperty(ae,"isProgressVisible",{get:function(){return ai},enumerable:!0}),Object.defineProperty(ae,"isActive",{set:function(Qt){ae.setParams({is_active:Qt})},get:function(){return ve},enumerable:!0}),Object.defineProperty(ae,"hasShineEffect",{set:function(Qt){ae.setParams({has_shine_effect:Qt})},get:function(){return ee},enumerable:!0}),ht||Object.defineProperty(ae,"position",{set:function(Qt){ae.setParams({position:Qt})},get:function(){return Ri},enumerable:!0});var ki=null;t.onEvent(Tt,nn);var Se=null;if(r.tgWebAppDebug){Se=document.createElement("tg-bottom-button");var Ye={display:"none",width:"100%",height:"44px",borderRadius:"0",background:"no-repeat right center",padding:"13px 15px",textAlign:"center",boxSizing:"border-box"};for(var Jn in Ye)Se.style[Jn]=Ye[Jn];Gt.appendChild(Se),Se.addEventListener("click",nn,!1),Se._bottomButton=ae,Kt[st]=Se}function nn(){ve&&H(wt)}function Vr(){var Qt=ae.color,Or=ae.textColor;if(He){var Ys={is_visible:!0,is_active:ve,is_progress_visible:ai,text:Dt,color:Qt,text_color:Or,has_shine_effect:ee&&ve&&!ai};ht||(Ys.position=Ri)}else var Ys={is_visible:!1};return Ys}function ms(Qt){return typeof Qt>"u"&&(Qt=Vr()),JSON.stringify(Qt)}function al(){var Qt=Vr(),Or=ms(Qt);ki!==Or&&(ki=Or,t.postEvent(dt,!1,Qt),r.tgWebAppDebug&&Zo(Qt))}function Zo(Qt){Qt.is_visible?(Se.style.display="block",Se.style.opacity=Qt.is_active?"1":"0.8",Se.style.cursor=Qt.is_active?"pointer":"auto",Se.disabled=!Qt.is_active,Se.innerText=Qt.text,Se.className=Qt.has_shine_effect?"shine":"",Se.style.backgroundImage=Qt.is_progress_visible?"url('data:image/svg+xml,"+encodeURIComponent('<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" viewport="0 0 48 48" width="48px" height="48px"><circle cx="50%" cy="50%" stroke="'+Qt.text_color+'" stroke-width="2.25" stroke-linecap="round" fill="none" stroke-dashoffset="106" r="9" stroke-dasharray="56.52" rotate="-90"><animate attributeName="stroke-dashoffset" attributeType="XML" dur="360s" from="0" to="12500" repeatCount="indefinite"></animate><animateTransform attributeName="transform" attributeType="XML" type="rotate" dur="1s" from="-90 24 24" to="630 24 24" repeatCount="indefinite"></animateTransform></circle></svg>')+"')":"none",Se.style.backgroundColor=Qt.color,Se.style.color=Qt.text_color):Se.style.display="none",ke()}function eo(Qt){if(typeof Qt.text<"u"){var Or=X(Qt.text);if(!Or.length)throw console.error("[Telegram.WebApp] Bottom button text is required",Qt.text),Error("WebAppBottomButtonParamInvalid");if(Or.length>64)throw console.error("[Telegram.WebApp] Bottom button text is too long",Or),Error("WebAppBottomButtonParamInvalid");Dt=Or}if(typeof Qt.color<"u")if(Qt.color===!1||Qt.color===null)se=!1;else{var Ys=rn(Qt.color);if(!Ys)throw console.error("[Telegram.WebApp] Bottom button color format is invalid",Qt.color),Error("WebAppBottomButtonParamInvalid");se=Ys}if(typeof Qt.text_color<"u")if(Qt.text_color===!1||Qt.text_color===null)he=!1;else{var ol=rn(Qt.text_color);if(!ol)throw console.error("[Telegram.WebApp] Bottom button text color format is invalid",Qt.text_color),Error("WebAppBottomButtonParamInvalid");he=ol}if(typeof Qt.is_visible<"u"){if(Qt.is_visible&&!ae.text.length)throw console.error("[Telegram.WebApp] Bottom button text is required"),Error("WebAppBottomButtonParamInvalid");He=!!Qt.is_visible}if(typeof Qt.has_shine_effect<"u"&&(ee=!!Qt.has_shine_effect),!ht&&typeof Qt.position<"u"){if(Qt.position!="left"&&Qt.position!="right"&&Qt.position!="top"&&Qt.position!="bottom")throw console.error("[Telegram.WebApp] Bottom button posiition is invalid",Qt.position),Error("WebAppBottomButtonParamInvalid");Ri=Qt.position}return typeof Qt.is_active<"u"&&(ve=!!Qt.is_active),al(),ae}return ae.setText=function(Qt){return ae.setParams({text:Qt})},ae.onClick=function(Qt){return Q(wt,Qt),ae},ae.offClick=function(Qt){return J(wt,Qt),ae},ae.show=function(){return ae.setParams({is_visible:!0})},ae.hide=function(){return ae.setParams({is_visible:!1})},ae.enable=function(){return ae.setParams({is_active:!0})},ae.disable=function(){return ae.setParams({is_active:!1})},ae.showProgress=function(Qt){return ve=!!Qt,ai=!0,al(),ae},ae.hideProgress=function(){return ae.isActive||(ve=!0),ai=!1,al(),ae},ae.setParams=eo,ae},Ze=Ii("main"),Gi=Ii("secondary"),pr=function(){var st=!1,ht={};Object.defineProperty(ht,"isVisible",{set:function(ve){He({is_visible:ve})},get:function(){return st},enumerable:!0});var dt=null;t.onEvent("settings_button_pressed",Tt);function Tt(){H("settingsButtonClicked")}function wt(){return{is_visible:st}}function $t(ve){return typeof ve>"u"&&(ve=wt()),JSON.stringify(ve)}function oe(){return Me("6.10")?!0:(console.warn("[Telegram.WebApp] SettingsButton is not supported in version "+a),!1)}function re(){var ve=wt(),ee=$t(ve);dt!==ee&&(dt=ee,t.postEvent("web_app_setup_settings_button",!1,ve))}function He(ve){return oe()&&(typeof ve.is_visible<"u"&&(st=!!ve.is_visible),re()),ht}return ht.onClick=function(ve){return oe()&&Q("settingsButtonClicked",ve),ht},ht.offClick=function(ve){return oe()&&J("settingsButtonClicked",ve),ht},ht.show=function(){return He({is_visible:!0})},ht.hide=function(){return He({is_visible:!1})},ht}(),Hn=function(){var st={};function ht(dt){if(!Me("6.1"))return console.warn("[Telegram.WebApp] HapticFeedback is not supported in version "+a),st;if(dt.type=="impact"){if(dt.impact_style!="light"&&dt.impact_style!="medium"&&dt.impact_style!="heavy"&&dt.impact_style!="rigid"&&dt.impact_style!="soft")throw console.error("[Telegram.WebApp] Haptic impact style is invalid",dt.impact_style),Error("WebAppHapticImpactStyleInvalid")}else if(dt.type=="notification"){if(dt.notification_type!="error"&&dt.notification_type!="success"&&dt.notification_type!="warning")throw console.error("[Telegram.WebApp] Haptic notification type is invalid",dt.notification_type),Error("WebAppHapticNotificationTypeInvalid")}else if(dt.type!="selection_change")throw console.error("[Telegram.WebApp] Haptic feedback type is invalid",dt.type),Error("WebAppHapticFeedbackTypeInvalid");return t.postEvent("web_app_trigger_haptic_feedback",!1,dt),st}return st.impactOccurred=function(dt){return ht({type:"impact",impact_style:dt})},st.notificationOccurred=function(dt){return ht({type:"notification",notification_type:dt})},st.selectionChanged=function(){return ht({type:"selection_change"})},st}(),$n=function(){var st={};function ht(dt,Tt,wt){if(!Me("6.9"))throw console.error("[Telegram.WebApp] CloudStorage is not supported in version "+a),Error("WebAppMethodUnsupported");return gs(dt,Tt,wt),st}return st.setItem=function(dt,Tt,wt){return ht("saveStorageValue",{key:dt,value:Tt},wt)},st.getItem=function(dt,Tt){return st.getItems([dt],Tt?function(wt,$t){wt?Tt(wt):Tt(null,$t[dt])}:null)},st.getItems=function(dt,Tt){return ht("getStorageValues",{keys:dt},Tt)},st.removeItem=function(dt,Tt){return st.removeItems([dt],Tt)},st.removeItems=function(dt,Tt){return ht("deleteStorageValues",{keys:dt},Tt)},st.getKeys=function(dt){return ht("getStorageKeys",{},dt)},st}(),lr=function(){var st=!1,ht=!1,dt="unknown",Tt=!1,wt=!1,$t=!1,oe="",re={};Object.defineProperty(re,"isInited",{get:function(){return st},enumerable:!0}),Object.defineProperty(re,"isBiometricAvailable",{get:function(){return st&&ht},enumerable:!0}),Object.defineProperty(re,"biometricType",{get:function(){return dt||"unknown"},enumerable:!0}),Object.defineProperty(re,"isAccessRequested",{get:function(){return Tt},enumerable:!0}),Object.defineProperty(re,"isAccessGranted",{get:function(){return Tt&&wt},enumerable:!0}),Object.defineProperty(re,"isBiometricTokenSaved",{get:function(){return $t},enumerable:!0}),Object.defineProperty(re,"deviceId",{get:function(){return oe||""},enumerable:!0});var He={callbacks:[]},ve=!1,ee=!1,ai=!1;t.onEvent("biometry_info_received",Ne),t.onEvent("biometry_auth_requested",Dt),t.onEvent("biometry_token_updated",se);function Ne(ae,ki){if(st=!0,ki.available?(ht=!0,dt=ki.type||"unknown",ki.access_requested?(Tt=!0,wt=!!ki.access_granted,$t=!!ki.token_saved):(Tt=!1,wt=!1,$t=!1)):(ht=!1,dt="unknown",Tt=!1,wt=!1,$t=!1),oe=ki.device_id||"",He.callbacks.length>0){for(var Se=0;Se<He.callbacks.length;Se++){var Ye=He.callbacks[Se];Ye()}He.callbacks=[]}if(ve){var Jn=ve;ve=!1,Jn.callback&&Jn.callback(wt)}H("biometricManagerUpdated")}function Dt(ae,ki){var Se=ki.status=="authorized",Ye=ki.token||"";if(ee){var Jn=ee;ee=!1,Jn.callback&&Jn.callback(Se,Se?Ye:null)}H("biometricAuthRequested",Se?{isAuthenticated:!0,biometricToken:Ye}:{isAuthenticated:!1})}function se(ae,ki){var Se=!1;if(ht&&Tt&&(ki.status=="updated"?($t=!0,Se=!0):ki.status=="removed"&&($t=!1,Se=!0)),ai){var Ye=ai;ai=!1,Ye.callback&&Ye.callback(Se)}H("biometricTokenUpdated",{isUpdated:Se})}function he(){return Me("7.2")?!0:(console.warn("[Telegram.WebApp] BiometricManager is not supported in version "+a),!1)}function Ri(){if(!st)throw console.error("[Telegram.WebApp] BiometricManager should be inited before using."),Error("WebAppBiometricManagerNotInited");return!0}return re.init=function(ae){return!he()||st||(ae&&He.callbacks.push(ae),t.postEvent("web_app_biometry_get_info",!1)),re},re.requestAccess=function(ae,ki){if(!he())return re;if(Ri(),!ht)throw console.error("[Telegram.WebApp] Biometrics is not available on this device."),Error("WebAppBiometricManagerBiometricsNotAvailable");if(ve)throw console.error("[Telegram.WebApp] Access is already requested"),Error("WebAppBiometricManagerAccessRequested");var Se={};if(typeof ae.reason<"u"){var Ye=X(ae.reason);if(Ye.length>128)throw console.error("[Telegram.WebApp] Biometric reason is too long",Ye),Error("WebAppBiometricRequestAccessParamInvalid");Ye.length>0&&(Se.reason=Ye)}return ve={callback:ki},t.postEvent("web_app_biometry_request_access",!1,Se),re},re.authenticate=function(ae,ki){if(!he())return re;if(Ri(),!ht)throw console.error("[Telegram.WebApp] Biometrics is not available on this device."),Error("WebAppBiometricManagerBiometricsNotAvailable");if(!wt)throw console.error("[Telegram.WebApp] Biometric access was not granted by the user."),Error("WebAppBiometricManagerBiometricAccessNotGranted");if(ee)throw console.error("[Telegram.WebApp] Authentication request is already in progress."),Error("WebAppBiometricManagerAuthenticationRequested");var Se={};if(typeof ae.reason<"u"){var Ye=X(ae.reason);if(Ye.length>128)throw console.error("[Telegram.WebApp] Biometric reason is too long",Ye),Error("WebAppBiometricRequestAccessParamInvalid");Ye.length>0&&(Se.reason=Ye)}return ee={callback:ki},t.postEvent("web_app_biometry_request_auth",!1,Se),re},re.updateBiometricToken=function(ae,ki){if(!he())return re;if(ae=ae||"",ae.length>1024)throw console.error("[Telegram.WebApp] Token is too long",ae),Error("WebAppBiometricManagerTokenInvalid");if(Ri(),!ht)throw console.error("[Telegram.WebApp] Biometrics is not available on this device."),Error("WebAppBiometricManagerBiometricsNotAvailable");if(!wt)throw console.error("[Telegram.WebApp] Biometric access was not granted by the user."),Error("WebAppBiometricManagerBiometricAccessNotGranted");if(ai)throw console.error("[Telegram.WebApp] Token request is already in progress."),Error("WebAppBiometricManagerTokenUpdateRequested");return ai={callback:ki},t.postEvent("web_app_biometry_update_token",!1,{token:ae}),re},re.openSettings=function(){if(!he())return re;if(Ri(),!ht)throw console.error("[Telegram.WebApp] Biometrics is not available on this device."),Error("WebAppBiometricManagerBiometricsNotAvailable");if(!Tt)throw console.error("[Telegram.WebApp] Biometric access was not requested yet."),Error("WebAppBiometricManagerBiometricsAccessNotRequested");return wt?(console.warn("[Telegram.WebApp] Biometric access was granted by the user, no need to go to settings."),re):(t.postEvent("web_app_biometry_open_settings",!1),re)},re}(),qa=function(){var st=!1,ht=!1,dt=!1,Tt=!1,wt={};Object.defineProperty(wt,"isInited",{get:function(){return st},enumerable:!0}),Object.defineProperty(wt,"isLocationAvailable",{get:function(){return st&&ht},enumerable:!0}),Object.defineProperty(wt,"isAccessRequested",{get:function(){return dt},enumerable:!0}),Object.defineProperty(wt,"isAccessGranted",{get:function(){return dt&&Tt},enumerable:!0});var $t={callbacks:[]},oe={callbacks:[]};t.onEvent("location_checked",re),t.onEvent("location_requested",He);function re(Ne,Dt){if(st=!0,Dt.available?(ht=!0,Dt.access_requested?(dt=!0,Tt=!!Dt.access_granted):(dt=!1,Tt=!1)):(ht=!1,dt=!1,Tt=!1),$t.callbacks.length>0){for(var se=0;se<$t.callbacks.length;se++){var he=$t.callbacks[se];he()}$t.callbacks=[]}H("locationManagerUpdated")}function He(Ne,Dt){if(!Dt.available)se=null;else{var se={latitude:Dt.latitude,longitude:Dt.longitude,altitude:null,course:null,speed:null,horizontal_accuracy:null,vertical_accuracy:null,course_accuracy:null,speed_accuracy:null};typeof Dt.altitude<"u"&&Dt.altitude!==null&&(se.altitude=Dt.altitude),typeof Dt.course<"u"&&Dt.course!==null&&(se.course=Dt.course%360),typeof Dt.speed<"u"&&Dt.speed!==null&&(se.speed=Dt.speed),typeof Dt.horizontal_accuracy<"u"&&Dt.horizontal_accuracy!==null&&(se.horizontal_accuracy=Dt.horizontal_accuracy),typeof Dt.vertical_accuracy<"u"&&Dt.vertical_accuracy!==null&&(se.vertical_accuracy=Dt.vertical_accuracy),typeof Dt.course_accuracy<"u"&&Dt.course_accuracy!==null&&(se.course_accuracy=Dt.course_accuracy),typeof Dt.speed_accuracy<"u"&&Dt.speed_accuracy!==null&&(se.speed_accuracy=Dt.speed_accuracy)}!Dt.available||!ht||!dt||!Tt?($t.callbacks.push(function(){ve(se)}),t.postEvent("web_app_check_location",!1)):ve(se)}function ve(Ne){if(oe.callbacks.length>0){for(var Dt=0;Dt<oe.callbacks.length;Dt++){var se=oe.callbacks[Dt];se(Ne)}oe.callbacks=[]}Ne!==null&&H("locationRequested",{locationData:Ne})}function ee(){return Me("8.0")?!0:(console.warn("[Telegram.WebApp] LocationManager is not supported in version "+a),!1)}function ai(){if(!st)throw console.error("[Telegram.WebApp] LocationManager should be inited before using."),Error("WebAppLocationManagerNotInited");return!0}return wt.init=function(Ne){return!ee()||st||(Ne&&$t.callbacks.push(Ne),t.postEvent("web_app_check_location",!1)),wt},wt.getLocation=function(Ne){if(!ee())return wt;if(ai(),!ht)throw console.error("[Telegram.WebApp] Location is not available on this device."),Error("WebAppLocationManagerLocationNotAvailable");return oe.callbacks.push(Ne),t.postEvent("web_app_request_location"),wt},wt.openSettings=function(){if(!ee())return wt;if(ai(),!ht)throw console.error("[Telegram.WebApp] Location is not available on this device."),Error("WebAppLocationManagerLocationNotAvailable");if(!dt)throw console.error("[Telegram.WebApp] Location access was not requested yet."),Error("WebAppLocationManagerLocationAccessNotRequested");return Tt?(console.warn("[Telegram.WebApp] Location access was granted by the user, no need to go to settings."),wt):(t.postEvent("web_app_open_location_settings",!1),wt)},wt}(),$o=function(){var st=!1,ht=null,dt=null,Tt=null,wt=[],$t=[],oe={};Object.defineProperty(oe,"isStarted",{get:function(){return st},enumerable:!0}),Object.defineProperty(oe,"x",{get:function(){return ht},enumerable:!0}),Object.defineProperty(oe,"y",{get:function(){return dt},enumerable:!0}),Object.defineProperty(oe,"z",{get:function(){return Tt},enumerable:!0}),t.onEvent("accelerometer_started",re),t.onEvent("accelerometer_stopped",He),t.onEvent("accelerometer_changed",ve),t.onEvent("accelerometer_failed",ee);function re(Ne,Dt){if(st=!0,wt.length>0){for(var se=0;se<wt.length;se++){var he=wt[se];he(!0)}wt=[]}H("accelerometerStarted")}function He(Ne,Dt){if(st=!1,$t.length>0){for(var se=0;se<$t.length;se++){var he=$t[se];he(!0)}$t=[]}H("accelerometerStopped")}function ve(Ne,Dt){ht=Dt.x,dt=Dt.y,Tt=Dt.z,H("accelerometerChanged")}function ee(Ne,Dt){if(wt.length>0){for(var se=0;se<wt.length;se++){var he=wt[se];he(!1)}wt=[]}H("accelerometerFailed",{error:Dt.error})}function ai(){return Me("8.0")?!0:(console.warn("[Telegram.WebApp] Accelerometer is not supported in version "+a),!1)}return oe.start=function(Ne,Dt){if(Ne=Ne||{},!ai())return oe;var se={},he=parseInt(Ne.refresh_rate||1e3);return isNaN(he)||he<20||he>1e3?console.warn("[Telegram.WebApp] Accelerometer refresh_rate is invalid",he):se.refresh_rate=he,Dt&&wt.push(Dt),t.postEvent("web_app_start_accelerometer",!1,se),oe},oe.stop=function(Ne){return ai()&&(Ne&&$t.push(Ne),t.postEvent("web_app_stop_accelerometer")),oe},oe}(),tl=function(){var st=!1,ht=null,dt=null,Tt=null,wt=!1,$t=[],oe=[],re={};Object.defineProperty(re,"isStarted",{get:function(){return st},enumerable:!0}),Object.defineProperty(re,"absolute",{get:function(){return wt},enumerable:!0}),Object.defineProperty(re,"alpha",{get:function(){return ht},enumerable:!0}),Object.defineProperty(re,"beta",{get:function(){return dt},enumerable:!0}),Object.defineProperty(re,"gamma",{get:function(){return Tt},enumerable:!0}),t.onEvent("device_orientation_started",He),t.onEvent("device_orientation_stopped",ve),t.onEvent("device_orientation_changed",ee),t.onEvent("device_orientation_failed",ai);function He(Dt,se){if(st=!0,$t.length>0){for(var he=0;he<$t.length;he++){var Ri=$t[he];Ri(!0)}$t=[]}H("deviceOrientationStarted")}function ve(Dt,se){if(st=!1,oe.length>0){for(var he=0;he<oe.length;he++){var Ri=oe[he];Ri(!0)}oe=[]}H("deviceOrientationStopped")}function ee(Dt,se){wt=!!se.absolute,ht=se.alpha,dt=se.beta,Tt=se.gamma,H("deviceOrientationChanged")}function ai(Dt,se){if($t.length>0){for(var he=0;he<$t.length;he++){var Ri=$t[he];Ri(!1)}$t=[]}H("deviceOrientationFailed",{error:se.error})}function Ne(){return Me("8.0")?!0:(console.warn("[Telegram.WebApp] DeviceOrientation is not supported in version "+a),!1)}return re.start=function(Dt,se){if(Dt=Dt||{},!Ne())return re;var he={},Ri=parseInt(Dt.refresh_rate||1e3);return isNaN(Ri)||Ri<20||Ri>1e3?console.warn("[Telegram.WebApp] DeviceOrientation refresh_rate is invalid",Ri):he.refresh_rate=Ri,he.need_absolute=!!Dt.need_absolute,se&&$t.push(se),t.postEvent("web_app_start_device_orientation",!1,he),re},re.stop=function(Dt){return Ne()&&(Dt&&oe.push(Dt),t.postEvent("web_app_stop_device_orientation")),re},re}(),Vs=function(){var st=!1,ht=null,dt=null,Tt=null,wt=[],$t=[],oe={};Object.defineProperty(oe,"isStarted",{get:function(){return st},enumerable:!0}),Object.defineProperty(oe,"x",{get:function(){return ht},enumerable:!0}),Object.defineProperty(oe,"y",{get:function(){return dt},enumerable:!0}),Object.defineProperty(oe,"z",{get:function(){return Tt},enumerable:!0}),t.onEvent("gyroscope_started",re),t.onEvent("gyroscope_stopped",He),t.onEvent("gyroscope_changed",ve),t.onEvent("gyroscope_failed",ee);function re(Ne,Dt){if(st=!0,wt.length>0){for(var se=0;se<wt.length;se++){var he=wt[se];he(!0)}wt=[]}H("gyroscopeStarted")}function He(Ne,Dt){if(st=!1,$t.length>0){for(var se=0;se<$t.length;se++){var he=$t[se];he(!0)}$t=[]}H("gyroscopeStopped")}function ve(Ne,Dt){ht=Dt.x,dt=Dt.y,Tt=Dt.z,H("gyroscopeChanged")}function ee(Ne,Dt){if(wt.length>0){for(var se=0;se<wt.length;se++){var he=wt[se];he(!1)}wt=[]}H("gyroscopeFailed",{error:Dt.error})}function ai(){return Me("8.0")?!0:(console.warn("[Telegram.WebApp] Gyroscope is not supported in version "+a),!1)}return oe.start=function(Ne,Dt){if(Ne=Ne||{},!ai())return oe;var se={},he=parseInt(Ne.refresh_rate||1e3);return isNaN(he)||he<20||he>1e3?console.warn("[Telegram.WebApp] Gyroscope refresh_rate is invalid",he):se.refresh_rate=he,Dt&&wt.push(Dt),t.postEvent("web_app_start_gyroscope",!1,se),oe},oe.stop=function(Ne){return ai()&&(Ne&&$t.push(Ne),t.postEvent("web_app_stop_gyroscope")),oe},oe}(),We={};function _a(st,ht){if(ht.slug&&We[ht.slug]){var dt=We[ht.slug];delete We[ht.slug],dt.callback&&dt.callback(ht.status),H("invoiceClosed",{url:dt.url,status:ht.status})}}var Ar=!1;function Ko(st,ht){if(Ar){var dt=Ar;Ar=!1;var Tt=null;typeof ht.button_id<"u"&&(Tt=ht.button_id),dt.callback&&dt.callback(Tt),H("popupClosed",{button_id:Tt})}}var Kn=!1;function el(st,ht){if(Kn){var dt=Kn,Tt=null;typeof ht.data<"u"&&(Tt=ht.data),dt.callback&&dt.callback(Tt)&&(Kn=!1,t.postEvent("web_app_close_scan_qr_popup",!1)),H("qrTextReceived",{data:Tt})}}function il(st,ht){Kn=!1,H("scanQrPopupClosed")}function rl(st,ht){if(ht.req_id&&j[ht.req_id]){var dt=j[ht.req_id];delete j[ht.req_id];var Tt=null;typeof ht.data<"u"&&(Tt=ht.data),dt.callback&&dt.callback(Tt),H("clipboardTextReceived",{data:Tt})}}var Ws=!1;function nl(st,ht){if(Ws){var dt=Ws;Ws=!1,dt.callback&&dt.callback(ht.status=="allowed"),H("writeAccessRequested",{status:ht.status})}}function yu(st,ht){var dt,Tt,wt=0,$t=function(){gs("getRequestedContact",{},function(re,He){He&&He.length?(clearTimeout(Tt),st(He)):(wt+=50,dt=setTimeout($t,wt))})},oe=function(){clearTimeout(dt),st("")};Tt=setTimeout(oe,ht),$t()}var to=!1;function sl(st,ht){if(to){var dt=to;to=!1;var Tt=ht.status=="sent",wt={status:ht.status};Tt?yu(function($t){if($t&&$t.length){wt.response=$t,wt.responseUnsafe=e.urlParseQueryString($t);for(var oe in wt.responseUnsafe){var re=wt.responseUnsafe[oe];try{(re.substr(0,1)=="{"&&re.substr(-1)=="}"||re.substr(0,1)=="["&&re.substr(-1)=="]")&&(wt.responseUnsafe[oe]=JSON.parse(re))}catch{}}}dt.callback&&dt.callback(Tt,wt),H("contactRequested",wt)},3e3):(dt.callback&&dt.callback(Tt,wt),H("contactRequested",wt))}}var Zn=!1;function An(st,ht){if(Zn){var dt=Zn;Zn=!1;var Tt=ht.status=="downloading";dt.callback&&dt.callback(Tt),H("fileDownloadRequested",{status:Tt?"downloading":"cancelled"})}}function Sa(st,ht){if(ht.req_id&&j[ht.req_id]){var dt=j[ht.req_id];delete j[ht.req_id];var Tt=null,wt=null;typeof ht.result<"u"&&(Tt=ht.result),typeof ht.error<"u"&&(wt=ht.error),dt.callback&&dt.callback(wt,Tt)}}function gs(st,ht,dt){if(!Me("6.9"))throw console.error("[Telegram.WebApp] Method invokeCustomMethod is not supported in version "+a),Error("WebAppMethodUnsupported");var Tt=_(16),wt={req_id:Tt,method:st,params:ht||{}};j[Tt]={callback:dt},t.postEvent("web_app_invoke_custom_method",!1,wt)}window.Telegram||(window.Telegram={}),Object.defineProperty(y,"initData",{get:function(){return P},enumerable:!0}),Object.defineProperty(y,"initDataUnsafe",{get:function(){return n},enumerable:!0}),Object.defineProperty(y,"version",{get:function(){return a},enumerable:!0}),Object.defineProperty(y,"platform",{get:function(){return x},enumerable:!0}),Object.defineProperty(y,"colorScheme",{get:function(){return i},enumerable:!0}),Object.defineProperty(y,"themeParams",{get:function(){return T},enumerable:!0}),Object.defineProperty(y,"isExpanded",{get:function(){return ot},enumerable:!0}),Object.defineProperty(y,"viewportHeight",{get:function(){return(tt===!1?window.innerHeight:tt)-ue},enumerable:!0}),Object.defineProperty(y,"viewportStableHeight",{get:function(){return(rt===!1?window.innerHeight:rt)-ue},enumerable:!0}),Object.defineProperty(y,"safeAreaInset",{get:function(){return ct},enumerable:!0}),Object.defineProperty(y,"contentSafeAreaInset",{get:function(){return yt},enumerable:!0}),Object.defineProperty(y,"isClosingConfirmationEnabled",{set:function(st){Wt(st)},get:function(){return Ct},enumerable:!0}),Object.defineProperty(y,"isVerticalSwipesEnabled",{set:function(st){Ht(st)},get:function(){return Yt},enumerable:!0}),Object.defineProperty(y,"isFullscreen",{get:function(){return l},enumerable:!0}),Object.defineProperty(y,"isOrientationLocked",{set:function(st){zt(st)},get:function(){return o},enumerable:!0}),Object.defineProperty(y,"isActive",{get:function(){return d},enumerable:!0}),Object.defineProperty(y,"headerColor",{set:function(st){fi(st)},get:function(){return yi()},enumerable:!0}),Object.defineProperty(y,"backgroundColor",{set:function(st){Oi(st)},get:function(){return wi()},enumerable:!0}),Object.defineProperty(y,"bottomBarColor",{set:function(st){_h(st)},get:function(){return ps()},enumerable:!0}),Object.defineProperty(y,"BackButton",{value:ut,enumerable:!0}),Object.defineProperty(y,"MainButton",{value:Ze,enumerable:!0}),Object.defineProperty(y,"SecondaryButton",{value:Gi,enumerable:!0}),Object.defineProperty(y,"SettingsButton",{value:pr,enumerable:!0}),Object.defineProperty(y,"HapticFeedback",{value:Hn,enumerable:!0}),Object.defineProperty(y,"CloudStorage",{value:$n,enumerable:!0}),Object.defineProperty(y,"BiometricManager",{value:lr,enumerable:!0}),Object.defineProperty(y,"Accelerometer",{value:$o,enumerable:!0}),Object.defineProperty(y,"DeviceOrientation",{value:tl,enumerable:!0}),Object.defineProperty(y,"Gyroscope",{value:Vs,enumerable:!0}),Object.defineProperty(y,"LocationManager",{value:qa,enumerable:!0}),y.isVersionAtLeast=function(st){return Me(st)},y.setHeaderColor=function(st){y.headerColor=st},y.setBackgroundColor=function(st){y.backgroundColor=st},y.setBottomBarColor=function(st){y.bottomBarColor=st},y.enableClosingConfirmation=function(){y.isClosingConfirmationEnabled=!0},y.disableClosingConfirmation=function(){y.isClosingConfirmationEnabled=!1},y.enableVerticalSwipes=function(){y.isVerticalSwipesEnabled=!0},y.disableVerticalSwipes=function(){y.isVerticalSwipesEnabled=!1},y.lockOrientation=function(){y.isOrientationLocked=!0},y.unlockOrientation=function(){y.isOrientationLocked=!1},y.requestFullscreen=function(){if(!Me("8.0"))throw console.error("[Telegram.WebApp] Method requestFullscreen is not supported in version "+a),Error("WebAppMethodUnsupported");t.postEvent("web_app_request_fullscreen")},y.exitFullscreen=function(){if(!Me("8.0"))throw console.error("[Telegram.WebApp] Method exitFullscreen is not supported in version "+a),Error("WebAppMethodUnsupported");t.postEvent("web_app_exit_fullscreen")},y.addToHomeScreen=function(){if(!Me("8.0"))throw console.error("[Telegram.WebApp] Method addToHomeScreen is not supported in version "+a),Error("WebAppMethodUnsupported");t.postEvent("web_app_add_to_home_screen")},y.checkHomeScreenStatus=function(st){if(!Me("8.0"))throw console.error("[Telegram.WebApp] Method checkHomeScreenStatus is not supported in version "+a),Error("WebAppMethodUnsupported");st&&jt.push(st),t.postEvent("web_app_check_home_screen")},y.onEvent=function(st,ht){Q(st,ht)},y.offEvent=function(st,ht){J(st,ht)},y.sendData=function(st){if(!st||!st.length)throw console.error("[Telegram.WebApp] Data is required",st),Error("WebAppDataInvalid");if(Xn(st)>4096)throw console.error("[Telegram.WebApp] Data is too long",st),Error("WebAppDataInvalid");t.postEvent("web_app_data_send",!1,{data:st})},y.switchInlineQuery=function(st,ht){if(!Me("6.6"))throw console.error("[Telegram.WebApp] Method switchInlineQuery is not supported in version "+a),Error("WebAppMethodUnsupported");if(!r.tgWebAppBotInline)throw console.error("[Telegram.WebApp] Inline mode is disabled for this bot. Read more about inline mode: https://core.telegram.org/bots/inline"),Error("WebAppInlineModeDisabled");if(st=st||"",st.length>256)throw console.error("[Telegram.WebApp] Inline query is too long",st),Error("WebAppInlineQueryInvalid");var dt=[];if(ht){if(!Array.isArray(ht))throw console.error("[Telegram.WebApp] Choose chat types should be an array",ht),Error("WebAppInlineChooseChatTypesInvalid");for(var Tt={users:1,bots:1,groups:1,channels:1},wt=0;wt<ht.length;wt++){var $t=ht[wt];if(!Tt[$t])throw console.error("[Telegram.WebApp] Choose chat type is invalid",$t),Error("WebAppInlineChooseChatTypeInvalid");Tt[$t]!=2&&(Tt[$t]=2,dt.push($t))}}t.postEvent("web_app_switch_inline_query",!1,{query:st,chat_types:dt})},y.openLink=function(Tt,ht){var dt=document.createElement("A");if(dt.href=Tt,dt.protocol!="http:"&&dt.protocol!="https:")throw console.error("[Telegram.WebApp] Url protocol is not supported",Tt),Error("WebAppTgUrlInvalid");var Tt=dt.href;if(ht=ht||{},Me("6.1")){var wt={url:Tt};Me("6.4")&&ht.try_instant_view&&(wt.try_instant_view=!0),Me("7.6")&&ht.try_browser&&(wt.try_browser=ht.try_browser),t.postEvent("web_app_open_link",!1,wt)}else window.open(Tt,"_blank")},y.openTelegramLink=function(st,ht){var dt=document.createElement("A");if(dt.href=st,dt.protocol!="http:"&&dt.protocol!="https:")throw console.error("[Telegram.WebApp] Url protocol is not supported",st),Error("WebAppTgUrlInvalid");if(dt.hostname!="t.me")throw console.error("[Telegram.WebApp] Url host is not supported",st),Error("WebAppTgUrlInvalid");var Tt=dt.pathname+dt.search;if(ht=ht||{},h||Me("6.1")){var wt={path_full:Tt};ht.force_request&&(wt.force_request=!0),t.postEvent("web_app_open_tg_link",!1,wt)}else location.href="https://t.me"+Tt},y.openInvoice=function(st,ht){var dt=document.createElement("A"),Tt,wt;if(dt.href=st,dt.protocol!="http:"&&dt.protocol!="https:"||dt.hostname!="t.me"||!(Tt=dt.pathname.match(/^\/(\$|invoice\/)([A-Za-z0-9\-_=]+)$/))||!(wt=Tt[2]))throw console.error("[Telegram.WebApp] Invoice url is invalid",st),Error("WebAppInvoiceUrlInvalid");if(!Me("6.1"))throw console.error("[Telegram.WebApp] Method openInvoice is not supported in version "+a),Error("WebAppMethodUnsupported");if(We[wt])throw console.error("[Telegram.WebApp] Invoice is already opened"),Error("WebAppInvoiceOpened");We[wt]={url:st,callback:ht},t.postEvent("web_app_open_invoice",!1,{slug:wt})},y.showPopup=function(st,ht){if(!Me("6.2"))throw console.error("[Telegram.WebApp] Method showPopup is not supported in version "+a),Error("WebAppMethodUnsupported");if(Ar)throw console.error("[Telegram.WebApp] Popup is already opened"),Error("WebAppPopupOpened");var dt="",Tt="",wt=[],$t={};if(typeof st.title<"u"){if(dt=X(st.title),dt.length>64)throw console.error("[Telegram.WebApp] Popup title is too long",dt),Error("WebAppPopupParamInvalid");dt.length>0&&($t.title=dt)}if(typeof st.message<"u"&&(Tt=X(st.message)),!Tt.length)throw console.error("[Telegram.WebApp] Popup message is required",st.message),Error("WebAppPopupParamInvalid");if(Tt.length>256)throw console.error("[Telegram.WebApp] Popup message is too long",Tt),Error("WebAppPopupParamInvalid");if($t.message=Tt,typeof st.buttons<"u"){if(!Array.isArray(st.buttons))throw console.error("[Telegram.WebApp] Popup buttons should be an array",st.buttons),Error("WebAppPopupParamInvalid");for(var oe=0;oe<st.buttons.length;oe++){var re=st.buttons[oe],He={},ve="";if(typeof re.id<"u"&&(ve=re.id.toString(),ve.length>64))throw console.error("[Telegram.WebApp] Popup button id is too long",ve),Error("WebAppPopupParamInvalid");He.id=ve;var ee=re.type;if(typeof ee>"u"&&(ee="default"),He.type=ee,!(ee=="ok"||ee=="close"||ee=="cancel"))if(ee=="default"||ee=="destructive"){var ai="";if(typeof re.text<"u"&&(ai=X(re.text)),!ai.length)throw console.error("[Telegram.WebApp] Popup button text is required for type "+ee,re.text),Error("WebAppPopupParamInvalid");if(ai.length>64)throw console.error("[Telegram.WebApp] Popup button text is too long",ai),Error("WebAppPopupParamInvalid");He.text=ai}else throw console.error("[Telegram.WebApp] Popup button type is invalid",ee),Error("WebAppPopupParamInvalid");wt.push(He)}}else wt.push({id:"",type:"close"});if(wt.length<1)throw console.error("[Telegram.WebApp] Popup should have at least one button"),Error("WebAppPopupParamInvalid");if(wt.length>3)throw console.error("[Telegram.WebApp] Popup should not have more than 3 buttons"),Error("WebAppPopupParamInvalid");$t.buttons=wt,Ar={callback:ht},t.postEvent("web_app_open_popup",!1,$t)},y.showAlert=function(st,ht){y.showPopup({message:st},ht?function(){ht()}:null)},y.showConfirm=function(st,ht){y.showPopup({message:st,buttons:[{type:"ok",id:"ok"},{type:"cancel"}]},ht?function(dt){ht(dt=="ok")}:null)},y.showScanQrPopup=function(st,ht){if(!Me("6.4"))throw console.error("[Telegram.WebApp] Method showScanQrPopup is not supported in version "+a),Error("WebAppMethodUnsupported");if(Kn)throw console.error("[Telegram.WebApp] Popup is already opened"),Error("WebAppScanQrPopupOpened");var dt="",Tt={};if(typeof st.text<"u"){if(dt=X(st.text),dt.length>64)throw console.error("[Telegram.WebApp] Scan QR popup text is too long",dt),Error("WebAppScanQrPopupParamInvalid");dt.length>0&&(Tt.text=dt)}Kn={callback:ht},t.postEvent("web_app_open_scan_qr_popup",!1,Tt)},y.closeScanQrPopup=function(){if(!Me("6.4"))throw console.error("[Telegram.WebApp] Method closeScanQrPopup is not supported in version "+a),Error("WebAppMethodUnsupported");Kn=!1,t.postEvent("web_app_close_scan_qr_popup",!1)},y.readTextFromClipboard=function(st){if(!Me("6.4"))throw console.error("[Telegram.WebApp] Method readTextFromClipboard is not supported in version "+a),Error("WebAppMethodUnsupported");var ht=_(16),dt={req_id:ht};j[ht]={callback:st},t.postEvent("web_app_read_text_from_clipboard",!1,dt)},y.requestWriteAccess=function(st){if(!Me("6.9"))throw console.error("[Telegram.WebApp] Method requestWriteAccess is not supported in version "+a),Error("WebAppMethodUnsupported");if(Ws)throw console.error("[Telegram.WebApp] Write access is already requested"),Error("WebAppWriteAccessRequested");Ws={callback:st},t.postEvent("web_app_request_write_access")},y.requestContact=function(st){if(!Me("6.9"))throw console.error("[Telegram.WebApp] Method requestContact is not supported in version "+a),Error("WebAppMethodUnsupported");if(to)throw console.error("[Telegram.WebApp] Contact is already requested"),Error("WebAppContactRequested");to={callback:st},t.postEvent("web_app_request_phone")},y.downloadFile=function(st,ht){if(!Me("8.0"))throw console.error("[Telegram.WebApp] Method downloadFile is not supported in version "+a),Error("WebAppMethodUnsupported");if(Zn)throw console.error("[Telegram.WebApp] Popup is already opened"),Error("WebAppDownloadFilePopupOpened");var dt=document.createElement("A"),Tt={};if(!st||!st.url||!st.url.length)throw console.error("[Telegram.WebApp] Url is required"),Error("WebAppDownloadFileParamInvalid");if(dt.href=st.url,dt.protocol!="https:")throw console.error("[Telegram.WebApp] Url protocol is not supported",url),Error("WebAppDownloadFileParamInvalid");if(Tt.url=dt.href,!st||!st.file_name||!st.file_name.length)throw console.error("[Telegram.WebApp] File name is required"),Error("WebAppDownloadFileParamInvalid");Tt.file_name=st.file_name,Zn={callback:ht},t.postEvent("web_app_request_file_download",!1,Tt)},y.shareToStory=function(st,ht){if(ht=ht||{},!Me("7.8"))throw console.error("[Telegram.WebApp] Method shareToStory is not supported in version "+a),Error("WebAppMethodUnsupported");var dt=document.createElement("A");if(dt.href=st,dt.protocol!="http:"&&dt.protocol!="https:")throw console.error("[Telegram.WebApp] Media url protocol is not supported",url),Error("WebAppMediaUrlInvalid");var Tt={};if(Tt.media_url=dt.href,typeof ht.text<"u"){var wt=X(ht.text);if(wt.length>2048)throw console.error("[Telegram.WebApp] Text is too long",wt),Error("WebAppShareToStoryParamInvalid");wt.length>0&&(Tt.text=wt)}if(typeof ht.widget_link<"u"){if(ht.widget_link=ht.widget_link||{},dt.href=ht.widget_link.url,dt.protocol!="http:"&&dt.protocol!="https:")throw console.error("[Telegram.WebApp] Link protocol is not supported",url),Error("WebAppShareToStoryParamInvalid");var $t={url:dt.href};if(typeof ht.widget_link.name<"u"){var oe=X(ht.widget_link.name);if(oe.length>48)throw console.error("[Telegram.WebApp] Link name is too long",oe),Error("WebAppShareToStoryParamInvalid");oe.length>0&&($t.name=oe)}Tt.widget_link=$t}t.postEvent("web_app_share_to_story",!1,Tt)},y.shareMessage=function(st,ht){if(!Me("8.0"))throw console.error("[Telegram.WebApp] Method shareMessage is not supported in version "+a),Error("WebAppMethodUnsupported");if(le)throw console.error("[Telegram.WebApp] Share message is already opened"),Error("WebAppShareMessageOpened");le={callback:ht},t.postEvent("web_app_send_prepared_message",!1,{id:st})},y.setEmojiStatus=function(st,ht,dt){if(ht=ht||{},!Me("8.0"))throw console.error("[Telegram.WebApp] Method setEmojiStatus is not supported in version "+a),Error("WebAppMethodUnsupported");var Tt={};if(Tt.custom_emoji_id=st,typeof ht.duration<"u"&&(Tt.duration=ht.duration),Bt)throw console.error("[Telegram.WebApp] Emoji status is already requested"),Error("WebAppEmojiStatusRequested");Bt={callback:dt},t.postEvent("web_app_set_emoji_status",!1,Tt)},y.requestEmojiStatusAccess=function(st){if(!Me("8.0"))throw console.error("[Telegram.WebApp] Method requestEmojiStatusAccess is not supported in version "+a),Error("WebAppMethodUnsupported");if(ce)throw console.error("[Telegram.WebApp] Emoji status permission is already requested"),Error("WebAppEmojiStatusAccessRequested");ce={callback:st},t.postEvent("web_app_request_emoji_status_access")},y.invokeCustomMethod=function(st,ht,dt){gs(st,ht,dt)},y.ready=function(){t.postEvent("web_app_ready")},y.expand=function(){t.postEvent("web_app_expand")},y.close=function(st){st=st||{};var ht={};Me("7.6")&&st.return_back&&(ht.return_back=!0),t.postEvent("web_app_close",!1,ht)},window.Telegram.WebApp=y,Ui(),mn(),zs(),ft(),r.tgWebAppShowSettings&&pr.show(),window.addEventListener("resize",G),h&&document.addEventListener("click",z),t.onEvent("theme_changed",A),t.onEvent("viewport_changed",D),t.onEvent("safe_area_changed",B),t.onEvent("content_safe_area_changed",I),t.onEvent("visibility_changed",k),t.onEvent("invoice_closed",_a),t.onEvent("popup_closed",Ko),t.onEvent("qr_text_received",el),t.onEvent("scan_qr_popup_closed",il),t.onEvent("clipboard_text_received",rl),t.onEvent("write_access_requested",nl),t.onEvent("phone_requested",sl),t.onEvent("file_download_requested",An),t.onEvent("custom_method_invoked",Sa),t.onEvent("fullscreen_changed",bt),t.onEvent("fullscreen_failed",kt),t.onEvent("home_screen_added",fe),t.onEvent("home_screen_checked",xe),t.onEvent("prepared_message_sent",Ee),t.onEvent("prepared_message_failed",Qe),t.onEvent("emoji_status_set",Ut),t.onEvent("emoji_status_failed",te),t.onEvent("emoji_status_access_requested",Pe),t.postEvent("web_app_request_theme"),t.postEvent("web_app_request_viewport"),t.postEvent("web_app_request_safe_area"),t.postEvent("web_app_request_content_safe_area")})();Object.defineProperty(_0,"__esModule",{value:!0});_0.WebApp=void 0;var EV=window;_0.WebApp=EV.Telegram.WebApp;Object.defineProperty(A3,"__esModule",{value:!0});var PV=_0,MV=A3.default=PV.WebApp;class bV{constructor(){we(this,"webApp",MV)}get user(){var t,r;return((r=(t=this.webApp)==null?void 0:t.initDataUnsafe)==null?void 0:r.user)??void 0}createInitials(t,r,h){const y=[t==null?void 0:t.trim(),r==null?void 0:r.trim()].filter(Boolean);return y.length?y.map(P=>P.charAt(0)).join("").toUpperCase().slice(0,2):h!=null&&h.length?h.slice(0,2).toUpperCase():"??"}getUserProfile(){var n,T;const t=this.user;if(!t)return;const r=((n=t.first_name)==null?void 0:n.trim())??"",h=((T=t.last_name)==null?void 0:T.trim())??"",P=!!(r||h)?[r,h].filter(Boolean).join(" "):t.username?`@${t.username}`:"Гость";return{id:t.id,fullName:P,initials:this.createInitials(r,h,t.username),username:t.username,isPremium:t.is_premium,photoUrl:t.photo_url}}getAuthParams(){var t;return`?${(t=this.webApp)==null?void 0:t.initData}`}async shareToStory(t){this.webApp.shareToStory(t,{text:"Хижина провидца - заходи и получи свое предсказание!",widget_link:{name:"Получить предсказание 👆",url:su.APP_URL}})}async vibrate(){var t,r;(r=(t=this.webApp)==null?void 0:t.HapticFeedback)!=null&&r.impactOccurred&&this.webApp.HapticFeedback.impactOccurred("rigid")}}const KE=new bV,wV=new TV;var RV=Object.defineProperty,AV=Object.getOwnPropertyDescriptor,O3=(e,t,r,h)=>{for(var y=AV(t,r),P=e.length-1,n;P>=0;P--)(n=e[P])&&(y=n(t,r,y)||y);return y&&RV(t,r,y),y};class vP extends kv.Scene{constructor(){super(yV)}preload(){wV.setLastLogin()}create(){this.scene.start(w3)}}O3([Zh],vP.prototype,"preload");O3([Zh],vP.prototype,"create");const L3=e=>`profile-avatar-${String(e??"user").replace(/[^a-zA-Z0-9_-]/g,"_")}`;class OV{constructor(t,r){this.scene=t,this.config=r}create(t){const{theme:r,fontFamily:h,horizontalPadding:y,scaleValue:P,scaleFont:n,profile:T}=this.config,i=Math.max(this.scene.scale.width-y*2,P(280)),a=P(216,{max:300}),x=P(30,{max:40}),d=P(1.8,{min:1.4,max:2.8}),l=this.scene.add.container(this.scene.scale.width/2,t+a/2),o=this.scene.add.graphics();o.fillStyle(r.surface,1),o.fillRoundedRect(-i/2,-a/2,i,a,x),o.lineStyle(d,r.surfaceStroke,1),o.strokeRoundedRect(-i/2,-a/2,i,a,x);const s=P(36,{max:52}),f=P(32,{max:48}),c=-a/2+f,u=a/2-f,v=(c+u)/2,p=P(60,{max:80}),m=-i/2+s+p,g=this.scene.add.circle(m,v,p,r.accent,1),C=(T==null?void 0:T.initials)??"??",M=this.scene.add.text(m,v,C,{fontFamily:h,fontSize:n(48,{max:64}),color:"#06111f",fontStyle:"bold"});M.setOrigin(.5);const b=P(56,{max:80}),w=(T==null?void 0:T.fullName)??"Гость",R=this.scene.add.text(m+p+b,c,w,{fontFamily:h,fontSize:n(52,{max:68}),color:r.textPrimary,fontStyle:"bold"});R.setOrigin(0,0);const A=i/2-s,L=this.scene.add.text(A,c,"0",{fontFamily:h,fontSize:n(64,{max:84}),color:r.textPrimary,fontStyle:"bold",align:"right"});L.setOrigin(1,0);const D=P(16,{max:24}),G=this.scene.add.text(L.x,L.y+L.height+D,"алмазы",{fontFamily:h,fontSize:n(40,{max:52}),color:r.textMuted,align:"right"});G.setOrigin(1,0);const B=T!=null&&T.username?`@${T.username}`:"Lvl. 1",I=this.scene.add.text(R.x,G.y,B,{fontFamily:h,fontSize:n(40,{max:52}),color:r.textMuted});if(I.setOrigin(0,0),l.add([o,g,M,R,L,G,I]),T!=null&&T.photoUrl){const k=this.scene.make.graphics({x:l.x+m,y:l.y+v,add:!1});k.fillStyle(16777215,1),k.fillCircle(0,0,p),k.setVisible(!1);const z=k.createGeometryMask();z.invertAlpha=!1;const X=L3(T.id);(()=>{if(!this.scene.textures.exists(X))return;const Q=this.scene.add.image(m,v,X),J=Q.width,Y=Q.height;if(J>0&&Y>0){const $=p*2/Math.max(J,Y);Q.setScale($)}Q.setMask(z),l.once(Si.GameObjects.Events.DESTROY,()=>k.destroy()),l.addAt(Q,l.getIndex(g)+1),M.setVisible(!1)})()}return{container:l,bottom:t+a}}}var LV=Object.defineProperty,FV=Object.getOwnPropertyDescriptor,pP=(e,t,r,h)=>{for(var y=FV(t,r),P=e.length-1,n;P>=0;P--)(n=e[P])&&(y=n(t,r,y)||y);return y&&LV(t,r,y),y};class tx extends kv.Scene{constructor(){super(w3)}async init(){const t=this.scale.width,r=this.scale.height,y=t-16*2,P=32,n=t/2,T=r/2;this.add.rectangle(n,T,y,P).setStrokeStyle(1,16777215);const i=this.add.rectangle(n-y/2+2,T,4,P-4,16777215);this.load.on("progress",a=>{i.width=4+(y-8)*a})}preload(){const t=KE.getUserProfile();if(t!=null&&t.photoUrl){const r=L3(t.id);this.textures.exists(r)||this.load.image(r,t.photoUrl)}this.load.setPath("assets"),this.load.font([{key:"MonotypeCorsiva",url:"./fonts/Monotype-Corsiva-Regular.ttf",format:"truetype",descriptors:{style:"normal",weight:"400"}},{key:"MonotypeCorsivaItalic",url:"./fonts/Monotype-Corsiva-Regular-Italic.ttf",format:"truetype",descriptors:{style:"italic",weight:"400"}},{key:"MonotypeCorsivaBold",url:"./fonts/Monotype-Corsiva-Bold.ttf",format:"truetype",descriptors:{style:"normal",weight:"700"}},{key:"MonotypeCorsivaBoldItalic",url:"./fonts/Monotype-Corsiva-Bold-Italic.ttf",format:"truetype",descriptors:{style:"italic",weight:"700"}}])}async create(){this.scene.start(R3)}}pP([Zh],tx.prototype,"init");pP([Zh],tx.prototype,"preload");pP([Zh],tx.prototype,"create");var DV=Object.defineProperty,BV=Object.getOwnPropertyDescriptor,IV=(e,t,r,h)=>{for(var y=BV(t,r),P=e.length-1,n;P>=0;P--)(n=e[P])&&(y=n(t,r,y)||y);return y&&DV(t,r,y),y};class F3 extends kv.Scene{constructor(){super(CV)}async preload(){console.log("ERROR"),this.add.text(20,300,"Что-то пошло не так")}}IV([Zh],F3.prototype,"preload");const GV=[{id:"5170145012310081615",starCount:15,sticker:{width:512,height:512,emoji:"💝",isAnimated:!0,isVideo:!1,type:"custom_emoji",customEmojiId:"5465263910414195580",thumbnail:{fileId:"AAMCAgADFQABaOyV6pwfZBfPvZ_IhQPx022l6DUAAnwbAAKShNhL-K3EXM8imbUBAAdtAAM2BA",fileUniqueId:"AQADfBsAApKE2Ety",fileSize:6244,width:128,height:128},thumb:{fileId:"AAMCAgADFQABaOyV6pwfZBfPvZ_IhQPx022l6DUAAnwbAAKShNhL-K3EXM8imbUBAAdtAAM2BA",fileUniqueId:"AQADfBsAApKE2Ety",fileSize:6244,width:128,height:128},fileId:"CAACAgIAAxUAAWjsleqcH2QXz72fyIUD8dNtpeg1AAJ8GwACkoTYS_itxFzPIpm1NgQ",fileUniqueId:"AgADfBsAApKE2Es",fileSize:25528}},{id:"5170233102089322756",starCount:15,sticker:{width:512,height:512,emoji:"🧸",isAnimated:!0,isVideo:!1,type:"custom_emoji",customEmojiId:"5397915559037785261",thumbnail:{fileId:"AAMCAgADFQABaOyV6l__HWm9ybIj2ZwmRwcKH48AAq1UAAKaP-lKe8-QNC_-yK8BAAdtAAM2BA",fileUniqueId:"AQADrVQAApo_6Upy",fileSize:5282,width:128,height:128},thumb:{fileId:"AAMCAgADFQABaOyV6l__HWm9ybIj2ZwmRwcKH48AAq1UAAKaP-lKe8-QNC_-yK8BAAdtAAM2BA",fileUniqueId:"AQADrVQAApo_6Upy",fileSize:5282,width:128,height:128},fileId:"CAACAgIAAxUAAWjslepf_x1pvcmyI9mcJkcHCh-PAAKtVAACmj_pSnvPkDQv_sivNgQ",fileUniqueId:"AgADrVQAApo_6Uo",fileSize:51240}},{id:"5170250947678437525",starCount:25,sticker:{width:512,height:512,emoji:"🎁",isAnimated:!0,isVideo:!1,type:"custom_emoji",customEmojiId:"5203996991054432397",thumbnail:{fileId:"AAMCAgADFQABaOyV6qYCotqq3HEeWKqAHGykcP8AAo1IAAKxTzhIy4HiB7tX_AYBAAdtAAM2BA",fileUniqueId:"AQADjUgAArFPOEhy",fileSize:5010,width:128,height:128},thumb:{fileId:"AAMCAgADFQABaOyV6qYCotqq3HEeWKqAHGykcP8AAo1IAAKxTzhIy4HiB7tX_AYBAAdtAAM2BA",fileUniqueId:"AQADjUgAArFPOEhy",fileSize:5010,width:128,height:128},fileId:"CAACAgIAAxUAAWjsleqmAqLaqtxxHliqgBxspHD_AAKNSAACsU84SMuB4ge7V_wGNgQ",fileUniqueId:"AgADjUgAArFPOEg",fileSize:10199}},{id:"5168103777563050263",starCount:25,sticker:{width:512,height:512,emoji:"🌹",isAnimated:!0,isVideo:!1,type:"custom_emoji",customEmojiId:"5440911110838425969",thumbnail:{fileId:"AAMCAgADFQABaOyV6gc3O7YoQc_WZRPzma4iqAEAAnEZAALU_4FL0JiZoC_vgoQBAAdtAAM2BA",fileUniqueId:"AQADcRkAAtT_gUty",fileSize:4052,width:128,height:128},thumb:{fileId:"AAMCAgADFQABaOyV6gc3O7YoQc_WZRPzma4iqAEAAnEZAALU_4FL0JiZoC_vgoQBAAdtAAM2BA",fileUniqueId:"AQADcRkAAtT_gUty",fileSize:4052,width:128,height:128},fileId:"CAACAgIAAxUAAWjsleoHNzu2KEHP1mUT85muIqgBAAJxGQAC1P-BS9CYmaAv74KENgQ",fileUniqueId:"AgADcRkAAtT_gUs",fileSize:48324}},{id:"5170144170496491616",starCount:50,sticker:{width:512,height:512,emoji:"🎂",isAnimated:!0,isVideo:!1,type:"custom_emoji",customEmojiId:"5370999492914976897",thumbnail:{fileId:"AAMCAgADFQABaOyV6qV92mGZun9wKWpg_U7RfkIAAoEYAAKVn4lKasZPmQFkUMYBAAdtAAM2BA",fileUniqueId:"AQADgRgAApWfiUpy",fileSize:5168,width:128,height:128},thumb:{fileId:"AAMCAgADFQABaOyV6qV92mGZun9wKWpg_U7RfkIAAoEYAAKVn4lKasZPmQFkUMYBAAdtAAM2BA",fileUniqueId:"AQADgRgAApWfiUpy",fileSize:5168,width:128,height:128},fileId:"CAACAgIAAxUAAWjsleqlfdphmbp_cClqYP1O0X5CAAKBGAAClZ-JSmrGT5kBZFDGNgQ",fileUniqueId:"AgADgRgAApWfiUo",fileSize:19679}},{id:"5170314324215857265",starCount:50,sticker:{width:512,height:512,emoji:"💐",isAnimated:!0,isVideo:!1,type:"custom_emoji",customEmojiId:"5395347834314696158",thumbnail:{fileId:"AAMCAgADFQABaOyV6s4tgdEb9DcFdnCGI5njOIgAAt4lAAJFIOBKyOYToBTPQ14BAAdtAAM2BA",fileUniqueId:"AQAD3iUAAkUg4Epy",fileSize:6932,width:128,height:128},thumb:{fileId:"AAMCAgADFQABaOyV6s4tgdEb9DcFdnCGI5njOIgAAt4lAAJFIOBKyOYToBTPQ14BAAdtAAM2BA",fileUniqueId:"AQAD3iUAAkUg4Epy",fileSize:6932,width:128,height:128},fileId:"CAACAgIAAxUAAWjslerOLYHRG_Q3BXZwhiOZ4ziIAALeJQACRSDgSsjmE6AUz0NeNgQ",fileUniqueId:"AgAD3iUAAkUg4Eo",fileSize:48433}},{id:"5170564780938756245",starCount:50,sticker:{width:512,height:512,emoji:"🚀",isAnimated:!0,isVideo:!1,type:"custom_emoji",customEmojiId:"5445284980978621387",thumbnail:{fileId:"AAMCAgADFQABaOyV6omtu8zwK0YujPF0AayyZKoAAssbAALXiZFLO-sw18X3QM8BAAdtAAM2BA",fileUniqueId:"AQADyxsAAteJkUty",fileSize:5538,width:128,height:128},thumb:{fileId:"AAMCAgADFQABaOyV6omtu8zwK0YujPF0AayyZKoAAssbAALXiZFLO-sw18X3QM8BAAdtAAM2BA",fileUniqueId:"AQADyxsAAteJkUty",fileSize:5538,width:128,height:128},fileId:"CAACAgIAAxUAAWjsleqJrbvM8CtGLozxdAGssmSqAALLGwAC14mRSzvrMNfF90DPNgQ",fileUniqueId:"AgADyxsAAteJkUs",fileSize:55268}},{id:"5168043875654172773",starCount:100,sticker:{width:512,height:512,emoji:"🏆",isAnimated:!0,isVideo:!1,type:"custom_emoji",customEmojiId:"5409008750893734809",thumbnail:{fileId:"AAMCAgADFQABaOyV6ldi0OCzGCsfrtWbd1nO14MAApkbAALNqBBLfxHqLOQXz30BAAdtAAM2BA",fileUniqueId:"AQADmRsAAs2oEEty",fileSize:4546,width:128,height:128},thumb:{fileId:"AAMCAgADFQABaOyV6ldi0OCzGCsfrtWbd1nO14MAApkbAALNqBBLfxHqLOQXz30BAAdtAAM2BA",fileUniqueId:"AQADmRsAAs2oEEty",fileSize:4546,width:128,height:128},fileId:"CAACAgIAAxUAAWjslepXYtDgsxgrH67Vm3dZzteDAAKZGwACzagQS38R6izkF899NgQ",fileUniqueId:"AgADmRsAAs2oEEs",fileSize:60319}},{id:"5170690322832818290",starCount:100,sticker:{width:512,height:512,emoji:"💍",isAnimated:!0,isVideo:!1,type:"custom_emoji",customEmojiId:"5402100905883488232",thumbnail:{fileId:"AAMCAgADFQABaOyV6h5yrhc8EfaaJtdJVO6L-AoAAuhPAAInHvhKzU02fui-aJ4BAAdtAAM2BA",fileUniqueId:"AQAD6E8AAice-Epy",fileSize:4672,width:128,height:128},thumb:{fileId:"AAMCAgADFQABaOyV6h5yrhc8EfaaJtdJVO6L-AoAAuhPAAInHvhKzU02fui-aJ4BAAdtAAM2BA",fileUniqueId:"AQAD6E8AAice-Epy",fileSize:4672,width:128,height:128},fileId:"CAACAgIAAxUAAWjsleoecq4XPBH2mibXSVTui_gKAALoTwACJx74Ss1NNn7ovmieNgQ",fileUniqueId:"AgAD6E8AAice-Eo",fileSize:61230}},{id:"5170521118301225164",starCount:100,sticker:{width:512,height:512,emoji:"💎",isAnimated:!0,isVideo:!1,type:"custom_emoji",customEmojiId:"5471952986970267163",thumbnail:{fileId:"AAMCAgADFQABaOyV6nO2HNj30zwZYsVhaDejd8UAAhseAAJASPBLpcpf44raTUwBAAdtAAM2BA",fileUniqueId:"AQADGx4AAkBI8Ety",fileSize:3784,width:128,height:128},thumb:{fileId:"AAMCAgADFQABaOyV6nO2HNj30zwZYsVhaDejd8UAAhseAAJASPBLpcpf44raTUwBAAdtAAM2BA",fileUniqueId:"AQADGx4AAkBI8Ety",fileSize:3784,width:128,height:128},fileId:"CAACAgIAAxUAAWjslepzthzY99M8GWLFYWg3o3fFAAIbHgACQEjwS6XKX-OK2k1MNgQ",fileUniqueId:"AgADGx4AAkBI8Es",fileSize:47932}},{id:"6028601630662853006",starCount:50,sticker:{width:512,height:512,emoji:"🍾",isAnimated:!0,isVideo:!1,type:"custom_emoji",customEmojiId:"5370900768796711127",thumbnail:{fileId:"AAMCAgADFQABaOyV6lT1oH0DBbcJsctzHl1DQdEAAtcYAALLRYlKophDty4jBokBAAdtAAM2BA",fileUniqueId:"AQAD1xgAAstFiUpy",fileSize:3542,width:128,height:128},thumb:{fileId:"AAMCAgADFQABaOyV6lT1oH0DBbcJsctzHl1DQdEAAtcYAALLRYlKophDty4jBokBAAdtAAM2BA",fileUniqueId:"AQAD1xgAAstFiUpy",fileSize:3542,width:128,height:128},fileId:"CAACAgIAAxUAAWjslepU9aB9AwW3CbHLcx5dQ0HRAALXGAACy0WJSqKYQ7cuIwaJNgQ",fileUniqueId:"AgAD1xgAAstFiUo",fileSize:42245}}],kV=GV.map(e=>({id:e.id,emoji:e.sticker.emoji,width:e.sticker.width,height:e.sticker.height,fileId:e.sticker.fileId}));class NV{constructor(t,r){this.scene=t,this.config=r}create(t){const{theme:r,horizontalPadding:h,scaleValue:y,betValues:P,currentBetIndex:n,neonButton:T,onBetChange:i}=this.config,a=Math.max(this.scene.scale.width-h*2,0),x=y(124,{max:184}),d=t+x,l=Math.max(P.length,1),o=y(224,{max:312});let s=l>1?h:0,f=l>0?(a-s*(l-1))/l:a;if(l>1&&f<o){const p=(a-o*l)/(l-1);s=Si.Math.Clamp(p,0,s),f=(a-s*(l-1))/l,f<o&&(f=a/l,s=l>1?(a-f*l)/(l-1):0)}f<=0&&(f=l>0?a/l:a,s=0);const c=h+f/2,u=y(136,{max:184}),v=P.map((p,m)=>{const g=T.create(`${p} 💎`,{width:f,height:u,glowColor:r.accent,activeFill:r.accent,inactiveFill:r.surfaceAlt,activeStroke:r.accent,inactiveStroke:r.surfaceStroke,activeText:"#06111f",inactiveText:r.textSecondary,strokeWidth:0,inactiveStrokeWidth:2,glowActiveAlpha:.18,glowInactiveAlpha:.05,fontSize:y(52,{max:72})}),C=m%l,M=c+C*(f+s);return g.container.setPosition(M,d),g.container.on("pointerup",()=>i(m)),T.setActive(g,m===n),g});return{bottom:d+u/2,buttons:v}}}class zV{constructor(t,r){this.scene=t,this.config=r}create(t,r){const h=this.scene.add.container(0,0),{width:y,height:P}=r,n=this.scene.add.graphics(),T=Math.round(r.fontSize??this.config.scaleValue(20,{max:28})),i=r.fontStyle??"bold",a=this.scene.add.text(0,0,t,{fontFamily:this.config.fontFamily,fontSize:`${T}px`,color:r.activeText,fontStyle:i});a.setOrigin(.5),h.add([n,a]),h.setSize(y,P);const x={container:h,background:n,label:a,width:y,height:P,styles:{glowColor:r.glowColor,activeFill:r.activeFill,inactiveFill:r.inactiveFill,activeStroke:r.activeStroke,inactiveStroke:r.inactiveStroke,activeText:r.activeText,inactiveText:r.inactiveText,strokeWidth:r.strokeWidth??6,inactiveStrokeWidth:r.inactiveStrokeWidth??r.strokeWidth??6,glowActiveAlpha:r.glowActiveAlpha??.55,glowInactiveAlpha:r.glowInactiveAlpha??.25}};this.draw(x,!0);const d=new Si.Geom.Rectangle(0,0,y,P);h.setInteractive({hitArea:d,hitAreaCallback:Si.Geom.Rectangle.Contains,useHandCursor:!0});const l=.96,o=this.config.scaleValue(6,{max:10}),s=()=>{var v;(v=h.data)==null||v.remove("pressBaseY")},f=()=>{const v=h.getData("pressBaseY");v!==void 0&&(h.y=v,s())},c=v=>{var m;if(!((m=h.input)!=null&&m.enabled))return;v&&h.setData("pressBaseY",h.y);const p=h.getData("pressBaseY");p!==void 0&&(h.y=v?p+o:p,v||s()),this.scene.tweens.killTweensOf(x.background),this.scene.tweens.killTweensOf(x.label),this.scene.tweens.add({targets:[x.background,x.label],scaleX:v?l:1,scaleY:v?l:1,duration:80,ease:"Quad.easeOut"}),h.setData("isPressed",v)},u=()=>{c(!1),f()};return h.on("pointerdown",()=>{c(!0)}),h.on("pointerup",u),h.on("pointerupoutside",u),h.on("pointerout",u),x}setActive(t,r){this.draw(t,r),t.label.setFontStyle(r?"bold":"normal")}setEnabled(t,r){t.container.input&&(t.container.input.enabled=r,t.container.input.cursor=r?"pointer":"default"),this.draw(t,r),t.label.setFontStyle(r?"bold":"normal")}draw(t,r){const h=Math.min(t.height/2,this.config.scaleValue(24,{max:32}));t.background.clear(),t.background.fillStyle(r?t.styles.activeFill:t.styles.inactiveFill,1),t.background.fillRoundedRect(-t.width/2,-t.height/2,t.width,t.height,h),t.background.lineStyle(r?t.styles.strokeWidth:t.styles.inactiveStrokeWidth,r?t.styles.activeStroke:t.styles.inactiveStroke,1),t.background.strokeRoundedRect(-t.width/2,-t.height/2,t.width,t.height,h),t.label.setColor(r?t.styles.activeText:t.styles.inactiveText),t.container.setAlpha(r?1:.7),t.container.setData("isActive",r)}}const D3=40,B3=52;class UV{constructor(t){this.config=t}create(){const{scene:t,item:r,index:h,positionX:y,cardWidth:P,cardHeight:n,cardRadius:T,emojiOffsetX:i,textGapX:a,fontFamily:x,theme:d,scaleFont:l,scaleValue:o,chance:s,createItemContent:f}=this.config,c=D3,u=B3,v=t.add.graphics();v.fillStyle(d.surfaceAlt,1),v.fillRoundedRect(-P/2,-n/2,P,n,T),v.lineStyle(1.2,d.surfaceStroke,1),v.strokeRoundedRect(-P/2,-n/2,P,n,T);const p=o(16,{max:22}),m=o(24,{max:32}),g=o(32,{max:44}),C=f(r,{fontFamily:x,maxWidth:Math.max(0,P-a-i-p),maxHeight:n-o(51,{max:69}),theme:d});C.setPosition(-P/2+i,0),C.setOrigin(0,.5);const M=-P/2+a+p,b=t.add.text(M,-m,`Приз #${h+1}`,{fontFamily:x,fontSize:l(c,{max:u}),color:d.textSecondary});b.setOrigin(0,.5);const w=s<1?s.toFixed(2):s.toFixed(1),R=t.add.text(M,g,`${w}%`,{fontFamily:x,fontSize:l(40,{max:51}),color:d.textPrimary,fontStyle:"bold"});return R.setOrigin(0,.5),t.add.container(y,0,[v,C,b,R])}}class VV{constructor(t,r){this.scene=t,this.config=r}create(t,r){const{theme:h,fontFamily:y,horizontalPadding:P,scaleValue:n,scaleFont:T,layoutScale:i,highlightLimit:a=4,chancePresets:x=[.27,.72,2.01,6.5]}=this.config,d=D3,l=B3,o=d/22,s=Math.max(this.scene.scale.width-P*2,n(280)),f=n(247,{max:335}),c=n(55,{max:69}),u=Si.Math.Clamp(i*1.5,1.2,2.4),v=this.scene.add.container(this.scene.scale.width/2,t),p=this.scene.add.graphics();p.fillStyle(h.surface,1),p.fillRoundedRect(-s/2,-f/2,s,f,c),p.lineStyle(u,h.surfaceStroke,1),p.strokeRoundedRect(-s/2,-f/2,s,f,c);const m=n(44,{max:58}),g=n(28,{max:40}),C=this.scene.add.text(-s/2+m,-f/2+g,"Можно выиграть",{fontFamily:y,fontSize:T(d,{max:l}),color:h.textSecondary});C.setOrigin(0,0),v.add([p,C]);const M=r;if(!M.length)return{container:v,bottom:t+f/2};const b=Math.max(1,Math.min(a,M.length)),w=n(52,{max:76}),R=n(24,{max:32}),A=s-w,L=R*Math.max(0,b-1),D=A>0?(A-L)/b:A/Math.max(1,b),G=Math.max(Math.round(D*o),n(215,{max:284})),B=n(95,{max:138}),I=n(44,{max:58}),k=s-B,z=Math.max(1,Math.floor((k+I)/(G+I))),X=Math.max(1,Math.min(b,M.length,z)),H=I*Math.max(0,X-1),Q=Math.max(0,k-H),J=X>0?Q/X:0,Y=Math.max(1,Math.round(Math.min(G,J))),$=n(135,{max:171}),V=n(36,{max:47}),U=n(33,{max:47}),K=n(116,{max:145}),j=n(87,{max:109}),_=Math.max(j,Math.round(Y*.45)),tt=Si.Math.Clamp(K,j,_),rt=n(33,{max:44}),ot=n(22,{max:33}),ft=Math.max(ot,Math.round(tt*.6)),ct=Si.Math.Clamp(rt,ot,ft),gt=k,yt=$+n(116,{max:156}),Mt=-s/2+B/2,Ct=this.scene.add.container(Mt,U);v.add(Ct);const Wt=this.scene.make.graphics({x:v.x+Mt,y:t+U-yt/2,add:!1});Wt.fillStyle(16777215,1),Wt.fillRoundedRect(0,0,gt,yt,V);const Yt=Wt.createGeometryMask();Ct.setMask(Yt),v.once(Si.GameObjects.Events.DESTROY,()=>Wt.destroy());const Ht=M.length*Y+I*Math.max(0,M.length-1),bt=Math.max(0,Ht-gt);let kt=0;const zt=Bt=>{kt=Si.Math.Clamp(Bt,-bt,0),Ct.x=Mt+kt};M.forEach((Bt,Ut)=>{const te=Y*Ut+Y/2+I*Ut,ce=x[Ut]??1.2,yi=new UV({scene:this.scene,item:Bt,index:Ut,positionX:te,cardWidth:Y,cardHeight:$,cardRadius:V,emojiOffsetX:ct,textGapX:tt,fontFamily:y,theme:h,scaleFont:T,scaleValue:n,chance:ce,createItemContent:(fi,Ai)=>this.createItemContent(fi,Ai)}).create();Ct.add(yi)});const jt=yt,fe=this.scene.add.zone(0,0,gt,jt);fe.setPosition(Mt+gt/2,U),fe.setInteractive({cursor:"pointer"});let xe=!1,le=0,Ee=0;fe.on(Si.Input.Events.POINTER_DOWN,Bt=>{xe=!0,le=Bt.x,Ee=kt}),fe.on(Si.Input.Events.POINTER_MOVE,Bt=>{if(!xe)return;const Ut=Bt.x-le;zt(Ee+Ut)});const Qe=()=>{xe=!1};return fe.on(Si.Input.Events.POINTER_UP,Qe),fe.on(Si.Input.Events.POINTER_UP_OUTSIDE,Qe),fe.on(Si.Input.Events.POINTER_OUT,Bt=>{Bt.isDown||Qe()}),fe.on(Si.Input.Events.WHEEL,(Bt,Ut,te,ce)=>{const Pe=Math.abs(te)>Math.abs(ce)?te:ce;Pe&&zt(kt-Pe)}),v.add(fe),v.once(Si.GameObjects.Events.DESTROY,()=>fe.destroy()),zt(0),{container:v,bottom:t+f/2}}createItemContent(t,r){const h=this.getTextureKey(t.id);if(this.scene.textures.exists(h)){const P=this.scene.add.image(0,0,h),n=this.calculateItemScale(t.width,t.height,r.maxWidth,r.maxHeight),T=t.width*n,i=t.height*n;return T>0&&i>0&&P.setDisplaySize(T,i),P.setOrigin(0,.5),P}const y=this.scene.add.text(0,0,t.emoji,{fontFamily:r.fontFamily,fontSize:this.config.scaleFont(69,{max:87}),color:r.theme.textPrimary});return y.setOrigin(0,.5),y}getTextureKey(t){return`gift-carousel-${t}`}calculateItemScale(t,r,h,y){if(!t||!r)return 1;const P=h/t,n=y/r,T=Math.min(P,n);return Number.isFinite(T)&&T>0?Math.min(T,1):1}}class WV{constructor(t,r){we(this,"baseSpeed",5e3);we(this,"accelDuration",.2);we(this,"stopExtraRotations",1);we(this,"carouselData",[]);we(this,"carouselGroup");we(this,"carouselItems",[]);we(this,"lastItemDimensions");we(this,"carouselSpacing",240);we(this,"carouselSpeed",0);we(this,"isAccelerating",!1);we(this,"accelElapsed",0);we(this,"isSpinning",!1);we(this,"isLinearStopping",!1);we(this,"decelElapsed",0);we(this,"decelDuration",0);we(this,"decelStartSpeed",0);we(this,"stopDistancePlanned",0);we(this,"selectedItem");we(this,"stopTargetItem");this.scene=t,this.config=r}setItems(t){this.carouselData=t.map(r=>({...r}))}getItems(){return this.carouselData.map(t=>({...t}))}create(t){const r=this.scene.scale.width/2;this.carouselGroup&&this.carouselGroup.destroy(!0),this.carouselGroup=this.scene.add.container(r,t),this.carouselSpacing=this.getCarouselSpacing();const{width:h,height:y,cornerRadius:P,contentPadding:n}=this.getItemDimensions();this.lastItemDimensions={width:h,height:y,cornerRadius:P,contentPadding:n};const T=h-n,i=y-n,a=-((this.carouselData.length-1)*this.carouselSpacing)/2;this.carouselItems=this.carouselData.map((x,d)=>{var v;const l=this.scene.add.container(a+d*this.carouselSpacing,0),o=this.scene.add.graphics();o.fillStyle(this.config.theme.accent,1),o.setAlpha(.08);const s=this.scene.add.graphics();s.fillStyle(this.config.theme.surfaceAlt,1),s.fillRoundedRect(-h/2,-y/2,h,y,P),s.lineStyle(2,this.config.theme.surfaceStroke,1),s.strokeRoundedRect(-h/2,-y/2,h,y,P);const f=this.getTextureKey(x.id);let c;if(this.scene.textures.exists(f)){const p=this.scene.add.image(0,0,f);p.setOrigin(.5);const m=this.calculateItemScale(x.width,x.height,T,i),g=x.width*m,C=x.height*m;g>0&&C>0&&p.setDisplaySize(g,C),c=p}else{const p=this.scene.add.text(0,0,x.emoji,{fontFamily:this.config.fontFamily,fontSize:this.config.scaleFont(307,{max:397}),color:this.config.theme.textPrimary,strokeThickness:0});p.setOrigin(.5),c=p}l.add([o,s,c]),(v=this.carouselGroup)==null||v.add(l);const u={container:l,background:s,glow:o,content:c,data:x};return this.updateCarouselItem(u,!1),u})}update(t){var r,h;if(this.isAccelerating){this.accelElapsed+=t;const y=Si.Math.Clamp(this.accelElapsed/this.accelDuration,0,1);this.carouselSpeed=this.baseSpeed*y;const P=this.carouselSpeed*t;P!==0&&this.moveCarousel(P),y>=1&&(this.isAccelerating=!1,this.isSpinning=!0,this.carouselSpeed=this.baseSpeed);return}if(this.isSpinning){const y=this.carouselSpeed*t;y!==0&&this.moveCarousel(y);return}if(this.isLinearStopping){const y=this.decelDuration>0?Si.Math.Clamp(this.decelElapsed/this.decelDuration,0,1):1;let n=this.decelStartSpeed*(1-y)*t;if(n>this.stopDistancePlanned&&(n=this.stopDistancePlanned),n>0&&(this.moveCarousel(n),this.stopDistancePlanned-=n),this.decelElapsed+=t,this.stopDistancePlanned<=1e-4||this.decelElapsed>=this.decelDuration){const T=this.stopTargetItem??this.findClosestToCenter();if(T){const i=T.container.x;Math.abs(i)>0&&this.moveCarousel(i),this.highlightSelection(T),(h=(r=this.config).onAlignmentComplete)==null||h.call(r,T.data)}this.isLinearStopping=!1,this.carouselSpeed=0}return}}startSpin(){return this.isAccelerating||this.isSpinning||this.isLinearStopping?!1:(this.resetSelection(),this.stopTargetItem=void 0,this.stopDistancePlanned=0,this.carouselSpeed=0,this.isAccelerating=!0,this.accelElapsed=0,!0)}beginStop(){if(this.isLinearStopping||!this.isAccelerating&&!this.isSpinning||(this.stopTargetItem=this.selectRandomCarouselItem(),!this.stopTargetItem||!this.carouselData.length))return!1;const t=this.calculateForwardDistanceToCenter(this.stopTargetItem),r=this.getFullRotationDistance(),h=Math.max(0,this.stopExtraRotations);this.stopDistancePlanned=t+r*h;const y=Math.max(this.carouselSpeed||this.baseSpeed,.001);return this.decelStartSpeed=y,this.decelDuration=2*this.stopDistancePlanned/y,this.decelElapsed=0,this.isAccelerating=!1,this.isSpinning=!1,this.isLinearStopping=!0,!0}getContentBounds(){if(!this.carouselGroup||!this.lastItemDimensions)return;const t=this.carouselGroup.y,r=this.lastItemDimensions.height/2;return{top:t-r,bottom:t+r,height:this.lastItemDimensions.height}}getTextureKey(t){return`gift-carousel-${t}`}getItemDimensions(){const t=this.config.scaleValue(600,{max:764}),r=this.config.scaleValue(600,{max:764}),h=this.config.scaleValue(115,{max:140}),y=this.config.scaleValue(140,{max:185});return{width:t,height:r,cornerRadius:h,contentPadding:y}}getCarouselSpacing(){const r=this.config.scaleValue(702);return Si.Math.Clamp(r,638,1083)}calculateItemScale(t,r,h,y){if(!t||!r)return 1;const P=h/t,n=y/r,T=Math.min(P,n);return Number.isFinite(T)&&T>0?Math.min(T,1):1}selectRandomCarouselItem(){var h;if(!this.carouselData.length||!this.carouselItems.length)return;const t=Si.Math.Between(0,this.carouselData.length-1),r=(h=this.carouselData[t])==null?void 0:h.id;if(r)return this.carouselItems.find(y=>y.data.id===r)??this.carouselItems[t]}calculateForwardDistanceToCenter(t){if(!t)return 0;const r=this.getFullRotationDistance();if(r<=0)return 0;const h=t.container.x;return h>=0?h:h+r}getFullRotationDistance(){return this.carouselSpacing*this.carouselData.length}moveCarousel(t){t&&(this.carouselItems.forEach(r=>{var P,n;const h=r.container.x,y=h-t;this.didCrossCenter(h,y)&&((n=(P=this.config).onItemPassCenter)==null||n.call(P,r.data)),r.container.x=y}),this.wrapCarouselItems())}didCrossCenter(t,r){return t===r?!1:t>0&&r<=0}wrapCarouselItems(){const t=-((this.carouselData.length+1)*this.carouselSpacing)/2,r=(this.carouselData.length+1)*this.carouselSpacing/2;this.carouselItems.forEach(h=>{if(h.container.x<t){const y=this.getMaxItemX();h.container.x=y+this.carouselSpacing}else if(h.container.x>r){const y=this.getMinItemX();h.container.x=y-this.carouselSpacing}})}getMaxItemX(){return this.carouselItems.reduce((t,r)=>Math.max(t,r.container.x),Number.NEGATIVE_INFINITY)}getMinItemX(){return this.carouselItems.reduce((t,r)=>Math.min(t,r.container.x),Number.POSITIVE_INFINITY)}findClosestToCenter(){return this.carouselItems.reduce((r,h)=>{const y=Math.abs(h.container.x);return!r.item||y<r.distance?{item:h,distance:y}:r},{distance:Number.MAX_VALUE}).item}highlightSelection(t){this.selectedItem&&this.updateCarouselItem(this.selectedItem,!1),this.selectedItem=t,this.updateCarouselItem(t,!0)}resetSelection(){this.selectedItem&&(this.updateCarouselItem(this.selectedItem,!1),this.selectedItem=void 0)}updateCarouselItem(t,r){const{width:h,height:y,cornerRadius:P}=this.getItemDimensions(),n=this.config.getLayoutScale(),T=Si.Math.Clamp(n*3,2.2,4.2),i=Si.Math.Clamp(n*2,1.4,3);t.background.clear(),r?(t.background.fillStyle(this.config.theme.accent,1),t.background.fillRoundedRect(-h/2,-y/2,h,y,P),t.background.lineStyle(T,this.config.theme.accentSoft,1)):(t.background.fillStyle(this.config.theme.surfaceAlt,1),t.background.fillRoundedRect(-h/2,-y/2,h,y,P),t.background.lineStyle(i,this.config.theme.surfaceStroke,1)),t.background.strokeRoundedRect(-h/2,-y/2,h,y,P),t.glow.setAlpha(r?.22:.08),t.content instanceof Si.GameObjects.Text?t.content.setStyle({color:r?"#06111f":this.config.theme.textPrimary,strokeThickness:0}):t.content instanceof Si.GameObjects.Image&&(r?(t.content.clearTint(),t.content.setAlpha(1)):(t.content.setTint(9479358),t.content.setAlpha(.85)))}}var YV=Object.defineProperty,XV=Object.getOwnPropertyDescriptor,I3=(e,t,r,h)=>{for(var y=XV(t,r),P=e.length-1,n;P>=0;P--)(n=e[P])&&(y=n(t,r,y)||y);return y&&YV(t,r,y),y};const pO=30,HV={background:923169,surface:1515819,surfaceAlt:1845043,surfaceStroke:2240834,accent:2786303,accentSoft:1860850,success:4052376,danger:16735354,textPrimary:"#f3f4f6",textSecondary:"#97a6ba",textMuted:"#6f7d90",badge:2042425};class gP extends Si.Scene{constructor(){super(R3);we(this,"theme",HV);we(this,"fontFamily",'Inter, "SF Pro Display", "Helvetica Neue", Arial, sans-serif');we(this,"betValues",[25,50,100,200]);we(this,"betButtons",[]);we(this,"currentBetIndex",0);we(this,"carouselData",[]);we(this,"carousel");we(this,"spinButton");we(this,"stopTimer");we(this,"neonButton");we(this,"layoutScale",1);we(this,"horizontalPadding",16);we(this,"profileTopOffset",64);we(this,"sectionSpacing",32);we(this,"controlsBottomPadding",110);we(this,"contentVerticalOffset",0);we(this,"isSpinInProgress",!1)}resolveLayoutConfig(){const{width:r,height:h}=this.scale,y=420,P=780,n=y/Math.max(r,1),T=P/Math.max(h,1),i=Math.max(n,T);this.layoutScale=Si.Math.Clamp(i,1,1.65),this.horizontalPadding=Si.Math.Clamp(r*.06,16,32),this.profileTopOffset=this.scaleValue(48,{max:96}),this.contentVerticalOffset=this.scaleValue(300,{min:260,max:360}),this.sectionSpacing=this.scaleValue(28,{max:56});const a=this.scaleValue(88,{max:132}),x=this.scaleValue(168,{max:220});this.controlsBottomPadding=Si.Math.Clamp(h*.12,a,x)}scaleValue(r,h){const y=r*this.layoutScale,P=(h==null?void 0:h.min)??r,n=(h==null?void 0:h.max)??y;return Si.Math.Clamp(y,P,n)}scaleFont(r,h){const y=this.scaleValue(r,h);return`${Math.round(y)}px`}createBackground(){this.cameras.main.setBackgroundColor(this.theme.background)}createProfileCard(r){const h=KE.getUserProfile();return new OV(this,{theme:this.theme,fontFamily:this.fontFamily,horizontalPadding:this.horizontalPadding,scaleValue:this.scaleValue.bind(this),scaleFont:this.scaleFont.bind(this),profile:h?{id:h.id,fullName:h.fullName,initials:h.initials,username:h.username,isPremium:h.isPremium,photoUrl:h.photoUrl}:void 0}).create(r)}init(r){var y;const h=kV.map(P=>({...P}));(y=r==null?void 0:r.items)!=null&&y.length?this.carouselData=r.items.map(P=>({...P})):this.carouselData=h}create(){var x,d,l;this.resolveLayoutConfig(),this.createBackground(),this.neonButton=new zV(this,{fontFamily:this.fontFamily,scaleValue:this.scaleValue.bind(this)});const r=this.profileTopOffset+this.contentVerticalOffset,{bottom:h}=this.createProfileCard(r),y=new NV(this,{theme:{textMuted:this.theme.textMuted,textSecondary:this.theme.textSecondary,accent:this.theme.accent,surfaceAlt:this.theme.surfaceAlt,surfaceStroke:this.theme.surfaceStroke},fontFamily:this.fontFamily,horizontalPadding:this.horizontalPadding,scaleValue:this.scaleValue.bind(this),scaleFont:this.scaleFont.bind(this),betValues:this.betValues,currentBetIndex:this.currentBetIndex,neonButton:this.neonButton,onBetChange:o=>this.handleBetChange(o)}),{bottom:P,buttons:n}=y.create(h+this.sectionSpacing);this.betButtons=n,this.setBetButtonsInteractivity(!0),this.carousel=new WV(this,{theme:{accent:this.theme.accent,accentSoft:this.theme.accentSoft,surfaceAlt:this.theme.surfaceAlt,surfaceStroke:this.theme.surfaceStroke,textPrimary:this.theme.textPrimary,textSecondary:this.theme.textSecondary},fontFamily:this.fontFamily,scaleValue:this.scaleValue.bind(this),scaleFont:this.scaleFont.bind(this),getLayoutScale:()=>this.layoutScale,onAlignmentComplete:()=>{var o;this.neonButton.setEnabled(this.spinButton,!0),this.setBetButtonsInteractivity(!0),this.isSpinInProgress=!1,(o=this.stopTimer)==null||o.remove(),this.stopTimer=void 0},onItemPassCenter:()=>{KE.vibrate()}}),this.carousel.setItems(this.carouselData);const T=this.resolveCarouselCenter(P);(x=this.carousel)==null||x.create(T);const i=((l=(d=this.carousel)==null?void 0:d.getContentBounds())==null?void 0:l.bottom)??T,a=this.resolveRewardsRailPosition();this.createControls(i,a.top),this.createRewardsRail(a.center)}update(r,h){this.carousel&&this.carousel.update(h/1e3)}createControls(r,h){const y=this.scale.width/2,P=Math.max(this.scale.width-this.horizontalPadding*2,200),n=this.scaleValue(136,{max:184}),T=n/2,i=this.scaleValue(32,{max:44}),a=this.scaleValue(96,{max:136}),x=this.scaleValue(64,{max:92});let d=Math.min(this.scale.height-this.controlsBottomPadding,h-x-T);Number.isFinite(d)||(d=this.scale.height-this.controlsBottomPadding);const l=r+T+i,o=r+T+a;let s;if(d>=l)s=Si.Math.Clamp(o,l,d);else{const c=r+T+this.scaleValue(56,{max:76});s=Math.min(d,c)}Number.isFinite(s)||(s=d);const f=P;this.spinButton=this.neonButton.create("",{width:f,height:n,glowColor:this.theme.accent,activeFill:this.theme.accent,inactiveFill:this.theme.surfaceAlt,activeStroke:this.theme.accent,inactiveStroke:this.theme.surfaceStroke,activeText:"#06111f",inactiveText:this.theme.textSecondary,strokeWidth:0,inactiveStrokeWidth:2,glowActiveAlpha:.25,glowInactiveAlpha:.06,fontSize:this.scaleValue(52,{max:72})}),this.spinButton.container.setPosition(y,s),this.spinButton.container.on("pointerup",()=>this.handleSpin()),this.neonButton.setEnabled(this.spinButton,!0),this.updateSpinLabel()}createRewardsRail(r){if(!this.carouselData.length)return;const h=this.scaleValue(220,{max:320})-pO,y=Math.max(r,h);new VV(this,{theme:{surface:this.theme.surface,surfaceAlt:this.theme.surfaceAlt,surfaceStroke:this.theme.surfaceStroke,textSecondary:this.theme.textSecondary,textPrimary:this.theme.textPrimary},fontFamily:this.fontFamily,horizontalPadding:this.horizontalPadding,scaleValue:this.scaleValue.bind(this),scaleFont:this.scaleFont.bind(this),layoutScale:this.layoutScale}).create(y,this.carouselData)}resolveRewardsRailPosition(){const r=this.scaleValue(247,{max:335}),h=this.scaleValue(32,{max:48}),y=this.scale.height-h-r/2,P=this.scaleValue(220,{max:320}),T=Math.max(P,y)-pO;return{center:T,top:T-r/2}}resolveCarouselCenter(r){const h=this.scale.height/2+this.scaleValue(40,{max:64}),y=r+this.scaleValue(170,{max:240}),P=this.scaleValue(260,{max:360}),n=this.controlsBottomPadding+this.scaleValue(180,{max:240}),T=this.scale.height-n,i=Math.max(h,y);return Si.Math.Clamp(i,P,Math.max(P,T))}updateSpinLabel(){if(!this.spinButton)return;const r=this.betValues[this.currentBetIndex];this.spinButton.label.setText(`Поехали! ${r} 💎`)}handleBetChange(r){this.isSpinInProgress||this.currentBetIndex!==r&&(this.currentBetIndex=r,this.betButtons.forEach((h,y)=>this.neonButton.setActive(h,y===r)),this.updateSpinLabel())}handleSpin(){var r;this.carousel&&this.carousel.startSpin()&&(this.neonButton.setEnabled(this.spinButton,!1),this.setBetButtonsInteractivity(!1),this.isSpinInProgress=!0,(r=this.stopTimer)==null||r.remove(),this.stopTimer=this.time.delayedCall(2e3,()=>this.handleStop()))}handleStop(){var r;this.carousel&&((r=this.stopTimer)==null||r.remove(),this.stopTimer=void 0,this.carousel.beginStop())}setBetButtonsInteractivity(r){this.betButtons.forEach(h=>{h.container.input&&(h.container.input.enabled=r,h.container.input.cursor=r?"pointer":"default")})}}I3([Zh],gP.prototype,"init");I3([Zh],gP.prototype,"create");class It{constructor(t){this.scene=t,t.events.once("destroy",this.destroy,this)}destroy(){this.scene=null}static register(t,r){It.prototype[t]=r}}var $V=function(e){return e===void 0&&(e=KV),this.getFrameNameCallback=e,this},KV=function(e,t,r){return r==="__BASE"?`${e},${t}`:`${r}:${e},${t}`};function Ur(e){if(e===null||typeof e!="object")return e;if(Array.isArray(e))return e.map(r=>Ur(r));if(e instanceof Date)return new Date(e);if(e instanceof RegExp)return new RegExp(e);if(Object.getPrototypeOf(e)!==Object.prototype)return e;const t={};for(let r in e)e.hasOwnProperty(r)&&(t[r]=Ur(e[r]));return t}var ZV=function(e,t,r,h){Array.isArray(t)&&(h=r,r=t,t=void 0),t==null&&(t="__BASE"),typeof r=="number"&&arguments.length>=6?(r=[arguments[2],void 0,arguments[3]],h=[arguments[4],void 0,arguments[5]]):r===void 0&&h===void 0&&this.columns.data!==void 0&&this.rows.data!==void 0?(r=this.columns.data,h=this.rows.data):(r=Ur(r),h=Ur(h)),this.textureKey=e,this.baseFrameName=t,this.columns.data=r,this.columns.count=r?r.length:0,this.columns.stretch=0,this.columns.minWidth=0,this.columns.scale=1,this.rows.data=h,this.rows.count=h?h.length:0,this.rows.stretch=0,this.rows.minHeight=0,this.rows.scale=1;var y=this.scene.sys.textures.get(e);if(!y)return this.clear(),this;if(!r||!h)return this.clear(),this;for(var P=y.get(t),n=P.width,T=0,i=0,a=r.length;i<a;i++)r[i]===void 0?T++:typeof r[i]=="number"?n-=r[i]:n-=r[i].width;for(var x=T>0?n/T:0,d=P.height,l=0,i=0,a=h.length;i<a;i++)h[i]===void 0?l++:typeof h[i]=="number"?d-=h[i]:d-=h[i].width;for(var o=l?d/l:0,s,f,c,u,v,p=0,m=0,g=0,C=h.length;g<C;g++){h[g]===void 0&&(h[g]=o),typeof h[g]=="number"&&(h[g]={height:h[g],stretch:g%2}),s=h[g],c=s.height,this.rows.stretch+=s.stretch|0,this.rows.minHeight+=s.stretch>0?0:c,p=0;for(var i=0,M=r.length;i<M;i++){if(r[i]===void 0&&(r[i]=x),typeof r[i]=="number"&&(r[i]={width:r[i],stretch:i%2}),f=r[i],u=f.width,g===0&&(this.columns.stretch+=f.stretch|0,this.columns.minWidth+=f.stretch>0?0:u),u>=1&&c>=1){v=this.getFrameNameCallback(i,g,t);var b=typeof v;(b==="string"||b==="number")&&y.add(v,0,p+P.cutX,m+P.cutY,u,c)}p+=u}m+=c}return this.updateTexture(),this},JV=function(){if(this.clear(),this.textureKey===void 0)return this;var e=this.scene.sys.textures.get(this.textureKey);if(!e)return this;var t=this.columns.minWidth*this.maxFixedPartScaleX,r=this.rows.minHeight*this.maxFixedPartScaleY,h=this.width-t,y=this.height-r,P=h>=0?this.maxFixedPartScaleX:this.width/t,n=y>=0?this.maxFixedPartScaleY:this.height/r;if(this.preserveRatio){var T=Math.min(P,n);if(P>T){var i=(P-T)*t;h>=0?h+=i:h=i,P=T}if(n>T){var a=(n-T)*r;y>=0?y+=a:y=a,n=T}}this.columns.scale=P,this.rows.scale=n;var x;h>0?x=this.columns.stretch>0?h/this.columns.stretch:0:x=0;var d;y>0?d=this.rows.stretch>0?y/this.rows.stretch:0:d=0;var l,o,s,f,c,u=0,v=0,p;this._beginDraw();for(var m=0,g=this.rows.count;m<g;m++){s=this.rows.data[m],c=s.stretch===0?s.height*n:d*s.stretch,u=0;for(var C=0,M=this.columns.count;C<M;C++)o=this.columns.data[C],f=o.stretch===0?o.width*P:x*o.stretch,l=this.getFrameNameCallback(C,m,this.baseFrameName),e.has(l)&&f>0&&c>0&&(s.stretch===0&&o.stretch===0||this.getStretchMode(C,m)===0?p=0:p=1,p===0?this._drawImage(this.textureKey,l,u,v,f,c):this._drawTileSprite(this.textureKey,l,u,v,f,c)),u+=f;v+=c}this._endDraw()};const QV=Phaser.Utils.Objects.IsPlainObject,gO=Phaser.Utils.Objects.GetValue;var jV=function(e){return QV(e)?(this.stretchMode.edge=s1(gO(e,"edge",0)),this.stretchMode.internal=s1(gO(e,"internal",0))):(e=s1(e),this.stretchMode.edge=e,this.stretchMode.internal=e),this},s1=function(e){return typeof e=="string"&&(e=qV[e]),e};const qV={scale:0,repeat:1};var _V=function(e,t){return e===0||e===this.columns.count-1||t===0||t===this.rows.count-1},tW=function(e,t){return _V.call(this,e,t)?this.stretchMode.edge:this.stretchMode.internal},eW=function(e){return e==null&&(e=!0),this.preserveRatio=e,this},iW=function(e,t){return t===void 0&&(t=e),this.maxFixedPartScaleX=e,this.maxFixedPartScaleY=t,this},wr=function(){};const rW={_beginDraw:wr,_drawImage:wr,_drawTileSprite:wr,_endDraw:wr,setGetFrameNameCallback:$V,setBaseTexture:ZV,updateTexture:JV,setStretchMode:jV,getStretchMode:tW,setPreserveRatio:eW,setMaxFixedPartScale:iW},Xc=Phaser.Utils.Objects.IsPlainObject,si=Phaser.Utils.Objects.GetValue;var G3=function(e,t){class r extends e{constructor(y,P,n,T,i,a,x,d,l,o){if(Xc(P)?(o=P,P=si(o,"x",0),n=si(o,"y",0),T=si(o,"width",1),i=si(o,"height",1),a=si(o,"key",void 0),x=si(o,"baseFrame",void 0),d=si(o,"columns",void 0),l=si(o,"rows",void 0)):Xc(T)?(o=T,T=si(o,"width",1),i=si(o,"height",1),a=si(o,"key",void 0),x=si(o,"baseFrame",void 0),d=si(o,"columns",void 0),l=si(o,"rows",void 0)):Xc(a)?(o=a,a=si(o,"key",void 0),x=si(o,"baseFrame",void 0),d=si(o,"columns",void 0),l=si(o,"rows",void 0)):Xc(x)?(o=x,x=si(o,"baseFrame",void 0),d=si(o,"columns",void 0),l=si(o,"rows",void 0)):Array.isArray(x)?(o=l,l=d,d=x,x=si(o,"baseFrame",void 0)):Xc(d)&&(o=d,d=si(o,"columns",void 0),l=si(o,"rows",void 0)),x===void 0&&(x=si(o,"frame",void 0)),d===void 0){var s=si(o,"leftWidth",void 0),f=si(o,"rightWidth",void 0);s!==void 0&&f!==void 0&&(d=[s,void 0,f])}if(l===void 0){var c=si(o,"topHeight",void 0),u=si(o,"bottomHeight",void 0);c!==void 0&&u!==void 0&&(l=[c,void 0,u])}super(y),this.type=t,this.setPosition(P,n).setSize(T,i).setOrigin(.5,.5),this.columns={},this.rows={},this.stretchMode={},this._tileSprite=void 0,this._image=void 0,this.setGetFrameNameCallback(si(o,"getFrameNameCallback",void 0)),this.setStretchMode(si(o,"stretchMode",0)),this.setPreserveRatio(si(o,"preserveRatio",!0));var v=si(o,"maxFixedPartScale",1),p=si(o,"maxFixedPartScaleX",v),m=si(o,"maxFixedPartScaleY",void 0);this.setMaxFixedPartScale(p,m),this.setBaseTexture(a,x,d,l)}get minWidth(){return this.columns.minWidth}get minHeight(){return this.rows.minHeight}get fixedPartScaleX(){return this.columns.scale}get fixedPartScaleY(){return this.rows.scale}resize(y,P){return this.width===y&&this.height===P?this:(super.resize?super.resize(y,P):super.setSize(y,P),this.updateTexture(),this)}get leftWidth(){return this.columns.data[0]}get rightWidth(){return this.columns.data[this.columns.count-1]}get topHeight(){return this.rows.data[0]}get bottomHeight(){return this.rows.data[this.rows.count-1]}}return Object.assign(r.prototype,rW),r};const nW=Phaser.Game;var mO=function(e){return e instanceof nW};const sW=Phaser.Scene;var au=function(e){return e instanceof sW},hu=function(e){if(e==null||typeof e!="object")return null;if(mO(e))return e;if(mO(e.game))return e.game;if(au(e))return e.sys.game;if(au(e.scene))return e.scene.sys.game};const aW=Phaser.GameObjects;var Ch=void 0,k3=function(e,t){if(Ch||(Ch={},hu(e).events.once("destroy",function(){for(var h in Ch)Ch[h].destroy();Ch=void 0})),!Ch.hasOwnProperty(t)){var r=hu(e).scene.systemScene,e=new aW[t](r);e.setOrigin(0),Ch[t]=e}return Ch[t]},oW=function(e,t,r,h,y,P){var n=k3(this,"Image").setTexture(e,t).setDisplaySize(y,P);this.draw(n,r,h)},hW=function(e,t,r,h,y,P){var n=k3(this,"TileSprite").setTexture(e,t).setSize(y,P);this.draw(n,r,h)};const lW=Phaser.GameObjects.RenderTexture;let ex=class extends G3(lW,"rexNinePatch"){};var uW={_drawImage:oW,_drawTileSprite:hW};Object.assign(ex.prototype,uW);var N3=function(e){return e==null||e===""||e.length===0},fW=function(e,t,r){var h=e;if(!N3(t)){typeof t=="string"&&(t=t.split("."));for(var y,P=0,n=t.length;P<n;P++){if(y=t[P],h[y]==null||typeof h[y]!="object"){var T;P===n-1?T={}:T={},h[y]=T}h=h[y]}}return h},Lt=function(e,t,r,h){if(h===void 0&&(h="."),typeof e=="object"){if(N3(t)){if(r==null)return;typeof r=="object"&&(e=r)}else{typeof t=="string"&&(t=t.split(h));var y=t.pop(),P=fW(e,t);P[y]=r}return e}};It.register("ninePatch",function(e,t,r,h,y,P,n,T){var i=new ex(this.scene,e,t,r,h,y,P,n,T);return this.scene.add.existing(i),i});Lt(window,"RexPlugins.UI.NinePatch",ex);const dW=Phaser.GameObjects.GetCalcMatrix;var cW=function(e,t,r,h){var y=t.getRenderList();if(y.length!==0){r.addToRenderList(t);var P=e.pipelines.set(t.pipeline),n=t.frame.glTexture,T=P.setGameObject(t),i=r.roundPixels,a=dW(t,r,h),x=P.calcMatrix.copyFrom(a.calc),d=t._displayOriginX,l=t._displayOriginY,o=r.alpha*t.alpha;e.pipelines.preBatch(t);for(var s=0,f=y.length;s<f;s++)y[s].webglRender(P,x,o,d,l,n,T,i);e.pipelines.postBatch(t)}};const vW=Phaser.Renderer.Canvas.SetTransform;var pW=function(e,t,r,h){var y=e.currentContext,P=t.getRenderList();if(!(P.length===0||!vW(e,y,t,r,h))){r.addToRenderList(t);var n=r.roundPixels,T=-t._displayOriginX,i=-t._displayOriginY;y.translate(T,i);for(var a=0,x=P.length;a<x;a++)P[a].canvasRender(y,T,i,n);y.restore()}};const gW={renderWebGL:cW,renderCanvas:pW};var mW=function(e,t){return this.texture=this.scene.sys.textures.get(e),this.frame=this.texture.get(t),this},xO=function(e,t){if(this.width===e&&this.height===t)return this;this.width=e,this.height=t,this.updateDisplayOrigin();var r=this.input;return r&&!r.customHitArea&&(r.hitArea.width=e,r.hitArea.height=t),this},xW=function(e){return this.lastAppendedChildren.length=0,Array.isArray(e)?(this.children.add(e),this.lastAppendedChildren.push(...e)):(this.children.add(e),this.lastAppendedChildren.push(e)),this};const yW=Phaser.Utils.Array.Remove;var CW=function(e){return this.poolManager&&this.poolManager.free(e),yW(this.children.list,e),this.lastAppendedChildren.length=0,this.dirty=!0,this},yO=function(){return this.poolManager&&this.poolManager.freeMultiple(this.children.list),this.children.list.length=0,this.lastAppendedChildren.length=0,this.dirty=!0,this},SW=function(){return this.lastAppendedChildren},TW=function(){return this.children.list};const EW={setTint(e){return this.tint=e,this.tintFill=!1,this},setTintFill(e){return this.tint=e,this.tintFill=!0,this},clearTint(){return this.setTint(16777215),this}};var z3={setTexture:mW,resize:xO,setSize:xO,addChild:xW,removeChild:CW,removeChildren:yO,clear:yO,getLastAppendedChildren:SW,getChildren:TW};Object.assign(z3,EW);class $a{constructor(){this.items=[]}destroy(){this.clear(),this.items=void 0}pop(){return this.items.length>0?this.items.pop():null}push(t){return this.items.push(t),this}pushMultiple(t){return this.items.push.apply(this.items,t),t.length=0,this}clear(){return this.items.length=0,this}}const PW=Phaser.Utils.Objects.GetValue;var MW={};let bW=class{constructor(t){this.pools=PW(t,"pools",MW)}destroy(){this.pools=void 0}free(t){if(!this.pools)return this;var r=t.type;return this.pools.hasOwnProperty(r)||(this.pools[r]=new $a),this.pools[r].push(t),t.onFree(),this}freeMultiple(t){if(!this.pools)return this;for(var r=0,h=t.length;r<h;r++)this.free(t[r]);return this}allocate(t){return!this.pools||!this.pools.hasOwnProperty(t)?null:this.pools[t].pop()}};const wW=60;var CO=!1,ix=function(e){if(!CO){e===void 0&&(e=wW);var t=Phaser.VERSION.split("."),r=parseInt(t[0]);if(r===3){var h=parseInt(t[1]);h<e&&console.error(`Minimum supported version : ${r}.${h}`)}else console.error(`Can't supported version : ${r}`);CO=!0}};ix();const RW=Phaser.GameObjects.GameObject,AW=Phaser.Utils.Objects.IsPlainObject,Hc=Phaser.Utils.Objects.GetValue,OW=Phaser.Structs.List,LW=Phaser.Utils.Array.StableSort;class U3 extends RW{constructor(t,r,h,y,P,n){AW(r)&&(n=r,r=Hc(n,"x",0),h=Hc(n,"y",0),y=Hc(n,"texture"),P=Hc(n,"frame")),r===void 0&&(r=0),h===void 0&&(h=0),super(t,"rexBlitter"),this.children=new OW,this.renderList=[],this.displayListDirty=!1,this.lastAppendedChildren=[];var T=Hc(n,"reuseBob",!0);this.poolManager=T?new bW(n):void 0,this.setTexture(y,P),this.setPosition(r,h),this.setOrigin(0,0),this.clearTint(),this.initPipeline(),this.initPostPipeline()}preDestroy(){this.removeChildren(),this.children.destroy(),this.renderList.length=0,this.poolManager&&this.poolManager.destroy()}getRenderList(){if(this.displayListDirty){this.renderList.length=0;for(var t=!1,r=this.children.list,h=0,y=r.length;h<y;h++){var P=r[h];FW(P)&&(this.renderList.push(P),t||(t=P.depth!==0))}t&&LW(this.renderList,DW),this.displayListDirty=!1}return this.renderList}}var FW=function(e){return e.active&&e.visible&&e.alpha>0},DW=function(e,t){return e._depth-t._depth};const Ms=Phaser.GameObjects.Components;Phaser.Class.mixin(U3,[Ms.Alpha,Ms.BlendMode,Ms.ComputedSize,Ms.Depth,Ms.GetBounds,Ms.Mask,Ms.Origin,Ms.Pipeline,Ms.PostPipeline,Ms.ScrollFactor,Ms.Transform,Ms.Visible,gW,z3]);const V3="image";var xi=function(e,t,r){if(!e||typeof e=="number")return r;if(typeof t=="string"){if(e.hasOwnProperty(t))return e[t];if(t.indexOf(".")!==-1)t=t.split(".");else return r}for(var h=t,y=e,P=r,n=0;n<h.length;n++)if(t=h[n],y.hasOwnProperty(t))P=y[t],y=P;else{P=r;break}return P},Wh=function(e){if(typeof e!="object"||e===null)return e;if(Array.isArray(e))e.length=0;else for(var t in e)delete e[t];return e};const rx={enableData(){return this.data===void 0&&(this.data={}),this},setData(e,t){if(this.enableData(),arguments.length===1){var r=e;for(e in r)this.data[e]=r[e]}else this.data[e]=t;return this},getData(e,t){return this.enableData(),e===void 0?this.data:xi(this.data,e,t)},incData(e,t,r){return r===void 0&&(r=0),this.enableData(),this.setData(e,this.getData(e,r)+t),this},mulData(e,t,r){return r===void 0&&(r=0),this.enableData(),this.setData(e,this.getData(e,r)*t),this},clearData(){return this.data&&Wh(this.data),this}};let W3=class{constructor(t,r){this.type=r,this.data=void 0,this.setParent(t).reset().setActive()}destroy(){this.parent&&this.parent.removeChild(this)}setParent(t){return this.parent=t,this}setDisplayListDirty(t){return t&&this.parent&&(this.parent.displayListDirty=!0),this}get active(){return this._active}set active(t){this.setDisplayListDirty(this._active!=t),this._active=t}setActive(t){return t===void 0&&(t=!0),this.active=t,this}modifyPorperties(t){return this}reset(){this.clearData()}onFree(){this.reset().setActive(!1).setParent()}};Object.assign(W3.prototype,rx);const BW=Phaser.Math.DegToRad,IW=Phaser.Math.RadToDeg,mf=Phaser.Utils.Objects.GetValue;let GW=class extends W3{get visible(){return this._visible}set visible(t){this.setDisplayListDirty(this._visible!=t),this._visible=t}setVisible(t){return t===void 0&&(t=!0),this.visible=t,this}get alpha(){return this._alpha}set alpha(t){this.setDisplayListDirty(!!this._alpha!=!!t),this._alpha=t}setAlpha(t){return this.alpha=t,this}setX(t){return this.x=t,this}setY(t){return this.y=t,this}setPosition(t,r){return this.x=t,this.y=r,this}setRotation(t){return this.rotation=t,this}get angle(){return IW(this.rotation)}set angle(t){this.rotation=BW(t)}setAngle(t){return this.angle=t,this}setScaleX(t){return this.scaleX=t,this}get width(){return this._width}set width(t){this._width=t}setWidth(t,r){return r===void 0&&(r=!1),this.width=t,r&&(this.scaleY=this.scaleX),this}setScaleY(t){return this.scaleY=t,this}setScale(t,r){return r===void 0&&(r=t),this.scaleX=t,this.scaleY=r,this}get height(){return this._height}set height(t){this._height=t}setHeight(t,r){return r===void 0&&(r=!1),this.height=t,r&&(this.scaleX=this.scaleY),this}setScale(t,r){return r===void 0&&(r=t),this.scaleX=t,this.scaleY=r,this}get displayWidth(){return this._width*this.scaleX}set displayWidth(t){this.scaleX=t/this._width}setDisplayWidth(t,r){return r===void 0&&(r=!1),this.displayWidth=t,r&&(this.scaleY=this.scaleX),this}get displayHeight(){return this._height*this.scaleY}set displayHeight(t){this.scaleY=t/this._height}setDisplayHeight(t,r){return r===void 0&&(r=!1),this.displayHeight=t,r&&(this.scaleX=this.scaleY),this}setOriginX(t){return this.originX=t,this._displayOriginX=this.width*t,this}setOriginY(t){return this.originY=t,this._displayOriginY=this.height*t,this}setOrigin(t,r){return r===void 0&&(r=t),this.setOriginX(t).setOriginY(r),this}get depth(){return this._depth}set depth(t){this.setDisplayListDirty(this._depth!=t),this._depth=t}setDepth(t){return t===void 0&&(t=0),this.depth=t,this}modifyPorperties(t){if(!t)return this;t.hasOwnProperty("x")&&this.setX(t.x),t.hasOwnProperty("y")&&this.setY(t.y),t.hasOwnProperty("rotation")?this.setRotation(t.rotation):t.hasOwnProperty("angle")&&this.setAngle(t.angle),t.hasOwnProperty("alpha")&&this.setAlpha(t.alpha);var r=mf(t,"width",void 0),h=mf(t,"height",void 0),y=mf(t,"scale",void 0),P=mf(t,"scaleX",y),n=mf(t,"scaleY",y);r!==void 0?h===void 0&&n===void 0?this.setWidth(r,!0):this.setWidth(r):P!==void 0?this.setScaleX(P):t.hasOwnProperty("displayWidth")&&this.setDisplayWidth(t.displayWidth),h!==void 0?r===void 0&&P===void 0?this.setHeight(h,!0):this.setHeight(h):n!==void 0?this.setScaleY(n):t.hasOwnProperty("displayHeight")&&this.setDisplayHeight(t.displayHeight);var T=mf(t,"origin",void 0);return T!==void 0?this.setOrigin(T):(t.hasOwnProperty("originX")&&this.setOriginX(t.originX),t.hasOwnProperty("originY")&&this.setOriginY(t.originY)),t.hasOwnProperty("depth")&&this.setDepth(t.depth),this}reset(){return super.reset(),this.setVisible().setAlpha(1).setPosition(0,0).setRotation(0).setScale(1,1).setOrigin(0).setDepth(0),this}webglRender(t,r,h,y,P,n,T,i){}canvasRender(t,r,h,y){}};const kW=Phaser.GameObjects.Components.TransformMatrix,NW=Phaser.Renderer.WebGL.Utils.getTintAppendFloatAlpha;var Cm=new kW,zW=function(e,t,r,h,y,P,n,T){var i=this.frame;if(i){var a=this._width,x=this._height,d=a*this.originX,l=x*this.originY,o=this.x-h,s=this.y-y,f,c,u,v,p,m,g,C;if(this.isCropped){var M=this._crop;(M.flipX!==this.flipX||M.flipY!==this.flipY)&&i.updateCropUVs(M,this.flipX,this.flipY),f=M.u0,c=M.v0,u=M.u1,v=M.v1,g=M.width,C=M.height,p=M.x,m=M.y}else f=this.frame.u0,c=this.frame.v0,u=this.frame.u1,v=this.frame.v1,g=a,C=x,p=0,m=0;var b=1,w=1;this.flipX&&(o+=a-d*2,b=-1),this.flipY&&(s+=x-l*2,w=-1),Cm.applyITRS(o,s,this.rotation,this.scaleX*b,this.scaleY*w),t.multiply(Cm,Cm);var R=-d+p,A=-l+m,L=R+g,D=A+C,G=Cm.setQuad(R,A,L,D,T),B=NW(this.tint,this.alpha*r);e.batchQuad(this.parent,G[0],G[1],G[2],G[3],G[4],G[5],G[6],G[7],f,c,u,v,B,B,B,B,this.tintFill,P,n)}},UW=function(e,t,r,h){var y=this.frame;if(y){e.save();var P=this._width,n=this._height,T=P*this.originX,i=n*this.originY,a=this.x-T,x=this.y-i,d,l,o,s;if(this.isCropped){var f=this._crop;(f.flipX!==this.flipX||f.flipY!==this.flipY)&&y.updateCropUVs(f,this.flipX,this.flipY),o=f.cw,s=f.ch,d=f.cx,l=f.cy}else o=y.cutWidth,s=y.cutHeight,d=y.cutX,l=y.cutY;var c=1,u=1;this.flipX&&(a+=P,c=-1),this.flipY&&(x+=n,u=-1);var v=y.source.resolution,p=o/v,m=s/v;h&&(a=Math.floor(a+.5),x=Math.floor(x+.5),p+=.5,m+=.5),e.translate(a,x),e.rotate(this.rotation),e.scale(this.scaleX*c,this.scaleY*u),e.drawImage(y.source.image,d,l,o,s,0,0,p,m),e.restore()}};const VW=Phaser.Utils.Objects.IsPlainObject;let Y3=class extends GW{constructor(t,r){super(t,V3),this._crop=WW(),this.setFrame(r)}get width(){return this._width}set width(t){}get height(){return this._height}set height(t){}setFrame(t){return arguments.length>0&&!VW(t)&&(t=this.parent.texture.get(t)),this.frame=t,t?(this._width=t.realWidth,this._height=t.realHeight):(this._width=0,this._height=0),this}setFlipX(t){return t===void 0&&(t=!0),this.flipX=t,this}setFlipY(t){return t===void 0&&(t=!0),this.flipY=t,this}resetFlip(){return this.flipX=!1,this.flipY=!1,this}get tint(){return this._tint===void 0?this.parent.tint:this._tint}set tint(t){this._tint=t}setTint(t){return this.tint=t,this.tintFill=!1,this}setTintFill(t){return this.tint=t,this.tintFill=!0,this}clearTint(){return this.setTint(16777215),this}resetTint(){return this.tint=void 0,this.tintFill=void 0,this}get tintFill(){return this._tintFill===void 0?this.parent.tintFill:this._tintFill}set tintFill(t){this._tintFill=t}setCrop(t,r,h,y){return t===void 0?(this.isCropped=!1,this):this.frame?t===0&&r===0&&h===this._width&&y===this._height?(this.isCropped=!1,this):(this.frame.setCropUVs(this._crop,t,r,h,y,this.flipX,this.flipY),this.isCropped=!0,this):this}reset(){return super.reset(),this.resetFlip().resetTint().setFrame().setCrop(),this}modifyPorperties(t){return t?(t.hasOwnProperty("width")&&(t.displayWidth=t.width,delete t.width),t.hasOwnProperty("height")&&(t.displayHeight=t.height,delete t.height),t.hasOwnProperty("frame")&&this.setFrame(t.frame),super.modifyPorperties(t),t.hasOwnProperty("flipX")&&this.setFlipX(t.flipX),t.hasOwnProperty("flipY")&&this.setFlipY(t.flipY),t.hasOwnProperty("tint")&&this.setTint(t.tint),t.hasOwnProperty("tintFill")&&this.setTintFill(t.tintFill),this):this}};var WW=function(e){return e===void 0&&(e={}),e.u0=0,e.v0=0,e.u1=0,e.v1=0,e.x=0,e.y=0,e.width=0,e.height=0,e.flipX=!1,e.flipY=!1,e.cx=0,e.cy=0,e.cw=0,e.ch=0,e},YW={webglRender:zW,canvasRender:UW};Object.assign(Y3.prototype,YW);var X3=function(e,t){typeof t=="string"&&(t={frame:t});var r=e.poolManager?e.poolManager.allocate(V3):null;return r===null?r=new Y3(e):r.setParent(e).setActive(),r.modifyPorperties(t),e.addChild(r),r},XW=function(e,t,r,h,y,P){X3(this,{frame:t,x:r,y:h,width:y,height:P})},HW=function(e,t,r,h,y,P){var n=this.texture.get(t),T=n.width,i=n.height,a=y%T,x=P%i;a===0&&(a=T),x===0&&(x=i);for(var d=Math.ceil(y/T),l=Math.ceil(P/i),o=d-1,s=l-1,f=0;f<d;f++)for(var c=0;c<l;c++){let p=X3(this,{frame:t,x:r+f*T,y:h+c*i});var u=f===o?a:T,v=c===s?x:i;(u!==T||v!==i)&&p.setCrop(0,0,u,v)}};const $W={_drawImage:XW,_drawTileSprite:HW};class mP extends G3(U3,"rexNinePatch2"){setBaseTexture(t,r,h,y){return this.setTexture(t,r),super.setBaseTexture(t,r,h,y),this}}Object.assign(mP.prototype,$W);It.register("ninePatch2",function(e,t,r,h,y,P,n,T){var i=new mP(this.scene,e,t,r,h,y,P,n,T);return this.scene.add.existing(i),i});Lt(window,"RexPlugins.UI.NinePatch2",mP);var KW=Phaser.Renderer.WebGL.Utils,H3=function(e,t,r,h,y,P){for(var n=KW.getTintAppendFloatAlpha(r.fillColor,r.fillAlpha*h),T=r.pathData,i=r.pathIndexes,a=0;a<i.length;a+=3){var x=i[a]*2,d=i[a+1]*2,l=i[a+2]*2,o=T[x+0]-y,s=T[x+1]-P,f=T[d+0]-y,c=T[d+1]-P,u=T[l+0]-y,v=T[l+1]-P,p=t.getX(o,s),m=t.getY(o,s),g=t.getX(f,c),C=t.getY(f,c),M=t.getX(u,v),b=t.getY(u,v);e.batchTri(r,p,m,g,C,M,b,0,0,1,1,n,n,n,2)}},ZW=Phaser.Renderer.WebGL.Utils,nx=function(e,t,r,h,y){var P=e.strokeTint,n=ZW.getTintAppendFloatAlpha(t.strokeColor,t.strokeAlpha*r);P.TL=n,P.TR=n,P.BL=n,P.BR=n;var T=t.pathData,i=T.length-1,a=t.lineWidth,x=a/2,d=T[0]-h,l=T[1]-y;t.closePath||(i-=2);for(var o=2;o<i;o+=2){var s=T[o]-h,f=T[o+1]-y;e.batchLine(d,l,s,f,x,x,a,o-2,t.closePath?o===i-1:!1),d=s,l=f}};const JW=Phaser.GameObjects.GetCalcMatrix;var QW=function(e,t,r,h){t.dirty&&(t.updateData(),t.dirty=!1),r.addToRenderList(t);var y=e.pipelines.set(t.pipeline),P=JW(t,r,h),n=y.calcMatrix.copyFrom(P.calc),T=t._displayOriginX,i=t._displayOriginY,a=r.alpha*t.alpha;e.pipelines.preBatch(t),t.isFilled&&H3(y,n,t,a,T,i),t.isStroked&&nx(y,t,a,T,i),e.pipelines.postBatch(t)},Nv=function(e,t,r,h){var y=t.fillColor,P=t.fillAlpha,n=(y&16711680)>>>16,T=(y&65280)>>>8,i=y&255;e.fillStyle="rgba("+n+","+T+","+i+","+P+")"},zv=function(e,t,r,h){var y=t.strokeColor,P=t.strokeAlpha,n=(y&16711680)>>>16,T=(y&65280)>>>8,i=y&255;e.strokeStyle="rgba("+n+","+T+","+i+","+P+")",e.lineWidth=t.lineWidth};const jW=Phaser.Renderer.Canvas.SetTransform;var qW=function(e,t,r,h){t.dirty&&(t.updateData(),t.dirty=!1),r.addToRenderList(t);var y=e.currentContext;if(jW(e,y,t,r,h)){var P=t._displayOriginX,n=t._displayOriginY,T=t.pathData,i=T.length-1,a=T[0]-P,x=T[1]-n;y.beginPath(),y.moveTo(a,x),t.closePath||(i-=2);for(var d=2;d<i;d+=2){var l=T[d]-P,o=T[d+1]-n;y.lineTo(l,o)}y.closePath(),t.isFilled&&(Nv(y,t),y.fill()),t.isStroked&&(zv(y,t),y.stroke()),y.restore()}};const _W={renderWebGL:QW,renderCanvas:qW},tY=Phaser.GameObjects.Shape;class xP extends tY{get fillColor(){return this._fillColor}set fillColor(t){this._fillColor=t,this.isFilled=t!=null&&this._fillAlpha>0}get fillAlpha(){return this._fillAlpha}set fillAlpha(t){this._fillAlpha=t,this.isFilled=t>0&&this._fillColor!=null}setFillStyle(t,r){return r===void 0&&(r=1),this.fillColor=t,this.fillAlpha=r,this}get strokeColor(){return this._strokeColor}set strokeColor(t){this._strokeColor=t,this.isStroked=t!=null&&this._strokeAlpha>0&&this._lineWidth>0}get strokeAlpha(){return this._strokeAlpha}set strokeAlpha(t){this._strokeAlpha=t,this.isStroked=t>0&&this._strokeColor!=null&&this._lineWidth>0}get lineWidth(){return this._lineWidth}set lineWidth(t){this._lineWidth=t,this.isStroked=t>0&&this._strokeColor!=null}setStrokeStyle(t,r,h){return h===void 0&&(h=1),this.lineWidth=t,this.strokeColor=r,this.strokeAlpha=h,this}updateData(){return this}get width(){return this.geom.width}set width(t){this.resize(t,this.height)}get height(){return this.geom.height}set height(t){this.resize(this.width,t)}setSize(t,r){var h=this.input;return h&&!h.customHitArea&&(h.hitArea.width=t,h.hitArea.height=r),this}resize(t,r){return this.setSize(t,r),this}}Object.assign(xP.prototype,_W);const Ih=Phaser.Utils.Objects.GetValue;let yP=class{constructor(t,r,h,y,P){t===void 0&&(t=0),r===void 0&&(r=t),h===void 0&&(h=0),y===void 0&&(y=0),P===void 0&&(P=0),this.cornerRadius={},this._width=0,this._height=0,this.setTo(t,r,h,y,P)}setTo(t,r,h,y,P){return this.setPosition(t,r),this.setRadius(P),this.setSize(h,y),this}setPosition(t,r){return this.x=t,this.y=r,this}setRadius(t){return t===void 0&&(t=0),this.radius=t,this}setSize(t,r){return this.width=t,this.height=r,this}get minWidth(){var t=this.cornerRadius;return Math.max(t.tl.x+t.tr.x,t.bl.x+t.br.x)}get minHeight(){var t=this.cornerRadius;return Math.max(t.tl.y+t.bl.y,t.tr.y+t.br.y)}get width(){return this._width}set width(t){t==null&&(t=0),this._width=Math.max(t,this.minWidth)}get height(){return this._height}set height(t){t==null&&(t=0),this._height=Math.max(t,this.minHeight)}get radius(){var t=this.cornerRadius;return Math.max(t.tl.x,t.tl.y,t.tr.x,t.tr.y,t.bl.x,t.bl.y,t.br.x,t.br.y)}set radius(t){var r,h;typeof t=="number"?(r=t,h=t):(r=Ih(t,"x",0),h=Ih(t,"y",0));var y=this.cornerRadius;y.tl=Sm(Ih(t,"tl",void 0),r,h),y.tr=Sm(Ih(t,"tr",void 0),r,h),y.bl=Sm(Ih(t,"bl",void 0),r,h),y.br=Sm(Ih(t,"br",void 0),r,h)}get radiusTL(){var t=this.cornerRadius.tl;return Math.max(t.x,t.y)}set radiusTL(t){Tm(this.cornerRadius.tl,t)}get radiusTR(){var t=this.cornerRadius.tr;return Math.max(t.x,t.y)}set radiusTR(t){Tm(this.cornerRadius.tr,t)}get radiusBL(){var t=this.cornerRadius.bl;return Math.max(t.x,t.y)}set radiusBL(t){Tm(this.cornerRadius.bl,t)}get radiusBR(){var t=this.cornerRadius.br;return Math.max(t.x,t.y)}set radiusBR(t){Tm(this.cornerRadius.br,t)}};var Sm=function(e,t,r){return e===void 0?e={x:t,y:r}:typeof e=="number"&&(e={x:e,y:e}),$3(e),e},Tm=function(e,t){typeof t=="number"?(e.x=t,e.y=t):(e.x=Ih(t,"x",0),e.y=Ih(t,"y",0)),$3(e)},$3=function(e){e.convex=e.x>=0||e.y>=0,e.x=Math.abs(e.x),e.y=Math.abs(e.y)},Xi=function(e){return e.x>0&&e.y>0},Gr=function(e,t,r){var h=r.length;if(h>=2){var y=r[h-2],P=r[h-1];if(e===y&&t===P)return r}return r.push(e,t),r};const SO=Phaser.Math.DegToRad;var kr=function(e,t,r,h,y,P,n,T,i){n&&P>y?P-=360:!n&&P<y&&(P+=360);var a=P-y,x=SO(a)/T;y=SO(y);for(var d=0;d<=T;d++){var l=y+x*d,o=e+r*Math.cos(l),s=t+h*Math.sin(l);Gr(o,s,i)}return i};const eY=Phaser.Utils.Objects.IsPlainObject,TO=Phaser.Utils.Objects.GetValue,iY=Phaser.Geom.Polygon.Earcut;let fu=class extends xP{constructor(t,r,h,y,P,n,T,i){var a,x,d,l;if(eY(r)){var o=r;r=o.x,h=o.y,y=o.width,P=o.height,n=o.radius,T=o.color,i=o.alpha,a=o.strokeColor,x=o.strokeAlpha,d=o.strokeWidth,l=o.shape}r===void 0&&(r=0),h===void 0&&(h=0),y===void 0&&(y=1),P===void 0&&(P=y),n===void 0&&(n=0),l===void 0&&(l=0);var s=new yP;if(super(t,"rexRoundRectangleShape",s),this.setShapeType(l),this.shapeType===0){var f=TO(n,"radius",n);s.setTo(0,0,y,P,f)}else{var f={x:y/2,y:P/2};s.setTo(0,0,y,P,f)}this.setIteration(TO(n,"iteration",void 0)),this.setPosition(r,h),this.setFillStyle(T,i),d===void 0&&(d=2),this.setStrokeStyle(d,a,x),this.updateDisplayOrigin(),this.dirty=!0}updateData(){var t=this.geom,r=this.pathData;r.length=0;var h=t.width,y=t.height,P=t.cornerRadius,n,T=this.iteration+1;if(n=P.tl,Xi(n))if(n.convex){var i=n.x,a=n.y;kr(i,a,n.x,n.y,180,270,!1,T,r)}else{var i=0,a=0;kr(i,a,n.x,n.y,90,0,!0,T,r)}else Gr(0,0,r);if(n=P.tr,Xi(n))if(n.convex){var i=h-n.x,a=n.y;kr(i,a,n.x,n.y,270,360,!1,T,r)}else{var i=h,a=0;kr(i,a,n.x,n.y,180,90,!0,T,r)}else Gr(h,0,r);if(n=P.br,Xi(n))if(n.convex){var i=h-n.x,a=y-n.y;kr(i,a,n.x,n.y,0,90,!1,T,r)}else{var i=h,a=y;kr(i,a,n.x,n.y,270,180,!0,T,r)}else Gr(h,y,r);if(n=P.bl,Xi(n))if(n.convex){var i=n.x,a=y-n.y;kr(i,a,n.x,n.y,90,180,!1,T,r)}else{var i=0,a=y;kr(i,a,n.x,n.y,360,270,!0,T,r)}else Gr(0,y,r);return r.push(r[0],r[1]),this.pathIndexes=iY(r),this}setShapeType(t){return typeof t=="string"&&(t=rY[t]),this.shapeType=t,this}setSize(t,r){return r===void 0&&(r=t),this.geom.width===t&&this.geom.height===r?this:(this.geom.setSize(t,r),this.shapeType===1&&this.setRadius({x:t/2,y:r/2}),this.updateDisplayOrigin(),this.dirty=!0,super.setSize(t,r),this)}get radius(){return this.geom.radius}set radius(t){this.geom.setRadius(t),this.updateDisplayOrigin(),this.dirty=!0}get radiusTL(){return this.geom.radiusTL}set radiusTL(t){this.geom.radiusTL=t,this.dirty=!0}get radiusTR(){return this.geom.radiusTR}set radiusTR(t){this.geom.radiusTR=t,this.dirty=!0}get radiusBL(){return this.geom.radiusBL}set radiusBL(t){this.geom.radiusBL=t,this.dirty=!0}get radiusBR(){return this.geom.radiusBR}set radiusBR(t){this.geom.radiusBR=t,this.dirty=!0}setRadius(t){return t===void 0&&(t=0),this.radius=t,this}setRadiusTL(t){return t===void 0&&(t=0),this.radiusTL=t,this}setRadiusTR(t){return t===void 0&&(t=0),this.radiusTR=t,this}setRadiusBL(t){return t===void 0&&(t=0),this.radiusBL=t,this}setRadiusBR(t){return t===void 0&&(t=0),this.radiusBR=t,this}get cornerRadius(){return this.geom.cornerRadius}set cornerRadius(t){this.radius=t}setCornerRadius(t){return this.setRadius(t)}get iteration(){return this._iteration}set iteration(t){if(this._iteration===void 0){this._iteration=t;return}this._iteration!==t&&(this._iteration=t,this.dirty=!0)}setIteration(t){return t===void 0&&(t=6),this.iteration=t,this}};const rY={rectangle:0,circle:1};It.register("roundRectangle",function(e,t,r,h,y,P,n){var T=new fu(this.scene,e,t,r,h,y,P,n);return this.scene.add.existing(T),T});Lt(window,"RexPlugins.UI.RoundRectangle",fu);const nY=Phaser.Renderer.WebGL.Utils;var sY=function(e,t,r,h){if(t.dirty&&(t.updateTexture(),t.dirty=!1),!(t.width===0||t.height===0)){r.addToRenderList(t);var y=t.frame,P=y.width,n=y.height,T=nY.getTintAppendFloatAlpha,i=e.pipelines.set(t.pipeline,t),a=i.setTexture2D(y.glTexture,t);e.pipelines.preBatch(t),i.batchTexture(t,y.glTexture,P,n,t.x,t.y,P/t.resolution,n/t.resolution,t.scaleX,t.scaleY,t.rotation,t.flipX,t.flipY,t.scrollFactorX,t.scrollFactorY,t.displayOriginX,t.displayOriginY,0,0,P,n,T(t.tintTopLeft,r.alpha*t._alphaTL),T(t.tintTopRight,r.alpha*t._alphaTR),T(t.tintBottomLeft,r.alpha*t._alphaBL),T(t.tintBottomRight,r.alpha*t._alphaBR),t.tintFill,0,0,r,h,!1,a),e.pipelines.postBatch(t)}},aY=function(e,t,r,h){t.dirty&&(t.updateTexture(),t.dirty=!1),!(t.width===0||t.height===0)&&(r.addToRenderList(t),e.batchSprite(t,t.frame,r,h))};const oY={renderWebGL:sY,renderCanvas:aY},hY=Phaser.Display.Color,lY={clear(){return this.context.clearRect(0,0,this.canvas.width,this.canvas.height),this.dirty=!0,this},fill(e){return this.context.fillStyle=e,this.context.fillRect(0,0,this.canvas.width,this.canvas.height),this.dirty=!0,this},drawFrame(e,t,r,h,y,P,n,T,i,a){var x=this.scene.sys.textures.getFrame(e,t);if(!x)return this;var d=x.cutWidth,l=x.cutHeight;r===void 0&&(r=0),h===void 0&&(h=0),y===void 0&&(y=d),P===void 0&&(P=l),n===void 0&&(n=0),T===void 0&&(T=0),i===void 0&&(i=d),a===void 0&&(a=l);var o=x.cutX+n,s=x.cutY+T;return this.context.drawImage(x.source.image,o,s,i,a,r,h,y,P),this.dirty=!0,this},getDataURL(e,t){return this.canvas.toDataURL(e,t)},getPixel(e,t,r){r===void 0&&(r=new hY);var h=this.context.getImageData(e,t,1,1);return r.setTo(h.data[0],h.data[1],h.data[2],h.data[3]),r},setPixel(e,t,r,h,y,P){if(typeof r!="number"){var n=r;r=n.red,h=n.green,y=n.blue,P=n.alpha}P===void 0&&(P=r!==0||h!==0||y!==0?255:0);var T=this.context.createImageData(1,1);return T.data[0]=r,T.data[1]=h,T.data[2]=y,T.data[3]=P,this.context.putImageData(T,e,t),this.dirty=!0,this}};var K3=function(e,t,r,h,y,P,n){var T=e.sys.textures,i=e.renderer;h===void 0&&(h=0),y===void 0&&(y=0),P===void 0&&(P=t.width),n===void 0&&(n=t.height);var a;T.exists(r)?a=T.get(r):a=T.createCanvas(r,P,n);var x=a.getSourceImage();x.width!==P&&(x.width=P),x.height!==n&&(x.height=n);var d=x.getContext("2d",{willReadFrequently:!0});d.clearRect(0,0,P,n),d.drawImage(t,h,y,P,n),i.gl&&a&&i.canvasToTexture(x,a.source[0].glTexture,!0,0)};const uY={updateTexture(e,t){if(e){var r=this.resolution;r!==1&&(this.context.save(),this.context.scale(r,r)),t?e.call(t,this.canvas,this.context):e(this.canvas,this.context),r!==1&&this.context.restore()}(this.canvas.width!==this.frame.width||this.canvas.height!==this.frame.height)&&this.frame.setSize(this.canvas.width,this.canvas.height),this.renderer&&this.renderer.gl&&(this.frame.source.glTexture=this.renderer.canvasToTexture(this.canvas,this.frame.source.glTexture,!0),this.frame.glTexture.spectorMetadata={textureKey:"Canvas Game Object"}),this.dirty=!1;var h=this.input;return h&&!h.customHitArea&&(h.hitArea.width=this.width,h.hitArea.height=this.height),this},generateTexture(e,t,r,h,y){var P=this.canvas;return h===void 0?h=P.width:h*=this.resolution,y===void 0?y=P.height:y*=this.resolution,K3(this.scene,P,e,t,r,h,y),this},loadTexture(e,t){var r=this.scene.sys.textures.getFrame(e,t);return r?(this.width!==r.cutWidth||this.height!==r.cutHeight?this.setSize(r.cutWidth,r.cutHeight):this.clear(),this.drawFrame(e,t),this.dirty=!0,this):this}};ix();const EO=Phaser.Display.Canvas.CanvasPool,fY=Phaser.GameObjects.GameObject,dY=Phaser.Utils.String.UUID;let Jh=class extends fY{constructor(t,r,h,y,P,n){r===void 0&&(r=0),h===void 0&&(h=0),y===void 0&&(y=1),P===void 0&&(P=1),n===void 0&&(n=1),super(t,"rexCanvas"),this.renderer=t.sys.game.renderer,this._width=y,this._height=P,this.resolution=n,y=Math.max(Math.ceil(y*this.resolution),1),P=Math.max(Math.ceil(P*this.resolution),1),this.canvas=EO.create(this,y,P),this.context=this.canvas.getContext("2d",{willReadFrequently:!0}),this.dirty=!1,this.setPosition(r,h),this.setOrigin(.5,.5),this.initPipeline(),this.initPostPipeline(!0),this._crop=this.resetCropObject(),this._textureKey=dY(),this.texture=t.sys.textures.addCanvas(this._textureKey,this.canvas),this.frame=this.texture.get(),this.frame.source.resolution=this.resolution,this.renderer&&this.renderer.gl&&(this.renderer.deleteTexture(this.frame.source.glTexture),this.frame.source.glTexture=null),this.dirty=!0}preDestroy(){EO.remove(this.canvas),this.canvas=null,this.context=null;var t=this.texture;t&&t.destroy()}setResolution(t){if(this.resolution===t)return this;this.resolution=t;var r=Math.max(Math.ceil(this.width*t),1),h=Math.max(Math.ceil(this.height*t),1);return this.canvas.width=r,this.canvas.height=h,this.frame.source.resolution=t,this.dirty=!0,this}get width(){return this._width}set width(t){this.setSize(t,this._height)}get height(){return this._height}set height(t){this.setSize(this._width,t)}setCanvasSize(t,r){return this._width===t&&this._height===r?this:(this._width=t,this._height=r,this.updateDisplayOrigin(),t=Math.max(Math.ceil(t*this.resolution),1),r=Math.max(Math.ceil(r*this.resolution),1),this.canvas.width=t,this.canvas.height=r,this.frame.setSize(t,r),this.dirty=!0,this)}setSize(t,r){return this.setCanvasSize(t,r),this}get displayWidth(){return this.scaleX*this._width}set displayWidth(t){this.scaleX=t/this._width}get displayHeight(){return this.scaleY*this._height}set displayHeight(t){this.scaleY=t/this._height}setDisplaySize(t,r){return this.displayWidth=t,this.displayHeight=r,this}getCanvas(t){return t||(this.dirty=!0),this.canvas}getContext(t){return t||(this.dirty=!0),this.context}needRedraw(){return this.dirty=!0,this}resize(t,r){return this.setSize(t,r),this}};const Gn=Phaser.GameObjects.Components;Phaser.Class.mixin(Jh,[Gn.Alpha,Gn.BlendMode,Gn.Crop,Gn.Depth,Gn.Flip,Gn.GetBounds,Gn.Mask,Gn.Origin,Gn.Pipeline,Gn.PostPipeline,Gn.ScrollFactor,Gn.Tint,Gn.Transform,Gn.Visible,oY,lY,uY]);const cY=Phaser.Utils.String.Pad;var Ue=function(e,t,r){if(e==null)return e;switch(typeof e){case"string":return e;case"number":return`#${cY(Math.floor(e).toString(16),6,"0",1)}`;case"function":return e(t,r);case"object":return e.hasOwnProperty("r")?e.hasOwnProperty("a")?`rgba(${e.r},${e.g},${e.b},${e.a})`:`rgb(${e.r},${e.g},${e.b})`:e.hasOwnProperty("h")?e.hasOwnProperty("a")?`hsla(${e.h},${e.s},${e.l},${e.a})`:`hsl(${e.h},${e.s},${e.l})`:e;default:return e}};const PO=Phaser.Math.DegToRad;var Z3=function(e,t,r,h,y,P,n){var T=new yP(t,r,h,y,P),i=T.minWidth,a=T.minHeight,x=h>=i?1:h/i,d=y>=a?1:y/a,l=T.cornerRadius,o,s,f,c,u,v,p;e.save(),e.beginPath(),e.translate(t,r),o=l.tl,Pm(o)?(s=o.x*x,f=o.y*d,Em(o)?(c=s,u=f,Sh(e,c,u,s,f,180,270,!1,n)):(c=0,u=0,Sh(e,c,u,s,f,90,0,!0,n)),v=0,p=f):(e.lineTo(0,0),v=0,p=0),o=l.tr,Pm(o)?(s=o.x*x,f=o.y*d,Em(o)?(c=h-s,u=f,Sh(e,c,u,s,f,270,360,!1,n)):(c=h,u=0,Sh(e,c,u,s,f,180,90,!0,n))):e.lineTo(h,0),o=l.br,Pm(o)?(s=o.x*x,f=o.y*d,Em(o)?(c=h-s,u=y-f,Sh(e,c,u,s,f,0,90,!1,n)):(c=h,u=y,Sh(e,c,u,s,f,270,180,!0,n))):e.lineTo(h,y),o=l.bl,Pm(o)?(s=o.x*x,f=o.y*d,Em(o)?(c=s,u=y-f,Sh(e,c,u,s,f,90,180,!1,n)):(c=0,u=y,Sh(e,c,u,s,f,360,270,!0,n))):e.lineTo(0,y),e.lineTo(v,p),e.closePath(),e.restore()},Em=function(e){return!e.hasOwnProperty("convex")||e.convex},Pm=function(e){return e.x>0&&e.y>0},Sh=function(e,t,r,h,y,P,n,T,i){if(T&&n>P?n-=360:!T&&n<P&&(n+=360),P=PO(P),n=PO(n),i==null)e.ellipse(t,r,h,y,0,P,n,T);else{i+=1;for(var a,x,d,l=(n-P)/i,o=0;o<=i;o++)d=P+l*o,a=t+h*Math.cos(d),x=r+y*Math.sin(d),e.lineTo(a,x)}},vY=function(e,t,r,h,y,P,n,T,i,a,x,d,l){if(Z3(t,r,h,y,P,n,l),T!=null){if(x!=null){var o;d?o=t.createLinearGradient(0,0,y,0):o=t.createLinearGradient(0,0,0,P),o.addColorStop(0,T),o.addColorStop(1,x),T=o}t.fillStyle=T,t.fill()}i!=null&&a>0&&(t.strokeStyle=i,t.lineWidth=a,t.stroke())},CP=function(e,t,r,h,y,P,n,T){if(!(t==null&&r==null)){var i=e.canvas.width,a=e.canvas.height;r==null&&(h=0);var x=h/2;i=Math.max(1,i-h),a=Math.max(1,a-h),vY(e.canvas,e.context,x,x,i,a,y,t,r,h,P,n,T)}},pY=function(){CP(this,this.fillStyle,this.strokeStyle,this.lineWidth,this.radius,this.fillColor2,this.isHorizontalGradient,this.iteration)};const MO=Phaser.Utils.Objects.GetValue;let J3=class extends Jh{constructor(t,r,h,y,P,n,T,i,a,x,d,l){r===void 0&&(r=0),h===void 0&&(h=0),y===void 0&&(y=1),P===void 0&&(P=y),n===void 0&&(n=0),l===void 0&&(l=1),super(t,r,h,y,P,l),this.type="rexRoundRectangleCanvas";var o=MO(n,"radius",n),s=MO(n,"iteration",void 0);this.setRadius(o),this.setIteration(s),this.setFillStyle(T,x,d),this.setStrokeStyle(i,a)}get radius(){return this._radius}set radius(t){this.dirty|=this._radius!=t,this._radius=t}setRadius(t){return this.radius=t,this}get iteration(){return this._iteration}set iteration(t){this.dirty|=this._iteration!=t,this._iteration=t}setIteration(t){return this.iteration=t,this}get fillStyle(){return this._fillStyle}set fillStyle(t){t=Ue(t,this.canvas,this.context),this.dirty|=this._fillStyle!=t,this._fillStyle=t}get fillColor2(){return this._fillColor2}set fillColor2(t){t=Ue(t,this.canvas,this.context),this.dirty|=this._fillColor2!=t,this._fillColor2=t}get isHorizontalGradient(){return this._isHorizontalGradient}set isHorizontalGradient(t){this.dirty|=this._isHorizontalGradient!=t,this._isHorizontalGradient=t}setFillStyle(t,r,h){return h===void 0&&(h=!0),this.fillStyle=t,this.fillColor2=r,this.isHorizontalGradient=h,this}get strokeStyle(){return this._strokeStyle}set strokeStyle(t){t=Ue(t,this.canvas,this.context),this.dirty|=this._strokeStyle!=t,this._strokeStyle=t}get lineWidth(){return this._lineWidth}set lineWidth(t){this.dirty|=this._lineWidth!=t,this._lineWidth=t}setStrokeStyle(t,r){return this.strokeStyle=t,this.lineWidth=r,this}updateTexture(){return super.updateTexture(function(){this.clear(),pY.call(this)},this),this}};It.register("roundRectangleCanvas",function(e,t,r,h,y,P,n,T,i,a){var x=new J3(this.scene,e,t,r,h,y,P,n,T,i,a);return this.scene.add.existing(x),x});Lt(window,"RexPlugins.UI.RoundRectangleCanvas",J3);var vi=function(e,t){if(!e)return!1;if(e.hasOwnProperty(t))return!0;for(;e;){if(Object.getOwnPropertyDescriptor(e,t))return!0;e=e.__proto__}return!1},Th=function(e,t,r){!t||vi(e,`${t}X`)||(Object.defineProperty(e,`${t}X`,{get:function(){return r.x},set:function(h){r.x=h,e.dirty=!0}}),Object.defineProperty(e,`${t}Y`,{get:function(){return r.y},set:function(h){r.y=h,e.dirty=!0}}),Object.defineProperty(e,`${t}T`,{get:function(){return r.t},set:function(h){r.t=h,e.dirty=!0}}))};const gY={setTLPosition(e,t){return this.geom.setTLPosition(e,t),this.dirty=!0,this},setTRPosition(e,t){return this.geom.setTRPosition(e,t),this.dirty=!0,this},setBLPosition(e,t){return this.geom.setBLPosition(e,t),this.dirty=!0,this},setBRPosition(e,t){return this.geom.setBRPosition(e,t),this.dirty=!0,this},resetCornerPosition(){return this.geom.resetCornerPosition(),this.dirty=!0,this},insertTopSidePoint(e,t,r,h){var y=this.geom.topSidePoints;if(Array.isArray(e))for(var y=e,P,n=0,T=y.length;n<T;n++)P=y[n],this.geom.insertTopSidePoint(P.t,P.x,P.y),Th(this,P.key,y[y.length-1]);else this.geom.insertTopSidePoint(e,t,r),Th(this,h,y[y.length-1]);return this.dirty=!0,this},insertRightSidePoint(e,t,r,h){var y=this.geom.rightSidePoints;if(Array.isArray(e))for(var y=e,P,n=0,T=y.length;n<T;n++)P=y[n],this.geom.insertRightSidePoint(P.t,P.x,P.y),Th(this,P.key,y[y.length-1]);else this.geom.insertRightSidePoint(e,t,r),Th(this,h,y[y.length-1]);return this.dirty=!0,this},insertBottomSidePoint(e,t,r,h){var y=this.geom.bottomSidePoints;if(Array.isArray(e))for(var y=e,P,n=0,T=y.length;n<T;n++)P=y[n],this.geom.insertBottomSidePoint(P.t,P.x,P.y),Th(this,P.key,y[y.length-1]);else this.geom.insertBottomSidePoint(e,t,r),Th(this,h,y[y.length-1]);return this.dirty=!0,this},insertLeftSidePoint(e,t,r,h){var y=this.geom.leftSidePoints;if(Array.isArray(e))for(var y=e,P,n=0,T=y.length;n<T;n++)P=y[n],this.geom.insertLeftSidePoint(P.t,P.x,P.y),Th(this,P.key,y[y.length-1]);else this.geom.insertLeftSidePoint(e,t,r),Th(this,h,y[y.length-1]);return this.dirty=!0,this},clearTopSidePoints(){return this.geom.clearTopSidePoints(),this.dirty=!0,this},clearRightSidePoints(){return this.geom.clearRightSidePoints(),this.dirty=!0,this},clearBottomSidePoints(){return this.geom.clearBottomSidePoints(),this.dirty=!0,this},clearLeftSidePoints(){return this.geom.clearLeftSidePoints(),this.dirty=!0,this},clearAllSidesPoints(){return this.geom.clearAllSidesPoints(),this.dirty=!0,this}};class mY{constructor(t,r,h,y){t===void 0&&(t=0),r===void 0&&(r=t),h===void 0&&(h=0),y===void 0&&(y=0),this.setTo(t,r,h,y),this.tlx=0,this.tly=0,this.trx=0,this.try=0,this.blx=0,this.bly=0,this.brx=0,this.bry=0,this.topSidePoints=[],this.rightSidePoints=[],this.bottomSidePoints=[],this.leftSidePoints=[]}setTo(t,r,h,y){return this.setPosition(t,r),this.setSize(h,y),this}setPosition(t,r){return this.x=t,this.y=r,this}setSize(t,r){return this.width=t,this.height=r,this}setTLPosition(t,r){return this.tlx=t,this.tly=r,this}setTRPosition(t,r){return this.trx=t,this.try=r,this}setBLPosition(t,r){return this.blx=t,this.bly=r,this}setBRPosition(t,r){return this.brx=t,this.bry=r,this}resetCornerPosition(){return this.setTLPosition(0,0).setTRPosition(0,0).setBLPosition(0,0).setBRPosition(0,0),this}insertTopSidePoint(t,r,h){return Mm(this.topSidePoints,t,r,h),this}insertRightSidePoint(t,r,h){return Mm(this.rightSidePoints,t,r,h),this}insertBottomSidePoint(t,r,h){return Mm(this.bottomSidePoints,t,r,h),this}insertLeftSidePoint(t,r,h){return Mm(this.leftSidePoints,t,r,h),this}clearTopSidePoints(){return this.topSidePoints.length=0,this}clearRightSidePoints(){return this.rightSidePoints.length=0,this}clearBottomSidePoints(){return this.bottomSidePoints.length=0,this}clearLeftSidePoints(){return this.leftSidePoints.length=0,this}clearAllSidesPoints(){return this.clearTopSidePoints().clearRightSidePoints().clearBottomSidePoints().clearLeftSidePoints(),this}}var Mm=function(e,t,r,h){if(typeof t!="number"){var y=t;t=y.t,r=y.x,h=y.y}e.push({t,x:r,y:h})};const xY=Phaser.Utils.Objects.IsPlainObject,bs=Phaser.Utils.Objects.GetValue,Eh=Phaser.Math.Linear,yY=Phaser.Geom.Polygon.Earcut;class SP extends xP{constructor(t,r,h,y,P,n,T){var i,a,x;if(xY(r)){var d=r;r=d.x,h=d.y,y=d.width,P=d.height,n=d.color,T=d.alpha,i=d.strokeColor,a=d.strokeAlpha,x=d.strokeWidth}r===void 0&&(r=0),h===void 0&&(h=0),y===void 0&&(y=1),P===void 0&&(P=y);var l=new mY;super(t,"rexQuadShape",l),l.setTo(0,0,y,P),this.setPosition(r,h),this.setFillStyle(n,T),i!==void 0&&x===void 0&&(x=2),this.setStrokeStyle(x,i,a),this.setTLPosition(bs(d,"tlx",0),bs(d,"tly",0)).setTRPosition(bs(d,"trx",0),bs(d,"try",0)).setBLPosition(bs(d,"blx",0),bs(d,"bly",0)).setBRPosition(bs(d,"brx",0),bs(d,"bry",0));var o=bs(d,"leftSidePoints");o&&this.insertLeftSidePoint(o);var s=bs(d,"topSidePoints");s&&this.insertTopSidePoint(s);var f=bs(d,"rightSidePoints");f&&this.insertRightSidePoint(f);var c=bs(d,"bottomSidePoints");c&&this.insertBottomSidePoint(c),this.updateDisplayOrigin(),this.dirty=!0}updateData(){var t=this.geom,r=this.pathData;r.length=0;var h=t.width,y=t.height,P=0+t.tlx,n=0+t.tly,T=h+t.trx,i=0+t.try,a=h+t.brx,x=y+t.bry,d=0+t.blx,l=y+t.bly,o=t.topSidePoints,s=t.rightSidePoints,f=t.bottomSidePoints,c=t.leftSidePoints;Gr(P,n,r),bm(o);for(var u=0,v=o.length;u<v;u++){var p=o[u],m=Eh(P,T,p.t)+p.x,g=Eh(n,i,p.t)+p.y;Gr(m,g,r)}Gr(T,i,r),bm(s);for(var u=0,v=s.length;u<v;u++){var p=s[u],m=Eh(T,a,p.t)+p.x,g=Eh(i,x,p.t)+p.y;Gr(m,g,r)}Gr(a,x,r),bm(f);for(var u=f.length-1;u>=0;u--){var p=f[u],m=Eh(d,a,p.t)+p.x,g=Eh(l,x,p.t)+p.y;Gr(m,g,r)}Gr(d,l,r),bm(c);for(var u=c.length-1;u>=0;u--){var p=c[u],m=Eh(P,d,p.t)+p.x,g=Eh(n,l,p.t)+p.y;Gr(m,g,r)}return r.push(r[0],r[1]),this.pathIndexes=yY(r),this}get tlx(){return this.geom.tlx}set tlx(t){this.geom.tlx=t,this.dirty=!0}get tly(){return this.geom.tly}set tly(t){this.geom.tly=t,this.dirty=!0}get trx(){return this.geom.trx}set trx(t){this.geom.trx=t,this.dirty=!0}get try(){return this.geom.try}set try(t){this.geom.try=t,this.dirty=!0}get blx(){return this.geom.blx}set blx(t){this.geom.blx=t,this.dirty=!0}get bly(){return this.geom.bly}set bly(t){this.geom.bly=t,this.dirty=!0}get brx(){return this.geom.brx}set brx(t){this.geom.brx=t,this.dirty=!0}get bry(){return this.geom.bry}set bry(t){this.geom.bry=t,this.dirty=!0}get leftSidePoints(){return this.geom.leftSidePoints}get topSidePoints(){return this.geom.topSidePoints}get bottomSidePoints(){return this.geom.bottomSidePoints}get rightSidePoints(){return this.geom.rightSidePoints}}var bm=function(e){e.length<=1||e.sort(function(t,r){return t.t-r.t})};Object.assign(SP.prototype,gY);It.register("QuadShape",function(e,t,r,h,y,P){var n=new SP(this.scene,e,t,r,h,y,P);return this.scene.add.existing(n),n});Lt(window,"RexPlugins.UI.QuadShape",SP);var CY=Phaser.Renderer.WebGL.Utils,SY=function(e,t,r,h){if(!(t.width===0||t.height===0)){r.addToRenderList(t);var y=t.frame,P=y.width,n=y.height,T=CY.getTintAppendFloatAlpha,i=e.pipelines.set(t.pipeline,t),a=i.setTexture2D(y.glTexture,t);e.pipelines.preBatch(t),i.batchTexture(t,y.glTexture,P,n,t.x,t.y,P/t.style.resolution,n/t.style.resolution,t.scaleX,t.scaleY,t.rotation,t.flipX,t.flipY,t.scrollFactorX,t.scrollFactorY,t.displayOriginX,t.displayOriginY,0,0,P,n,T(t.tintTopLeft,r.alpha*t._alphaTL),T(t.tintTopRight,r.alpha*t._alphaTR),T(t.tintBottomLeft,r.alpha*t._alphaBL),T(t.tintBottomRight,r.alpha*t._alphaBR),t.tintFill,0,0,r,h,!1,a),e.pipelines.postBatch(t)}},TY=function(e,t,r,h){t.width===0||t.height===0||(r.addToRenderList(t),e.batchSprite(t,t.frame,r,h))};const EY={renderWebGL:SY,renderCanvas:TY},a1=Phaser.Display.Canvas.CanvasPool;var PY=function(e,t,r){r===void 0&&(r={});var h=a1.create(this),y=h.getContext("2d",{willReadFrequently:!0});e.syncFont(h,y);var P=y.measureText(t),n=Math.ceil(P.width*e.baselineX),T=n,i=2*T;if(T=T*e.baselineY|0,h.width=n,h.height=i,y.fillStyle="#f00",y.fillRect(0,0,n,i),y.font=e._font,y.textBaseline="alphabetic",y.fillStyle="#000",y.fillText(e.testString,0,T),r.left=0,n===0||i===0||!y.getImageData(0,0,n,i))return a1.remove(h),r;for(var a=y.getImageData(0,0,n,i).data,x=!1,d=0;d<n;d++){for(var l=0;l<i;l++){var o=(l*n+d)*4;if(a[o]!==255){r.left=d,x=!0;break}}if(x)break}return a1.remove(h),r};ix();const MY=Phaser.GameObjects.GameObject;class Q3 extends MY{setStyle(t){return this.style.setStyle(t)}setFont(t){return this.style.setFont(t)}setFontFamily(t){return this.style.setFontFamily(t)}setFontSize(t){return this.style.setFontSize(t)}setFontStyle(t){return this.style.setFontStyle(t)}setTestString(t){return this.style.setTestString(t)}setFixedSize(t,r){return this.style.setFixedSize(t,r)}setBackgroundColor(t,r,h){return this.style.setBackgroundColor(t,r,h)}setBackgroundStrokeColor(t,r){return this.style.setBackgroundStrokeColor(t,r)}setBackgroundCornerRadius(t,r){return this.style.setBackgroundCornerRadius(t,r)}setFill(t){return this.style.setFill(t)}setColor(t){return this.style.setColor(t)}setStroke(t,r){return this.style.setStroke(t,r)}setShadow(t,r,h,y,P,n){return this.style.setShadow(t,r,h,y,P,n)}setShadowOffset(t,r){return this.style.setShadowOffset(t,r)}setShadowColor(t){return this.style.setShadowColor(t)}setShadowBlur(t){return this.style.setShadowBlur(t)}setShadowStroke(t){return this.style.setShadowStroke(t)}setShadowFill(t){return this.style.setShadowFill(t)}setUnderline(t,r,h){return this.style.setUnderline(t,r,h)}setUnderlineColor(t){return this.style.setUnderlineColor(t)}setUnderlineThickness(t){return this.style.setUnderlineThickness(t)}setUnderlineOffset(t){return this.style.setUnderlineOffset(t)}setStrikethrough(t,r,h){return this.style.setStrikethrough(t,r,h)}setStrikethroughColor(t){return this.style.setStrikethroughColor(t)}setStrikethroughThickness(t){return this.style.setStrikethroughThickness(t)}setStrikethroughOffset(t){return this.style.setStrikethroughOffset(t)}setWrapMode(t){return this.style.setWrapMode(t)}setWrapWidth(t){return this.style.setWrapWidth(t)}setWordWrapWidth(t){return this.style.setWrapWidth(t)}setAlign(t){return this.style.setHAlign(t)}setHAlign(t){return this.style.setHAlign(t)}setVAlign(t){return this.style.setVAlign(t)}get lineSpacing(){return this.style.lineSpacing}set lineSpacing(t){this.style.lineSpacing=t}setLineSpacing(t){return this.style.lineSpacing=t,this.updateText(!0),this}setXOffset(t){return this.style.setXOffset(t)}setMaxLines(t){return this.style.setMaxLines(t)}setResolution(t){return this.style.setResolution(t)}getTextMetrics(){return this.style.getTextMetrics()}setTextMetrics(t,r){return this.style.setTextMetrics(t,r)}measureTextMargins(t,r){return PY(this.style,t,r)}}const Mn=Phaser.GameObjects.Components;Phaser.Class.mixin(Q3,[Mn.Alpha,Mn.BlendMode,Mn.ComputedSize,Mn.Crop,Mn.Depth,Mn.Flip,Mn.GetBounds,Mn.Mask,Mn.Origin,Mn.Pipeline,Mn.PostPipeline,Mn.ScrollFactor,Mn.Tint,Mn.Transform,Mn.Visible,EY]);var bY={backgroundColor:["backgroundColor",null,Ue],backgroundColor2:["backgroundColor2",null,Ue],backgroundHorizontalGradient:["backgroundHorizontalGradient",!0,null],backgroundStrokeColor:["backgroundStrokeColor",null,Ue],backgroundStrokeLineWidth:["backgroundStrokeLineWidth",2,null],backgroundCornerRadius:["backgroundCornerRadius",0,null],backgroundCornerIteration:["backgroundCornerIteration",null,null],fontFamily:["fontFamily","Courier",null],fontSize:["fontSize","16px",null],fontStyle:["fontStyle","",null],color:["color","#fff",Ue],stroke:["stroke","#fff",Ue],strokeThickness:["strokeThickness",0,null],shadowOffsetX:["shadow.offsetX",0,null],shadowOffsetY:["shadow.offsetY",0,null],shadowColor:["shadow.color","#000",Ue],shadowBlur:["shadow.blur",0,null],shadowStroke:["shadow.stroke",!1,null],shadowFill:["shadow.fill",!1,null],underlineColor:["underline.color","#000",Ue],underlineThickness:["underline.thickness",0,null],underlineOffset:["underline.offset",0,null],strikethroughColor:["strikethrough.color","#000",Ue],strikethroughThickness:["strikethrough.thickness",0,null],strikethroughOffset:["strikethrough.offset",0,null],halign:["halign","left",null],valign:["valign","top",null],maxLines:["maxLines",0,null],fixedWidth:["fixedWidth",0,null],fixedHeight:["fixedHeight",0,null],resolution:["resolution",0,null],lineSpacing:["lineSpacing",0,null],xOffset:["xOffset",0,null],rtl:["rtl",!1,null],testString:["testString","|MÃ‰qgy",null],baselineX:["baselineX",1.2,null],baselineY:["baselineY",1.4,null],wrapMode:["wrap.mode",0,null],wrapWidth:["wrap.width",0,null],wrapCallback:["wrap.callback",null],wrapCallbackScope:["wrap.callbackScope",null]};/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2018 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */const wm=Phaser.Display.Canvas.CanvasPool;var bO=function(e){var t=wm.create(this),r=t.getContext("2d",{willReadFrequently:!0});e.syncFont(t,r);var h=r.measureText(e.testString);if("actualBoundingBoxAscent"in h){var y=h.actualBoundingBoxAscent,P=h.actualBoundingBoxDescent,a={ascent:y,descent:P,fontSize:y+P};return wm.remove(t),a}var n=Math.ceil(h.width*e.baselineX),T=n,i=2*T;T=T*e.baselineY|0,t.width=n,t.height=i,r.fillStyle="#f00",r.fillRect(0,0,n,i),r.font=e._font,r.textBaseline="alphabetic",r.fillStyle="#000",r.fillText(e.testString,0,T);var a={ascent:0,descent:0,fontSize:0};if(!r.getImageData(0,0,n,i))return a.ascent=T,a.descent=T+6,a.fontSize=a.ascent+a.descent,wm.remove(t),a;var x=r.getImageData(0,0,n,i).data,d=x.length,l=n*4,o,s,f=0,c=!1;for(o=0;o<T;o++){for(s=0;s<l;s+=4)if(x[f+s]!==255){c=!0;break}if(!c)f+=l;else break}for(a.ascent=T-o,f=d-l,c=!1,o=i;o>T;o--){for(s=0;s<l;s+=4)if(x[f+s]!==255){c=!0;break}if(!c)f-=l;else break}return a.descent=o-T,a.fontSize=a.ascent+a.descent,wm.remove(t),a},hr={NO_NEWLINE:0,RAW_NEWLINE:1,WRAPPED_NEWLINE:2,NO_WRAP:0,WORD_WRAP:1,CHAR_WRAP:2,MIX_WRAP:3,SPLITREGEXP:/(?:\r\n|\r|\n)/};const z0={none:hr.NO_WRAP,word:hr.WORD_WRAP,char:hr.CHAR_WRAP,character:hr.CHAR_WRAP,mix:hr.MIX_WRAP},wY=Phaser.Utils.Objects.GetAdvancedValue,ns=Phaser.Utils.Objects.GetValue;let TP=class{constructor(t,r,h){this.parent=t,h===void 0&&(h=bY),this.propertyMap=h,this.backgroundColor,this.backgroundColor2,this.backgroundHorizontalGradient,this.backgroundStrokeColor,this.backgroundStrokeLineWidth,this.backgroundCornerRadius,this.backgroundCornerIteration,this.fontFamily,this.fontSize,this.fontStyle,this.color,this.stroke,this.strokeThickness,this.shadowOffsetX,this.shadowOffsetY,this.shadowColor,this.shadowBlur,this.shadowStroke,this.shadowFill,this.underlineColor,this.underlineThickness,this.underlineOffset,this.strikethroughColor,this.strikethroughThickness,this.strikethroughOffset,this.halign,this.valign,this.maxLines,this.fixedWidth,this.fixedHeight,this.resolution,this.xOffset,this.rtl,this.testString,this.baselineX,this.baselineY,this.wrapMode,this.wrapWidth,this.wrapCallback,this.wrapCallbackScope,this._font,this.setStyle(r,!1,!0)}get isWrapFitMode(){return this.fixedWidth>0&&this.wrapMode!==hr.NO_WRAP&&this.wrapWidth===0}setStyle(t,r,h){if(r===void 0&&(r=!0),h===void 0&&(h=!1),t&&t.hasOwnProperty("wordWrap")){var y=t.wordWrap;y.hasOwnProperty("width")&&(t.wrap={mode:"word",width:y.width})}if(t&&t.hasOwnProperty("wrap")){var P=t.wrap;if(P.hasOwnProperty("mode")){var n=P.mode;typeof n=="string"&&(P.mode=z0[n])}else P.hasOwnProperty("width")&&(P.mode=1)}t&&t.rtl&&h&&!t.hasOwnProperty("halign")&&(t.halign="right"),t&&t.hasOwnProperty("fontSize")&&typeof t.fontSize=="number"&&(t.fontSize=t.fontSize.toString()+"px");var T=this.propertyMap;for(var i in T){var a=T[i],x=a[0],d=h?a[1]:this[i],l=a[2];if(i==="wrapCallback"||i==="wrapCallbackScope")this[i]=ns(t,x,d);else{var o=wY(t,x,d);l&&(o=l(o)),this[i]=o}}var s=ns(t,"font",null);s===null?this._font=this.fontStyle+" "+this.fontSize+" "+this.fontFamily:this._font=s;var f=ns(t,"fill",null);f!==null&&(this.color=Ue(f));var c=ns(t,"metrics",!1);return c?this.metrics={ascent:ns(c,"ascent",0),descent:ns(c,"descent",0),fontSize:ns(c,"fontSize",0)}:(r||!this.metrics)&&(this.metrics=bO(this)),r?this.parent.updateText():this.parent}syncFont(t,r){r.font=this._font}syncStyle(t,r){r.textBaseline="alphabetic",r.fillStyle=this.color,r.strokeStyle=this.stroke,r.lineWidth=this.strokeThickness,r.lineCap="round",r.lineJoin="round"}syncShadow(t,r){r?(t.shadowOffsetX=this.shadowOffsetX,t.shadowOffsetY=this.shadowOffsetY,t.shadowColor=this.shadowColor,t.shadowBlur=this.shadowBlur):(t.shadowOffsetX=0,t.shadowOffsetY=0,t.shadowColor=0,t.shadowBlur=0)}update(t){return t&&(this._font=`${this.fontStyle} ${this.fontSize} ${this.fontFamily}`.trim(),this.metrics=bO(this)),this.parent.updateText(t)}buildFont(){var t=`${this.fontStyle} ${this.fontSize} ${this.fontFamily}`.trim();return t!==this._font&&(this._font=t),this}setFont(t){return typeof t=="string"?(this.fontFamily=t,this.fontSize="",this.fontStyle=""):(this.fontFamily=ns(t,"fontFamily","Courier"),this.fontSize=ns(t,"fontSize","16px"),this.fontStyle=ns(t,"fontStyle","")),this.update(!0)}setFontFamily(t){return this.fontFamily=t,this.update(!0)}setFontStyle(t){return this.fontStyle=t,this.update(!0)}setFontSize(t){return typeof t=="number"&&(t=t.toString()+"px"),this.fontSize=t,this.update(!0)}setTestString(t){return this.testString=t,this.update(!0)}setFixedSize(t,r){return this.fixedWidth=t,this.fixedHeight=r,t&&(this.parent.width=t),r&&(this.parent.height=r),this.update(this.isWrapFitMode)}setResolution(t){return this.resolution=t,this.update(!1)}setXOffset(t){return this.xOffset=t,this.update(!1)}setBackgroundColor(t,r,h){return h===void 0&&(h=!0),this.backgroundColor=Ue(t,this.parent.canvas,this.parent.context),this.backgroundColor2=Ue(r,this.parent.canvas,this.parent.context),this.backgroundHorizontalGradient=h,this.update(!1)}setBackgroundStrokeColor(t,r){return this.backgroundStrokeColor=Ue(t,this.parent.canvas,this.parent.context),this.backgroundStrokeLineWidth=r,this.update(!1)}setBackgroundCornerRadius(t,r){return this.backgroundCornerRadius=t,this.backgroundCornerIteration=r,this.update(!1)}setFill(t){return this.color=Ue(t,this.parent.canvas,this.parent.context),this.update(!1)}setColor(t){return this.color=Ue(t,this.parent.canvas,this.parent.context),this.update(!1)}setStroke(t,r){return t===void 0?this.strokeThickness=0:(r===void 0&&(r=this.strokeThickness),this.stroke=Ue(t,this.parent.canvas,this.parent.context),this.strokeThickness=r),this.update(!0)}setShadow(t,r,h,y,P,n){return t===void 0&&(t=0),r===void 0&&(r=0),h===void 0&&(h="#000"),y===void 0&&(y=0),P===void 0&&(P=!1),n===void 0&&(n=!0),this.shadowOffsetX=t,this.shadowOffsetY=r,this.shadowColor=Ue(h,this.parent.canvas,this.parent.context),this.shadowBlur=y,this.shadowStroke=P,this.shadowFill=n,this.update(!1)}setShadowOffset(t,r){return t===void 0&&(t=0),r===void 0&&(r=t),this.shadowOffsetX=t,this.shadowOffsetY=r,this.update(!1)}setShadowColor(t){return t===void 0&&(t="#000"),this.shadowColor=Ue(t,this.parent.canvas,this.parent.context),this.update(!1)}setShadowBlur(t){return t===void 0&&(t=0),this.shadowBlur=t,this.update(!1)}setShadowStroke(t){return this.shadowStroke=t,this.update(!1)}setShadowFill(t){return this.shadowFill=t,this.update(!1)}setUnderline(t,r,h){return t===void 0&&(t="#000"),r===void 0&&(r=0),h===void 0&&(h=0),this.underlineColor=Ue(t,this.parent.canvas,this.parent.context),this.underlineThickness=r,this.underlineOffset=h,this.update(!1)}setUnderlineColor(t){return t===void 0&&(t="#000"),this.underlineColor=Ue(t,this.parent.canvas,this.parent.context),this.update(!1)}setUnderlineThickness(t){return t===void 0&&(t=0),this.underlineThickness=t,this.update(!1)}setUnderlineOffset(t){return t===void 0&&(t=0),this.underlineOffset=t,this.update(!1)}setStrikethrough(t,r,h){return t===void 0&&(t="#000"),r===void 0&&(r=0),h===void 0&&(h=0),this.strikethroughColor=Ue(t,this.parent.canvas,this.parent.context),this.strikethroughThickness=r,this.strikethroughOffset=h,this.update(!1)}setStrikethroughColor(t){return t===void 0&&(t="#000"),this.strikethroughColor=Ue(t,this.parent.canvas,this.parent.context),this.update(!1)}setStrikethroughThickness(t){return t===void 0&&(t=0),this.strikethroughThickness=t,this.update(!1)}setStrikethroughOffset(t){return t===void 0&&(t=0),this.strikethroughOffset=t,this.update(!1)}setWrapMode(t){return typeof t=="string"&&(t=z0[t.toLowerCase()]||0),this.wrapMode=t,this.update(!0)}setWrapWidth(t){return this.wrapWidth=t,this.update(!1)}setAlign(t,r){return t===void 0&&(t="left"),r===void 0&&(r="top"),this.halign=t,this.valign=r,this.update(!1)}setHAlign(t){return t===void 0&&(t="left"),this.halign=t,this.update(!1)}setVAlign(t){return t===void 0&&(t="top"),this.valign=t,this.update(!1)}setMaxLines(t){return t===void 0&&(t=0),this.maxLines=t,this.update(!1)}getTextMetrics(){var t=this.metrics;return{ascent:t.ascent,descent:t.descent,fontSize:t.fontSize}}setTextMetrics(t,r){return this.metrics.ascent=t.ascent,this.metrics.descent=t.descent,this.metrics.fontSize=t.fontSize,r&&(typeof r=="string"?(this.fontFamily=r,this.fontSize="",this.fontStyle=""):(this.fontFamily=ns(r,"fontFamily",this.fontFamily),this.fontSize=ns(r,"fontSize",this.fontSize),this.fontStyle=ns(r,"fontStyle",this.fontStyle))),this.parent.updateText(!0)}get lineHeight(){return this.metrics.fontSize+this.parent.lineSpacing}toJSON(){var t={},r=this.propertyMap;for(var h in r)t[h]=this[h];return t.metrics=this.getTextMetrics(),t}destroy(){this.parent=void 0}};var jf=function(e){return e==null?e="":Array.isArray(e)?e=e.join(`
`):typeof e=="number"&&(e=e.toString()),e};const RY={draw(e,t,r,h){var y=this.penManager;this.hitAreaManager.clear();var P=this.context;P.save();var n=this.defaultStyle;this.clear(),CP(this,n.backgroundColor,n.backgroundStrokeColor,n.backgroundStrokeLineWidth,n.backgroundCornerRadius,n.backgroundColor2,n.backgroundHorizontalGradient,n.backgroundCornerIteration),e+=this.startXOffset,t+=this.startYOffset;var T=n.halign,i=n.valign,a,x=n.lineHeight,d=y.lines,l=d.length,o=n.maxLines,s,f,c;o>0&&l>o?(s=o,i==="center"?f=Math.floor((l-s)/2):i==="bottom"?f=l-s:f=0):(s=l,f=0),c=f+s;var u,v,p=this.rtl,m=p?this.parent.width:void 0;i==="center"?v=Math.max((h-s*x)/2,0):i==="bottom"?v=Math.max(h-s*x-2,0):v=0,v+=t;for(var g=f;g<c;g++)if(a=y.getLineWidth(g),a!==0){for(var C=d[g],M=C.length,b=T,w=0;w<M;w++){var R=C[w].prop.align;if(R!==void 0){b=R;break}}b==="center"?u=(r-a)/2:b==="right"?u=p?0:r-a:u=p?r-a:0,u+=e;for(var w=0;w<M;w++)this.drawPen(C[w],u,v,m)}P.restore()},drawPen(e,t,r,h){t+=e.x,r+=e.y+(e.prop.y||0),h!==void 0&&(t=h-t);var y=this.canvas,P=this.context;P.save();var n=this.parser.propToContextStyle(this.defaultStyle,e.prop);if(n.bgcolor!==null&&e.width>0){var T=this.defaultStyle.metrics,i=r-T.ascent,a=T.fontSize;this.drawRectangle(t,i,e.width,a,n.bgcolor,n)}if(n.underlineThickness>0&&e.width>0){var x=r+n.underlineOffset-n.underlineThickness/2;this.drawLine(t,x,e.width,n.underlineThickness,n.underlineColor,n)}if(e.isTextPen&&(n.buildFont(),n.syncFont(y,P),n.syncStyle(y,P),this.drawText(t,r,e.text,n)),e.isImagePen&&this.drawImage(t,r,e.prop.img,e.prop.color,n),n.strikethroughThickness>0&&e.width>0){var x=r+n.strikethroughOffset-n.strikethroughThickness/2;this.drawLine(t,x,e.width,n.strikethroughThickness,n.strikethroughColor,n)}if(P.restore(),e.hasAreaMarker&&e.width>0){var d,l=e.prop.area;if(l)d={key:l};else{var o=e.prop.url;d={key:`url:${o}`,url:o}}this.hitAreaManager.add(t,r-this.startYOffset,e.width,this.defaultStyle.lineHeight,d)}},clear(){var e=this.canvas;this.context.clearRect(0,0,e.width,e.height)},drawRectangle(e,t,r,h,y,P){this.autoRound&&(e=Math.round(e),t=Math.round(t));var n=this.context;n.fillStyle=y,n.fillRect(e,t,r,h)},drawLine(e,t,r,h,y,P){this.autoRound&&(e=Math.round(e),t=Math.round(t));var n=this.context;P.syncShadow(n,P.shadowStroke);var T=n.lineCap;n.lineCap="butt",n.strokeStyle=y,n.lineWidth=h,n.beginPath(),n.moveTo(e,t),n.lineTo(e+r,t),n.stroke(),n.lineCap=T},drawText(e,t,r,h){this.autoRound&&(e=Math.round(e),t=Math.round(t));var y=this.context;h.stroke&&h.stroke!=="none"&&h.strokeThickness>0&&(h.syncShadow(y,h.shadowStroke),y.strokeText(r,e,t)),h.color&&h.color!=="none"&&(h.syncShadow(y,h.shadowFill),y.fillText(r,e,t))},drawImage(e,t,r,h,y){t-=this.startYOffset,this.parent.imageManager.draw(r,this.context,e,t,h,this.autoRound)}},kl=Phaser.Utils.Objects.GetValue,AY=hr.NO_NEWLINE,wO=hr.RAW_NEWLINE;class OY{constructor(t){this.prop={},this.resetFromJSON(t)}resetFromJSON(t){this.text=kl(t,"text",""),this.x=kl(t,"x",0),this.y=kl(t,"y",0),this.width=kl(t,"width",0);var r=kl(t,"prop",null);r===null&&(r={}),this.prop=r,this.newLineMode=kl(t,"newLineMode",0),this.startIndex=kl(t,"startIndex",0)}get plainText(){var t=this.text;return this.newLineMode===wO&&(t+=`
`),t}get wrapText(){var t=this.text;return this.newLineMode!==AY&&(t+=`
`),t}get rawTextLength(){var t=this.text.length;return this.newLineMode===wO&&(t+=1),t}get endIndex(){return this.startIndex+this.rawTextLength}get lastX(){return this.x+this.width}get isTextPen(){return this.text!==""}get isImagePen(){return!!this.prop.img}get hasAreaMarker(){return!!this.prop.area||!!this.prop.url}}var va=function(e,t){var r=Array.isArray(e);if(t===void 0?t=r?[]:{}:Wh(t),r){t.length=e.length;for(var h=0,y=e.length;h<y;h++)t[h]=e[h]}else for(var P in e)t[P]=e[P];return t};const RO=Phaser.Utils.Objects.GetFastValue,AO=hr.NO_NEWLINE,LY=hr.WRAPPED_NEWLINE;class EP{constructor(t){this.pens=[],this.lines=[],this.maxLinesWidth=void 0,this.pensPool=t.pensPool,this.linesPool=t.linesPool,this.tagToText=RO(t,"tagToText",wr),this.tagToTextScope=RO(t,"tagToTextScope",void 0)}destroy(){this.clear(),this.tagToText=void 0,this.tagToTextScope=void 0}clear(){for(var t=0,r=this.lines.length;t<r;t++)this.lines[t].length=0;this.pensPool.pushMultiple(this.pens),this.linesPool.pushMultiple(this.lines),this.maxLinesWidth=void 0}addTextPen(t,r,h,y,P,n){var T=this.pensPool.pop();return T==null&&(T=new OY),Nl.text=t,Nl.x=r,Nl.y=h,Nl.width=y,Nl.prop=P,Nl.newLineMode=n,T.resetFromJSON(Nl),this.addPen(T),this}addImagePen(t,r,h,y){return this.addTextPen("",t,r,h,y,AO),this}addNewLinePen(){var t=this.lastPen,r=t?t.lastX:0,h=t?t.y:0,y=t?va(t.prop):null;return this.addTextPen("",r,h,0,y,LY),this}addPen(t){var r=this.lastPen;r==null?t.startIndex=0:t.startIndex=r.endIndex,this.pens.push(t);var h=this.lastLine;h==null&&(h=this.linesPool.pop()||[],this.lines.push(h)),h.push(t),t.newLineMode!==AO&&(h=this.linesPool.pop()||[],this.lines.push(h)),this.maxLinesWidth=void 0}clone(t){t==null&&(t=new EP),t.clear();for(var r=0,h=this.lines.length;r<h;r++)for(var y=this.lines[r],P=0,n=y.length;P<n;P++){var T=y[P];t.addPen(T.text,T.x,T.y,T.width,va(T.prop),T.newLineMode)}return t}get lastPen(){return this.pens[this.pens.length-1]}get lastLine(){return this.lines[this.lines.length-1]}getLineStartIndex(t){if(t>=this.lines.length)return this.getLineEndIndex(t);var r=this.lines[t];return r&&r[0]?r[0].startIndex:0}getLineEndIndex(t){t>=this.lines.length&&(t=this.lines.length-1);var r,h=!1,y;for(r=t;r>=0&&(y=this.lines[r],h=y!=null&&y.length>0,!h);r--);if(!h)return 0;var P=y[y.length-1];return P.endIndex}getLineWidth(t){var r=this.lines[t];if(!r)return 0;var h=r[r.length-1];if(h==null)return 0;var y=h.lastX;return y}getMaxLineWidth(){if(this.maxLinesWidth!==void 0)return this.maxLinesWidth;for(var t,r=0,h=0,y=this.lines.length;h<y;h++)t=this.getLineWidth(h),t>r&&(r=t);return this.maxLinesWidth=r,r}getLineWidths(){for(var t=[],r=0,h=this.lines.length;r<h;r++)t.push(this.getLineWidth(r));return t}get linesCount(){return this.lines.length}get plainText(){for(var t="",r=this.pens,h=0,y=r.length;h<y;h++)t+=r[h].plainText;return t}get rawTextLength(){for(var t=0,r=this.pens,h=0,y=this.pens.length;h<y;h++)t+=r[h].rawTextLength;return t}getSliceTagText(t,r,h){var y=this.lastPen;if(y==null)return"";var P=y.endIndex;(t===void 0||t===0)&&(t=-1),(r===void 0||r===P)&&(r=P+1),h===void 0&&(h=!1);for(var n="",T,i,a,x,d,l,o,s=0,f=this.pens.length;s<f&&(T=this.pens[s],x=T.endIndex,!(!(x<=t)&&(T=this.pens[s],i=h?T.wrapText:T.plainText,l=T.prop,a=T.startIndex,d=a>=t&&x<=r,d||(i=i.substring(t-a,r-a)),this.tagToTextScope?n+=this.tagToText.call(this.tagToTextScope,i,l,o):n+=this.tagToText(i,l,o),o=l,x>=r)));s++);return n}get length(){return this.lines.length}set length(t){this.clear()}}var Nl={};const FY=Phaser.Geom.Rectangle;var OO=new $a;class DY{constructor(){this.hitAreas=[]}destroy(){this.clear()}clear(){for(var t=0,r=this.hitAreas.length;t<r;t++)this.hitAreas[t].data=null;return OO.pushMultiple(this.hitAreas),this}add(t,r,h,y,P){P===void 0&&(P={});var n=OO.pop();return n===null?n=new FY(t,r,h,y):n.setTo(t,r,h,y),n.data=P,this.hitAreas.push(n),this}getFirst(t,r){for(var h=0,y=this.hitAreas.length;h<y;h++){var P=this.hitAreas[h];if(P.contains(t,r))return P}return null}getByKey(t){for(var r=0,h=this.hitAreas.length;r<h;r++){var y=this.hitAreas[r];if(y.data.key===t)return y}return null}drawBounds(t,r,h){r===void 0&&(r=16777215),h&&t.save().scaleCanvas(h.scaleX,h.scaleY).rotateCanvas(h.rotation).translateCanvas(h.x,h.y);for(var y=0,P=this.hitAreas.length;y<P;y++){var n=this.hitAreas[y];t.lineStyle(1,r).strokeRect(n.x,n.y,n.width,n.height)}return h&&t.restore(),this}}var BY=function(){this.parent.on("pointerdown",IY,this).on("pointerup",GY,this).on("pointermove",o1,this).on("pointerover",o1,this).on("pointerout",function(e,t){o1.call(this,e,null,null,t)},this)},IY=function(e,t,r,h){var y=this.hitAreaManager.getFirst(t,r);if(y!==null){var P=y.data.key;qf.call(this,"areadown",P,e,t,r,h),y.data&&(y.data.isDown=!0)}},GY=function(e,t,r,h){var y=this.hitAreaManager.getFirst(t,r);if(y!==null){var P=y.data.key;if(qf.call(this,"areaup",P,e,t,r,h),!!y.data){if(y.data.isDown){if(qf.call(this,"areaclick",P,e,t,r,h),!y.data)return;var n=y.data.url;n&&window.open(n,"_blank")}y.data.isDown=!1}}},o1=function(e,t,r,h){if(t===null){if(this.lastHitAreaKey!==null){qf.call(this,"areaout",this.lastHitAreaKey,e,t,r,h);var y=this.hitAreaManager.getByKey(this.lastHitAreaKey);y&&y.data&&(y.data.isDown=!1),this.lastHitAreaKey=null}return}var y=this.hitAreaManager.getFirst(t,r),P=y?y.data.key:null;if(this.lastHitAreaKey!==P){if(this.lastHitAreaKey!==null){qf.call(this,"areaout",this.lastHitAreaKey,e,t,r,h);var n=this.hitAreaManager.getByKey(this.lastHitAreaKey);n&&(this.urlTagCursorStyle&&LO(this.scene,n,""),n.data.isDown=!1)}P!==null&&(qf.call(this,"areaover",P,e,t,r,h),y.data&&this.urlTagCursorStyle&&LO(this.scene,y,this.urlTagCursorStyle)),this.lastHitAreaKey=P}},qf=function(e,t,r,h,y,P){this.parent.emit(`${e}-${t}`,r,h,y,P),this.parent.emit(e,t,r,h,y,P)},LO=function(e,t,r){!t||!t.data||!t.data.url||(e.input.manager.canvas.style.cursor=r)},kY=/^[\x00-\x7F]+$/,bv=function(e){return kY.test(e)};const NY=hr.NO_NEWLINE,zY=hr.RAW_NEWLINE,h1=hr.WRAPPED_NEWLINE,FO=hr.NO_WRAP,UY=hr.WORD_WRAP,j3=hr.CHAR_WRAP,VY=hr.SPLITREGEXP;var q3=function(e,t,r,h,y,P){h<=0&&(r=FO);var n=[];if(!e||!e.length)return n;for(var T=r===FO,i=e.split(VY),a,x,d,l=0,o=i.length;l<o;l++){if(a=i[l],d=l===o-1?NY:zY,T){var s=t.measureText(a).width;n.push(P.getLine(a,s,d));continue}if(x=l===0?h-y:h,a.length<=100){var s=t.measureText(a).width;if(s<=x){n.push(P.getLine(a,s,d));continue}}for(var f=WY(a,r),c,u,v="",p=0,m,g=0,C=f.length;g<C;g++){if(c=f[g],u=t.measureText(c).width,u>h&&YY(c)){v!==""?n.push(P.getLine(v,p,h1)):g===0&&y>0&&n.push(P.getLine("",0,h1)),n.push(...q3(c,t,j3,h,0,P));var M=n.pop();v=M.text,p=M.width,P.freeLine(M),v===" "&&(v="",p=0);continue}m=p+u,m>x?(n.push(P.getLine(v,p,h1)),v=c,p=u,x=h):(v+=c,p=m),g===C-1&&n.push(P.getLine(v,p,d))}}return n},WY=function(e,t){var r;switch(t){case UY:r=[],e=e.split(" ");for(var h=0,y=e.length;h<y;h++){var P=e[h];h<y-1?r.push(P+" "):P!==""&&r.push(P)}break;case j3:r=e.split("");break;default:r=[],e=e.split(" ");for(var h=0,y=e.length;h<y;h++){var P=e[h];h<y-1?bv(P)?r.push(P+" "):(r.push(...P.split("")),r.push(" ")):P!==""&&(bv(P)?r.push(P):r.push(...P.split("")))}break}return r},YY=function(e){switch(e.length){case 1:return!1;case 2:return e.charAt(1)!==" ";default:return!0}};const l1=Phaser.Utils.Objects.GetValue,XY=hr.NO_WRAP,DO=hr.NO_NEWLINE,HY=hr.WRAPPED_NEWLINE;class _3{constructor(t){this.parent=t.parent,this.scene=this.parent.scene,this.context=l1(t,"context",null),this.canvas=this.context.canvas,this.parser=l1(t,"parser",null),this.defaultStyle=l1(t,"style",null),this.autoRound=!0,this.pensPool=t.pensPool,this.linesPool=t.linesPool,this.wrapTextLinesPool=t.wrapTextLinesPool,this.penManager=this.newPenManager(),this._tmpPenManager=null,this.hitAreaManager=new DY,this.lastHitAreaKey=null,this.urlTagCursorStyle=null}destroy(){this.parent=void 0,this.scene=void 0,this.context=void 0,this.canvas=void 0,this.parser=void 0,this.defaultStyle=void 0,this.penManager&&(this.penManager.destroy(),this.penManager=void 0),this._tmpPenManager&&(this._tmpPenManager.destroy(),this._tmpPenManager=void 0),this.hitAreaManager&&(this.hitAreaManager.destroy(),this.hitAreaManager=void 0),this.pensPool=void 0,this.linesPool=void 0,this.wrapTextLinesPool=void 0}updatePenManager(t,r,h,y,P){if(P===void 0&&(P=this.penManager),P.clear(),t==="")return P;var n=this.parent.style;if(n.isWrapFitMode){var T=this.parent.padding;h=n.fixedWidth-T.left-T.right}for(var i=this.canvas,a=this.context,x=0,d=0,l=n.wrapCallback,o=n.wrapCallbackScope,s=!0,f,c,u,v=this.parser.splitText(t),p,m,g=this.wrapTextLinesPool,C=0,M=v.length;C<M;C++)if(p=this.parser.tagTextToProp(v[C],c),f=p.plainText,c=p.prop,c.img){var b=this.imageManager.getOuterWidth(c.img);h>0&&r!==XY&&h<x+b&&(P.addNewLinePen(),d+=y,x=0),P.addImagePen(x,d,b,va(c)),x+=b}else if(f!==""){if(a.save(),u=this.parser.propToContextStyle(this.defaultStyle,c),u.buildFont(),u.syncFont(i,a),u.syncStyle(i,a),!l)m=q3(f,a,r,h,x,g);else{m=l.call(o,f,a,h,x),typeof m=="string"&&(m=m.split(`
`));for(var A,w=0,R=m.length;w<R;w++)A=m[w],typeof A=="string"?m[w]=g.getLine(A,a.measureText(A).width,w<R-1?HY:DO):s=!1}for(var A,w=0,R=m.length;w<R;w++)A=m[w],P.addTextPen(A.text,x,d,A.width,va(c),A.newLineMode),A.newLineMode!==DO?(x=0,d+=y):x+=A.width;s&&g.freeLines(m),m=null,a.restore()}for(var C=0,M=this.lines.length;C<M;C++){var L=this.lines[C],D=L[L.length-1];D&&(D.width+=this.parser.getStrokeThinkness(this.defaultStyle,D.prop))}return P}get startXOffset(){return this.defaultStyle.xOffset}get startYOffset(){return this.defaultStyle.metrics.ascent}get lines(){return this.penManager.lines}get displayLinesCount(){var t=this.penManager.linesCount,r=this.defaultStyle.maxLines;return r>0&&t>r&&(t=r),t}get linesWidth(){return Math.ceil(this.penManager.getMaxLineWidth())}get linesHeight(){var t=this.displayLinesCount,r=this.defaultStyle.lineHeight*t;return t>0&&(r-=this.defaultStyle.lineSpacing),r}get imageManager(){return this.parent.imageManager}get rtl(){return this.parent.style.rtl}newPenManager(){return new EP({pensPool:this.pensPool,linesPool:this.linesPool,tagToText:this.parser.propToTagText,tagToTextScope:this.parser})}get tmpPenManager(){return this._tmpPenManager===null&&(this._tmpPenManager=this.newPenManager()),this._tmpPenManager}getPlainText(t,r,h){var y;if(t==null)y=this.penManager.plainText;else{var P=this.parser.splitText(t,1);y="";for(var n=0,T=P.length;n<T;n++)y+=P[n]}return(r!=null||h!=null)&&(r==null&&(r=0),h==null&&(h=y.length),y=y.substring(r,h)),y}getPenManager(t,r){if(t===void 0)return this.copyPenManager(r,this.penManager);r===void 0&&(r=this.newPenManager());var h=this.defaultStyle;return this.updatePenManager(t,h.wrapMode,h.wrapWidth,h.lineHeight,r),r}getText(t,r,h,y){if(t==null)return this.penManager.getSliceTagText(r,h,y);var P=this.tmpPenManager,n=this.defaultStyle;return this.updatePenManager(t,n.wrapMode,n.wrapWidth,n.lineHeight,P),P.getSliceTagText(r,h,y)}copyPenManager(t,r){return r===void 0&&(r=this.penManager),r.copy(t)}getTextWidth(t){return t===void 0&&(t=this.penManager),t.getMaxLineWidth()}getLastPen(t){return t===void 0&&(t=this.penManager),t.lastPen}}var $Y={setInteractive:BY};Object.assign(_3.prototype,RY,$Y);class BO extends $a{freeLine(t){if(t)return this.push(t),this}freeLines(t){if(t)return this.pushMultiple(t),this}getLine(t,r,h){var y=this.pop();return y===null&&(y={}),y.text=t,y.width=r,y.newLineMode=h,y}}const KY=Phaser.Utils.Objects.IsPlainObject,xf=Phaser.Utils.Objects.GetValue;var u1=function(e,t){KY(e)?(t=e,e=t.key):t===void 0&&(t={key:e}),t.hasOwnProperty("key")||(t.key=e);var r=t.key,h=t.frame,y=t.width,P=t.height;if(y===void 0||P===void 0){var n=this.textureManager.getFrame(r,h),T=n?n.cutWidth:0,i=n?n.cutHeight:0;y===void 0&&P===void 0?(y=T,P=i):y===void 0?y=T*(P/i):P===void 0&&(P=i*(y/T))}this.images[e]={key:r,frame:h,width:y,height:P,y:xf(t,"y",0),left:xf(t,"left",0),right:xf(t,"right",0),originX:xf(t,"originX",0),originY:xf(t,"originY",0),tintFill:xf(t,"tintFill",!1)}};const IO=Phaser.Display.Canvas.CanvasPool;var tB=function(e,t,r,h,y,P,n,T){r===void 0&&(r=0),h===void 0&&(h=0),y===void 0&&(y=e.cutWidth),P===void 0&&(P=e.cutHeight),T===void 0&&(T=!1),T&&(r=Math.round(r),h=Math.round(h));var i=t.getContext("2d",{willReadFrequently:!0});if(n){var a=IO.create(null,y,P,Phaser.CANVAS,!0),x=a.getContext("2d",{willReadFrequently:!0});x.drawImage(e.source.image,e.cutX,e.cutY,e.cutWidth,e.cutHeight,0,0,y,P),x.globalCompositeOperation="source-in",x.fillStyle=n,x.fillRect(0,0,y,P),i.drawImage(a,0,0,y,P,r,h,y,P),IO.remove(a)}else i.drawImage(e.source.image,e.cutX,e.cutY,e.cutWidth,e.cutHeight,r,h,y,P)},ZY=function(e,t,r,h,y,P){var n=this.get(e);if(n){var T=this.textureManager.getFrame(n.key,n.frame),i=n.width,a=n.height;r+=n.left-n.originX*i,h+=n.y-n.originY*a,n.tintFill||(y=void 0),tB(T,t.canvas,r,h,i,a,y,P)}};class PP{constructor(t){this.textureManager=t.sys.textures,this.images={}}destroy(){this.textureManager=void 0,this.images=void 0}add(t,r){if(typeof t=="string")u1.call(this,t,r);else if(Array.isArray(t))for(var h=t,y=0,P=h.length;y<P;y++)u1.call(this,h[y]);else{var h=t;for(var t in h)u1.call(this,t,h[t])}return this}has(t){return this.images.hasOwnProperty(t)}remove(t){return this.has(t)&&delete this.images[t],this}get(t){return this.has(t)||this.textureManager.exists(t)&&this.add(t),this.images[t]}getOuterWidth(t){var r=this.get(t);return r?r.width+r.left+r.right:0}getFrame(t){var r=this.get(t);return r?this.textureManager.getFrame(r.key,r.frame):void 0}hasTexture(t){return!!this.getFrame(t)}}var JY={draw:ZY};Object.assign(PP.prototype,JY);var eB=function(e,t){!e&&e!==0&&(e=""),t===void 0&&(t=!0),Array.isArray(e)&&(e=e.join(`
`));var r;return t?r=`${this.text}
${e}`:r=`${this.text}${e}`,r!=this.text&&this.setText(r),this};const QY=Phaser.Utils.Objects.IsPlainObject,GO=Phaser.DOM.AddToDOM,kO=Phaser.Display.Canvas.CanvasPool,jY=Phaser.GameObjects.GameObject,kn=Phaser.Utils.Objects.GetValue,qY=Phaser.DOM.RemoveFromDOM,_Y=hr.SPLITREGEXP,tX=Phaser.Utils.String.UUID;var yf=null,f1=null,d1=null;class MP extends Q3{constructor(t,r,h,y,P,n,T){if(QY(r)){var i=r;r=kn(i,"x",0),h=kn(i,"y",0),y=kn(i,"text",""),P=kn(i,"style")}if(r===void 0&&(r=0),h===void 0&&(h=0),super(t,n),this.renderer=t.sys.game.renderer,this.setPosition(r,h),this.setOrigin(0,0),this.initPipeline(),this.initPostPipeline(!0),this.canvas=kO.create(this),this.context=this.canvas.getContext("2d",{willReadFrequently:!0}),this._imageManager=void 0,P){if(P.hasOwnProperty("align")){var a=P.align;delete P.align,P.halign=a}P.hasOwnProperty("stroke")&&!P.hasOwnProperty("strokeThickness")&&(P.strokeThickness=1)}this.style=new TP(this,P);var x=kn(P,"images",void 0);x&&this.addImage(x),this.autoRound=!0,this._text=void 0,this.padding={left:0,right:0,top:0,bottom:0},this.width=1,this.height=1,this.dirty=!1,this.style.resolution===0&&(this.style.resolution=1),this._crop=this.resetCropObject(),this._textureKey=tX(),this.texture=t.sys.textures.addCanvas(this._textureKey,this.canvas),this.frame=this.texture.get(),this.frame.source.resolution=this.style.resolution,this.renderer&&this.renderer.gl&&(this.renderer.deleteTexture(this.frame.source.glTexture),this.frame.source.glTexture=null);var d=kn(P,"sharedPool",!0),l,o,s;d?(yf||(yf={},f1=new $a,d1=new BO,this.scene.game.events.once("destroy",function(){yf=null,f1=null,d1=null})),yf.hasOwnProperty(n)||(yf[n]=new $a),l=yf[n],o=f1,s=d1):(l=new $a,o=new $a,s=new BO),this.canvasText=new _3({parent:this,context:this.context,parser:T,style:this.style,pensPool:l,linesPool:o,wrapTextLinesPool:s}),this.parser=T,this.initRTL(),P&&P.padding&&this.setPadding(P.padding),this.setText(y),this.setUrlTagCursorStyle(kn(P,"urlTagCursorStyle","pointer")),kn(P,"interactive",!1)&&this.setInteractive()}preDestroy(){qY(this.canvas),this.canvasText.destroy(),this.canvasText=void 0,this._imageManager&&(this._imageManager.destroy(),this._imageManager=void 0),kO.remove(this.canvas);var t=this.texture;t&&t.destroy()}set text(t){this.setText(t)}get text(){return this._text}initRTL(){this.style.rtl&&(this.canvas.dir="rtl",this.context.direction="rtl",this.canvas.style.display="none",GO(this.canvas,this.scene.sys.canvas),this.originX=1)}setRTL(t){t===void 0&&(t=!0);var r=this.style;if(r.rtl===t)return this;if(r.rtl=t,t?(this.canvas.dir="rtl",this.context.direction="rtl",this.canvas.style.display="none",GO(this.canvas,this.scene.sys.canvas)):(this.canvas.dir="ltr",this.context.direction="ltr"),r.halign==="left"?r.halign="right":r.halign==="right"&&(r.halign="left"),this._imageManager){var h=this._imageManager.images;for(var y in h)h[y].originX=1-h[y].originX}return this}setText(t){return t=jf(t),t===this._text?this:(this._text=t,this.updateText(),this)}setPadding(t,r,h,y){if(typeof t=="object"){var P=t,n=kn(P,"x",null);n!==null?(t=n,h=n):(t=kn(P,"left",0),h=kn(P,"right",t));var T=kn(P,"y",null);T!==null?(r=T,y=T):(r=kn(P,"top",0),y=kn(P,"bottom",r))}else t===void 0&&(t=0),r===void 0&&(r=t),h===void 0&&(h=t),y===void 0&&(y=r);return this.padding.left=t,this.padding.top=r,this.padding.right=h,this.padding.bottom=y,this.updateText(!1)}updateText(t){t===void 0&&(t=!0);var r=this.canvasText,h=this.style;t&&r.updatePenManager(this._text,h.wrapMode,h.wrapWidth,h.lineHeight);var y=this.padding,P,n,T=Math.ceil(r.linesWidth);h.fixedWidth===0?(this.width=T+y.left+y.right,P=T):(this.width=h.fixedWidth,P=this.width-y.left-y.right,P<T&&(P=T)),h.fixedHeight===0?(this.height=r.linesHeight+y.top+y.bottom,n=r.linesHeight):(this.height=h.fixedHeight,n=this.height-y.top-y.bottom,n<r.linesHeight&&(n=r.linesHeight));var i=this.width,a=this.height;this.updateDisplayOrigin();var x=h.resolution;i*=x,a*=x,i=Math.max(Math.ceil(i),1),a=Math.max(Math.ceil(a),1);var d=this.canvas,l=this.context;d.width!==i||d.height!==a?(d.width=i,d.height=a,this.frame.setSize(i,a)):l.clearRect(0,0,i,a),l.save(),l.scale(x,x);var o=this.style.rtl?y.right:y.left,s=y.top;r.draw(o,s,P,n),l.restore(),this.renderer&&this.renderer.gl&&(this.frame.source.glTexture=this.renderer.canvasToTexture(d,this.frame.source.glTexture,!0),this.frame.glTexture.spectorMetadata={textureKey:"BBCodeText Game Object"}),this.dirty=!0;var f=this.input;return f&&!f.customHitArea&&(f.hitArea.width=this.width,f.hitArea.height=this.height),this}toJSON(){var t=Components.ToJSON(this),r={autoRound:this.autoRound,text:this._text,style:this.style.toJSON(),resolution:this.resolution,padding:{left:this.padding.left,right:this.padding.right,top:this.padding.top,bottom:this.padding.bottom}};return t.data=r,t}setInteractive(t,r,h){var y=!!this.input;return jY.prototype.setInteractive.call(this,t,r,h),y||this.canvasText.setInteractive(),this}setUrlTagCursorStyle(t){return this.urlTagCursorStyle=t,this}get urlTagCursorStyle(){return this.canvasText.urlTagCursorStyle}set urlTagCursorStyle(t){this.canvasText.urlTagCursorStyle=t}getWrappedText(t,r,h){return typeof t=="number"&&(h=r,r=t,t=void 0),t=this.canvasText.getText(t,r,h,!0),t.split(_Y)}getPlainText(t,r,h){return typeof t=="number"&&(h=r,r=t,t=void 0),this.canvasText.getPlainText(t,r,h)}getText(t,r,h,y){return typeof t=="number"&&(y=h,h=r,r=t,t=void 0),y===void 0&&(y=!1),this.canvasText.getText(t,r,h,y)}getSubString(t,r,h){return typeof t=="number"&&(h=r,r=t,t=void 0),this.getText(t,r,h)}copyPenManager(t){return this.canvasText.copyPenManager(t)}getPenManager(t,r){return this.canvasText.getPenManager(t,r)}setSize(t,r){return this.setFixedSize(t,r)}resize(t,r){return this.setFixedSize(t,r)}get imageManager(){return this._imageManager||(this._imageManager=new PP(this.scene)),this._imageManager}addImage(t,r){return this.imageManager.add(t,r),this}drawAreaBounds(t,r){return this.canvasText.hitAreaManager.drawBounds(t,r,this),this}generateTexture(t,r,h,y,P){var n=this.canvas;return y===void 0?y=n.width:y*=this.resolution,P===void 0?P=n.height:P*=this.resolution,K3(this.scene,n,t,r,h,y,P),this}}var eX={appendText:eB};Object.assign(MP.prototype,eX);var iX=function(e,t){for(var r=this.tagRegex,h=[],y=0,P=!1,n=!1;;){var T=r.RE_SPLITTEXT.exec(e);if(!T)break;var i=T[0];if(n)if(r.RE_ESC_CLOSE.test(i))n=!1;else continue;else if(P)if(r.RE_RAW_CLOSE.test(i))P=!1;else continue;else r.RE_ESC_OPEN.test(i)?n=!0:r.RE_RAW_OPEN.test(i)&&(P=!0);var a=r.RE_SPLITTEXT.lastIndex,x=a-i.length;if(y<x){var d=e.substring(y,x);h.push(d)}t===void 0&&h.push(i),y=a}var l=e.length;return y<l&&h.push(e.substring(y,l)),h};const _i=!1,Yi=!0;var rX={plainText:null,prevProp:null},nX=function(e,t){var r=this.tagRegex;t==null&&(t={});var h="";if(t.img&&ze(t,_i,"img"),t.esc)r.RE_ESC_CLOSE.test(e)?ze(t,_i,"esc"):h=e;else if(t.raw)r.RE_RAW_CLOSE.test(e)?ze(t,_i,"raw"):h=e;else if(r.RE_ESC_OPEN.test(e))ze(t,Yi,"esc",!0);else if(r.RE_ESC_CLOSE.test(e))ze(t,_i,"esc");else if(r.RE_RAW_OPEN.test(e))ze(t,Yi,"raw",!0);else if(r.RE_RAW_CLOSE.test(e))ze(t,_i,"raw");else if(r.RE_BLOD_OPEN.test(e))ze(t,Yi,"b",!0);else if(r.RE_BLOD_CLOSE.test(e))ze(t,_i,"b");else if(r.RE_ITALICS_OPEN.test(e))ze(t,Yi,"i",!0);else if(r.RE_ITALICS_CLOSE.test(e))ze(t,_i,"i");else if(r.RE_WEIGHT_OPEN.test(e)){var y=e.match(r.RE_WEIGHT_OPEN);ze(t,Yi,"weight",y[1])}else if(r.RE_WEIGHT_CLOSE.test(e))ze(t,_i,"weight");else if(r.RE_SIZE_OPEN.test(e)){var y=e.match(r.RE_SIZE_OPEN);ze(t,Yi,"size",`${y[1]}px`)}else if(r.RE_SIZE_CLOSE.test(e))ze(t,_i,"size");else if(r.RE_FAMILY_OPEN.test(e)){var y=e.match(r.RE_FAMILY_OPEN);ze(t,Yi,"family",y[1])}else if(r.RE_FAMILY_CLOSE.test(e))ze(t,_i,"family");else if(r.RE_COLOR_OPEN.test(e)){var y=e.match(r.RE_COLOR_OPEN);ze(t,Yi,"color",y[1])}else if(r.RE_COLOR_CLOSE.test(e))ze(t,_i,"color");else if(r.RE_UNDERLINE_OPEN.test(e))ze(t,Yi,"u",!0);else if(r.RE_UNDERLINE_OPENC.test(e)){var y=e.match(r.RE_UNDERLINE_OPENC);ze(t,Yi,"u",y[1])}else if(r.RE_UNDERLINE_CLOSE.test(e))ze(t,_i,"u");else if(r.RE_STRIKETHROUGH_OPEN.test(e))ze(t,Yi,"s",!0);else if(r.RE_STRIKETHROUGH_OPENC.test(e)){var y=e.match(r.RE_STRIKETHROUGH_OPENC);ze(t,Yi,"s",y[1])}else if(r.RE_STRIKETHROUGH_CLOSE.test(e))ze(t,_i,"s");else if(r.RE_SHADOW_OPEN.test(e))ze(t,Yi,"shadow",!0);else if(r.RE_SHADOW_OPENC.test(e)){var y=e.match(r.RE_SHADOW_OPENC);ze(t,Yi,"shadow",y[1])}else if(r.RE_SHADOW_CLOSE.test(e))ze(t,_i,"shadow");else if(r.RE_STROKE_OPEN.test(e))ze(t,Yi,"stroke",!0);else if(r.RE_STROKE_OPENC.test(e)){var y=e.match(r.RE_STROKE_OPENC);ze(t,Yi,"stroke",y[1])}else if(r.RE_STROKE_CLOSE.test(e))ze(t,_i,"stroke");else if(r.RE_BGCOLOR_OPEN.test(e)){var y=e.match(r.RE_BGCOLOR_OPEN);ze(t,Yi,"bgcolor",y[1])}else if(r.RE_BGCOLOR_CLOSE.test(e))ze(t,_i,"bgcolor");else if(r.RE_OFFSETY_OPEN.test(e)){var y=e.match(r.RE_OFFSETY_OPEN);ze(t,Yi,"y",parseFloat(y[1]))}else if(r.RE_OFFSETY_CLOSE.test(e))ze(t,_i,"y");else if(r.RE_IMAGE_OPEN.test(e)){var y=e.match(r.RE_IMAGE_OPEN);ze(t,Yi,"img",y[1])}else if(r.RE_IMAGE_CLOSE.test(e))ze(t,_i,"img");else if(r.RE_AREA_OPEN.test(e)){var y=e.match(r.RE_AREA_OPEN);ze(t,Yi,"area",y[1])}else if(r.RE_AREA_CLOSE.test(e))ze(t,_i,"area");else if(r.RE_URL_OPEN.test(e)){var y=e.match(r.RE_URL_OPEN);ze(t,Yi,"url",y[1])}else if(r.RE_URL_CLOSE.test(e))ze(t,_i,"url");else if(r.RE_ALIGN_OPEN.test(e)){var y=e.match(r.RE_ALIGN_OPEN);ze(t,Yi,"align",y[1])}else if(r.RE_ALIGN_CLOSE.test(e))ze(t,_i,"align");else if(r.RE_ID_OPEN.test(e)){var y=e.match(r.RE_ID_OPEN);ze(t,Yi,"id",y[1])}else r.RE_ID_CLOSE.test(e)?ze(t,_i,"id"):h=e;var P=rX;return P.plainText=h,P.prop=t,P},ze=function(e,t,r,h){return t===Yi?e[r]=h:e.hasOwnProperty(r)&&delete e[r],e},sX=function(e,t){var r=oX;if(t.hasOwnProperty("img"))r.image=t.img;else{if(r.image=null,t.hasOwnProperty("family")?r.fontFamily=t.family:r.fontFamily=e.fontFamily,t.hasOwnProperty("size")){var h=t.size;typeof h=="number"&&(h=`${h}px`),r.fontSize=h}else r.fontSize=e.fontSize;r.fontStyle=aX(t),t.hasOwnProperty("color")?r.color=t.color:r.color=e.color,t.hasOwnProperty("stroke")?t.stroke===!0?(r.stroke=e.stroke,r.strokeThickness=e.strokeThickness):(r.stroke=t.stroke,r.strokeThickness=e.strokeThickness):(r.stroke=e.stroke,r.strokeThickness=0)}return t.hasOwnProperty("shadow")?t.shadow===!0?(r.shadowColor=e.shadowColor,r.shadowOffsetX=e.shadowOffsetX,r.shadowOffsetY=e.shadowOffsetY,r.shadowBlur=e.shadowBlur,r.shadowStroke=!0,r.shadowFill=!0):(r.shadowColor=t.shadow,r.shadowOffsetX=e.shadowOffsetX,r.shadowOffsetY=e.shadowOffsetY,r.shadowBlur=e.shadowBlur,r.shadowStroke=!0,r.shadowFill=!0):(r.shadowColor="#000",r.shadowOffsetX=0,r.shadowOffsetY=0,r.shadowBlur=0,r.shadowStroke=!1,r.shadowFill=!1),t.hasOwnProperty("u")?t.u===!0?(r.underlineColor=e.underlineColor,r.underlineThickness=e.underlineThickness,r.underlineOffset=e.underlineOffset):(r.underlineColor=t.u,r.underlineThickness=e.underlineThickness,r.underlineOffset=e.underlineOffset):(r.underlineColor="#000",r.underlineThickness=0,r.underlineOffset=0),t.hasOwnProperty("s")?t.s===!0?(r.strikethroughColor=e.strikethroughColor,r.strikethroughThickness=e.strikethroughThickness,r.strikethroughOffset=e.strikethroughOffset):(r.strikethroughColor=t.s,r.strikethroughThickness=e.strikethroughThickness,r.strikethroughOffset=e.strikethroughOffset):(r.strikethroughColor="#000",r.strikethroughThickness=0,r.strikethroughOffset=0),t.hasOwnProperty("bgcolor")?r.bgcolor=t.bgcolor:r.bgcolor=null,r},aX=function(e){var t=e.b,r=e.weight,h=e.i;return t||r||h?h?t?"bold italic":r?`${r} italic`:"italic":t?"bold":r.toString():""},oX=new TP,hX=function(e,t,r){r==null&&(r=lX);var h=this.delimiters[0],y=this.delimiters[1],P=[];for(var n in r)t.hasOwnProperty(n)||P.push(`${h}/${n}${y}`);for(var n in t){var T=t[n];if(n!=="img"){if(r[n]===T)continue}switch(n){case"size":P.push(`${h}size=${T.replace("px","")}${y}`);break;case"color":case"weight":case"family":case"stroke":case"bgcolor":case"y":case"img":case"area":case"url":case"align":case"id":P.push(`${h}${n}=${T}${y}`);break;case"u":case"s":T===!0?P.push(`${h}${n}${y}`):P.push(`${h}${n}=${T}${y}`);break;default:P.push(`${h}${n}${y}`);break}}return P.push(e),P.join("")},lX={},td=function(e){return e.replace(uX,"\\$&").replace(fX,"\\x2d")},uX=/[|\\{}()[\]^$+*?.]/g,fX=/-/g,NO,zO,Xe={},Ki=function(e,t,r,h){return h===void 0?`${e}${r}${t}`:`${e}${r}=(${h})${t}`},Pr=function(e,t,r){return`${e}/${r}${t}`},dX=function(e){return`[^${e}]+`},c1="[-.0-9]+",cX=["[a-zA-Z]+","#[0-9abcdef]+","rgba?\\(s*[.0-9]+s*(,s*[.0-9]+s*){2,3}\\)"],Cf=cX.join("|"),iB=function(e,t){if(t===void 0){var r=e;e=r[0],t=r[1]}if(NO===e&&zO===t)return!1;NO=e,zO=t,e=td(e),t=td(t);var h=dX(t),y="esc",P=Ki(e,t,y),n=Pr(e,t,y),T="raw",i=Ki(e,t,T),a=Pr(e,t,T),x="b",d=Ki(e,t,x),l=Pr(e,t,x),o="i",s=Ki(e,t,o),f=Pr(e,t,o),c="weight",u=Ki(e,t,c,c1),v=Pr(e,t,c),p="size",m=Ki(e,t,p,c1),g=Pr(e,t,p),C="family",M=Ki(e,t,C,h),b=Pr(e,t,C),w="color",R=Ki(e,t,w,Cf),A=Pr(e,t,w),L="u",D=Ki(e,t,L),G=Ki(e,t,L,Cf),B=Pr(e,t,L),I="s",k=Ki(e,t,I),z=Ki(e,t,I,Cf),X=Pr(e,t,I),H="shadow",Q=Ki(e,t,H),J=Ki(e,t,H,Cf),Y=Pr(e,t,H),$="stroke",V=Ki(e,t,$),U=Ki(e,t,$,Cf),K=Pr(e,t,$),j="bgcolor",_=Ki(e,t,j,Cf),tt=Pr(e,t,j),rt="y",ot=Ki(e,t,rt,c1),ft=Pr(e,t,rt),ct="img",gt=Ki(e,t,ct,h),yt=Pr(e,t,ct),Mt="area",Ct=Ki(e,t,Mt,h),Wt=Pr(e,t,Mt),Yt="url",Ht=Ki(e,t,Yt,h),bt=Pr(e,t,Yt),kt="align",zt=Ki(e,t,kt,h),jt=Pr(e,t,kt),fe="id",xe=Ki(e,t,fe,h),le=Pr(e,t,fe);return Xe.RE_ESC_OPEN=new RegExp(P,"i"),Xe.RE_ESC_CLOSE=new RegExp(n,"i"),Xe.RE_RAW_OPEN=new RegExp(i,"i"),Xe.RE_RAW_CLOSE=new RegExp(a,"i"),Xe.RE_BLOD_OPEN=new RegExp(d,"i"),Xe.RE_BLOD_CLOSE=new RegExp(l,"i"),Xe.RE_ITALICS_OPEN=new RegExp(s,"i"),Xe.RE_ITALICS_CLOSE=new RegExp(f,"i"),Xe.RE_WEIGHT_OPEN=new RegExp(u,"i"),Xe.RE_WEIGHT_CLOSE=new RegExp(v,"i"),Xe.RE_SIZE_OPEN=new RegExp(m,"i"),Xe.RE_SIZE_CLOSE=new RegExp(g,"i"),Xe.RE_FAMILY_OPEN=new RegExp(M,"i"),Xe.RE_FAMILY_CLOSE=new RegExp(b,"i"),Xe.RE_COLOR_OPEN=new RegExp(R,"i"),Xe.RE_COLOR_CLOSE=new RegExp(A,"i"),Xe.RE_UNDERLINE_OPEN=new RegExp(D,"i"),Xe.RE_UNDERLINE_OPENC=new RegExp(G,"i"),Xe.RE_UNDERLINE_CLOSE=new RegExp(B,"i"),Xe.RE_STRIKETHROUGH_OPEN=new RegExp(k,"i"),Xe.RE_STRIKETHROUGH_OPENC=new RegExp(z,"i"),Xe.RE_STRIKETHROUGH_CLOSE=new RegExp(X,"i"),Xe.RE_SHADOW_OPEN=new RegExp(Q,"i"),Xe.RE_SHADOW_OPENC=new RegExp(J,"i"),Xe.RE_SHADOW_CLOSE=new RegExp(Y,"i"),Xe.RE_STROKE_OPEN=new RegExp(V,"i"),Xe.RE_STROKE_OPENC=new RegExp(U,"i"),Xe.RE_STROKE_CLOSE=new RegExp(K,"i"),Xe.RE_BGCOLOR_OPEN=new RegExp(_,"i"),Xe.RE_BGCOLOR_CLOSE=new RegExp(tt,"i"),Xe.RE_OFFSETY_OPEN=new RegExp(ot,"i"),Xe.RE_OFFSETY_CLOSE=new RegExp(ft,"i"),Xe.RE_IMAGE_OPEN=new RegExp(gt,"i"),Xe.RE_IMAGE_CLOSE=new RegExp(yt,"i"),Xe.RE_AREA_OPEN=new RegExp(Ct,"i"),Xe.RE_AREA_CLOSE=new RegExp(Wt,"i"),Xe.RE_URL_OPEN=new RegExp(Ht,"i"),Xe.RE_URL_CLOSE=new RegExp(bt,"i"),Xe.RE_ALIGN_OPEN=new RegExp(zt,"i"),Xe.RE_ALIGN_CLOSE=new RegExp(jt,"i"),Xe.RE_ID_OPEN=new RegExp(xe,"i"),Xe.RE_ID_CLOSE=new RegExp(le,"i"),Xe.RE_SPLITTEXT=new RegExp([i,a,P,n,d,l,s,f,u,v,m,g,M,b,R,A,D,G,B,k,z,X,Q,J,Y,V,U,K,_,tt,ot,ft,gt,yt,Ct,Wt,Ht,bt,zt,jt,xe,le].join("|"),"ig"),!0},UO=function(e,t){return e!==void 0&&iB(e,t),Object.assign({},Xe)};const vX=Phaser.Utils.Objects.GetValue;let rB=class{constructor(t){var r=vX(t,"delimiters","[]");this.tagRegex=UO(r),this.delimiters=r}getStrokeThinkness(t,r){var h;return r.hasOwnProperty("stroke")?h=t.strokeThickness:h=0,h}setDelimiters(t,r){return iB(t,r)&&(this.tagRegex=UO()),this}};var pX={splitText:iX,tagTextToProp:nX,propToContextStyle:sX,propToTagText:hX};Object.assign(rB.prototype,pX);class bP extends MP{constructor(t,r,h,y,P){var n=new rB(P);super(t,r,h,y,P,"rexBBCodeText",n)}setDelimiters(t,r){return this.parser.setDelimiters(t,r),this}}It.register("BBCodeText",function(e,t,r,h){var y=new bP(this.scene,e,t,r,h);return this.scene.add.existing(y),y});Lt(window,"RexPlugins.UI.BBCodeText",bP);var gX={plainText:null,prevProp:null},mX=new TP;let xX=class{constructor(t){t===void 0&&(t={}),this.tags=t}addTag(t,r){this.tags[t]=r}getTag(t){return this.tags[t]}splitText(t,r){for(var h=[],y=0;;){var P=v1.exec(t);if(!P)break;var n=P[0],T=v1.lastIndex-n.length;if(y<T&&h.push(t.substring(y,T)),r===void 0)h.push(n);else if(r===1){if(WO.test(n)){var i=n.match(YO);h.push(i[2])}else if(XO.test(n)){var i=n.match(HO);h.push(i[2])}}y=v1.lastIndex}var a=t.length;return y<a&&h.push(t.substring(y,a)),h}tagTextToProp(t,r){var h,y;if(WO.test(t)){var P=t.match(YO);if(P!=null){var n=P[1],T=this.tags;T.hasOwnProperty(n)?y=T[n]:y={},y._class=n,h=P[2]}}else if(XO.test(t)){var P=t.match(HO);if(P!=null){var i=P[1];y=yX(i),y._style=i,h=P[2]}}h==null&&(h=t),y==null&&(y={});var a=gX;return a.plainText=h,a.prop=y,a}propToContextStyle(t,r){var h=mX;if(r.hasOwnProperty("img"))h.image=r.img;else{if(h.image=null,r.hasOwnProperty("family")||r.hasOwnProperty("fontFamily")||r.hasOwnProperty("font-family")){var y=r.hasOwnProperty("family")?r.family:r.hasOwnProperty("fontFamily")?r.fontFamily:r["font-family"];h.fontFamily=y}else h.fontFamily=t.fontFamily;if(r.hasOwnProperty("size")||r.hasOwnProperty("fontSize")||r.hasOwnProperty("font-size")){var P=r.hasOwnProperty("size")?r.size:r.hasOwnProperty("fontSize")?r.fontSize:r["font-size"];typeof P=="number"&&(P=`${P}px`),h.fontSize=P}else h.fontSize=t.fontSize;if(r.hasOwnProperty("style")||r.hasOwnProperty("fontStyle")||r.hasOwnProperty("font-style")){var n=r.hasOwnProperty("style")?r.style:r.hasOwnProperty("fontStyle")?r.fontStyle:r["font-style"];h.fontStyle=n}else h.fontStyle=t.fontStyle;if(r.hasOwnProperty("color")||r.hasOwnProperty("font-color")){var T=r.hasOwnProperty("color")?r.color:r["font-color"];h.color=T}else h.color=t.color;if(r.hasOwnProperty("stroke")){var i=r.stroke;h.stroke=i.hasOwnProperty("color")?i.color:t.stroke,h.strokeThickness=i.hasOwnProperty("thickness")?i.thickness:t.strokeThickness}else h.stroke=t.stroke,h.strokeThickness=t.strokeThickness}if(r.hasOwnProperty("shadow")){var a=r.shadow;h.shadowColor=a.hasOwnProperty("color")?a.color:t.shadowColor,h.shadowOffsetX=a.hasOwnProperty("offsetX")?a.offsetX:t.shadowOffsetX,h.shadowOffsetY=a.hasOwnProperty("offsetY")?a.offsetY:t.shadowOffsetY,h.shadowBlur=a.hasOwnProperty("blur")?a.blur:t.shadowBlur,h.shadowStroke=!0,h.shadowFill=!0}else h.shadowColor=t.shadowColor,h.shadowOffsetX=t.shadowOffsetX,h.shadowOffsetY=t.shadowOffsetY,h.shadowBlur=t.shadowBlur,h.shadowStroke=t.shadowStroke,h.shadowFill=t.shadowFill;if(r.hasOwnProperty("u")||r.hasOwnProperty("underline")){var x=r.hasOwnProperty("u")?r.u:r.underline;h.underlineColor=x.hasOwnProperty("color")?x.color:t.underlineColor,h.underlineThickness=x.hasOwnProperty("thickness")?x.thickness:t.underlineThickness,h.underlineOffset=x.hasOwnProperty("offset")?x.offset:t.underlineOffset}else h.underlineColor=t.underlineColor,h.underlineThickness=t.underlineThickness,h.underlineOffset=t.underlineOffset;if(r.hasOwnProperty("s")||r.hasOwnProperty("strikethrough")){var d=r.hasOwnProperty("s")?r.s:r.strikethrough;h.strikethroughColor=d.hasOwnProperty("color")?d.color:t.strikethroughColor,h.strikethroughThickness=d.hasOwnProperty("thickness")?d.thickness:t.strikethroughThickness,h.strikethroughOffset=d.hasOwnProperty("offset")?d.offset:t.strikethroughOffset}else h.strikethroughColor=t.strikethroughColor,h.strikethroughThickness=t.strikethroughThickness,h.strikethroughOffset=t.strikethroughOffset;return h}getStrokeThinkness(t,r){var h;if(r.hasOwnProperty("stroke")){var y=r.stroke;h=y.hasOwnProperty("thickness")?y.thickness:t.strokeThickness}else h=t.strokeThickness;return h}propToTagText(t,r,h){return r.hasOwnProperty("_class")?t===""&&this.isTextTag(r._class)?"":`<class='${r._class}'>${t}</class>`:r.hasOwnProperty("_style")?`<style='${r._style}'>${t}</style>`:t}destroy(){this.tags=void 0}isTextTag(t){var r=this.tags[t];return r?r.img==null:!1}};var yX=function(e){e=e.split(";");for(var t={},r,h,y,P=0,n=e.length;P<n;P++)if(r=e[P].split(":"),h=r[0],y=r[1],!(VO(h)||VO(y))){switch(h){case"stroke":var T=y.split(" "),i=T.length;y={},i>=1&&(y.color=T[0]),i>=2&&(y.thickness=parseInt(T[1].replace("px","")));break;case"shadow":var T=y.split(" "),i=T.length;y={},i>=1&&(y.color=T[0]),i>=2&&(y.offsetX=parseInt(T[1].replace("px",""))),i>=3&&(y.offsetY=parseInt(T[2].replace("px",""))),i>=4&&(y.blur=parseInt(T[3].replace("px","")));break;case"u":case"underline":case"s":case"strikethrough":var T=y.split(" "),i=T.length;y={},i>=1&&(y.color=T[0]),i>=2&&(y.thickness=parseInt(T[1].replace("px",""))),i>=3&&(y.offset=parseInt(T[2].replace("px",""))),h==="underline"?h="u":h==="strikethrough"&&(h="s");break;case"y":y=parseFloat(y);break}t[h]=y}return t},VO=function(e){return e=e.replace(CX,""),e.length===0},v1=/<\s*class=["|']([^"|']+)["|']\s*\>([\s\S]*?)<\s*\/class\s*\>|<\s*style=["|']([^"|']+)["|']\s*\>([\s\S]*?)<\s*\/style\s*\>/g,WO=/<\s*class=/i,YO=/<\s*class=["|']([^"|']+)["|']\s*\>([\s\S]*?)<\s*\/class\s*\>/,XO=/<\s*style=/i,HO=/<\s*style=["|']([^"|']+)["|']\s*\>([\s\S]*?)<\s*\/style\s*\>/,CX=/^\s+|\s+$/;const SX=Phaser.Utils.Objects.GetValue;class nB extends MP{constructor(t,r,h,y,P){var n=SX(P,"tags",void 0),T=new xX(n);super(t,r,h,y,P,"rexTagText",T)}addTag(t,r){return this.parser.addTag(t,r),this.updateText(!0)}addTags(t){for(var r in t)this.parser.addTag(r,t[r]);return this.updateText(!0)}getTag(t){return this.parser.getTag(t)}preDestroy(){super.preDestroy(),this.parser.destroy(),this.parser=void 0}}It.register("tagText",function(e,t,r,h){var y=new nB(this.scene,e,t,r,h);return this.scene.add.existing(y),y});Lt(window,"RexPlugins.UI.TagText",nB);const Rm=Phaser.Utils.Objects.GetValue;var F0=function(e,t){return t===void 0?e:e[t]},Yh=function(e,t,r){e===void 0&&(e={}),t===void 0&&(t=0);var h=typeof t;return h==="string"?e[t]=r:h==="number"?(e.left=t,e.right=t,e.top=t,e.bottom=t):(e.left=Rm(t,"left",0),e.right=Rm(t,"right",0),e.top=Rm(t,"top",0),e.bottom=Rm(t,"bottom",0)),e};let wP=class{constructor(t,r){this.setParent(t),this.type=r,this.renderable=!1,this.reset().setActive()}destroy(){this.parent.removeChild(this)}setParent(t){return this.parent=t,this}get scene(){return this.parent.scene}get canvas(){return this.parent?this.parent.canvas:null}get context(){return this.parent?this.parent.context:null}setDirty(t){return t&&this.parent&&(this.parent.dirty=!0),this}get active(){return this._active}set active(t){this.setDirty(this._active!=t),this._active=t}setActive(t){return t===void 0&&(t=!0),this.active=t,this}modifyPorperties(t){return this}onFree(){this.reset().setParent()}reset(){return this}render(){}contains(t,r){return!1}};Object.assign(wP.prototype,rx);const TX={renderContent(){},render(){if(!this.willRender)return this;var e=this.context;if(e.save(),e.globalAlpha=this.alpha,this.toLocalPosition){var t=this.drawX,r=this.drawY;this.autoRound&&(t=Math.round(t),r=Math.round(r)),e.translate(t,r),e.scale(this.scaleX,this.scaleY),e.rotate(this.rotation)}return this.drawBelowCallback&&this.drawBelowCallback(this),this.renderContent(),this.drawAboveCallback&&this.drawAboveCallback(this),e.restore(),this}},EX=Phaser.Math.RotateAround;var PX=function(e,t,r,h){return h===void 0?h={}:h===!0&&(p1===void 0&&(p1={}),h=p1),h.x=(e-r.drawX)/r.scaleX,h.y=(t-r.drawY)/r.scaleY,r.rotation!==0&&EX(h,0,0,-r.rotation),h},p1;const MX=Phaser.Geom.Rectangle;var bX=function(e,t){if(this.width===0||this.height===0)return!1;var r=PX(e,t,this,!0);return wX(this).contains(r.x,r.y)},wX=function(e){Am===void 0&&(Am=new MX);var t=e.drawTLX,r=e.drawTLY;return Am.setTo(t,r,e.drawTRX-t,e.drawBLY-r),Am},Am;const RX=Phaser.Math.RotateAround;var sB=function(e,t,r,h){return h===void 0?h={}:h===!0&&(g1===void 0&&(g1={}),h=g1),h.x=t,h.y=r,e.rotation!==0&&RX(h,0,0,e.rotation),h.x=h.x*e.scaleX+e.drawX,h.y=h.y*e.scaleY+e.drawY,h},g1;const $O=Phaser.GameObjects.Components.TransformMatrix;var AX=function(e,t,r,h){h===void 0?h={}:h===!0&&(h=OX);var y=t-e.width*e.originX,P=r-e.height*e.originY;return $c===void 0&&($c=new $O,KO=new $O),e.parentContainer?e.getWorldTransformMatrix($c,KO):$c.applyITRS(e.x,e.y,e.rotation,e.scaleX,e.scaleY),$c.transformPoint(y,P,h),h},$c,KO,OX={},LX=function(e,t,r,h,y){var P=sB(t,r,h,!0),n=AX(e,P.x,P.y,y);return n},aB=function(e,t,r,h,y){typeof r!="number"&&(y=r,r=0,h=0);var P=t.drawCenterX+r,n=t.drawCenterY+h;return LX(e,t,P,n,y)},FX=function(e,t,r){return aB(this.parent,this,e,t,r)},oB={contains:bX,getWorldPosition:FX};Object.assign(oB,TX);const DX=Phaser.Math.DegToRad,BX=Phaser.Math.RadToDeg,Om=Phaser.Utils.Objects.GetValue;class du extends wP{constructor(t,r){super(t,r),this.renderable=!0,this.scrollFactorX=1,this.scrollFactorY=1,this.toLocalPosition=!0,this.originX=0,this.offsetX=0,this.offsetY=0}get visible(){return this._visible}set visible(t){this.setDirty(this._visible!=t),this._visible=t}setVisible(t){return t===void 0&&(t=!0),this.visible=t,this}get alpha(){return this._alpha}set alpha(t){this.setDirty(this._alpha!=t),this._alpha=t}setAlpha(t){return this.alpha=t,this}get x(){return this._x}set x(t){this.setDirty(this._x!=t),this._x=t}setX(t){return this.x=t,this}get y(){return this._y}set y(t){this.setDirty(this._y!=t),this._y=t}setY(t){return this.y=t,this}setPosition(t,r){return this.x=t,this.y=r,this}setInitialPosition(t,r){return this.x0=t,this.y0=r,this}setScrollFactorX(t){return this.scrollFactorX=t,this}setScrollFactorY(t){return this.scrollFactorY=t,this}setScrollFactor(t,r){return r===void 0&&(r=t),this.scrollFactorX=t,this.scrollFactorY=r,this}get rotation(){return this._rotation}set rotation(t){this.setDirty(this._rotation!=t),this._rotation=t}setRotation(t){return this.rotation=t,this}get angle(){return BX(this._rotation)}set angle(t){this.rotation=DX(t)}setAngle(t){return this.angle=t,this}get scaleX(){return this._scaleX}set scaleX(t){this.setDirty(this._scaleX!==t),this._scaleX=t}setScaleX(t){return this.scaleX=t,this}get width(){return 0}set width(t){}setWidth(t,r){return r===void 0&&(r=!1),this.width=t,r&&(this.scaleY=this.scaleX),this}get leftSpace(){return this._leftSpace}set leftSpace(t){this.setDirty(this._leftSpace!==t),this._leftSpace=t}setLeftSpace(t){return this.leftSpace=t,this}get rightSpace(){return this._rightSpace}set rightSpace(t){this.setDirty(this._rightSpace!==t),this._rightSpace=t}setRightSpace(t){return this.rightSpace=t,this}get outerWidth(){return this.width+this.leftSpace+this.rightSpace}get scaleY(){return this._scaleY}set scaleY(t){this.setDirty(this._scaleY!==t),this._scaleY=t}setScaleY(t){return this.scaleY=t,this}get height(){return 0}set height(t){}setHeight(t,r){return r===void 0&&(r=!1),this.height=t,r&&(this.scaleX=this.scaleY),this}setScale(t,r){return r===void 0&&(r=t),this.scaleX=t,this.scaleY=r,this}setOrigin(t){return this.originX=t,this}setAlign(t){return this.align=t,this}modifyPorperties(t){if(!t)return this;t.hasOwnProperty("x")&&this.setX(t.x),t.hasOwnProperty("y")&&this.setY(t.y),t.hasOwnProperty("rotation")?this.setRotation(t.rotation):t.hasOwnProperty("angle")&&this.setAngle(t.angle),t.hasOwnProperty("alpha")&&this.setAlpha(t.alpha);var r=Om(t,"width",void 0),h=Om(t,"height",void 0),y=Om(t,"scaleX",void 0),P=Om(t,"scaleY",void 0);return r!==void 0?h===void 0&&P===void 0?this.setWidth(r,!0):this.setWidth(r):y!==void 0&&this.setScaleX(y),h!==void 0?r===void 0&&y===void 0?this.setHeight(h,!0):this.setHeight(h):P!==void 0&&this.setScaleY(P),t.hasOwnProperty("leftSpace")&&this.setLeftSpace(t.leftSpace),t.hasOwnProperty("rightSpace")&&this.setRightSpace(t.rightSpace),t.hasOwnProperty("align")&&this.setAlign(t.align),this}setDrawBelowCallback(t){return this.drawBelowCallback=t,this}setDrawAboveCallback(t){return this.drawAboveCallback=t,this}reset(){return this.setVisible().setAlpha(1).setPosition(0,0).setRotation(0).setScale(1,1).setLeftSpace(0).setRightSpace(0).setOrigin(0).setAlign().setDrawBelowCallback().setDrawAboveCallback(),this}get willRender(){return this.visible&&this.alpha>0}get drawX(){var t=this.x+this.leftSpace+this.offsetX-this.originX*this.width;return this.parent._textOX*this.scrollFactorX+t}get drawY(){var t=this.y+this.offsetY;return this.parent._textOY*this.scrollFactorY+t}get drawTLX(){return 0}get drawTLY(){return 0}get drawBLX(){return 0}get drawBLY(){return 0}get drawTRX(){return 0}get drawTRY(){return 0}get drawBRX(){return 0}get drawBRY(){return 0}get drawCenterX(){return(this.drawTRX+this.drawTLX)/2}get drawCenterY(){return(this.drawBLY+this.drawTLY)/2}}Object.assign(du.prototype,oB);var Vh=function(e,t,r){return t.hasOwnProperty(e)?t[e]:r[e]};const zl=Phaser.Utils.Objects.GetValue;class IX extends du{constructor(t,r){super(t,"background"),this.setScrollFactor(0),this.setColor(zl(r,"color",null),zl(r,"color2",null),zl(r,"horizontalGradient",!0)),this.setStroke(zl(r,"stroke",null),zl(r,"strokeThickness",2)),this.setCornerRadius(zl(r,"cornerRadius",0),zl(r,"cornerIteration",null))}set color(t){t=Ue(t,this.canvas,this.context),this.setDirty(this._color!=t),this._color=t}get color(){return this._color}set color2(t){t=Ue(t,this.canvas,this.context),this.setDirty(this._color2!=t),this._color2=t}get color2(){return this._color2}set horizontalGradient(t){this.setDirty(this._horizontalGradient!=t),this._horizontalGradient=t}get horizontalGradient(){return this._horizontalGradient}setColor(t,r,h){return h===void 0&&(h=!0),this.color=t,this.color2=r,this.horizontalGradient=h,this}set stroke(t){t=Ue(t,this.canvas,this.context),this.setDirty(this._stroke!=t),this._stroke=t}get stroke(){return this._stroke}set strokeThickness(t){this.setDirty(this._strokeThickness!=t),this._strokeThickness=t}get strokeThickness(){return this._strokeThickness}setStroke(t,r){return t!=null&&r===void 0&&(r=2),this.stroke=t,this.strokeThickness=r,this}set cornerRadius(t){this.setDirty(this._cornerRadius!=t),this._cornerRadius=t}get cornerRadius(){return this._cornerRadius}set cornerIteration(t){this.setDirty(this._cornerIteration!=t),this._cornerIteration=t}get cornerIteration(){return this._cornerIteration}modifyStyle(t){return t.hasOwnProperty("color")&&this.setColor(t.color,Vh("color2",t,this),Vh("horizontalGradient",t,this)),t.hasOwnProperty("stroke")&&this.setStroke(t.stroke,Vh("strokeThickness",t,this)),t.hasOwnProperty("cornerRadius")&&this.setCornerRadius(t.cornerRadius,Vh("cornerIteration",t,this)),this}modifyPorperties(t){return super.modifyPorperties(t),this.modifyStyle(t),this}setCornerRadius(t,r){return this.cornerRadius=t,this.cornerIteration=r,this}renderContent(){CP(this.parent,this.color,this.stroke,this.strokeThickness,this.cornerRadius,this.color2,this.horizontalGradient,this.cornerIteration)}}const Ph=Phaser.Utils.Objects.GetValue;class GX extends du{constructor(t,r){super(t,"innerbounds"),this.setScrollFactor(0),this.setColor(Ph(r,"color",null),Ph(r,"color2",null),Ph(r,"horizontalGradient",!0)),this.setStroke(Ph(r,"stroke",null),Ph(r,"strokeThickness",2))}set color(t){t=Ue(t,this.canvas,this.context),this.setDirty(this._color!=t),this._color=t}get color(){return this._color}set color2(t){t=Ue(t,this.canvas,this.context),this.setDirty(this._color2!=t),this._color2=t}get color2(){return this._color2}set horizontalGradient(t){this.setDirty(this._horizontalGradient!=t),this._horizontalGradient=t}get horizontalGradient(){return this._horizontalGradient}setColor(t,r,h){return h===void 0&&(h=!0),this.color=t,this.color2=r,this.horizontalGradient=h,this}set stroke(t){t=Ue(t,this.canvas,this.context),this.setDirty(this._stroke!=t),this._stroke=t}get stroke(){return this._stroke}set strokeThickness(t){this.setDirty(this._strokeThickness!=t),this._strokeThickness=t}get strokeThickness(){return this._strokeThickness}setStroke(t,r){return t!=null&&r===void 0&&(r=2),this.stroke=t,this.strokeThickness=r,this}modifyPorperties(t){super.modifyPorperties(t),t.hasOwnProperty("color")&&this.setColor(t.color,Ph(t,"color2",null),Ph(t,"horizontalGradient",!0)),t.hasOwnProperty("stroke")&&this.setStroke(t.stroke,Ph(t,"strokeThickness",2))}renderContent(){var t=this.parent.padding,r=t.left,h=t.top,y=this.parent.width-t.left-t.right,P=this.parent.height-t.top-t.bottom,n=this.context;if(this.color!=null){var T;if(this.color2!=null){var i;this.horizontalGradient?i=n.createLinearGradient(0,0,y,0):i=n.createLinearGradient(0,0,0,P),i.addColorStop(0,this.color),i.addColorStop(1,this.color2),T=i}else T=this.color;n.fillStyle=T,n.fillRect(r,h,y,P)}this.stroke!=null&&this.strokeThickness>0&&(n.strokeStyle=this.stroke,n.lineWidth=this.strokeThickness,n.strokeRect(r,h,y,P))}}const ar=Phaser.Utils.Objects.GetValue;class sx{constructor(t,r){this.parent=t,this.set(r)}toJSON(){return{bold:this.bold,italic:this.italic,fontSize:this.fontSize,fontFamily:this.fontFamily,color:this.color,stroke:this.stroke,strokeThickness:this.strokeThickness,shaodwColor:this.shadowColor,shadowBlur:this.shadowBlur,shadowOffsetX:this.shadowOffsetX,shadowOffsetY:this.shadowOffsetY,offsetX:this.offsetX,offsetY:this.offsetY,leftSpace:this.leftSpace,rightSpace:this.rightSpace,backgroundHeight:this.backgroundHeight,backgroundBottomY:this.backgroundBottomY,align:this.align}}set(t){return this.setBold(ar(t,"bold",!1)),this.setItalic(ar(t,"italic",!1)),this.setFontSize(ar(t,"fontSize","16px")),this.setFontFamily(ar(t,"fontFamily","Courier")),this.setColor(ar(t,"color","#fff")),this.setStrokeStyle(ar(t,"stroke",null),ar(t,"strokeThickness",0)),this.setShadow(ar(t,"shadowColor",null),ar(t,"shadowOffsetX",0),ar(t,"shadowOffsetY",0),ar(t,"shadowBlur",0)),this.setOffset(ar(t,"offsetX",0),ar(t,"offsetY",0)),this.setSpace(ar(t,"leftSpace",0),ar(t,"rightSpace",0)),this.setAlign(ar(t,"align",void 0)),this.setBackgroundColor(ar(t,"backgroundColor",null)),this.setBackgroundHeight(ar(t,"backgroundHeight",void 0)),this.setBackgroundBottomY(ar(t,"backgroundBottomY",void 0)),this.setBackgroundLeftX(ar(t,"backgroundLeftX",0)),this.setBackgroundRightX(ar(t,"backgroundRightX",0)),this}modify(t){return t.hasOwnProperty("bold")&&this.setBold(t.bold),t.hasOwnProperty("italic")&&this.setItalic(t.italic),t.hasOwnProperty("fontSize")&&this.setFontSize(t.fontSize),t.hasOwnProperty("fontFamily")&&this.setFontFamily(t.fontFamily),t.hasOwnProperty("color")&&this.setColor(t.color),(t.hasOwnProperty("stroke")||t.hasOwnProperty("strokeThickness"))&&this.setStrokeStyle(Vh("stroke",t,this),Vh("strokeThickness",t,this)),t.hasOwnProperty("shadowColor")&&this.setShadowColor(t.shadowColor),(t.hasOwnProperty("shadowOffsetX")||t.hasOwnProperty("shadowOffsetY"))&&this.setShadowOffset(Vh("shadowOffsetX",t,this),Vh("shadowOffsetY",t,this)),t.hasOwnProperty("shadowBlur")&&this.setShadowBlur(t.shaodwBlur),t.hasOwnProperty("offsetX")&&this.setOffsetX(t.offsetX),t.hasOwnProperty("offsetY")&&this.setOffsetY(t.offsetY),t.hasOwnProperty("leftSpace")&&this.setLeftSpace(t.leftSpace),t.hasOwnProperty("rightSpace")&&this.setRightSpace(t.rightSpace),t.hasOwnProperty("align")&&this.setAlign(t.align),t.hasOwnProperty("backgroundColor")&&this.setBackgroundColor(t.backgroundColor),t.hasOwnProperty("backgroundHeight")&&this.setBackgroundHeight(t.backgroundHeight),t.hasOwnProperty("backgroundBottomY")&&this.setBackgroundBottomY(t.backgroundBottomY),t.hasOwnProperty("backgroundLeftX")&&this.setBackgroundLeftX(t.backgroundLeftX),t.hasOwnProperty("backgroundRightX")&&this.setBackgroundRightX(t.backgroundRightX),this}setUpdateTextFlag(){return this.parent&&(this.parent.updateTextFlag=!0),this}clone(){return new sx(null,this.toJSON())}copyFrom(t){return this.set(t.toJSON()),this}copyTo(t){return t.set(this.toJSON()),this}setBold(t){return t===void 0&&(t=!0),this.bold=t,this.setUpdateTextFlag(),this}setItalic(t){return t===void 0&&(t=!0),this.italic=t,this.setUpdateTextFlag(),this}get fontStyle(){return this.bold&&this.italic?"bold italic":this.bold?"bold":this.italic?"italic":""}setFontSize(t){return typeof t=="number"&&(t=`${t}px`),this.fontSize=t,this.setUpdateTextFlag(),this}setFontFamily(t){return this.fontFamily=t,this.setUpdateTextFlag(),this}get font(){return`${this.fontStyle} ${this.fontSize} ${this.fontFamily}`}setColor(t){return this.color=Ue(t),this}get hasFill(){return this.color!=null}setStrokeStyle(t,r){return this.stroke=Ue(t),r!==void 0&&(this.strokeThickness=r),this}setStrokeThickness(t){return this.strokeThickness=t,this}get hasStroke(){return this.stroke!=null&&this.strokeThickness>0}setShadowColor(t){return this.shadowColor=Ue(t),this}setShadowOffset(t,r){return t===void 0&&(t=0),r===void 0&&(r=0),this.shadowOffsetX=t,this.shadowOffsetY=r,this}setShadowBlur(t){return t===void 0&&(t=0),this.shaodwBlur=t,this}setShadow(t,r,h,y){return this.setShadowColor(t).setShadowOffset(r,h).setShadowBlur(y),this}setBackgroundColor(t){return this.backgroundColor=Ue(t),this}get hasBackgroundColor(){return this.backgroundColor!=null}setBackgroundHeight(t){return this.backgroundHeight=t,this}setBackgroundBottomY(t){return this.backgroundBottomY=t,this}setBackgroundLeftX(t){return this.backgroundLeftX=t,this}setBackgroundRightX(t){return this.backgroundRightX=t,this}setOffsetX(t){return t===void 0&&(t=0),this.offsetX=t,this}setOffsetY(t){return t===void 0&&(t=0),this.offsetY=t,this}setOffset(t,r){return this.setOffsetX(t).setOffsetY(r),this}setLeftSpace(t){return t===void 0&&(t=0),this.leftSpace=t,this}setRightSpace(t){return t===void 0&&(t=0),this.rightSpace=t,this}setSpace(t,r){return this.setLeftSpace(t).setRightSpace(r),this}setAlign(t){return this.align=t,this}syncFont(t){return t.font=this.font,this}syncStyle(t){t.textBaseline="alphabetic";var r=this.hasFill,h=this.hasStroke;return t.fillStyle=r?this.color:"#000",t.strokeStyle=h?this.stroke:"#000",t.lineWidth=h?this.strokeThickness:0,t.lineCap="round",t.lineJoin="round",this}syncShadow(t){t.shadowColor!=null?(t.shadowColor=this.shadowColor,t.shadowOffsetX=this.shadowOffsetX,t.shadowOffsetY=this.shadowOffsetY,t.shadowBlur=this.shadowBlur):(t.shadowColor=0,t.shadowOffsetX=0,t.shadowOffsetY=0,t.shadowBlur=0)}getTextMetrics(t,r){return this.syncFont(t).syncStyle(t),t.measureText(r)}}var kX=function(e,t){return e===void 0&&(e=0),t===void 0&&(t=0),this.fixedWidth===e&&this.fixedHeight===t?this:(this.fixedWidth=e,this.fixedHeight=t,this.dirty=!0,this.setCanvasSize(e>0?e:this.width,t>0?t:this.height),this)},NX=function(e,t){var r=this.padding,h=r.left,y=r.right,P=r.top,n=r.bottom;return Yh(r,e,t),this.dirty=this.dirty||h!=r.left||y!=r.right||P!=r.top||n!=r.bottom,this},zX=function(e){return F0(this.padding,e)},UX=function(e){return this.textStyle.modify(e),this},VX=function(e){return this.defaultTextStyle.modify(e),this},WX=function(){return this.textStyle.copyFrom(this.defaultTextStyle),this},YX=function(e){return this.testString=e,this};const XX=Phaser.Utils.Array.Remove;var HX=function(e){return this.poolManager.free(e),XX(this.children,e),this.lastAppendedChildren.length=0,this.lastOverChild=null,this.dirty=!0,this},$X=function(){return this.poolManager.freeMultiple(this.children),this.children.length=0,this.lastAppendedChildren.length=0,this.lastOverChild=null,this.dirty=!0,this};const KX=Phaser.Utils.Array.Remove;var ZX=function(e){return KX(this.children,e),this.lastAppendedChildren.length=0,this.lastOverChild=null,this.dirty=!0,this},JX=function(){return this.setText(),this},QX=function(e,t){var r=Array.isArray(e);return t===void 0||t===this.children.length?r?this.children.push(...e):this.children.push(e):r?this.children.splice(t,0,...e):this.children.splice(t,0,e),this.lastAppendedChildren.length=0,r?this.lastAppendedChildren.push(...e):this.lastAppendedChildren.push(e),this};const No="text",hB="image",lB="drawer",uB="space",RP="command";var fB=function(e){return e.type===No&&e.text===`
`},dB=function(e){return e.type===No&&e.text==="\f"},jX=function(e){return e.type===No&&e.text===" "},ou=function(e){return e.type===No},qX=function(e){return e.type===RP};class cB extends du{constructor(t,r,h){super(t,No),this.updateTextFlag=!1,this.style=new sx(this,h),this.setText(r)}get autoRound(){return this.parent.autoRound}get offsetX(){return this.style.offsetX}set offsetX(t){this.style&&(this.style.offsetX=t)}get offsetY(){return this.style.offsetY}set offsetY(t){this.style&&(this.style.offsetY=t)}get leftSpace(){return this.style.leftSpace*this.scaleX}set leftSpace(t){this.style&&(this.style.leftSpace=t),super.leftSpace=t}get rightSpace(){return this.style.rightSpace*this.scaleX}set rightSpace(t){this.style&&(this.style.rightSpace=t),super.rightSpace=t}get align(){return this.style.align}set align(t){this.style&&(this.style.align=t)}modifyStyle(t){return this.setDirty(!0),this.style.modify(t),this.updateTextFlag&&this.updateTextSize(),this}modifyPorperties(t){return t?(this.modifyStyle(t),super.modifyPorperties(t),this):this}setText(t){return this.setDirty(this.text!=t),this.text=t,this.updateTextSize(),this}updateTextSize(){var t=this.text;if(t===`
`||t==="\f"||t==="")this.clearTextSize();else{var r=this.style.getTextMetrics(this.context,this.text);this.textWidth=r.width;var h,y;"actualBoundingBoxAscent"in r?(h=r.actualBoundingBoxAscent,y=r.actualBoundingBoxDescent):(h=0,y=0),this.textHeight=h+y,this.ascent=h,this.descent=y}return this.updateTextFlag=!1,this}clearTextSize(){return this.textWidth=0,this.textHeight=0,this.ascent=0,this.descent=0,this}copyTextSize(t){return this.textWidth=t.textWidth,this.textHeight=t.textHeight,this.ascent=t.ascent,this.descent=t.descent,this}get width(){return this.textWidth*this.scaleX}set width(t){this.textWidth>0?this.scaleX=t/this.textWidth:this.scaleX=1}get height(){return this.textHeight*this.scaleY}set height(t){this.textHeight>0?this.scaleY=t/this.textHeight:this.scaleY=1}get willRender(){return this.textWidth===0?!1:super.willRender}renderContent(){var t=this.context,r=this.style;if(r.hasBackgroundColor){t.fillStyle=r.backgroundColor;var h=this.drawTLX+r.backgroundLeftX,y=this.drawTRX+r.backgroundRightX,P=h,n=y-h+1;if(n>0){var T=r.backgroundBottomY;T==null&&(T=this.drawBLY);var i=r.backgroundHeight;i==null&&(i=T-this.drawTLY);var a=T-i;t.fillRect(P,a,n,i)}}var x=r.hasFill,d=r.hasStroke;!x&&!d||(r.syncFont(t).syncStyle(t),d&&(r.syncShadow(t),t.strokeText(this.text,0,0)),x&&(r.syncShadow(t),t.fillText(this.text,0,0)))}get drawTLX(){return-this.leftSpace}get drawTLY(){return-this.ascent}get drawBLX(){return-this.leftSpace}get drawBLY(){return this.descent}get drawTRX(){return this.textWidth+this.rightSpace}get drawTRY(){return-this.ascent}get drawBRX(){return this.textWidth+this.rightSpace}get drawBRY(){return this.descent}}var _X=function(e,t){t&&this.textStyle.modify(t);var r=this.poolManager.allocate(No);return r===null?r=new cB(this,e,this.textStyle):r.setParent(this).setActive().modifyStyle(this.textStyle).setText(e),r},tH=function(e,t){t&&this.textStyle.modify(t);for(var r=[],h=0,y=e.length;h<y;h++){var P=e.charAt(h),n=this.poolManager.allocate(No);n===null?n=new cB(this,P,this.textStyle):n.setParent(this).setActive().modifyStyle(this.textStyle).setText(P),r.push(n)}return r},Uv=function(e,t){var r=this.createCharChildren(e,t);return this.addChild(r),this},eH=function(e,t){return e===void 0&&(e=""),this.removeChildren(),Uv.call(this,e,t),this.dirty=!0,this},iH=function(e,t,r){var h=this.createCharChildren(t,r);return e=this.getCharChildIndex(e,!0),this.addChild(h,e),this},rH=function(e,t){t===void 0&&(t=1);for(var r=0;r<t;r++){var h=this.getCharChildIndex(e,!0);if(h===void 0)break;this.removeChild(this.children[h])}return this},nH=function(e){var t="";return this.forEachCharChild(function(r){t+=r.text},void 0,e),t};Phaser.Display.Canvas.CanvasPool;class sH extends du{constructor(t,r,h){super(t,hB),this.setTexture(r,h),this.color=void 0}get frameWidth(){return this.frameObj?this.frameObj.cutWidth:0}get frameHeight(){return this.frameObj?this.frameObj.cutHeight:0}get offsetY(){return-this.height}set offsetY(t){}get key(){return this._key}set key(t){this.setDirty(this._key!=t),this._key=t}get frame(){return this._frame}set frame(t){this.setDirty(this._frame!=t),this._frame=t}setTexture(t,r){return this.key=t,this.frame=r,this.frameObj=this.scene.sys.textures.getFrame(t,r),this}get width(){return this.frameWidth*this.scaleX}set width(t){this.setDirty(this.width!==t),this.scaleX=t/this.frameWidth}get height(){return this.frameHeight*this.scaleY}set height(t){this.setDirty(this.height!==t),this.scaleY=t/this.frameHeight}setHeight(t,r){return r===void 0&&(r=!1),this.height=t,r&&(this.scaleX=this.scaleY),this}setColor(t){return this.color=t,this}modifyPorperties(t){return t.hasOwnProperty("color")&&this.setColor(t.color),super.modifyPorperties(t),this}renderContent(){tB(this.frameObj,this.canvas,0,0,this.frameWidth,this.frameHeight,this.color,!1)}get drawTLX(){return-this.leftSpace}get drawTLY(){return 0}get drawBLX(){return-this.leftSpace}get drawBLY(){return this.frameHeight}get drawTRX(){return this.frameWidth+this.rightSpace}get drawTRY(){return 0}get drawBRX(){return this.frameWidth+this.rightSpace}get drawBRY(){return this.frameHeight}}var aH=function(e,t,r){var h=this.poolManager.allocate(hB);return h===null?h=new sH(this,e,t):h.setParent(this).setActive().setTexture(e,t),h.modifyPorperties(r),h},vB=function(e,t,r){var h=this.createImageChild(e,t,r);return this.addChild(h),this};class oH extends du{constructor(t,r,h,y){super(t,lB),this.setRenderCallback(r),this.setDrawerSize(h,y)}setRenderCallback(t){return t?this.renderContent=t.bind(this):delete this.renderContent,this}setDrawerSize(t,r){return t===!0?(this.toLocalPosition=!1,t=void 0,r=void 0):this.toLocalPosition=!0,t===void 0&&(t=0),r===void 0&&(r=t),this.drawerWidth=t,this.drawerHeight=r,this}onFree(){super.onFree(),this.setRenderCallback()}get width(){return this.drawerWidth*this.scaleX}set width(t){this.setDirty(this.width!==t),this.scaleX=this.drawerWidth>0?t/this.drawerWidth:1}get height(){return this.drawerHeight*this.scaleY}set height(t){this.setDirty(this.height!==t),this.scaleY=this.drawerHeight>0?t/this.drawerHeight:1}get offsetY(){return-this.height}set offsetY(t){}get drawTLX(){return-this.leftSpace}get drawTLY(){return 0}get drawBLX(){return-this.leftSpace}get drawBLY(){return this.drawerHeight}get drawTRX(){return this.drawerWidth+this.rightSpace}get drawTRY(){return 0}get drawBRX(){return this.drawerWidth+this.rightSpace}get drawBRY(){return this.drawerHeight}}var hH=function(e,t,r){var h=this.poolManager.allocate(lB);return h===null?h=new oH(this,e,t,r):h.setParent(this).setActive().setRenderCallback(e).setDrawerSize(t,r),h},lH=function(e,t,r){var h=this.createDrawerChild(e,t,r);return this.addChild(h),this};let uH=class extends du{constructor(t,r){super(t,uB),this.setSpaceWidth(r)}get width(){return this.spaceWidth*this.scaleX}set width(t){this.spaceWidth>0?this.scaleX=t/this.spaceWidth:this.scaleX=1}setSpaceWidth(t){return this.spaceWidth=t,this}};var fH=function(e){var t=this.poolManager.allocate(uB);return t===null?t=new uH(this,e):t.setParent(this).setActive().setSpaceWidth(e),t},pB=function(e){var t=this.createSpaceChild(e);return this.addChild(t),this};class dH extends wP{constructor(t,r,h,y,P){super(t,RP),this.setName(r).setParameter(y).setCallback(h,P)}setName(t){return this.name=t,this}setParameter(t){return this.param=t,this}setCallback(t,r){return this.callback=t,this.scope=r,this}exec(){var t;return this.scope?t=this.callback.call(this.scope,this.param,this.name):t=this.callback(this.param,this.name),t}onFree(){super.onFree(),this.setName().setCallback().setParameter()}}var cH=function(e,t,r,h){var y=this.poolManager.allocate(RP);return y===null?y=new dH(this,e,t,r,h):y.setParent(this).setActive().setName(e).setCallback(t,h).setParameter(r),y},Ce=function(e,t,r,h){var y=this.createCommandChild(e,t,r,h);return this.addChild(y),this},vH=function(e){return e===void 0?e={}:typeof e=="object"&&(e=Ur(e)),this.wrapConfig=e,this},gB=function(e){var t={callback:void 0,start:0,isLastPage:!1,maxLines:void 0,padding:void 0,letterSpacing:void 0,hAlign:void 0,vAlign:void 0,children:[],lines:[],maxLineWidth:0,linesHeight:0,lineHeight:void 0,maxLineHeight:0,linesWidth:0,lineWidth:void 0};return Object.assign(t,e)};const pH={none:0,word:1,char:2,character:2,mix:3};var gH=function(e,t,r,h){h===void 0&&(h={word:[],width:0}),h.word.length=0;for(var y=r===2,P=r===3,n=!y&&!P,T=e.length,i=t,a=h.word,x=0,d=!1;i<T;){var l=e[i];if(!l.renderable){a.push(l),i++;continue}var o=l.type===No?l.text:null;if(o===null||o===`
`||o==="\f"){i===t&&(a.push(l),x+=l.outerWidth);break}if(n){if(a.push(l),x+=l.outerWidth,o===" ")break;i++}else if(y){a.push(l),x+=l.outerWidth;break}else if(P)if(bv(o)){if(a.push(l),x+=l.outerWidth,o===" ")break;i++,d=!0}else{if(d)break;a.push(l),x+=l.outerWidth;var s=e[i+1];s&&s.type===No&&s.text===" "&&(a.push(s),x+=s.outerWidth);break}}return h.width=x,h},mB=function(e){for(var t=0,r=e.length;t<r;t++){var h=e[t];if(h.align!==void 0)return h.align}},xB=function(e,t,r){if(!(t===0&&r===0))for(var h=0,y=e.length;h<y;h++){var P=e[h];P.renderable&&(P.x+=t,P.y+=r)}},mH=function(e,t,r){for(var h=e.hAlign,y=e.vAlign,P=e.justifyPercentage,n=e.lines,T,i,a=0,x=n.length;a<x;a++){var d=n[a],l=d.width,o=d.children,s=mB(o);switch(s===void 0&&(s=h),s){case 0:case"left":T=0;break;case 1:case"center":var f=t-l;T=f/2;break;case 2:case"right":var f=t-l;T=f;break;case 3:case"justify":case"justify-left":var f=t-l,c=f/t;c<P&&m1(o,f),T=0;break;case 4:case"justify-center":var f=t-l,c=f/t;c<P?(m1(o,f),T=0):T=f/2;break;case 5:case"justify-right":var f=t-l,c=f/t;c<P?(m1(o,f),T=0):T=f;break;default:T=0;break}var u=e.linesHeight;switch(y){case 1:case"center":i=(r-u)/2;break;case 2:case"bottom":i=r-u;break;default:i=0;break}xB(o,T,i)}},m1=function(e,t){for(var r=t/e.length,h=0,y=e.length;h<y;h++){var P=e[h];P.renderable&&(P.x+=r*h)}},ZO=function(){var e=this.defaultTextStyle.getTextMetrics(this.context,this.testString),t,r;return"actualBoundingBoxAscent"in e?(t=e.actualBoundingBoxAscent,r=e.actualBoundingBoxDescent):(t=0,r=0),Lm.ascent=t,Lm.descent=r,Lm.height=t+r,Lm},Lm={};const bn=Phaser.Utils.Objects.GetValue;var xH=function(e){var t=bn(e,"start",0);Yh(this.wrapPadding,bn(e,"padding",0));var r=this.padding.top+this.padding.bottom+this.wrapPadding.top+this.wrapPadding.bottom,h=this.padding.left+this.padding.right+this.wrapPadding.left+this.wrapPadding.right,y=bn(e,"lineHeight"),P=bn(e,"ascent",y),n;if(y===void 0){var T=bn(e,"useDefaultTextHeight",!1);if(n=bn(e,"maxLines",0),this.fixedHeight>0&&!T){var tt=this.fixedHeight-r;if(n>0)y=tt/n;else{var i=ZO.call(this);y=i.height,P=i.ascent,n=Math.floor((tt-P)/y)}}else{var i=ZO.call(this);y=i.height,P=i.ascent}}else if(this.fixedHeight>0){if(n=bn(e,"maxLines"),n===void 0){var tt=this.fixedHeight-r;n=Math.floor(tt/y)}}else n=bn(e,"maxLines",0);P===void 0&&(P=y);var a=n===0,x=bn(e,"wrapMode");if(x===void 0){var d=bn(e,"charWrap",!1);x=d?"char":"word"}typeof x=="string"&&(x=pH[x]);var l=bn(e,"wrapWidth",void 0);l===void 0&&(this.fixedWidth>0?l=this.fixedWidth-h:(l=1/0,x=0));for(var o=bn(e,"letterSpacing",0),s=bn(e,"hAlign",0),f=bn(e,"vAlign",0),c=bn(e,"justifyPercentage",.25),u=gB({callback:"runWordWrap",start:t,padding:this.wrapPadding,letterSpacing:o,maxLines:n,hAlign:s,vAlign:f,justifyPercentage:c,ascent:P,lineHeight:y,wrapWidth:l,wrapMode:x}),v=this.children,p=0,m=v.length;p<m;p++)v[p].setActive(!1);l+=o;for(var g=this.padding.left+this.wrapPadding.left,C=this.padding.top+this.wrapPadding.top+P,M=g,b=C,w=l,R=t,A=v.length,L=u.children,D=u.lines,G=[],B=0,I=0,k,z=!1;R<A;){k=gH(v,R,x,k);var X=k.word,H=X.length,Q=k.width+H*o;R+=H;var J=fB(X[0]);z=dB(X[0]);var Y=J||z;if(w<Q||Y){if(Y){var $=X[0];$.setActive().setPosition(M,b),L.push($),G.push($)}M=g,b+=y,w=l,D.push({children:G,width:B}),I=Math.max(I,B),B=0,G=[];var V=z||!a&&D.length===n;if(V)break;if(Y)continue}w-=Q,B+=Q;for(var p=0,m=X.length;p<m;p++){var U=X[p];U.setActive(),L.push(U),G.push(U),U.renderable&&(U.setPosition(M,b),M+=U.outerWidth+o)}}G.length>0&&(D.push({children:G,width:B}),I=Math.max(I,B)),u.start+=L.length,u.isLastPage=!z&&u.start===A,u.maxLineWidth=I,u.linesHeight=D.length*y;var K=this.fixedWidth>0?this.fixedWidth:u.maxLineWidth+h,j=this.fixedHeight>0?this.fixedHeight:u.linesHeight+r,_=K-h,tt=j-r;mH(u,_,tt),this.setCanvasSize(K,j);for(var p=0,m=L.length;p<m;p++){var U=L[p];U.renderable&&(U.x0=U.x,U.y0=U.y)}return u};const yH=Phaser.Utils.Objects.Merge;var CH=function(e){return e===void 0&&(e={}),xH.call(this,yH(e,this.wrapConfig))},SH=function(e,t,r){var h=e.hAlign,y=e.vAlign,P,n,T=e.rtl,i=e.lines,a=e.lineWidth,x=e.linesWidth;switch(h){case 1:case"center":P=(t-x)/2;break;case 2:case"right":P=t-x;break;default:P=0;break}T&&(P+=a);for(var d=0,l=i.length;d<l;d++){var o=i[T?l-d-1:d],s=o.children,f=o.height,c=mB(s);switch(c===void 0&&(c=y),c){case 1:case"center":n=(r-f)/2;break;case 2:case"bottom":n=r-f;break;default:n=0;break}xB(s,P,n),P+=a}};const ss=Phaser.Utils.Objects.GetValue;var TH=function(e){var t=ss(e,"start",0);Yh(this.wrapPadding,ss(e,"padding",0));var r=this.padding.top+this.padding.bottom+this.wrapPadding.top+this.wrapPadding.bottom,h=this.padding.left+this.padding.right+this.wrapPadding.left+this.wrapPadding.right,y=ss(e,"lineWidth",void 0),P;if(y===void 0)if(P=ss(e,"maxLines",0),this.fixedWidth>0){var J=this.fixedWidth-h;y=J/P}else y=0;else if(this.fixedWidth>0){if(P=ss(e,"maxLines",void 0),P===void 0){var J=this.fixedWidth-h;P=Math.floor(J/y)+1}}else P=ss(e,"maxLines",0);var n=P===0,T=ss(e,"fixedCharacterHeight",void 0);if(T===void 0){var i=ss(e,"charPerLine",void 0);if(i!==void 0){var Y=this.fixedHeight-r;T=Math.floor(Y/i)}}var a=ss(e,"wrapHeight",void 0);a===void 0&&(this.fixedHeight>0?a=this.fixedHeight-r:a=1/0);for(var x=ss(e,"letterSpacing",0),d=ss(e,"rtl",!0),l=ss(e,"hAlign",d?2:0),o=ss(e,"vAlign",0),s=gB({callback:"runVerticalWrap",start:t,padding:this.wrapPadding,letterSpacing:x,maxLines:P,hAlign:l,vAlign:o,lineWidth:y,fixedCharacterHeight:T,wrapHeight:a,rtl:d}),f=this.children,c=0,u=f.length;c<u;c++)f[c].setActive(!1);a+=x;for(var v=this.padding.left+this.wrapPadding.left,p=this.padding.top+this.wrapPadding.top,m=v,g=p,C=a,M=t,b=f.length,w=s.children,R=s.lines,A=[],L=0,D=0;M<b;){var G=f[M];if(M++,!G.renderable){G.setActive(),w.push(G),A.push(G);continue}var B=(T!==void 0?T:G.height)+x,I=fB(G),k=dB(G),z=I||k;if(C<B||z){I&&(G.setActive().setPosition(m,g).setOrigin(.5),w.push(G),A.push(G)),m=v,g=p,C=a,R.push({children:A,height:L}),D=Math.max(D,L),L=0,A=[];var X=k||!n&&R.length===P;if(X)break;if(z)continue}C-=B,L+=B,G.setActive().setPosition(m,g).setOrigin(.5),w.push(G),A.push(G),g+=B}A.length>0&&(R.push({children:A,height:L}),D=Math.max(D,L)),s.start+=w.length,s.isLastPage=s.start===b,s.maxLineHeight=D,s.linesWidth=R.length*y;var H=this.fixedWidth>0?this.fixedWidth:s.linesWidth+h,Q=this.fixedHeight>0?this.fixedHeight:s.maxLineHeight+r,J=H-h,Y=Q-r;SH(s,J,Y),this.setCanvasSize(H,Q);for(var c=0,u=w.length;c<u;c++){var G=w[c];G.renderable&&(G.x0=G.x,G.y0=G.y)}return s};const EH=Phaser.Utils.Objects.Merge;var PH=function(e){return e===void 0&&(e={}),TH.call(this,EH(e,this.wrapConfig))};const JO=Phaser.Utils.Objects.GetValue;var MH=function(e){var t=JO(this.wrapConfig,"callback");return t||(t=JO(e,"callback",this.runWordWrap)),typeof t=="string"&&(t=this[t]),t.call(this,e)};const bH={setVAlign(e){return this.wrapConfig.vAlign=e,this},setHAlign(e){return this.wrapConfig.hAlign=e,this}},wH={setTextOX(e){return e===this._textOX?this:(this._textOX=e,this)},setTextOY(e){return e===this._textOY?this:(this._textOY=e,this)},setTextOXY(e,t){if(!(e===this._textOX&&t===this._textOY))return this._textOX=e,this._textOY=t,this},addTextOX(e){return this.setTextOX(this._textOX+e),this},addTextOY(e){return this.setTextOY(this._textOY+e),this},addTextOXY(e,t){return this.setTextOXY(this._textOX+e,this._textOY+t),this}};var RH=function(){this.clear(),this.setCanvasSize(this.width,this.height),this.background.active&&this.background.render();for(var e,t=0,r=this.children.length;t<r;t++)e=this.children[t],e.active&&e.render();this.innerBounds.active&&this.innerBounds.render()},AH=function(e,t,r){r===void 0&&(r=!0);for(var h=this.children.filter(function(i){return!(r&&!i.active)}),y=0,P=h.length;y<P;y++){var n=h[y],T;if(t?T=e.call(this,n,y,h):T=e(n,y,h),T)break}return this},OH=function(e,t,r){r===void 0&&(r=!0);for(var h=this.children.filter(function(i){return!(r&&!i.active||!i.renderable||i.removed)}),y=0,P=h.length;y<P;y++){var n=h[y],T;if(t?T=e.call(this,n,y,h):T=e(n,y,h),T)break}return this},LH=function(e,t,r){r===void 0&&(r=!0);for(var h=this.children.filter(function(i){return!(r&&!i.active||!ou(i)||i.removed)}),y=0,P=h.length;y<P;y++){var n=h[y],T;if(t?T=e.call(this,n,y,h):T=e(n,y,h),T)break}return this},FH=function(){return this.children};const DH=Phaser.Utils.Array.GetAll;var BH=function(){return DH(this.children,"active",!0)},IH=function(e,t){return t===void 0&&(t=[]),this.forEachCharChild(function(r){t.push(r)},void 0,e),t},GH=function(){return this.lastAppendedChildren},kH=function(e,t,r,h){typeof t!="number"&&(h=t,t=0,r=0);var y=e.drawCenterX+t,P=e.drawCenterY+r;return sB(e,y,P,h)};const NH=Phaser.Math.Distance.BetweenPointsSquared;var zH=function(e,t){var r={x:e,y:t},h=1/0,y=null;return this.forEachRenderableChild(function(P){var n=NH(r,kH(P,!0));h>n&&(h=n,y=P)}),y},UH=function(e,t,r,h){return typeof e=="number"&&(e=this.getCharChild(e,!0)),aB(this,e,t,r,h)},VH=function(){for(var e=this.children,t=0,r=0,h=0,y=e.length;h<y;h++){var P=e[h];if(!(!P.renderable||!P.active||!P.visible)){var n=P.x0!==void 0?P.x0:P.x,T=P.y0!==void 0?P.y0:P.y;t=Math.max(t,n),r=Math.max(r,T)}}var i=t+this.padding.left+this.padding.right+this.wrapPadding.left+this.wrapPadding.right,a=r+this.padding.top+this.padding.bottom+this.wrapPadding.top+this.wrapPadding.bottom;return(this.width!==i||this.height!==a)&&(this.dirty=!0,this.setCanvasSize(i,a)),this},WH=function(e,t){t===void 0&&(t=!0);for(var r=this.children,h=0,y=r.length;h<y;h++){var P=r[h];if(!(t&&!P.active)&&ou(P)&&!P.removed){if(e===0)return h;e--}}},YH=function(e,t){t===void 0&&(t=!0);for(var r=this.children,h=0,y=r.length;h<y;h++){var P=r[h];if(!(t&&!P.active)&&ou(P)&&!P.removed){if(e===0)return P;e--}}},XH=function(e,t){if(typeof e!="number"&&(e=this.children.indexOf(e),e<0))return null;t===void 0&&(t=!0);var r=this.children;e>=r.length&&(e=r.length);for(var h=0,y=0;y<e;y++){var P=r[y];t&&!P.active||ou(P)&&!P.removed&&h++}return h},HH=function(e){return e===void 0&&(e=!0),this.childrenInteractiveEnable!==e&&(this.lastOverChild=null),this.childrenInteractiveEnable=e,this},AP=function(h,t,r){for(var h=h,y=0,P=h.length;y<P;y++){var n=h[y];if(!(!n.active||!n.renderable)&&n.contains(t,r))return n}return null},$H=function(){return this.on("pointerdown",KH,this).on("pointerdown",ZH,this).on("pointermove",x1,this).on("pointerover",x1,this).on("pointerout",function(e,t){x1.call(this,e,null,null,t)},this),this},KH=function(e,t,r,h){if(this.childrenInteractiveEnable){var y=AP(this.children,t,r);y&&this.emit("child.pointerdown",y,e,t,r,h)}},ZH=function(e,t,r,h){if(this.childrenInteractiveEnable){var y=AP(this.children,t,r);y&&this.emit("child.pointerup",y,e,t,r,h)}},x1=function(e,t,r,h){if(this.childrenInteractiveEnable){if(t===null){this.lastOverChild!==null&&(this.emit("child.pointerout",this.lastOverChild,e,t,r,h),this.lastOverChild=null);return}var y=AP(this.children,t,r);y!==this.lastOverChild&&(this.lastOverChild!==null&&this.emit("child.pointerout",this.lastOverChild,e,t,r,h),y!==null&&this.emit("child.pointerover",y,e,t,r,h),this.lastOverChild=y)}};const JH=Phaser.GameObjects.GameObject;var QH=function(e,t,r){var h=!!this.input;return JH.prototype.setInteractive.call(this,e,t,r),h||$H.call(this),this};const jH=Phaser.Utils.Array.BringToTop,qH=Phaser.Utils.Array.SendToBack,_H=Phaser.Utils.Array.MoveUp,t$=Phaser.Utils.Array.MoveDown,e$=Phaser.Utils.Array.MoveAbove,i$=Phaser.Utils.Array.MoveBelow,r$={moveChildToFist(e){return qH(this.children,e),this},moveChildToLast(e){return jH(this.children,e),this},movechildUp(e){return _H(this.children,e),this},movechildDown(e){return t$(this.children,e),this},movechildAbove(e,t){return e$(this.children,e,t),this},movechildBelow(e,t){return i$(this.children,e,t),this}},n$={setBackgroundColor(e,t,r){return this.background.setColor(e,t,r),this},setBackgroundStroke(e,t){return this.background.setStroke(e,t),this},setBackgroundCornerRadius(e,t){return this.background.setCornerRadius(e,t),this}},s$={setInnerBoundsColor(e,t,r){return this.innerBounds.setColor(e,t,r),this},setInnerBoundsStroke(e,t){return this.innerBounds.setStroke(e,t),this}};var yB={setFixedSize:kX,setPadding:NX,getPadding:zX,modifyTextStyle:UX,modifyDefaultTextStyle:VX,resetTextStyle:WX,setTestString:YX,removeChild:HX,removeChildren:$X,popChild:ZX,clearContent:JX,addChild:QX,createCharChild:_X,createCharChildren:tH,setText:eH,appendText:Uv,insertText:iH,removeText:rH,getText:nH,createImageChild:aH,appendImage:vB,createDrawerChild:hH,appendDrawer:lH,createSpaceChild:fH,appendSpace:pB,createCommandChild:cH,appendCommand:Ce,setWrapConfig:vH,runWordWrap:CH,runVerticalWrap:PH,runWrap:MH,renderContent:RH,forEachChild:AH,forEachRenderableChild:OH,forEachCharChild:LH,getChildren:FH,getActiveChildren:BH,getCharChildren:IH,getLastAppendedChildren:GH,getNearestChild:zH,getCharWorldPosition:UH,setToMinSize:VH,getCharChildIndex:WH,getCharChild:YH,getCharIndex:XH,setChildrenInteractiveEnable:HH,setInteractive:QH};Object.assign(yB,r$,n$,s$,bH,wH);const a$=Phaser.Utils.Objects.GetFastValue;var o$={};class h${constructor(t){this.pools=a$(t,"pools",o$)}free(t){if(!this.pools)return this;var r=t.type;return this.pools.hasOwnProperty(r)||(this.pools[r]=new $a),this.pools[r].push(t),t.onFree(),this}freeMultiple(t){if(!this.pools)return this;for(var r=0,h=t.length;r<h;r++)this.free(t[r]);return this}allocate(t){return!this.pools||!this.pools.hasOwnProperty(t)?null:this.pools[t].pop()}}const y1=Phaser.Utils.Objects.IsPlainObject,jr=Phaser.Utils.Objects.GetValue;class nd extends Jh{constructor(t,r,h,y,P,n,T){y1(r)?(T=r,r=jr(T,"x",0),h=jr(T,"y",0),y=jr(T,"width",0),P=jr(T,"height",0),n=jr(T,"resolution",1)):y1(y)?(T=y,y=jr(T,"width",0),P=jr(T,"height",0),n=jr(T,"resolution",1)):y1(n)&&(T=n,n=jr(T,"resolution",1));var i=y===0?1:y,a=P===0?1:P;super(t,r,h,i,a,n),this.type="rexDynamicText",this.autoRound=!0,this.padding=Yh(),this.wrapPadding=Yh();var x=jr(T,"style",void 0);this.defaultTextStyle=new sx(null,x),this.textStyle=this.defaultTextStyle.clone(),this.setTestString(jr(T,"testString","|MÉqgy")),this._textOX=0,this._textOY=0,this.background=new IX(this,jr(T,"background",void 0)),this.innerBounds=new GX(this,jr(T,"innerBounds",void 0)),this.children=[],this.lastAppendedChildren=[],this.lastOverChild=null,this.poolManager=new h$(T),this.setFixedSize(y,P),this.setPadding(jr(T,"padding",0)),this.setWrapConfig(jr(T,"wrap",void 0)),this.setChildrenInteractiveEnable(jr(T,"childrenInteractive",!1));var d=jr(T,"text",void 0);d&&this.setText(d)}updateTexture(){return super.updateTexture(function(){this.renderContent()},this),this}get text(){return this.getText(!0)}set text(t){this.setText(t)}setSize(t,r){return this.setFixedSize(t,r),this}get textOX(){return this._textOX}set textOX(t){this.setTextOX(t)}get textOY(){return this._textOY}set textOY(t){this.setTextOY(t)}}Object.assign(nd.prototype,yB);It.register("dynamicText",function(e,t,r,h,y){var P=new nd(this.scene,e,t,r,h,y);return this.scene.add.existing(P),P});Lt(window,"RexPlugins.UI.DynamicText",nd);const Vv={setEventEmitter(e,t){return t===void 0&&(t=Phaser.Events.EventEmitter),this._privateEE=e===!0||e===void 0,this._eventEmitter=this._privateEE?new t:e,this},destroyEventEmitter(){return this._eventEmitter&&this._privateEE&&this._eventEmitter.shutdown(),this},getEventEmitter(){return this._eventEmitter},on(){return this._eventEmitter&&this._eventEmitter.on.apply(this._eventEmitter,arguments),this},once(){return this._eventEmitter&&this._eventEmitter.once.apply(this._eventEmitter,arguments),this},off(){return this._eventEmitter&&this._eventEmitter.off.apply(this._eventEmitter,arguments),this},emit(e){return this._eventEmitter&&e&&this._eventEmitter.emit.apply(this._eventEmitter,arguments),this},addListener(){return this._eventEmitter&&this._eventEmitter.addListener.apply(this._eventEmitter,arguments),this},removeListener(){return this._eventEmitter&&this._eventEmitter.removeListener.apply(this._eventEmitter,arguments),this},removeAllListeners(){return this._eventEmitter&&this._eventEmitter.removeAllListeners.apply(this._eventEmitter,arguments),this},listenerCount(){return this._eventEmitter?this._eventEmitter.listenerCount.apply(this._eventEmitter,arguments):0},listeners(){return this._eventEmitter?this._eventEmitter.listeners.apply(this._eventEmitter,arguments):[]},eventNames(){return this._eventEmitter?this._eventEmitter.eventNames.apply(this._eventEmitter,arguments):[]}},l$={hasProperty(e){var t=this.gameObject;if(t.hasOwnProperty(e))return!0;var r=t[e];return r!==void 0},getProperty(e){return this.gameObject[e]},setProperty(e,t){return this.gameObject[e]=t,this},easeProperty(l){var t=l.property,r=l.value,h=l.duration,y=l.delay,P=l.ease,n=l.repeat,T=l.yoyo,i=l.from,a=l.complete,x=l.target;if(h===void 0&&(h=1e3),y===void 0&&(y=0),P===void 0&&(P="Linear"),n===void 0&&(n=0),T===void 0&&(T=!1),x===void 0&&(x=this.gameObject),i){var d=r;r=x[t],x[t]=d}var l={targets:x,duration:h,delay:y,ease:P,repeat:n,yoyo:T,onComplete:a};return l[t]=r,this.addTweenTask(t,l),this},addTweenTask(e,t){var r=this.tweens,h=r[e];h&&h.remove();var y=t.onComplete;return t.onComplete=function(){r[e].remove(),r[e]=null,y&&y(t.targets,e)},h=this.scene.tweens.add(t),h.timeScale=this.timeScale,r[e]=h,this},getTweenTask(e){return this.tweens[e]},freeTweens(){var e=this.tweens,t;for(var r in e)t=e[r],t&&t.remove(),e[r]=null;return this}},u$={hasMethod(e){return typeof this.gameObject[e]=="function"},call(e,...t){if(!this.hasMethod(e))return console.warn(`[GameObjectManager] Game object '${this.name}' does not have method '${e}'`),this;var r=this.gameObject;return r[e].apply(r,t),this}},f$={hasData(e){var t=this.gameObject;return t.data?t.data.has(e):!1},getData(e){return this.gameObject.getData(e)},setData(e,t){return this.gameObject.setData(e,t),this}};class OP{constructor(t,r,h){this.GOManager=t,this.tweens={},this.effects={},this.setGO(r,h)}get scene(){return this.GOManager.scene}get timeScale(){return this.GOManager.timeScale}destroy(){this.freeGO(),this.GOManager=void 0}freeGO(){return this.freeTweens(),this.gameObject.bob=void 0,this.gameObject.destroy(),this.gameObject=void 0,this}setGO(t,r){return t.goName=r,t.goType=this.GOManager.name,t.bob=this,this.gameObject=t,this.name=r,this.freeTweens(),this}setTimeScale(t){var r=this.tweens;for(var h in r){var y=r[h];y&&(y.timeScale=t)}return this}}Object.assign(OP.prototype,l$,u$,f$);var Wv=function(e){for(var t in e)return!1;return!0},ru=function(e){return e&&e.charAt(0)!=="!"};const d$={has(e){return this.bobs.hasOwnProperty(e)},exists(e){return this.bobs.hasOwnProperty(e)},get(e,t){if(ru(e))return this.bobs[e];t===void 0&&(t=[]),e&&(e=e.substring(1));for(var r in this.bobs)e&&r===e||t.push(this.bobs[r]);return t},getFitst(e){e&&e.charAt(0)==="!"&&(e=e.substring(1));for(var t in this.bobs)if(!(e&&e===t))return this.bobs[t];return null},getGO(e,t){var r=this.get(e);if(r)if(Array.isArray(r)){t===void 0&&(t=[]);var h=r;return h.forEach(function(y){t.push(y.gameObject)}),t}else return r.gameObject;else return null},forEachGO(e,t){for(var r in this.bobs){var h=this.bobs[r].gameObject,y;if(t?y=e.call(t,h,r,this):y=e(h,r,this),y)break}return this},getAllGO(e){e===void 0&&(e=[]);for(var t in this.bobs){var r=this.bobs[t].gameObject;e.push(r)}return e}};var wv=function(e){return e>>16&255},Rv=function(e){return e>>8&255},Av=function(e){return e&255},QO=function(e,t){return t===void 0&&(t={}),t.r=e>>16&255,t.g=e>>8&255,t.b=e&255,t};const c$=~(255<<16)&16777215,v$=16711935,p$=16776960;var g$=function(e,t){return(t&255)<<16|e&c$},m$=function(e,t){return(t&255)<<8|e&v$},x$=function(e,t){return t&255|e&p$},y$=function(e,t,r,h){return(t&255)<<16|(r&255)<<8|h&255},C$=function(e,t){if(e.hasOwnProperty("tintR"))return e;t===void 0&&(t=16777215);var r=wv(t),h=Rv(t),y=Av(t);return Object.defineProperty(e,"tint",{get:function(){return t},set:function(P){P=Math.floor(P)&16777215,e.setTint&&e.setTint(P),t!==P&&(t=P,r=wv(t),h=Rv(t),y=Av(t))}}),Object.defineProperty(e,"tintR",{get:function(){return r},set:function(P){P=Math.floor(P)&255,r!==P&&(r=P,e.tint=g$(t,P))}}),Object.defineProperty(e,"tintG",{get:function(){return h},set:function(P){P=Math.floor(P)&255,h!==P&&(h=P,e.tint=m$(t,P))}}),Object.defineProperty(e,"tintB",{get:function(){return y},set:function(P){P=Math.floor(P)&255,y!==P&&(y=P,e.tint=x$(t,P))}}),Object.defineProperty(e,"tintGray",{get:function(){return Math.floor((r+h+y)/3)},set:function(P){P=Math.floor(P)&255,(r!==P||h!==P||y!==P)&&(r=P,h=P,y=P,e.tint=y$(t,P,P,P))}}),e.tint=t,e};const S$=Phaser.Events.EventEmitter;var T$=function(e){if(e.events)return e;var t=new S$,r=e.x;Object.defineProperty(e,"x",{get:function(){return r},set:function(n){r!==n&&(r=n,t.emit("update",e))}});var h=e.y;Object.defineProperty(e,"y",{get:function(){return h},set:function(n){h!==n&&(h=n,t.emit("update",e))}});var y=e.width;Object.defineProperty(e,"width",{get:function(){return y},set:function(n){y!==n&&(y=n,t.emit("update",e))}});var P=e.height;return Object.defineProperty(e,"height",{get:function(){return P},set:function(n){P!==n&&(P=n,t.emit("update",e))}}),e.events=t,e},E$=function(e,t,r,h,y,P){return P===void 0?P={}:P===!0&&(P=P$),typeof r!="number"&&(r=0,h=0),P.x=y.x+y.width*e+r,P.y=y.y+y.height*t+h,P},P$={},M$=function(e,t,r,h,y,P,n){if(e.hasOwnProperty("vp"))return e;typeof r=="function"&&(n=r,r=void 0),typeof y=="function"&&(n=y,y=void 0),r===void 0&&(r=.5),h===void 0&&(h=.5),y===void 0&&(y=0),P===void 0&&(P=0),n===void 0&&(n=E$),T$(t);var T=t.events;e.vp=t;var i=function(){n(r,h,y,P,t,e)};T.on("update",i),e.once("destroy",function(){T.off("update",i),e.vp=void 0}),Object.defineProperty(e,"vpx",{get:function(){return r},set:function(a){r!==a&&(r=a,i())}}),Object.defineProperty(e,"vpy",{get:function(){return h},set:function(a){h!==a&&(h=a,i())}}),Object.defineProperty(e,"vpxOffset",{get:function(){return y},set:function(a){y!==a&&(y=a,i())}}),Object.defineProperty(e,"vpyOffset",{get:function(){return P},set:function(a){P!==a&&(P=a,i())}}),i()},gn=function(e){return e.preFX?e.preFX:e.postFX?e.postFX:null},nr=function(e,t){e._effectSwitchNames||(e._effectSwitchNames=[],e.clearAllEffects=function(){for(var r=e._effectSwitchNames,h=0,y=r.length;h<y;h++)e[r[h]]=null;return e},e.on("destroy",e.clearAllEffects,e)),e._effectSwitchNames.push(t)},b$=function(e){if(vi(e,"barrel"))return e;var t=gn(e);if(!t)return e;var r;return Object.defineProperty(e,"barrel",{get:function(){return r},set:function(h){r!==h&&(r=h,r===null||r===!1?e._barrelEffect&&(t.remove(e._barrelEffect),e._barrelEffect=void 0):(e._barrelEffect||(e._barrelEffect=t.addBarrel()),e._barrelEffect.amount=r))}}),e.barrel=null,nr(e,"barrel"),e},en=function(e,t,r){if(vi(e,t))return e;var h=gn(e);if(!h)return e;var y=`_${t}Effect`,P;return Object.defineProperty(e,t,{get:function(){return P},set:function(n){if(P!==n)if(P=n,P===null||P===!1)e[y]&&(h.remove(e[y]),e[y]=void 0);else{e[y]||(e[y]=h.addColorMatrix());var T=e[y];T[t](r===1?n:void 0)}}}),e[t]=null,nr(e,t),e},w$=function(e){return en(e,"blackWhite"),e},R$=function(e){if(vi(e,"bloomColor"))return e;var t=gn(e);if(!t)return e;var r,h=1,y=1,P=1,n=1,T=4;return Object.defineProperty(e,"bloomColor",{get:function(){return r},set:function(i){r!==i&&(r=i,r===null||r===!1?e._bloom&&(t.remove(e._bloom),e._bloom=void 0,t.setPadding(0)):(e._bloom||(e._bloom=t.addBloom(r,h,y,P,n,T),t.setPadding(Math.max(h,y)+1)),e._bloom.color=r))}}),Object.defineProperty(e,"bloomOffsetX",{get:function(){return h},set:function(i){if(h!==i&&(h=i,e._bloom)){var a=Math.max(h,y);t.setPadding(a+1),e._bloom.offsetX=h}}}),Object.defineProperty(e,"bloomOffsetY",{get:function(){return y},set:function(i){if(y!==i&&(y=i,e._bloom)){var a=Math.max(h,y);t.setPadding(a+1),e._bloom.offsetY=y}}}),Object.defineProperty(e,"bloomBlurStrength",{get:function(){return P},set:function(i){P!==i&&(P=i,e._bloom&&(e._bloom.blurStrength=P))}}),Object.defineProperty(e,"bloomStrength",{get:function(){return n},set:function(i){n!==i&&(n=i,e._bloom&&(e._bloom.strength=n))}}),Object.defineProperty(e,"bloomSteps",{get:function(){return T},set:function(i){T!==i&&(T=i,e._bloom&&(e._bloom.steps=T))}}),e.bloomColor=null,nr(e,"bloomColor"),e},A$=function(e){if(vi(e,"blurColor"))return e;var t=gn(e);if(!t)return e;var r,h=0,y=1,P=1,n=1,T=4;return Object.defineProperty(e,"blurColor",{get:function(){return r},set:function(i){r!==i&&(r=i,r===null||r===!1?e._blur&&(t.remove(e._blur),e._blur=void 0,t.setPadding(0)):(e._blur||(e._blur=t.addBlur(h,y,P,n,r,T),t.setPadding(Math.max(y,P)+1)),e._blur.color=r))}}),Object.defineProperty(e,"blurQuality",{get:function(){return h},set:function(i){h!==i&&(h=i,e._blur&&(e._blur.quality=h))}}),Object.defineProperty(e,"blurX",{get:function(){return y},set:function(i){if(y!==i&&(y=i,e._blur)){var a=Math.max(y,P);t.setPadding(a+1),e._blur.x=y}}}),Object.defineProperty(e,"blurY",{get:function(){return P},set:function(i){if(P!==i&&(P=i,e._blur)){var a=Math.max(y,P);t.setPadding(a+1),e._blur.y=P}}}),Object.defineProperty(e,"blurStrength",{get:function(){return n},set:function(i){n!==i&&(n=i,e._blur&&(e._blur.strength=n))}}),Object.defineProperty(e,"blurSteps",{get:function(){return T},set:function(i){T!==i&&(T=i,e._blur&&(e._blur.steps=T))}}),e.blurColor=null,nr(e,"blurColor"),e},O$=function(e){if(vi(e,"bokehRadius"))return e;var t=gn(e);if(!t)return e;var r,h=1,y=.2;return Object.defineProperty(e,"bokehRadius",{get:function(){return r},set:function(P){r!==P&&(r=P,r===null||r===!1?e._bokeh&&(t.remove(e._bokeh),e._bokeh=void 0):(e._bokeh||(e._bokeh=t.addBokeh(r,h,y)),e._bokeh.radius=r))}}),Object.defineProperty(e,"bokehAmount",{get:function(){return h},set:function(P){h!==P&&(h=P,e._bokeh&&(e._bokeh.amount=h))}}),Object.defineProperty(e,"bokehContrast",{get:function(){return y},set:function(P){y!==P&&(y=P,e._bokeh&&(e._bokeh.contrast=y))}}),e.bokehRadius=null,nr(e,"bokehRadius"),e},L$=function(e){return en(e,"brightness",1),e},F$=function(e){return en(e,"brown"),e},D$=function(e){if(vi(e,"circleColor"))return e;var t=gn(e);if(!t)return e;var r,h=8,y=0,P=.4,n=1,T=.005;return Object.defineProperty(e,"circleColor",{get:function(){return r},set:function(i){r!==i&&(r=i,r===null||r===!1?e._circle&&(t.remove(e._circle),e._circle=void 0):(e._circle||(e._circle=t.addCircle(h,r,y,n,T),e.circleBackgroundAlpha=P),e._circle.color=r))}}),Object.defineProperty(e,"circleThickness",{get:function(){return h},set:function(i){h!==i&&(h=i,e._circle&&(e._circle.thickness=h))}}),Object.defineProperty(e,"circleBackgroundColor",{get:function(){return y},set:function(i){y!==i&&(y=i,e._circle&&(e._circle.backgroundColor=y))}}),Object.defineProperty(e,"circleBackgroundAlpha",{get:function(){return P},set:function(i){P!==i&&(P=i,e._circle&&(e._circle.glcolor2[3]=P))}}),Object.defineProperty(e,"circleScale",{get:function(){return n},set:function(i){n!==i&&(n=i,e._circle&&(e._circle.scale=n))}}),Object.defineProperty(e,"circleFeather",{get:function(){return T},set:function(i){T!==i&&(T=i,e._circle&&(e._circle.feather=T))}}),e.circleColor=null,nr(e,"circleColor"),e},B$=function(e){return en(e,"contrast",1),e},I$=function(e){return en(e,"desaturate",1),e},G$=function(e){return en(e,"desaturateLuminance"),e},k$=function(e){if(vi(e,"displacementKey"))return e;var t=gn(e);if(!t)return e;var r,h=.005,y=.005;return Object.defineProperty(e,"displacementKey",{get:function(){return r},set:function(P){r!==P&&(r=P,r===null||r===!1?e._displacement&&(t.remove(e._displacement),e._displacement=void 0):(e._displacement||(e._displacement=t.addDisplacement(r,h,y)),e._displacement.setTexture(r)))}}),Object.defineProperty(e,"displacementX",{get:function(){return h},set:function(P){h!==P&&(h=P,e._displacement&&(e._displacement.x=h))}}),Object.defineProperty(e,"displacementY",{get:function(){return y},set:function(P){y!==P&&(y=P,e._displacement&&(e._displacement.y=y))}}),e.displacementKey=null,nr(e,"displacementKey"),e},N$=function(e){if(vi(e,"glowColor"))return e;var t=gn(e);if(!t)return e;var r,h=4,y=0;return Object.defineProperty(e,"glowColor",{get:function(){return r},set:function(P){r!==P&&(r=P,r===null||r===!1?e._glow&&(t.remove(e._glow),e._glow=void 0,t.setPadding(0)):(e._glow||(e._glow=t.addGlow(r,h,y),t.setPadding(h+1)),e._glow.color=r))}}),Object.defineProperty(e,"glowOuterStrength",{get:function(){return h},set:function(P){h!==P&&(h=P,e._glow&&(t.setPadding(h+1),e._glow.outerStrength=h))}}),Object.defineProperty(e,"glowInnerStrength",{get:function(){return y},set:function(P){y!==P&&(y=P,e._glow&&(e._glow.innerStrength=y))}}),e.glowColor=null,nr(e,"glowColor"),e},z$=function(e){if(vi(e,"gradientColor"))return e;var t=gn(e);if(!t)return e;var r,h,y=.5,P=0,n=0,T=0,i=1,a=0;return Object.defineProperty(e,"gradientColor",{get:function(){return[r,h]},set:function(x){var d,l;x===null||x===!1?(d=null,l=null):(d=x[0],l=x[1]),!(r===d&&h===l)&&(r=d,h=l,r===null||r===!1?e._gradient&&(t.remove(e._gradient),e._gradient=void 0):(e._gradient||(e._gradient=t.addGradient(r,h,y,P,n,T,i,a)),e._gradient.color1=r,e._gradient.color2=h))}}),Object.defineProperty(e,"gradientColor1",{get:function(){return r},set:function(x){if(x===null||x===!1){e.gradientColor=x;return}r!==x&&(r=x,e._gradient&&(e._gradient.color1=r))}}),Object.defineProperty(e,"gradientColor2",{get:function(){return h},set:function(x){if(x===null||x===!1){e.gradientColor=x;return}h!==x&&(h=x,e._gradient&&(e._gradient.color2=h))}}),Object.defineProperty(e,"gradientAlpha",{get:function(){return y},set:function(x){y!==x&&(y=x,e._gradient&&(e._gradient.alpha=y))}}),Object.defineProperty(e,"gradientFromX",{get:function(){return P},set:function(x){P!==x&&(P=x,e._gradient&&(e._gradient.fromX=P))}}),Object.defineProperty(e,"gradientFromY",{get:function(){return n},set:function(x){n!==x&&(n=x,e._gradient&&(e._gradient.fromY=n))}}),Object.defineProperty(e,"gradientToX",{get:function(){return T},set:function(x){T!==x&&(T=x,e._gradient&&(e._gradient.toX=T))}}),Object.defineProperty(e,"gradientToY",{get:function(){return i},set:function(x){i!==x&&(i=x,e._gradient&&(e._gradient.toY=i))}}),Object.defineProperty(e,"gradientSize",{get:function(){return a},set:function(x){a!==x&&(a=x,e._gradient&&(e._gradient.size=a))}}),e.gradientColor=null,nr(e,"gradientColor"),e},U$=function(e){return en(e,"grayscale",1),e},V$=function(e){return en(e,"hue",1),e},W$=function(e){return en(e,"kodachrome"),e},Y$=function(e){return en(e,"lsd"),e},X$=function(e){return en(e,"negative"),e},H$=function(e){if(vi(e,"pixelate"))return e;var t=gn(e);if(!t)return e;var r;return Object.defineProperty(e,"pixelate",{get:function(){return r},set:function(h){r!==h&&(r=h,r===null||r===!1?e._pixelateEffect&&(t.remove(e._pixelateEffect),e._pixelateEffect=void 0):(e._pixelateEffect||(e._pixelateEffect=t.addPixelate()),e._pixelateEffect.amount=r))}}),e.pixelate=null,nr(e,"pixelate"),e},$$=function(e){return en(e,"polaroid"),e},K$=function(e){if(vi(e,"revealLeft"))return e;var t=gn(e);if(!t)return e;var r,h,y,P,n=.1,T=function(){r=null,h=null,y=null,P=null},i=function(a){a._revealEffect&&(t.remove(a._revealEffect),a._revealEffect=void 0)};return Object.defineProperty(e,"revealLeft",{get:function(){return r},set:function(a){r!==a&&(T(),r=a,r===null||r===!1?i(e):(e._revealEffect||(e._revealEffect=t.addReveal(n,0,0)),e._revealEffect.direction=1,e._revealEffect.axis=0,e._revealEffect.progress=r))}}),Object.defineProperty(e,"revealRight",{get:function(){return h},set:function(a){h!==a&&(T(),h=a,h===null||h===!1?i(e):(e._revealEffect||(e._revealEffect=t.addReveal(n,0,0)),e._revealEffect.direction=0,e._revealEffect.axis=0,e._revealEffect.progress=h))}}),Object.defineProperty(e,"revealUp",{get:function(){return y},set:function(a){y!==a&&(T(),y=a,y===null||y===!1?i(e):(e._revealEffect||(e._revealEffect=t.addReveal(n,0,0)),e._revealEffect.direction=1,e._revealEffect.axis=1,e._revealEffect.progress=y))}}),Object.defineProperty(e,"revealDown",{get:function(){return P},set:function(a){P!==a&&(T(),P=a,P===null||P===!1?i(e):(e._revealEffect||(e._revealEffect=t.addReveal(n,0,0)),e._revealEffect.direction=0,e._revealEffect.axis=1,e._revealEffect.progress=P))}}),Object.defineProperty(e,"revealWidth",{get:function(){return n},set:function(a){n!==a&&(n=a,e._revealEffect&&(e._revealEffect.wipeWidth=n))}}),e.revealLeft=null,nr(e,"revealLeft"),nr(e,"revealRight"),nr(e,"revealUp"),nr(e,"revealDown"),e},Z$=function(e){return en(e,"saturate",1),e},J$=function(e){return en(e,"sepia"),e},Q$=function(e){if(vi(e,"shadowColor"))return e;var t=gn(e);if(!t)return e;var r,h=0,y=0,P=.1,n=1,T=6,i=1;return Object.defineProperty(e,"shadowColor",{get:function(){return r},set:function(a){r!==a&&(r=a,r===null||r===!1?e._shadow&&(t.remove(e._shadow),e._shadow=void 0):(e._shadow||(e._shadow=t.addShadow(h,y,P,n,r,T,i)),e._shadow.color=r))}}),Object.defineProperty(e,"shadowX",{get:function(){return h},set:function(a){h!==a&&(h=a,e._shadow&&(e._shadow.x=h))}}),Object.defineProperty(e,"shadowY",{get:function(){return y},set:function(a){y!==a&&(y=a,e._shadow&&(e._shadow.y=y))}}),Object.defineProperty(e,"decay",{get:function(){return P},set:function(a){P!==a&&(P=a,e._shadow&&(e._shadow.decay=P))}}),Object.defineProperty(e,"shadowPower",{get:function(){return n},set:function(a){n!==a&&(n=a,e._shadow&&(e._shadow.power=n))}}),Object.defineProperty(e,"shadowSamples",{get:function(){return T},set:function(a){T!==a&&(T=a,e._shadow&&(e._shadow.samples=T))}}),Object.defineProperty(e,"shadowIntensity",{get:function(){return i},set:function(a){i!==a&&(i=a,e._shadow&&(e._shadow.intensity=i))}}),e.shadowColor=null,nr(e,"shadowColor"),e},j$=function(e){return en(e,"shiftToBGR"),e},q$=function(e){if(vi(e,"shineSpeed"))return e;var t=gn(e);if(!t)return e;var r,h=.5,y=3;return Object.defineProperty(e,"shineSpeed",{get:function(){return r},set:function(P){r!==P&&(r=P,r===null||r===!1?e._shine&&(t.remove(e._shine),e._shine=void 0):(e._shine||(e._shine=t.addShine(r,h,y)),e._shine.speed=r))}}),Object.defineProperty(e,"shineLineWidth",{get:function(){return h},set:function(P){h!==P&&(h=P,e._shine&&(e._shine.lineWidth=h))}}),Object.defineProperty(e,"shineGradient",{get:function(){return y},set:function(P){y!==P&&(y=P,e._shine&&(e._shine.gradient=y))}}),e.shineSpeed=null,nr(e,"shineSpeed"),e},_$=function(e){return en(e,"technicolor"),e},tK=function(e){if(vi(e,"tiltShiftRadius"))return e;var t=gn(e);if(!t)return e;var r,h=1,y=.2,P=1,n=1,T=1;return Object.defineProperty(e,"tiltShiftRadius",{get:function(){return r},set:function(i){r!==i&&(r=i,r===null||r===!1?e._tiltShift&&(t.remove(e._tiltShift),e._tiltShift=void 0):(e._tiltShift||(e._tiltShift=t.addTiltShift(r,h,y,P,n,T)),e._tiltShift.radius=r))}}),Object.defineProperty(e,"tiltShiftAmount",{get:function(){return h},set:function(i){h!==i&&(h=i,e._tiltShift&&(e._tiltShift.amount=h))}}),Object.defineProperty(e,"tiltShiftContrast",{get:function(){return y},set:function(i){y!==i&&(y=i,e._tiltShift&&(e._tiltShift.contrast=y))}}),Object.defineProperty(e,"tiltShiftBlurX",{get:function(){return P},set:function(i){P!==i&&(P=i,e._tiltShift&&(e._tiltShift.blurX=P))}}),Object.defineProperty(e,"tiltShiftBlurY",{get:function(){return n},set:function(i){n!==i&&(n=i,e._tiltShift&&(e._tiltShift.blurY=n))}}),Object.defineProperty(e,"tiltShiftStrength",{get:function(){return T},set:function(i){T!==i&&(T=i,e._tiltShift&&(e._tiltShift.strength=T))}}),e.tiltShiftRadius=null,nr(e,"tiltShiftRadius"),e},eK=function(e){if(vi(e,"vignetteRadius"))return e;var t=gn(e);if(!t)return e;var r,h=.5,y=.5,P=.5;return Object.defineProperty(e,"vignetteRadius",{get:function(){return r},set:function(n){r!==n&&(r=n,r===null||r===!1?e._vignette&&(t.remove(e._vignette),e._vignette=void 0):(e._vignette||(e._vignette=t.addVignette(h,y,r,P)),e._vignette.radius=r))}}),Object.defineProperty(e,"vignetteX",{get:function(){return h},set:function(n){h!==n&&(h=n,e._vignette&&(e._vignette.x=h))}}),Object.defineProperty(e,"vignetteY",{get:function(){return y},set:function(n){y!==n&&(y=n,e._vignette&&(e._vignette.y=y))}}),Object.defineProperty(e,"vignetteStrength",{get:function(){return P},set:function(n){P!==n&&(P=n,e._vignette&&(e._vignette.strength=P))}}),e.vignetteRadius=null,nr(e,"vignetteRadius"),e},iK=function(e){return en(e,"vintagePinhole"),e},rK=function(e){if(vi(e,"wipeLeft"))return e;var t=gn(e);if(!t)return e;var r,h,y,P,n=.1,T=function(){r=null,h=null,y=null,P=null},i=function(a){a._wipeEffect&&(t.remove(a._wipeEffect),a._wipeEffect=void 0)};return Object.defineProperty(e,"wipeLeft",{get:function(){return r},set:function(a){r!==a&&(T(),r=a,r===null||r===!1?i(e):(e._wipeEffect||(e._wipeEffect=t.addWipe(n,0,0)),e._wipeEffect.direction=1,e._wipeEffect.axis=0,e._wipeEffect.progress=r))}}),Object.defineProperty(e,"wipeRight",{get:function(){return h},set:function(a){h!==a&&(T(),h=a,h===null||h===!1?i(e):(e._wipeEffect||(e._wipeEffect=t.addWipe(n,0,0)),e._wipeEffect.direction=0,e._wipeEffect.axis=0,e._wipeEffect.progress=h))}}),Object.defineProperty(e,"wipeUp",{get:function(){return y},set:function(a){y!==a&&(T(),y=a,y===null||y===!1?i(e):(e._wipeEffect||(e._wipeEffect=t.addWipe(n,0,0)),e._wipeEffect.direction=1,e._wipeEffect.axis=1,e._wipeEffect.progress=y))}}),Object.defineProperty(e,"wipeDown",{get:function(){return P},set:function(a){P!==a&&(T(),P=a,P===null||P===!1?i(e):(e._wipeEffect||(e._wipeEffect=t.addWipe(n,0,0)),e._wipeEffect.direction=0,e._wipeEffect.axis=1,e._wipeEffect.progress=P))}}),Object.defineProperty(e,"wipeWidth",{get:function(){return n},set:function(a){n!==a&&(n=a,e._wipeEffect&&(e._wipeEffect.wipeWidth=n))}}),e.wipeLeft=null,nr(e,"wipeLeft"),nr(e,"wipeRight"),nr(e,"wipeUp"),nr(e,"wipeDown"),e};const Fm={barrel:b$,blackWhite:w$,bloom:R$,blur:A$,bokeh:O$,brightness:L$,brown:F$,circle:D$,contrast:B$,desaturate:I$,desaturateLuminance:G$,displacement:k$,glow:N$,gradient:z$,grayscale:U$,hue:V$,kodachrome:W$,lsd:Y$,negative:X$,pixelate:H$,polaroid:$$,reveal:K$,saturate:Z$,sepia:J$,shadow:Q$,shiftToBGR:j$,shine:q$,technicolor:_$,tiltShift:tK,vignette:eK,vintagePinhole:iK,wipe:rK};var sd=function(e,t){if(t===void 0)t=!0;else if(typeof t=="string")t={config:!0};else if(Array.isArray(t))for(var r=t,t={},h=0,y=r.length;h<y;h++)t[r[h]]=!0;if(t===!0)for(var P in Fm)Fm[P](e);else for(var P in t)t[P]&&Fm[P]&&Fm[P](e);return e};const nK=Phaser.Utils.Array.Remove,sK={addGO(e,t){this.remove(e,!0),this.useTintFadeEffect(t)&&C$(t),this.viewportCoordinateEnable&&M$(t,this.viewport),this.effectPropertiesConfig&&sd(t,this.effectPropertiesConfig),t.setName(e).once("destroy",function(){nK(this.removedGOs,t),this.isEmpty&&this.emit("empty")},this);var r=new this.BobClass(this,t,e);return this.bobs[e]=r,this},add(e,...t){var r=this.createGameObjectCallback,h=this.createGameObjectScope,y=r.call(h,this.scene,...t);this.addGO(e,y),this.gameObjectDepth!=null&&y.setDepth(this.gameObjectDepth);var P=this.get(e);return this.fadeBob(P,0,1),this}},aK={remove(e,t){var r=this.get(e);if(r)Array.isArray(r)||(r=[r]);else return this;var h=this;return r.forEach(function(y){delete h.bobs[y.name];var P=y.gameObject;h.removedGOs.push(P),P.setName(),t?y.destroy():h.fadeBob(y,void 0,0,function(){y.destroy()})}),this},removeAll(){var e=this.bobs;for(var t in e)this.remove(t);return this},clear(e){e===void 0&&(e=!0);var t=this.bobs;for(var r in t)e&&t[r].destroy(),delete t[r];return this.removedGOs.length=0,this}},oK={hasProperty(e,t){var r=ru(e)?this.get(e):this.getFitst(e);return r?r.hasProperty(t):!1},getProperty(e,t){var r=ru(e)?this.get(e):this.getFitst(e);if(r)return r.getProperty(t)},isNumberProperty(e,t){var r=this.getProperty(e,t);return typeof r=="number"},setProperty(e,t,r){var h=this.get(e);if(h)Array.isArray(h)||(h=[h]);else return this;return this.symbols&&typeof r=="string"&&this.isNumberProperty(e,t)&&(r in this.symbols?r=this.symbols[r]:console.warn(`Can't find symbol ${r}`)),h.forEach(function(y){y.setProperty(t,r)}),this},easeProperty(e,t){var r=this.get(e);if(r)Array.isArray(r)||(r=[r]);else return this;var h=t.value,y=t.property;return this.symbols&&typeof h=="string"&&this.isNumberProperty(e,y)&&h in this.symbols&&(t.value=this.symbols[h]),r.forEach(function(P){P.easeProperty(t)}),this},hasTweenTask(e,t){var r=ru(e)?this.get(e):this.getFitst(e);return r?r.tweens.hasOwnProperty(t):!1},getTweenTask(e,t){var r=ru(e)?this.get(e):this.getFitst(e);return r&&r.tweens[t]||null}},hK={hasMethod(e,t){var r=ru(e)?this.get(e):this.getFitst(e);return r?r.hasMethod(t):!1},call(e,t,...r){var h=this.get(e);if(h)Array.isArray(h)||(h=[h]);else return this;return h.forEach(function(y){y.call(t,...r)}),this}},lK={hasData(e,t){var r=ru(e)?this.get(e):this.getFitst(e);return r?r.hasData(t):!1},getData(e,t){if(this.has(e))return this.get(e).getData(t)},setData(e,t,r){var h=this.get(e);if(h)Array.isArray(h)||(h=[h]);else return this;return h.forEach(function(y){y.setData(t,r)}),this}},CB=0,SB=1,ZE=2,TB=3,EB=4,JE=5,uK={tint:CB,alpha:SB,revealUp:ZE,revealDown:TB,revealLeft:EB,revealRight:JE},fK={setGOFadeMode(e){return typeof e=="string"&&(e=uK[e]),this.fadeMode=e,this},setGOFadeTime(e){return this.fadeTime=e,this},useTintFadeEffect(e){return(this.fadeMode===void 0||this.fadeMode===CB)&&this.fadeTime>0&&e.setTint!==void 0},useAlphaFadeEffect(e){return(this.fadeMode===void 0||this.fadeMode===SB)&&this.fadeTime>0&&e.setAlpha!==void 0},useRevealEffect(e){return this.fadeMode>=ZE&&this.fadeMode<=JE&&this.fadeTime>0&&(e.preFX||e.postFX)},fadeBob(e,t,r,h){var y=e.gameObject;if(this.useTintFadeEffect(y))t!==void 0&&e.setProperty("tintGray",255*t),e.easeProperty({property:"tintGray",value:Math.floor(255*r),duration:this.fadeTime,delay:0,ease:"Linear",repeat:0,yoyo:!1,from:!1,complete:h});else if(this.useAlphaFadeEffect(y))t!==void 0&&e.setProperty("alpha",t),e.easeProperty({property:"alpha",value:r,duration:this.fadeTime,delay:0,ease:"Linear",repeat:0,yoyo:!1,from:!1,complete:h});else if(this.useRevealEffect(y)){sd(y,"reveal");var P;switch(this.fadeMode){case ZE:P="revealUp";break;case TB:P="revealDown";break;case EB:P="revealLeft";break;case JE:P="revealRight";break}t===void 0&&(t=0),y[P]=t,e.easeProperty({property:P,value:r,duration:this.fadeTime,delay:0,ease:"Linear",repeat:0,yoyo:!1,from:!1,complete:h}),e.getTweenTask(P).once("complete",function(){y[P]=null})}else h&&h(y);return this}};var pi=function(e){return e.displayWidth!==void 0?e.displayWidth:e.width},gi=function(e){return e.displayHeight!==void 0?e.displayHeight:e.height};const jO=Phaser.Geom.Rectangle,Ka=Phaser.Math.Vector2,dK=Phaser.Math.RotateAround,cK=Phaser.GameObjects.Container;var LP=function(e,t){if(t===void 0?t=new jO:t===!0&&(C1===void 0&&(C1=new jO),t=C1),e.getBounds&&!(e instanceof cK))return e.getBounds(t);var r,h,y,P,n,T,i,a;if(e.parentContainer){var x=e.parentContainer.getBoundsTransformMatrix();nu(e,t),x.transformPoint(t.x,t.y,t),r=t.x,h=t.y,Ov(e,t),x.transformPoint(t.x,t.y,t),y=t.x,P=t.y,Lv(e,t),x.transformPoint(t.x,t.y,t),n=t.x,T=t.y,QE(e,t),x.transformPoint(t.x,t.y,t),i=t.x,a=t.y}else nu(e,t),r=t.x,h=t.y,Ov(e,t),y=t.x,P=t.y,Lv(e,t),n=t.x,T=t.y,QE(e,t),i=t.x,a=t.y;return t.x=Math.min(r,y,n,i),t.y=Math.min(h,P,T,a),t.width=Math.max(r,y,n,i)-t.x,t.height=Math.max(h,P,T,a)-t.y,t},C1=void 0,nu=function(e,t,r){return t===void 0?t=new Ka:t===!0&&(Rn===void 0&&(Rn=new Ka),t=Rn),e.getTopLeft?e.getTopLeft(t):(t.x=e.x-pi(e)*e.originX,t.y=e.y-gi(e)*e.originY,Yv(e,t,r))},Ov=function(e,t,r){return t===void 0?t=new Ka:t===!0&&(Rn===void 0&&(Rn=new Ka),t=Rn),e.getTopRight?e.getTopRight(t):(t.x=e.x-pi(e)*e.originX+pi(e),t.y=e.y-gi(e)*e.originY,Yv(e,t,r))},Lv=function(e,t,r){return t===void 0?t=new Ka:t===!0&&(Rn===void 0&&(Rn=new Ka),t=Rn),e.getBottomLeft?e.getBottomLeft(t):(t.x=e.x-pi(e)*e.originX,t.y=e.y-gi(e)*e.originY+gi(e),Yv(e,t,r))},QE=function(e,t,r){return t===void 0?t=new Ka:t===!0&&(Rn===void 0&&(Rn=new Ka),t=Rn),e.getBottomRight?e.getBottomRight(t):(t.x=e.x-pi(e)*e.originX+pi(e),t.y=e.y-gi(e)*e.originY+gi(e),Yv(e,t,r))},qO=function(e,t,r){t===void 0?t=new Ka:t===!0&&(Rn===void 0&&(Rn=new Ka),t=Rn);var h=pi(e),y=gi(e);return t.x=e.x+h*(.5-e.originX),t.y=e.y+y*(.5-e.originY),Yv(e,t,r)},Rn=void 0,Yv=function(e,t,r){if(r===void 0&&(r=!1),e.rotation!==0&&dK(t,e.x,e.y,e.rotation),r&&e.parentContainer){var h=e.parentContainer.getBoundsTransformMatrix();h.transformPoint(t.x,t.y,t)}return t};const Kc=Phaser.Utils.Objects.GetValue;var PB=function(e,t,r){var h,y,P,n,T;if(typeof r=="number"?h=r:(h=Kc(r,"color"),y=Kc(r,"lineWidth"),P=Kc(r,"fillColor"),n=Kc(r,"fillAlpha",1),T=Kc(r,"padding",0)),Array.isArray(e))for(var i=0,a=e.length;i<a;i++)_O(e[i],t,h,y,P,n,T);else _O(e,t,h,y,P,n,T)},_O=function(e,t,r,h,y,P,n){var T=e.getBounds||e.width!==void 0&&e.height!==void 0;if(T){r===void 0&&(r=16777215),h===void 0&&(h=1),y===void 0&&(y=null),P===void 0&&(P=1),n===void 0&&(n=0);var i=nu(e,Sf[0]);i.x-=n,i.y-=n;var a=Ov(e,Sf[1]);a.x+=n,a.y-=n;var x=QE(e,Sf[2]);x.x+=n,x.y+=n;var d=Lv(e,Sf[3]);d.x-=n,d.y+=n,y!==null&&t.fillStyle(y,P).fillPoints(Sf,!0,!0),r!==null&&t.lineStyle(h,r).strokePoints(Sf,!0,!0)}},Sf=[{x:0,y:0},{x:0,y:0},{x:0,y:0},{x:0,y:0}],vK=function(e,t){return this.forEachGO(function(r){r.drawBounds?r.drawBounds(e,t):PB(r,e,t)}),this},MB=function(e,t){var r=e.cameras,h;if(t===void 0)h=r.main;else{var y=typeof t;switch(y){case"string":h=r.getCamera(t);break;case"number":h=r.cameras[t];break;default:h=t;break}}return h};const pK={setCamera(e,t){var r=this.get(e);if(!r)return this;var h=MB(this.scene,t);return h?(r.gameObject.cameraFilter=4294967295^h.id,r.camera=h,this):this},getCamera(e){var t=this.get(e);return t?t.camera:null}};var bB={drawGameObjectsBounds:vK};Object.assign(bB,d$,sK,aK,oK,hK,lK,fK,pK);const gK=Phaser.Cameras.Scene2D.BaseCamera;var mK=function(e){return e instanceof gK};const wB=Phaser.Geom.Rectangle;var ad=function(e,t,r){return mK(t)||(r=t,t=void 0),r===void 0?r=new wB:r===!0&&(r=xK),t?e.scale.getViewPort(t,r):e.scale.getViewPort(r)},xK=new wB;const Nn=Phaser.Utils.Objects.GetValue;class ed{constructor(t,r){this.scene=t,this.BobClass=Nn(r,"BobClass",OP),this.setCreateGameObjectCallback(Nn(r,"createGameObject"),Nn(r,"createGameObjectScope")),this.setEventEmitter(Nn(r,"eventEmitter",void 0)),this.setGameObjectDepth(Nn(r,"depth",void 0));var h=Nn(r,"fade",500);typeof h=="number"?(this.setGOFadeMode(),this.setGOFadeTime(h)):(this.setGOFadeMode(Nn(h,"mode")),this.setGOFadeTime(Nn(h,"time",500)));var y=Nn(r,"viewportCoordinate",!1);y!==!1?(this.setViewportCoordinateEnable(Nn(r,"enable",!0)),this.setViewport(Nn(y,"viewport"))):this.setViewportCoordinateEnable(!1);var P=Nn(r,"effectProperties",!1);this.setEffectPropertiesConfig(P),this.setSymbols(Nn(r,"symbols")),this.bobs={},this.removedGOs=[],this._timeScale=1,this.name=Nn(r,"name")}destroy(t){this.clear(!t),this.createGameObjectCallback=void 0,this.viewport=void 0,this.scene=void 0}set timeScale(t){if(this._timeScale!==t){this._timeScale=t;var r=this.bobs;for(var h in r)r[h].setTimeScale(t)}}get timeScale(){return this._timeScale}setTimeScale(t){return this.timeScale=t,this}setCreateGameObjectCallback(t,r){return this.createGameObjectCallback=t,this.createGameObjectScope=r,this}setGameObjectDepth(t){return this.gameObjectDepth=t,this}setViewportCoordinateEnable(t){return t===void 0&&(t=!0),this.viewportCoordinateEnable=t,this}setEffectPropertiesConfig(t){return t===void 0&&(t=!0),this.effectPropertiesConfig=t,this}setViewport(t){return t===void 0&&(t=ad(this.scene,this.scene.cameras.main)),this.viewport=t,this}setSymbols(t){return this.symbols=t,this}get isEmpty(){return Wv(this.bobs)&&this.removedGOs.length===0}}Object.assign(ed.prototype,Vv,bB);const yK=Phaser.GameObjects.GameObject,CK=Phaser.GameObjects.Layer;var Vn=function(e){return e instanceof yK||e instanceof CK};const SK=Phaser.GameObjects.Layer;var Tv=function(e){return e instanceof SK},RB=function(e){var t=e.displayList;return Tv(t)?t:null},Is=function(e,t){if(e.length<=1)return e;t===void 0&&(t=!1);for(var r,h=0,y=e.length;h<y;h++){var P=e[h];if(P.displayList?r=P.displayList:P.parentContainer&&(r=P.parentContainer.list),r)break}return r||(r=P.scene.sys.displayList),r.depthSort&&(r.depthSort(),r=r.list),t?e.sort(function(n,T){return r.indexOf(T)-r.indexOf(n)}):e.sort(function(n,T){return r.indexOf(n)-r.indexOf(T)}),e};const TK={getLayer(e){return this.getGO(e)},getLayers(e){return e===void 0&&(e=[]),this.forEachGO(function(t){e.push(t)}),Is(e,!1),e},addToLayer(e,t){var r=this.getGO(e);if(!r){console.warn(`[LayerManager] Can't get layer "${e}"`);return}Array.isArray(t)||(t=[t]);for(var h=0,y=t.length;h<y;h++){var P=t[h];P.isRexContainerLite?P.addToLayer(r):r.add(P)}return r.scrollFactorX!==void 0&&P.setScrollFactor(r.scrollFactorX,r.scrollFactorY),this},addToBottomLayer(e){var t=this.getLayers()[0];return this.addToLayer(t.goName,e),this},addToTopLayer(e){var t=this.getLayers(),r=t[t.length-1];return this.addToLayer(r.goName,e),this},removeFromLayer(e,t,r){var h=this.getGO(e);if(!h){console.warn(`[LayerManager] Can't get layer "${e}"`);return}return r===void 0&&(r=!0),t.isRexContainerLite?t.removeFromLayer(h,r):(h.remove(t),r&&t.addToDisplayList()),this},clearLayer(e,t){t===void 0&&(t=!0);var r=this.getGO(e);if(!r){console.warn(`Can't get layer "${e}"`);return}if(t)for(var h=r.getAll(),y=0,P=h.length;y<P;y++)h[y].destroy();else r.removeAll();return this}},EK={setScrollFactor(e,t,r){r===void 0&&(r=t);var h=this.getLayer(e);if(!h)return this;h.scrollFactorX=t,h.scrollFactorY=r;for(var y=h.getAll(),P=0,n=y.length;P<n;P++)y[P].setScrollFactor(t,r);return this}},ax=Phaser.Utils.Array,PK=function(){var e;return this.parentContainer?e=this.parentContainer.list:this.displayList&&(e=this.displayList.list),e?(ax.BringToTop(e,this),this):this},MK=function(){var e;return this.parentContainer?e=this.parentContainer.list:this.displayList&&(e=this.displayList.list),e?(ax.SendToBack(e,this),this):this},AB=function(e){var t;return e.parentContainer?(t=e.parentContainer.list,t.indexOf(this)===-1&&e.parentContainer.add(this)):e.displayList&&(t=e.displayList.list,t.indexOf(this)===-1&&e.displayList.add(this)),t?(ax.MoveBelow(t,this,e),this):this},OB=function(e){var t;return e.parentContainer?(t=e.parentContainer.list,t.indexOf(this)===-1&&(e.isRexContainerLite?e.addToContainer(e.parentContainer):e.parentContainer.add(e))):e.displayList&&(t=e.displayList.list,t.indexOf(this)===-1&&(e.isRexContainerLite?e.addToLayer(e.displayList):e.displayList.add(e))),t?(ax.MoveAbove(t,this,e),this):this},Dm={bringMeToTop:PK,sendMeToBack:MK,moveMyDepthBelow:AB,moveMyDepthAbove:OB},bK={bringLayerToTop(e){var t=this.getLayer(e);return t?(Dm.bringMeToTop.call(t),this):this},sendLayerToBack(e){var t=this.getLayer(e);return t?(Dm.sendMeToBack.call(t),this):this},moveLayerBelow(e,t){if(e===t)return this;var r=this.getLayer(e),h=this.getLayer(t);return!r||!h?this:(Dm.moveMyDepthBelow.call(r,h),this)},moveLayerAbove(e,t){if(e===t)return this;var r=this.getLayer(e),h=this.getLayer(t);return!r||!h?this:(Dm.moveMyDepthAbove.call(r,h),this)}},wK=ed.prototype.setCamera,RK={setCamera(e,t){var r=MB(this.scene,t);return r||(r=this.scene.cameras.add(void 0,void 0,void 0,void 0,!1,t)),wK.call(this,e,r),this}};var LB={};Object.assign(LB,TK,EK,bK,RK);const Bm=Phaser.Utils.Objects.GetValue;class ox extends ed{constructor(t,r){r===void 0?r={}:Array.isArray(r)&&(r={layers:r}),r.hasOwnProperty("fade")||(r.fade=0),r.viewportCoordinate=!1,super(t,r);var h=Bm(r,"rootLayer");this.setRootLayer(h);var y=Bm(r,"layers");if(y)for(var P=0,n=y.length;P<n;P++){var T=y[P];if(typeof T=="string")this.add(T);else{var i=T.name;this.add(i);var a=T.scrollFactor,x=Bm(T,"scrollFactorX",a),d=Bm(T,"scrollFactorY",a);x!==void 0&&this.setScrollFactor(i,x,d),this.setCamera(i,T.cameraName)}}}setCreateGameObjectCallback(t,r){return t||(t=AK),super.setCreateGameObjectCallback(t,r),this}setRootLayer(t){if(t===this.rootLayer)return this;var r=this.getAllGO();return t?t.add(r):this.scene.displayList.add(r),this.rootLayer=t,this}addGO(t,r){return super.addGO(t,r),r.name=t,this.rootLayer&&this.rootLayer.add(r),this}get(t,r){if(Vn(t)){var h=RB(t);if(!h||(t=h.name,!t))return}return super.get(t,r)}}var AK=function(e,t){var r=e.add.layer();return t!==void 0&&r.setDepth(t),r};Object.assign(ox.prototype,LB);var OK=function(e){return au(e)?e.sys.sound:e.sound},LK=function(e){return this.sound.game.cache.audio.has(e)},od=function(e){return e==null||typeof e!="object"?null:au(e)?e:e.scene&&au(e.scene)?e.scene:e.parent&&e.parent.scene&&au(e.parent.scene)?e.parent.scene:null};const FK=Phaser.Utils.Objects.GetValue;class Hi{constructor(t,r){this.setParent(t),this.isShutdown=!1,this.setEventEmitter(FK(r,"eventEmitter",!0)),this.parent&&(this.parent===this.scene?this.scene.sys.events.once("shutdown",this.onEnvDestroy,this):this.parent===this.game?this.game.events.once("shutdown",this.onEnvDestroy,this):this.parent.once&&this.parent.once("destroy",this.onParentDestroy,this))}shutdown(t){this.isShutdown||(this.parent&&(this.parent===this.scene?this.scene.sys.events.off("shutdown",this.onEnvDestroy,this):this.parent===this.game?this.game.events.off("shutdown",this.onEnvDestroy,this):this.parent.once&&this.parent.off("destroy",this.onParentDestroy,this)),this.destroyEventEmitter(),this.parent=void 0,this.scene=void 0,this.game=void 0,this.isShutdown=!0)}destroy(t){this.shutdown(t)}onEnvDestroy(){this.destroy(!0)}onParentDestroy(t,r){this.destroy(r)}setParent(t){return this.parent=t,this.scene=od(t),this.game=hu(t),this}}Object.assign(Hi.prototype,Vv);const DK=Phaser.Utils.Objects.GetValue;class hx extends Hi{constructor(t,r){super(t,r),this._isRunning=!1,this.isPaused=!1,this.tickingState=!1,this.setTickingMode(DK(r,"tickingMode",1))}boot(){this.tickingMode===2&&!this.tickingState&&this.startTicking()}shutdown(t){this.isShutdown||(this.stop(),this.tickingState&&this.stopTicking(),super.shutdown(t))}setTickingMode(t){typeof t=="string"&&(t=BK[t]),this.tickingMode=t}startTicking(){this.tickingState=!0}stopTicking(){this.tickingState=!1}get isRunning(){return this._isRunning}set isRunning(t){this._isRunning!==t&&(this._isRunning=t,this.tickingMode===1&&t!=this.tickingState&&(t?this.startTicking():this.stopTicking()))}start(){return this.isPaused=!1,this.isRunning=!0,this}pause(){return this.isRunning&&(this.isPaused=!0,this.isRunning=!1),this}resume(){return this.isPaused&&(this.isPaused=!1,this.isRunning=!0),this}stop(){return this.isPaused=!1,this.isRunning=!1,this}complete(){this.isPaused=!1,this.isRunning=!1,this.emit("complete",this.parent,this)}}const BK={no:0,lazy:1,always:2},IK=Phaser.Utils.Objects.GetValue;class GK extends hx{constructor(t,r){super(t,r);var h=this.scene?"update":"step";this.tickEventName=IK(r,"tickEventName",h),this.isSceneTicker=!kK(this.tickEventName)}startTicking(){super.startTicking(),this.isSceneTicker?this.scene.sys.events.on(this.tickEventName,this.update,this):this.game.events.on(this.tickEventName,this.update,this)}stopTicking(){super.stopTicking(),this.isSceneTicker&&this.scene?this.scene.sys.events.off(this.tickEventName,this.update,this):this.game&&this.game.events.off(this.tickEventName,this.update,this)}}var kK=function(e){return e==="step"||e==="poststep"};const wo=Phaser.Utils.Objects.GetValue,tL=Phaser.Math.Clamp;let FB=class{constructor(t){this.resetFromJSON(t)}resetFromJSON(t){this.state=wo(t,"state",Zc),this.timeScale=wo(t,"timeScale",1),this.delay=wo(t,"delay",0),this.repeat=wo(t,"repeat",0),this.repeatCounter=wo(t,"repeatCounter",0),this.repeatDelay=wo(t,"repeatDelay",0),this.duration=wo(t,"duration",0),this.nowTime=wo(t,"nowTime",0),this.justRestart=wo(t,"justRestart",!1)}toJSON(){return{state:this.state,timeScale:this.timeScale,delay:this.delay,repeat:this.repeat,repeatCounter:this.repeatCounter,repeatDelay:this.repeatDelay,duration:this.duration,nowTime:this.nowTime,justRestart:this.justRestart}}destroy(){}setTimeScale(t){return this.timeScale=t,this}setDelay(t){return t===void 0&&(t=0),this.delay=t,this}setDuration(t){return this.duration=t,this}setRepeat(t){return this.repeat=t,this}setRepeatInfinity(){return this.repeat=-1,this}setRepeatDelay(t){return this.repeatDelay=t,this}start(){return this.nowTime=this.delay>0?-this.delay:0,this.state=this.nowTime>=0?Tf:Jc,this.repeatCounter=0,this}stop(){return this.state=Zc,this}update(t,r){this.state===Zc||this.state===Im||r===0||this.timeScale===0||(this.nowTime+=r*this.timeScale,this.justRestart=!1,this.nowTime>=this.duration?this.repeat===-1||this.repeatCounter<this.repeat?(this.repeatCounter++,this.justRestart=!0,this.nowTime-=this.duration,this.repeatDelay>0&&(this.nowTime-=this.repeatDelay,this.state=eL)):(this.nowTime=this.duration,this.state=Im):this.nowTime>=0&&(this.state=Tf))}get t(){var t;switch(this.state){case Zc:case Jc:case eL:t=0;break;case Tf:t=this.nowTime/this.duration;break;case Im:t=1;break}return tL(t,0,1)}set t(t){t=tL(t,-1,1),t<0?(this.state=Jc,this.nowTime=-this.delay*t):(this.state=Tf,this.nowTime=this.duration*t,t===1&&this.repeat!==0&&this.repeatCounter++)}setT(t){return this.t=t,this}get isIdle(){return this.state===Zc}get isDelay(){return this.state===Jc}get isCountDown(){return this.state===Tf}get isRunning(){return this.state===Jc||this.state===Tf}get isDone(){return this.state===Im}get isOddIteration(){return(this.repeatCounter&1)===1}get isEvenIteration(){return(this.repeatCounter&1)===0}};const Zc=0,Jc=1,Tf=2,eL=3,Im=-1;class NK extends GK{constructor(t,r){super(t,r),this.timer=new FB}shutdown(t){this.isShutdown||(super.shutdown(t),this.timer.destroy(),this.timer=void 0)}start(){return this.timer.start(),super.start(),this}stop(){return this.timer.stop(),super.stop(),this}complete(){return this.timer.stop(),super.complete(),this}}const Qc=Phaser.Utils.Objects.GetValue,iL=Phaser.Utils.Objects.GetAdvancedValue,zK=Phaser.Tweens.Builders.GetEaseFunction;class cu extends NK{resetFromJSON(t){return this.timer.resetFromJSON(Qc(t,"timer")),this.setEnable(Qc(t,"enable",!0)),this.setTarget(Qc(t,"target",this.parent)),this.setDelay(iL(t,"delay",0)),this.setDuration(iL(t,"duration",1e3)),this.setEase(Qc(t,"ease","Linear")),this.setRepeat(Qc(t,"repeat",0)),this}setEnable(t){return t==null&&(t=!0),this.enable=t,this}setTarget(t){return t===void 0&&(t=this.parent),this.target=t,this}setDelay(t){return this.delay=t,this}setDuration(t){return this.duration=t,this}setRepeat(t){return this.repeat=t,this}setRepeatDelay(t){return this.repeatDelay=t,this}setEase(t){return t===void 0&&(t="Linear"),this.ease=t,this.easeFn=zK(t),this}start(){return this.timer.isRunning?this:(super.start(),this)}restart(){return this.timer.stop(),this.start.apply(this,arguments),this}stop(t){return t===void 0&&(t=!1),super.stop(),t&&(this.timer.setT(1),this.updateTarget(this.target,this.timer),this.complete()),this}update(t,r){if(!this.isRunning||!this.enable||this.parent.hasOwnProperty("active")&&!this.parent.active)return this;var h=this.target,y=this.timer;return y.update(t,r),y.isDelay||this.updateTarget(h,y),this.emit("update",h,this),y.isDone&&this.complete(),this}updateTarget(t,r){}}const UK=Phaser.Sound.BaseSound;var FP=function(e){return e instanceof UK};const rL=Phaser.Utils.Objects.GetValue,nL=Phaser.Utils.Objects.GetAdvancedValue,VK=Phaser.Math.Linear;let DB=class extends cu{constructor(t,r,h){FP(t)&&(h=r,r=t,t=void 0),r.active=!0,r.scene=t,r.game=r.manager.game,super(r,h),this.volume={},this.resetFromJSON(h)}resetFromJSON(t){return super.resetFromJSON(t),this.setMode(rL(t,"mode",0)),this.setEnable(rL(t,"enable",!0)),this.setVolumeRange(nL(t,"volume.start",this.parent.volume),nL(t,"volume.end",0)),this}setMode(t){return typeof t=="string"&&(t=WK[t]),this.mode=t,this}setVolumeRange(t,r){return this.volume.start=t,this.volume.end=r,this}start(){return this.timer.isRunning?this:(this.parent.setVolume(this.volume.start),this.timer.setDelay(this.delay).setDuration(this.duration),super.start(),this)}updateTarget(t,r){t.volume=VK(this.volume.start,this.volume.end,r.t)}complete(){switch(super.complete(),this.mode){case 1:this.parent.stop();break;case 2:this.parent.stop(),this.parent.destroy();break}return this}};const WK={stop:1,destroy:2};var lx=function(e,t,r,h,y){FP(e)&&(y=h,h=r,r=t,t=e,e=void 0),h===void 0&&(h=1),y===void 0&&(y=0);var P={mode:0,volume:{start:y,end:h},duration:r};typeof t=="string"&&(t=e.sys.sound.add(t));var n;return t.hasOwnProperty("_fade")?(n=t._fade,n.stop().resetFromJSON(P)):(n=new DB(e,t,P),t._fade=n),n.start(),t.isPlaying||t.setVolume(y).play(),t},id=function(e,t,r,h){FP(e)&&(h=r,r=t,t=e,e=void 0),h===void 0&&(h=!0);var y={mode:h?2:1,volume:{start:t.volume,end:0},duration:r},P;return t.hasOwnProperty("_fade")?(P=t._fade,P.stop().resetFromJSON(y)):(P=new DB(e,t,y),t._fade=P),P.start(),t.isPlaying||t.play(),t};const jc=Phaser.Utils.Objects.GetValue,YK={setBackgroundMusicLoop(e){return e===void 0&&(e=!0),this.backgroundMusicLoop=e,this},setBackgroundMusicFadeTime(e){return this.backgroundMusicFadeTime=e,this},getBackgroundMusic(){return this.backgroundMusic},setCurrentBackgroundMusic(e){return this.backgroundMusic=e,e&&(e.once("complete",function(){this.backgroundMusic===e&&(this.backgroundMusic.destroy(),this.backgroundMusic=void 0)},this).once("destroy",function(){this.backgroundMusic===e&&(this.backgroundMusic=void 0)},this),e.isPlaying||e.play()),this},playBackgroundMusic(e,t){if(!this.hasAudio(e))return console.error(`[Sound manager] Audio key'${e}' is not existed`),this;if(this.backgroundMusic&&this.backgroundMusic.key===e)return this;this.stopBackgroundMusic();var r=this.sound.add(e,{loop:jc(t,"loop",this.backgroundMusicLoop),mute:jc(t,"mute",this.backgroundMusicMute),volume:jc(t,"volume",this.backgroundMusicVolume),detune:jc(t,"detune",0),rate:jc(t,"rate",1)});return this.setCurrentBackgroundMusic(r),this.backgroundMusicFadeTime>0&&this.fadeInBackgroundMusic(this.backgroundMusicFadeTime),this},pauseBackgroundMusic(){return this.backgroundMusic&&this.backgroundMusic.pause(),this},resumeBackgroundMusic(){return this.backgroundMusic&&this.backgroundMusic.resume(),this},stopBackgroundMusic(){return this.backgroundMusic&&(this.backgroundMusicFadeTime>0?this.fadeOutBackgroundMusic(this.backgroundMusicFadeTime,!0):(this.backgroundMusic.stop(),this.backgroundMusic.destroy(),this.backgroundMusic=void 0)),this},fadeInBackgroundMusic(e){return this.backgroundMusic&&lx(this.backgroundMusic,e,this.backgroundMusicVolume,0),this},fadeOutBackgroundMusic(e,t){return this.backgroundMusic&&id(this.backgroundMusic,e,t),this},crossFadeBackgroundMusic(e,t){if(!this.hasAudio(e))return console.error(`[Sound manager] Audio key'${e}' is not existed`),this;var r=this.backgroundMusicFadeTime;return this.backgroundMusicFadeTime=0,this.fadeOutBackgroundMusic(t,!0).playBackgroundMusic(e).fadeInBackgroundMusic(t),this.backgroundMusicFadeTime=r,this},setBackgroundMusicMute(e){return e===void 0&&(e=!0),this.backgroundMusicMute=e,this},setBackgroundMusicVolume(e){return this.backgroundMusicVolume=e,this},setBackgroundMusicRate(e){return this.backgroundMusic&&this.backgroundMusic.setRate(e),this},setBackgroundMusicDetune(e){return this.backgroundMusic&&this.backgroundMusic.setDetune(e),this}},qc=Phaser.Utils.Objects.GetValue,XK={setBackgroundMusic2Loop(e){return e===void 0&&(e=!0),this.backgroundMusic2Loop=e,this},setBackgroundMusic2FadeTime(e){return this.backgroundMusic2FadeTime=e,this},getBackgroundMusic2(){return this.backgroundMusic2},setCurrentBackgroundMusic2(e){return this.backgroundMusic2=e,e&&(e.once("complete",function(){this.backgroundMusic2===e&&(this.backgroundMusic2.destroy(),this.backgroundMusic2=void 0)},this).once("destroy",function(){this.backgroundMusic2===e&&(this.backgroundMusic2=void 0)},this),e.isPlaying||e.play()),this},playBackgroundMusic2(e,t){if(!this.hasAudio(e))return console.error(`[Sound manager] Audio key'${e}' is not existed`),this;if(this.backgroundMusic2&&this.backgroundMusic2.key===e)return this;this.stopBackgroundMusic2();var r=this.sound.add(e,{loop:qc(t,"loop",this.backgroundMusicLoop),mute:qc(t,"mute",this.backgroundMusic2Mute),volume:qc(t,"volume",this.backgroundMusic2Volume),detune:qc(t,"detune",0),rate:qc(t,"rate",1)});return this.setCurrentBackgroundMusic2(r),this.backgroundMusic2FadeTime>0&&this.fadeInBackgroundMusic2(this.backgroundMusic2FadeTime),this},pauseBackgroundMusic2(){return this.backgroundMusic2&&this.backgroundMusic2.pause(),this},resumeBackgroundMusic2(){return this.backgroundMusic2&&this.backgroundMusic2.resume(),this},stopBackgroundMusic2(){return this.backgroundMusic2&&(this.backgroundMusic2FadeTime>0?this.fadeOutBackgroundMusic2(this.backgroundMusic2FadeTime,!0):(this.backgroundMusic2.stop(),this.backgroundMusic2.destroy(),this.backgroundMusic2=void 0)),this},fadeInBackgroundMusic2(e){return this.backgroundMusic2&&lx(this.backgroundMusic2,e,this.backgroundMusic2Volume,0),this},fadeOutBackgroundMusic2(e,t){return this.backgroundMusic2&&id(this.backgroundMusic2,e,t),this},crossFadeBackgroundMusic2(e,t){if(!this.hasAudio(e))return console.error(`[Sound manager] Audio key'${e}' is not existed`),this;var r=this.backgroundMusic2FadeTime;return this.backgroundMusic2FadeTime=0,this.fadeOutBackgroundMusic2(t,!0).playBackgroundMusic2(e).fadeInBackgroundMusic2(t),this.backgroundMusic2FadeTime=r,this},setBackgroundMusic2Mute(e){return e===void 0&&(e=!0),this.backgroundMusic2Mute=e,this},setBackgroundMusic2Volume(e){return this.backgroundMusic2Volume=e,this},setBackgroundMusic2Rate(e){return this.backgroundMusic2&&this.backgroundMusic2.setRate(e),this},setBackgroundMusic2Detune(e){return this.backgroundMusic2&&this.backgroundMusic2.setDetune(e),this}},sL=Phaser.Utils.Array.Remove,Gm=Phaser.Utils.Objects.GetValue,HK={getSoundEffects(){return this.soundEffects},getLastSoundEffect(){return this.soundEffects[this.soundEffects.length-1]},playSoundEffect(e,t){if(!this.hasAudio(e))return console.error(`[Sound manager] Audio key'${e}' is not existed`),this;var r=this.sound.add(e,{mute:Gm(t,"mute",this.soundEffectsMute),volume:Gm(t,"volume",this.soundEffectsVolume),detune:Gm(t,"detune",0),rate:Gm(t,"rate",1)});return this.soundEffects.push(r),r.once("complete",function(){r.destroy(),this.sound&&sL(this.soundEffects,r)},this).once("destroy",function(){this.sound&&sL(this.soundEffects,r)},this).play(),this},stopAllSoundEffects(){for(var e=this.soundEffects.length-1;e>=0;e--){var t=this.soundEffects[e];t.stop(),t.destroy()}return this},fadeInSoundEffect(e){var t=this.getLastSoundEffect();return t&&lx(t,e,this.soundEffectsVolume,0),this},fadeOutSoundEffect(e,t){var r=this.getLastSoundEffect();return r&&id(r,e,t),this},fadeOutAllSoundEffects(e,t){for(var r=this.soundEffects.length-1;r>=0;r--)id(this.soundEffects[r],e,t);return this},setSoundEffectMute(e,t){if(e===void 0&&(e=!0),t===void 0&&(t=!1),t){var r=this.getLastSoundEffect();r&&r.setMute(e)}else this.soundEffectsMute=e;return this},setSoundEffectVolume(e,t){if(t===void 0&&(t=!1),t){var r=this.getLastSoundEffect();r&&r.setVolume(e)}else this.soundEffectsVolume=e;return this},setSoundEffectDetune(e,t){t===void 0&&(t=!1);var r;t?r=[this.getLastSoundEffect()]:r=this.soundEffects;for(var h=0,y=r.length;h<y;h++)r[h].setDetune(e);return this},setSoundEffectRate(e,t){t===void 0&&(t=!1);var r;t?r=[this.getLastSoundEffect()]:r=this.soundEffects;for(var h=0,y=r.length;h<y;h++)r[h].setRate(e);return this}},aL=Phaser.Utils.Array.Remove,km=Phaser.Utils.Objects.GetValue,$K={getSoundEffects2(){return this.soundEffects2},getLastSoundEffect2(){return this.soundEffects2[this.soundEffects2.length-1]},playSoundEffect2(e,t){if(!this.hasAudio(e))return console.error(`[Sound manager] Audio key'${e}' is not existed`),this;var r=this.sound.add(e,{mute:km(t,"mute",this.soundEffects2Mute),volume:km(t,"volume",this.soundEffects2Volume),detune:km(t,"detune",0),rate:km(t,"rate",1)});return this.soundEffects2.push(r),r.once("complete",function(){r.destroy(),this.sound&&aL(this.soundEffects2,r)},this).once("destroy",function(){this.sound&&aL(this.soundEffects2,r)},this).play(),this},stopAllSoundEffects2(){for(var e=this.soundEffects.length-1;e>=0;e--){var t=this.soundEffects[e];t.stop(),t.destroy()}return this},fadeInSoundEffect2(e){var t=this.getLastSoundEffect2();return t&&lx(t,e,this.soundEffects2Volume,0),this},fadeOutSoundEffect2(e,t){var r=this.getLastSoundEffect2();return r&&id(r,e,t),this},fadeOutAllSoundEffects2(e,t){for(var r=this.soundEffects2.length-1;r>=0;r--)id(this.soundEffects2[r],e,t);return this},setSoundEffect2Mute(e,t){if(e===void 0&&(e=!0),t===void 0&&(t=!1),t){var r=this.getLastSoundEffect2();r&&r.setMute(e)}else this.soundEffects2Mute=e;return this},setSoundEffect2Volume(e,t){if(t===void 0&&(t=!1),t){var r=this.getLastSoundEffect2();r&&r.setVolume(e)}else this.soundEffects2Volume=e;return this},setSoundEffect2Detune(e,t){t===void 0&&(t=!1);var r;t?r=[this.getLastSoundEffect2()]:r=this.soundEffects2;for(var h=0,y=r.length;h<y;h++)r[h].setDetune(e);return this},setSoundEffect2Rate(e,t){t===void 0&&(t=!1);var r;t?r=[this.getLastSoundEffect2()]:r=this.soundEffects2;for(var h=0,y=r.length;h<y;h++)r[h].setRate(e);return this}};var BB={hasAudio:LK};Object.assign(BB,YK,XK,HK,$K);const ws=Phaser.Utils.Objects.GetValue;class IB{constructor(t,r){this.sound=OK(t),this.backgroundMusic=void 0,this._backgroundMusicVolume=ws(r,"bgm.volume",1),this._backgroundMusicMute=ws(r,"bgm.mute",!1),this.setBackgroundMusicLoop(ws(r,"bgm.loop",!0)),this.setBackgroundMusicFadeTime(ws(r,"bgm.fade",500)),this.backgroundMusic2=void 0,this._backgroundMusic2Volume=ws(r,"bgm2.volume",1),this._backgroundMusic2Mute=ws(r,"bgm2.mute",!1),this.setBackgroundMusic2Loop(ws(r,"bgm2.loop",!0)),this.setBackgroundMusic2FadeTime(ws(r,"bgm2.fade",500)),this.soundEffects=[],this._soundEffectsVolume=ws(r,"soundEffect.volume",1),this.soundEffects2=[],this._soundEffects2Volume=ws(r,"soundEffect2.volume",1);var h=ws(r,"bgm.initial",void 0);h&&this.setCurrentBackgroundMusic(h);var y=ws(r,"bgm2.initial",void 0);y&&this.setCurrentBackgroundMusic2(y)}destroy(){if(this.backgroundMusic&&this.backgroundMusic.destroy(),this.backgroundMusic=void 0,this.backgroundMusic2&&this.backgroundMusic2.destroy(),this.backgroundMusic2=void 0,this.soundEffects.length)for(var t=this.soundEffects.length-1;t>=0;t--)this.soundEffects[t].destroy();if(this.soundEffects.length=0,this.soundEffects2.length)for(var t=this.soundEffects2.length-1;t>=0;t--)this.soundEffects2[t].destroy();return this.soundEffects2.length=0,this.sound=void 0,this}get backgroundMusicMute(){return this._backgroundMusicMute}set backgroundMusicMute(t){this._backgroundMusicMute=t,this.backgroundMusic&&this.backgroundMusic.setMute(mute)}get backgroundMusicVolume(){return this._backgroundMusicVolume}set backgroundMusicVolume(t){this._backgroundMusicVolume=t,this.backgroundMusic&&this.backgroundMusic.setVolume(t)}get backgroundMusic2Mute(){return this._backgroundMusic2Mute}set backgroundMusic2Mute(t){this._backgroundMusic2Mute=t,this.backgroundMusic2&&this.backgroundMusic2.setMute(mute)}get backgroundMusic2Volume(){return this._backgroundMusic2Volume}set backgroundMusic2Volume(t){this._backgroundMusic2Volume=t,this.backgroundMusic2&&this.backgroundMusic2.setVolume(t)}get soundEffectsMute(){return this._soundEffectsMute}set soundEffectsMute(t){this._soundEffectsMute=t;for(var r=this.soundEffects,h=0,y=r.length;h<y;h++)r[h].setMute(t)}get soundEffectsVolume(){return this._soundEffectsVolume}set soundEffectsVolume(t){this._soundEffectsVolume=t;for(var r=this.soundEffects,h=0,y=r.length;h<y;h++)r[h].setVolume(t)}get soundEffects2Mute(){return this._soundEffects2Mute}set soundEffects2Mute(t){this._soundEffects2Mute=t;for(var r=this.soundEffects,h=0,y=soundEffects2.length;h<y;h++)r[h].setMute(t)}get soundEffects2Volume(){return this._soundEffects2Volume}set soundEffects2Volume(t){this._soundEffects2Volume=t;for(var r=this.soundEffects2,h=0,y=r.length;h<y;h++)r[h].setVolume(t)}}Object.assign(IB.prototype,BB);const S1=Phaser.Utils.Objects.GetValue;class KK extends hx{constructor(t,r){super(t,r),this.resetFromJSON(r),this.boot()}resetFromJSON(t){return this.isRunning=S1(t,"isRunning",!1),this.timeScale=S1(t,"timeScale",1),this.now=S1(t,"now",0),this}toJSON(){return{isRunning:this.isRunning,timeScale:this.timeScale,now:this.now,tickingMode:this.tickingMode}}start(t){return t===void 0&&(t=0),this.delta=0,this.now=t,super.start(),this}seek(t){return this.now=t,this}setTimeScale(t){return this.timeScale=t,this}tick(t){return t*=this.timeScale,this.now+=t,this.delta=t,this.emit("update",this.now,this.delta),this}}class GB extends KK{startTicking(){super.startTicking(),this.scene.sys.events.on("update",this.update,this)}stopTicking(){super.stopTicking(),this.scene&&this.scene.sys.events.off("update",this.update,this)}update(t,r){return!this.isRunning||this.timeScale===0?this:(this.tick(r),this)}}var Bi=function(e,t){return t===void 0&&(t=.5),e<=t?e=e/t:e=1-(e-t)/(1-t),e};const oL=Phaser.Math.Clamp;class ZK{constructor(t,r){this.setTimeline(t).reset(r)}setTimeline(t){return this.timeline=t,this}setName(t){return this.name=t,this}setCallbacks(t,r,h,y){return this.target=t,this.onStart=r,this.onProgress=h,this.onComplete=y,this}setDuration(t,r){return r===void 0&&(r=!1),this.duration=t,this.remainder=t,this.t=0,this.yoyo=r,this}setPaused(t){return this.isPaused=t,this}pause(){return this.isPaused=!0,this}resume(){return this.isPaused=!1,this}setRemoved(t){return this.removed=t,this}remove(){return this.removed=!0,this}seek(t){return this.remainder=this.duration*(1-t),this}reset(t){return this.setName(t.name).setDuration(t.duration,t.yoyo).setCallbacks(t.target,t.onStart,t.onProgress,t.onComplete).setPaused(!1).setRemoved(!1),this}onFree(){this.setTimeline().setCallbacks()}getProgress(){var t=1-this.remainder/this.duration;return t=oL(t,0,1),this.yoyo&&(t=Bi(t)),t}setProgress(t){t=oL(t,0,1),this.remainder=this.duration*(1-t)}runCallback(t){t&&t(this.target,this.t,this)}update(t,r){if(this.removed)return!0;if(this.isPaused)return!1;this.remainder-=r,this.t=this.getProgress(),this.runCallback(this.onProgress);var h=this.remainder<=0;return h&&this.runCallback(this.onComplete),h}}let JK=class extends $a{allocate(){return this.pop()}free(t){t.onFree(),this.push(t)}freeMultiple(t){for(var r=0,h=t.length;r<h;r++)this.free(t[r]);return this}};const QK=Phaser.Utils.Objects.GetValue,jK=new JK;class qK extends GB{constructor(t,r){super(t,r),this.addedTimers=[],this.timers=[],this.timerPool=QK(r,"pool",jK)}shutdown(){this.isShutdown||(this.timerPool.freeMultiple(this.addedTimers).freeMultiple(this.timers),this.timerPool=void 0,this.addedTimers=void 0,this.timers=void 0,super.shutdown())}addTimer(t){var r=this.timerPool.allocate();return r?r.setTimeline(this).reset(t):r=new ZK(this,t),this.addedTimers.push(r),r.runCallback(r.onStart),this.isRunning||this.start(),r}delayCall(t,r,h,y){var P=this.addTimer({duration:t,onComplete:function(n,T,i){h===void 0&&(h=[]),h.push(i),r.apply(y,h)}});return P}delayEvent(t,r){this.removeDelayEvent(r);var h=this.delayCall(t,function(){this.removeDelayEvent(r),this.emit(r)},[],this);return this.once(`_remove.${r}`,function(){h.remove(),h=void 0}),this}removeDelayEvent(t){return this.emit(`_remove.${t}`),this}getTimers(t){for(var r=[],h=[this.addedTimers,this.timers],y=0,P=h.length;y<P;y++)for(var n=h[y],T=0,i=n.length;T<i;T++){var a=n[T];a.name===t&&r.push(a)}return r}update(t,r){if(super.update(t,r),!!this.isRunning){this.timers.push(...this.addedTimers),this.addedTimers.length=0;for(var h=[],y=0,P=this.timers.length;y<P;y++){var n=this.timers[y],T=n.update(this.now,this.delta);T?this.timerPool.free(n):h.push(n)}this.timers=h,this.timers.length===0&&this.addedTimers.length===0&&this.complete()}}}const _K="_wait.complete",tZ="_remove.wait";var eZ=function(e,t,r,h,y){var P=od(e),n=P.time.delayedCall(t,function(){P.sys.events.once("preupdate",function(){r.call(h,y)})});return n};let kB=class{constructor(t){t||(this.setEventEmitter(!0),t=this),this.parent=t,this.waitId=0,this.waitCompleteEventName=_K,this.removeWaitEventsEventName=tZ}destroy(){this.removeWaitEvents(),this.clearWaitCompleteCallbacks(),this.parent=null}waitEvent(t,r,h){var y=this.getWaitCompleteTriggerCallback(h);return t.once(r,y,this),this.parent.once(this.removeWaitEventsEventName,function(){t.off(r,y,this)}),this.parent}getWaitCompleteTriggerCallback(t){t===void 0&&(t=!0);var r=this.waitId,h=this,y=function(){r<h.waitId||(h.waitId++,h.removeWaitEvents(),h.parent.emit(h.waitCompleteEventName))};if(t){var P=function(){eZ(h.parent,0,y)};return P}else return y}removeWaitEvents(){return this.parent.emit(this.removeWaitEventsEventName),this}addWaitCompleteCallback(t,r){return this.parent.on(this.waitCompleteEventName,t,r),this}clearWaitCompleteCallbacks(){return this.parent.off(this.waitCompleteEventName),this}};Object.assign(kB.prototype,Vv);const iZ={waitTime(e){var t=this.parent.timeline;return t.delayEvent(e,"delay"),this.parent.once(this.removeWaitEventsEventName,function(){t.removeDelayEvent("delay")}),this.waitEvent(t,"delay")}};var rZ=function(e,t){var r=`(?<!\\\\)\\${t}`,h=`\\${t}`;return e.split(new RegExp(r,"g")).map(function(y){return y.replace(h,t)})};const nZ={setClickTarget(e){return this.clickTarget=e,e?au(e)?this.touchEE=e.input:this.touchEE=e.setInteractive():this.touchEE=null,this},clearClickTarget(){return this.setClickTarget(),this},setClickShortcutKeys(e){return this.clickShortcutKeys=e,this},clearClickShortcutKeys(){return this.setClickShortcutKeys(),this},waitClick(){var e=this.touchEE,t=this.clickShortcutKeys;return e||t?(e&&this.waitEvent(e,"pointerdown"),t&&this.waitKeyDown(t)):this.waitTime(0),this},waitKeyDown(e){var t=this.scene.input.keyboard;if(typeof e=="string"){if(e.indexOf("|")===-1)return this.waitEvent(t,`keydown-${e.toUpperCase()}`);for(var r=rZ(e,"|"),h=0,y=r.length;h<y;h++)this.waitEvent(t,`keydown-${r[h].toUpperCase()}`);return this.parent}else return this.waitEvent(t,"keydown")}},sZ={waitGameObjectTweenComplete(e,t,r){var h=this.parent.getGameObjectTweenTask(e,t,r);return h?this.waitEvent(h,"complete"):this.waitTime(0)},waitGameObjectDataFlag(e,t,r,h){var y=this.parent.getGameObject(e,t);if(!y)return this.waitTime(0);if(y.getData(r)===h)return this.waitTime(0);var P=`changedata-${r}`,n=function(T,i,a){i=!!i,i===h&&T.emit("_dataFlagMatch")};return y.on(P,n),this.parent.once(this.removeWaitEventsEventName,function(){y.off(P,n)}),this.waitEvent(y,"_dataFlagMatch")},waitGameObjectDestroy(e,t){var r=this.parent.getGameObject(e,t);return r?this.waitEvent(r,"destroy"):this.waitTime(0)},waitGameObjectManagerEmpty(e){if(e){var t=this.parent.getGameObjectManager(e);return t?this.waitEvent(t,"empty"):this.waitTime(0)}else{var r=this.parent.gameObjectManagers,h=!1;for(var y in r)h=!0,this.waitEvent(r[y],"empty");return h?this.parent:this.waitTime(0)}}},aZ={setCameraTarget(e){return this.cameraTarget=e,this},clearCameraTarget(){return this.setCameraTarget(),this},waitCameraEffectComplete(e,t){var r;if(t?r=this.scene.cameras.getCamera(t):r=this.cameraTarget,!r)return this.waitTime(0);var h,y;switch(e){case"camera.fadein":h=r.fadeEffect,y="camerafadeincomplete";break;case"camera.fadeout":h=r.fadeEffect,y="camerafadeoutcomplete";break;case"camera.flash":h=r.flashEffect,y="cameraflashcomplete";break;case"camera.shake":h=r.shakeEffect,y="camerashakecomplete";break;case"camera.zoom":h=r.zoomEffect,y="camerazoomcomplete";break;case"camera.rotate":h=r.rotateToEffect,y="camerarotatecomplete";break;case"camera.scroll":h=r.panEffect,y="camerapancomplete";break}return h.isRunning?this.waitEvent(r,y):this.waitTime(0)}},oZ={waitSoundEffectComplete(){if(!this.parent.soundManager)return this.waitTime(0);var e=this.parent.soundManager.getLastSoundEffect();return e?this.waitEvent(e,"complete"):this.waitTime(0)},waitSoundEffect2Complete(){if(!this.parent.soundManager)return this.waitTime(0);var e=this.parent.soundManager.getLastSoundEffect2();return e?this.waitEvent(e,"complete"):this.waitTime(0)},waitBackgroundMusicComplete(){if(!this.parent.soundManager)return this.waitTime(0);var e=this.parent.soundManager.getBackgroundMusic();return e?this.waitEvent(e,"complete"):this.waitTime(0)},waitBackgroundMusic2Complete(){if(!this.parent.soundManager)return this.waitTime(0);var e=this.parent.soundManager.getBackgroundMusic2();return e?this.waitEvent(e,"complete"):this.waitTime(0)}};var hZ=function(e){if(!e)return this.waitTime(0);var t=!1;for(var r in e)switch(r){case"time":t=!0,this.waitTime(e.time);break;case"click":t=!0,this.waitClick();break;case"key":t=!0,this.waitKeyDown(e.key);break;case"bgm":t=!0,this.waitBackgroundMusicComplete();break;case"bgm2":t=!0,this.waitBackgroundMusic2Complete();break;case"se":t=!0,this.waitSoundEffectComplete();break;case"se2":t=!0,this.waitSoundEffect2Complete();break;case"camera":t=!0,this.waitCameraEffectComplete(`camera.${e.camera.toLowerCase()}`,e.cameraName);break;default:var h=r.split(".");if(h.length===2){var y=h[0],P=h[1],n=this.parent.getGameObjectManager(void 0,y);if(!n)continue;if(P==="destroy")return this.waitGameObjectDestroy(void 0,y);var T=n.getProperty(y,P);if(typeof T=="number"){t=!0,this.waitGameObjectTweenComplete(void 0,y,P);continue}var i=P,a=i.startsWith("!");if(a&&(i=i.substring(1)),n.hasData(y,P)){t=!0,this.waitGameObjectDataFlag(void 0,y,i,!a);continue}this.waitEvent(gameObject,P);continue}else h.length;break}return t||this.waitTime(0),this.parent},NB={waitAny:hZ};Object.assign(NB,iZ,nZ,sZ,aZ,oZ);class zB extends kB{constructor(t,r){super(t),this.waitCompleteEventName=xi(r,"completeEventName",this.waitCompleteEventName),this.setClickTarget(xi(r,"clickTarget",this.scene)),this.setClickShortcutKeys(xi(r,"clickShortcutKeys",void 0)),this.setCameraTarget(xi(r,"camera",this.scene.cameras.main))}get clickTarget(){return this.parent.clickTarget}set clickTarget(t){this.parent.clickTarget=t}get clickShortcutKeys(){return this.parent.clickShortcutKeys}set clickShortcutKeys(t){this.parent.clickShortcutKeys=t}get cameraTarget(){return this.parent.cameraTarget}set cameraTarget(t){this.parent.cameraTarget=t}destroy(){this.clearClickTarget(),this.clearClickShortcutKeys(),this.clearCameraTarget(),super.destroy()}get scene(){return this.parent.managersScene}}Object.assign(zB.prototype,NB);const Nm=Phaser.Utils.Objects.GetValue;var lZ=function(e,t){this.clickTarget=void 0,this.clickShortcutKeys=void 0,this.cameraTarget=void 0,this.managersScene=e,this.gameObjectManagers={};var r=Nm(t,"layers",!1);if(r!==!1){var h=new ox(e,{name:"LAYER",layers:r,rootLayer:Nm(t,"rootLayer",void 0),depth:Nm(t,"layerDepth",void 0)});this.addGameObjectManager(h),this.layerManager=h}var y=Nm(t,"sounds");return y!==!1&&(this.soundManager=new IB(e,y)),this.timeline=new qK(this),this.waitEventManager=new zB(this,t),this},uZ=function(e){this.timeline.timeScale=e;for(var t in this.gameObjectManagers)this.gameObjectManagers[t].setTimeScale(e);return this},fZ=function(){return this.timeline.timeScale},dZ=function(e){this.waitEventManager.destroy(),this.waitEventManager=void 0,delete this.gameObjectManagers.layer;for(var t in this.gameObjectManagers)this.gameObjectManagers[t].destroy(e),delete this.gameObjectManagers[t];this.layerManager&&(this.layerManager.destroy(e),this.layerManager=void 0),this.soundManager&&(this.soundManager.destroy(),this.soundManager=void 0),this.timeline&&(this.timeline.destroy(),this.timeline=void 0),this.clickTarget=void 0,this.clickShortcutKeys=void 0,this.cameraTarget=void 0,this.managersScene=void 0};const UB={addGameObjectManager(e,t){var r;return e instanceof ed?r=e:typeof e=="string"?(r=t,r.name=e):(e===void 0&&(e={}),t===void 0&&(t=ed),e.createGameObjectScope||(e.createGameObjectScope=this),r=new t(this.managersScene,e)),this.gameObjectManagers[r.name]=r,this},getGameObjectManager(e,t){if(e){var r=this.gameObjectManagers[e];return r}else{t&&t.charAt(0)==="!"&&(t=t.substring(1));for(var e in this.gameObjectManagers){var r=this.gameObjectManagers[e];if(r.has(t))return r}}},getGameObjectManagerNames(){var e=[];for(var t in this.gameObjectManagers)e.push(t);return e},getGameObjectManagerName(e){var t=this.getGameObjectManager(void 0,e);if(t)return t.name},hasGameObjectMananger(e){return e in this.gameObjectManagers}},cZ={createGameObject(e,t,...r){return this.getGameObjectManager(e,t).add(t,...r),this},destroyGameObject(e,t){var r=this.getGameObjectManager(e,t);return t===void 0?r.removeAll():r.remove(t),this},hasGameObject(e,t){return!!this.getGameObjectManager(e,t)},callGameObjectMethod(e,t,r,...h){return this.getGameObjectManager(e,t).call(t,r,...h),this},setGameObjectProperty(e,t,r,h){return this.getGameObjectManager(e,t).setProperty(t,r,h),this},easeGameObjectProperty(e,t,r){return this.getGameObjectManager(e,t).easeProperty(t,r),this},getGameObjectTweenTask(e,t,r){return this.getGameObjectManager(e,t).getTweenTask(t,r)},getGameObject(e,t,r){var h=this.getGameObjectManager(e,t);if(!h)return r;if(typeof t=="string")return h.getGO(t);r===void 0&&(r=[]);var y=t;y===void 0&&(y=Object.keys(h.bobs));for(var P=Array.isArray(r),n=0,T=y.length;n<T;n++){t=y[n];var i=h.getGO(t);i&&(P?r.push(i):r[t]=i)}return r},addGameObject(e,t,r){var h=this.getGameObjectManager(e,t);if(typeof t=="string")h.addGO(t,r);else{var y=t;for(t in y)h.addGO(t,y[t])}return this},drawGameObjectsBounds(e,t,r){e instanceof Phaser.GameObjects.Graphics&&(r=t,t=e,e=void 0),e===void 0&&(e=this.getGameObjectManagerNames()),Array.isArray(e)||(e=[e]);for(var h=0,y=e.length;h<y;h++)this.getGameObjectManager(e[h]).drawGameObjectsBounds(t,r);return this}};var vZ=function(e){class t extends e{}var r={initManagers:lZ,setTimeScale:uZ,getTimeScale:fZ,destroyManagers:dZ};return Object.assign(t.prototype,r,UB,cZ),t},VB={exports:{}};(function(e){var t=Object.prototype.hasOwnProperty,r="~";function h(){}Object.create&&(h.prototype=Object.create(null),new h().__proto__||(r=!1));function y(i,a,x){this.fn=i,this.context=a,this.once=x||!1}function P(i,a,x,d,l){if(typeof x!="function")throw new TypeError("The listener must be a function");var o=new y(x,d||i,l),s=r?r+a:a;return i._events[s]?i._events[s].fn?i._events[s]=[i._events[s],o]:i._events[s].push(o):(i._events[s]=o,i._eventsCount++),i}function n(i,a){--i._eventsCount===0?i._events=new h:delete i._events[a]}function T(){this._events=new h,this._eventsCount=0}T.prototype.eventNames=function(){var a=[],x,d;if(this._eventsCount===0)return a;for(d in x=this._events)t.call(x,d)&&a.push(r?d.slice(1):d);return Object.getOwnPropertySymbols?a.concat(Object.getOwnPropertySymbols(x)):a},T.prototype.listeners=function(a){var x=r?r+a:a,d=this._events[x];if(!d)return[];if(d.fn)return[d.fn];for(var l=0,o=d.length,s=new Array(o);l<o;l++)s[l]=d[l].fn;return s},T.prototype.listenerCount=function(a){var x=r?r+a:a,d=this._events[x];return d?d.fn?1:d.length:0},T.prototype.emit=function(a,x,d,l,o,s){var f=r?r+a:a;if(!this._events[f])return!1;var c=this._events[f],u=arguments.length,v,p;if(c.fn){switch(c.once&&this.removeListener(a,c.fn,void 0,!0),u){case 1:return c.fn.call(c.context),!0;case 2:return c.fn.call(c.context,x),!0;case 3:return c.fn.call(c.context,x,d),!0;case 4:return c.fn.call(c.context,x,d,l),!0;case 5:return c.fn.call(c.context,x,d,l,o),!0;case 6:return c.fn.call(c.context,x,d,l,o,s),!0}for(p=1,v=new Array(u-1);p<u;p++)v[p-1]=arguments[p];c.fn.apply(c.context,v)}else{var m=c.length,g;for(p=0;p<m;p++)switch(c[p].once&&this.removeListener(a,c[p].fn,void 0,!0),u){case 1:c[p].fn.call(c[p].context);break;case 2:c[p].fn.call(c[p].context,x);break;case 3:c[p].fn.call(c[p].context,x,d);break;case 4:c[p].fn.call(c[p].context,x,d,l);break;default:if(!v)for(g=1,v=new Array(u-1);g<u;g++)v[g-1]=arguments[g];c[p].fn.apply(c[p].context,v)}}return!0},T.prototype.on=function(a,x,d){return P(this,a,x,d,!1)},T.prototype.once=function(a,x,d){return P(this,a,x,d,!0)},T.prototype.removeListener=function(a,x,d,l){var o=r?r+a:a;if(!this._events[o])return this;if(!x)return n(this,o),this;var s=this._events[o];if(s.fn)s.fn===x&&(!l||s.once)&&(!d||s.context===d)&&n(this,o);else{for(var f=0,c=[],u=s.length;f<u;f++)(s[f].fn!==x||l&&!s[f].once||d&&s[f].context!==d)&&c.push(s[f]);c.length?this._events[o]=c.length===1?c[0]:c:n(this,o)}return this},T.prototype.removeAllListeners=function(a){var x;return a?(x=r?r+a:a,this._events[x]&&n(this,x)):(this._events=new h,this._eventsCount=0),this},T.prototype.off=T.prototype.removeListener,T.prototype.addListener=T.prototype.on,T.prefixed=r,T.EventEmitter=T,e.exports=T})(VB);var pZ=VB.exports;const gZ=cP(pZ);class WB extends gZ{shutdown(){this.removeAllListeners()}destroy(){this.removeAllListeners()}}const YB={setEventEmitter(e,t){return t===void 0&&(t=WB),this._privateEE=e===!0||e===void 0,this._eventEmitter=this._privateEE?new t:e,this},destroyEventEmitter(){return this._eventEmitter&&this._privateEE&&this._eventEmitter.shutdown(),this},getEventEmitter(){return this._eventEmitter},on:function(){return this._eventEmitter&&this._eventEmitter.on.apply(this._eventEmitter,arguments),this},once:function(){return this._eventEmitter&&this._eventEmitter.once.apply(this._eventEmitter,arguments),this},off:function(){return this._eventEmitter&&this._eventEmitter.off.apply(this._eventEmitter,arguments),this},emit:function(e){return this._eventEmitter&&e&&this._eventEmitter.emit.apply(this._eventEmitter,arguments),this},addListener:function(){return this._eventEmitter&&this._eventEmitter.addListener.apply(this._eventEmitter,arguments),this},removeListener:function(){return this._eventEmitter&&this._eventEmitter.removeListener.apply(this._eventEmitter,arguments),this},removeAllListeners:function(){return this._eventEmitter&&this._eventEmitter.removeAllListeners.apply(this._eventEmitter,arguments),this},listenerCount:function(){return this._eventEmitter?this._eventEmitter.listenerCount.apply(this._eventEmitter,arguments):0},listeners:function(){return this._eventEmitter?this._eventEmitter.listeners.apply(this._eventEmitter,arguments):[]},eventNames:function(){return this._eventEmitter?this._eventEmitter.eventNames.apply(this._eventEmitter,arguments):[]}};var mZ=/^\s*-?(\d*\.?\d+|\d+\.?\d*)(e[-+]?\d+)?\s*$/i,xZ=/^0x[0-9A-F]+$/i,DP=function(e){if(typeof e!="string")return e;if(e==="")e=null;else if(mZ.test(e))e=parseFloat(e);else if(xZ.test(e))e=parseInt(e,16);else switch(e){case"false":e=!1;break;case"true":e=!0;break;case"null":e=null;break;case"undefined":e=void 0;break}return e};let XB=class{constructor(t){this.setEventEmitter(xi(t,"eventEmitter",void 0)),this.setValueConverter(xi(t,"valueConvert",!0)),this.setLoopEnable(xi(t,"loop",!1)),this.setMultipleLinesTagEnable(xi(t,"multipleLinesTag",!1));var r=xi(t,"delimiters","<>");this.setDelimiters(r[0],r[1]),this.setTranslateTagNameCallback(xi(t,"translateTagNameCallback")),this.isRunning=!1,this.isPaused=!1,this.skipEventFlag=!1,this.justCompleted=!1,this.lastTagStart=null,this.lastTagEnd=null,this.lastContent=null}shutdown(){this.destroyEventEmitter()}destroy(){this.shutdown()}setMultipleLinesTagEnable(t){return t===void 0&&(t=!0),this.multipleLinesTagEnable=t,this}setDelimiters(t,r){r===void 0&&(r=t[1],t=t[0]),this.delimiterLeft=t,this.delimiterRight=r,t=td(this.delimiterLeft),r=td(this.delimiterRight);var h=this.multipleLinesTagEnable?"gs":"gi";return this.reSplit=RegExp(`${t}(.+?)${r}`,h),this}setTranslateTagNameCallback(t){return this.translateTagNameCallback=t,this}setValueConverter(t){return t===!0?t=DP:t||(t=yZ),this.valueConverter=t,this}setLoopEnable(t){return t===void 0&&(t=!0),this.loopEnable=t,this}setSource(t){return this.source=t,this}resetIndex(t){return t===void 0&&(t=0),this.progressIndex=t,this.reSplit.lastIndex=t,this.lastTagStart=null,this.lastTagEnd=null,this.lastContent=null,this.justCompleted=!1,this.isRunning=!1,this}start(t){return this.setSource(t).restart(),this}restart(){this.resetIndex().next()}next(){if(this.isPaused&&this.onResume(),this.isRunning)return this;if(this.isRunning=!0,this.justCompleted)return this.isRunning=!1,this;this.reSplit.lastIndex===0&&this.onStart();var t=this.source,r=t.length;for(this.reSplit.lastIndex=this.progressIndex;;){var h=this.reSplit.exec(t);if(!h){if(this.progressIndex<r&&(this.onContent(t.substring(this.progressIndex,r)),this.isPaused)){this.progressIndex=r;break}this.onComplete(),this.isRunning=!1;return}var y=this.reSplit.lastIndex,P=y-h[0].length;if(this.progressIndex<P&&(this.onContent(t.substring(this.progressIndex,P)),this.isPaused)){this.progressIndex=P;break}if(this.lastTagSource=h[0],this.onTag(h[1]),this.lastTagSource=void 0,this.progressIndex=y,this.isPaused)break}return this.isRunning=!1,this}skipEvent(){return this.skipEventFlag=!0,this}pause(){return this.isPaused||this.onPause(),this}pauseUntilEvent(t,r){return this.isPaused?this:(this.pause(),t.once(r,function(){this.next()},this),this)}onContent(t){this.skipEventFlag=!1,this.emit("content",t),this.lastContent=t}onTag(t){}onStart(){this.isRunning=!0,this.emit("start",this)}onComplete(){this.isRunning=!1,this.justCompleted=!0,this.emit("complete",this),this.loopEnable&&this.resetIndex()}onPause(){this.isPaused=!0,this.emit("pause",this)}onResume(){this.isPaused=!1,this.emit("resume",this)}};const yZ=function(e){return e};Object.assign(XB.prototype,YB);var CZ=function(e,t,r){if(e==null)return[];t===void 0&&(t=DP),r===void 0&&(r=",");for(var h=e.split(r),y=0,P=h.length;y<P;y++)h[y]=t(h[y]);return h};class SZ extends XB{constructor(t){t===void 0&&(t={}),t.hasOwnProperty("multipleLinesTag")||(t.multipleLinesTag=!1),super(t),this.setTagExpression(xi(t,"regex.tag",void 0)),this.setValueExpression(xi(t,"regex.value",void 0));var r=xi(t,"delimiters","<>");this.setDelimiters(r[0],r[1])}setTagExpression(t){return t||(t=zm),this.tagExpression=t,this}setValueExpression(t){return t||(t=zm),this.valueExpression=t,this}setDelimiters(t,r){super.setDelimiters(t,r);var h=`(${this.tagExpression})(=(${this.valueExpression}))?`;if(this.reTag=RegExp(h,"i"),this.tagExpression!==zm||this.valueExpression!==zm){var y=`${this.tagExpression}(=${this.valueExpression})?`,P=`/${this.tagExpression}`;t=td(this.delimiterLeft),r=td(this.delimiterRight);var n=this.multipleLinesTagEnable?"gs":"gi";this.reSplit=RegExp(`${t}((${y})|(${P}))${r}`,n)}return this}onTag(t){var r=t.match(this.reTag),h=r[1],y=h.charAt(0)==="/";if(y&&(h=h.substring(1,h.length)),this.translateTagNameCallback&&(h=this.translateTagNameCallback(h)),this.skipEventFlag=!1,y)this.emit(`-${h}`),this.skipEventFlag||this.emit("-",h),this.lastTagEnd=h;else{var P=CZ(r[3],this.valueConverter);this.emit(`+${h}`,...P),this.skipEventFlag||this.emit("+",h,...P),this.lastTagStart=h}}}const zm="[^=]+";var TZ=function(e,t,r){var h="color",y;t.on("start",function(){y=e.textStyle.color}).on(`+${h}`,function(P){e.textStyle.setColor(P),t.skipEvent()}).on(`-${h}`,function(){e.textStyle.setColor(y),t.skipEvent()}).on("complete",function(){e.textStyle.setColor(y)})},EZ=function(e,t,r){var h="stroke",y;t.on("start",function(){y=e.textStyle.stroke,e.textStyle.setStrokeStyle(null)}).on(`+${h}`,function(P){P===void 0&&(P=y),e.textStyle.setStrokeStyle(P),t.skipEvent()}).on(`-${h}`,function(){e.textStyle.setStrokeStyle(null),t.skipEvent()}).on("complete",function(){e.textStyle.setStrokeStyle(y)})},PZ=function(e,t,r){var h="b";t.on("start",function(){e.textStyle.setBold(!1)}).on(`+${h}`,function(){e.textStyle.setBold(!0),t.skipEvent()}).on(`-${h}`,function(){e.textStyle.setBold(!1),t.skipEvent()})},MZ=function(e,t,r){var h="i";t.on("start",function(){e.textStyle.setItalic(!1)}).on(`+${h}`,function(){e.textStyle.setItalic(!0),t.skipEvent()}).on(`-${h}`,function(){e.textStyle.setItalic(!1),t.skipEvent()})},bZ=function(e,t,r){var h="size",y;t.on("start",function(){y=e.textStyle.fontSize}).on(`+${h}`,function(P){e.textStyle.setFontSize(P),t.skipEvent()}).on(`-${h}`,function(){e.textStyle.setFontSize(y),t.skipEvent()}).on("complete",function(){e.textStyle.setFontSize(y)})},wZ=function(e,t,r){var h="y",y;t.on("start",function(){y=e.textStyle.offsetY,e.textStyle.setOffsetY(0)}).on(`+${h}`,function(P){P===void 0&&(P=y),e.textStyle.setOffsetY(P),t.skipEvent()}).on(`-${h}`,function(){e.textStyle.setOffsetY(0),t.skipEvent()}).on("complete",function(){e.textStyle.setOffsetY(0)})},RZ=function(e,t,r){var h="x",y;t.on("start",function(){y=e.textStyle.offsetY,e.textStyle.setOffsetX(0)}).on(`+${h}`,function(P){P===void 0&&(P=y),e.textStyle.setOffsetX(P),t.skipEvent()}).on(`-${h}`,function(){e.textStyle.setOffsetX(0),t.skipEvent()}).on("complete",function(){e.textStyle.setOffsetX(0)})},AZ=function(e,t,r){var h="left",y;t.on("start",function(){y=e.textStyle.leftSpace,e.textStyle.setLeftSpace(0)}).on(`+${h}`,function(P){P===void 0&&(P=y),e.textStyle.setLeftSpace(P),t.skipEvent()}).on(`-${h}`,function(){e.textStyle.setLeftSpace(0),t.skipEvent()}).on("complete",function(){e.textStyle.setLeftSpace(0)})},OZ=function(e,t,r){var h="right",y;t.on("start",function(){y=e.textStyle.rightSpace,e.textStyle.setRightSpace(0)}).on(`+${h}`,function(P){P===void 0&&(P=y),e.textStyle.setRightSpace(P),t.skipEvent()}).on(`-${h}`,function(){e.textStyle.setRightSpace(0),t.skipEvent()}).on("complete",function(){e.textStyle.setRightSpace(0)})},LZ=function(e,t,r){var h="shadow",y;t.on("start",function(){y=e.textStyle.shadowColor,e.textStyle.setShadowColor(null)}).on(`+${h}`,function(P){P===void 0&&(P=y),e.textStyle.setShadowColor(P),t.skipEvent()}).on(`-${h}`,function(){e.textStyle.setShadowColor(null),t.skipEvent()}).on("complete",function(){e.textStyle.setShadowColor(y)})},FZ=function(e,t,r){var h="align";t.on(`+${h}`,function(y){e.textStyle.setAlign(y),t.skipEvent()}).on(`-${h}`,function(){e.textStyle.setAlign(),t.skipEvent()}).on("complete",function(){e.textStyle.setAlign()})},DZ=function(e,t,r){var h="img";t.on(`+${h}`,function(y){var P=e.imageManager.get(y);P&&vB.call(e,P.key,P.frame,{width:P.width,hieght:P.height,leftSpace:P.left,rightSpace:P.right,color:P.tintFill?e.textStyle.color:void 0}),t.skipEvent()}).on(`-${h}`,function(){t.skipEvent()})},BZ=function(e,t,r){var h="space";t.on(`+${h}`,function(y){pB.call(e,y),t.skipEvent()}).on(`-${h}`,function(){t.skipEvent()})},IZ=function(e,t,r){var h="speed";t.on(`+${h}`,function(y){hL(e,y),t.skipEvent()}).on(`-${h}`,function(){hL(e,void 0),t.skipEvent()})},GZ=function(e){this.typeWriter.setTypingSpeed(e)},hL=function(e,t){Ce.call(e,"speed",GZ,t,e)},kZ=function(e,t,r){var h="se";t.on(`+${h}`,function(y,P){Ce.call(e,h,NZ,[y,P],e),t.skipEvent()}).on(`-${h}`,function(){t.skipEvent()});var h="se2";t.on(`+${h}`,function(y,P){Ce.call(e,h,zZ,[y,P],e),t.skipEvent()}).on(`-${h}`,function(){t.skipEvent()})},NZ=function(e){if(!this.skipSoundEffect){var t=e[0],r=e[1];this.soundManager.playSoundEffect(t),r&&this.soundManager.fadeInSoundEffect(r)}},zZ=function(e){if(!this.skipSoundEffect){var t=e[0],r=e[1];this.soundManager.playSoundEffect2(t),r&&this.soundManager.fadeInSoundEffect2(r)}},UZ=function(e,t,r){var h="se.fadein";t.on(`+${h}`,function(y){Ce.call(e,h,VZ,y,e),t.skipEvent()}).on(`-${h}`,function(){t.skipEvent()});var h="se2.fadein";t.on(`+${h}`,function(y){Ce.call(e,h,WZ,y,e),t.skipEvent()}).on(`-${h}`,function(){t.skipEvent()})},VZ=function(e){this.soundManager.fadeInSoundEffect(e)},WZ=function(e){this.soundManager.fadeInSoundEffect2(e)},YZ=function(e,t,r){var h="se.fadeout";t.on(`+${h}`,function(y,P){P=P==="stop",Ce.call(e,h,XZ,[y,P],e),t.skipEvent()}).on(`-${h}`,function(){t.skipEvent()});var h="se2.fadeout";t.on(`+${h}`,function(y,P){P=P==="stop",Ce.call(e,h,HZ,[y,P],e),t.skipEvent()}).on(`-${h}`,function(){t.skipEvent()})},XZ=function(e){this.soundManager.fadeOutSoundEffect(...e)},HZ=function(e){this.soundManager.fadeOutSoundEffect2(...e)},$Z=function(e,t,r){var h="se.volume";t.on(`+${h}`,function(y){Ce.call(e,h,KZ,y,e),t.skipEvent()}).on(`-${h}`,function(){t.skipEvent()});var h="se2.volume";t.on(`+${h}`,function(y){Ce.call(e,h,ZZ,y,e),t.skipEvent()}).on(`-${h}`,function(){t.skipEvent()})},KZ=function(e){this.soundManager.setSoundEffectVolume(e,!0)},ZZ=function(e){this.soundManager.setSoundEffectVolume2(e,!0)},JZ=function(e,t,r){var h="se.mute";t.on(`+${h}`,function(){Ce.call(e,h,QZ,void 0,e),t.skipEvent()}).on(`-${h}`,function(){t.skipEvent()});var h="se2.mute";t.on(`+${h}`,function(){Ce.call(e,h,jZ,void 0,e),t.skipEvent()}).on(`-${h}`,function(){t.skipEvent()});var h="se.unmute";t.on(`+${h}`,function(){Ce.call(e,h,qZ,void 0,e),t.skipEvent()}).on(`-${h}`,function(){t.skipEvent()});var h="se2.unmute";t.on(`+${h}`,function(){Ce.call(e,h,_Z,void 0,e),t.skipEvent()}).on(`-${h}`,function(){t.skipEvent()})},QZ=function(){this.soundManager.setSoundEffectMute(!0)},jZ=function(){this.soundManager.setSoundEffect2Mute(!0)},qZ=function(){this.soundManager.setSoundEffectMute(!1)},_Z=function(){this.soundManager.setSoundEffect2Mute(!1)},tJ=function(e,t,r){var h="bgm";t.on(`+${h}`,function(y,P){Ce.call(e,h,eJ,[y,P],e),t.skipEvent()}).on(`-${h}`,function(){Ce.call(e,"bgm.stop",iJ,void 0,e),t.skipEvent()});var h="bgm2";t.on(`+${h}`,function(y,P){Ce.call(e,h,rJ,[y,P],e),t.skipEvent()}).on(`-${h}`,function(){Ce.call(e,"bgm2.stop",nJ,void 0,e),t.skipEvent()})},eJ=function(e){var t=e[0],r=e[1];this.soundManager.playBackgroundMusic(t),r&&this.soundManager.fadeInBackgroundMusic(r)},iJ=function(){this.soundManager.stopBackgroundMusic()},rJ=function(e){var t=e[0],r=e[1];this.soundManager.playBackgroundMusic2(t),r&&this.soundManager.fadeInBackgroundMusic2(r)},nJ=function(){this.soundManager.stopBackgroundMusic2()},sJ=function(e,t,r){var h="bgm.fadein";t.on(`+${h}`,function(y){Ce.call(e,h,aJ,y,e),t.skipEvent()}).on(`-${h}`,function(){t.skipEvent()});var h="bgm2.fadein";t.on(`+${h}`,function(y){Ce.call(e,h,oJ,y,e),t.skipEvent()}).on(`-${h}`,function(){t.skipEvent()})},aJ=function(e){this.soundManager.fadeInBackgroundMusic(e)},oJ=function(e){this.soundManager.fadeInBackgroundMusic2(e)},hJ=function(e,t,r){var h="bgm.fadeout";t.on(`+${h}`,function(y,P){P=P==="stop",Ce.call(e,h,lJ,[y,P],e),t.skipEvent()}).on(`-${h}`,function(){t.skipEvent()});var h="bgm2.fadeout";t.on(`+${h}`,function(y,P){P=P==="stop",Ce.call(e,h,uJ,[y,P],e),t.skipEvent()}).on(`-${h}`,function(){t.skipEvent()})},lJ=function(e){this.soundManager.fadeOutBackgroundMusic(...e)},uJ=function(e){this.soundManager.fadeOutBackgroundMusic2(...e)},fJ=function(e,t,r){var h="bgm.cross";t.on(`+${h}`,function(y,P){Ce.call(e,h,dJ,[y,P],e),t.skipEvent()}).on(`-${h}`,function(){t.skipEvent()});var h="bgm2.cross";t.on(`+${h}`,function(y,P){Ce.call(e,h,cJ,[y,P],e),t.skipEvent()}).on(`-${h}`,function(){t.skipEvent()})},dJ=function(e){this.soundManager.crossFadeBackgroundMusic(...e)},cJ=function(e){this.soundManager.crossFadeBackgroundMusic2(...e)},vJ=function(e,t,r){var h="bgm.pause";t.on(`+${h}`,function(){Ce.call(e,h,pJ,void 0,e),t.skipEvent()}).on(`-${h}`,function(){Ce.call(e,"bgm.resume",gJ,void 0,e),t.skipEvent()});var h="bgm2.pause";t.on(`+${h}`,function(){Ce.call(e,h,mJ,void 0,e),t.skipEvent()}).on(`-${h}`,function(){Ce.call(e,"bgm2.resume",xJ,void 0,e),t.skipEvent()})},pJ=function(){this.soundManager.pauseBackgroundMusic()},gJ=function(){this.soundManager.resumeBackgroundMusic()},mJ=function(){this.soundManager.pauseBackgroundMusic2()},xJ=function(){this.soundManager.resumeBackgroundMusic2()},yJ=function(e,t,r){var h="bgm.volume";t.on(`+${h}`,function(y){Ce.call(e,h,CJ,y,e),t.skipEvent()}).on(`-${h}`,function(){t.skipEvent()});var h="bgm2.volume";t.on(`+${h}`,function(y){Ce.call(e,h,SJ,y,e),t.skipEvent()}).on(`-${h}`,function(){t.skipEvent()})},CJ=function(e){this.soundManager.setBackgroundMusicVolume(e)},SJ=function(e){this.soundManager.setBackgroundMusicVolume2(e)},TJ=function(e,t,r){var h="bgm.mute";t.on(`+${h}`,function(){Ce.call(e,h,EJ,void 0,e),t.skipEvent()}).on(`-${h}`,function(){t.skipEvent()});var h="bgm2.mute";t.on(`+${h}`,function(){Ce.call(e,h,PJ,void 0,e),t.skipEvent()}).on(`-${h}`,function(){t.skipEvent()});var h="bgm.unmute";t.on(`+${h}`,function(){Ce.call(e,h,MJ,void 0,e),t.skipEvent()}).on(`-${h}`,function(){t.skipEvent()});var h="bgm2.unmute";t.on(`+${h}`,function(){Ce.call(e,h,bJ,void 0,e),t.skipEvent()}).on(`-${h}`,function(){t.skipEvent()})},EJ=function(){this.soundManager.setBackgroundMusicMute(!0)},PJ=function(){this.soundManager.setBackgroundMusic2Mute(!0)},MJ=function(){this.soundManager.setBackgroundMusicMute(!1)},bJ=function(){this.soundManager.setBackgroundMusic2Mute(!1)},wJ=function(e,t,r){var h="camera.fadein";t.on(`+${h}`,function(y,P,n,T){Ce.call(e,h,RJ,[y,P,n,T],e),t.skipEvent()})},RJ=function(e){this.cameraTarget.fadeIn(...e)},AJ=function(e,t,r){var h="camera.fadeout";t.on(`+${h}`,function(y,P,n,T){Ce.call(e,h,OJ,[y,P,n,T],e),t.skipEvent()})},OJ=function(e){this.cameraTarget.fadeOut(...e)},LJ=function(e,t,r){var h="camera.shake";t.on(`+${h}`,function(y,P){Ce.call(e,h,FJ,[y,P],e),t.skipEvent()})},FJ=function(e){this.cameraTarget.shake(...e)},DJ=function(e,t,r){var h="camera.flash";t.on(`+${h}`,function(y,P,n,T){Ce.call(e,h,BJ,[y,P,n,T],e),t.skipEvent()})},BJ=function(e){this.cameraTarget.flash(...e)},IJ=function(e,t,r){var h="camera.zoom";t.on(`+${h}`,function(y){Ce.call(e,h,GJ,y,e),t.skipEvent()}).on(`+${h}.to`,function(y,P,n){Ce.call(e,"camera.zoom.to",kJ,[y,P,n],e),t.skipEvent()})},GJ=function(e){this.cameraTarget.setZoom(e)},kJ=function(e){this.cameraTarget.zoomTo(...e)};const lL=Phaser.Math.DegToRad;var NJ=function(e,t,r){var h="camera.rotate";t.on(`+${h}`,function(y){y=lL(y),Ce.call(e,h,zJ,y,e),t.skipEvent()}).on(`+${h}.to`,function(y,P,n){y=lL(y),Ce.call(e,"camera.rotate.to",UJ,[y,P,n],e),t.skipEvent()})},zJ=function(e){this.cameraTarget.setRotation(e)},UJ=function(e){var t=e[0],r=e[1],h=e[2];this.cameraTarget.rotateTo(t,!1,r,h)},VJ=function(e,t,r){var h="camera.scroll";t.on(`+${h}`,function(y,P){Ce.call(e,h,WJ,[y,P],e),t.skipEvent()}).on(`+${h}.to`,function(y,P,n,T){Ce.call(e,"camera.scroll.to",YJ,[y,P,n,T],e),t.skipEvent()})},WJ=function(e){this.cameraTarget.setScroll(...e)},YJ=function(e){var t=e[0],r=e[1],h=e[2],y=e[3],P=this.cameraTarget,n=P.scrollX,T=P.scrollY;P.setScroll(t,r),t+=P.centerX,r+=P.centerY,P.setScroll(n,T),P.pan(t,r,h,y)},XJ=function(e,t,r){var h="wait",y="click";t.on(`+${h}`,function(P){uL(e,P),t.skipEvent()}).on(`-${h}`,function(){t.skipEvent()}).on(`+${y}`,function(){uL(e,"click"),t.skipEvent()}).on(`-${y}`,function(){t.skipEvent()})},HJ=function(e){this.typeWriter.wait(e)},uL=function(e,t){Ce.call(e,"wait",HJ,t,e)},$J=function(e,t,r){var h="r";t.on(`+${h}`,function(){Uv.call(e,`
`),t.skipEvent()}).on(`-${h}`,function(){t.skipEvent()})},KJ=function(e,t,r){for(var h=["pagebreak","pb"],y=0,P=h.length;y<P;y++){var n=h[y];t.on(`+${n}`,function(){Uv.call(e,"\f"),t.skipEvent()}).on(`-${n}`,function(){t.skipEvent()})}},ZJ=function(e,t,r){var h="content.off";t.on(`+${h}`,function(){t.setContentOutputEnable(!1),t.skipEvent()})},JJ=function(e,t,r){var h="content.on";t.on(`+${h}`,function(){t.setContentOutputEnable(),t.skipEvent()})},QJ=function(e,t,r){t.on("content",function(h){if(t.contentOutputEnable)Uv.call(e,h);else{var y=`+${t.lastTagStart}`;e.emit(`parser.${y}#content`,t,h)}})},jJ=function(e,t,r){t.on("start",function(){e.emit("parser.start",t)}).on("+",function(h,...y){if(!t.skipEventFlag){var P=`+${h}`,n=y;e.emit(`parser.${P}`,t,...y,n),fL(e,P,n)}}).on("-",function(h){if(!t.skipEventFlag){var y=`-${h}`,P=[];e.emit(`parser.${y}`,t,P),fL(e,y,P)}}).on("complete",function(){e.emit("parser.complete",t)})},qJ=function(e,t){var r=`tag.${t}`;e==null?this.emit(r):this.emit(r,...e)},fL=function(e,t,r){Ce.call(e,t,qJ,r,e)};const dL=[TZ,EZ,PZ,MZ,bZ,LZ,FZ,wZ,RZ,AZ,OZ,DZ,BZ,IZ,kZ,UZ,YZ,$Z,JZ,tJ,sJ,hJ,fJ,vJ,yJ,TJ,wJ,AJ,LJ,DJ,IJ,NJ,VJ,XJ,$J,KJ,ZJ,JJ,QJ,jJ];var _J=function(e,t,r){for(var h=0,y=dL.length;h<y;h++)dL[h](e,t,r)},tQ=function(e,t){for(var r=e.commentLineStart,h=t.split(`
`),y=0,P=h.length;y<P;y++){var n=h[y];n===""||(n.trim().length===0||r&&n.startsWith(r))&&(h[y]="")}return h.join("")};const eQ=Phaser.Utils.Objects.GetValue;class iQ extends SZ{constructor(t,r){r===void 0&&(r={}),r.hasOwnProperty("delimiters")||(r.delimiters="[]"),super(r),_J(t,this,r),this.setCommentLineStartSymbol(eQ(r,"comment","//")),this.setContentOutputEnable()}setCommentLineStartSymbol(t){return this.commentLineStart=t,this}setContentOutputEnable(t){return t===void 0&&(t=!0),this.contentOutputEnable=t,this}start(t){return super.start(tQ(this,t)),this}}const rQ={setDefaultTypingSpeed(e){return this.defaultSpeed=e,this},setTypingSpeed(e){return e===void 0&&(e=this.defaultSpeed),this.speed=e,this}},iu="page.fadeout",jE="_remove.play",cL=[iu,jE];var nQ=function(){if(!this.fadeOutPageCallback||!this.children)return this.emit(iu),this;var e=this.children.filter(function(h){return h.renderable}),t=this.fadeOutPageCallback(e,this.fadeOutPageDuration);if(!t)this.emit(iu);else if(t.once)t.once("complete",function(){this.emit(iu)},this);else if(t.then){var r=this;t.then(function(){r.emit(iu)})}else this.emit(iu);return this},ux=function(e,t){return new Promise(function(r,h){e.once(t,function(){r()})})},_r=function(e){return ux(e,"complete")},sQ=function(e){return this.children=e,this.index=0,this.isPageTyping=!0,this.onTypeStart&&this.onTypeStart(e),this.typing(),_r(this)};const aQ="delay",HB="anim";var $B=function(e){e===void 0&&(e=0);var t=0;for(this.inTypingProcessLoop=!0;this.inTypingProcessLoop;){var r=this.getNextChild();if(!r){this.timeline.isRunning?this.timeline.once("complete",function(){this.isPageTyping=!1,this.emit("complete")},this):(this.isPageTyping=!1,this.emit("complete"));break}if(r.renderable){var h=this.animationConfig;if(h.duration>0){var y=this.timeline.addTimer({name:HB,target:r,duration:h.duration,yoyo:h.yoyo,onStart:h.onStart,onProgress:h.onProgress,onComplete:h.onComplete});this.skipTypingAnimation&&y.seek(1)}else h.onStart&&h.onStart(r,0);this.minSizeEnable&&this.textPlayer.setToMinSize(),this.textPlayer.emit("typing",r);var P=this.nextChild;if(P&&!(this.skipSpaceEnable&&jX(P))){if(t+=this.speed+e,e=0,t>0){this.typingTimer=this.timeline.addTimer({name:aQ,target:this,duration:t,onComplete:function(n,T,i){n.typingTimer=void 0,$B.call(n,i.remainder)}});break}}}else qX(r)&&r.exec()}this.minSizeEnable&&this.textPlayer.setToMinSize(),this.inTypingProcessLoop=!1},oQ=function(){return this.timeline.pause(),this},hQ=function(){return this.timeline.resume(),this},lQ=function(){return this.isTypingPaused?this:(this.typingTimer?(this.typingTimer.pause(),this.isTypingPaused=!0):this.inTypingProcessLoop&&(this.inTypingProcessLoop=!1,this.isTypingPaused=!0),this)},uQ=function(e){return this.isTypingPaused?(e===void 0&&(e=0),this.typingTimer?(this.isTypingPaused=!1,this.typingTimer.resume(),this.typingTimer.remainder+=e):this.isTypingPaused&&(this.isTypingPaused=!1,this.typing(e)),this):this},fQ=function(e){switch(e){case"camera.fadein":case"camera.fadeout":case"camera.flash":case"camera.shake":case"camera.zoom":case"camera.rotate":case"camera.scroll":return!0;default:return!1}},dQ=function(e,t){var r=t.split(".");return e.gameObjectManagers.hasOwnProperty(r[0])},cQ=function(e,t,r,h){var y=e.waitEventManager,P=t.split("."),n=P[0],T=e.getGameObjectManager(n),i=`wait.${n}`;switch(P.length){case 1:y.waitGameObjectManagerEmpty(n),e.emit(i);return;case 2:var a=P[1];y.waitGameObjectDestroy(n,a),e.emit(i,a);return;case 3:var a=P[1],x=P[2],d=T.getProperty(a,x);if(typeof d=="number"){y.waitGameObjectTweenComplete(n,a,x),e.emit(i,a,x);return}var l=x,o=l.startsWith("!");if(o&&(l=l.substring(1)),T.hasData(a,l)){y.waitGameObjectDataFlag(n,a,l,!o),e.emit(i,a,l);return}else{y.waitTime(0);return}}};const vQ=Phaser.Input.Keyboard.KeyCodes;var KB=function(e,t,r,h){var y=e.waitEventManager;y.clearWaitCompleteCallbacks().addWaitCompleteCallback(r,h),typeof t=="string"&&t.length>1&&t.indexOf("|")!==-1?t=t.split("|"):t=[t];for(var P=0,n=t.length;P<n;P++){var T=t[P];if(T==null||T==="wait"){var i=e.waitEventManager.getWaitCompleteTriggerCallback();e.emit("wait",i)}else if(typeof T=="number"||!isNaN(T)){var a=parseFloat(T);y.waitTime(a),e.emit("wait.time",a)}else if(T==="click")y.waitClick(),e.emit("wait.click");else if(T==="se"){y.waitSoundEffectComplete();var x=e.soundManager.getLastSoundEffect();e.emit("wait.music",x)}else if(T==="se2"){y.waitSoundEffect2Complete();var x=e.soundManager.getLastSoundEffect2();e.emit("wait.music",x)}else if(T==="bgm"){y.waitBackgroundMusicComplete();var x=e.soundManager.getBackgroundMusic();e.emit("wait.music",x)}else if(T==="bgm2"){y.waitBackgroundMusic2Complete();var x=e.soundManager.getBackgroundMusic2();e.emit("wait.music",x)}else if(vQ.hasOwnProperty(T.toUpperCase()))y.waitKeyDown(T),e.emit("wait.keydown",T);else if(fQ(T))y.waitCameraEffectComplete(T),e.emit("wait.camera",T);else if(dQ(e,T))cQ(e,T);else{var i=e.waitEventManager.getWaitCompleteTriggerCallback();e.emit(`wait.${T}`,i)}}},pQ=function(e){return this.ignoreWait?this:(this.pauseTyping(),KB(this.textPlayer,e,this.resumeTyping,this),this)},gQ=function(e){return e===void 0&&(e=!0),this.ignoreWait=e,this},mQ=function(e){return e===void 0&&(e=!0),this.skipSpaceEnable=e,this},xQ=function(e){if(e===void 0&&(e=!0),this.skipTypingAnimation=e,e)for(var t=this.timeline.getTimers(HB),r=0,h=t.length;r<h;r++)t[r].seek(1);return this},yQ=function(e){if(e===void 0&&(e=!0),this.skipSoundEffect=e,e){var t=this.textPlayer._soundManager;t&&t.fadeOutAllSoundEffects(100,!0)}return this},CQ=function(){return this.typingTimer&&this.typingTimer.seek(1),this},ZB={fadeOutPage:nQ,start:sQ,typing:$B,pause:oQ,resume:hQ,pauseTyping:lQ,resumeTyping:uQ,wait:pQ,setIgnoreWait:gQ,setSkipSpaceEnable:mQ,setSkipTypingAnimation:xQ,setSkipSoundEffect:yQ,skipCurrentTypingDelay:CQ};Object.assign(ZB,rQ);const Ef=Phaser.Utils.Objects.GetValue;class JB{constructor(t,r){this.setEventEmitter(),this.textPlayer=t,this.isPageTyping=!1,this.typingTimer=void 0,this.pauseTypingTimer=void 0,this.inTypingProcessLoop=!1,this.isTypingPaused=!1,this.setIgnoreWait(!1),this.setSkipTypingAnimation(!1),this.setTypingStartCallback(Ef(r,"onTypingStart",TQ)),this.setDefaultTypingSpeed(Ef(r,"speed",250)),this.setTypingSpeed(),this.setSkipSpaceEnable(Ef(r,"skipSpace",!1)),this.setAnimationConfig(Ef(r,"animation",void 0)),this.setMinSizeEnable(Ef(r,"minSizeEnable",!1)),this.setFadeOutPageCallback(Ef(r,"fadeOutPage"))}destroy(){this.destroyEventEmitter(),this.textPlayer=void 0,this.typingTimer=void 0,this.pauseTypingTimer=void 0,this.onTypeStart=void 0,this.animationConfig=void 0}get timeline(){return this.textPlayer.timeline}setTypingStartCallback(t){return this.onTypeStart=t,this}setAnimationConfig(t){return t||(t={}),t.hasOwnProperty("duration")||(t.duration=0),t.hasOwnProperty("onStart")||(t.onStart=SQ),this.animationConfig=t,this}setFadeOutPageCallback(t){return this.fadeOutPageCallback=t,this}setMinSizeEnable(t){return t===void 0&&(t=!0),this.minSizeEnable=t,this}getNextChild(){var t=this.nextChild;return this.index=Math.min(this.index+1,this.children.length),this._nextChild=void 0,t}get nextChild(){return this._nextChild||(this._nextChild=this.children[this.index]),this._nextChild}}var SQ=function(e){e.setVisible&&e.setVisible()},TQ=function(e){for(var t=0,r=e.length;t<r;t++){var h=e[t];h.setVisible&&h.setVisible(!1)}};Object.assign(JB.prototype,Vv,ZB);class EQ extends OP{playAnimation(t){return this.gameObject.anims.timeScale=this.timeScale,this.gameObject.play(t),this}stopAnimation(){return this.gameObject.stop(),this}chainAnimation(t){return this.gameObject.chain(t),this}pauseAnimation(){return this.gameObject.anims.pause(),this}setTimeScale(t){return super.setTimeScale(t),this.gameObject.anims&&(this.gameObject.anims.timeScale=t),this}}const PQ={playAnimation(e,t){return this.has(e)||this.add(e),this.get(e).playAnimation(t),this},stopAnimation(e){return this.has(e)?(this.get(e).stopAnimation(),this):this},chainAnimation(e,t){return this.has(e)?(this.get(e).chainAnimation(t),this):this},pauseAnimation(e){return this.has(e)?(this.get(e).pauseAnimation(),this):this}};var QB={};Object.assign(QB,PQ);var jB=function(e){return!e||e==="sprite"?e=MQ:e==="image"&&(e=bQ),e},MQ=function(e,t,r){return typeof r!="string"&&typeof r!="number"&&(r=void 0),e.add.sprite(0,0,t,r)},bQ=function(e,t,r){return typeof r!="string"&&typeof r!="number"&&(r=void 0),e.add.image(0,0,t,r)};class qB extends ed{constructor(t,r){r===void 0&&(r={}),r.BobClass=EQ,super(t,r)}setCreateGameObjectCallback(t,r){return t=jB(t),super.setCreateGameObjectCallback(t,r),this}}Object.assign(qB.prototype,QB);var vL=function(e,t){return e.length===3&&e[0]===t&&e[2]==="play"},wQ=function(e,t){return e.length===3&&e[0]===t&&e[2]==="stop"},RQ=function(e,t,r){var h=r.name;t.on("+",function(y,...P){if(!t.skipEventFlag){var n=y.split("."),T;if(vL(n,h))T=n[1];else return;Ce.call(e,`${h}.play`,AQ,[h,T,P],e),t.skipEvent()}}).on("+",function(y){if(!t.skipEventFlag){var P=y.split("."),n;if(wQ(P,h))n=P[1];else return;Ce.call(e,`${h}.stop`,pL,[h,n],e),t.skipEvent()}}).on("-",function(y){if(!t.skipEventFlag){var P=y.split("."),n;if(vL(P,h))n=P[1];else return;Ce.call(e,`${h}.stop`,pL,[h,n],e),t.skipEvent()}})},AQ=function(e){var t,r,h;[t,r,h]=e;var y=h.shift(),P=this.getGameObjectManager(t);P.playAnimation(r,y),h.length>0&&P.chainAnimation(r,h)},pL=function(e){var t,r;[t,...r]=e;var h=this.getGameObjectManager(t);h.stopAnimation(...r)},OQ=function(e,t){return e.length===3&&e[0]===t&&e[2]==="pause"},LQ=function(e,t,r){var h=r.name;t.on("+",function(y){if(!t.skipEventFlag){var P=y.split("."),n;if(OQ(P,h))n=P[1];else return;Ce.call(e,`${h}.pause`,FQ,[h,n],e),t.skipEvent()}})},FQ=function(e){var t,r;[t,...r]=e;var h=this.getGameObjectManager(t);h.pauseAnimation(...r)},DQ=function(e,t){return e.length===3&&e[0]===t&&e[2]==="chain"},BQ=function(e,t,r){var h=r.name;t.on("+",function(y){if(!t.skipEventFlag){var P=y.split("."),n;if(DQ(P,h))n=P[1];else return;var T=Array.prototype.slice.call(arguments,1);Ce.call(e,`${h}.chain`,IQ,[h,n,T],e),t.skipEvent()}})},IQ=function(e){var t,r;[t,...r]=e;var h=this.getGameObjectManager(t);h.chainAnimation(...r)};const GQ=[RQ,LQ,BQ];var kQ=function(e){e===void 0&&(e={}),e.name="sprite",e.parseCallbacks=GQ,e.createGameObject=jB(e.createGameObject),this.addGameObjectManager(e,qB)},gL=function(e,t){return e.length===2&&e[0]===t},NQ=function(e,t,r){var h=r.name;t.on("+",function(y,...P){if(!t.skipEventFlag){var n=y.split("."),T;if(gL(n,h))T=n[1];else return;Ce.call(e,`${h}.add`,zQ,[h,T,...P],e),t.skipEvent()}}).on("-",function(y){if(!t.skipEventFlag){var P=y.split("."),n;if(gL(P,h))n=P[1];else return;Ce.call(e,`${h}.remove`,UQ,[h,n],e),t.skipEvent()}})},zQ=function(e){var t,r;[t,...r]=e;var h=this.getGameObjectManager(t);h.add(...r)},UQ=function(e){var t,r;[t,...r]=e;var h=this.getGameObjectManager(t);h.remove(...r)},VQ=function(e,t,r){var h=r.name;t.on("-",function(y){t.skipEventFlag||y===h&&(Ce.call(e,`${h}.removeall`,WQ,h,e),t.skipEvent())})},WQ=function(e){var t=this.getGameObjectManager(e);t.removeAll()},YQ=function(e,t){return e.length===3&&e[0]===t},XQ=function(e,t,r){var h=r.name;t.on("+",function(y,...P){if(!t.skipEventFlag){var n=y.split("."),T,i;if(YQ(n,h))T=n[1],i=n[2];else return;Ce.call(e,`${h}.call`,HQ,[h,T,i,...P],e),t.skipEvent()}})},HQ=function(e){var t,r,h,y;[t,r,h,...y]=e;var P=`${t}.${h}`;if(this.emit(P,r,...y),!(this.listenerCount(P)>0)){var n=this.getGameObjectManager(t);n.hasMethod(r,h)?n.call(r,h,...y):n.setProperty(r,h,y[0])}},$Q={to:!0,yoyo:!0,from:!0,toLeft:!0,toRight:!0,toUp:!0,toDown:!0,yoyoLeft:!0,yoyoRight:!0,yoyoUp:!0,yoyoDown:!0,fromLeft:!0,fromRight:!0,fromUp:!0,fromDown:!0},KQ=function(e,t){return e.length===4&&e[0]===t&&$Q[e[3]]},ZQ=function(e,t,r){var h=r.name;e.getGameObjectManager(h),t.on("+",function(y,P,n,T,i){if(!t.skipEventFlag){var a=y.split("."),x,d,l;if(KQ(a,h))x=a[1],d=a[2],l=a[3];else return;typeof T=="number"&&(i=T,T=void 0),Ce.call(e,`${h}.ease`,JQ,[h,x,d,P,n,T,i,l],e),t.skipEvent()}})},JQ=function(e){var t,r,h,y,P,n,T,i;[t,r,h,y,P,n,T,i]=e;var a=this.getGameObjectManager(t),x=a.getProperty(r,h);if(typeof x=="number"){i.endsWith("Left")||i.endsWith("Up")?i.startsWith("to")||i.startsWith("yoyo")?y=x-y:i.startsWith("from")&&(a.setProperty(r,h,x-y),y=x):i.endsWith("Right")||i.endsWith("Down")?i.startsWith("to")||i.startsWith("yoyo")?y=x+y:i.startsWith("from")&&(a.setProperty(r,h,x+y),y=x):i==="from"&&(a.setProperty(r,h,y),y=x);var d=i.startsWith("yoyo");a.easeProperty(r,{property:h,value:y,duration:P,ease:n,repeat:T,yoyo:d})}};const mL=[NQ,VQ,XQ,ZQ],QQ=UB.addGameObjectManager,jQ={addGameObjectManager(e,t){e=e?va(e):{};var r=e.name;r||console.warn("[TextPlayer] Parameter 'name' is required in addGameObjectManager(config) method");var h=e.defaultLayer,y=e.createGameObject,P=this.layerManager;e.createGameObject=function(a,...x){var d=y.call(this,a,...x);return h&&P&&P.addToLayer(h,d),d},QQ.call(this,e,t);var n=e.parseCallbacks;n?n=[...n,...mL]:n=mL;for(var T=0,i=n.length;T<i;T++)n[T](this,this.parser,e);return this}};var qQ=function(e){return this.waitEventManager.setClickTarget(e),this},_Q=function(e){return this.waitEventManager.setCameraTarget(e),this},tj=function(e){var t=this;e?typeof e=="function"?this.nextPageInput=function(r,h){var y=t.waitEventManager;y.clearWaitCompleteCallbacks().addWaitCompleteCallback(r,h);var P=y.getWaitCompleteTriggerCallback();e.call(t,P)}:this.nextPageInput=function(r,h){KB(t,e,r,h)}:this.nextPageInput=null},ej=function(e,t){return this.imageManager.add(e,t),this};const ij={play(e){return this.isPlaying?this:(this.removeChildren(),this.parser.start(e),this.isPlaying=!0,this.once("complete",function(){this.isPlaying=!1},this),this.lastWrapResult=void 0,this.typingNextPage(),this)},playPromise(e){var t=_r(this);return this.play(e),t}};var qE=function(){return!this.isPlaying||this.isPageTyping?this:(this.typeWriter.once(iu,rj,this).fadeOutPage(),this)},rj=function(){var e=this.runWrap(this.lastWrapResult);this.lastWrapResult=e,this.emit("page.start");var t=function(){this.emit(jE),e.isLastPage?this.emit("complete"):(this.emit("page.complete"),this.ignoreNextPageInput?qE.call(this):this.nextPageInput&&this.nextPageInput(qE,this))};this.once(jE,function(){this.typeWriter.off("complete",t,this)},this),this.typeWriter.once("complete",t,this).start(e.children)};const nj={pauseTyping(){return this.typeWriter.pauseTyping(),this},pause(){return this.pauseTyping(),this.timeline.pause(),this}},sj={resumeTyping(e){return this.typeWriter.resumeTyping(e),this},resume(){return this.resumeTyping(),this.timeline.resume(),this}};var aj=function(e){return this.typeWriter.wait(e),this};const oj={setDefaultTypingSpeed(e){return this.defaultTypingSpeed=e,this},setTypingSpeed(e){return this.typingSpeed=e,this}};var hj=function(e){return this.typeWriter.setIgnoreWait(e),this},lj=function(e){return e===void 0&&(e=!0),this.ignoreNextPageInput=e,this},uj=function(){if(!this.isPlaying||!this.isPageTyping)return this;var e=this.typeWriter.speed,t=this.typeWriter.ignoreWait,r=this.typeWriter.skipTypingAnimation,h=this.typeWriter.skipSoundEffect;return this.typeWriter.once("complete",function(){this.typeWriter.setTypingSpeed(e).setIgnoreWait(t).setSkipTypingAnimation(r).setSkipSoundEffect(h)},this).setTypingSpeed(0).skipCurrentTypingDelay().setIgnoreWait(!0).setSkipTypingAnimation(!0).setSkipSoundEffect(!0),this};const fj={getSprite(e){return this.getGameObject("sprite",e)},addSprite(e,t){return this.addGameObject("sprite",e,t),this}},dj={setContentOutputEnable(e){return this.parser.setContentOutputEnable(e),this},setContentCallback(e,t){return this.contentCallback=e,this.contentCallbackScope=t,this}};var _B={setClickTarget:qQ,setCameraTarget:_Q,setNextPageInput:tj,addImage:ej,typingNextPage:qE,wait:aj,setIgnoreWait:hj,setIgnoreNextPageInput:lj,showPage:uj};Object.assign(_B,jQ,ij,nj,sj,oj,fj,dj);var cj=function(e){for(var t=0,r=cL.length;t<r;t++)e.emit(cL[t])};const xL=Phaser.Utils.Objects.IsPlainObject,Pf=Phaser.Utils.Objects.GetValue;class BP extends vZ(nd){constructor(t,r,h,y,P,n){xL(r)?n=r:xL(y)&&(n=y),n===void 0&&(n={});var T=n.text;delete n.text,super(t,r,h,y,P,n),this.type="rexTextPlayer",this.initManagers(t,n),this.parser=new iQ(this,Pf(n,"parser",void 0)),this.typeWriter=new JB(this,Pf(n,"typing",void 0)),this._imageManager=void 0;var i=Pf(n,"images",void 0);i&&this.addImage(i);var a=Pf(n,"sprites");a!==!1&&a!==null&&kQ.call(this,a),this.setIgnoreNextPageInput(Pf(n,"ignoreNextPageInput",!1)),this.setNextPageInput(Pf(n,"nextPageInput",null)),this.isPlaying=!1,T&&this.play(T)}get imageManager(){return this._imageManager===void 0&&(this._imageManager=new PP(this.scene)),this._imageManager}get spriteManager(){return this.getGameObjectManager("sprite")}destroy(t){!this.scene||this.ignoreDestroy||(cj(this),this.parser.destroy(),this.parser=void 0,this.typeWriter.destroy(t),this.typeWriter=void 0,this._imageManager&&this._imageManager.destroy(t),this._imageManager=void 0,this.destroyManagers(t),super.destroy(t))}get isPageTyping(){return this.typeWriter.isPageTyping}set defaultTypingSpeed(t){this.typeWriter.setDefaultTypingSpeed(t)}get defaultTypingSpeed(){return this.typeWriter.defaultTypingSpeed}set typingSpeed(t){this.typeWriter.setTypingSpeed(t)}get typingSpeed(){return this.typeWriter.speed}set timeScale(t){this.setTimeScale(t)}get timeScale(){return this.getTimeScale()}}Object.assign(BP.prototype,_B);It.register("textPlayer",function(e,t,r,h,y){var P=new BP(this.scene,e,t,r,h,y);return this.scene.add.existing(P),P});Lt(window,"RexPlugins.UI.TextPlayer",BP);const t4={maxLength:["maxLength",void 0],minLength:["minLength",void 0],readOnly:["readOnly",!1]},e4={direction:["direction",void 0]};var Nh=function(e,t,r){if(typeof r=="string")e.hasOwnProperty(r)&&(t[r]=e[r]);else{var h=r;if(Array.isArray(h))for(var y=0,P=h.length;y<P;y++)Nh(e,t,h[y]);else for(var r in h)Nh(e,t,r)}},vj=function(e){e===void 0&&(e={});var t={};return Nh(e,t,"inputType"),Nh(e,t,"type"),Nh(e,t,"style"),Nh(e,t,e4),Nh(e,t,t4),t},IP=function(e,t,r,h,y){if(t)return!(r&&!r(e,t)||!yL(e,t)||h&&!h(e,t));y===void 0&&(y=!1);for(var P=e.scene.input.manager,n=P.pointersTotal,T=P.pointers,t,i=0;i<n;i++)if(t=T[i],!(r&&!r(e,t))&&yL(e,t)&&!(h&&!h(e,t)))return y?t:!0;return!1},yL=function(e,t){for(var r=e.scene,h=r.input.cameras.getCamerasBelowPointer(t),y=r.input.manager,P=[e],n=0,T=h.length;n<T;n++)if(y.hitTest(t,P,h[n],Um),Um.length>0)return Um.length=0,!0;return Um.length=0,!1},Um=[],Zf=void 0,pj=function(e){e!==Zf&&(Zf!==void 0&&Zf.close(),Zf=e)},gj=function(e){e===Zf&&(Zf=void 0)};const mj=Phaser.Utils.Objects.GetValue;var U0=function(e,t,r){r===void 0&&(r={});var h,y;for(var P in e)h=e[P],y=mj(t,P,h[1]),y!==void 0&&(r[h[0]]=y);return r},i4=function(e){e.addEventListener("touchstart",Mf,!1),e.addEventListener("touchmove",Mf,!1),e.addEventListener("touchend",Mf,!1),e.addEventListener("mousedown",Mf,!1),e.addEventListener("mouseup",Mf,!1),e.addEventListener("mousemove",Mf,!1)},Mf=function(e){e.stopPropagation()},r4=function(){return this.close(),this.emit("keydown-ENTER",this.parent,this),this},xj=function(){this.isOpened=!0,this.initText(),this.enterCloseEnable&&this.scene.input.keyboard.once("keydown-ENTER",r4,this),this.scene.sys.events.on("postupdate",this.updateText,this),this.clickOutSideTarget?(OB.call(this.clickOutSideTarget,this.parent),AB.call(this.clickOutSideTarget,this.parent),this.clickOutSideTarget.setInteractive().on("pointerdown",this.onClickOutside,this)):this.scene.input.on("pointerdown",this.onClickOutside,this),this.onOpenCallback&&this.onOpenCallback(this.parent,this),this.emit("open",this)},yj=function(e){if(e){var t=e.parentElement;t&&t.removeChild(e)}},Cj=function(){this.isOpened=!1,this.updateText(),this.enterCloseEnable&&this.scene.input.keyboard.off("keydown-ENTER",r4,this),this.scene.sys.events.off("postupdate",this.updateText,this),this.clickOutSideTarget?this.clickOutSideTarget.disableInteractive().off("pointerdown",this.onClickOutside,this):this.scene.input.off("pointerdown",this.onClickOutside,this),this.onCloseCallback&&this.onCloseCallback(this.parent,this),yj(this.node),this.node=void 0,this.emit("close",this)};const T1=Phaser.Utils.Objects.GetValue;var Sj=function(e,t){var r,h=T1(t,"inputType",void 0);h===void 0&&(h=T1(t,"type","text")),h==="textarea"?(r=document.createElement("textarea"),r.style.resize="none"):(r=document.createElement("input"),r.type=h);var y=T1(t,"style",void 0),P=r.style;U0(e4,y,P),P.position="absolute",P.opacity=0,P.pointerEvents="none",P.zIndex=0,P.transform="scale(0)",U0(t4,t,r),i4(r);var n=e.scene.sys.scale,T=n.isFullscreen?n.fullscreenTarget:document.body;return T.appendChild(r),r.addEventListener("focus",function(i){xj.call(e)}),r.addEventListener("blur",function(i){Cj.call(e)}),r},Tj=function(){return this.isOpened?this:this.readOnly?this:(pj(this),this.node||(this.node=Sj(this,this.nodeConfig)),this.setFocus(),this)},Ej=function(){return this.isOpened?(gj(this),this.setBlur(),this):this},Pj={open:Tj,close:Ej};const Ro=Phaser.Utils.Objects.GetValue;class GP extends Hi{constructor(t,r){super(t);var h=Ro(r,"inputType",void 0);h===void 0&&(h=Ro(r,"type","text")),this.setEnterCloseEnable(Ro(r,"enterClose",h!=="textarea"));var y=Ro(r,"onOpen",void 0);y||(y=Ro(r,"onFocus",void 0)),this.onOpenCallback=y,this.clickOutSideTarget=Ro(r,"clickOutSideTarget",void 0);var P=Ro(r,"onClose",void 0);P||(P=Ro(r,"onBlur",void 0)),this.onCloseCallback=P,this.onUpdateCallback=Ro(r,"onUpdate",void 0),this.isOpened=!1,t.on("pointerdown",function(){this.open()},this).setInteractive(),this.nodeConfig=vj(r),this.node=void 0}destroy(){this.close(),this.clickOutSideTarget&&this.clickOutSideTarget.destroy(),super.destroy()}onClickOutside(t){IP(this.parent,t)||this.close()}setEnterCloseEnable(t){return t===void 0&&(t=!0),this.enterCloseEnable=t,this}initText(){}updateText(){}get text(){return this.node?this.node.value:""}set text(t){this.node&&(this.node.value=t)}setText(t){return this.text=t,this}get maxLength(){return this.nodeConfig.maxLength}set maxLength(t){this.nodeConfig.maxLength=t,this.node&&(this.node.maxLength=t)}setMaxLength(t){return this.maxLength=t,this}get minLength(){return this.nodeConfig.minLength}set minLength(t){this.nodeConfig.minLength=t,this.node&&(this.node.minLength=t)}setMinLength(t){return this.minLength=t,this}get placeholder(){return this.node.placeholder}set placeholder(t){this.node&&(this.node.placeholder=t)}setPlaceholder(t){return this.placeholder=t,this}selectText(t,r){return this.node?(t===void 0?this.node.select():this.node.setSelectionRange(t,r),this):this}selectAll(){return this.selectText(),this}get selectionStart(){return this.node?this.node.selectionStart:0}get selectionEnd(){return this.node?this.node.selectionEnd:0}get selectedText(){if(!this.node)return"";var t=this.node;return t.value.substring(t.selectionStart,t.selectionEnd)}get cursorPosition(){return this.node?this.node.selectionStart:0}set cursorPosition(t){this.node&&this.node.setSelectionRange(t,t)}setCursorPosition(t){return t===void 0?t=this.text.length:t<0&&(t=this.text.length+t),this.cursorPosition=t,this}get tooltip(){return this.node?this.node.title:""}set tooltip(t){if(!this.node)return this;this.node.title=t}setTooltip(t){return this.tooltip=t,this}setTextChangedCallback(t){return this.onTextChanged=t,this}get readOnly(){return this.nodeConfig.readOnly}set readOnly(t){this.nodeConfig.readOnly=t,this.node&&(this.node.readOnly=t)}setReadOnly(t){return t===void 0&&(t=!0),this.readOnly=t,this}get spellCheck(){return this.node?this.node.spellcheck:""}set spellCheck(t){this.node&&(this.node.spellcheck=t)}setSpellCheck(t){return this.spellCheck=t,this}get fontColor(){if(this.node)return this.node.style.color}set fontColor(t){this.node&&(this.node.style.color=t)}setFontColor(t){return this.fontColor=t,this}setStyle(t,r){return this.node?(this.node.style[t]=r,this):this}getStyle(t){if(this.node)return this.node.style[t]}scrollToBottom(){return this.node?(this.node.scrollTop=this.node.scrollHeight,this):this}setEnabled(t){return this.node?(t===void 0&&(t=!0),this.node.disabled=!t,this):this}setBlur(){return this.node?(this.node.blur(),this):this}setFocus(){return this.node?(this.node.focus(),this):this}get isFocused(){return this.isOpened}}Object.assign(GP.prototype,Pj);var n4=function(e,t,r){e=e.replace(" ","");var h=r.previousText;if(e===h)return e;if(isNaN(e)){r.emit("nan",e,r),e=h;var y=r.cursorPosition-1;r.setText(e),r.setCursorPosition(y)}else r.previousText=e;return e},Mj=function(e){var t=e.parent,r=e.isOpened?e.selectionStart:null,h=e.isOpened?e.selectionEnd:null,y=e.prevSelectionStart,P=e.prevSelectionEnd;if(!(y===r&&P===h)){var n,T;y===null?(n=r,T=h):r===null?(n=y,T=P):(n=Math.min(y,r),T=Math.max(P,h));for(var i=n;i<T;i++){var a;y===null?a=!1:a=i>=y&&i<P;var x;if(r===null?x=!1:x=i>=r&&i<h,a!==x){var d=t.getCharChild(i);if(d){var l=a?"rangeout":"rangein";t.emit(l,d,i,t)}}}e.prevSelectionStart=r,e.prevSelectionEnd=h}},bj=function(e){var t=e.parent,r=0,h=t.width,y=0,P=t.height,n=e.drawX,T=e.drawY,i=n+e.drawTLX,a=n+e.drawTRX,x=T+e.drawTLY,d=T+e.drawBLY,l;i<r?l=r-i:a>h?l=h-a:l=0;var o;x<y?o=y-x:d>P?o=P-d:o=0,t._textOX+=l,t._textOY+=o},wj=function(e){var t=e.parent,r=t.text;e.requestCursorPosition!==null&&(e.setCursorPosition(e.requestCursorPosition),e.requestCursorPosition=null);var h=e.cursorPosition;if(e.prevCursorPosition!==h){if(e.prevCursorPosition!==null&&e.prevCursorPosition>r.length&&(e.prevCursorPosition=null),e.prevCursorPosition!==null){var y=t.getCharChild(e.prevCursorPosition);y&&(y.text===`
`&&y.clearTextSize(),t.emit("cursorout",y,e.prevCursorPosition,t))}if(h!=null){var y=t.getCharChild(h);y&&(y.text===`
`&&y.copyTextSize(t.lastInsertCursor),bj(y),t.emit("cursorin",y,h,t))}t.emit("movecursor",h,e.prevCursorPosition,t),e.prevCursorPosition=h}},CL=function(e){var t=e.prevSelectionStart;if(t!==null){for(var r=e.prevSelectionEnd,h=e.parent,y=t;y<r;y++){var P=h.getCharChild(y);P&&h.emit("cursorout",P,y,h)}e.prevSelectionStart=null,e.prevSelectionEnd=null}},SL=function(e){var t=e.prevCursorPosition;if(t!==null){var r=e.parent,h=r.getCharChild(t);h&&r.emit("cursorout",h,t,r),e.prevCursorPosition=null}};const Rj=Phaser.Utils.Objects.GetValue;let Aj=class extends GP{constructor(t,r){super(t,r),this.setSelectAllWhenFocusEnable(Rj(r,"selectAll",!1)),this.cursorMoveStartIndex=null,this.prevCursorPosition=null,this.prevSelectionStart=null,this.prevSelectionEnd=null,this.firstClickAfterOpen=!1,this.requestCursorPosition=null,t.on("pointerdown",function(h,y,P,n){var T=t.getNearestChild(y,P),i=t.getCharIndex(T);(!this.selectAllWhenFocus||!this.firstClickAfterOpen)&&this.setCursorPosition(i),this.cursorMoveStartIndex=i,this.firstClickAfterOpen=!1},this).on("pointermove",function(h,y,P,n){if(h.isDown){var T=t.getNearestChild(y,P),i=t.getCharIndex(T);this.cursorMoveStartIndex<i?this.selectText(this.cursorMoveStartIndex,i+1):this.selectText(i,this.cursorMoveStartIndex+1)}},this),this.on("open",function(){this.selectAllWhenFocus&&this.selectAll(),this.firstClickAfterOpen=!0,t.emit("open")},this).on("close",function(){t.emit("close")}).on("keydown-ENTER",function(){t.emit("keydown-ENTER")})}initText(){var t=this.parent;return this.prevCursorPosition=null,this.setText(t.text),this}updateText(){var t=this.parent,r=this.text;if(this.onUpdateCallback){var h=this.onUpdateCallback(r,t,this);h!=null&&(r=h)}return t.text!==r&&t.setText(r),this.isOpened?this.selectionStart!==this.selectionEnd?(SL(this),Mj(this)):(CL(this),wj(this)):(CL(this),SL(this)),this}setNumberInput(){return this.onUpdateCallback=n4,this}setSelectAllWhenFocusEnable(t){return t===void 0&&(t=!0),this.selectAllWhenFocus=t,this}setRequestCursorPosition(t){return this.isOpened?(this.requestCursorPosition=t,this):this}};const Oj=Phaser.Utils.Objects.GetValue,Lj=["inputType","onOpen","clickOutSideTarget","onFocus","onClose","onBlur","onUpdate","enterClose","readOnly","maxLength","minLength","selectAll"];var Fj=function(e,t){var r=Oj(t,"edit");return r===void 0&&(r={}),Nh(t,r,Lj),new Aj(e,r)},Bo=function(e,t){if(!e||typeof e=="number")return!1;if(e.hasOwnProperty(t))return!0;if(t.indexOf(".")!==-1){for(var r=t.split("."),h=e,y=0;y<r.length;y++)if(h.hasOwnProperty(r[y]))h=h[r[y]];else return!1;return!0}else return!1},_E=function(e){if(e.parentContainer)return _E(e.parentContainer);var t=RB(e);return t?_E(t):e},Dj=function(e){for(var t=_E(e).cameraFilter,r=e.scene.sys.cameras.cameras,h,y,P=0,n=r.length;P<n;P++)if(h=r[P],y=(t&h.id)>0,!y)return h;return null};class s4 extends Hi{constructor(t,r){super(t),this.targetCamera=void 0,this.boot()}boot(){this.scene.sys.events.on("prerender",this.resize,this)}destroy(){this.scene&&(this.scene.sys.events.off("prerender",this.resize,this),super.destroy())}resize(){var t=this.scene,r=this.parent,h=Dj(r);if(h){r.setScrollFactor(0).setOrigin(.5);var y=t.sys.scale.gameSize,P=y.width,n=y.height,T=1/h.zoom,i=P/2,a=n/2,x=P*T,d=n*T;(r.x!==i||r.y!==a)&&r.setPosition(i,a),(r.width!==x||r.height!==d)&&r.setSize(x,d)}}}const Bj=Phaser.GameObjects.Zone;let kP=class extends Bj{constructor(t){super(t,0,0,2,2),this.fullWindow=new s4(this)}};var Ij=function(e,t){var r=!t.textArea;if(!Bo(t,"wrap.vAlign")){var h=r?"center":"top";Lt(t,"wrap.vAlign",h)}if(Bo(t,"wrap.wrapMode")||Lt(t,"wrap.wrapMode","char"),!Bo(t,"wrap.maxLines")){var h=r?1:void 0;Lt(t,"wrap.maxLines",h)}if(r&&Lt(t,"wrap.wrapWidth",1/0),Bo(t,"wrap.useDefaultTextHeight")||Lt(t,"wrap.useDefaultTextHeight",!0),t.edit||(t.edit={}),!Bo(t.edit,"inputType")){var h=r?"text":"textarea";Lt(t.edit,"inputType",h)}if(t.clickOutSideTarget===!0){var y=new kP(e);e.add.existing(y),t.clickOutSideTarget=y}return t},D0=function(e,t,r,h){if(r===void 0&&(r="."),h===void 0&&(h={}),!e)return h;if(t in e)return Object.assign(h,e[t]);t+=r;for(var y in e)y.startsWith(t)&&(h[y.replace(t,"")]=e[y]);return h},Gj=function(){var e=this.scene.input.keyboard;this.textEdit.on("open",function(){e.on("keydown-UP",this.cursorMoveUp,this).on("keydown-DOWN",this.cursorMoveDown,this)},this).on("close",function(){e.off("keydown-UP",this.cursorMoveUp,this).off("keydown-DOWN",this.cursorMoveDown,this)},this)},fx=function(e,t,r){if(r===void 0&&(r={}),Array.isArray(t))for(var h,y=0,P=t.length;y<P;y++)h=t[y],r[h]=e[h];else for(var h in t)r[h]=e[h];return r},Xv=function(e,t){for(var r in e)if(!(r in t)||e[r]!==t[r])return!1;for(var r in t)if(!(r in e))return!1;return!0},kj=function(e){Wv(e)||this.setCursorStyle(e).on("cursorin",function(t){var r=this.cursorStyle,h=fx(t.style,r);Xv(r,h)||(t.styleSave=h,t.modifyStyle(r))},this).on("cursorout",function(t){t.styleSave&&(t.modifyStyle(t.styleSave),t.styleSave=void 0)},this)},Nj=function(e){Wv(e)||this.setRangeStyle(e).on("rangein",function(t){var r=this.rangeStyle,h=fx(t.style,r);Xv(r,h)||(t.styleSave=h,t.modifyStyle(r))},this).on("rangeout",function(t){t.styleSave&&(t.modifyStyle(t.styleSave),t.styleSave=void 0)},this)},zj=function(e){Wv(e)||this.setFocusStyle(e).on("open",function(){var t=this.background,r=this.focusStyle,h=fx(t,r);Xv(r,h)||(t.styleSave=h,t.modifyStyle(r))},this).on("close",function(){var t=this.background;t.styleSave&&(t.modifyStyle(t.styleSave),t.styleSave=void 0)},this)},Uj=function(e){var t=e.createCharChild("|");return t.text="",t};function Uo(){}Uo.prototype={diff(e,t,r={}){let h=r.callback;typeof r=="function"&&(h=r,r={}),this.options=r;let y=this;function P(o){return h?(setTimeout(function(){h(void 0,o)},0),!0):o}e=this.castInput(e),t=this.castInput(t),e=this.removeEmpty(this.tokenize(e)),t=this.removeEmpty(this.tokenize(t));let n=t.length,T=e.length,i=1,a=n+T;r.maxEditLength&&(a=Math.min(a,r.maxEditLength));let x=[{newPos:-1,components:[]}],d=this.extractCommon(x[0],t,e,0);if(x[0].newPos+1>=n&&d+1>=T)return P([{value:this.join(t),count:t.length}]);function l(){for(let o=-1*i;o<=i;o+=2){let s,f=x[o-1],c=x[o+1],u=(c?c.newPos:0)-o;f&&(x[o-1]=void 0);let v=f&&f.newPos+1<n,p=c&&0<=u&&u<T;if(!v&&!p){x[o]=void 0;continue}if(!v||p&&f.newPos<c.newPos?(s=Wj(c),y.pushComponent(s.components,void 0,!0)):(s=f,s.newPos++,y.pushComponent(s.components,!0,void 0)),u=y.extractCommon(s,t,e,o),s.newPos+1>=n&&u+1>=T)return P(Vj(y,s.components,t,e,y.useLongestToken));x[o]=s}i++}if(h)(function o(){setTimeout(function(){if(i>a)return h();l()||o()},0)})();else for(;i<=a;){let o=l();if(o)return o}},pushComponent(e,t,r){let h=e[e.length-1];h&&h.added===t&&h.removed===r?e[e.length-1]={count:h.count+1,added:t,removed:r}:e.push({count:1,added:t,removed:r})},extractCommon(e,t,r,h){let y=t.length,P=r.length,n=e.newPos,T=n-h,i=0;for(;n+1<y&&T+1<P&&this.equals(t[n+1],r[T+1]);)n++,T++,i++;return i&&e.components.push({count:i}),e.newPos=n,T},equals(e,t){return this.options.comparator?this.options.comparator(e,t):e===t||this.options.ignoreCase&&e.toLowerCase()===t.toLowerCase()},removeEmpty(e){let t=[];for(let r=0;r<e.length;r++)e[r]&&t.push(e[r]);return t},castInput(e){return e},tokenize(e){return e.split("")},join(e){return e.join("")}};function Vj(e,t,r,h,y){let P=0,n=t.length,T=0,i=0;for(;P<n;P++){let x=t[P];if(x.removed){if(x.value=e.join(h.slice(i,i+x.count)),i+=x.count,P&&t[P-1].added){let d=t[P-1];t[P-1]=t[P],t[P]=d}}else{if(!x.added&&y){let d=r.slice(T,T+x.count);d=d.map(function(l,o){let s=h[i+o];return s.length>l.length?s:l}),x.value=e.join(d)}else x.value=e.join(r.slice(T,T+x.count));T+=x.count,x.added||(i+=x.count)}}let a=t[n-1];return n>1&&typeof a.value=="string"&&(a.added||a.removed)&&e.equals("",a.value)&&(t[n-2].value+=a.value,t.pop()),t}function Wj(e){return{newPos:e.newPos,components:e.components.slice(0)}}const Yj=new Uo;function Xj(e,t,r){return Yj.diff(e,t,r)}const TL=/^[a-zA-Z\u{C0}-\u{FF}\u{D8}-\u{F6}\u{F8}-\u{2C6}\u{2C8}-\u{2D7}\u{2DE}-\u{2FF}\u{1E00}-\u{1EFF}]+$/u,EL=/\S/,a4=new Uo;a4.equals=function(e,t){return this.options.ignoreCase&&(e=e.toLowerCase(),t=t.toLowerCase()),e===t||this.options.ignoreWhitespace&&!EL.test(e)&&!EL.test(t)};a4.tokenize=function(e){let t=e.split(/([^\S\r\n]+|[()[\]{}'"\r\n]|\b)/);for(let r=0;r<t.length-1;r++)!t[r+1]&&t[r+2]&&TL.test(t[r])&&TL.test(t[r+2])&&(t[r]+=t[r+2],t.splice(r+1,2),r--);return t};const o4=new Uo;o4.tokenize=function(e){let t=[],r=e.split(/(\n|\r\n)/);r[r.length-1]||r.pop();for(let h=0;h<r.length;h++){let y=r[h];h%2&&!this.options.newlineIsToken?t[t.length-1]+=y:(this.options.ignoreWhitespace&&(y=y.trim()),t.push(y))}return t};const Hj=new Uo;Hj.tokenize=function(e){return e.split(/(\S.+?[.!?])(?=\s+|$)/)};const $j=new Uo;$j.tokenize=function(e){return e.split(/([{}:;,]|\s+)/)};const Kj=Object.prototype.toString,Fv=new Uo;Fv.useLongestToken=!0;Fv.tokenize=o4.tokenize;Fv.castInput=function(e){const{undefinedReplacement:t,stringifyReplacer:r=(h,y)=>typeof y>"u"?t:y}=this.options;return typeof e=="string"?e:JSON.stringify(tP(e,null,null,r),r,"  ")};Fv.equals=function(e,t){return Uo.prototype.equals.call(Fv,e.replace(/,([\r\n])/g,"$1"),t.replace(/,([\r\n])/g,"$1"))};function tP(e,t,r,h,y){t=t||[],r=r||[],h&&(e=h(y,e));let P;for(P=0;P<t.length;P+=1)if(t[P]===e)return r[P];let n;if(Kj.call(e)==="[object Array]"){for(t.push(e),n=new Array(e.length),r.push(n),P=0;P<e.length;P+=1)n[P]=tP(e[P],t,r,h,y);return t.pop(),r.pop(),n}if(e&&e.toJSON&&(e=e.toJSON()),typeof e=="object"&&e!==null){t.push(e),n={},r.push(n);let T=[],i;for(i in e)e.hasOwnProperty(i)&&T.push(i);for(T.sort(),P=0;P<T.length;P+=1)i=T[P],n[i]=tP(e[i],t,r,h,i);t.pop(),r.pop()}else n=e;return n}const eP=new Uo;eP.tokenize=function(e){return e.slice()};eP.join=eP.removeEmpty=function(e){return e};const Zj=Phaser.Utils.Array.Remove;var Jj=function(e,t){var r=e.text;if(t!==r){if(r==null&&(r=""),Zj(e.children,e.lastInsertCursor),t==="")e.removeChildren();else for(var h=Xj(r,t),y=0,P=0,n=h.length;P<n;P++){var T=h[P];T.removed?e.removeText(y,T.count):(T.added&&e.insertText(y,T.value),y+=T.count)}e.children.push(e.lastInsertCursor),e.runWrap(),e.isOpened&&e.textEdit.setText(t),e.emit("textchange",t,e)}};const Qj={setTextOYByPercentage(e){return this.setTextOY(-this.textVisibleHeight*e),this},getTextOYPercentage(){var e=this.textVisibleHeight;return e===0?0:this._textOY/-e},setTextOXByPercentage(e){return this.setTextOX(-this.textVisibleWidth*e),this},getTextOXPercentage(){var e=this.textVisibleWidth;return e===0?0:this._textOX/-e}},Vm=Phaser.Math.Clamp;var PL=function(e,t){var r={lineIndex:0,position:0};if(t<0)return r;for(var h=0,y=e.length;h<y;h++){var P=e[h];if(t<=P){r.lineIndex=h;break}t-=P}return r.position=t,r},ML=function(e,t){var r=0,h=t.lineIndex;if(h<0)return r;for(var y=0,P=e.length;y<P;y++){var n=e[y];if(h>y)r+=n;else if(h===y)r+=Math.min(t.position,n);else break}return r};const jj={cursorMoveLeft(){if(!this.isOpened)return this;var e=Vm(this.cursorPosition-1,0,this.inputText.length);return this.setCursorPosition(e),this},cursorMoveRight(){if(!this.isOpened)return this;var e=Vm(this.cursorPosition+1,0,this.inputText.length);return this.setCursorPosition(e),this},cursorMoveUp(){if(!this.isOpened)return this;var e=PL(this.characterCountOfLines,this.cursorPosition);e.lineIndex-=1;var t=Vm(ML(this.characterCountOfLines,e),0,this.inputText.length);return this.setCursorPosition(t),this},cursorMoveDown(){if(!this.isOpened)return this;var e=PL(this.characterCountOfLines,this.cursorPosition);e.lineIndex+=1;var t=Vm(ML(this.characterCountOfLines,e),0,this.inputText.length);return this.setCursorPosition(t),this}},bL=Phaser.Utils.Objects.IsPlainObject;class Hv extends nd{constructor(t,r,h,y,P,n){bL(r)?n=r:bL(y)&&(n=y),n===void 0&&(n={}),Ij(t,n);var T=n.text;T&&delete n.text;var i=D0(n.background,"focus"),a=D0(n.style,"cursor"),x=D0(n.style,"range");super(t,r,h,y,P,n),this.type="rexCanvasInput",this.contentWidth=void 0,this.contentHeight=void 0,this.lineHeight=void 0,this.linesCount=void 0,this.characterCountOfLines=[],this._text,this.textEdit=Fj(this,n),Gj.call(this),n.focusStyle&&Object.assign(i,n.focusStyle),zj.call(this,i),n.cursorStyle&&Object.assign(a,n.cursorStyle),kj.call(this,a),n.rangeStyle&&Object.assign(x,n.rangeStyle),Wv(x)&&Object.assign(x,a),Nj.call(this,x);var d=n.onAddChar;d&&this.on("addchar",d);var l=n.onCursorIn;l&&this.on("cursorin",l);var o=n.onCursorOut;o&&this.on("cursorout",o);var s=!n.onRangeIn&&!n.onRangeOut,f=s?n.onCursorIn:n.onRangeIn;f&&this.on("rangein",f);var c=s?n.onCursorOut:n.onRangeOut;c&&this.on("rangeout",c);var u=n.onMoveCursor;u&&this.on("movecursor",u),this.setParseTextCallback(n.parseTextCallback),this.lastInsertCursor=Uj(this),T||(T=""),this.setText(T)}addChild(t,r){if(super.addChild(t,r),Array.isArray(t))for(var h=t,y=0,P=h.length;y<P;y++){var t=h[y];ou(t)&&this.emit("addchar",t,r+y,this)}else ou(t)&&this.emit("addchar",t,r,this);return this}get text(){return this._text}set text(t){t==null?t="":t=t.toString(),this._text!==t&&(Jj(this,t),this._text=t)}setText(t){return this.text=t,this}appendText(t){return this.setText(this.text+t),this}runWrap(t){var r=super.runWrap(t);this.contentWidth=r.maxLineWidth,this.contentHeight=r.linesHeight,this.lineHeight=r.lineHeight,this.linesCount=r.lines.length,this.characterCountOfLines.length=0;for(var h=r.lines,y=0,P=h.length;y<P;y++){for(var n=h[y].children,T=0,i=0,a=n.length;i<a;i++){var x=n[i];x.active&&!x.removed&&ou(x)&&T++}this.characterCountOfLines.push(T)}return r}setSize(t,r){return this.width===t&&this.height===r?this:(super.setSize(t,r),this.runWrap(),this)}get displayText(){return this.text}set displayText(t){this.text=t}setDisplayText(t){return this.displayText=t,this}get inputText(){return this.textEdit.text}set inputText(t){this.textEdit.text=t}setInputText(t){return this.inputText=t,this}setParseTextCallback(t){return t||(t=qj),this.parseTextCallback=t,this}get value(){return this.parseTextCallback(this.text)}set value(t){this.setText(t)}getValue(){return this.value}setValue(t){return this.value=t,this}get readOnly(){return this.textEdit.readOnly}set readOnly(t){this.textEdit.readOnly=t}setReadOnly(t){return this.textEdit.setReadOnly(t),this}open(t){return t&&this.textEdit.once("close",t),this.textEdit.open(),this}close(){return this.textEdit.close(),this}get isOpened(){return this.textEdit.isOpened}setFocusStyle(t){return this.focusStyle=t,this}setCursorStyle(t){return this.cursorStyle=t,this}setRangeStyle(t){return this.rangeStyle=t,this}setNumberInput(){return this.textEdit.setNumberInput().setSelectAllWhenFocusEnable(),this.parseTextCallback=Number,this}get maxLength(){return this.textEdit.maxLength}set maxLength(t){this.textEdit.maxLength=t}setMaxLength(t){return this.maxLength=t,this}get minLength(){return this.textEdit.minLength}set minLength(t){this.textEdit.minLength=t}setMinLength(t){return this.minLength=t,this}get cursorPosition(){return this.textEdit.cursorPosition}set cursorPosition(t){this.isOpened&&(this.textEdit.cursorPosition=t,this.textEdit.requestCursorPosition=t)}setCursorPosition(t){return this.cursorPosition=t,this}get topTextOY(){return 0}get bottomTextOY(){return-this.tableVisibleHeight}get leftTextOX(){return 0}get rightTextOX(){return-this.textVisibleWidth}get textVisibleHeight(){var t=this.contentHeight-this.height;return t<0&&(t=0),t}get textVisibleWidth(){var t=this.contentWidth-this.width;return t<0&&(t=0),t}set t(t){this.setTextOYByPercentage(t).updateTexture()}get t(){return this.getTextOYPercentage()}set s(t){this.setTextOXByPercentage(t).updateTexture()}get s(){return this.getTextOXPercentage()}}var qj=function(e){return e};Object.assign(Hv.prototype,Qj,jj);It.register("canvasInput",function(e,t,r,h,y){var P=new Hv(this.scene,e,t,r,h,y);return this.scene.add.existing(P),P});Lt(window,"RexPlugins.UI.CanvasInput",Hv);var NP=function(e){return hu(e).loop.delta};const wL=Phaser.Utils.Objects.GetValue,_j=Phaser.Math.Wrap;class h4 extends GP{constructor(t,r){r===void 0&&(r={}),r.onUpdate==="number"&&(r.onUpdate=n4),super(t,r),this.setCursor(wL(r,"cursor","|")),this.setCursorFlashDuration(wL(r,"cursorFlashDuration",1e3)),this.cursorFlashTimer=0}initText(){return this.cursorFlashTimer=0,this.prevCursorPosition=void 0,this.setText(this.parent.text),this.setCursorPosition(),this}updateText(){var t=this.parent,r=this.text;if(this.onUpdateCallback){var h=this.onUpdateCallback(r,t,this);h!=null&&(r=h)}if(this.isOpened&&this.hasCursor){var y=this.cursorPosition;r=r.substring(0,y)+this.cursor+r.substring(y),this.prevCursorPosition!==y&&(this.prevCursorPosition=y)}return t.text!==r&&(t.setText(r),this.emit("textchange",r,t,this)),this}setCursor(t){return this._cursor=t,this.hasCursor=t&&t!=="",t}setCursorFlashDuration(t){return this.cursorFlashDuration=t,this}get cursor(){if(!this._isFocused)return this._cursor;var t;this.cursorFlashTimer<this.cursorFlashDuration/2?t=this._cursor:t=" ";var r=this.cursorFlashTimer+NP(this.scene);return this.cursorFlashTimer=_j(r,0,this.cursorFlashDuration),t}}It.register("hiddenEdit",function(e,t){var r=new h4(e,t);return r});Lt(window,"RexPlugins.UI.HiddenEdit",h4);const tq=Phaser.GameObjects.GetCalcMatrix;var eq=function(e,t,r,h){t.updateData(),r.addToRenderList(t);var y=e.pipelines.set(t.pipeline),P=tq(t,r,h),n=y.calcMatrix.copyFrom(P.calc),T=t._displayOriginX,i=t._displayOriginY,a=r.alpha*t.alpha;e.pipelines.preBatch(t);for(var x=t.geom,d,l=0,o=x.length;l<o;l++)d=x[l],d.visible&&d.webglRender(y,n,a,T,i);e.pipelines.postBatch(t)};const iq=Phaser.Renderer.Canvas.SetTransform;var rq=function(e,t,r,h){t.updateData(),r.addToRenderList(t);var y=e.currentContext;if(iq(e,y,t,r,h)){for(var P=t._displayOriginX,n=t._displayOriginY,T=t.geom,i,a=0,x=T.length;a<x;a++)i=T[a],i.visible&&i.canvasRender(y,P,n);y.restore()}};const nq={renderWebGL:eq,renderCanvas:rq},sq=Phaser.GameObjects.Shape,aq=Phaser.Utils.Array.Remove;class Vo extends sq{constructor(t,r,h,y,P){r===void 0&&(r=0),h===void 0&&(h=0),y===void 0&&(y=2),P===void 0&&(P=y),super(t,"rexShapes",[]),this._width=-1,this._height=-1,this.dirty=!0,this.isSizeChanged=!0,this.shapes={},this.setPosition(r,h),this.setSize(y,P),this.updateDisplayOrigin()}get width(){return this._width}set width(t){this.setSize(t,this._height)}get height(){return this._height}set height(t){this.setSize(this._width,t)}setDirty(t){return t===void 0&&(t=!0),this.dirty=t,this}setSize(t,r){this.isSizeChanged=this.isSizeChanged||this._width!==t||this._height!==r,this.dirty=this.dirty||this.isSizeChanged,this._width=t,this._height=r,this.updateDisplayOrigin();var h=this.input;return h&&!h.customHitArea&&(h.hitArea.width=t,h.hitArea.height=r),this}resize(t,r){return this.setSize(t,r),this}get fillColor(){return this._fillColor}set fillColor(t){this.setFillStyle(t,this._fillAlpha)}get fillAlpha(){return this._fillAlpha}set fillAlpha(t){this.setFillStyle(this._fillColor,t)}setFillStyle(t,r){return r===void 0&&(r=1),this.dirty=this.dirty||this.fillColor!==t||this.fillAlpha!==r,this._fillColor=t,this._fillAlpha=r,this}get lineWidth(){return this._lineWidth}set lineWidth(t){this.setStrokeStyle(t,this._strokeColor,this._strokeAlpha)}get strokeColor(){return this._strokeColor}set strokeColor(t){this.setStrokeStyle(this._lineWidth,t,this._strokeAlpha)}get strokeAlpha(){return this._strokeAlpha}set strokeAlpha(t){this.setStrokeStyle(this._lineWidth,this._strokeColor,t)}setStrokeStyle(t,r,h){return h===void 0&&(h=1),this.dirty=this.dirty||this.lineWidth!==t||this.strokeColor!==r||this.strokeAlpha!==h,this._lineWidth=t,this._strokeColor=r,this._strokeAlpha=h,this}updateShapes(){}updateData(){if(!this.dirty)return this;this.updateShapes();for(var t=this.geom,r=0,h=t.length;r<h;r++){var y=t[r];y.dirty&&y.updateData()}return this.isSizeChanged=!1,this.dirty=!1,this}clear(){return this.geom.length=0,Wh(this.shapes),this.dirty=!0,this}getShape(t){return this.shapes[t]}getShapes(){return this.geom}addShape(t){this.geom.push(t);var r=t.name;return r&&(this.shapes[r]=t),this.dirty=!0,this}deleteShape(t){var r=this.getShape(t);return r&&(delete this.shapes[t],aq(this.geom,r)),this}}Object.assign(Vo.prototype,nq);const oq={setBoxFillStyle(e,t){return t===void 0&&(t=1),this.dirty=this.dirty||this.boxFillColor!==e||this.boxFillAlpha!==t,this.boxFillColor=e,this.boxFillAlpha=t,this},setUncheckedBoxFillStyle(e,t){return t===void 0&&(t=1),this.dirty=this.dirty||this.uncheckedBoxFillColor!==e||this.uncheckedBoxFillAlpha!==t,this.uncheckedBoxFillColor=e,this.uncheckedBoxFillAlpha=t,this},setBoxStrokeStyle(e,t,r){return r===void 0&&(r=1),this.dirty=this.dirty||this.boxLineWidth!==e||this.boxStrokeColor!==t||this.boxStrokeAlpha!==r,this.boxLineWidth=e,this.boxStrokeColor=t,this.boxStrokeAlpha=r,this},setUncheckedBoxStrokeStyle(e,t,r){return r===void 0&&(r=1),this.dirty=this.dirty||this.uncheckedBoxLineWidth!==e||this.uncheckedBoxStrokeColor!==t||this.uncheckedBoxStrokeAlpha!==r,this.uncheckedBoxLineWidth=e,this.uncheckedBoxStrokeColor=t,this.uncheckedBoxStrokeAlpha=r,this},setCheckerStyle(e,t){return t===void 0&&(t=1),this.dirty=this.dirty||this.checkerColor!==e||this.checkAlpha!==t,this.checkerColor=e,this.checkAlpha=t,this},setBoxShape(e){return e===void 0&&(e=!1),this.isCircleShape===e?this:(this.isCircleShape=e,this.isSizeChanged=!0,this.dirty=!0,this)}},hq={setBoxSize(e){return this.dirty=this.dirty||this.boxSize!==e,this.boxSize=e,this},setCheckerSize(e){return this.dirty=this.dirty||this.checkerSize!==e,this.checkerSize=e,this}};var lq=function(e,t){return e==null?this.isFilled=!1:(t===void 0&&(t=1),this.isFilled=!0,this.fillColor=e,this.fillAlpha=t),this},uq=function(e,t,r){return e==null||t==null?this.isStroked=!1:(r===void 0&&(r=1),this.isStroked=!0,this.lineWidth=e,this.strokeColor=t,this.strokeAlpha=r),this};const fq={fillStyle:lq,lineStyle:uq};class dx{constructor(){this.name=void 0,this.dirty=!0,this.visible=!0,this.data=void 0,this.isFilled=!1,this.fillColor=void 0,this.fillAlpha=1,this.isStroked=!1,this.lineWidth=1,this.strokeColor=void 0,this.strokeAlpha=1}setName(t){return this.name=t,this}setVisible(t){return t===void 0&&(t=!0),this.visible=t,this}reset(){return this.setVisible().fillStyle().lineStyle(),this}webglRender(t,r,h,y,P){}canvasRender(t,r,h){}updateData(){this.dirty=!1}}Object.assign(dx.prototype,fq,rx);const dq=Phaser.Geom.Polygon.Earcut;class $v extends dx{constructor(){super(),this.pathData=[],this.pathIndexes=[],this.closePath=!1}updateData(){return this.pathIndexes=dq(this.pathData),super.updateData(),this}webglRender(t,r,h,y,P){this.isFilled&&H3(t,r,this,h,y,P),this.isStroked&&nx(t,this,h,y,P)}canvasRender(t,r,h){var y=this.pathData,P=y.length-1,n=y[0]-r,T=y[1]-h;t.beginPath(),t.moveTo(n,T),this.closePath||(P-=2);for(var i=2;i<P;i+=2){var a=y[i]-r,x=y[i+1]-h;t.lineTo(a,x)}this.closePath&&t.closePath(),this.isFilled&&(Nv(t,this),t.fill()),this.isStroked&&(zv(t,this),t.stroke())}}const RL=Phaser.Math.DegToRad;class hd extends $v{constructor(t,r,h,y,P,n,T,i){t===void 0&&(t=0),r===void 0&&(r=0),h===void 0&&(h=0),y===void 0&&(y=0),P===void 0&&(P=0),n===void 0&&(n=360),T===void 0&&(T=!1),i===void 0&&(i=!1),super(),this.setCenterPosition(t,r),this.setRadius(h,y),this.setAngle(P,n,T),this.setPie(i),this.setIterations(32)}get x(){return this._x}set x(t){this.dirty=this.dirty||this._x!==t,this._x=t}get y(){return this._y}set y(t){this.dirty=this.dirty||this._y!==t,this._y=t}setCenterPosition(t,r){return r===void 0&&(r=t),this.x=t,this.y=r,this}get radiusX(){return this._radiusX}set radiusX(t){this.dirty=this.dirty||this._radiusX!==t,this._radiusX=t}get radiusY(){return this._radiusY}set radiusY(t){this.dirty=this.dirty||this._radiusY!==t,this._radiusY=t}setRadius(t,r){return r===void 0&&(r=t),this.radiusX=t,this.radiusY=r,this}get startAngle(){return this._startAngle}set startAngle(t){this.dirty=this.dirty||this._startAngle!==t,this._startAngle=t}get endAngle(){return this._endAngle}set endAngle(t){this.dirty=this.dirty||this._endAngle!==t,this._endAngle=t}get anticlockwise(){return this._anticlockwise}set anticlockwise(t){this.dirty=this.dirty||this._anticlockwise!==t,this._anticlockwise=t}setAngle(t,r,h){return h===void 0&&(h=!1),this.startAngle=t,this.endAngle=r,this.anticlockwise=h,this}get pie(){return this._pie}set pie(t){this.dirty=this.dirty||this._pie!==t,this._pie=t}setPie(t){return t===void 0&&(t=!0),this.pie=t,this}get iterations(){return this._iterations}set iterations(t){this.dirty=this.dirty||this._iterations!==t,this._iterations=t}setIterations(t){return this.iterations=t,this}updateData(){return this.pathData.length=0,this.pie&&this.pathData.push(this.x,this.y),kr(this.x,this.y,this.radiusX,this.radiusY,this.startAngle,this.endAngle,this.anticlockwise,this.iterations,this.pathData),this.pie&&this.pathData.push(this.x,this.y),this.pathData.push(this.pathData[0],this.pathData[1]),super.updateData(),this}canvasRender(t,r,h){t.beginPath();var y=this.x-r,P=this.y-h,n=RL(this.startAngle),T=RL(this.endAngle);this.pie&&(t.moveTo(y,P),t.lineTo(y+Math.cos(n)*this.radiusX,P+Math.sin(n)*this.radiusY)),t.ellipse(y,P,this.radiusX,this.radiusY,0,n,T,this.anticlockwise),this.pie&&t.lineTo(y,P),this.isFilled&&(Nv(t,this),t.fill()),this.isStroked&&(zv(t,this),t.stroke())}}class Gs extends hd{constructor(t,r,h){super(t,r,h,h,0,360)}}class cq extends $v{constructor(t){super(),this.setCurve(t),this.setIterations(32)}get curve(){return this._curve}set curve(t){this.dirty=this.dirty||this._curve!==t,this._curve=t}setCurve(t){return this.curve=t,this}get iterations(){return this._iterations}set iterations(t){this.dirty=this.dirty||this._iterations!==t,this._iterations=t}setIterations(t){return this.iterations=t,this}updateData(){this.pathData.length=0;for(var t=this.curve.getPoints(this.iterations),r=0,h=t.length;r<h;r++)this.pathData.push(t[r].x,t[r].y);return this.pathData.push(t[0].x,t[0].y),super.updateData(),this}}class vq extends hd{constructor(t,r,h,y){super(t,r,h,y,0,360)}}class Hh extends $v{constructor(t,r,h,y){t===void 0&&(t=0),r===void 0&&(r=0),h===void 0&&(h=0),y===void 0&&(y=0),super(),this.setP0(t,r),this.setP1(h,y)}get x0(){return this._x0}set x0(t){this.dirty=this.dirty||this._x0!==t,this._x0=t}get y0(){return this._y0}set y0(t){this.dirty=this.dirty||this._y0!==t,this._y0=t}setP0(t,r){return this.x0=t,this.y0=r,this}get x1(){return this._x1}set x1(t){this.dirty=this.dirty||this._x1!==t,this._x1=t}get y1(){return this._y1}set y1(t){this.dirty=this.dirty||this._y1!==t,this._y1=t}setP1(t,r){return this.x1=t,this.y1=r,this}updateData(){return this.pathData.length=0,this.pathData.push(this.x0,this.y0),this.pathData.push(this.x1,this.y1),this.pathData.push(this.x0,this.y0),super.updateData(),this}}var pq=function(e,t,r){return r.length=0,e!=null&&r.push(e,t),r};const AL=Phaser.Math.Interpolation.QuadraticBezier;var gq=function(e,t,r,h,y,P){for(var n=P.length,T=P[n-2],i=P[n-1],a=1,x=y-1;a<=x;a++){var d=a/x;P.push(AL(d,T,e,r),AL(d,i,t,h))}return P};const OL=Phaser.Math.Interpolation.CubicBezier;var mq=function(e,t,r,h,y,P,n,T){for(var i=T.length,a=T[i-2],x=T[i-1],d=1,l=n-1;d<=l;d++){var o=d/l;T.push(OL(o,a,e,r,y),OL(o,x,t,h,P))}return T};const LL=Phaser.Math.Interpolation.CatmullRom;var xq=function(e,t,r){for(var h=r.length,y=r[h-2],P=r[h-1],n=[y],T=[P],i=0,a=e.length;i<a;i+=2)n.push(e[i]),T.push(e[i+1]);for(var i=1,x=t-1;i<=x;i++){var d=i/x;r.push(LL(n,d),LL(T,d))}return r},l4=function(e){var t=e.length;if(t<2)return e;var r=e[t-2],h=e[t-1];return e.push(r),e.push(h),e};const yq={clear(){return this.start(),this},start(){return this.startAt(),this},startAt(e,t){return this.restorePathData(),this.accumulationLengths=void 0,pq(e,t,this.pathData),this.firstPointX=e,this.firstPointY=t,this.lastPointX=e,this.lastPointY=t,this},lineTo(e,t,r){return r===void 0&&(r=!1),r&&(e+=this.lastPointX,t+=this.lastPointY),Gr(e,t,this.pathData),this.lastPointX=e,this.lastPointY=t,this},verticalLineTo(e,t){return this.lineTo(e,this.lastPointY,t),this},horizontalLineTo(e,t){return this.lineTo(this.lastPointX,e,t),this},ellipticalArc(e,t,r,h,y,P,n){return n===void 0&&(n=!1),kr(e,t,r,h,y,P,n,this.iterations,this.pathData),this.lastPointX=this.pathData[this.pathData.length-2],this.lastPointY=this.pathData[this.pathData.length-1],this},arc(e,t,r,h,y,P){return this.ellipticalArc(e,t,r,r,h,y,P),this},quadraticBezierTo(e,t,r,h){return gq(e,t,r,h,this.iterations,this.pathData),this.lastPointX=r,this.lastPointY=h,this},cubicBezierTo(e,t,r,h,y,P){return mq(e,t,r,h,y,P,this.iterations,this.pathData),this.lastPointX=y,this.lastPointY=P,this},catmullRomTo(...e){return xq(e,this.iterations,this.pathData),this.lastPointX=e[e.length-2],this.lastPointY=e[e.length-1],this},close(){var e=this.pathData[0],t=this.pathData[1];return(e!==this.lastPointX||t!==this.lastPointY)&&this.lineTo(e,t),this.closePath=!0,this},end(){return l4(this.pathData),this}},Cq=Phaser.Math.RotateAround;var Sq=function(e,t,r,h){for(var y={x:0,y:0},P=0,n=h.length-1;P<n;P+=2)y.x=h[P],y.y=h[P+1],Cq(y,e,t,r),h[P]=y.x,h[P+1]=y.y;return h},Tq=function(e,t,r,h,y){for(var P=0,n=y.length-1;P<n;P+=2){var T=y[P]-e,i=y[P+1]-t;T*=r,i*=h,y[P]=T+e,y[P+1]=i+t}return y},u4=function(e,t,r){for(var h=0,y=r.length-1;h<y;h+=2)r[h]+=e,r[h+1]+=t;return r};const Eq=Phaser.Math.DegToRad;Phaser.Math.RotateAround;const Pq={rotateAround(e,t,r){if(this.pathData.length===0)return this;r=Eq(r),Sq(e,t,r,this.pathData);var h=this.pathData.length;return this.lastPointX=this.pathData[h-2],this.lastPointY=this.pathData[h-1],this},scale(e,t,r,h){return this.pathData.length===0?this:(Tq(e,t,r,h,this.pathData),this.lastPointX=this.pathData[pathDataCnt-2],this.lastPointY=this.pathData[pathDataCnt-1],this)},offset(e,t){return u4(e,t,this.pathData),this}};var V0=function(e,t,r,h){r===void 0&&(r=0),h===void 0&&(h=t.length),e.length=h-r;for(var y=0,P=e.length;y<P;y++)e[y]=t[y+r];return e};const Mq={savePathData(){return this.pathDataSaved?this:(this.pathDataSave=[...this.pathData],this.pathData.length=0,this.pathDataSaved=!0,this)},restorePathData(){return this.pathDataSaved?(V0(this.pathData,this.pathDataSave),this.pathDataSave=void 0,this.pathDataSaved=!1,this):this}},bq=Phaser.Math.Distance.Between,wq=Phaser.Math.Wrap,Rq=Phaser.Math.Linear;var FL=function(e,t,r,h,y){if(h===void 0&&(h=r,r=0),r=DL(r),h=DL(h),r!==h){var P=t[t.length-1],n=P*r,T=P*h;r<h?E1(e,t,n,T,y):(E1(e,t,n,P,y),E1(e,t,0,T,y)),l4(y)}},E1=function(e,t,r,h,y){for(var P=r>0,n=0,T=t.length;n<T;n++){var i=n*2,a=t[n];if(P){if(a<r)continue;if(a==r)P=!1;else{var x=a-t[n-1],d=1-(a-r)/x;y.push(Wm(e,i-2,i,d)),y.push(Wm(e,i-1,i+1,d)),P=!1}}if(a<=h){if(y.push(e[i]),y.push(e[i+1]),a===h)break}else{var x=a-t[n-1],d=1-(a-h)/x;y.push(Wm(e,i-2,i,d)),y.push(Wm(e,i-1,i+1,d));break}}},Wm=function(e,t,r,h){var y=e[t],P=e[r];return Rq(y,P,h)},DL=function(e){return e===0?0:e%1===0?1:wq(e,0,1)};const Aq={updateAccumulationLengths(){if(this.accumulationLengths==null)this.accumulationLengths=[];else if(this.accumulationLengths.length===this.pathData.length/2)return this;for(var e=this.accumulationLengths,t=this.pathData,r,h,y,P,n,T=0,i=0,a=t.length;i<a;i+=2)y=t[i],P=t[i+1],n=r===void 0?0:bq(r,h,y,P),T+=n,e.push(T),r=y,h=P;return this.totalPathLength=T,this},setDisplayPathSegment(e,t){return this.pathDataSaved||(this.updateAccumulationLengths(),this.savePathData()),this.pathData.length=0,FL(this.pathDataSave,this.accumulationLengths,e,t,this.pathData),this},appendFromPathSegment(e,t,r){return t===void 0?this.pathData.push(...e.pathData):(e.updateAccumulationLengths(),FL(e.pathData,e.accumulationLengths,t,r,this.pathData)),this.firstPointX=this.pathData[0],this.firstPointY=this.pathData[1],this.lastPointX=this.pathData[this.pathData.length-2],this.lastPointY=this.pathData[this.pathData.length-1],this}},Oq={draw(e,t,r){var h=this.toPoints();return t&&e.fillPoints(h,this.closePath,this.closePath),r&&e.strokePoints(h,this.closePath,this.closePath),this}};var Lq=function(e,t){t===void 0&&(t=[]);for(var r=0,h=e.length-1;r<h;r+=2)t.push({x:e[r],y:e[r+1]});return t};const Fq=Phaser.Geom.Polygon;var Dq=function(e,t){return t===void 0&&(t=new Fq),t.setTo(e),t};class f4{constructor(t){t===void 0&&(t=[]),this.pathData=t,this.closePath=!1,this.setIterations(32),this.firstPointX=void 0,this.firstPointY=void 0,this.lastPointX=void 0,this.lastPointY=void 0,this.accumulationLengths=void 0}setIterations(t){return this.iterations=t,this}toPoints(){return Lq(this.pathData)}toPolygon(t){return Dq(this.pathData,t)}}Object.assign(f4.prototype,yq,Pq,Mq,Aq,Oq);class tn extends $v{constructor(){super(),this.builder=new f4(this.pathData)}get iterations(){return this.builder.iterations}set iterations(t){this.dirty=this.dirty||this.builder.iterations!==t,this.builder.setIterations(t)}setIterations(t){return this.iterations=t,this}get lastPointX(){return this.builder.lastPointX}get lastPointY(){return this.builder.lastPointY}start(){return this.builder.start(),this.dirty=!0,this}startAt(t,r){return this.builder.startAt(t,r),this.dirty=!0,this}lineTo(t,r,h){return this.builder.lineTo(t,r,h),this.dirty=!0,this}verticalLineTo(t,r){return this.builder.verticalLineTo(t,r),this.dirty=!0,this}horizontalLineTo(t,r){return this.builder.horizontalLineTo(t,r),this.dirty=!0,this}ellipticalArc(t,r,h,y,P,n,T){return this.builder.ellipticalArc(t,r,h,y,P,n,T),this.dirty=!0,this}arc(t,r,h,y,P,n){return this.builder.arc(t,r,h,y,P,n),this.dirty=!0,this}quadraticBezierTo(t,r,h,y){return this.builder.quadraticBezierTo(t,r,h,y),this.dirty=!0,this}cubicBezierTo(t,r,h,y,P,n){return this.builder.cubicBezierTo(t,r,h,y,P,n),this.dirty=!0,this}catmullRomTo(...t){return this.builder.catmullRomTo(...t),this.dirty=!0,this}close(){return this.builder.close(),this.closePath=this.builder.closePath,this.dirty=!0,this}end(){return this.builder.end(),this.dirty=!0,this}rotateAround(t,r,h){return this.builder.rotateAround(t,r,h),this.dirty=!0,this}scale(t,r,h,y){return this.builder.scale(t,r,h,y),this.dirty=!0,this}offset(t,r){return this.builder.offset(t,r),this.dirty=!0,this}toPolygon(t){return this.builder.toPolygon(t)}appendPathFrom(t,r,h){return this.builder.appendFromPathSegment(t.builder,r,h),this}copyPathFrom(t,r,h){return this.builder.clear().appendFromPathSegment(t.builder,r,h),this}setDisplayPathSegment(t,r){return this.builder.setDisplayPathSegment(t,r),this}}const Bq=Phaser.Renderer.WebGL.Utils.getTintAppendFloatAlpha;let Iq=class extends dx{constructor(t,r,h,y){t===void 0&&(t=0),r===void 0&&(r=0),h===void 0&&(h=0),y===void 0&&(y=h),super(),this.pathData=[],this.closePath=!0,this.setTopLeftPosition(t,r),this.setSize(h,y)}get x(){return this._x}set x(t){this.dirty=this.dirty||this._x!==t,this._x=t}get y(){return this._y}set y(t){this.dirty=this.dirty||this._y!==t,this._y=t}setTopLeftPosition(t,r){return this.x=t,this.y=r,this}get width(){return this._width}set width(t){this.dirty=this.dirty||this._width!==t,this._width=t}get height(){return this._height}set height(t){this.dirty=this.dirty||this._height!==t,this._height=t}setSize(t,r){return this.width=t,this.height=r,this}get centerX(){return this.x+this.width/2}set centerX(t){this.x=t-this.width/2}get centerY(){return this.y+this.height/2}set centerY(t){this.y=t-this.height/2}setCenterPosition(t,r){return this.centerX=t,this.centerY=r,this}updateData(){this.pathData.length=0;var t=this.x,r=t+this.width,h=this.y,y=h+this.height;return this.pathData.push(t,h),this.pathData.push(r,h),this.pathData.push(r,y),this.pathData.push(t,y),this.pathData.push(t,h),super.updateData(),this}webglRender(t,r,h,y,P){if(this.isFilled){var n=t.fillTint,T=Bq(this.fillColor,this.fillAlpha*h);n.TL=T,n.TR=T,n.BL=T,n.BR=T,t.batchFillRect(-y+this.x,-P+this.y,this.width,this.height)}this.isStroked&&nx(t,this,h,y,P)}canvasRender(t,r,h){this.isFilled&&(Nv(t,this),t.fillRect(-r,-h,this.width,this.height)),this.isStroked&&(zv(t,this),t.beginPath(),t.rect(-r,-h,this.width,this.height),t.stroke())}};const Ym=Phaser.Utils.Objects.GetValue;class W0 extends $v{constructor(t,r,h,y,P,n){t===void 0&&(t=0),r===void 0&&(r=0),h===void 0&&(h=0),y===void 0&&(y=h),P===void 0&&(P=0),n===void 0&&(n=6),super(),this.setTopLeftPosition(t,r),this.setSize(h,y),this.setRadius(P),this.setIterations(n),this.closePath=!0}get x(){return this._x}set x(t){this.dirty=this.dirty||this._x!==t,this._x=t}get y(){return this._y}set y(t){this.dirty=this.dirty||this._y!==t,this._y=t}setTopLeftPosition(t,r){return this.x=t,this.y=r,this}get width(){return this._width}set width(t){this.dirty=this.dirty||this._width!==t,this._width=t}get height(){return this._height}set height(t){this.dirty=this.dirty||this._height!==t,this._height=t}setSize(t,r){return this.width=t,this.height=r,this}get centerX(){return this.x+this.width/2}set centerX(t){this.x=t-this.width/2}get centerY(){return this.y+this.height/2}set centerY(t){this.y=t-this.height/2}setCenterPosition(t,r){return this.centerX=t,this.centerY=r,this}get radiusTL(){return this._radiusTL}set radiusTL(t){var r=t>0;this.dirty=this.dirty||this._radiusTL!==t||this._convexTL!==r,this._convexTL=r,this._radiusTL=Math.abs(t)}get radiusTR(){return this._radiusTR}set radiusTR(t){var r=t>0;this.dirty=this.dirty||this._radiusTR!==t||this._convexTR!==r,this._convexTR=r,this._radiusTR=Math.abs(t)}get radiusBL(){return this._radiusBL}set radiusBL(t){var r=t>0;this.dirty=this.dirty||this._radiusBL!==t||this._convexBL!==r,this._convexBL=r,this._radiusBL=Math.abs(t)}get radiusBR(){return this._radiusBR}set radiusBR(t){var r=t>0;this.dirty=this.dirty||this._radiusBR!==t||this._convexBR!==r,this._convexBR=r,this._radiusBR=Math.abs(t)}get radius(){return Math.max(this.radiusTL,this.radiusTR,this.radiusBL,this.radiusBR)}set radius(t){typeof t=="number"?(this.radiusTL=t,this.radiusTR=t,this.radiusBL=t,this.radiusBR=t):(this.radiusTL=Ym(t,"tl",0),this.radiusTR=Ym(t,"tr",0),this.radiusBL=Ym(t,"bl",0),this.radiusBR=Ym(t,"br",0))}setRadius(t){return t===void 0&&(t=0),this.radius=t,this}get iterations(){return this._iterations}set iterations(t){this.dirty=this.dirty||this._iterations!==t,this._iterations=t}setIterations(t){return this.iterations=t,this}updateData(){var t=this.pathData;t.length=0;var r=this.width,h=this.height,y,P=this.iterations+1;if(y=this.radiusTL,y>0)if(this._convexTL){var n=y,T=y;kr(n,T,y,y,180,270,!1,P,t)}else{var n=0,T=0;kr(n,T,y,y,90,0,!0,P,t)}else Gr(0,0,t);if(y=this.radiusTR,y>0)if(this._convexTR){var n=r-y,T=y;kr(n,T,y,y,270,360,!1,P,t)}else{var n=r,T=0;kr(n,T,y,y,180,90,!0,P,t)}else Gr(r,0,t);if(y=this.radiusBR,y>0)if(this._convexBR){var n=r-y,T=h-y;kr(n,T,y,y,0,90,!1,P,t)}else{var n=r,T=h;kr(n,T,y,y,270,180,!0,P,t)}else Gr(r,h,t);if(y=this.radiusBL,y>0)if(this._convexBL){var n=y,T=h-y;kr(n,T,y,y,90,180,!1,P,t)}else{var n=0,T=h;kr(n,T,y,y,360,270,!0,P,t)}else Gr(0,h,t);return t.push(t[0],t[1]),u4(this.x,this.y,t),super.updateData(),this}}const Gq=Phaser.Renderer.WebGL.Utils.getTintAppendFloatAlpha;let kq=class extends dx{constructor(t,r,h,y,P,n){t===void 0&&(t=0),r===void 0&&(r=0),h===void 0&&(h=0),y===void 0&&(y=0),P===void 0&&(P=0),n===void 0&&(n=0),super(),this.pathData=[],this.closePath=!0,this.setP0(t,r),this.setP1(h,y),this.setP2(P,n)}get x0(){return this._x0}set x0(t){this.dirty=this.dirty||this._x0!==t,this._x0=t}get y0(){return this._y0}set y0(t){this.dirty=this.dirty||this._y0!==t,this._y0=t}setP0(t,r){return this.x0=t,this.y0=r,this}get x1(){return this._x1}set x1(t){this.dirty=this.dirty||this._x1!==t,this._x1=t}get y1(){return this._y1}set y1(t){this.dirty=this.dirty||this._y1!==t,this._y1=t}setP1(t,r){return this.x1=t,this.y1=r,this}get x2(){return this._x2}set x2(t){this.dirty=this.dirty||this._x2!==t,this._x2=t}get y2(){return this._y2}set y2(t){this.dirty=this.dirty||this._y2!==t,this._y2=t}setP2(t,r){return this.dirty=this.dirty||this.x2!==t||this.y2!==r,this.x2=t,this.y2=r,this}updateData(){return this.pathData.length=0,this.pathData.push(this.x0,this.y0),this.pathData.push(this.x1,this.y1),this.pathData.push(this.x2,this.y2),this.pathData.push(this.x0,this.y0),super.updateData(),this}webglRender(t,r,h,y,P){if(this.isFilled){var n=Gq(this.fillColor,this.fillAlpha*h),T=this.x0-y,i=this.y0-P,a=this.x1-y,x=this.y1-P,d=this.x2-y,l=this.y2-P,o=r.getX(T,i),s=r.getY(T,i),f=r.getX(a,x),c=r.getY(a,x),u=r.getX(d,l),v=r.getY(d,l);t.batchTri(o,s,f,c,u,v,n,n,n)}this.isStroked&&nx(t,this,h,y,P)}canvasRender(t,r,h){var y=this.x1-r,P=this.y1-h,n=this.x2-r,T=this.y2-h,i=this.x3-r,a=this.y3-h;t.beginPath(),t.moveTo(y,P),t.lineTo(n,T),t.lineTo(i,a),t.closePath(),this.isFilled&&(Nv(t,this),t.fill()),this.isStroked&&(zv(t,this),t.stroke())}};const Nq={buildShapes(){this.addShape(new W0().setName("box")).addShape(new tn().setName("checker"))},updateShapes(){var e=this.width/2,t=this.height/2,r=Math.min(e,t),h=r*2,y=e-r,P=t-r,n=this.boxLineWidth,T=Math.max(h/10,2),i=this.getShape("box"),a=this.getShape("checker");if(this.isSizeChanged){var l=h*(1-this.boxSize)/2,x=n/2,d=h*this.boxSize-n;i.setTopLeftPosition(y+x+l,P+x+l).setSize(d,d),this.isCircleShape?i.setRadius(d/2):i.setRadius(0);var l=h*(1-this.checkerSize)/2,o=h*this.checkerSize/4,s=o*1,f=o*2,c=o*3;a.startAt(s,f).lineTo(f,c).lineTo(c,s).offset(y+l,P+l).end()}this.checked?(i.fillStyle(this.boxFillColor,this.boxFillAlpha).lineStyle(n,this.boxStrokeColor,this.boxStrokeAlpha),a.lineStyle(T,this.checkerColor)):(i.fillStyle(this.uncheckedBoxFillColor,this.uncheckedBoxFillAlpha).lineStyle(n,this.uncheckedBoxStrokeColor,this.uncheckedBoxStrokeAlpha),a.lineStyle()),this.checked&&a.setDisplayPathSegment(this.checkerAnimProgress)}},Mh=Phaser.Utils.Objects.GetValue,zq=Phaser.Math.Linear;class zo extends cu{constructor(t,r){super(t,r),this.resetFromJSON(),this.boot()}start(t){if(this.timer.isRunning)return this;var r=this.target;this.propertyKey=Mh(t,"key","value");var h=r[this.propertyKey];return this.fromValue=Mh(t,"from",h),this.toValue=Mh(t,"to",h),this.setEase(Mh(t,"ease",this.ease)),this.setDuration(Mh(t,"duration",this.duration)),this.setRepeat(Mh(t,"repeat",0)),this.setDelay(Mh(t,"delay",0)),this.setRepeatDelay(Mh(t,"repeatDelay",0)),this.timer.setDuration(this.duration).setRepeat(this.repeat).setDelay(this.delay).setRepeatDelay(this.repeatDelay),r[this.propertyKey]=this.fromValue,super.start(),this}updateTarget(t,r){var h=r.t;h=this.easeFn(h),t[this.propertyKey]=zq(this.fromValue,this.toValue,h)}}const Uq={setCheckerAnimationDuration(e){return e===void 0&&(e=0),this.checkerAnimDuration=e,this},playCheckerAnimation(){return this.checkerAnimProgressTask===void 0&&(this.checkerAnimProgressTask=new zo(this,{eventEmitter:null})),this.checkerAnimProgressTask.restart({key:"checkerAnimProgress",from:0,to:1,duration:this.checkerAnimDuration}),this},stopCheckerAnimation(){return this.checkerAnimProgressTask===void 0?this:(this.checkerAnimProgressTask.stop(),this)}};var d4={};Object.assign(d4,oq,hq,Nq,Uq);const Ev=23730,Vq=16777215,tr=Phaser.Utils.Objects.GetValue,BL=Phaser.Utils.Objects.IsPlainObject;class c4 extends Vo{constructor(t,r,h,y,P,n,T){BL(r)?(T=r,r=tr(T,"x",0),h=tr(T,"y",0),y=tr(T,"width",2),P=tr(T,"height",2),n=tr(T,"color",Ev)):BL(n)&&(T=n,n=tr(T,"color",Ev)),super(t,r,h,y,P),this.type="rexCheckbox",n===void 0&&(n=Ev),this.setBoxShape(tr(T,"circleBox",!1)),this.setBoxFillStyle(n,tr(T,"boxFillAlpha",1)),this.setUncheckedBoxFillStyle(tr(T,"uncheckedColor",null),tr(T,"uncheckedBoxFillAlpha",1)),this.setBoxStrokeStyle(tr(T,"boxLineWidth",4),tr(T,"boxStrokeColor",n),tr(T,"boxStrokeAlpha",1)),this.setUncheckedBoxStrokeStyle(this.boxLineWidth,tr(T,"uncheckedBoxStrokeColor",this.boxStrokeColor),tr(T,"uncheckedBoxStrokeAlpha",this.boxStrokeAlpha)),this.setCheckerStyle(tr(T,"checkerColor",Vq),tr(T,"checkerAlpha",1)),this.setBoxSize(tr(T,"boxSize",1)),this.setCheckerSize(tr(T,"checkerSize",1)),this.setCheckerAnimationDuration(tr(T,"animationDuration",150)),this.buildShapes();var i=tr(T,"checked");i===void 0&&(i=tr(T,"value",!1)),this.setValue(i)}get value(){return this._value}set value(t){t=!!t,this._value!==t&&(this.dirty=!0,this._value=t,t?this.playCheckerAnimation():this.stopCheckerAnimation(),this.emit("valuechange",t))}setValue(t){return this.value=t,this}toggleValue(){return this.setValue(!this.value),this}get checked(){return this.value}set checked(t){this.value=t}setChecked(t){return t===void 0&&(t=!0),this.setValue(t),this}toggleChecked(){return this.toggleValue(),this}get checkerAnimProgress(){return this._checkerAnimProgress}set checkerAnimProgress(t){this._checkerAnimProgress!==t&&(this._checkerAnimProgress=t,this.dirty=!0)}}Object.assign(c4.prototype,d4);const _c=Phaser.Utils.Objects.GetValue;class Wo extends Hi{constructor(t,r){super(t,r),this._enable=void 0,t.setInteractive(_c(r,"inputConfig",void 0)),this.resetFromJSON(r),this.boot()}resetFromJSON(t){return this.pointer=void 0,this.lastClickTime=void 0,this.isDown=!1,this.isOver=!1,this.setEnable(_c(t,"enable",!0)),this.setMode(_c(t,"mode",1)),this.setClickInterval(_c(t,"clickInterval",100)),this.setDragThreshold(_c(t,"threshold",void 0)),this}boot(){var t=this.parent;t.on("pointerdown",this.onPress,this),t.on("pointerup",this.onRelease,this),t.on("pointerout",this.onPointOut,this),t.on("pointermove",this.onMove,this),t.on("pointerover",this.onOver,this),t.on("pointerout",this.onOut,this)}shutdown(t){this.isShutdown||(this.pointer=null,super.shutdown(t))}get enable(){return this._enable}set enable(t){if(this._enable!==t){t||this.cancel(),this._enable=t;var r=t?"enable":"disable";this.emit(r,this,this.parent)}}setEnable(t){return t===void 0&&(t=!0),this.enable=t,this}toggleEnable(){return this.setEnable(!this.enable),this}setMode(t){return typeof t=="string"&&(t=Wq[t]),this.mode=t,this}setClickInterval(t){return this.clickInterval=t,this}setDragThreshold(t){return this.dragThreshold=t,this}onPress(t,r,h,y){this.pointer===void 0&&(this.pointer=t,this.isDown=!0,this.emit("down",this,this.parent,t,y),this.mode===0&&this.click(t.downTime,t,y))}onRelease(t,r,h,y){this.pointer===t&&(this.isDown=!1,this.emit("up",this,this.parent,t,y),this.mode===1&&this.click(t.upTime,t,y),this.pointer=void 0)}onPointOut(t,r){this.pointer===t&&this.cancel()}onMove(t,r,h,y){this.pointer===t&&this.dragThreshold!==void 0&&this.mode===1&&t.getDistance()>=this.dragThreshold&&this.cancel()}onOver(t,r,h,y){return this.enable?(this.isOver=!0,this.emit("over",this,this.parent,t,y),this):this}onOut(t,r){return this.enable?(this.isOver=!1,this.emit("out",this,this.parent,t,r),this):this}click(t,r,h){if(!this.enable)return this;if(t===void 0)return this.emit("click",this,this.parent,r,h),this;this.pointer=void 0;var y=this.lastClickTime;return y!==void 0&&t-y<=this.clickInterval?this:(this.lastClickTime=t,this.emit("click",this,this.parent,r,h),this)}cancel(){return this.pointer=void 0,this}}const Wq={press:0,pointerdown:0,release:1,pointerup:1},bh=Phaser.Utils.Objects.GetValue,IL=Phaser.Utils.Objects.IsPlainObject;class zP extends c4{constructor(t,r,h,y,P,n,T){IL(r)?(T=r,r=bh(T,"x",0),h=bh(T,"y",0),y=bh(T,"width",2),P=bh(T,"height",2),n=bh(T,"color",Ev)):IL(n)&&(T=n,n=bh(T,"color",Ev)),super(t,r,h,y,P,n,T),this._click=new Wo(this,bh(T,"click")),this._click.on("click",function(){this.toggleValue()},this),this.setReadOnly(bh(T,"readOnly",!1))}get readOnly(){return!this._click.enable}set readOnly(t){this._click.enable=!t}setReadOnly(t){return t===void 0&&(t=!0),this.readOnly=t,this}}It.register("checkbox",function(e,t,r,h,y,P){var n=new zP(this.scene,e,t,r,h,y,P);return this.scene.add.existing(n),n});Lt(window,"RexPlugins.UI.Checkbox",zP);const Yq={setTrackFillStyle(e,t){return t===void 0&&(t=1),this.dirty=this.dirty||this.trackFillColor!==e||this.trackFillAlpha!==t,this.trackFillColor=e,this.trackFillAlpha=t,this},setFalseValueTrackFillStyle(e,t){return t===void 0&&(t=1),this.dirty=this.dirty||this.falseValueTrackColor!==e||this.uncheckedTrackFillAlpha!==t,this.falseValueTrackColor=e,this.falseValueTrackFillAlpha=t,this},setThumbStyle(e,t){return t===void 0&&(t=1),this.dirty=this.dirty||this.thumbColor!==e||this.checkAlpha!==t,this.thumbColor=e,this.thumbAlpha=t,this}},Xq={setTrackSize(e,t){return this.dirty=this.dirty||this.trackWidth!==e||this.trackHeight!==t,this.trackWidth=e,this.trackHeight=t,this},setTrackRadius(e){return this.dirty=this.dirty||this.trackRadius!==e,this.trackRadius=e,this},setThumbSize(e,t){return t===void 0&&(t=e),this.dirty=this.dirty||this.thumbWidth!==e||this.thumbHeight!==t,this.thumbWidth=e,this.thumbHeight=t,this},setThumbRadius(e){return this.dirty=this.dirty||this.thumbRadius!==e,this.thumbRadius=e,this}},Hq={setThumbPosition(e,t){return t===void 0&&(t=1-e),this.thumbLeftX=e,this.thumbRightX=t,this},setRTL(e){return e===void 0&&(e=!0),this.rtl=e,this}};/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */var P1=function(e,t,r){return(t-e)*r+e},$q=function(e,t,r){var h=P1(wv(e),wv(t),r),y=P1(Rv(e),Rv(t),r),P=P1(Av(e),Av(t),r);return(h&255)<<16|(y&255)<<8|P&255};const GL=Phaser.Math.Linear,Kq={buildShapes(){this.addShape(new W0().setName("track")).addShape(new W0().setName("thumb"))},updateShapes(){var e=this.width,t=this.height,r=this.value?this.toggleAnimProgress:1-this.toggleAnimProgress,h=this.getShape("track");if(this.isSizeChanged){var y=e*this.trackWidth,P=t*this.trackHeight,n=(e-y)/2,T=(t-P)/2,i=t*this.trackRadius;h.setTopLeftPosition(n,T).setSize(y,P).setRadius(i)}var a=$q(this.falseValueTrackColor,this.trackFillColor,r),x=GL(this.falseValueTrackFillAlpha,this.trackFillAlpha,r);h.fillStyle(a,x);var d=this.getShape("thumb");if(this.isSizeChanged){var l=e*this.thumbWidth,o=t*this.thumbHeight,s=t*this.thumbRadius;d.setSize(l,o).setRadius(s)}var f=GL(this.thumbLeftX,this.thumbRightX,r)*e;this.rtl&&(f=e-f);var c=t/2;d.setCenterPosition(f,c),d.fillStyle(this.thumbColor,this.thumbAlpha)}},Zq={setToggleAnimationDuration(e){return e===void 0&&(e=0),this.toggleAnimDuration=e,this},playToggleAnimation(){return this.toggleAnimProgressTask===void 0&&(this.toggleAnimProgressTask=new zo(this,{eventEmitter:null})),this.toggleAnimProgressTask.restart({key:"toggleAnimProgress",from:0,to:1,duration:this.toggleAnimDuration}),this},stopToggleAnimation(){return this.toggleAnimProgressTask===void 0?this:(this.toggleAnimProgressTask.stop(),this)}};var v4={};Object.assign(v4,Yq,Xq,Hq,Kq,Zq);var Jq=function(e){var t=.3*wv(e)+.59*Rv(e)+.11*Av(e);return(t&255)<<16|(t&255)<<8|t&255};const er=Phaser.Utils.Objects.GetValue,kL=Phaser.Utils.Objects.IsPlainObject,M1=23730,Qq=16777215;class p4 extends Vo{constructor(t,r,h,y,P,n,T){kL(r)?(T=r,r=er(T,"x",0),h=er(T,"y",0),y=er(T,"width",2),P=er(T,"height",2),n=er(T,"color",M1)):kL(n)&&(T=n,n=er(T,"color",M1)),super(t,r,h,y,P),this.type="rexToggleSwitch",n===void 0&&(n=M1),this.setTrackFillStyle(n,er(T,"trackFillAlpha",1)),this.setFalseValueTrackFillStyle(er(T,"falseValueTrackColor",Jq(n)),er(T,"falseValueTrackFillAlpha",1)),this.setThumbStyle(er(T,"thumbColor",Qq),er(T,"thumbAlpha",1)),this.setTrackSize(er(T,"trackWidth",.9),er(T,"trackHeight",.5)),this.setTrackRadius(er(T,"trackRadius",this.trackHeight*.5));var i=er(T,"thumbHeight",void 0),a=er(T,"thumbWidth",i);a===void 0&&(a=this.trackHeight*.9),this.setThumbSize(a,i),this.setThumbRadius(er(T,"thumbRadius",this.thumbHeight*.5)),this.setThumbPosition(er(T,"thumbLeft",.3),er(T,"thumbRight",void 0)),this.setRTL(er(T,"rtl",!1)),this.setToggleAnimationDuration(er(T,"animationDuration",150)),this.buildShapes(),this.setValue(er(T,"value",!1),0)}get value(){return this._value}set value(t){t=!!t,this._value!==t&&(this.dirty=!0,this._value=t,this.playToggleAnimation(),this.emit("valuechange",t))}setValue(t,r){r===void 0&&(r=this.toggleAnimDuration);var h=this.toggleAnimDuration;return this.toggleAnimDuration=r,this.value=t,this.toggleAnimDuration=h,this}toggleValue(t){return this.setValue(!this.value,t),this}get toggleAnimProgress(){return this._toggleAnimProgress}set toggleAnimProgress(t){this._toggleAnimProgress!==t&&(this._toggleAnimProgress=t,this.dirty=!0)}}Object.assign(p4.prototype,v4);const NL=Phaser.Utils.Objects.GetValue;class UP extends p4{constructor(t,r,h,y,P,n,T){super(t,r,h,y,P,n,T),this._click=new Wo(this,NL(T,"click")),this._click.on("click",function(){this.toggleValue()},this),this.setReadOnly(NL(T,"readOnly",!1))}get readOnly(){return!this._click.enable}set readOnly(t){this._click.enable=!t}setReadOnly(t){return t===void 0&&(t=!0),this.readOnly=t,this}}It.register("toggleSwitch",function(e,t,r,h,y,P){var n=new UP(this.scene,e,t,r,h,y,P);return this.scene.add.existing(n),n});Lt(window,"RexPlugins.UI.ToggleSwitch",UP);const jq={loadFromURL(e,t){var r=this,h=new Image;return h.onload=function(){r.width!==h.width||r.height!==h.height?r.resize(h.width,h.height):r.clear(),r.context.drawImage(h,0,0),r.updateTexture(),t&&t(),h.onload=null,h.src="",h.remove()},h.src=e,this},loadFromURLPromise(e){var t=this;return new Promise(function(r,h){t.loadFromURL(e,r)})},loadFromFile(e,t){var r=URL.createObjectURL(e);return this.loadFromURL(r,function(){URL.revokeObjectURL(r),t&&t()}),this},loadFromFilePromise(e){var t=this;return new Promise(function(r,h){t.loadFromFile(e,r)})}};class vu extends Jh{}Object.assign(vu.prototype,jq);It.register("canvas",function(e,t,r,h){var y=new vu(this.scene,e,t,r,h);return this.scene.add.existing(y),y});Lt(window,"RexPlugins.UI.Canvas",vu);const bf=Phaser.Utils.Objects.GetValue;class g4 extends Jh{constructor(t,r,h,y,P,n){super(t,r,h),this.type="rexCircleMaskImage",this.setTexture(y,P,n)}setTexture(t,r,h){typeof r=="object"&&(h=r,r=void 0),typeof h=="string"&&(h={maskType:h});var y=bf(h,"maskType",0),P=bf(h,"backgroundColor",void 0),n=bf(h,"strokeColor",void 0),T=n!=null?10:0,i=bf(h,"strokeWidth",T);if(y===void 0?y=0:typeof y=="string"&&(y=qq[y]),this._textureKey=t,this._frameName=r,y===null)return this.loadTexture(t,r),this.dirty=!0,this;var a=this.scene.sys.textures.getFrame(t,r);if(!a)return this;a.cutWidth!==this.width||a.cutHeight!==this.height?this.setCanvasSize(a.cutWidth,a.cutHeight):this.clear();var x=this.canvas,d=this.context,l=x.width,o=x.height;P!=null&&(d.fillStyle=P,d.fillRect(0,0,l,o)),d.save(),d.beginPath();var s=i/2;switch(y){case 1:var p=Math.floor(l/2),m=Math.floor(o/2),f=p-s,c=m-s;d.ellipse(p,m,f,c,0,0,2*Math.PI);break;case 2:var u=bf(h,"radius",0),v=bf(h,"iteration",void 0);Z3(d,s,s,l-i,o-i,u,v);break;default:var p=Math.floor(l/2),m=Math.floor(o/2),g=Math.min(p,m)-s;d.arc(p,m,g,0,2*Math.PI);break}return n!=null&&(d.strokeStyle=n,d.lineWidth=i,d.stroke()),d.clip(),this.loadTexture(t,r),d.restore(),this.dirty=!0,this}resize(t,r){return this.setDisplaySize(t,r),this}}const qq={circle:0,ellipse:1,roundRectangle:2};It.register("circleMaskImage",function(e,t,r,h,y){var P=new g4(this.scene,e,t,r,h,y);return this.scene.add.existing(P),P});Lt(window,"RexPlugins.UI.CircleMaskImage",g4);const tv=Phaser.Utils.Objects.GetValue;class m4 extends Jh{constructor(t,r,h,y,P,n){super(t,r,h),this.type="rexAlphaMaskImage",this.maskFrame=null,this.setTexture(y,P,n)}setTexture(t,r,h){typeof r=="object"&&(h=r,r=void 0),typeof h=="string"&&(h={mask:{key:h}});var y=tv(h,"mask.key"),P=tv(h,"mask.frame"),n=tv(h,"mask.invertAlpha",!1),T=tv(h,"mask.scale"),i=tv(h,"backgroundColor");if(y){this._maskKey=y,this._maskFrame=P,this._maskScale=T;var a=y?this.scene.sys.textures.get(y):null;this.maskFrame=a?a.get(P):null}this._textureKey=t,this._frameName=r;var x=this.maskFrame;if(x===null)return this.loadTexture(t,r),this.dirty=!0,this;var d=i!=null;this.loadTexture(t,r);var l=this.canvas,o=this.context,s=l.width,f=l.height;o.save(),o.globalCompositeOperation=n?"destination-out":"destination-in";var c,u;this._maskScale!=null?(c=x.cutWidth*this._maskScale,u=x.cutHeight*this._maskScale):(c=s,u=f);var v=(s-c)/2,p=(f-u)/2;return this.drawFrame(this._maskKey,this._maskFrame,v,p,c,u),o.restore(),d&&(o.save(),o.globalCompositeOperation="destination-over",o.fillStyle=i,o.fillRect(0,0,s,f),o.restore()),this.dirty=!0,this}resize(t,r){return this.setDisplaySize(t,r),this}}It.register("alphaMaskImage",function(e,t,r,h,y){var P=new m4(this.scene,e,t,r,h,y);return this.scene.add.existing(P),P});Lt(window,"RexPlugins.UI.AlphaMaskImage",m4);const _q=Phaser.Math.Linear,zL=Phaser.Math.Percent,t_={setValue(e,t,r){return e==null?this:(t!==void 0&&(e=zL(e,t,r)),this.value=e,this)},addValue(e,t,r){return t!==void 0&&(e=zL(e,t,r)),this.value+=e,this},getValue(e,t){var r=this.value;return e!==void 0&&t!==void 0&&(r=_q(e,t,r)),r}},e_=Phaser.Math.Percent,i_={setEaseValuePropName(e){return this.easeValuePropName=e,this},setEaseValueDuration(e){return this.easeValueDuration=e,this},setEaseValueFunction(e){return this.easeFunction=e,this},stopEaseValue(){return this.easeValueTask&&this.easeValueTask.stop(),this},easeValueTo(e,t,r){return e==null?this:(t!==void 0&&(e=e_(e,t,r)),this.easeValueTask===void 0&&(this.easeValueTask=new zo(this,{eventEmitter:null})),this.easeValueTask.restart({key:this.easeValuePropName,to:e,duration:this.easeValueDuration,ease:this.easeFunction}),this)},easeValueRepeat(e,t,r,h){return r===void 0&&(r=-1),h===void 0&&(h=0),this.easeValueTask===void 0&&(this.easeValueTask=new zo(this,{eventEmitter:null})),this.easeValueTask.restart({key:this.easeValuePropName,from:e,to:t,duration:this.easeValueDuration,ease:this.easeFunction,repeat:r,repeatDelay:h}),this}},ev=Phaser.Utils.Objects.GetValue,r_=Phaser.Math.Clamp;function Qh(e){class t extends e{bootProgressBase(h){this.eventEmitter=ev(h,"eventEmitter",this);var y=ev(h,"valuechangeCallback",null);if(y!==null){var P=ev(h,"valuechangeCallbackScope",void 0);this.eventEmitter.on("valuechange",y,P)}return this.setEaseValuePropName("value").setEaseValueDuration(ev(h,"easeValue.duration",0)).setEaseValueFunction(ev(h,"easeValue.ease","Linear")),this}get value(){return this._value}set value(h){h=r_(h,0,1);var y=this._value,P=y!=h;this.dirty=this.dirty||P,this._value=h,P&&this.eventEmitter.emit("valuechange",this._value,y,this.eventEmitter)}}return Object.assign(t.prototype,t_,i_),t}const n_=Phaser.Math.RadToDeg,UL=Phaser.Math.DegToRad;var VL=function(e,t,r,h,y,P,n,T){var i=Math.abs(n-P)===360,a=UL(P),x=UL(n),d=Math.cos(a),l=Math.sin(a),o=Math.cos(x),s=Math.sin(x);return e.startAt(t+d*h,r+l*h),e.arc(t,r,h,P,n,T),i&&y===0||(e.lineTo(t+o*y,r+s*y),y>0&&e.arc(t,r,y,n,P,!T)),e.close(),e};const s_={buildShapes(){var e=this.iterations;this.addShape(new tn().setIterations(e).setName("track")).addShape(new tn().setIterations(e).setName("bar")).addShape(new Gs().setIterations(e).setName("center"))},updateShapes(){var e=this.radius,t=this.thickness*this.radius,r=this.radius,h=r-t,y=this.getShape("track");this.trackColor!=null&&this.thickness>0?(y.fillStyle(this.trackColor),VL(y,e,e,r,h,0,360,!1)):y.reset();var P=this.getShape("bar");if(this.barColor!=null&&this.thickness>0){var n,T,i;if(this.value===1)n=!1,T=0,i=360;else{n=this.anticlockwise,T=n_(this.startAngle);var a=360*(n?1-this.value:this.value);i=a+T}P.fillStyle(this.barColor),VL(P,e,e,r+1,h-1,T,i,!1)}else P.reset();var x=this.getShape("center");this.centerColor&&h>0?x.setCenterPosition(e,e).setRadius(h).fillStyle(this.centerColor):x.reset()}},na=Phaser.Utils.Objects.GetValue,a_=Phaser.Utils.Objects.IsPlainObject,o_=Phaser.Math.Clamp,h_=Phaser.Math.DegToRad(270);let VP=class extends Qh(Vo){constructor(t,r,h,y,P,n,T){a_(r)&&(T=r,r=na(T,"x",0),h=na(T,"y",0),y=na(T,"radius",1),P=na(T,"barColor",void 0),n=na(T,"value",0)),y===void 0&&(y=1);var i=y*2;super(t,r,h,i,i),this.type="rexCircularProgress",this.bootProgressBase(T),this.setRadius(y),this.setTrackColor(na(T,"trackColor",void 0)),this.setBarColor(P),this.setCenterColor(na(T,"centerColor",void 0)),this.setThickness(na(T,"thickness",.2)),this.setStartAngle(na(T,"startAngle",h_)),this.setAnticlockwise(na(T,"anticlockwise",!1)),this.iterations=na(T,"iterations",128),this.buildShapes(),this.setValue(n)}resize(t,r){return t=Math.floor(Math.min(t,r)),t===this.width?this:(super.resize(t,t),this.setRadius(t/2),this)}get radius(){return this._radius}set radius(t){this.dirty=this.dirty||this._radius!=t,this._radius=t;var r=t*2;this.resize(r,r)}setRadius(t){return this.radius=t,this}get trackColor(){return this._trackColor}set trackColor(t){this.dirty=this.dirty||this._trackColor!=t,this._trackColor=t}setTrackColor(t){return this.trackColor=t,this}get barColor(){return this._barColor}set barColor(t){this.dirty=this.dirty||this._barColor!=t,this._barColor=t}setBarColor(t){return this.barColor=t,this}get startAngle(){return this._startAngle}set startAngle(t){this.dirty=this.dirty||this._startAngle!=t,this._startAngle=t}setStartAngle(t){return this.startAngle=t,this}get anticlockwise(){return this._anticlockwise}set anticlockwise(t){this.dirty=this.dirty||this._anticlockwise!=t,this._anticlockwise=t}setAnticlockwise(t){return t===void 0&&(t=!0),this.anticlockwise=t,this}get thickness(){return this._thickness}set thickness(t){t=o_(t,0,1),this.dirty=this.dirty||this._thickness!=t,this._thickness=t}setThickness(t){return this.thickness=t,this}get centerColor(){return this._centerColor}set centerColor(t){this.dirty=this.dirty||this._centerColor!=t,this._centerColor=t}setCenterColor(t){return this.centerColor=t,this}};Object.assign(VP.prototype,s_);It.register("circularProgress",function(e,t,r,h,y,P){var n=new VP(this.scene,e,t,r,h,y,P);return this.scene.add.existing(n),n});Lt(window,"RexPlugins.UI.CircularProgress",VP);var b1=function(e,t,r,h,y,P,n,T,i,a,x,d){a===void 0&&(a=0),x===void 0&&(x=2*Math.PI),d===void 0&&(d=!1),t.beginPath(),t.ellipse(r,h,y,P,0,a,x,d),n!=null&&(t.fillStyle=n,t.fill()),T!=null&&(t.strokeStyle=T,t.lineWidth=i,t.stroke())};const WL=["AliceBlue","AntiqueWhite","Aqua","Aquamarine","Azure","Beige","Bisque","Black","BlanchedAlmond","Blue","BlueViolet","Brown","BurlyWood","CadetBlue","Chartreuse","Chocolate","Coral","CornflowerBlue","Cornsilk","Crimson","Cyan","DarkBlue","DarkCyan","DarkGoldenRod","DarkGray","DarkGrey","DarkGreen","DarkKhaki","DarkMagenta","DarkOliveGreen","DarkOrange","DarkOrchid","DarkRed","DarkSalmon","DarkSeaGreen","DarkSlateBlue","DarkSlateGray","DarkSlateGrey","DarkTurquoise","DarkViolet","DeepPink","DeepSkyBlue","DimGray","DimGrey","DodgerBlue","FireBrick","FloralWhite","ForestGreen","Fuchsia","Gainsboro","GhostWhite","Gold","GoldenRod","Gray","Grey","Green","GreenYellow","HoneyDew","HotPink","IndianRed","Indigo","Ivory","Khaki","Lavender","LavenderBlush","LawnGreen","LemonChiffon","LightBlue","LightCoral","LightCyan","LightGoldenRodYellow","LightGray","LightGrey","LightGreen","LightPink","LightSalmon","LightSeaGreen","LightSkyBlue","LightSlateGray","LightSlateGrey","LightSteelBlue","LightYellow","Lime","LimeGreen","Linen","Magenta","Maroon","MediumAquaMarine","MediumBlue","MediumOrchid","MediumPurple","MediumSeaGreen","MediumSlateBlue","MediumSpringGreen","MediumTurquoise","MediumVioletRed","MidnightBlue","MintCream","MistyRose","Moccasin","NavajoWhite","Navy","OldLace","Olive","OliveDrab","Orange","OrangeRed","Orchid","PaleGoldenRod","PaleGreen","PaleTurquoise","PaleVioletRed","PapayaWhip","PeachPuff","Peru","Pink","Plum","PowderBlue","Purple","RebeccaPurple","Red","RosyBrown","RoyalBlue","SaddleBrown","Salmon","SandyBrown","SeaGreen","SeaShell","Sienna","Silver","SkyBlue","SlateBlue","SlateGray","SlateGrey","Snow","SpringGreen","SteelBlue","Tan","Teal","Thistle","Tomato","Turquoise","Violet","Wheat","White","WhiteSmoke","Yellow","YellowGreen"],l_=[15792383,16444375,65535,8388564,15794175,16119260,16770244,0,16772045,255,9055202,10824234,14596231,6266528,8388352,13789470,16744272,6591981,16775388,14423100,65535,139,35723,12092939,11119017,11119017,25600,12433259,9109643,5597999,16747520,10040012,9109504,15308410,9419919,4734347,3100495,3100495,52945,9699539,16716947,49151,6908265,6908265,2003199,11674146,16775920,2263842,16711935,14474460,16316671,16766720,14329120,8421504,8421504,32768,11403055,15794160,16738740,13458524,4915330,16777200,15787660,15132410,16773365,8190976,16775885,11393254,15761536,14745599,16448210,13882323,13882323,9498256,16758465,16752762,2142890,8900346,7833753,7833753,11584734,16777184,65280,3329330,16445670,16711935,8388608,6737322,205,12211667,9662683,3978097,8087790,64154,4772300,13047173,1644912,16121850,16770273,16770229,16768685,128,16643558,8421376,7048739,16753920,16729344,14315734,15657130,10025880,11529966,14381203,16773077,16767673,13468991,16761035,14524637,11591910,8388736,6697881,16711680,12357519,4286945,9127187,16416882,16032864,3050327,16774638,10506797,12632256,8900331,6970061,7372944,7372944,16775930,65407,4620980,13808780,32896,14204888,16737095,4251856,15631086,16113331,16777215,16119285,16776960,10145074];var iP={},YL;for(var Xm=0,u_=WL.length;Xm<u_;Xm++)YL=WL[Xm].toLowerCase(),iP[YL]=l_[Xm];var f_=function(e){return e=e.toLowerCase(),iP.hasOwnProperty(e)?iP[e]:null},rP=function(e){return typeof e!="string"||(e.startsWith("#")?e=parseInt(e.substring(1),16):e.startsWith("0x")?e=parseInt(e.substring(2),16):e=f_(e)),e};const d_=Phaser.Math.DegToRad,w1=Phaser.Math.Linear;var c_=function(e,t,r,h,y,P,n,T,i,a,x,d,l){a===void 0&&(a=0),x===void 0&&(x=2*Math.PI),d===void 0&&(d=!1),l===void 0&&(l=2),n=rP(n),T=rP(T),iv=QO(n,iv),rv=QO(T,rv);var o=d_(l),s;d?s=a-x:s=x-a,s<0&&(s+=2*Math.PI);var f=Math.ceil(s/o),c=s/f;d&&(c=-c);for(var u=0;u<f;u++){var v=u/f,p=Math.round(w1(iv.r,rv.r,v)),m=Math.round(w1(iv.g,rv.g,v)),g=Math.round(w1(iv.b,rv.b,v)),C=a+u*c,M=C+c;u<f-1&&(M+=c/2),t.beginPath(),t.ellipse(r,h,y,P,0,C,M,d),t.strokeStyle=`rgb(${p},${m},${g})`,t.lineWidth=i,t.stroke()}},iv,rv,v_=function(e,t,r,h,y,P,n,T,i,a,x){i===void 0&&T!=null&&(i=2),t.font=P,t.textAlign=a,t.textBaseline=x,t.fillStyle=n,t.strokeStyle=T,t.lineWidth=i,t.lineCap="round",t.lineJoin="round",T!=null&&T!=="none"&&i>0&&t.strokeText(y,r,h),n!=null&&n!=="none"&&t.fillText(y,r,h)};const R1=Phaser.Math.PI2;var p_=function(){var e=this.radius,t=this.thickness*this.radius,r=this.radius-t/2,h=this.radius-t,y=this.canvas,P=this.context,n=this.anticlockwise,T=this.startAngle,i=this.endAngle,a=this._deltaAngle;if(this.trackColor&&t>0&&(P.save(),b1(y,P,e,e,r,r,void 0,this.trackColor,t,T,i,n),P.restore()),this.barColor&&r>0){var x;this.value>=1?x=i:n?x=(T-a*this.value+R1)%R1:x=(T+a*this.value)%R1,P.save(),this.barColor2?c_(y,P,e,e,r,r,this.barColor2,this.barColor,t,T,x,n):b1(y,P,e,e,r,r,void 0,this.barColor,t,T,x,n),P.restore()}if(this.centerColor&&h>0){var d;this.centerColor2?(d=this.context.createRadialGradient(e,e,0,e,e,h),d.addColorStop(0,this.centerColor),d.addColorStop(1,this.centerColor2)):d=this.centerColor,P.save(),b1(y,P,e,e,h,h,d),P.restore()}this.textFormatCallback&&(this.textColor||this.textStrokeColor)&&(P.save(),v_(y,P,e,e,this.getFormatText(),this.textFont,this.textColor,this.textStrokeColor,this.textStrokeThickness,"center","middle"),P.restore())};const Zi=Phaser.Utils.Objects.GetValue,g_=Phaser.Utils.Objects.IsPlainObject,m_=Phaser.Math.Clamp,x_=Phaser.Math.DegToRad(270),Y0=Phaser.Math.PI2;class cx extends Qh(Jh){constructor(t,r,h,y,P,n,T){g_(r)&&(T=r,r=Zi(T,"x",0),h=Zi(T,"y",0),y=Zi(T,"radius",1),P=Zi(T,"barColor",void 0),n=Zi(T,"value",0));var i=y*2,a=Zi(T,"resolution",1);super(t,r,h,i,i,a),this.type="rexCircularProgressCanvas",this.bootProgressBase(T),this.setRadius(y),this.setTrackColor(Zi(T,"trackColor",void 0)),this.setBarColor(P),this.setBarColor2(Zi(T,"barColor2",void 0)),this.setCenterColor(Zi(T,"centerColor",void 0)),this.setThickness(Zi(T,"thickness",.2)),this.setAnticlockwise(Zi(T,"anticlockwise",!1)),this.setStartAngle(Zi(T,"startAngle",x_));var x=Zi(T,"endAngle");x===void 0&&(this.anticlockwise?x=this.startAngle-Y0:x=this.startAngle+Y0),this.setEndAngle(Zi(T,"endAngle",x)),this.setTextColor(Zi(T,"textColor",void 0)),this.setTextStrokeColor(Zi(T,"textStrokeColor",void 0),Zi(T,"textStrokeThickness",void 0));var d=Zi(T,"textFont",void 0);d?this.setTextFont(d):this.setTextFont(Zi(T,"textSize","16px"),Zi(T,"textFamily","Courier"),Zi(T,"textStyle","")),this.setTextFormatCallback(Zi(T,"textFormatCallback",void 0),Zi(T,"textFormatCallbackScope",void 0)),this.setValue(n)}resize(t,r){return t=Math.floor(Math.min(t,r)),t===this.width?this:(super.resize(t,t),this.setRadius(t/2),this)}get radius(){return this._radius}set radius(t){this.dirty=this.dirty||this._radius!=t,this._radius=t;var r=t*2;this.resize(r,r)}setRadius(t){return this.radius=t,this}get trackColor(){return this._trackColor}set trackColor(t){t=Ue(t,this.canvas,this.context),this.dirty=this.dirty||this._trackColor!=t,this._trackColor=t}setTrackColor(t){return this.trackColor=t,this}get barColor(){return this._barColor}set barColor(t){t=Ue(t,this.canvas,this.context),this.dirty=this.dirty||this._barColor!=t,this._barColor=t}setBarColor(t){return this.barColor=t,this}get barColor2(){return this._barColor2}set barColor2(t){t=Ue(t,this.canvas,this.context),this.dirty=this.dirty||this._barColor2!=t,this._barColor2=t}setBarColor2(t){return this.barColor2=t,this}get startAngle(){return this._startAngle}set startAngle(t){this.dirty=this.dirty||this._startAngle!=t,this._startAngle=t,this._deltaAngle=A1(this._startAngle,this._endAngle,this._anticlockwise)}setStartAngle(t){return this.startAngle=t,this}get endAngle(){return this._endAngle}set endAngle(t){this.dirty=this.dirty||this._endAngle!=t,this._endAngle=t,this._deltaAngle=A1(this._startAngle,this._endAngle,this._anticlockwise)}setEndAngle(t){return this.endAngle=t,this}get anticlockwise(){return this._anticlockwise}set anticlockwise(t){this.dirty=this.dirty||this._anticlockwise!=t,this._anticlockwise=t,this._deltaAngle=A1(this._startAngle,this._endAngle,this._anticlockwise)}setAnticlockwise(t){return t===void 0&&(t=!0),this.anticlockwise=t,this}get thickness(){return this._thickness}set thickness(t){t=m_(t,0,1),this.dirty=this.dirty||this._thickness!=t,this._thickness=t}setThickness(t){return this.thickness=t,this}get centerColor(){return this._centerColor}set centerColor(t){t=Ue(t,this.canvas,this.context),this.dirty=this.dirty||this._centerColor!=t,this._centerColor=t}get centerColor2(){return this._centerColor2}set centerColor2(t){t=Ue(t,this.canvas,this.context),this.dirty=this.dirty||this._centerColor2!=t,this._centerColor2=t}setCenterColor(t,r){return this.centerColor=t,this.centerColor2=r,this}get textColor(){return this._textColor}set textColor(t){t=Ue(t,this.canvas,this.context),this.dirty=this.dirty||this._textColor!=t,this._textColor=t}setTextColor(t){return this.textColor=t,this}get textStrokeColor(){return this._textStrokeColor}set textStrokeColor(t){t=Ue(t,this.canvas,this.context),this.dirty=this.dirty||this._textStrokeColor!=t,this._textStrokeColor=t}get textStrokeThickness(){return this._textStrokeThickness}set textStrokeThickness(t){this.dirty=this.dirty||this._textStrokeThickness!=t,this._textStrokeThickness=t}setTextStrokeColor(t,r){return r===void 0&&(r=2),this.textStrokeColor=t,this.textStrokeThickness=r,this}get textFont(){return this._textFont}set textFont(t){this.dirty=this.dirty||this._textFont!=t,this._textFont=t}setTextFont(t,r,h){var y;return r===void 0?y=t:y=h+" "+t+" "+r,this.textFont=y,this}setTextFormatCallback(t,r){return this.textFormatCallback=t,this.textFormatCallbackScope=r,this}updateTexture(){return super.updateTexture(function(){this.clear(),p_.call(this)},this),this}getFormatText(t){t===void 0&&(t=this.value);var r;return this.textFormatCallbackScope?r=this.textFormatCallback(t):r=this.textFormatCallback.call(this.textFormatCallbackScope,t),r}}var A1=function(e,t,r){return r?e<=t?Y0+e-t:e-t:e>=t?Y0+t-e:t-e};It.register("circularProgressCanvas",function(e,t,r,h,y,P){var n=new cx(this.scene,e,t,r,h,y,P);return this.scene.add.existing(n),n});Lt(window,"RexPlugins.UI.CircularProgressCanvas",cx);var y_=function(){var e=this.skewX,t=this.width-Math.abs(e),r=this.height,h=this.getShape("trackFill");h.fillStyle(this.trackColor),h.isFilled&&O1(h,0,0,t,r,e);var y=this.getShape("bar");if(y.fillStyle(this.barColor),y.isFilled){var P,n;this.rtl?(P=t*(1-this.value),n=t):(P=0,n=t*this.value),O1(y,P,0,n,r,e)}var T=this.getShape("trackStroke");T.lineStyle(this.trackStrokeThickness,this.trackStrokeColor),T.isStroked&&O1(T,0,0,t,r,e)},O1=function(e,t,r,h,y,P){var n=(t+h)/2;return P>=0?e.startAt(n+P,r).lineTo(h+P,r).lineTo(h,y).lineTo(t,y).lineTo(t+P,r).lineTo(n+P,r):e.startAt(n,r).lineTo(h,r).lineTo(h-P,y).lineTo(t-P,y).lineTo(t,r).lineTo(n,r),e.close(),e};const nv=Phaser.Utils.Objects.GetValue,L1=Phaser.Utils.Objects.IsPlainObject;let vx=class extends Qh(Vo){constructor(t,r,h,y,P,n,T,i){L1(r)?(i=r,r=i.x,h=i.y,y=i.width,P=i.height,n=i.barColor,T=i.value):L1(y)?(i=y,y=i.width,P=i.height,n=i.barColor,T=i.value):L1(n)&&(i=n,n=i.barColor,T=i.value),r===void 0&&(r=0),h===void 0&&(h=0),y===void 0&&(y=2),P===void 0&&(P=y),T===void 0&&(T=0),super(t,r,h,y,P,i),this.type="rexLineProgress",this.bootProgressBase(i),this.addShape(new tn().setName("trackFill")).addShape(new tn().setName("bar")).addShape(new tn().setName("trackStroke")),this.setTrackColor(nv(i,"trackColor",void 0)),this.setBarColor(n),this.setTrackStroke(nv(i,"trackStrokeThickness",2),nv(i,"trackStrokeColor",void 0)),this.setSkewX(nv(i,"skewX",0)),this.setRTL(nv(i,"rtl",!1)),this.setValue(T)}get trackColor(){return this._trackColor}set trackColor(t){this.dirty=this.dirty||this._trackColor!=t,this._trackColor=t}setTrackColor(t){return this.trackColor=t,this}get trackStrokeColor(){return this._trackStrokeColor}set trackStrokeColor(t){this.dirty=this.dirty||this._trackStrokeColor!=t,this._trackStrokeColor=t}get trackStrokeThickness(){return this._trackStrokeThickness}set trackStrokeThickness(t){this.dirty=this.dirty||this._trackStrokeThickness!=t,this._trackStrokeThickness=t}setTrackStroke(t,r){return this.trackStrokeThickness=t,this.trackStrokeColor=r,this}get barColor(){return this._barColor}set barColor(t){this.dirty=this.dirty||this._barColor!=t,this._barColor=t}setBarColor(t){return this.barColor=t,this}get skewX(){return this._skewX}set skewX(t){this.dirty=this.dirty||this._skewX!=t,this._skewX=t}setSkewX(t){return this.skewX=t,this}get rtl(){return this._rtl}set rtl(t){t=!!t,this.dirty=this.dirty||this._rtl!=t,this._rtl=t}setRTL(t){return t===void 0&&(t=!0),this.rtl=t,this}};var C_={updateShapes:y_};Object.assign(vx.prototype,C_);It.register("lineProgress",function(e,t,r,h,y,P,n){var T=new vx(this.scene,e,t,r,h,y,P,n);return this.scene.add.existing(T),T});Lt(window,"RexPlugins.UI.LineProgress",vx);var nP=function(e,t,r,h,y){e.setIterations(y).start();var T=h.tl;if(Xi(T))if(T.convex){var P=T.x,n=T.y;e.ellipticalArc(P,n,T.x,T.y,180,270,!1)}else{var P=0,n=0;e.ellipticalArc(P,n,T.x,T.y,90,0,!0)}else e.lineTo(0,0);var T=h.tr;if(Xi(T))if(T.convex){var P=t-T.x,n=T.y;e.ellipticalArc(P,n,T.x,T.y,270,360,!1)}else{var P=t,n=0;e.ellipticalArc(P,n,T.x,T.y,180,90,!0)}else e.lineTo(t,0);var T=h.br;if(Xi(T))if(T.convex){var P=t-T.x,n=r-T.y;e.ellipticalArc(P,n,T.x,T.y,0,90,!1)}else{var P=t,n=r;e.ellipticalArc(P,n,T.x,T.y,270,180,!0)}else e.lineTo(t,r);var T=h.bl;if(Xi(T))if(T.convex){var P=T.x,n=r-T.y;e.ellipticalArc(P,n,T.x,T.y,90,180,!1)}else{var P=0,n=r;e.ellipticalArc(P,n,T.x,T.y,360,270,!0)}else e.lineTo(0,r);return e.close(),e},Hm=Phaser.Math.RadToDeg,S_=function(e,t,r,h,y){var P=t*y,a=h.tl;if(Xi(a)){var n;P>a.x?n=90:n=Hm(Math.acos((a.x-P)/a.x));var T=a.x,i=a.y;e.ellipticalArc(T,i,a.x,a.y,180,180+n,!1)}else e.lineTo(0,0);var a=h.tr;if(Xi(a)&&P>t-a.x){var n=90-Hm(Math.acos((P-(t-a.x))/a.x)),T=t-a.x,i=a.y;e.ellipticalArc(T,i,a.x,a.y,270,270+n,!1)}else e.lineTo(P,0);var a=h.br;if(Xi(a)&&P>t-a.x){var n=90-Hm(Math.acos((P-(t-a.x))/a.x)),T=t-a.x,i=r-a.y;e.ellipticalArc(T,i,a.x,a.y,90-n,90,!1)}else e.lineTo(P,r);var a=h.bl;if(Xi(a)){var n;P>a.x?n=90:n=Hm(Math.acos((a.x-P)/a.x));var T=a.x,i=r-a.y;e.ellipticalArc(T,i,a.x,a.y,180-n,180,!1)}else e.lineTo(0,r)},$m=Phaser.Math.RadToDeg,T_=function(e,t,r,h,y){var P=r*y,a=h.tl;if(Xi(a)){var n;P>a.y?n=90:n=$m(Math.acos((a.y-P)/a.y));var T=a.x,i=a.y;e.ellipticalArc(T,i,a.x,a.y,270-n,270,!1)}else e.lineTo(0,0);var a=h.tr;if(Xi(a)){var n;P>a.y?n=90:n=$m(Math.acos((a.y-P)/a.y));var T=t-a.x,i=a.y;e.ellipticalArc(T,i,a.x,a.y,270,270+n,!1)}else e.lineTo(t,0);var a=h.br;if(Xi(a)&&P>r-a.y){var n=90-$m(Math.acos((P-(r-a.y))/a.y)),T=t-a.x,i=r-a.y;e.ellipticalArc(T,i,a.x,a.y,0,0+n,!1)}else e.lineTo(t,P);var a=h.bl;if(Xi(a)&&P>r-a.y){var n=90-$m(Math.acos((P-(r-a.y))/a.y)),T=a.x,i=r-a.y;e.ellipticalArc(T,i,a.x,a.y,180-n,180,!1)}else e.lineTo(0,P)},Km=Phaser.Math.RadToDeg,E_=function(e,t,r,h,y){var P=t*y,a=h.tr;if(Xi(a)){var n;P>a.x?n=90:n=Km(Math.acos((a.x-P)/a.x));var T=t-a.x,i=a.y;e.ellipticalArc(T,i,a.x,a.y,360-n,360,!1)}else e.lineTo(t,0);var a=h.br;if(Xi(a)){var n;P>a.x?n=90:n=Km(Math.acos((a.x-P)/a.x));var T=t-a.x,i=r-a.y;e.ellipticalArc(T,i,a.x,a.y,0,0+n,!1)}else e.lineTo(t,r);var a=h.bl;if(Xi(a)&&P>t-a.x){var n=90-Km(Math.acos((P-(t-a.x))/a.x)),T=a.x,i=r-a.y;e.ellipticalArc(T,i,a.x,a.y,90,90+n,!1)}else e.lineTo(t-P,r);var a=h.tl;if(Xi(a)&&P>t-a.x){var n=90-Km(Math.acos((P-(t-a.x))/a.x)),T=a.x,i=a.y;e.ellipticalArc(T,i,a.x,a.y,270-n,270,!1)}else e.lineTo(t-P,0)},Zm=Phaser.Math.RadToDeg,P_=function(e,t,r,h,y){var P=r*y,a=h.br;if(Xi(a)){P>a.y?i=90:i=Zm(Math.acos((a.y-P)/a.y));var n=t-a.x,T=r-a.y;e.ellipticalArc(n,T,a.x,a.y,90-i,90,!1)}else e.lineTo(t,r);var a=h.bl;if(Xi(a)){P>a.y?i=90:i=Zm(Math.acos((a.y-P)/a.y));var n=a.x,T=r-a.y;e.ellipticalArc(n,T,a.x,a.y,90,90+i,!1)}else e.lineTo(0,r);var a=h.tl;if(Xi(a)&&P>r-a.y){var i=90-Zm(Math.acos((P-(r-a.y))/a.y)),n=a.x,T=a.y;e.ellipticalArc(n,T,a.x,a.y,180,180+i,!1)}else e.lineTo(0,r-P);var a=h.tr;if(Xi(a)&&P>r-a.y){var i=90-Zm(Math.acos((P-(r-a.y))/a.y)),n=t-a.x,T=a.y;e.ellipticalArc(n,T,a.x,a.y,360-i,360,!1)}else e.lineTo(t,r-P)},M_=function(e,t,r,h,y,P,n,T){if(e.setIterations(T).start(),y===0)return e;if(y===1)return nP(e,t,r,h,T);var i;return P===0?i=n?E_:S_:i=n?P_:T_,i(e,t,r,h,y),e.close(),e},b_=function(){var e=this.width,t=this.height,r=this.rrGeom.cornerRadius,h=this.value,y=this.orientation,P=this.rtl,n=this.iteration+1,T=this.getShape("trackFill");T.fillStyle(this.trackColor),T.isFilled&&nP(T,e,t,r,n);var i=this.getShape("bar");i.fillStyle(this.barColor),i.isFilled&&M_(i,e,t,r,h,y,P,n);var a=this.getShape("trackStroke");a.lineStyle(this.trackStrokeThickness,this.trackStrokeColor),a.isStroked&&nP(a,e,t,r,n)},w_={x:0,h:0,horizontal:0,"left-to-right":0,y:1,v:1,vertical:1,"top-to-bottom":1},pu=function(e){return typeof e=="string"&&(e=w_[e]),e};const wf=Phaser.Utils.Objects.GetValue,F1=Phaser.Utils.Objects.IsPlainObject;class WP extends Qh(Vo){constructor(t,r,h,y,P,n,T,i,a){F1(r)?(a=r,r=a.x,h=a.y,y=a.width,P=a.height,n=a.radius,T=a.barColor,i=a.value):F1(y)?(a=y,y=a.width,P=a.height,n=a.radius,T=a.barColor,i=a.value):F1(n)&&(a=n,n=a.radius,T=a.barColor,i=a.value),r===void 0&&(r=0),h===void 0&&(h=0),y===void 0&&(y=1),P===void 0&&(P=y),n===void 0&&(n=0),i===void 0&&(i=0),super(t,r,h,y,P,a),this.type="rexRoundRectangleProgress",this.rrGeom=new yP,this.bootProgressBase(a),this.addShape(new tn().setName("trackFill")).addShape(new tn().setName("bar")).addShape(new tn().setName("trackStroke")),this.setTrackColor(wf(a,"trackColor",void 0)),this.setBarColor(T),this.setTrackStroke(wf(a,"trackStrokeThickness",2),wf(a,"trackStrokeColor",void 0)),this.setOrientation(wf(a,"orientation",0)),this.setRTL(wf(a,"rtl",!1)),this.setRadius(n),this.setIteration(wf(n,"iteration",void 0)),this.setValue(i)}get trackColor(){return this._trackColor}set trackColor(t){this.dirty=this.dirty||this._trackColor!=t,this._trackColor=t}setTrackColor(t){return this.trackColor=t,this}get trackStrokeColor(){return this._trackStrokeColor}set trackStrokeColor(t){this.dirty=this.dirty||this._trackStrokeColor!=t,this._trackStrokeColor=t}get trackStrokeThickness(){return this._trackStrokeThickness}set trackStrokeThickness(t){this.dirty=this.dirty||this._trackStrokeThickness!=t,this._trackStrokeThickness=t}setTrackStroke(t,r){return this.trackStrokeThickness=t,this.trackStrokeColor=r,this}get barColor(){return this._barColor}set barColor(t){this.dirty=this.dirty||this._barColor!=t,this._barColor=t}setBarColor(t){return this.barColor=t,this}get orientation(){return this._orientation}set orientation(t){t=pu(t),this.dirty=this.dirty||this._orientation!=t,this._orientation=t}setOrientation(t){return this.orientation=t,this}get rtl(){return this._rtl}set rtl(t){t=!!t,this.dirty=this.dirty||this._rtl!=t,this._rtl=t}setRTL(t){return t===void 0&&(t=!0),this.rtl=t,this}get radius(){return this.rrGeom.radius}set radius(t){this.rrGeom.setRadius(t),this.dirty=!0}get radiusTL(){return this.rrGeom.radiusTL}set radiusTL(t){this.rrGeom.radiusTL=t,this.dirty=!0}get radiusTR(){return this.rrGeom.radiusTR}set radiusTR(t){this.rrGeom.radiusTR=t,this.dirty=!0}get radiusBL(){return this.rrGeom.radiusBL}set radiusBL(t){this.rrGeom.radiusBL=t,this.dirty=!0}get radiusBR(){return this.rrGeom.radiusBR}set radiusBR(t){this.rrGeom.radiusBR=t,this.dirty=!0}setRadius(t){return t===void 0&&(t=0),this.radius=t,this}setRadiusTL(t){return t===void 0&&(t=0),this.radiusTL=t,this}setRadiusTR(t){return t===void 0&&(t=0),this.radiusTR=t,this}setRadiusBL(t){return t===void 0&&(t=0),this.radiusBL=t,this}setRadiusBR(t){return t===void 0&&(t=0),this.radiusBR=t,this}get cornerRadius(){return this.rrGeom.cornerRadius}set cornerRadius(t){this.radius=t}setCornerRadius(t){return this.setRadius(t)}get iteration(){return this._iteration}set iteration(t){if(this._iteration===void 0){this._iteration=t;return}this._iteration!==t&&(this._iteration=t,this.dirty=!0)}setIteration(t){return t===void 0&&(t=6),this.iteration=t,this}}var R_={updateShapes:b_};Object.assign(WP.prototype,R_);It.register("roundRectanleProgress",function(e,t,r,h,y,P,n,T){var i=new WP(this.scene,e,t,r,h,y,P,n,T);return this.scene.add.existing(i),i});Lt(window,"RexPlugins.UI.RoundRectangleProgress",WP);var A_=function(e,t){e.save(),e.beginPath();var r=t[0];e.moveTo(r.x,r.y);for(var h=1,y=t.length;h<y;h++)r=t[h],e.lineTo(r.x,r.y);e.closePath(),e.restore()},D1=function(e,t,r,h,y,P,n){n===void 0&&(n="round"),A_(t,r),t.lineJoin=n,h!=null&&(t.fillStyle=h,t.fill()),y!=null&&(t.strokeStyle=y,t.lineWidth=P,t.stroke())},O_=function(){var e=this.skewX,t=this.width-Math.abs(e),r=this.height,h=this.canvas,y=this.context;(this.trackColor||this.trackStrokeColor)&&XL(0,0,t,r,e,this.trackPoints);var P,n;if(this.barColor&&(this.rtl?(P=t*(1-this.value),n=t):(P=0,n=t*this.value),XL(P,0,n,r,e,this.barPoints)),this.trackColor&&(y.save(),D1(h,y,this.trackPoints,this.trackColor),y.restore()),this.barColor){y.save();var T;if(this.barColor2){var i;if(this.isHorizontalGradient){var a=r/2;i=y.createLinearGradient(P,a,n,a)}else{var x=t/2;i=y.createLinearGradient(x,0,x,r)}i.addColorStop(0,this.rtl?this.barColor:this.barColor2),i.addColorStop(1,this.rtl?this.barColor2:this.barColor),T=i}else T=this.barColor;D1(h,y,this.barPoints,T),y.restore()}this.trackStrokeColor&&this.trackStrokeThickness>0&&(y.save(),D1(h,y,this.trackPoints,void 0,this.trackStrokeColor,this.trackStrokeThickness),y.restore())},XL=function(e,t,r,h,y,P){P===void 0&&(P=[]),P.length=4;for(var n=0;n<4;n++)P[n]||(P[n]={});var T;return y>=0?(T=P[0],T.x=e+y,T.y=t,T=P[1],T.x=r+y,T.y=t,T=P[2],T.x=r,T.y=h,T=P[3],T.x=e,T.y=h):(T=P[0],T.x=e,T.y=t,T=P[1],T.x=r,T.y=t,T=P[2],T.x=r-y,T.y=h,T=P[3],T.x=e-y,T.y=h),P};const cr=Phaser.Utils.Objects.GetValue,B1=Phaser.Utils.Objects.IsPlainObject;class YP extends Qh(Jh){constructor(t,r,h,y,P,n,T,i){B1(r)?(i=r,r=cr(i,"x",0),h=cr(i,"y",0),y=cr(i,"width",2),P=cr(i,"height",2),n=cr(i,"barColor",void 0),T=cr(i,"value",0)):B1(y)?(i=y,y=cr(i,"width",2),P=cr(i,"height",2),n=cr(i,"barColor",void 0),T=cr(i,"value",0)):B1(n)&&(i=n,n=cr(i,"barColor",void 0),T=cr(i,"value",0));var a=cr(i,"resolution",1);super(t,r,h,y,P,a),this.type="rexLineProgressCanvas",this.trackPoints=[],this.barPoints=[],this.bootProgressBase(i),this.setTrackColor(cr(i,"trackColor",void 0)),this.setBarColor(n,cr(i,"barColor2",void 0),cr(i,"isHorizontalGradient",void 0)),this.setTrackStroke(cr(i,"trackStrokeThickness",2),cr(i,"trackStrokeColor",void 0)),this.setSkewX(cr(i,"skewX",0)),this.setRTL(cr(i,"rtl",!1)),this.setValue(T)}get trackColor(){return this._trackColor}set trackColor(t){t=Ue(t,this.canvas,this.context),this.dirty=this.dirty||this._trackColor!=t,this._trackColor=t}setTrackColor(t){return this.trackColor=t,this}get trackStrokeColor(){return this._trackStrokeColor}set trackStrokeColor(t){t=Ue(t,this.canvas,this.context),this.dirty=this.dirty||this._trackStrokeColor!=t,this._trackStrokeColor=t}get trackStrokeThickness(){return this._trackStrokeThickness}set trackStrokeThickness(t){this.dirty=this.dirty||this._trackStrokeThickness!=t,this._trackStrokeThickness=t}setTrackStroke(t,r){return this.trackStrokeThickness=t,this.trackStrokeColor=r,this}get barColor(){return this._barColor}set barColor(t){t=Ue(t,this.canvas,this.context),this.dirty=this.dirty||this._barColor!=t,this._barColor=t}get barColor2(){return this._barColor2}set barColor2(t){t=Ue(t,this.canvas,this.context),this.dirty=this.dirty||this._barColor2!=t,this._barColor2=t}get isHorizontalGradient(){return this._isHorizontalGradient}set isHorizontalGradient(t){this.dirty|=this._isHorizontalGradient!=t,this._isHorizontalGradient=t}setBarColor(t,r,h){return h===void 0&&(h=!0),this.barColor=t,this.barColor2=r,this.isHorizontalGradient=h,this}get skewX(){return this._skewX}set skewX(t){this.dirty=this.dirty||this._skewX!=t,this._skewX=t}setSkewX(t){return this.skewX=t,this}get rtl(){return this._rtl}set rtl(t){t=!!t,this.dirty=this.dirty||this._rtl!=t,this._rtl=t}setRTL(t){return t===void 0&&(t=!0),this.rtl=t,this}updateTexture(){return super.updateTexture(function(){this.clear(),O_.call(this)},this),this}}It.register("circularProgressCanvas",function(e,t,r,h,y,P,n){var T=new YP(this.scene,e,t,r,h,y,P,n);return this.scene.add.existing(T),T});Lt(window,"RexPlugins.UI.LineProgressCanvas",YP);Phaser.Math.Wrap;const Rf=Phaser.Math.Linear;var L_=function(){var e=this.getShape("triangle"),t=this.padding,r=this.width-t.right,h=0+t.left,y=this.height-t.bottom,P=0+t.top,n=(h+r)/2,T=(P+y)/2,i={0:{a:{x:h,y:P},b:{x:r,y:T},c:{x:h,y}},1:{a:{x:h,y:P},b:{x:n,y},c:{x:r,y:P}},2:{a:{x:r,y:P},b:{x:h,y:T},c:{x:r,y}},3:{a:{x:h,y},b:{x:n,y:P},c:{x:r,y}}},a,x,d,l,o,s;if(this.previousDirection===void 0){var f=i[this.direction],c=f.a,u=f.b,v=f.c;a=c.x,x=c.y,d=u.x,l=u.y,o=v.x,s=v.y}else{var p=i[this.previousDirection],m=i[this.direction],g=this.easeDirectionProgress;a=Rf(p.a.x,m.a.x,g),x=Rf(p.a.y,m.a.y,g),d=Rf(p.b.x,m.b.x,g),l=Rf(p.b.y,m.b.y,g),o=Rf(p.c.x,m.c.x,g),s=Rf(p.c.y,m.c.y,g)}e.startAt(a,x).lineTo(d,l).lineTo(o,s),this.arrowOnly?e.end():e.close()};const F_=Phaser.Math.DegToRad,Jm=F_(120);var D_=function(t){var t=this.getShape("triangle"),r=this.width/2,h=this.height/2,y=Math.min(r,h)*this.radius,P=this.verticeRotation;t.startAt(r+y*Math.cos(P+Jm),h+y*Math.sin(P+Jm)).lineTo(r+y*Math.cos(P),h+y*Math.sin(P)).lineTo(r+y*Math.cos(P-Jm),h+y*Math.sin(P-Jm)),this.arrowOnly?t.end():t.close()};const B_={buildShapes(){this.addShape(new tn().setName("triangle"))},updateShapes(){var e=this.getShape("triangle");this.arrowOnly?e.fillStyle().lineStyle(this.lineWidth,this.strokeColor,this.strokeAlpha):e.fillStyle(this.fillColor,this.fillAlpha).lineStyle(this.lineWidth,this.strokeColor,this.strokeAlpha),this.shapeMode===0?L_.call(this):D_.call(this)}},I_={setEaseDuration(e){return e===void 0&&(e=0),this.easeDuration=e,this},playEaseDirectionation(){return this.easeDirectionProgressTask===void 0&&(this.easeDirectionProgressTask=new zo(this,{eventEmitter:null})),this.easeDirectionProgressTask.restart({key:"easeDirectionProgress",from:0,to:1,duration:this.easeDuration}),this},stopEaseDirection(){return this.easeDirectionProgressTask===void 0?this:(this.easeDirectionProgressTask.stop(),this)}},Af=Phaser.Utils.Objects.GetValue,G_=Phaser.Utils.Objects.IsPlainObject,k_=Phaser.Math.DegToRad,N_=Phaser.Math.RadToDeg;class Kv extends Vo{constructor(t,r,h,y,P,n,T){var i,a,x,d,l,o,s,f;if(G_(r)){var c=r;r=c.x,h=c.y,y=c.width,P=c.height,n=c.color,T=c.alpha,i=c.strokeColor,a=c.strokeAlpha,x=c.strokeWidth,d=c.arrowOnly,l=c.direction,o=c.easeDuration,s=c.padding,f=c.radius}r===void 0&&(r=0),h===void 0&&(h=0),y===void 0&&(y=1),P===void 0&&(P=y),d===void 0&&(d=!1),l===void 0&&(l=0),o===void 0&&(o=0),s===void 0&&(s=0),f===void 0&&(f=void 0),super(t,r,h,y,P),this.type="rexTriangle",this.setFillStyle(n,T),i!==void 0&&x===void 0&&(x=2),this.setStrokeStyle(x,i,a),this.setArrowOnly(d),this.setDirection(l,o),this.setPadding(s),this.setRadius(f),this.buildShapes()}get arrowOnly(){return this._arrowOnly}set arrowOnly(t){this.dirty=this.dirty||this._arrowOnly!=t,this._arrowOnly=t}setArrowOnly(t){return t===void 0&&(t=!0),this.arrowOnly=t,this}get direction(){return this._direction}set direction(t){t=U_(t),this._direction!==t&&(this.easeDuration>0&&this._direction!==void 0?this.previousDirection=this._direction:this.previousDirection=void 0,this._direction=t,this.verticeAngle=t*90,this.dirty=!0,this.previousDirection!==void 0?this.playEaseDirectionation():this.stopEaseDirection())}setDirection(t,r){return r!==void 0&&this.setEaseDuration(r),this.direction=t,this}toggleDirection(t){return this.setDirection(this.direction+2,t),this}get easeDirectionProgress(){return this._easeDirectionProgress}set easeDirectionProgress(t){this._easeDirectionProgress!==t&&(this._easeDirectionProgress=t,this.dirty=!0)}setPadding(t,r,h,y){if(typeof t=="object"){var P=t,n=Af(P,"x",null);n!==null?(t=n,h=n):(t=Af(P,"left",0),h=Af(P,"right",t));var T=Af(P,"y",null);T!==null?(r=T,y=T):(r=Af(P,"top",0),y=Af(P,"bottom",r))}else t===void 0&&(t=0),r===void 0&&(r=t),h===void 0&&(h=t),y===void 0&&(y=r);return this.padding===void 0&&(this.padding={}),this.dirty=this.dirty||this.padding.left!=t||this.padding.top!=r||this.padding.right!=h||this.padding.bottom!=y,this.padding.left=t,this.padding.top=r,this.padding.right=h,this.padding.bottom=y,this.setRadius(),this}get radius(){return this._radius}set radius(t){this.dirty=this.dirty||this._radius!=t,this._radius=t}setRadius(t){return this.radius=t,this.shapeMode=t==null?0:1,this}get verticeRotation(){return this._verticeRotation}set verticeRotation(t){this.dirty=this.dirty||this._verticeRotation!=t,this._verticeRotation=t}setVerticeRotation(t){return this.verticeRotation=t,this}get verticeAngle(){return N_(this.verticeRotation)}set verticeAngle(t){this.verticeRotation=k_(t)}setVerticeAngle(t){return this.verticeAngle=t,this}}const z_={right:0,down:1,left:2,up:3};var U_=function(e){return typeof e=="string"&&(e=z_[e]),e=e%4,e};Object.assign(Kv.prototype,B_,I_);It.register("triangle",function(e,t,r,h,y,P){var n=new Kv(this.scene,e,t,r,h,y,P);return this.scene.add.existing(n),n});Lt(window,"RexPlugins.UI.Triangle",Kv);ix();const V_=Phaser.GameObjects.Zone,W_=Phaser.Utils.Array.Add,Y_=Phaser.Utils.Array.Remove;let Zv=class extends V_{constructor(t,r,h,y,P){r===void 0&&(r=0),h===void 0&&(h=0),y===void 0&&(y=1),P===void 0&&(P=1),super(t,r,h,y,P),this.children=[]}destroy(t){if(!(!this.scene||this.ignoreDestroy)){if(t)for(var r,h=this.children.length-1;h>=0;h--)r=this.children[h],!r.parentContainer&&!r.displayList&&r.destroy(t);this.clear(!t),super.destroy(t)}}contains(t){return this.children.indexOf(t)!==-1}add(t){var r=this;return W_(this.children,t,0,function(h){h.once("destroy",r.onChildDestroy,r)},this),this}remove(t,r){var h=this;return Y_(this.children,t,function(y){y.off("destroy",h.onChildDestroy,h),r&&y.destroy()}),this}onChildDestroy(t,r){this.remove(t,!1)}clear(t){for(var r=this,h,y=0,P=this.children.length;y<P;y++)h=this.children[y],h.off("destroy",r.onChildDestroy,r),t&&h.destroy();return this.children.length=0,this}};const HL=Phaser.GameObjects.Components;Phaser.Class.mixin(Zv,[HL.Alpha,HL.Flip]);var cs=function(e,t){var r;if(t===void 0)e.hasOwnProperty("rexContainer")&&(r=e.rexContainer.parent);else for(r=cs(e);r&&r.name!==t;)r=cs(r);return r},x4=function(e){for(var t=cs(e);t;)e=t,t=cs(t);return e};const X_=Phaser.Math.DegToRad,H_=Phaser.Math.RadToDeg;var Ke=function(e){if(!e.hasOwnProperty("rexContainer")){var t={parent:null,self:null,layer:null,x:0,y:0,syncPosition:!0,rotation:0,syncRotation:!0,scaleX:0,scaleY:0,syncScale:!0,alpha:0,syncAlpha:!0,syncScrollFactor:!0,syncCameraFilter:!0,syncDisplayList:!0,visible:!0,active:!0};Object.defineProperty(t,"angle",{get:function(){return H_(this.rotation)},set:function(r){this.rotation=X_(r)}}),Object.defineProperty(t,"displayWidth",{get:function(){return e.width*this.scaleX},set:function(r){this.scaleX=r/e.width}}),Object.defineProperty(t,"displayHeight",{get:function(){return e.height*this.scaleY},set:function(r){this.scaleY=r/e.height}}),e.rexContainer=t}return e.rexContainer};const $_={setParent(e,t){t===void 0&&(t=this);var r=Ke(e);return t?(r.parent=t,r.self=e):(r.parent=null,r.self=null),this},getParent(e,t){return typeof e=="string"&&(t=e,e=void 0),e===void 0&&(e=this),cs(e,t)},getTopmostParent(e){return e===void 0&&(e=this),x4(e)}},Ul=Phaser.Utils.Objects.GetValue,y4=Zv.prototype.add;var $L=function(e,t){this.setParent(e);var r=Ke(e);return C4(r,t),this.resetChildState(e).updateChildVisible(e).updateChildActive(e).updateChildScrollFactor(e).updateChildMask(e).updateCameraFilter(e),y4.call(this,e),S4.call(this,e,r),this},I1=function(e,t){this.setParent(e);var r=Ke(e);return C4(r,t),r.x=e.x,r.y=e.y,r.rotation=e.rotation,r.scaleX=e.scaleX,r.scaleY=e.scaleY,r.alpha=e.alpha,r.visible=e.visible,r.active=e.active,this.updateChildPosition(e).updateChildAlpha(e).updateChildVisible(e).updateChildActive(e).updateChildScrollFactor(e).updateChildMask(e),y4.call(this,e),S4.call(this,e,r),this},C4=function(e,t){t===void 0&&(t=!0),typeof t=="boolean"?(e.syncPosition=t,e.syncRotation=t,e.syncScale=t,e.syncAlpha=t,e.syncScrollFactor=t,e.syncCameraFilter=t,e.syncDisplayList=t):(e.syncPosition=Ul(t,"syncPosition",!0),e.syncRotation=Ul(t,"syncRotation",!0),e.syncScale=Ul(t,"syncScale",!0),e.syncAlpha=Ul(t,"syncAlpha",!0),e.syncScrollFactor=Ul(t,"syncScrollFactor",!0),e.syncCameraFilter=Ul(t,"syncCameraFilter",!0),e.syncDisplayList=Ul(t,"syncDisplayList",!0))},S4=function(e,t){this.addToParentContainer(e),t.syncDisplayList&&this.addToPatentLayer(e),this.addToRenderLayer(e)};const K_={add(e){return Array.isArray(e)?this.addMultiple(e):$L.call(this,e),this},pin(e,t){return Array.isArray(e)?this.addMultiple(e,t):$L.call(this,e,t),this},addMultiple(e){for(var t=Array.from(arguments),r=0,h=e.length;r<h;r++)t[0]=e[r],this.add.apply(this,t);return this},addLocal(e){return Array.isArray(e)?this.addMultiple(e):I1.call(this,e),this},pinLocal(e,t){return Array.isArray(e)?this.addMultiple(e,t):I1.call(this,e,t),this},addLocalMultiple(e){for(var t=0,r=e.length;t<r;t++)I1.call(this,e[t]);return this}},KL=Zv.prototype.remove,Z_=Zv.prototype.clear,J_={remove(e,t){return cs(e)!==this?this:(this.setParent(e,null),t||this.removeFromRenderLayer(e),KL.call(this,e,t),this)},unpin(e,t){return cs(e)!==this?this:(this.setParent(e,null),t||this.removeFromRenderLayer(e),KL.call(this,e,t),this)},clear(e){for(var t=this.children,r=0,h=t.length;r<h;r++){var y=t[r];this.setParent(y,null),e||this.removeFromRenderLayer(y)}return Z_.call(this,e),this}},Q_={getLocalState(e){return Ke(e)},resetChildState(e){return this.resetChildPositionState(e).resetChildVisibleState(e).resetChildAlphaState(e).resetChildActiveState(e),this},resetChildrenState(e){for(var t=0,r=e.length;t<r;t++)this.resetChildState(e[t]);return this},syncProperties(){return this.syncPosition().syncVisible().syncAlpha().syncActive().syncScrollFactor().syncMask(),this}},j_={worldToLocal(e){e.x-=this.x,e.y-=this.y;var t=Math.cos(-this.rotation),r=Math.sin(-this.rotation),h=e.x,y=e.y;return e.x=h*t-y*r,e.y=h*r+y*t,e.x/=this.scaleX,e.y/=this.scaleY,e},localToWorld(e){e.x*=this.scaleX,e.y*=this.scaleY;var t=Math.cos(this.rotation),r=Math.sin(this.rotation),h=e.x,y=e.y;return e.x=h*t-y*r,e.y=h*r+y*t,e.x+=this.x,e.y+=this.y,e}};var Dv=function(e,t){return e===t?1:e/t};const q_={updateChildPosition(e){e.isRexContainerLite&&(e.syncChildrenEnable=!1);var t=Ke(e),r=t.parent;return t.syncPosition&&(e.x=t.x,e.y=t.y,r.localToWorld(e)),t.syncRotation&&(e.rotation=t.rotation+r.rotation),t.syncScale&&(e.scaleX=t.scaleX*r.scaleX,e.scaleY=t.scaleY*r.scaleY),e.isRexContainerLite&&(e.syncChildrenEnable=!0,e.syncPosition()),this},syncPosition(){return this.syncChildrenEnable&&this.children.forEach(this.updateChildPosition,this),this},resetChildPositionState(e){var t=Ke(e),r=t.parent;return t.x=e.x,t.y=e.y,r.worldToLocal(t),t.scaleX=Dv(e.scaleX,r.scaleX),t.scaleY=Dv(e.scaleY,r.scaleY),t.rotation=e.rotation-r.rotation,this},setChildPosition(e,t,r){return e.x=t,e.y=r,this.resetChildPositionState(e),this},setChildLocalPosition(e,t,r){var h=Ke(e);return h.x=t,h.y=r,this.updateChildPosition(e),this},resetLocalPositionState(){var e=Ke(this).parent;return e&&e.resetChildPositionState(this),this},getChildLocalX(e){var t=Ke(e);return t.x},getChildLocalY(e){var t=Ke(e);return t.y}},__=Phaser.Math.DegToRad,ttt={updateChildRotation(e){var t=Ke(e),r=t.parent;return t.syncRotation&&(e.rotation=r.rotation+t.rotation),this},syncRotation(){return this.syncChildrenEnable&&this.children.forEach(this.updateChildRotation,this),this},resetChildRotationState(e){var t=Ke(e),r=t.parent;return t.rotation=e.rotation-r.rotation,this},setChildRotation(e,t){return e.rotation=t,this.resetChildRotationState(e),this},setChildAngle(e,t){return e.angle=t,this.resetChildRotationState(e),this},setChildLocalRotation(e,t){var r=Ke(e);return r.rotation=t,this.updateChildRotation(e),this},setChildLocalAngle(e,t){var r=Ke(e);return r.rotation=__(t),this.updateChildRotation(e),this},resetLocalRotationState(){var e=Ke(this).parent;return e&&e.resetChildRotationState(this),this},getChildLocalRotation(e){var t=Ke(e);return t.rotation}},ett={updateChildScale(e){var t=Ke(e),r=t.parent;return t.syncScale&&(e.scaleX=r.scaleX*t.scaleX,e.scaleY=r.scaleY*t.scaleY),this},syncScale(){return this.syncChildrenEnable&&this.children.forEach(this.updateChildScale,this),this},resetChildScaleState(e){var t=Ke(e),r=t.parent;return t.scaleX=Dv(e.scaleX,r.scaleX),t.scaleY=Dv(e.scaleY,r.scaleY),this},setChildScale(e,t,r){return r===void 0&&(r=t),e.scaleX=t,e.scaleY=r,this.resetChildScaleState(e),this},setChildLocalScale(e,t,r){r===void 0&&(r=t);var h=Ke(e);return h.scaleX=t,h.scaleY=r,this.updateChildScale(e),this},setChildDisplaySize(e,t,r){return e.setDisplaySize(t,r),this.resetChildScaleState(e),this},resetLocalScaleState(){var e=Ke(this).parent;return e&&e.resetChildScaleState(this),this},getChildLocalScaleX(e){var t=Ke(e);return t.scaleX},getChildLocalScaleY(e){var t=Ke(e);return t.scaleY}},itt={updateChildVisible(e){var t=Ke(e),r=t.parent,h=t.hasOwnProperty("maskVisible")?t.maskVisible:!0,y=r?r.visible:!0;return e.visible=y&&t.visible&&h,this},syncVisible(){return this.syncChildrenEnable&&this.children.forEach(this.updateChildVisible,this),this},resetChildVisibleState(e){var t=Ke(e);return t.hasOwnProperty("maskVisible")&&delete t.maskVisible,t.visible=e.visible,this},setChildVisible(e,t){return this.setChildLocalVisible(e,t),this},setChildLocalVisible(e,t){t===void 0&&(t=!0);var r=Ke(e);return r.visible=t,this.updateChildVisible(e),this},setChildMaskVisible(e,t){t===void 0&&(t=!0);var r=Ke(e);return r.maskVisible=t,this.updateChildVisible(e),this},resetLocalVisibleState(){var e=Ke(this).parent;return e&&e.resetChildVisibleState(this),this},getChildLocalVisible(e){var t=Ke(e);return t.visible}},rtt={updateChildAlpha(e){var t=Ke(e),r=t.parent;return t.syncAlpha&&(e.alpha=r.alpha*t.alpha),this},syncAlpha(){return this.syncChildrenEnable&&this.children.forEach(this.updateChildAlpha,this),this},resetChildAlphaState(e){var t=Ke(e),r=t.parent;return t.alpha=Dv(e.alpha,r.alpha),this},setChildAlpha(e,t){return e.alpha=t,this.resetChildAlphaState(e),this},setChildLocalAlpha(e,t){var r=Ke(e);return r.alpha=t,this.updateChildAlpha(e),this},resetLocalAlphaState(){var e=Ke(this).parent;return e&&e.resetChildAlphaState(this),this},getChildLocalAlpha(e){var t=Ke(e);return t.alpha}},ntt={updateChildActive(e){var t=Ke(e),r=t.parent;return e.active=r.active&&t.active,this},syncActive(){return this.syncChildrenEnable&&this.children.forEach(this.updateChildActive,this),this},resetChildActiveState(e){var t=Ke(e);return t.active=e.active,this},setChildActive(e,t){return e.active=t,this.resetChildActiveState(e),this},setChildLocalActive(e,t){t===void 0&&(t=!0);var r=Ke(e);return r.active=t,this.updateChildActive(e),this},resetLocalActiveState(){var e=Ke(this).parent;return e&&e.resetChildActiveState(this),this},getChildLocalActive(e){var t=Ke(e);return t.active}},stt={updateChildScrollFactor(e){var t=Ke(e),r=t.parent;return t.syncScrollFactor&&(e.scrollFactorX=r.scrollFactorX,e.scrollFactorY=r.scrollFactorY),this},syncScrollFactor(){return this.syncChildrenEnable&&this.children.forEach(this.updateChildScrollFactor,this),this}},att={updateCameraFilter(e){var t=Ke(e),r=t.parent;return t.syncCameraFilter&&(e.cameraFilter=r.cameraFilter),this},syncCameraFilter(){return this.syncChildrenEnable&&this.children.forEach(this.updateCameraFilter,this),this}},ott={updateChildMask(e){if(this.mask==null)return this;var t=this.mask.hasOwnProperty("geometryMask")?this.mask.geometryMask:this.mask.bitmapMask;return t!==e&&(e.mask=this.mask),this},syncMask(){return this.syncChildrenEnable&&this.children.forEach(this.updateChildMask,this),this},setMask(e){return this.mask=e,this},clearMask(e){e===void 0&&(e=!1);var t=this;return this._mask=null,this.setChildMaskVisible(this),this.children.forEach(function(r){r.clearMask&&r.clearMask(!1),r.hasOwnProperty("isRexContainerLite")||t.setChildMaskVisible(r)}),e&&this.mask&&this.mask.destroy(),this}};var Qm=function(e){return e.filter(function(t){if(t.displayList)return!0;if(t.parentContainer)return!0})};const htt={setDepth(e,t){if(this.depth=e,!t&&this.children)for(var r=this.getAllChildren(),h=0,y=r.length;h<y;h++)r[h].depth=e;return this},swapDepth(e){var t=this.depth,r=e.depth;return this.setDepth(r),e.setDepth(t),this},incDepth(e){if(this.depth+=e,this.children)for(var t=this.getAllChildren(),r=0,h=t.length;r<h;r++)t[r].depth+=e;return this},bringToTop(){var e=this.displayList;if(!e)return this;var t=this.getAllChildren([this]);Is(t,!1);for(var r=0,h=t.length;r<h;r++){var y=t[r];e.exists(y)&&e.bringToTop(y)}return this},bringMeToTop(){return this.bringToTop()},sendToBack(){var e=this.displayList;if(!e)return this;var t=this.getAllChildren([this]);Is(t,!0);for(var r=0,h=t.length;r<h;r++){var y=t[r];e.exists(y)&&e.sendToBack(y)}return this},sendMeToBack(){return this.sendToBack()},moveDepthBelow(e){var t=this.displayList;if(!t)return this;if(e.displayList!==t)return this;var r=this.getAllChildren([this]);Is(r,!1);for(var h=0,y=r.length;h<y;h++){var P=r[h];if(t.exists(P)){t.moveBelow(e,P);break}}return this},moveMyDepthBelow(e){return this.moveDepthBelow(e)},moveDepthAbove(e){var t=this.displayList;if(!t)return this;if(e.displayList!==t)return this;var r=this.getAllChildren([this]);Is(r,!0);for(var h=0,y=r.length;h<y;h++){var P=r[h];if(t.exists(P)){t.moveAbove(e,P);break}}return this},moveMyDepthAbove(e){return this.moveDepthAbove(e)},bringChildToTop(e){var t;e!==this&&e.isRexContainerLite?(t=e.getAllChildren([e]),t=Qm(t),t=Is(t,!1)):t=[e];var r=this.getAllChildren([this]);r=Qm(r),r=Is(r,!1);for(var h=r[r.length-1],y=0,P=t.length;y<P;y++){var n=t[y];h!==n&&(n!==this&&h.displayList!==n.displayList||(h.displayList.moveAbove(n,h),h=n))}return this},sendChildToBack(e){var t;e!==this&&e.isRexContainerLite?(t=e.getAllChildren([e]),t=Qm(t),t=Is(t,!1)):t=[e];var r=this.getAllChildren([this]);r=Qm(r),r=Is(r,!1);for(var h=r[0],y=t.length-1;y>=0;y--){var P=t[y];h!==P&&(P!==this&&h.displayList!==P.displayList||(h.displayList.moveBelow(P,h),h=P))}return this}};var T4=function(e,t){var r=t(e);if(!r&&e.isRexContainerLite)for(var h=e.children,y=0,P=h.length;y<P;y++)T4(h[y],t)},G1=function(e,t){for(var r=[e];r.length>0;){var h=r.shift(),y=t(h);!y&&h.isRexContainerLite&&r.push(...h.children)}};const Vl=Phaser.Utils.Array,ltt={getChildren(e){if(!e)e=this.children;else for(var t=0,r=this.children.length;t<r;t++)e.push(this.children[t]);return e},getAllChildren(e){e===void 0&&(e=[]);var t=this;return G1(t,function(r){r!==t&&e.push(r)}),e},getAllVisibleChildren(e){e===void 0&&(e=[]);var t=this;return G1(t,function(r){if(r!==t){if(!r.visible)return!0;e.push(r)}}),e},bfs(e,t){return t===void 0&&(t=this),G1(t,e),this},dfs(e,t){return t===void 0&&(t=this),T4(t,e),this},contains(e){var t=cs(e);return t?t===this?!0:this.contains(t):!1},getByName(e,t){if(t){for(var r=[this],h,y;r.length;){h=r.shift();for(var P=0,n=h.children.length;P<n;P++){if(y=h.children[P],y.name===e)return y;y.isRexContainerLite&&r.push(y)}}return null}else return Vl.GetFirst(this.children,"name",e)},getRandom(e,t){return Vl.GetRandom(this.children,e,t)},getFirst(e,t,r,h){return Vl.GetFirstElement(this.children,e,t,r,h)},getAll(e,t,r,h){return Vl.GetAll(this.children,e,t,r,h)},count(e,t,r,h){return Vl.CountAllMatching(this.children,e,t,r,h)},swap(e,t){return Vl.Swap(this.children,e,t),this},setAll(e,t,r,h){return Vl.SetAll(this.children,e,t,r,h),this}};var ZL=function(e){for(var t=[],r=0,h=e.length;r<h;r++){var y=e[r];y.hasOwnProperty("rexContainer")&&t.push(y.rexContainer)}return t},utt=function(e){for(var t=0,r=e.length;t<r;t++){var h=e[t].scene;if(h)return h}return null},JL=function(e,t,r){if(!r.parent){e.remove();return}var h=r.parent,y=r.self;switch(t){case"x":case"y":h.updateChildPosition(y);break;case"angle":case"rotation":h.updateChildRotation(y);break;case"scaleX":case"scaleY":case"displayWidth":case"displayHeight":h.updateChildScale(y);break;case"alpha":h.updateChildAlpha(y);break;default:h.updateChildPosition(y),h.updateChildRotation(y),h.updateChildScale(y),h.updateChildAlpha(y);break}};const ftt={tweenChild(e){var t=e.targets;Array.isArray(t)||(t=[t]);var r=this.scene||utt(t);if(r){e.targets=ZL(t);var h=r.tweens.add(e);return h.on("update",JL),h}},tweenSelf(e){return e.targets=[this],this.tweenChild(e)},createTweenChildConfig(e){var t=e.targets;t&&(Array.isArray(t)||(t=[t]),e.targets=ZL(t));var r=e.onUpdate;return e.onUpdate=function(h,y){r&&r(h,y),JL(h,void 0,y)},e},tween(e){var t=this.scene;return e.targets||(e.targets=this),t.tweens.add(e)}},dtt=Phaser.GameObjects.Container;var ctt=function(e){return e instanceof dtt},E4=function(e){var t=e.getAllChildren([e]);return t=t.filter(function(r){return!!r.displayList||!!r.parentContainer}),t},QL=function(e){var t=E4(this);t.indexOf(this)===-1&&t.push(this),Is(t),e.add(t)},jL=function(e,t,r){if(this.scene){var h=E4(this);Is(h,t),e.remove(h),r&&h.forEach(function(y){y.addToDisplayList()})}};const vtt={addToContainer(e){return ctt(e)?(this._setParentContainerFlag=!0,QL.call(this,e),this._setParentContainerFlag=!1,this):this},addToLayer(e){return Tv(e)?(QL.call(this,e),this):this},removeFromContainer(){return this.parentContainer?(this._setParentContainerFlag=!0,jL.call(this,this.parentContainer,!0,!1),this._setParentContainerFlag=!1,this):this},removeFromLayer(e){return e===void 0&&(e=!0),Tv(this.displayList)?(jL.call(this,this.displayList,!1,e),this):this},getParentContainer(){if(this.parentContainer)return this.parentContainer;for(var e=this.getParent();e;){var t=e.parentContainer;if(t)return t;e=e.getParent()}return null},addToParentContainer(e){if(!e.displayList)return this;var t=this.getParentContainer();return t?(e.isRexContainerLite?e.addToContainer(t):t.add(e),this):this},addToPatentLayer(e){if(!e.displayList)return this;var t=this.displayList;return t===e.displayList?this:(Tv(t)&&(e.isRexContainerLite?e.addToLayer(t):t.add(e)),this)}},ptt={hasLayer(){return!!this.privateRenderLayer},enableLayer(){if(this.hasLayer())return this;var e=this.scene.add.layer();return this.moveDepthBelow(e),this.addToLayer(e),this.privateRenderLayer=e,this},getLayer(){return this.hasLayer()||this.enableLayer(),this.privateRenderLayer},getRenderLayer(){if(this.hasLayer())return this.privateRenderLayer;for(var e=this.getParent();e;){var t=e.privateRenderLayer;if(t)return t;e=e.getParent()}return null},addToRenderLayer(e){if(!e.displayList)return this;var t=this.getRenderLayer();if(!t)return this;if(t===e.displayList)return this;e.isRexContainerLite?e.addToLayer(t):t.add(e);var r=Ke(e);return r.layer=t,this},removeFromRenderLayer(e){var t=Ke(e),r=t.layer;return r?(e.isRexContainerLite?e.removeFromLayer(!0):r.remove(e),t.layer=null,this):this}},qL=Phaser.Geom.Rectangle,gtt=Phaser.Geom.Rectangle.Union;var mtt=function(e,t){t===void 0?t=new qL:t===!0&&(k1===void 0&&(k1=new qL),t=k1),t.setTo(0,0,0,0);for(var r,h=!0,y=0,P=e.length;y<P;y++)if(r=e[y],!!r.getBounds){var n=LP(r,!0);h?(t.setTo(n.x,n.y,n.width,n.height),h=!1):gtt(n,t,t)}return t},k1,Wl=Phaser.Utils.Objects.GetValue,XP=function(e){if(e){var t=e.gameObjects,r=e.renderTexture,h=e.saveTexture,y=Wl(e,"x",void 0),P=Wl(e,"y",void 0),n=Wl(e,"width",void 0),T=Wl(e,"height",void 0),i=Wl(e,"originX",0),a=Wl(e,"originY",0),x=Wl(e,"padding",0),d,l;if(n===void 0||T===void 0||y===void 0||P===void 0){var o=mtt(t,!0),s=y!==void 0&&P!==void 0;s?(n=Math.max(y-o.left,o.right-y)*2,T=Math.max(P-o.top,o.bottom-P)*2,i=.5,a=.5):(y=o.x,P=o.y,n=o.width,T=o.height,i=0,a=0),d=o.x,l=o.y}else d=y+(0-i)*n,l=P+(0-a)*T;d-=x,l-=x,n+=x*2,T+=x*2;var f=t[0].scene,c=f.sys.textures;return h&&!r&&(r=c.addDynamicTexture(h,n,T)),r||(r=f.add.renderTexture(0,0,n,T)),r.setPosition&&r.setPosition(y,P),(r.width!==n||r.height!==T)&&r.setSize(n,T),r.setOrigin&&r.setOrigin(i,a),r.camera.setScroll(d,l),t=Is(va(t)),r.draw(t),h&&(Vn(r)?r.saveTexture(h):r.key!==h&&c.renameTexture(r.key,key)),r}};const xtt={snapshot(e){var t=this.scaleX,r=this.scaleY,h=t===1&&r===1;h||this.setScale(1),e===void 0&&(e={}),e.gameObjects=this.getAllVisibleChildren(),e.x=this.x,e.y=this.y,e.originX=this.originX,e.originY=this.originY;var y=XP(e),P=!!y.scene;return h||(this.setScale(t,r),P&&y.setScale(t,r)),P?y:this}},_L=Phaser.Utils.Objects.GetValue;var ytt=function(e,t){var r=_L(t,"drawContainer",!0),h=_L(t,"children");return h===void 0&&(h=this.getAllVisibleChildren([this])),r||(h=h.filter(function(y){return!y.isRexContainerLite})),PB(h,e,t),this};const Ctt=Phaser.Math.RotateAround;var Stt=function(e,t,r){r===void 0&&(r=t);var h={x:(t-e.originX)*e.displayWidth,y:(r-e.originY)*e.displayHeight};return Ctt(h,0,0,e.rotation),e.originX=t,e.originY=r,e.x=e.x+h.x,e.y=e.y+h.y,e},Ttt=function(e,t){this.syncChildrenEnable=!1,Stt(this,e,t),this.syncChildrenEnable=!0;for(var r=this.getAllChildren(),h=0,y=r.length;h<y;h++)this.resetChildPositionState(r[h]);return this},P4={changeOrigin:Ttt,drawBounds:ytt};Object.assign(P4,$_,K_,J_,Q_,j_,q_,ttt,ett,itt,rtt,ntt,stt,att,ott,htt,ltt,ftt,vtt,ptt,xtt);class vs extends Zv{constructor(t,r,h,y,P,n){Array.isArray(y)&&(n=y,y=void 0,P=void 0),super(t,r,h,y,P),this.type="rexContainerLite",this.isRexContainerLite=!0,this.syncChildrenEnable=!0,this._active=!0,this._mask=null,this._scrollFactorX=1,this._scrollFactorY=1,this._cameraFilter=0,this.privateRenderLayer=void 0,n&&this.add(n)}destroy(t){!this.scene||this.ignoreDestroy||(this.syncChildrenEnable=!1,super.destroy(t),this.privateRenderLayer&&this.privateRenderLayer.scene&&(this.privateRenderLayer.list.length=0,this.privateRenderLayer.destroy()))}resize(t,r){return this.setSize(t,r),this}get x(){return this._x}set x(t){this._x!==t&&(this._x=t,this.syncPosition())}get y(){return this._y}set y(t){this._y!==t&&(this._y=t,this.syncPosition())}get rotation(){return super.rotation}set rotation(t){this.rotation!==t&&(super.rotation=t,this.syncPosition())}get scaleX(){return super.scaleX}set scaleX(t){this.scaleX!==t&&(super.scaleX=t,this.syncPosition())}get scaleY(){return super.scaleY}set scaleY(t){this.scaleY!==t&&(super.scaleY=t,this.syncPosition())}get scale(){return super.scale}set scale(t){this.scale!==t&&(super.scale=t,this.syncPosition())}get visible(){return super.visible}set visible(t){super.visible!==t&&(super.visible=t,this.syncVisible())}get alpha(){return super.alpha}set alpha(t){super.alpha!==t&&(super.alpha=t,this.syncAlpha())}get active(){return this._active}set active(t){this._active!==t&&(this._active=t,this.syncActive())}get mask(){return this._mask}set mask(t){this._mask!==t&&(this._mask=t,this.syncMask())}get scrollFactorX(){return this._scrollFactorX}set scrollFactorX(t){this._scrollFactorX!==t&&(this._scrollFactorX=t,this.syncScrollFactor())}get scrollFactorY(){return this._scrollFactorY}set scrollFactorY(t){this._scrollFactorY!==t&&(this._scrollFactorY=t,this.syncScrollFactor())}get cameraFilter(){return this._cameraFilter}set cameraFilter(t){this._cameraFilter!==t&&(this._cameraFilter=t,this.syncCameraFilter())}get list(){return this.children}static GetParent(t){return cs(t)}get parentContainer(){return this._parentContainer}set parentContainer(t){if(!this._parentContainer&&!t){this._parentContainer=t;return}if(this.setParentContainerFlag){this._parentContainer=t;return}this._parentContainer&&!t?(this.removeFromContainer(),this._parentContainer=t):t?(this._parentContainer=t,this.addToContainer(t)):this._parentContainer=t}get setParentContainerFlag(){if(this._setParentContainerFlag)return!0;var t=cs(this);return t?t.setParentContainerFlag:!1}}Object.assign(vs.prototype,P4);var px=function(e){return e.hasOwnProperty("rexSizer")||(e.rexSizer={}),e.rexSizer};function Ett(e){return e===void 0&&(e=this),px(e)}var Ptt=function(e){var t=px(e);return t.hasOwnProperty("prevState")||(t.prevState={}),t.prevState},Mtt=function(e){return e===void 0&&(e=ad(this.scene)),this.left=Math.max(this.left,e.left),this.right=Math.min(this.right,e.right),this.top=Math.max(this.top,e.top),this.bottom=Math.min(this.bottom,e.bottom),this};const ir=Phaser.Display.Align,ld={center:ir.CENTER,left:ir.LEFT_CENTER,right:ir.RIGHT_CENTER,top:ir.TOP_CENTER,bottom:ir.BOTTOM_CENTER,"left-top":ir.TOP_LEFT,"top-left":ir.TOP_LEFT,"left-center":ir.LEFT_CENTER,"center-left":ir.LEFT_CENTER,"left-bottom":ir.BOTTOM_LEFT,"bottom-left":ir.BOTTOM_LEFT,"center-top":ir.TOP_CENTER,"top-center":ir.TOP_CENTER,"center-center":ir.CENTER,"center-bottom":ir.BOTTOM_CENTER,"bottom-center":ir.BOTTOM_CENTER,"right-top":ir.TOP_RIGHT,"top-right":ir.TOP_RIGHT,"right-center":ir.RIGHT_CENTER,"center-right":ir.RIGHT_CENTER,"right-bottom":ir.BOTTOM_RIGHT,"bottom-right":ir.BOTTOM_RIGHT};var sP=new Phaser.GameObjects.Zone({sys:{queueDepthSort:wr,events:{once:wr}}},0,0,1,1);sP.setOrigin(0);var Yo={TOP_LEFT:0,TOP_CENTER:1,TOP_RIGHT:2,LEFT_TOP:3,LEFT_CENTER:4,LEFT_BOTTOM:5,CENTER:6,RIGHT_TOP:7,RIGHT_CENTER:8,RIGHT_BOTTOM:9,BOTTOM_LEFT:10,BOTTOM_CENTER:11,BOTTOM_RIGHT:12},HP=function(e){var t=gi(e);return e.y+t-t*e.originY},$P=function(e){var t=pi(e);return e.x-t*e.originX+t*.5},KP=function(e,t){var r=gi(e);return e.y=t-r+r*e.originY,e},ZP=function(e,t){var r=pi(e),h=r*e.originX;return e.x=t+h-r*.5,e},btt=function(e,t,r,h){return r===void 0&&(r=0),h===void 0&&(h=0),ZP(e,$P(t)+r),KP(e,HP(t)+h),e},JP=function(e){var t=pi(e);return e.x-t*e.originX},QP=function(e,t){var r=pi(e);return e.x=t+r*e.originX,e},wtt=function(e,t,r,h){return r===void 0&&(r=0),h===void 0&&(h=0),QP(e,JP(t)-r),KP(e,HP(t)+h),e},jP=function(e){var t=pi(e);return e.x+t-t*e.originX},qP=function(e,t){var r=pi(e);return e.x=t-r+r*e.originX,e},Rtt=function(e,t,r,h){return r===void 0&&(r=0),h===void 0&&(h=0),qP(e,jP(t)+r),KP(e,HP(t)+h),e},_P=function(e,t){var r=gi(e),h=r*e.originY;return e.y=t+h-r*.5,e},Att=function(e,t,r){return ZP(e,t),_P(e,r)},tM=function(e){var t=gi(e);return e.y-t*e.originY+t*.5},Ott=function(e,t,r,h){return r===void 0&&(r=0),h===void 0&&(h=0),Att(e,$P(t)+r,tM(t)+h),e},Ltt=function(e,t,r,h){return r===void 0&&(r=0),h===void 0&&(h=0),QP(e,JP(t)-r),_P(e,tM(t)+h),e},Ftt=function(e,t,r,h){return r===void 0&&(r=0),h===void 0&&(h=0),qP(e,jP(t)+r),_P(e,tM(t)+h),e},eM=function(e){var t=gi(e);return e.y-t*e.originY},iM=function(e,t){var r=gi(e);return e.y=t+r*e.originY,e},Dtt=function(e,t,r,h){return r===void 0&&(r=0),h===void 0&&(h=0),ZP(e,$P(t)+r),iM(e,eM(t)-h),e},Btt=function(e,t,r,h){return r===void 0&&(r=0),h===void 0&&(h=0),QP(e,JP(t)-r),iM(e,eM(t)-h),e},Itt=function(e,t,r,h){return r===void 0&&(r=0),h===void 0&&(h=0),qP(e,jP(t)+r),iM(e,eM(t)-h),e},Qa=[];Qa[Yo.BOTTOM_CENTER]=btt;Qa[Yo.BOTTOM_LEFT]=wtt;Qa[Yo.BOTTOM_RIGHT]=Rtt;Qa[Yo.CENTER]=Ott;Qa[Yo.LEFT_CENTER]=Ltt;Qa[Yo.RIGHT_CENTER]=Ftt;Qa[Yo.TOP_CENTER]=Dtt;Qa[Yo.TOP_LEFT]=Btt;Qa[Yo.TOP_RIGHT]=Itt;var M4=function(e,t,r,h,y){return Qa[r](e,t,h,y)},Jv=function(e,t,r,h,y,P){sP.setPosition(t,r).setSize(h,y),M4(e,sP,P)};const Of=Phaser.Utils.Objects.GetValue,Gtt=Phaser.GameObjects.Group,ktt=Phaser.GameObjects.Container;var Ntt=function(e,t){var r=e.scene,h,y,P,n,T;if(typeof t=="number")h=t;else{h=Of(t,"color"),y=Of(t,"lineWidth");var i=Of(t,"name",!1);i&&(P=Of(i,"createTextCallback",ztt),n=Of(i,"createTextCallbackScope",void 0),T=Of(i,"align","left-top"),typeof T=="string"&&(T=ld[T]))}if(h===void 0&&(h=16777215),y===void 0&&(y=1),P&&!e.children){e.children=new Gtt(r),e.once("destroy",function(f,c){f.children.destroy(!c),f.children=void 0});var a=e.clear.bind(e);e.clear=function(){a(),e.children.clear(!1,!0)}}var x=this.getAllShownChildren([this]);b4(x,x);for(var d,l,o=0,s=x.length;o<s;o++){if(d=x[o],d.getBounds||d.width!==void 0&&d.height!==void 0)Yl=LP(d,Yl);else continue;h!=null&&e.lineStyle(y,h).strokeRectShape(Yl),d.name&&P&&(n?l=P.call(n,r):l=P(r),l&&(l.setText(d.name),e.children.add(l),Jv(l,Yl.x,Yl.y,Yl.width,Yl.height,T)))}return this},ztt=function(e,t,r){return e.add.text(0,0,"")},b4=function(e,t){Array.isArray(e)||(e=[e]),t===void 0&&(t=[]);for(var r=0,h=e.length;r<h;r++){var y=e[r];y instanceof ktt&&(t.push(...y.list),b4(y.list,t))}return t},Yl=void 0;const jm=Phaser.Utils.Objects.GetValue;var gu=function(e,t){return e===void 0&&(e=0),t===void 0&&(t={}),typeof e=="number"?(t.left=e,t.right=e,t.top=e,t.bottom=e):(t.left=jm(e,"left",0),t.right=jm(e,"right",0),t.top=jm(e,"top",0),t.bottom=jm(e,"bottom",0)),t};const Utt=vs.prototype.add;var Qv=function(e){return Utt.call(this,e),this.sizerEventsEnable&&(e.emit("sizer.add",e,this),this.emit("add",e,this)),this};const Vtt={addBackground(e,t,r){this.backgroundChildren===void 0&&(this.backgroundChildren=[]),typeof t=="string"&&(r=t,t=void 0),t===void 0&&(t=0),Qv.call(this,e),this.backgroundChildren.push(e);var h=this.getSizerConfig(e);return h.padding=gu(t),r!==void 0&&this.addChildrenMap(r,e),this},isBackground(e){return this.backgroundChildren===void 0?!1:this.backgroundChildren.indexOf(e)!==-1}};var Xh=function(e,t){var r=null;if(t===void 0)e.hasOwnProperty("rexContainer")&&(r=e.rexContainer.parent,r?r.isRexSizer||(r=Xh(r)):r=null);else for(r=Xh(e);r&&r.name!==t;)r=Xh(r);return r},Wtt=function(e){for(var t=Xh(e);t;)e=t,t=Xh(t);return e};const ud={getParentSizer(e,t){return typeof e=="string"&&(t=e,e=void 0),e===void 0&&(e=this),Xh(e,t)},getTopmostSizer(e){return e===void 0&&(e=this),Wtt(e)},hasParentSizer(e,t){t===void 0&&(t=this);for(var r=Xh(t);r;){if(r===e)return!0;r=Xh(r)}return!1},hasChild(e,t){return t===void 0&&(t=this),this.hasParentSizer(t,e)}},Ytt=Phaser.Utils.Array.Remove,Xtt=vs.prototype.remove,tF=ud.getParentSizer;var jv=function(e,t){for(var r=tF(e);r;)r.removeChildCallback&&r.removeChildCallback(e,t),r=tF(r);return this.isBackground(e)&&Ytt(this.backgroundChildren,e),Xtt.call(this,e,t),!t&&this.sizerEventsEnable&&(e.emit("sizer.remove",e,this),this.emit("remove",e,this)),this};const Htt=Phaser.Utils.Array.Remove,$tt=ud.getParentSizer,Ktt={removeFromParentSizer(){var e=$tt(gameObject);return e&&e.remove(this),this},removeBackground(e,t){return this.backgroundChildren===void 0?this:this.getParentSizer(e)!==this?this:(Htt(this.backgroundChildren,e),jv.call(this,e,t),this)},removeAllBackgrounds(e){if(this.backgroundChildren===void 0)return this;for(var t=this.backgroundChildren.length-1;t>=0;t--)this.remove(this.backgroundChildren[t],e);return this}};var eF=function(e,t){if(typeof e=="string")this.childrenMap[e]=t;else{var r=e;for(e in r)this.childrenMap[e]=r[e]}return this},Ztt=function(e){if(typeof e=="object"){var t=e;for(var e in this.childrenMap)if(this.childrenMap[e]===t)return delete this.childrenMap[e],this}return delete this.childrenMap[e],this},Jtt=function(e,t){if(typeof e=="string"&&(e=e.split(".")),e.length!==0){t===void 0&&(t=!1);var r=e.shift(),h=null;if(r.charAt(0)==="#")r=r.substring(1),h=this.getByName(r,t);else if(e.length===0&&t){var y=this.childrenMap;if(y)for(var P=[y],n;P.length;){y=P.shift();for(var T in y)if(n=y[T],T===r){h=n;break}else n&&typeof n=="object"&&n.childrenMap&&P.push(n.childrenMap);if(h)break}}else if(r.indexOf("[")===-1)this.childrenMap&&(h=this.childrenMap[r]);else{var i=r.match(Qtt);if(i!=null&&this.childrenMap){var a=this.childrenMap[i[1]];a&&(h=a[i[2]])}}return e.length===0?h:h&&h.childrenMap?h.getElement(e):null}};const Qtt=/(\S+)\[(\d+)\]/i;var jtt=function(e){if(Array.isArray(this.sizerChildren)){var t=this.sizerChildren.indexOf(e);return t===-1&&(t=null),t}else{if(this.getParentSizer(e)!==this)return null;for(var r in this.sizerChildren)if(this.sizerChildre[r]===e)return r;return null}};const qtt={getInnerPadding(e){return F0(this.space,e)},setInnerPadding(e,t){return Yh(this.space,e,t),this},getOuterPadding(e){return F0(this.getSizerConfig(this).padding,e)},setOuterPadding(e,t){return Yh(this.getSizerConfig(this).padding,e,t),this},getChildOuterPadding(e,t){return typeof e=="string"&&(e=this.getElement(e)),F0(this.getSizerConfig(e).padding,t)},setChildOuterPadding(e,t,r){return typeof e=="string"&&(e=this.getElement(e)),Yh(this.getSizerConfig(e).padding,t,r),this}};var rM=function(e){var t=this.childrenWidth;if(t!==void 0){var r=this.minWidth!==void 0?this.minWidth*this.scaleX:0;return e===void 0?(e=Math.max(r,t),this.layoutWarnEnable&&r>0&&t>r&&console.warn(`Layout width warn: ${this.constructor.name}'s minWidth (${r}) < childrenWidth (${t})`)):this.layoutWarnEnable&&(r>e||t>e)&&console.warn(`Layout width warn: ${this.constructor.name}'s minWidth (${r}) or childrenWidth (${t} > targetWidth ${e})`),e}},nM=function(){var e;for(var t in this.sizerChildren)if(e=this.sizerChildren[t],!(!e||e.isRexSizer&&e.ignoreLayout||!e.runWidthWrap)&&(!e.hasWidthWrap||e.hasWidthWrap()))return!0;return!1},_tt=function(e){var t,r,h;for(var y in this.sizerChildren)t=this.sizerChildren[y],t&&t.isRexSizer&&!t.ignoreLayout&&(r=this.getExpandedChildWidth(t,e),h=t.resolveWidth(r),h===void 0&&(h=r),t.resolveChildrenWidth(h))},sM=function(e){var t,r,h;for(var y in this.sizerChildren)t=this.sizerChildren[y],!(!t||t.isRexSizer&&t.ignoreLayout||!t.runWidthWrap)&&(r=this.getExpandedChildWidth(t,e),t.isRexSizer?(h=t.resolveWidth(r),h===void 0&&(h=r)):h=r,t.runWidthWrap(h));return this},aM=function(e){var t=this.childrenHeight;if(t!==void 0){var r=this.minHeight!==void 0?this.minHeight*this.scaleY:0;return e===void 0?(e=Math.max(r,t),this.layoutWarnEnable&&r>0&&t>r&&console.warn(`Layout height warn: ${this.constructor.name}'s minHeight (${r}) < childrenHeight (${t})`)):this.layoutWarnEnable&&(r>e||t>e)&&console.warn(`Layout height warn: ${this.constructor.name}'s minHeight (${r}) or childrenHeight (${t}) > targetHeight (${e})`),e}},oM=function(){var e;for(var t in this.sizerChildren)if(e=this.sizerChildren[t],!(!e||e.isRexSizer&&e.ignoreLayout||!e.runHeightWrap)&&(!e.hasHeightWrap||e.hasHeightWrap()))return!0;return!1},tet=function(e){var t,r,h;for(var y in this.sizerChildren)t=this.sizerChildren[y],t&&t.isRexSizer&&!t.ignoreLayout&&(r=this.getExpandedChildHeight(t,e),h=t.resolveHeight(r),h===void 0&&(h=r),t.resolveChildrenHeight(h))},hM=function(e){var t,r,h;for(var y in this.sizerChildren)t=this.sizerChildren[y],!(!t||t.isRexSizer&&t.ignoreLayout||!t.runHeightWrap)&&(r=this.getExpandedChildHeight(t,e),t.isRexSizer?(h=t.resolveHeight(r),h===void 0&&(h=r)):h=r,t.runHeightWrap(h));return this},eet=function(e){var t;if(e.isRexSizer){var r=e.childrenWidth;if(r==null)return;var h=e.minWidth*e.scaleX;t=Math.max(h,r)}else e.minWidth!==void 0?t=e.minWidth:e._minWidth!==void 0?t=e._minWidth:t=pi(e);return t},iet=function(e){var t;if(e.isRexSizer){var r=e.childrenHeight;if(r===void 0)return;var h=e.minHeight*e.scaleY;t=Math.max(h,r)}else e.minHeight!==void 0?t=e.minHeight:e._minHeight!==void 0?t=e._minHeight:t=gi(e);return t},ret=function(e,t){return t},net=function(e,t){return t},set=function(){return 0},aet=function(){return 0},oet=function(e){e===void 0&&(e=[]);for(var t=e.length,r=this.getChildrenSizers(e),h=e.length,y=t;y<h;y++)r[y].getAllChildrenSizers(e);return e},het=function(e){return e===void 0&&(e=[]),e};const uet={getShownChildren(e){e===void 0&&(e=[]);for(var t=this.children,r,h=0,y=t.length;h<y;h++)r=t[h],!(r.rexSizer&&r.rexSizer.hidden)&&e.push(r);return e},getAllShownChildren(e){e===void 0&&(e=[]);for(var t=[this];t.length>0;){var r=t.shift();r.rexSizer&&r.rexSizer.hidden||(r!==this&&e.push(r),r.isRexContainerLite&&t.push(...r.children))}return e}};var qv=function(){this._childrenWidth=void 0,this._childrenHeight=void 0;for(var e=this.getChildrenSizers(),t,r=0,h=e.length;r<h;r++)t=e[r],!t.ignoreLayout&&t.preLayout()},fet=function(){return this.runLayout(),this},det=function(e){if(e.resize)return!0;if(!e.setSize)return!1;for(var t=0,r=iF.length;t<r;t++){var h=iF[t];if(h&&e instanceof h)return!1}return!0},iF=[Phaser.GameObjects.Image,Phaser.GameObjects.Sprite,Phaser.GameObjects.Mesh,Phaser.GameObjects.Shader,Phaser.GameObjects.Video],cet=function(e){if(e.displayWidth===void 0)return!1;for(var t=0,r=rF.length;t<r;t++){var h=rF[t];if(h&&e instanceof h)return!1}return!0},rF=[Phaser.GameObjects.BitmapText],cn=function(e,t,r){if(!(!e||t===void 0&&r===void 0))if(det(e)){var h,y;t===void 0?h=e.width:h=t/e.scaleX,r===void 0?y=e.height:y=r/e.scaleY,e.resize?e.resize(h,y):e.setSize(h,y)}else{var P=cet(e);t!==void 0&&(P?e.displayWidth=t:e.scaleX=t/e.width),r!==void 0&&(P?e.displayHeight=r:e.scaleY=r/e.height)}},vet=function(e,t,r){if(this.ignoreLayout)return this;var h=!e;h&&this.preLayout();var y,P;h||e.runChildrenWrapFlag?(y=this.hasWidthWrap(),P=this.hasHeightWrap()):(y=!1,P=!1);var n=pet(this,t,r,y,P);n||console.error("Can't resolve size of ",this);var T=n.width,i=n.height;return cn(this,T,i),this.sizerEventsEnable&&this.layoutedChildren===void 0&&(this.layoutedChildren=[]),this.layoutChildren(),this.layoutBackgrounds(),this.sizerEventsEnable&&(this.emit("postlayout",this.layoutedChildren,this),this.layoutedChildren.length=0),this.postLayout(e,T,i),h&&this._anchor&&this._anchor.updatePosition(),this},pet=function(e,t,r,h,y){var P=nF(e,t,h),n=get(e,r,y);return P===void 0&&(P=nF(e,t,h)),P!==void 0&&n!==void 0?{width:P,height:n}:!1},nF=function(e,h,r){var h=e.resolveWidth(h);return h!==void 0&&r&&(e.resolveChildrenWidth(h),e.runWidthWrap(h)),h},get=function(e,h,r){var h=e.resolveHeight(h);return h!==void 0&&r&&(e.resolveChildrenHeight(h),e.runHeightWrap(h)),h},met=function(){},xet=function(e,t,r){return this},yet=function(e,t,r,h){cn(r,e,t)};const qm=Phaser.Utils.Objects.GetValue;class lM extends Hi{constructor(t,r){super(t,{eventEmitter:!1}),this.viewport=void 0,this.resetFromJSON(r)}shutdown(t){this.isShutdown||(this.autoAnchor(!1),this.viewport=void 0,this.onUpdateViewportCallback=void 0,this.onUpdateViewportCallbackScope=void 0,this.onResizeCallback=void 0,this.onResizeCallbackScope=void 0,super.shutdown(t))}resetFromJSON(t){t===void 0&&(t={});var r,h;t.x!==void 0?(r=null,h=t.x):t.left!==void 0?(r=0,h=t.left):t.right!==void 0?(r=1,h=t.right):t.centerX!==void 0&&(r=.5,h=t.centerX);var y,P;t.y!==void 0?(y=null,P=t.y):t.top!==void 0?(y=0,P=t.top):t.bottom!==void 0?(y=1,P=t.bottom):t.centerY!==void 0&&(y=.5,P=t.centerY);var n,T;h!==void 0&&(h=h.replace("left","0%").replace("right","100%").replace("center","50%").split("%"),n=parseFloat(h[0])/100,T=h[1]===""?0:parseFloat(h[1]));var i,a;P!==void 0&&(P=P.replace("top","0%").replace("bottom","100%").replace("center","50%").split("%"),i=parseFloat(P[0])/100,a=P[1]===""?0:parseFloat(P[1]));var x=t.width,d,l;x!==void 0&&(x=x.split("%"),d=parseFloat(x[0])/100,l=x[1]===""?0:parseFloat(x[1]));var o=t.height,s,f;o!==void 0&&(o=o.split("%"),s=parseFloat(o[0])/100,f=o[1]===""?0:parseFloat(o[1])),this.setAlign(r,y),this.setPercentage(n,i),this.setOffset(T,a),this.setSizePercentage(d,s),this.setSizePadding(l,f);var c=qm(t,"onResizeCallback",yet),u=qm(t,"onResizeCallbackScope");this.setResizeCallback(c,u);var v=qm(t,"onUpdateViewportCallback"),p=qm(t,"onUpdateViewportCallbackScope");return this.setUpdateViewportCallback(v,p),this.autoAnchor(t.enable),this}autoAnchor(t){return t===void 0&&(t=!0),t=!!t,this.autoAnchorEnable===t?this:(t?(this.scene.sys.scale.on("resize",this.anchor,this),this.anchor()):this.scene.sys.scale.off("resize",this.anchor,this),this.autoAnchorEnable=t,this)}setAlign(t,r){return this.alignX=t,this.alignY=r,this}setPercentage(t,r){return this.percentageX=t,this.percentageY=r,this}setOffset(t,r){return this.offsetX=t,this.offsetY=r,this}setSizePercentage(t,r){return this.percentageWidth=t,this.percentageHeight=r,this}setSizePadding(t,r){return this.paddingWidth=t,this.paddingHeight=r,this}setResizeCallback(t,r){return this.onResizeCallback=t,this.onResizeCallbackScope=r,this}setUpdateViewportCallback(t,r){return this.onUpdateViewportCallback=t,this.onUpdateViewportCallbackScope=r,this}anchor(){return this.updateViewport(),this.updateSize(),this.updatePosition(),this}updateSize(){var t=this.onResizeCallback,r=this.onResizeCallbackScope,h=this.anchorWidth,y=this.anchorHeight;if(!(h===void 0&&y===void 0||!t)){var P=this.parent;h===void 0&&(h=P.width),y===void 0&&(y=P.height),r?t.call(r,h,y,P,this):t(h,y,P,this)}}updatePosition(){var t=this.parent;return this.alignX===null?t.x=this.anchorX:this.alignX!==void 0&&(t.x=this.anchorX+t.displayWidth*(t.originX-this.alignX)),this.alignY===null?t.y=this.anchorY:this.alignY!==void 0&&(t.y=this.anchorY+t.displayHeight*(t.originY-this.alignY)),this}get anchorX(){return this.viewport.x+this.viewport.width*this.percentageX+this.offsetX}get anchorY(){return this.viewport.y+this.viewport.height*this.percentageY+this.offsetY}get anchorWidth(){if(this.percentageWidth!==void 0)return this.viewport.width*this.percentageWidth+this.paddingWidth}get anchorHeight(){if(this.percentageHeight!==void 0)return this.viewport.height*this.percentageHeight+this.paddingHeight}updateViewport(){var t=this.parent.scene.cameras.main;this.viewport=ad(this.scene,t,this.viewport);var r=this.viewport,h=this.onUpdateViewportCallback,y=this.onUpdateViewportCallbackScope;h&&(y?h.call(y,r,this.parent,this):h(r,this.parent,this))}}var Cet=function(e){e===void 0&&(e={});var t=e.hasOwnProperty("width"),r=e.hasOwnProperty("height"),h=e.hasOwnProperty("onResizeCallback");return(t||r)&&!h&&(e.onResizeCallback=function(y,P,n){t&&n.setMinWidth(y),r&&n.setMinHeight(P),n.layout()}),this._anchor===void 0?this._anchor=new lM(this,e):this._anchor.resetFromJSON(e),this};const Tet=Phaser.Utils.Objects.GetValue,Lf=Phaser.Utils.Objects.GetAdvancedValue,sF=Phaser.Math.Linear;class Bv extends cu{constructor(t,r){super(t,r),this.scaleStart={},this.scaleEnd={},this.resetFromJSON(r),this.boot()}resetFromJSON(t){return super.resetFromJSON(t),this.setMode(Tet(t,"mode",0)),this.setScaleRange(Lf(t,"start",void 0),Lf(t,"end",0)),this}setMode(t){return typeof t=="string"&&(t=Eet[t]),this.mode=t,this}setScaleRange(t,r){return typeof t=="number"?(this.startX=t,this.startY=t):(this.startX=Lf(t,"x",this.parent.scaleX),this.startY=Lf(t,"y",this.parent.scaleY)),typeof r=="number"?(this.endX=r,this.endY=r):(this.endX=Lf(r,"x",void 0),this.endY=Lf(r,"y",void 0)),this.hasScaleX=this.startX!==void 0&&this.endX!==void 0,this.hasScaleY=this.startY!==void 0&&this.endY!==void 0,this}start(){if(this.timer.isRunning)return this;var t=this.parent;this.hasScaleX&&(t.scaleX=this.startX),this.hasScaleY&&(t.scaleY=this.startY);var r=this.repeat;return this.mode===2&&r!==-1&&(r=(r+1)*2-1),this.timer.setDelay(this.delay).setDuration(this.duration).setRepeat(r),super.start(),this}updateTarget(t,r){var h=r.t;r.isOddIteration&&(h=1-h),h=this.easeFn(h),this.hasScaleX&&(t.scaleX=sF(this.startX,this.endX,h)),this.hasScaleY&&(t.scaleY=sF(this.startY,this.endY,h))}complete(){return super.complete(),this.mode===1&&this.parent.destroy(),this}}const Eet={stop:0,destroy:1,yoyo:2};var uM=function(e,t,r,h,y){h===void 0&&(h="Cubic");var P,n;switch(r){case 0:case"x":P={x:0},n={x:e.scaleX};break;case 1:case"y":P={y:0},n={y:e.scaleY};break;default:P=0,n=e.scale;break}var T={mode:0,start:P,end:n,duration:t,ease:h};return y===void 0?y=new Bv(e,T):y.resetFromJSON(T),y.restart(),y},w4=function(e,t,r,h,y,P){h===void 0&&(h="Linear"),y instanceof Bv&&(P=y,y=void 0),y===void 0&&(y=!0);var n={};switch(n.mode=y?1:0,r){case 0:case"x":n.end={x:0};break;case 1:case"y":n.end={y:0};break;default:n.end=0;break}return n.duration=t,n.ease=h,P===void 0?P=new Bv(e,n):P.resetFromJSON(n),P.restart(),P},Pet=function(e,t,r,h,y,P,n){r===void 0&&(r=1.2),h===void 0&&(h=0),P===void 0&&(P="Cubic");var T,i;switch(y){case 0:case"x":T={x:e.scaleX},i={x:r};break;case 1:case"y":T={y:e.scaleX},i={y:r};break;default:T=e.scaleX,i=r;break}var a={mode:2,start:T,end:i,duration:t/2,ease:P,repeat:h};return n===void 0?n=new Bv(e,a):n.resetFromJSON(a),n.restart(),n};const N1=Phaser.Utils.Objects.IsPlainObject,R4={onInitScale(){var e=this,t=this._scaleBehavior;t.completeEventName=void 0,t.on("complete",function(){t.completeEventName&&(e.emit(t.completeEventName,e),t.completeEventName=void 0)})},popUp(e,t,r){if(N1(e)){var h=e;e=h.duration,t=h.orientation,r=h.ease}var y=this._scaleBehavior===void 0;return this._scaleBehavior=uM(this,e,t,r,this._scaleBehavior),y&&this.onInitScale(),this._scaleBehavior.completeEventName="popup.complete",this},popUpPromise(e,t,r){return this.popUp(e,t,r),_r(this._scaleBehavior)},isRunningPopUp(){return this._scaleBehavior&&this._scaleBehavior.completeEventName==="popup.complete"},scaleDownDestroy(e,t,r,h){if(N1(e)){var y=e;e=y.duration,t=y.orientation,r=y.ease,h=y.destroy}var P=this._scaleBehavior===void 0;return this._scaleBehavior=w4(this,e,t,r,h,this._scaleBehavior),P&&this.onInitScale(),this._scaleBehavior.completeEventName="scaledown.complete",this},scaleDownDestroyPromise(e,t,r,h){return this.scaleDownDestroy(e,t,r,h),_r(this._scaleBehavior)},scaleDown(e,t,r){return this.scaleDownDestroy(e,t,r,!1),this},scaleDownPromise(e,t,r){return this.scaleDown(e,t,r),_r(this._scaleBehavior)},isRunningScaleDown(){return this._scaleBehavior&&this._scaleBehavior.completeEventName==="scaledown.complete"},scaleYoyo(e,t,r,h,y){if(N1(e)){var P=e;e=P.duration,t=P.peakValue,r=P.repeat,h=P.orientation,y=P.ease}var n=this._scaleBehavior===void 0;return this._scaleBehavior=Pet(this,e,t,r,h,y,this._scaleBehavior),n&&this.onInitScale(),this._scaleBehavior.completeEventName="scaleyoyo.complete",this},scaleYoyoPromise(e,t,r,h,y){return this.scaleYoyo(e,t,r,h,y),_r(this._scaleBehavior)},isRunningScaleYoyo(){return this._scaleBehavior&&(this._scaleBehavior.completeEventName="scaleyoyo.complete")},isRunningEaseScale(){return this.isRunningPopUp()||this.isRunningScaleDown()||this.isRunningScaleYoyo()}};var Io={};Object.assign(Io,R4);Io.onInitScale=function(){R4.onInitScale.call(this);var e=this,t=this._scaleBehavior;t.on("update",function(){var r=ud.getParentSizer(e);r&&r.resetChildPositionState(e)})};const Met=Phaser.Utils.Objects.GetValue,aF=Phaser.Utils.Objects.GetAdvancedValue,bet=Phaser.Math.Linear;let aP=class extends cu{constructor(t,r){super(t,r),this.resetFromJSON(r),this.boot()}resetFromJSON(t){return super.resetFromJSON(t),this.setMode(Met(t,"mode",0)),this.setAlphaRange(aF(t,"start",this.parent.alpha),aF(t,"end",0)),this}setMode(t){return typeof t=="string"&&(t=wet[t]),this.mode=t,this}setAlphaRange(t,r){return this.alphaStart=t,this.alphaEnd=r,this}start(){if(this.timer.isRunning)return this;var t=this.parent;return t.setAlpha(this.alphaStart),this.timer.setDelay(this.delay).setDuration(this.duration).setRepeat(this.mode===2?-1:0),super.start(),this}updateTarget(t,r){var h=r.t;r.isOddIteration&&(h=1-h),t.alpha=bet(this.alphaStart,this.alphaEnd,h)}complete(){return super.complete(),this.mode===1&&this.parent.destroy(),this}};const wet={stop:0,destroy:1,yoyo:2},Ret=Phaser.Utils.Objects.IsPlainObject;var gx=function(e,t,r,h){var y,P;Ret(r)?(y=r.start,P=r.end):P=r,y===void 0&&(y=0),P===void 0&&(P=1);var n={mode:0,start:y,end:P,duration:t};return h===void 0?h=new aP(e,n):h.resetFromJSON(n),h.restart(),h},mx=function(e,t,r,h){r instanceof aP&&(h=r,r=void 0),r===void 0&&(r=!0);var y={mode:r?1:0,end:0,duration:t};return h===void 0?h=new aP(e,y):h.resetFromJSON(y),h.restart(),h};const oF=Phaser.Utils.Objects.IsPlainObject,A4={onInitFade(){var e=this,t=this._fade;t.completeEventName=void 0,t.on("complete",function(){t.completeEventName&&(e.emit(t.completeEventName,e),t.completeEventName=void 0)})},fadeIn(e,t){if(oF(e)){var r=e;e=r.duration,t=r.alpha}var h=this._fade===void 0;return this._fade=gx(this,e,t,this._fade),h&&this.onInitFade(),this._fade.completeEventName="fadein.complete",this},fadeInPromise(e,t){return this.fadeIn(e,t),_r(this._fade)},isRunningFadeIn(){return this._fade&&this._fade.completeEventName==="fadein.complete"},fadeOutDestroy(e,t){if(oF(e)){var r=e;e=r.duration,t=r.destroy}var h=this._fade===void 0;return this._fade=mx(this,e,t,this._fade),h&&this.onInitFade(),this._fade.completeEventName="fadeout.complete",this},fadeOutDestroyPromise(e,t){return this.fadeOutDestroy(e,t),_r(this._fade)},fadeOut(e){return this.fadeOutDestroy(e,!1),this},fadeOutPromise(e){return this.fadeOut(e),_r(this._fade)},isRunningFadeOut(){return this._fade&&this._fade.completeEventName==="fadeout.complete"},isRunningEaseFade(){return this.isRunningFadeIn()||this.isRunningFadeOut()}};var Iv={};Object.assign(Iv,A4);Iv.onInitFade=function(){A4.onInitFade.call(this);var e=this,t=this._fade;t.on("update",function(){var r=ud.getParentSizer(e);r&&r.resetChildAlphaState(e)})};const Aet=Phaser.Utils.Objects.GetValue,Ff=Phaser.Utils.Objects.GetAdvancedValue,hF=Phaser.Math.Linear;class X0 extends cu{constructor(t,r){super(t,r),this.resetFromJSON(r),this.boot()}resetFromJSON(t){if(super.resetFromJSON(t),this.setMode(Aet(t,"mode",0)),t&&(t.hasOwnProperty("x")||t.hasOwnProperty("y"))){var r=Ff(t,"x",void 0),h=Ff(t,"y",void 0);this.setTargetPosition(r,h)}else this.setTargetPosition(t);return this}setMode(t){return typeof t=="string"&&(t=Oet[t]),this.mode=t,this}setTargetPosition(t,r){if(typeof t=="number"||typeof r=="number")this.startX=this.parent.x,this.startY=this.parent.y,this.endX=t,this.endY=r;else{var h=t;this.startX=Ff(h,"startX",void 0),this.startY=Ff(h,"startY",void 0),this.endX=Ff(h,"endX",void 0),this.endY=Ff(h,"endY",void 0)}return this.hasMoveX=this.startX!==void 0&&this.endX!==void 0,this.hasMoveY=this.startY!==void 0&&this.endY!==void 0,this}start(){if(this.timer.isRunning)return this;var t=this.parent;return this.hasMoveX&&(t.x=this.startX),this.hasMoveY&&(t.y=this.startY),this.timer.setDelay(this.delay).setDuration(this.duration).setRepeat(this.mode===2?-1:0),super.start(),this}updateTarget(t,r){var h=r.t;r.isOddIteration&&(h=1-h),h=this.easeFn(h),this.hasMoveX&&(t.x=hF(this.startX,this.endX,h)),this.hasMoveY&&(t.y=hF(this.startY,this.endY,h))}complete(){return super.complete(),this.mode===1&&this.parent.destroy(),this}}const Oet={stop:0,destroy:1,yoyo:2};var H0=function(e,t){if(typeof e=="number")return e;var r=e[0],h=parseFloat(e.substr(2));switch(r){case"+":return t+h;case"-":return t-h;case"*":return t*h;case"/":return t/h}},O4=function(e,t,r,h,y,P,n){P instanceof X0&&(n=P,P=void 0),P===void 0&&(P=!1);var T={};return T.mode=P?1:0,r!==void 0&&(T.startX=e.x,T.endX=H0(r,e.x)),h!==void 0&&(T.startY=e.y,T.endY=H0(h,e.y)),T.duration=t,T.ease=y===void 0?"Linear":y,n===void 0?n=new X0(e,T):n.resetFromJSON(T),n.restart(),n},L4=function(e,t,r,h,y,P,n){P instanceof X0&&(n=P,P=void 0),P===void 0&&(P=!1);var T={};return T.mode=P?1:0,r!==void 0&&(T.startX=H0(r,e.x),T.endX=e.x),h!==void 0&&(T.startY=H0(h,e.y),T.endY=e.y),T.duration=t,T.ease=y===void 0?"Linear":y,n===void 0?n=new X0(e,T):n.resetFromJSON(T),n.restart(),n};const lF=Phaser.Utils.Objects.IsPlainObject,uF=Phaser.Math.Distance.Between,F4={onInitEaseMove(){var e=this,t=this._easeMove;t.completeEventName=void 0,t.on("complete",function(){t.completeEventName&&(e.emit(t.completeEventName,e),t.completeEventName=void 0)})},moveFrom(e,t,r,h,y){if(lF(e)){var P=e;t=P.x,r=P.y,P.hasOwnProperty("speed")?e=uF(t,r,this.x,this.y)*1e3/P.speed:e=P.duration,h=P.ease}var n=this._easeMove===void 0;return this._easeMove=L4(this,e,t,r,h,y,this._easeMove),n&&this.onInitEaseMove(),this._easeMove.completeEventName="movefrom.complete",this},moveFromPromise(e,t,r,h,y){return this.moveFrom(e,t,r,h,y),_r(this._easeMove)},moveFromDestroy(e,t,r,h){return this.moveFrom(e,t,r,h,!0),this},moveFromDestroyPromise(e,t,r,h){return this.moveFromDestroy(e,t,r,h),_r(this._easeMove)},isRunningMoveFrom(){return this._easeMove&&(this._easeMove.completeEventName="movefrom.complete")},moveTo(e,t,r,h,y){if(lF(e)){var P=e;t=P.x,r=P.y,P.hasOwnProperty("speed")?e=uF(t,r,this.x,this.y)*1e3/P.speed:e=P.duration,h=P.ease}var n=this._easeMove===void 0;return this._easeMove=O4(this,e,t,r,h,y,this._easeMove),n&&this.onInitEaseMove(),this._easeMove.completeEventName,this},moveToPromise(e,t,r,h,y){return this.moveTo(e,t,r,h,y),_r(this._easeMove)},moveToDestroy(e,t,r,h){return this.moveTo(e,t,r,h,!0),this},moveToDestroyPromise(e,t,r,h){return this.moveToDestroy(e,t,r,h,!0),_r(this._easeMove)},isRunningMoveTo(){return this._easeMove&&this._easeMove.completeEventName==="moveto.complete"},isRunningEaseMove(){return this.isRunningMoveFrom()||this.isRunningMoveTo()},moveStop(e){return this._easeMove?(this._easeMove.stop(e),this):this}};var xx={};Object.assign(xx,F4);xx.onInitEaseMove=function(){F4.onInitEaseMove.call(this);var e=this,t=this._easeMove;t.on("update",function(){var r=ud.getParentSizer(e);r&&r.resetChildPositionState(e)})};const Rs=Phaser.Utils.Objects.GetValue;class fM extends hx{constructor(t,r){super(t,r),this.timer=new FB,this.resetFromJSON(r),this.boot()}resetFromJSON(t){return this.timer.resetFromJSON(Rs(t,"timer")),this.setEnable(Rs(t,"enable",!0)),this.setMode(Rs(t,"mode",1)),this.isRunning=Rs(t,"isRunning",!1),this.setMagnitudeMode(Rs(t,"magnitudeMode",1)),this.setAxisMode(Rs(t,"axis",0)),this.setDuration(Rs(t,"duration",500)),this.setMagnitude(Rs(t,"magnitude",10)),this.ox=Rs(t,"ox",void 0),this.oy=Rs(t,"oy",void 0),this}toJSON(){return{timer:this.timer.toJSON(),enable:this.enable,mode:this.mode,isRunning:this.isRunning,magnitudeMode,duration:this.duration,magnitude:this.magnitude,ox:this.ox,oy:this.oy}}shutdown(t){this.isShutdown||(super.shutdown(t),this.timer.destroy(),this.timer=void 0)}startTicking(){super.startTicking(),this.mode===0?(this.scene.game.events.on("poststep",this.update,this),this.scene.game.events.on("prestep",this.backToOrigin,this)):this.scene.sys.events.on("preupdate",this.update,this)}stopTicking(){super.stopTicking(),this.scene&&(this.mode===0?(this.scene.game.events.off("poststep",this.update,this),this.scene.game.events.off("prestep",this.backToOrigin,this)):this.scene.sys.events.off("preupdate",this.update,this))}setEnable(t){return t==null&&(t=!0),this.enable=t,this}setMode(t){return typeof t=="string"&&(t=Let[t]),this.mode=t,this}setMagnitudeMode(t){return typeof t=="string"&&(t=Det[t]),this.magnitudeMode=t,this}setAxisMode(t){return typeof t=="string"&&(t=Fet[t]),this.axisMode=t,this}setDuration(t){return this.duration=t,this}setMagnitude(t){return this.magnitude=t,this}start(t,r){if(typeof t!="number"){var h=t;r=Rs(h,"magnitude",void 0),t=Rs(h,"duration",void 0)}return r!==void 0&&this.setMagnitude(r),t!==void 0&&this.setDuration(t),this.timer.setDuration(this.duration).start(),super.start(),this}shake(t,r){return this.start(t,r),this}update(t,r){if(!this.isRunning||!this.enable)return this;var h=this.parent;if(!h.active)return this;if(this.timer.update(t,r),this.timer.isDone)this.backToOrigin(),this.complete();else{this.ox===void 0&&(this.ox=h.x,this.oy=h.y);var y=this.magnitude;this.magnitudeMode===1&&(y*=1-this.timer.t);var P=Math.random()*Math.PI*2,n=this.ox+Math.cos(P)*y,T=this.oy+Math.sin(P)*y;switch(this.axisMode){case 1:h.x=n;break;case 2:h.y=T;break;default:h.x=n,h.y=T;break}}return this}backToOrigin(){if(!this.isRunning||!this.enable)return this;if(this.ox===void 0)return this;var t=this.parent;switch(this.axisMode){case 1:t.x=this.ox;break;case 2:t.y=this.oy;break;default:t.x=this.ox,t.y=this.oy;break}return this.ox=void 0,this.oy=void 0,this}}const Let={effect:0,behavior:1},Fet={both:0,"h&v":0,"x&y":0,horizontal:1,h:1,x:1,vertical:2,v:2,y:2},Det={constant:0,decay:1},Bet=Phaser.Utils.Objects.IsPlainObject;var Iet=function(e,t){t.on("complete",function(){e.emit("shake.complete",e)})};const Get={shake(e,t,r){if(Bet(e)){var h=e;e=h.duration,t=h.magnitude,r=h.magnitudeMode}return this._shake===void 0&&(this._shake=new fM(this,{mode:0,magnitudeMode:1}),Iet(this,this._shake)),e!==void 0&&this._shake.setDuration(e),t!==void 0&&this._shake.setMagnitude(t),r!==void 0&&this._shake.setMagnitudeMode(r),this._shake.shake(),this},shakePromise(e,t){return this.shake(e,t),_r(this._shake)}},fF=Phaser.Utils.Objects.IsPlainObject;class ket extends Hi{constructor(t,r){super(t,r),this.parent.setDataEnabled(),this.easeTasks={}}complete(t){this.emit(`complete-${t}`,this.parent,this),this.emit("complete",t,this.parent,this)}getEaseTask(t){var r=this.easeTasks[t];return r===void 0&&(r=new zo(this.parent),this.easeTasks[t]=r,r.setTarget(this.parent.data.values).on("complete",function(){this.complete(t)},this)),r}easeTo(t,r,h,y){if(fF(t)){var P=t;t=P.key,r=P.value,h=P.duration,y=P.ease;var n=P.speed;h===void 0&&n!==void 0&&(h=Math.abs(r-this.parent.data.values[t])/n*1e3)}h===void 0&&(h=1e3),y===void 0&&(y="Linear");var T=this.getEaseTask(t);return T.restart({key:t,to:r,duration:h,ease:y}),this}easeFrom(t,r,h,y){if(fF(t)){var P=t;t=P.key,r=P.value,h=P.duration,y=P.ease;var n=P.speed;h===void 0&&n!==void 0&&(h=Math.abs(r-this.parent.data.values[t])/n*1e3)}h===void 0&&(h=1e3),y===void 0&&(y="Linear");var T=this.getEaseTask(t);return T.restart({key:t,from:r,duration:h,ease:y}),this}stopEase(t,r){r===void 0&&(r=!0);var h=this.easeTasks[t];return h&&h.stop(r),this}stopAll(t){t===void 0&&(t=!0);for(var r in this.easeTasks)this.stopEase(r,t);return this}}var Net=function(e,t){t.on("complete",function(r){e.emit(`easedata.${r}.complete`,e),e.emit("easedata.complete",r,e)})};const zet={easeDataTo(e,t,r,h){return this._easeData||(this._easeData=new ket(this),Net(this,this._easeData)),this._easeData.easeTo(e,t,r,h),this},easeDataToPromise(e,t,r,h){return this.easeDataTo(e,t,r,h),ux(this._easeData,`complete-${e}`)},stopEaseData(e,t){return this._easeData?(this._easeData.stopEase(e,t),this):this},stopAllEaseData(e){return this._easeData?(this._easeData.stopAll(e),this):this}};var Uet=Phaser.Utils.Array.Remove,Vet=function(e){e._delayCallTimers=[],e.once("destroy",function(){for(var t=e._delayCallTimers,r=0,h=t.length;r<h;r++)t[r].remove();e._delayCallTimers=void 0})};const D4={delayCall(e,t,r){var h=this._delayCallTimers;h===void 0&&Vet(this);var y,P=this,n=function(){Uet(P._delayCallTimers,y),r?t.call(r):t()};return y=this.scene.time.delayedCall(e,n),this._delayCallTimers.push(y),this}};var zh=function(e){B4(e,!1)},Uh=function(e){B4(e,!0)},dM=function(e){if(!e)return!1;var t=px(e);return!t.hidden},B4=function(e,t){if(e){var r=px(e);r.hidden=t;var h=cs(e);h?h.setChildVisible(e,!t):e.setVisible(!t)}};const Wet={show(e){return e===void 0&&(e=this),zh(e),this},hide(e){return e===void 0&&(e=this),Uh(e),this},isShow(e){return e===void 0&&(e=this),dM(e)}},Yet=["next","exit","enter"];let I4=class{constructor(t){var r=xi(t,"states",void 0);r&&this.addStates(r);var h=xi(t,"extend",void 0);if(h)for(var y in h)(!this.hasOwnProperty(y)||this[y]===void 0)&&(this[y]=h[y]);var P=xi(t,"eventEmitter",void 0),n=xi(t,"EventEmitterClass",void 0);this.setEventEmitter(P,n),this._stateLock=!1,this.resetFromJSON(t)}shutdown(){this.destroyEventEmitter()}destroy(){this.shutdown()}resetFromJSON(t){this.setEnable(xi(t,"enable",!0)),this.start(xi(t,"start",void 0));var r=xi(t,"init",void 0);return r&&r.call(this),this}toJSON(){return{curState:this.state,prevState:this.prevState,enable:this.enable,start:this._start}}setEnable(t){return t===void 0&&(t=!0),this.enable=t,this}toggleEnable(){return this.setEnable(!this.enable),this}set state(t){if(!(!this.enable||this._stateLock)&&this._state!==t){if(this._prevState=this._state,this._state=t,this._stateLock=!0,this.emit("statechange",this),this._prevState!=null){var r="exit_"+this._prevState,h=this[r];h&&h.call(this),this.emit(r,this)}if(this._stateLock=!1,this._state!=null){var y="enter_"+this._state,P=this[y];P&&P.call(this),this.emit(y,this)}}}get state(){return this._state}get prevState(){return this._prevState}start(t){return this._start=t,this._prevState=void 0,this._state=t,this}goto(t){return t!=null&&(this.state=t),this}next(){var t,r=this["next_"+this.state];return r&&(typeof r=="string"?t=r:t=r.call(this)),this.goto(t),this}get stateProperties(){return Yet}addState(t,r){typeof t!="string"&&(r=t,t=r.name);for(var h=this.stateProperties,y=0,P=h.length;y<P;y++){var n=h[y],T=r[n];T&&(this[`${n}_${t}`]=T)}return this}addStates(t){if(Array.isArray(t))for(var r=0,h=t.length;r<h;r++)this.addState(t[r]);else for(var y in t)this.addState(y,t[y]);return this}runMethod(t,r,h,y,P,n){var T=this[t+"_"+this.state];if(T){var i=arguments.length;switch(i){case 1:return T.call(this);case 2:return T.call(this,r);case 3:return T.call(this,r,h);case 4:return T.call(this,r,h,y);case 5:return T.call(this,r,h,y,P);case 6:return T.call(this,r,h,y,P,n)}for(var a=new Array(i-1),x=1;x<i;x++)a[x-1]=arguments[x];return T.apply(this,a)}}};Object.assign(I4.prototype,YB);var z1=function(e,t,r,h,y){y===void 0&&(y=!1);var P=e._events[t];if(!P)return!1;for(var n=0,T=P.length;n<T;n++){var i=P[n];if(i.fn===r&&i.context===h&&i.once===y)return!0}return!1};const Xet=["next","exit","enter","update","preupdate","postupdate"];class Xo extends I4{shutdown(){this.stopUpdate(),this.stopPreUpdate(),this.stopPostUpdate(),this._scene=void 0,super.shutdown()}resetFromJSON(t){return super.resetFromJSON(t),this._scene=xi(t,"scene",void 0),this}get stateProperties(){return Xet}update(t,r){this.runMethod("update",t,r)}preupdate(t,r){this.runMethod("preupdate",t,r)}postupdate(t,r){this.runMethod("postupdate",t,r)}startUpdate(t){t||(t=this._scene);var r=t.sys.events;return z1(r,"update",this.update,this)?this:(this._scene=t,r.on("update",this.update,this),this)}stopUpdate(){return this._scene?(this._scene.sys.events.off("update",this.update,this),this):this}startPreUpdate(t){t||(t=this._scene);var r=t.sys.events;return z1(r,"preupdate",this.preupdate,this)?this:(this._scene=t,r.on("preupdate",this.preupdate,this),this)}stopPreUpdate(){return this._scene?(this._scene.sys.events.off("preupdate",this.preupdate,this),this):this}startPostUpdate(t){t||(t=this._scene);var r=t.sys.events;return z1(r,"postupdate",this.postupdate,this)?this:(this._scene=t,r.on("postupdate",this.postupdate,this),this)}stopPostUpdate(){return this._scene?(this._scene.sys.events.off("postupdate",this.postupdate,this),this):this}}let Het=class extends Xo{constructor(t,r){super(r),this.parent=t;var h=r.initState||"IDLE";this.start(h)}init(){this.start("IDLE")}next_IDLE(){return"TRANS_OPNE"}next_TRANS_OPNE(){return"OPEN"}enter_TRANS_OPNE(){var t=this.parent;if(t.transitInTime>0){var r=t.runTransitionInCallback();t.delayCall(r,this.next,this)}else this.next()}exit_TRANS_OPNE(){var t=this.parent;t.removeDelayCall()}next_OPEN(){return"TRANS_CLOSE"}enter_OPEN(){var t=this.parent;t.onOpen()}exit_OPEN(){var t=this.parent;t.removeDelayCall()}next_TRANS_CLOSE(){return"CLOSE"}enter_TRANS_CLOSE(){var t=this.parent;if(t.transitOutTime>0){var r=t.runTransitionOutCallback();t.delayCall(r,this.next,this)}else this.next()}exit_TRANS_CLOSE(){var t=this.parent;t.removeDelayCall()}next_CLOSE(){return"TRANS_OPNE"}enter_CLOSE(){var t=this.parent;t.onClose()}exit_CLOSE(){}canOpen(){return this.state==="IDLE"||this.state==="CLOSE"}canClose(){return this.state==="IDLE"||this.state==="OPEN"}};var $et=function(e,t,r,h,y){var P=od(e),n=P.time.delayedCall(t,function(){P.game.events.once("poststep",function(){r.call(h,y)})});return n};const Ket={delayCall(e,t,r){return this.delayCallTimer=$et(this,e,t,r),this},removeDelayCall(){return this.delayCallTimer&&(this.delayCallTimer.remove(!1),this.delayCallTimer=void 0),this}},Zet={setTransitInTime(e){return this.transitInTime=e,this},setTransitOutTime(e){return this.transitOutTime=e,this},setTransitInCallback(e){return e||(e=wr),this.transitInCallback=e,this},setTransitOutCallback(e){return e||(e=wr),this.transitOutCallback=e,this}},Jet={runTransitionInCallback(){return this.transitInCallback(this.parent,this.transitInTime),this.transitInTime},onOpen(){},requestOpen(e,t){if(!this._state.canOpen())return this;this.openEventData=arguments.length>0?e:this.parent;var r=this.transitInTime;return t!==void 0&&(this.transitInTime=t),this._state.goto("TRANS_OPNE"),this.transitInTime=r,this}},Qet={runTransitionOutCallback(){return this.transitOutCallback(this.parent,this.transitOutTime),this.transitOutTime},onClose(){this.oneShotMode&&this.parent.destroy()},requestClose(e,t){if(!this._state.canClose)return this;this.closeEventData=arguments.length>0?e:this.parent;var r=this.transitOutTime;return t!==void 0&&(this.transitOutTime=t),this._state.goto("TRANS_CLOSE"),this.transitOutTime=r,this}};var G4={};Object.assign(G4,Ket,Zet,Jet,Qet);const Df=Phaser.Utils.Objects.GetValue;class yx extends Hi{constructor(t,r){super(t,r),this.setTransitInTime(Df(r,"duration.in",200)),this.setTransitOutTime(Df(r,"duration.out",200)),this.setTransitInCallback(Df(r,"transitIn")),this.setTransitOutCallback(Df(r,"transitOut")),this.oneShotMode=Df(r,"destroy",!1),this.delayCallTimer=void 0,this._state=new Het(this,{eventEmitter:!1,initState:Df(r,"initState","IDLE")}),this.openEventData=void 0,this.closeEventData=void 0}get state(){return this._state.state}shutdown(t){this.isShutdown||(this.transitInCallback=void 0,this.transitOutCallback=void 0,this.openEventData=void 0,this.closeEventData=void 0,this.removeDelayCall(),super.shutdown(t))}}Object.assign(yx.prototype,G4);const jet=Phaser.GameObjects.Rectangle;class cM extends jet{constructor(t,r,h){super(t,0,0,2,2,r,1),this.fullWindow=new s4(this),this.setAlpha(h)}get tint(){return this.fillColor}set tint(t){this.setFillStyle(t,this.fillAlpha)}}const U1=Phaser.Utils.Objects.GetValue;class Cx extends Hi{constructor(t,r){super(t,{eventEmitter:!1}),this.resetFromJSON(r),this.boot()}resetFromJSON(t){return this.setHitAreaMode(U1(t,"hitAreaMode",0)),this.setEnable(U1(t,"enable",!0)),this.setStopMode(U1(t,"stopAllLevels",!0)),this}boot(){this.parent.on("pointerdown",function(t,r,h,y){this.stopAllLevels&&y.stopPropagation()},this).on("pointerup",function(t,r,h,y){this.stopAllLevels&&y.stopPropagation()},this).on("pointermove",function(t,r,h,y){this.stopAllLevels&&y.stopPropagation()},this).on("pointerover",function(t,r,h,y){this.stopAllLevels&&y.stopPropagation()},this).on("pointerout",function(t,r){this.stopAllLevels&&r.stopPropagation()},this)}setHitAreaMode(t){typeof t=="string"&&(t=qet[t]);var r=this.parent;return r.input&&r.removeInteractive(),t===0?r.setInteractive():r.setInteractive({hitArea:{},hitAreaCallback:function(){return!0}}),this}setEnable(t){return t===void 0&&(t=!0),t?this.parent.setInteractive():this.parent.disableInteractive(),this.enable=t,this}setStopMode(t){return t===void 0&&(t=!0),this.stopAllLevels=t,this}toggleEnable(){return this.setEnable(!this.enable),this}}var qet={default:0,fullWindow:1};const dF=Phaser.Utils.Objects.GetValue;class vM extends cM{constructor(t,r){var h=dF(r,"color",0),y=dF(r,"alpha",.8);super(t,h,y),this.touchEventStop=new Cx(this,{hitAreaMode:1})}}var _et=function(e,t){var r=e.scene,h=new vM(r,t);return r.add.existing(h),e.isRexContainerLite?(e.pin(h,{syncPosition:!1,syncRotation:!1,syncScale:!1,syncAlpha:!1,syncScrollFactor:!1}),e.moveDepthBelow(h)):r.children.moveBelow(h,e),h};const _m={popUp(e,t){e._modalScaleSave!==void 0?(e.scaleX=e._modalScaleSave,e.scaleY=e._modalScaleSave):e._modalScaleSave=e.scaleX,uM(e,t)},scaleDown(e,t){w4(e,t,void 0,void 0,!1)},fadeIn(e,t){e._modalAlphaSave!==void 0?e.alpha=e._modalAlphaSave:e._modalAlphaSave=e.alpha,gx(e,t)},fadeOut(e,t){mx(e,t,!1)}};var tit=function(e,t){e._modalAlphaSave!==void 0?e.alpha=e._modalAlphaSave:e._modalAlphaSave=e.alpha,gx(e,t,e.alpha)},eit=function(e,t){mx(e,t,!1)},Sx=function(e,t,r,h,y){if(!e||h&&!h(e,t,r))return!1;var P=LP(e,!0);return!(!P.contains(t,r)||y&&!y(e,t,r))};const Ia=Phaser.Utils.Objects.GetValue;let iit=class extends yx{constructor(t,r){r===void 0&&(r={}),r.transitIn==null&&(r.transitIn=wh.popUp),r.transitOut==null&&(r.transitOut=wh.scaleDown),r.destroy=Ia(r,"destroy",!0),super(t,r);var h=Ia(r,"cover");this.cover=h!==!1?_et(t,h):void 0,this.cover&&(this.setCoverTransitInCallback(Ia(h,"transitIn",tit)),this.setCoverTransitOutCallback(Ia(h,"transitOut",eit)));var y=Ia(r,"touchOutsideClose",!1),P=Ia(r,"duration.hold",-1),n=Ia(r,"timeOutClose",P>=0),T=Ia(r,"anyTouchClose",!1),i=Ia(r,"manualClose",!1);i&&(y=!1,T=!1,n=!1),T&&(y=!1),n?this.setDisplayTime(P):this.setDisplayTime(-1),T?this.once("open",this.anyTouchClose,this):y&&this.once("open",this.touchOutsideClose,this),Ia(r,"openOnStart",!0)&&this.delayCall(0,this.requestOpen,this)}shutdown(t){this.isShutdown||(this.cover||this.scene.input.off("pointerup",this.touchCloseCallback,this),this.cover&&!t&&(this.cover.destroy(),this.cover=void 0),super.shutdown(t))}touchOutsideClose(){return this.cover?this.cover.on("pointerup",this.touchCloseCallback,this):this.scene.input.on("pointerup",this.touchCloseCallback,this),this.clickOutsideTest=!0,this}anyTouchClose(){return this.cover?this.cover.once("pointerup",this.touchCloseCallback,this):this.scene.input.once("pointerup",this.touchCloseCallback,this),this}touchCloseCallback(t){this.clickOutsideTest&&Sx(this.parent,t.worldX,t.worldY)||this.requestClose()}runTransitionInCallback(){var t=super.runTransitionInCallback(),r=this.cover;return r&&this.coverTransitInCallback&&this.coverTransitInCallback(r,t),t}runTransitionOutCallback(){var t=super.runTransitionOutCallback(),r=this.cover;return r&&this.coverTransitOutCallback&&this.coverTransitOutCallback(r,t),t}onOpen(){var t=this.displayTime;t>=0&&this.delayCall(t,this.requestClose,this),this.emit("open",this.parent,this),super.onOpen()}onClose(){this.emit("close",this.closeEventData),super.onClose()}setDisplayTime(t){return this.displayTime=t,this}setTransitInCallback(t){switch(typeof t=="string"&&(t=wh[t]),t){case wh.popUp:t=_m.popUp;break;case wh.fadeIn:t=_m.fadeIn;break}return super.setTransitInCallback(t),this}setTransitOutCallback(t){switch(typeof t=="string"&&(t=wh[t]),t){case wh.scaleDown:t=_m.scaleDown;break;case wh.fadeOut:t=_m.fadeOut;break}return super.setTransitOutCallback(t),this}setCoverTransitInCallback(t){return this.coverTransitInCallback=t,this}setCoverTransitOutCallback(t){return this.coverTransitOutCallback=t,this}};const wh={popUp:0,fadeIn:1,scaleDown:0,fadeOut:1};var pM=function(e,t){var r=new iit(e,t);return r.on("open",function(){e.emit("modal.open",r)}),r.on("close",function(h){e.emit("modal.close",h,r)}),e.on("modal.requestClose",r.requestClose,r),r},rit=function(e,t){var r=pM(e,t);return new Promise(function(h,y){r.once("close",function(P){h(P)})})},k4=function(e,t){e.emit("modal.requestClose",t)},pa=function(e){return e&&typeof e=="function"};const Tx={modal(e,t){return pa(e)&&(t=e,e=void 0),this._modalBehavior===void 0&&(this.onCreateModalBehavior&&this.onCreateModalBehavior(this,e),this._modalBehavior=pM(this,e)),t&&this._modalBehavior.once("close",t),this._modalBehavior.requestOpen(),this},modalPromise(e){var t=this;return new Promise(function(r,h){t.modal(e,r)})},modalClose(e){return k4(this,e),this}};var nit=function(e,t,r,h,y,P){return P===void 0&&(P=!1),t[P?"once":"on"](r,h,y),e.once("destroy",function(){t.off(r,h,y)}),e},Ao=function(e,t,r,h,y){pa(t)&&(y=h,h=r,r=t,t=this);var P=this.scene.events;return this.bindEvent(t,P,e,r,h,y),this};const sit={bindEvent(e,t,r,h,y,P){return typeof t=="string"&&(P=y,y=h,h=r,r=t,t=e,e=this),nit(e,t,r,h,y,P),this},bindScenePreupdateEvent(e,t,r,h){return Ao.call(this,"preupdate",e,t,r,h),this},bindSceneUpdateEvent(e,t,r,h){return Ao.call(this,"update",e,t,r,h),this},bindScenePostupdateEvent(e,t,r,h){return Ao.call(this,"postupdate",e,t,r,h),this},bindSceneRenderEvent(e,t,r,h){return Ao.call(this,"render",e,t,r,h),this},bindScenePauseEvent(e,t,r,h){return Ao.call(this,"pause",e,t,r,h),this},bindSceneResumeEvent(e,t,r,h){return Ao.call(this,"resume",e,t,r,h),this},bindSceneSleepEvent(e,t,r,h){return Ao.call(this,"sleep",e,t,r,h),this},bindSceneWakeEvent(e,t,r,h){return Ao.call(this,"wake",e,t,r,h),this},bindSceneShutdownEvent(e,t,r,h){return Ao.call(this,"shutdown",e,t,r,h),this}};var $0=function(e,t,r){var h=e.camera;return h?(r===void 0?r={}:r===!0&&(r=ait),h===t?(r.x=e.worldX,r.y=e.worldY):h.getWorldPoint(e.x,e.y,r),r):null},ait={},oit=function(e,t,r,h,y){var P=e.scene.sys.cameras.main,n,T=e.scrollFactorX===0&&e.scrollFactorY===0;if(t)return T?r(e,t.x,t.y,h,y):(n=$0(t,P,!0),n?r(e,n.x,n.y,h,y):!1);for(var i=e.scene.input.manager,a=i.pointersTotal,x=i.pointers,d=0;d<a;d++)if(t=x[d],T){if(r(e,t.x,t.y,h,y))return!0}else{if(n=$0(t,P,!0),!n)continue;if(r(e,n.x,n.y,h,y))return!0}return!1},Za=function(e,t,r,h){return oit(e,t,Sx,r,h)},hit=function(e,t){return(Vn(e)||typeof e=="string")&&(t=e,e=void 0),t===void 0?t=this:typeof t=="string"&&(t=this.getElement(t)),Za(t,e)},ga=function(e){return Object.prototype.toString.call(e)==="[object Array]"},lu=function(e,t,r,h,y){return Sx(e,t,r,lit(h),y)},cF=function(e){var t=e.rexSizer&&e.rexSizer.hidden;return!t},lit=function(e){return e?function(t,r,h){return cF(t)?(e(t,r,h),!0):!1}:cF},uit=function(e,t,r,h,y){if(pa(r)||(y=r,r=void 0,h=void 0),y===void 0&&(this.sizerChildren?y=this.sizerChildren:y=this.children),ga(y)){for(var P,n=0,T=y.length;n<T;n++)if(P=y[n],lu(P,e,t,r,h))return P}else{var P;for(var i in y)if(P=y[i],lu(P,e,t,r,h))return P}return null},fit=function(e,t){return t===void 0?t={}:t===!0&&(t=dit),t.x=e.x,t.y=e.y,t.scaleX=e.scaleX,t.scaleY=e.scaleY,t.width=e.width,t.height=e.height,t.displayWidth=e.displayWidth,t.displayHeight=e.displayHeight,t},dit={},_v=function(e){this.sizerEventsEnable&&(fit(e,this.getChildPrevState(e)),this.layoutedChildren.push(e))},tp=function(e,t,r,h,y,P,n,T){n===void 0&&(n=0),T===void 0&&(T=0),Jv(e,t,r,h,y,P),e.x+=n,e.y+=T,this.resetChildPositionState(e),this.sizerEventsEnable&&e.emit("sizer.postlayout",e,this)};const cit=Phaser.Display.Align.CENTER;var vit=function(){if(this.backgroundChildren!==void 0)for(var e=this.backgroundChildren,t=this.left,r=this.top,h=this.width*this.scaleX,y=this.height*this.scaleY,P,n,T,i,a,x,d,l=0,o=e.length;l<o;l++)P=e[l],n=P.rexSizer,!n.hidden&&(T=n.padding,_v.call(this,P),i=t+T.left*this.scaleX,a=r+T.top*this.scaleY,x=h-(T.left+T.right)*this.scaleX,d=y-(T.top+T.bottom)*this.scaleY,cn(P,x,d),tp.call(this,P,i,a,x,d,cit,0,0))};const pit=Phaser.Utils.Objects.IsPlainObject;var git=function(e,t,r){if(pit(e)){var h=e;e=h.sensor,r=h.target,t=h.draggable}else typeof t!="boolean"&&(r=t,t=void 0);var y=typeof e;if(y==="string"){var P=e;if(e=this.getElement(P),!e)return console.error(`Can get element '${P}'`),this}else(e===void 0||y!="object")&&(t=e,e=this);return t===void 0&&(t=!0),e.input&&e.input._rexUIDragSizer?e.input.draggable=t:t&&(e.setInteractive(),e.scene.input.setDraggable(e),e.on("drag",function(n,T,i){var a=r===void 0?this.getTopmostSizer():r;a.x+=T-e.x,a.y+=i-e.y,a.emit("sizer.drag",n,T,i)},this).on("dragstart",function(n,T,i){var a=r===void 0?this.getTopmostSizer():r;a.emit("sizer.dragstart",n,T,i)},this).on("dragend",function(n,T,i,a){var x=r===void 0?this.getTopmostSizer():r;x.emit("sizer.dragend",n,T,i,a)},this).on("drop",function(n,T){var i=r===void 0?this.getTopmostSizer():r;i.emit("sizer.drop",n,T)}),e.input._rexUIDragSizer=!0),this};const gM={onClick(e,t,r,h){return e?(typeof e=="function"&&(h=r,r=t,t=e,e=this),e._click===void 0&&(e._click=new Wo(e,h)),e._click.on("click",t,r),this):this},offClick(e,t,r){return typeof e=="function"&&(r=t,t=e,e=this),e._click===void 0?this:(e._click.off("click",t,r),this)},enableClick(e,t){return typeof e=="boolean"&&(t=e,e=void 0),e===void 0&&(e=this),e._click===void 0?this:(e._click.setEnable(t),this)},disableClick(e){return e===void 0&&(e=this),e._click===void 0?this:(e._click.setEnable(!1),this)}},sv=Phaser.Utils.Objects.GetValue;class mM extends Hi{constructor(t,r){super(t,r),this._enable=void 0;var h=sv(r,"inputConfig",void 0);h&&t.setInteractive(h),this.resetFromJSON(r),this.boot()}resetFromJSON(t){return this.pointer=void 0,this.lastClickTime=void 0,this.setEnable(sv(t,"enable",!0)),this.setMode(sv(t,"mode",1)),this.setClickInterval(sv(t,"clickInterval",100)),this.setDragThreshold(sv(t,"threshold",void 0)),this}boot(){var t=this.parent.scene;t.input.on("pointerdown",this.onPress,this),t.input.on("pointerup",this.onRelease,this),t.input.on("pointermove",this.onMove,this)}shutdown(t){if(!this.isShutdown){var r=this.parent.scene;r.input.off("pointerdown",this.onPress,this),r.input.off("pointerup",this.onRelease,this),r.input.off("pointermove",this.onMove,this),this.pointer=null,super.shutdown(t)}}get enable(){return this._enable}set enable(t){if(this._enable!==t){t||this.cancel(),this._enable=t;var r=t?"enable":"disable";this.emit(r,this,this.parent)}}setEnable(t){return t===void 0&&(t=!0),this.enable=t,this}toggleEnable(){return this.setEnable(!this.enable),this}setMode(t){return typeof t=="string"&&(t=mit[t]),this.mode=t,this}setClickInterval(t){return this.clickInterval=t,this}setDragThreshold(t){return this.dragThreshold=t,this}isPointerInside(t){var r=this.parent,h=r.input?IP:Za;return h(r,t)}onPress(t){this.parent.willRender(t.camera)&&this.pointer===void 0&&(this.isPointerInside(t)||(this.pointer=t,this.mode===0&&(this.isPointerInside(t)||this.click(t.downTime,t))))}onRelease(t){this.parent.willRender(t.camera)&&this.pointer===t&&(this.mode===1&&(this.isPointerInside(t)||this.click(t.upTime,t)),this.pointer=void 0)}onMove(t,r,h,y){this.pointer===t&&this.dragThreshold!==void 0&&this.mode===1&&(t.getDistance()>=this.dragThreshold||this.isPointerInside(t))&&this.cancel()}click(t,r){if(!this.enable)return this;if(t===void 0)return this.emit("clickoutside",this,this.parent,r),this;this.pointer=void 0;var h=this.lastClickTime;return h!==void 0&&t-h<=this.clickInterval?this:(this.lastClickTime=t,this.emit("clickoutside",this,this.parent,r),this)}cancel(){return this.pointer=void 0,this}}const mit={press:0,pointerdown:0,release:1,pointerup:1},xit={onClickOutside(e,t,r,h){return e?(typeof e=="function"&&(h=r,r=t,t=e,e=this),e._clickOutside===void 0&&(e._clickOutside=new mM(e,h)),e._clickOutside.on("clickoutside",t,r),this):this},offClickOutside(e,t,r){return typeof e=="function"&&(r=t,t=e,e=this),e._clickOutside===void 0?this:(e._clickOutside.off("clickoutside",t,r),this)},enableClickOutside(e,t){return typeof e=="boolean"&&(t=e,e=void 0),e===void 0&&(e=this),e._clickOutside===void 0?this:(e._clickOutside.setEnable(t),this)},disableClickOutside(e){return e===void 0&&(e=this),e._clickOutside===void 0?this:(e._clickOutside.setEnable(!1),this)}};class yit extends Xo{constructor(){super({eventEmitter:!1}),this.goto("IDLE")}setCooldownTime(t){return this.cooldownTime=t,this.cooldownMode=t!==void 0,this}request(){return this.runMethod("request")}update_IDLE(){this.compensationTime=0}request_IDLE(){return this.next(),!0}next_IDLE(){if(this.cooldownMode)return"COOLDOWN"}enter_COOLDOWN(){this.remainderTime=this.cooldownTime+this.compensationTime}update_COOLDOWN(t,r){this.remainderTime-=r,this.remainderTime<0&&(this.compensationTime=this.cooldownTime>r?-this.remainderTime:0,this.goto("IDLE"))}request_COOLDOWN(){return!1}}const V1=Phaser.Utils.Objects.GetValue;class rd extends Hi{constructor(t,r){super(t,r),this._enable=void 0,this.cooldown=new yit,this.parent.setInteractive(V1(r,"inputConfig",void 0)),this.resetFromJSON(r),this.boot()}resetFromJSON(t){return this.pointer=void 0,this.prevIsInTouch=!1,this.isInTouching=!1,this.setEnable(V1(t,"enable",!0)),this.setCooldown(V1(t,"cooldown",void 0)),this}boot(){var t=this.parent;t.on("pointerdown",this.onPointIn,this),t.on("pointerover",this.onPointIn,this),t.on("pointerup",this.onPointOut,this),t.on("pointerout",this.onPointOut,this),this.scene.sys.events.on("preupdate",this.preupdate,this)}shutdown(t){this.isShutdown||(this.scene.sys.events.off("preupdate",this.preupdate,this),this.pointer=void 0,super.shutdown(t))}get enable(){return this._enable}set enable(t){if(this._enable!==t)return t||(this.prevIsInTouch=!1,this.isInTouching=!1,this.pointer=void 0),this._enable=t,this}setEnable(t){return t===void 0&&(t=!0),this.enable=t,this}get cooldownTime(){return this.cooldown.cooldownTime}set cooldownTime(t){this.cooldown.setCooldownTime(t)}setCooldown(t){return this.cooldownTime=t,this}toggleEnable(){return this.setEnable(!this.enable),this}onPointIn(t,r,h){!this.enable||!t.isDown||this.pointer!==void 0||(this.pointer=t,this.isInTouching=!0)}onPointOut(t){!this.enable||this.pointer!==t||(this.pointer=void 0,this.isInTouching=!1)}preupdate(t,r){this.cooldown.update(t,r),!this.prevIsInTouch&&this.isInTouching&&this.emit("touchstart",this,this.parent),this.isInTouching&&this.cooldown.request()&&this.emit("intouch",this,this.parent,this.pointer),this.prevIsInTouch&&!this.isInTouching&&this.emit("touchend",this,this.parent),this.prevIsInTouch=this.isInTouching}}const Cit={isPointerInBounds(e){return e===void 0?e=this:typeof e=="string"&&(e=this.getElement(e)),e?Za(e):!1},onTouching(e,t,r,h){return e?(typeof e=="function"&&(h=r,r=t,t=e,e=this),e._inTouching===void 0&&(e._inTouching=new rd(e,h)),e._inTouching.on("intouch",t,r),this):this},offTouching(e,t,r){return typeof e=="function"&&(r=t,t=e,e=this),e._inTouching===void 0?this:(e._inTouching.off("intouch",t,r),this)},onTouchingEnd(e,t,r,h){return e?(typeof e=="function"&&(h=r,r=t,t=e,e=this),e._inTouching===void 0&&(e._inTouching=new rd(e,h)),e._inTouching.on("touchend",t,r),this):this},offTouchingEnd(e,t,r){return typeof e=="function"&&(r=t,t=e,e=this),e._inTouching===void 0?this:(e._inTouching.off("touchend",t,r),this)},enableTouching(e,t){return typeof e=="boolean"&&(t=e,e=void 0),e===void 0&&(e=this),e._inTouching===void 0?this:(e._inTouching.setEnable(t),this)},disableTouching(e){return e===void 0&&(e=this),e._inTouching===void 0?this:(e._inTouching.setEnable(!1),this)}},Sit={onOver(e,t,r){return e?(typeof e=="function"&&(r=t,t=e,e=this),e.setInteractive().on("pointerover",t,r),this):this},onOut(e,t,r){return e?(typeof e=="function"&&(r=t,t=e,e=this),e.setInteractive().on("pointerout",t,r),this):this}};var N4=function(e,t,r,h){if(e==="parent"){for(var y,P=0,n=t.length;P<n;P++)if(y=t[P],!!lu(y,r,h))return y.pointToChild(r,h)}else for(var P=0,n=t.length;P<n;P++){var T=t[P];if(lu(T,r,h))return T}return null},ks=function(e,t,r,h,y,P,n,T){var i;if(P===void 0)i=y;else{var a=r[0];if(!a)return;var x=n.camera,d=y+x.scrollX*(a.scrollFactorX-1),l=P+x.scrollY*(a.scrollFactorY-1);i=N4(h,r,d,l)}i&&e.emit(t,i,n,T)};const Tit=Phaser.Utils.Objects.GetValue;var Eit=function(e){var t=Tit(e,"down",void 0);t!==!1&&(t===!0&&(t=void 0),this.on("pointerdown",Pit,this))},Pit=function(e,t,r,h){var y=this._childrenInteractive;ks(y.eventEmitter,`${y.eventNamePrefix}down`,y.targetSizers,y.targetMode,e.worldX,e.worldY,e,h)};const Mit=Phaser.Utils.Objects.GetValue;var bit=function(e){var t=Mit(e,"up",void 0);t!==!1&&(t===!0&&(t=void 0),this.on("pointerup",wit,this))},wit=function(e,t,r,h){var y=this._childrenInteractive;ks(y.eventEmitter,`${y.eventNamePrefix}up`,y.targetSizers,y.targetMode,e.worldX,e.worldY,e,h)};const Rit=Phaser.Utils.Objects.GetValue;var Ait=function(e){var t=Rit(e,"over",void 0);t!==!1&&(t===!0&&(t=void 0),this.on("pointermove",vF,this).on("pointerover",vF,this).on("pointerout",Oit,this))},vF=function(e,t,r,h){var y=this._childrenInteractive,P=y.targetSizers[0];if(P){var n=e.camera,T=e.worldX+n.scrollX*(P.scrollFactorX-1),i=e.worldY+n.scrollY*(P.scrollFactorY-1),a=N4(y.targetMode,y.targetSizers,T,i),x=y.lastOverChild;a&&x&&a===x||(y.lastOverChild=a,ks(y.eventEmitter,`${y.eventNamePrefix}out`,y.targetSizers,y.targetMode,x,void 0,e,h),ks(y.eventEmitter,`${y.eventNamePrefix}over`,y.targetSizers,y.targetMode,a,void 0,e,h))}},Oit=function(e,t){var r=this._childrenInteractive,h=r.lastOverChild;r.lastOverChild=null,ks(r.eventEmitter,`${r.eventNamePrefix}out`,r.targetSizers,r.targetMode,h,void 0,e,t)};const Lit=Phaser.Utils.Objects.GetValue;var Fit=function(e){var t=Lit(e,"click",void 0);if(t!==!1){t===!0&&(t=void 0),t===void 0&&(t={}),t.hasOwnProperty("threshold")||(t.threshold=10);var r=this._childrenInteractive;this._click=new Wo(this,t),this._click.on("click",function(h,y,P,n){ks(r.eventEmitter,`${r.eventNamePrefix}click`,r.targetSizers,r.targetMode,P.worldX,P.worldY,P,n)},this)}};const W1=Phaser.Utils.Objects.GetValue;class Ex extends hx{constructor(t,r){var h=od(t);h===t&&(t=void 0),super(h,r),this.gameObject=t,t&&t.setInteractive(W1(r,"inputConfig",void 0)),this._enable=void 0,this.resetFromJSON(r),this.boot()}resetFromJSON(t){return this.setEnable(W1(t,"enable",!0)),this.setDetectBounds(),this.gameObject===void 0?this.setDetectBounds(W1(t,"bounds",void 0)):this.setDetectBounds(),this.tracerState=Y1,this.pointer=void 0,this.lastPointer=void 0,this.movedState=!1,this.isTouchingAnyObject=!1,this}boot(){super.boot(),this.gameObject?this.gameObject.on("pointerdown",this.onPointerDown,this):this.scene.input.on("pointerdown",this.onPointerDown,this),this.scene.input.on("pointerup",this.onPointerUp,this),this.scene.input.on("gameout",this.dragCancel,this),this.scene.input.on("pointermove",this.onPointerMove,this),this.scene.sys.events.once("shutdown",this.destroy,this)}shutdown(t){this.scene&&(this.gameObject||this.scene.input.off("pointerdown",this.onPointerDown,this),this.scene.input.off("pointerup",this.onPointerUp,this),this.scene.input.off("gameout",this.dragCancel,this),this.scene.input.off("pointermove",this.onPointerMove,this),this.scene.sys.events.off("shutdown",this.destroy,this),this.gameObject=void 0,this.bounds=void 0,this.pointer=void 0,this.lastPointer=void 0,this.movedState=!1,super.shutdown(t))}get enable(){return this._enable}set enable(t){if(this._enable!==t)return t||this.dragCancel(),this._enable=t,this}setEnable(t){return t===void 0&&(t=!0),this.enable=t,this}setDetectBounds(t){return this.bounds=t,this}toggleEnable(){return this.setEnable(!this.enable),this}onPointerDown(t,r){if(this.enable&&this.pointer===void 0){var h=this.bounds?this.bounds.contains(t.x,t.y):!0;h&&this.pointer!==t&&(this.pointer=t,this.pointerCamera=t.camera,this.lastPointer=t,this.movedState=!1,this.tracerState=pF,this.gameObject===void 0&&(this.isTouchingAnyObject=r.length>0),this.onDragStart())}}onPointerUp(t){if(this.enable){var r=this.bounds?this.bounds.contains(t.x,t.y):!0;r&&this.pointer===t&&(this.pointer=void 0,this.pointerCamera=void 0,this.movedState=!1,this.tracerState=Y1,this.onDragEnd())}}onPointerMove(t){if(this.enable&&t.isDown){var r=this.bounds?this.bounds.contains(t.x,t.y):!0,h=this.pointer===t;!h&&r||(h&&!r?this.onPointerUp(t):(this.movedState||(this.movedState=t.x!==t.downX||t.y!==t.downY),this.movedState&&this.onDrag()))}}dragCancel(){return this.tracerState===pF&&this.onDragEnd(),this.pointer=void 0,this.tracerState=Y1,this}onDragStart(){this.emit("dragstart",this)}onDragEnd(){this.emit("dragend",this)}onDrag(){this.emit("drag",this)}preUpdate(t,r){}postUpdate(t,r){}startTicking(){super.startTicking(),this.scene.sys.events.on("preupdate",this.preUpdate,this),this.scene.sys.events.on("postupdate",this.postUpdate,this)}stopTicking(){super.stopTicking(),this.scene&&(this.scene.sys.events.off("preupdate",this.preUpdate,this),this.scene.sys.events.off("postupdate",this.postUpdate,this))}setRecongizedStateObject(t){return this.recongizedState=t,this}get state(){return this.recongizedState.state}set state(t){this.recongizedState.state=t}cancel(){return this.state=Dit,this}isPointerInGameObject(t,r,h){var y=this.lastPointer;return y?Za(t,y,r,h):!1}}const Y1=0,pF=1,Dit="IDLE",Xl=Phaser.Utils.Objects.GetValue,Bit=Phaser.Math.Distance.Between;class Px extends Ex{constructor(t,r){super(t,r);var h=this,y={states:{IDLE:{enter:function(){h.stop(),h.tapsCount=0,h.x=0,h.y=0,h.worldX=0,h.worldY=0,h.lastPointer=void 0},exit:function(){var P=h.lastPointer;h.x=P.x,h.y=P.y,h.worldX=P.worldX,h.worldY=P.worldY}},BEGIN:{enter:function(){h.start(),h.tapsCount=0,h.emit("tappingstart",h,h.gameObject,h.lastPointer)}},RECOGNIZED:{enter:function(){h.start(),h.emit("tap",h,h.gameObject,h.lastPointer),h.emit(`${h.tapsCount}tap`,h,h.gameObject,h.lastPointer)}}},init:function(){this.state=Hl},eventEmitter:!1};this.setRecongizedStateObject(new Xo(y))}resetFromJSON(t){super.resetFromJSON(t),this.setHoldTime(Xl(t,"time",250)),this.setTapInterval(Xl(t,"tapInterval",200)),this.setDragThreshold(Xl(t,"threshold",9)),this.setTapOffset(Xl(t,"tapOffset",10));var r=Xl(t,"taps",void 0);return r!==void 0?this.setTaps(r):(this.setMaxTaps(Xl(t,"maxTaps",void 0)),this.setMinTaps(Xl(t,"minTaps",void 0))),this}onDragStart(){switch(this.state){case Hl:this.state=Bf;break;case Bf:var t=this.lastPointer,r=Bit(t.upX,t.upY,t.x,t.y);r>this.tapOffset&&(this.state=If,this.state=Bf);break;case If:this.state=Bf;break}}onDragEnd(){this.state===Bf&&(this.tapsCount++,this.emit("tapping",this,this.gameObject,this.lastPointer),this.maxTaps!==void 0&&this.tapsCount===this.maxTaps&&(this.state=If))}onDrag(){this.state!==Hl&&this.pointer.getDistance()>this.dragThreshold&&(this.state=Hl)}preUpdate(t,r){if(!(!this.isRunning||!this.enable)&&this.state===Bf){var h=this.lastPointer;if(h.isDown){var y=t-h.downTime;y>this.holdTime&&(this.state=Hl)}else{var P=t-h.upTime;P>this.tapInterval&&(this.minTaps===void 0||this.tapsCount>=this.minTaps?this.state=If:this.state=Hl)}}}postUpdate(t,r){!this.isRunning||!this.enable||this.state===If&&(this.state=Hl)}get isTapped(){return this.state===If}setHoldTime(t){return this.holdTime=t,this}setTapInterval(t){return this.tapInterval=t,this}setDragThreshold(t){return this.dragThreshold=t,this}setTapOffset(t){return this.tapOffset=t,this}setMaxTaps(t){return this.maxTaps=t,this}setMinTaps(t){return this.minTaps=t,this}setTaps(t,r){return r===void 0&&(r=t),this.setMinTaps(t).setMaxTaps(r),this}}const Hl="IDLE",Bf="BEGIN",If="RECOGNIZED",gF=Phaser.Utils.Objects.GetValue;class Mx extends Ex{constructor(t,r){super(t,r);var h=this,y={states:{IDLE:{enter:function(){h.x=0,h.y=0,h.worldX=0,h.worldY=0,h.lastPointer=void 0},exit:function(){var P=h.lastPointer;h.x=P.x,h.y=P.y,h.worldX=P.worldX,h.worldY=P.worldY}},BEGIN:{enter:function(){h.start()},exit:function(){h.stop()}},RECOGNIZED:{enter:function(){h.emit("pressstart",h,h.gameObject,h.lastPointer)},exit:function(){h.emit("pressend",h,h.gameObject,h.lastPointer)}}},init:function(){this.state=t0},eventEmitter:!1};this.setRecongizedStateObject(new Xo(y))}resetFromJSON(t){return super.resetFromJSON(t),this.setDragThreshold(gF(t,"threshold",9)),this.setHoldTime(gF(t,"time",251)),this}onDragStart(){this.state=mF,this.holdTime===0&&(this.state=X1)}onDragEnd(){this.state=t0}onDrag(){this.state!==t0&&this.pointer.getDistance()>this.dragThreshold&&(this.state=t0)}preUpdate(t,r){if(!(!this.isRunning||!this.enable)&&this.state===mF){var h=t-this.pointer.downTime;h>=this.holdTime&&(this.state=X1)}}get isPressed(){return this.state===X1}setHoldTime(t){return this.holdTime=t,this}setDragThreshold(t){return this.dragThreshold=t,this}}const t0="IDLE",mF="BEGIN",X1="RECOGNIZED",Iit=Phaser.Utils.Objects.GetValue;class z4 extends Ex{constructor(t,r){super(t,r);var h=this,y={states:{IDLE:{},BEGIN:{enter:function(){var P=h.pointer;h.startX=P.x,h.startY=P.y,h.startWorldX=P.worldX,h.startWorldY=P.worldY}},RECOGNIZED:{enter:function(){h.emit("panstart",h,h.gameObject,h.lastPointer)},exit:function(){var P=h.lastPointer;h.endX=P.x,h.endY=P.y;var n=$0(P,h.pointerCamera,!0);h.endWorldX=n.x,h.endWorldY=n.y,h.emit("panend",h,h.gameObject,h.lastPointer)}}},init:function(){this.state=xF},eventEmitter:!1};this.setRecongizedStateObject(new Xo(y))}resetFromJSON(t){return super.resetFromJSON(t),this.setDragThreshold(Iit(t,"threshold",10)),this}onDragStart(){this.state=yF,this.dragThreshold===0&&(this.state=e0)}onDragEnd(){this.state=xF}onDrag(){switch(this.state){case yF:if(this.pointer.getDistance()>=this.dragThreshold){this.state=e0,this.dx=0,this.dy=0,this.dWorldX=0,this.dWorldY=0;var y=this.pointer;this.x=y.x,this.y=y.y,this.worldX=y.worldX,this.worldY=y.worldY}break;case e0:var t=this.pointerCamera,r=this.pointer.position,h=this.pointer.prevPosition;this.dx=r.x-h.x,this.dy=r.y-h.y,this.dWorldX=this.dx/t.zoom,this.dWorldY=this.dy/t.zoom;var y=this.pointer;this.x=y.x,this.y=y.y;var P=$0(y,t,!0);this.worldX=P.x,this.worldY=P.y,this.emit("pan",this,this.gameObject,this.lastPointer);break}}get isPanned(){return this.state===e0}setDragThreshold(t){return this.dragThreshold=t,this}}const xF="IDLE",yF="BEGIN",e0="RECOGNIZED",Git=Phaser.Math.Distance.Between,kit=Phaser.Math.Angle.Between,Nit={getDt:function(){var e=NP(this.scene);return e},getVelocity:function(){var e=this.pointer.position,t=this.pointer.prevPosition,r=Git(t.x,t.y,e.x,e.y),h=r/(this.getDt()*.001);return h},getVelocityX:function(){var e=this.pointer.position,t=this.pointer.prevPosition,r=Math.abs(e.x-t.x),h=r/(this.getDt()*.001);return h},getVelocityY:function(){var e=this.pointer.position,t=this.pointer.prevPosition,r=Math.abs(e.y-t.y),h=r/(this.getDt()*.001);return h},getVelocityAngle:function(){var e=this.pointer.position,t=this.pointer.prevPosition,r=kit(t.x,t.y,e.x,e.y);return r}},zit={"up&down":0,"left&right":1,"4dir":2,"8dir":3};var Uit=function(e,t,r){switch(r===void 0?r={}:r===!0&&(r=Vit),r.left=!1,r.right=!1,r.up=!1,r.down=!1,e=(e+360)%360,t){case 0:e<180?r.down=!0:r.up=!0;break;case 1:e>90&&e<=270?r.left=!0:r.right=!0;break;case 2:e>45&&e<=135?r.down=!0:e>135&&e<=225?r.left=!0:e>225&&e<=315?r.up=!0:r.right=!0;break;case 3:e>22.5&&e<=67.5?(r.down=!0,r.right=!0):e>67.5&&e<=112.5?r.down=!0:e>112.5&&e<=157.5?(r.down=!0,r.left=!0):e>157.5&&e<=202.5?r.left=!0:e>202.5&&e<=247.5?(r.left=!0,r.up=!0):e>247.5&&e<=292.5?r.up=!0:(e>292.5&&e<=337.5&&(r.up=!0),r.right=!0);break}return r},Vit={};const H1=Phaser.Utils.Objects.GetValue,Wit=Phaser.Math.RadToDeg;class ep extends Ex{constructor(t,r){super(t,r);var h=this,y={states:{IDLE:{enter:function(){h.x=0,h.y=0,h.worldX=0,h.worldY=0},exit:function(){var P=h.lastPointer;h.x=P.x,h.y=P.y,h.worldX=P.worldX,h.worldY=P.worldY}},BEGIN:{enter:function(){h.validDrag=!1}},RECOGNIZED:{enter:function(){h.start(),h.updateDirectionStates(),h.emit("swipe",h,h.gameObject,h.lastPointer)},exit:function(){h.stop(),h.clearDirectionStates()}}},init:function(){this.state=$1},eventEmitter:!1};this.setRecongizedStateObject(new Xo(y)),this.clearDirectionStates()}resetFromJSON(t){return super.resetFromJSON(t),this.setDragThreshold(H1(t,"threshold",10)),this.setVelocityThreshold(H1(t,"velocityThreshold",1e3)),this.setDirectionMode(H1(t,"dir","8dir")),this}onDragStart(){this.state=CF}onDragEnd(){this.state=$1}onDrag(){this.state===CF&&(this.validDrag||(this.validDrag=this.dragThreshold===0||this.pointer.getDistance()>=this.dragThreshold),this.validDrag&&this.dragVelocity>this.velocityThreshold&&(this.state=K1))}postUpdate(t,r){!this.isRunning||!this.enable||this.state===K1&&(this.state=$1)}get isSwiped(){return this.state===K1}get dragVelocity(){var t;switch(this.dirMode){case 0:t=this.getVelocityY();break;case 1:t=this.getVelocityX();break;default:t=this.getVelocity();break}return t}setDragThreshold(t){return this.dragThreshold=t,this}setVelocityThreshold(t){return this.velocityThreshold=t,this}setDirectionMode(t){return typeof t=="string"&&(t=zit[t]),this.dirMode=t,this}updateDirectionStates(){var t=Wit(this.getVelocityAngle());return Uit(t,this.dirMode,this),this}clearDirectionStates(){return this.left=!1,this.right=!1,this.up=!1,this.down=!1,this}}Object.assign(ep.prototype,Nit);const $1="IDLE",CF="BEGIN",K1="RECOGNIZED",i0=Phaser.Utils.Objects.GetValue,Yit=Phaser.Utils.Array.SpliceOne,Xit=Phaser.Math.Distance.Between,Hit=Phaser.Math.Angle.Between;class xM{constructor(t,r){var h=od(t);h===t&&(t=void 0);var y=h.input.manager.pointersTotal-1;y<2&&h.input.addPointer(2-y),this.scene=h,this.gameObject=t,t&&t.setInteractive(i0(r,"inputConfig",void 0)),this.setEventEmitter(i0(r,"eventEmitter",void 0)),this._enable=void 0,this.pointers=[],this.movedState={},this.resetFromJSON(r),this.boot()}resetFromJSON(t){return this.setEnable(i0(t,"enable",!0)),this.bounds=i0(t,"bounds",void 0),this.tracerState=r0,this.pointers.length=0,Wh(this.movedState),this}boot(){this.gameObject?this.gameObject.on("pointerdown",this.onPointerDown,this):this.scene.input.on("pointerdown",this.onPointerDown,this),this.scene.input.on("pointerup",this.onPointerUp,this),this.scene.input.on("gameout",this.dragCancel,this),this.scene.input.on("pointermove",this.onPointerMove,this),this.scene.sys.events.once("shutdown",this.destroy,this)}shutdown(){this.scene&&(this.destroyEventEmitter(),this.pointers.length=0,Wh(this.movedState),this.gameObject||this.scene.input.off("pointerdown",this.onPointerDown,this),this.scene.input.off("pointerup",this.onPointerUp,this),this.scene.input.off("gameout",this.dragCancel,this),this.scene.input.off("pointermove",this.onPointerMove,this),this.scene.sys.events.off("shutdown",this.destroy,this),this.scene=void 0,this.gameObject=void 0)}destroy(){this.shutdown()}get enable(){return this._enable}set enable(t){if(this._enable!==t)return t||this.dragCancel(),this._enable=t,this}setEnable(t){return t===void 0&&(t=!0),this.enable=t,this}toggleEnable(){return this.setEnable(!this.enable),this}onPointerDown(t){if(this.enable&&this.pointers.length!==2){var r=this.bounds?this.bounds.contains(t.x,t.y):!0;if(r){var h=this.pointers.indexOf(t);if(h===-1)switch(this.movedState[t.id]=!1,this.pointers.push(t),this.pointerCamera=t.camera,this.tracerState){case r0:this.tracerState=ov,this.onDrag1Start();break;case ov:this.tracerState=Ga,this.onDrag2Start();break}}}}onPointerUp(t){if(this.enable){var r=this.bounds?this.bounds.contains(t.x,t.y):!0;if(r){var h=this.pointers.indexOf(t);if(h!==-1)switch(delete this.movedState[t.id],Yit(this.pointers,h),this.tracerState){case ov:this.tracerState=r0,this.onDrag1End();break;case Ga:this.tracerState=ov,this.onDrag2End(),this.onDrag1Start();break}}}}onPointerMove(t){if(this.enable&&t.isDown){var r=this.bounds?this.bounds.contains(t.x,t.y):!0,h=this.pointers.indexOf(t)!==-1;if(!(!h&&r)){if(h&&!r)this.onPointerUp(t);else if(this.movedState[t.id]||(this.movedState[t.id]=t.x!==t.downX||t.y!==t.downY),this.movedState[t.id])switch(this.tracerState){case ov:this.onDrag1();break;case Ga:this.onDrag2();break}}}}dragCancel(){return this.tracerState===Ga&&this.onDrag2End(),this.pointers.length=0,Wh(this.movedState),this.tracerState=r0,this}onDrag1Start(){this.emit("drag1start",this)}onDrag1End(){this.emit("drag1end",this)}onDrag1(){this.emit("drag1",this)}onDrag2Start(){this.emit("drag2start",this)}onDrag2End(){this.emit("drag2end",this)}onDrag2(){this.emit("drag2",this)}get distanceBetween(){if(this.tracerState!==Ga)return 0;var t=this.pointers[0],r=this.pointers[1];return Xit(t.x,t.y,r.x,r.y)}get angleBetween(){if(this.tracerState!==Ga)return 0;var t=this.pointers[0],r=this.pointers[1];return Hit(t.x,t.y,r.x,r.y)}get drag1Vector(){var t=this.pointers[0];if(t&&this.movedState[t.id]){var r=t.position,h=t.prevPosition;av.x=r.x-h.x,av.y=r.y-h.y}else av.x=0,av.y=0;return av}get centerX(){if(this.tracerState!==Ga)return 0;var t=this.pointers[0].position,r=this.pointers[1].position;return(t.x+r.x)/2}get centerY(){if(this.tracerState!==Ga)return 0;var t=this.pointers[0].position,r=this.pointers[1].position;return(t.y+r.y)/2}get prevCenterX(){if(this.tracerState!==Ga)return 0;var t=this.movedState[this.pointers[0].id]?this.pointers[0].prevPosition:this.pointers[0].position,r=this.movedState[this.pointers[1].id]?this.pointers[1].prevPosition:this.pointers[1].position;return(t.x+r.x)/2}get prevCenterY(){if(this.tracerState!==Ga)return 0;var t=this.movedState[this.pointers[0].id]?this.pointers[0].prevPosition:this.pointers[0].position,r=this.movedState[this.pointers[1].id]?this.pointers[1].prevPosition:this.pointers[1].position;return(t.y+r.y)/2}get movementCenterX(){return this.centerX-this.prevCenterX}get movementCenterY(){return this.centerY-this.prevCenterY}setRecongizedStateObject(t){return this.recongizedState=t,this}get state(){return this.recongizedState.state}set state(t){this.recongizedState.state=t}cancel(){return this.state=$it,this}isPointer0InGameObject(t,r,h){var y=this.pointers[0];return y?Za(t,y,r,h):!1}isPointer1InGameObject(t,r,h){var y=this.pointers[1];return y?Za(t,y,r,h):!1}}Object.assign(xM.prototype,Vv);var av={};const r0=0,ov=1,Ga=2,$it="IDLE",Kit=Phaser.Utils.Objects.GetValue;class U4 extends xM{constructor(t,r){super(t,r);var h=this,y={states:{IDLE:{enter:function(){h.prevDistance=void 0,h.scaleFactor=1}},BEGIN:{},RECOGNIZED:{enter:function(){h.emit("pinchstart",h)},exit:function(){h.emit("pinchend",h)}}},init:function(){this.state=SF},eventEmitter:!1};this.setRecongizedStateObject(new Xo(y))}resetFromJSON(t){return super.resetFromJSON(t),this.setDragThreshold(Kit(t,"threshold",0)),this}onDrag2Start(){this.scaleFactor=1,this.prevDistance=this.distanceBetween,this.state=TF,this.dragThreshold===0&&(this.state=n0)}onDrag2End(){this.state=SF}onDrag2(){switch(this.state){case TF:if(this.pointers[0].getDistance()>=this.dragThreshold&&this.pointers[1].getDistance()>=this.dragThreshold){var t=this.distanceBetween;this.scaleFactor=t/this.prevDistance,this.prevDistance=t,this.state=n0}break;case n0:var t=this.distanceBetween;this.scaleFactor=t/this.prevDistance,this.emit("pinch",this),this.prevDistance=t;break}}get isPinched(){return this.state===n0}setDragThreshold(t){return this.dragThreshold=t,this}}const SF="IDLE",TF="BEGIN",n0="RECOGNIZED",Zit=Phaser.Math.RotateAround;var EF=function(e,t,r,h){return Zit(e,t,r,h),e.rotation+=h,e},Jit=function(e,t,r,h){return h===void 0?h={}:h===!0&&(h=Qit),r.getWorldPoint(e,t,h),h},Qit={},jit=function(e,t){if(!this.isRotation)return this;t===void 0&&(t=this.pointers[0].camera);var r=this.movementCenterX,h=this.movementCenterY,y=Jit(this.centerX,this.centerY,t,!0),P=y.x,n=y.y,T=this.rotation;if(Array.isArray(e))for(var i=e,a=0,x=i.length;a<x;a++)e=i[a],e.x+=r,e.y+=h,EF(e,P,n,T);else e.x+=r,e.y+=h,EF(e,P,n,T);return this};const qit=Phaser.Utils.Objects.GetValue,Z1=Phaser.Math.Angle.WrapDegrees,PF=Phaser.Math.Angle.ShortestBetween,J1=Phaser.Math.RadToDeg,_it=Phaser.Math.DegToRad;class yM extends xM{constructor(t,r){super(t,r);var h=this,y={states:{IDLE:{enter:function(){h.prevAngle=void 0,h.angle=0}},BEGIN:{},RECOGNIZED:{enter:function(){h.emit("rotatestart",h)},exit:function(){h.emit("rotateend",h)}}},init:function(){this.state=MF},eventEmitter:!1};this.setRecongizedStateObject(new Xo(y))}resetFromJSON(t){return super.resetFromJSON(t),this.setDragThreshold(qit(t,"threshold",0)),this}onDrag2Start(){this.prevAngle=Z1(J1(this.angleBetween)),this.state=bF,this.dragThreshold===0&&(this.state=s0)}onDrag2End(){this.state=MF}onDrag2(){switch(this.state){case bF:if(this.pointers[0].getDistance()>=this.dragThreshold&&this.pointers[1].getDistance()>=this.dragThreshold){var t=Z1(J1(this.angleBetween));this.angle=PF(this.prevAngle,t),this.prevAngle=t,this.state=s0}break;case s0:var t=Z1(J1(this.angleBetween));this.angle=PF(this.prevAngle,t),this.prevAngle=t,this.emit("rotate",this);break}}get isRotated(){return this.state===s0}get rotation(){return _it(this.angle)}setDragThreshold(t){return this.dragThreshold=t,this}}var trt={spinObject:jit};Object.assign(yM.prototype,trt);const MF="IDLE",bF="BEGIN",s0="RECOGNIZED",ert=Phaser.Utils.Objects.GetValue;var irt=function(e){var t=ert(e,"tap",void 0);if(t!==!1){t===!0&&(t=void 0);var r=this._childrenInteractive;this._tap=new Px(this,t),this._tap.on("tap",function(h,y,P){ks(r.eventEmitter,`${r.eventNamePrefix}${h.tapsCount}tap`,r.targetSizers,r.targetMode,h.worldX,h.worldY,P,h),ks(r.eventEmitter,`${r.eventNamePrefix}tap`,r.targetSizers,r.targetMode,h.worldX,h.worldY,P,h)},this)}};const rrt=Phaser.Utils.Objects.GetValue;var nrt=function(e){var t=rrt(e,"press",void 0);if(t!==!1){t===!0&&(t=void 0);var r=this._childrenInteractive;this._press=new Mx(this,t),this._press.on("pressstart",function(h,y,P){ks(r.eventEmitter,`${r.eventNamePrefix}pressstart`,r.targetSizers,r.targetMode,h.worldX,h.worldY,P,h)},this).on("pressend",function(h,y,P){ks(r.eventEmitter,`${r.eventNamePrefix}pressend`,r.targetSizers,r.targetMode,h.worldX,h.worldY,P,h)},this)}};const srt=Phaser.Utils.Objects.GetValue;var art=function(e){var t=srt(e,"swipe",void 0);if(t!==!1){t===!0&&(t=void 0),t===void 0&&(t={}),t.hasOwnProperty("dir")||(t.dir="4dir");var r=this._childrenInteractive;this._swipe=new ep(this,t),this._swipe.on("swipe",function(h,y,P){var n=h.left?"left":h.right?"right":h.up?"up":"down";ks(r.eventEmitter,`${r.eventNamePrefix}swipe${n}`,r.targetSizers,r.targetMode,h.worldX,h.worldY,P,h),ks(r.eventEmitter,`${r.eventNamePrefix}swipe`,r.targetSizers,r.targetMode,h.worldX,h.worldY,P,h)},this)}};const hv=Phaser.Utils.Objects.GetValue;var bx=function(e,t){return e.setInteractive(),hv(t,"dropZone",!1)&&(e.input.dropZone=!0),e._childrenInteractive={targetSizers:hv(t,"targets",[e]),targetMode:hv(t,"targetMode","parent"),eventEmitter:hv(t,"eventEmitter",e),eventNamePrefix:hv(t,"inputEventPrefix","child.")},Eit.call(e,t),bit.call(e,t),Ait.call(e,t),Fit.call(e,t),irt.call(e,t),nrt.call(e,t),art.call(e,t),e},ort=function(e){return bx(this,e),this},hrt=function(){for(var e=this.getAllChildren([this]),t=0,r=e.length;t<r;t++){var h=e[t];h.emit.apply(h,arguments)}return this},V4={getSizerConfig:Ett,getChildPrevState:Ptt,pushIntoBounds:Mtt,drawBounds:Ntt,resolveWidth:rM,hasWidthWrap:nM,resolveChildrenWidth:_tt,runWidthWrap:sM,resolveHeight:aM,hasHeightWrap:oM,resolveChildrenHeight:tet,runHeightWrap:hM,getChildWidth:eet,getChildHeight:iet,getExpandedChildWidth:ret,getExpandedChildHeight:net,getChildrenWidth:set,getChildrenHeight:aet,addChildrenMap:eF,addElement:eF,removeChildrenMap:Ztt,getElement:Jtt,getChildIndex:jtt,getAllChildrenSizers:oet,getChildrenSizers:het,preLayout:qv,layout:fet,runLayout:vet,layoutChildren:met,layoutBackgrounds:vit,postLayout:xet,setAnchor:Cet,isInTouching:hit,pointToChild:uit,setDraggable:git,setChildrenInteractive:ort,broadcastEvent:hrt};Object.assign(V4,qtt,Vtt,Ktt,ud,Io,Iv,xx,Get,zet,D4,gM,xit,Cit,Sit,Wet,Tx,uet,sit);const Oo=Phaser.Utils.Objects.GetValue;let mu=class extends vs{constructor(t,r,h,y,P,n){super(t,r,h,1,1),this.isRexSizer=!0;var T=Oo(n,"origin",.5),i=Oo(n,"originX",T),a=Oo(n,"originY",T);this.setOrigin(i,a),this.setMinSize(y,P),this.setName(Oo(n,"name","")),this.rexSizer={},this.space={},this.backgroundChildren=void 0,this.sizerChildren=void 0,this.childrenMap={},this.layoutedChildren=void 0,this.runChildrenWrapFlag=!1,this.enableLayoutWarn(!1);var x=Oo(n,"anchor",void 0);x&&this.setAnchor(x),this.setInnerPadding(Oo(n,"space",0));var d=Oo(n,"draggable",!1);d&&this.setDraggable(d),this.setSizerEventsEnable(Oo(n,"sizerEvents",!1)),this.setDirty(!0),Oo(n,"enableLayer",!1)&&this.enableLayer()}destroy(t){if(!(!this.scene||this.ignoreDestroy)){if(t)for(var r=this.getAllChildrenSizers([this]),h=0,y=r.length;h<y;h++)r[h].sizerEventsEnable=!1;super.destroy(t),Wh(this.backgroundChildren),Wh(this.sizerChildren),this.childrenMap=void 0,this.space=void 0,this.rexSizer=void 0,this.layoutedChildren=void 0}}setMinSize(t,r){return this.setMinWidth(t).setMinHeight(r),this}setMinWidth(t){return t==null&&(t=0),this.minWidth=t,this}setMinHeight(t){return t==null&&(t=0),this.minHeight=t,this}setDirty(t){return t===void 0&&(t=!0),this.dirty=t,this}setSizerEventsEnable(t){return t===void 0&&(t=!0),this.sizerEventsEnable=t,this}enableLayoutWarn(t){return t===void 0&&(t=!0),this.layoutWarnEnable=t,this}get ignoreLayout(){return this.rexSizer.hidden||!this.dirty}get childrenWidth(){return this._childrenWidth===void 0&&(this._childrenWidth=this.getChildrenWidth()),this._childrenWidth}get childrenHeight(){return this._childrenHeight===void 0&&(this._childrenHeight=this.getChildrenHeight()),this._childrenHeight}get left(){return this.x-pi(this)*this.originX}set left(t){this.x+=t-this.left}alignLeft(t){return this.left=t,this}get right(){return this.left+pi(this)}set right(t){this.x+=t-this.right}alignRight(t){return this.right=t,this}get centerX(){return this.left+pi(this)/2}set centerX(t){this.x+=t-this.centerX}alignCenterX(t){return this.centerX=t,this}get top(){return this.y-gi(this)*this.originY}set top(t){this.y+=t-this.top}alignTop(t){return this.top=t,this}get bottom(){return this.top+gi(this)}set bottom(t){this.y+=t-this.bottom}alignBottom(t){return this.bottom=t,this}get centerY(){return this.top+gi(this)/2}set centerY(t){this.y+=t-this.centerY}alignCenterY(t){return this.centerY=t,this}get innerLeft(){return this.left+this.space.left*this.scaleX}get innerRight(){return this.right-this.space.right*this.scaleX}get innerTop(){return this.top+this.space.top*this.scaleY}get innerBottom(){return this.bottom-this.space.bottom*this.scaleY}get innerWidth(){return(this.width-this.space.left-this.space.right)*this.scaleX}get innerHeight(){return(this.height-this.space.top-this.space.bottom)*this.scaleY}get minInnerWidth(){var t=(this.minWidth-this.space.left-this.space.right)*this.scaleX;return Math.max(t,0)}get minInnerHeight(){var t=(this.minHeight-this.space.top-this.space.bottom)*this.scaleY;return Math.max(t,0)}};Object.assign(mu.prototype,V4);var lrt=function(){if(this.rexSizer.hidden)return 0;var e=0,t=this.sizerChildren,r,h,y,P=!1;for(var n in t)r=t[n],y=this.getChildWidth(r),y===void 0&&(P=!0),!P&&(h=r.rexSizer.padding,y+=(h.left+h.right)*this.scaleX,e=Math.max(y,e));if(!P)return e+(this.space.left+this.space.right)*this.scaleX},urt=function(){if(this.rexSizer.hidden)return 0;var e=0,t=this.sizerChildren,r,h,y,P=!1;for(var n in t)r=t[n],y=this.getChildHeight(r),y===void 0&&(P=!0),!P&&(h=r.rexSizer.padding,y+=(h.top+h.bottom)*this.scaleY,e=Math.max(y,e));if(!P)return e+(this.space.top+this.space.bottom)*this.scaleY},frt=function(e,t){t===void 0&&(t=this.width*this.scaleX);var r,h=e.rexSizer;if(h.expandWidth){var y=t-(this.space.left+this.space.right)*this.scaleX,P=h.padding;r=y-(P.left+P.right)*this.scaleX}return r},drt=function(e,t){t===void 0&&(t=this.height);var r,h=e.rexSizer;if(h.expandHeight){var y=t-(this.space.top+this.space.bottom)*this.scaleY,P=h.padding;r=y-(P.top+P.bottom)*this.scaleY}return r},crt=function(e){e===void 0&&(e=[]);var t=this.sizerChildren,r;for(var h in t)r=t[h],r.isRexSizer&&e.push(r);return e},CM=function(e,t,r,h){if(r===void 0)r=0;else{var y=typeof r;y==="boolean"?(h=r,r=0):y==="string"&&(r=vrt[r])}h===void 0?h={}:h===!0&&(h=prt);var P=t.width/e.width,n=t.height/e.height,T=r?Math.max(P,n):Math.min(P,n);return h.width=e.width*T,h.height=e.height*T,h};const vrt={fit:0,FIT:0,envelop:1,ENVELOP:1};var prt={},SM=function(e,t){e.layoutWarnEnable&&(e.width<e.childrenWidth&&console.warn(`Layout width error: Parent=${t.constructor.name}, Child=${e.constructor.name}`),e.height<e.childrenHeight&&console.warn(`Layout height error: Parent=${t.constructor.name}, Child=${e.constructor.name}`))},grt=function(){var e,t,r,h=this.innerLeft,y=this.innerTop,P=this.innerWidth,n=this.innerHeight,T,i,a,x,d,l,o,s,f,c=this.sizerChildren;for(var u in c)e=c[u],!e.rexSizer.hidden&&(t=e.rexSizer,r=t.padding,_v.call(this,e),o=this.getExpandedChildWidth(e),s=this.getExpandedChildHeight(e),t.aspectRatio>0&&(Q1.width=t.aspectRatio,Q1.height=1,j1.width=o,j1.height=s,f=CM(Q1,j1,"FIT",!0),o=f.width,s=f.height),e.isRexSizer?(e.runLayout(this,o,s),SM(e,this)):cn(e,o,s),T=h+r.left*this.scaleX,a=P-(r.left+r.right)*this.scaleX,i=y+r.top*this.scaleY,x=n-(r.top+r.bottom)*this.scaleY,o===void 0&&(o=pi(e)),s===void 0&&(s=gi(e)),d=(t.alignOffsetX+t.alignOffsetOriginX*o)*this.scaleX,l=(t.alignOffsetY+t.alignOffsetOriginY*s)*this.scaleY,tp.call(this,e,T,i,a,x,t.align,d,l))},Q1={},j1={};const wF=Phaser.Utils.Objects.IsPlainObject,as=Phaser.Utils.Objects.GetValue,RF=Phaser.Display.Align.CENTER,mrt=Phaser.Utils.String.UUID;var xrt=function(e,t,r,h,y,P,n,T,i,a){var x,d;if(Qv.call(this,e),wF(t)){var o=t;t=as(o,"key",void 0),r=as(o,"align",RF),h=as(o,"padding",0),y=as(o,"expand",!0),e.isRexSizer||(P=as(o,"minWidth",e._minWidth),n=as(o,"minHeight",e._minHeighted)),T=as(o,"offsetX",0),i=as(o,"offsetY",0),x=as(o,"offsetOriginX",0),d=as(o,"offsetOriginY",0),a=as(o,"aspectRatio",0)}var l=t!==void 0;l||(t=mrt()),typeof r=="string"&&(r=ld[r]),r===void 0&&(r=RF),h===void 0&&(h=0),y===void 0&&(y=!0),e.isRexSizer||(P===void 0&&(P=e._minWidth),n===void 0&&(n=e._minHeight)),T===void 0&&(T=0),i===void 0&&(i=0),x===void 0&&(x=0),d===void 0&&(d=0),a===void 0?a=0:a===!0&&(a=pi(e)/gi(e)),a>0&&(y=!0,P===void 0&&(P=0),n===void 0&&(n=0));var o=this.getSizerConfig(e);return o.align=r,o.padding=gu(h),wF(y)?(o.expandWidth=as(y,"width",!1),o.expandHeight=as(y,"height",!1)):(o.expandWidth=y,o.expandHeight=y),e.isRexSizer||(o.expandWidth&&(e.minWidth=P===void 0?pi(e):P),o.expandHeight&&(e.minHeight=n===void 0?gi(e):n)),o.alignOffsetX=T,o.alignOffsetY=i,o.alignOffsetOriginX=x,o.alignOffsetOriginY=d,o.aspectRatio=a,this.sizerChildren.hasOwnProperty(t)&&this.sizerChildren[t].destroy(),this.sizerChildren[t]=e,l&&this.addChildrenMap(t,e),this};const yrt={add:xrt},Crt=vs.prototype.clear;var wx=function(e){this.backgroundChildren&&(this.backgroundChildren.length=0);var t=!e&&this.sizerEventsEnable,r;if(t&&(r=this.getChildren([])),Crt.call(this,e),t)for(var h,y=0,P=r.length;y<P;y++)h=r[y],h.emit("sizer.remove",h,this),this.emit("remove",h,this);return this};const Srt={remove(e,t){var r;if(typeof e=="string"){if(r=e,e=this.sizerChildren[r],!e)return this}else{if(this.getParentSizer(e)!==this)return this;r=this.childToKey(e)}return r&&(delete this.sizerChildren[r],this.childrenMap.hasOwnProperty(r)&&delete this.childrenMap[r]),jv.call(this,e,t),this},removeAll(e){for(var t in this.sizerChildren)this.remove(t,e);return this},clear(e){for(var t in this.sizerChildren)delete this.sizerChildren[t],this.childrenMap.hasOwnProperty(t)&&delete this.childrenMap[t];return wx.call(this,e),this}};var W4={getChildrenWidth:lrt,getChildrenHeight:urt,getExpandedChildWidth:frt,getExpandedChildHeight:drt,getChildrenSizers:crt,layoutChildren:grt};Object.assign(W4,yrt,Srt);var Rx=function(e,t){if(Array.isArray(e))return e.indexOf(t);for(var r in e)if(e[r]===t)return r;return null};const AF=Phaser.Utils.Objects.IsPlainObject,Gf=Phaser.Utils.Objects.GetValue;class Ns extends mu{constructor(t,r,h,y,P,n){AF(r)?(n=r,r=Gf(n,"x",0),h=Gf(n,"y",0),y=Gf(n,"width",void 0),P=Gf(n,"height",void 0)):AF(y)&&(n=y,y=Gf(n,"width",void 0),P=Gf(n,"height",void 0)),super(t,r,h,y,P,n),this.type="rexOverlapSizer",this.sizerChildren={},this.addChildrenMap("items",this.sizerChildren)}childToKey(t){if(typeof t=="string"){var r=t;if(this.sizerChildren.hasOwnPropery(r))return r}else return Rx(this.sizerChildren,t);return null}}Object.assign(Ns.prototype,W4);var Trt=Phaser.Math.Distance.Between,K0=function(e,t,r){var h=e.width/2;return Trt(h,h,t,r)<=h};const Ert=Phaser.Math.Angle.Between,Prt=Phaser.Math.Angle.Normalize;var OF=function(e,t,r){if(this.enable&&e.isDown){var h=this.sizerChildren.knob;if(K0(h,t,r)){var y=h.width/2,P=h.startAngle,n=Ert(y,y,t,r),T=h.anticlockwise?P-n:n-P,i=Prt(T)/(2*Math.PI);this.stopEaseValue(),this.easeValueDuration===0||Math.abs(this.value-i)<.1?this.value=i:this.easeValueTo(i)}}},Mrt=function(){var e=this.sizerChildren.knob;e.on("pointerdown",OF,this).on("pointermove",OF,this).setInteractive()};const LF=Phaser.Math.Angle.Between,brt=Phaser.Math.Angle.Wrap;var wrt=function(e,t,r){if(!(!this.enable||this.panPointer)){var h=this.sizerChildren.knob;K0(h,t,r)&&Y4.call(this,e)}},Rrt=function(e,t,r){if(this.enable&&e.isDown){var h=this.sizerChildren.knob;switch(this.panState){case TM:K0(h,t,r)&&Y4.call(this,e);break;case H4:K0(h,t,r)?Ort.call(this):X4.call(this);break}}},Art=function(e,t,r){!this.enable||this.panPointer!==e||X4.call(this)},Y4=function(e){this.panPointer=e,this.panState=H4},X4=function(){this.panPointer=void 0,this.panState=TM},Ort=function(){var e=this.panPointer.prevPosition,t=this.panPointer.position,r=this.sizerChildren.knob,h=LF(r.x,r.y,e.x,e.y),y=LF(r.x,r.y,t.x,t.y),P=r.anticlockwise?h-y:y-h,n=brt(P)/(Math.PI*2);this.stopEaseValue(),this.value+=n};const TM=0,H4=1;var Lrt=function(){var e=this.sizerChildren.knob;e.on("pointerdown",wrt,this).on("pointermove",Rrt,this).on("pointerup",Art,this).setInteractive(),this.panPointer=void 0,this.panState=TM},Frt=function(e,t){return this.textFormatCallback=e,this.textFormatCallbackScope=t,this},$4=function(e){e===void 0&&(e=this.value);var t;return this.textFormatCallbackScope?t=this.textFormatCallback(e):t=this.textFormatCallback.call(this.textFormatCallbackScope,e),t},Drt=function(e){var t=this.sizerChildren.text;return t&&this.textFormatCallback&&(t.setText($4.call(this,e)),t.layout&&t.layout()),this};const Brt={setTextFormatCallback:Frt,getFormatText:$4,updateText:Drt},sa=Phaser.Utils.Objects.GetValue,Irt=Phaser.Math.Snap.To;class EM extends Qh(Ns){constructor(t,r){r===void 0&&(r={}),super(t,r),this.type="rexKnob",this.bootProgressBase(r);var h=sa(r,"background",void 0),y=sa(r,"text",void 0);h&&this.addBackground(h),y&&(r.textColor=void 0,r.textStrokeColor=void 0,this.setTextFormatCallback(sa(r,"textFormatCallback",void 0),sa(r,"textFormatCallbackScope",void 0)),r.textFormatCallback=void 0,r.textFormatCallbackScope=void 0);var P=new cx(t,r);P.setDepth(sa(r,"knobDepth",0)),P._value=-1,t.add.existing(P),this.add(P,"knob"),y&&(this.add(y,"text","center",0,!1),t.children.moveBelow(P,y)),this.addChildrenMap("background",h),this.addChildrenMap("knob",P),this.addChildrenMap("text",y),this.setEnable(sa(r,"enable",void 0)),this.setGap(sa(r,"gap",void 0)),this.setValue(sa(r,"value",0),sa(r,"min",void 0),sa(r,"max",void 0));var n=sa(r,"input",0);switch(typeof n=="string"&&(n=Grt[n]),n){case 0:Lrt.call(this);break;case 1:Mrt.call(this);break}}setEnable(t){return t===void 0&&(t=!0),this.enable=t,this}setGap(t){return this.gap=t,this}get value(){return this.sizerChildren.knob.value}set value(t){this.gap!==void 0&&(t=Irt(t,this.gap));var r=this.value;this.sizerChildren.knob.value=t;var h=this.value;r!==h&&(this.updateText(),this.eventEmitter.emit("valuechange",h,r,this.eventEmitter))}}const Grt={pan:0,drag:0,click:1,none:-1};Object.assign(EM.prototype,Brt);It.register("knob",function(e){var t=new EM(this.scene,e);return this.scene.add.existing(t),t});Lt(window,"RexPlugins.UI.Knob",EM);const krt={arc:hd,circle:Gs,curve:cq,ellipse:vq,line:Hh,lines:tn,rectangle:Iq,roundRectangle:W0,triangle:kq},FF=Phaser.Utils.Objects.GetValue,Nrt=Phaser.Utils.Objects.IsPlainObject,zrt=function(){for(var e=this.getShapes(),t=0,r=e.length;t<r;t++)e[t].lineStyle().fillStyle()},Urt={createShape(e,t){var r=krt[e],h=new r;return t&&h.setName(t),h},buildShapes(e){var t=FF(e,"create",void 0);if(Nrt(t)){var r=t;for(var h in r){var y=r[h];switch(typeof y){case"number":for(var P=0;P<y;P++)this.addShape(this.createShape(h));break;case"string":this.addShape(this.createShape(h,y));break;default:for(var n=y,P=0,T=n.length;P<T;P++)this.addShape(this.createShape(h,n[P]));break}}}else if(Array.isArray(t))for(var r=t,P=0,T=r.length;P<T;P++){var i=r[P];this.addShape(this.createShape(i.type,i.name))}else typeof t=="function"&&t.call(this);this.setUpdateShapesCallback(FF(e,"update"))},setUpdateShapesCallback(e){return e===void 0&&(e=zrt),this.dirty=this.dirty||this.updateCallback!==e,this.updateCallback=e,this},updateShapes(){this.updateCallback.call(this)}},DF=Phaser.GameObjects.Components.TransformMatrix,Vrt=Phaser.Math.TransformXY;var Wrt=function(e,t,r,h,y){h===void 0&&(h=e.scene.cameras.main),y===void 0?y={}:y===!0&&(y=Yrt);var P=h.scrollX,n=h.scrollY,T=t+P*e.scrollFactorX-P,i=r+n*e.scrollFactorY-n;return e.parentContainer?(a0===void 0&&(a0=new DF,BF=new DF),e.getWorldTransformMatrix(a0,BF),a0.applyInverse(T,i,y)):Vrt(T,i,e.x,e.y,e.rotation,e.scaleX,e.scaleY,y),y.x+=e.displayOriginX,y.y+=e.displayOriginY,y},a0,BF,Yrt={};const lv=Phaser.Utils.Objects.GetValue,Xrt=Phaser.Utils.Objects.IsPlainObject;class Ax extends Vo{constructor(t,r,h,y,P,n){Xrt(r)&&(n=r,r=lv(n,"x",0),h=lv(n,"y",0),y=lv(n,"width",2),P=lv(n,"height",2)),super(t,r,h,y,P),this.type=lv(n,"type","rexCustomShapes"),this.buildShapes(n)}get centerX(){return this.width/2}get centerY(){return this.height/2}worldToLocalXY(t,r,h,y){return typeof h=="boolean"&&(y=h,h=void 0),Wrt(this,t,r,h,y)}}Object.assign(Ax.prototype,Urt);It.register("customShapes",function(e,t,r,h,y){var P=new Ax(this.scene,e,t,r,h,y);return this.scene.add.existing(P),P});Lt(window,"RexPlugins.UI.CustomShapes",Ax);const uv=Phaser.Utils.Objects.GetValue,Hrt=Phaser.Utils.Objects.IsPlainObject;class ja extends Qh(Ax){constructor(t,r,h,y,P,n){Hrt(r)&&(n=r,r=uv(n,"x",0),h=uv(n,"y",0),y=uv(n,"width",2),P=uv(n,"height",2)),n===void 0&&(n={}),n.type||(n.type="rexCustomProgress"),super(t,r,h,y,P,n),this.bootProgressBase(n),this.setValue(uv(n,"value",0))}get centerX(){return this.width/2}get centerY(){return this.height/2}get radius(){return Math.min(this.centerX,this.centerY)}}It.register("customProgress",function(e,t,r,h,y){var P=new ja(this.scene,e,t,r,h,y);return this.scene.add.existing(P),P});Lt(window,"RexPlugins.UI.CustomProgress",ja);var $rt=function(e){return this.easeValueTask||(this.easeValueTask=new zo(this,{eventEmitter:null})),e!==void 0&&(this.duration=e,this.easeValueTask.stop()),this.easeValueTask.isRunning?this:(this.easeValueTask.restart({key:"value",from:0,to:1,duration:this.duration,ease:this.ease,repeat:-1,delay:this.delay,repeatDelay:this.repeatDelay}),this.setDirty(),this)},Krt=function(){return this.easeValueTask?(this.easeValueTask.stop(),this.setDirty(),this):this},Zrt=function(){return this.easeValueTask?(this.easeValueTask.pause(),this.setDirty(),this):this},Jrt=function(){return this.easeValueTask?(this.easeValueTask.pause(),this.setDirty(),this):this};const Qrt={start:$rt,stop:Krt,pause:Zrt,resume:Jrt},aa=Phaser.Utils.Objects.GetValue;class K4 extends Vo{constructor(t,r){var h=aa(r,"x",0),y=aa(r,"y",0),P=aa(r,"width",64),n=aa(r,"height",64);super(t,h,y,P,n),this.resetFromConfig(r,!0),this.buildShapes(r),aa(r,"start",!0)&&this.start()}resetFromConfig(t,r){r===void 0&&(r=!1);var h;return h=r?1e3:this.duration,this.setDuration(aa(t,"duration",h)),h=r?"Linear":this.ease,this.setEase(aa(t,"ease",h)),h=r?0:this.delay,this.setDelay(aa(t,"delay",h)),h=r?0:this.repeatDelay,this.setRepeatDelay(aa(t,"repeatDelay",h)),h=r?16777215:this.color,this.setColor(aa(t,"color",h)),h=r?0:this.value,this.setValue(aa(t,"value",h)),this}buildShapes(){}get centerX(){return this.width/2}get centerY(){return this.height/2}get radius(){return Math.min(this.centerX,this.centerY)}get color(){return this._color}set color(t){this.isColorChanged=this.isColorChanged||this._color!==t,this.dirty=this.dirty||this.isColorChanged,this._color=t,this.setShapesColor(t)}setColor(t){return this.color=t,this}setShapesColor(t){}get value(){return this._value}set value(t){t=Phaser.Math.Clamp(t,0,1),this.dirty=this.dirty||this._value!=t,this._value=t}setValue(t){return this.value=t,this}setDuration(t){return this.duration=t,this}setDelay(t){return this.delay=t,this}setRepeatDelay(t){return this.repeatDelay=t,this}setEase(t){return this.ease=t,this}get isRunning(){return this.tweenTask?this.tweenTask.isRunning:!1}}Object.assign(K4.prototype,Qrt);const Rh=Phaser.Math.DegToRad,jrt=Phaser.Math.Linear,qrt=Phaser.Math.Easing.Expo.In,_rt={right:0,down:1,left:2,up:3};var tnt=function(e,t,r,h,y,P,n,T,i,a,x){var d=kf(t,0,h,y,P,n,T,i,a,x);e.startAt(d.x,d.y);var l=kf(r,0,h,y,P,n,T,i,a,x);e.lineTo(l.x,l.y);var o=kf(r,r,h,y,P,n,T,i,a,x);e.lineTo(o.x,o.y);var s=kf(0,r,h,y,P,n,T,i,a,x);e.lineTo(s.x,s.y);var f=kf(0,t,h,y,P,n,T,i,a,x);e.lineTo(f.x,f.y);var c=kf(t,t,h,y,P,n,T,i,a,x);e.lineTo(c.x,c.y),e.close()},q1={},kf=function(e,t,r,h,y,P,n,T,i,a){var x=e*r,d=t*h;return q1.x=n*x+T*d+y,q1.y=i*x+a*d+P,q1};const o0={setDirection(e){return typeof e=="string"&&(e=_rt[e]),this.direction=e,this},buildShapes(){for(var e=0;e<3;e++)this.addShape(new tn)},updateShapes(){var e,t,r,h,y,P;switch(this.direction){case 1:e=this.centerX,t=this.centerY-this.radius;var n=Rh(315);r=Math.cos(n),h=Math.sin(n);var T=Rh(45);y=Math.cos(T),P=Math.sin(T);break;case 3:e=this.centerX,t=this.centerY+this.radius;var n=Rh(135);r=Math.cos(n),h=Math.sin(n);var T=Rh(225);y=Math.cos(T),P=Math.sin(T);break;case 2:e=this.centerX+this.radius,t=this.centerY;var n=Rh(225);r=Math.cos(n),h=Math.sin(n);var T=Rh(315);y=Math.cos(T),P=Math.sin(T);break;default:e=this.centerX-this.radius,t=this.centerY;var n=Rh(45);r=Math.cos(n),h=Math.sin(n);var T=Rh(135);y=Math.cos(T),P=Math.sin(T);break}for(var i=this.radius/7,a=this.getShapes(),x=0,d=a.length;x<d;x++){var l=a[x],o=(this.value+(d-x)*.1)%1;o=qrt(Bi(o));var s=jrt(.25,1,o);l.fillStyle(this.color,s);var f=x*3+1,c=f+2;tnt(l,f,c,i,i,e,t,r,h,y,P)}}},ent=Phaser.Math.Linear,int={buildShapes(){for(var e=0;e<4;e++)this.addShape(new Hh);this.prevValue=void 0},updateShapes(){var e=this.centerX,t=this.centerY,r=this.radius,h=e-r,y=t+r,P=r*2,n=this.getShapes(),T=n.length,i=r*2/T,a=i*.7;if(this.prevValue===void 0||this.prevValue>this.value)for(var x=0;x<T;x++){var d=n[x],l=this.prevValue===void 0?Math.random():d.getData("to");d.setData("from",l).setData("to",Math.random())}this.prevValue=this.value;for(var x=0;x<T;x++){var d=n[x],l=d.getData("from"),o=d.getData("to"),s=ent(l,o,this.value),f=s*P,c=h+i*(x+.5);d.lineStyle(a,this.color,1).setP0(c,y).setP1(c,y-f)}}},rnt=Phaser.Math.Linear,nnt={buildShapes(){for(var e=0;e<3;e++)this.addShape(new Gs)},updateShapes(){for(var e=this.centerX,t=this.centerY,r=this.radius,h=r*.1,y=Math.ceil(h*.25),P=1-Bi(this.value),n=rnt(.3,.9,P)*r,T=this.getShapes(),i=0,a=T.length;i<a;i++){var x=T[i],P=(this.value+i/a)%1,d=Math.PI*2*P;x.lineStyle(y,this.color).setRadius(h).setCenterPosition(e+Math.cos(d)*n,t+Math.sin(d)*n)}}},snt=Phaser.Math.Linear,ant=Phaser.Math.Easing.Expo.In,ont={buildShapes(){for(var e=5,t=0;t<e;t++){var r=new Hh;this.addShape(r);var h=Bi(t/(e-1))/2;r.setData("offset",h)}},updateShapes(){for(var e=this.centerX,t=this.centerY,r=this.radius,h=e-r,y=r*2,P=this.getShapes(),n=P.length,T=r*2/n,i=T*.7,a=0;a<n;a++){var x=P[a],d=(this.value+x.getData("offset"))%1;d=ant(Bi(d));var l=snt(.4,1,d)*y,o=h+T*(a+.5);x.lineStyle(i,this.color,1).setP0(o,t-l/2).setP1(o,t+l/2)}}},hnt={buildShapes(){this.addShape(new tn().setName("border")),this.addShape(new tn().setName("fill"))},updateShapes(){var e=this.centerX,t=this.centerY,r=this.radius,h=r*.7,y=e-h,P=t-h,n=h*2;if(this.getShape("border").lineStyle(2,this.color,1).startAt(y,P).lineTo(n,0,!0).lineTo(0,n,!0).lineTo(-n,0,!0).lineTo(0,-n,!0).close(),this.value<.5){var T=(.5-this.value)*2,i=n*T;this.getShape("fill").fillStyle(this.color,1).startAt(y,P).lineTo(n,0,!0).lineTo(0,i,!0).lineTo(-n,0,!0).lineTo(0,-i,!0).close()}else{var T=(this.value-.5)*2,a=180*T;this.getShape("border").rotateAround(e,t,a),this.getShape("fill").fillStyle().lineStyle()}}},IF=Phaser.Math.RadToDeg,GF=Phaser.Math.Angle.WrapDegrees,lnt=Phaser.Math.Angle.Wrap,unt=Phaser.Math.Angle.ShortestBetween,fnt=Phaser.Math.DegToRad,kF=Phaser.Math.DegToRad(270),dnt={buildShapes(){this.addShape(new Gs().setName("border")),this.addShape(new Hh().setName("minuteHand")),this.addShape(new Hh().setName("hourHand")),this.minuteHandAngle=0,this.hourHandAngle=0},updateShapes(){var e=this.centerX,t=this.centerY,r=this.radius,h=Math.ceil(r/25),y=r-h/2,P=r*.8,n=r*.5,T=this.minuteHandAngle;this.minuteHandAngle=Math.PI*2*this.value;var i=GF(IF(T)),a=GF(IF(this.minuteHandAngle)),x=unt(i,a);this.hourHandAngle=lnt(this.hourHandAngle+fnt(x)/12),this.getShape("border").lineStyle(h,this.color).setRadius(y).setCenterPosition(e,t);var d=this.minuteHandAngle+kF;this.getShape("minuteHand").lineStyle(h,this.color).setP0(e,t).setP1(e+Math.cos(d)*P,t+Math.sin(d)*P);var d=this.hourHandAngle+kF;this.getShape("hourHand").lineStyle(h,this.color).setP0(e,t).setP1(e+Math.cos(d)*n,t+Math.sin(d)*n)}},NF=Phaser.Math.Linear,cnt=Phaser.Math.Easing.Expo.In,_1=2,tE=2,vnt={buildShapes(){for(var e=_1*tE,t=0;t<e;t++){var r=new Hh;this.addShape(r)}},updateShapes(){for(var e=this.centerX,t=this.centerY,r=this.radius,h=e-r,y=t-r,P=r*2/tE,n=r*2/_1,T=this.getShapes(),i=T.length,a=0;a<i;a++){var x=a%tE,d=Math.floor(a/_1),l=h+P*(x+.5),o=y+n*(d+.5),s=T[a],f=(this.value+(i-a)*.1)%1;f=cnt(Bi(f));var c=(i-a)/i,u=NF(.7,1,f)*n,v=NF(.7,1,f)*P;s.lineStyle(v,this.color,c).setP0(l-u/2,o).setP1(l+u/2,o)}}},zF=Phaser.Math.Linear,pnt={buildShapes(){for(var e=3,t=0;t<e;t++){var r=new Gs;this.addShape(r);var h=Bi(t/(e-1))/2;r.setData("offset",h)}},updateShapes(){for(var e=this.centerX,t=this.centerY,r=this.radius,h=e-r,y=this.getShapes(),P=y.length,n=r*2/P,T=n/2,i=0;i<P;i++){var a=y[i],x=(this.value+a.getData("offset"))%1;x=Bi(x);var d=zF(.25,1,x),l=zF(.5,1,x)*T;a.fillStyle(this.color,d).setRadius(l).setCenterPosition(h+n*(i+.5),t)}}},UF=Phaser.Math.Linear,gnt=Phaser.Math.Easing.Expo.In,mnt={buildShapes(){for(var e=0;e<3;e++){var t=new Hh;this.addShape(t)}},updateShapes(){for(var e=this.centerX,t=this.centerY,r=this.radius,h=e-r,y=this.getShapes(),P=y.length,n=r*2/P,T=r*2,i=0;i<P;i++){var a=y[i],x=(this.value+(P-i)*.1)%1;x=gnt(Bi(x));var d=(i+1)/P,l=UF(.7,1,x)*T,o=UF(.7,1,x)*n,s=h+n*(i+.5);a.lineStyle(o,this.color,d).setP0(s,t-l/2).setP1(s,t+l/2)}}},xnt=Phaser.Math.Linear,eE=3,iE=3,ynt={buildShapes(){for(var e=eE*iE,t=0;t<e;t++){var r=new Gs;this.addShape(r),r.setData("offset",Math.random())}this.isInitialize=!0},updateShapes(){for(var e=this.centerX,t=this.centerY,r=this.radius,h=this.isInitialize||this.isSizeChanged,y=e-r,P=t-r,n=r*2/iE,T=r*2/eE,i=Math.min(n,T)/2*.8,a=this.getShapes(),x=0,d=a.length;x<d;x++){var l=x%iE,o=Math.floor(x/eE),s=y+n*(l+.5),f=P+T*(o+.5),c=a[x],u=(this.value+c.getData("offset"))%1;u=Bi(u),c.fillStyle(this.color,xnt(.25,1,u)),h&&c.setRadius(i).setCenterPosition(s,f)}this.isInitialize=!1}},Cnt={buildShapes(){for(var e=0;e<2;e++)this.addShape(new tn)},updateShapes(){for(var e=this.centerX,t=this.centerY,r=this.radius,h=Math.ceil(r/25),y=r-h,P=y*.6,n=y*.7,T=y*1.2,i=this.getShapes(),a=0,x=i.length;a<x;a++){var d=i[a],l=(this.value+a/x)%1,o=Bi(l),s=e,f=t-15*l,c=y*l,u=P*l,v=n*l,p=T*l;d.lineStyle(h,this.color,o).startAt(s,f).cubicBezierTo(s,f-u,s-c,f-u,s-c,f).cubicBezierTo(s-c,f+u,s,f+v,s,f+p).cubicBezierTo(s,f+v,s+c,f+u,s+c,f).cubicBezierTo(s+c,f-u,s,f-u,s,f).close()}}},Snt=Phaser.Math.Linear,Tnt={buildShapes(){for(var e=0;e<12;e++)this.addShape(new Hh);this.isInitialize=!0},updateShapes(){for(var e=this.centerX,t=this.centerY,r=this.isInitialize||this.isSizeChanged,h=this.radius,y=h/2,P=Math.ceil(h/20),n=this.getShapes(),T=0,i=n.length;T<i;T++){var a=n[T],x=T/i,d=Math.PI*2*x,l=Snt(.25,1,(1-this.value+x)%1);a.lineStyle(P,this.color,l),r&&a.setP0(e+Math.cos(d)*y,t+Math.sin(d)*y).setP1(e+Math.cos(d)*h,t+Math.sin(d)*h)}this.isInitialize=!1}},Ent={buildShapes(){this.addShape(new Gs().setName("track")),this.addShape(new Gs().setName("thumb"))},updateShapes(){var e=this.centerX,t=this.centerY,r=this.radius,h=r*.9,y=Math.ceil(h/25),P=r*.1,n=Math.PI*2*this.value;this.getShape("track").lineStyle(y,this.color,.7).setRadius(h).setCenterPosition(e,t),this.getShape("thumb").fillStyle(this.color).setRadius(P).setCenterPosition(e+Math.cos(n)*h,t+Math.sin(n)*h)}},Pnt={buildShapes(){this.addShape(new Gs().setName("track")),this.addShape(new hd().setName("arc"))},updateShapes(){var e=this.centerX,t=this.centerY,r=this.radius,h=Math.ceil(r/25),y=r-h/2;this.getShape("track").lineStyle(h,this.color,.5).setRadius(y).setCenterPosition(e,t);var P=this.value*360,n=P+60;this.getShape("arc").lineStyle(h,this.color,1).setRadius(y).setCenterPosition(e,t).setAngle(P,n)}},Mnt=Phaser.Math.Linear,bnt={buildShapes(){for(var e=0;e<4;e++){var t=new hd().setPie();this.addShape(t),t.setData("speed",Mnt(180,360,Math.random()))}this.prevValue=void 0},updateShapes(){var e=this.centerX,t=this.centerY,r=this.radius,h;this.prevValue!==void 0&&(h=this.value-this.prevValue,this.prevValue>this.value&&(h+=1));for(var y=this.getShapes(),P=0,n=y.length;P<n;P++){var T=y[P],i=(P+1)/n;if(this.prevValue===void 0){var a=P/n*360,x=a+90;T.fillStyle(this.color,i).setRadius(r).setCenterPosition(e,t).setAngle(a,x).setData("angle",a)}else{var a=T.getData("angle")+T.getData("speed")*h;a=a%360;var x=a+90;T.fillStyle(this.color,i).setRadius(r).setCenterPosition(e,t).setAngle(a,x).setData("angle",a)}}this.prevValue=this.value}},wnt={buildShapes(){this.addShape(new Gs)},updateShapes(){var e=this.centerX,t=this.centerY,r=this.radius,h=r*this.value,y=Math.ceil(r/25),P=Bi(this.value);this.getShapes()[0].lineStyle(y,this.color,P).setRadius(h).setCenterPosition(e,t)}},Rnt=Phaser.Math.Linear,Ant=Phaser.Math.Easing.Expo.In,Ont={buildShapes(){this.addShape(new Gs().setName("center")),this.addShape(new tn().setName("arc0")),this.addShape(new tn().setName("arc1")),this.isInitialize=!0},updateShapes(){for(var e=this.centerX,t=this.centerY,r=this.radius,h=this.isInitialize||this.isSizeChanged,y=r*2/6,P=e-r+y,n=t+r-y,T=this.getShapes(),i=0,a=T.length;i<a;i++){var x=T[i],d=(this.value+(a-i)*.1)%1;d=Ant(Bi(d));var l=Rnt(.25,1,d);switch(x.name){case"center":x.fillStyle(this.color,l),h&&x.setRadius(y).setCenterPosition(P,n);break;case"arc0":if(x.fillStyle(this.color,l),h){var o=y*2,s=y*3;x.startAt(P,n-o).lineTo(P,n-s).setIterations(8).arc(P,n,s,270,360).lineTo(P+o,n).setIterations(6).arc(P,n,o,360,270,!0).close()}break;case"arc1":if(x.fillStyle(this.color,l),h){var o=y*4,s=y*5;x.startAt(P,n-o).lineTo(P,n-s).setIterations(8).arc(P,n,s,270,360).lineTo(P+o,n).setIterations(6).arc(P,n,o,360,270,!0).close()}break}}this.isInitialize=!1}},Lnt={buildShapes(){for(var e=0;e<2;e++)this.addShape(new Gs)},updateShapes(){for(var e=this.centerX,t=this.centerY,r=this.radius,h=Math.ceil(r/25),y=r-h,P=this.getShapes(),n=0,T=P.length;n<T;n++){var i=P[n],a=(this.value+n/T)%1,x=Bi(a);i.lineStyle(h,this.color,x).setRadius(a*y).setCenterPosition(e,t)}}},Fnt={buildShapes(){this.addShape(new hd().setName("arc"))},updateShapes(){var e=this.centerX,t=this.centerY,r=this.radius,h=Math.ceil(r/10),y=r-h,P=this.value*720,n=Bi(this.value)*180,T=P-n;this.getShape("arc").lineStyle(h,this.color,1).setRadius(y).setCenterPosition(e,t).setAngle(T+315,P+315)}};Phaser.Utils.Objects.GetValue;const oP={leftArrow:o0,rightArrow:o0,upArrow:o0,downArrow:o0,audio:int,ball:nnt,bars:ont,box:hnt,clock:dnt,cube:vnt,dots:pnt,facebook:mnt,grid:ynt,hearts:Cnt,ios:Tnt,oribit:Ent,oval:Pnt,pie:bnt,puff:wnt,radio:Ont,rings:Lnt,spinner:Fnt},hP=[];for(var Dnt in oP)hP.push(Dnt);const VF=Phaser.Utils.Array.GetRandom,Bnt={setAnimationMode(e,t){oP.hasOwnProperty(e)||(e=VF(hP)),this.animationMode=e;var r=oP[e];switch(t&&this.resetFromConfig(t),e){case"leftArrow":r.setDirection.call(this,"left");break;case"rightArrow":r.setDirection.call(this,"right");break;case"upArrow":r.setDirection.call(this,"up");break;case"downArrow":r.setDirection.call(this,"down");break}return this.clear(),r.buildShapes.call(this),this.updateShapes=r.updateShapes.bind(this),this.stop().start(),this},setRandomAnimationMode(e){var t=VF(hP);return this.setAnimationMode(t,e),this}},Int=Phaser.Utils.Objects.GetValue;class PM extends K4{constructor(t,r){super(t,r),this.type="rexSpinnerAIO",this.setAnimationMode(Int(r,"animationMode"))}}Object.assign(PM.prototype,Bnt);It.register("aioSpinner",function(e){var t=new PM(this.scene,e);return this.scene.add.existing(t),t});Lt(window,"RexPlugins.UI.AIOSpinner",PM);const Gnt={setTransitionStartCallback(e,t){return this.onStartCallback=e,this.onStartCallbackScope=t,this},setTransitionProgressCallback(e,t){return this.onProgressCallback=e,this.onProgressCallbackScope=t,this},setTransitionCompleteCallback(e,t){return this.onCompleteCallback=e,this.onCompleteCallbackScope=t,this}};var Z4=function(){for(var e=this.scaleMode-1,t=0,r=this.images.length;t<r;t++){var h=this.images[t],y=CM(h,this,e,!0),P=y.width/h.width;this.setChildLocalScale(h,P),h.biasScale=P}},B0=function(e){this.scaleMode===0?this.resize(e.width,e.height):Z4.call(this)};const WF=Phaser.Utils.Objects.IsPlainObject,rE=Phaser.Utils.Objects.GetValue,knt=Phaser.Utils.Array.GetRandom;var Nnt={out:0,in:1},ka=function(e,t,...r){for(var h=0,y=r.length;h<y;h++){var P=r[h];if(P&&P.hasOwnProperty(e))return P[e]}return t};const znt={setTransitionDirection(e){return typeof e=="string"&&(e=Nnt[e]),this.dir=e,this},setDuration(e){return this.duration=e,this},setEaseFunction(e){return this.easeFunction=e,this},setNextTexture(e,t){return this.nextImage.setTexture(e,t),B0.call(this,this.nextImage),this},transit(e,t,r){if(this.isRunning&&(this.ignoreCompleteEvent=!0,this.stop(),this.ignoreCompleteEvent=!1),r!==void 0&&(e={key:e,frame:t,mode:r}),this.currentTransitionMode=void 0,WF(e)){var h=e;e=rE(h,"key",void 0),t=rE(h,"frame",void 0),r=rE(h,"mode"),Array.isArray(r)&&(r=knt(r));var y;this.transitionModes&&this.transitionModes.hasOwnProperty(r)&&(y=this.transitionModes[r],this.currentTransitionMode=r),this.setDuration(ka("duration",this.duration,h,y)).setEaseFunction(ka("ease",this.easeFunction,h,y)).setTransitionDirection(ka("dir",this.dir,h,y));var P=ka("mask",void 0,h,y);P&&this.setMaskGameObject(P),this.setMaskEnable(P===!0);var n=ka("onStart",void 0,h,y),T=ka("onProgress",void 0,h,y),i=ka("onComplete",void 0,h,y);(n!==void 0||T!==void 0||i!==void 0)&&this.setTransitionStartCallback(n,ka("onStartScope",void 0,h,y)).setTransitionProgressCallback(T,ka("onProgressScope",void 0,h,y)).setTransitionCompleteCallback(i,ka("onCompleteScope",void 0,h,y))}return this.setNextTexture(e,t),this.start(),this},addTransitionMode(e,t){return this.transitionModes===void 0&&(this.transitionModes={}),WF(e)&&(t=e,e=t.name,delete t.name),this.transitionModes[e]=t,this},start(){return this.easeValueTask===void 0&&(this.easeValueTask=new zo(this,{eventEmitter:null})),this.easeValueTask.restart({key:"t",from:0,to:1,duration:this.duration,ease:this.easeFunction}),this},pause(){return this.easeValueTask&&this.easeValueTask.pause(),this},resume(){return this.easeValueTask&&this.easeValueTask.resume(),this},stop(){return this.easeValueTask&&this.easeValueTask.stop(),this.setT(1),this}},Unt=Phaser.GameObjects.Graphics.prototype.setPosition;var Vnt=function(e,t){var r=this.parent;return e===void 0&&(e=r.x),t===void 0&&(t=r.y),Unt.call(this,e,t),this};const YF=Phaser.Geom.Rectangle,XF=Phaser.Geom.Circle;var Wnt=function(e,t,r,h,y,P,n){switch(e){case 1:h=h.left;var T=-t*(y-.5),i=-r*(P-.5),a=Math.min(t,r)/2+h;(n===void 0||!(n instanceof XF))&&(n=new XF),n.setTo(T,i,a);break;default:var x=-(t*y)-h.left,d=-(r*P)-h.top,l=t+h.left+h.right,o=r+h.top+h.bottom;(n===void 0||!(n instanceof YF))&&(n=new YF),n.setTo(x,d,l,o);break}return n},J4=function(e,t,r,h,y){switch(this.geom=Wnt(this.shapeType,e,t,r,h,y,this.geom),this.clear().fillStyle(16777215),this.shapeType){case 1:this.fillCircleShape(this.geom);break;default:this.fillRectShape(this.geom);break}},Ynt=function(e,t,r){var h=this.parent;e===void 0&&(e=h.width),t===void 0&&(t=h.height),r===void 0?r=this.padding:typeof r=="number"&&(r=GetBoundsConfig(r));var y=this.width!==e||this.height!==t,P=this.padding!==r&&!Xv(this.padding,r);return!y&&!P?this:(this.width=e,this.height=t,P&&va(r,this.padding),this.originX=h.originX,this.originY=h.originY,J4.call(this,e,t,r,h.originX,h.originY),this)},Xnt=function(e,t){t===void 0&&(t=e);var r=this.parent;return e===void 0&&(e=r.originX),t===void 0&&(t=r.originY),this.originX===e&&this.originY===t?this:(this.originX=e,this.originY=t,J4.call(this,this.width,this.height,this.padding,e,t),this)},Hnt=function(e,t){return e-=this.x,t-=this.y,this.geom.contains(e,t)},$nt={setPosition:Vnt,resize:Ynt,setOrigin:Xnt,contains:Hnt};const Knt=Phaser.GameObjects.Graphics;class Z0 extends Knt{constructor(t,r,h){r===void 0&&(r=0),typeof r=="string"&&(r=Znt[r]),super(t.scene),this.parent=t,this.shapeType=r,this.padding=gu(h),this.setPosition().resize().setVisible(!1)}destroy(){return this.parent=void 0,super.destroy(),this}}const Znt={rectangle:0,circle:1};Object.assign(Z0.prototype,$nt);const Jnt={setMaskGameObject(e){if(!e)return this.removeMaskGameObject(),this;if(this.maskGameObject){if(e===!0&&this.maskGameObject instanceof Z0)return this;if(this.maskGameObject===e)return this;this.removeMaskGameObject()}return e===!0&&(e=new Z0(this)),e.resize(this.width,this.height).setOrigin(this.originX,this.originY).setPosition(0,0).setScale(1).setVisible(!1),this.addLocal(e),this.maskGameObject=e,e._maskObject||(e._maskObject=e.createGeometryMask(),e.once("destroy",function(){e._maskObject.destroy(),e._maskObject=void 0})),this.childrenMask=e._maskObject,this},removeMaskGameObject(e){return e===void 0&&(e=!0),this.backImage.clearMask(),this.frontImage.clearMask(),this.childrenMask=void 0,this.remove(this.maskGameObject,e),this.maskGameObject=void 0,this},setImageMaskEnable(e,t,r){return t===void 0&&(t=!0),r===void 0&&(r=!1),t?(this.childrenMask||this.setMaskGameObject(!0),e.setMask(this.childrenMask),this.childrenMask.setInvertAlpha(r)):e.clearMask(),this},setCurrentImageMaskEnable(e,t){return this.setImageMaskEnable(this.currentImage,e,t),this},setNextImageMaskEnable(e,t){return this.setImageMaskEnable(this.nextImage,e,t),this},setCellImagesMaskEnable(e,t){for(var r=this.getCellImages(),h=0,y=r.length;h<y;h++)this.setImageMaskEnable(r[h],e,t);return this},setMaskEnable(e,t){return this.setImageMaskEnable(this.backImage,e,t),this.setImageMaskEnable(this.frontImage,e,t),this.setCellImagesMaskEnable(e,t),this}};var Qnt=function(e,t){typeof e=="object"&&(e=e.name),t===void 0&&(t=",");var r;return e==="__BASE"?r=function(h,y){return`${h}${t}${y}`}:r=function(h,y){return`${e}_${h}${t}${y}`},r},jnt=function(e,t,r,h,y,P){r==null&&(r="__BASE"),P||(P=Qnt(r,P));for(var n=e.sys.textures.get(t),T=typeof r=="object"?r:n.get(r),i=T.width,a=T.height,x,d,l,o=i/h,s=a/y,f=T.cutX,c=T.cutY,u=0,v=0,p=0;p<y;p++){u=0;for(var m=0;m<h;m++)l=P(m,p),x=u+f,d=v+c,n.add(l,0,x,d,o,s),u+=o;v+=s}return{getFrameNameCallback:P,cellWidth:o,cellHeight:s,columns:h,rows:y}};const Lo=Phaser.Utils.Objects.GetValue,qnt=Phaser.GameObjects.Image,_nt=Phaser.Utils.Objects.IsPlainObject,tst=Phaser.Math.RotateAround;var est=function(e,t,r,h){_nt(t)&&(h=t,t=Lo(h,"columns",1),r=Lo(h,"rows",1));var y=Lo(h,"createImageCallback");if(!y){var P=Lo(h,"ImageClass",qnt);y=function(k,z,X){return new P(k,0,0,z,X)}}for(var n=Lo(h,"originX",.5),T=Lo(h,"originY",.5),i=Lo(h,"add",!0),a=Lo(h,"align",i),x=Lo(h,"objectPool",void 0),d=e.scene,l=e.texture,o=e.frame,s=jnt(d,l,o,t,r),f=s.getFrameNameCallback,c=e.scaleX,u=e.scaleY,v=e.rotation,p=e.getTopLeft(),m=p.x,g=p.y,C=[],M=s.cellWidth*c,b=s.cellHeight*u,w=0;w<r;w++)for(var R=0;R<t;R++){var A,L=f(R,w);if(x&&x.length>0?A=x.pop().setTexture(l,L):A=y(d,l,L),i&&d.add.existing(A),a){var D=m+M*R,G=g+b*w,B=D+n*M,I=G+T*b;A.setOrigin(n,T).setPosition(B,I).setScale(c,u).setRotation(v),tst(A,m,g,v)}C.push(A)}return C};const ist={gridCutImage(e,t,r,h){h===void 0&&(h={}),h.objectPool=this.imagesPool;for(var y=est(e,t,r,h),P,n=0,T=y.length;n<T;n++)P=y[n],P.setVisible(!0),this.add(P);return this.cellImages=y,this.setChildLocalVisible(e,!1),y},gridCutCurrentImage(e,t,r){return this.gridCutImage(this.currentImage,e,t,r)},gridCutNextImage(e,t,r){return this.gridCutImage(this.nextImage,e,t,r)},getCellImages(){return this.cellImages},freeCellImages(){if(this.cellImages.length===0)return this;for(var e=this.cellImages[0].texture,t=this.cellImages,r,h,y=0,P=t.length;y<P;y++)r=t[y],this.setChildLocalAlpha(r,1).setChildLocalScale(r,1).setChildLocalVisible(r,!1),r.clearMask(),h=r.frame.name,r.setTexture(),e.remove(h);return this.imagesPool.push(...t),t.length=0,this}},Q4={setFlipX(e){return this.flipX=e,this},setFlipY(e){return this.flipY=e,this},toggleFlipX(){return this.flipX=!this.flipX,this},toggleFlipY(){return this.flipY=!this.flipY,this},setFlip(e,t){return this.flipX=e,this.flipY=t,this},resetFlip(){return this.flipX=!1,this.flipY=!1,this}};var j4={};Object.assign(j4,Gnt,znt,Jnt,ist,Q4);var rst=function(e,t,r,h){},nst=function(e,t,r,h){e.setChildLocalAlpha(t,1-h).setChildLocalAlpha(r,h)},sst=function(e,t,r,h){e.setChildLocalAlpha(t,1)};const HF=Phaser.Utils.Objects.IsPlainObject,Mr=Phaser.Utils.Objects.GetValue,ast=Phaser.Math.Clamp;class Ox extends vs{constructor(t,r,h,y,P,n){HF(r)?(n=r,r=Mr(n,"x",0),h=Mr(n,"y",0),y=Mr(n,"key",void 0),P=Mr(n,"frame",void 0)):HF(P)&&(n=P,P=void 0);var T=Mr(n,"back",void 0),i=Mr(n,"front",void 0);T||(T=t.add.image(r,h,y,P)),i||(i=t.add.image(r,h,y,P));var a=Mr(n,"width",void 0),x=Mr(n,"height",void 0),d=a!==void 0&&x!==void 0?1:0;a===void 0&&(a=i.width),x===void 0&&(x=i.height),super(t,r,h,a,x),this.type="rexTransitionImage",this._flipX=!1,this._flipY=!1,d=Mr(n,"scaleMode",d),typeof d=="string"&&(d=ost[d]),this.scaleMode=d,T.setVisible(!1),this.addMultiple([T,i]),this.backImage=T,this.frontImage=i,this.images=[this.backImage,this.frontImage],this.maskGameObject=void 0,this.cellImages=[],this.imagesPool=[],this.transitionModes=void 0,this.currentTransitionMode=void 0;var l=Mr(n,"onStart",void 0),o=Mr(n,"onProgress",void 0),s=Mr(n,"onComplete",void 0),f=Mr(n,"dir",0);l===void 0&&o===void 0&&s===void 0&&(l=rst,o=nst,s=sst,f=0),this.setTransitionStartCallback(l,Mr(n,"onStartScope",void 0)).setTransitionProgressCallback(o,Mr(n,"onProgressScope",void 0)).setTransitionCompleteCallback(s,Mr(n,"onCompleteScope",void 0)).setTransitionDirection(f).setDuration(Mr(n,"duration",1e3)).setEaseFunction(Mr(n,"ease","Linear"));var c=Mr(n,"mask",void 0);c&&this.setMaskGameObject(c),this.setMaskEnable(!1),this.ignoreCompleteEvent=!1,B0.call(this,this.frontImage)}destroy(t){!this.scene||this.ignoreDestroy||(this.childrenMask&&(this.childrenMask.destroy(),this.childrenMask=void 0),this.backImage=void 0,this.frontImage=void 0,this.images.length=0,this.maskGameObject=void 0,this.cellImages.length=0,this.imagesPool.length=0,this.transitionModes=void 0,super.destroy(t),this.onStartCallback=void 0,this.onStartCallbackScope=void 0,this.onProgressCallback=void 0,this.onProgressCallbackScope=void 0,this.onCompleteCallback=void 0,this.onCompleteCallbackScope=void 0,this.easeValueTask=void 0)}get currentImage(){return this.dir===0?this.frontImage:this.backImage}get nextImage(){return this.dir===0?this.backImage:this.frontImage}get texture(){return this.nextImage.texture}get frame(){return this.nextImage.frame}get tint(){return this._tint}set tint(t){this._tint!==t&&(this._tint=t,this.backImage.setTint(t),this.frontImage.setTint(t))}setTint(t){return this.tint=t,this}get flipX(){return this._flipX}set flipX(t){this._flipX!==t&&(this._flipX=t,this.backImage.setFlipX(t),this.frontImage.setFlipX(t))}setFlipX(t){return this.flipX=t,this}toggleFlipX(){return this.flipX=!this.flipX,this}get flipY(){return this._flipY}set flipY(t){this._flipY!==t&&(this._flipY=t,this.backImage.setFlipY(t),this.frontImage.setFlipY(t))}setFlipY(t){return this.flipY=t,this}toggleFlipY(){return this.flipY=!this.flipY,this}setFlip(t,r){return this.flipX=t,this.flipY=r,this}get t(){return this._t}set t(t){if(t=ast(t,0,1),this._t!==t){this._t=t;var r=this.currentImage,h=this.nextImage;if(t===0&&(this.setChildVisible(this.frontImage,!0).setChildVisible(this.backImage,!0),nE.call(this,this.onStartCallback,this.onStartCallbackScope,this,r,h,t)),nE.call(this,this.onProgressCallback,this.onProgressCallbackScope,this,r,h,t),t===1){nE.call(this,this.onCompleteCallback,this.onCompleteCallbackScope,this,r,h,t);var y=h.texture.key,P=h.frame.name;this.frontImage.setTexture(y,P),this.backImage.setTexture(y,P),B0.call(this,h),this.setChildVisible(this.frontImage,!0).setChildVisible(this.backImage,!1).setMaskEnable(!1).freeCellImages()}t===1&&!this.ignoreCompleteEvent&&this.emit("complete")}}setT(t){return this.t=t,this}get isRunning(){return this.easeValueTask?this.easeValueTask.isRunning:!1}setOrigin(t,r){return super.setOrigin(t,r),this.backImage.setOrigin(t,r),this.frontImage.setOrigin(t,r),this.maskGameObject&&this.maskGameObject.setOrigin(t,r),this}setTexture(t,r){return this.frontImage.setTexture(t,r),this.backImage.setTexture(t,r).setVisible(!1),B0.call(this,this.frontImage),this}setSize(t,r){return super.setSize(t,r),this.scaleMode&&Z4.call(this),this}}var nE=function(e,t,r,h,y,P){if(e){if(this.scaleMode){var n;h.biasScale>0&&(n=this.getChildLocalScaleX(h),n=n/h.biasScale,this.setChildLocalScale(h,n)),y.biasScale&&(n=this.getChildLocalScaleX(y),n=n/y.biasScale,this.setChildLocalScale(y,n))}if(t?e.call(t,r,h,y,P):e(r,h,y,P),this.scaleMode){var n;h.biasScale>0&&(n=this.getChildLocalScaleX(h),n=n*h.biasScale,this.setChildLocalScale(h,n)),y.biasScale&&(n=this.getChildLocalScaleX(y),n=n*y.biasScale,this.setChildLocalScale(y,n))}}};Object.assign(Ox.prototype,j4);const ost={fit:1,FIT:1,envelop:2,ENVELOP:2};It.register("transitionImage",function(e,t,r,h,y){var P=new Ox(this.scene,e,t,r,h,y);return this.scene.add.existing(P),P});Lt(window,"RexPlugins.UI.TransitionImage",Ox);const hst="slideLeft",lst="slideRight",ust="slideUp",fst="slideDown",dst="slideAwayLeft",cst="slideAwayRight",vst="slideAwayUp",pst="slideAwayDown",gst="pushLeft",mst="pushRight",xst="pushUp",yst="pushDown",Cst="zoomOut",Sst="zoomIn",Tst="zoomInOut",Est="fade",Pst="crossFade",Mst="wipeLeft",bst="wipeRight",wst="wipeUp",Rst="wipeDown",Ast="irisOut",Ost="irisIn",Lst="irisInOut",Fst="pieOut",Dst="pieIn",Bst="pieInOut",Ist="blinds",Gst="squares",kst="diamonds",Nst="circles",zst="curtain",Ust="pixellate",Vst="dissolve",Wst="revealLeft",Yst="revealRight",Xst="revealUp",Hst="revealDown";var $st=function(e){e.addTransitionMode(cst,{ease:"Linear",dir:"out",mask:!0,onStart:function(t,r,h,y){},onProgress:function(t,r,h,y){var P=r.width*y;t.setChildLocalPosition(r,P,0)},onComplete:function(t,r,h,y){t.setChildLocalPosition(r,0,0)}}).addTransitionMode(dst,{ease:"Linear",dir:"out",mask:!0,onStart:function(t,r,h,y){},onProgress:function(t,r,h,y){var P=r.width*-y;t.setChildLocalPosition(r,P,0)},onComplete:function(t,r,h,y){t.setChildLocalPosition(r,0,0)}}).addTransitionMode(pst,{ease:"Linear",dir:"out",mask:!0,onStart:function(t,r,h,y){},onProgress:function(t,r,h,y){var P=r.height*y;t.setChildLocalPosition(r,0,P)},onComplete:function(t,r,h,y){t.setChildLocalPosition(r,0,0)}}).addTransitionMode(vst,{ease:"Linear",dir:"out",mask:!0,onStart:function(t,r,h,y){},onProgress:function(t,r,h,y){var P=r.height*-y;t.setChildLocalPosition(r,0,P)},onComplete:function(t,r,h,y){t.setChildLocalPosition(r,0,0)}})},Kst=function(e){e.addTransitionMode(lst,{ease:"Linear",dir:"in",mask:!0,onStart:function(t,r,h,y){},onProgress:function(t,r,h,y){var P=h.width*(y-1);t.setChildLocalPosition(h,P,0)},onComplete:function(t,r,h,y){t.setChildLocalPosition(h,0,0)}}).addTransitionMode(hst,{ease:"Linear",dir:"in",mask:!0,onStart:function(t,r,h,y){},onProgress:function(t,r,h,y){var P=h.width*(1-y);t.setChildLocalPosition(h,P,0)},onComplete:function(t,r,h,y){t.setChildLocalPosition(h,0,0)}}).addTransitionMode(fst,{ease:"Linear",dir:"in",mask:!0,onStart:function(t,r,h,y){},onProgress:function(t,r,h,y){var P=h.height*(y-1);t.setChildLocalPosition(h,0,P)},onComplete:function(t,r,h,y){t.setChildLocalPosition(h,0,0)}}).addTransitionMode(ust,{ease:"Linear",dir:"in",mask:!0,onStart:function(t,r,h,y){},onProgress:function(t,r,h,y){var P=h.height*(1-y);t.setChildLocalPosition(h,0,P)},onComplete:function(t,r,h,y){t.setChildLocalPosition(h,0,0)}})},Zst=function(e){e.addTransitionMode(mst,{ease:"Linear",dir:"out",mask:!0,onStart:function(t,r,h,y){},onProgress:function(t,r,h,y){var P=r.width*y;t.setChildLocalPosition(r,P,0);var P=h.width*(y-1);t.setChildLocalPosition(h,P,0)},onComplete:function(t,r,h,y){t.setChildLocalPosition(r,0,0),t.setChildLocalPosition(h,0,0)}}).addTransitionMode(gst,{ease:"Linear",dir:"out",mask:!0,onStart:function(t,r,h,y){},onProgress:function(t,r,h,y){var P=r.width*-y;t.setChildLocalPosition(r,P,0);var P=h.width*(1-y);t.setChildLocalPosition(h,P,0)},onComplete:function(t,r,h,y){t.setChildLocalPosition(r,0,0),t.setChildLocalPosition(h,0,0)}}).addTransitionMode(yst,{ease:"Linear",dir:"out",mask:!0,onStart:function(t,r,h,y){},onProgress:function(t,r,h,y){var P=r.height*y;t.setChildLocalPosition(r,0,P);var P=h.height*(y-1);t.setChildLocalPosition(h,0,P)},onComplete:function(t,r,h,y){t.setChildLocalPosition(r,0,0),t.setChildLocalPosition(h,0,0)}}).addTransitionMode(xst,{ease:"Linear",dir:"out",mask:!0,onStart:function(t,r,h,y){},onProgress:function(t,r,h,y){var P=r.height*-y;t.setChildLocalPosition(r,0,P);var P=h.height*(1-y);t.setChildLocalPosition(h,0,P)},onComplete:function(t,r,h,y){t.setChildLocalPosition(r,0,0),t.setChildLocalPosition(h,0,0)}})},Jst=function(e){e.addTransitionMode(Cst,{ease:"Linear",dir:"out",mask:!1,onStart:function(t,r,h,y){},onProgress:function(t,r,h,y){var P=1-y;t.setChildLocalScale(r,P,P)},onComplete:function(t,r,h,y){t.setChildLocalScale(r,1,1)}}).addTransitionMode(Sst,{ease:"Linear",dir:"in",mask:!1,onStart:function(t,r,h,y){},onProgress:function(t,r,h,y){var P=y;t.setChildLocalScale(h,P,P)},onComplete:function(t,r,h,y){t.setChildLocalScale(h,1,1)}}).addTransitionMode(Tst,{ease:"Linear",dir:"out",mask:!1,onStart:function(t,r,h,y){h.tint=0},onProgress:function(t,r,h,y){var P;y<.5?(P=1-Bi(y),t.setChildLocalScale(r,P,P)):(r.visible&&t.setChildVisible(r,!1),P=1-Bi(y),t.setChildLocalScale(h,P,P))},onComplete:function(t,r,h,y){t.setChildLocalScale(r,1,1),t.setChildVisible(r,!0),r.tint=16777215,t.setChildLocalScale(h,1,1),t.setChildVisible(h,!0),h.tint=16777215}})},Qst=function(e){e.addTransitionMode(Est,{ease:"Linear",dir:"out",mask:!1,onStart:function(t,r,h,y){h.tint=0},onProgress:function(t,r,h,y){var P;y<.5?(y=Bi(y),P=Math.floor(255*(1-y)),r.tint=(P<<16)+(P<<8)+P):(r.visible&&t.setChildVisible(r,!1),y=Bi(y),P=Math.floor(255*(1-y)),h.tint=(P<<16)+(P<<8)+P)},onComplete:function(t,r,h,y){t.setChildVisible(r,!0),r.tint=16777215,t.setChildVisible(h,!0),h.tint=16777215}}).addTransitionMode(Pst,{ease:"Linear",dir:"out",mask:!1,onStart:function(t,r,h,y){},onProgress:function(t,r,h,y){t.setChildLocalAlpha(r,1-y),t.setChildLocalAlpha(h,y)},onComplete:function(t,r,h,y){t.setChildLocalAlpha(r,1)}})},jst=function(e){var t=new ja(e,{type:"Graphics",create:[{name:"rect",type:"rectangle"}],update:function(){var r=this.getShape("rect").fillStyle(16777215),h=1-this.value;switch(this.wipeMode){case"right":r.setSize(this.width*h,this.height).setTopLeftPosition(this.width-r.width,0);break;case"left":r.setSize(this.width*h,this.height).setTopLeftPosition(0,0);break;case"down":r.setSize(this.width,this.height*h).setTopLeftPosition(0,this.height-r.height);break;case"up":r.setSize(this.width,this.height*h).setTopLeftPosition(0,0);break}}});return t},qst=function(e){var t=jst(e.scene);e.once("destroy",function(){t.destroy()}).addTransitionMode(bst,{ease:"Linear",dir:"out",mask:t,onStart:function(r,h,y,P){r.setCurrentImageMaskEnable(!0),r.maskGameObject.wipeMode="right"},onProgress:function(r,h,y,P){r.maskGameObject.setValue(P)},onComplete:function(r,h,y,P){r.removeMaskGameObject(!1)}}).addTransitionMode(Mst,{ease:"Linear",dir:"out",mask:t,onStart:function(r,h,y,P){r.setCurrentImageMaskEnable(!0),r.maskGameObject.wipeMode="left"},onProgress:function(r,h,y,P){r.maskGameObject.setValue(P)},onComplete:function(r,h,y,P){r.removeMaskGameObject(!1)}}).addTransitionMode(Rst,{ease:"Linear",dir:"out",mask:t,onStart:function(r,h,y,P){r.setCurrentImageMaskEnable(!0),r.maskGameObject.wipeMode="down"},onProgress:function(r,h,y,P){r.maskGameObject.setValue(P)},onComplete:function(r,h,y,P){r.removeMaskGameObject(!1)}}).addTransitionMode(wst,{ease:"Linear",dir:"out",mask:t,onStart:function(r,h,y,P){r.setCurrentImageMaskEnable(!0),r.maskGameObject.wipeMode="up"},onProgress:function(r,h,y,P){r.maskGameObject.setValue(P)},onComplete:function(r,h,y,P){r.removeMaskGameObject(!1)}})},_st=function(e){var t=new ja(e,{type:"Graphics",create:[{name:"rect",type:"rectangle"}],update:function(){this.getShape("rect").fillStyle(16777215).setSize(this.width*this.value,this.height*this.value).setCenterPosition(this.centerX,this.centerY)}});return t},tat=function(e){var t=_st(e.scene);e.once("destroy",function(){t.destroy()}).addTransitionMode(Ast,{ease:"Linear",dir:"out",mask:t,onStart:function(r,h,y,P){r.setCurrentImageMaskEnable(!0,!0)},onProgress:function(r,h,y,P){r.maskGameObject.setValue(P)},onComplete:function(r,h,y,P){r.removeMaskGameObject(!1)}}).addTransitionMode(Ost,{ease:"Linear",dir:"in",mask:t,onStart:function(r,h,y,P){r.setNextImageMaskEnable(!0,!0)},onProgress:function(r,h,y,P){r.maskGameObject.setValue(1-P)},onComplete:function(r,h,y,P){r.removeMaskGameObject(!1)}}).addTransitionMode(Lst,{ease:"Linear",dir:"out",mask:t,onStart:function(r,h,y,P){y.tint=0,r.setCurrentImageMaskEnable(!0),r.setNextImageMaskEnable(!0)},onProgress:function(r,h,y,P){var n;P<.5?(P=Bi(P),n=Math.floor(255*(1-P)),r.maskGameObject.setValue(1-P),h.tint=(n<<16)+(n<<8)+n):(h.visible&&r.setChildVisible(h,!1),P=Bi(P),n=Math.floor(255*(1-P)),r.maskGameObject.setValue(1-P),y.tint=(n<<16)+(n<<8)+n)},onComplete:function(r,h,y,P){r.removeMaskGameObject(!1),r.setChildVisible(h,!0),h.tint=16777215,r.setChildVisible(y,!0),y.tint=16777215}})},eat=function(e){var t=new ja(e,{type:"Graphics",create:[{name:"pie",type:"arc"}],update:function(){var r=Math.max(this.width,this.height)*2,h=90*this.value;this.getShape("pie").fillStyle(16777215).setCenterPosition(this.centerX,0).setRadius(r).setAngle(90-h,90+h).setPie()}});return t},iat=function(e){var t=eat(e.scene);e.once("destroy",function(){t.destroy()}).addTransitionMode(Fst,{ease:"Linear",dir:"out",mask:t,onStart:function(r,h,y,P){r.setCurrentImageMaskEnable(!0,!0)},onProgress:function(r,h,y,P){r.maskGameObject.setValue(P)},onComplete:function(r,h,y,P){r.removeMaskGameObject(!1)}}).addTransitionMode(Dst,{ease:"Linear",dir:"in",mask:t,onStart:function(r,h,y,P){r.setNextImageMaskEnable(!0,!0)},onProgress:function(r,h,y,P){r.maskGameObject.setValue(1-P)},onComplete:function(r,h,y,P){r.removeMaskGameObject(!1)}}).addTransitionMode(Bst,{ease:"Linear",dir:"out",mask:t,onStart:function(r,h,y,P){y.tint=0,r.setCurrentImageMaskEnable(!0),r.setNextImageMaskEnable(!0)},onProgress:function(r,h,y,P){var n;P<.5?(P=Bi(P),n=Math.floor(255*(1-P)),r.maskGameObject.setValue(1-P),h.tint=(n<<16)+(n<<8)+n):(h.visible&&r.setChildVisible(h,!1),P=Bi(P),n=Math.floor(255*(1-P)),r.maskGameObject.setValue(1-P),y.tint=(n<<16)+(n<<8)+n)},onComplete:function(r,h,y,P){r.removeMaskGameObject(!1),r.setChildVisible(h,!0),h.tint=16777215,r.setChildVisible(y,!0),y.tint=16777215}})},rat=function(e,t){var r=new ja(e,{type:"Graphics",create:{rectangle:t},update:function(){for(var h=this.getShapes(),y=this.width/t,P=0;P<t;P++)h[P].fillStyle(16777215).setSize(y*this.value,this.height).setTopLeftPosition(y*P,0)}});return r},nat=function(e){var t=rat(e.scene,10);e.once("destroy",function(){t.destroy()}).addTransitionMode(Ist,{ease:"Linear",dir:"out",mask:t,onStart:function(r,h,y,P){r.setCurrentImageMaskEnable(!0,!0)},onProgress:function(r,h,y,P){r.maskGameObject.setValue(P)},onComplete:function(r,h,y,P){r.removeMaskGameObject(!1)}})},sat=function(e,t,r){var h=new ja(e,{type:"Graphics",create:{rectangle:t*r},update:function(){for(var y=this.getShapes(),P=this.width/t,n=this.height/r,T=0;T<r;T++)for(var i=0;i<t;i++)y[i*r+T].fillStyle(16777215).setSize(P*this.value,n*this.value).setCenterPosition(P*(i+.5),n*(T+.5))}});return h},aat=function(e){var t=sat(e.scene,Math.ceil(e.width/40),Math.ceil(e.height/40));e.once("destroy",function(){t.destroy()}).addTransitionMode(Gst,{ease:"Linear",dir:"out",mask:t,onStart:function(r,h,y,P){r.setCurrentImageMaskEnable(!0,!0)},onProgress:function(r,h,y,P){r.maskGameObject.setValue(P)},onComplete:function(r,h,y,P){r.removeMaskGameObject(!1)}})},oat=function(e,t,r){var h=new ja(e,{type:"Graphics",create:{lines:t*r},update:function(){for(var y=this.getShapes(),P=this.width/(t-1),n=this.height/r,T=n*2,i=P*this.value,a=n*this.value,x=0;x<r;x++)for(var d=0;d<t;d++){var l=d*P,o=x*T+d%2*n;y[d*r+x].fillStyle(16777215).start(l+i,o).lineTo(l,o+a).lineTo(l-i,o).lineTo(l,o-a).lineTo(l+i,o).close()}}});return h},hat=function(e){var t=oat(e.scene,Math.ceil(e.width/60),Math.ceil(e.height/60));e.once("destroy",function(){t.destroy()}).addTransitionMode(kst,{ease:"Linear",dir:"out",mask:t,onStart:function(r,h,y,P){r.setCurrentImageMaskEnable(!0,!0)},onProgress:function(r,h,y,P){r.maskGameObject.setValue(P)},onComplete:function(r,h,y,P){r.removeMaskGameObject(!1)}})},lat=function(e,t,r){var h=new ja(e,{type:"Graphics",create:{circle:t*r},update:function(){for(var y=this.getShapes(),P=this.width/(t-1),n=this.height/r,T=n*2,i=Math.max(P,n)*this.value,a=0;a<r;a++)for(var x=0;x<t;x++){var d=x*P,l=a*T+x%2*n;y[x*r+a].fillStyle(16777215).setCenterPosition(d,l).setRadius(i)}}});return h},uat=function(e){var t=lat(e.scene,Math.ceil(e.width/60),Math.ceil(e.height/60));e.once("destroy",function(){t.destroy()}).addTransitionMode(Nst,{ease:"Linear",dir:"out",mask:t,onStart:function(r,h,y,P){r.setCurrentImageMaskEnable(!0,!0)},onProgress:function(r,h,y,P){r.maskGameObject.setValue(P)},onComplete:function(r,h,y,P){r.removeMaskGameObject(!1)}})},fat=function(e,t){var r=new ja(e,{type:"Graphics",create:{lines:t},update:function(){for(var h=this.getShapes(),y=this.width/t,P=y/2,n=0;n<t;n++){var T=y*n,i=this.height*this.value,a=T+P;h[n].fillStyle(16777215).start(T,0).horizontalLineTo(i).arc(a,i,P,180,0,!0).horizontalLineTo(-i).lineTo(T,0).close()}}});return r},dat=function(e){var t=fat(e.scene,10);e.once("destroy",function(){t.destroy()}).addTransitionMode(zst,{ease:"Linear",dir:"out",mask:t,onStart:function(r,h,y,P){y.tint=0,r.setCurrentImageMaskEnable(!0,!0),r.setNextImageMaskEnable(!0,!0)},onProgress:function(r,h,y,P){var n;P<.5?(P=Bi(P),n=Math.floor(255*(1-P)),r.maskGameObject.setValue(P),h.tint=(n<<16)+(n<<8)+n):(h.visible&&r.setChildVisible(h,!1),P=Bi(P),n=Math.floor(255*(1-P)),r.maskGameObject.setValue(P),y.tint=(n<<16)+(n<<8)+n)},onComplete:function(r,h,y,P){r.removeMaskGameObject(!1),r.setChildVisible(h,!0),h.tint=16777215,r.setChildVisible(y,!0),y.tint=16777215}})},cat=function(e){e.addTransitionMode(Ust,{ease:"Linear",dir:"out",mask:!0,onStart:function(t,r,h,y){t.setChildVisible(h,!1),r.effect=r.preFX.addPixelate(0),h.effect=h.preFX.addPixelate(0)},onProgress:function(t,r,h,y){if(y<.5){y=Bi(y);var P=Math.min(r.width,r.height)/5;r.effect.amount=Math.ceil(P*y)}else{r.visible&&t.setChildVisible(r,!1),h.visible||t.setChildVisible(h,!0),y=Bi(y);var P=Math.min(h.width,h.height)/5;h.effect.amount=Math.ceil(P*y)}},onComplete:function(t,r,h,y){r.preFX.remove(r.effect),delete r.effect,t.setChildVisible(r,!0),h.preFX.remove(h.effect),delete h.effect}})};const vat=`vec3 mod289(vec3 x) { return x - floor(x * (1.0 / 289.0)) * 289.0; }
vec4 mod289(vec4 x) { return x - floor(x * (1.0 / 289.0)) * 289.0; }
vec4 permute(vec4 x) { return mod289(((x*34.0)+1.0)*x); }
vec4 taylorInvSqrt(vec4 r) { return 1.79284291400159 - 0.85373472095314 * r; }
vec3 fade(vec3 t) { return t*t*t*(t*(t*6.0-15.0)+10.0); }
float Perlin(vec3 P) {
    vec3 i0 = mod289(floor(P)), i1 = mod289(i0 + vec3(1.0));
    vec3 f0 = fract(P), f1 = f0 - vec3(1.0), f = fade(f0);
    vec4 ix = vec4(i0.x, i1.x, i0.x, i1.x), iy = vec4(i0.yy, i1.yy);
    vec4 iz0 = i0.zzzz, iz1 = i1.zzzz;
    vec4 ixy = permute(permute(ix) + iy), ixy0 = permute(ixy + iz0), ixy1 = permute(ixy + iz1);
    vec4 gx0 = ixy0 * (1.0 / 7.0), gy0 = fract(floor(gx0) * (1.0 / 7.0)) - 0.5;
    vec4 gx1 = ixy1 * (1.0 / 7.0), gy1 = fract(floor(gx1) * (1.0 / 7.0)) - 0.5;
    gx0 = fract(gx0); gx1 = fract(gx1);
    vec4 gz0 = vec4(0.5) - abs(gx0) - abs(gy0), sz0 = step(gz0, vec4(0.0));
    vec4 gz1 = vec4(0.5) - abs(gx1) - abs(gy1), sz1 = step(gz1, vec4(0.0));
    gx0 -= sz0 * (step(0.0, gx0) - 0.5); gy0 -= sz0 * (step(0.0, gy0) - 0.5);
    gx1 -= sz1 * (step(0.0, gx1) - 0.5); gy1 -= sz1 * (step(0.0, gy1) - 0.5);
    vec3 g0 = vec3(gx0.x,gy0.x,gz0.x), g1 = vec3(gx0.y,gy0.y,gz0.y),
        g2 = vec3(gx0.z,gy0.z,gz0.z), g3 = vec3(gx0.w,gy0.w,gz0.w),
        g4 = vec3(gx1.x,gy1.x,gz1.x), g5 = vec3(gx1.y,gy1.y,gz1.y),
        g6 = vec3(gx1.z,gy1.z,gz1.z), g7 = vec3(gx1.w,gy1.w,gz1.w);
    vec4 norm0 = taylorInvSqrt(vec4(dot(g0,g0), dot(g2,g2), dot(g1,g1), dot(g3,g3)));
    vec4 norm1 = taylorInvSqrt(vec4(dot(g4,g4), dot(g6,g6), dot(g5,g5), dot(g7,g7)));
    g0 *= norm0.x; g2 *= norm0.y; g1 *= norm0.z; g3 *= norm0.w;
    g4 *= norm1.x; g6 *= norm1.y; g5 *= norm1.z; g7 *= norm1.w;
    vec4 nz = mix(vec4(dot(g0, vec3(f0.x, f0.y, f0.z)), dot(g1, vec3(f1.x, f0.y, f0.z)),
        dot(g2, vec3(f0.x, f1.y, f0.z)), dot(g3, vec3(f1.x, f1.y, f0.z))),
        vec4(dot(g4, vec3(f0.x, f0.y, f1.z)), dot(g5, vec3(f1.x, f0.y, f1.z)),
            dot(g6, vec3(f0.x, f1.y, f1.z)), dot(g7, vec3(f1.x, f1.y, f1.z))), f.z);
    return 2.2 * mix(mix(nz.x,nz.z,f.y), mix(nz.y,nz.w,f.y), f.x);
}
float Perlin(vec2 P) { return Perlin(vec3(P, 0.0)); }
`,pat=`#ifdef GL_FRAGMENT_PRECISION_HIGH
#define highmedp highp
#else
#define highmedp mediump
#endif
precision highmedp float;
// Scene buffer
uniform sampler2D uMainSampler;
uniform sampler2D uMainSampler2;

uniform int resizeMode;
uniform float progress;
uniform float fromRatio;
uniform float toRatio;
varying vec2 outFragCoord;
// Effect parameters
uniform float noiseX;
uniform float noiseY;
uniform float noiseZ;
uniform float fromEdgeStart;
uniform float fromEdgeWidth;
uniform float toEdgeStart;
uniform float toEdgeWidth;

${vat}

vec4 getFromColor (vec2 uv) {
  return texture2D(uMainSampler, uv);
}

vec4 getToColor (vec2 uv) {
  if (resizeMode == 2) {
    //  cover
    return texture2D(uMainSampler2, 0.5 + (vec2(uv.x, 1.0 - uv.y) - 0.5) * vec2(min(fromRatio / toRatio, 1.0), min((toRatio / fromRatio), 1.0)));
  } else if (resizeMode == 1) {
    //  contain
    return texture2D(uMainSampler2, 0.5 + (vec2(uv.x, 1.0 - uv.y) - 0.5) * vec2(max(fromRatio / toRatio, 1.0), max((toRatio / fromRatio), 1.0)));
  } else {
    //  stretch
    return texture2D(uMainSampler2, vec2(uv.x, 1.0 - uv.y));
  }
}

vec4 transition (vec2 uv) {    
  vec4 colorFront = getFromColor(uv);
  vec4 colorTo = getToColor(uv);

  float noise = (Perlin(vec3(uv.x * noiseX, uv.y * noiseY, noiseZ)) + 1.0) / 2.0
    * (1.0 - (fromEdgeStart + fromEdgeWidth + toEdgeStart + toEdgeWidth))
    + (fromEdgeStart + fromEdgeWidth + toEdgeStart + toEdgeWidth) * 0.5;
  vec4 colorResult = colorFront * smoothstep(progress - (fromEdgeStart + fromEdgeWidth), progress - fromEdgeStart, noise)
    + colorTo * smoothstep((1.0 - progress) - (toEdgeStart + toEdgeWidth), (1.0 - progress) - toEdgeStart, (1.0 - noise));
  return colorResult;
}

void main () {
  vec2 uv = outFragCoord;
  gl_FragColor = transition(uv);
}
`,gat=Phaser.Renderer.WebGL.Pipelines.PostFXPipeline,oa=Phaser.Utils.Objects.GetValue,mat=Phaser.Math.Clamp;class sE extends gat{constructor(t){super({name:"rexDissolvePostFx",game:t,renderTarget:!0,fragShader:pat}),this._progress=0,this.toFrame=null,this.targetTexture=null,this.resizeMode=1,this.toRatio=1,this.noiseX=0,this.noiseY=0,this.noiseZ=0,this.fromEdgeStart=.01,this.fromEdgeWidth=.05,this.toEdgeStart=.01,this.toEdgeWidth=.05}resetFromJSON(t){return this.setProgress(oa(t,"progress",0)),this.setTransitionTargetTexture(oa(t,"toTexture","__DEFAULT"),oa(t,"toFrame",void 0),oa(t,"resizeMode",1)),this.setNoise(oa(t,"noiseX",void 0),oa(t,"noiseY",void 0),oa(t,"noiseZ",void 0)),this.setFromEdge(oa(t,"fromEdgeStart",.01),oa(t,"fromEdgeWidth",.05)),this.setToEdge(oa(t,"toEdgeStart",.01),oa(t,"toEdgeWidth",.05)),this}onBoot(){}onPreRender(){this.set1f("progress",this.progress),this.set1i("resizeMode",this.resizeMode),this.set1f("noiseX",this.noiseX),this.set1f("noiseY",this.noiseY),this.set1f("noiseZ",this.noiseZ),this.set1f("fromEdgeStart",this.fromEdgeStart),this.set1f("fromEdgeWidth",this.fromEdgeWidth),this.set1f("toEdgeStart",this.toEdgeStart),this.set1f("toEdgeWidth",this.toEdgeWidth)}onDraw(t){this.set1f("fromRatio",t.width/t.height),this.set1f("toRatio",this.toRatio),this.set1i("uMainSampler2",1),this.bindTexture(this.targetTexture,1),this.bindAndDraw(t)}get progress(){return this._progress}set progress(t){this._progress=mat(t,0,1)}setProgress(t){return this.progress=t,this}setTransitionTargetTexture(t,r,h){t===void 0&&(t="__DEFAULT");var y=this.game.textures.getFrame(t,r);return y||(y=this.game.textures.getFrame("__DEFAULT")),this.toRatio=y.width/y.height,this.toFrame=y,this.targetTexture=y.glTexture,h!==void 0&&(this.resizeMode=h),this}setResizeMode(t){return typeof t=="string"&&(t=xat[t]),this.resizeMode=t,this}setNoise(t,r,h){return t===void 0&&(t=4+Math.random()*6),r===void 0&&(r=4+Math.random()*6),h===void 0&&(h=Math.random()*10),this.noiseX=t,this.noiseY=r,this.noiseZ=h,this}setFromEdge(t,r){return this.fromEdgeStart=t,this.fromEdgeWidth=r,this}setToEdge(t,r){return this.toEdgeStart=t,this.toEdgeWidth=r,this}}var xat={stretch:0,contain:1,cover:2},yat=function(e,t,r){hu(e).renderer.pipelines.addPostPipeline(t,r)},Cat=function(e,t,r){r===void 0&&(r={}),e.setPostPipeline(t);var h=e.postPipelines[e.postPipelines.length-1];return h.resetFromJSON(r),r.name&&(h.name=r.name),h};const Sat=Phaser.Utils.Array.SpliceOne;var Tat=function(e,t,r){for(var h,y,P,h=e.postPipelines,y=h.length-1;y>=0;y--){var P=h[y];P instanceof t&&(P.destroy(),Sat(h,y))}e.hasPostPipeline=e.postPipelines.length>0},Eat=function(e){yat(e.scene.game,"rexDissolvePostFx",sE),e.addTransitionMode(Vst,{ease:"Linear",dir:"out",mask:!1,onStart:function(t,r,h,y){r.effect=Cat(r,sE)},onProgress:function(t,r,h,y){r.effect.setProgress(y)},onComplete:function(t,r,h,y){Tat(r,sE),delete r.effect}})};const h0=.1,Pat=0,Mat=0,bat=1,wat=1,$F=0,KF=1;var Rat=function(e){e.addTransitionMode(Yst,{ease:"Linear",dir:"in",mask:!1,onStart:function(t,r,h,y){h.effect=h.preFX.addReveal(h0,Pat,$F)},onProgress:function(t,r,h,y){h.effect.progress=y},onComplete:function(t,r,h,y){h.preFX.remove(h.effect),delete h.effect}}).addTransitionMode(Wst,{ease:"Linear",dir:"in",mask:!1,onStart:function(t,r,h,y){h.effect=h.preFX.addReveal(h0,bat,$F)},onProgress:function(t,r,h,y){h.effect.progress=y},onComplete:function(t,r,h,y){h.preFX.remove(h.effect),delete h.effect}}).addTransitionMode(Hst,{ease:"Linear",dir:"in",mask:!1,onStart:function(t,r,h,y){h.effect=h.preFX.addReveal(h0,Mat,KF)},onProgress:function(t,r,h,y){h.effect.progress=y},onComplete:function(t,r,h,y){h.preFX.remove(h.effect),delete h.effect}}).addTransitionMode(Xst,{ease:"Linear",dir:"in",mask:!1,onStart:function(t,r,h,y){h.effect=h.preFX.addReveal(h0,wat,KF)},onProgress:function(t,r,h,y){h.effect.progress=y},onComplete:function(t,r,h,y){h.preFX.remove(h.effect),delete h.effect}})};const ZF=[$st,Kst,Zst,Jst,Qst,tat,iat,qst,nat,aat,hat,uat,dat,cat,Eat,Rat];class q4 extends Ox{constructor(t,r,h,y,P,n){super(t,r,h,y,P,n);for(var T=0,i=ZF.length;T<i;T++)ZF[T](this)}}It.register("transitionImagePack",function(e,t,r,h,y){var P=new q4(this.scene,e,t,r,h,y);return this.scene.add.existing(P),P});Lt(window,"RexPlugins.UI.TransitionImagePack",q4);var Aat=function(){var e=this.image;if(!this.scaleUp&&e.width<=this.width&&e.height<=this.height)return this;var t=CM(e,this,"FIT",!0);return e.setDisplaySize(t.width,t.height),this.resetChildScaleState(e),this},_4={scaleImage:Aat};Object.assign(_4,Q4);var Oat=function(){var e=this.background;return e?(e.setOrigin(this.originX,this.originY),e.setPosition(this.x,this.y),cn(e,this.displayWidth,this.displayHeight),this.resetChildScaleState(e),this):this};const JF=Phaser.Utils.Objects.IsPlainObject,Fo=Phaser.Utils.Objects.GetValue;class Lx extends vs{constructor(t,r,h,y,P,n){JF(r)?(n=r,r=Fo(n,"x",0),h=Fo(n,"y",0),y=Fo(n,"key",void 0),P=Fo(n,"frame",void 0)):JF(P)&&(n=P,P=void 0);var T=Fo(n,"image");T?T.setPosition(r,h).setOrigin(.5):(T=t.add.image(r,h,y,P),y===void 0&&T.setVisible(!1)),super(t,r,h,1,1),this.type="rexImageBox";var i=Fo(n,"background");i&&this.add(i),this.background=i,this.add(T),this.image=T,this.scaleUp=Fo(n,"scaleUp",!1);var a=Fo(n,"width",T.width),x=Fo(n,"height",T.height);this.resize(a,x)}get texture(){return this.image.texture}get frame(){return this.image.frame}get flipX(){return this._flipX}set flipX(t){this._flipX!==t&&(this._flipX=t,this.image.setFlipX(t))}get flipY(){return this._flipY}set flipY(t){this._flipY!==t&&(this._flipY=t,this.image.setFlipY(t))}resize(t,r){return super.resize(t,r),Oat.call(this),this.scaleImage(),this}setTexture(t,r){var h=this.image;return h.setTexture(t,r),t!==null?(this.setChildVisible(h,!0),this.scaleImage()):this.setChildVisible(h,!1),this}}Object.assign(Lx.prototype,_4);It.register("imageBox",function(e,t,r,h,y){var P=new Lx(this.scene,e,t,r,h,y);return this.scene.add.existing(P),P});Lt(window,"RexPlugins.UI.ImageBox",Lx);It.register("fullWindowRectangle",function(e,t){var r=new cM(this.scene,e,t);return this.scene.add.existing(r),r});Lt(window,"RexPlugins.UI.FullWindowRectangle",cM);It.register("fullWindowZone",function(){var e=new kP(this.scene);return this.scene.add.existing(e),e});Lt(window,"RexPlugins.UI.FullWindowZone",kP);It.register("cover",function(e){var t=new vM(this.scene,e);return this.scene.add.existing(t),t});Lt(window,"RexPlugins.UI.Cover",vM);var MM=function(e,t){if(this.scene.sys.scale.autoRound&&(e=Math.floor(e),t=Math.floor(t)),this.width===e&&this.height===t)return this;var r=this.node.style;return r.width=`${e}px`,r.height=`${t}px`,this.updateSize(),this};const QF={id:["id",void 0],text:["value",void 0],maxLength:["maxLength",void 0],minLength:["minLength",void 0],placeholder:["placeholder",void 0],tooltip:["title",void 0],readOnly:["readOnly",!1],spellCheck:["spellcheck",!1],autoComplete:["autocomplete","off"],autoCapitalize:["autocapitalize","off"]},jF={align:["textAlign",void 0],paddingLeft:["padding-left",void 0],paddingRight:["padding-right",void 0],paddingTop:["padding-top",void 0],paddingBottom:["padding-bottom",void 0],fontFamily:["fontFamily",void 0],fontSize:["font-size",void 0],color:["color","#ffffff"],backgroundColor:["backgroundColor","transparent"],border:["border",0],borderColor:["borderColor","transparent"],borderRadius:["border-radius",void 0],outline:["outline","none"],direction:["direction",void 0]},Lat={input:"textchange",click:"click",dblclick:"dblclick",mousedown:"pointerdown",mousemove:"pointermove",mouseup:"pointerup",touchstart:"pointerdown",touchmove:"pointermove",touchend:"pointerup",keydown:"keydown",keyup:"keyup",keypress:"keypress",compositionstart:"compositionStart",compositionend:"compositionEnd",compositionupdate:"compositionUpdate",focus:"focus",blur:"blur",select:"select"},qF=Phaser.Utils.Objects.GetValue;var tI=function(e,t,r,h){var y=qF(h,"preventDefault",!1),P=qF(h,"preTest");for(let n in r)t.addEventListener(n,function(T){(!P||P(e,n))&&e.emit(r[n],e,T),y&&T.preventDefault()})};const Fat=Phaser.GameObjects.DOMElement,_F=Phaser.Utils.Objects.IsPlainObject,Na=Phaser.Utils.Objects.GetValue;class Fx extends Fat{constructor(t,r,h,y,P,n){_F(r)?(n=r,r=Na(n,"x",0),h=Na(n,"y",0),y=Na(n,"width",0),P=Na(n,"height",0)):_F(y)&&(n=y,y=Na(n,"width",0),P=Na(n,"height",0)),n===void 0&&(n={});var T,i=Na(n,"inputType",void 0);i===void 0&&(i=Na(n,"type","text")),i==="textarea"?(T=document.createElement("textarea"),T.style.resize="none"):(T=document.createElement("input"),T.type=i),U0(QF,n,T);var a=Na(n,"style",void 0);a=U0(jF,n,a);var x=T.style;for(var d in n)if(!(d in QF||d in jF)){if(d in x)a[d]=n[d];else if(d in T){if(d==="type")continue;T[d]=n[d]}}a["box-sizing"]="border-box",super(t,r,h,T,a),this.type="rexInputText",this.resize(y,P),tI(this,T,Lat),i4(T),Na(n,"selectAll",!1)&&this.selectAll(),this._isFocused=!1,this.on("focus",function(){this._isFocused=!0},this).on("blur",function(){this._isFocused=!1},this)}get inputType(){return this.node.tagName.toLowerCase()==="textarea"?"textarea":this.node.type}get text(){return this.node.value}set text(t){this.node.value=t}setText(t){return this.text=t,this}get maxLength(){return this.node.maxLength}set maxLength(t){this.node.maxLength=t}setMaxLength(t){return this.maxLength=t,this}get minLength(){return this.node.minLength}set minLength(t){this.node.minLength=t}setMinLength(t){return this.minLength=t,this}get placeholder(){return this.node.placeholder}set placeholder(t){this.node.placeholder=t}setPlaceholder(t){return this.placeholder=t,this}selectText(t,r){return t===void 0?this.node.select():this.node.setSelectionRange(t,r),this}selectAll(){return this.selectText(),this}get selectionStart(){return this.node.selectionStart}get selectionEnd(){return this.node.selectionEnd}get selectedText(){var t=this.node;return t.value.substring(t.selectionStart,t.selectionEnd)}get cursorPosition(){return this.node.selectionStart}set cursorPosition(t){this.node.setSelectionRange(t,t)}setCursorPosition(t){return t===void 0?t=this.text.length:t<0&&(t=this.text.length+t),this.cursorPosition=t,this}get tooltip(){return this.node.title}set tooltip(t){this.node.title=t}setTooltip(t){return this.tooltip=t,this}setTextChangedCallback(t){return this.onTextChanged=t,this}get readOnly(){return this.node.readOnly}set readOnly(t){this.node.readOnly=t}setReadOnly(t){return t===void 0&&(t=!0),this.readOnly=t,this}get spellCheck(){return this.node.spellcheck}set spellCheck(t){this.node.spellcheck=t}setSpellCheck(t){return this.spellCheck=t,this}get fontColor(){return this.node.style.color}set fontColor(t){this.node.style.color=t}setFontColor(t){return this.fontColor=t,this}setStyle(t,r){return this.node.style[t]=r,this}getStyle(t){return this.node.style[t]}scrollToBottom(){return this.node.scrollTop=this.node.scrollHeight,this}setEnabled(t){return t===void 0&&(t=!0),this.node.disabled=!t,this}setBlur(){return this.node.blur(),this}setFocus(){return this.node.focus(),this}get isFocused(){return this._isFocused}}var Dat={resize:MM};Object.assign(Fx.prototype,Dat);It.register("inputText",function(e){var t=new Fx(this.scene,e);return this.scene.add.existing(t),t});Lt(window,"RexPlugins.UI.InputText",Fx);const tD=Phaser.Utils.Objects.GetValue;var Bat=function(e,t){var r=document.createElement("input");r.type="file";var h=tD(t,"accept",""),y=tD(t,"multiple",!1);return r.setAttribute("accept",h),y?r.setAttribute("multiple",""):r.removeAttribute("multiple"),r},eI=function(e,t){return e===void 0&&(e=0),new Promise(function(r,h){setTimeout(function(){r(t)},e)})},iI=function({game:e,fileInput:t,closeDelay:r}){return ux(hu(e).events,"focus").then(function(){return eI(r)}).then(function(){var h={files:t.files};return Promise.resolve(h)})};const Iat=Phaser.Utils.Objects.GetValue,Gat=Phaser.DOM.RemoveFromDOM;var rI=function(e,t){var r=Iat(t,"closeDelay",200),h=Bat(e,t);return h.click(),iI({game:e,fileInput:h,closeDelay:r}).then(function(y){return Gat(h),h.remove(),Promise.resolve(y)})},nI=function(e){return this.setOrigin(e.originX,e.originY),this.setPosition(e.x,e.y),this.resize(e.displayWidth,e.displayHeight),this},kat=function(e,t,r){if(r===void 0)switch(t){case"image":case"svg":r="textures";break;case"animation":r="json";break;case"tilemapTiledJSON":case"tilemapCSV":r="tilemap";break;case"glsl":r="shader";break;default:r=t;break}e=hu(e);var h;return r==="textures"?h=e.textures:h=e.cache[r],h},sI=function(e,t,r,h,y,P){if(!(y===null||y===!1))if(pa(y))y();else{var n=kat(e,r,y);n.exists(h)&&n.remove(h)}var T=e.load;if(P&&T.once(`filecomplete-${r}-${h}`,function(a,x,d){P(d)}),pa(t))t();else{var i=window.URL.createObjectURL(t);T[r](h,i)}T.start()},Nat=function(e,t,r,h,y){var P=this.scene;return sI(P,e,t,r,h,y),this},zat=function(e,t,r,h){var y=this.scene;return new Promise(function(P,n){var T=function(i){P(i)};sI(y,e,t,r,h,T)})};const aI={loadFile:Nat,loadFilePromise:zat},Uat=Phaser.GameObjects.DOMElement,eD=Phaser.Utils.Objects.IsPlainObject,za=Phaser.Utils.Objects.GetValue;class ip extends Uat{constructor(t,r,h,y,P,n){eD(r)?(n=r,r=za(n,"x",0),h=za(n,"y",0),y=za(n,"width",0),P=za(n,"height",0)):eD(y)&&(n=y,y=za(n,"width",0),P=za(n,"height",0));var T=document.createElement("input");T.type="file";var i=T.style;i.display="none";var a=document.createElement("label");a.appendChild(T);var x=za(n,"style",void 0);super(t,r,h,a,x),this.type="rexFileChooser",this.resetFromJSON(n),this.resize(y,P);var d=this;T.onchange=function(){d.emit("change",d)},this.setCloseDelay(za(n,"closeDelay",200)),T.onclick=function(){iI({game:t,fileInput:T,closeDelay:d.closeDelay}).then(function(){d.emit("select",d)})}}resetFromJSON(t){return this.setAccept(za(t,"accept","")),this.setMultiple(za(t,"multiple",!1)),this}setAccept(t){return t===void 0&&(t=""),this.fileInput.setAttribute("accept",t),this}setMultiple(t){return t===void 0&&(t=!0),t?this.fileInput.setAttribute("multiple",""):this.fileInput.removeAttribute("multiple"),this}setCloseDelay(t){return t===void 0&&(t=200),this.closeDelay=t,this}get fileInput(){return this.node.children[0]}open(){return this.fileInput.click(),this}get files(){return this.fileInput.files}setOpenEnable(t){return t===void 0&&(t=!0),this.fileInput.disabled=!t,this}}var Vat={resize:MM,syncTo:nI};Object.assign(ip.prototype,Vat,aI);It.register("fileChooser",function(e){var t=new ip(this.scene,e);return this.scene.add.existing(t),t});Lt(window,"RexPlugins.UI.FileChooser",ip);const Wat={setDropEnable(e){return e===void 0&&(e=!0),this.dropEnable=e,this},toggleDropEnable(){return this.dropEnable=!this.dropEnable,this}},Yat={addFilter(e,t){return this.filters||(this.filters={}),this.filters[e]=t,this},addFilters(e){this.filters||(this.filters={});for(var t in e)this.filters[t]=e[t];return this}};var oI={resize:MM,syncTo:nI};Object.assign(oI,Wat,Yat,aI);const Xat={dragenter:"dragenter",dragleave:"dragleave",dragover:"dragover",drop:"drop"},Hat=Phaser.GameObjects.DOMElement,iD=Phaser.Utils.Objects.IsPlainObject,Do=Phaser.Utils.Objects.GetValue;class bM extends Hat{constructor(t,r,h,y,P,n){iD(r)?(n=r,r=Do(n,"x",0),h=Do(n,"y",0),y=Do(n,"width",0),P=Do(n,"height",0)):iD(y)&&(n=y,y=Do(n,"width",0),P=Do(n,"height",0)),n===void 0&&(n={});var T=document.createElement("div"),i=Do(n,"style",void 0);super(t,r,h,T,i),this.type="rexFileDropZone",this.resize(y,P),this._files=[],this.setDropEnable(Do(n,"dropEnable",!0));var a=Do(n,"filters");a&&this.addFilters(a),tI(this,T,Xat,{preventDefault:!0,preTest(x){return x.dropEnable}}),this.on("drop",function(x,d){this._files=d.dataTransfer.files;var l=this._files;if(l&&this.filters)for(var o in this.filters){for(var s=this.filters[o],f=[],c=0,u=l.length;c<u;c++){var v=l[c];s(v,l)&&f.push(v)}f.length>0&&this.emit(`drop.${o}`,f)}},this)}get files(){return this._files}}Object.assign(bM.prototype,oI);It.register("fileDropZone",function(e){var t=new bM(this.scene,e);return this.scene.add.existing(t),t});Lt(window,"RexPlugins.UI.FileDropZone",bM);var $at=function(e){if(this.rexSizer.hidden)return 0;e===void 0&&(e=!0);var t=0,r=this.sizerChildren,h,y,P,n,T,i=!1;if(this.childrenProportion,this.orientation===0)for(var a=!0,x=0,d=r.length;x<d;x++)h=r[x],h.hasOwnProperty("rexSizer")&&(y=h.rexSizer,!y.hidden&&(P=y.proportion,P===0||e?(T=this.getChildWidth(h),y.fitRatio>0&&!y.resolved&&(T=void 0),T===void 0&&(P!==0&&!this.hasProportion0Child?T=0:i=!0)):T=0,!i&&(n=h.rexSizer.padding,T+=(n.left+n.right)*this.scaleX,a?a=!1:T+=this.space.item*this.scaleX,t+=T)));else for(var x=0,d=r.length;x<d;x++)h=r[x],h.hasOwnProperty("rexSizer")&&(y=h.rexSizer,!y.hidden&&(T=this.getChildWidth(h),T===void 0&&(i=!0),!i&&(n=y.padding,T+=(n.left+n.right)*this.scaleX,t=Math.max(T,t))));if(!i)return t+(this.space.left+this.space.right)*this.scaleX},Kat=function(e){if(this.rexSizer.hidden)return 0;e===void 0&&(e=!0);var t=0,r=this.sizerChildren,h,y,P,n,T,i=!1;if(this.childrenProportion,this.orientation===0)for(var a=0,x=r.length;a<x;a++)h=r[a],h.hasOwnProperty("rexSizer")&&(y=h.rexSizer,!y.hidden&&(T=this.getChildHeight(h),T===void 0&&(i=!0),!i&&(n=y.padding,T+=(n.top+n.bottom)*this.scaleY,t=Math.max(T,t))));else for(var d=!0,a=0,x=r.length;a<x;a++)h=r[a],h.hasOwnProperty("rexSizer")&&(y=h.rexSizer,!y.hidden&&(P=y.proportion,P===0||e?(T=this.getChildHeight(h),y.fitRatio>0&&!y.resolved&&(T=void 0),T===void 0&&(P!==0&&!this.hasProportion0Child?T=0:i=!0)):T=0,!i&&(n=y.padding,T+=(n.top+n.bottom)*this.scaleY,d?d=!1:T+=this.space.item*this.scaleY,t+=T)));if(!i)return t+(this.space.top+this.space.bottom)*this.scaleY},Zat=function(e,t){t===void 0&&(t=this.width*this.scaleX);var r,h=e.rexSizer;if(this.orientation===0)h.proportion>0&&this.proportionLength>0&&(r=h.proportion*this.proportionLength);else if(h.expand){var y=this.space,P=t-(y.left+y.right)*this.scaleX,n=h.padding;r=P-(n.left+n.right)*this.scaleX}return r},Jat=function(e,t){t===void 0&&(t=this.height);var r,h=e.rexSizer;if(this.orientation===0){if(h.expand){var y=this.space,P=t-(y.top+y.bottom)*this.scaleY,n=h.padding;r=P-(n.top+n.bottom)*this.scaleY}}else h.proportion>0&&this.proportionLength>0&&(r=h.proportion*this.proportionLength);return r},Qat=function(e){e===void 0&&(e=[]);for(var t=this.sizerChildren,r,h=0,y=t.length;h<y;h++)r=t[h],r.isRexSizer&&e.push(r);return e},jat=function(){this.hasRatioFitChild=!1;for(var e,t,r=this.sizerChildren,h=0,y=r.length;h<y;h++)e=r[h],t=e.rexSizer,!t.hidden&&t.fitRatio>0&&(cn(e,0,0),t.resolved=!1,this.hasRatioFitChild=!0);return this._childrenProportion=void 0,this.hasProportion0Child=!1,this.proportionLength=void 0,qv.call(this),this};const qat=Phaser.Math.Wrap;var _at=function(){for(var e=this.sizerChildren,t,r,h,y=this.innerLeft,P=this.innerTop,n=this.innerWidth,T=this.innerHeight,i=y,a=P,x,d,l,o,s,f,c,u,v,p=this.startChildIndex,m=0,g=e.length;m<g;m++)p===0?v=m:v=qat(m+p,0,g),this.rtl&&(v=g-v-1),t=e[v],!t.rexSizer.hidden&&(r=t.rexSizer,h=r.padding,_v.call(this,t),t.isRexSpace?(c=0,u=0):(c=this.getExpandedChildWidth(t),u=this.getExpandedChildHeight(t)),t.isRexSizer?(t.runLayout(this,c,u),SM(t,this)):cn(t,c,u),c===void 0&&(c=pi(t)),u===void 0&&(u=gi(t)),this.orientation===0?(x=i+h.left*this.scaleX,r.proportion===0||this.proportionLength===0?l=c:l=r.proportion*this.proportionLength,d=a+h.top*this.scaleY,o=T-(h.top+h.bottom)*this.scaleY):(x=i+h.left*this.scaleX,l=n-(h.left+h.right)*this.scaleX,d=a+h.top*this.scaleY,r.proportion===0||this.proportionLength===0?o=u:o=r.proportion*this.proportionLength),c===void 0&&(c=pi(t)),u===void 0&&(u=gi(t)),s=(r.alignOffsetX+r.alignOffsetOriginX*c)*this.scaleX,f=(r.alignOffsetY+r.alignOffsetOriginY*u)*this.scaleY,tp.call(this,t,x,d,l,o,r.align,s,f),this.orientation===0?i+=l+(h.left+h.right)*this.scaleX+this.space.item*this.scaleX:a+=o+(h.top+h.bottom)*this.scaleY+this.space.item*this.scaleY)},tot=function(t){var t=rM.call(this,t);if(t!==void 0&&this.orientation===0&&this.proportionLength===void 0){var r=t-this.childrenWidth;r>0?(r=t-this.getChildrenWidth(!1),this.proportionLength=r/this.childrenProportion):this.proportionLength=0}return t},eot=function(t){var t=aM.call(this,t);if(t!==void 0&&this.orientation===1&&this.proportionLength===void 0){var r=t-this.childrenHeight;r>0?(r=t-this.getChildrenHeight(!1),this.proportionLength=r/this.childrenProportion):this.proportionLength=0}return t},iot=function(){return this.hasRatioFitChild&&this.orientation===1?!0:nM.call(this)},hI=function(e,t){if(this.hasRatioFitChild){var r;this.orientation===0?r=t-(this.getInnerPadding("top")+this.getInnerPadding("bottom"))*this.scaleY:e-(this.getInnerPadding("left")+this.getInnerPadding("right"))*this.scaleX;for(var h,y,P,n,T=this.sizerChildren,i=0,a=T.length;i<a;i++){var h=T[i],y=h.rexSizer;if(!y.hidden){var x=y.fitRatio;x&&(this.orientation===0?(n=r-(this.getChildOuterPadding(h,"top")+this.getChildOuterPadding(h,"bottom"))*this.scaleY,P=n*x):(P=r-(this.getChildOuterPadding(h,"top")+this.getChildOuterPadding(h,"bottom"))*this.scaleX,n=P/x),cn(h,P,n),h.isRexSizer&&h.setMinSize(P,n),y.resolved=!0)}}}},rot=function(e){this.wrapResult||(this.orientation===1&&hI.call(this,e,void 0),sM.call(this,e))},not=function(){return this.hasRatioFitChild&&this.orientation===0?!0:oM.call(this)},sot=function(e){this.wrapResult||(this.orientation===0&&hI.call(this,void 0,e),hM.call(this,e))};const aot=Phaser.GameObjects.Zone;class wM extends aot{constructor(t){super(t,0,0,1,1),this.isRexSpace=!0}}var oot=function(e,t){var r=this.sizerChildren;if(r.length===0)return-1;for(var h=-1,y=1/0,P=0,n=r.length;P<n;P++){var T=r[P],i;this.orientation===0?i=Math.abs(T.left-e):i=Math.abs(T.top-t),y>i&&(y=i,h=P)}var T=r[r.length-1],i;return this.orientation===0?i=Math.abs(T.right-e):i=Math.abs(T.bottom-t),y>i&&(y=i,h=P+1),h};const lI=Phaser.Utils.Objects.IsPlainObject,os=Phaser.Utils.Objects.GetValue,rD=Phaser.Display.Align.CENTER,hot={min:0,full:-1};var aE=function(e,t,r,h,y,P,n,T,i,a){var x,d,l,o;Qv.call(this,e);var s=e.isRexSpace,f=typeof t;if(t===null)return this;if(f!=="number"){if(f==="string")t=hot[t];else if(lI(t)){var c=t;t=os(c,"proportion",void 0),r=os(c,"align",rD),h=os(c,"padding",0),y=os(c,"expand",!1),P=os(c,"key",void 0),n=os(c,"index",void 0),e.isRexSizer||(T=os(c,"minWidth",void 0),i=os(c,"minHeight",void 0)),a=os(c,"fitRatio",0),x=os(c,"offsetX",0),d=os(c,"offsetY",0),l=os(c,"offsetOriginX",0),o=os(c,"offsetOriginY",0)}}typeof r=="string"&&(r=ld[r]),t===void 0&&(t=s?1:0),r===void 0&&(r=rD),h===void 0&&(h=0),y===void 0&&(y=!1),T===void 0&&(s?T=0:e.isRexSizer||(T=e._minWidth)),i===void 0&&(s?i=0:e.isRexSizer||(i=e._minHeight)),a===void 0||a===!1?a=0:a===!0&&(a=pi(e)/gi(e)),x===void 0&&(x=0),d===void 0&&(d=0),l===void 0&&(l=0),o===void 0&&(o=0);var c=this.getSizerConfig(e);return c.proportion=t,c.align=r,c.padding=gu(h),c.expand=y,c.fitRatio=t===0?a:0,c.alignOffsetX=x,c.alignOffsetY=d,c.alignOffsetOriginX=l,c.alignOffsetOriginY=o,n===void 0||n>=this.sizerChildren.length?this.sizerChildren.push(e):this.sizerChildren.splice(n,0,e),e.isRexSizer||(t>0&&(this.orientation===0?e.minWidth=T===void 0?pi(e):T:e.minHeight=i===void 0?gi(e):i),y&&(this.orientation===0?e.minHeight=i:e.minWidth=T)),P!==void 0&&this.addChildrenMap(P,e),this};const lot={add:aE,addSpace(e){return this.insertSpace(void 0,e),this},insertSpace(e,t){return t===void 0&&(t=1),aE.call(this,new wM(this.scene),{proportion:t,minWidth:0,minHeight:0,index:e}),this},insert(e,t,r,h,y,P,n,T){return lI(r)&&(r.index=e),aE.call(this,t,r,h,y,P,n,e,T),this},insertAtPosition(e,t,r,h,y,P,n,T,i){var a=oot.call(this,e,t);return a===-1&&(a=void 0),this.insert(a,r,h,y,P,n,T,i),this}},uot=Phaser.Utils.Array.Remove,fot={remove(e,t){return this.getParentSizer(e)!==this?this:(uot(this.sizerChildren,e),jv.call(this,e,t),this)},removeAll(e){for(var t=this.sizerChildren.length-1;t>=0;t--)this.remove(this.sizerChildren[t],e);return this},clear(e){return this.sizerChildren.length=0,wx.call(this,e),this}},dot={getChildAlign(e){return this.getSizerConfig(e).align},setChildAlign(e,t){return typeof t=="string"&&(t=ld[t]),this.getSizerConfig(e).align=t,this}},cot={getChildProportion(e){return this.getSizerConfig(e).proportion},setChildProportion(e,t){return this.getSizerConfig(e).proportion=t,this}},vot={getChildExpand(e){return this.getSizerConfig(e).expand},setChildExpand(e,t){return this.getSizerConfig(e).expand=t,this}};var pot=function(e){e===void 0&&(e="left");var t=this.sizerChildren,r=t[0],h=r&&r.isRexSpace;e==="right"||e==="bottom"||e==="center"?h||this.insertSpace(0):h&&this.remove(r,!0);var y=t.length-1,P=t[y],n=P&&P.isRexSpace;return e==="center"?n||this.insertSpace(y+1):n&&this.remove(P,!0),this};const RM={sortChildren(e){return this.sizerChildren.sort(e),this},sortChildrenByData(e,t){return this.sizerChildren.sort(function(r,h){var y=r.getData(e),P=h.getData(e);return t?P-y:y-P}),this},sortChildrenByProperty(e,t){return this.sizerChildren.sort(function(r,h){var y=r[e],P=h[e];return t?P-y:y-P}),this}};var uI={getChildrenWidth:$at,getChildrenHeight:Kat,getExpandedChildWidth:Zat,getExpandedChildHeight:Jat,getChildrenSizers:Qat,preLayout:jat,layoutChildren:_at,resolveWidth:tot,resolveHeight:eot,hasWidthWrap:iot,runWidthWrap:rot,hasHeightWrap:not,runHeightWrap:sot,setChildrenAlignMode:pot};Object.assign(uI,lot,fot,dot,cot,vot,RM);var got=function(){for(var e=0,t=this.sizerChildren,r,h,y=0,P=t.length;y<P;y++)r=t[y],!r.rexSizer.hidden&&(h=r.rexSizer.proportion,h>0?e+=h:h===0&&(this.hasProportion0Child=!0));return e};const oE=Phaser.Utils.Objects.IsPlainObject,As=Phaser.Utils.Objects.GetValue;class Je extends mu{constructor(t,r,h,y,P,n,T){oE(r)?(T=r,r=As(T,"x",0),h=As(T,"y",0),y=As(T,"width",void 0),P=As(T,"height",void 0),n=As(T,"orientation",0)):oE(y)?(T=y,y=As(T,"width",void 0),P=As(T,"height",void 0),n=As(T,"orientation",0)):oE(n)&&(T=n,n=As(T,"orientation",0)),n===void 0&&(n=0),super(t,r,h,y,P,T),this.type="rexSizer",this.sizerChildren=[],this.setOrientation(n),this.setItemSpacing(As(T,"space.item",0)),this.setStartChildIndex(As(T,"startChildIndex",0)),this.setRTL(As(T,"rtl",!1)),this.addChildrenMap("items",this.sizerChildren)}setOrientation(t){return this.orientation=pu(t),this}setItemSpacing(t){return this.space.item=t,this}setStartChildIndex(t){return this.startChildIndex=t,this}setRTL(t){return t===void 0&&(t=!0),this.rtl=t,this}get childrenProportion(){return this._childrenProportion===void 0&&(this._childrenProportion=got.call(this)),this._childrenProportion}}Object.assign(Je.prototype,uI);var l0=function(e,t,r){if(e){var h=t==null,y=r==null;return h&&y||(h||(e.displayWidth=t),y||(e.displayHeight=r),h&&(e.scaleX=e.scaleY),y&&(e.scaleY=e.scaleX)),e}},mot=function(e){e===void 0?e={}:typeof e=="string"&&(e={text:e});var t=e.text||"";this.setText(t);var r=this.childrenMap.icon;if(r){e.icon?this.show(r):this.hide(r);var h=e.iconSize;h&&(this.setChildDisplaySize(r,h,h),this.iconWidth!==void 0&&this.setIconSize(h)),e.icon!==!0&&this.setIconTexture(e.icon,e.iconFrame)}var y=this.childrenMap.action;if(y){e.action?this.show(y):this.hide(y);var P=e.actionSize;P&&(this.setChildDisplaySize(y,P,P),this.actionWidth!==void 0&&this.setActionSize(P)),e.action!==!0&&this.setActionTexture(e.action,e.actionFrame)}return this},xot={appendText:eB,resetDisplayContent:mot};class AM extends Je{get text(){var t=this.childrenMap.text;return t?t.text:""}set text(t){var r=this.childrenMap.text;r&&r.setText(t)}setText(t){return this.text=t,this}setIconTexture(t,r){var h=this.childrenMap.icon;return!h||!h.setTexture?this:(h.setTexture(t,r),this.iconWidth!==void 0&&this.iconHeight!==void 0&&(l0(h,this.iconWidth,this.iconHeight),this.resetChildScaleState(h)),this)}setTexture(t,r){return this.setIconTexture(t,r),this}setIconSize(t,r){return r===void 0&&(r=t),this.iconWidth=t,this.iconHeight=r,this}get texture(){var t=this.childrenMap.icon;if(t)return t.texture}get frame(){var t=this.childrenMap.icon;if(t)return t.frame}setActionTexture(t,r){var h=this.childrenMap.action;return!h||!h.setTexture?this:(h.setTexture(t,r),this.actionWidth!==void 0&&this.actionHeight!==void 0&&(l0(h,this.actionWidth,this.actionHeight),this.resetChildScaleState(h)),this)}get actionTexture(){var t=this.childrenMap.action;if(t)return t.texture}get actionFrame(){var t=this.childrenMap.action;if(t)return t.frame}setActionSize(t,r){return r===void 0&&(r=t),this.actionWidth=t,this.actionHeight=r,this}preLayout(){var t=this.childrenMap.icon;t&&this.iconWidth!==void 0&&this.iconHeight!==void 0&&l0(t,this.iconWidth,this.iconHeight);var r=this.childrenMap.action;r&&this.actionWidth!==void 0&&this.actionHeight!==void 0&&l0(r,this.actionWidth,this.actionHeight),super.preLayout()}postLayout(t,r,h){var y=this.childrenMap.iconMask;y&&(y.setPosition(),this.resetChildPositionState(y));var P=this.childrenMap.actionMask;return P&&(P.setPosition(),this.resetChildPositionState(P)),super.postLayout(t,r,h),this}resize(t,r){super.resize(t,r);var h=this.childrenMap.iconMask;h&&h.resize();var y=this.childrenMap.actionMask;return y&&y.resize(),this}}Object.assign(AM.prototype,xot);var ma=function(e,t,r,h){var y=new Z0(t,r,h);if(e&&!e.isRexSizer){var P=y.createGeometryMask();e.setMask(P),this.once("destroy",function(){e.setMask(),P.destroy()})}return this.pin(y),y};const yot=Phaser.GameObjects.Text;var OM=function(e){return e instanceof yot};const Cot=Phaser.GameObjects.BitmapText;var fI=function(e){return e instanceof Cot};const vn=0,pn=1,ds=2;var jh=function(e){var t;return fI(e)?t=ds:OM(e)?t=vn:t=pn,t},Sot=function(e,t){for(var r=[],h=e.split(`
`),y=t.style,P=y.wordWrapWidth,n=y.hasOwnProperty("wrapMode")?y.wrapMode:3,T=t.context,i=0,a=h.length;i<a;i++)Eot(T,h[i],P,n,r);return r},Tot=function(e,t){var r;if(t===2)r=e.split("");else{r=[];for(var h=e.split(" "),y,P=0,n=h.length;P<n;P++)y=h[P],P<n-1?bv(y)?r.push(y+" "):(r.push(...y.split("")),r.push(" ")):y!==""&&(bv(y)?r.push(y):r.push(...y.split("")))}return r},Eot=function(e,t,r,h,y){if(t.length<=100){var P=e.measureText(t).width;if(P<=r)return y.push(t),y}for(var n=Tot(t,h),T,i,a=[],x=r,d=0,l=n.length;d<l;d++)T=n[d],i=e.measureText(T).width,x-=i,x<0&&(y.push(a.join("")),a.length=0,x=r-i),a.push(T);return a.length>0&&y.push(a.join("")),y},lP=function(e,t){var r=jh(e);switch(r){case vn:switch(typeof t=="string"&&(t=z0[t]||0),e.style.wrapMode=t,t){case 2:case 3:e.style.wordWrapCallback=Sot;break;case 1:default:e.style.wordWrapCallback=null;break}break;case pn:typeof t=="string"&&(t=z0[t]||0),e.style.wrapMode=t;break}},Pot=function(e){var t=function(r){var h=e.padding,y=r-(h.left+h.right)*e.scaleX,P=e.style;return OM(e)?(P.wordWrapWidth=y,P.maxLines=0):(P.wrapMode===0&&(P.wrapMode=1),P.wrapWidth=y,P.maxLines=0),P.fixedWidth=r,P.fixedHeight=0,e.updateText(),e.minHeight=e.height,e};return t},Mot=function(e){var t=function(r){return e.setFixedSize(r,0).runWordWrap(),e.minHeight=e.height,e};return t},bot=function(e){var t=function(r){return e.setMaxWidth(r),e.minHeight=e.height,e};return t},wot=function(e){return e instanceof nd},J0=function(e,t){return t===void 0&&(t=0),e._minWidth=t,e.runWidthWrap=wot(e)?Mot(e):fI(e)?bot(e):Pot(e),e};const hE=65535;var Q0=function(e,t,r){if(t==null)return e;if(t===0)return lE(e,0,r),e;var h=e.text.length;if(h===0)return lE(e,t,r),e;var y=Math.floor(t*1.5/h);r!==void 0&&y>r&&(y=Math.floor(r));for(var P={},n=sD(e,y,t,r,P),T=0;T<=hE&&n!==0;T++){if(y+=n,y<0){y=0;break}n=sD(e,y,t,r,P)}return T===hE&&console.warn(`FontSizeFit: Test count exceeds ${hE}`),e.setFontSize(y),lE(e,t,r),e},nD=function(e,t,r){return r[t]===void 0&&(e.setFontSize(t),r[t]={width:e.width,height:e.height}),r[t]},sD=function(e,t,r,h,y){var P=nD(e,t,y),n=nD(e,t+1,y),T;if(h!==void 0)if(P.height<=h&&n.height>h)T=0;else{if(P.height>h)return-1;T=Math.floor(h-P.height)}var i;if(P.width<=r&&n.width>r)return 0;if(P.width>r)return-1;var i=Math.floor(r-P.width);return T===void 0?i:Math.min(i,T)},lE=function(e,t,r){var h=e.style;h&&(h.fixedWidth=t,h.parent.width=t,r!==void 0&&(h.fixedHeight=r,h.parent.height=r),h.update(!1))};const uE=Phaser.Utils.Objects.GetValue;var j0=function(e,t){typeof t=="number"&&(t={minWidth:t});var r=uE(t,"minWidth",0),h=uE(t,"minHeight",0),y=uE(t,"fitHeight",!1);return e._minWidth=r,e._minHeight=h,y?(e.runWidthWrap=function(P){return e.setFixedSize&&e.setFixedSize(0,0),e.setFontSize(1),e},e.resize=function(P,n){return Q0(e,P,n),e}):(e.runWidthWrap=function(P){return e.setFixedSize&&e.setFixedSize(0,0),Q0(e,P,void 0),e},e.resize=function(P,n){return e.width===P&&e.height===n||e.setFixedSize(P,n),e}),e};const li=Phaser.Utils.Objects.GetValue;class Ho extends AM{constructor(t,r){r===void 0&&(r={}),super(t,r),this.type="rexLabel";var h=li(r,"background",void 0),y=li(r,"icon",void 0),P=li(r,"iconMask",void 0),n=li(r,"text",void 0),T=li(r,"action",void 0),i=li(r,"actionMask",void 0),a=li(r,"align",void 0);if(h&&this.addBackground(h),y){var x;this.orientation===0?(n||T)&&(x={right:li(r,"space.icon",0),top:li(r,"space.iconTop",0),bottom:li(r,"space.iconBottom",0),left:li(r,"space.iconLeft",0)}):(n||T)&&(x={bottom:li(r,"space.icon",0),left:li(r,"space.iconLeft",0),right:li(r,"space.iconRight",0),top:li(r,"space.iconTop",0)});var d=li(r,"squareFitIcon",!1)?1:0;if(this.add(y,{proportion:0,padding:x,fitRatio:d}),P&&(P=ma.call(this,y,y,1)),!d){var l=li(r,"iconSize",void 0);this.setIconSize(li(r,"iconWidth",l),li(r,"iconHeight",l))}}if(n){var o=li(r,"wrapText",!1),s=li(r,"adjustTextFontSize",!1);o?(o===!0&&(o="word"),lP(n,o),r.expandTextWidth=!0,J0(n)):s&&(r.expandTextWidth=!0,r.expandTextHeight=!0,j0(n,{fitHeight:!0}));var f=li(r,"space.text",0),c=li(r,"expandTextWidth",!1),u=li(r,"expandTextHeight",!1),v,x,p;this.orientation===0?(v=c?1:0,T&&(x={right:f}),p=u):(v=u?1:0,T&&(x={bottom:f}),p=c),this.add(n,{proportion:v,expand:p,padding:x})}if(T){var x;this.orientation===0?x={top:li(r,"space.actionTop",0),bottom:li(r,"space.actionBottom",0),right:li(r,"space.actionRight",0)}:x={left:li(r,"space.actionLeft",0),right:li(r,"space.actionRight",0),bottom:li(r,"space.actionBottom",0)};var d=li(r,"squareFitAction",!1)?1:0;if(this.add(T,{proportion:0,padding:x,fitRatio:d}),i&&(i=ma.call(this,T,T,1)),!d){var m=li(r,"actionSize");this.setActionSize(li(r,"actionWidth",m),li(r,"actionHeight",m))}}this.setChildrenAlignMode(a),this.addChildrenMap("background",h),this.addChildrenMap("icon",y),this.addChildrenMap("iconMask",P),this.addChildrenMap("text",n),this.addChildrenMap("action",T),this.addChildrenMap("actionMask",i)}}const Gh=Phaser.Utils.Objects.GetValue;var Rot=function(e,t){var r=Gh(t,"canvas"),h=Gh(r,"width",128),y=Gh(r,"height",128),P=new vu(e,0,0,h,y);e.add.existing(P);var n=Gh(r,"key"),T=Gh(r,"frame"),i=Gh(r,"fill");return i!==void 0?P.fill(i):n!==void 0&&P.loadTexture(n,T),P.setTexture=P.loadTexture.bind(P),P},Aot=function(e,t){var r=new Lx(e,{scaleUp:Gh(t,"scaleUpIcon",!1),background:Gh(t,"iconBackground"),image:Rot(e,t)});return e.add.existing(r),r};const Oot=Phaser.Utils.Objects.GetValue;var dI=function(e,t){var r=Oot(t,"clickTarget",this);return typeof r=="string"&&(r=e.getElement(r)),r};const Lot=Phaser.Utils.Objects.GetValue;var Fot=function(e,t){var r=dI(e,t);if(r){var h=Lot(t,"click"),y=new Wo(r,h);return y.on("click",e.open,e),y}};const cI={accept:"image/*",multiple:!1};var vI=function(e,t){if(t.length!==0){var r=e.childrenMap.icon,h=r.image,y=t[0];return h.loadFromFilePromise(y).then(function(){return r.scaleImage(),e.emit("select",y,e),Promise.resolve(y)})}},Dot=function(e,t){var r=e.scene,h=new ip(r,cI);return r.add.existing(h),e.pin(h),h.on("change",function(){vI(e,h.files)}),h};const Bot={async openPromise(){var e=this;return rI(this.scene.game,cI).then(function(t){return vI(e,t.files)})},open(){return this.openPromise(),this},setClickOpenEnable(e){return e===void 0&&(e=!0),this.clickBehavior&&this.clickBehavior.setEnable(e),this.fileChooser&&this.fileChooser.setOpenEnable(e),this}};var Iot=function(e){if(!e)return null;var t=e.name;return t.substr(0,t.lastIndexOf("."))},Got=function(e){var t=this.childrenMap.canvas;return t.generateTexture(e),this},pI={getFileName:Iot,saveTexture:Got};Object.assign(pI,Bot);const kot=Phaser.Utils.Objects.GetValue;class LM extends Ho{constructor(t,r){var h=Aot(t,r);r.icon=h,super(t,r),this.type="rexImageFileInputLabel";var y=this.iconWidth,P=this.iconWidth;y!==void 0&&P!==void 0&&h.resize(y,P),this.clickTarget=dI(this,r),this.clickTarget&&(kot(r,"domButton",!0)?this.fileChooser=Dot(this):this.clickBehavior=Fot(this,r)),this.addChildrenMap("canvas",h.image),this.addChildrenMap("iconBackground",h.background),this.addChildrenMap("fileChooser",this.fileChooser)}postLayout(t,r,h){this.fileChooser&&(this.fileChooser.syncTo(this.clickTarget),this.resetChildState(this.fileChooser)),super.postLayout(t,r,h)}}Object.assign(LM.prototype,pI);It.register("imageInputLabel",function(e){var t=new LM(this.scene,e);return this.scene.add.existing(t),t});Lt(window,"RexPlugins.UI.ImageInputLabel",LM);let Not=class extends Hi{constructor(t,r){return super(t),new Proxy(this,this)}get(t,r){if(vi(t,r))return t[r];var h=t.parent;if(vi(h,r))return h[r]}set(t,r,h){return vi(t,r)?t[r]=h:vi(t.parent,r)&&(t.parent[r]=h),!0}get key(){return this.parent.texture.key}set key(t){this.parent.setTexture(t,this.frame)}get frame(){return this.parent.frame.name}set frame(t){this.parent.setFrame(t)}get scale(){return this.parent.scaleX}set scale(t){this.parent.setScale(t)}};const fE=Phaser.Utils.Objects.GetValue;class zot extends Hi{constructor(t,r){super(t,r),this.style=fE(r,"style",this);var h=fE(r,"propertiesMap");this.activeStyle=dE(r,"active",h),this.hoverStyle=dE(r,"hover",h),this.disableStyle=dE(r,"disable",h),this.onModifyStyle=fE(r,"onModifyStyle")}getStyle(t){return fx(this.style,t)}modifyStyle(t){for(var r in t)this.style[r]=t[r];return this.onModifyStyle&&this.onModifyStyle(this.parent,t),this}applyStyle(t){if(t){var r=this.getStyle(t);if(!Xv(r,t))return this.modifyStyle(t),r}}setActiveState(t){return cE.call(this,"active",t),this}setHoverState(t){return cE.call(this,"hover",t),this}setDisableState(t){return cE.call(this,"disable",t),this}}var dE=function(e,t,r){var h=D0(e,t);if(r)for(var y in h)r.hasOwnProperty(y)&&(h[r[y]]=h[y],delete h[y]);return h},cE=function(e,t){t===void 0&&(t=!0);var r=`${e}State`,h=`${e}Style`,y=`${e}StyleSave`;this[r]!==t&&(this[r]=t,t?this[y]=this.applyStyle(this[h]):(this.applyStyle(this[y]),this[y]=void 0))};const xu={addStyleManager(e){return this.styleManager=new zot(this,e),this},setActiveState(e){return this.styleManager.setActiveState(e),this},setHoverState(e){return this.styleManager.setHoverState(e),this},setDisableState(e){return this.styleManager.setDisableState(e),this}},Uot=Phaser.GameObjects.Image,fv=Phaser.Utils.Objects.GetValue;class rp extends Uot{constructor(t,r){r===void 0&&(r={});var h=fv(r,"x",0),y=fv(r,"y",0),P=fv(r,"key",""),n=fv(r,"frame",void 0);super(t,h,y,P,n),this.type="rexStatesImage";var T=fv(r,"effects",!0);T&&sd(this,T),this.style=new Not(this,r),r.style=this.style,this.addStyleManager(r),delete r.style}}Object.assign(rp.prototype,xu);It.register("statesImage",function(e){var t=new rp(this.scene,e);return this.scene.add.existing(t),t});Lt(window,"RexPlugins.UI.StatesImage",rp);class np extends fu{constructor(t,r){r===void 0&&(r={}),super(t,r),this.type="rexStatesRoundRectangleShape",r.style=this,r.propertiesMap=Vot,this.addStyleManager(r),delete r.style,delete r.propertiesMap}}const Vot={color:"fillColor",alpha:"fillAlpha",strokeWidth:"lineWidth"};Object.assign(np.prototype,xu);It.register("statesRoundRectangle",function(e){var t=new np(this.scene,e);return this.scene.add.existing(t),t});Lt(window,"RexPlugins.UI.StatesRoundRectangle",np);let Wot=class extends Hi{constructor(t,r){return super(t),new Proxy(this,this)}get(t,r){if(vi(t,r))return t[r];var h=t.parent;if(vi(h,r))return h[r]}set(t,r,h){return vi(t,r)?t[r]=h:vi(t.parent,r)&&(t.parent[r]=h),!0}get key(){return this.parent.texture.key}set key(t){this.key!==t&&this.parent.setTexture(t,this.frame)}get frame(){return this.parent.frame.name}set frame(t){this.frame!==t&&this.parent.setFrame(t)}};const Yot=Phaser.GameObjects.NineSlice,ha=Phaser.Utils.Objects.GetValue;class sp extends Yot{constructor(t,r){r===void 0&&(r={});var h=ha(r,"x",0),y=ha(r,"y",0),P=ha(r,"key",null),n=ha(r,"frame",null),T=ha(r,"width",0),i=ha(r,"height",0),a=ha(r,"leftWidth",0),x=ha(r,"rightWidth",0),d=ha(r,"topHeight",0),l=ha(r,"bottomHeight",0);super(t,h,y,P,n,T,i,a,x,d,l),this.type="rexStatesNineSlice";var o=ha(r,"effects",!0);o&&sd(this,o),this.style=new Wot(this,r),r.style=this.style,this.addStyleManager(r),delete r.style}}Object.assign(sp.prototype,xu);It.register("statesNineSlice",function(e){var t=new sp(this.scene,e);return this.scene.add.existing(t),t});Lt(window,"RexPlugins.UI.StatesNineSlice",sp);let Xot=class extends Hi{constructor(t,r){return super(t),new Proxy(this,this)}get(t,r){if(vi(t,r))return t[r];var h=t.parent;if(vi(h,r))return h[r]}set(t,r,h){return vi(t,r)?t[r]=h:vi(t.parent,r)&&(t.parent[r]=h),!0}get key(){return this.parent.textureKey}set key(t){this.key!==t&&this.parent.setBaseTexture(t,this.baseFrameName)}get frame(){return this.parent.baseFrameName}set frame(t){this.frame!==t&&this.parent.setBaseTexture(this.parent.textureKey,t)}};const Hot=Phaser.Utils.Objects.GetValue;class ap extends ex{constructor(t,r){r===void 0&&(r={}),super(t,r),this.type="rexStatesNinePatch";var h=Hot(r,"effects",!0);h&&sd(this,h),this.style=new Xot(this,r),r.style=this.style,this.addStyleManager(r),delete r.style}}Object.assign(ap.prototype,xu);It.register("statesNinePatch",function(e){var t=new ap(this.scene,e);return this.scene.add.existing(t),t});Lt(window,"RexPlugins.UI.StatesNinePatch",ap);const $ot=Phaser.GameObjects.Text,vE=Phaser.Utils.Objects.GetValue;class Dx extends $ot{constructor(t,r){r===void 0&&(r={});var h=vE(r,"x",0),y=vE(r,"y",0),P=vE(r,"text","");super(t,h,y,P,r),this.type="rexStatesText",r.style=this.style,r.onModifyStyle=function(n,T){var i=T.hasOwnProperty("fontStyle")||T.hasOwnProperty("fontSize")||T.hasOwnProperty("fontFamily");n.style.update(i)},this.addStyleManager(r),delete r.style}}Object.assign(Dx.prototype,xu);It.register("statesText",function(e){var t=new Dx(this.scene,e);return this.scene.add.existing(t),t});Lt(window,"RexPlugins.UI.StatesText",Dx);class Kot extends Hi{constructor(t,r){return super(t),new Proxy(this,this)}get(t,r){if(vi(t,r))return t[r];var h=t.parent;if(vi(h,r))return h[r]}set(t,r,h){return vi(t,r)?t[r]=h:vi(t.parent,r)&&(t.parent[r]=h),!0}get key(){return this.parent.texture.key}set key(t){this.parent.setTexture(t,this.frame)}get fontSize(){return this.parent.fontSize}set fontSize(t){this.parent.setFontSize(t)}get tint(){return this.parent.tintTopLeft}set tint(t){this.parent.setTint(t)}get letterSpacing(){return this.parent.letterSpacing}set letterSpacing(t){this.parent.setLetterSpacing(t)}get lineSpacing(){return this.parent.lineSpacing}set lineSpacing(t){this.parent.setLineSpacing(t)}}const Zot=Phaser.GameObjects.BitmapText,$l=Phaser.Utils.Objects.GetValue;class Bx extends Zot{constructor(t,r){r===void 0&&(r={});var h=$l(r,"x",0),y=$l(r,"y",0),P=$l(r,"font",""),n=$l(r,"fontSize",!1),T=$l(r,"align",0),i=$l(r,"tint");super(t,h,y,P,"",n,T),this.type="rexStatesBitmapText",i!==void 0&&this.setTint(i);var a=$l(r,"effects",!0);a&&sd(this,a),this.style=new Kot(this,r),r.style=this.style,this.addStyleManager(r),delete r.style}}Object.assign(Bx.prototype,xu);It.register("statesBitmapText",function(e){var t=new Bx(this.scene,e);return this.scene.add.existing(t),t});Lt(window,"RexPlugins.UI.StatesBitmapText",Bx);class Ix extends vx{constructor(t,r){r===void 0&&(r={}),r.hasOwnProperty("value")||(r.value=0),r.hasOwnProperty("hover.bar")||(r["hover.bar"]=!0),r.hasOwnProperty("easeDuration")||(r.easeDuration=200),r.hasOwnProperty("ease")||(r.ease="Quad"),Lt(r,"easeValue.duration",r.easeDuration),Lt(r,"easeValue.ease",r.ease),super(t,r),this.type="rexStatesBarRectangleShape",this.barState=!1,r.style=this,r.propertiesMap=Jot,this.addStyleManager(r),delete r.style,delete r.propertiesMap}get bar(){return this.barState}set bar(t){t=!!t,this.barState!==t&&(this.barState=t,this.easeValueTo(this.barState?1:0))}}const Jot={color:"trackColor",strokeColor:"trackStrokeColor",strokeWidth:"trackStrokeThickness"};Object.assign(Ix.prototype,xu);It.register("statesBarRectangle",function(e){var t=new Ix(this.scene,e);return this.scene.add.existing(t),t});Lt(window,"RexPlugins.UI.StatesBarRectangle",Ix);var Qot=function(e){if(!window.Chart){var t=`Can not find chartjs! Load chartjs in preload stage.
scene.load.script('chartjs', 'https://cdnjs.cloudflare.com/ajax/libs/Chart.js/3.8.0/Chart.min.js');`;return console.error(t),this}return this.chart&&this.chart.destroy(),this.chart=new Chart(this.context,jot(this,e)),this},jot=function(e,t){t===void 0&&(t={}),t.options===void 0&&(t.options={});var r=t.options;r.responsive=!1,r.maintainAspectRatio=!1,r.hasOwnProperty("devicePixelRatio")||(r.devicePixelRatio=1);var h=!1;r.animation===void 0?r.animation={}:r.animation===!1&&(h=!0,r.animation={});var y=r.animation;h&&(y.duration=0);var P=y.onProgress;y.onProgress=function(T){P&&P(T),e.needRedraw()};var n=y.onComplete;return y.onComplete=function(T){n&&n(T),e.needRedraw()},t},qot=function(e){if(this.chart!==void 0)if(typeof e=="string"){for(var t=this.chart.data.datasets,r,h=0,y=t.length;h<y;h++)if(r=t[h],r.label===e)return r}else return this.chart.data.datasets[e]},_ot=function(e,t){var r=this.getChartDataset(e);if(r!==void 0){if(typeof t=="string"){var h=this.chart.data.labels;if(t=h.indexOf(t),t===-1)return}return r.data[t]}},tht=function(e,t,r){if(this.chart===void 0)return this;var h=this.getChartDataset(e);if(typeof t=="string"){var y=this.chart.data.labels;if(t=y.indexOf(t),t===-1)return this}return h.data[t]=r,this},eht=function(){return this.chart===void 0?this:(this.chart.update(),this)};let FM=class extends vu{constructor(t,r,h,y,P,n){super(t,r,h,y,P),this.type="rexChart",this.chart=void 0,n!==void 0&&this.setChart(n)}destroy(t){this.scene&&(this.chart&&(this.chart.destroy(),this.chart=void 0),super.destroy(t))}resize(t,r){if(t===this.width&&r===this.height)return this;if(super.resize(t,r),this.chart){var h=this.chart;h.height=this.canvas.height,h.width=this.canvas.width,h.aspectRatio=h.height?h.width/h.height:null,h.update()}return this}};var iht={setChart:Qot,getChartDataset:qot,getChartData:_ot,setChartData:tht,updateChart:eht};Object.assign(FM.prototype,iht);It.register("chart",function(e,t,r,h,y){var P=new FM(this.scene,e,t,r,h,y);return this.scene.add.existing(P),P});Lt(window,"RexPlugins.UI.Chart",FM);It.register("container",function(e,t,r,h,y){var P=new vs(this.scene,e,t,r,h,y);return this.scene.add.existing(P),P});Lt(window,"RexPlugins.UI.Container",vs);It.register("sizer",function(e,t,r,h,y,P){var n=new Je(this.scene,e,t,r,h,y,P);return this.scene.add.existing(n),n});Lt(window,"RexPlugins.UI.Sizer",Je);var gI=function(){return Array.prototype.reduce.call(arguments,rht,0)},rht=function(e,t){return e+t},nht=function(e){if(this.rexSizer.hidden)return 0;e===void 0&&(e=!0);var t=0,r,h=this.sizerChildren,y,P,n,T,i=!1;this.totalColumnProportions;for(var a=0;a<this.columnCount;a++){if(T=this.columnProportions[a],r=0,T===0||e){for(var x=0;x<this.rowCount;x++)y=h[x*this.columnCount+a],y&&(y.rexSizer.hidden||(n=this.getChildWidth(y),n===void 0&&(T!==0&&!this.hasColumnProportion0Child?n=0:i=!0),!i&&(P=y.rexSizer.padding,n+=(P.left+P.right)*this.scaleX,r=Math.max(r,n))));i||(t+=r)}i||e&&(this.columnWidth[a]=r)}if(!i){var d=Math.max(this.space.indentLeftOdd,this.space.indentLeftEven),l=gI(this.space.left,d,...this.space.column,this.space.right);return t+l*this.scaleX}},sht=function(e){if(this.rexSizer.hidden)return 0;e===void 0&&(e=!0);var t=0,r,h=this.sizerChildren,y,P,n,T,i=!1;this.totalRowProportions;for(var a=0;a<this.rowCount;a++){if(T=this.rowProportions[a],r=0,T===0||e){for(var x=0;x<this.columnCount;x++)y=h[a*this.columnCount+x],y&&(y.rexSizer.hidden||(n=this.getChildHeight(y),n===void 0&&(T!==0&&!this.hasRowProportion0Child?n=0:i=!0),!i&&(P=y.rexSizer.padding,n+=(P.top+P.bottom)*this.scaleY,r=Math.max(r,n))));i||(t+=r)}i||e&&(this.rowHeight[a]=r)}if(!i){var d=Math.max(this.space.indentTopOdd,this.space.indentTopEven),l=gI(this.space.top,d,...this.space.row,this.space.bottom);return t+l*this.scaleY}},aht=function(e,t){var r,h=e.rexSizer;if(h.expandWidth){var y=h.padding;r=t-(y.left+y.right)*this.scaleX}return r},oht=function(e,t){var r,h=e.rexSizer;if(h.expandHeight){var y=h.padding;r=t-(y.top+y.bottom)*this.scaleY}return r},hht=function(e){e===void 0&&(e=[]);for(var t=this.sizerChildren,r,h=0,y=t.length;h<y;h++)r=t[h],r&&r.isRexSizer&&e.push(r);return e},lht=function(){return this._totalColumnProportions=void 0,this._totalRowProportions=void 0,this.hasColumnProportion0Child=!1,this.hasRowProportion0Child=!1,this.proportionWidthLength=void 0,this.proportionHeightLength=void 0,qv.call(this),this},uht=function(){for(var e,t,r,h=this.innerLeft,y=this.innerTop,P,n=y,T,i,a,x,d,l,o,s,f,c,u,v,p=0;p<this.rowCount;p++){c=this.getRowHeight(p),u=p%2?this.space.indentLeftEven:this.space.indentLeftOdd,P=h+u*this.scaleX;for(var m=0;m<this.columnCount;m++){if(f=this.getColumnWidth(m),e=this.getChildAt(m,p),!e||e.rexSizer.hidden){P+=f+this.space.column[m]*this.scaleX;continue}_v.call(this,e),o=this.getExpandedChildWidth(e,f),s=this.getExpandedChildHeight(e,c),e.isRexSizer?(e.runLayout(this,o,s),SM(e,this)):cn(e,o,s),t=e.rexSizer,r=t.padding,T=P+r.left*this.scaleX,a=f-(r.left+r.right)*this.scaleX,v=m%2?this.space.indentTopEven:this.space.indentTopOdd,i=n+v*this.scaleY+r.top*this.scaleY,x=c-(r.top+r.bottom)*this.scaleY,o===void 0&&(o=pi(e)),s===void 0&&(s=gi(e)),d=(t.alignOffsetX+t.alignOffsetOriginX*o)*this.scaleX,l=(t.alignOffsetY+t.alignOffsetOriginY*s)*this.scaleY,tp.call(this,e,T,i,a,x,t.align,d,l),P+=f+this.space.column[m]*this.scaleX}n+=c+this.space.row[p]*this.scaleY}},fht=function(t){var t=rM.call(this,t);if(t!==void 0&&this.proportionWidthLength===void 0){var r=this.totalColumnProportions;if(r>0){var h=t-this.getChildrenWidth(!1);h>=0&&(this.proportionWidthLength=h/r)}else this.proportionWidthLength=0}return t},dht=function(t){var t=aM.call(this,t);if(t!==void 0&&this.proportionHeightLength===void 0){var r=this.totalRowProportions;if(r>0){var h=t-this.getChildrenHeight(!1);h>=0&&(this.proportionHeightLength=h/r)}else this.proportionHeightLength=0}return t},cht=function(e){var t,r,h,y;for(var P in this.sizerChildren)t=this.sizerChildren[P],t&&t.isRexSizer&&!t.ignoreLayout&&(y=this.getColumnWidth(parseInt(P)%this.columnCount),r=this.getExpandedChildWidth(t,y),h=t.resolveWidth(r),h===void 0&&(h=r),t.resolveChildrenWidth(h))},vht=function(e){var t,r,h,y;for(var P in this.sizerChildren)t=this.sizerChildren[P],t&&t.isRexSizer&&!t.ignoreLayout&&(y=this.getRowHeight(Math.floor(parseInt(P)/this.rowCount)),r=this.getExpandedChildHeight(t,y),h=t.resolveHeight(r),h===void 0&&(h=r),t.resolveChildrenHeight(h))},pht=function(e){var t,r,h,y;for(var P in this.sizerChildren)t=this.sizerChildren[P],!(!t||t.isRexSizer&&t.ignoreLayout||!t.runWidthWrap)&&(y=this.getColumnWidth(parseInt(P)%this.columnCount),r=this.getExpandedChildWidth(t,y),t.isRexSizer&&(h=t.resolveWidth(r),h===void 0&&(h=r)),t.runWidthWrap(h));return this},ght=function(e){var t,r,h,y;for(var P in this.sizerChildren)t=this.sizerChildren[P],!(!t||t.isRexSizer&&t.ignoreLayout||!t.runHeightWrap)&&(y=this.getRowHeight(Math.floor(parseInt(P)/this.rowCount)),r=this.getExpandedChildHeight(t,y),t.isRexSizer&&(h=t.resolveHeight(r),h===void 0&&(h=r)),t.runHeightWrap(h));return this};const aD=Phaser.Utils.Objects.IsPlainObject,Os=Phaser.Utils.Objects.GetValue,oD=Phaser.Display.Align.CENTER;var hD=function(e,t,r,h,y){if(typeof e=="number"||typeof t=="number")if(e===void 0){for(var P,n=0;n<h;n++)if(P=t*h+n,!r[P])return P}else if(t===void 0){for(var P,n=0;n<y;n++)if(P=n*h+e,!r[P])return P}else{var P=t*h+e;if(!r[P])return P}else if(t===!0){for(var P,n=0;n<h;n++)for(var T=0;T<y;T++)if(P=T*h+n,!r[P])return P}else for(var n=0,i=r.length;n<i;n++)if(!r[n])return n;return null},mht=function(e,t,r,h,y,P,n){var T,i,a,x;if(Qv.call(this,e),aD(t)){var l=t;t=Os(l,"column",void 0),r=Os(l,"row",void 0),h=Os(l,"align",oD),y=Os(l,"padding",0),P=Os(l,"expand",!1),n=Os(l,"key",void 0),T=Os(l,"offsetX",0),i=Os(l,"offsetY",0),a=Os(l,"offsetOriginX",0),x=Os(l,"offsetOriginY",0)}var d=hD(t,r,this.sizerChildren,this.columnCount,this.rowCount);if(d===null){if(typeof t=="number"&&typeof r=="number")return this;r===!0||typeof r=="number"?this.addEmptyColumn():this.addEmptyRow(),d=hD(t,r,this.sizerChildren,this.columnCount,this.rowCount)}typeof h=="string"&&(h=ld[h]),h===void 0&&(h=oD),y===void 0&&(y=0),P===void 0&&(P=!0),T===void 0&&(T=0),i===void 0&&(i=0),a===void 0&&(a=0),x===void 0&&(x=0);var l=this.getSizerConfig(e);return l.align=h,l.padding=gu(y),aD(P)?(l.expandWidth=Os(P,"width",!1),l.expandHeight=Os(P,"height",!1)):(l.expandWidth=P,l.expandHeight=P),l.alignOffsetX=T,l.alignOffsetY=i,l.alignOffsetOriginX=a,l.alignOffsetOriginY=x,this.sizerChildren[d]=e,n!==void 0&&this.addChildrenMap(n,e),this};const xht={add:mht};var _f=function(e,t,r,h){r===void 0&&(r=0),h===void 0&&(h=e.length-1);for(var y=r;y<=h;y++)e[y]=t;return e};const yht={remove(e,t){if(this.getParentSizer(e)!==this)return this;var r=this.sizerChildren.indexOf(e);return r!==-1&&(this.sizerChildren[r]=null),jv.call(this,e,t),this},removeAt(e,t,r){var h=this.getChildAt(e,t);return h&&this.remove(h,r),this},removeAll(e){for(var t=this.sizerChildren.length-1;t>=0;t--){var r=this.sizerChildren[t];r&&this.remove(r,e)}return this},clear(e){return _f(this.sizerChildren,null),wx.call(this,e),this}},Cht={setColumnSpace(e){if(this.space.column||(this.space.column=[]),this.space.column.length=this.columnCount-1,typeof e=="number")this.space.column0=e,_f(this.space.column,e);else{this.space.column0=e[0];for(var t=0,r=this.columnCount-1;t<r;t++)this.space.column[t]=e[t]||0}return this},setRowSpace(e){if(this.space.row||(this.space.row=[]),this.space.row.length=this.rowCount-1,typeof e=="number")this.space.row0=e,_f(this.space.row,e);else{this.space.row0=e[t];for(var t=0,r=this.rowCount-1;t<r;t++)this.space.row[t]=e[t]||0}return this},setIndentLeft(e,t){return this.space.indentLeftOdd=e,this.space.indentLeftEven=t,this},setIndentTop(e,t){return this.space.indentTopOdd=e,this.space.indentTopEven=t,this}},lD=Phaser.Utils.Objects.GetValue;var Sht=function(e,t,r,h,y){if(e===void 0&&(e=0),t===void 0&&(t=0),r===void 0&&(r=0),h===void 0&&(h=0),this.columnCount=e,this.rowCount=t,this.gridCount=e*t,this.removeAll(),this.sizerChildren.length=e*t,_f(this.sizerChildren,null),this.columnProportions=[],this.columnProportions.length=e,typeof r=="number")_f(this.columnProportions,r);else for(var P=0;P<e;P++)this.columnProportions[P]=r[P]||0;if(this.rowProportions=[],this.rowProportions.length=t,typeof h=="number")_f(this.rowProportions,h);else for(var P=0;P<t;P++)this.rowProportions[P]=h[P]||0;this.columnWidth=[],this.columnWidth.length=e,this.rowHeight=[],this.rowHeight.length=t,this.setColumnSpace(lD(y,"column",0)),this.setRowSpace(lD(y,"row",0));var n=this.scene,T=this.createCellContainerCallback;if(T)for(var i=0,a=this.rowCount;i<a;i++)for(var x=0,d=this.columnCount;x<d;x++){var l={column:x,row:i},o=T(n,x,i,l);o&&this.add(o,l)}return this},mI=function(e,t,r){t===void 0&&(t=this.rowProportions[0]||0),r===void 0&&(r=this.space.row0||0),this.rowCount+=1,this.gridCount+=this.columnCount;for(var h=[e*this.columnCount,0],y=0;y<this.columnCount;y++)h.push(null);return this.sizerChildren.splice.apply(this.sizerChildren,h),this.rowProportions.push(t),this.rowHeight.length+=1,this.space.row.splice(e,0,r),this},Tht=function(e,t){return mI.call(this,this.rowCount,e,t),this},xI=function(e,t,r){t===void 0&&(t=this.columnProportions[0]||0),r===void 0&&(r=this.space.column0||0),this.columnCount+=1,this.gridCount+=this.rowCount;for(var h=this.rowCount-1;h>=0;h--){var y=h*this.columnCount+e;this.sizerChildren.splice(y,0,null)}return this.columnProportions.push(t),this.columnWidth.length+=1,this.space.column.splice(e,0,r),this},Eht=function(e,t){return xI.call(this,this.columnCount,e,t),this},yI={getChildrenWidth:nht,getChildrenHeight:sht,getExpandedChildWidth:aht,getExpandedChildHeight:oht,getChildrenSizers:hht,preLayout:lht,layoutChildren:uht,resolveWidth:fht,resolveHeight:dht,resolveChildrenWidth:cht,resolveChildrenHeight:vht,runWidthWrap:pht,runHeightWrap:ght,resetGrid:Sht,insertEmptyRow:mI,addEmptyRow:Tht,insertEmptyColumn:xI,addEmptyColumn:Eht};Object.assign(yI,xht,yht,Cht,RM);var Pht=function(){for(var e=0,t,r=0;r<this.columnCount;r++)t=this.columnProportions[r],t>0?e+=t:t===0&&(this.hasColumnProportion0Child=!0);return e},Mht=function(){for(var e=0,t,r=0;r<this.rowCount;r++)t=this.rowProportions[r],t>0?e+=t:t===0&&(this.hasRowProportion0Child=!0);return e};const u0=Phaser.Utils.Objects.IsPlainObject,zi=Phaser.Utils.Objects.GetValue;class xa extends mu{constructor(t,r,h,y,P,n,T,i,a,x){u0(r)?(x=r,r=zi(x,"x",0),h=zi(x,"y",0),y=zi(x,"width",void 0),P=zi(x,"height",void 0),n=zi(x,"column",x.col||0),T=zi(x,"row",0),i=zi(x,"columnProportions",0),a=zi(x,"rowProportions",0)):u0(y)?(x=y,y=zi(x,"width",void 0),P=zi(x,"height",void 0),n=zi(x,"column",x.col||0),T=zi(x,"row",0),i=zi(x,"columnProportions",0),a=zi(x,"rowProportions",0)):u0(n)?(x=n,n=zi(x,"column",x.col||0),T=zi(x,"row",0),i=zi(x,"columnProportions",0),a=zi(x,"rowProportions",0)):u0(i)&&(x=i,i=zi(x,"columnProportions",0),a=zi(x,"rowProportions",0)),super(t,r,h,y,P,x),this.type="rexGridSizer",this.sizerChildren=[],this.addChildrenMap("items",this.sizerChildren),this.setCreateCellContainerCallback(zi(x,"createCellContainerCallback")),this.setIndentLeft(zi(x,"space.indentLeftOdd",0),zi(x,"space.indentLeftEven",0)),this.setIndentTop(zi(x,"space.indentTopOdd",0),zi(x,"space.indentTopEven",0)),this.resetGrid(n,T,i,a,zi(x,"space",void 0))}destroy(t){!this.scene||this.ignoreDestroy||(super.destroy(t),this.columnProportions=void 0,this.rowProportions=void 0,this.columnWidth=void 0,this.rowHeight=void 0,this.createCellContainerCallback=void 0)}setColumnProportion(t,r){return t>=this.columnProportions.length?this:(this.columnProportions[t]=r,this)}setRowProportion(t,r){return t>=this.rowProportions.length?this:(this.rowProportions[t]=r,this)}get totalColumnProportions(){return this._totalColumnProportions===void 0&&(this._totalColumnProportions=Pht.call(this)),this._totalColumnProportions}get totalRowProportions(){return this._totalRowProportions===void 0&&(this._totalRowProportions=Mht.call(this)),this._totalRowProportions}getChildAt(t,r){return this.sizerChildren[r*this.columnCount+t]}childToGridIndex(t,r){if(!t)return null;var h=this.sizerChildren.indexOf(t);return h===-1?null:(r===void 0&&(r={}),r.x=h%this.columnCount,r.y=Math.floor(h/this.columnCount),r)}getColumnWidth(t){var r=this.columnProportions[t],h=r===0?this.columnWidth[t]:r*this.proportionWidthLength;return h}getRowHeight(t){var r=this.rowProportions[t],h=r===0?this.rowHeight[t]:r*this.proportionHeightLength;return h}setCreateCellContainerCallback(t){return this.createCellContainerCallback=t,this}}Object.assign(xa.prototype,yI);It.register("gridSizer",function(e,t,r,h,y,P,n,T,i){var a=new xa(this.scene,e,t,r,h,y,P,n,T,i);return this.scene.add.existing(a),a});Lt(window,"RexPlugins.UI.GridSizer",xa);var bht=function(e){if(this.rexSizer.hidden)return 0;e===void 0&&(e=!0);var t;if(this.orientation===0?e?t=this.maxChildWidth:t=this.rexSizer.resolved?this.wrapResult.width:void 0:t=this.rexSizer.resolved?this.wrapResult.width:void 0,t!==void 0)return t+(this.space.left+this.space.right)*this.scaleX},wht=function(e){if(this.rexSizer.hidden)return 0;e===void 0&&(e=!0);var t;if(this.orientation===1?e?t=this.maxChildHeight:t=this.rexSizer.resolved?this.wrapResult.height:void 0:t=this.rexSizer.resolved?this.wrapResult.height:void 0,t!==void 0)return t+(this.space.top+this.space.bottom)*this.scaleY},Rht=function(e){e===void 0&&(e=[]);for(var t=this.sizerChildren,r,h=0,y=t.length;h<y;h++)r=t[h],r!==`
`&&r.isRexSizer&&e.push(r);return e},Aht=function(){return this._maxChildWidth=void 0,this._maxChildHeight=void 0,this.wrapResult=void 0,this.rexSizer.resolved=!1,qv.call(this),this},Oht=function(){for(var e=this.orientation===0,t=e?this.innerWidth:this.innerHeight,r,h,y,P=0,n,T,i=this.innerLeft,a=this.innerTop,x,d,l,o,s,f,c=this.wrapResult.lines,u,v,p,m=i,g=a,C=0,M=c.length;C<M;C++){switch(u=c[C],v=u.children,this.rtl&&v.reverse(),e?(n=C%2?this.space.indentLeftEven:this.space.indentLeftOdd,m=i+n*this.scaleX):(T=C%2?this.space.indentTopEven:this.space.indentTopOdd,g=a+T*this.scaleY),p=t-(e?u.width:u.height),this.align){case 0:break;case 1:e?m+=p:g+=p;break;case 2:e?m+=p/2:g+=p/2;break;case 3:P=pE(t,p,this.justifyPercentage,v.length);break;case 4:P=pE(t,p,this.justifyPercentage,v.length),P===0&&(e?m+=p:g+=p);break;case 5:P=pE(t,p,this.justifyPercentage,v.length),P===0&&(e?m+=p/2:g+=p/2);break}for(var b=!0,w=0,R=v.length;w<R;w++)r=v[w],!r.rexSizer.hidden&&(h=r.rexSizer,y=h.padding,_v.call(this,r),e?x=m+y.left*this.scaleX:d=g+y.top*this.scaleY,b?b=!1:e?x+=this.space.item*this.scaleX:d+=this.space.item*this.scaleY,l=pi(r),o=gi(r),e?(T=w%2?this.space.indentTopEven:this.space.indentTopOdd,d=g+T*this.scaleY+y.top*this.scaleY,m=x+l+y.right*this.scaleX+P):(n=w%2?this.space.indentLeftEven:this.space.indentLeftOdd,x=m+n*this.scaleX+y.left*this.scaleX,g=d+o+y.top*this.scaleY+P),s=(h.alignOffsetX+h.alignOffsetOriginX*l)*this.scaleX,f=(h.alignOffsetY+h.alignOffsetOriginY*o)*this.scaleY,tp.call(this,r,x,d,l,o,h.align,s,f));e?g+=u.height+this.space.line*this.scaleY:m+=u.width+this.space.line*this.scaleX}},pE=function(e,t,r,h){return t/e<=r?t/(h-1):0},Lht=function(){return this.orientation===0?!0:nM.call(this)},CI=function(e){var t={lines:[],width:0,height:0},r=this.sizerChildren,h,y,P,n,T=0,i,a,x=t.lines,d=void 0,l;if(this.orientation===0){for(var o=0,s=r.length;o<s;o++){if(h=r[o],h===`
`)h=void 0,P=0,l=!0;else{if(h.rexSizer.hidden)continue;h.isRexSizer&&h.runLayout(this),P=this.getChildWidth(h),y=h.rexSizer.padding,P+=(y.left+y.right)*this.scaleX,l=T<P||d===void 0}l&&(d&&(d.width=e-(T+this.space.item*this.scaleX),t.width=Math.max(t.width,d.width),t.height+=d.height+this.space.line*this.scaleY),d={children:[],width:0,height:0},x.push(d),i=x.length%2?this.space.indentLeftOdd:this.space.indentLeftEven,T=e-i*this.scaleX),T-=P+this.space.item*this.scaleX,h&&(d.children.push(h),n=this.getChildHeight(h),y=h.rexSizer.padding,n+=(y.top+y.bottom)*this.scaleY,d.height=Math.max(d.height,n))}d&&(d.width=e-(T+this.space.item*this.scaleX),t.width=Math.max(t.width,d.width),t.height+=d.height),t.height+=Math.max(this.space.indentTopOdd,this.space.indentTopEven)*this.scaleY}else{for(var f=e,o=0,s=r.length;o<s;o++){if(h=r[o],h===`
`)h=void 0,P=0,l=!0;else{if(h.rexSizer.hidden)continue;h.isRexSizer&&h.layout(),n=this.getChildHeight(h),y=h.rexSizer.padding,n+=(y.top+y.bottom)*this.scaleY,l=T<n||d===void 0}l&&(d&&(d.height=f-(T+this.space.item*this.scaleY),t.height=Math.max(t.height,d.height),t.width+=d.width+this.space.line*this.scaleX),d={children:[],width:0,height:0},x.push(d),a=x.length%2?this.space.indentTopOdd:this.space.indentTopEven,T=f-a*this.scaleY),T-=n+this.space.item*this.scaleY,h&&(d.children.push(h),P=this.getChildWidth(h),y=h.rexSizer.padding,P+=(y.left+y.right)*this.scaleX,d.width=Math.max(d.width,P))}d&&(d.height=f-(T+this.space.item*this.scaleY),t.height=Math.max(t.height,d.height),t.width+=d.width),t.width+=Math.max(this.space.indentLeftOdd,this.space.indentLeftEven)*this.scaleX}return t},Fht=function(e){if(!this.wrapResult&&this.orientation===0){var t=e-(this.space.left+this.space.right)*this.scaleX;this.wrapResult=CI.call(this,t),this.rexSizer.resolved=!0,sM.call(this,e)}},Dht=function(){return this.orientation===1?!0:oM.call(this)},Bht=function(e){if(!this.wrapResult&&this.orientation===1){var t=e-(this.space.top+this.space.bottom)*this.scaleY;this.wrapResult=CI.call(this,t),this.rexSizer.resolved=!0,hM.call(this,e)}},Iht=function(e,t){},Ght=function(e,t){};const uD=Phaser.Math.Distance.Between;var kht=function(e,t){var r=this.sizerChildren;if(r.length===0)return-1;for(var h=-1,y=1/0,P=0,n=r.length;P<n;P++){var T=r[P];if(!(Math.abs(T.centerY-t)>T.height/2)){var a=uD(T.left,T.centerY,e,t);y>a&&(y=a,h=P);var i=r[P+1];if(!(i&&i.y===T.y)){var a=uD(T.right,T.centerY,e,t);y>a&&(y=a,h=P+1)}}}return h};const Nht=Phaser.Utils.Objects.IsPlainObject,Kl=Phaser.Utils.Objects.GetValue,zht=Phaser.Display.Align.CENTER;var gE=function(e,t,r,h){if(e===`
`)return this.addNewLine(),this;var y,P,n,T;if(Qv.call(this,e),Nht(t)){var i=t;t=Kl(i,"padding",0),r=Kl(i,"key",void 0),h=Kl(i,"index",void 0),y=Kl(i,"offsetX",0),P=Kl(i,"offsetY",0),n=Kl(i,"offsetOriginX",0),T=Kl(i,"offsetOriginY",0)}t===void 0&&(t=0),y===void 0&&(y=0),P===void 0&&(P=0),n===void 0&&(n=0),T===void 0&&(T=0);var i=this.getSizerConfig(e);return i.align=zht,i.padding=gu(t),i.alignOffsetX=y,i.alignOffsetY=P,i.alignOffsetOriginX=n,i.alignOffsetOriginY=T,h===void 0||h>=this.sizerChildren.length?this.sizerChildren.push(e):this.sizerChildren.splice(h,0,e),r!==void 0&&this.addChildrenMap(r,e),this};const Uht={add(e,t,r){if(ga(e))for(var h=e,y=0,P=h.length;y<P;y++)gE.call(this,h[y],t);else gE.call(this,e,t,r);return this},addNewLine(){return this.sizerChildren.push(`
`),this},insert(e,t,r,h){return gE.call(this,t,r,h,e),this},insertAtPosition(e,t,r,h,y){var P=kht.call(this,e,t);return P===-1&&(P=void 0),this.insert(P,r,h,y),this}},Vht=Phaser.Utils.Array.Remove,Wht={remove(e,t){return this.getParentSizer(e)!==this?this:(Vht(this.sizerChildren,e),jv.call(this,e,t),this)},removeAll(e){for(var t=this.sizerChildren.length-1;t>=0;t--)this.remove(this.sizerChildren[t],e);return this},clear(e){return this.sizerChildren.length=0,wx.call(this,e),this}};var SI={getChildrenWidth:bht,getChildrenHeight:wht,getChildrenSizers:Rht,preLayout:Aht,layoutChildren:Oht,hasWidthWrap:Lht,runWidthWrap:Fht,hasHeightWrap:Dht,runHeightWrap:Bht,getExpandedChildWidth:Iht,getExpandedChildHeight:Ght};Object.assign(SI,Uht,Wht,RM);var Yht=function(e){e===void 0&&(e=this.sizerChildren);for(var t=0,r,h,y=!1,P=0,n=e.length;P<n;P++)r=e[P],r!==`
`&&(h=this.getChildWidth(r),h===void 0&&(y=!0),!y&&(t=Math.max(h,t)));if(!y)return t},Xht=function(e){e===void 0&&(e=this.sizerChildren);for(var t=0,r,h,y=!1,P=0,n=e.length;P<n;P++)r=e[P],r!==`
`&&(h=this.getChildHeight(r),h===void 0&&(y=!0),!y&&(t=Math.max(h,t)));if(!y)return t};const fD=Phaser.Utils.Objects.IsPlainObject,fn=Phaser.Utils.Objects.GetValue;class qh extends mu{constructor(t,r,h,y,P,n){fD(r)?(n=r,r=fn(n,"x",0),h=fn(n,"y",0),y=fn(n,"width",void 0),P=fn(n,"height",void 0)):fD(y)&&(n=y,y=fn(n,"width",void 0),P=fn(n,"height",void 0)),super(t,r,h,y,P,n),this.type="rexFixWidthSizer",this.sizerChildren=[],this.runChildrenWrapFlag=!0,this.setOrientation(fn(n,"orientation",0)),this.setItemSpacing(fn(n,"space.item",0)),this.setLineSpacing(fn(n,"space.line",0)),this.setIntentLeft(fn(n,"space.indentLeftOdd",0),fn(n,"space.indentLeftEven",0)),this.setIntentTop(fn(n,"space.indentTopOdd",0),fn(n,"space.indentTopEven",0)),this.setAlign(fn(n,"align",0)),this.setJustifyPercentage(fn(n,"justifyPercentage",.25)),this.setRTL(fn(n,"rtl",!1)),this.wrapResult=void 0,this.addChildrenMap("items",this.sizerChildren)}setOrientation(t){return this.orientation=pu(t),this}setItemSpacing(t){return this.space.item=t,this}setLineSpacing(t){return this.space.line=t,this}setIntentLeft(t,r){return this.space.indentLeftOdd=t,this.space.indentLeftEven=r,this}setIntentTop(t,r){return this.space.indentTopOdd=t,this.space.indentTopEven=r,this}setAlign(t){return typeof t=="string"&&(t=Hht[t]),this.align=t,this}setJustifyPercentage(t){return this.justifyPercentage=t,this}setRTL(t){return t===void 0&&(t=!0),this.rtl=t,this}get maxChildWidth(){return this._maxChildWidth===void 0&&(this._maxChildWidth=Yht.call(this)),this._maxChildWidth}get maxChildHeight(){return this._maxChildHeight===void 0&&(this._maxChildHeight=Xht.call(this)),this._maxChildHeight}}const Hht={left:0,top:0,right:1,bottom:1,center:2,justify:3,"justify-left":3,"justify-top":3,"justify-right":4,"justify-bottom":4,"justify-center":5};Object.assign(qh.prototype,SI);It.register("fixWidthSizer",function(e,t,r,h,y){var P=new qh(this.scene,e,t,r,h,y);return this.scene.add.existing(P),P});Lt(window,"RexPlugins.UI.FixWidthSizer",qh);It.register("overlapSizer",function(e,t,r,h,y){var P=new Ns(this.scene,e,t,r,h,y);return this.scene.add.existing(P),P});Lt(window,"RexPlugins.UI.OverlapSizer",Ns);It.register("space",function(){var e=new wM(this.scene);return e});Lt(window,"RexPlugins.UI.Space",wM);It.register("label",function(e){var t=new Ho(this.scene,e);return this.scene.add.existing(t),t});Lt(window,"RexPlugins.UI.Label",Ho);const dD=["alpha","tint","flipX","flipY"];var DM=function(e,t){if(!t)return e;for(var r=0,h=dD.length;r<h;r++){var y=dD[r];y in t&&y in e&&(e[y]=t[y])}if("origin"in t&&"originX"in e)e.setOrigin(t.origin);else{var P,n;"originX"in t&&"originX"in e&&(P=t.originX),"originY"in t&&"originY"in e&&(n=t.originY),P!==void 0&&n!==void 0&&e.setOrigin(P,n)}return e},Rr=function(e,t){var r;t&&(t.hasOwnProperty("$type")?r=t.$type:t.hasOwnProperty("barColor")?r="bar":t.hasOwnProperty("leftWidth")?r="nineSlice":t.hasOwnProperty("key")&&(r="image"));var h;switch(r){case"bar":h=new Ix(e,t);break;case"image":h=new rp(e,t);break;case"nineSlice":t.hasOwnProperty("stretchMode")?h=new ap(e,t):h=new sp(e,t);break;default:h=new np(e,t);break}return DM(h,t),e.add.existing(h),h},$ht=function(){switch(this.scrollMode){case 0:case 1:mE.call(this),this.updateController(),xE.call(this),yE.call(this);break;default:mE.call(this,"y"),mE.call(this,"x"),this.updateController(),xE.call(this,"y"),xE.call(this,"x"),yE.call(this,"y"),yE.call(this,"x");break}return this},mE=function(e){var t,r,h,y;switch(this.scrollMode){case 0:case 1:t=this.topChildOY,r=this.bottomChildOY,h=this.childrenMap.scroller,y=this.childrenMap.slider,e=this.scrollMode===0?"Y":"X";break;default:e=e.toUpperCase(),e==="Y"?(t=this.topChildOY,r=this.bottomChildOY):(t=this.leftChildOX,r=this.rightChildOX),h=this.childrenMap[`scroller${e}`],y=this.childrenMap[`slider${e}`]}var P=e==="Y"?this.scaleY:this.scaleX;r*=P,h&&h.setBounds(t,r),y&&(y.setEnable(t!==r),y.tickLength&&y.setTick(y.tickLength,t,r))},xE=function(e){switch(this.scrollMode){case 0:case 1:var r=this.childrenMap.slider;r&&this.hideUnscrollableSlider&&this.setChildVisible(r,this.isOverflow);var y=this.childrenMap.scroller;y&&this.disableUnscrollableDrag&&y.setEnable(this.isOverflow);break;default:e=e.toUpperCase();var t=this[`isOverflow${e}`],r=this.childrenMap[`slider${e}`],h=this[`hideUnscrollableSlider${e}`];r&&h&&this.setChildVisible(r,t);var y=this.childrenMap.scroller,P=this[`disableUnscrollableDrag${e}`];y&&P&&y.setEnable(t);break}},yE=function(e){switch(this.scrollMode){case 0:case 1:if(!this.adaptThumbSizeMode)return;var P=this.childrenMap.slider;if(!P)return;var t=Math.min(this.childVisibleHeight/this.childHeight,1),n=P.childrenMap.track,T=P.childrenMap.thumb,i=this.minThumbSize;if(this.scrollMode===0){var r=n.displayHeight*t;i!==void 0&&r<i&&(r=i),cn(T,void 0,r)}else{var h=n.displayWidth*t;i!==void 0&&h<i&&(h=i),cn(T,h,void 0)}cD(P);break;default:e=e.toUpperCase();var y=this[`adaptThumb${e}SizeMode`];if(!y)return;var P=this.childrenMap[`slider${e}`];if(!P)return;var n=P.childrenMap.track,T=P.childrenMap.thumb,i=this[`minThumb${e}Size`];if(e==="Y"){var t=Math.min(this.childVisibleHeight/this.childHeight,1),r=n.displayHeight*t;i!==void 0&&r<i&&(r=i),cn(T,void 0,r)}else{var t=Math.min(this.childVisibleWidth/this.childWidth,1),h=n.displayWidth*t;i!==void 0&&h<i&&(h=i),cn(T,h,void 0)}cD(P);break}},cD=function(e){var t=e.minWidth,r=e.minHeight;e.minWidth=e.width,e.minHeight=e.height,e.layout(),e.minWidth=t,e.minHeight=r},Kht=function(){switch(this.scrollMode){case 0:case 1:var e=this.childrenMap.scroller,t=this.childrenMap.slider;e&&e.setValue(this.childOY),t&&t.setValue(this.t);break;default:var r=this.childrenMap.scrollerY,h=this.childrenMap.sliderY,y=this.childrenMap.scrollerX,P=this.childrenMap.sliderX;r&&r.setValue(this.childOY),h&&h.setValue(this.t),y&&y.setValue(this.childOX),P&&P.setValue(this.s);break}};const f0=Phaser.Math.Clamp,Zht={setChildOY(e,t){return t===void 0&&(t=!1),t&&(e=f0(e,this.bottomChildOY,this.topChildOY)),this.childOY=e,this},addChildOY(e,t){return this.setChildOY(this.childOY+e,t),this},setT(e,t){return t===void 0&&(t=!1),t&&(e=f0(e,0,1)),this.t=e,this},addT(e,t){return this.setT(this.t+e,t),this},scrollToTop(){return this.t=0,this},scrollToBottom(){if(this.t=1,this.t===0)return this;do this.t=1;while(this.t!==1);return this},setChildOX(e,t){return t===void 0&&(t=!1),t&&(e=f0(e,this.leftChildOX,this.rightChildOX)),this.childOX=e,this},addChildOX(e,t){return this.setChildOX(this.childOX+e,t),this},setS(e,t){return t===void 0&&(t=!1),t&&(e=f0(e,0,1)),this.s=e,this},addS(e,t){return this.setS(this.s+e,t),this},scrollToLeft(){return this.s=0,this},scrollToRight(){if(this.s=1,this.s===0)return this;do this.s=1;while(this.s!==1);return this}};var TI={resizeController:$ht,updateController:Kht};Object.assign(TI,Zht);const EI={v:0,vertical:0,y:0,h:1,horizontal:1,x:1,xy:2,vh:2};var BM=function(e,t){t===void 0&&(t="scrollMode"),e.hasOwnProperty(t)||(e[t]=Jht(e));var r=e[t];return typeof r=="string"&&(r=EI[r]),r},Jht=function(e){var t=!!e.sliderY||!!e.scrollerY,r=!!e.sliderX||!!e.scrollerX,h;return t&&r?h=2:t?h=0:r?h=1:h=0,h};const Ir=Phaser.Utils.Objects.GetValue;var Qht=function(e,t,r){var h=Ir(r,"child"),y=Ir(h,"gameObject",void 0);if(y){var P=Ir(r,"space.child",0);e.childMargin={};var n=e.childMargin,T={};if(typeof P=="number")switch(e.scrollMode){case 0:case 1:n.top=0,n.bottom=0,n.left=0,n.right=0;break;default:n.top=P,n.bottom=P,n.left=P,n.right=P;break}else switch(e.scrollMode){case 0:n.top=Ir(P,"top",0),n.bottom=Ir(P,"bottom",0),T.left=Ir(P,"left",0),T.right=Ir(P,"right",0);break;case 1:n.top=Ir(P,"left",0),n.bottom=Ir(P,"right",0),T.top=Ir(P,"top",0),T.bottom=Ir(P,"bottom",0);break;default:n.top=Ir(P,"top",0),n.bottom=Ir(P,"bottom",0),n.left=Ir(P,"left",0),n.right=Ir(P,"right",0);break}t.add(y,{column:1,row:1,align:Ir(h,"align","center"),padding:T,expand:{width:Ir(h,"expandWidth",!0),height:Ir(h,"expandHeight",!0)}})}e.addChildrenMap("child",y)};const vD=Phaser.Math.Percent;var jht=function(e,t,r){var h;return e.y===t.y?h=vD(r.x,e.x,t.x):e.x===t.x&&(h=vD(r.y,e.y,t.y)),h},PI=function(e,t){CE.x=e,CE.y=t;var r,h;this.reverseAxis?(r=this.getEndPoint(),h=this.getStartPoint()):(r=this.getStartPoint(),h=this.getEndPoint());var y=jht(r,h,CE);return y},CE={},qht=function(e,t,r){!this.enable||!this.inputActive||(this.value=PI.call(this,t,r))},SE=function(e){if(!(!this.enable||!this.inputActive)&&e.isDown){var t=PI.call(this,e.worldX,e.worldY);this.stopEaseValue(),this.easeValueDuration===0||Math.abs(this.value-t)<.1?this.value=t:this.easeValueTo(t)}};const _ht=Phaser.Utils.Objects.GetValue;var tlt=function(e){this.inputActive=!1;var t=_ht(e,"input",0);typeof t=="string"&&(t=elt[t]);var r=this.childrenMap.thumb;switch(t){case 0:r&&(r.setInteractive(),this.scene.input.setDraggable(r),r.on("dragstart",function(y){this.inputActive=!0,this.eventEmitter.emit("inputstart",y)},this).on("dragend",function(y){this.inputActive=!1,this.eventEmitter.emit("inputend",y)},this).on("drag",qht,this));break;case 1:this.setInteractive().on("pointerdown",function(y){this.inputActive=!0,this.eventEmitter.emit("inputstart",y)},this).on("pointerdown",SE,this);var h=function(y){this.inputActive&&(this.inputActive=!1,this.eventEmitter.emit("inputend",y))};this.scene.input.on("pointerup",h,this).on("pointermove",SE,this),this.once("destroy",function(){this.scene.input.on("pointerup",h,this).off("pointermove",SE,this)},this);break}};const elt={pan:0,drag:0,click:1,none:-1};var MI=function(e,t){t===void 0&&(t=ilt);var r=this.childrenMap.thumb,h=r.x,y=r.y;return Jv(r,this.innerLeft,this.innerTop,this.innerWidth,this.innerHeight,e),t.x=r.x,t.y=r.y,r.x=h,r.y=y,t},ilt={};const rlt=Phaser.Display.Align.LEFT_CENTER,nlt=Phaser.Display.Align.TOP_CENTER;var slt=function(e){if(e===void 0&&(e=alt),this.childrenMap.thumb){var t=this.orientation===0?rlt:nlt;MI.call(this,t,e)}else this.orientation===0?(e.x=this.innerLeft+1,e.y=this.centerY):(e.x=this.centerX,e.y=this.innerTop+1);return e},alt={};const olt=Phaser.Display.Align.RIGHT_CENTER,hlt=Phaser.Display.Align.BOTTOM_CENTER;var llt=function(e){if(e===void 0&&(e=ult),this.childrenMap.thumb){var t=this.orientation===0?olt:hlt;MI.call(this,t,e)}else this.orientation===0?(e.x=this.innerRight-1,e.y=this.centerY):(e.x=this.centerX,e.y=this.innerBottom-1);return e},ult={};const pD=Phaser.Math.Linear;var flt=function(e,t,r,h){return h===void 0&&(h=dlt),h.x=pD(t.x,r.x,e),h.y=pD(t.y,r.y,e),h},dlt={},clt=function(e){var t=this.childrenMap.thumb;if(t===void 0)return this;e===void 0&&(e=this.value);var r,h;return this.reverseAxis?(r=this.getEndPoint(),h=this.getStartPoint()):(r=this.getStartPoint(),h=this.getEndPoint()),flt(e,r,h,t),t.x+=this.thumbOffsetX,t.y+=this.thumbOffsetY,this.resetChildPositionState(t),this};const vlt=Phaser.Display.Align.LEFT_CENTER,plt=Phaser.Display.Align.TOP_CENTER,glt=Phaser.Display.Align.RIGHT_CENTER,mlt=Phaser.Display.Align.BOTTOM_CENTER;var xlt=function(e){var t=this.childrenMap.indicator;if(t===void 0)return this;e===void 0&&(e=this.value);var r=this.reverseAxis,h,y,P=this.childrenMap.thumb;if(P)if(this.orientation===0){var n=pi(P);if(r){var T=P.x-n*P.originX;h=this.right-T}else{var T=P.x-n*P.originX,i=T+n;h=i-this.left}}else{var a=gi(P);if(r){var x=P.y-a*P.originY;y=this.bottom-x}else{var x=P.y-a*P.originY,d=x+a;y=d-this.top}}else this.orientation===0?h=this.width*e:y=this.height*e;cn(t,h,y);var l;r?l=this.orientation===0?glt:mlt:l=this.orientation===0?vlt:plt,M4(t,this,l),this.resetChildPositionState(t)};const hs=Phaser.Utils.Objects.GetValue,d0=Phaser.Utils.Objects.IsPlainObject,ylt=Phaser.Math.Clamp,Clt=Phaser.Math.Snap.To;class fd extends Qh(Je){constructor(t,r){super(t,r),this.type="rexSlider",this.bootProgressBase(r),this.reverseAxis=hs(r,"reverseAxis",!1);var h=hs(r,"background",void 0),y=hs(r,"track",void 0),P=hs(r,"indicator",void 0),n=hs(r,"thumb",void 0);if(h&&(d0(h)&&(h=Rr(t,h)),this.addBackground(h)),y&&(d0(y)&&(y=Rr(t,y)),this.add(y,{proportion:1,expand:!0,minWidth:this.orientation===0?0:void 0,minHeight:this.orientation===1?0:void 0})),P&&(d0(P)&&(P=Rr(t,P)),this.pin(P)),n){d0(n)&&(n=Rr(t,n)),this.pin(n);var T=hs(r,"thumbOffsetX",0),i=hs(r,"thumbOffsetY",0);this.setThumbOffset(T,i)}this.addChildrenMap("background",h),this.addChildrenMap("track",y),this.addChildrenMap("indicator",P),this.addChildrenMap("thumb",n),this.setEnable(hs(r,"enable",void 0));var a=hs(r,"tick",void 0);a===void 0&&(a=hs(r,"gap",void 0)),this.setGap(a),tlt.call(this,r),this.setValue(hs(r,"value",0),hs(r,"min",void 0),hs(r,"max",void 0))}setEnable(t){return t===void 0&&(t=!0),this.enable=t,this}setGap(t,r,h){return t&&r!==void 0&&(t=t/(h-r)),this.gap=t,this}setTick(t,r,h){return this.setGap(t,r,h),this}get tick(){return this.gap}set tick(t){this.gap=t}setThumbOffset(t,r){return this.thumbOffsetX=t,this.thumbOffsetY=r,this}get value(){return this._value}set value(t){this.gap!==void 0&&(t=Clt(t,this.gap));var r=this._value;this._value=ylt(t,0,1),r!==this._value&&(this.updateThumb(this._value),this.updateIndicator(this._value),this.eventEmitter.emit("valuechange",this._value,r,this.eventEmitter))}postLayout(t,r,h){return this.updateThumb(),this.updateIndicator(),super.postLayout(t,r,h),this}}var Slt={getStartPoint:slt,getEndPoint:llt,updateThumb:clt,updateIndicator:xlt};Object.assign(fd.prototype,Slt);const zn=Phaser.Utils.Objects.GetValue;class IM extends Je{constructor(t,r){super(t,r),this.type="rexScrollBar";var h=zn(r,"background",void 0),y=zn(r,"buttons",void 0),P=zn(y,"top",zn(y,"left",void 0)),n=zn(y,"bottom",zn(y,"right",void 0)),T,i=zn(r,"slider",void 0);if(h&&this.addBackground(h),P){this.add(P);var a=new rd(P);a.on("intouch",function(){if(this.enable){var c=T.reverseAxis?this.scrollStep:-this.scrollStep;this.value+=c}},this)}if(i){i.orientation=this.orientation,i.eventEmitter=this,i.value=null;var x;if(this.orientation===0){var d=zn(i,"width",void 0);x=d===void 0?1:0}else{var l=zn(i,"height",void 0);x=l===void 0?1:0}T=new fd(t,i),t.add.existing(T),this.add(T,{proportion:x})}if(n){this.add(n);var a=new rd(n);a.on("intouch",function(){if(this.enable){var u=T.reverseAxis?-this.scrollStep:this.scrollStep;this.value+=u}},this)}var o=[P,n];this.addChildrenMap("background",h),this.addChildrenMap("slider",T),this.addChildrenMap("buttons",o);var s=zn(r,"valuechangeCallback",null);if(s!==null){var f=zn(r,"valuechangeCallbackScope",void 0);this.on("valuechange",s,f)}this.setEnable(zn(r,"enable",void 0)),this.setValue(zn(r,"value",0)),this.setScrollStep(zn(y,"step",.01))}setScrollStep(t){return this.scrollStep=t,this}get enable(){return this.childrenMap.slider?this.childrenMap.slider.enable:!1}set enable(t){this.childrenMap.slider&&this.childrenMap.slider.setEnable(t)}setEnable(t){return t===void 0&&(t=!0),this.enable=t,this}get value(){return this.childrenMap.slider?this.childrenMap.slider.value:0}set value(t){this.childrenMap.slider&&(this.childrenMap.slider.value=t)}setValue(t,r,h){return this.childrenMap.slider&&this.childrenMap.slider.setValue(t,r,h),this}addValue(t,r,h){return this.childrenMap.slider&&this.childrenMap.slider.addValue(t,r,h),this}getValue(t,r){return this.childrenMap.slider?this.childrenMap.slider.getValue(t,r):0}easeValueTo(t,r,h){return this.childrenMap.slider&&this.childrenMap.slider.easeValueTo(t,r,h),this}stopEaseValue(){return this.childrenMap.slider&&this.childrenMap.slider.stopEaseValue(),this}setEaseValueDuration(t){return this.childrenMap.slider&&this.childrenMap.slider.setEaseValueDuration(t),this}setEaseValueFunction(t){return this.childrenMap.slider&&this.childrenMap.slider.setEaseValueFunction(t),this}setGap(t,r,h){return this.childrenMap.slider&&this.childrenMap.slider.setGap(t,r,h),this}get gap(){if(this.childrenMap.slider)return this.childrenMap.slider.gap}set gap(t){this.childrenMap.slider&&(this.childrenMap.slider.gap=t)}setTick(t,r,h){return this.setGap(t,r,h),this}get tick(){if(this.childrenMap.slider)return this.childrenMap.slider.tick}set tick(t){this.childrenMap.slider&&(this.childrenMap.slider.tick=t)}}var Tlt=function(e,t){t===void 0&&(t={});var r=va(t);t={slider:r},t.orientation=r.orientation,delete r.orientation,t.background=r.background,delete r.background,t.buttons=r.buttons,delete r.buttons,t.value=null;var h=new IM(e,t);e.add.existing(h);var y=h.childrenMap.slider;return h.addChildrenMap("track",y.childrenMap.track),h.addChildrenMap("indicator",y.childrenMap.indicator),h.addChildrenMap("thumb",y.childrenMap.thumb),h};const Elt=Phaser.Math.Snap.To;Phaser.Math.Clamp;var Plt=function(){this.emit("dragstart")},Mlt=function(){this.emit("dragend")},blt=function(){this.value+=this.dragDelta},wlt=function(){var e=this.value,t=this.dragSpeed,r=this.snapStep,h=!!r;if(h){var P=e,n=t===0?0:t*t/(2*this.slidingDeceleration);if(P+=t>0?n:-n,P=Elt(P,r,this.minValue),n=Math.abs(P-e),n>0){var y;t===0?(y=this.backDeceleration,t=Math.sqrt(2*y*n)):(y=t*t/(2*n),y*=.99),this._slowDown.init(e,void 0,t,y,P)}else this._slowDown.stop(),this._state.next()}else if(t===0)this._slowDown.stop(),this._state.next();else{var y=this.slidingDeceleration;this._slowDown.init(e,t>0,t,y)}},Rlt=function(e,t){t*=.001;var r=this._slowDown.update(t).value;this.overMax(r)?(this.value=this.maxValue,this._slowDown.stop()):this.overMin(r)?(this.value=this.minValue,this._slowDown.stop()):this.value=r},Alt=function(){var e=this.value,t=this.outOfMinBound?this.minValue:this.maxValue,r=Math.abs(t-e),h=this.backDeceleration,y=Math.sqrt(2*h*r);this._slowDown.init(e,void 0,y,h,t)},Olt=function(e,t){t*=.001,this.value=this._slowDown.update(t).value,this._slowDown.isMoving||this._state.next()},gD=function(){this._slowDown.stop()};class Llt extends Xo{constructor(t,r){super(r),this.parent=t,this.init()}init(){this.start("IDLE")}next_IDLE(){var t,r=this.parent,h=r.dragState;return h.isDown&&(t=r.dragThreshold===0?"DRAG":"DRAGBEGIN"),t}update_IDLE(t,r){this.next()}next_DRAGBEGIN(){var t,r=this.parent,h=r.dragState;return h.isDown?t=h.pointer.getDistance()>=r.dragThreshold?"DRAG":"DRAGBEGIN":t="IDLE",t}update_DRAGBEGIN(t,r){this.next()}next_DRAG(){var t,r=this.parent,h=r.dragState;return h.isUp&&(r.outOfBounds?t="BACK":r.slidingEnable?t="SLIDE":t="IDLE"),t}update_DRAG(t,r){var h=this.parent,y=h.dragState;y.justMoved&&blt.call(h),this.next()}enter_DRAG(){Plt.call(this.parent)}exit_DRAG(){Mlt.call(this.parent)}next_SLIDE(){var t,r=this.parent,h=r.dragState;return h.isDown?t="DRAG":r.isSliding||(t="IDLE"),t}enter_SLIDE(){wlt.call(this.parent)}exit_SLIDE(){gD.call(this.parent)}update_SLIDE(t,r){Rlt.call(this.parent,t,r),this.next()}next_BACK(){var t,r=this.parent,h=r.dragState;return h.isDown?t="DRAG":r.isPullBack||(t="IDLE"),t}enter_BACK(){Alt.call(this.parent)}exit_BACK(){gD.call(this.parent)}update_BACK(t,r){Olt.call(this.parent,t,r),this.next()}}const dv=Phaser.Utils.Objects.GetValue,Flt=Phaser.Math.Distance.Between;class Dlt extends Hi{constructor(t,r){super(t,r),this._enable=void 0,this.rectBoundsInteractive=dv(r,"rectBoundsInteractive",!1),this.rectBoundsInteractive||t.setInteractive(dv(r,"inputConfig",void 0)),this.resetFromJSON(r),this.boot()}resetFromJSON(t){return this.pointer=void 0,this.isInTouched=!1,this.holdStartTime=void 0,this.x=void 0,this.y=void 0,this.preX=void 0,this.preY=void 0,this.localX=void 0,this.localY=void 0,this.justMoved=!1,this.setEnable(dv(t,"enable",!0)),this.holdThreshold=dv(t,"holdThreshold",50),this.pointerOutReleaseEnable=dv(t,"pointerOutRelease",!0),this}boot(){var t=this.scene,r=this.parent;this.rectBoundsInteractive?(t.input.on("pointerdown",this.onPointIn,this),t.input.on("pointerup",this.onPointOut,this),t.input.on("pointermove",this.onPointerMove,this)):(r.on("pointerdown",this.onPointIn,this),r.on("pointerup",this.onPointOut,this),this.pointerOutReleaseEnable&&r.on("pointerout",this.onPointOut,this),r.on("pointermove",this.onPointerMove,this)),t.sys.events.on("preupdate",this.preupdate,this)}shutdown(t){if(!this.isShutdown){var r=this.scene;this.parent,this.rectBoundsInteractive&&(r.input.off("pointerdown",this.onPointIn,this),r.input.off("pointerup",this.onPointOut,this),r.input.off("pointermove",this.onPointerMove,this)),r.sys.events.off("preupdate",this.preupdate,this),this.pointer=void 0,super.shutdown(t)}}get enable(){return this._enable}set enable(t){this._enable!==t&&(t||(this.isInTouched=!1,this.pointer=void 0),this._enable=t)}setEnable(t){return t===void 0&&(t=!0),this.enable=t,this}toggleEnable(){return this.setEnable(!this.enable),this}setPointerOutReleaseEnable(t){return t===void 0&&(t=!0),this.pointerOutReleaseEnable=t,this}get isDown(){return this.pointer&&this.pointer.isDown}get isUp(){return!this.isDown}get dx(){return this.x-this.preX}get dy(){return this.y-this.preY}get dt(){var t=NP(this.scene);return t}get speed(){if(this.x===this.preX&&this.y===this.preY)return 0;var t=Flt(this.preX,this.preY,this.x,this.y),r=t/(this.dt*.001);return r}get speedX(){return this.dx/(this.dt*.001)}get speedY(){return this.dy/(this.dt*.001)}onPointIn(t,r,h){!this.enable||!t.isDown||this.pointer!==void 0||this.rectBoundsInteractive&&!Za(this.parent,t)||(this.pointer=t,this.localX=r,this.localY=h)}onPointOut(t){!this.enable||this.pointer!==t||(this.pointer=void 0)}onPointerMove(t,r,h){if(!(!this.enable||!t.isDown||this.pointer!==t)){if(this.rectBoundsInteractive&&this.pointerOutReleaseEnable&&!Za(this.parent,t)){this.onPointOut(t);return}this.localX=r,this.localY=h}}preupdate(t,r){if(this.enable){var h=this.pointer;this.justMoved=!1,h&&!this.isInTouched?(this.x=h.worldX,this.y=h.worldY,this.preX=h.worldX,this.preY=h.worldY,this.isInTouched=!0,this.holdStartTime=void 0,this.emit("touchstart",h,this.localX,this.localY)):h&&this.isInTouched?this.x===h.x&&this.y===h.y?this.holdStartTime===void 0?this.holdStartTime=t:t-this.holdStartTime>this.holdThreshold&&(this.preX=this.x,this.preY=this.y):(this.preX=this.x,this.preY=this.y,this.x=h.worldX,this.y=h.worldY,this.holdStartTime=void 0,this.justMoved=!0,this.emit("touchmove",h,this.localX,this.localY)):!h&&this.isInTouched&&(this.isInTouched=!1,this.holdStartTime=void 0,this.emit("touchend",h))}}}const TE=Phaser.Utils.Objects.GetValue;class Blt{constructor(t){this.resetFromJSON(t)}resetFromJSON(t){return this.setValue(TE(t,"value",0)),this.setSpeed(TE(t,"speed",0)),this.setAcceleration(TE(t,"acceleration",0)),this}reset(){this.setValue(0),this.setSpeed(0),this.setAcceleration(0)}setValue(t){return this.value=t,this}setSpeed(t){return this.speed=t,this}setAcceleration(t){return this.acceleration=t,this}updateSpeed(t){return this.acceleration!==0&&(this.speed+=this.acceleration*t,this.speed<0&&(this.speed=0)),this}getDeltaValue(t){return this.updateSpeed(t),this.speed<=0?0:this.speed*t}update(t){return this.updateSpeed(t),this.speed>0&&(this.value+=this.getDeltaValue(t)),this}get isMoving(){return this.speed>0}}class Ilt{constructor(){this.value,this.dir,this.movement=new Blt}init(t,r,h,y,P){return this.value=t,this.end=P,P!==void 0?this.dir=t<P:this.dir=r,h=Math.abs(h),this.movement.setSpeed(h).setAcceleration(-y),this}stop(){this.movement.reset()}update(t){var r=this.movement.getDeltaValue(t);return this.dir||(r=-r),this.end===void 0?this.value+=r:r===0?this.value=this.end:(this.value+=r,this.dir?this.value>this.end&&(this.value=this.end):this.value<this.end&&(this.value=this.end)),this}get isMoving(){return this.movement.isMoving}}const rr=Phaser.Utils.Objects.GetValue,Glt=Phaser.Math.Clamp;class klt extends Hi{constructor(t,r){super(t,r);var h=rr(r,"enable",!0);this._state=new Llt(this,{enable:h,eventEmitter:!1});var y={rectBoundsInteractive:rr(r,"rectBoundsInteractive",!1),inputConfig:rr(r,"inputConfig",void 0),enable:h,pointerOutRelease:rr(r,"pointerOutRelease",!0),eventEmitter:!1};this.dragState=new Dlt(t,y),this._enable=void 0,this._value=void 0,this._slowDown=new Ilt,this.setSnapStep(rr(r,"snapStep",void 0));var P=rr(r,"valuechangeCallback",null);if(P!==null){var n=rr(r,"valuechangeCallbackScope",void 0);this.on("valuechange",P,n)}if(P=rr(r,"overmaxCallback",null),P!==null){var n=rr(r,"overmaxCallbackScope",void 0);this.on("overmax",P,n)}if(P=rr(r,"overminCallback",null),P!==null){var n=rr(r,"overminCallbackScope",void 0);this.on("overmin",P,n)}this.resetFromJSON(r),this.boot()}resetFromJSON(t){this.setOrientationMode(rr(t,"orientation",0)),this.setDragThreshold(rr(t,"threshold",10)),this.setSlidingDeceleration(rr(t,"slidingDeceleration",5e3)),this.setBackDeceleration(rr(t,"backDeceleration",2e3));var r=rr(t,"dragRate",1);r=r*(rr(t,"dragReverse",!1)?-1:1),this.setDragRate(r);var h=rr(t,"bounds",void 0);return h?this.setBounds(h):this.setBounds(rr(t,"max",0),rr(t,"min",0)),this.setValue(rr(t,"value",this.maxValue||0)),this.setEnable(rr(t,"enable",!0)),this}boot(){this.scene.sys.events.on("preupdate",this._state.update,this._state)}shutdown(t){this.isShutdown||(this.scene.sys.events.off("preupdate",this._state.update,this._state),this._state.destroy(t),this.dragState.destroy(t),this._state=void 0,this.dragState=void 0,super.shutdown(t))}get enable(){return this._enable}set enable(t){if(this._enable!==t)return this._enable=t,this._state.setEnable(t),this.dragState.setEnable(t),this}setEnable(t){return t===void 0&&(t=!0),this.enable=t,this}toggleEnable(){return this.setEnable(!this.enable),this}setOrientationMode(t){return typeof t=="string"&&(t=Nlt[t]),this.orientationMode=t,this}setDragThreshold(t){return this.dragThreshold=t,this}setSlidingDeceleration(t){return this.slidingDeceleration=t,this}setBackDeceleration(t){return this.backDeceleration=t,this}setDragRate(t){return this.dragRate=t,this}setBounds(t,r){if(Array.isArray(t)){var h=t;t=h[0],r=h[1]}return t<r?(this.minValue=t,this.maxValue=r):(this.minValue=r,this.maxValue=t),this}setSnapStep(t){return this.snapStep=t,this}get value(){return this._value}set value(t){if(t!==this._value){var r=this._value,h=this.overMax(t),y=this.overMin(t);h&&this.emit("overmax",t,r),y&&this.emit("overmin",t,r),this.backEnable||(h&&(t=this.maxValue),y&&(t=this.minValue)),this._value=t,this.emit("valuechange",t,r)}}setValue(t,r){return r===void 0&&(r=!1),r&&(t=Glt(t,this.minValue,this.maxValue)),this.value=t,this}addValue(t,r){return this.setValue(this.value+t,r),this}get state(){return this._state.state}get isDragging(){return this.dragState.isInTouched}get outOfMaxBound(){return this.overMax(this.value)}get outOfMinBound(){return this.overMin(this.value)}get outOfBounds(){return this.outOfMinBound||this.outOfMaxBound}overMax(t){return this.maxValue!=null&&t>this.maxValue}overMin(t){return this.minValue!=null&&t<this.minValue}get backEnable(){return typeof this.backDeceleration=="number"}get isPullBack(){return this._slowDown.isMoving}get slidingEnable(){return typeof this.slidingDeceleration=="number"}get isSliding(){return this._slowDown.isMoving}get dragDelta(){var t;return this.orientationMode===0?t=this.dragState.dy:this.orientationMode===1?t=this.dragState.dx:t=0,t*=this.dragRate,t}get dragSpeed(){var t;return this.orientationMode===0?t=this.dragState.speedY:this.orientationMode===1?t=this.dragState.speedX:t=0,t*=this.dragRate,t}}const Nlt={y:0,v:0,vertical:0,x:1,h:1,horizontal:1},c0=Phaser.Utils.Objects.GetValue;class zlt extends Hi{constructor(t,r){switch(super(t,r),this.parent!==this.scene?this.focusMode=c0(r,"focus",!0):this.focusMode=!1,typeof this.focusMode=="boolean"&&(this.focusMode=this.focusMode?1:0),this.setSpeed(c0(r,"speed",.1)),this.setEnable(c0(r,"enable",!0)),this.focusMode){case 0:case 2:this.scene.input.on("wheel",this.onSceneScroll,this);break;default:t.setInteractive(c0(r,"inputConfig",void 0)).on("wheel",function(h,y,P,n,T){this.tryScroll(P)},this);break}}destroy(){switch(this.focusMode){case 0:case 2:this.scene.input.off("wheel",this.onSceneScroll,this);break}}onSceneScroll(t,r,h,y,P,n){this.focusMode===2&&!Za(this.parent,t)||this.tryScroll(y)}setEnable(t){return t===void 0&&(t=!0),this.enable=t,this}setSpeed(t){return this.speed=t,this}tryScroll(t){if(this.enable)return this.scroll(t),this}scroll(t){return t*=this.speed,this.emit("scroll",t,this.parent,this),this}}const Ji=Phaser.Utils.Objects.GetValue,Ult=Phaser.Math.Snap.To;var v0=function(e,t,r,h){r=r.toUpperCase();var y=r==="Y",P=e.scrollMode===2,n=e.childrenMap.child,T,i=`snapStep${r}`;if(P)T=Ji(h,i,void 0);else{var T=Ji(h,"snapStep",void 0);T===void 0&&(T=Ji(h,i,void 0))}e[i]=T;var a,x,d=`slider${r}`;if(P||h.hasOwnProperty(d)?a=Ji(h,d,void 0):a=Ji(h,"slider",void 0),a){a===!0&&(a={}),a.orientation=y?1:0,x=Tlt(e.scene,a);var l,o,s,f=Ji(a,"position",0);typeof f=="string"&&(f=Vlt[f]);var c=Ji(h,`space.slider${r}`,void 0),u;c===void 0&&(c=Ji(h,"space.slider",void 0),c===void 0&&(P?c=0:u=Ji(h,"space.child",0)));var v;u===void 0?v=typeof c=="number":v=typeof u=="number",y?f===0?(l=2,o=1,u===void 0?s=v?{left:c}:c:s={left:Ji(u,"right",u)}):(l=0,o=1,u===void 0?s=v?{right:c}:c:s={right:Ji(u,"left",u)}):f===0?(l=1,o=2,u===void 0?s=v?{top:c}:c:s={top:Ji(u,"bottom",u)}):(l=1,o=0,u===void 0?s=v?{bottom:c}:c:s={bottom:Ji(u,"top",u)}),t.add(x,{column:l,row:o,align:"center",padding:s,expand:!0}),e[`hideUnscrollableSlider${r}`]=Ji(a,"hideUnscrollableSlider",!1),e[`disableUnscrollableDrag${r}`]=Ji(a,"disableUnscrollableDrag",!1),e[`adaptThumb${r}SizeMode`]=Ji(a,"adaptThumbSize",!1),e[`minThumb${r}Size`]=Ji(a,"minThumbSize",void 0)}else e[`hideUnscrollableSlider${r}`]=!1,e[`disableUnscrollableDrag${r}`]=!1,e[`adaptThumb${r}SizeMode`]=!1,e[`minThumb${r}Size`]=void 0;var p=Ji(h,"scrollDetectionMode");typeof p=="string"&&(p=Wlt[p]);var m,g,C=`scroller${r}`;P||h.hasOwnProperty(C)?m=Ji(h,C,!0):m=Ji(h,"scroller",!0),m&&n&&(m===!0&&(m={}),m.orientation=y?0:1,p!==void 0&&(m.rectBoundsInteractive=p===1),m.snapStep=T,g=new klt(n,m),n.isRexContainerLite&&n.sendChildToBack(n));var M=Ji(h,P?`mouseWheelScroller${r}`:"mouseWheelScroller",!1),b;if(M&&n&&(p!==void 0&&(M.focus=p===1?2:0),b=new zlt(n,M)),e.addChildrenMap(`slider${r}`,x),e.addChildrenMap(`scroller${r}`,g),e.addChildrenMap(`mouseWheelScroller${r}`,b),(!P||y)&&(e.hideUnscrollableSlider=e[`hideUnscrollableSlider${r}`],e.disableUnscrollableDrag=e[`disableUnscrollableDrag${r}`],e.adaptThumbSizeMode=e[`adaptThumb${r}SizeMode`],e.minThumbSize=e[`minThumb${r}Size`],e.addChildrenMap("slider",x),e.addChildrenMap("scroller",g),e.addChildrenMap("mouseWheelScroller",b)),x){var w,R;P?(w=y?"t":"s",R=`scroll${r}`):(w="t",R="scroll"),x.on("valuechange",function(D){e[w]=D,e.emit(R,e)}).on("inputend",function(){var D=e[`snapStep${r}`];if(D){var G=e[y?"topChildOY":"leftChildOX"],B=e[y?"bottomChildOY":"rightChildOX"],I=e[`childO${r}`],k=Ult(I,D,G),z=500*(Math.abs(k-I)/D);x.setEaseValueDuration(z).easeValueTo(k,G,B)}})}if(g){var A,R;P?(A=`childO${r}`,R=`scroll${r}`):(A="childOY",R="scroll"),g.on("valuechange",function(G){e[A]=G,e.emit(R,e)})}if(b){var L;P?L=`addChildO${r}`:L="addChildOY",b.on("scroll",function(D){var G=e[i];G&&(D=G),e[L](-D,!0)})}};const Vlt={right:0,left:1,bottom:0,top:1},Wlt={gameObject:0,rectBounds:1},p0=Phaser.Utils.Objects.GetValue;var Ylt=function(e,t){var r=e.scene,h=[0,1,0],y=[0,1,0],P=p0(t,"width"),n=p0(t,"height");if(!P){var T=p0(t,"child.expandWidth",!0);T||(h[1]=0)}if(!n){var i=p0(t,"child.expandHeight",!0);i||(y[1]=0)}var a=new xa(r,{column:3,row:3,columnProportions:h,rowProportions:y});switch(Qht(e,a,t),e.scrollMode){case 0:v0(e,a,"y",t);break;case 1:v0(e,a,"x",t);break;default:v0(e,a,"y",t),v0(e,a,"x",t);break}return a};const Ua=Phaser.Utils.Objects.GetValue;let op=class extends Je{constructor(t,r){r===void 0&&(r={});var h=BM(r),y=h===1;r.orientation=y?0:1,super(t,r),this.type=Ua(r,"type","rexScrollable"),this.scrollMode=h;var P=Ua(r,"background",void 0);P&&this.addBackground(P);var n=Ua(r,"header",void 0);if(n){var T=Ua(r,"align.header","center"),i=Ua(r,"space.header",0),a;y?a={right:i}:a={bottom:i},this.add(n,{proportion:0,align:T,padding:a,expand:Ua(r,"expand.header",!0)})}var x=Ylt(this,r);x&&this.add(x,{proportion:1,align:"center",padding:0,expand:!0});var d=Ua(r,"footer",void 0);if(d){var T=Ua(r,"align.footer","center"),l=Ua(r,"space.footer",0),a;y?a={left:l}:a={top:l},this.add(d,{proportion:0,align:T,padding:a,expand:Ua(r,"expand.footer",!0)})}this.addChildrenMap("background",P),this.addChildrenMap("header",n),this.addChildrenMap("footer",d),this.runLayoutFlag=!1}postLayout(t,r,h){var y=0,P=0;return this.runLayoutFlag?(P=this.t,this.scrollMode===2&&(y=this.s)):this.runLayoutFlag=!0,this.resizeController(),this.setT(P),this.scrollMode===2&&this.setS(y),super.postLayout(t,r,h),this}set t(t){var r=this.childMargin;if(r.top!==0||r.bottom!==0){var h=this.childrenMap.child,y=h.topChildOY-h.bottomChildOY,P=y+r.top+r.bottom,n=P*t-r.top;t=y!==0?n/y:0}this.childrenMap.child.t=t,this.updateController()}get t(){var t=this.childrenMap.child.t,r=this.childMargin;if(r.top!==0||r.bottom!==0){var h=this.childrenMap.child,y=h.topChildOY-h.bottomChildOY,P=y+r.top+r.bottom,n=y*t+r.top;t=P!==0?n/P:0}return t}set s(t){var r=this.childMargin;if(r.left!==0||r.right!==0){var h=this.childrenMap.child,y=h.leftChildOX-h.rightChildOX,P=y+r.left+r.right,n=P*t-r.left;t=y!==0?n/y:0}this.childrenMap.child.s=t,this.updateController()}get s(){var t=this.childrenMap.child.s,r=this.childMargin;if(r.left!==0||r.right!==0){var h=this.childrenMap.child,y=h.leftChildOX-h.rightChildOX,P=y+r.left+r.right,n=y*t+r.left;t=P!==0?n/P:0}return t}set childOY(t){this.childrenMap.child.childOY=t,this.updateController()}get childOY(){return this.childrenMap.child.childOY}set childOX(t){this.childrenMap.child.childOX=t,this.updateController()}get childOX(){return this.childrenMap.child.childOX}get topChildOY(){return this.childrenMap.child.topChildOY+this.childMargin.top}get bottomChildOY(){return this.childrenMap.child.bottomChildOY-this.childMargin.bottom}get leftChildOX(){return this.childrenMap.child.leftChildOX+this.childMargin.left}get rightChildOX(){return this.childrenMap.child.rightChildOX-this.childMargin.right}get childVisibleHeight(){return this.childrenMap.child.childVisibleHeight}get childHeight(){return this.childrenMap.child.childHeight}get childVisibleWidth(){return this.childrenMap.child.childVisibleWidth}get childWidth(){return this.childrenMap.child.childWidth}get isOverflow(){var t=this.childrenMap.child;return t.topChildOY!==t.bottomChildOY}get isOverflowY(){return this.isOverflow}get isOverflowX(){var t=this.childrenMap.child;return t.leftChildOX!==t.rightChildOX}get sliderEnable(){var t=this.childrenMap.slider;return t?t.enable:!1}set sliderEnable(t){var r=this.childrenMap.slider;r&&r.setEnable(t)}setSliderEnable(t){return t===void 0&&(t=!0),this.sliderEnable=t,this}get sliderYEnable(){return this.sliderEnable}set sliderYEnable(t){this.sliderEnable=t}setSliderYEnable(t){return this.setSliderEnable(t),this}get sliderXEnable(){var t=this.childrenMap.sliderX;return t?t.enable:!1}set sliderXEnable(t){var r=this.childrenMap.sliderX;r&&r.setEnable(t)}setSliderXEnable(t){return t===void 0&&(t=!0),this.sliderXEnable=t,this}get scrollerEnable(){var t=this.childrenMap.scroller;return t?t.enable:!1}set scrollerEnable(t){var r=this.childrenMap.scroller;r&&r.setEnable(t)}setScrollerEnable(t){return t===void 0&&(t=!0),this.scrollerEnable=t,this}get scrollerYEnable(){return this.scrollerEnable}set scrollerYEnable(t){this.scrollerEnable=t}setScrollerYEnable(t){return this.setScrollerEnable(t),this}get scrollerXEnable(){var t=this.childrenMap.scrollerX;return t?t.enable:!1}set scrollerXEnable(t){var r=this.childrenMap.scrollerX;r&&r.setEnable(t)}setScrollerXEnable(t){return t===void 0&&(t=!0),this.scrollerXEnable=t,this}get scrollerXEnable(){var t=this.childrenMap.scrollerX;return t?t.enable:!1}set scrollerXEnable(t){var r=this.childrenMap.scrollerX;r&&r.setEnable(t)}setScrollerXEnable(t){return t===void 0&&(t=!0),this.scrollerXEnable=t,this}get mouseWheelScrollerEnable(){var t=this.childrenMap.mouseWheelScroller;return t?t.enable:!1}set mouseWheelScrollerEnable(t){var r=this.childrenMap.mouseWheelScroller;r&&r.setEnable(t)}setMouseWheelScrollerEnable(t){return t===void 0&&(t=!0),this.mouseWheelScrollerEnable=t,this}get mouseWheelScrollerYEnable(){return this.mouseWheelScrollerEnable}set mouseWheelScrollerYEnable(t){this.mouseWheelScrollerEnable=t}setMouseWheelScrollerYEnable(t){return this.setMouseWheelScrollerEnable(t),this}get mouseWheelScrollerXEnable(){var t=this.childrenMap.mouseWheelScrollerX;return t?t.enable:!1}set mouseWheelScrollerXEnable(t){var r=this.childrenMap.mouseWheelScrollerX;r&&r.setEnable(t)}setMouseWheelScrollerXEnable(t){return t===void 0&&(t=!0),this.mouseWheelScrollerXEnable=t,this}setDropZoneEnable(t){t===void 0&&(t=!0);var r=this.childrenMap.child;return r.setInteractive(),r.input.dropZone=t,this}};Object.assign(op.prototype,TI);var GM=function(e,t,r){var h=jh(e);switch(h){case vn:r=e.getWrappedText(t);break;case pn:r=e.getPenManager(t,r);break;case ds:e.maxWidth>0?r=e.setText(t).getTextBounds().wrappedText.split(`
`):r=t.split(`
`);break}return r},Xlt=function(e){return e!==void 0&&(this.text=e),this.lines=GM(this.textObject,this.text,this.lines),this.linesCount=this.lines.length,this._textHeight=void 0,this._textVisibleHeight=void 0,this.updateTextObject(),this},bI=function(e){return(e-this.textLineSpacing)/(this.textLineHeight+this.textLineSpacing)},wI=function(e){return e*(this.textLineHeight+this.textLineSpacing)-this.textLineSpacing},Hlt=function(e){var t=e+this.visibleLinesCount+1,r;switch(this.textObjectType){case vn:r=this.lines.slice(e,t).join(`
`);break;case pn:var h=this.lines.getLineStartIndex(e),y=this.lines.getLineEndIndex(t-1);r=this.lines.getSliceTagText(h,y,!0);break;case ds:r=this.lines.slice(e,t).join(`
`);break}return r},Gx=function(e,t){var r=jh(e);switch(r){case vn:var P=e.style,h=P.wordWrapWidth,y=P.wordWrapCallback;P.wordWrapWidth=0,P.wordWrapCallback=void 0,e.setText(t),P.wordWrapWidth=h,P.wordWrapCallback=y;break;case pn:var P=e.style,n=P.wrapMode;P.wrapMode=0,e.setText(t),P.wrapMode=n;break;case ds:var T=e._maxWidth;e._maxWidth=0,e.setText(t),e._maxWidth=T;break}},RI=function(){var e=this.textObject.rexSizer;this.textObject.y+=e.offsetY-e.preOffsetY,e.preOffsetY=e.offsetY,this.resetChildPositionState(this.textObject),this.textCropEnable&&$lt.call(this)},$lt=function(){if(this.textObject.setCrop){var e=this.textObject.rexSizer.offsetY,t,r;e<=0?(t=-e,r=this.height):(t=0,r=this.height-e),this.textObject.setCrop(0,t,this.width,r)}},Klt=function(){var e=Math.max(Math.floor(bI.call(this,-this.textOY)),0),t=wI.call(this,e)+this.textOY,r=Hlt.call(this,e);return Gx(this.textObject,r),this.textObject.rexSizer.offsetY=t,RI.call(this),this},Zlt=function(){return this._textLineHeight=void 0,this._textLineSpacing=void 0,this._visibleLinesCount=void 0,this._textHeight=void 0,this._textVisibleHeight=void 0,qv.call(this),this},Jlt=function(e,t,r){if(r+=this.textLineHeight+this.textLineSpacing,!(this.textObjectWidth===t&&this._textObjectRealHeight===r)){switch(this.textObjectWidth=t,this._textObjectRealHeight=r,this.textObjectType){case vn:case pn:e.setFixedSize(t,r);var h=e.style,y=Math.max(t,0);this.textObjectType===vn?h.wordWrapWidth=y:(h.wrapMode===0&&(h.wrapMode=1),h.wrapWidth=y);break;case ds:e.setMaxWidth(t);break}this.setText()}},Qlt=function(){var e,t,r,h=this.left,y=this.top,P,n,T,i;e=this.textObject,e.rexSizer.hidden||(t=e.rexSizer,r=t.padding,P=h+r.left*this.scaleX,n=y+r.top*this.scaleY,T=this.width*this.scaleX-(r.left+r.right)*this.scaleX,i=this.height*this.scaleY-(r.top+r.bottom)*this.scaleY,Jlt.call(this,e,T,i),Jv(e,P,n,T,i,t.align),t.preOffsetY=0,RI.call(this),this.textMask&&(this.textMask.setPosition().resize(),this.resetChildPositionState(this.textMask)))};const jlt={setText:Xlt,updateTextObject:Klt,preLayout:Zlt,layoutChildren:Qlt},mD=Phaser.Utils.Objects.IsPlainObject,ls=Phaser.Utils.Objects.GetValue,qlt=Phaser.Display.Align.TOP_LEFT;class AI extends mu{constructor(t,r,h,y,P,n){mD(r)?(n=r,r=ls(n,"x",0),h=ls(n,"y",0),y=ls(n,"width",void 0),P=ls(n,"height",void 0)):mD(y)&&(n=y,y=ls(n,"width",void 0),P=ls(n,"height",void 0)),super(t,r,h,y,P,n),this.type="rexTextBlock",this.textObject=void 0,this.linesCount=0,this.textMask=void 0,this.textObjectType=void 0,this._textLineHeight=void 0,this._textLineSpacing=void 0,this._visibleLinesCount=void 0,this._textHeight=void 0,this._textVisibleHeight=void 0,this._textObjectRealHeight=0,this.lines=void 0,this.text=ls(n,"content",""),this._textOY=0,this.execeedTopState=!1,this.execeedBottomState=!1,this.setClampMode(ls(n,"clampTextOY",!0)),this.alwaysScrollable=ls(n,"alwaysScrollable",!1);var T=ls(n,"background",void 0),i=ls(n,"text",void 0);i===void 0&&(i=_lt(t)),this.textCropEnable=ls(n,"textCrop",!!i.setCrop);var a=ls(n,"textMask",!this.textCropEnable);T&&this.addBackground(T),this.add(i),this.sizerChildren=[i];var x=this.getSizerConfig(i);x.align=qlt,x.padding=gu(0),x.expand=!0,this.textObject=i,this.textObjectType=jh(i),x.preOffsetY=0,x.offsetY=0,a&&(this.textMask=ma.call(this,this.textObject,this)),this.addChildrenMap("background",T),this.addChildrenMap("text",i)}destroy(t){if(!(!this.scene||this.ignoreDestroy)){if(this.textObject=void 0,this.textMask=void 0,this.lines){switch(this.textObjectType){case vn:this.lines.length=0;break;case pn:this.lines.destroy();break;case ds:this.lines.length=0;break}this.lines=void 0}super.destroy(t)}}setClampMode(t){return t===void 0&&(t=!0),this.clampTextOY=t,this}get textLineHeight(){if(this._textLineHeight===void 0){var t;switch(this.textObjectType){case vn:case pn:var r=this.textObject.style;t=r.metrics.fontSize+r.strokeThickness;break;case ds:var h=this.textObject.fontSize/this.textObject.fontData.size;t=this.textObject.fontData.lineHeight*h;break}this._textLineHeight=t}return this._textLineHeight}get textLineSpacing(){if(this._textLineSpacing===void 0){var t;switch(this.textObjectType){case vn:case pn:t=this.textObject.lineSpacing;break;case ds:t=0;break}this._textLineSpacing=t}return this._textLineSpacing}get visibleLinesCount(){return this._visibleLinesCount===void 0&&(this._visibleLinesCount=Math.floor(bI.call(this,this._textObjectRealHeight))),this._visibleLinesCount}get topTextOY(){return 0}get bottomTextOY(){return-this.textVisibleHeight}get textHeight(){return this._textHeight===void 0&&(this._textHeight=wI.call(this,this.linesCount)),this._textHeight}get textObjectHeight(){return this._textObjectRealHeight-(this.textLineHeight+this.textLineSpacing)}get textVisibleHeight(){if(this._textVisibleHeight===void 0){var t=this.textHeight-this.textObjectHeight;!this.alwaysScrollable&&t<0&&(t=0),this._textVisibleHeight=t}return this._textVisibleHeight}textOYExceedTop(t){return t===void 0&&(t=this.textOY),t>this.topTextOY}textOYExeceedBottom(t){return t===void 0&&(t=this.textOY),t<this.bottomTextOY}get textOY(){return this._textOY}set textOY(t){var r=this.topTextOY,h=this.bottomTextOY,y=this.textOYExceedTop(t),P=this.textOYExeceedBottom(t);this.clampTextOY&&(this.visibleLinesCount>this.linesCount?t=0:y?t=r:P&&(t=h)),this._textOY!==t&&(this._textOY=t,this.updateTextObject()),y&&(this.execeedTopState||this.emit("execeedtop",this,t,r)),this.execeedTopState=y,P&&(this.execeedBottomState||this.emit("execeedbottom",this,t,h)),this.execeedBottomState=P}setTextOY(t){return this.textOY=t,this}set t(t){this.textOY=-this.textVisibleHeight*t}get t(){var t=this.textVisibleHeight;return t===0?0:this.textOY/-t}setTextOYByPercentage(t){return this.t=t,this}}var _lt=function(e){return e.add.text(0,0,"")};Object.assign(AI.prototype,jlt);var tut=function(e){Object.defineProperty(e,"childOY",{configurable:!0,get:function(){return e.textOY},set:function(t){e.textOY=t}}),Object.defineProperty(e,"topChildOY",{get:function(){return e.topTextOY}}),Object.defineProperty(e,"bottomChildOY",{get:function(){return e.bottomTextOY}}),Object.defineProperty(e,"childVisibleHeight",{get:function(){return e.textObjectHeight}}),Object.defineProperty(e,"childHeight",{get:function(){return e.textHeight}})};const eut={setText(e){var t=this.childrenMap.child;return t.setText(e),this.resizeController(),this},appendText(e){return this.setText(this.text+e),this}},iut={scrollToLine(e){return this.setChildOY(-this.lineHeight*e),this},scrollToNextLine(e){e===void 0&&(e=1);var t=this.lineIndex+e;return this.scrollToLine(t),this}},Va=Phaser.Utils.Objects.GetValue;class hp extends op{constructor(t,r){r===void 0&&(r={});var h=Va(r,"text",void 0),y=Va(r,"textWidth",void 0),P=Va(r,"textHeight",void 0),n=Va(r,"textCrop",!!h.setCrop),T=Va(r,"textMask",!n),i=Va(r,"content",""),a=new AI(t,{width:y,height:P,text:h,textMask:T,textCrop:n&&!T,content:i,clampTextOY:Va(r,"clampChildOY",!1),alwaysScrollable:Va(r,"alwaysScrollable",!1)});t.add.existing(a),tut(a),r.scrollMode=0,r.type="rexTextArea",r.child={gameObject:a,expandWidth:y===void 0,expandHeight:P===void 0};var x=Va(r,"space",void 0);x&&(x.child=Va(x,"text",0)),super(t,r),this.addChildrenMap("text",h)}get text(){return this.childrenMap.child.text}get lineHeight(){var t=this.childrenMap.child;return t.textLineHeight+t.textLineSpacing}get lineIndex(){return Math.floor(-this.childOY/this.lineHeight)}get linesCount(){var t=this.childrenMap.child;return t.linesCount}get contentHeight(){var t=this.childrenMap.child;return t.textHeight}}Object.assign(hp.prototype,eut,iut);const g0=Phaser.Utils.Objects.GetValue;var OI=function(e,t,r){t=t?Ur(t):{};var h=g0(r,"background",Rr),y=g0(r,"text",kM),P=g0(r,"track",Rr),n=g0(r,"thumb",Rr);h?t.background=h(e,t.background):delete t.background,y?t.text=y(e,t.text):delete t.text;var T=t.slider;T!==!1&&T!==null&&(T===void 0&&(T={}),P?T.track=P(e,T.track):delete T.track,n?T.thumb=n(e,T.thumb):delete T.thumb,t.slider=T);var i=new hp(e,t);return e.add.existing(i),i},kM=function(e,t){var r;t&&(t.hasOwnProperty("$type")?r=t.$type:t.hasOwnProperty("key")&&(r="bitmaptext",t.font=t.key));var h;switch(r){case"bitmaptext":case"bitmap":h=new Bx(e,t);break;case"bbcodetext":case"bbcode":h=new bP(e,0,0,"",t);break;case"label":h=new lp(e,t);break;case"textarea":h=OI(e,t);break;default:h=new Dx(e,t);break}return DM(h,t),e.add.existing(h),h},xD=function(e,t){var r;t&&(t.hasOwnProperty("$type")?r=t.$type:t.hasOwnProperty("leftWidth")?r="nineSlice":(t.hasOwnProperty("color")||t.hasOwnProperty("strokeColor"))&&(r="roundRectangle"));var h;switch(r){case"nineSlice":t.hasOwnProperty("stretchMode")?h=new ap(e,t):h=new sp(e,t);break;case"roundRectangle":h=new np(e,t);break;default:h=new rp(e,t);break}return DM(h,t),e.add.existing(h),h};const m0=Phaser.Utils.Objects.GetValue;var kx=function(e,t,r){t=t?Ur(t):{};var h=m0(r,"background",Rr),y=m0(r,"text",kM),P=m0(r,"icon",xD),n=m0(r,"action",xD);return t.background!==null&&h?t.background=h(e,t.background):delete t.background,t.text!==null&&y?t.text=y(e,t.text):delete t.text,t.icon!==null&&P?t.icon=P(e,t.icon):delete t.icon,t.action!==null&&n?t.action=n(e,t.action):delete t.action,t};class lp extends Ho{constructor(t,r,h){r=kx(t,r,h),super(t,r),this.type="rexSimpleLabel"}setActiveState(t){return EE(this.getChildren(),"setActiveState",t),this}setHoverState(t){return EE(this.getChildren(),"setHoverState",t),this}setDisableState(t){return EE(this.getChildren(),"setDisableState",t),this}}var EE=function(e,t,r){for(var h=0,y=e.length;h<y;h++){var P=e[h];P&&P[t]&&P[t](r)}};It.register("simpleLabel",function(e,t){var r=new lp(this.scene,e,t);return this.scene.add.existing(r),r});Lt(window,"RexPlugins.UI.SimpleLabel",lp);const Ie=Phaser.Utils.Objects.GetValue;var rut=function(e){var t=this.scene,r=Ie(e,"orientation",0);this.setOrientation(r);var h=Ie(e,"icon",void 0),y=Ie(e,"iconMask",void 0),P=Ie(e,"innerBackground",void 0),n=Ie(e,"title",void 0),T=Ie(e,"separator",void 0),i=Ie(e,"text",void 0),a=Ie(e,"action",void 0),x=Ie(e,"actionMask",void 0);if(h){var d=Ie(e,"align.icon","center"),C;this.orientation===0?C={right:Ie(e,"space.icon",0),top:Ie(e,"space.iconTop",0),bottom:Ie(e,"space.iconBottom",0),left:Ie(e,"space.iconLeft",0)}:C={bottom:Ie(e,"space.icon",0),left:Ie(e,"space.iconLeft",0),right:Ie(e,"space.iconRight",0),top:Ie(e,"space.iconTop",0)};var l=Ie(e,"squareFitIcon",!1)?1:0;if(this.add(h,{proportion:0,align:d,padding:C,fitRatio:l}),y&&(y=ma.call(this,h,h,1)),!l){var o=Ie(e,"iconSize",void 0);this.setIconSize(Ie(e,"iconWidth",o),Ie(e,"iconHeight",o))}}var s=new Je(t,{orientation:1});P&&s.addBackground(P);var f=Ie(e,"space.separator",0);if(n){var d=Ie(e,"align.title","left"),c=Ie(e,"expandTitleWidth",!1),u=Ie(e,"expandTitleHeight",!1),v,C,p;v=u?1:0,p=c,C={bottom:!T&&i?Ie(e,"space.title",f):0,left:Ie(e,"space.titleLeft",0),right:Ie(e,"space.titleRight",0)},s.add(n,{proportion:v,expand:p,align:d,padding:C})}if(T){var C={top:n?f:0,bottom:i?f:0,left:Ie(e,"space.separatorLeft",0),right:Ie(e,"space.separatorRight",0)};s.add(T,{expand:!0,padding:C})}if(i){var d=Ie(e,"align.text","left"),m=Ie(e,"expandTextWidth",!1),g=Ie(e,"expandTextHeight",!1),v,C,p;v=g?1:0,p=m,C={left:Ie(e,"space.textLeft",0),right:Ie(e,"space.textRight",0)},s.add(i,{proportion:v,expand:p,align:d,padding:C})}var C=void 0;if(a&&(C={right:Ie(e,"space.text",0)}),this.add(s,{proportion:1,padding:C}),a){var d=Ie(e,"align.action","center"),C;this.orientation===0?C={top:Ie(e,"space.actionTop",0),bottom:Ie(e,"space.actionBottom",0),right:Ie(e,"space.actionRight",0)}:C={left:Ie(e,"space.actionLeft",0),right:Ie(e,"space.actionRight",0),bottom:Ie(e,"space.actionBottom",0)};var l=Ie(e,"squareFitAction",!1)?1:0;if(this.add(a,{proportion:0,align:d,padding:C,fitRatio:l}),x&&(x=ma.call(this,a,a,1)),!l){var M=Ie(e,"actionSize");this.setActionSize(Ie(e,"actionWidth",M),Ie(e,"actionHeight",M))}}this.addChildrenMap("icon",h),this.addChildrenMap("iconMask",y),this.addChildrenMap("innerSizer",s),this.addChildrenMap("innerBackground",P),this.addChildrenMap("title",n),this.addChildrenMap("separator",T),this.addChildrenMap("text",i),this.addChildrenMap("action",a),this.addChildrenMap("actionMask",x)};const Le=Phaser.Utils.Objects.GetValue;var nut=function(e){this.setOrientation(1),this.setRTL(!1);var t=this.scene,r=Le(e,"title",void 0),h=Le(e,"separator",void 0),y=Le(e,"innerBackground",void 0),P=Le(e,"icon",void 0),n=Le(e,"iconMask",void 0),T=Le(e,"text",void 0),i=Le(e,"action",void 0),a=Le(e,"actionMask",void 0);if(r){var x=Le(e,"align.title","left"),d=Le(e,"expandTitleWidth",!1),l=Le(e,"expandTitleHeight",!1),o,s,f;o=l?1:0,f=d,s={bottom:Le(e,"space.title",0),left:Le(e,"space.titleLeft",0),right:Le(e,"space.titleRight",0)},this.add(r,{proportion:o,expand:f,align:x,padding:s})}if(h){var c=Le(e,"space.separator",0),s={top:r?c:0,bottom:T?c:0,left:Le(e,"space.separatorLeft",0),right:Le(e,"space.separatorRight",0)};this.add(h,{proportion:0,expand:!0,padding:s})}var u=Le(e,"orientation",0),v=new Je(t,{orientation:u,rtl:Le(e,"rtl",!1),space:{left:Le(e,"space.innerLeft",0),right:Le(e,"space.innerRight",0),top:Le(e,"space.innerTop",0),bottom:Le(e,"space.innerBottom",0)}});if(y&&v.addBackground(y),this.add(v,{proportion:1,expand:!0}),P){var x=Le(e,"align.icon","center"),s;v.orientation===0?s={right:Le(e,"space.icon",0),top:Le(e,"space.iconTop",0),bottom:Le(e,"space.iconBottom",0),left:Le(e,"space.iconLeft",0)}:s={bottom:Le(e,"space.icon",0),left:Le(e,"space.iconLeft",0),right:Le(e,"space.iconRight",0),top:Le(e,"space.iconTop",0)};var p=Le(e,"squareFitIcon",!1)?1:0;if(v.add(P,{proportion:0,align:x,padding:s,fitRatio:p}),n&&(n=ma.call(this,P,P,1)),!p){var m=Le(e,"iconSize",void 0);this.setIconSize(Le(e,"iconWidth",m),Le(e,"iconHeight",m))}}if(T){var x=Le(e,"align.text","left"),g=Le(e,"space.text",0),C=Le(e,"expandTextWidth",!1),M=Le(e,"expandTextHeight",!1),o,s,f;v.orientation===0?(o=C?1:0,i&&(s={right:g}),f=M):(o=M?1:0,i&&(s={bottom:g}),f=C),v.add(T,{proportion:o,expand:f,align:x,padding:s})}if(i){var x=Le(e,"align.action","center"),s;v.orientation===0?s={top:Le(e,"space.actionTop",0),bottom:Le(e,"space.actionBottom",0),right:Le(e,"space.actionRight",0)}:s={left:Le(e,"space.actionLeft",0),right:Le(e,"space.actionRight",0),bottom:Le(e,"space.actionBottom",0)};var p=Le(e,"squareFitAction",!1)?1:0;if(v.add(i,{proportion:0,align:x,padding:s,fitRatio:p}),a&&(a=ma.call(this,i,i,1)),!p){var b=Le(e,"actionSize");this.setActionSize(Le(e,"actionWidth",b),Le(e,"actionHeight",b))}}this.addChildrenMap("title",r),this.addChildrenMap("separator",h),this.addChildrenMap("innerSizer",v),this.addChildrenMap("innerBackground",y),this.addChildrenMap("icon",P),this.addChildrenMap("iconMask",n),this.addChildrenMap("text",T),this.addChildrenMap("action",i),this.addChildrenMap("actionMask",a)};const Ah=Phaser.Utils.Objects.GetValue,yD=[rut,nut];class Nx extends AM{constructor(t,r){r===void 0&&(r={}),super(t,r),this.type="rexTitleLabel";var h=Ah(r,"background",void 0);h&&this.addBackground(h);var y=Ah(r,"title",void 0),P=Ah(r,"text",void 0);if(y){var n=Ah(r,"wrapTitle",!1),T=Ah(r,"adjustTitleFontSize",!1);n?(n===!0&&(n="word"),lP(y,n),r.expandTitleWidth=!0,J0(y)):T&&(r.expandTextWidth=!0,r.expandTextHeight=!0,j0(y,{fitHeight:!0}))}if(P){var i=Ah(r,"wrapText",!1),a=Ah(r,"adjustTextFontSize",!1);i?(i===!0&&(i="word"),lP(P,i),r.expandTextWidth=!0,J0(P)):a&&(r.expandTextWidth=!0,r.expandTextHeight=!0,j0(P,{fitHeight:!0}))}var x=Ah(r,"layoutMode",0),d=yD[x]||yD[0];d.call(this,r),this.addChildrenMap("background",r.background)}get title(){var t=this.childrenMap.title;return t?t.title:""}set title(t){var r=this.childrenMap.title;r&&r.setText(t)}setTitle(t){return this.title=t,this}resetDisplayContent(t){t===void 0?t={}:typeof t=="string"&&(t={text:t}),super.resetDisplayContent(t);var r=this.childrenMap.title;return r&&(t.title===void 0||(t.title?(this.show(r),this.setTitle(t.title)):this.hide(r))),this}}It.register("titleLabel",function(e){var t=new Nx(this.scene,e);return this.scene.add.existing(t),t});Lt(window,"RexPlugins.UI.TitleLabel",Nx);const PE=Phaser.Utils.Objects.GetValue;var LI=function(e,t,r){var h=PE(r,"innerBackground",Rr),y=PE(r,"separator",Rr),P=PE(r,"title",kM),n,T;t.innerBackground!==null&&h&&(n=h(e,t.innerBackground)),t.separator!==null&&y&&(T=y(e,t.separator)),t=kx(e,t,r),n?t.innerBackground=n:delete t.innerBackground,T?t.separator=T:delete t.separator,t.title!==null&&P?t.title=P(e,t.title):delete t.title;var i=t.background;return i&&(n?e.children.moveBelow(i,n):T&&e.children.moveBelow(i,T)),t};class FI extends Nx{constructor(t,r,h){r=LI(t,r,h),super(t,r),this.type="rexSimpleTitleLabel"}setActiveState(t){return ME(this.getChildren(),"setActiveState",t),this}setHoverState(t){return ME(this.getChildren(),"setHoverState",t),this}setDisableState(t){return ME(this.getChildren(),"setDisableState",t),this}}var ME=function(e,t,r){for(var h=0,y=e.length;h<y;h++){var P=e[h];P&&P[t]&&P[t](r)}};It.register("simpleTitleLabel",function(e,t){var r=new FI(this.scene,e,t);return this.scene.add.existing(r),r});Lt(window,"RexPlugins.UI.SimpleTitleLabel",FI);const ui=Phaser.Utils.Objects.GetValue,sut=Phaser.Utils.Objects.IsPlainObject;var aut=function(e,t){var r=ui(t,"background",void 0),h=ui(t,"icon",void 0),y=ui(t,"iconMask",void 0),P=ui(t,"nameText",void 0),n=ui(t,"valueText",void 0),T=ui(t,"bar",void 0),i=ui(t,"action",void 0),a=ui(t,"actionMask",void 0),x=ui(t,"barShape","line")==="line";if(sut(T)){var d=x?YP:cx;T=new d(e,T),e.add.existing(T),P&&e.children.moveBelow(T,P),n&&e.children.moveBelow(T,n)}var l=P||n||T;if(r&&this.addBackground(r),h){var o=void 0;this.orientation===0?(l||i)&&(o={right:ui(t,"space.icon",0),top:ui(t,"space.iconTop",0),bottom:ui(t,"space.iconBottom",0)}):(l||i)&&(o={bottom:ui(t,"space.icon",0),left:ui(t,"space.iconLeft",0),right:ui(t,"space.iconRight",0)}),this.add(h,{proportion:0,padding:o}),y&&(y=ma.call(this,h,h,1))}if(l){var s=new Je(e,{orientation:1}),f;if(P||n){if(f=new Je(e,{orientation:0}),P){P.text===""&&P.setText(" "),P.setOrigin(0,P.originY);var o={left:ui(t,"space.name",0)};f.add(P,{padding:o})}if(n){n.text===""&&n.setText(" "),n.setOrigin(1,n.originY),f.addSpace();var o={right:ui(t,"space.value",0)};f.add(n,{padding:o}),this.setValueTextFormatCallback(ui(t,"valueTextFormatCallback",out),ui(t,"valueTextFormatCallbackScope",void 0))}s.add(f,{expand:!0})}if(T)if(x){var c=f?ui(t,"space.bar"):0;c===void 0&&(c=ui(t,"space.barTop",0));var o={top:c,bottom:ui(t,"space.barBottom",0),left:ui(t,"space.barLeft",0),right:ui(t,"space.barRight",0)};s.add(T,{expand:!0,padding:o})}else{var o={top:ui(t,"space.barTop",0),bottom:ui(t,"space.barBottom",0),left:ui(t,"space.barLeft",0),right:ui(t,"space.barRight",0)};this.addBackground(T,o)}var o=void 0;i&&(o={right:ui(t,"space.text",0)});var u=ui(t,"align.text","bottom");this.add(s,{proportion:1,align:u,padding:o})}if(i){var o;this.orientation===0?o={top:ui(t,"space.actionTop",0),bottom:ui(t,"space.actionBottom",0)}:o={left:ui(t,"space.actionLeft",0),right:ui(t,"space.actionRight",0)},this.add(i,{proportion:0,padding:o}),a&&(a=ma.call(this,i,i,1))}this.addChildrenMap("background",r),this.addChildrenMap("icon",h),this.addChildrenMap("iconMask",y),this.addChildrenMap("name",P),this.addChildrenMap("value",n),this.addChildrenMap("bar",T),this.addChildrenMap("action",i),this.addChildrenMap("actionMask",a)},out=function(e,t,r){return e.toString()};const hut=Phaser.Math.Clamp,lut={setValueTextFormatCallback(e,t){return this.valueTextFormatCallback=e,this.valueTextFormatCallbackScope=t,this},getFormatValueText(e,t,r){e===void 0&&(e=this.value),t===void 0&&(t=this.minValue),r===void 0&&(r=this.maxValue);var h;return this.valueTextFormatCallbackScope?h=this.valueTextFormatCallback(e,t,r):h=this.valueTextFormatCallback.call(this.valueTextFormatCallbackScope,e,t,r),h},updateValueText(e,t,r){var h=this.childrenMap.value;return h&&this.valueTextFormatCallback&&(h.setText(this.getFormatValueText(e,t,r)),h.layout&&h.layout()),this},setValue(e,t,r){return t===void 0?t=this.minValue:this.minValue=t,r===void 0?r=this.maxValue:this.maxValue=r,e=hut(e,t,r),this.value=e,this.updateValueText(e,t,r),this.setBarValue(e,t,r),this},setEaseValueDuration(e){return this.easeValueDuration=e,this},easeValueTo(e,t,r){return t===void 0?t=this.minValue:this.minValue=t,r===void 0?r=this.maxValue:this.maxValue=r,this.easeValueTask===void 0&&(this.easeValueTask=new zo(this),this.easeValueTask.on("update",function(){this.setValue(this.value,this.minValue,this.maxValue)},this)),this.easeValueTask.restart({key:"value",to:e,duration:this.easeValueDuration}),this}};class zx extends Je{constructor(t,r){super(t,r),this.type="rexNameValueLabel",aut.call(this,t,r),this.setEaseValueDuration(1e3)}get nameText(){var t=this.childrenMap.name;return t===void 0?"":t.text}set nameText(t){var r=this.childrenMap.name;r!==void 0&&r.setText(t)}setNameText(t){return this.nameText=t,this}get valueText(){var t=this.childrenMap.value;return t===void 0?"":t.text}set valueText(t){var r=this.childrenMap.value;r!==void 0&&r.setText(t)}setValueText(t){return this.valueText=t,this}get barValue(){var t=this.childrenMap.bar;if(t!==void 0)return t.value}set barValue(t){var r=this.childrenMap.bar;r!==void 0&&r.setValue(t)}setBarValue(t,r,h){var y=this.childrenMap.bar;return y===void 0?this:(y.setValue(t,r,h),this)}easeBarValueTo(t,r,h){var y=this.childrenMap.bar;return y===void 0?this:(y.easeValueTo(t,r,h),this)}setTexture(t,r){var h=this.childrenMap.icon;if(h!==void 0)return h.setTexture(t,r),this}get texture(){var t=this.childrenMap.icon;if(t!==void 0)return t.texture}get frame(){var t=this.childrenMap.icon;if(t!==void 0)return t.frame}postLayout(t,r,h){var y=this.childrenMap.iconMask;y&&(y.setPosition(),this.resetChildPositionState(y));var P=this.childrenMap.actionMask;return P&&(P.setPosition(),this.resetChildPositionState(P)),super.postLayout(t,r,h),this}resize(t,r){super.resize(t,r);var h=this.childrenMap.iconMask;h&&h.resize();var y=this.childrenMap.actionMask;return y&&y.resize(),this}}Object.assign(zx.prototype,lut);It.register("nameValueLabel",function(e){var t=new zx(this.scene,e);return this.scene.add.existing(t),t});Lt(window,"RexPlugins.UI.NameValueLabel",zx);class uut extends WB{constructor(t){super(),this.setTable(xi(t,"table")),this.setMaxLevel(xi(t,"maxLevel"));var r=xi(t,"exp",0),h=xi(t,"level",void 0);h!==void 0&&!this.checkLevel(h,r)&&(console.error(`Level ${h} and Exp ${r} are mismatch`),h=void 0),this.resetExp(r,h)}setTable(t){return this.levelTable=t,this.isLevelMapFunction=pa(t),this}setMaxLevel(t){t===void 0&&(Array.isArray(this.levelTable)?t=this.levelTable.length-1:t=-1);var r;return t!==-1?r=this.getExp(t):r=-1,this.hasMaxLevel=t!==-1,this.maxLevel=t,this.maxExp=r,this}resetExp(t,r){return this.hasMaxLevel&&t>this.maxExp&&(t=this.maxExp),r===void 0&&(r=this.getLevel(t)),this._exp=t,this._level=r,this._requiredExp=this.getRequiredExpToNextLevel(r,t),this}get exp(){return this._exp}set exp(t){if(this.hasMaxLevel&&t>this.maxExp&&(t=this.maxExp),t<this._exp){this.resetExp(t);return}if(t!==this._exp){for(var r=this.getLevel(t,this._level),h=this._level,y=this._exp,P;;){var n=this.getExp(h),T=this.getExp(h+1);if(P=Math.min(T,t),this.emit("levelup",h,y,P,n,T),h===r&&P===t)break;h++,y=T}this.resetExp(t,r)}}get level(){return this._level}set level(t){this.hasMaxLevel&&t>this.maxLevel?this.exp=this.maxExp:this.exp=this.getExp(t)}get requiredExp(){return this._requiredExp}getExp(t){return t===void 0?this._exp:this.isLevelMapFunction?this.levelTable(t):(this.hasMaxLevel&&t>this.maxLevel&&(t=this.maxLevel),this.levelTable[t])}getLevel(t,r){if(t===void 0)return this._level;for(r===void 0&&(r=0);;){var h=this.getExp(r+1);if(h>t||(r++,this.hasMaxLevel&&h===this.maxExp))break}return r}getRequiredExpToNextLevel(t,r){return t===void 0&&(t=this.level),r===void 0&&(r=this.exp),this.getExp(t+1)-r}checkLevel(t,r){return r>=this.getExp(t)&&r<this.getExp(t+1)}gainExp(t,r,h){return r&&this.on("levelup",r,h),this.exp+=t,r&&this.off("levelup",r,h),this}setExp(t,r,h){return r&&this.on("levelup",r,h),this.exp=t,r&&this.off("levelup",r,h),this}setLevel(t,r,h){return r&&this.on("levelup",r,h),this.level=t,r&&this.off("levelup",r,h),this}}var uP=function(e,t,r){var h=xi(r,"reverse",!1),y;if(ga(e[0]))if(h)for(var n=e.length,P=n-1;P>=0;P--)y=uP(e[P],t,r);else for(var P=0,n=e.length;P<n;P++)y=uP(e[P],t,r);else y=fut(e,t,r);return y},fut=function(e,t,r){var h=xi(r,"argsConvert",void 0),y=xi(r,"argsConvertScope",void 0),P=e[0];if(Oh=V0(Oh,e,1),h){h===!0&&(h=DP,y=void 0);for(var n=0,T=Oh.length;n<T;n++)y?Oh[n]=h.call(y,Oh[n],e):Oh[n]=h(Oh[n],e)}var i;typeof P=="string"?(i=t[P],i==null&&(i=xi(t,P,null))):i=P;var a=i.apply(t,Oh);return a},Oh=[];const la=Phaser.Utils.Objects.GetValue;class DI extends Hi{constructor(t,r){super(t,r);var h=la(r,"clock",void 0);h||(h=new GB(t)),this.clock=h,this.clock.on("update",this.update,this),this.commands=[],this.resetFromJSON(r)}resetFromJSON(t){return this.clock.resetFromJSON(la(t,"clock",void 0)),this.state=la(t,"state",0),this.commands=la(t,"commands",[]),this.scope=la(t,"scope",void 0),this.setTimeUnit(la(t,"timeUnit",0)),this.setDtMode(la(t,"dtMode",0)),this.index=la(t,"index",0),this.nextTime=la(t,"nextTime",0),this}toJSON(){return{clock:this.clock.toJSON(),state:this.state,commands:this.commands,scope:this.scope,timeUnit:this.timeUnit,dtMode:this.dtMode,index:this.index,nextTime:this.nextTime}}shutdown(t){this.isShutdown||(this.clock.shutdown(t),this.commands=void 0,super.shutdown(t))}load(t,r,h){this.stop();var y=la(h,"timeUnit",void 0);y!==void 0&&this.setTimeUnit(y);var P=la(h,"dtMode",void 0);return P!==void 0&&this.setDtMode(P),t=t.filter(function(n){var T=n[0];return!isNaN(T)}).map(function(n){var T=n[0];return typeof T=="string"&&(n[0]=parseFloat(n[0])),n}),this.dtMode===0&&t.sort(function(n,T){var i=n[0],a=T[0];return i>a?1:i<a?-1:0}),V0(this.commands,t),this.scope=r,this}clear(){return this.commands.length=0,this}append(t,r,...h){var y;return Array.isArray(r)?y=r:y=[r,...h],this.commands.push([t,y]),this}start(t){return t===void 0&&(t=0),this.stop(),this.index=0,this.state=1,this.nextTime=this.getNextDt(0),this.clock.start(t),this.update(t),this.emit("start",this.parent,this),this}pause(){return this.clock.pause(),this.emit("pause",this.parent,this),this}resume(){return this.clock.resume(),this.emit("resume",this.parent,this),this}stop(){return this.clock.stop(),this.state=0,this.emit("stop",this.parent,this),this}seek(t){return this.clock.seek(t),this}seekToNext(){return this.seek(this.nextTime),this}get isPlaying(){return this.clock.isRunning}get completed(){return this.state===2}get timeScale(){return this.clock.timeScale}set timeScale(t){this.clock.timeScale=t}setTimeScale(t){return this.timeScale=t,this}get now(){return this.clock.now}update(t){if(this.nextTime>t)return this;for(var r=this.commands;;){var h=r[this.index],y=h[1];if(ga(y)||(y=V0(dut,h,1)),uP(y,this.scope),this.emit("runcommand",y,this.scope),this.index>=r.length-1)return this.nextTime=0,this.complete(),this;if(this.index++,this.nextTime=this.getNextDt(this.nextTime),this.nextTime>t)return this}}complete(){this.clock.stop(),this.state=2,this.emit("complete",this.parent,this)}getNextDt(t){var r=this.commands[this.index][0];return this.timeUnit===1&&(r=r*1e3),this.dtMode===1&&(r+=t),r}setDtMode(t){return typeof t=="string"&&(t=vut[t]),this.dtMode=t,this}setTimeUnit(t){return typeof t=="string"&&(t=cut[t]),this.timeUnit=t,this}}var dut=[];const cut={ms:0,s:1,sec:1},vut={abs:0,absolute:0,inc:1,increment:1};var put=function(e,t,r,h,y){var P=(r-t)/(y-h)*this.totalEaseDuration,n=r===y?e+1:e;this.player.append(0,this.setEaseValueDuration,P).append(0,this.easeValueTo,r,h,y).append(0,this.emit,"levelup.start",e,t,r,this).append(P,wr).append(0,this.emit,"levelup.end",n,t,r,this),this.player.isPlaying||this.player.start()};const gut={setExpTable(e){return this.levelCounter.setTable(e),this},resetExp(e){return this.levelCounter.resetExp(e),this.setValue(this.exp,this.getExp(this.level),this.getExp(this.level+1)),this},getExp(e){return this.levelCounter.getExp(e)},getLevel(e,t){return this.levelCounter.getLevel(e,t)},getRequiredExpToNextLevel(e,t){return this.levelCounter.getRequiredExpToNextLevel(e,t)},gainExp(e){return this.levelCounter.gainExp(e),this},setExp(e){return this.levelCounter.setExp(e),this},setLevel(e){return this.levelCounter.setLevel(e),this}},CD=Phaser.Utils.Objects.GetValue;class NM extends zx{constructor(t,r){super(t,r),this.type="rexExpBar",this.setTotalEaseDuration(CD(r,"easeDuration",1e3)),this.levelCounter=new uut(CD(r,"levelCounter")),this.player=new DI(this,{scope:this,dtMode:1}),this.levelCounter.on("levelup",put,this),this.player.on("complete",function(){this.player.clear(),this.emit("levelup.complete",this.level,this)},this),this.setValue(this.exp,this.getExp(this.level),this.getExp(this.level+1))}destroy(t){!this.scene||this.ignoreDestroy||(this.levelCounter.destroy(),this.levelCounter=void 0,this.player.destroy(),this.player=void 0,super.destroy(t))}get exp(){return this.levelCounter.exp}set exp(t){this.levelCounter.exp=t}get level(){return this.levelCounter.level}set level(t){this.levelCounter.level=t}get requiredExp(){return this.levelCounter.requiredExp}setTotalEaseDuration(t){return this.totalEaseDuration=t,this}}Object.assign(NM.prototype,gut);It.register("expBar",function(e){var t=new NM(this.scene,e);return this.scene.add.existing(t),t});Lt(window,"RexPlugins.UI.ExpBar",NM);const x0=Je.prototype.add,SD=Je.prototype.addSpace;var bE=function(e){var t=!e.isRexSpace,r=!t||this.buttonsExpand?1:0;if(this.sizerChildren.length===0)if(t){var h=!this.buttonsExpand&&(this.buttonsAlign==="right"||this.buttonsAlign==="center"||this.buttonsAlign==="bottom");h&&SD.call(this),x0.call(this,e,{proportion:r,expand:!0});var y=!this.buttonsExpand&&this.buttonsAlign==="center";y&&SD.call(this),this.hasTailSpace=y}else x0.call(this,e,{proportion:r,expand:!0}),this.hasTailSpace=!1;else if(this.hasTailSpace){var P=this.sizerChildren.length-1;x0.call(this,e,{index:P,proportion:r,expand:!0})}else x0.call(this,e,{proportion:r,expand:!0});return t&&this.buttonGroup.add(e),this};const mut={addButton(e){if(ga(e))for(var t=e,r=0,h=t.length;r<h;r++)bE.call(this,t[r]);else bE.call(this,e);return this},addButtons(e){for(var t=0,r=e.length;t<r;t++)bE.call(this,e[t]);return this}},xut=Je.prototype.remove,yut=Je.prototype.clear;var wE=function(e,t){return this.getParentSizer(e)!==this?this:(this.buttonGroup.remove(e),xut.call(this,e,t),this)};const Cut={remove(e,t){if(ga(e))for(var r=e,h=0,y=r.length;h<y;h++)wE.call(this,r[h],t);else wE.call(this,e,t);return this},clear(e){var t=this.buttonGroup.buttons;return t.length=0,yut.call(this,e),this},removeButton(r,t){var r=this.getButton(r);return r?(this.remove(r,t),this):this},clearButtons(e){for(var t=this.buttonGroup.buttons,r=t.length-1;r>=0;r--)wE.call(this,t[r],e);return this}};var Sut=function(e,t,r){if(e){var h=this.setValueCallback,y=this.setValueCallbackScope;h&&(y?h.call(y,e,t,r):h(e,t,r)),this.fireEvent("button.statechange",e,t,r)}},Tut=function(e){var t=this;e._selected=void 0,Object.defineProperty(e,"selected",{get:function(){return e._selected},set:function(r){if(e._selected!==r){var h=e._selected;e._selected=r,Sut.call(t,e,r,h)}},enumerable:!0,configurable:!0}),e.selected=!1};const Eut={add(e){return this.buttons.push(e),e._click||(e._click=new Wo(e,this.clickConfig),e._click.on("click",function(t,r,h,y){this.fireEvent("button.click",r,h,y)},this).on("enable",function(t,r){this.fireEvent("button.enable",r)},this).on("disable",function(t,r){this.fireEvent("button.disable",r)},this).on("over",function(t,r,h,y){this.fireEvent("button.over",r,h,y)},this).on("out",function(t,r,h,y){this.fireEvent("button.out",r,h,y)},this).on("down",function(t,r,h,y){this.fireEvent("button.down",r,h,y)},this).on("up",function(t,r,h,y){this.fireEvent("button.up",r,h,y)},this),e.isRexContainerLite&&e.sendChildToBack(e)),this.buttonsType&&(e.name===void 0&&console.error(`${this.parent.constructor.name}: Option button miss value`),Tut.call(this,e)),this},addMultiple(e){for(var t=0,r=e.length;t<r;t++)this.add(e[t]);return this}},Put=Phaser.Utils.Array.Remove,Mut={remove(e){return this.buttonsType&&delete e.selected,Put(this.buttons,e),this},clear(){if(this.buttonsType)for(var e=this.buttons,t=0,r=e.length;t<r;t++)delete e[t].selected;return this.buttons.length=0,this}};var but=function(e,t,...r){if(this.buttons){var h;if(typeof t=="number"){if(h=t,t=this.buttons[h],!t)return}else if(h=this.buttons.indexOf(t),h===-1)return;this.eventEmitter!==this.parent&&this.parent.emit(e,t,h,...r),this.groupName!==void 0?this.eventEmitter.emit(e,t,this.groupName,h,...r):this.eventEmitter.emit(e,t,h,...r)}};const cv=Phaser.Utils.Objects.GetValue,wut={setButtonsType(e){e===void 0&&(e={});var t=cv(e,"buttonsType",e.type);if(this.buttonsType=t,!this.buttonsType)return this;var r,h;switch(r=cv(e,"setValueCallback",void 0),h=cv(e,"setValueCallbackScope",void 0),r===void 0&&(r=cv(e,"setButtonStateCallback",void 0),h=cv(e,"setButtonStateCallbackScope",void 0)),this.setValueCallback=r,this.setValueCallbackScope=h,t){case"radio":this.setRadioType();break;case"checkboxes":this.setCheckboxesType();break}return this},setRadioType(){var e=this.parent,t=this.buttons;e._value=void 0;var r=void 0;return Object.defineProperty(e,"value",{get:function(){return e._value},set:function(h){if(e._value!==h){e._value=h;for(var y=0,P=t.length;y<P;y++){var n=t[y];n.rexSizer.hidden||(r===void 0?n.name===h?n.selected=!0:n.selected=!1:r===y?n.selected=!0:n.selected=!1)}}},enumerable:!0,configurable:!0}),e.on("button.click",function(h){r=this.buttons.indexOf(h),e.value=h.name,r=void 0},this),this},setCheckboxesType(){var e=this.parent;return e.on("button.click",function(t){t.selected=!t.selected}),this},clearAllButtonsState(){for(var e=this.buttons,t=0,r=e.length;t<r;t++){var h=e[t];h.selected=!1}return this},getAllButtonsState(){for(var e={},t=this.buttons,r=0,h=t.length;r<h;r++){var y=t[r];y.rexSizer.hidden||(e[y.name]=y.selected)}return e},setSelectedButtonName(e){return this.parent.value=e,this},getSelectedButtonName(){return this.parent.value},setButtonState(e,t){t===void 0&&(t=!0);for(var r=this.buttons,h=0,y=r.length;h<y;h++){var P=r[h];if(!P.rexSizer.hidden&&P.name===e){P.selected=t;break}}return this},getButtonState(e){for(var t=this.buttons,r=0,h=t.length;r<h;r++){var y=t[r];if(!y.rexSizer.hidden&&y.name===e)return y.selected}}};var Rut=function(e,t){if(e)if(ga(e)){for(var r,h=0,y=e.length;h<y;h++)if(r=TD(e[h],t),r)return r}else{var r;for(var P in e)if(r=TD(e[P],t),r)return r}else return null},TD=function(e,t){return e?e.hasOwnProperty("name")?e.name===t?e:null:GetElementByName(e,t):null};const Ux={getButton(e){var t=this.buttons,r,h=typeof e;switch(h){case"number":r=t[e];break;case"string":r=Rut(t,e);break;default:r=e,t.indexOf(r)===-1&&(r=void 0);break}return r},getButtons(){return this.buttons},hasAnyButton(){return this.buttons.length>0},setButtonEnable(e,t){var r=this.buttons;if(e===void 0||typeof e=="boolean"){t=e;for(var h=0,y=r.length;h<y;h++)r[h]._click.setEnable(t)}else this.getButton(e)._click.setEnable(t);return this},toggleButtonEnable(e){var t=this.buttons;if(e===void 0||typeof e=="boolean")for(var r=0,h=t.length;r<h;r++)t[r]._click.toggleEnable();else this.getButton(e)._click.toggleEnable();return this},getButtonEnable(e){return e===void 0&&(e=0),this.getButton(e)._click.enable},emitButtonClick(e){var t=this.buttonGroup?this.buttonGroup:this;return t.fireEvent("button.click",e),this},emitButtonOver(e){for(var t=this.buttonGroup?this.buttonGroup:this,r=this.buttons,h=0,y=r.length;h<y;h++){var P=r[h];P._click.isOver&&(P._click.isOver=!1,t.fireEvent("button.out",P))}var P=this.getButton(e);return P&&(P._click.isOver=!0,t.fireEvent("button.over",P)),this},showButton(e){return zh(this.getButton(e)),this},hideButton(e){return Uh(this.getButton(e)),this},isButtonShown(e){return dM(this.getButton(e)),this},forEachButtton(e,t){for(var r=this.buttons,h=0,y=r.length;h<y;h++)t?e.call(t,r[h],h,r):e(r[h],h,r);return this}};class Vx{constructor(t){this.parent=t.parent,this.eventEmitter=t.eventEmitter,this.groupName=t.groupName,this.clickConfig=t.clickConfig,this.buttonsType=void 0,this.buttons=[]}destroy(){this.parent=void 0,this.eventEmitter=void 0,this.clickConfig=void 0,this.buttons=void 0}}var Aut={fireEvent:but};Object.assign(Vx.prototype,Eut,Mut,wut,Ux,Aut);const zM={clearAllButtonsState(){return this.buttonGroup.clearAllButtonsState(),this},getAllButtonsState(){return this.buttonGroup.getAllButtonsState()},setSelectedButtonName(e){return this.buttonGroup.setSelectedButtonName(e),this},getSelectedButtonName(){return this.buttonGroup.getSelectedButtonName()},setButtonState(e,t){return this.buttonGroup.setButtonState(e,t),this},getButtonState(e){return this.buttonGroup.getButtonState(e)}},Zl=Phaser.Utils.Objects.GetValue;let Nr=class extends Je{constructor(t,r){r===void 0&&(r={});var h=r.space;typeof h=="number"&&(r.space={item:h}),super(t,r),this.type="rexButtons",this.buttonGroup=new Vx({parent:this,eventEmitter:Zl(r,"eventEmitter",this),groupName:Zl(r,"groupName",void 0),clickConfig:Zl(r,"click",void 0)}).setButtonsType(r);var y=Zl(r,"background",void 0),P=Zl(r,"buttons",void 0);this.buttonsExpand=Zl(r,"expand",!1),this.buttonsAlign=Zl(r,"align",void 0),y&&this.addBackground(y),P&&this.addButtons(P),this.addChildrenMap("background",y),this.addChildrenMap("buttons",this.buttonGroup.buttons)}destroy(t){!this.scene||this.ignoreDestroy||(super.destroy(t),this.buttonGroup.destroy(),this.buttonGroup=void 0)}get buttons(){return this.buttonGroup.buttons}get groupName(){return this.buttonGroup.groupName}set groupName(t){this.buttonGroup.groupName=t}get eventEmitter(){return this.buttonGroup.eventEmitter}};Object.assign(Nr.prototype,mut,Cut,Ux,zM);It.register("buttons",function(e){var t=new Nr(this.scene,e);return this.scene.add.existing(t),t});Lt(window,"RexPlugins.UI.Buttons",Nr);const Out=xa.prototype.add,Lut={addButton(e,t,r){return Out.call(this,e,t,r,void 0,0,this.buttonsExpand),this.buttonGroup.add(e),this},addButtons(e,t){for(var r=0,h=e;r<h;r++)this.addButton(e[r],void 0,t);return this}},Fut=xa.prototype.remove,Dut=xa.prototype.clear;var RE=function(r,t){var r=this.getButton(r);return r?(this.buttonGroup.remove(r),Fut.call(this,r,t),this):this};const But={remove(e,t){if(ga(e))for(var r=e,h=0,y=r.length;h<y;h++)RE.call(this,r[h],t);else RE.call(this,e,t);return this},clear(e){var t=this.buttonGroup.buttons;return t.length=0,Dut.call(this,e),this},removeButton(e,t){return this.remove(e,t),this},clearButtons(e){for(var t=this.buttonGroup.buttons,r=t.length-1;r>=0;r--)RE.call(this,t[r],e);return this}},Wa=Phaser.Utils.Objects.GetValue;class Wx extends xa{constructor(t,r){r===void 0&&(r={});var h=Wa(r,"row",0),y=Wa(r,"column",r.col||0),P=Wa(r,"createCellContainerCallback"),n=Wa(r,"buttons",void 0),T=Wa(r,"expand",!0),i=T?1:0;if(P&&(r.createCellContainerCallback=void 0),n!==void 0){h=Math.max(h,n.length);for(var a=0,x=n.length;a<x;a++)y=Math.max(y,n[a].length)}r.row=h,r.column=y,r.columnProportions=i,r.rowProportions=i,super(t,r),this.type="rexGridButtons",this.buttonGroup=new Vx({parent:this,eventEmitter:Wa(r,"eventEmitter",this),groupName:Wa(r,"groupName",void 0),clickConfig:Wa(r,"click",void 0)}).setButtonsType(r);var d=Wa(r,"background",void 0);if(this.buttonsExpand=T,Wa(r,"space",void 0),d&&this.addBackground(d),n)for(var l,o,s=0,f=n.length;s<f;s++){l=n[s];for(var c=0,u=l.length;c<u;c++)o=l[c],o&&this.addButton(o,c,s)}else if(P)for(var v=0;v<h;v++)for(var p=0;p<y;p++){var o=P(t,p,v);o&&this.addButton(o,p,v)}this.addChildrenMap("background",d),this.addChildrenMap("buttons",this.buttonGroup.buttons)}destroy(t){!this.scene||this.ignoreDestroy||(super.destroy(t),this.buttonGroup.destroy(),this.buttonGroup=void 0)}get buttons(){return this.buttonGroup.buttons}get groupName(){return this.buttonGroup.groupName}set groupName(t){this.buttonGroup.groupName=t}get eventEmitter(){return this.buttonGroup.eventEmitter}}Object.assign(Wx.prototype,Lut,But,Ux,zM);It.register("gridButtons",function(e){var t=new Wx(this.scene,e);return this.scene.add.existing(t),t});Lt(window,"RexPlugins.UI.GridButtons",Wx);const BI=qh.prototype.add;var y0=function(e){return BI.call(this,e),this.buttonGroup.add(e),this};const Iut={addButton(e){if(ga(e))for(var t=e,r=0,h=t.length;r<h;r++)y0.call(this,t[r]);else y0.call(this,e);return this},addButtons(e){if(ga(e[0]))for(var t=e,r,h=0,y=t.length-1;h<=y;h++){r=t[h];for(var P=0,n=r.length;P<n;P++)y0.call(this,r[P]);h>y&&BI.addNewLine(this)}else for(var P=0,n=e.length;P<n;P++)y0.call(this,e[P]);return this}},Gut=qh.prototype.remove,kut=qh.prototype.clear;var AE=function(r,t){var r=this.getButton(r);return r?(this.buttonGroup.remove(r),Gut.call(this,r,t),this):this};const Nut={remove(e,t){if(ga(e))for(var r=e,h=0,y=r.length;h<y;h++)AE.call(this,r[h],t);else AE.call(this,e,t);return this},clear(e){var t=this.buttonGroup.buttons;return t.length=0,kut.call(this,e),this},removeButton(e,t){return this.remove(e,t),this},clearButtons(e){for(var t=this.buttonGroup.buttons,r=t.length-1;r>=0;r--)AE.call(this,t[r],e);return this}},Nf=Phaser.Utils.Objects.GetValue;class $h extends qh{constructor(t,r){r===void 0&&(r={});var h=r.space;typeof h=="number"&&(r.space={item:h,line:h}),super(t,r),this.type="rexFixWidthButtons",this.buttonGroup=new Vx({parent:this,eventEmitter:Nf(r,"eventEmitter",this),groupName:Nf(r,"groupName",void 0),clickConfig:Nf(r,"click",void 0)}).setButtonsType(r);var y=Nf(r,"background",void 0),P=Nf(r,"buttons",void 0);this.buttonsAlign=Nf(r,"align",void 0),y&&this.addBackground(y),P&&this.addButtons(P),this.addChildrenMap("background",y),this.addChildrenMap("buttons",this.buttonGroup.buttons)}destroy(t){!this.scene||this.ignoreDestroy||(super.destroy(t),this.buttonGroup.destroy(),this.buttonGroup=void 0)}get buttons(){return this.buttonGroup.buttons}get groupName(){return this.buttonGroup.groupName}set groupName(t){this.buttonGroup.groupName=t}get eventEmitter(){return this.buttonGroup.eventEmitter}}Object.assign($h.prototype,Iut,Nut,Ux,zM);It.register("fixWidthButtons",function(e){var t=new $h(this.scene,e);return this.scene.add.existing(t),t});Lt(window,"RexPlugins.UI.FixWidthButtons",$h);const zut={setAccept(e){return this.childrenMap.fileChooser.setAccept(e),this},setMultiple(e){return this.childrenMap.fileChooser.setMultiple(e),this},loadFile(e,t,r,h,y){return this.childrenMap.fileChooser.loadFile(e,t,r,h,y),this},loadFilePromise(e,t,r,h){return this.childrenMap.fileChooser.loadFilePromise(e,t,r,h)}},ED=Phaser.Utils.Objects.GetValue;class UM extends Ho{constructor(t,r){super(t,r),this.type="rexFileSelectorButton";var h=new ip(t);t.add.existing(h),this.addBackground(h),this.addChildrenMap("fileChooser",h),this.setAccept(ED(r,"accept","")),this.setMultiple(ED(r,"multiple",!1)),h.on("change",function(y){var P=y.files;P.length!==0&&(P=Array.from(P),this.emit("select",P,this))},this)}get files(){return this.childrenMap.fileChooser.files}}Object.assign(UM.prototype,zut);It.register("fileSelectorButton",function(e){var t=new UM(this.scene,e);return this.scene.add.existing(t),t});Lt(window,"RexPlugins.UI.FileSelectorButton",UM);const Uut={getChoice(e){var t=this.childrenMap.choicesSizer;if(t)return t.getButton(e)},getAction(e){return this.childrenMap.actionsSizer.getButton(e)},getToolbar(e){return this.childrenMap.toolbarSizer.getButton(e)},getLeftToolbar(e){return this.childrenMap.leftToolbarSizer.getButton(e)},setChoiceEnable(e,t){var r=this.childrenMap.choicesSizer;return r&&r.setButtonEnable(e,t),this},setActionEnable(e,t){return this.childrenMap.actionsSizer.setButtonEnable(e,t),this},setToolbarEnable(e,t){return this.childrenMap.toolbarSizer.setButtonEnable(e,t),this},setLeftToolbarEnable(e,t){return this.childrenMap.leftToolbarSizer.setButtonEnable(e,t),this},toggleChoiceEnable(e){var t=this.childrenMap.choicesSizer;return t&&t.toggleButtonEnable(e),this},toggleActionEnable(e){return this.childrenMap.actionsSizer.toggleButtonEnable(e),this},toggleToolbarEnable(e){return this.childrenMap.toolbarSizer.toggleButtonEnable(e),this},toggleLeftToolbarEnable(e){return this.childrenMap.leftToolbarSizer.toggleButtonEnable(e),this},getChoiceEnable(e){var t=this.childrenMap.choicesSizer;return t?t.getButtonEnable(e):!1},getActionEnable(e){return this.childrenMap.actionsSizer.getButtonEnable(e)},getToolbarEnable(e){return this.childrenMap.toolbarSizer.getButtonEnable(e)},getLeftToolbarEnable(e){return this.childrenMap.leftToolbarSizer.getButtonEnable(e)},emitChoiceClick(e){var t=this.childrenMap.choicesSizer;return t&&t.emitButtonClick(e),this},emitActionClick(e){return this.childrenMap.actionsSizer.emitButtonClick(e),this},emitToolbarClick(e){return this.childrenMap.toolbarSizer.emitButtonClick(e),this},emitLeftToolbarClick(e){return this.childrenMap.leftToolbarSizer.emitButtonClick(e),this},showChoice(e){var t=this.childrenMap.choicesSizer;return t&&t.showButton(e),this},showAction(e){return this.childrenMap.actionsSizer.showButton(e),this},showToolbar(e){return this.childrenMap.toolbarSizer.showButton(e),this},showLeftToolbar(e){return this.childrenMap.leftToolbarSizer.showButton(e),this},hideChoice(e){var t=this.childrenMap.choicesSizer;return t&&t.hideButton(e),this},hideAction(e){return this.childrenMap.actionsSizer.hideButton(e),this},hideToolbar(e){return this.childrenMap.toolbarSizer.hideButton(e),this},hideLeftToolbar(e){return this.childrenMap.leftToolbarSizer.hideButton(e),this},addChoice(e){var t=this.childrenMap.choicesSizer;return t&&t.addButton(e),this},addAction(e){return this.childrenMap.actionsSizer.addButton(e),this},addToolbar(e){return this.childrenMap.toolbarSizer.addButton(e),this},addLeftToolbar(e){return this.childrenMap.leftToolbarSizer.addButton(e),this},removeChoice(e,t){var r=this.childrenMap.choicesSizer;return r&&r.removeButton(e,t),this},removeAction(e,t){return this.childrenMap.actionsSizer.removeButton(e,t),this},removeToolbar(e,t){return this.childrenMap.toolbarSizer.removeButton(e,t),this},removeLeftToolbar(e,t){return this.childrenMap.leftToolbarSizer.removeButton(e,t),this},clearChoices(e){var t=this.childrenMap.choicesSizer;return t&&t.clearButtons(e),this},clearActions(e){return this.childrenMap.actionsSizer.clearButtons(e),this},clearToolbar(e){return this.childrenMap.toolbarSizer.clearButtons(e),this},clearLeftToolbar(e){return this.childrenMap.leftToolbarSizer.clearButtons(e),this},forEachChoice(e,t){var r=this.childrenMap.choicesSizer;return r&&r.forEachButtton(e,t),this},forEachAction(e,t){return this.childrenMap.actionsSizer.forEachButtton(e,t),this},forEachToolbar(e,t){return this.childrenMap.toolbarSizer.forEachButtton(e,t),this},forEachLeftToolbar(e,t){return this.childrenMap.leftToolbarSizer.forEachButtton(e,t),this},setAllButtonsEnable(e){return e===void 0&&(e=!0),this.childrenMap.toolbarSizer&&this.setToolbarEnable(e),this.childrenMap.leftToolbarSizer&&this.setLeftToolbarEnable(e),this.childrenMap.actionsSizer&&this.setActionEnable(e),this.childrenMap.choicesSizer&&this.setChoiceEnable(e),this},getChoicesButtonStates(){var e=this.childrenMap.choicesSizer;return e?e.getAllButtonsState():{}},getChoicesButtonState(e){var t=this.childrenMap.choicesSizer;return e===void 0?t?t.getAllButtonsState():{}:t?t.getButtonState(e):!1},setChoicesButtonState(e,t){var r=this.childrenMap.choicesSizer;return r&&r.setButtonState(e,t),this},clearChoicesButtonStates(){var e=this.childrenMap.choicesSizer;return e&&e.clearAllButtonsState(),this},getChoicesSelectedButtonName(){var e=this.childrenMap.choicesSizer;return e?e.getSelectedButtonName():""},setChoicesSelectedButtonName(e){var t=this.childrenMap.choicesSizer;return t&&t.setSelectedButtonName(e),this},hasAnyChoice(){var e=this.childrenMap.choicesSizer;return e?e.hasAnyButton():!1},hasAnyAction(){var e=this.childrenMap.actionsSizer;return e?e.hasAnyButton():!1},hasAnyToolbar(){var e=this.childrenMap.toolbarSizer;return e?e.hasAnyButton():!1},hasAnyLeftToolbar(){var e=this.childrenMap.leftToolbarSizer;return e?e.hasAnyButton():!1}},Vut={onCreateModalBehavior(e){e.on("button.click",function(t,r,h,y,P){var n=!1;switch(r){case"actions":n=!0;break;case"choices":e.hasAnyAction()||(n=!0);break}if(n){var T={index:h,text:t.text,button:t,dialog:e};switch(e.buttonsType){case"radio":T.value=e.getChoicesSelectedButtonName();break;case"checkboxes":T.value=e.getChoicesButtonStates();break;default:T.value=void 0}e.modalClose(T)}})},modal(e,t){return e&&e.defaultBehavior===!1?this.onCreateModalBehavior=!1:delete this.onCreateModalBehavior,Tx.modal.call(this,e,t),this}};var II={};Object.assign(II,Uut,Vut);const me=Phaser.Utils.Objects.GetValue;class up extends Je{constructor(t,r){r===void 0&&(r={}),r.orientation=1,super(t,r),this.type="rexDialog",this.eventEmitter=me(r,"eventEmitter",this);var h=me(r,"background",void 0),y=me(r,"title",void 0),P=me(r,"toolbar",void 0),n=me(r,"toolbarBackground",void 0),T=me(r,"leftToolbar",void 0),i=me(r,"leftToolbarBackground",void 0),a=me(r,"content",void 0),x=me(r,"description",void 0),d,l=me(r,"choices",void 0),o=me(r,"choicesBackground",void 0),s,f=me(r,"actions",void 0),c=me(r,"actionsBackground",void 0),u=me(r,"click",void 0);h&&this.addBackground(h);var v;P&&(v=new Nr(t,{groupName:"toolbar",background:n,buttons:P,orientation:0,space:{item:me(r,"space.toolbarItem",0)},click:u,eventEmitter:this.eventEmitter}),t.add.existing(v));var p;if(T&&(p=new Nr(t,{groupName:"leftToolbar",background:i,buttons:T,orientation:0,space:{item:me(r,"space.leftToolbarItem",0)},click:u,eventEmitter:this.eventEmitter}),t.add.existing(p)),y||P||T){var m=!!y&&me(r,"expand.title",!0),g=me(r,"align.title","center"),C=y&&!m&&g==="center"||!y&&(P||T),M=!C,b;M?b=new Je(t,{orientation:0}):b=new Ns(t),t.add.existing(b);var w=M?!0:{height:!0};if(p&&b.add(p,{align:"left",expand:w}),y){M&&!m&&g==="right"&&b.addSpace();var R={left:me(r,"space.titleLeft",0),right:me(r,"space.titleRight",0)},A=m?1:0;b.add(y,{align:g,proportion:A,expand:w,padding:R}),M&&!m&&g==="left"&&b.addSpace()}v&&(M&&!y&&b.addSpace(),b.add(v,{align:"right",expand:w}));var R;(a||x||l||f)&&(R={bottom:me(r,"space.title",0),top:me(r,"space.titleTop",0)});var A=me(r,"proportion.title",0);this.add(b,{padding:R,proportion:A,expand:!0})}if(a){var L=me(r,"align.content","center"),D=me(r,"space.content",0),R={left:me(r,"space.contentLeft",0),right:me(r,"space.contentRight",0),bottom:x||l||f?D:0},A=me(r,"proportion.content",0),G=me(r,"expand.content",!0);this.add(a,{align:L,padding:R,proportion:A,expand:G})}if(x){var L=me(r,"align.description","center"),B=me(r,"space.description",0),R={left:me(r,"space.descriptionLeft",0),right:me(r,"space.descriptionRight",0),bottom:l||f?B:0},A=me(r,"proportion.description",0),G=me(r,"expand.description",!0);this.add(x,{align:L,padding:R,proportion:A,expand:G})}if(l){var I=me(r,"choicesType","").split("-"),k=vv(I,"wrap")?$h:vv(I,"grid")?Wx:Nr,z=vv(I,"radio")?"radio":vv(I,"checkboxes")?"checkboxes":void 0,X={left:me(r,"space.choicesBackgroundLeft",0),right:me(r,"space.choicesBackgroundRight",0),top:me(r,"space.choicesBackgroundTop",0),bottom:me(r,"space.choicesBackgroundBottom",0)},H=me(r,"space.choice",0);k===Nr?X.item=H:k===$h?(X.item=H,X.line=me(r,"space.choiceLine",H)):(X.column=me(r,"space.choiceColumn",H),X.row=me(r,"space.choiceRow",H));var Q={width:me(r,"choicesWidth",void 0),height:me(r,"choicesHeight",void 0),groupName:"choices",buttonsType:z,background:o,buttons:l,space:X,click:u,eventEmitter:this.eventEmitter,setValueCallback:me(r,"choicesSetValueCallback",void 0),setValueCallbackScope:me(r,"choicesSetValueCallbackScope",void 0)};k===Nr&&(Q.orientation=vv(I,"x")?0:1),d=new k(t,Q),t.add.existing(d);var J=me(r,"space.choices",0),R={left:me(r,"space.choicesLeft",0),right:me(r,"space.choicesRight",0),bottom:f?J:0},L=me(r,"align.choices","center"),A=me(r,"proportion.choices",0),G=me(r,"expand.choices",!0);this.add(d,{align:L,padding:R,proportion:A,expand:G}),this.buttonsType=z}if(f){s=new Nr(t,{groupName:"actions",background:c,buttons:f,orientation:0,space:{item:me(r,"space.action",0)},expand:me(r,"expand.actions",!1),align:me(r,"align.actions","center"),click:u,eventEmitter:this.eventEmitter}),t.add.existing(s);var R={left:me(r,"space.actionsLeft",0),right:me(r,"space.actionsRight",0),bottom:me(r,"space.actionsBottom",0)},A=me(r,"proportion.action",0);this.add(s,{align:"center",padding:R,proportion:A,expand:!0})}pv(this,"click"),pv(this,"over"),pv(this,"out"),pv(this,"enable"),pv(this,"disable"),this.addChildrenMap("background",h),this.addChildrenMap("title",y),this.addChildrenMap("toolbar",P),this.addChildrenMap("leftToolbar",T),this.addChildrenMap("content",a),this.addChildrenMap("description",x),this.addChildrenMap("choices",d?d.buttons:void 0),this.addChildrenMap("actions",s?s.buttons:void 0),this.addChildrenMap("choicesSizer",d),this.addChildrenMap("actionsSizer",s),this.addChildrenMap("toolbarSizer",v),this.addChildrenMap("leftToolbarSizer",p)}}var vv=function(e,t){return e.indexOf(t)!==-1},PD={actions:"action",choices:"choice",toolbar:"toolbar",leftToolbar:"leftToolbar"},pv=function(e,t){e.on(`button.${t}`,function(r,h,y,P,n){PD.hasOwnProperty(h)&&e.emit(`${PD[h]}.${t}`,r,y,P,n)})};Object.assign(up.prototype,II);It.register("dialog",function(e){var t=new up(this.scene,e);return this.scene.add.existing(t),t});Lt(window,"RexPlugins.UI.Dialog",up);var zr=function(e,t,r){var h=new lp(e,t,r);return e.add.existing(h),h},Wut=function(e){return e===void 0&&(e={}),Yut.call(this,e),Xut.call(this,e),Hut.call(this,e),$ut.call(this,e),this},Yut=function(e){var t=this.childrenMap.title;e=e.title,e===null?t.hide():(t.show(),t.resetDisplayContent(e))},Xut=function(e){var t=this.childrenMap.content;if(e=e.content,e===null)t.hide();else if(t.show(),t.resetDisplayContent)t.resetDisplayContent(e);else{var r=e||"";t.setText(r)}},Hut=function(e){var t=this.childrenMap.actions;if(t){var r=e.buttons;if(r){for(var P=this.scene,n=this.defaultActionConfig,T=this.defaultActionButtonCreator,i=0,a=r.length;i<a;i++){var x=r[i],d=t[i];d||(d=zr(P,n,T),this.addAction(d)),d.show().resetDisplayContent(x)}this.buttonMode=r.length;for(var i=r.length,a=t.length;i<a;i++)t[i].hide()}else{var h=t[0];h&&(e.buttonA===null?h.hide():(h.show(),h.resetDisplayContent(e.buttonA)));var y=t[1];y&&(e.buttonB===null?y.hide():(y.show(),y.resetDisplayContent(e.buttonB)))}}},$ut=function(e){var t=this.childrenMap.choices;if(t){var r=e.choices;r||(r=[]);for(var h=this.scene,y=this.defaultChoiceConfig,P=this.defaultActionButtonCreator,n=0,T=r.length;n<T;n++){var i=r[n];typeof i=="string"&&(i={text:i});var a=t[n];a||(a=zr(h,y,P),this.addChoice(a)),a.show().resetDisplayContent(i);var x;i.hasOwnProperty("value")?x=i.value:x=i.text,a.setName(x)}for(var n=r.length,T=t.length;n<T;n++)t[n].hide()}};const Kut=Phaser.Utils.Objects.Merge;var Zut=function(e,t){pa(e)&&(t=e,e=void 0),e===void 0&&(e={}),e=Kut(e,this.modalStyle);var r;this.buttonMode===0?this.hasAnyChoice()?r=!1:r=!0:r=!1,e.hasOwnProperty("anyTouchClose")||(e.anyTouchClose=r),e.hasOwnProperty("manualClose")||(e.manualClose=!r);var h=this,y=function(P){var n=P.index;n===h.confirmButtonIndex?h.emit("confirm",P):n===h.cancelButtonIndex&&h.emit("cancel",P),t&&t(P)};return Tx.modal.call(this,e,y),this};const Jut={setConfirmButtonIndex(e){return this.confirmButtonIndex=e,this},setCancelButtonIndex(e){return this.cancelButtonIndex=e,this}};var GI={resetDisplayContent:Wut,modal:Zut};Object.assign(GI,Jut);var Qut=function(e){e.setHoverState&&e.setHoverState(!0)},jut=function(e){e.setHoverState&&e.setHoverState(!1)},qut=function(e,t,r,h){e.setActiveState&&e.setActiveState(h)},_ut=function(e){e.setDisableState&&e.setDisableState(!1)},tft=function(e){e.setDisableState&&e.setDisableState(!0)},kI=function(){this.on("button.over",Qut).on("button.out",jut).on("button.enable",_ut).on("button.disable",tft).on("button.statechange",qut)};const eft=Phaser.Utils.Objects.GetValue;var ift=function(e,t,r){var h=eft(t,"$type");h===void 0&&t&&(t.hasOwnProperty("slider")||t.hasOwnProperty("scroller"))&&(h="textarea");var y;switch(h){case"textarea":y=new OI(e,t,r);break;default:y=new zr(e,t,r);break}return e.add.existing(y),y};const OE=Phaser.Utils.Objects.GetValue;class Yx extends up{constructor(t,r,h){r=r?Ur(r):{},h===void 0&&(h={});var y=OE(h,"background",Rr);r.background=y(t,r.background),r.title=zr(t,r.title,h.title),r.content=ift(t,r.content,h.content),r.content instanceof hp&&Bo(r,"height")&&!Bo(r,"proportion.content")&&Lt(r,"proportion.content",1);var P=r.button,n=r.buttonA||P,T=r.buttonB||P,i=r.buttonMode;i===void 0&&(i=n&&T?2:n?1:0);var a=h.button,x=h.buttonA||a,d=h.buttonB||a;switch(i){case 2:r.actions=[zr(t,n,x),zr(t,T,d)];break;case 1:r.actions=[zr(t,n,x)];break;case 0:break;default:r.actions=[];break}var l=r.choice;l&&(r.choices=[]),super(t,r),this.type="rexConfirmDialog",this.buttonMode=i,this.defaultActionConfig=P,this.defaultActionButtonCreator=a,this.defaultChoiceConfig=l,this.defaultChoiceCreator=h.choice;var o=this.childrenMap.actions;this.addChildrenMap("buttonA",o?o[0]:null),this.addChildrenMap("buttonB",o?o[1]:null),kI.call(this),this.setConfirmButtonIndex(OE(r,"confirmButtonIndex",0)),this.setCancelButtonIndex(OE(r,"cancelButtonIndex",1)),this.modalStyle=r.modal||{}}}Object.assign(Yx.prototype,GI);It.register("confirmDialog",function(e,t){var r=new Yx(this.scene,e,t);return this.scene.add.existing(r),r});Lt(window,"RexPlugins.UI.ConfirmDialog",Yx);const MD=Phaser.Utils.Objects.GetValue;var NI=function(e,t){var r=t.dialog,h=!r;if(h){var y=t.style;y.buttonMode=2,r=new Yx(e,y,t.creators),e.add.existing(r)}r.setConfirmButtonIndex(MD(t,"confirmButtonIndex",0)).setCancelButtonIndex(MD(t,"cancelButtonIndex",1)).resetDisplayContent(t.content).layout(),h&&t.onCreateDialog&&t.onCreateDialog(r);var P=t.modal;P&&!P.hasOwnProperty("destroy")&&(P.destroy=h);var n=t.confirm,T=t.cancel,i=t.confirmScope,a=t.cancelScope;n&&r.once("confirm",n,i),T&&r.once("cancel",T,a);var x=function(d){r.off("confirm",n,i),r.off("cancel",T,a)};return r.modal(P,x),r};class zI extends Ho{constructor(t,r){r===void 0&&(r={}),super(t,r),this.type="rexConfirmActionButton",this.setConfirmDialogEnable(),this.confirmActionConfig=va(r.confirmDialog||{}),r.confirm&&this.setConfirmCallback(r.confirm,r.confirmScope),r.cancel&&this.setCancelCallback(r.cancel,r.cancelScope),this.onClickCallback=function(){if(this.confirmDialogEnable){if(this.confirmDialog)return;this.confirmDialog=NI(t,this.confirmActionConfig),this.confirmDialog.once("destroy",function(){this.confirmDialog=void 0},this)}else this.runConfirmCallback()},this.onClick(this.onClickCallback,this)}destroy(t){!this.scene||this.ignoreDestroy||(this.confirmDialog&&this.confirmDialog.destroy(),super.destroy(t),this.confirmActionConfig=void 0,this.onClickCallback=void 0,this.confirmDialog=void 0)}setConfirmCallback(t,r){return this.confirmActionConfig.confirm=t,this.confirmActionConfig.confirmScope=r,this}setCancelCallback(t,r){return this.confirmActionConfig.cancel=t,this.confirmActionConfig.cancelScope=r,this}setConfirmDialogContent(t){return this.confirmActionConfig.content=t,this}setConfitmDialogStyle(t){return this.confirmActionConfig.style=t,this}setConfitmDialogModalConfig(t){return this.confirmActionConfig.modal=t,this}setConfirmDialogEnable(t){return t===void 0&&(t=!0),this.confirmDialogEnable=t,this}runConfirmCallback(){var t=this.confirmActionConfig.confirm,r=this.confirmActionConfig.confirmScope;return t&&t.call(r),this}}It.register("confirmActionButton",function(e){var t=new zI(this.scene,e);return this.scene.add.existing(t),t});Lt(window,"RexPlugins.UI.ConfirmActionButton",zI);var rft=function(e){return e===void 0&&(e={}),nft.call(this,e),sft.call(this,e),aft.call(this,e),this},nft=function(e){var t=this.childrenMap.title;e.title===null?this.hide(t):(this.show(t),t.resetDisplayContent(e.title))},sft=function(e){var t=this.childrenMap.firstNameTitle;if(e.firstNameTitle===null)this.hide(t);else{this.show(t);var r=e.firstNameTitle||"";t.resetDisplayContent(r)}var h=this.childrenMap.firstNameInput;if(e.firstName===null)this.hide(h);else{this.show(h);var y=e.firstName||"";h.setText(y)}var P=this.childrenMap.lastNameTitle;if(e.lastNameTitle===null)this.hide(P);else{this.show(P);var n=e.lastNameTitle||"";P.resetDisplayContent(n)}var T=this.childrenMap.lastNameInput;if(e.lastName===null)this.hide(T);else{this.show(T);var i=e.lastName||"";T.setText(i)}},aft=function(e){var t=this.childrenMap.actions[0];e.button===null?this.hide(t):(this.show(t),t.resetDisplayContent(e.button))};const oft=Phaser.Utils.Objects.Merge;var hft=function(e,t){pa(e)&&(t=e,e=void 0),e===void 0&&(e={}),e=oft(e,this.modalStyle),e.anyTouchClose=!1,e.manualClose=!1;var r=this,h=function(y){y.firstName=r.firstName,y.lastName=r.lastName,r.emit("confirm",y),t&&t(y)};return Tx.modal.call(this,e,h),this},lft={resetDisplayContent:rft,modal:hft},Kh=function(e,t,r){r===void 0&&(r=!0),r?t=t?Ur(t):{}:t||(t={});var h=new Hv(e,t);return e.add.existing(h),h};const Ls=Phaser.Utils.Objects.GetValue;var uft=function(e,t,r){var h=pu(Ls(t,"layoutMode",0)),y=h===0,P=new Je(e,{orientation:h,space:{item:Ls(t,"space.firstName",0)}});e.add.existing(P);var n=new Je(e,{orientation:"x"});e.add.existing(n);var T=Ls(t,"firstNameTitle",t.nameTitle),i=zr(e,T,r.firstNameTitle||r.nameTitle);n.add(i,{expand:!0,proportion:Ls(t,"proportion.firstNameTitle",0),padding:{right:Ls(t,"space.firstNameTitle",0)}});var a=t.nameInput||{},x=Ls(t,"firstNameInput",a),d=Kh(e,x,r.firstNameInput||r.nameInput),l=!x.hasOwnProperty("width");n.add(d,{expand:!0,proportion:l?1:0});var o=new Je(e,{orientation:"x"});e.add.existing(o);var s=Ls(t,"lastNameTitle",t.nameTitle),f=zr(e,s,r.lastNameTitle||r.nameTitle);o.add(f,{expand:!0,proportion:Ls(t,"proportion.lastNameTitle",0),padding:{right:Ls(t,"space.lastNameTitle",0)}});var c=Ls(t,"firstNameInput",a),u=Kh(e,c,r.lastNameInput||r.nameInput),v=!c.hasOwnProperty("width");if(o.add(u,{expand:!0,proportion:v?1:0}),y){var p=l?1:0,m=Ls(t,"proportion.firstName",p);P.add(n,{expand:!0,proportion:m});var g=v?1:0,C=Ls(t,"proportion.lastName",g);P.add(o,{expand:!0,proportion:C})}else P.add(n,{expand:l,proportion:0}),P.add(o,{expand:v,proportion:0});return P.addChildrenMap("firstNameTitle",i),P.addChildrenMap("firstNameInput",d),P.addChildrenMap("lastNameTitle",f),P.addChildrenMap("lastNameInput",u),P};const fft=Phaser.Utils.Objects.GetValue;class VM extends up{constructor(t,r,h){r===void 0&&(r={}),h===void 0&&(h={}),r.orientation="y";var y=r.space;y&&(y.hasOwnProperty("names")&&(y.content=y.names),y.hasOwnProperty("namesLeft")&&(y.contentLeft=y.namesLeft),y.hasOwnProperty("namesRight")&&(y.contentRight=y.namesRight));var P=fft(h,"background",Rr);r.background=P(t,r.background),r.title=zr(t,r.title,h.title),r.content=uft(t,r,h),r.actions=[zr(t,r.button,h.button)],super(t,r),this.type="rexNameInputDialog";var n=r.content.childrenMap;this.addChildrenMap("firstNameTitle",n.firstNameTitle),this.addChildrenMap("firstNameInput",n.firstNameInput),this.addChildrenMap("lastNameTitle",n.lastNameTitle),this.addChildrenMap("lastNameInput",n.lastNameInput),this.addChildrenMap("button",r.actions[0]),kI.call(this),this.modalStyle=r.modal||{}}get firstName(){return this.childrenMap.firstNameInput.text}set firstName(t){this.childrenMap.firstNameInput.setText(t)}setFirstName(t){return this.firstName=t,this}get lastName(){return this.childrenMap.lastNameInput.text}set lastName(t){this.childrenMap.lastNameInput.setText(t)}setLastName(t){return this.lastName=t,this}}Object.assign(VM.prototype,lft);It.register("nameInputDialog",function(e,t){var r=new VM(this.scene,e,t);return this.scene.add.existing(r),r});Lt(window,"RexPlugins.UI.NameInputDialog",VM);var eu=function(e,t){if(e){var r=cs(e);r&&r.remove(e,t)}};const C0=Phaser.Utils.Objects.GetValue;var fp=function(e,t,r){var h=C0(e,`proportion.${t}`,r.proportion),y=C0(e,`align.${t}`,"center"),P=C0(e,`space.${t}`,void 0);if(typeof P=="number"&&r.paddingKey){var n=P;P={},P[r.paddingKey]=n}var T=C0(e,`expand.${t}`,!0);return{proportion:h,align:y,padding:P,expand:T}},Xx=function(e){return fp(e,"header",{proportion:0,paddingKey:"bottom"})},Hx=function(e){return fp(e,"leftSide",{proportion:0,paddingKey:"right"})},$x=function(e){return fp(e,"content",{proportion:1})},Kx=function(e){return fp(e,"rightSide",{proportion:0,paddingKey:"left"})},Zx=function(e){return fp(e,"footer",{proportion:0,paddingKey:"top"})},Go=function(e){return{proportion:1,align:"center",padding:0,expand:!0}},ko=function(e,t){var r=new Je(e,{orientation:t});return e.add.existing(r),r},dft=function(e){var t=this.scene,r=e.header;r&&this.add(r,Xx(e));var h=ko(t,0);this.add(h,Go());var y=e.leftSide;y&&h.add(y,Hx(e));var P=e.content;P&&h.add(P,$x(e));var n=e.rightSide;n&&h.add(n,Kx(e));var T=e.footer;T&&this.add(T,Zx(e))},cft=function(e){var t=this.scene,r=e.header;r&&this.add(r,Xx(e));var h=ko(t,0);this.add(h,Go());var y=e.leftSide;y&&h.add(y,Hx(e));var P=ko(t,1);h.add(P,Go());var n=ko(t,0);P.add(n,Go());var T=e.content;T&&n.add(T,$x(e));var i=e.rightSide;i&&n.add(i,Kx(e));var a=e.footer;a&&P.add(a,Zx(e))},vft=function(e){var t=this.scene,r=e.header;r&&this.add(r,Xx(e));var h=ko(t,0);this.add(h,Go());var y=ko(t,1);h.add(y,Go());var P=ko(t,0);y.add(P,Go());var n=e.leftSide;n&&P.add(n,Hx(e));var T=e.content;T&&P.add(T,$x(e));var i=e.footer;i&&y.add(i,Zx(e));var a=e.rightSide;a&&h.add(a,Kx(e))},pft=function(e){var t=this.scene,r=e.header;r&&this.add(r,Xx(e));var h=ko(t,0);this.add(h,Go());var y=e.leftSide;y&&h.add(y,Hx(e));var P=ko(t,1);h.add(P,Go());var n=e.content;n&&P.add(n,$x(e));var T=e.footer;T&&P.add(T,Zx(e));var i=e.rightSide;i&&h.add(i,Kx(e))};const gft=Phaser.Utils.Objects.GetValue,bD=[dft,cft,vft,pft];var mft=function(e){e===void 0&&(e={});var t=e.background,r=e.header,h=e.leftSide,y=e.content,P=e.rightSide,n=e.footer;eu(t),eu(r),eu(h),eu(y),eu(P),eu(n),this.clear(!0),t&&this.addBackground(t);var T=gft(e,"layoutMode",0);typeof T=="string"&&(T=xft[T.toUpperCase()]);var i=bD[T]||bD[0];return i.call(this,e),this.addChildrenMap("background",t),this.addChildrenMap("header",r),this.addChildrenMap("leftSide",h),this.addChildrenMap("content",y),this.addChildrenMap("rightSide",P),this.addChildrenMap("footer",n),this};const xft={FFF:0,LFF:1,FFR:2,LFR:3};class WM extends Je{constructor(t,r){r===void 0&&(r={}),r.orientation=1,super(t,r),this.type="rexHolyGrail",this.build(r)}}var yft={build:mft};Object.assign(WM.prototype,yft);It.register("holyGrail",function(e){var t=new WM(this.scene,e);return this.scene.add.existing(t),t});Lt(window,"RexPlugins.UI.HolyGrail",WM);const Cft={getButtonsSizer(e){return this.childrenMap[`${e}ButtonsSizer`]},getButton(e,t){var r=this.getButtonsSizer(e);return r?r.getButton(t):void 0},setButtonEnable(e,t,r){return this.getButtonsSizer(e).setButtonEnable(t,r),this},setLeftButtonEnable(e,t){return this.childrenMap.leftButtonsSizer.setButtonEnable(e,t),this},setRightButtonEnable(e,t){return this.childrenMap.rightButtonsSizer.setButtonEnable(e,t),this},setTopButtonEnable(e,t){return this.childrenMap.topButtonsSizer.setButtonEnable(e,t),this},setBottomButtonEnable(e,t){return this.childrenMap.bottomButtonsSizer.setButtonEnable(e,t),this},toggleButtonEnable(e,t){return this.getButtonsSizer(e).toggleButtonEnable(t),this},toggleLeftButtonEnable(e){return this.childrenMap.leftButtonsSizer.toggleButtonEnable(e),this},toggleRightButtonEnable(e){return this.childrenMap.rightButtonsSizer.toggleButtonEnable(e),this},toggleTopButtonEnable(e){return this.childrenMap.topButtonsSizer.toggleButtonEnable(e),this},toggleBottomButtonEnable(e){return this.childrenMap.bottomButtonsSizer.toggleButtonEnable(e),this},getButtonEnable(e,t){return this.getButtonsSizer(e).getButtonEnable(t)},getLeftButtonEnable(e){return this.childrenMap.leftButtonsSizer.getButtonEnable(e)},getRightButtonEnable(e){return this.childrenMap.rightButtonsSizer.getButtonEnable(e)},getTopButtonEnable(e){return this.childrenMap.topButtonsSizer.getButtonEnable(e)},getBottomButtonEnable(e){return this.childrenMap.bottomButtonsSizer.getButtonEnable(e)},emitButtonClick(e,t){var r=this.getButtonsSizer(e);return r?(r.emitButtonClick(t),this):this},emitLeftButtonClick(e){return this.childrenMap.leftButtonsSizer.emitButtonClick(e),this},emitRightButtonClick(e){return this.childrenMap.rightButtonsSizer.emitButtonClick(e),this},emitTopButtonClick(e){return this.childrenMap.topButtonsSizer.emitButtonClick(e),this},emitBottomButtonClick(e){return this.childrenMap.bottomButtonsSizer.emitButtonClick(e),this},getLeftButton(e){return this.childrenMap.leftButtonsSizer.getButton(e)},getRightButton(e){return this.childrenMap.rightButtonsSizer.getButton(e)},getTopButton(e){return this.childrenMap.topButtonsSizer.getButton(e)},getBottomButton(e){return this.childrenMap.bottomButtonsSizer.getButton(e)},showButton(e,t){return zh(this.getButton(e,t)),this},showLeftButton(e){return zh(this.getLeftButton(e)),this},showRightButton(e){return zh(this.getRightButton(e)),this},showTopButton(e){return zh(this.getTopButton(e)),this},showBottomButton(e){return zh(this.getBottomButton(e)),this},hideButton(e,t){return Uh(this.getButton(e,t)),this},hideLeftButton(e){return Uh(this.getLeftButton(e)),this},hideRightButton(e){return Uh(this.getRightButton(e)),this},hideTopButton(e){return Uh(this.getTopButton(e)),this},hideBottomButton(e){return Uh(this.getBottomButton(e)),this},addButton(e,t){return this.getButtonsSizer(e).addButton(t),this},addLeftButton(e){return this.addButton("left",e),this},addRightButton(e){return this.addButton("right",e),this},addTopButton(e){return this.addButton("top",e),this},removeButton(e,t,r){return this.getButtonsSizer(e).removeButton(t,r),this},removeLeftButton(e,t){return this.removeButton("left",e,t),this},removeRightButton(e,t){return this.removeButton("right",e,t),this},removeTopButton(e,t){return this.removeButton("top",e,t),this},removeBottomButton(e,t){return this.removeButton("bottom",e,t),this},clearButtons(e,t){return this.getButtonsSizer(e).clearButtons(t),this},clearLeftButtons(e){return this.clearButtons("left",e),this},clearRightButtons(e){return this.clearButtons("right",e),this},clearTopButtons(e){return this.clearButtons("top",e),this},clearBottomButtonss(e){return this.clearButtons("bottom",e),this},forEachButton(e,t,r){return this.getButtonsSizer(e).forEachButtton(t,r),this},forEachLeftButton(e,t){return this.childrenMap.leftButtonsSizer.forEachButtton(e,t),this},forEachRightButton(e,t){return this.childrenMap.rightButtonsSizer.forEachButtton(e,t),this},forEachTopButton(e,t){return this.childrenMap.topButtonsSizer.forEachButtton(e,t),this},forEachBottomButton(e,t){return this.childrenMap.bottomButtonsSizer.forEachButtton(e,t),this}},Ci=Phaser.Utils.Objects.GetValue;class YM extends xa{constructor(t,r){r===void 0&&(r={}),r.column=3,r.row=3,r.columnProportions=[0,0,0],r.rowProportions=[0,0,0];var h=Ci(r,"expand.panel",!1);h&&(r.columnProportions[1]=1,r.rowProportions[1]=1),super(t,r),this.type="rexTabs",this.eventEmitter=Ci(r,"eventEmitter",this);var y=Ci(r,"background",void 0),P=Ci(r,"panel",void 0),n=Ci(r,"leftButtons",void 0),T=Ci(r,"leftButtonsBackground",void 0),i,a=Ci(r,"rightButtons",void 0),x=Ci(r,"rightButtonsBackground",void 0),d,l=Ci(r,"topButtons",void 0),o=Ci(r,"topButtonsBackground",void 0),s,f=Ci(r,"bottomButtons",void 0),c=Ci(r,"bottomButtonsBackground",void 0),u,v=Ci(r,"click",void 0);if(y&&this.addBackground(y),P&&this.add(P,{column:1,row:1,expand:h}),n){var p=Ci(r,"space.leftButtonsOffset",0),m=Ci(r,"space.leftButton",0),g=Ci(r,"expand.leftButtons",!1),C=Ci(r,"align.leftButtons","top");i=new Nr(t,{groupName:"left",background:T,buttons:n,orientation:"y",space:{item:m},expand:g,click:v,eventEmitter:this.eventEmitter}),this.add(i,{column:0,row:1,align:C,padding:{top:p},expand:g})}if(a){var M=Ci(r,"space.rightButtonsOffset",0),b=Ci(r,"space.rightButton",0),w=Ci(r,"expand.rightButtons",!1),R=Ci(r,"align.rightButtons","top");d=new Nr(t,{groupName:"right",background:x,buttons:a,orientation:"y",space:{item:b},expand:w,click:v,eventEmitter:this.eventEmitter}),this.add(d,{column:2,row:1,align:R,padding:{top:M},expand:w})}if(l){var A=Ci(r,"space.topButtonsOffset",0),L=Ci(r,"space.topButton",0),D=Ci(r,"expand.topButtons",!1),G=Ci(r,"align.topButtons","left");s=new Nr(t,{groupName:"top",background:o,buttons:l,orientation:"x",space:{item:L},expand:D,align:Ci(r,"align.topButtons",void 0),click:v,eventEmitter:this.eventEmitter}),this.add(s,{column:1,row:0,align:G,padding:{left:A},expand:D})}if(f){var B=Ci(r,"space.bottomButtonsOffset",0),I=Ci(r,"space.bottomButton",0),k=Ci(r,"expand.bottomButtons",!1),z=Ci(r,"align.bottomButtons","left");u=new Nr(t,{groupName:"bottom",background:c,buttons:f,orientation:"x",space:{item:I},expand:k,align:Ci(r,"align.bottomButtons",void 0),click:v,eventEmitter:this.eventEmitter}),this.add(u,{column:1,row:2,align:z,padding:{left:B},expand:k})}this.addChildrenMap("background",y),this.addChildrenMap("panel",P),this.addChildrenMap("leftButtons",n),this.addChildrenMap("rightButtons",a),this.addChildrenMap("topButtons",l),this.addChildrenMap("bottomButtons",f),this.addChildrenMap("leftButtonsSizer",i),this.addChildrenMap("rightButtonsSizer",d),this.addChildrenMap("topButtonsSizer",s),this.addChildrenMap("bottomButtonsSizer",u)}}Object.assign(YM.prototype,Cft);It.register("tabs",function(e){var t=new YM(this.scene,e);return this.scene.add.existing(t),t});Lt(window,"RexPlugins.UI.Tabs",YM);It.register("slider",function(e){var t=new fd(this.scene,e);return this.scene.add.existing(t),t});Lt(window,"RexPlugins.UI.Slider",fd);class UI{constructor(t,r){this.container=null,this._deltaHeight=0,this.setParent(t)}setParent(t){this.parent=t,this.parentContainer=t.getParentContainer()}destroy(t){t===void 0&&(t=!1),t||this.destroyContainer(),this.deltaHeight=0,this.data=void 0,this.container=null,this.parent=void 0,this.parentContainer=void 0}get table(){return this.parent}get scrollMode(){return this.parentContainer.scrollMode}get colIndx(){return this.parent.cellIndxeToColIndex(this.index)}get rowIndx(){return this.parent.cellIndxeToRowIndex(this.index)}getContainer(){return this.container}setContainer(t){return t?(this.container&&this.container.destroy(),this.container=t,this.parentContainer.add(t),this):(this.destroyContainer(),this)}destroyContainer(){return this.container&&(this.container.destroy(),this.container=null),this}popContainer(){if(this.container){var t=this.container;return this.container=null,this.parentContainer.remove(t),t}else return null}setXY(t,r){return this.container&&this.parentContainer.setChildLocalPosition(this.container,t,r),this}setCellContainerAlign(t){return typeof t=="string"&&(t=ld[t]),this.cellContainerAlign=t,this}get deltaHeight(){return this._deltaHeight}set deltaHeight(t){t==null&&(t=0);var r=this.parent;this._deltaHeight===0&&t!==0?r.nonZeroDeltaHeightCount++:this._deltaHeight!==0&&t===0&&r.nonZeroDeltaHeightCount--;var h=this._deltaHeight!==t;if(this._deltaHeight=t,h){r.resetTotalRowsHeight();var y=this.scrollMode===0?"cellheightchange":"cellwidthchange";this.parentContainer.emit(y,this,this.container,this.parentContainer)}}get deltaWidth(){return this.deltaHeight}set deltaWidth(t){this.deltaHeight=t}setDeltaHeight(t){return this.deltaHeight=t,this}setDeltaWidth(t){return this.deltaHeight=t,this}get height(){return this.scrollMode===0?this.deltaHeight+this.parent.defaultCellHeight:this.parent.defaultCellWidth}set height(t){this.scrollMode!==1&&this.setDeltaHeight(t-this.parent.defaultCellHeight)}setHeight(t){return this.height=t,this}get width(){return this.scrollMode===0?this.parent.defaultCellWidth:this.deltaHeight+this.parent.defaultCellHeight}set width(t){this.scrollMode!==0&&this.setDeltaHeight(t-this.parent.defaultCellHeight)}setWidth(t){return this.width=t,this}get scene(){return this.parentContainer.scene}}Object.assign(UI.prototype,rx);const wD=Phaser.Utils.Objects.GetValue,Sft=Phaser.Utils.Array.SpliceOne;class Tft{constructor(t,r){this.parent=t,this.cells=[],this.cellPool=new $a,this.resetFromJSON(r)}resetFromJSON(t){t===void 0&&(t={}),this.colCount=void 0,this.nonZeroDeltaHeightCount=0,this.resetTotalRowsHeight();var r=t.cellHeight;r===void 0&&(r=60);var h=t.cellWidth;return h===void 0&&(h=60),this.setDefaultCellHeight(r),this.setDefaultCellWidth(h),this.initCells(wD(t,"cellsCount",0)),this.setColumnCount(wD(t,"columns",1)),this}destroy(t){this.cellPool.destroy(),this.cells=void 0,this.parent=void 0}get defaultCellHeightMode(){return this.nonZeroDeltaHeightCount===0}setDefaultCellHeight(t){return this.defaultCellHeight=t,this}setDefaultCellWidth(t){return this.defaultCellWidth=t,this}initCells(t){var r=this.cells;r.length=t;for(var h=0;h<t;h++)r[h]=null;return this}insertNewCells(t,r){var h=this.cells;if(t===h.length){var y=t+r;h.legth=y;for(var P=t;P<y;P++)h[P]=null}else{var n=[];n.length=r;for(var P=0;P<r;P++)n[P]=null;this.cells.splice(t,0,...n)}return this.resetTotalRowsHeight(),this}removeCells(t,r){for(var h=t+r,y=t;y<h;y++)this.freeCell(y);return h===this.cells.length?this.cells.length=t:(r===1?Sft(this.cells,t):this.cells.splice(t,r),this.buildCellIndex(t)),this.resetTotalRowsHeight(),this}setColumnCount(t){this.colCount=t,this.resetTotalRowsHeight();var r=this.parent;if(r.expandCellSize){var h=r.scrollMode===0?r.width:r.height,y=h/t;this.setDefaultCellWidth(y)}return this}get rowCount(){return Math.ceil(this.cells.length/this.colCount)}get cellsCount(){return this.cells.length}isValidCellIdx(t){return t>=0&&t<this.cells.length}heightToRowIndex(t,r){if(r===void 0&&(r=0),t===0)return 0;if(this.defaultCellHeightMode){var T=t/this.defaultCellHeight;switch(r){case 1:T=Math.ceil(T);break;default:T=Math.floor(T);break}return T}for(var h=this.rowCount,y=t,P,n,T=0;;)if(n=this.getRowHeight(T),y-=n,P=T>=0&&T<h,y>0&&P)T+=1;else{if(y===0)return r===2&&(T+=1),T;if(r===1){var i=T;T+=1,P=T>=0&&T<h,P||(T=i)}return T}}widthToColIndex(t,r){if(t===0)return 0;var h=t/this.defaultCellWidth;return r?h=Math.ceil(h):h=Math.floor(h),h}colRowToCellIndex(t,r){return t>=this.colCount?null:r*this.colCount+t}rowIndexToHeight(t,r){if(this.defaultCellHeightMode)return(r-t+1)*this.defaultCellHeight;for(var h,y=0,P=t;P<=r;P++)h=this.getRowHeight(P),y+=h;return y}colIndexToWidth(t,r){return(r-t+1)*this.defaultCellWidth}getRowHeight(t){var r=this.colCount;if(r<=1)return this.getCellHeight(this.colRowToCellIndex(0,t));for(var h=0,y,P=0;P<r;P++)y=this.getCellHeight(this.colRowToCellIndex(P,t)),h<y&&(h=y);return h}getColWidth(t){return this.defaultCellWidth}getCellHeight(t){if(!this.isValidCellIdx(t))return 0;var r;if(this.defaultCellHeightMode)r=this.defaultCellHeight;else{var h=this.getCell(t,!1),y=h?h.deltaHeight:0;r=this.defaultCellHeight+y}return r}resetTotalRowsHeight(){this._totalRowsHeight=null}get totalRowsHeight(){return this._totalRowsHeight===null&&(this._totalRowsHeight=this.rowIndexToHeight(0,this.rowCount-1)),this._totalRowsHeight}get totalColumnWidth(){return this.colCount*this.defaultCellWidth}cellIndxeToColIndex(t){return t%this.colCount}cellIndxeToRowIndex(t){return Math.floor(t/this.colCount)}getCell(t,r){if(!this.isValidCellIdx(t))return null;if(r===void 0&&(r=!0),this.cells[t]===null&&r){var h=this.newCell(t);this.cells[t]=h}return this.cells[t]}newCell(t){var r=this.cellPool.pop();return r===null?r=new UI(this):r.setParent(this),r.index=t,r}buildCellIndex(t){t===void 0&&(t=0);for(var r=this.cells,h,y=t,P=r.length;y<P;y++)h=r[y],h&&(h.index=y);return this}getParentContainer(){return this.parent}freeCell(t){return typeof t=="number"&&(t=this.cells[t]),t?(t.destroy(),this.cellPool.push(t),this):this}}var Eft=function(e){var t=this.table,r=this.topTableOY,h=this.bottomTableOY,y=e>r,P=e<h;if(this.clampTableOXY){var n=t.rowCount,T=t.heightToRowIndex(this.instHeight,1);n<T?e=0:y?e=r:P&&(e=h)}return this._tableOY!==e&&(this._tableOY=e),y&&(this.execeedTopState||this.emit("execeedtop",this,e,r)),this.execeedTopState=y,P&&(this.execeedBottomState||this.emit("execeedbottom",this,e,h)),this.execeedBottomState=P,this},Pft=function(e){var t=this.table,r=this.leftTableOX,h=this.rightTableOX,y=e>this.leftTableOX,P=e<this.rightTableOX;if(this.clampTableOXY){var n=t.colCount,T=t.widthToColIndex(this.instWidth,!0);n<T?e=0:y?e=r:P&&(e=h)}return this._tableOX!==e&&(this._tableOX=e),y&&(this.execeedLeftState||this.emit("execeedleft",this,e,r)),this.execeedLeftState=y,P&&(this.execeedRightState||this.emit("execeedright",this,e,h)),this.execeedRightState=P,this},XM=function(e){return e.hasOwnProperty("geometryMask")?e.geometryMask:e.bitmapMask};const Mft=Phaser.Geom.Intersects.RectangleToRectangle,bft=Phaser.Geom.Rectangle.Overlaps;var wft=function({parent:e,mask:t,children:r,onVisible:h,onInvisible:y,scope:P}){if(t){r===void 0&&(r=e.getAllChildren());for(var n=!!h||!!y,T=e.getBounds(),i=XM(t),a,x,d,l,o=0,s=r.length;o<s;o++)if(a=r[o],a!==i&&Rft(a)){if(l=a.visible,a.getBounds)switch(x=a.getBounds(x),d=Aft(T,x),d){case 4:Oft(e,a);break;case 0:Mft(T,x)||bft(T,x)?LE(e,a,t):Lft(e,a);break;default:LE(e,a,t);break}else LE(e,a,t);if(n&&a.visible!==l){var f=a.visible?h:y;f&&(P?f.call(P,a,e):f(a,e))}}}},Rft=function(e){if(!e.displayList)return!1;for(;;){var t=e.rexContainer;if(t)if(t.visible){var r=t.parent;if(r){e=r;continue}else return!0}else return!1;else return e.visible}},Aft=function(e,t){var r=t.top,h=t.bottom,y=t.left,P=t.right,n=0;return n+=e.contains(y,r)?1:0,n+=e.contains(y,h)?1:0,n+=e.contains(P,r)?1:0,n+=e.contains(P,h)?1:0,n},Oft=function(e,t,r){t.hasOwnProperty("isRexContainerLite")?(t.syncChildrenEnable=!1,e.setChildMaskVisible(t,!0),t.syncChildrenEnable=!0):(t.clearMask&&t.clearMask(),e.setChildMaskVisible(t,!0))},LE=function(e,t,r){t.hasOwnProperty("isRexContainerLite")?(t.syncChildrenEnable=!1,e.setChildMaskVisible(t,!0),t.syncChildrenEnable=!0):(t.setMask&&t.setMask(r),e.setChildMaskVisible(t,!0))},Lft=function(e,t,r){t.hasOwnProperty("isRexContainerLite")?(t.syncChildrenEnable=!1,e.setChildMaskVisible(t,!1),t.syncChildrenEnable=!0):(t.clearMask&&t.clearMask(),e.setChildMaskVisible(t,!1))};const zf=Phaser.Utils.Objects.GetValue,Fft={update:0,everyTick:1},VI={setupChildrenMask(e){return e===!1?this:(this.setMaskUpdateMode(zf(e,"updateMode",0)),this.enableChildrenMask(zf(e,"padding",0)),this.setMaskLayer(zf(e,"layer",void 0)),this.onMaskGameObjectVisible=zf(e,"onVisible"),this.onMaskGameObjectInvisible=zf(e,"onInvisible"),this.maskGameObjectCallbackScope=zf(e,"scope"),this.startMaskUpdate(),this)},destroyChildrenMask(){return this.childrenMask?(this.stopMaskUpdate(),this.childrenMask.destroy(),this.childrenMask=void 0,this.onMaskGameObjectVisible=null,this.onMaskGameObjectInvisible=null,this.maskGameObjectCallbackScope=null,this):this},setMaskUpdateMode(e){return typeof e=="string"&&(e=Fft[e]),this.maskUpdateMode=e,this},startMaskUpdate(){this.scene.game.events.on("poststep",this.maskChildren,this)},stopMaskUpdate(){this.scene.game.events.off("poststep",this.maskChildren,this)},enableChildrenMask(e){var t=ma.call(this,null,this,0,e);return this.childrenMask=t.createGeometryMask(),this},setMaskChildrenFlag(e){return e===void 0&&(e=!0),this.maskChildrenFlag=e,this},setMaskLayer(e){return this.maskLayer=e,this},maskChildren(){return!this.childrenMask||!this.maskChildrenFlag||this.alpha===0||!this.visible?this:(this.privateRenderLayer?this.privateRenderLayer.setMask(this.childrenMask):this.maskLayer?(this.addToLayer(this.maskLayer),this.maskLayer.setMask(this.childrenMask)):wft({parent:this,mask:this.childrenMask,onVisible:this.onMaskGameObjectVisible,onInvisible:this.onMaskGameObjectInvisible,scope:this.maskGameObjectCallbackScope}),this.maskUpdateMode===0&&(this.maskChildrenFlag=!1),this)},layoutChildrenMask(){if(!this.childrenMask)return this;var e=XM(this.childrenMask);return e.setPosition().resize(),this.resetChildPositionState(e),this}};var Dft=function(){if(this.cellsCount!==0){var e=this.scaleX,t=this.scaleY,r=e===1&&t===1;r||this.setScale(1);var h=this.table,y=this.tableOYOffset,P=this.tableOY+y,n=this.tableOX;this.startRowIndex=Math.max(h.heightToRowIndex(-P,2),0);for(var T=this.startRowIndex,i=Math.max(h.widthToColIndex(-n),0),a=i,x=h.colRowToCellIndex(a,T),d=this.bottomBound,l=this.rightBound,o=h.cellsCount-1,s=h.colCount-1,f=this.getCellTLX(a),c=f,u=this.getCellTLY(T)+y,v=u;v<d&&x<=o;){if(this.table.isValidCellIdx(x)){var p=h.getCell(x,!0);this.visibleCells.set(p),this.preVisibleCells.contains(p)||this.showCell(p);var m,g;if(this.scrollMode===0?(m=c,g=v):(m=v,g=c),p.cellContainerAlign==null)p.setXY(m,g);else{var C=p.getContainer();Jv(C,m,g,p.width,p.height,p.cellContainerAlign),p.setXY(C.x,C.y)}}c<l&&a<s?(c+=h.getColWidth(a),a+=1):(c=f,v+=h.getRowHeight(T),a=i,T+=1),x=h.colRowToCellIndex(a,T)}r||this.setScale(e,t)}},WI=function(e){var t=null,r=e.getContainer();if(r?(t=r,e.popContainer()):this.cellContainersPool&&(t=this.cellContainersPool.getFirstDead(),t!==null&&t.setActive(!0).setVisible(!0)),this.emit("cellvisible",e,t,this),this.cellContainersPool){var r=e.getContainer();r?t===null?this.cellContainersPool.add(r):t!==r&&(this.cellContainersPool.add(r),this.cellContainersPool.killAndHide(t)):t!==null&&this.cellContainersPool.killAndHide(t)}},Bft=function(e){var t=this.scrollMode===0?this.topLeftX:this.topLeftY,r=this.tableOX+this.table.colIndexToWidth(0,e-1)+t;return r},Ift=function(e){var t=this.scrollMode===0?this.topLeftY:this.topLeftX,r=this.tableOY+this.table.rowIndexToHeight(0,e-1)+t;return r},Gft=function(){var e=this.preVisibleCells,t=this.visibleCells;e.iterate(function(r){t.contains(r)||this.hideCell(r)},this)},YI=function(e){if(this.emit("cellinvisible",e),this.cellContainersPool){var t=e.popContainer();t&&(t.setScale(1).setAlpha(1),this.cellContainersPool.killAndHide(t))}e.destroyContainer()},kft=function(e,t){return e===void 0&&(e=!1),t===void 0&&(t=!1),e&&(RD.call(this),this.hideCells()),RD.call(this),this.showCells(),this.hideCells(),this.setMaskChildrenFlag(),t&&(this.layoutChildrenMask(),this.maskChildren()),this},RD=function(){var e=this.preVisibleCells;this.preVisibleCells=this.visibleCells,this.visibleCells=e,this.visibleCells.clear()},Nft=function(e){var t=this.table.getCell(e,!1);return t&&this.visibleCells.contains(t)},XI=function(e,t){t-=this.y+this.topLeftY,e-=this.x+this.topLeftX;var r=this.tableOY-(this.scrollMode===0?t:e),h=this.tableOX-(this.scrollMode===0?e:t),y=this.table,P=y.heightToRowIndex(-r,0),n=y.widthToColIndex(-h),T=y.colRowToCellIndex(n,P);return T===null||!this.isCellVisible(T)?null:T},zft=function(e,t){var r=XI.call(this,e,t);if(r!==null)return this.getCellContainer(r)},Uft=function(e,t){return this.visibleCells.each(e,t),this},Vft=function(e,t){return this.visibleCells.iterate(e,t),this},Wft=function(e,t){return this.table.cells.slice().forEach(e,t),this},Yft=function(e,t){return this.table.cells.forEach(e,t),this},Xft=function(e){var t=this.cellsCount;return t===e?this:(t>e?this.removeCells(e,t-e):this.insertNewCells(t,e-t),this)};const Hft=Phaser.Math.Clamp;var $ft=function(e,t){return typeof e=="object"&&(e=e.index),t===void 0&&(t=1),t<=0?this:(e=Hft(e,0,this.cellsCount),this.table.insertNewCells(e,t),this)},Kft=function(e,t){if(typeof e=="object"&&(e=e.index),t===void 0&&(t=1),e<0&&(t+=e,e=0),t<=0)return this;if(e>this.cellsCount)return this;for(var r,h=e,y=e+t;h<y;h++)r=this.getCell(h,!1),r&&(this.visibleCells.contains(r)&&(YI.call(this,r),this.visibleCells.delete(r)),this.preVisibleCells.delete(r));return this.table.removeCells(e,t),this},Zft=function(e){return this.table.colCount===e?this:(this.table.setColumnCount(e),this)},Jft=function(e,t){return this.setCellsCount(e*t),this.table.setColumnCount(e),this},Qft=function(e){var t=this.table.getCell(e,!1);return!t||!t.container?this:(WI.call(this,t),this)},HI={setTableOY:Eft,setTableOX:Pft,showCells:Dft,showCell:WI,getCellTLX:Bft,getCellTLY:Ift,hideCells:Gft,hideCell:YI,updateTable:kft,isCellVisible:Nft,pointToCellIndex:XI,pointToCellContainer:zft,eachVisibleCell:Uft,iterateVisibleCell:Vft,eachCell:Wft,iterateCell:Yft,setCellsCount:Xft,insertNewCells:$ft,removeCells:Kft,setColumnCount:Zft,setGridSize:Jft,updateVisibleCell:Qft};Object.assign(HI,VI);const jft=Phaser.GameObjects.Group,AD=Phaser.Structs.Set,Fs=Phaser.Utils.Objects.GetValue;let $I=class extends vs{constructor(t,r,h,y,P,n){n===void 0&&(n={}),super(t,r,h,y,P),this.type="rexGridTable",this._tableOX=0,this._tableOY=0,this.visibleCells=new AD,this.preVisibleCells=new AD,this.execeedTopState=!1,this.execeedBottomState=!1,this.execeedLeftState=!1,this.execeedRightState=!1;var T=Fs(n,"reuseCellContainer",!1);T&&(this.cellContainersPool=new jft(t));var i=Fs(n,"cellVisibleCallback",null);if(i!==null){var a=Fs(n,"cellVisibleCallbackScope",void 0);this.on("cellvisible",i,a)}if(i=Fs(n,"cellInvisibleCallback",null),i!==null){var a=Fs(n,"cellInvisibleCallbackScope",void 0);this.on("cellinvisible",i,a)}Fs(n,"enableLayer",!1)&&this.enableLayer(),this.setupChildrenMask(Fs(n,"mask",void 0)),this.setScrollMode(Fs(n,"scrollMode",0)),this.setClampMode(Fs(n,"clampTableOXY",!0)),this.setStartFromBottomEnable(Fs(n,"startFromBottom",!1));var x,d,l,o=this.scrollMode===0;if(o?(x=n.cellWidth,d=n.cellHeight,l=n.columns):(x=n.cellHeight,d=n.cellWidth,l=Fs(n,"rows",n.columns)),this.fixedCellSize=Fs(n,"fixedCellSize",!1),this.expandCellSize=!this.fixedCellSize&&x===void 0,l||(l=1),this.fixedCellSize)l=Math.max(Math.floor(this.instWidth/x),1);else if(this.expandCellSize){var y=o?this.width:this.height;x=y/l}n.cellWidth=x,n.cellHeight=d,n.columns=l,this.table=new Tft(this,n),this.updateTable()}destroy(t){!this.scene||this.ignoreDestroy||(this.destroyChildrenMask(),this.table.destroy(t),this.table=void 0,this.cellContainersPool&&(this.cellContainersPool.destroy(!0),this.cellContainersPool=void 0),super.destroy(t))}setScrollMode(t){return typeof t=="string"&&(t=qft[t.toLowerCase()]),this.scrollMode=t,this}setClampMode(t){return t===void 0&&(t=!0),this.clampTableOXY=t,this}setStartFromBottomEnable(t){return t===void 0&&(t=!0),this.startFromBottomEnable=t,this}get tableOY(){return this._tableOY}get tableOX(){return this._tableOX}set tableOY(t){this.setTableOY(t).updateTable()}set tableOX(t){this.setTableOX(t).updateTable()}setTableOXY(t,r){return this.setTableOY(r).setTableOX(t),this}addTableOY(t){return this.setTableOY(this.tableOY+t),this}addTableOX(t){return this.setTableOX(this.tableOX+t),this}addTableOXY(t,r){return this.addTableOY(r).addTableOX(t),this}setTableOYByPercentage(t){return this.setTableOY(-this.tableVisibleHeight*t),this}getTableOYPercentage(){var t=this.tableVisibleHeight;return t===0?0:this.tableOY/-t}setTableOXByPercentage(t){return this.setTableOX(-this.tableVisibleWidth*t),this}getTableOXPercentage(){var t=this.tableVisibleWidth;return t===0?0:this.tableOX/-t}set t(t){this.setTableOYByPercentage(t).updateTable()}get t(){return this.getTableOYPercentage()}set s(t){this.setTableOXByPercentage(t).updateTable()}get s(){return this.getTableOXPercentage()}scrollToBottom(){if(this.t=1,this.t===0)return this;do this.t=1;while(this.t!==1);return this}scrollToRow(t){this.scrollToBottom();var r=this.table.rowIndexToHeight(0,t-1);return this.setTableOY(-r).updateTable(),this}scrollToNextRow(t){return t===void 0&&(t=1),this.scrollToRow(this.startRowIndex+t),this}getCell(t){return this.table.getCell(t,!0)}getCellContainer(t){var r=this.table.getCell(t,!1),h;return r&&(h=r.getContainer()),h}get cellsCount(){return this.table.cellsCount}get columnCount(){return this.table.colCount}setCellHeight(t,r){var h;return typeof t=="number"?h=this.table.getCell(t,!0):h=t,h.height=r,this}setCellWidth(t,r){var h;return typeof t=="number"?h=this.table.getCell(t,!0):h=t,h.width=r,this}resetAllCellsSize(t,r){if(this.scrollMode===1){var h=t;t=r,r=h}this.table.setDefaultCellHeight(r).setDefaultCellWidth(t);for(var y=this.table.cells,P=0,n=y.length;P<n;P++){var T=y[P];T&&(T.deltaHeight=0)}if(this.fixedCellSize){var i=Math.floor(this.instWidth/t);this.table.setColumnCount(i)}return this.updateTable(!0,!0),this}get instHeight(){return this.scrollMode===0?this.height:this.width}get instWidth(){return this.scrollMode===0?this.width:this.height}get tableHeight(){return this.table.totalRowsHeight}get tableWidth(){return this.table.totalColumnWidth}get tableOYOffset(){if(this.startFromBottomEnable){var t=this.tableHeight-this.instHeight;if(t<0)return-t}return 0}get topTableOY(){return 0}get bottomTableOY(){return-this.tableVisibleHeight}get leftTableOX(){return 0}get rightTableOX(){return-this.tableVisibleWidth}get tableVisibleHeight(){var t=this.tableHeight-this.instHeight;return t<0&&(t=0),t}get tableVisibleWidth(){var t=this.tableWidth-this.instWidth;return t<0&&(t=0),t}get bottomLeftY(){return-(this.displayHeight*this.originY)+this.displayHeight}get topRightX(){return-(this.displayWidth*this.originX)+this.displayWidth}get topLeftX(){return-(this.displayWidth*this.originX)}get topLeftY(){return-(this.displayHeight*this.originY)}get bottomBound(){return this.scrollMode===0?this.bottomLeftY:this.topRightX}get rightBound(){return this.scrollMode===0?this.topRightX:this.bottomLeftY}resize(t,r){if(this.width===t&&this.height===r)return this;if(super.resize(t,r),this.fixedCellSize){var h=Math.floor(this.instWidth/this.table.defaultCellWidth);this.table.setColumnCount(h)}else this.expandCellSize&&this.table.setDefaultCellWidth(this.instWidth/this.table.colCount);return this.updateTable(!0,!0),this}};Object.assign($I.prototype,HI);const qft={v:0,vertical:0,h:1,horizontal:1};var _ft=function(e){Object.defineProperty(e,"childOY",{configurable:!0,get:function(){return e.tableOY},set:function(t){e.tableOY=t}}),Object.defineProperty(e,"childOX",{configurable:!0,get:function(){return e.tableOX},set:function(t){e.tableOX=t}}),Object.defineProperty(e,"topChildOY",{get:function(){return e.topTableOY}}),Object.defineProperty(e,"bottomChildOY",{get:function(){return e.bottomTableOY}}),Object.defineProperty(e,"leftChildOX",{get:function(){return e.leftTableOX}}),Object.defineProperty(e,"rightChildOX",{get:function(){return e.rightTableOX}}),Object.defineProperty(e,"childVisibleHeight",{get:function(){return e.instHeight}}),Object.defineProperty(e,"childHeight",{get:function(){return e.tableHeight}}),Object.defineProperty(e,"childVisibleWidth",{get:function(){return e.instWidth}}),Object.defineProperty(e,"childWidth",{get:function(){return e.tableWidth}})},tdt=function(e){e.on("cellvisible",function(t,n,h){var y=this.createCellContainerCallback,P=this.createCellContainerCallbackScope;t.item=this.items[t.index],t.items=this.items;var n;P?n=y.call(P,t,n,h):n=y(t,n,h),n&&(t.cellContainerAlign==null&&n.setOrigin&&n.setOrigin(0),n.isRexSizer&&n.layout()),t.item=void 0,t.items=void 0,t.setContainer(n)},this)},Ja=function(e,t,r,h,y,P,n){var T;if(y===void 0)T=h;else{var i=P.camera,a=h+i.scrollX*(r.scrollFactorX-1),x=y+i.scrollY*(r.scrollFactorY-1);T=r.pointToCellIndex(a,x)}if(T!=null){var d=r.getCellContainer(T);d&&e.emit(t,d,T,P,n)}},edt=function(e,t){e.on("pointerdown",function(r,h,y,P){Ja(this.eventEmitter,"cell.down",e,r.worldX,r.worldY,r,P)},this).on("pointerup",function(r,h,y,P){Ja(this.eventEmitter,"cell.up",e,r.worldX,r.worldY,r,P)},this)},idt=function(e,t){e.on("pointermove",OD,this).on("pointerover",OD,this).on("pointerout",rdt,this)},OD=function(e,t,r,h){var y=this.childrenMap.child,P=e.camera,n=e.worldX+P.scrollX*(y.scrollFactorX-1),T=e.worldY+P.scrollY*(y.scrollFactorY-1),i=y.pointToCellIndex(n,T);if(i!==y.input.lastOverCellIndex){var a=y.input.lastOverCellIndex;y.input.lastOverCellIndex=i,Ja(this.eventEmitter,"cell.out",y,a,void 0,e,h),Ja(this.eventEmitter,"cell.over",y,i,void 0,e,h)}},rdt=function(e,t){var r=this.childrenMap.child,h=r.input.lastOverCellIndex;r.input.lastOverCellIndex=void 0,Ja(this.eventEmitter,"cell.out",r,h,void 0,e,t)};const ndt=Phaser.Utils.Objects.GetValue;var sdt=function(e,t){var r=ndt(t,"click",void 0);r!==!1&&(r===void 0&&(r={}),r.threshold=10,e._click=new Wo(e,r),e._click.on("click",function(h,y,P,n){Ja(this.eventEmitter,"cell.click",y,P.worldX,P.worldY,P,n)},this))};const adt=Phaser.Utils.Objects.GetValue;var odt=function(e,t){var r=adt(t,"tap",void 0);r!==!1&&(e._tap=new Px(e,r),e._tap.on("tap",function(h,y,P){var n=`cell.${h.tapsCount}tap`;Ja(this.eventEmitter,n,h.gameObject,h.worldX,h.worldY,P)},this))};const hdt=Phaser.Utils.Objects.GetValue;var ldt=function(e,t){var r=hdt(t,"press",void 0);r!==!1&&(e._press=new Mx(e,r),e._press.on("pressstart",function(h,y,P){Ja(this.eventEmitter,"cell.pressstart",e,h.worldX,h.worldY,P)},this).on("pressend",function(h,y,P){Ja(this.eventEmitter,"cell.pressend",e,h.worldX,h.worldY,P)},this))};const udt=Phaser.Utils.Objects.GetValue;var fdt=function(e,t){var r=udt(t,"swipe",void 0);r!==!1&&(r===void 0&&(r={}),r.dir="4dir",e._swipe=new ep(e,r),e._swipe.on("swipe",function(h,y,P){var n=h.left?"left":h.right?"right":h.up?"up":"down";Ja(this.eventEmitter,`cell.swipe${n}`,e,h.worldX,h.worldY,P)},this))},ddt=function(e,t){e.setInteractive(),edt.call(this,e,t),idt.call(this,e,t),sdt.call(this,e,t),odt.call(this,e,t),ldt.call(this,e,t),fdt.call(this,e,t)},cdt=function(e,t){e===void 0?this.items=[]:this.items=e,t===void 0&&(t=!0);var r=this.childrenMap.child;return r.setCellsCount(this.items.length),t&&(r.updateTable(!0),this.resizeController()),this};const vdt={scrollToRow(e){var t=this.childrenMap.child;return t.scrollToRow(e),this},scrollToNextRow(e){var t=this.childrenMap.child;return t.scrollToNextRow(e),this}},ua=Phaser.Utils.Objects.GetValue;class HM extends op{constructor(t,r){r===void 0&&(r={});var h=BM(r),y=ua(r,"table",void 0);y===void 0&&(y={}),y.scrollMode=h===2?0:h,y.clampTableOXY=ua(r,"clampChildOY",!1);var P=ua(y,"width",void 0),n=ua(y,"height",void 0),T=new $I(t,0,0,P,n,y);t.add.existing(T);var i,a;y.scrollMode===0?(i=P===void 0,a=n===void 0):(i=n===void 0,a=P===void 0),_ft(T),T._minWidth=P===void 0?0:void 0,T._minHeight=n===void 0?0:void 0,r.type="rexGridTable",r.child={gameObject:T,expandWidth:i,expandHeight:a};var x=ua(r,"space",void 0);x&&(x.child=ua(x,"table",0)),super(t,r),this.addChildrenMap("table",T),this.addChildrenMap("tableLayer",T.maskLayer),this.eventEmitter=ua(r,"eventEmitter",this);var d=ua(r,"createCellContainerCallback",wr),l=ua(r,"createCellContainerCallbackScope",void 0);this.setCreateCellContainerCallback(d,l),tdt.call(this,T),this.resizeControllerFlag=!1;var o=h===0?"cellheightchange":"cellwidthchange";T.on(o,function(){this.resizeControllerFlag=!0},this),ua(y,"interactive",!0)&&ddt.call(this,T,y),this.setItems(ua(r,"items",[]),!1),t.game.events.on("poststep",this.onPostStep,this)}destroy(t){!this.scene||this.ignoreDestroy||(this.scene.game.events.off("poststep",this.onPostStep,this),super.destroy(t))}setCreateCellContainerCallback(t,r){return this.createCellContainerCallback=t,this.createCellContainerCallbackScope=r,this}refresh(){return this.setItems(this.items),this}getCell(t){var r=this.childrenMap.child;return r.getCell(t)}getCellContainer(t){var r=this.childrenMap.child;return r.getCellContainer(t)}updateVisibleCell(t){var r=this.childrenMap.child;return r.updateVisibleCell(t)}resetAllCellsSize(t,r){var h=this.childrenMap.child;return h.resetAllCellsSize(t,r),this}onPostStep(){this.resizeControllerFlag&&(this.resizeController(),this.resizeControllerFlag=!1)}get startRowIndex(){var t=this.childrenMap.child;return t.startRowIndex}}var pdt={setItems:cdt};Object.assign(HM.prototype,vdt,pdt);It.register("gridTable",function(e){var t=new HM(this.scene,e);return this.scene.add.existing(t),t});Lt(window,"RexPlugins.UI.GridTable",HM);var $M=function(e,t){return e.sameOrientation?e.orientation=t.orientation:e.orientation=t.orientation===0?1:0,e},gdt=function(e,t){e.popUp($M(e.root.easeIn,e))},mdt=function(e,t){e.scaleDown($M(e.root.easeOut,e))};const xdt={setTransitInCallback(e){return e===void 0&&(e=gdt),this.transitInCallback=e,this},setTransitOutCallback(e){return e===void 0&&(e=mdt),this.transitOutCallback=e,this}};var ydt=function(e,t,r,h,y){var P=od(e),n=P.time.delayedCall(t,function(){P.sys.events.once("postupdate",function(){r.call(h,y)})});return n};const Cdt={delayCall(e,t,r){return this.timer=ydt(this,e,t,r),this},removeDelayCall(){return this.timer&&(this.timer.remove(!1),this.timer=void 0),this}};var Sdt=function(e,t){var h=this.childrenMap.subMenu;if(h&&h.parentButton===e)return this;this.collapseSubMenu();var r;this.root.toggleOrientation?r=this.orientation===0?1:0:r=this.orientation;var h=new this.constructor(this.scene,{items:t,orientation:r,space:this.space,createBackgroundCallback:this.root.createBackgroundCallback,createBackgroundCallbackScope:this.root.createBackgroundCallbackScope,createButtonCallback:this.root.createButtonCallback,createButtonCallbackScope:this.root.createButtonCallbackScope,easeIn:this.root.easeIn,easeOut:this.root.easeOut,_rootMenu:this.root,_parentMenu:this,_parentButton:e});return this.pin(h),this.childrenMap.subMenu=h,this.root.emit("expand",h,e,this),this},Tdt=function(){var e=this.root;e.emit("collapse",this,this.parentButton,e);var t=e.easeOut.duration;return e.transitOutCallback(this,t),this.collapseSubMenu(),this.delayCall(t,this.destroy,this),this},Edt=function(){var e=this.childrenMap.subMenu;return e===void 0?this:(this.childrenMap.subMenu=void 0,this.remove(e),e.collapse(),this)},KI={expandSubMenu:Sdt,collapse:Tdt,collapseSubMenu:Edt};Object.assign(KI,xdt,Cdt);var Pdt=function(e,t,r,h){var y;return r&&(t.scene=e,h?y=r.call(h,t):y=r(t),t.scene=void 0),y},Mdt=function(e,t,r,h){var y,P=[],n;if(t&&r)for(var T=0,i=t.length;T<i;T++)y=t[T],y.scene=e,h?n=r.call(h,y,T,t):n=r(y,T,t),y.scene=void 0,P.push(n);return P},bdt=function(e){e.on(e.root.expandEventName,function(t,r){if(!this._isPassedEvent){var h=this.root.childrenKey,y=this.items[r][h];y&&this.expandSubMenu(t,y)}},e).on("button.click",function(t,r,h,y){this!==this.root&&(this.root._isPassedEvent=!0,this.root.emit("button.click",t,r,h,y),this.root._isPassedEvent=!1)},e).on("button.over",function(t,r,h,y){this!==this.root&&(this.root._isPassedEvent=!0,this.root.emit("button.over",t,r,h,y),this.root._isPassedEvent=!1)},e).on("button.out",function(t,r,h,y){this!==this.root&&(this.root._isPassedEvent=!0,this.root.emit("button.out",t,r,h,y),this.root._isPassedEvent=!1)},e)},LD=function(e,t){return typeof t=="number"&&(t={duration:t}),t.hasOwnProperty("orientation")&&t.orientation!==void 0?t.sameOrientation=pu(t.orientation)===e.orientation:t.sameOrientation=!0,t.destroy=!1,t},wdt=function(){var e=this.root,t=e.easeIn.duration;e.transitInCallback(this,t),this!==this.root&&this.delayCall(t,function(){this.root.emit("popup.complete",this)},this)};const wn=Phaser.Utils.Objects.GetValue;class KM extends Nr{constructor(t,r){r===void 0&&(r={}),r.hasOwnProperty("orientation")||(r.orientation=1);var h=r._rootMenu,y=r._parentMenu,P=r._parentButton,n=wn(r,"popup",!0),T=wn(r,"items",void 0),i=wn(r,"createBackgroundCallback",void 0),a=wn(r,"createBackgroundCallbackScope",void 0);r.background=Pdt(t,T,i,a);var x=wn(r,"createButtonCallback",void 0),d=wn(r,"createButtonCallbackScope",void 0);if(r.buttons=Mdt(t,T,x,d),super(t,r),this.type="rexMenu",this.items=T,this.root=h===void 0?this:h,this.isRoot=this.root===this,this.parentMenu=y,this.parentButton=P,this.timer=void 0,this.isRoot){this.isPopUpMode=n;var l=r.bounds;l===void 0&&(l=ad(t)),this.bounds=l,this.subMenuSide=[this.y<l.centerY?dP:G0,this.x<l.centerX?fP:I0];var o=wn(r,"subMenuSide",void 0);o!==void 0&&(typeof o=="string"&&(o=Rdt[o]),this.subMenuSide[this.orientation]=o),this.toggleOrientation=wn(r,"toggleOrientation",!1),this.expandEventName=wn(r,"expandEvent","button.click"),this.easeIn=LD(this,wn(r,"easeIn",0)),this.easeOut=LD(this,wn(r,"easeOut",0)),this.setTransitInCallback(wn(r,"transitIn")),this.setTransitOutCallback(wn(r,"transitOut")),this.createBackgroundCallback=i,this.createBackgroundCallbackScope=a,this.createButtonCallback=x,this.createButtonCallbackScope=d,this.childrenKey=wn(r,"childrenKey","children"),this._isPassedEvent=!1,this.pointerDownOutsideCollapsing=wn(r,"pointerDownOutsideCollapsing",!0),this.pointerDownOutsideCollapsing&&t.input.on("pointerdown",this.onPointerDownOutside,this)}var s=0,f=0;if(!this.root.easeIn.sameOrientation){var c=$M(this.root.easeIn,this).orientation,u=y?y.orientation:this.orientation,o=this.root.subMenuSide[u];c===0&&o===I0&&(s=1),c===1&&o===G0&&(f=1)}if(n&&this.setOrigin(s,f).layout(),!this.isRoot){this.setScale(this.root.scaleX,this.root.scaleY);var o=this.root.subMenuSide[y.orientation];switch(o){case I0:this.alignTop(P.top).alignRight(P.left);break;case fP:this.alignTop(P.top).alignLeft(P.right);break;case G0:this.alignLeft(P.left).alignBottom(P.top);break;case dP:this.alignLeft(P.left).alignTop(P.bottom);break}}bdt(this),n&&(this.pushIntoBounds(this.root.bounds),wdt.call(this))}destroy(t){!this.scene||this.ignoreDestroy||(this.isRoot&&this.pointerDownOutsideCollapsing&&this.scene.input.off("pointerdown",this.onPointerDownOutside,this),super.destroy(t),this.removeDelayCall())}isInTouching(t){return super.isInTouching(t)?!0:this.childrenMap.subMenu?this.childrenMap.subMenu.isInTouching(t):!1}onPointerDownOutside(t){this.isInTouching(t)||(this.isPopUpMode?this.collapse():this.collapseSubMenu())}}const I0=2,fP=0,G0=3,dP=1,Rdt={up:G0,down:dP,left:I0,right:fP};Object.assign(KM.prototype,KI);It.register("menu",function(e){var t=new KM(this.scene,e);return this.scene.add.existing(t),t});Lt(window,"RexPlugins.UI.Menu",KM);var Adt={setWrapEnable(e){return e===void 0&&(e=!0),this.listWrapEnable=e,this},setCreateButtonCallback(e){return this.listCreateButtonCallback=e,this},setCreateListBackgroundCallback(e){return this.listCreateBackgroundCallback=e,this},setCreateListSliderTrackCallback(e){return this.listCreateSliderTrackCallback=e,this},setCreateListSliderThumbCallback(e){return this.listCreateSliderThumbCallback=e,this},setListSliderAdaptThumbSizeEnable(e){return e===void 0&&(e=!0),this.listSliderAdaptThumbSizeEnable=e,this},setListScrollerConfig(e){return e===void 0&&(e={}),this.listScrollerConfig=e,this},setListMouseWheelScrollerConfig(e){return this.listMouseWheelScrollerConfig=e,this},setButtonClickCallback(e){return this.listOnButtonClick=e,this},setButtonOverCallback(e){return this.listOnButtonOver=e,this},setButtonOutCallback(e){return this.listOnButtonOut=e,this},setListExpandDirection(e){return typeof e=="string"&&(e=Odt[e]),this.listExpandDirection=e,this},setListEaseInDuration(e){return e===void 0&&(e=0),this.listEaseInDuration=e,this},setListEaseOutDuration(e){return e===void 0&&(e=0),this.listEaseOutDuration=e,this},setListTransitInCallback(e){return this.listTransitInCallback=e,this},settListTransitOutCallback(e){return this.listTransitOutCallback=e,this},setListBounds(e){return this.listBounds=e,this},setListWidth(e){return this.listWidth=e,this},setListHeight(e){return this.listHeight=e,this},setListSize(e,t){return this.setListWidth(e).setListHeight(t),this},setListMaxHeight(e){return this.listMaxHeight=e,this},setListAlignmentMode(e){return this.listAlignMode=e,this},setListAlignmentSide(e){return e===void 0&&(e=""),this.listAlignSide=e,this},setListSpace(e){return e===void 0&&(e={}),this.listSpace=e,this},setListDraggable(e){return e===void 0&&(e=!0),this.listDraggable=e,this}};const Odt={down:0,up:1};var Ldt=function(){if(this.rexSizer.hidden)return 0;var e,t=this.child,r=t.rexSizer,h=!1;if(r.hidden)e=0;else switch(this.scrollMode){case 0:e=this.getChildWidth(t),e===void 0&&(h=!0);break;case 1:e=0;break;default:e=0;break}if(!h)return e},Fdt=function(){if(this.rexSizer.hidden)return 0;var e,t=this.child,r=t.rexSizer,h=!1;if(r.hidden)e=0;else switch(this.scrollMode){case 0:e=0;break;case 1:e=this.getChildHeight(t),e===void 0&&(h=!0);break;default:e=0;break}if(!h)return e},Ddt=function(e){return e===void 0&&(e=[]),this.child&&this.child.isRexSizer&&e.push(this.child),e},Bdt=function(){var e=this.left,t=this.top;switch(this.scrollMode){case 0:t+=this.childOY;break;case 1:e+=this.childOY;break;default:t+=this.childOY,e+=this.childOX;break}this.child.setPosition(e,t),this.resetChildPositionState(this.child),this.setMaskChildrenFlag()},Idt=function(){var e=this.child,t,r;if(!e.rexSizer.hidden){switch(this.scrollMode){case 0:t=this.width*this.scaleX;break;case 1:r=this.height*this.scaleY;break}e.isRexSizer?e.runLayout(this,t,r):cn(e,t,r),this.resetChildPosition(),this.layoutChildrenMask(),this.maskChildren()}},Gdt=function(e,t){t||e.clearMask&&e.clearMask(!1)},ZI={getChildrenWidth:Ldt,getChildrenHeight:Fdt,getChildrenSizers:Ddt,resetChildPosition:Bdt,layoutChildren:Idt,removeChildCallback:Gdt};Object.assign(ZI,VI);const FD=Phaser.Utils.Objects.IsPlainObject,Ds=Phaser.Utils.Objects.GetValue,kdt=Phaser.Display.Align.TOP_LEFT;class JI extends mu{constructor(t,r,h,y,P,n){FD(r)?(n=r,r=Ds(n,"x",0),h=Ds(n,"y",0),y=Ds(n,"width",void 0),P=Ds(n,"height",void 0)):FD(y)&&(n=y,y=Ds(n,"width",void 0),P=Ds(n,"height",void 0)),super(t,r,h,y,P,n),this.type="rexScrollableBlock",this.child=void 0,this.childrenMask=void 0,this._childOY=0,this._childOX=0,this.execeedTopState=!1,this.execeedBottomState=!1,this.execeedLeftState=!1,this.execeedRightState=!1,this.setScrollMode(Ds(n,"scrollMode",0));var T=Ds(n,"clampChildOY",!0),i=Ds(n,"clampChildOX",T);this.setClampMode(T,i);var a=Ds(n,"child",void 0),x=Ds(n,"expand",!0);a.setOrigin&&a.setOrigin(0),this.add(a),this.sizerChildren=[a];var d=this.getSizerConfig(a);d.align=kdt,d.expand=x,this.child=a;var l=Ds(n,"mask");this.setupChildrenMask(l),this.childrenMask&&(this.maskGameObject=XM(this.childrenMask))}destroy(t){!this.scene||this.ignoreDestroy||(this.destroyChildrenMask(),this.child=void 0,super.destroy(t))}setScrollMode(t){return typeof t=="string"&&(t=EI[t.toLowerCase()]),this.scrollMode=t,this}setClampMode(t,r){return this.clampChildOY=t,this.clampChildOX=r,this}get instHeight(){return this.scrollMode===0||this.scrollMode===2?this.displayHeight:this.displayWidth}get instWidth(){return this.scrollMode===0||this.scrollMode===2?this.displayWidth:this.displayHeight}get childHeight(){return this.scrollMode===0||this.scrollMode===2?gi(this.child):pi(this.child)}get childWidth(){return this.scrollMode===0||this.scrollMode===2?pi(this.child):gi(this.child)}get topChildOY(){return 0}get bottomChildOY(){return-this.visibleHeight}get leftChildOX(){return 0}get rightChildOX(){return-this.visibleWidth}get childVisibleHeight(){return this.instHeight}get childVisibleWidth(){return this.instWidth}get visibleHeight(){var t=this.childHeight-this.childVisibleHeight;return t<0&&(t=0),t}get visibleWidth(){var t=this.childWidth-this.childVisibleWidth;return t<0&&(t=0),t}childOYExceedTop(t){return t===void 0&&(t=this.childOY),t>this.topChildOY}childOYExeceedBottom(t){return t===void 0&&(t=this.childOY),t<this.bottomChildOY}childOXExceedLeft(t){return t===void 0&&(t=this.childOX),t>this.leftChildOX}childOXExeceedRight(t){return t===void 0&&(t=this.childOX),t<this.rightChildOX}get childOY(){return this._childOY}set childOY(t){var r=this.topChildOY,h=this.bottomChildOY,y=this.childOYExceedTop(t),P=this.childOYExeceedBottom(t);this.clampChildOY&&(this.childVisibleHeight>this.childHeight?t=0:y?t=r:P&&(t=h)),this._childOY!==t&&(this._childOY=t,this.resetChildPosition()),y&&(this.execeedTopState||this.emit("execeedtop",this,t,r)),this.execeedTopState=y,P&&(this.execeedBottomState||this.emit("execeedbottom",this,t,h)),this.execeedBottomState=P}get childOX(){return this._childOX}set childOX(t){var r=this.leftChildOX,h=this.rightChildOX,y=this.childOXExceedLeft(t),P=this.childOXExeceedRight(t);this.clampChildOX&&(this.childVisibleWidth>this.childWidth?t=0:y?t=r:P&&(t=h)),this._childOX!==t&&(this._childOX=t,this.resetChildPosition()),y&&(this.execeedLeftState||this.emit("execeedleft",this,t,r)),this.execeedLeftState=y,P&&(this.execeedRightState||this.emit("execeedright",this,t,h)),this.execeedRightState=P}setChildOY(t){return this.childOY=t,this}setChildOX(t){return this.childOX=t,this}set t(t){this.childOY=-this.visibleHeight*t}get t(){var t=this.visibleHeight;return t===0?0:this.childOY/-t}set s(t){this.childOX=-this.visibleWidth*t}get s(){var t=this.visibleWidth;return t===0?0:this.childOX/-t}setChildOYByPercentage(t){return this.t=t,this}setChildOXByPercentage(t){return this.s=t,this}}Object.assign(JI.prototype,ZI);var Ndt=function(e,t){if(!this.hasChild(e))return this;switch(this.scrollMode){case 0:S0.call(this,e,"y",t);break;case 1:S0.call(this,e,"x",t);break;default:S0.call(this,e,"y",t),S0.call(this,e,"x",t);break}return this};const DD=["top","bottom","centerY","center"],BD=["left","right","centerX","center"];var S0=function(e,t,r){t=t.toUpperCase();var h=t==="Y",y=this.childrenMap.child,P;if(h){if(r)for(var n=0,T=DD.length;n<T;n++){var i=DD[n];if(r.indexOf(i)!==-1){r=i;break}}switch(r){case"top":P=y.top-nu(e).y;break;case"bottom":P=y.bottom-Lv(e).y;break;case"centerY":case"center":P=y.centerY-qO(e).y;break;default:var a=y.top-nu(e).y,x=y.bottom-Lv(e).y;a<=0&&x>=0?P=0:P=Math.abs(a)<=Math.abs(x)?a:x;break}}else{if(r)for(var n=0,T=BD.length;n<T;n++){var i=BD[n];if(r.indexOf(i)!==-1){r=i;break}}switch(r){case"left":P=y.left-nu(e).x;break;case"right":P=y.right-Ov(e).x;break;case"centerX":case"center":P=y.centerX-qO(e).x;break;default:var d=y.left-nu(e).x,l=y.right-Ov(e).x;d<=0&&l>=0?P=0:P=Math.abs(d)<=Math.abs(l)?d:l;break}}switch(this.scrollMode){case 0:case 1:this.childOY+=P;break;default:this[`childO${t}`]+=P;break}};const Lh=Phaser.Utils.Objects.GetValue;class dp extends op{constructor(t,r){r===void 0&&(r={});var h=BM(r),y=Lh(r,"panel",void 0);y===void 0&&(y={}),y.scrollMode=h,y.clampChildOY=Lh(r,"clampChildOY",!1),y.clampChildOX=Lh(r,"clampChildOX",!1);var P=new JI(t,y);t.add.existing(P);var n,T;switch(h){case 0:n=Lh(r,"expand.panel",!0),T=!0;break;case 1:n=!0,T=Lh(r,"expand.panel",!0);break;default:n=!0,T=!0}r.type="rexScrollablePanel",r.child={gameObject:P,expandWidth:n,expandHeight:T,align:Lh(r,"align.panel","center")};var i=Lh(r,"space",void 0);i&&(i.child=Lh(i,"panel",0)),super(t,r),this.addChildrenMap("panel",P.child),this.addChildrenMap("panelLayer",P.maskLayer),this.addChildrenMap("mask",P.maskGameObject),this.addChildrenMap("scrollableBlock",P)}setChildrenInteractive(t){return t===void 0&&(t={}),t.hasOwnProperty("eventEmitter")||(t.eventEmitter=this),t.hasOwnProperty("targets")||(t.targets=[this.childrenMap.panel]),bx(this.childrenMap.child,t),this}}var zdt={scrollToChild:Ndt};Object.assign(dp.prototype,zdt);const Udt=Phaser.Utils.Objects.GetValue;var Vdt=function(){var e=this.scene,t,r=this.listCreateBackgroundCallback;r&&(t=r.call(this,e),e.add.existing(t));var d=[],h=this.listCreateButtonCallback;if(h)for(var y=this.options,P=0,n=y.length;P<n;P++){var T=h.call(this,e,y[P],P,y);T&&(e.add.existing(T),d.push(T))}var i=this.listWidth;i===void 0&&(this.listAlignMode==="text"?i=this.getElement("text").width:i=this.width);var a=this.listHeight,x={width:i,buttons:d,space:this.listSpace},d,l,o;if(this.listCreateSliderThumbCallback?o=a>0||this.listMaxHeight>0:o=!1,!o)x.height=a,d=ID(e,x,this.listWrapEnable),l=d;else{var d=ID(e,x,this.listWrapEnable);if(this.listMaxHeight>0&&(d.layout(),d.height<=this.listMaxHeight&&(l=d)),!l){a===0&&(a=this.listMaxHeight);var s=GD(e,this.listCreateSliderTrackCallback),f=GD(e,this.listCreateSliderThumbCallback);l=new dp(e,{height:a,scrollMode:0,panel:{child:d,mask:{padding:1}},slider:{track:s,thumb:f,adaptThumbSize:this.listSliderAdaptThumbSizeEnable},scrollDetectionMode:1,scroller:this.listScrollerConfig,mouseWheelScroller:this.listMouseWheelScrollerConfig,space:{panel:Udt(this.listSpace,"panel",0)}}),e.add.existing(l)}}return t&&l.addBackground(t,"background"),this.listDraggable&&l.setDraggable(!0),l!==d&&d.on("button.over",function(c,u,v,p){l.emit("button.over",c,u,v,p)}).on("button.out",function(c,u,v,p){l.emit("button.out",c,u,v,p)}).on("button.click",function(c,u,v,p){l.emit("button.click",c,u,v,p)}),l},ID=function(e,t,r){var h;return r?(t.orientation="x",h=new $h(e,t)):(t.orientation="y",h=new Nr(e,t)),e.add.existing(h),h},GD=function(e,t,r){var h;return t&&(h=t.call(r,e),e.add.existing(h)),h},Wdt=function(e,t,r,h,y){var P={};switch(P.mode=0,r){case 0:case"x":P.end={x:0};break;case 1:case"y":P.end={y:0};break;default:P.end=0;break}return P.duration=t,P.ease=h,y===void 0?y=new Bv(e,P):y.resetFromJSON(P),y.restart(),y},Ydt=function(e,t,r,h,y){return Bo(e,t)?xi(e,t):Bo(e,r)?xi(e,r):y};const Uf=Phaser.Utils.Objects.GetValue;var Xdt=function(e,t){var r=Uf(t,"expandDirection",void 0);typeof r=="string"&&(r=Hdt[r]);var h=Ydt(t,"alignTarget","alignTargetX"),y=Uf(t,"alignTargetY",h),P=Uf(t,"alignOffsetX",0),n=Uf(t,"alignOffsetY",0),T=Uf(t,"alignSide",""),i=T.includes("right"),a=Uf(t,"bounds"),x=r===0,d=r===1,l=!x&&!d,o=i?1:0,s=x||l?0:1;e.setOrigin(o,s);var f,c;i?f=h.getTopRight().x:f=h.getTopLeft().x,c=y.getBottomLeft().y,e.setPosition(f+P,c+n);var u=a;u||(u=ad(e.scene)),l&&e.getBottomLeft().y>u.bottom&&(c=y.getTopLeft().y,e.setOrigin(0,1).setPosition(f+P,c+n))};const Hdt={down:0,up:1},kD=Phaser.Utils.Objects.GetValue;class QI extends yx{constructor(t,r){r===void 0&&(r={}),r.transitIn==null&&(r.transitIn=function(P,n){uM(P,n,"y","Cubic")}),r.transitOut==null&&(r.transitOut=function(P,n){Wdt(P,n,"y","Linear")}),r.manualClose=!0,r.clickOutsideClose=!0,r.destroy=!0,super(t,r),Xdt(t,r),t.isRexSizer&&t.layout();var h=kD(r,"touchOutsideClose",!1),y=kD(r,"anyTouchClose",!1);y&&(h=!1),y?this.once("open",this.anyTouchClose,this):h&&this.once("open",this.touchOutsideClose,this),this.requestOpen()}shutdown(t){this.isShutdown||(this.scene.input.off("pointerup",this.touchCloseCallback,this),super.shutdown(t))}touchOutsideClose(){return this.scene.input.on("pointerup",this.touchCloseCallback,this),this.clickOutsideTest=!0,this}anyTouchClose(){return this.scene.input.once("pointerup",this.touchCloseCallback,this),this}touchCloseCallback(t){this.clickOutsideTest&&Sx(this.parent,t.worldX,t.worldY)||this.requestClose()}onOpen(){this.emit("open",this.parent,this),super.onOpen()}onClose(){this.emit("close",this.parent,this),super.onClose()}}var $dt=function(){if(this.listPanel)return this;if(this.options.length===0)return this;var e=Vdt.call(this);e.on("button.over",function(h,y,P,n){this.currentOverIndex=y,this.listOnButtonOver&&this.listOnButtonOver.call(this,h,y,P,n),this.emit("button.over",this,e,h,y,P,n)},this).on("button.out",function(h,y,P,n){this.currentOverIndex===y&&(this.currentOverIndex=void 0),this.listOnButtonOut&&this.listOnButtonOut.call(this,h,y,P,n),this.emit("button.out",this,e,h,y,P,n)},this);var t;!this.listAlignMode||this.listAlignMode==="label"?t=this:t=this.getElement(this.listAlignMode);var r=new QI(e,{duration:{in:this.listEaseInDuration,out:this.listEaseOutDuration},transitIn:this.listTransitInCallback,transitOut:this.listTransitOutCallback,expandDirection:this.listExpandDirection,alignTargetX:t,alignTargetY:this,alignSide:this.listAlignSide,bounds:this.listBounds}).on("open",function(){e.on("button.click",function(h,y,P,n){this.listOnButtonClick&&this.listOnButtonClick.call(this,h,y,P,n),this.emit("button.click",this,e,h,y,P,n),this.dropDownBehavior.requestClose()},this),this.emit("list.open",this,e)},this).on("close",function(){this.listPanel=void 0,this.dropDownBehavior=void 0,this.emit("list.close",this)},this);return e.onClickOutside(function(){r.requestClose()}),this.listPanel=e,this.dropDownBehavior=r,this.pin(e),this},Kdt=function(){return this.dropDownBehavior?(this.dropDownBehavior.requestClose(),this.currentOverIndex=void 0,this):this},Zdt=function(){return this.listPanel?this.closeListPanel():this.openListPanel(),this},Jdt=function(e){if(e===void 0&&(e=this.currentOverIndex),e===void 0)return this;var t=this.listPanel,r=t?t.getButton(e):this.options[e];return this.listOnButtonClick&&this.listOnButtonClick.call(this,r,e),this.emit("button.click",this,t,r,e),this},Qdt=function(e){var t=this.listPanel;return t?(t.emitButtonOver(e),this):this};const jdt={focusNextButton(){if(!this.isOpened)return this;var e=this.currentOverIndex,t;if(e===void 0)t=0;else{var r=this.listPanel.getButtons().length;t=(e+1)%r}return this.emitButtonOver(t),this},focusPrevButton(){if(!this.isOpened)return this;var e=this.currentOverIndex,t;if(e===void 0)t=0;else{var r=this.listPanel.getButtons().length;t=(e-1+r)%r}return this.emitButtonOver(t),this}};var jI={openListPanel:$dt,closeListPanel:Kdt,toggleListPanel:Zdt,emitButtonClick:Jdt,emitButtonOver:Qdt};Object.assign(jI,Adt,jdt);const bi=Phaser.Utils.Objects.GetValue;class cp extends Ho{constructor(t,r){super(t,r),this.type="rexDropDownList",this.timer=void 0,this.listPanel=void 0,this.currentOverIndex=void 0,this.setOptions(bi(r,"options"));var h=bi(r,"list");this.setWrapEnable(bi(h,"wrap",!1)),this.setCreateButtonCallback(bi(h,"createButtonCallback")),this.setCreateListBackgroundCallback(bi(h,"createBackgroundCallback")),this.setCreateListSliderTrackCallback(bi(h,"createTrackCallback")),this.setCreateListSliderThumbCallback(bi(h,"createThumbCallback")),this.setListSliderAdaptThumbSizeEnable(bi(h,"sliderAdaptThumbSize",!1)),this.setListScrollerConfig(bi(h,"scroller")),this.setListMouseWheelScrollerConfig(bi(h,"mouseWheelScroller")),this.setButtonClickCallback(bi(h,"onButtonClick")),this.setButtonOverCallback(bi(h,"onButtonOver")),this.setButtonOutCallback(bi(h,"onButtonOut")),this.setListExpandDirection(bi(h,"expandDirection")),this.setListEaseInDuration(bi(h,"easeIn",500)),this.setListEaseOutDuration(bi(h,"easeOut",100)),this.setListTransitInCallback(bi(h,"transitIn")),this.settListTransitOutCallback(bi(h,"transitOut")),this.setListMaxHeight(bi(h,"maxHeight",0)),this.setListSize(bi(h,"width"),bi(h,"height",0)),this.setListAlignmentMode(bi(h,"alignParent","text")),this.setListAlignmentSide(bi(h,"alignSide","")),this.setListBounds(bi(h,"bounds")),this.setListSpace(bi(h,"space")),this.setListDraggable(bi(h,"draggable",!1)),this.setValueChangeCallback(bi(r,"setValueCallback"),bi(r,"setValueCallbackScope")),this.setValue(bi(r,"value")),this.onClick(this.toggleListPanel,this)}destroy(t){!this.scene||this.ignoreDestroy||(this.listPanel&&(this.listPanel.destroy(t),this.listPanel=void 0),super.destroy(t))}get isOpened(){return!!this.listPanel}setOptions(t){return t===void 0&&(t=[]),this.options=t,this}setValueChangeCallback(t,r){return this.valueChangeCallback=t,this.valueChangeCallbackScope=r,this}setValue(t){return this.value=t,this}get value(){return this._value}set value(t){if(this._value!==t){var r=this._value;this._value=t;var h=this.valueChangeCallback,y=this.valueChangeCallbackScope;h&&(y?h.call(y,this,t,r):h(this,t,r)),this.emit("valuechange",this,t,r)}}}Object.assign(cp.prototype,jI);It.register("dropDownList",function(e){var t=new cp(this.scene,e);return this.scene.add.existing(t),t});Lt(window,"RexPlugins.UI.DropDownList",cp);var qI=function(e,t,r){t=t?Ur(t):{},r===void 0&&(r={});var h=t.label||t.button,y=t.button||t.label;delete t.label,delete t.button;var P=r.label||r.button||r,n=r.button||r.label||r,T=kx(e,h,P);T.list=t.list||{},T.list.createButtonCallback=function(x,d){var l=zr(x,y,n).resetDisplayContent(d);return d.hasOwnProperty("value")&&(l.value=d.value),l};var i=t.track;i&&(T.list.createTrackCallback=function(x){return Rr(x,i)},delete t.track);var a=t.thumb;return a&&(T.list.createThumbCallback=function(x){return Rr(x,a)},delete t.thumb),T.list.onButtonOver=function(x,d,l,o){x.setHoverState&&x.setHoverState(!0)},T.list.onButtonOut=function(x,d,l,o){x.setHoverState&&x.setHoverState(!1)},T};class _I extends cp{constructor(t,r,h){r=qI(t,r,h),super(t,r),this.type="rexSimpleDropDownList"}setOptions(t){t===void 0&&(t=[]);for(var r=0,h=t.length;r<h;r++){var y=t[r];typeof y=="string"&&(t[r]={text:y,value:y})}return super.setOptions(t),this}}It.register("simpleDropDownList",function(e,t){var r=new _I(this.scene,e,t);return this.scene.add.existing(r),r});Lt(window,"RexPlugins.UI.SimpleDropDownList",_I);var qdt=function(e){var t=jh(e),r,h,y;switch(t){case vn:case pn:r=e.height-e.padding.top-e.padding.bottom,h=e.lineSpacing,y=e.style.metrics.fontSize+e.style.strokeThickness;break;case ds:r=e.height,h=0;var P=e.fontSize/e.fontData.size;y=e.fontData.lineHeight*P;break}return(r-h)/(y+h)},_dt=function(e,t){if(e===void 0&&(e=this.startLineIndex),t===void 0){var r=this.pageLinesCount;r>0?t=e+r:t=this.totalLinesCount}t>this.totalLinesCount&&(t=this.totalLinesCount);var h;switch(this.textObjectType){case vn:case ds:h=this.lines.slice(e,t).join(`
`);break;case pn:var y=this.lines.getLineStartIndex(e),P=this.lines.getLineEndIndex(t-1);h=this.lines.getSliceTagText(y,P,!0);var n=(h.match(/\n/g)||[]).length;n>t-e-1&&(h=h.substring(0,h.length-1));break}return h};const tct={clearText(){return this.sections.length=0,this.pageStartIndexes.length=0,this.lines.length=0,this},appendPage(r){var t=this.totalLinesCount;this.sections.push(jf(r));var r=this.sections.join(`
`);this.lines=GM(this.parent,r,this.lines);var h=this.totalLinesCount-t,y=this.pageLinesCount,P;y>0?P=Math.ceil(h/this.pageLinesCount):P=1;for(var n=0;n<P;n++)this.pageStartIndexes.push(t+n*this.pageLinesCount);return this},setText(e,t){t===void 0&&(t=!0),t&&this.resetIndex(),this.clearText();for(var r=jf(e).split(this.pageBreak),h=0,y=r.length;h<y;h++)this.appendPage(r[h]);return this},appendText(e){var t=this.content+jf(e);return this.setText(t,!1),this}},ND=Phaser.Math.Clamp,ect={resetIndex(){return this.pageIndex=-1,this.startLineIndex=-1,this.endLineIndex=void 0,this},setPageIndex(e){return e=ND(e,0,this.lastPageIndex),this.pageIndex=e,this.startLineIndex=this.pageStartIndexes[e],this.endLineIndex=this.pageStartIndexes[e+1],this},getPage(e){return e===void 0&&(e=this.pageIndex),this.setPageIndex(e).getLines(this.startLineIndex,this.endLineIndex)},getNextPage(){return this.getPage(this.pageIndex+1)},getPreviousPage(){return this.getPage(this.pageIndex-1)},getFirstPage(){return this.getPage(0)},getLastPage(){return this.getPage(this.lastPageIndex)},setStartLineIndex(e){var t=Math.max(this.totalLinesCount-this.pageLinesCount,0);return e=ND(e,0,t),this.startLineIndex=e,this.endLineIndex=e+this.pageLinesCount,this},getPageByLineIndex(e){return this.setStartLineIndex(e).getLines(this.startLineIndex,this.endLineIndex)},getPageOfNextLine(){return this.getPageByLineIndex(this.startLineIndex+1)},getPageOfPreviousLine(){return this.getPageByLineIndex(this.startLineIndex-1)},getPageOfFirstLine(){return this.getPageByLineIndex(0)},getPageOfLastLine(){return this.getPageByLineIndex(this.totalLinesCount)}},ict={showPage(e){return this.displayText(this.getPage(e)),this},showNextPage(){return this.displayText(this.getNextPage()),this},showPreviousPage(){return this.displayText(this.getPreviousPage()),this},showFirstPage(){return this.displayText(this.getFirstPage()),this},showLastPage(){return this.displayText(this.getLastPage()),this},show(){return this.displayText(this.getLines()),this},showPageByLineIndex(e){return this.displayText(this.getPageByLineIndex(e)),this},showNextLine(){return this.displayText(this.getPageOfNextLine()),this},showPreviousLine(){return this.displayText(this.getPageOfPreviousLine()),this},showFirstLine(){return this.displayText(this.getPageOfFirstLine()),this},showLastLine(){return this.displayText(this.getPageOfLastLine()),this},displayText(e){Gx(this.parent,e)}};var t5={getLines:_dt};Object.assign(t5,tct,ect,ict);const Vf=Phaser.Utils.Objects.GetValue;Phaser.Math.Clamp;class Jx extends Hi{constructor(t,r){super(t,{eventEmitter:!1}),this.textObjectType=jh(this.parent),this.pageStartIndexes=[],this.lines=GM(this.parent,""),this.sections=[],this.resetFromJSON(r)}resetFromJSON(t){this.setMaxLines(Vf(t,"maxLines",void 0)),this.setPageBreak(Vf(t,"pageBreak",`\f
`)),this.setText(Vf(t,"text","")),this.startLineIndex=Vf(t,"start",-1),this.endLineIndex=Vf(t,"end",void 0);var r=Vf(t,"page");return r===void 0?this.resetIndex():this.setPageIndex(r),this}toJSON(){return{maxLines:this.maxLines,text:this.content,start:this.startLineIndex,end:this.endLineIndex,page:this.pageIndex,pageBreak:this.pageBreak}}shutdown(t){if(!this.isShutdown){switch(this.textObjectType){case vn:this.lines.length=0;break;case pn:this.lines.destroy();break;case ds:this.lines.length=0;break}this.pageStartIndexes.length=0,this.sections.length=0,this.lines=void 0,this.pageStartIndexes=void 0,this.sections=void 0,super.shutdown(t)}}setMaxLines(t){return this.maxLines=t,this}setPageBreak(t){return this.pageBreak=t,this}get pageCount(){return this.pageStartIndexes.length}get lastPageIndex(){return this.pageCount-1}get isFirstPage(){return this.pageIndex<=0}get isLastPage(){return this.pageIndex>=this.pageCount-1}get totalLinesCount(){return this.lines?this.lines.length:0}get pageLinesCount(){if(this.maxLines!==void 0)return this.maxLines;var t;switch(this.textObjectType){case vn:case pn:var r=this.parent.style.maxLines;r>0?t=r:t=Math.floor(qdt(this.parent));break;case ds:t=this.totalLinesCount;break}return t}get isFirstLine(){return this.startLineIndex<=0}get isLastLine(){return this.endLineIndex===this.totalLinesCount}get content(){return this.sections.join(this.pageBreak)}}Object.assign(Jx.prototype,t5);const rct={setText(e){this.setTextCallback&&(this.setTextCallbackScope?e=this.setTextCallback.call(this.setTextCallbackScope,e,this.isLastChar,this.insertIndex):e=this.setTextCallback(e,this.isLastChar,this.insertIndex)),this.textWrapEnable?Gx(this.parent,e):this.parent.setText(e)},appendText(e){var t=this.text.concat(jf(e));return this.isTyping?this.setTypingContent(t):this.start(t,void 0,this.textLength),this}};var nct=function(e,t,r,h){return e!==void 0&&this.setTypingContent(e),t!==void 0&&(this.speed=t),r===void 0&&(r=0),this.typingIndex=r+1,this.speed===0?this.stop(!0):(this.setText(""),this.startTimer(h)),this},e5=function(e,t){return e.getPlainText&&(t=e.getPlainText(t)),t},sct=function(e,t,r,h,y){var P;if(t>0){h===void 0&&(h=0);var n=e5(this.parent,e);P=act(n,t)+h}return this.start(e,r,P,y)},act=function(e,t){for(var r=void 0,h=0;h<t&&(r=e.indexOf(`
`,r+1),r!==-1);h++);return r},gv=function(e,t,r,h){var y;return e.getSubString?y=e.getSubString(t,r,h):y=t.slice(r,h),y},i5=function(e,t,r,h){var y=this.parent,P;if(h===0){var n=0,T=t;this.insertIndex=T,P=gv(y,e,n,T)}else if(h===1){var T=r,n=T-t;this.insertIndex=0,P=gv(y,e,n,T)}else if(h===2){var i=r/2,n=Math.floor(i-t/2),T=n+t;this.insertIndex=t%2?t:0,P=gv(y,e,n,T)}else if(h===3){var a=Math.floor(t/2),x;if(a>0){var T=r,n=T-a;x=gv(y,e,n,T)}else x="";var d=t-a,l;if(d>0){var n=0,T=n+d;this.insertIndex=T,l=gv(y,e,n,T)}else l="",this.insertIndex=0;P=l+x}return this.insertChar=P.charAt(this.insertIndex-1),P},oct=function(e){var t=this.getTimer();if(t&&this.freeTimer(),e){for(;!this.isLastChar;)i5.call(this,this.text,this.typingIndex,this.textLength,this.typeMode),this.emit("typechar",this.insertChar),this.typingIndex++;this.setText(this.text),this.emit("type"),this.emit("complete",this,this.parent)}return this},hct=function(){var e=this.getTimer();return e&&(e.paused=!0),this},lct=function(){var e=this.getTimer();return e&&(e.paused=!1),this},r5={start:nct,startFromLine:sct,stop:oct,pause:hct,resumeTyping:lct};Object.assign(r5,rct);var uct=function(e,t){var r=jh(e);switch(r){case vn:e.style.syncFont(e.canvas,e.context),t=e.runWordWrap(t);break;case pn:t=e.getText(t,void 0,void 0,!0);break;case ds:t=e.setText(t).getTextBounds().wrappedText;break}return t};const mv=Phaser.Utils.Objects.GetFastValue,FE=Phaser.Utils.Objects.GetValue;class Qx extends Hi{constructor(t,r){super(t,r),this.timer=null,this.resetFromJSON(r)}resetFromJSON(t){this.setTextWrapEnable(FE(t,"wrap",!1)),this.setTypeMode(FE(t,"typeMode",0)),this.setTypingSpeed(FE(t,"speed",333)),this.setTextCallback=mv(t,"setTextCallback",null),this.setTextCallbackScope=mv(t,"setTextCallbackScope",null),this.setTypingContent(mv(t,"text","")),this.typingIndex=mv(t,"typingIndex",0),this.insertIndex=null,this.insertChar=null;var r=mv(t,"elapsed",null);return r!==null&&this.start(void 0,void 0,this.typingIndex,r),this}shutdown(t){this.isShutdown||(this.freeTimer(),super.shutdown(t))}setTypeMode(t){return typeof t=="string"&&(t=fct[t]),this.typeMode=t,this}setTypeSpeed(t){return this.speed=t,this}setTypingSpeed(t){return this.speed=t,this}setTextWrapEnable(t){return t===void 0&&(t=!0),this.textWrapEnable=t,this}set text(t){var r=jf(t);this.textWrapEnable&&(r=uct(this.parent,r)),this._text=r}get text(){return this._text}get isTyping(){return this.getTimer()!==null}get isLastChar(){return this.typingIndex===this.textLength}setTypingContent(t){return this.text=t,this.textLength=e5(this.parent,this.text).length,this}onTyping(){var t=i5.call(this,this.text,this.typingIndex,this.textLength,this.typeMode);this.setText(t),this.emit("typechar",this.insertChar),this.emit("type"),this.isLastChar?(this.freeTimer(),this.scene.sys.events.once("preupdate",function(){this.emit("complete",this,this.parent)},this)):(this.timer.delay=this.speed,this.typingIndex++)}startTimer(t){this.timer&&this.freeTimer();var r;return t===void 0?r=0:(this.speed,r=t),this.timer=this.scene.time.addEvent({delay:1e-4,startAt:r,loop:!0,callback:this.onTyping,callbackScope:this}),this}getTimer(){return this.timer}freeTimer(){return this.timer&&(this.timer.remove(),this.timer=null),this}setText(t){this.setTextCallback&&(this.setTextCallbackScope?t=this.setTextCallback.call(this.setTextCallbackScope,t,this.isLastChar,this.insertIndex):t=this.setTextCallback(t,this.isLastChar,this.insertIndex)),this.textWrapEnable?Gx(this.parent,t):this.parent.setText(t)}}const fct={"left-to-right":0,"right-to-left":1,"middle-to-sides":2,"sides-to-middle":3};Object.assign(Qx.prototype,r5);const xv=Phaser.Utils.Objects.GetValue;var dct=function(e,t){t===void 0&&(t="rexTextBox");class r extends e{constructor(y,P){super(y,P),this.type=t,this.isRunning=!1,this._isPageEnd=!1;var n=this.childrenMap.text,T=xv(P,"expandTextWidth",!1),i=xv(P,"expandTextHeight",!1);if(T||i){var a=jh(n);switch(a){case vn:case pn:if(n.resize=function(d,l){var o=T?d:0,s=i?l:0;n.setFixedSize(o,s),o>0&&n.setWordWrapWidth(o)},a===pn){var x=n.style;x.wrapMode===0&&(x.wrapMode=1)}break}T&&(n._minWidth=0),i&&(n._minHeight=0)}this.setTypingMode(xv(P,"typingMode","page")),this.page=new Jx(n,xv(P,"page",void 0)),this.typing=new Qx(n,xv(P,"typing",P.type)),this.typing.on("complete",this.onTypingComplete,this).on("type",this.onType,this).on("typechar",this.onTypeChar,this),this.textWidthSave=n.width,this.textHeightSave=n.height}setTypingMode(y){return typeof y=="string"&&(y=cct[y]),this.typingMode=y,this}start(y,P){return P!==void 0&&this.setTypingSpeed(P),this.isRunning=!0,this.page.setText(y),this.emit("start"),this.typingMode===0?this.typeNextPage():this.typeNextLine(),this}more(y,P){if(P!==void 0&&this.setTypingSpeed(P),this.isRunning)this.page.appendText(y),this.typing.appendText(y);else{if(this.isRunning=!0,this.page.appendText(y),this.emit("start"),this.typingMode===0){this._isPageEnd=!1;var n=this.page.getPage(),T=this.typing.textLength;this.typing.start(n,void 0,T)}return this}}typeNextPage(){if(!this.isRunning)return this;if(this.isLastPage)this.emit("complete");else{this._isPageEnd=!1;var y=this.page.getNextPage();this.typing.start(y)}return this}typeNextLine(){if(!this.isRunning)return this;if(this.isLastLine)this.isRunning=!1,this.emit("pageend"),this.emit("complete");else{var y=this.page.getPageOfNextLine(),P;this.isFirstLine?P=0:P=this.page.pageLinesCount-1,this.typing.startFromLine(y,P)}}pause(){return this.isRunning?(this.isTyping&&(this.typing.pause(),this.emit("pause")),this):this}resume(){return this.isRunning?(this.isTyping||(this.emit("resume"),this.typing.resume()),this):this}stop(y){return this.isRunning?(this.typing.stop(y),this):this}showLastPage(){return this.isRunning?(this.typing.stop(),this.typingMode===0?this.page.showLastPage():this.page.showLastLine(),this.emit("type"),this.onTypingComplete(),this):this}setTypeSpeed(y){return this.typing.setTypingSpeed(y),this}setTypingSpeed(y){return this.typing.setTypingSpeed(y),this}get isTyping(){return this.typing.isTyping}get isPageEnd(){return this._isPageEnd}get isLastPage(){return this.page.isLastPage}get isFirstPage(){return this.page.isFirstPage}get pageCount(){return this.page.pageCount}get pageIndex(){return this.page.pageIndex}get isLastLine(){return this.page.isLastLine}get isFirstLine(){return this.page.isFirstLine}get lineCound(){return this.page.totalLinesCount}get startLineIndex(){return this.page.startLineIndex}get endLineIndex(){return this.page.endLineIndex}get typingSpeed(){return this.typing.speed}onType(){var y=this.childrenMap.text;(this.textWidthSave!==y.width||this.textHeightSave!==y.height)&&(this.textWidthSave=y.width,this.textHeightSave=y.height,this.getTopmostSizer().layout()),this.emit("type")}onTypeChar(y){this.emit("typechar",y)}onTypingComplete(){if(this.typingMode===0){this._isPageEnd=!0;var y=this.isLastPage;this.isRunning=!y,this.emit("pageend"),y&&this.emit("complete")}else this.typeNextLine()}}return r};const cct={page:0,line:1};class ZM extends dct(Nx){constructor(t,r){r===void 0&&(r={}),r.hasOwnProperty("layoutMode")||(r.layoutMode=1),super(t,r)}}It.register("textBox",function(e){var t=new ZM(this.scene,e);return this.scene.add.existing(t),t});Lt(window,"RexPlugins.UI.TextBox",ZM);class n5 extends ZM{constructor(t,r,h){r=LI(t,r,h),super(t,r)}}It.register("simpleTextBox",function(e){var t=new n5(this.scene,e);return this.scene.add.existing(t),t});Lt(window,"RexPlugins.UI.SimpleTextBox",n5);const us=Phaser.Utils.Objects.GetValue;class s5 extends Je{constructor(t,r){super(t,r),this.type="rexNumberBar";var h=us(r,"background",void 0),y=us(r,"icon",void 0),P=us(r,"iconMask",void 0),n=us(r,"slider",void 0),T=us(r,"text",void 0),i=us(r,"space.icon",0),a=us(r,"space.slider",0);if(h&&this.addBackground(h),y){var x;this.orientation===0?(n||T)&&(x={right:i}):(n||T)&&(x={bottom:i}),this.add(y,{proportion:0,align:"center",padding:x}),P&&(P=ma.call(this,y,y,1))}var d;if(n){n.orientation=this.orientation,n.eventEmitter=this,n.value=null,n.hasOwnProperty("input")||(n.input=-1),d=new fd(t,n),t.add.existing(d);var x;this.orientation===0?T&&(x={right:a}):T&&(x={bottom:a});var l;if(this.orientation===0){var o=us(n,"width",void 0);l=o===void 0?1:0}else{var s=us(n,"height",void 0);l=s===void 0?1:0}this.add(d,{proportion:l,align:"center",padding:x})}T&&this.add(T),this.addChildrenMap("background",h),this.addChildrenMap("icon",y),this.addChildrenMap("iconMask",P),this.addChildrenMap("slider",d),this.addChildrenMap("text",T);var f=us(r,"valuechangeCallback",null);if(f!==null){var c=us(r,"valuechangeCallbackScope",void 0);this.on("valuechange",f,c)}this.setEnable(us(r,"enable",void 0)),this.setValue(us(r,"value",0))}get enable(){return this.childrenMap.slider?this.childrenMap.slider.enable:!1}set enable(t){this.childrenMap.slider&&this.childrenMap.slider.setEnable(t)}setEnable(t){return t===void 0&&(t=!0),this.enable=t,this}get value(){return this.childrenMap.slider?this.childrenMap.slider.value:0}set value(t){this.childrenMap.slider&&(this.childrenMap.slider.value=t)}setValue(t,r,h){return this.childrenMap.slider&&this.childrenMap.slider.setValue(t,r,h),this}addValue(t,r,h){return this.childrenMap.slider&&this.childrenMap.slider.addValue(t,r,h),this}getValue(t,r){return this.childrenMap.slider?this.childrenMap.slider.getValue(t,r):0}easeValueTo(t,r,h){return this.childrenMap.slider&&this.childrenMap.slider.easeValueTo(t,r,h),this}stopEaseValue(){return this.childrenMap.slider&&this.childrenMap.slider.stopEaseValue(),this}setEaseValueDuration(t){return this.childrenMap.slider&&this.childrenMap.slider.setEaseValueDuration(t),this}setEaseValueFunction(t){return this.childrenMap.slider&&this.childrenMap.slider.setEaseValueFunction(t),this}get text(){var t=this.childrenMap.text;if(t===void 0)return"";var r;return t.text?r=t.text:r=t.getData("text"),r}set text(t){var r=this.childrenMap.text;r!==void 0&&(r.setText?r.setText(t):r.setData("text",t))}setText(t){return this.text=t,this}}It.register("numberBar",function(e){var t=new s5(this.scene,e);return this.scene.add.existing(t),t});Lt(window,"RexPlugins.UI.NumberBar",s5);It.register("scrollBar",function(e){var t=new IM(this.scene,e);return this.scene.add.existing(t),t});Lt(window,"RexPlugins.UI.ScrollBar",IM);const DE=Phaser.Utils.Objects.GetValue,zD={leftTop:"left-top",centerTop:"center-top",rightTop:"right-top",leftCenter:"left-center",center:"center",rightCenter:"right-center",leftBottom:"left-bottom",centerBottom:"center-bottom",rightBottom:"right-bottom"};class a5 extends Ns{constructor(t,r){super(t,r),this.type="rexBadge";var h=DE(r,"background",void 0);h&&this.addBackground(h),this.addChildrenMap("background",h);var y=DE(r,"main",void 0);y&&this.add(y,{key:"main",align:"center",expand:!1}),this.addChildrenMap("main",y);for(var P in zD){var n=DE(r,P,void 0);n&&(this.add(n,{key:P,align:zD[P],expand:!1}),this.addChildrenMap(P,n))}}}It.register("badgeLabel",function(e){var t=new a5(this.scene,e);return this.scene.add.existing(t),t});Lt(window,"RexPlugins.UI.BadgeLabel",a5);const vct=Ns.prototype.add;var UD=function(e,t,r,h,y,P,n,T,i){return e.setVisible(!1),vct.call(this,e,t,r,h,y,P,n,T,i),this};const pct={add:UD,addPage:UD};var gct=function(e){return e===void 0?null:this.sizerChildren.hasOwnProperty(e)?this.sizerChildren[e]:null};const VD=vs.prototype.setChildVisible;var mct=function(e,t){this._previousKey=this._currentKey;var r=this.previousPage;r&&(this.swapMode===0?(VD.call(this,r,!1),this.emit("pageinvisible",r,this._previousKey,this)):r.destroy()),e&&!this.sizerChildren.hasOwnProperty(e)&&this.emit("createpage",e,this),this._currentKey=e;var h=this.currentPage;return h&&(VD.call(this,h,!0),this.emit("pagevisible",h,this._currentKey,this),t===void 0&&(t=this.fadeInDuration),t>0&&h.setAlpha(0).fadeIn(t,1)),this},xct=function(e){return this.sizerChildren.hasOwnProperty(e)},o5={getPage:gct,swapPage:mct,hasPage:xct};Object.assign(o5,pct);const WD=Phaser.Utils.Objects.GetValue;class jx extends Ns{constructor(t,r){super(t,r),this.type="rexPages",this.childrenMap=this.sizerChildren,this._previousKey=void 0,this._currentKey=void 0,this.setSwapMode(WD(r,"swapMode",0)),this.setFadeInDuration(WD(r,"fadeIn",0))}setSwapMode(t){return typeof t=="string"&&(t=yct[t]),this.swapMode=t,this}setFadeInDuration(t){return this.fadeInDuration=t,this}get previousKey(){return this._previousKey}get currentKey(){return this._currentKey}set currentKey(t){this.swapPage(t)}get currentPage(){return this.getPage(this.currentKey)}get previousPage(){return this.getPage(this.previousKey)}get keys(){return Object.keys(this.sizerChildren)}}Object.assign(jx.prototype,o5);const yct={invisible:0,destroy:1};It.register("pages",function(e){var t=new jx(this.scene,e);return this.scene.add.existing(t),t});Lt(window,"RexPlugins.UI.Pages",jx);const Cct=Phaser.GameObjects.Mesh;class h5 extends Cct{get tint(){return this.vertices.length===0?16777215:this.vertices[0].color}forceUpdate(){return this.dirtyCache[10]=1,this}}const l5=Phaser.Math.Vector3,Sct=Phaser.Math.Matrix4;var YD=new l5,XD=new l5,HD=new Sct,Tct=function(e,t,r,h,y,P,n){t===void 0&&(t=0),r===void 0&&(r=0),h===void 0&&(h=0),y===void 0&&(y=0),P===void 0&&(P=0),n===void 0&&(n=0),YD.set(t,r,h),XD.set(y,P,n),HD.fromRotationXYTranslation(XD,YD,!0);for(var T=0,i=e.vertices.length;T<i;T++)e.vertices[T].transformMat4(HD)};const Ect=Phaser.Utils.Objects.IsPlainObject,Jl=Phaser.Utils.Objects.GetValue,Pct=Phaser.Geom.Mesh.GenerateGridVerts,BE=Phaser.Math.RadToDeg,k0=Phaser.Math.DegToRad,u5=45,Mct=1+1/Math.sin(k0(u5));let f5=class extends h5{constructor(t,r,h,y,P,n){Ect(r)&&(n=r,r=Jl(n,"x",0),h=Jl(n,"y",0),y=Jl(n,"key",null),P=Jl(n,"frame",null)),super(t,r,h,y,P),this.type="rexPerspectiveImage",this.setSizeToFrame(),this.resetPerspective(),this.panZ(Mct),this.hideCCW=Jl(n,"hideCCW",!0);var T=Jl(n,"gridWidth",0),i=Jl(n,"gridHeight",T);this.resetVerts(T,i),this.prevFrame=this.frame}preUpdate(t,r){this.prevFrame!==this.frame&&(this.prevFrame=this.frame,this.syncSize()),super.preUpdate(t,r)}get originX(){return .5}get originY(){return .5}resetPerspective(){return this.setPerspective(this.width,this.height,u5),this}resetVerts(P,n){if(P!==void 0&&(this.gridWidth=P),n!==void 0&&(this.gridHeight=n),this.clear(),this.dirtyCache[9]=-1,this.width===0||this.height===0)return this;var h=this.frame.cutWidth,y=this.frame.cutHeight,P,n;this.gridWidth===0?P=Math.max(h/8,32):n=this.gridWidth,this.gridHeight===0?n=Math.max(y/8,32):n=this.gridHeight,Pct({mesh:this,width:h/this.height,height:y/this.height,widthSegments:Math.ceil(h/P),heightSegments:Math.ceil(y/n)});var T=this.transformInfo;return T&&this.transformVerts(T.x,T.y,T.z,T.rotateX,T.rotateY,T.rotateZ),this}syncSize(){return this.setSizeToFrame(),this.resetPerspective(),this.resetVerts(),this}get rotationX(){return this.modelRotation.x}set rotationX(t){this.modelRotation.x=t}get angleX(){return BE(this.rotationX)}set angleX(t){this.rotationX=k0(t)}get rotationY(){return this.modelRotation.y}set rotationY(t){this.modelRotation.y=t}get angleY(){return BE(this.rotationY)}set angleY(t){this.rotationY=k0(t)}get rotationZ(){return this.modelRotation.z}set rotationZ(t){this.modelRotation.z=t}get angleZ(){return BE(this.rotationZ)}set angleZ(t){this.rotationZ=k0(t)}transformVerts(t,r,h,y,P,n){return t===void 0&&(t=0),r===void 0&&(r=0),h===void 0&&(h=0),y===void 0&&(y=0),P===void 0&&(P=0),n===void 0&&(n=0),this.transformInfo||(this.transformInfo={}),this.transformInfo.x=t,this.transformInfo.y=r,this.transformInfo.rotateX=y,this.transformInfo.rotateY=P,this.transformInfo.rotateZ=n,Tct(this,t,r,h,y,P,n),this}};const bct=Phaser.Textures.DynamicTexture;var d5=function(e,t,r){t===void 0&&(t=2),r===void 0&&(r=2);var h=new bct(e.sys.textures,null,t,r);return h};const wct=Phaser.Utils.Objects.IsPlainObject,T0=Phaser.Utils.Objects.GetValue;class c5 extends f5{constructor(t,r,h,y,P,n){wct(r)&&(n=r,r=T0(n,"x",0),h=T0(n,"y",0),y=T0(n,"width",32),P=T0(n,"height",32));var T=d5(t,y,P);super(t,r,h,T,null,n),this.type="rexPerspectiveRenderTexture",this.rt=this.texture}destroy(t){!this.scene||this.ignoreDestroy||(super.destroy(t),this.rt.destroy(),this.rt=null)}snapshot(t,r){return r===void 0&&(r={}),r.gameObjects=t,r.renderTexture=this.rt,XP(r),(this.width!==this.frame.realWidth||this.height!==this.frame.realHeight)&&this.syncSize(),this}}Phaser.Animations.AnimationState;Phaser.Utils.Objects.IsPlainObject;Phaser.Utils.Objects.GetValue;var ca=function(e,t,r,h){if(Array.isArray(e))for(var y=!1,P=0,n=e.length;P<n;P++){var T=e[P];if(!(h&&!T)&&(r?y=t.call(r,T,P,e):y=t(T,P,e),y))return}else{var y=!1;for(var i in e){var T=e[i];if(!(h&&!T)&&(r?y=t.call(r,T,i,e):y=t(T,i,e),y))return}}};const Wf=Phaser.Math.RadToDeg,Yf=Phaser.Math.DegToRad;class Rct extends vs{constructor(t,r,h,y,P,n){super(t,r,h,y,P),this.faces=n,ca(n,function(T){T.setPosition(r,h),this.add(T)},this,!0)}get rotationX(){return 0}set rotationX(t){}get angleX(){return Wf(this.rotationX)}set angleX(t){this.rotationX=Yf(t)}get rotateX(){return Wf(this.rotationX)}set rotateX(t){this.rotationX=Yf(t)}get rotationY(){return 0}set rotationY(t){}get angleY(){return Wf(this.rotationY)}set angleY(t){this.rotationY=Yf(t)}get rotateY(){return Wf(this.rotationY)}set rotateY(t){this.rotationY=Yf(t)}get rotationZ(){return 0}set rotationZ(t){}get angleZ(){return Wf(this.rotationZ)}set angleZ(t){this.rotationZ=Yf(t)}get rotateZ(){return Wf(this.rotationZ)}set rotateZ(t){this.rotationZ=Yf(t)}setDebug(t,r){return ca(this.faces,function(h){h.setDebug(t,r)},null,!0),this}panX(t){return ca(this.faces,function(r){r.panX(t)},null,!0),this}panY(t){return ca(this.faces,function(r){r.panY(t)},null,!0),this}panZ(t){return ca(this.faces,function(r){r.panZ(t)},null,!0),this}transformVerts(t,r,h,y,P,n){return ca(this.faces,function(T){T.transformVerts(t,r,h,y,P,n)},null,!0),this}forEachFace(t,r,h){return ca(this.faces,t,r,h),this}}const Act=Phaser.Utils.Objects.IsPlainObject,Oct={key:"__WHITE"},Lct={image:f5,rendertexture:c5};var $D=function(e,t){t===void 0&&(t=Oct);var r;return Act(t)?(t.hasOwnProperty("type")||(t.hasOwnProperty("key")?t.type="image":t.hasOwnProperty("width")&&(t.type="rendertexture")),r=new Lct[t.type](e,t),e.add.existing(r)):r=t,r},Fct=function(e,t,r){var h;if(r===void 0){h=[];for(var y,P,n=0,T=t.length;n<T;n++)P=t[n],P?y=$D(e,P):y=null,h.push(y)}else{h={};for(var y,i,n=0,T=r.length;n<T;n++)i=r[n],t.hasOwnProperty(i)?y=$D(e,t[i]):y=null,h[i]=y}return h};const Dct=Phaser.Math.DegToRad,KD=Dct(180);var Bct=function(e,t){var r=t.back;r&&(e.orientation===0?r.transformVerts(0,0,0,0,KD,0):r.transformVerts(0,0,0,KD,0,0))};const IE=Phaser.Utils.Objects.GetValue,Ict=Phaser.Math.Linear;let Gct=class extends cu{constructor(t,r){super(t,r),this.resetFromJSON(r),this.boot()}resetFromJSON(t){return super.resetFromJSON(t),this.setEase(IE(t,"ease","Cubic")),this.setFrontToBackDirection(IE(t,"frontToBack",0)),this.setBackToFrontDirection(IE(t,"backToFront",1)),this}setFrontToBackDirection(t){return typeof t=="string"&&(t=ZD[t]),this.endAngleFB=t===0?180:-180,this}setBackToFrontDirection(t){return typeof t=="string"&&(t=ZD[t]),this.endAngleBF=t===0?-180:180,this}start(t,r){if(this.timer.isRunning)return this;this.timer.setDelay(this.delay).setDuration(t);var h=r+1,y=this.parent;return y.face===0?(this.startAngle=0,this.endAngle=this.endAngleFB*h):(this.startAngle=this.endAngleBF,this.endAngle=this.startAngle-this.endAngleBF*h),super.start(),this}flip(t,r){return this.isRunning?this:(t===void 0&&(t=this.duration),r===void 0&&(r=0),this.start(t,r),this.emit("start",this.parent,this),this.parent.currentFaceIndex=(this.parent.currentFaceIndex+r+1)%2,this)}flipRight(t,r){return this.parent.currentFaceIndex===0?this.setFrontToBackDirection(0):this.setBackToFrontDirection(0),this.flip(t,r),this}flipLeft(t,r){return this.parent.currentFaceIndex===0?this.setFrontToBackDirection(1):this.setBackToFrontDirection(1),this.flip(t,r),this}updateTarget(t,r){var h=this.easeFn(r.t),y=Ict(this.startAngle,this.endAngle,h);t.orientation===0?t.angleY=y:t.angleX=y}};const ZD={right:0,"left-to-right":0,left:1,"right-to-left":1},kct=Phaser.Utils.Objects.IsPlainObject,Ql=Phaser.Utils.Objects.GetValue,Nct=["back","front"];class zct extends Rct{constructor(t,r,h,y){kct(r)&&(y=r,r=Ql(y,"x",0),h=Ql(y,"y",0));var P=Fct(t,y,Nct),n=P.back,T=P.front,i=Ql(y,"width"),a=Ql(y,"height");if(i===void 0||a===void 0){if(i===void 0){var x=T?T.width:0,d=n?n.width:0;i=Math.max(x,d)}if(a===void 0){var l=T?T.height:0,o=n?n.height:0;a=Math.max(l,o)}}super(t,r,h,i,a,P),this.type="rexPerspectiveCard",this.frontFaceRotationX=0,this.frontFaceRotationY=0,this.frontFaceRotationZ=0,ca(P,function(f,c){this[`${c}Face`]=f},this);var s=Ql(y,"flip",void 0);s!==!1&&(this.flip=new Gct(this,s)),this.setOrientation(Ql(y,"orientation",0)),Bct(this,P),this.setFace(Ql(y,"face",0))}get rotationX(){return this.frontFaceRotationX}set rotationX(t){this.frontFaceRotationX!==t&&(this.frontFaceRotationX=t,ca(this.faces,function(r){r.rotationX=t},null,!0))}get rotationY(){return this.frontFaceRotationY}set rotationY(t){this.frontFaceRotationY!==t&&(this.frontFaceRotationY=t,ca(this.faces,function(r){r.rotationY=t},null,!0))}get rotationZ(){return this.frontFaceRotationZ}set rotationZ(t){this.frontFaceRotationZ!==t&&(this.frontFaceRotationZ=t,ca(this.faces,function(r){r.rotationZ=t},null,!0))}setOrientation(t){return typeof t=="string"&&(t=Uct[t]),this.orientation=t,this}get face(){return this.currentFaceIndex}set face(t){typeof t=="string"&&(t=Vct[t]),this.currentFaceIndex=t;var r=t===1,h=r?180:0;this.orientation===0?this.angleY=h:this.angleX=h}setFace(t){return this.face=t,this}toggleFace(){var t=this.face===0?1:0;return this.setFace(t),this}}const Uct={x:0,horizontal:0,h:0,y:1,vertical:1,v:1},Vct={front:0,back:1};Phaser.Utils.Objects.GetValue;Phaser.Math.RadToDeg;Phaser.Math.DegToRad;Phaser.Math.Angle.WrapDegrees;Phaser.Math.Angle.ShortestBetween;Phaser.Math.Wrap;Phaser.Math.Linear;Phaser.Utils.Objects.IsPlainObject;Phaser.Utils.Objects.GetValue;Phaser.Math.DegToRad;Phaser.Math.RadToDeg;Phaser.Math.Angle.WrapDegrees;Phaser.Math.Linear;Phaser.Math.Wrap;Phaser.Utils.Objects.IsPlainObject;Phaser.Utils.Objects.GetValue;Phaser.Math.Wrap;const Wct=Phaser.Utils.Objects.GetValue;var Yct=function(e,t,r){t.visibleSibling=[],t.isRunning=!1,t.useParentBounds=Wct(r,"useParentBounds",!1),t.setPosition(e.x,e.y).setVisible(!1),e.pin(t)},v5=function(e,t){if(!e)return!1;for(var r=t.visibleSibling,h=0,y=r.length;h<y;h++)e.setChildVisible(r[h],!0);return r.length=0,e.setChildVisible(t,!1),t.isRunning=!1,!0},Xct=function(e,t){if(!e)return!1;v5(e,t);var r=t.useParentBounds;XP({gameObjects:e.getAllVisibleChildren(),renderTexture:t.rt,x:t.x,y:t.y,width:r?e.displayWidth:void 0,height:r?e.displayHeighth:void 0,originX:r?e.originX:void 0,originY:r?e.originY:void 0}),e.setChildVisible(t,!0);for(var h=t.visibleSibling,y=e.children,P=0,n=y.length;P<n;P++){var T=y[P];T.visible&&T!==t&&(e.setChildVisible(T,!1),h.push(T))}return t.isRunning=!0,!0},p5=function(e){return class extends e{constructor(r,h){var y=r.scene;super(y,0,0,1,1,h),y.add.existing(this),Yct(r,this,h)}destroy(r){!this.scene||this.ignoreDestroy||(this.exit(),super.destroy(r))}enter(){var r=Xct(this.rexContainer.parent,this);return r&&this.syncSize(),this}exit(){return v5(this.rexContainer.parent,this),this}}};class g5 extends p5(c5){get perspectiveState(){return this.isRunning}}const Hct=Phaser.Utils.Objects.GetValue;var $ct=function(e){var t=this.scene;this.setSnapshotPadding(Hct(e,"snapshotPadding",0)),e=va(e),delete e.width,delete e.height,e.front={width:1,height:1},e.back={width:1,height:1};var r=new zct(t,e);t.add.existing(r);var h=r.flip;if(h){var y=this;h.on("start",function(){y.enterPerspectiveMode()}).on("complete",function(){y.exitPerspectiveMode()})}return r};const Kct=["front","back"],Zct={enterPerspectiveMode(){return this.isInPerspectiveMode?this:(this.setChildVisible(this.perspectiveCard,!0),this.snapshotFace(0),this.snapshotFace(1),this.setChildVisible(this.childrenMap.front,!1),this.setChildVisible(this.childrenMap.back,!1),this.perspectiveCard.setSize(this.width,this.height),this)},exitPerspectiveMode(){if(!this.isInPerspectiveMode)return this;this.setChildVisible(this.perspectiveCard,!1);var e=this.perspectiveCard.face===0;return this.setChildVisible(this.childrenMap.front,e),this.setChildVisible(this.childrenMap.back,!e),this},setSnapshotPadding(e){return this.snapshotPadding=e,this},snapshotFace(e){typeof e=="number"&&(e=Kct[e]);var t=this.perspectiveCard.faces[e],r=this.childrenMap[e];t.rt.clear();var h=r.visible;r.visible=!0;var y=r.isRexContainerLite?r.getAllVisibleChildren():r;return t.snapshot(y,{padding:this.snapshotPadding}),r.visible=h,this}},JD=Phaser.Utils.Objects.GetValue;class JM extends Ns{constructor(t,r){super(t,r),this.type="rexPerspectiveCard";var h=r.back,y=JD(r,"expand.back",!0);this.add(h,{key:"back",expand:y});var P=r.front,n=JD(r,"expand.front",!0);this.add(P,{key:"front",expand:n}),this.perspectiveCard=$ct.call(this,r),this.pin(this.perspectiveCard),this.exitPerspectiveMode(!1)}get flip(){return this.perspectiveCard.flip}get face(){return this.perspectiveCard.face}set face(t){if(!(this.flip&&this.flip.isRunning)){this.perspectiveCard.face=t;var r=t===0,h=this.childrenMap.front,y=this.childrenMap.back;this.setChildVisible(h,r),this.setChildVisible(y,!r)}}setFace(t){return this.face=t,this}toggleFace(){var t=this.face===0?1:0;return this.setFace(t),this}get isInPerspectiveMode(){return this.perspectiveCard.visible}get rotationX(){return this.perspectiveCard.rotationX}set rotationX(t){this.enterPerspectiveMode(),this.perspectiveCard.rotationX=t}get angleX(){return this.perspectiveCard.angleX}set angleX(t){this.enterPerspectiveMode(),this.perspectiveCard.angleX=t}get rotationY(){return this.perspectiveCard.rotationY}set rotationY(t){this.enterPerspectiveMode(),this.perspectiveCard.rotationY=t}get angleY(){return this.perspectiveCard.angleY}set angleY(t){this.enterPerspectiveMode(),this.perspectiveCard.angleY=t}get rotationZ(){return this.perspectiveCard.rotationZ}set rotationZ(t){this.enterPerspectiveMode(),this.perspectiveCard.rotationZ=t}get angleZ(){return this.perspectiveCard.angleZ}set angleZ(t){this.enterPerspectiveMode(),this.perspectiveCard.angleZ=t}panX(t){return this.enterPerspectiveMode(),this.perspectiveCard.panX(t),this}panY(t){return this.enterPerspectiveMode(),this.perspectiveCard.panY(t),this}panZ(t){return this.enterPerspectiveMode(),this.perspectiveCard.panZ(t),this}transformVerts(t,r,h,y,P,n){return this.enterPerspectiveMode(),this.perspectiveCard.transformVerts(t,r,h,y,P,n),this}forEachFace(t,r,h){return this.enterPerspectiveMode(),this.perspectiveCard.forEachFace(t,r,h),this}}Object.assign(JM.prototype,Zct);It.register("perspectiveCard",function(e){var t=new JM(this.scene,e);return this.scene.add.existing(t),t});Lt(window,"RexPlugins.UI.PerspectiveCard",JM);var Jct=function(e){var t=this.getElement("tabs.buttons");if(!(e>=t.length))return t[e].name},Qct=function(e){for(var t=this.getElement("tabs.buttons"),r=0,h=t.length;r<h;r++)if(t[r].name===e)return r};const jct=Phaser.Utils.Objects.IsPlainObject,GE=Phaser.Utils.Objects.GetValue,qct=Phaser.Utils.String.UUID;var _ct=function(e,t,r){if(jct(e)){var h=e;e=GE(h,"key"),t=GE(h,"tab"),r=GE(h,"page")}return e||(e=qct()),t.name=e,this.childrenMap.tabs.addButton(t),this.childrenMap.pages.addPage(r,{key:e}),this},tvt=function(e,t){var r;if(typeof e=="number"?r=e:r=this.getPageIndex(e),r!=null){var h;t!==void 0&&(h=this.childrenMap.pages.fadeInDuration,this.childrenMap.pages.fadeInDuration=t),this.childrenMap.tabs.emitButtonClick(r),h!==void 0&&(this.childrenMap.pages.fadeInDuration=h)}return this},evt=function(e){return this.swapPage(0,e),this},ivt=function(e){var t=this.getElement("tabs.buttons").length-1;return this.swapPage(t,e),this};const rvt={swapPage:tvt,swapFirstPage:evt,swapLastPage:ivt},nvt={removePage(e,t){typeof e=="number"&&(e=this.getPageKey(e));var r=this.childrenMap.tabs,h=r.getByName(e),y=this.childrenMap.pages,P=y.getElement(e);return!h||!P?this:(y.removeChildrenMap(e),r.removeButton(h,t),y.remove(P,t),this)},removeAllPages(e){for(var t=this.getElement("tabs.buttons"),r=t.length-1;r>=0;r--)this.removePage(t[r].name,e);return this}};var svt=function(e){return typeof e=="number"&&(e=this.getPageKey(e)),this.childrenMap.pages.getPage(e)},avt=function(e){var t;return typeof e=="number"?t=e:t=this.getPageIndex(e),this.getElement("tabs.buttons")[t]},ovt={top:1,left:3,right:5,bottom:7},QD={top:"bottom",left:"right",right:"left",bottom:"top"},hvt=function(e){var t=ovt[e];if(t===void 0)return this;var r=this.childrenMap.tabs,h=this.sizerChildren.indexOf(r);if(h===t)return this;this.sizerChildren[h]=null,this.sizerChildren[t]=r;var y=this.getSizerConfig(r).padding,P=QD[this.tabsPosition],n=QD[e];return y[n]=y[P],y[P]=0,this.tabsPosition=e,this};const lvt={setTabsPadding(e,t){var r=this.childrenMap.tabs;return r.setOuterPadding(e,t),this},getTabsPadding(e){var t=this.childrenMap.tabs;return t.getOuterPadding(e)}};var m5={getPageKey:Jct,getPageIndex:Qct,addPage:_ct,getPage:svt,getTab:avt,setTabPosition:hvt};Object.assign(m5,rvt,nvt,lvt);const fa=Phaser.Utils.Objects.GetValue,jD=xa.prototype.add;let qx=class extends xa{constructor(t,r){r===void 0&&(r={}),r.column=3,r.row=3,r.columnProportions=[0,0,0],r.rowProportions=[0,0,0];var h=fa(r,"expand.pages",!0);h&&(r.columnProportions[1]=1,r.rowProportions[1]=1),super(t,r),this.type="rexTabPages";var y=fa(r,"background",void 0);y&&this.addBackground(y);var P=fa(r,"pages"),n=new jx(t,P);t.add.existing(n);var T=fa(r,"tabsPosition",void 0);T===void 0&&(T=fa(r,"tabPosition","top"));var i=fa(r,"wrapTabs",!1),a=i?$h:Nr,x=fa(r,"tabs",void 0);x===void 0&&(x={}),x.orientation=T==="top"||T==="bottom"?"x":"y",x.buttonsType="radio",!i&&!x.hasOwnProperty("expand")&&(x.expand=fa(r,"expand.tabs",!1));var d=new a(t,x);t.add.existing(d),jD.call(this,n,{column:1,row:1,expand:h});var l,o,s=fa(r,"space.item",0);switch(T){case"top":l=1,o=0,s={bottom:s};break;case"bottom":l=1,o=2,s={top:s};break;case"left":l=0,o=1,s={right:s};break;case"right":l=2,o=1,s={left:s};break}jD.call(this,d,{column:l,row:o,padding:s,expand:i?!0:fa(r,"expand.tabs",!1),align:fa(r,"align.tabs","left")}),this.addChildrenMap("background",y),this.addChildrenMap("tabs",d),this.addChildrenMap("pages",n),this.tabsPosition=T,d.on("button.click",function(f){var c=f.name;n.hasPage(c)&&n.swapPage(c)}),d.on("button.statechange",function(f,c,u,v){var p=u?"tab.focus":"tab.blur";this.emit(p,f,f.name)},this),n.on("pagevisible",function(f,c,u){this.emit("page.focus",f,c)}),n.on("pageinvisible",function(f,c,u){this.emit("page.blur",f,c)})}get currentKey(){return this.getElement("pages").currentKey}set currentKey(t){this.showPage(t)}get keys(){return this.getElement("pages").keys}get currentPage(){return this.getElement("pages").currentPage}get previousPage(){return this.getElement("pages").previousPage}};Object.assign(qx.prototype,m5);It.register("tabPages",function(e){var t=new qx(this.scene,e);return this.scene.add.existing(t),t});Lt(window,"RexPlugins.UI.TabPages",qx);class uvt extends yx{constructor(t,r){r===void 0&&(r={}),r.destroy=!1,super(t,r)}onOpen(){this.emit("open",this.parent,this),super.onOpen()}onClose(){this.emit("close",this.parent,this),super.onClose()}}const fvt={expand(e){if(this.expanded===!0)return this;e===void 0&&(e=this.transitionDuration),this.expanded=!0;var t=this.childrenMap.title,r=this.childrenMap.child;if(this.show(r),this.reLayoutEnable){var h=this.reLayoutTarget?this.reLayoutTarget:this.getTopmostSizer();h.layout()}return t.emit("folder.expand",e,this),r.emit("folder.expand",e,this),this.emit("expand.start",this),this.childTransition.once("open",function(){this.emit("expand.complete",this)},this).requestOpen(null,e),this},collapse(e){if(this.expanded===!1)return this;e===void 0&&(e=this.transitionDuration),this.expanded=!1;var t=this.childrenMap.title,r=this.childrenMap.child;return t.emit("folder.collapse",e,this),r.emit("folder.collapse",e,this),this.emit("collapse.start",this),this.childTransition.once("close",function(){if(this.setChildScale(r,1,1).hide(r),this.reLayoutEnable){var h=this.reLayoutTarget?this.reLayoutTarget:this.getTopmostSizer();h.layout()}this.emit("collapse.complete",this)},this).requestClose(null,e),this},toggle(e){return this.expanded?this.collapse(e):this.expand(e),this},setExpandedState(e){return this.reLayoutEnable=!1,e===void 0?this.expanded=void 0:e?this.expand(0):this.collapse(0),this.reLayoutEnable=!0,this}};var dvt=function(e,t){Io.popUp.call(e,t,this.expandDirection)},cvt=function(e,t){Io.scaleDown.call(e,t,this.expandDirection)};const vvt={setTransitionDuration(e){return this.transitionDuration=e,this.childTransition.setTransitInTime(e).setTransitOutTime(e),this},setExpandCallback(e){return e===void 0&&(e=dvt.bind(this)),this.childTransition.setTransitInCallback(e),this},setCollapseCallback(e){return e===void 0&&(e=cvt.bind(this)),this.childTransition.setTransitOutCallback(e),this}},or=Phaser.Utils.Objects.GetValue;let vp=class extends Je{constructor(t,r){r===void 0&&(r={}),r.hasOwnProperty("orientation")||(r.orientation=1),super(t,r),this.type="rexFolder",this.reLayoutEnable=!0,this.expanded=void 0,this.expandDirection=this.orientation===1?"y":"x";var h=r.background,y=r.title,P=r.child;h&&this.addBackground(h);var n=or(r,"space"),T=this.orientation===1?"left":"top",l=or(r,"align.title",T),o=or(r,"expand.title",!0);this.add(y,{proportion:0,align:l,expand:o,padding:{left:or(n,"titleLeft",0),right:or(n,"titleRight",0),top:or(n,"titleTop",0),bottom:or(n,"titleBottom",0)}});var i=or(r,"toggleByTarget",void 0),a=or(r,"toggleClickConfig");i===void 0&&(i=y),i&&gM.onClick.call(i,function(){this.toggle()},this,a),this.childTransition=new uvt(P);var x=or(r,"customChildOrigin",!1);if(!x){var d=this.rtl?1:0;P.setOrigin(d)}var l=or(r,"align.child","left"),o=or(r,"expand.child",!0),s=o?1:0;this.add(P,{proportion:s,align:l,expand:o,padding:{left:or(n,"childLeft",0),right:or(n,"childRight",0),top:or(n,"childTop",0),bottom:or(n,"childBottom",0)}}),this.addChildrenMap("title",y),this.addChildrenMap("child",P),this.addChildrenMap("background",h);var f=r.transition;this.setTransitionDuration(or(f,"duration",200)),this.setExpandCallback(or(f,"expandCallback",void 0)),this.setCollapseCallback(or(f,"collapseCallback",void 0)),this.reLayoutTarget=or(r,"reLayoutTarget",void 0);var c=r.onExpandStart;c&&this.on("expand.start",c);var u=r.onExpandComplete;u&&this.on("expand.complete",u);var v=r.onCollapseStart;v&&this.on("collapse.start",v);var p=r.onCollapseComplete;p&&this.on("collapse.complete",p);var m=or(r,"expanded",void 0);m!==void 0&&this.setExpandedState(m)}};Object.assign(vp.prototype,fvt,vvt);It.register("folder",function(e){var t=new vp(this.scene,e);return this.scene.add.existing(t),t});Lt(window,"RexPlugins.UI.Folder",vp);var pvt=function(e,t,r,h){for(var y in this.treesMap){var P=this.treesMap[y];if(lu(P.nodeBody,e,t,r,h))return P;var n=P.pointToChild(e,t,r,h);if(n)return n}return null},gvt=function(e){return e===void 0&&(e={}),e.targetMode="parent",e.targetSizers=[this],bx(this,e),this},x5=function(e){return class extends e{get isTree(){return!1}get isNode(){return!1}setText(r){return this.text=r,this}get text(){var r=this.nodeBody;return r.text}set text(r){var h=this.nodeBody;h.setText&&h.setText(r)}setTexture(r,h){var y=this.nodeBody;return y.setTexture&&y.setTexture(r,h),this}get texture(){var r=this.nodeBody;if(r)return r.texture}get frame(){var r=this.nodeBody;if(r)return r.frame}}},mvt=function(e,t,r,h){for(var y in this.nodesMap){var P=this.nodesMap[y];if(this.isTreeObject(P)){var n=P;if(lu(n.nodeBody,e,t,r,h))return n;var T=n.pointToChild(e,t,r,h);if(T)return T}else if(lu(P,e,t,r,h))return P}return null};const xvt={getTreePatent(e){if(e===void 0&&(e=this),!!e.rexSizer)return e.rexSizer.treeParent},getTreeRoot(e){e===void 0&&(e=this);for(var t;;){if(!e.rexSizer)return;if(t=e.rexSizer.treeParent,t===null)return e;e=t}},getTreesSizer(e){var t=this.getTreeRoot(e);return t?t.getParentSizer():null},isGrandsonNode(e){if(e===void 0||!e.rexSizer)return!1;for(var t;;){if(!e.rexSizer)return!1;if(t=e.rexSizer.treeParent,t===this)return!0;if(t===null)return!1;e=t}return!1}};var Gv=function(e,t,r,h,y=!1){var P;if(Vn(t))P=t,delete t[key];else if(pa(t)){var n=t;P=n(e,r),P&&e.add.existing(P)}else(y||t)&&h&&(P=h(e,t,r));return P},QM=function(e,t,r){var h=Rr(e,t);return h},yvt=function(e,t,r){var h=new lp(e,t);return e.add.existing(h),h.resetDisplayContent(""),h};const Xf=Phaser.Utils.Objects.GetValue;class y5 extends x5(Je){constructor(t,r,h){var y=r.space;super(t,{orientation:"x",space:{left:Xf(y,"nodeLeft",0),right:Xf(y,"nodeRight",0),top:Xf(y,"nodeTop",0),bottom:Xf(y,"nodeBottom",0)}}),this.type="rexTreeNode";var P=Gv(t,Xf(r,"nodeBackground"),h,QM,!1),n=Gv(t,Xf(r,"nodeBody"),h,yvt,!0);P&&this.addBackground(P),this.add(n,{proportion:1}),this.nodeBody=n,this.addChildrenMap("background",P),this.addChildrenMap("nodeBody",n)}get isNode(){return!0}getTreePatent(){return this.rexSizer.treeParent}getTreeRoot(){var t=this.rexSizer.treeParent;return t?t.getTreeRoot():null}getTreesSizer(){var t=this.getTreeRoot();return t?t.getParentSizer():null}}var C5=function(e,t){var r=e.parentContainer;if(r){t.isRexContainerLite?t.addToContainer(r):r.add(t);return}var h=e.displayList;if(Tv(h)){t.isRexContainerLite?t.addToLayer(h):h.add(t);return}e.scene.add.existing(t)};const qD=Phaser.Utils.String.UUID,Cvt={addTree(e,t){if(Vn(e)){var r=e;e={nodeBody:r,nodeKey:t}}return this.insertTree(void 0,e)},insertTree(e,t){var r;typeof t=="string"?(r=t,t=void 0):t&&(r=t.nodeKey,delete t.nodeKey),r===void 0&&(r=qD());var h=this.createTree(t);return C5(this,h),this.insertNode(e,h,{expand:!0}),h._postAddCallback(),h},addNode(e,t){return this.insertNode(void 0,e,t)},insertNode(e,t,r){var h;Vn(t)||(r=t,t=new y5(this.scene,this.configSave,{isLeaf:!0})),typeof r=="string"?(h=r,r=void 0):r&&(h=r.nodeKey,delete r.nodeKey),h===void 0&&(h=qD()),r===void 0&&(r={}),r.hasOwnProperty("expand")||(r.expand=!0),this.removeNode(t,!1),t.rexSizer.treeParent=this,this.nodesMap.hasOwnProperty(h)&&(console.error(`[Trees] Duplicate nodeKey '${h}'`),this.removeNode(this.nodesMap[h],!0)),t.nodeKey=h,this.nodesMap[h]=t;var y=this.childrenMap.child;return y.insert(e,t,r),t}},Svt={removeNode(e,t){if(typeof e=="string"&&(e=this.getTree(e)),!e)return this;var r=this.getTreePatent(e);if(!r)return this;delete r.nodesMap[e.nodeKey],e.nodeKey=null,e.rexSizer.treeParent=null;var h=r.childrenMap.child;return h.remove(e,t),this},removeAllNodes(e){var t=this.nodesMap;for(var r in t)this.removeNode(t[r],e);return this}},Tvt={getNode(e){if(typeof e=="string"&&(e=e.split(".")),e.length!==0){var t=e.shift(),r=this.nodesMap[t];return e.length===0?r:r&&this.isTreeObject(r)?r.getNode(e):null}},getNodes(e){var t=this.nodesMap;if(!e)e=nodes;else for(var r in t)e.push(t[r]);return e},getAllNodes(e){}};var S5={pointToChild:mvt};Object.assign(S5,xvt,Cvt,Svt,Tvt);var Evt=function(e,t,r){var h=new Kv(e,t);return e.add.existing(h),h.on("expand.start",function(y){y.setDirection("down")}).on("collapse.complete",function(y){y.setDirection("right")}),h};const _D=Phaser.Utils.Objects.GetValue;var Pvt=function(e,t){var r=new y5(e,t,{isLeaf:!1});e.add.existing(r);var h=Gv(e,_D(t,"toggleButton"),{isLeaf:!1},Evt,!0);return r.insert(0,h,{padding:{right:_D(t,"space.toggleButton",0)},fitRatio:1}),r.addChildrenMap("toggleButton",h),r};const t3=Phaser.Utils.Objects.GetValue;var Mvt=function(e,t){var r=new Je(e,{orientation:t3(t,"childrenOrientation","y")});e.add.existing(r);var h=Gv(e,t3(t,"childrenBackground"),{isLeaf:!1},QM,!1);return h&&r.addBackground(h),r};const bvt=Phaser.Utils.Objects.Clone;var wvt=function(e,t){var r=e?bvt(e):{};if(!t)return r;for(var h in t)r[h]=t[h];return r};const Fh=Phaser.Utils.Objects.GetValue;class uu extends x5(vp){constructor(t,r){r===void 0&&(r={});var h=Gv(t,Fh(r,"background"),{isLeaf:!1},QM,!1),y=Mvt(t,r),P=y.childrenMap.items,n=Pvt(t,r),T=n.childrenMap.toggleButton,i=n.childrenMap.nodeBody,a=pu(Fh(r,"orientation","y")),x=r.space;if(x){var d=Fh(x,"indent",0);x.childLeft=Fh(x,"indentLeft",a===1?d:0),x.childRight=Fh(x,"indentRight",0),x.childTop=Fh(x,"indentTop",a===0?d:0),x.childBottom=Fh(x,"indentBottom",0)}var l={background:h,title:n,child:y,toggleByTarget:T,transition:r.transition,orientation:a,space:x,align:r.align,expand:r.expand};super(t,l),this.type="rexTree",this.rexSizer.treeParent=null,this.nodesMap={},this.configSave=r,this.nodeBody=i,this.addChildrenMap("toggleButton",T),this.addChildrenMap("nodeBody",i),this.addChildrenMap("childrenNodes",P),this.on("expand.start",function(){T.emit("expand.start",T),E0(this,"expand.start")},this).on("expand.complete",function(){T.emit("expand.complete",T),E0(this,"expand.complete")}).on("collapse.start",function(){T.emit("collapse.start",T),E0(this,"collapse.start")}).on("collapse.complete",function(){T.emit("collapse.complete",T),E0(this,"collapse.complete")});var o=this;o._postAddCallback=function(){var s=Fh(r,"expanded",!0);s!==void 0&&o.setExpandedState(s),delete o._postAddCallback}}destroy(t){!this.scene||this.ignoreDestroy||(this.configSave=void 0,Clear(this.nodesMap),this.nodesMap=void 0,super.destroy(t))}get isTree(){return!0}createTree(t){return uu.CreateTree(this.scene,this.configSave,t)}isTreeObject(t){return t&&t instanceof uu}}uu.CreateTree=function(e,t,r){return new uu(e,wvt(t,r))};var E0=function(e,t){var r=e.getTreesSizer();r&&r.emit(t,e)};Object.assign(uu.prototype,S5);const Rvt=Phaser.Utils.String.UUID,Avt={addTree(e){if(Vn(e)){var t=e;e={nodeBody:t,nodeKey}}return this.insertTree(void 0,e)},insertTree(e,t){var r;typeof t=="string"?(r=t,t=void 0):t&&(r=t.nodeKey,delete t.nodeKey),r===void 0&&(r=Rvt());var h=uu.CreateTree(this.scene,this.treeConfig,t);return C5(this,h),h.nodeKey=r,this.treesMap[r]=h,this.insert(e,h,{expand:!0}),h._postAddCallback(),h}},Ovt={removeTree(e,t){return typeof e=="string"&&(e=this.getTree(e)),e?(delete this.treesMap[e.nodeKey],e.nodeKey=null,this.remove(e,t),this):this},removeAllNodes(e){var t=this.treesMap;for(var r in t)this.removeTree(t[r],e);return this}},Lvt={getTree(e){return this.treesMap[e]},getTrees(e){e===void 0&&(e=[]);for(var t in this.treesMap)e.push(this.treesMap[t]);return e},getNode(e){var t=e.indexOf(".");if(t===-1)return this.getTree(e);var r=this.getTree(e.substring(0,t));if(r)return r.getNode(e.substring(t+1))}};var T5={pointToChild:pvt,setChildrenInteractive:gvt};Object.assign(T5,Avt,Ovt,Lvt);const Fvt=Phaser.Utils.Objects.GetValue;class jM extends Je{constructor(t,r){r===void 0&&(r={}),r.hasOwnProperty("orientation")||(r.orientation="y"),super(t,r),this.type="rexTrees",this.treesMap={},this.treeConfig=Fvt(r,"tree")}destroy(t){!this.scene||this.ignoreDestroy||(this.treeConfig=void 0,Clear(this.treesMap),this.treesMap=void 0,super.destroy(t))}}Object.assign(jM.prototype,T5);It.register("trees",function(e){var t=new jM(this.scene,e);return this.scene.add.existing(t),t});Lt(window,"RexPlugins.UI.Trees",jM);It.register("textArea",function(e){var t=new hp(this.scene,e);return this.scene.add.existing(t),t});Lt(window,"RexPlugins.UI.TextArea",hp);var Dvt=function(e){Object.defineProperty(e,"childOY",{configurable:!0,get:function(){return e.textOY},set:function(t){e.textOY=t}}),Object.defineProperty(e,"topChildOY",{get:function(){return e.topTextOY}}),Object.defineProperty(e,"bottomChildOY",{get:function(){return e.bottomTextOY}}),Object.defineProperty(e,"childVisibleHeight",{get:function(){return e.textVisibleHeight}}),Object.defineProperty(e,"childHeight",{get:function(){return e.contentHeight}})};const Bvt={setText(e){var t=this.childrenMap.child;return t.setText(e),this},appendText(e){return this.setText(this.text+e),this}},Ivt={scrollToLine(e){return this.setChildOY(-this.lineHeight*e),this},scrollToNextLine(e){e===void 0&&(e=1);var t=this.lineIndex+e;return this.scrollToLine(t),this}},P0=Phaser.Utils.Objects.GetValue;class _x extends op{constructor(t,r){r===void 0&&(r={});var h=P0(r,"text"),y;Vn(h)?y=h:(h===void 0&&(h={}),h.textArea=!0,y=new Hv(t,h),t.add.existing(y)),Dvt(y);var P=h.width===void 0,n=h.height===void 0;P&&(y.minWidth=0),n&&(y.minHeight=0),r.scrollMode=0,r.type="rexTextAreaInput",r.child={gameObject:y,expandWidth:P,expandHeight:n};var T=P0(r,"space",void 0);T&&(T.child=P0(T,"text",0)),r.scroller=!1,super(t,r),this.addChildrenMap("text",y);var i,a;y.on("cursorin",function(){var d=y.textOY,l=y.contentHeight,o=i!==d,s=a!==l;i=d,a=l,s&&this.resizeController(),(o||s)&&(this.t=y.t)},this),y.on("textchange",function(d){this.emit("textchange",d,this)},this).on("close",function(){this.emit("close",this.text,this)},this);var x=P0(r,"content",void 0);x&&this.setText(x)}get text(){return this.childrenMap.child.text}set text(t){t==null?t="":t=t.toString(),this.childrenMap.child.text!==t&&this.setText(t)}get lineHeight(){var t=this.childrenMap.child;return t.lineHeight}get lineIndex(){return Math.floor(-this.childOY/this.lineHeight)}get linesCount(){var t=this.childrenMap.child;return t.linesCount}get contentHeight(){var t=this.childrenMap.child;return t.contentHeight}get readOnly(){var t=this.childrenMap.child;return t.readOnly}set readOnly(t){var r=this.childrenMap.child;r.readOnly=t}setReadOnly(t){var r=this.childrenMap.child;return r.setReadOnly(t),this}get value(){return this.text}set value(t){this.text=t}}Object.assign(_x.prototype,Bvt,Ivt);It.register("textAreaInput",function(e){var t=new _x(this.scene,e);return this.scene.add.existing(t),t});Lt(window,"RexPlugins.UI.TextAreaInput",_x);It.register("scrollablePanel",function(e){var t=new dp(this.scene,e);return this.scene.add.existing(t),t});Lt(window,"RexPlugins.UI.ScrollablePanel",dp);const M0={popUp:function(e,t){e.popUp(t)},scaleDown:function(e,t){e.scaleDown(t)},fadeIn:function(e,t){e.fadeIn(t)},fadeOut:function(e,t){e.fadeOut(t)}},kh={popUp:0,fadeIn:1,scaleDown:0,fadeOut:1},Gvt={setDisplayTime(e){return this.displayTime=e,this},setTransitOutTime(e){return this.transitOutTime=e,this},setTransitInTime(e){return this.transitInTime=e,this},setTransitInCallback(e){switch(typeof e=="string"&&(e=kh[e]),e){case kh.popUp:e=M0.popUp;break;case kh.fadeIn:e=M0.fadeIn;break}return e||(e=wr),this.transitInCallback=e,this},setTransitOutCallback(e){switch(typeof e=="string"&&(e=kh[e]),e){case kh.scaleDown:e=M0.scaleDown;break;case kh.fadeOut:e=M0.fadeOut;break}return e||(e=wr),this.transitOutCallback=e,this}},kvt={showMessage(e){if(this.scaleX0===void 0&&(this.scaleX0=this.scaleX),this.scaleY0===void 0&&(this.scaleY0=this.scaleY),e===void 0){if(this.messages.length===0)return this;e=this.messages.shift()}if(this.player.isPlaying)return this.messages.push(e),this;this.setScale(this.scaleX0,this.scaleY0).setVisible(!0),typeof e=="string"?this.setText(e):e(this),this.layout();var t=[[0,[this.transitInCallback,this,this.transitInTime]],[0,[this.emit,"transitin",this,this.transitInTime]],[this.transitInTime,[wr]],[this.displayTime,[this.transitOutCallback,this,this.transitOutTime]],[0,[this.emit,"transitout",this,this.transitOutTime]],[this.transitOutTime,[this.setVisible,!1]],[30,[wr]]];return this.player.load(t,this).once("complete",function(){this.showMessage()},this).start(),this},removeAllMessages(){return this.messages.length=0,this}},yv=Phaser.Utils.Objects.GetValue;class qM extends Ho{constructor(t,r){r===void 0&&(r={text:createDefaultTextObject(t)}),super(t,r),this.type="rexToast",this.setTransitInTime(yv(r,"duration.in",200)),this.setDisplayTime(yv(r,"duration.hold",1200)),this.setTransitOutTime(yv(r,"duration.out",200)),this.setTransitInCallback(yv(r,"transitIn",kh.popUp)),this.setTransitOutCallback(yv(r,"transitOut",kh.scaleDown)),this.player=new DI(this,{dtMode:1}),this.messages=[],this.scaleX0=void 0,this.scaleY0=void 0,this.setVisible(!1)}destroy(t){!this.scene||this.ignoreDestroy||(this.player.destroy(),this.player=void 0,this.messages=void 0,super.destroy(t))}setScale(t,r){return r===void 0&&(r=t),this.scaleX0=t,this.scaleY0=r,super.setScale(t,r),this}get isShowingMessage(){return this.player.isPlaying}}Object.assign(qM.prototype,Gvt,kvt);It.register("toast",function(e){var t=new qM(this.scene,e);return this.scene.add.existing(t),t});Lt(window,"RexPlugins.UI.Toast",qM);var Nvt={"bottom-to-top":1,"top-to-bottom":0,"right-to-left":1,"left-to-right":0};const zvt={setQueueDirection(e){return typeof e=="string"&&(e=Nvt[e]),this.rtl=e===0,this.orientation===1?e?this.queueDirection=0:this.queueDirection=1:e?this.queueDirection=2:this.queueDirection=3,this},setCreateMessageLabelCallback(e){return this.createMessageLabelCallback=e,this},setDisplayTime(e){return this.displayTime=e,this},setTransitOutTime(e){return this.transitOutTime=e,this},setTransitInTime(e){return this.transitInTime=e,this},setTransitInCallback(e){return e||(e=wr),this.transitInCallback=e,this},setTransitOutCallback(e){return e||(e=wr),this.transitOutCallback=e,this}},Uvt=gM.onClick,E5=D4.delayCall,Vvt=xx.moveTo;var Wvt=function(e,t,r){var h=t(e.scene,r,e);if(Uvt.call(h,function(){e.removeMessage(h)}),e.displayTime){var y=e.transitInTime+e.displayTime+10;E5.call(h,y,function(){e.removeMessage(h)})}return h},P5=function(e){for(var t=e.childrenMap.items,r,h=[],y=0,P=t.length;y<P;y++)r=t[y],h.push({x:r.x,y:r.y});return h},Yvt=function(e){for(var t=e.childrenMap.items,r,h=[],y=0,P=t.length;y<P;y++)r=t[y],h.push({x:r.scaleX,y:r.scaleY}),r.setScale(1);e.layout();for(var n=P5(e),y=0,P=t.length;y<P;y++){var T=h[y];t[y].setScale(T.x,T.y)}return n},Xvt=function(e,t,r,h){for(var y=e.childrenMap.items,P=Math.min(t.length,r.length,y.length),n,T,i,a=e.queueDirection,x=0;x<P;x++){switch(n=y[x],T=t[x],i=r[x],n.setPosition(T.x,T.y),a){case 0:if(T.y<=i.y)continue;break;case 1:if(T.y>=i.y)continue;break;case 2:if(T.x<=i.x)continue;break;case 3:if(T.x>=i.x)continue;break}Vvt.call(n,h,i.x,i.y)}},Hvt=function(e,t,r){var h=P5(e);e.add(t);var y=Yvt(e);Xvt(e,h,y,r),e.transitInCallback(t,r,e)};const $vt={showMessage(e){var t=Wvt(this,this.createMessageLabelCallback,e);return Hvt(this,t,this.transitInTime),this},removeMessage(e){if(this.getParentSizer(e)!==this)return this;if(!e.__isDestroying){e.__isDestroying=!0;var t=this.transitOutTime;return this.transitOutCallback(e,t,this),E5.call(e,t+10,function(){delete e.__isDestroying,e.destroy()}),this}},removeAllMessages(){for(var e=this.childrenMap.items,t=0,r=e.length;t<r;t++)this.removeMessage(e[t]);return this}};var M5={};Object.assign(M5,zvt,$vt);const e3={transitIn(e,t,r){switch(r.queueDirection){case 0:e.setOrigin(.5,1),Io.popUp.call(e,t,"y");break;case 1:e.setOrigin(.5,0),Io.popUp.call(e,t,"y");break;case 2:e.setOrigin(1,.5),Io.popUp.call(e,t,"x");break;case 3:e.setOrigin(0,.5),Io.popUp.call(e,t,"x");break}Iv.fadeIn.call(e,t)},transitOut(e,t,r){Iv.fadeOut.call(e,t)}},jl=Phaser.Utils.Objects.GetValue;class _M extends Je{constructor(t,r){r===void 0&&(r={}),r.hasOwnProperty("orientation")||(r.orientation=1),super(t,r),this.type="rexToastQueue",this.setCreateMessageLabelCallback(jl(r,"createMessageLabelCallback")),this.setQueueDirection(jl(r,"queueDirection",1)),this.setTransitInTime(jl(r,"duration.in",200)),this.setDisplayTime(jl(r,"duration.hold",2e3)),this.setTransitOutTime(jl(r,"duration.out",200)),this.setTransitInCallback(jl(r,"transitIn",e3.transitIn)),this.setTransitOutCallback(jl(r,"transitOut",e3.transitOut))}}Object.assign(_M.prototype,M5);It.register("toastQueue",function(e){var t=new _M(this.scene,e);return this.scene.add.existing(t),t});Lt(window,"RexPlugins.UI.ToastQueue",_M);var Kvt=function(e,t){if(t===!1)return null;if(Vn(t))return t;var r=new fu(e,t);return e.add.existing(r),r};const Zvt=Phaser.Utils.String.Pad;var i3=function(e,t){t===void 0&&(t="0x");var r=e.toString(16).toUpperCase();return r=Zvt(r,6,0,1),r=t+r,r},Jvt=function(e,t){e&&(e.setTint?e.setTint(t):e.setFillStyle&&e.setFillStyle(t))};const Bs=Phaser.Utils.Objects.GetValue,Qvt=Phaser.Utils.Objects.IsPlainObject,jvt=Phaser.Math.Clamp;let tb=class extends Je{constructor(t,r){r===void 0&&(r={}),r.orientation=0,super(t,r),this.type="rexColorInputLite";var h=Bs(r,"background",void 0),y=Bs(r,"swatch"),P;Qvt(y)&&(P=Bs(y,"size"));var n=Kvt(t,Bs(r,"swatch")),T=Bs(r,"inputText",{}),i;if(T&&(i=Kh(t,T)),h&&this.addBackground(h),n){P=Bs(r,"swatchSize",P);var a;P!==void 0?(cn(n,P,P),a=!1):a=Bs(r,"squareExpandSwatch",!0);var x=a?1:0;this.add(n,{proportion:0,expand:!0,fitRatio:x})}if(i){var d=Bs(T,"width")===void 0?1:0,l=Bs(T,"height")===void 0;this.add(i,{proportion:d,expand:l})}this.addChildrenMap("background",h),this.addChildrenMap("swatch",n),this.addChildrenMap("inputText",i),i&&i.on("close",function(){this.setValue(i.value)},this);var o=Bs(r,"valuechangeCallback",null);if(o!==null){var s=Bs(r,"valuechangeCallbackScope",void 0);this.on("valuechange",o,s)}this.setValue(Bs(r,"value",0))}get value(){return this._value}set value(t){if(typeof t=="string"){if(t=rP(t),t==null){var h=this.childrenMap.inputText;h&&h.setText(i3(this._value));return}}else t=jvt(Math.floor(t),0,16777215);if(this._value!==t){this._value=t;var r=this.childrenMap.swatch;r&&Jvt(r,t);var h=this.childrenMap.inputText;h&&h.setText(i3(t)),this.emit("valuechange",this._value)}}setValue(t){return this.value=t,this}get color(){return this._value}set color(t){this.value=t}setColor(t){return this.color=t,this}};var qvt={setCreateColorPickerBackgroundCallback(e){return this.colorPickerCreateBackgroundCallback=e,this},setColorPickerHPalettePosition(e){return this.colorPickerHPalettePosition=e,this},setColorPickerExpandDirection(e){return typeof e=="string"&&(e=_vt[e]),this.colorPickerExpandDirection=e,this},setColorPickerEaseInDuration(e){return e===void 0&&(e=0),this.colorPickerEaseInDuration=e,this},setColorPickerEaseOutDuration(e){return e===void 0&&(e=0),this.colorPickerEaseOutDuration=e,this},setColorPickerTransitInCallback(e){return this.colorPickerTransitInCallback=e,this},setColorPickerTransitOutCallback(e){return this.colorPickerTransitOutCallback=e,this},setColorPickerBounds(e){return this.colorPickerBounds=e,this},setColorPickerWidth(e){return this.colorPickerWidth=e,this},setColorPickerHeight(e){return this.colorPickerHeight=e,this},setColorPickerSize(e,t){return this.setColorPickerWidth(e).setColorPickerHeight(t),this},setColorPickerSpace(e){return e===void 0&&(e={}),this.colorPickerSpace=e,this},setColorComponentsHeight(e){return this.colorComponentsHeight=e,this},setColorComponentsFormatLabelConfig(e){return this.colorComponentsFormatLabelConfig=e,this},setColorComponentsInputTextConfig(e){return this.colorComponentsInputTextConfig=e,this},setColorComponentsSpace(e){return e===void 0&&(e={}),this.colorComponentsSpace=e,this}};const _vt={down:0,up:1},b5=Phaser.Display.Color,q0=Phaser.Math.Percent;var tpt=function(e,t,r){r===void 0&&(r=!1);var h=e.width,y=e.height,P=new b5;if(r)for(var n=0;n<y;n++){var T=q0(n,0,y);P.setFromHSV(T,1,1),t.fillStyle=P.rgba,t.fillRect(0,n,h,1)}else for(var i=0;i<h;i++){var T=q0(i,0,h);P.setFromHSV(T,1,1),t.fillStyle=P.rgba,t.fillRect(i,0,1,y)}},ept=function(e,t,r){for(var h=e.width,y=e.height,P=t.getImageData(0,0,h,y),n=P.data,T=new b5,i=0;i<y;i++)for(var a=0;a<h;a++){var x=q0(a,0,h),d=1-q0(i,0,y);T.setFromHSV(r,x,d);var l=(i*h+a)*4;n[l]=T.red,n[l+1]=T.green,n[l+2]=T.blue,n[l+3]=255}t.putImageData(P,0,0)};const ipt=Phaser.Display.Color,r3=Phaser.Math.Percent,rpt=Phaser.Display.Color.ColorToRGBA,npt=Phaser.Display.Color.HSVToRGB;class spt extends vu{constructor(t,r,h,y,P,n){r===void 0&&(r=0),h===void 0&&(h=0),y===void 0&&(y=2),P===void 0&&(P=2),super(t,r,h,y,P),this.type="rexColorPicker.HPaletteCanvas",this.colorObject=new ipt,this.setOrientation(n),this.setSize(y,P)}setOrientation(t){return this.orientation=pu(t),this}updateTexture(){return tpt(this.canvas,this.context,this.orientation),super.updateTexture(),this}get color(){return this.colorObject.color}get hue(){return this._hue}set hue(t){this._hue=t}getHue(t,r){return t===void 0?this.hue:(this.orientation===0?this.hue=r3(t,0,this.width):this.hue=r3(r,0,this.height),this.hue)}getColor(t,r){if(t===void 0)return this.color;var h=this.getHue(t,r);return this.colorObject.setFromRGB(npt(h,1,1)),this.colorObject.color}setColor(t){return this.color===t?this:this}colorToLocalPosition(t,r){return r===void 0?r={}:r===!0&&(kE===void 0&&(kE={}),r=kE),this.colorObject.setFromRGB(rpt(t)),this.orientation===0?(r.x=this.width*this.colorObject.h,r.y=this.height/2):(r.x=this.width/2,r.y=this.height*this.colorObject.h),r}}var kE=void 0,apt=Phaser.Math.RotateAround,w5=function(e,t,r,h){h===void 0?h={}:h===!0&&(NE===void 0&&(NE={}),h=NE),t-=e.width*e.originX,r-=e.height*e.originY;var y={x:t*e.scaleX,y:r*e.scaleY};return apt(y,0,0,-e.rotation),h.x=e.x+t,h.y=e.y+r,h},NE;class opt extends Ns{constructor(t,r){r===void 0&&(r={}),super(t,r);var h=r.width!=null?1:0,y=new spt(t).setOrientation(h);t.add.existing(y),this.type="rexColorPicker.HPalette",y.setInteractive().on("pointerdown",this.onPaletteCanvasPointerDown,this).on("pointermove",this.onPaletteCanvasPointerDown,this);var P=new fu(t,{strokeColor:16777215,strokeWidth:2});t.add.existing(P),this.add(y,{key:"paletteCanvas",expand:!0}).add(P,{key:"marker",expand:!1})}resize(t,r){if(this.width===t&&this.height===r)return this;super.resize(t,r);var h=Math.min(t,r);return this.childrenMap.marker.setSize(h,h),this}onPaletteCanvasPointerDown(t,r,h,y){if(t.isDown){var P=this.childrenMap.paletteCanvas,n=P.getColor(r,h);this.setMarkerPosition(n),this.emit("input",n)}}get color(){return this.childrenMap.paletteCanvas.color}setColor(t){if(this.color===t)return this;var r=this.childrenMap.paletteCanvas;return r.setColor(t),this.setMarkerPosition(t),this}setMarkerPosition(t){var r=this.childrenMap.paletteCanvas,h=this.childrenMap.marker,y=r.colorToLocalPosition(t,!0);return w5(r,y.x,y.y,h),this.resetChildPositionState(h),this}getHue(t,r){var h=this.childrenMap.paletteCanvas;return h.getHue(t,r)}}const hpt=Phaser.Display.Color,n3=Phaser.Math.Percent,s3=Phaser.Display.Color.ColorToRGBA,lpt=Phaser.Display.Color.HSVToRGB;class upt extends vu{constructor(t,r,h,y,P,n){r===void 0&&(r=0),h===void 0&&(h=0),y===void 0&&(y=2),P===void 0&&(P=2),super(t,r,h,y,P),this.type="rexColorPicker.SVPaletteCanvas",n===void 0&&(n=1),this.colorObject=new hpt,this.setHue(n),this.setSize(y,P)}get color(){return this.colorObject.color}get hue(){return this._hue}set hue(t){this._hue!==t&&(this._hue=t,this.colorObject.h=t,this.dirty=!0)}setHue(t){return this.hue=t,this}updateTexture(){return ept(this.canvas,this.context,this.hue),super.updateTexture(),this}getColor(t,r){if(t===void 0)return this.colorObject.color;var h=n3(t,0,this.width),y=1-n3(r,0,this.height);return this.colorObject.setFromRGB(lpt(this.hue,h,y)),this.colorObject.color}setColor(t){return this.color===t?this:(this.colorObject.setFromRGB(s3(t)),this.setHue(this.colorObject.h),this)}colorToLocalPosition(t,r){return r===void 0?r={}:r===!0&&(zE===void 0&&(zE={}),r=zE),this.colorObject.setFromRGB(s3(t)),r.x=this.width*this.colorObject.s,r.y=this.height*(1-this.colorObject.v),r}}var zE=void 0;class fpt extends Ns{constructor(t,r){super(t,r);var h=new upt(t);t.add.existing(h),this.type="rexColorPicker.SVPalette",h.setInteractive().on("pointerdown",this.onPaletteCanvasPointerDown,this).on("pointermove",this.onPaletteCanvasPointerDown,this);var y=new fu(t,{radius:5,strokeColor:16777215,strokeWidth:2});t.add.existing(y),this.add(h,{key:"paletteCanvas",expand:!0}).add(y,{key:"marker",expand:!1})}onPaletteCanvasPointerDown(t,r,h,y){if(t.isDown){var P=this.childrenMap.paletteCanvas,n=P.getColor(r,h);this.setMarkerPosition(n),this.emit("input",n)}}get color(){return this.childrenMap.paletteCanvas.color}setHue(t){var r=this.childrenMap.paletteCanvas;return r.setHue(t),this}setColor(t){if(this.color===t)return this;var r=this.childrenMap.paletteCanvas;return r.setColor(t),this.setMarkerPosition(t),this}setMarkerPosition(t){var r=this.childrenMap.paletteCanvas,h=this.childrenMap.marker,y=r.colorToLocalPosition(t,!0);return w5(r,y.x,y.y,h),this.resetChildPositionState(h),this}}const da=Phaser.Utils.Objects.GetValue;class eb extends Je{constructor(t,r){super(t,r),this.type="rexColorPicker",this.freezePalettes=!1;var h=da(r,"hPalette.position",0);typeof h=="string"&&(h=dpt[h]);var y=h===0||h===2?1:0;this.setOrientation(y);var P=da(r,"background",void 0),n,T;if(this.orientation===0){var n=da(r,"hPalette.width",void 0);n===void 0&&(n=da(r,"hPalette.size",10))}else T=da(r,"hPalette.height",void 0),T===void 0&&(T=da(r,"hPalette.size",10));var i=new opt(t,{width:n,height:T});t.add.existing(i);var a=da(r,"svPalette.width",void 0),x=da(r,"svPalette.height",void 0),d=new fpt(t,{width:a,height:x});t.add.existing(d),P&&this.addBackground(P);var l={proportion:0,expand:!0},o,s;this.orientation===0?(o=a===void 0?1:0,s=x===void 0):(o=x===void 0?1:0,s=a===void 0);var f={proportion:o,expand:s};h===0||h===3?this.add(d,f).add(i,l):this.add(i,l).add(d,f),i.on("input",function(){d.setHue(i.getHue()),this.setValue(d.color,!0)},this),d.on("input",function(){this.setValue(d.color,!0)},this),this.addChildrenMap("background",P),this.addChildrenMap("hPalette",i),this.addChildrenMap("svPalette",d);var c=da(r,"valuechangeCallback",null);if(c!==null){var u=da(r,"valuechangeCallbackScope",void 0);this.on("valuechange",c,u)}this.setValue(da(r,"value",16777215))}get value(){return this._value}set value(t){if(this._value!==t){var r=this._value;this._value=t,this.freezePalettes||this.updatePalettes(),this.emit("valuechange",t,r,this)}}setValue(t,r){return this.freezePalettes=!!r,this.value=t,this.freezePalettes=!1,this}get color(){return this._value}set color(t){this.value=t}setColor(t){return this.color=t,this}updatePalettes(){return this.childrenMap.hPalette.setColor(this.color),this.childrenMap.svPalette.setColor(this.color),this}postLayout(t,r,h){return this.childrenMap.hPalette.setMarkerPosition(this.value),this.childrenMap.svPalette.setMarkerPosition(this.value),super.postLayout(t,r,h),this}}var dpt={bottom:0,left:1,top:2,right:3};const Ya=Phaser.Utils.Objects.GetValue,cpt=Phaser.Display.Color,vpt=Phaser.Display.Color.ColorToRGBA,ppt=Phaser.Display.Color.HSVToRGB,ql=Phaser.Math.Clamp;class ib extends Je{constructor(t,r){r===void 0&&(r={}),r.orientation=0,super(t,r),this.type="rexColorComponents",this.colorObject=new cpt;var h=Ya(r,"background",void 0),y=Ya(r,"formatLabel",void 0);Vn(y)||(y=zr(t,y).resetDisplayContent());var P=[];if(r.inputText0&&r.inputText1&&r.inputText2)P.push(r.inputText0),P.push(r.inputText1),P.push(r.inputText2);else for(var n=Ya(r,"inputText"),T=0;T<3;T++){var i=Kh(t,n).setMaxLength(3).setNumberInput();P.push(i)}h&&this.addBackground(h);var x=Ya(r,"proportion.formatLabel",0),a=!!y.isRexContainerLite,d=Ya(r,"expand.formatLabel",a);this.add(y,{proportion:x,expand:d});for(var x=Ya(n,"width")===void 0?1:0,d=Ya(n,"height")===void 0,T=0,l=P.length;T<l;T++)this.add(P[T],{proportion:x,expand:d});this.addChildrenMap("background",h),this.addChildrenMap("formatLabel",y),this.addChildrenMap("components",P),this.onClick(y,this.toggleColorFormat,this);for(var T=0,l=P.length;T<l;T++)P[T].on("close",function(){this.updateColorObject(),this.setValue(this.colorObject.color)},this);var o=Ya(r,"valuechangeCallback",null);if(o!==null){var s=Ya(r,"valuechangeCallbackScope",void 0);this.on("valuechange",o,s)}y.setText("RGB"),this.setValue(Ya(r,"value",16777215))}get value(){return this._value}set value(t){t=ql(Math.floor(t),0,16777215),this._value!==t&&(this._value=t,this.colorObject.setFromRGB(vpt(t)),this.updateComponents(),this.emit("valuechange",this._value))}setValue(t){return this.value=t,this}get color(){return this._value}set color(t){this.value=t}setColor(t){return this.color=t,this}get colorFormat(){return this.childrenMap.formatLabel.text}set colorFormat(t){this.colorFormat!==t&&(this.childrenMap.formatLabel.setText(t),this.updateComponents())}setColorFormat(t){return this.colorFormat=t,this}toggleColorFormat(){return this.colorFormat=this.colorFormat==="RGB"?"HSV":"RGB",this}updateComponents(){var t=this.childrenMap.components,r,h,y;return this.colorFormat==="RGB"?(r=this.colorObject.red,h=this.colorObject.green,y=this.colorObject.blue):(r=Math.floor(this.colorObject.h*360),h=Math.floor(this.colorObject.s*100),y=Math.floor(this.colorObject.v*100)),t[0].setValue(r),t[1].setValue(h),t[2].setValue(y),this}updateColorObject(){var t=this.childrenMap.components;if(this.colorFormat==="RGB"){var r=ql(t[0].value,0,255),h=ql(t[1].value,0,255),y=ql(t[2].value,0,255);this.colorObject.setTo(r,h,y)}else{var P=ql(t[0].value,0,359)/360,n=ql(t[1].value,0,100)/100,T=ql(t[2].value,0,100)/100;this.colorObject.setFromRGB(ppt(P,n,T))}return this}}const UE=Phaser.Utils.Objects.GetValue;class gpt extends Je{constructor(t,r){r===void 0&&(r={}),r.orientation=1,super(t,r),this.type="rexColorInput.ColorPickerPanel";var h=UE(r,"background",void 0),y=new eb(t,{hPalette:r.hPalette||{},svPalette:r.svPalette||{},space:{item:UE(r,"space.hPalette",8)}});t.add.existing(y);var P;r.colorComponents&&(P=new ib(t,r.colorComponents),t.add.existing(P)),h&&(this.addBackground(h),new Cx(h,{stopAllLevels:!1})),this.add(y,{proportion:1,expand:!0}),P&&this.add(P,{proportion:0,expand:!0}),this.addChildrenMap("background",h),this.addChildrenMap("colorPicker",y),this.addChildrenMap("colorComponents",P),y.on("valuechange",function(n){this.setValue(n)},this),P&&P.on("valuechange",function(n){this.setValue(n)},this),this.setValue(UE(r,"value",16777215))}get value(){return this._value}set value(t){if(this._value!==t){this._value=t;var r=this.childrenMap.colorPicker;r.setValue(t);var h=this.childrenMap.colorComponents;h&&h.setValue(t),this.emit("valuechange",t)}}setValue(t){return this.value=t,this}}Phaser.Utils.Objects.GetValue;var mpt=function(t){var t=this.scene,r,h=this.colorPickerCreateBackgroundCallback;h&&(r=h.call(this,t),t.add.existing(r));var y=this.colorPickerWidth;y===void 0&&(y=this.width);var P=this.colorPickerHeight;P===void 0&&(P=y);var n;this.colorComponentsHeight>0?n={height:this.colorComponentsHeight,formatLabel:this.colorComponentsFormatLabelConfig,inputText:this.colorComponentsInputTextConfig,space:this.colorComponentsSpace}:n=!1;var T=new gpt(t,{width:y,height:P,background:r,space:this.colorPickerSpace,hPalette:{position:this.colorPickerHPalettePosition},colorComponents:n,value:this.value});return t.add.existing(T),T},xpt=function(){if(!this.colorPicker){var e=mpt.call(this).layout(),t=new QI(e,{duration:{in:this.colorPickerEaseInDuration,out:this.colorPickerEaseOutDuration},transitIn:this.colorPickerTransitInCallback,transitOut:this.colorPickerTransitOutCallback,expandDirection:this.colorPickerExpandDirection,alignTargetX:this,alignTargetY:this,bounds:this.colorPickerBounds,touchOutsideClose:!0}).on("open",function(){e.on("valuechange",function(r){this.setValue(r)},this)},this).on("close",function(){this.colorPicker=void 0,this.dropDownBehavior=void 0},this);return this.colorPicker=e,this.dropDownBehavior=t,this.pin(e),this}},R5={openColorPicker:xpt};Object.assign(R5,qvt);const qr=Phaser.Utils.Objects.GetValue;class ty extends tb{constructor(t,r){r===void 0&&(r={}),super(t,r),this.type="rexColorInput",r.hasOwnProperty("colorPicker")||(r.colorPicker={background:{color:0}});var h=r.colorPicker,y=h!==!1&&h!==null;if(y){this.setColorPickerSize(qr(h,"width",160),qr(h,"height",170));var P,n=qr(h,"background");n?P=function(o){return Rr(o,n)}:P=qr(h,"createBackgroundCallback"),this.setCreateColorPickerBackgroundCallback(P),this.setColorPickerHPalettePosition(qr(h,"hPalettePosition",0)),this.setColorPickerExpandDirection(qr(h,"expandDirection")),this.setColorPickerEaseInDuration(qr(h,"easeIn",200)),this.setColorPickerEaseOutDuration(qr(h,"easeOut",200)),this.setColorPickerTransitInCallback(qr(h,"transitIn")),this.setColorPickerTransitOutCallback(qr(h,"transitOut")),this.setColorPickerBounds(qr(h,"bounds"));var T=qr(h,"space");T===void 0&&(T={left:10,right:10,top:10,bottom:10,item:8}),this.setColorPickerSpace(T)}var i=r.colorComponents,a=i!==!1&&i!==null;if(y&&a){this.setColorComponentsHeight(qr(i,"height",30)),this.setColorComponentsFormatLabelConfig(qr(i,"formatLabel"));var x=qr(i,"inputText");x||(x=qr(r,"inputText")),this.setColorComponentsInputTextConfig(x);var d=qr(i,"space");d===void 0&&(d={item:8}),this.setColorComponentsSpace(d)}var l=this.childrenMap.swatch;l&&y&&this.onClick(l,this.openColorPicker,this)}}Object.assign(ty.prototype,R5);It.register("colorInput",function(e){var t=new ty(this.scene,e);return this.scene.add.existing(t),t});Lt(window,"RexPlugins.UI.ColorInput",ty);It.register("colorInputLite",function(e){var t=new tb(this.scene,e);return this.scene.add.existing(t),t});Lt(window,"RexPlugins.UI.ColorInputBase",tb);It.register("colorPicker",function(e){var t=new eb(this.scene,e);return this.scene.add.existing(t),t});Lt(window,"RexPlugins.UI.ColorPicker",eb);It.register("colorComponents",function(e){var t=new ib(this.scene,e);return this.scene.add.existing(t),t});Lt(window,"RexPlugins.UI.ColorComponents",ib);var A5=function(e){for(var t=e.scene.input,r=t.manager,h=r.pointersTotal,y=r.pointers,P,n=0;n<h;n++)if(P=y[n],!(!P.primaryDown||t.getDragState(P)!==0||!IP(e,P)))return t.setDragState(P,1),t._drag[P.id]=[e],t.dragDistanceThreshold===0||t.dragTimeThreshold===0?(t.setDragState(P,3),t.processDragStartList(P)):t.setDragState(P,2),!0;return!1};const b0=Phaser.Utils.Objects.GetValue,a3=Phaser.Math.Distance.Between,o3=Phaser.Math.RotateAroundDistance;class rb extends Hi{constructor(t,r){super(t,{eventEmitter:!1}),this._enable=void 0,t.setInteractive(b0(r,"inputConfig",void 0)),this.resetFromJSON(r),this.boot()}resetFromJSON(t){return this.pointer=void 0,this.setEnable(b0(t,"enable",!0)),this.setAxisMode(b0(t,"axis",0)),this.setAxisRotation(b0(t,"rotation",0)),this}toJSON(){return{enable:this.enable,axis:this.axisMode,rotation:this.axisRotation}}boot(){var t=this.parent;t.on("dragstart",this.onDragStart,this),t.on("drag",this.onDrag,this),t.on("dragend",this.onDragEnd,this)}shutdown(t){this.isShutdown||(this.pointer=void 0,super.shutdown(t))}get enable(){return this._enable}set enable(t){if(this._enable!==t)return t||this.dragend(),this._enable=t,this.scene.input.setDraggable(this.parent,t),this}setEnable(t){return t===void 0&&(t=!0),this.enable=t,this}toggleEnable(){return this.setEnable(!this.enable),this}setAxisMode(t){return typeof t=="string"&&(t=ypt[t]),this.axisMode=t,this}setAxisRotation(t){return this.axisRotation=t,this}drag(){return A5(this.parent),this}dragend(){if(this.isDragging)return this.scene.input.setDragState(this.pointer,5),this}onDragStart(t,r,h){this.isDragging||(this.pointer=t)}onDrag(t,r,h){if(this.pointer===t){var y=this.parent;if(this.axisMode===0)y.x=r,y.y=h;else if(this.axisRotation===0)this.axisMode===1?y.x=r:this.axisMode===2&&(y.y=h);else{var P,n={x:r,y:h};P=a3(n.x,n.y,y.x,y.y),n=o3(n,y.x,y.y,-this.axisRotation,P),this.axisMode===1?n.y=y.y:this.axisMode===2&&(n.x=y.x),P=a3(n.x,n.y,y.x,y.y),n=o3(n,y.x,y.y,this.axisRotation,P),y.x=n.x,y.y=n.y}}}onDragEnd(t,r,h,y){this.pointer===t&&(this.pointer=void 0)}get isDragging(){return this.pointer!==void 0}}const ypt={both:0,"h&v":0,"x&y":0,horizontal:1,h:1,x:1,vertical:2,v:2,y:2};var Cpt=function(){var e=this.sizerChildren[0],t=this.sizerChildren[1],r=this.sizerChildren[2],h=this.getSizerConfig(e).padding,y=this.getSizerConfig(t).padding,P=this.getSizerConfig(r).padding;if(this.orientation===0){var n=this.innerLeft+h.left,T=this.innerRight-P.right,i=pi(t),a=t.x+i*(0-t.originX),x=t.x+i*(1-t.originX),d=a-y.left-this.space.item-h.right,l=x+y.right+this.space.item+P.left,o=d-n,s=T-l,f=o+s;this.minFirstChildSize>0&&o<this.minFirstChildSize&&(o=this.minFirstChildSize,s=f-o),this.minSecondChildSize>0&&s<this.minSecondChildSize&&(s=this.minSecondChildSize,o=f-s),this.setSplitRatio(o/f)}else{var c=this.innerTop+h.top,u=this.innerBottom-P.bottom,v=gi(t),p=t.y+v*(0-t.originY),m=t.y+v*(1-t.originY),g=p-y.top-this.space.item-h.bottom,C=m+y.bottom+this.space.item+P.top,M=g-c,b=u-C,w=M+b;this.minFirstChildSize>0&&M<this.minFirstChildSize&&(M=this.minFirstChildSize,b=w-M),this.minSecondChildSize>0&&b<this.minSecondChildSize&&(b=this.minSecondChildSize,M=w-b),this.setSplitRatio(M/w)}var R=this.minWidth,A=this.minHeight;this.setMinSize(this.width,this.height).layout().setMinSize(R,A)};const vr=Phaser.Utils.Objects.GetValue,Spt=Phaser.Math.Clamp;class O5 extends Je{constructor(t,r){r.hasOwnProperty("orientation")||(r.orientation=r.hasOwnProperty("leftPanel")?0:1),super(t,r),this.type="rexSplit";var h=vr(r,"background",void 0),y,P,n,T;this.orientation===0?(y="leftPanel",P="rightPanel",n="minLeftPanelWidth",T="minRightPanelWidth"):(y="topPanel",P="bottomPanel",n="minTopPanelHeight",T="minBottomPanelHeight");var i=vr(r,y,void 0),a=vr(r,"splitter",void 0),x=vr(r,P,void 0);h&&this.addBackground(h);var d=vr(r,"space",void 0);this.add(i,{proportion:1,expand:!0,padding:{left:vr(d,`${y}Left`,0),right:vr(d,`${y}Right`,0),top:vr(d,`${y}Top`,0),bottom:vr(d,`${y}Bottom`,0)}}),this.add(a,{proportion:0,expand:!0,padding:{left:vr(d,"splitterLeft",0),right:vr(d,"splitterRight",0),top:vr(d,"splitterTop",0),bottom:vr(d,"splitterBottom",0)}}),this.add(x,{proportion:1,expand:!0,padding:{left:vr(d,`${P}Left`,0),right:vr(d,`${P}Right`,0),top:vr(d,`${P}Top`,0),bottom:vr(d,`${P}Bottom`,0)}}),this.addChildrenMap("background",h),this.addChildrenMap(y,i),this.addChildrenMap("splitter",a),this.addChildrenMap(P,x),this.minFirstChildSize=vr(r,n,0),this.minSecondChildSize=vr(r,T,0),this.setSplitRatio(vr(r,"splitRatio",.5)),this.splitterDragBehavior=new rb(a,{axis:this.orientation===0?1:2}),a.on("dragstart",function(){this.emit("splitter.dragstart",a,this.splitRatio)},this).on("dragend",function(){this.emit("splitter.dragend",a,this.splitRatio)},this).on("drag",function(){Cpt.call(this),this.emit("splitter.drag",a,this.splitRatio)},this).on("pointerover",function(){this.emit("splitter.over",a,this.splitRatio)},this).on("pointerout",function(){this.emit("splitter.out",a,this.splitRatio)},this)}get splitterEnable(){return this.splitterDragBehavior.enable}set splitterEnable(t){this.splitterDragBehavior.setEnable(t)}setSplitterEnable(t){return t===void 0&&(t=!0),this.splitterEnable=t,this}set minLeftPanelWidth(t){this.minFirstChildSize=t}get minLeftPanelWidth(){return this.minFirstChildSize}set minRightPanelWidth(t){this.minSecondChildSize=t}get minRightPanelWidth(){return this.minSecondChildSize}set minTopPanelHeight(t){this.minFirstChildSize=t}get minTopPanelHeight(){return this.minFirstChildSize}set minBottomPanelHeight(t){this.minSecondChildSize=t}get minBottomPanelHeight(){return this.minSecondChildSize}setMinLeftPanelWidth(t){return this.minLeftPanelWidth=t,this}setMinRightPanelWidth(t){return this.minRightPanelWidth=t,this}setMinTopPanelHeight(t){return this.minTopPanelHeight=t,this}setMinBottomPanelHeight(t){return this.minBottomPanelHeight=t,this}get splitRatio(){return this._splitRatio}set splitRatio(t){t=Spt(t,0,1),this._splitRatio!==t&&(this._splitRatio=t,this.getSizerConfig(this.sizerChildren[0]).proportion=t,this.getSizerConfig(this.sizerChildren[2]).proportion=1-t)}setSplitRatio(t){return this.splitRatio=t,this}}It.register("splitPanels",function(e){var t=new O5(this.scene,e);return this.scene.add.existing(t),t});Lt(window,"RexPlugins.UI.SplitPanels",O5);var Tpt=function(){return function(e,t,r,h){t!=="panel"&&r.setChildVisible(e,!0)}},Ept=function(){return function(e,t,r,h){t!=="panel"&&r.setChildVisible(e,!1)}};const Ppt={show:Tpt,hide:Ept};var Mpt=function(e,t){return t===void 0&&(t=1),function(r,h,y,P){h!=="panel"&&y.fadeChild(r,P?0:e,t)}},bpt=function(e,t){return t===void 0&&(t=0),function(r,h,y,P){h!=="panel"&&y.fadeChild(r,P?0:e,t)}};const wpt={show:Mpt,hide:bpt};var h3=function(e,t){return function(r,h,y,P){h!=="panel"&&y.moveChild(r,P?0:e,t)}};const Rpt={show:h3,hide:h3};var l3=function(e,t){return function(r,h,y,P){h==="panel"&&y.moveChild(r,P?0:e,t)}};const Apt={show:l3,hide:l3},VE={visible:Ppt,fade:wpt,move:Rpt,"move-panel":Apt};var Opt=function(e){var t,r;[t,...r]=typeof e=="string"?[e]:e;var h,y;return VE.hasOwnProperty(t)?(h=VE[t].show.apply(null,r),y=VE[t].hide.apply(null,r)):(h=wr,y=wr),{show:h,hide:y}};const Lpt={showChild(e,t){var r=this.sizerChildren[e];return r&&(this.emit("showchild",r,e,this,t),this.resetChildState(r)),this},hideChild(e,t){var r=this.sizerChildren[e];return r&&(this.emit("hidechild",r,e,this,t),this.resetChildState(r)),this},swapChild(e,t){return this.currentChildKey===e||(this.currentChildKey==="panel"||e==="panel"?(this.previousChildKey=this.currentChildKey,this.currentChildKey=e,this.hideChild(this.previousChildKey,t),this.showChild(this.currentChildKey,t)):(this.swapChild("panel",t),this.swapChild(e,t))),this},showPanel(e){return this.swapChild("panel",e),this},showLeftSide(){return this.swapChild("leftSide"),this},showRightSide(){return this.swapChild("rightSide"),this},showTopSide(){return this.swapChild("topSide"),this},showBottomSide(){return this.swapChild("bottomSide"),this},hideLeftSide(){return this.currentChildKey=="leftSide"&&this.showPanel(),this},hideRightSide(){return this.currentChildKey=="rightSide"&&this.showPanel(),this},hideTopSide(){return this.currentChildKey=="topSide"&&this.showPanel(),this},hideBottomSide(){return this.currentChildKey=="bottomSide"&&this.showPanel(),this},toggleLeftSide(){var e=this.currentChildKey!=="panel"?"panel":"leftSide";return this.swapChild(e),this},toggleRightSide(){var e=this.currentChildKey!=="panel"?"panel":"rightSide";return this.swapChild(e),this},toggleTopSide(){var e=this.currentChildKey!=="panel"?"panel":"topSide";return this.swapChild(e),this},toggleBottomSide(){var e=this.currentChildKey!=="panel"?"panel":"bottomSide";return this.swapChild(e),this}},Fpt=vs.prototype.setChildVisible,Dpt={setChildVisible(e,t){var r;if(typeof e=="string"){var r=e;e=this.sizerChildren[r]}else r=Rx(this.sizerChildren,e);return t===void 0&&(t=this.currentChildKey===r),Fpt.call(this,e,t),this}},Bpt={fadeChild(e,t,r){var h;return typeof e=="string"?(h=e,e=this.sizerChildren[h]):h=Rx(this.sizerChildren,e),t===void 0&&(t=500),r===void 0&&(r=this.currentChildKey===h?1:0),e.fadeIn(t,{start:e.alpha,end:r}),this},fadeChildPromise(e,t,r){return typeof e=="string"&&(e=this.sizerChildren[key]),this.fadeChild(e,t,r),e._fade?_r(e._fade):Promise.resolve()}},Ipt={moveChild(e,t,r,h){var y;typeof e=="string"?(y=e,e=this.sizerChildren[y]):y=Rx(this.sizerChildren,e),t===void 0&&(t=500);var P=this.currentChildKey===y;if(h===void 0)switch(y){case"leftSide":case"rightSide":h=pi(e);break;case"topSide":case"bottomSide":h=gi(e);break;default:if(P)switch(this.previousChildKey){case"leftSide":case"rightSide":h=pi(this.sizerChildren[this.previousChildKey]);break;case"topSide":case"bottomSide":h=gi(this.sizerChildren[this.previousChildKey]);break;default:h=0;break}else switch(this.currentChildKey){case"leftSide":case"rightSide":h=pi(this.sizerChildren[this.currentChildKey]);break;case"topSide":case"bottomSide":h=gi(this.sizerChildren[this.currentChildKey]);break;default:h=0;break}break}var n,T,i,a;if(P)switch(y){case"panel":switch(this.previousChildKey){case"leftSide":n=!0;break;case"rightSide":T=!0;break;case"topSide":i=!0;break;case"bottomSide":a=!0;break}break;case"leftSide":T=!0;break;case"rightSide":n=!0;break;case"topSide":a=!0;break;case"bottomSide":i=!0;break}else switch(y){case"panel":switch(this.currentChildKey){case"leftSide":T=!0;break;case"rightSide":n=!0;break;case"topSide":a=!0;break;case"bottomSide":i=!0;break}break;case"leftSide":n=!0;break;case"rightSide":T=!0;break;case"topSide":i=!0;break;case"bottomSide":a=!0;break}return n?e.moveTo(t,`-=${h}`,void 0,r):T?e.moveTo(t,`+=${h}`,void 0,r):i?e.moveTo(t,void 0,`-=${h}`,r):a?e.moveTo(t,void 0,`+=${h}`,r):e.moveTo(0),this},moveChildPromise(e,t,r,h){return typeof e=="string"&&(e=this.sizerChildren[key]),this.moveChild(e,t,r,h),e._easeMove?_r(e._easeMove):Promise.resolve()}};var L5={};Object.assign(L5,Dpt,Bpt,Ipt);const Un=Phaser.Utils.Objects.GetValue;class nb extends Ns{constructor(t,r){super(t,r),this.type="rexSides",this.childrenMap=this.sizerChildren,this.previousChildKey=void 0,this.currentChildKey=void 0;var h=Un(r,"showChildCallback",void 0);if(h)if(pa(h)){var y=Un(r,"showChildCallbackScope",void 0);this.on("showchild",h,y);var P=Un(r,"hideChildCallback",void 0),n=Un(r,"hideChildCallbackScope",void 0);this.on("hidechild",P,n)}else{var T=Opt(h);this.on("showchild",T.show),this.on("hidechild",T.hide)}var i=Un(r,"background",void 0),a=Un(r,"panel",void 0),x=Un(r,"leftSide",void 0),d=Un(r,"rightSide",void 0),l=Un(r,"topSide",void 0),o=Un(r,"bottomSide",void 0);if(i&&this.addBackground(i),a&&this.add(a,"panel","center",0,!0),x){var s=Un(r,"expand.left",!0);this.add(x,"leftSide","left-top",0,{height:s})}if(d){var s=Un(r,"expand.right",!0);this.add(d,"rightSide","right-top",0,{height:s})}if(l){var s=Un(r,"expand.top",!0);this.add(l,"topSide","left-top",0,{width:s})}if(o){var s=Un(r,"expand.bottom",!0);this.add(o,"bottomSide","left-bottom",0,{width:s})}}reset(){return this.previousChildKey=void 0,this.currentChildKey="panel",this.showChild("panel",!0),this.hideChild("leftSide",!0),this.hideChild("rightSide",!0),this.hideChild("topSide",!0),this.hideChild("bottomSide",!0),this}}Object.assign(nb.prototype,Lpt,L5);It.register("sides",function(e){var t=new nb(this.scene,e);return this.scene.add.existing(t),t});Lt(window,"RexPlugins.UI.Sides",nb);var Gpt=function(e){var t=!0;return e.hasOwnProperty("accept")||(t=!1,console.error(`[Tweaker] Can't register inputHandler '${e.name}', missing 'accept' callback.`)),e.hasOwnProperty("build")||(t=!1,console.error(`[Tweaker] Can't register inputHandler '${e.name}', missing 'build' callback.`)),t&&this.inputHandlers.unshift(e),this};const kpt=Phaser.Utils.Array.GetFirst,Npt=Phaser.Utils.Array.Remove;var zpt=function(e){var t=kpt(this.inputHandlers,"name",e);return t&&Npt(this.inputHandlers,t),this};class pp extends Ho{constructor(t,r){r=kx(t,r),super(t,r),this.type="rexTweaker.Title"}setTitle(t){return t=t?Ur(t):{},t.hasOwnProperty("text")||(t.hasOwnProperty("title")?t.text=t.title:t.text=""),this.resetDisplayContent(t),this}}class Upt extends pp{constructor(t,r){r===void 0&&(r={}),super(t,r),this.type="rexTweaker.FolderTitle";var h=new Kv(t,r.expandedIcon);t.add.existing(h),this.addSpace().add(h,{proportion:0,expand:!1,padding:1,fitRatio:1}),this.addChildrenMap("expandedIcon",h)}setExpandedState(t){t===void 0&&(t=!0);var r=t?"down":"right",h=this.childrenMap.expandedIcon;return h.setDirection(r),this}}/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var F5=function(e,t){var r=va(e);for(var h in t)r.hasOwnProperty(h)||(r[h]=t[h]);return r},Pv=function(e,t,r){return Rr(e,F5(t,r))};const Vpt={setBindingTarget(e){var t=this.childrenMap.child;return t.setBindingTarget(e),this}},Wpt={getMaxInputRowTitleWidth(){var e=this.childrenMap.child,t=e.getMaxInputRowTitleWidth();return t+this.getInnerPadding("left")},setInputRowTitleWidth(e){e-=this.getInnerPadding("left");var t=this.childrenMap.child;return t.setInputRowTitleWidth(e),this}};class D5 extends vp{constructor(t,r){r===void 0&&(r={}),r.orientation=1,super(t,r),this.type="rexTweaker.Folder"}setTitle(t){var r=this.childrenMap.title;return r.setTitle(t),this}}Object.assign(D5.prototype,Vpt,Wpt);const Hf=Phaser.Utils.Objects.GetValue;var Ypt=function(e,t,r){var h=e.scene,y=Hf(r,"title")||{},P=new Upt(h,y);h.add.existing(P),P.on("folder.expand",function(){P.setExpandedState(!0)}).on("folder.collapse",function(){P.setExpandedState(!1)});var n={root:Hf(r,"root"),styles:Hf(r,"tweaker"),space:Hf(r,"space")||{}},T=e.createTweaker(n),i=Hf(r,"background"),a=Pv(h,t,i),x=new D5(h,{title:P,child:T,background:a,transition:{duration:Hf(r,"transition.duration",200)}});return h.add.existing(x),x};const u3=Phaser.Utils.Objects.GetValue;var Xpt=function(e){e===void 0&&(e={});var t=u3(this.styles,"folder")||{};t.tweaker=this.styles,t.root=this.root;var r=Ypt(this,e,t);delete t.tweaker,delete t.root,this.add(r,{expand:!0}),r.setTitle(e);var h=u3(e,"expanded",!0);h!==void 0&&r.setExpandedState(h);var y=r.childrenMap.child;return e.key&&this.root.addChildrenMap(e.key,y),y};const Hpt={setBindingTarget(e){for(var t=this.childrenMap.pages.children,r=0,h=t.length;r<h;r++)t[r].setBindingTarget(e);return this}},$pt={getMaxInputRowTitleWidth(){for(var e=0,t=this.childrenMap.pages.children,r=0,h=t.length;r<h;r++)e=Math.max(e,t[r].getMaxInputRowTitleWidth());return e+this.getInnerPadding("left")},setInputRowTitleWidth(e){e-=this.getInnerPadding("left");for(var t=this.childrenMap.pages.children,r=0,h=t.length;r<h;r++)t[r].setInputRowTitleWidth(e);return this}};class B5 extends qx{constructor(t,r){super(t,r),this.type="rexTweaker.TabPages"}}Object.assign(B5.prototype,Hpt,$pt);const w0=Phaser.Utils.Objects.GetValue;var Kpt=function(e,t,r){var h=e.scene,y=new B5(h,r);h.add.existing(y);for(var P=w0(r,"tab"),n={root:w0(r,"root"),styles:w0(r,"tweaker")},T=w0(t,"pages")||[],i=0,a=T.length;i<a;i++){var x=T[i];y.addPage({key:x.title,tab:zr(h,P).setActiveState(!1).resetDisplayContent({text:x.title}),page:e.createTweaker(n)})}return y.on("tab.focus",function(d,l){d.setActiveState(!0)}).on("tab.blur",function(d,l){d.setActiveState(!1)}),y};const f3=Phaser.Utils.Objects.GetValue;var Zpt=function(e){e===void 0&&(e={});var t=f3(this.styles,"tab")||{};t.tweaker=this.styles,t.root=this.root;var r=Kpt(this,e,t);delete t.tweaker,delete t.root,this.add(r,{expand:!0});for(var h=f3(e,"pages")||[],y=[],P=0,n=0,T=h.length;n<T;n++){var i=r.getPage(n),a=h[n].show;a&&(P=n);var x=h[n].key;x&&this.root.addChildrenMap(x,i),y.push(i)}return r.swapPage(P,0),y};const Jpt={setBindingTarget(e){for(var t=this.childrenMap.columns,r=0,h=t.length;r<h;r++)t[r].setBindingTarget(e);return this}},Qpt={getMaxInputRowTitleWidth(){for(var e=0,t=this.childrenMap.columns,r=0,h=t.length;r<h;r++)e=Math.max(e,t[r].getMaxInputRowTitleWidth());return e+this.getInnerPadding("left")},setInputRowTitleWidth(e){e-=this.getInnerPadding("left");for(var t=this.childrenMap.columns,r=0,h=t.length;r<h;r++)t[r].setInputRowTitleWidth(e);return this}},$f=Phaser.Utils.Objects.GetValue;class I5 extends Je{constructor(t,r){r===void 0&&(r={}),r.orientation="y",super(t,r),this.type="rexTweaker.Columns";var h=$f(r,"background",void 0),y=$f(r,"title",void 0);h&&this.addBackground(h),y&&this.add(y,{expand:!0,space:{bottom:$f(r,"space.title",0)}});var P=new Je(t,{orientation:"x",space:{item:$f(r,"space.column",0)}});t.add.existing(P);for(var n=$f(r,"columns",void 0),T,i,a=0,x=n.length;a<x;a++)T=n[a],i=T.child,P.add(T.child,{proportion:i.minWidth===0?1:0,expand:$f(T,"expand",!0)});this.add(P,{expand:!0}),this.addChildrenMap("title",y),this.addChildrenMap("columnsSizer",P),this.addChildrenMap("columns",P.childrenMap.items)}setTitle(t){var r=this.childrenMap.title;return t.title||t.icon?r.show().setTitle(t):r.hide(),this}getColumns(){return this.childrenMap.columns}getColumn(t){return this.childrenMap.columns[t]}}Object.assign(I5.prototype,Jpt,Qpt);const _l=Phaser.Utils.Objects.GetValue;var jpt=function(e,t,r){var h=e.scene,y=_l(r,"title")||{},P=new pp(h,y);h.add.existing(P);var n={root:_l(r,"root"),styles:_l(r,"tweaker")},T=_l(r,"background");T&&!Array.isArray(T)&&(T=[T]);var i=_l(t,"columns",2);if(typeof i=="number"){var a=i;i=[];for(var x=0,d=a;x<d;x++)i.push({})}for(var x=0,d=i.length;x<d;x++){var l=i[x];T&&(n.background=T[x%T.length]),n.width=_l(l,"width",0);var o=e.createTweaker(n);l.child=o}var s=new I5(h,{title:P,columns:i,space:_l(r,"space")});return h.add.existing(s),s};const d3=Phaser.Utils.Objects.GetValue;var qpt=function(e){e===void 0&&(e={}),typeof e=="number"&&(e={columns:e});var t=d3(this.styles,"columns")||{};t.tweaker=this.styles,t.root=this.root;var r=jpt(this,e,t);delete t.tweaker,delete t.root,this.add(r,{expand:!0}),r.setTitle(e);var h=d3(e,"columns",void 0);if(h&&Array.isArray(h))for(var y=0,P=h.length;y<P;y++){var n=h[y].key;n&&this.root.addChildrenMap(n,r.getColumn(y))}return r.getColumns()};const _pt={setBindingTarget(e){for(var t=this.childrenMap.child,r=0,h=t.length;r<h;r++)t[r].setBindingTarget(e);return this}},tgt={getMaxInputRowTitleWidth(){return 0},setInputRowTitleWidth(e){return this}},R0=Phaser.Utils.Objects.GetValue;class G5 extends Je{constructor(t,r){r===void 0&&(r={}),r.orientation="y",super(t,r),this.type="rexTweaker.Wrap";var h=R0(r,"background",void 0),y=R0(r,"title",void 0);h&&this.addBackground(h),y&&this.add(y,{expand:!0,space:{bottom:R0(r,"space.title",0)}});var P=R0(r,"child",void 0);this.add(P,{expand:!0}),this.addChildrenMap("title",y),this.addChildrenMap("child",P)}setTitle(t){var r=this.childrenMap.title;return t.title||t.icon?r.show().setTitle(t):r.hide(),this}}Object.assign(G5.prototype,_pt,tgt);const Xa=Phaser.Utils.Objects.GetValue;var egt=function(e,t,r){var h=e.scene,y=Xa(r,"title")||{},P=new pp(h,y);h.add.existing(P);var n=Xa(r,"itemWidth",0),T=Xa(r,"itemHeight",0),i={root:Xa(r,"root"),styles:Xa(r,"tweaker"),space:Xa(r,"space"),align:Xa(r,"align",5),wrap:!0,itemWidth:Xa(t,"itemWidth",n),itemHeight:Xa(t,"itemHeight",T)};Xa(r,"background");var a=e.createTweaker(i),x=new G5(h,{title:P,child:a});return h.add.existing(x),x};const igt=Phaser.Utils.Objects.GetValue;var rgt=function(e){e===void 0&&(e={});var t=igt(this.styles,"wrap")||{};t.tweaker=this.styles,t.root=this.root;var r=egt(this,e,t);delete t.tweaker,delete t.root,this.add(r,{expand:!0}),r.setTitle(e);var h=r.childrenMap.child;return e.key&&this.root.addChildrenMap(e.key,h),h};const ngt={setBindingTarget(e){var t=this.childrenMap.panel;return t.setBindingTarget(e),this}},sgt={getMaxInputRowTitleWidth(){var e=this.childrenMap.panel,t=e.getMaxInputRowTitleWidth();return t+this.getInnerPadding("left")},setInputRowTitleWidth(e){e-=this.getInnerPadding("left");var t=this.childrenMap.panel;return t.setInputRowTitleWidth(e),this}};class k5 extends dp{constructor(t,r){super(t,r),this.type="rexTweaker.Scrollable"}setTitle(t){var r=this.childrenMap.header;return t.title||t.icon?r.show().setTitle(t):r.hide(),this}}Object.assign(k5.prototype,ngt,sgt);const Dh=Phaser.Utils.Objects.GetValue;var agt=function(e,t,r){var h=e.scene,y=Dh(r,"title")||{},P=new pp(h,y);h.add.existing(P);var n={root:Dh(r,"root"),styles:Dh(r,"tweaker"),space:Dh(r,"space")||{}},T=e.createTweaker(n),i=Dh(r,"slider");if(i){i=Ur(i);var a=i.track;a&&(i.track=Pv(h,t,a));var x=i.thumb;x&&(i.thumb=Pv(h,t,x))}var d=Dh(r,"background"),l=Pv(h,t,d),o=new k5(h,{scrollMode:0,header:P,panel:{child:T,mask:{padding:1}},slider:i,background:l,height:Dh(t,"height",0),space:Dh(r,"space",void 0)});return h.add.existing(o),o};const ogt=Phaser.Utils.Objects.GetValue;var hgt=function(e){e===void 0&&(e={});var t=ogt(this.styles,"scrollable")||{};t.tweaker=this.styles,t.root=this.root;var r=agt(this,e,t);delete t.tweaker,delete t.root,this.add(r,{proportion:r.minWidth===0?1:0,expand:!0}),r.setTitle(e);var h=r.childrenMap.panel;return e.key&&this.root.addChildrenMap(e.key,h),h};const c3=Phaser.Utils.Objects.GetValue,lgt={setupBinding(){var e=this.childrenMap.inputField;return e.on("valuechange",function(t){this.autoUpdateEnable&&this.setTargetValue(t)},this),this},setAutoUpdateEnable(e){return e===void 0&&(e=!0),this.autoUpdateEnable=e,this},setBindingTarget(e,t){this.bindingTarget=e,t!==void 0&&this.setBindingTargetKey(t),this.syncTargetValue();var r=this.childrenMap.inputField;return r.onBindTarget&&r.onBindTarget(e,t),this},setBindingTargetKey(e){return this.bindTargetKey=e,this},setValueCallbacks(e){return this.onGetValue=c3(e,"onGetValue"),this.onSetValue=c3(e,"onSetValue"),this},getTargetValue(){if(this.bindingTarget){if(this.bindTargetKey!=null)return this.bindingTarget[this.bindTargetKey];if(this.onGetValue)return this.onGetValue(this.bindingTarget)}},setTargetValue(e){return this.bindingTarget?this.bindTargetKey!=null?(this.bindingTarget[this.bindTargetKey]=e,this):(this.onSetValue&&this.onSetValue(this.bindingTarget,e),this):this},syncTargetValue(){if(!this.bindingTarget)return this;var e=this.childrenMap.inputField;return e.syncValue&&e.syncValue(this.getTargetValue()),this}},ugt={startMonitorTarget(){return this.isMonitoring?this:(this.isMonitoring=!0,this.scene.events.on("postupdate",this.onMonitorTarget,this),this)},stopMonitorTarget(){return this.isMonitoring?(this.isMonitoring=!1,this.scene.events.off("postupdate",this.onMonitorTarget,this),this):this},onMonitorTarget(){if(this.bindingTarget){var e=this.getTargetValue(),t=this.childrenMap.inputField;t.value!==e&&t.syncValue(e)}}},fgt={getMinTitleWidth(){var e=this.childrenMap.title;if(!e||e.orientation!==0)return 0;var t=e.rexSizer.padding,r=this.getChildWidth(this.childrenMap.title)+(t.left+t.right)*e.scaleX;return r+this.getInnerPadding("left")},setMinTitleWidth(e){var t=this.childrenMap.title;if(!t||t.orientation!==0)return this;var r=t.rexSizer.padding;return e-=(r.left+r.right)*t.scaleX,t.minWidth=e,this}},WE=Phaser.Utils.Objects.GetValue;class sb extends Je{constructor(t,r){super(t,r),this.type="rexTweaker.InputRow",this.bindingTarget=void 0,this.bindTargetKey=void 0,this.autoUpdateEnable=!0;var h=r.inputTitle,y=r.inputField,P=r.background,a=WE(r,"proportion.title",0),n=WE(r,"space.title",0),T;this.orientation===0?T={right:n}:T={bottom:n},this.add(h,{proportion:a,expand:!0,padding:T});var i=y.defaultProportion;i===void 0&&(i=r.defaultExpandWidth?1:0);var a=WE(r,"proportion.inputField",i);this.add(y,{proportion:a,expand:!0}),P&&this.addBackground(P),this.addChildrenMap("title",h),this.addChildrenMap("inputField",y),this.addChildrenMap("background",P),this.setupBinding()}destroy(t){!this.scene||this.ignoreDestroy||(this.stopMonitorTarget(),super.destroy(t))}setTitle(t){var r=this.childrenMap.title;return r.setTitle(t),this}preLayout(){var t=this.childrenMap.title;t&&(t.minWidth=0),super.preLayout()}}Object.assign(sb.prototype,lgt,ugt,fgt);var N5=function(e,t,r){var h=new pp(e,r);return e.add.existing(h),h},dgt=function(e){e===void 0&&(e=Je);class t extends e{get bindingTarget(){var h=this.getParentSizer();return h.bindingTarget}get bindingKey(){var h=this.getParentSizer();return h.bindTargetKey}get value(){return this._value}get root(){var h=this.getParentSizer(),y=h.getParentSizer();return y.root}onBindTarget(h,y){this.onBindTargetCallback&&this.onBindTargetCallback(this,h,y)}validate(h){return this.syncValueFlag||!this.validateCallback?!0:this.validateCallback(h,this._value,this.bindingTarget,this.bindingKey)}getFotmatText(h){return this.textFormatCallback?h=this.textFormatCallback(h):h=h.toString(),h}set value(h){if(this._value!==h&&(this.validate(h)||(h=this._value),this.filterValueCallback&&(h=this.filterValueCallback(this,h)),this.displayValueCallback&&this.displayValueCallback(this,h),this._value!==h)){var y=this._value;if(this._value=h,!this.syncValueFlag){var P=this.bindingTarget,n=this.bindingKey;this.emit("valuechange",h,y,P,n),this.root.emit("valuechange",h,y,P,n)}}}getValue(){return this.value}setValue(h){return this.value=h,this}syncValue(h){return this.syncValueFlag=!0,this.value=h,this.syncValueFlag=!1,this}setup(h,y){return y===void 0&&(y=!1),(y||h.hasOwnProperty("format"))&&this.setTextFormatCallback(h.format),(y||h.hasOwnProperty("onValidate"))&&this.setValidateCallback(h.onValidate),this.setupCallback&&this.setupCallback(this,h,y),this}setSetupCallback(h){return this.setupCallback=h,this}setFilterValueCallback(h){return this.filterValueCallback=h,this}setDisplayValueCallback(h){return this.displayValueCallback=h,this}setOnBindTargetCallback(h){return this.onBindTargetCallback=h,this}setTextFormatCallback(h){return this.textFormatCallback=h,this}setValidateCallback(h){return this.validateCallback=h,this}}return t},cgt=function(e,t,r){for(var h,y=this.inputHandlers,P=0,n=y.length;P<n;P++){var T=y[P];if(T.accept(t)){var i=dgt(T.baseClass);h=new i(e),e.add.existing(h),h.setSetupCallback(T.setup).setFilterValueCallback(T.filterValue).setDisplayValueCallback(T.displayValue).setOnBindTargetCallback(T.onBindTarget),T.build(h,r);break}}return h&&h.setup(t,!0),h};const v3=Phaser.Utils.Objects.GetValue;var vgt=function(e,t,r){var h=cgt.call(this,e,t,r);if(!h)return null;var y=v3(r,"title")||{},P=N5(e,t,y),n=v3(r,"background")||{},T=Rr(e,n),i=new sb(e,{...r,...t,inputTitle:P,inputField:h,background:T});return e.add.existing(i),i.setTitle(t),i.setValueCallbacks(t),i},pgt=function(e,t,r){arguments.length===1?(r=e,e=r.bindingTarget,t=r.bindingKey):(r===void 0&&(r={}),r.bindingTarget=e,r.bindingKey=t),r.title||(r.title=t),r.bindingTarget&&r.bindingKey?r.value=r.bindingTarget[r.bindingKey]:r.value=void 0;var h=this.styles.inputRow||{};this.isWrapMode?h.defaultExpandWidth=!0:h.defaultExpandWidth=this.styles.orientation===1;var y=vgt.call(this,this.scene,r,h);if(!y)return console.error(`[Tweaker] Can't add Input
    title: ${r.title}
    view: ${r.view}
`),this;if(this.isWrapMode)y.setMinWidth(this.itemWidth),y.setMinHeight(this.itemHeight),this.add(y);else{var P;this.orientation===1?P=0:(P=this.itemWidth>0?0:1,y.minWidth===0&&y.setMinWidth(this.itemWidth)),y.minHeight===0&&y.setMinHeight(this.itemHeight),this.add(y,{proportion:P,expand:!0})}if(r.onValueChange){var n=y.childrenMap.inputField;n.on("valuechange",r.onValueChange)}return y.setAutoUpdateEnable(r.autoUpdate),y.setBindingTarget(e,t),r.monitor&&y.startMonitorTarget(),r.key&&this.root.addChildrenMap(r.key,y),this},ggt=function(e,t){var r=new fu(e,t);return e.add.existing(r),r};const mgt=Phaser.Utils.Objects.GetValue;var xgt=function(e,t){var r=mgt(t,"wrap",!1),h=r?$h:Nr,y=new h(e,t);return e.add.existing(y),y};const A0=Phaser.Utils.Objects.GetValue;var ygt=function(e,t,r){for(var h=A0(r,"title")||{},y=N5(e,t,h),P=t.buttons,n=A0(r,"button")||{},T=[],i=0,a=P.length;i<a;i++){var x=zr(e,n);T.push(x);var d=P[i];x.resetDisplayContent(d.label),x.callback=d.callback}var l=xgt(e,{buttons:T,expand:!0,wrap:A0(t,"wrap",!1)});l.defaultProportion=1;var o=A0(r,"background")||{},s=ggt(e,o),f=new sb(e,{...r,inputTitle:y,inputField:l,background:s});return e.add.existing(f),f.setTitle(t),l.on("button.click",function(c){c.callback(f.bindingTarget)}),f};const Cgt=Phaser.Utils.Objects.GetValue;var Sgt=function(e){e===void 0&&(e={});var t=this.scene,r=e.bindingTarget;delete e.bindingTarget;var h=Cgt(this.styles,"inputRow")||{},y=ygt(t,e,h);return this.add(y,{expand:!0}),r&&y.setBindingTarget(r),e.key&&this.root.addChildrenMap(e.key,y),this},Tgt=function(e){return e===void 0&&(e={}),e.buttons=[{label:e.label,callback:e.callback}],delete e.label,delete e.callback,this.addButtons(e),this},Egt=function(e,t,r){return Rr(e,F5(t,r))};const Pgt=Phaser.Utils.Objects.GetValue;var Mgt=function(e){e===void 0&&(e={});var t=this.scene,r=Pgt(this.styles,"separator"),h=Egt(t,e,r);return this.add(h,{expand:!0}),this},bgt=function(e,t,r){return typeof t=="boolean"&&(r=t,t=void 0),r===void 0&&(r=!0),Sv(this,Ur(e),t,r),this},Sv=function(e,t,r,h){if(t)for(var y=0,P=t.length;y<P;y++){var n=t[y];n.hasOwnProperty("$target")&&(r=n.$target,delete n.$target);var T=n.$type;switch(delete n.$type,T){case"folder":var i=e.addFolder(n);Sv(i,n.$properties,r,h);break;case"tab":for(var a=e.addTab(n),x=0,d=a.length;x<d;x++)Sv(a[x],n.pages[x].$properties,r,h);break;case"columns":for(var l=e.addColumns(n),x=0,d=l.length;x<d;x++)Sv(l[x],n.columns[x].$properties,r,h);break;case"scrollable":var o=e.addScrollable(n);Sv(o,n.$properties,r,h);break;case"separator":e.addSeparator();break;case"button":n.bindingTarget=r,e.addButton(n);break;case"buttons":n.bindingTarget=r,e.addButtons(n);break;default:var s=n.$key;if(delete n.$key,s.indexOf(".")===-1)n.bindingTarget=r,n.bindingKey=s;else{var f=s.split(".");n.bindingKey=f.pop();for(var c=r,u=0,v=f.length;u<v;u++)if(c=c[f[u]],!r){console.warn(`[Monitor] Key path '${s}' is invalid`);continue}n.bindingTarget=c}n.hasOwnProperty("monitor")||(n.monitor=h),e.addInput(n);break}}},wgt=function(e){for(var t=this.sizerChildren,r=0,h=t.length;r<h;r++){var y=t[r];y.setBindingTarget&&y.setBindingTarget(e)}return this},Rgt=function(){for(var e=0,t=this.sizerChildren,r=0,h=t.length;r<h;r++){var y=t[r];y.rexSizer.hidden||(y.getMinTitleWidth?e=Math.max(e,y.getMinTitleWidth()):y.getMaxInputRowTitleWidth&&(e=Math.max(e,y.getMaxInputRowTitleWidth())))}return e+this.getInnerPadding("left")},Agt=function(e){this.isWrapMode||(e-=this.getInnerPadding("left"));for(var t=this.sizerChildren,r=0,h=t.length;r<h;r++){var y=t[r];y.rexSizer.hidden||(y.setMinTitleWidth?y.setMinTitleWidth(e):y.setInputRowTitleWidth&&y.setInputRowTitleWidth(e))}return this},Ogt={registerInputHandler:Gpt,removeInputHandler:zpt,addFolder:Xpt,addTab:Zpt,addColumns:qpt,addWrap:rgt,addScrollable:hgt,addInput:pgt,addButtons:Sgt,addButton:Tgt,addSeparator:Mgt,addRows:bgt,setBindingTarget:wgt,getMaxInputRowTitleWidth:Rgt,setInputRowTitleWidth:Agt};const Bh=Phaser.Utils.Objects.GetValue;var z5=function(e){var t=Bh(e,"wrap",!1),r=t?qh:Je;class h extends r{constructor(P,n){n===void 0&&(n={}),n.orientation===void 0&&(n.orientation=t?0:1),super(P,n),this.type="rexTweakerShell",this.isWrapMode=t,n.root?(this.root=n.root,this.inputHandlers=this.root.inputHandlers):(this.root=this,this.inputHandlers=[]),this.styles=Bh(n,"styles")||{},this.styles.orientation=this.orientation;var T=Bh(n,"itemWidth");T===void 0&&(T=Bh(this.styles,"itemWidth",0)),this.itemWidth=T;var i=Bh(n,"itemHeight");if(i===void 0&&(i=Bh(this.styles,"itemHeight",0)),this.itemHeight=i,t||this.root===this&&this.orientation===1){var a=Bh(n,"inputRow.alignTitle");if(a===void 0){var x=Bh(this.styles,"inputRow.proportion.title");a=!x}else a&&Lt(this.styles,"inputRow.proportion.title",0);this.alignInputRowTitleStartFlag=a}else this.alignInputRowTitleStartFlag=!1;var d=Pv(P,void 0,n.background);d&&this.addBackground(d)}preLayout(){super.preLayout(),this.alignInputRowTitleStartFlag&&this.setInputRowTitleWidth(this.getMaxInputRowTitleWidth())}createTweaker(P,n){n===void 0&&(n=!0);var T=z5(P),i=new T(this.scene,P);return n&&this.scene.add.existing(i),i}}return Object.assign(h.prototype,Ogt),h},Lgt=function(e,t){t===void 0&&(t=!0);var r=e.childrenMap.inputText;r.setReadOnly(t)};const Fgt={name:"TextInput",accept(e){return e.hasOwnProperty("view")?e.view==="string":typeof e.value=="string"},build(e,t){var r=e.scene;e.type="rexTweaker.TextInput";var h=t.inputText,y=Kh(r,h);e.add(y,{proportion:1,expand:!0,key:"inputText"}),y.on("close",function(){e.setValue(y.value)})},setup(e,t,r){(r||t.hasOwnProperty("inputTextReadOnly"))&&Lgt(e,!!t.inputTextReadOnly)},displayValue(e,t){var r=e.childrenMap.inputText;r.setText(e.getFotmatText(t))}};var Dgt=function(e,t,r){r===void 0&&(r=!0),r?t=t?Ur(t):{}:t||(t={});var h=new _x(e,t);return e.add.existing(h),h},Bgt=function(e,t){t===void 0&&(t=!0);var r=e.childrenMap.inputText;r.setReadOnly(t)};const Igt={name:"TextAreaInput",accept(e){return e.hasOwnProperty("view")?e.view==="textarea":!1},build(e,t){var r=e.scene;this.type="rexTweaker.TextAreaInput";var h=t.inputTextArea;h===void 0&&(h={}),h.hasOwnProperty("text")||(h.text=t.inputText),h.hasOwnProperty("slider")||(h.slider=t.slider);var y=Dgt(r,h);e.add(y,{proportion:1,expand:!0,key:"inputText"}),y.on("close",function(){e.setValue(y.value)})},setup(e,t,r){(r||t.hasOwnProperty("inputTextReadOnly"))&&Bgt(e,!!t.inputTextReadOnly)},displayValue(e,t){var r=e.childrenMap.inputText;r.setText(e.getFotmatText(t))},onBindTarget(e){var t=e.childrenMap.inputText;t.scrollToTop()}};var Ggt=function(e,t){t===void 0&&(t=!0);var r=e.childrenMap.inputText;r.setReadOnly(t)};const kgt={name:"NumberInput",accept(e){return e.hasOwnProperty("view")?e.view==="number":typeof e.value=="number"},build(e,t){var r=e.scene;e.type="rexTweaker.NumberInput";var h=t.inputNumber||t.inputText,y=Kh(r,h).setNumberInput();e.add(y,{proportion:1,expand:!0,key:"inputText"}),y.on("close",function(){e.setValue(y.value)})},setup(e,t,r){(r||t.hasOwnProperty("inputTextReadOnly"))&&Ggt(e,!!t.inputTextReadOnly),e.isFloatType=!t.int},filterValue(e,t){return e.isFloatType?t:Math.floor(t)},displayValue(e,t){var r=e.childrenMap.inputText;r.setText(e.getFotmatText(t))}};var Ngt=function(e,t){var r=new fd(e,t);return e.add.existing(r),r};const YE=Phaser.Utils.Objects.GetValue,zgt=Phaser.Math.Linear,Ugt=Phaser.Math.Snap.Floor;var Vgt=function(e,t,r,h){e.minValue=t,e.maxValue=r,e.step=h;var y=e.childrenMap.slider;y.setGap(h,t,r)},Wgt=function(e,t){t===void 0&&(t=!0);var r=e.childrenMap.inputText;r.setReadOnly(t)};const Ygt={name:"RangeInput",accept(e){return e.hasOwnProperty("view")?e.view==="range":typeof e.value=="number"&&e.hasOwnProperty("min")&&e.hasOwnProperty("max")},build(e,t){var r=e.scene;e.type="rexTweaker.RangeInput";var h=t.slider,y=e.orientation===0?"track.height":"track.width",P=YE(h,y),n=Ngt(r,h),x=t.defaultExpandWidth?2:0,d=YE(t,"proportion.range.slider",x),T=P===void 0;e.add(n,{proportion:d,expand:T,key:"slider"});var i=t.inputNumber||t.inputText,a=Kh(r,i).setNumberInput(),x=t.defaultExpandWidth?1:0,d=YE(t,"proportion.range.inputText",x);e.add(a,{proportion:d,expand:!0,key:"inputText"}),a.on("close",function(){e.setValue(a.value)}),n.on("valuechange",function(){var l=zgt(e.minValue,e.maxValue,n.value);e.step&&(l=Ugt(l,e.step,e.minValue)),e.setValue(l)})},setup(e,t,r){(r||t.hasOwnProperty("max"))&&Vgt(e,t.min,t.max,t.step),(r||t.hasOwnProperty("inputTextReadOnly"))&&Wgt(e,!!t.inputTextReadOnly)},displayValue(e,t){var r=e.childrenMap.slider;r.setValue(t,e.minValue,e.maxValue);var h=e.childrenMap.inputText;h.setText("").setText(e.getFotmatText(t))}};var U5=function(e,t){var r=new Nr(e,t);return e.add.existing(r),r};const Xgt=Phaser.Utils.Objects.GetValue;var Hgt=function(e,t){t===void 0&&(t=!0);var r=e.childrenMap.inputText;r.setReadOnly(t)};const $gt={name:"RangeInput",accept(e){return e.hasOwnProperty("view")?e.view==="incdec":!1},build(e,t){var r=e.scene;e.type="rexTweaker.IncDecInput";var h=Xgt(t,"incDec")||{},y={text:null,action:null},P=U5(r,{expand:!1}),n=t.defaultExpandWidth?1:0;e.add(P,{proportion:n,expand:!0});var T=t.inputNumber||t.inputText,i=Kh(r,T).setNumberInput();i.on("close",function(){e.setValue(i.value)});var a=Object.assign(Ur(y),h.incButton||{}),x=zr(r,a),d=Object.assign(Ur(y),h.decButton||{}),l=zr(r,d);P.addButton(x),P.addButton(l);var o=h.inputTextIndex||0;P.insert(o,i,{proportion:1,expand:!0}),e.step=1,e.minValue=void 0,e.maxValue=void 0,P.on("button.click",function(s,f,c,u){var v=e.value;f===0?v+=e.step:v-=e.step,e.maxValue!==void 0&&v>e.maxValue&&(v=e.maxValue),e.minValue!==void 0&&v<e.minValue&&(v=e.minValue),e.setValue(v)}),e.addChildrenMap("incButton",x),e.addChildrenMap("decButton",l),e.addChildrenMap("inputText",i)},setup(e,t,r){(r||t.hasOwnProperty("inputTextReadOnly"))&&Hgt(e,!!t.inputTextReadOnly),(r||t.hasOwnProperty("step"))&&(e.step=t.hasOwnProperty("step")?t.step:1),(r||t.hasOwnProperty("min"))&&(e.minValue=t.min),(r||t.hasOwnProperty("max"))&&(e.maxValue=t.max)},displayValue(e,t){var r=e.childrenMap.inputText;r.setText("").setText(e.getFotmatText(t))}};var Kgt=function(e,t,r){r===void 0&&(r=!0),r?t=t?Ur(t):{}:t||(t={});var h=new ty(e,t);return e.add.existing(h),h};const Zgt={name:"ColorInput",accept(e){return e.hasOwnProperty("view")?e.view==="color":!1},build(e,t){var r=e.scene;e.type="rexTweaker.ColorInput";var h=t.colorInput;h===void 0&&(h={}),h.hasOwnProperty("inputText")||(h.inputText=t.inputText);var y=Kgt(r,h);e.add(y,{proportion:1,expand:!0,key:"colorInput"}),y.on("valuechange",function(P){e.setValue(P)})},displayValue(e,t){var r=e.childrenMap.colorInput;r.setValue(t)}};var Jgt=function(e,t){var r=new zP(e,t);return e.add.existing(r),r};const Qgt={name:"CheckboxInput",accept(e){return e.hasOwnProperty("view")?e.view==="boolean":typeof e.value=="boolean"},build(e,t){var r=e.scene;e.type="rexTweaker.CheckboxInput";var h=t.checkbox,y=Jgt(r,h),P=h.size;P!==void 0&&y.setSize(P,P);var n=P!==void 0?0:1;e.add(y,{proportion:0,expand:!1,fitRatio:n,key:"checkbox"}),y.on("valuechange",function(T){e.setValue(T)})},displayValue(e,t){var r=e.childrenMap.checkbox;r.setValue(t)}};var jgt=function(e,t){var r=new UP(e,t);return e.add.existing(r),r};const qgt={name:"ToggleSwitchInput",accept(e){return e.hasOwnProperty("view")?e.view==="toggleSwitch":!1},build(e,t){var r=e.scene;e.type="rexTweaker.ToggleSwitchInput";var h=t.toggleSwitch,y=jgt(r,h),P=h.size;P!==void 0&&y.setSize(P,P);var n=P!==void 0?0:1;e.addSpace().add(y,{proportion:0,expand:!1,fitRatio:n,key:"toggleSwitch"}),y.on("valuechange",function(T){e.setValue(T)})},displayValue(e,t){var r=e.childrenMap.toggleSwitch;r.setValue(t)}};var _gt=function(e,t){t=qI(e,t);var r=new cp(e,t);return e.add.existing(r),r},V5=function(e,t){for(var r=0,h=e.length;r<h;r++){var y=e[r];if(y.value===t)return r}},tmt=function(e,t){var r=V5(e,t);if(r!=null)return e[r]},emt=function(e,t){var r=e.childrenMap.list;r.setOptions(t)};const imt={name:"ListInput",accept(e){return e.hasOwnProperty("view")?e.view==="list":e.hasOwnProperty("options")},build(e,t){var r=e.scene;e.type="rexTweaker.ListInput";var h=_gt(r,t.list);e.add(h,{proportion:1,expand:!0,key:"list"}),h.on("button.click",function(y,P,n,T,i,a){e.setValue(n.value)})},setup(e,t,r){(r||t.hasOwnProperty("options"))&&emt(e,t.options)},displayValue(e,t){var r=e.childrenMap.list,h=tmt(r.options,t);r.resetDisplayContent(h).setMinSize(r.width,r.height).layout().setMinSize(0,0)}};var rmt=function(e,t){for(var r=0,h=e.length;r<h;r++){var y=e[r];y&&y.setActiveState(r===t)}};const nmt=Phaser.Utils.Objects.GetValue;var smt=function(e,t){var r=e.childrenMap.list;r.options=t;var h=e.scene,y=r.buttonConfig;r.clearButtons(!0);for(var P=0,n=t.length;P<n;P++){var T=t[P],i=zr(h,y).setActiveState(!1).resetDisplayContent({text:T.text});r.addButton(i)}};const amt={name:"ButtonsInput",accept(e){return e.hasOwnProperty("view")?e.view==="buttons":!1},build(e,t){var r=e.scene;e.type="rexTweaker.ButtonsInput";var h=t.button?Ur(t.button):{},y=nmt(h,"expand",!0);y&&(h.align="center"),delete h.expand;var P=U5(r,{expand:y});P.buttonConfig=h,e.add(P,{proportion:1,expand:!0,key:"list"}),P.on("button.click",function(n,T,i,a){var x=P.options[T];x&&(e._selectedIndex=T,e.setValue(x.value),e._selectedIndex=void 0)})},setup(e,t,r){(r||t.hasOwnProperty("options"))&&smt(e,t.options)},displayValue(e,t){var r=e.childrenMap.list,h=e._selectedIndex;h===void 0&&(h=V5(r.options,t)),rmt(r.childrenMap.buttons,h)}};var omt=function(){this.registerInputHandler(Fgt).registerInputHandler(Igt).registerInputHandler(kgt).registerInputHandler(Ygt).registerInputHandler($gt).registerInputHandler(Zgt).registerInputHandler(Qgt).registerInputHandler(qgt).registerInputHandler(imt).registerInputHandler(amt)};class W5 extends z5(){constructor(t,r){r===void 0&&(r={}),r.hasOwnProperty("style")&&(r.styles=r.style),r.styles===void 0&&(r.styles={}),r.background=r.styles.background||{},r.space=r.styles.space||{},super(t,r),this.type="rexTweaker",omt.call(this)}destroy(t){!this.scene||this.ignoreDestroy||(super.destroy(t),this.inputHandlers=void 0)}}It.register("tweaker",function(e){var t=new W5(this.scene,e);return this.scene.add.existing(t),t});Lt(window,"RexPlugins.UI.Tweaker",W5);It.register("click",function(e,t){return new Wo(e,t)});Lt(window,"RexPlugins.UI.Click",Wo);It.register("clickOutside",function(e,t){return new mM(e,t)});Lt(window,"RexPlugins.UI.ClickOutside",mM);It.register("inTouching",function(e,t){return new rd(e,t)});Lt(window,"RexPlugins.UI.InTouching",rd);It.register("tap",function(e,t){return Vn(e)||(t=e,e=this.scene),new Px(e,t)});Lt(window,"RexPlugins.UI.Tap",Px);It.register("press",function(e,t){return Vn(e)||(t=e,e=this.scene),new Mx(e,t)});Lt(window,"RexPlugins.UI.Press",Mx);It.register("swipe",function(e,t){return Vn(e)||(t=e,e=this.scene),new ep(e,t)});Lt(window,"RexPlugins.UI.Swipe",ep);It.register("pan",function(e,t){return Vn(e)||(t=e,e=this.scene),new z4(e,t)});Lt(window,"RexPlugins.UI.Pan",z4);It.register("drag",function(e,t){return new rb(e,t)});Lt(window,"RexPlugins.UI.Drag",rb);It.register("pinch",function(e){return new U4(this.scene,e)});Lt(window,"RexPlugins.UI.Pinch",U4);It.register("rotate",function(e){return new yM(this.scene,e)});Lt(window,"RexPlugins.UI.Rotate",yM);const hmt=Phaser.Utils.Objects.IsPlainObject,p3=Phaser.Utils.Objects.GetValue;var g3=function(e,t,r){var h;if(e===void 0)e=r.texture.key,t=r.frame.name;else if(hmt(e)){var y=e;e=p3(y,"key",r.texture.key),t=p3(y,"frame",r.frame.name)}else typeof e=="string"||(h=e);return h===void 0&&(h=function(P){P.setTexture(e,t)}),h};const Cv=Phaser.Utils.Objects.GetValue,lmt=Phaser.Utils.Objects.GetAdvancedValue,umt=Phaser.Math.Linear;class Y5 extends cu{constructor(t,r){super(t,r),this.resetFromJSON(r),this.boot()}resetFromJSON(t){return super.resetFromJSON(t),this.setDuration(lmt(t,"duration",500)),this.setEase(Cv(t,"ease","Sine")),this.setOrientation(Cv(t,"orientation",0)),this.setFrontFace(Cv(t,"front",void 0)),this.setBackFace(Cv(t,"back",void 0)),this.setFace(Cv(t,"face",0)),this}setOrientation(t){return typeof t=="string"&&(t=fmt[t]),this.orientation=t,this}get face(){return this._face}set face(t){typeof t=="string"&&(t=dmt[t]),this._face=t,t===0&&this.frontFaceCallback?this.frontFaceCallback(this.parent):t===1&&this.backFaceCallback&&this.backFaceCallback(this.parent)}setFace(t){return this.face=t,this}toggleFace(){var t=this.face===0?1:0;return this.setFace(t),this}setFrontFace(t,r){return this.frontFaceCallback=g3(t,r,this.parent),this}setBackFace(t,r){return this.backFaceCallback=g3(t,r,this.parent),this}start(){if(this.timer.isRunning)return this;var t=this.parent;return this.orientation===0?this.scale0=t.scaleX:this.scale0=t.scaleY,this.timer.setDelay(this.delay).setDuration(this.duration/2).setRepeat(1),super.start(),this}flip(t){return this.isRunning?this:(t!==void 0&&this.setDuration(t),this.start(),this)}updateTarget(t,r){r.justRestart&&this.toggleFace();var h=r.t;r.isOddIteration&&(h=1-h),h=this.easeFn(h);var y=umt(this.scale0,0,h);this.orientation===0?t.scaleX=y:t.scaleY=y}}const fmt={x:0,horizontal:0,y:1,vertical:1},dmt={front:0,back:1};It.register("flip",function(e,t){return new Y5(e,t)});Lt(window,"RexPlugins.UI.Flip",Y5);It.register("shake",function(e,t){return new fM(e,t)});Lt(window,"RexPlugins.UI.Shake",fM);It.register("touchEventStop",function(e,t){return new Cx(e,t)});Lt(window,"RexPlugins.UI.TouchEventStop",Cx);It.register("perspective",function(e,t){return new g5(e,t)});Lt(window,"RexPlugins.UI.Perspective",g5);const X5=Phaser.Math.RotateAround;var XE=function(e,t,r){var h=e.width/2,y=e.height/2;return dn.x=t-h,dn.y=r-y,X5(dn,0,0,e.rotation),dn.x*=e.scaleX,dn.y*=e.scaleY,dn.x+=e.x,dn.y+=e.y,dn},cmt=function(e,t,r){var h=e.width/2,y=e.height/2;return dn.x=t-e.x,dn.y=r-e.y,dn.x/=e.scaleX,dn.y/=e.scaleY,X5(dn,0,0,-e.rotation),dn.x+=h,dn.y+=y,dn},dn={x:0,y:0};class vmt{constructor(t,r){this.parent=t,this.vertex=r,this._localX=void 0,this._localY=void 0}destroy(){this.parent=void 0,this.vertex=void 0}updateVertexPosition(t,r){var h=this.parent,y=h.height,P=h.frame.cutWidth/y/2,n=h.frame.cutHeight/y/2,T=t/y-P,i=r/y-n,a=this.vertex;return a.x=T,a.y=-i,h.forceUpdate(),this}get localX(){return this._localX}set localX(t){this.setLocalXY(t,this._localY)}get localY(){return this._localY}set localY(t){this.setLocalXY(this._localX,t)}get localXOrigin(){return this._localXOrigin}get localYOrigin(){return this._localYOrigin}resetLocalXY(t,r){return this._localXOrigin=t,this._localYOrigin=r,this._localX=t,this._localY=r,this}setLocalXY(t,r,h){return this._localX===t&&this._localY===r?this:(this._localX=t,this._localY=r,h||this.updateVertexPosition(t,r),this)}setWorldXY(t,r){if(this._worldX===t&&this._worldY===r)return this;var h=cmt(this.parent,t,r);return this.setLocalXY(h.x,h.y),this}setPosition(t,r){return this.setWorldXY(t,r),this}getWorldXY(){return XE(this.parent,this._localX,this._localY)}get x(){var t=XE(this.parent,this._localX,this._localY);return t.x}set x(t){this.setWorldXY(t,this.y)}get y(){var t=XE(this.parent,this._localX,this._localY);return t.y}set y(t){this.setWorldXY(this.x,t)}}const pmt=Phaser.Geom.Mesh.Vertex,gmt=Phaser.Geom.Mesh.Face;var mmt=function(e){for(var t=e.isNinePointMode,r=t?9:4,h=e.vertices,y=e.faces,P=e.controlPoints,n=0;n<r;n++){var T=new pmt;h.push(T),P.push(new vmt(e,T))}var i;t?i=Cmt:e.fourPointsModeRTL?i=ymt:i=xmt;for(var n=0,a=i.length;n<a;n+=3){var x=h[i[n+0]],d=h[i[n+1]],l=h[i[n+2]];y.push(new gmt(x,d,l))}t?(e.topLeft=P[0],e.topCenter=P[1],e.topRight=P[2],e.centerLeft=P[3],e.center=P[4],e.centerRight=P[5],e.bottomLeft=P[6],e.bottomCenter=P[7],e.bottomRight=P[8]):(e.topLeft=P[0],e.topRight=P[1],e.bottomLeft=P[2],e.bottomRight=P[3])};const xmt=[0,2,3,0,3,1],ymt=[1,3,2,1,2,0],Cmt=[0,3,4,0,4,1,1,4,2,4,5,2,3,6,4,6,7,4,4,7,8,4,8,5];var Smt=function(e){var t,r=0,h=e.height,y=0,P=e.width;if(e.isNinePointMode){var n=(y+P)/2,T=(r+h)/2;t=[y,r,n,r,P,r,y,T,n,T,P,T,y,h,n,h,P,h]}else t=[y,r,P,r,y,h,P,h];return t};const Tmt=Phaser.Utils.Objects.IsPlainObject,Kf=Phaser.Utils.Objects.GetValue;let Emt=class extends h5{constructor(t,r,h,y,P,n){Tmt(r)&&(n=r,r=Kf(n,"x",0),h=Kf(n,"y",0),y=Kf(n,"key",null),P=Kf(n,"frame",null)),super(t,r,h,y,P),this.type="rexQuadImage",this.isNinePointMode=Kf(n,"ninePointMode",!1),this.fourPointsModeRTL=Kf(n,"rtl",!1),this.controlPoints=[],mmt(this),this.hideCCW=!1,this.syncSize()}destroy(t){if(!(!this.scene||this.ignoreDestroy)){super.destroy(t);for(var r=0,h=this.controlPoints.length;r<h;r++)this.controlPoints[r].destroy();this.controlPoints=void 0}}resetVerts(){this.dirtyCache[9]=-1;for(var t=Smt(this),r=this.width,h=this.height,y=this.frame.cutWidth/h/2,P=this.frame.cutHeight/h/2,n=this.frame.u0,T=this.frame.u1,i=this.frame.v0,a=this.frame.v1,x=T-n,d=a-i,l=this.controlPoints,o=0,s=t.length;o<s;o+=2){var f=t[o+0],c=t[o+1],u=o/2,v=f/h-y,p=c/h-P,m=n+x*(f/r),g=i+d*(c/h);this.vertices[u].set(v,-p,0).setUVs(m,g),l[u].resetLocalXY(f,c)}return this}syncSize(){return this.setSizeToFrame(),this.setOrtho(this.width/this.height,1),this.resetVerts(),this}};Phaser.Utils.Objects.IsPlainObject;Phaser.Utils.Objects.GetValue;var m3=function(e,t,r){t===void 0&&(t=0),r===void 0&&(r=0);for(var h=e.width,y=e.height,P=h*.5,n=y*.5,T=Math.tan(t)*n,i=Math.tan(r)*P,a=e.controlPoints,x=0,d=a.length;x<d;x++){var l=a[x],o=l.localXOrigin,s=l.localYOrigin;l.localX=o+(s>n?T:-T),l.localY=s+(o>P?i:-i)}};const Pmt=Phaser.Utils.Objects.IsPlainObject,O0=Phaser.Utils.Objects.GetValue,x3=Phaser.Math.DegToRad,y3=Phaser.Math.RadToDeg;class Mmt extends Emt{constructor(t,r,h,y,P){if(Pmt(r)){var n=r;r=O0(n,"x",0),h=O0(n,"y",0),y=O0(n,"key",null),P=O0(n,"frame",null)}super(t,r,h,y,P),this.type="rexSkewmage",this._skewX=0,this._skewY=0}get skewX(){return this._skewX}set skewX(t){this._skewX=t,m3(this,this._skewX,this._skewY)}get skewXDeg(){return y3(this._skewX)}set skewXDeg(t){this.skewX=x3(t)}get skewY(){return this._skewY}set skewY(t){this._skewY=t,m3(this,this._skewX,this._skewY)}get skewYDeg(){return y3(this._skewY)}set skewYDeg(t){this.skewY=x3(t)}setSkewX(t){return this.skewX=t,this}setSkewY(t){return this.skewY=t,this}setSkew(t,r){return r===void 0&&(r=t),this.skewX=t,this.skewY=r,this}setSkewXDeg(t){return this.skewXDeg=t,this}setSkewYDeg(t){return this.skewYDeg=t,this}setSkewDeg(t,r){return r===void 0&&(r=t),this.skewXDeg=t,this.skewYDeg=r,this}}const bmt=Phaser.Utils.Objects.IsPlainObject,L0=Phaser.Utils.Objects.GetValue;class wmt extends Mmt{constructor(t,r,h,y,P){if(bmt(r)){var n=r;r=L0(n,"x",0),h=L0(n,"y",0),y=L0(n,"width",32),P=L0(n,"height",32)}var T=d5(t,y,P);super(t,r,h,T,null),this.type="rexSkewRenderTexture",this.rt=this.texture}destroy(t){!this.scene||this.ignoreDestroy||(super.destroy(t),this.rt.destroy(),this.rt=null)}}class H5 extends p5(wmt){get skewState(){return this.isRunning}}It.register("skew",function(e,t){return new H5(e,t)});Lt(window,"RexPlugins.UI.Skew",H5);It.register("anchor",function(e,t){return new lM(e,t)});Lt(window,"RexPlugins.UI.Anchor",lM);It.register("textTyping",function(e,t){return new Qx(e,t)});Lt(window,"RexPlugins.UI.TextTyping",Qx);It.register("textPage",function(e,t){return new Jx(e,t)});Lt(window,"RexPlugins.UI.TextPage",Jx);var Jf=void 0,Rmt=function(e){e!==Jf&&(Jf!==void 0&&Jf.close(),Jf=e)},Amt=function(e){e===Jf&&(Jf=void 0)};const Ha=Phaser.Utils.Objects.GetValue,Omt=Phaser.Utils.Objects.Clone;var Lmt=function(e,t){t===void 0&&(t={}),t=Omt(t);var r=e.scene,h=e.style,y=Ha(t,"backgroundColor",h.backgroundColor);y===null&&(y="transparent"),t.text=Ha(t,"text",e.text),t.fontFamily=Ha(t,"fontFamily",h.fontFamily),t.fontSize=Ha(t,"fontSize",h.fontSize),t.color=Ha(t,"color",h.color),t.backgroundColor=y,t.direction=Ha(t,"rtl",h.rtl)?"rtl":"ltr",t.align=Ha(t,"align",Fmt(h)),t.direction==="rtl"&&OM(e)&&(t.align="right");var P=e.padding;P.left>0&&(t.paddingLeft=`${P.left}px`),P.right>0&&(t.paddingRight=`${P.right}px`),h.backgroundCornerRadius&&(t.borderRadius=Ha(t,"borderRadius",`${h.backgroundCornerRadius}px`));var n=new Fx(r,e.x,e.y,Ha(t,"width",e.width),Ha(t,"height",e.height),t);n.setScale(e.scaleX,e.scaleY).setOrigin(e.originX,e.originY).setScrollFactor(e.scrollFactorX,e.scrollFactorY);var T=e.parentContainer;return T?T.add(n):r.add.existing(n),n},Fmt=function(e){return e.hasOwnProperty("align")?e.align:e.hasOwnProperty("halign")?e.halign:"left"},Dmt=function(e,t,r){return e.time.delayedCall(0,t,[],r)};const tu=Phaser.Utils.Objects.GetValue,Bmt=Phaser.Utils.Objects.Merge;var Imt=function(e,t){e===void 0&&(e={}),e=Bmt(e,this.openConfig),Rmt(this),pa(e)&&(t=e,e=void 0);var r=tu(e,"inputType",void 0);r===void 0&&(r=tu(e,"type","text")),t===void 0&&(t=tu(e,"onClose",void 0));var h=tu(e,"onCreate",void 0),y=tu(e,"onOpen",void 0),P=tu(e,"onTextChanged",void 0);return this.inputText=Lmt(this.parent,e),h&&h(this.parent,this.inputText),this.inputText.on("textchange",function(n){var T=n.text;P?P(this.parent,T):this.parent.text=T},this).setFocus(),this.parent.setVisible(!1),this.onClose=t,tu(e,"enterClose",r!=="textarea")&&this.scene.input.keyboard.once("keydown-ENTER",this.close,this),this.delayCall=Dmt(this.scene,function(){this.scene.input.once("pointerdown",this.close,this),y&&y(this.parent,this.inputText),this.emit("open",this.parent,this.inputText)},this),this},Gmt=function(){return Amt(this),this.parent.setVisible(!0),this.inputText&&(this.inputText.destroy(),this.inputText=void 0),this.delayCall&&(this.delayCall.remove(),this.delayCall=void 0),this.scene.input.keyboard.off("keydown-ENTER",this.close,this),this.scene.input.off("pointerdown",this.close,this),this.onClose&&this.onClose(this.parent),this.emit("close",this.parent),this},kmt={open:Imt,close:Gmt};const Nmt=Phaser.Utils.Objects.GetValue;class ey extends Hi{constructor(t,r){super(t),this.inputText=void 0,this.onClose=void 0,this.delayCall=void 0,this.setOpenConfig(r);var h=Nmt(r,"clickEnable",!0);h&&t.on("pointerdown",function(){this.open()},this).setInteractive()}shutdown(t){this.isShutdown||(this.close(),super.shutdown(t))}setOpenConfig(t){return t===void 0&&(t={}),this.openConfig=t,this}get isOpened(){return this.inputText!==void 0}get text(){return this.isOpened?this.inputText.text:this.parent.text}}Object.assign(ey.prototype,kmt);var zmt=function(e,t,r){return e._edit||(e._edit=new ey(e,{clickEnable:!1})),e._edit.open(t,r),e._edit};It.register("textEdit",function(e,t){return new ey(e,t)});Lt(window,"RexPlugins.UI.TextEdit",ey);It.register("layerManager",function(e){return new ox(this.scene,e)});Lt(window,"RexPlugins.UI.LayerManager",ox);class $5 extends Phaser.Plugins.ScenePlugin{constructor(t,r){super(t,r),this.add=new It(t)}boot(){var t=this.scene.events;t.on("destroy",this.destroy,this)}destroy(){this.add.destroy(),super.destroy()}isInTouching(t,r,h,y){return t.visible?Za(t,r,h,y):!1}get viewport(){return ad(this.scene,this.scene.cameras.main,!0)}}var Umt={getParentSizer:cs,getTopmostSizer:x4,removeFromParent:eu,hide:Uh,show:zh,isShown:dM,confirmAction:NI,edit:zmt,wrapExpandText:J0,fontSizeExpandText:j0,fontSizeResize:Q0,setFontSizeToFitWidth:Q0,waitEvent:ux,waitComplete:_r,delayPromise:eI,setChildrenInteractive:bx,fadeIn:gx,fadeOutDestroy:mx,easeMoveTo:O4,easeMoveFrom:L4,modal:pM,modalPromise:rit,modalClose:k4,requestDrag:A5,openFileChooser:rI};Object.assign($5.prototype,Umt);const Vmt={type:Phaser.AUTO,width:su.DISPLAY_WIDTH,height:su.DISPLAY_HEIGHT,parent:"game-container",backgroundColor:su.BACKGROUND_COLOR,scale:{mode:Phaser.Scale.FIT,autoCenter:Phaser.Scale.CENTER_BOTH},plugins:{scene:[{key:"rexUI",plugin:$5,mapping:"rexUI"}]},scene:[vP,tx,F3,gP]},Wmt=e=>new kv.Game({...Vmt,parent:e}),C3="game-container";function Ymt(){const e=Qf.useRef(null),t=Qf.useRef(null);return Qf.useLayoutEffect(()=>(t.current===null&&(t.current=Wmt(C3)),()=>{t.current&&(t.current.destroy(!0),t.current=null)}),[]),Mv.jsxDEV("div",{ref:e,id:C3},void 0,!1,{fileName:"/home/acheprasov/Projects/work/Fortune/app/src/game/PhaserGame.tsx",lineNumber:25,columnNumber:5},this)}function Xmt(){return Mv.jsxDEV("div",{id:"app",children:Mv.jsxDEV(Ymt,{},void 0,!1,{fileName:"/home/acheprasov/Projects/work/Fortune/app/src/App.tsx",lineNumber:7,columnNumber:7},this)},void 0,!1,{fileName:"/home/acheprasov/Projects/work/Fortune/app/src/App.tsx",lineNumber:6,columnNumber:5},this)}$E.createRoot(document.getElementById("root")).render(Mv.jsxDEV(gV.StrictMode,{children:Mv.jsxDEV(Xmt,{},void 0,!1,{fileName:"/home/acheprasov/Projects/work/Fortune/app/src/main.tsx",lineNumber:8,columnNumber:5},void 0)},void 0,!1,{fileName:"/home/acheprasov/Projects/work/Fortune/app/src/main.tsx",lineNumber:7,columnNumber:3},void 0));cV(()=>import("./eruda-CZQ0tOHQ.js"),[],import.meta.url).then(()=>{console.log("VITE_APP_UUID",su.APP_UUID)});export{cP as g};
